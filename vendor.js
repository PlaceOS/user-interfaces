(self.webpackChunkassistant_panel=self.webpackChunkassistant_panel||[]).push([["vendor"],{1556:(dn,Ne,_)=>{"use strict";_.d(Ne,{LJ:()=>Qe,Y9:()=>Pt,Zn:()=>Me,jG:()=>O,xB:()=>qt,yF:()=>Se,yd:()=>Ce});var d=_(521),A=_(7871),w=_(3277);function D(Vt,Tt){for(var Ot=0;Ot<Tt.length;Ot++){var ft=Tt[Ot];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(Vt,ft.key,ft)}}function C(Vt,Tt,Ot){return Tt&&D(Vt.prototype,Tt),Ot&&D(Vt,Ot),Vt}function S(){return S=Object.assign||function(Vt){for(var Tt=1;Tt<arguments.length;Tt++){var Ot=arguments[Tt];for(var ft in Ot)Object.prototype.hasOwnProperty.call(Ot,ft)&&(Vt[ft]=Ot[ft])}return Vt},S.apply(this,arguments)}function I(Vt,Tt){Vt.prototype=Object.create(Tt.prototype),Vt.prototype.constructor=Vt,E(Vt,Tt)}function E(Vt,Tt){return(E=Object.setPrototypeOf||function(Ot,ft){return Ot.__proto__=ft,Ot})(Vt,Tt)}var y={},$="/api/engine/v2/uploads";function R(){return $}function O(Vt,Tt){void 0===Tt&&(Tt=!1);var Ot=Tt?1e3:1024;if(Vt<Ot)return Vt+(Tt?" iB":" B");var ft=Math.floor(Math.log(Vt)/Math.log(Ot)),Re=(Tt?"kMGTPE":"KMGTPE").charAt(ft-1)+(Tt?"iB":"B");return(Vt/Math.pow(Ot,ft)).toFixed(1)+" "+Re}function M(Vt){var Tt="";Vt.length%2>0&&(Vt="0"+Vt);for(var Ot=0,ft=Vt.length;Ot<ft;Ot+=2)Tt+=String.fromCharCode(parseInt(Vt.slice(Ot,Ot+2),16));return Tt}function L(Vt){var Tt="";if(Vt)for(var Ot in Vt)Vt.hasOwnProperty(Ot)&&null!=Vt[Ot]&&(Tt+=(Tt?"&":"")+Ot+"="+encodeURIComponent(Vt[Ot]));return Tt}var z="",F="",J=function(){function Vt(Ot,ft){var Re=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Ot,this._endpoint=ft,this._abort_ctrl.signal.addEventListener("abort",function(){return Re._dispose?Re._dispose():""})}Vt.setToken=function(Ot){z=Ot},Vt.setApiKey=function(Ot){F=Ot};var Tt=Vt.prototype;return Tt.initialise=function(){try{var Ot,ft=this,Re=ft._abort_ctrl.signal,Ye=ft._upload,vt=Ye.file,It=Ye.mime_type;ft._params.file_size=""+vt.size,ft._params.file_name=vt.name,It&&"binary/octet-stream"!==It&&(ft._params.file_mime=It),ft._params=S({},ft._params,ft._upload.params),(null==(Ot=vt.dir_path)?void 0:Ot.length)>0&&(ft._params.file_path=vt.dir_path);var ot=ft.base_request_headers,st=L(ft._params);return Promise.resolve(fetch(ft._endpoint+"/new"+(st?"?"+st:""),{headers:ot,signal:Re})).then(function(Nt){return Nt.json()})}catch(Nt){return Promise.reject(Nt)}},Tt.create=function(Ot){try{var ft=this,Re=ft._abort_ctrl.signal,Ye=ft.base_request_headers;return Ot.file_id&&(ft._params.file_id=Ot.file_id),ft._upload.mime_type&&(ft._params.file_mime=Ot.mime_type),Ot.parameters&&(ft._params.parameters=Ot.parameters),Ot.permissions&&(ft._params.permissions=Ot.permissions),Ot.public&&(ft._params.public=Ot.public),Ot.expires&&(ft._params.expires=Ot.expires||0),Promise.resolve(fetch(""+ft._endpoint,{body:JSON.stringify(ft._params),method:"POST",headers:Ye,signal:Re})).then(function(vt){return Promise.resolve(vt.json()).then(function(It){return ft.upload_id=It.upload_id,It})})}catch(vt){return Promise.reject(vt)}},Tt.sign=function(Ot,ft){void 0===ft&&(ft="");try{var Re=this;if(!Re.upload_id)throw new Error("Upload resource not initialised");var Ye=Re._abort_ctrl.signal,vt=Re.base_request_headers,It=new URLSearchParams;return It.set("part",Ot.toString()),ft&&It.set("file_id",encodeURIComponent(ft)),Promise.resolve(fetch(Re._endpoint+"/"+Re.encoded_id+"/edit?"+It.toString(),{method:"GET",headers:vt,signal:Ye})).then(function(ot){return Promise.resolve(ot.json())})}catch(ot){return Promise.reject(ot)}},Tt.update=function(Ot){void 0===Ot&&(Ot={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Re=ft._abort_ctrl.signal,Ye=ft.base_request_headers;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{body:JSON.stringify(Ot),method:"PUT",headers:Ye,signal:Re})).then(function(vt){return Promise.resolve(vt.json())})}catch(vt){return Promise.reject(vt)}},Tt.signedRequest=function(Ot){try{return Promise.resolve(fetch(Ot.signature.url,{body:Ot.data,method:Ot.signature.verb,headers:Ot.signature.headers})).then(function(ft){return Promise.resolve(ft.text()).then(function(Re){var Ye={body:Re,responseXML:null};try{Ye.responseXML=(new window.DOMParser).parseFromString(Ye.body,"text/xml")}catch{}return Ye})})}catch(ft){return Promise.reject(ft)}},Tt.signNextChunk=function(Ot,ft,Re,Ye){void 0===Ye&&(Ye=null);try{var vt=this;if(!vt.upload_id)throw new Error("Upload resource not initialised");var It=vt._abort_ctrl.signal,ot={part_list:Re};Ye&&(ot.part_data=Ye);var st=vt.base_request_headers,Nt=L({part:""+Ot,file_id:ft,file_mime:vt._upload.mime_type});return Promise.resolve(fetch(vt._endpoint+"/"+vt.encoded_id+(Nt?"?"+Nt:""),{body:JSON.stringify(ot),method:Object.keys(ot).length>0?"PATCH":"PUT",headers:st,signal:It})).then(function(Ut){return Promise.resolve(Ut.json())})}catch(Ut){return Promise.reject(Ut)}},Tt.signChunk=function(Ot,ft){void 0===ft&&(ft=null);try{var Ye=this._abort_ctrl.signal,vt=this.base_request_headers,It=L({part:""+Ot,file_id:ft});return Promise.resolve(fetch(this._endpoint+"/edit"+(It?"?"+It:""),{headers:vt,signal:Ye})).then(function(ot){return Promise.resolve(ot.json())})}catch(ot){return Promise.reject(ot)}},Tt.updateStatus=function(Ot){void 0===Ot&&(Ot={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Re=ft._abort_ctrl.signal;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{headers:ft.base_request_headers,method:Object.keys(Ot).length>0?"PATCH":"PUT",body:JSON.stringify(Ot),signal:Re})).then(function(Ye){return Promise.resolve(Ye.json())})}catch(Ye){return Promise.reject(Ye)}},Tt.abort=function(){this._abort_ctrl.abort()},Tt.destroy=function(){this.abort();var Ot=new Headers;if(Ot.append("Accept","application/json"),z?Ot.append("Authorization","Bearer "+z):F&&Ot.append("X-API-Key",""+F),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:Ot,method:"DELETE"})},Tt.performSignedRequest=function(Ot,ft){var Re=this;return void 0===ft&&(ft=function(){}),new Promise(function(Ye,vt){var It=new XMLHttpRequest;It.upload.addEventListener("progress",function(Ut){return ft(Ut)}),It.addEventListener("load",function(Ut){ft(Ut),It.status>=200&&It.status<300||It.status===Ot.expected?Ye(It):vt(It.status+": "+It.statusText)});var ot=function(Ut){Re._upload.onError(Ut),vt(Ut)};It.addEventListener("error",function(){return ot(It.status+": "+(It.statusText||"unknown error"))}),It.addEventListener("abort",function(){return ot(It.statusText||"browser aborted")}),It.open(Ot.signature.verb,Ot.signature.url,!0);var st=Ot.signature.headers;for(var Nt in st)Nt in st&&It.setRequestHeader(Nt,st[Nt]);Re._dispose=function(){It.abort(),vt("user aborted")},It.send(Ot.data||null)})},C(Vt,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var Ot=new Headers;return Ot.append("Accept","application/json"),Ot.append("Content-Type","application/json"),z?Ot.append("Authorization","Bearer "+z):F&&Ot.append("X-API-Key",""+F),Ot}}]),Vt}(),ue=function(){function Vt(Ot,ft,Re,Ye,vt){void 0===Ye&&(Ye={}),void 0===vt&&(vt=R()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new d.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Ot,this.retries=ft,this.parallel=Re,this.params=Ye,this._endpoint=vt,this.mime_type=Ot?.type||this.mime_type}var Tt=Vt.prototype;return Tt.setAccessUrl=function(Ot){this._access_url=Ot},Tt.onProgress=function(Ot){var ft=this._state.getValue();this._state.next(S({},ft,{status:"uploading",uploaded:Ot,progress:Math.floor(Ot/this.file.size*1e3)/10}))},Tt.onComplete=function(){var Ot=this._state.getValue();this._state.next(S({},Ot,{status:"complete",progress:100}))},Tt.onError=function(Ot){var ft=this._state.getValue();this._state.next(S({},ft,{status:"error",error:Ot}))},Tt.resume=function(Ot){try{var ft=this,Re=ft._state.getValue(),Ye=function(){if(!["complete","uploading","cancelled"].includes(Re.status)){var vt=function(){var ot;null==(ot=ft._provider)||ot.start()};Ot&&(ft.parallel=Ot);var It=function(){if(!ft._provider)return ft._request=new J(ft,ft._endpoint),Promise.resolve(ft._request.initialise()).then(function(ot){var st=y[ot.residence]||null;st?(ft._provider=new st(ft._request,ft),ft._state.next(S({},Re,{status:"uploading"}))):ft.onError("No provider available to upload to")})}();return It&&It.then?It.then(vt):vt()}}();return Promise.resolve(Ye&&Ye.then?Ye.then(function(){}):void 0)}catch(vt){return Promise.reject(vt)}},Tt.pause=function(){var Ot,ft=this._state.getValue();"uploading"===ft.status&&(null==(Ot=this._provider)||Ot.pause(),this._state.next(S({},ft,{status:"paused"})))},Tt.cancel=function(){var Ot,ft=this._state.getValue();["complete","cancelled"].includes(ft.status)||("uploading"===ft.status&&(null==(Ot=this._provider)||Ot.destroy()),this._state.next(S({},ft,{status:"cancelled"})))},C(Vt,[{key:"id",get:function(){var Ot;return null==(Ot=this._request)?void 0:Ot.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Ot;return"waiting"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}},{key:"in_progress",get:function(){var Ot;return"uploading"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}},{key:"completed",get:function(){var Ot;return"complete"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}}]),Vt}(),ce=[],re=-1;function we(){return re+=1,ce[re%=3]}var j,Vt,Y={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},se=Y,W=[];function Ce(Vt){void 0===Vt&&(Vt={}),(se=S({},Y,Vt)).endpoint&&($=se.endpoint),function(Tt,Ot){var ft;void 0===Tt&&(Tt="/node_modules/ts-md5/dist/md5_worker.js"),(null==(ft=ce)?void 0:ft.length)>0&&ce.forEach(function(Ye){return Ye.terminate()}),ce=[];for(var Re=0;Re<3;Re+=1)ce.push(new w.LL(Tt,Ot))}(se.worker_url,se.worker_options),se.token&&J.setToken(se.token),se.api_key&&J.setApiKey(se.api_key),function Q(Vt){Vt.forEach(function(Tt){return function x(Vt,Tt){y[Vt]=Tt}(Tt.lookup,Tt)})}(se.providers)}function Me(Vt,Tt){if(void 0===Tt&&(Tt={}),!R())throw"No API endpoint set";var Ot=[];return Vt.forEach(function(ft){var Re=new ue(ft,se.retries,se.parallel,Tt);Ot.push(Re),W.push(Re),Re.metadata=se.metadata,Re.status.pipe((0,A.$)(function(Ye){return"complete"===Ye.status})).subscribe(function(Ye){return function(vt){var It=se.auto_start,ot=se.remove_after;se.auto_remove&&(ot?setTimeout(function(){return oe(vt)},ot):oe(vt));var st=W.filter(function(Nt){return Nt.waiting});It&&st.length&&Pe()&&st[0].resume(se.parallel)}(Re)}),se.auto_start&&Pe()&&Re.resume(se.parallel)}),Ot}function oe(Vt){Vt.cancel(),W=W.filter(function(Tt){return Tt!==Vt})}function Pe(){return W.filter(function(Vt){return Vt.in_progress}).length<se.simultaneous}(Vt=j||(j={}))[Vt.Paused=0]="Paused",Vt[Vt.Uploading=1]="Uploading",Vt[Vt.Completed=2]="Completed",Vt[Vt.Aborted=3]="Aborted";var Ve=function(){function Vt(Ot,ft){this._request=void 0,this._upload=void 0,this.state=j.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=Ot,this._upload=ft,this._file=this._upload.file,this.size=this._file.size}var Tt=Vt.prototype;return Tt.start=function(){this.state<j.Uploading&&(this._finalising?this._finalise():this._start())},Tt.pause=function(){for(var Ot in this._strategy&&this.state===j.Uploading&&!this._direct_upload?(this.state=j.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=j.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Ot].loaded!==this._progress[Ot].total&&(this._progress[Ot].loaded=0);this._updateProgress()},Tt.destroy=function(){void 0!==this._strategy&&this.state<j.Completed&&(this._request.destroy(),this._restart(),this.state=j.Aborted)},Tt._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Tt._makeRequest=function(Ot,ft){var Re=this;return ft.data=Ot.data,this._request.performSignedRequest(ft,function(Ye){return Re._onProgress(Ot.part,Ye)})},Tt._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Tt._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Tt._completePart=function(Ot){this._current_parts=this._current_parts.filter(function(ft){return ft!==Ot})},Tt._isComplete=function(Ot){var ft=this._progress[Ot]||{},Re=ft.loaded;return Re&&Re===ft.total},Tt._onProgress=function(Ot,ft){this._progress[Ot]=S({},ft),this._updateProgress()},Tt._onError=function(Ot){console.error("Error:",Ot),this.pause(),this._upload.onError(Ot)},Tt._updateProgress=function(){var Ot=0;for(var ft in this._progress)Ot+=this._progress[ft].loaded||0;this._upload.onProgress(Ot)},Tt._finalise=function(){try{var Ot=this;return Ot._request.updateStatus().then(function(){return Ot._upload.onComplete()},function(ft){return Ot._onError(ft)}),Promise.resolve()}catch(ft){return Promise.reject(ft)}},Tt._hashPart=function(Ot,ft,Re){try{var Ye=this,vt=Ye._memoization[Ot],It=ft();return Promise.resolve(vt?{data:It,md5:vt.md5,part:vt.part}:Re(It).then(function(ot){return Ye._memoization[Ot]=ot,{data:It,md5:ot.md5,part:ot.part}}))}catch(ot){return Promise.reject(ot)}},Tt._getPartData=function(){var Ot=this,ft=this._currentParts().filter(function(Ye){return"number"==typeof Ye}),Re=[];return ft.forEach(function(Ye){var vt=Ot._memoization[""+Ye];vt&&Re.push(vt)}),{part_list:ft,part_data:Re}},Vt}(),Qe=function(Vt){function Tt(){for(var ft,Re=arguments.length,Ye=new Array(Re),vt=0;vt<Re;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._part_size=5242880,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){try{var ft=this;return Promise.resolve(function(){if(void 0===ft._strategy)return ft.state=j.Uploading,ft._strategy=null,9999*ft._part_size<ft.size&&(ft._part_size=Math.floor(ft.size/9999),ft._part_size>5368709120)?(ft._upload.cancel(),void ft._onError("file exceeds maximum size")):Promise.resolve(ft._processPart(1).catch(function(Re){return ft._onError(Re)})).then(function(Re){if(Re&&ft.state===j.Uploading)return Promise.resolve(ft._request.create({file_id:window.btoa(M(Re.md5))}).catch(function(Ye){return ft._onError(Ye)})).then(function(Ye){Ye&&(ft._strategy=Ye.type,Ye.signature&&ft._upload.setAccessUrl((Ye.signature.url||"").split("?")[0]),"direct_upload"===Ye.type?ft._direct(Ye,Re):ft._resume(Ye,Re))})});ft.state===j.Paused&&ft._resume()}())}catch(Re){return Promise.reject(Re)}},Ot._processPart=function(ft){var Re=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Re.size>Re._part_size?((vt=ft*Re._part_size)>Re.size&&(vt=Re.size),Ye=Re._file.slice((ft-1)*Re._part_size,vt)):Ye=Re._file,Ye},function(Ye){return we().hash(Ye).then(function(vt){return{md5:vt,part:ft}})})},Ot._resume=function(ft,Re){void 0===ft&&(ft=null),void 0===Re&&(Re=null);try{var Ye,vt=this;return Promise.resolve(function(){if(ft)return function(){if("parts"!==ft.type)return Promise.resolve(vt._request.signedRequest(ft).catch(function(It){vt._restart(),vt._onError(It)})).then(function(It){if(It){var ot=It.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(vt._request.updateStatus({resumable_id:ot,file_id:window.btoa(M(Re.md5)),part:1}).catch(function(st){vt._restart(),vt._onError(st)})).then(function(st){if(st)for(vt._nextPartIndex(),vt._setPart(st,Re),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()})}});for(vt._pending_parts=ft.part_list,ft.part_data&&(vt._memoization=ft.part_data),Ye=0;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()}();for(Ye=0;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()}())}catch(It){return Promise.reject(It)}},Ot._generatePartManifest=function(){var ft,Re,Ye="<CompleteMultipartUpload>";for(ft=1;ft<1e4&&(Re=this._memoization[ft]);ft+=1)Ye+="<Part><PartNumber>"+ft+'</PartNumber><ETag>"'+Re.md5+'"</ETag></Part>';return Ye+"</CompleteMultipartUpload>"},Ot._nextPart=function(){var ft,Re=this,Ye=this._nextPartIndex();(Ye-1)*this._part_size<this.size?this._processPart(Ye).then(function(vt){Re.state===j.Uploading&&(ft=Re._getPartData(),Re._request.signNextChunk(Ye,window.btoa(M(vt.md5)),ft.part_list,ft.part_data).then(function(It){return Re._setPart(It,vt)},function(It){return Re._onError(It)}))},function(vt){return Re._onError(vt)}):1===this._currentParts().length&&this._currentParts()[0]===Ye?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.data=Re._generatePartManifest(),Re._request.signedRequest(vt).then(function(){return Re._finalise()},function(It){return Re._onError(It)})},function(vt){return Re._onError(vt)})):this._finishing||(this._completePart(Ye),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ot._setPart=function(ft,Re){var Ye=this;this._makeRequest(Re,ft).then(function(){Ye._completePart(Re?.part),Ye._nextPart()},function(vt){return Ye._onError(vt)})},Ot._direct=function(ft,Re){var Ye=this,vt=this._makeRequest(Re,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},function(It){return Ye._onError(It)})},Tt}(Ve);Qe.lookup="AmazonS3";var Pt=function(Vt){function Tt(){for(var ft,Re=arguments.length,Ye=new Array(Re),vt=0;vt<Re;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._partSize=2097152,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=j.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(Re){ft.state===j.Uploading&&ft._request.create({file_id:Re.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Re):ft._resume(Ye,Re)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===j.Paused&&this._resume()},Ot._processPart=function(ft){var Re=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Re.size>Re._partSize?((vt=ft*Re._partSize)>Re.size&&(vt=Re.size),Ye=Re._file.slice((ft-1)*Re._partSize,vt)):Ye=Re._file,Ye},function(Ye){return we().hash(Ye).then(function(vt){return{md5:window.btoa(M(vt)),part:ft}})})},Ot._resume=function(ft,Re){var Ye,vt=this;if(void 0===ft&&(ft=null),void 0===Re&&(Re=null),ft)if("parts"===ft.type)for(this._pending_parts=ft.part_list,Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:Re.md5,part:1}).then(function(It){for(vt._nextPartIndex(),vt._setPart(It,Re),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()},function(It){this._restart(),this._onError(It)});else for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()},Ot._generatePartManifest=function(){for(var ft='<?xml version="1.0" encoding="utf-8"?><BlockList>',Re=0;Re<5e4&&Re*this._partSize<this.size;Re+=1)ft+="<Latest>"+window.btoa(this._pad(Re+1))+"</Latest>";return ft+"</BlockList>"},Ot._pad=function(ft){for(var Re=ft.toString();Re.length<6;)Re="0"+Re;return Re},Ot._nextPart=function(){var ft=this,Re=this._nextPartIndex();(Re-1)*this._partSize<this.size?this._processPart(Re).then(function(Ye){ft.state===j.Uploading&&ft._request.signNextChunk(Re,Ye.md5,ft._currentParts()).then(function(vt){ft._setPart(vt,Ye)},ft._onError.bind(ft))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Re?(this._finishing=!0,this._request.sign("finish").then(function(Ye){Ye.data=ft._generatePartManifest(),ft._request.signedRequest(Ye).then(ft._finalise.bind(ft),ft._onError.bind(ft))},this._onError.bind(this))):this._finishing||(this._completePart(Re),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Ot._setPart=function(ft,Re){var Ye=this;this._makeRequest(Re,ft).then(function(){Ye._completePart(Re.part),Ye._nextPart()},this._onError.bind(this))},Ot._direct=function(ft,Re){var Ye=this,vt=this._makeRequest(Re,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},this._onError.bind(this))},Tt}(Ve);Pt.lookup="MicrosoftAzure";var Se=function(Vt){function Tt(){return Vt.apply(this,arguments)||this}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;void 0!==this._strategy&&this.state!==j.Paused||(this.state=j.Uploading,this._strategy=null,this._processPart(this._file).then(function(Re){ft.state===j.Uploading&&ft._request.create({file_id:Re.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Re):ft._resume(Ye,Re)},ft._onError.bind(ft))},this._onError.bind(this)))},Ot._processPart=function(ft,Re){return void 0===Re&&(Re=0),this._hashPart(Re.toString(),function(){return ft},function(Ye){return we().hash(Ye).then(function(vt){return{md5:window.btoa(M(vt)),part:Re}})})},Ot._resume=function(ft,Re){var Ye=this;this._request.signedRequest(ft).then(function(vt){if("status"===ft.type)if(vt.status===ft.expected){var It=parseInt(vt.getResponseHeader("Range").split("-")[1],10)+1;Ye._processPart(Ye._file.slice(It),It).then(function(ot){Ye.state===j.Uploading&&Ye._request.signChunk(It,ot.md5).then(function(st){Ye._performUpload(st,ot)},Ye._onError.bind(Ye))},Ye._onError.bind(Ye))}else Ye._finalise();else Ye._request.updateStatus({resumable_id:Ye._getQueryParams(vt.getResponseHeader("Location").split("?")[1]).upload_id,file_id:Re.md5,part:0}).then(function(ot){return Ye._performUpload(ot,Re)},function(ot){this._restart(),this._onError(ot)})},this._onError.bind(this))},Ot._performUpload=function(ft,Re){var Ye=this;this._makeRequest(Re,ft).then(function(){return Ye._finalise()},this._onError.bind(this))},Ot._direct=function(ft,Re){var Ye=this,vt=this._makeRequest(Re,ft);this._direct_upload=!0,vt.then(function(){Ye._finalise()},this._onError.bind(this))},Ot._getQueryParams=function(ft){ft=ft.split("+").join(" ");for(var Re,Ye={},vt=/[?&]?([^=]+)=([^&]*)/g;Re=vt.exec(ft);)Ye[decodeURIComponent(Re[1])]=decodeURIComponent(Re[2]);return Ye},Tt}(Ve);Se.lookup="GoogleCloudStorage";var qt=function(Vt){function Tt(){for(var ft,Re=arguments.length,Ye=new Array(Re),vt=0;vt<Re;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._partSize=2097152,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=j.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(Re){ft.state===j.Uploading&&ft._request.create({file_id:Re.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Re):ft._resume(Ye,Re)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===j.Paused&&this._resume()},Ot._processPart=function(ft){var Re=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Re.size>Re._partSize?((vt=ft*Re._partSize)>Re.size&&(vt=Re.size),Ye=Re._file.slice((ft-1)*Re._partSize,vt)):Ye=Re._file,Ye},function(Ye){return we().hash(Ye).then(function(vt){return{md5:vt,part:ft,size_bytes:Ye.size}})})},Ot._resume=function(ft,Re){var Ye,vt=this;if(void 0===ft&&(ft=null),void 0===Re&&(Re=null),ft)if("parts"===ft.type){if(this._pending_parts=ft.part_list,ft.part_data){var It;for(var ot in this._memoization=ft.part_data,this._memoization)this._memoization.hasOwnProperty(ot)&&((It=this._memoization[ot]).path||this._pending_parts.push(It.part));this._pending_parts=this._pending_parts.sort().filter(function(st,Nt,Ut){return!Nt||st!==Ut[Nt-1]})}for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:Re.md5,part:1}).then(function(st){for(vt._nextPartIndex(),vt._memoization[1].path=st.path,vt._setPart(st,Re),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()},function(st){this._restart(),this._onError(st)});else for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()},Ot._generatePartManifest=function(){for(var ft,Re=[],Ye=1;Ye<1e4&&(ft=this._memoization[Ye]);Ye+=1)Re.push({path:ft.path,etag:ft.md5,size_bytes:ft.size_bytes});return JSON.stringify(Re)},Ot._nextPart=function(){var ft,Re=this,Ye=this._nextPartIndex();(Ye-1)*this._partSize<this.size?this._processPart(Ye).then(function(vt){Re.state===j.Uploading&&(ft=Re._getPartData(),Re._request.signNextChunk(Ye,vt.md5,ft.part_list,ft.part_data).then(function(It){Re._memoization[Ye].path=It.path,Re._setPart(It,vt)},Re._onError.bind(Re)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ye?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.signature?(vt.data=Re._generatePartManifest(),Re._request.signedRequest(vt).then(Re._finalise.bind(Re),Re._onError.bind(Re))):Re._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Ye),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ot._setPart=function(ft,Re){var Ye=this;this._makeRequest(Re,ft).then(function(){Ye._completePart(Re.part),Ye._nextPart()},this._onError.bind(this))},Ot._direct=function(ft,Re){var Ye=this,vt=this._makeRequest(Re,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},this._onError.bind(this))},Tt}(Ve);qt.lookup="OpenStackSwift"},6677:(dn,Ne,_)=>{"use strict";_.d(Ne,{Of:()=>En,Rx:()=>$t,tk:()=>ve,mn:()=>Qe,b2:()=>Gn,sM:()=>Ni,Ay:()=>Sn});var d=_(2672),A=_(521),w=_(3119),D=_(7557),C=_(7405),S=_(8627),I=_(5443),E=_(3879);class x{constructor($e,We){this.keySelector=$e,this.flushes=We}call($e,We){return We.subscribe(new $($e,this.keySelector,this.flushes))}}class $ extends E.gn{constructor($e,We,Be){super($e),this.keySelector=We,this.values=new Set,Be&&this.add((0,E.tS)(Be,new E.zA(this)))}notifyNext(){this.values.clear()}notifyError($e){this._error($e)}_next($e){this.keySelector?this._useKeySelector($e):this._finalizeNext($e,$e)}_useKeySelector($e){let We;const{destination:Be}=this;try{We=this.keySelector($e)}catch(gt){return void Be.error(gt)}this._finalizeNext(We,$e)}_finalizeNext($e,We){const{values:Be}=this;Be.has($e)||(Be.add($e),this.destination.next(We))}}var R=_(3277);function O(){return(O=Object.assign||function(pt){for(var $e=1;$e<arguments.length;$e++){var We=arguments[$e];for(var Be in We)Object.prototype.hasOwnProperty.call(We,Be)&&(pt[Be]=We[Be])}return pt}).apply(this,arguments)}function M(pt,$e){(null==$e||$e>pt.length)&&($e=pt.length);for(var We=0,Be=new Array($e);We<$e;We++)Be[We]=pt[We];return Be}function L(pt,$e){var We=typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(We)return(We=We.call(pt)).next.bind(We);if(Array.isArray(pt)||(We=function(gt,Zt){if(gt){if("string"==typeof gt)return M(gt,void 0);var gn=Object.prototype.toString.call(gt).slice(8,-1);return"Object"===gn&&gt.constructor&&(gn=gt.constructor.name),"Map"===gn||"Set"===gn?Array.from(gt):"Arguments"===gn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gn)?M(gt,void 0):void 0}}(pt))||$e&&pt&&"number"==typeof pt.length){We&&(pt=We);var Be=0;return function(){return Be>=pt.length?{done:!0}:{done:!1,value:pt[Be++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z={},F={};function J(pt,$e,We){if(void 0===We&&(We=300),!(pt&&$e&&$e instanceof Function))throw new Error(pt?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");ue(pt),z[pt]=setTimeout(function(){$e(),delete z[pt]},We)}function ue(pt){z[pt]&&(clearTimeout(z[pt]),delete z[pt])}function ce(pt,$e){re(pt),F[pt]=$e}function re(pt){F&&F[pt]&&(F[pt]instanceof d.y?F[pt].unsubscribe():F[pt](),delete F[pt])}function we(pt,$e,We,Be,gt,Zt){if(void 0===Be&&(Be="debug"),void 0===gt&&(gt=!1),void 0===Zt&&(Zt="SVG VIEWER"),window.debug||gt){var gn,lt,Te=["color: #E91E63","color: #ffb300","color: default"];We?(gn=console)[Be].apply(gn,["%c["+Zt+"]%c["+pt+"] %c"+$e].concat(Te,[We])):(lt=console)[Be].apply(lt,["%c["+Zt+"]%c["+pt+"] %c"+$e].concat(Te))}}function j(pt){for(var $e,We=pt.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),Be=L(We);!($e=Be()).done;){var gt=$e.value;We.splice(We.indexOf(gt),1,[gt.replace(/^\\/g,"")])}return We.join(" ")}function Y(pt){return pt?pt instanceof MouseEvent?{x:pt.clientX,y:pt.clientY}:pt.touches&&pt.touches.length>0?{x:pt.touches[0].clientX,y:pt.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function W(pt,$e,We,Be){var gt,Zt;void 0===Be&&(Be=1);var gn=null==(gt=pt.element)?void 0:gt.querySelector(".svg-viewer__svg-overlays");if(null!=(Zt=pt.element)&&Zt.querySelector("svg")&&gn){var lt=We||gn?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,($e.x-lt.left)/lt.width*Be)),y:Math.max(0,Math.min(1,($e.y-lt.top)/lt.height*Be))}}return we("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function Q(pt,$e){return Math.sqrt(Math.pow(pt.x-$e.x,2)+Math.pow(pt.y-$e.y,2))}function Me(pt,$e,We){return{x:pt.x+($e.x-pt.x)*We,y:pt.y+($e.y-pt.y)*We}}function Xe(pt){if(!pt)return"";var $e=O({},pt);for(var We in $e)$e[We]instanceof Object&&($e[We]=""+$e[We]);return $e}function yt(pt){return pt<26?pt+65:pt<52?pt+71:pt<62?pt-4:62===pt?43:63===pt?47:65}var Je={top:0,left:0,bottom:0,right:0,height:0,width:0},je=function(){function pt($e){var We,Be,gt,Zt,gn,lt,Te;if(this.id=$e.id||"map-"+Math.floor(999999*Math.random()),this.url=$e.url||"local-"+R.VV.hashAsciiStr($e.svg_data||""),this.element=$e.element||null,this.labels=$e.labels||[],this.features=$e.features||[],this.actions=$e.actions||[],this.styles=$e.styles||{},this.svg_data=$e.svg_data||"",this.content_ratio=$e.content_ratio||{x:1,y:1},this.zoom=$e.zoom||1,this.center={x:null!=(We=null==(Be=$e.center)?void 0:Be.x)?We:.5,y:null!=(gt=null==(Zt=$e.center)?void 0:Zt.y)?gt:.5},this.rotate=$e.rotate||0,this.ratio=$e.ratio||1,this.svg_ratio=$e.svg_ratio||1,this.max_resolution=$e.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=$e.focus||null,this.options=$e.options||{},this.mappings=$e.mappings||{},this.box={top:($e.box||Je).top,left:($e.box||Je).left,height:($e.box||Je).height,width:($e.box||Je).width},this.desired_zoom=$e.desired_zoom||$e.zoom||this.zoom,this.desired_center={x:(null==(gn=$e.desired_center)?void 0:gn.x)||this.center.x,y:(null==(lt=$e.desired_center)?void 0:lt.y)||this.center.y},this.updated_count=($e.updated_count||0)+1,this.zoom!==this.desired_zoom){var rt=this.desired_zoom-this.zoom>=0?1:-1,Le=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),bt=Math.round(Le/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===Le?this.zoom+rt*Le:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*bt,y:this.center.y+(this.desired_center.y-this.center.y)*bt}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var Ft=this.desired_center.x-this.center.x>=0?1:-1,In=this.desired_center.y-this.center.y>=0?1:-1,On=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),ei=On/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+Ft*On,y:this.center.y+In*ei}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(Te=$e?.use_gpu)||Te}return pt.prototype.contains=function($e){this.svg_data.includes('id="'+$e+'"')},pt}(),X=new A.t([]),oe=new w.B7,_e=oe.pipe((0,S.p)(function(pt){return"resize"===pt}));function ve(pt){return X.getValue().find(function($e){return $e.id===pt})}function Ve(pt,$e){var We=Se();if(!((pt=We.find(function(gt){return gt.id===(pt instanceof je?pt.id:pt)}))instanceof je))return null;delete $e.url;var Be=new je(O({},pt,$e));return Pt(Be),Be.needs_update&&J(pt.id+"_updating",function(){return Ve(Be,{})},16),Be}function Qe(pt){return X.pipe((0,S.p)(function($e){return!!$e.find(function(We){return We.id===pt})}),(0,I.T)(function($e){return $e.find(function(We){return We.id===pt})}),function y(pt,$e){return We=>We.lift(new x(pt,$e))}())}function Pt(pt){var $e=Se().filter(function(We){return We.id!==pt.id});$e.push(pt),X.next($e)}function Se(){return X.getValue()}var qt,Vt,Tt,Ot,ft,Re,Ye,vt=new A.t({}),It={},ot=!1,st=!1,Nt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Ut=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],wt=!1;function ct(pt,$e,We){if(void 0===We&&(We=qt),!ot){st=!0;var Be=ve(pt);if(Be){var gt=Y($e),Zt={x:Math.max(0,Math.min(1,(gt.x-We.x)/Be.box.width/Be.desired_zoom/Be.svg_ratio+Be.center.x)),y:Math.max(0,Math.min(1,(gt.y-We.y)/Be.box.height/Be.desired_zoom/Be.svg_ratio+Be.center.y))};qt=gt,Ve(Be,{center:Zt,desired_center:Zt})}}}function ut(){we("INPUT","Ending pinch/pan..."),ue("pan_start"),ot=!1,st=!1,Ot&&window.removeEventListener("mousemove",Ot),ft&&window.removeEventListener("mouseup",ft),Re&&window.removeEventListener("touchmove",Re),Ye&&window.removeEventListener("touchend",Ye),Ot=ft=Re=Ye=Vt=null}window.addEventListener("blur",function(){return ut()});var Z=function(pt){try{return Promise.resolve(new Promise(function($e){vi[pt.id]||(vi[pt.id]=[]),vi[pt.id].push($e),J("resize-"+pt.id,function(){var We=pt.element;if(!We)throw new Error("No element set on viewer");var Be=We.querySelector(".svg-viewer__view-container"),gt=We.querySelector(".svg-viewer__svg-overlays"),Zt=We.querySelector("#"+pt.id),gn=We.querySelector(".svg-viewer"),lt=We.querySelector(".svg-viewer__svg-output"),Te=We.querySelector("iframe"),rt=gn?.getBoundingClientRect()||{},Le=Be?.getBoundingClientRect()||{};if(!(gt&&lt&&Te&&Be))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var bt,Ft,In=rt.height/rt.width,On=(null==(bt=lt.firstElementChild)||null==(Ft=bt.viewBox)?void 0:Ft.baseVal)||{},ei=On.height/On.width;lt.firstElementChild&&(lt.firstElementChild.style.width="200%");var pi=(rt.width-32)*Math.min(1,In/ei),zi={width:pi,height:pi*ei};gt.style.width=On.width+"px",gt.style.height=On.height+"px",Be.style.width=On.width+"px",Be.style.height=On.height+"px",Te.style.width=On.width+"px",Te.style.height=On.height+"px",Te.width=""+On.width,Te.height=""+On.height;var Ci=Math.min(rt.height/On.height,rt.width/On.width),Gi=Zt?.getBoundingClientRect(),Qn=gt?.getBoundingClientRect(),Ki={x:1,y:1};Gi&&Qn&&(Ki={x:Qn.width*Ci*.975/Gi.width,y:Qn.height*Ci*.975/Gi.height}),Wn[pt.id]="";var ur=Ve(pt,{ratio:zi.height/zi.width,svg_ratio:Ci,box:Le,content_ratio:Ki});return ur?(pt=ur,Promise.resolve(tn(pt).catch(function(or){return console.warn(or),!1})).then(function(or){or&&(vi[pt.id].forEach(function(Tr){return Tr()}),vi[pt.id]=[])})):Promise.resolve()}catch(or){return Promise.reject(or)}})},100)}))}catch($e){return Promise.reject($e)}},Fe={},pe={},at={},Gt={},nn={},Wn={},vi={};function tn(pt){return Fe[pt.id]||(Fe[pt.id]=new Promise(function($e){var We=requestAnimationFrame(function(){if(Fe[pt.id]){var Be=pt.element;if(!Be)throw new Error("No element set on viewer");var gt=Be.querySelector("style"),Zt="",gn=Be.querySelector(".svg-viewer__render-container"),lt="scale("+pt.zoom*pt.svg_ratio+")";if(!gn||!gt)throw new Error("Viewer is not setup yet.");var Te=100*pt.zoom*pt.svg_ratio*(pt.center.x-.5),rt=100*pt.zoom*pt.svg_ratio*(pt.center.y-.5);gn.style.transform=(pt.use_gpu?"translate3d("+Te+"%, "+rt+"%, 0)":"translate("+Te+"%, "+rt+"%)")+" "+lt+" rotate("+pt.rotate+"deg)",Zt+="#"+pt.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+pt.rotate+"deg) scale("+1/pt.zoom*(1/pt.svg_ratio)+"); }",gt.innerHTML=Zt+="#"+pt.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+pt.rotate+"deg); height: 100%; width: 100%; }",function Le(bt){try{if((JSON.stringify(O({},bt.styles))||"").localeCompare(Wn[bt.id])){var Ft=bt.element;if(!Ft)throw new Error("No element set on viewer");var In=Ft.querySelector(".svg-viewer__iframe");if(!In)throw new Error("No iframe created for viewer");if(!In.contentWindow)return In.onload=function(){setTimeout(function(){return Le(bt)},50),setTimeout(function(){return Le(bt)},500)},Promise.resolve();var On={};On["[empty"+Math.floor(999999*Math.random())+"]"]={};var ei=zt(O({},bt.styles,On));In.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:ei}),"*")}return Promise.resolve()}catch(pi){return Promise.reject(pi)}}(pt),function(Le){var bt=JSON.stringify(Le.focus);if(Le.focus&&bt!==It[Le.id]){var Ft,In=Math.max(.5,Math.min(10,Le.focus.zoom_level||1));Ft="string"==typeof Le.focus.location?function se(pt,$e,We){var Be,gt,Zt=null==(Be=pt.element)?void 0:Be.querySelector(".svg-viewer__svg-overlays"),gn=null==(gt=pt.element)?void 0:gt.querySelector("svg"),lt=gn?.querySelector("#"+j($e));if(lt&&gn&&Zt){var Te=We||Zt?.getBoundingClientRect()||{},rt=lt?.getBoundingClientRect()||{};return{x:(rt.left+rt.width/2-Te.left)/Te.width,y:(rt.top+rt.height/2-Te.top)/Te.height}}return we("DOM","Unable to find element with ID "+$e,void 0,"warn"),{x:-1,y:-1}}(Le,Le.focus.location):Le.focus.location,It[Le.id]=bt;var On={x:1-Ft.x,y:1-Ft.y};Ve(Le,{center:On,desired_center:On,zoom:In,desired_zoom:In})}}(pt),xt(pt),delete Fe[pt.id],cancelAnimationFrame(We),$e()}})})),Fe[pt.id]}function xt(pt){var $e,We,Be=null==($e=pt.element)?void 0:$e.querySelector("svg");if(Object.keys(pt.mappings||{}).length){var gt=null==(We=pt.element)?void 0:We.querySelector(".svg-viewer__svg-overlays");if(gt&&Be){if(!gt.getBoundingClientRect().width)return J(pt.id+"|render-overlays",function(){return xt(pt)},50);requestAnimationFrame(function(){(function(Zt){var gn=Zt.labels.filter(function(ur){return!ur.zoom_level||ur.zoom_level<=Zt.zoom}),lt=JSON.stringify(gn);if(lt!==at[Zt.id]){var Te,rt=null==(Te=Zt.element)?void 0:Te.querySelector(".svg-viewer__svg-overlays");if(!rt)return;Array.from(rt.querySelectorAll("[label]")).filter(function(ur){return ur.parentNode}).forEach(function(ur){return rt.removeChild(ur)});for(var Le,bt=L(gn);!(Le=bt()).done;){var Ft,In,On,ei=Le.value,pi={x:0,y:0},zi="~Nothing~";"string"==typeof ei.location?(pi=Zt.mappings[ei.location]||pi,zi="#"+ei.location):(null!=(Ft=ei.location)&&Ft.y||null!=(In=ei.location)&&In.x)&&(zi="loc-"+(pi=ei.location).x+"-"+pi.y);var Ci=document.createElement("div");Ci.setAttribute("label","true"),Ci.classList.add("svg-viewer__svg-overlay-item"),Ci.classList.add("label"),Ci.style.top=100*pi.y+"%",Ci.style.left=100*pi.x+"%";var Gi,Qn=document.createElement("div"),Ki=document.createElement("label");Ki.classList.add("svg-viewer__label"),Ki.setAttribute("for",zi),null!=(On=ei.css_class)&&On.length&&(Gi=Ki.classList).add.apply(Gi,ei.css_class),ei.z_index&&(Ci.style.zIndex=""+ei.z_index),Ki.textContent=ei.content,Qn.appendChild(Ki),Ci.appendChild(Qn),rt.appendChild(Ci)}we("RENDER","Added "+Zt.labels.length+" labels to view."),at[Zt.id]=lt}})(pt),function(Zt){var gn=JSON.stringify(Zt.actions.map(function(ei){return O({},ei,{callback:""})}));if(gn!==nn[Zt.id]){var lt,Te=null==(lt=Zt.element)?void 0:lt.querySelector(".svg-viewer__svg-overlays");if(!Te)return;Array.from(Te.querySelectorAll(".action-zone")).filter(function(ei){return ei.parentNode&&Te.contains(ei.parentNode)}).forEach(function(ei){return Te.removeChild(ei)});for(var rt,Le=L(Zt.actions);!(rt=Le()).done;){var bt=rt.value;if(bt.action&&bt.id&&"*"!==bt.id&&!1!==bt.zone){var Ft=document.createElement("button");Ft.id=""+bt.id;var In=Zt.mappings[bt.id]||{x:0,y:0},On=Zt.mappings[bt.id]||{w:0,h:0};Ft.classList.add("svg-viewer__svg-overlay-item"),Ft.classList.add("action-zone"),Ft.style.top=100*In.y+"%",Ft.style.left=100*In.x+"%",(On.w||On.h)&&(Ft.style.width=100*On.w+"%",Ft.style.height=100*On.h+"%",Ft.style.transform="translate(-50%, -50%)"),Te.appendChild(Ft)}}nn[Zt.id]=gn}}(pt),function(Zt){var gn=JSON.stringify(Zt.features.map(function(Gi){return O({},Gi,{content:"",data:Xe(Gi.data)})}));if(gn!==Gt[Zt.id]){var lt,Te=null==(lt=Zt.element)?void 0:lt.querySelector(".svg-viewer__svg-overlays");if(!Te)return console.log("Unable to get overlay element.");var rt=Te.querySelectorAll(".feature"),Le=[];window.overlay_el=Te,rt.forEach(function(Gi){if(Gi.parentNode){var Qn=Gi.getAttribute("track-id");"none"!==Qn&&Zt.features.find(function(Ki){return Ki.track_id===Qn})?Le.push(Gi):Te.removeChild(Gi)}});for(var bt,Ft=L(Zt.features);!(bt=Ft()).done;){var In,On,ei=bt.value;if(ei.content&&!Le.includes(ei.content)){var pi={x:0,y:0},zi={w:0,h:0},Ci=document.createElement("button");"string"==typeof ei.location?(Ci.id=""+ei.location,pi=Zt.mappings[ei.location]||pi,(ei.hover||ei.full_size)&&(zi=Zt.mappings[ei.location]||zi)):(null!=(In=ei.location)&&In.y||null!=(On=ei.location)&&On.x)&&(pi=ei.location),(pi.x||pi.y)&&(Ci.classList.add("svg-viewer__svg-overlay-item"),Ci.setAttribute("feature","true"),Ci.setAttribute("track-id",""+(ei.track_id||"none")),Ci.classList.add("feature"),ei.z_index&&(Ci.style.zIndex=""+ei.z_index),ei.hover&&Ci.classList.add("svg-viewer__svg-overlay-item__hover"),Ci.style.top=100*pi.y+"%",Ci.style.left=100*pi.x+"%",zi.w||zi.h?(Ci.style.width=100*zi.w+"%",Ci.style.height=100*zi.h+"%"):(Ci.style.width="1%",Ci.style.height=1/Zt.ratio+"%"),Ci.style.transform="translate(-50%, -50%)",ei.content instanceof Node&&Ci.appendChild(ei.content),Te.appendChild(Ci))}}we("RENDER","Added "+Zt.features.length+" features to view."),Gt[Zt.id]=gn}}(pt)})}}}function zt(pt){var $e="";for(var We in pt)if(pt[We]){var Be="";for(var gt in pt[We])pt[We][gt]&&(Be+=gt+": "+pt[We][gt]+"; ");$e+="svg "+We.split(" ").map(function(Zt){return j(Zt)}).join(" ")+" { "+Be+" } "}return $e}ce("on_resize",_e.subscribe(function(){for(var pt,$e=function(){var Be=pt.value;try{J("resize-"+Be.id,function(){return Z(Be)})}catch(gt){console.warn(gt)}},We=L(Se());!(pt=We()).done;)$e()}));var $t=function(pt){try{var $e=function(gt){return ce((We=new je(O({},pt,{svg_data:gt}))).id+"-render",Qe(We.id).subscribe(function(Zt){return tn(Zt).catch(function(gn){return console.warn(gn)})})),Pt(We),Promise.resolve(function(Zt){try{var gn,lt,Te=Zt.element;if(!Te)throw new Error("No element set on viewer");var rt=document.createElement("div"),Le=document.createElement("style"),bt=document.createElement("div"),Ft=document.createElement("div"),In=document.createElement("div"),On=document.createElement("div"),ei=document.createElement("iframe");Ft.appendChild(In),Ft.appendChild(On),rt.appendChild(Le),rt.appendChild(bt),bt.appendChild(Ft),rt.classList.add("svg-viewer"),rt.id=Zt.id,Le.id=Zt.id,ei.id="svg-display",ei.classList.add("svg-viewer__iframe"),bt.classList.add("svg-viewer__view-container"),Ft.classList.add("svg-viewer__render-container"),On.classList.add("svg-viewer__svg-overlays"),In.classList.add("svg-viewer__svg-output"),In.id="svg-output",In.innerHTML=Zt.svg_data;var pi=(null==(gn=In.firstElementChild)||null==(lt=gn.viewBox)?void 0:lt.baseVal)||{};bt.style.width=pi.width+"px",bt.style.height=pi.height+"px",On.style.width=pi.width+"px",On.style.height=pi.height+"px",On.appendChild(ei),Te.appendChild(rt);var zi=bt?.getBoundingClientRect()||{},Ci=Ve(Zt,{box:zi});return Ci?(Zt=Ci,Promise.resolve(function Gi(Qn){return new Promise(function(Ki){requestAnimationFrame(function(){var ur,or=null==(ur=Qn.element)?void 0:ur.querySelector("svg");if(!or||!or.clientWidth)return J(Qn.id+"-setup",function(){return Gi(Qn).then(function(Hr){return Ki()})},100);var Tr=pe[Qn.url]||function(Hr){if(!Hr)return{};var _s={},Ur=Hr?.getBoundingClientRect()||{},ys=Hr.querySelectorAll("[id]");return Hr.id="svg-viewer-root",_s["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},ys.forEach(function(Cs){var ss=Cs?.getBoundingClientRect()||{};_s[Cs.id]={x:Math.floor((ss.left+ss.width/2-Ur.left)/Ur.width*1e5)/1e5,y:Math.floor((ss.top+ss.height/2-Ur.top)/Ur.height*1e5)/1e5,w:Math.floor(ss.width/Ur.width*1e5)/1e5,h:Math.floor(ss.height/Ur.height*1e5)/1e5}}),_s}(or);pe[Qn.url]=Tr,Ve(Qn,{mappings:Tr}),or.style.display="none",function(Hr){try{var _s=JSON.stringify(O({},Hr.styles))||"";if(_s.localeCompare(Wn[Hr.id])){var Ur,ys,Cs=Hr.element;if(!Cs)throw new Error("No element set on viewer");var ss=Cs.querySelector(".svg-viewer__iframe"),Yi=Cs.querySelector(".svg-viewer__svg-output");if(!ss)throw new Error("No iframe created for viewer");var ar=(null==(Ur=Yi.firstElementChild)||null==(ys=Ur.viewBox)?void 0:ys.baseVal)||{},cr=""+Hr.svg_data;cr=/<svg[^>]*width="[^>]*>/.test(cr)?cr:cr.replace("<svg",'<svg width="'+ar.width+'" height="'+ar.height+'" ');var ji=function(ii){for(var Ge=2,Mt="",ne=ii.length,et=0,He=0;He<ne;He++)He>0&&4*He/3%76==0&&(Mt+="\r\n"),et|=ii[He]<<(16>>>(Ge=He%3)&24),2!==Ge&&ii.length-He!=1||(Mt+=String.fromCodePoint(yt(et>>>18&63),yt(et>>>12&63),yt(et>>>6&63),yt(63&et)),et=0);return Mt.substr(0,Mt.length-2+Ge)+(2===Ge?"":1===Ge?"=":"==")}(function(ii){for(var Ge,Mt,ne=ii.length,et=0,He=0;He<ne;He++){var kt;(Mt=null!=(kt=ii.codePointAt(He))?kt:0)>65536&&He++,et+=Mt<128?1:Mt<2048?2:Mt<65536?3:Mt<2097152?4:Mt<67108864?5:6}Ge=new Uint8Array(et);for(var Bt=0,Zn=0;Bt<et;Zn++){var Li;(Mt=null!=(Li=ii.codePointAt(Zn))?Li:0)<128?Ge[Bt++]=Mt:Mt<2048?(Ge[Bt++]=192+(Mt>>>6),Ge[Bt++]=128+(63&Mt)):Mt<65536?(Ge[Bt++]=224+(Mt>>>12),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt)):Mt<2097152?(Ge[Bt++]=240+(Mt>>>18),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Zn++):Mt<67108864?(Ge[Bt++]=248+(Mt>>>24),Ge[Bt++]=128+(Mt>>>18&63),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Zn++):(Ge[Bt++]=252+(Mt>>>30),Ge[Bt++]=128+(Mt>>>24&63),Ge[Bt++]=128+(Mt>>>18&63),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Zn++)}return Ge}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+zt(O({},Hr.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+cr+"</body></html>"));ss.src="data:text/html;base64,"+ji,Wn[Hr.id]=_s}Promise.resolve()}catch(ii){return Promise.reject(ii)}}(Qn),xt(Qn),Ki()})})}(Zt)).then(function(){(function(Gi,Qn){void 0===Qn&&(Qn=Nt);var Ki=vt.getValue(),ur=Gi.element;Ki[Gi.id]&&Ki[Gi.id].unsubscribe();for(var or,Tr=[],Hr=function(){var Ur=or.value;Tr.push((0,D.R)(ur,Ur).pipe((0,I.T)(function(ys){return{id:Gi.id,type:Ur,event:ys}})))},_s=L(Qn);!(or=_s()).done;)Hr();Ki[Gi.id]=C.h.apply(void 0,Tr).subscribe(function(Ur){var ys,cr,ji,Cs=Ur.id,ss=Ur.type,Yi=Ur.event;switch(Ut.includes(ss)&&Yi.preventDefault(),function(ar){var cr,ji=ar.type,ii=ar.event,Ge=ve(ar.id);if(Ge&&null!=(cr=Ge.actions)&&cr.length){var Mt=Ge.actions.sort(function(ne,et){return(et.priority||0)-(ne.priority||0)}).find(function(ne){var et;return ne.action.includes(ji)&&("*"===ne.id||ne.id===(null==(et=ii.target)?void 0:et.id))});Mt&&Mt.callback(ii,W(Ge,Y(ii)))}}(Ur),ss){case"touchstart":case"mousedown":(null==(ys=Yi.touches)?void 0:ys.length)>=2?function(ar,cr){we("INPUT","Starting pinching..."),Re&&window.removeEventListener("touchmove",Re);var ji=ve(ar);if(ot=!0,ji&&!ji.options.disable_zoom){var ii=[{x:cr.touches[0].clientX,y:cr.touches[0].clientY},{x:cr.touches[1].clientX,y:cr.touches[1].clientY}],Ge=ii.map(function(ne){return W(ji,ne)}),Mt={x:(Ge[0].x+Ge[1].x)/2,y:(Ge[0].y+Ge[1].y)/2};Vt={x:1-Mt.x,y:1-Mt.y},Tt=Q(ii[0],ii[1]),cr instanceof MouseEvent||(Re=function(ne){return ne.touches.length>=2?function(et,He,kt){void 0===kt&&(kt=Tt);var Bt=ve(et);if(Bt&&!Bt.options.disable_zoom){var Zn=[{x:He.touches[0].clientX,y:He.touches[0].clientY},{x:He.touches[1].clientX,y:He.touches[1].clientY}],Li=Q(Zn[0],Zn[1]),lr=Math.max(.5,Math.min(10,Bt.zoom*Li/kt)),kr=lr!=Bt.zoom?Me(Bt.center,Vt,1-Bt.zoom/lr):Bt.center;Tt=Li,Ve(Bt,{zoom:lr,center:kr,desired_zoom:lr,desired_center:kr})}}(ar,ne,Tt):""},window.addEventListener("touchmove",Re))}}(Cs,Yi):function(ar,cr){if(!ot){we("INPUT","Starting panning...");var ji=ve(ar);Ot&&window.removeEventListener("mousemove",Ot),Ot&&window.removeEventListener("mouseup",ft),Re&&window.removeEventListener("touchmove",Re),Re&&window.removeEventListener("touchend",Ye),ji&&!ji.options.disable_pan&&(qt=Y(cr),cr instanceof MouseEvent?(Ot=function(ii){return ct(ar,ii,qt)},ft=function(){return ut()},window.addEventListener("mousemove",Ot),window.addEventListener("mouseup",ft)):(Re=function(ii){return ct(ar,ii,qt)},Ye=function(){return ut()},window.addEventListener("touchmove",Re),window.addEventListener("touchend",Ye)),J("pan_start",function(){return st=!0},200))}}(Cs,Yi);break;case"touchend":case"mouseup":st||ot||(cr=Yi,(ji=ve(Cs))&&we("INPUT","Clicked:",W(ji,Y(cr)))),ut();break;case"mousewheel":case"wheel":!function(ar,cr){var ji=ve(ar);if(ji){var ii=Math.min(10,Math.max(.5,ji.zoom*(1+(cr.deltaY>=0?-.02:.02)))),Ge=W(ji,Y(cr));Vt={x:1-Ge.x,y:1-Ge.y},J("clear_action_start",function(){return Vt=null});var Mt=ii!=ji.zoom?Me(ji.center,Vt,1-ji.zoom/ii):ji.center;Ve(ji,{zoom:ii,center:Mt,desired_zoom:ii,desired_center:Mt})}}(Cs,Yi)}}),vt.next(Ki)})(Zt),wt||(window.addEventListener("resize",function(){oe.next("resize")}),window.addEventListener("blur",function(){return ut()}),wt=!0),Z(Zt)})):Promise.resolve()}catch(Gi){return Promise.reject(Gi)}}(We)).then(function(){return We.id})},We=Se().find(function(gt){return gt.url===pt.url});if(We)return Promise.resolve(We.id);var Be=pt.svg_data;return Promise.resolve(Be?$e(Be):Promise.resolve(function(gt){void 0===gt&&(gt="");try{var Zt=new Headers;if(gt.startsWith(location.origin)||gt.startsWith("/"))for(var gn in Nn)Zt.append(gn,Nn[gn]);return vn[gt]?Promise.resolve(vn[gt]):Promise.resolve(fetch(gt,{headers:Zt}).catch(function(lt){return we("SVG VIEWER","Failed to load map",lt,"error"),{text:function(){return Promise.resolve("")}}})).then(function(lt){return Promise.resolve(lt.text()).then(function(Te){return vn[gt]=Te,Te})})}catch(lt){return Promise.reject(lt)}}(pt.url)).then($e))}catch(gt){return Promise.reject(gt)}},vn={},Nn={};function Ni(pt){for(var $e in pt)Nn[$e.toLowerCase()]=pt[$e]}function Sn(pt,$e){return Ve(pt,$e)}function Gn(pt){var $e,We=ve(pt);if(We){var Be,gt,Zt,gn=null==($e=We.element)?void 0:$e.querySelector(".svg-viewer");gn&&(We.element.removeChild(gn),Be=We,gt=Se().filter(function(lt){return lt.id!==Be.id}),X.next(gt),Zt=""+pt,Object.keys(F).filter(function(lt){return lt.includes(Zt)}).forEach(function(lt){return re(lt)}))}}function En(){var pt=document.getElementById("svg-viewer-global");pt||((pt=document.createElement("style")).id="svg-viewer-global",pt.innerHTML=Kn,document.head.appendChild(pt),we("Styles","Added global viewer styles to document"))}var Kn="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},118:(dn,Ne,_)=>{"use strict";function R(B,G,me,dt){return new(me||(me=Promise))(function(pn,Ln){function Ai(ms){try{Fi(dt.next(ms))}catch(yo){Ln(yo)}}function Ri(ms){try{Fi(dt.throw(ms))}catch(yo){Ln(yo)}}function Fi(ms){ms.done?pn(ms.value):function Qt(pn){return pn instanceof me?pn:new me(function(Ln){Ln(pn)})}(ms.value).then(Ai,Ri)}Fi((dt=dt.apply(B,G||[])).next())})}_.d(Ne,{cor:()=>Fn,Pdm:()=>la,kMc:()=>Mc,Kz4:()=>ds,kup:()=>Io,jv5:()=>Le,L2z:()=>kr,omv:()=>gt,yHY:()=>ia,JtY:()=>Zl,f_4:()=>Mp,XTx:()=>ya,vWy:()=>_a,TMs:()=>No,sc7:()=>Ho,WsZ:()=>Ui,rig:()=>fc,s_7:()=>Xu,XYg:()=>Ga,F6F:()=>Ko,bEY:()=>jo,yJg:()=>Ys,smE:()=>eh,BbB:()=>Lt,Kfl:()=>cn,n1$:()=>Ro,smM:()=>Rl,Be_:()=>Jr,$gJ:()=>vs,bt6:()=>kh,BCG:()=>Zr,mjH:()=>yl,bpY:()=>_t,V4n:()=>Hn,VLL:()=>Js,_Ni:()=>Ku,ShT:()=>Er,D58:()=>on,TKu:()=>Is}),"function"==typeof SuppressedError&&SuppressedError;var _e=_(6651),ve=_(1536),at=_(434),Gt=_(2672),nn=_(2677);
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
      
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
      
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */function Wn(B,G={}){const{selector:me}=G,dt=function Pt(B,G){var me={};for(var dt in B)Object.prototype.hasOwnProperty.call(B,dt)&&G.indexOf(dt)<0&&(me[dt]=B[dt]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var Qt=0;for(dt=Object.getOwnPropertySymbols(B);Qt<dt.length;Qt++)G.indexOf(dt[Qt])<0&&Object.prototype.propertyIsEnumerable.call(B,dt[Qt])&&(me[dt[Qt]]=B[dt[Qt]])}return me}(G,["selector"]);return new at.c(Qt=>{const pn=new AbortController,Ln=pn.signal;let Ai=!0,Ri=!1;const Fi=new Gt.y;let ms;if(Fi.add(()=>{Ri=!0,Ai&&pn.abort()}),dt){if(dt.signal)if(dt.signal.aborted)pn.abort();else{const yo=dt.signal,ho=()=>{Ln.aborted||pn.abort()};yo.addEventListener("abort",ho),Fi.add(()=>yo.removeEventListener("abort",ho))}ms=Object.assign({},dt,{signal:Ln})}else ms={signal:Ln};return fetch(B,ms).then(yo=>{me?Fi.add((0,nn.H)(me(yo)).subscribe(ho=>Qt.next(ho),ho=>{Ai=!1,Ri||Qt.error(ho)},()=>{Ai=!1,Qt.complete()})):(Ai=!1,Qt.next(yo),Qt.complete())}).catch(yo=>{Ai=!1,Ri||Qt.error(yo)}),Fi})}var vi=_(8627),sn=_(3602),tn=_(1963),xt=_(3119),zt=_(3879);class vn{constructor(G,me){this.notifier=G,this.source=me}call(G,me){return me.subscribe(new Nn(G,this.notifier,this.source))}}class Nn extends zt.gn{constructor(G,me,dt){super(G),this.notifier=me,this.source=dt}error(G){if(!this.isStopped){let me=this.errors,dt=this.retries,Qt=this.retriesSubscription;if(dt)this.errors=void 0,this.retriesSubscription=void 0;else{me=new xt.B7;try{const{notifier:pn}=this;dt=pn(me)}catch(pn){return super.error(pn)}Qt=(0,zt.tS)(dt,new zt.zA(this))}this._unsubscribeAndRecycle(),this.errors=me,this.retries=dt,this.retriesSubscription=Qt,me.next(G)}}_unsubscribe(){const{errors:G,retriesSubscription:me}=this;G&&(G.unsubscribe(),this.errors=void 0),me&&(me.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:G}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=G,this.source.subscribe(this)}}var Ni=_(3107),Sn=_(3398),Gn=_(5522),En=_(521),Kn=_(5443),pt=_(3277);function $e(B,G,me,dt="debug",Qt){if(window.debug){const Ln=["color: #0288D1",`color:${Qt||"#009688"}`,"color: default"];me?We()?console[dt](`%c[PlaceOS]%c[${B}] %c${G}`,...Ln,me):console[dt](`[PlaceOS][${B}] ${G}`,me):We()?console[dt](`%c[PlaceOS]%c[${B}] %c${G}`,...Ln):console[dt](`[PlaceOS][${B}] ${G}`)}}function We(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function Be(){var B,G,me,dt,Qt,pn;const Ln=null!==(B=window.location)&&void 0!==B&&B.hash?null===(G=window.location)||void 0===G?void 0:G.hash.slice(1):(null===(me=window.location)||void 0===me?void 0:me.href.split("#")[1])||"";let Ai=null!==(dt=window.location)&&void 0!==dt&&dt.search?null===(Qt=window.location)||void 0===Qt?void 0:Qt.search.slice(1):(null===(pn=window.location)||void 0===pn?void 0:pn.href.split("?")[1])||"",Ri={};if(Ln)if(Ln.indexOf("?")>=0){const ms=Ln.split("?");Ri=gt(ms[0]),Ai||(Ai=ms[1])}else Ri=gt(Ln);let Fi={};return Ai&&(Fi=gt(Ai)),Object.assign(Object.assign({},Ri),Fi)}function gt(B){const G={},me=B.split("&");for(const dt of me){const Qt=dt.split("=");Qt[1]&&(G[decodeURIComponent(Qt[0])]=decodeURIComponent(Qt[1]))}return G}const Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function lt(B){var G,me,dt,Qt,pn;const Ln=((null===(G=window.location)||void 0===G?void 0:G.hash)||"").replace(new RegExp(`${B}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),Ai=((null===(me=window.location)||void 0===me?void 0:me.search)||"").replace(new RegExp(`${B}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(dt=window.history)&&void 0!==dt&&dt.replaceState&&(null===(Qt=window.history)||void 0===Qt||Qt.replaceState(null,"",`${null===(pn=window.location)||void 0===pn?void 0:pn.pathname}${Ln}${Ai}`))}function Le(B,G){for(const me in B)B.hasOwnProperty(me)&&G.indexOf(B[me])>=0&&delete B[me];return B}class On{abort(){$e("Stub","Aborted")}}function ei(B){let G="";if(B)for(const me in B)B.hasOwnProperty(me)&&null!=B[me]&&(G+=`${G?"&":""}${me}=${encodeURIComponent(B[me])}`);return G}const pi={};function Qn(B,G,me=300){if(!(B&&G&&G instanceof Function))throw new Error(B?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");Ki(B),pi[B]=setTimeout(()=>{G(),delete pi[B]},me)}function Ki(B){pi[B]&&(clearTimeout(pi[B]),delete pi[B])}const _s={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var Ur=_(4938),ys=_(9533),Cs=_(5882),ss=_(5859);let ar,cr,Yi={};const ji={};let ii="",Ge="";const Mt=new En.t(""),ne=new En.t("");let et="/api/engine/v2";const He=new En.t(!1),kt=He.asObservable();let Bt=0;function Zn(){var B,G;return`${Yi.secure||(null===(B=window.location)||void 0===B?void 0:B.protocol.indexOf("https"))>=0?"https:":"http:"}//${Yi.host||(null===(G=window.location)||void 0===G?void 0:G.host)}${Li()}`}function Li(){return"ACA Engine"===Yi.version?"/control/api":et}function kr(){return ii}function Zr(B,G=!0){ar.setItem(`${ii}_x-api-key`,`${B}`),ar.setItem("trusted",`${G}`),function Os(B,G=(0,ys.L)(new Date,2).valueOf()){Yi.ignore_api_key&&"x-api-key"===B||(ar.setItem(`${ii}_expires_at`,`${G}`),ar.setItem(`${ii}_access_token`,B))}("x-api-key",(0,Ur.e)(new Date,5).valueOf())}function ds(){return ea("x-api-key",!1)||""}function Er(B=!0){if(Yi.mock)return"mock-token";if(!ar)return"";if(ds()&&!Yi.ignore_api_key)return"x-api-key";const G=ar.getItem(`${ii}_expires_at`)||"",me=Mt.getValue();return(0,Cs.Y)(+G,new Date)&&($e("Auth","Token expired. Requesting new token..."),ya(),ji.load_authority||(Bt+=1,Qn("re-authorise",()=>Ra().catch(dt=>$e("Auth",`Failed to get token: ${dt}`)),200*Math.min(20,Bt))),!B)?"":me||ar.getItem(`${ii}_access_token`)||""}function Jr(){return ne.getValue()||ar.getItem(`${ii}_refresh_token`)||""}function Ss(){var B;return Yi.host||(null===(B=window.location)||void 0===B?void 0:B.host)}function Io(){return cr}function Ho(){return He.getValue()}function No(){return!!Yi.mock}function Ga(){return kt}function Ka(){return"true"===ea("trust")||"true"===ea("trusted")}function _a(){return!!ds()&&!Yi.ignore_api_key||"true"===ea("fixed_device")}function ea(B,G=!0){let dt=Be()[B];if(ar){const Qt=`${kr()}_${B}`;dt=dt||ar.getItem(Qt)||ar.getItem(B)||"",G&&ar.setItem(Qt,`${dt}`)}return dt}function yl(B){var G;return Yi=B||Yi,Yi.token_header=null!==(G=Yi.token_header)&&void 0!==G?G:function Ft(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=On),ar="session"===Yi.storage?sessionStorage:localStorage,ii=pt.VV.hashStr(Yi.redirect_uri,!1),Na()}function Oa(){return $e("Auth","Refreshing authorty."),cr=void 0,Na()}function ya(){$e("Auth","Invalidating tokens."),ar.removeItem(`${ii}_access_token`),ar.removeItem(`${ii}_expires_at`),Mt.getValue()&&Mt.next("")}function Ra(B,G=cr){return ji.authorise||(ji.authorise=new Promise((me,dt)=>{if(!G)return delete ji.authorise,dt("Authority is not loaded");$e("Auth","Authorising user...");const Qt=()=>{if(Er(!1))$e("Auth","Valid token found."),delete ji.authorise,me(Er());else{const pn=[()=>{$e("Auth","Successfully generated token."),me(Er()),delete ji.authorise},()=>{$e("Auth","Failed to generate token."),dt("Failed to generate token"),setTimeout(()=>delete ji.authorise,200)}];Yi&&"password"===Yi.auth_type?($e("Auth","Logging in with credentials."),function wo(B){return Pa(function Po(B){return`${B.token_uri||"/auth/token"}?${ei({grant_type:"password",client_id:ii,client_secret:B.client_secret,redirect_uri:B.redirect_uri,authority:cr?.id,scope:B.scope,username:B.username,password:B.password})}`}(B))}(Yi).then(...pn),Bt=0):Ge||Jr()?($e("Auth","Generating token with "+(Ge?"code":"refresh token")),bo().then(...pn),Bt=0):G.session?($e("Auth","Users has session. Authorising application..."),function Bl(B){return R(this,void 0,void 0,function*(){var G;const me=function ta(B){const G=function Il(){const B=function gn(B=40){let G="";for(let me=0;me<B;me++)G+=Zt.charAt(Math.floor(Math.random()*Zt.length));return G}();return ar.setItem(`${ii}_nonce`,B),B}();B=B?`${G};${B}`:G;const me=!!Yi&&(Yi.auth_uri||"").indexOf("?")>=0,dt=(Yi?Yi.auth_uri:null)||"/auth/oauth/authorize",Qt=Ka()||"auth_code"===Yi.auth_type?"code":"token";let pn=`${dt}${me?"&":"?"}response_type=${encodeURIComponent(Qt)}&client_id=${encodeURIComponent(ii)}&state=${encodeURIComponent(B)}&redirect_uri=${encodeURIComponent(Yi.redirect_uri)}&scope=${encodeURIComponent(Yi.scope)}`;if("auth_code"===Yi.auth_type){const{challenge:Ln,verify:Ai}=function oo(B=43){const G=new Array(B).fill(0).map(()=>Gs[Math.floor(Math.random()*Gs.length)]).join(""),me=Sn.Kp(Sn.Cw(G));return{challenge:G,verify:Sn.if(Gn.hash(me)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${ii}_challenge`,Ln),pn+="&code_challenge_method=S256",pn+=`&code_challenge=${Ai}`}return pn}(B);if(Yi.use_iframe)return function $r(B){return ji.iframe_auth||(ji.iframe_auth=new Promise((G,me)=>{$e("Auth","Authorizing in an iFrame...");const dt=document.createElement("iframe");dt.style.position="absolute",dt.style.top="0",dt.style.left="0",dt.style.height="1px",dt.style.width="1px",dt.style.zIndex="-1",dt.id="place-authorize",dt.src=`${B}`;const Qt=pn=>{var Ln;if(pn.origin===(null===(Ln=window.location)||void 0===Ln?void 0:Ln.origin)&&"place-os"===pn.data.type){const Ai=pn.data;if($e("Auth","Received credentials from iFrame..."),document.body.removeChild(dt),Ki("iframe_auth"),window.removeEventListener("message",Qt),delete ji.iframe_auth,Ai.token)return G(),Go(Object.assign({access_token:Ai.token},Ai));Ge=Ai.code||"",bo().then(Ri=>G(Ri),Ri=>me(Ri))}};Qn("iframe_auth",()=>{$e("Auth","Unable to resolve iFrame after 15 seconds..."),me()},15e3),window.addEventListener("message",Qt),dt.onerror=pn=>{$e("Auth","iFrame error.",pn),delete ji.iframe_auth,me()},document.body.appendChild(dt)})),ji.iframe_auth}(me);null===(G=window.location)||void 0===G||G.assign(me)})}(B).then(...pn)):($e("Auth","No user session"),so(G),dt("No user session"),setTimeout(()=>delete ji.authorise,200))}};(function Hs(){return ji.check_token||(ji.check_token=new Promise((B,G)=>R(this,void 0,void 0,function*(){Er()?($e("Auth","Valid token found."),B(Er())):($e("Auth","No token. Checking URL for auth credentials..."),(yield function Ql(){return ji.check_params||(ji.check_params=new Promise(B=>{$e("Auth","Checking for auth parameters...");let G=Be();if((!G||Object.keys(G).length<=0)&&sessionStorage&&(G=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),G&&(G.code||G.access_token||G.refresh_token)){G.code&&(Ge=G.code,lt("code")),G.refresh_token&&(ar.setItem(`${ii}_refresh_token`,G.refresh_token),lt("refresh_token"));const me=ar.getItem(`${ii}_nonce`)||"",dt=(G.state||"").split(";");lt("state"),lt("token_type"),me===dt[0]?(Go(G),B(!!G.access_token)):B(!1)}else B(!1);Qn("check_params_promise",()=>delete ji.check_params,50)})),ji.check_params}())?B(!0):G()),delete ji.check_token}))),ji.check_token})().then(Qt,Qt)})),ji.authorise}function fc(){const B=()=>{for(let me=0;me<ar.length;me++){const dt=ar.key(me);dt&&dt.indexOf(ii)>=0&&ar.removeItem(dt)}const G=cr?cr.logout_url:"/logout";setTimeout(()=>{var me;return null===(me=window.location)||void 0===me?void 0:me.assign(G)},300),He.next(!1)};(function rl(){return ji.revoke_token||(ji.revoke_token=new Promise((B,G)=>{$e("Auth","Revoking token...");const dt=Qt=>{$e("Auth","Error revoking token.",Qt),G(Qt),delete ji.revoke_token};Wn(`${Yi.token_uri||"/auth/token"}?token=${Er()}`,{method:"POST"}).subscribe(Qt=>{if(!Qt.ok)return dt(Qt);$e("Auth","Successfully revoked token."),Mt.next(""),ne.next(""),ar.removeItem(`${ii}_access_token`),ar.removeItem(`${ii}_refresh_token`),B(),delete ji.revoke_token},dt)})),ji.revoke_token})().then(B,B)}function Na(B=0){return ji.load_authority||(ji.load_authority=new Promise(G=>{var me;if(He.next(!1),Yi.mock)return cr=_s,$e("Auth","System in mock mode"),He.next(!0),void G();$e("Auth",`Fixed: ${_a()} | Trusted: ${Ka()}`),$e("Auth","Loading authority...");const dt=Yi.secure||(null===(me=window.location)||void 0===me?void 0:me.protocol.indexOf("https"))>=0,Qt=pn=>{$e("Auth",`Failed to load authority(${pn})`),He.next(!1),Qn("load_authority",()=>{delete ji.load_authority,Na(B).then(Ln=>G())},300*Math.min(20,++B))};Wn(`${dt?"https:":"http:"}//${Ss()}/auth/authority`,{credentials:"same-origin"}).subscribe(pn=>R(this,void 0,void 0,function*(){if(!pn.ok)return Qt(yield pn.text().catch(Ai=>Ai));cr=yield pn.json(),et=/[2-9]\.[0-9]+\.[0-9]+/g.test(cr.version||"")?"/api/engine/v2":"/control/api",$e("Auth","Loaded authority.",[],"group"),cr&&($e("Auth",`Name: ${cr.name}`),$e("Auth",`Version: ${cr.version}`),$e("Auth",`Domain: ${cr.domain}`),$e("Auth",`Session: ${cr.session}`),$e("Auth",`Production: ${cr.production}`),$e("Auth",`Config Keys: ${Object.keys(cr.config||{}).length}`)),$e("Auth","",[],"groupEnd");const Ln=()=>{He.next(!0),$e("Auth","Application set online."),G()};delete ji.load_authority,Ra("").then(Ln,Ln)}),Qt)})),ji.load_authority}let Rr=!1;function so(B){var G,me;if(!1!==Yi.handle_login&&!Rr){$e("Auth","Redirecting to login page...");const dt=null===(G=B.login_url)||void 0===G?void 0:G.replace("{{url}}",encodeURIComponent(null===(me=window.location)||void 0===me?void 0:me.href));throw setTimeout(()=>{var Qt;return null===(Qt=window.location)||void 0===Qt?void 0:Qt.assign(dt)},300),Rr=!0,new Error("Redirecting to login page...")}$e("Auth","Login being handled locally."),delete ji.authorise}const Gs="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function bo(){return Pa(...function va(){let G=(Yi.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(ii)}`,me="";if(G+=`&redirect_uri=${encodeURIComponent(Yi.redirect_uri)}`,Jr()){G+=`&refresh_token=${encodeURIComponent(Jr())}`,G+="&grant_type=refresh_token";const dt=G.split("?");G=dt[0],me=dt[1]}else{G+=`&code=${encodeURIComponent(Ge)}`,G+="&grant_type=authorization_code";const dt=sessionStorage.getItem(`${ii}_challenge`);dt&&(G+=`&code_verifier=${dt}`,sessionStorage.removeItem(`${ii}_challenge`)),Ge=""}return[G,me]}())}function Pa(B,G=""){return ji.generate_tokens||(ji.generate_tokens=new Promise((me,dt)=>{$e("Auth","Generating new token...");const Qt=pn=>{$e("Auth","Error generating new tokens.",pn),ar.removeItem(`${ii}_refresh_token`),ne.next(""),dt(),delete ji.generate_tokens};Wn(B,{method:"POST",body:G,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(pn=>R(this,void 0,void 0,function*(){if(!pn.ok)return Qt(pn);Go(yield pn.json()),me(),delete ji.generate_tokens}),Qt)})),ji.generate_tokens}function Go(B){const G=(0,ss.p)(new Date,Math.max(60,parseInt(B.expires_in,10)-300));$e("Auth","Tokens generated storing..."),Ka()&&(B.access_token&&(ar.setItem(`${ii}_access_token`,B.access_token),lt("access_token")),B.refresh_token&&(ar.setItem(`${ii}_refresh_token`,B.refresh_token),lt("refresh_token"))),B.expires_in&&(ar.setItem(`${ii}_expires_at`,`${G.valueOf()}`),lt("expires_in")),He.next(!0),Mt.next(B.access_token||""),ne.next(B.refresh_token||"")}var ba=_(9277);const Ar={};function vs(B,G=Ar){!function na(B,G,me=Ar){const dt=`${B}|${G}`;me[dt]&&(delete me[dt],$e("HTTP(M)",`- ${B} ${G}`))}(B.method,B.path,G);const me=`${B.method}|${B.path}`,dt=B.path.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("/"),Qt=Object.assign(Object.assign({},B),{path_parts:dt,path_structure:dt.map(pn=>":"===pn[0]?pn.replace(":",""):"")});G[me]=Qt,$e("HTTP(M)",`+ ${B.method} ${B.path}`)}function Xa(B,G,me,dt=Ar){const Qt=function Ya(B,G,me=Ar){const Qt=G.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),pn=Object.keys(me).reduce((Ln,Ai)=>(0===Ai.indexOf(`${B}|`)&&Ln.push(me[Ai]),Ln),[]);for(const Ln of pn)if(Ln.path_structure.length===Qt.length){let Ai=!0;for(let Ri=0;Ri<Ln.path_structure.length;Ri++)if(!Ln.path_structure[Ri]&&Ln.path_parts[Ri]!==Qt[Ri]){Ai=!1;break}if(Ai)return Ln}return null}(B,G,dt);if(Qt){const pn=function sl(B,G,me){const dt=B.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Qt=dt[0].replace(/^\//g,""),Ln=gt(dt[1]||""),Ai=Qt.split("/"),Ri={};for(const ms of G.path_structure)ms&&(Ri[ms]=Ai[G.path_structure.indexOf(ms)]);const Fi={url:B,path:G.path,method:G.method,metadata:G.metadata,route_params:Ri,query_params:Ln,body:me};return $e("HTTP(M)",`MATCHED ${Fi.method}:`,Fi),Fi}(G,Qt,me);return function Oi(B,G){const me=B.callback?B.callback(G):B.metadata,dt=B.delay_variance||100,Qt=B.delay||300,pn=Math.floor(Math.random()*dt-dt/2)+Qt;return $e("HTTP(M)",`RESP ${G.method}:`,[G.url,me]),(0,nn.H)([me]).pipe((0,ba.c)(Math.max(200,pn)))}(Qt,pn)}return null}const mo={};function Zl(B,G,me=Lo){return G||(G={response_type:"json"}),me("GET",B,Object.assign({response_type:"json"},G))}function jo(B,G,me,dt=Lo){return me||(me={response_type:"json"}),dt("POST",B,Object.assign({body:G,response_type:"json"},me))}function Ys(B,G,me,dt=Lo){return me||(me={response_type:"json"}),dt("PUT",B,Object.assign({body:G,response_type:"json"},me))}function Ko(B,G,me,dt=Lo){return me||(me={response_type:"json"}),dt("PATCH",B,Object.assign({body:G,response_type:"json"},me))}function ia(B,G,me=Lo){return G||(G={response_type:"void"}),me("DELETE",B,Object.assign({response_type:"void"},G))}function Fa(B,G){return R(this,arguments,void 0,function*(me,dt,Qt=mo){if(me.headers){const pn={};me.headers.forEach?me.headers.forEach((Ln,Ai)=>pn[Ai.toLowerCase()]=Ln):Object.keys(me.headers).forEach(Ln=>pn[Ln.toLowerCase()]=me.headers[Ln]),Qt[me.url||""]=pn}switch(dt){case"json":return yield me.json().catch(()=>({}));case"text":return yield me.text()}})}const wa=()=>{ya(),Oa().then(()=>null,()=>setTimeout(()=>wa(),1e3))};function Lo(B,G,me,dt=No,Qt=Xa,pn=Fa){if(dt()){const Ln=Qt(B,G,me?.body);if(Ln)return Ln}return me.headers=me.headers||{},me.headers["Content-Type"]="application/json",function Vr(){return Mt.pipe((0,Kn.T)(B=>!!function Jo(){return!!Er()}()))}().pipe((0,vi.p)(Ln=>Ln),(0,sn.s)(1),(0,tn.n)(Ln=>("x-api-key"===Er()?me.headers["X-API-Key"]=ds():me.headers.Authorization=`Bearer ${Er()}`,Wn(G,Object.assign(Object.assign({},me),{body:JSON.stringify(me.body),method:B,credentials:"same-origin"})))),(0,tn.n)(Ln=>Ln.ok?pn(Ln,me.response_type):(0,_e.$)(Ln)),function $t(B){return G=>G.lift(new vn(B,G))}(Ln=>Ln.pipe((0,Ni.ZZ)((Ai,Ri)=>511===Ai.status?(so(Io()),(0,ve.of)(Ai)):Ri+1>4||401!==Ai.status?(0,_e.$)(Ai||{}):($e("HTTP","Auth error",Ai),wa(),(0,ve.of)(Ai))))))}let al={},ra={},es="";const qa=B=>B;function Ea(B){const{query_params:G,fn:me,path:dt,endpoint:Qt}=B,pn=ei(G),Ln=`${Qt||Zn()}${dt?"/"+dt:""}${pn?"?"+pn:""}`;return Zl(Ln).pipe((0,Kn.T)(Ai=>{const Ri=function lo(B,G,me){const dt=function Fo(B,G=mo){return G[B]||{}}("/"===B[0]?`${location.origin}${B}`:B),Qt={total:0,next:null};if(dt&&dt["x-total-count"]){const pn=+(dt["x-total-count"]||0);(G.length<2||G.length<12&&G.indexOf("offset=")>=0)&&(al[me]=pn),ra[me]=pn,Qt.total=pn}return dt&&dt.link&&(es=function rt(B){if(0===B.length)throw new Error("Input must not be of zero length");const G=B.split(","),me={};for(const dt of G){const Qt=dt.split(";");if(2!==Qt.length)throw new Error("Section could not be split on ';'");const pn=Qt[0].replace(/<(.*)>/,"$1").trim();me[Qt[1].replace(/rel="(.*)"/,"$1").trim()]=pn}return me}(dt.link||"").next,Qt.next=gt(es.split("?")[1])),Qt}(Ln,pn,dt);return{total:Ri.total||0,next:Ri.next?()=>Ea({query_params:Ri.next,fn:me,endpoint:Qt,path:dt}):null,data:Ai&&Ai instanceof Array?Ai.map(Fi=>(me||qa)(Fi)):!Ai||Ai instanceof Array||!Ai.results?[]:Ai.results.map(Fi=>Fi)}}))}function sa(B){const{query_params:G,id:me,path:dt,fn:Qt,options:pn}=B,Ln=ei(G);return Zl(`${Zn()}/${dt}/${me}${Ln?"?"+Ln:""}`,pn).pipe((0,Kn.T)(Ri=>(Qt||qa)(Ri)))}function pr(B){const{id:G,query_params:me,form_data:dt,method:Qt,path:pn,fn:Ln}=B,Ai=ei(Object.assign(Object.assign({},me),{version:dt.version||0}));return("put"===Qt?Ys:Ko)(`${Zn()}/${pn}/${G}${Ai?"?"+Ai:""}`,dt).pipe((0,Kn.T)(Fi=>(Ln||qa)(Fi)))}class Vs{constructor(G={}){this.id=G.id||"",this.name=G.name||"",this.created_at=G.created_at||0,this.updated_at=G.updated_at||0,this.version=G.version||0}toJSON(){const G=Object.assign({},this);return G.version=this.version,delete G.created_at,Le(G,[void 0,null,""])}}var Fn=function(B){return B[B.None=0]="None",B[B.Support=1]="Support",B[B.Admin=2]="Admin",B[B.NeverDisplay=3]="NeverDisplay",B}(Fn||{});class qn extends Vs{get value(){return this.settings_string}constructor(G={}){super(G),this.parent_id=G.parent_id||"",this.updated_at=G.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=G.settings_string||"",this.encryption_level=G.encryption_level||Fn.None,this.keys=G.keys||[],this.modified_by_id=G.modified_by_id||""}}var zn=function(B){return B[B.SSH=0]="SSH",B[B.Device=1]="Device",B[B.Service=2]="Service",B[B.Websocket=3]="Websocket",B[B.Logic=99]="Logic",B}(zn||{});class fi extends Vs{constructor(G={}){var me;super(G),this.description=G.description||"",this.module_name=G.module_name||"",this.role=null!==(me=G.role)&&void 0!==me?me:zn.Logic,this.default_uri=G.default_uri||"",this.default_port=G.default_port||1,this.ignore_connected=G.ignore_connected||!1,this.class_name=G.class_name||"",this.repository_id=G.repository_id||"",this.file_name=G.file_name||"",this.commit=G.commit||"",this.update_available=G.update_available||!1,this.update_info=G.update_info,this.settings=G.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const dt in Fn)!isNaN(Number(dt))&&!this.settings[dt]&&(this.settings[dt]=new qn({parent_id:this.id,encryption_level:+dt}))}}class la{constructor(G={}){this.id=G.id||G.parent_id||"",this.name=G.name||"",this.description=G.description||"";try{this.details=("string"==typeof G.details?JSON.parse(G.details):G.details)||{}}catch{this.details=G.details||{}}this.editors=G.editors||[],this.schema=G.schema||"",this.updated_at=1e3*(G.updated_at||0)||Date.now(),this.modified_by_id=G.modified_by_id||"",this.version=G.version||0}}class Zd extends Vs{get system_id(){return this.control_system_id}get actions(){const G=this._actions;return{functions:(G.functions||[]).map(Qt=>Object.assign(Object.assign({},Qt),{args:Object.assign({},Qt.args)})),mailers:(G.mailers||[]).map(Qt=>Object.assign(Object.assign({},Qt),{emails:[...Qt.emails]}))}}get conditions(){const G=this._conditions;return{comparisons:(G.comparisons||[]).map(Qt=>Object.assign(Object.assign({},Qt),{left:"object"==typeof Qt.left?Object.assign({},Qt.left):Qt.left,right:"object"==typeof Qt.right?Object.assign({},Qt.right):Qt.right})),time_dependents:(G.time_dependents||[]).map(Qt=>Object.assign({},Qt))}}constructor(G={}){super(G),this.description=G.description||"",this._actions=G.actions||{functions:[],mailers:[]},this._conditions=G.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=G.debounce_period||0,this.important=G.important||!1,this.enabled=G.enabled||!1,this.webhook_secret=G.webhook_secret||"",this.control_system_id=G.system_id||G.control_system_id||"",this.zone_id=G.zone_id||"",this.system_name=G.system_name||(G.control_system?G.control_system.name:""),this.enable_webhook=G.enable_webhook||!1,this.exec_enabled=G.exec_enabled||!1,this.supported_methods=G.supported_methods||["POST"],this.activated_count=G.activated_count||G.trigger_count||0,this.playlists=G.playlists||[]}}class Mc extends Vs{constructor(G={}){super(G),this.settings=[null,null,null,null],this.trigger_list=[],this.description=G.description||"",this.tags=G.tags||[],this.triggers=G.triggers||[],this.settings=G.settings||[null,null,null,null],this.parent_id=G.parent_id||"",this.location=G.location||"",this.display_name=G.display_name||"",this.code=G.code||"",this.type=G.type||"",this.count=G.count||0,this.capacity=G.capacity||0,this.map_id=G.map_id||"",this.timezone=G.timezone||"",this.images=G.images||[],this.playlists=G.playlists||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const me in Fn)!isNaN(Number(me))&&!this.settings[me]&&(this.settings[me]=new qn({parent_id:this.id,encryption_level:+me}));G.trigger_data&&G.trigger_data instanceof Array&&(this.trigger_list=G.trigger_data.map(me=>new Zd(me)))}}class Oc{constructor(G={}){this.zone=new Mc(G.zone),this.keys=G.keys||[],this.metadata={};const me=G.metadata||{};for(const dt of this.keys)this.metadata[dt]=new la(me[dt])}}const El="metadata";function Ee(B){return new la(B)}function _t(B,G,me={}){return sa({id:B,query_params:Object.assign(Object.assign({},me),{name:G}),fn:dt=>Ee(dt[G]),path:El})}function on(B,G,me="put"){return pr({id:B,form_data:G,query_params:{},method:me,fn:Ee,path:El})}function Ui(B,G){return function ll(B){const{id:G,task_name:me,form_data:dt,method:Qt,path:pn,callback:Ln}=B,Ai=ei(dt),Ri=`${Zn()}/${pn}/${G}/${me}`;return("post"!==Qt&&"put"!==Qt&&Qt?("del"===Qt?ia:Zl)(`${Ri}${Ai?"?"+Ai:""}`,{response_type:"json"}):("put"===Qt?Ys:jo)(Ri,dt)).pipe((0,Kn.T)(ms=>(Ln||(yo=>yo))(ms)))}({id:B,task_name:"children",form_data:G,method:"get",callback:me=>me.map(dt=>new Oc(Object.assign(Object.assign({},dt),{keys:Object.keys(dt.metadata)}))),path:El})}class Fs extends Vs{constructor(G={}){var me;super(G),this.settings=[null,null,null,null],this.module_list=[],this.display_name=G.display_name||"",this.description=G.description||"",this.email=G.email||"",this.code=G.code||"",this.capacity=G.capacity||0,this.features=G.features||[],this.bookable=G.bookable||!1,this.public=null!==(me=G.public)&&void 0!==me&&me,this.installed_ui_devices=G.installed_ui_devices||0,this.support_url=G.support_url||"",this.map_id=G.map_id||"",this.modules=G.modules||[],this.images=G.images||[],this.zones=G.zones||[],this.settings=G.settings||[null,null,null,null],this.timezone=G.timezone||"",this.signage=G.signage||!1,this.playlists=G.playlists||[],this.orientation=G.orientation||"unspecified","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const dt in Fn)!isNaN(Number(dt))&&!this.settings[dt]&&(this.settings[dt]=new qn({parent_id:this.id,encryption_level:+dt}));G.module_data&&G.module_data instanceof Array&&(this.module_list=G.module_data.map(dt=>new Yr(dt)))}}class Yr extends Vs{get system_id(){return this.control_system_id}constructor(G={}){var me;super(G),this.settings=[null,null,null,null],this.driver_id=G.driver_id||G.dependency_id||"",this.control_system_id=G.control_system_id||"",this.edge_id=G.edge_id||"",this.ip=G.ip||"",this.tls=G.tls||!1,this.udp=G.udp||!1,this.port=G.port||1,this.makebreak=G.makebreak||!1,this.uri=G.uri||"",this.custom_name=G.custom_name||"",this.role=null!==(me=G.role)&&void 0!==me?me:zn.Logic,this.notes=G.notes||"",this.ignore_connected=G.ignore_connected||!1,this.connected=G.connected,this.running=G.running||!1,this.updated_at=G.updated_at||0,this.system=new Fs(G.control_system||G.system),this.has_runtime_error=G.has_runtime_error||!1,this.error_timestamp=G.error_timestamp||0,this.driver=new fi(G.dependency||G.driver),this.settings=G.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const dt in Fn)!isNaN(Number(dt))&&!this.settings[dt]&&(this.settings[dt]=new qn({parent_id:this.id,encryption_level:+dt}))}toJSON(G=!1){const me=super.toJSON();return(me.role!==zn.Logic&&!G||!me.control_system_id)&&delete me.control_system_id,delete me.driver,delete me.system,delete me.error_timestamp,delete me.has_runtime_error,me}}const nu="settings";function Gu(B){return new qn(B)}function eh(B={}){return Ea({query_params:B,fn:Gu,path:nu})}const Ae="systems";function ht(B){return new Fs(B)}function Lt(B={}){return Ea({query_params:B,fn:ht,path:Ae})}function cn(B={}){return Ea({query_params:B,fn:ht,path:`${Ae}/with_emails`})}function Hn(B,G={}){return sa({id:B,query_params:G,fn:ht,path:Ae})}class fn extends Vs{constructor(G={}){super(G),this.password="",this.confirm_password="",this.authority_id=G.authority_id||"",this.email=G.email||"",this.email_digest=G.email_digest||"",this.phone=G.phone||"",this.country=G.country||"",this.building=G.building||"",this.image=G.image||"",this.metadata=G.metadata||"",this.login_name=G.login_name||"",this.staff_id=G.staff_id||"",this.first_name=G.first_name||"",this.last_name=G.last_name||"",this.support=!!G.support,this.sys_admin=!!G.sys_admin,this.ui_theme=G.ui_theme||"",this.card_number=G.card_number||"",this.groups=G.groups||[],this.department=G.department||"",this.work_preferences=G.work_preferences||[],this.work_overrides=G.work_overrides||{}}}const Sa="users";function go(B){return new fn(B)}function Ro(B={}){return Ea({query_params:B,fn:go,path:Sa})}function Js(B,G={}){return sa({id:B,query_params:G,fn:go,path:Sa})}function Is(B,G,me="patch"){return pr({id:B,form_data:G,query_params:{},method:me,fn:go,path:Sa})}const yc="zones";function su(B){return new Mc(B)}function Rl(B={}){return Ea({query_params:B,fn:su,path:yc})}function Ku(B,G={}){return sa({id:B,query_params:G,fn:su,path:yc})}var Md=_(1478),Pl=function(B){return B[B.PARSE_ERROR=0]="PARSE_ERROR",B[B.BAD_REQUEST=1]="BAD_REQUEST",B[B.ACCESS_DENIED=2]="ACCESS_DENIED",B[B.REQUEST_FAILED=3]="REQUEST_FAILED",B[B.UNKNOWN_CMD=4]="UNKNOWN_CMD",B[B.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",B[B.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",B[B.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",B}(Pl||{}),bu=function(B){return B.Info="info",B.Debug="debug",B.Warning="warn",B.Error="error",B.Fatal="fatal",B.Trace="trace",B}(bu||{});class ua{constructor(G,me){this._system=G;const dt=Object.getOwnPropertyNames(Object.getPrototypeOf(me)).filter(Qt=>Qt.startsWith("$"));for(const Qt in me)me.hasOwnProperty(Qt)&&void 0!==me[Qt]&&(me[Qt]instanceof Function?this.addMethod(Qt,me[Qt]):this.addProperty(Qt,me[Qt]));for(const Qt of dt)me[Qt]instanceof Function&&this.addMethod(Qt,me[Qt])}call(G,me=[]){return this[`$${G}`]instanceof Function?this[`$${G}`](...me):null}listen(G){return!this[`_${G}`]&&!(this[`_${G}_obs`]instanceof at.c)&&!this[G]&&this.addProperty(G,null),this[`_${G}_obs`]}addMethod(G,me){"$"!==G[0]&&(G=`$${G}`),this[G]=me}addProperty(G,me){"$"===G[0]&&(G=G.replace("$","")),this[`_${G}`]=new En.t(me),this[`_${G}_obs`]=this[`_${G}`].asObservable(),Object.defineProperty(this,G,{get:()=>this[`_${G}`].getValue(),set:dt=>this[`_${G}`].next(dt)})}}class Ou{constructor(G){for(const me in G)G.hasOwnProperty(me)&&G[me]&&G[me]instanceof Array&&G[me].forEach(dt=>{this.addModule(me,dt)})}addModule(G,me){this[G]||(this[G]=[]),this[G].push(new ua(this,me))}}const _d={};function kh(B,G){return _d[B]=new Ou(G),_d[B]}function Xu(B){return _d[B]}const no=15;let Qr,Fl=0,Ta=0;const Fr={},jl={},wu={},qm={},nh=new En.t(!1);wu._place_os_status=nh.asObservable();const Wb=new En.t([0,0]);wu._place_os_sync=Wb.asObservable();let Mf,Ih,Hb=Date.now(),Sp=0,ih=null,Dp=0;const Od=1e4,W_=new xt.B7;function H_(){return Zn().indexOf("/control/")>=0?"/control/websocket":`${Li()}/systems/control`}function Ah(){return nh.getValue()}function G_(B,G=0,me=rh){return me(Object.assign({id:++Fl,cmd:"bind"},B),G)}function rh(B,G=Od,me=0){const dt=`${B.cmd}|${B.sys}|${B.mod}${B.index}|${B.name}|${B.args}|${function In(B=Date.now(),G=6e4){return Math.floor(B/G)}()}`;if(Fr[dt])$e("WS","Request already in progress. Waiting...",B);else{const Qt=Object.assign(Object.assign({},B),{key:dt});Qt.promise=new Promise((pn,Ln)=>{const Ai=()=>{delete Fr[dt],Fr[dt]=null,rh(B,G,me).then(Ri=>pn(Ri),Ri=>Ln(Ri))};if(Qr&&Ah()){No()&&function qi(B,G,me){const dt=`${B.sys}|${B.mod}_${B.index}|${B.name}`,Qt=Xu(B.sys),pn=Qt&&Qt[B.mod]?Qt[B.mod][B.index-1||0]:null;if(pn){switch(B.cmd){case"bind":me[dt]=pn.listen(B.name).subscribe(Ln=>{setTimeout(()=>{G.next({type:"notify",value:Ln,meta:B})},Math.floor(100*Math.random()+50))});break;case"unbind":me[dt]&&(me[dt].unsubscribe(),delete me[dt],Ki(`${dt}`))}Qn(`${B.id}-response`,()=>{const Ln={id:B.id,type:"success",value:"exec"===B.cmd?pn.call(B.name,B.args):null};G.next(Ln)},10)}else Qn(`${B.id}-error`,()=>G.next({id:B.id,type:"error",code:Qt?Pl.SYS_NOT_FOUND:Pl.MOD_NOT_FOUND}),10)}(B,Qr,qm),Qt.resolve=pn,Qt.reject=Ln;const Ri=`${B.sys}, ${B.mod}_${B.index}, ${B.name}`;$e("WS",`[${B.cmd.toUpperCase()}](${B.id}) ${Ri}`,B.args),Qr.next(B),G>0&&Qn(`${dt}`,()=>{Ln("Request timed out."),delete Fr[dt],Fr[dt]=null},G)}else ih?setTimeout(()=>Ai(),1e3):vd().then(()=>Ai())}),Fr[dt]=Qt}return Fr[dt].promise}function Yu(B){if("pong"!==B&&B instanceof Object){if("notify"===B.type&&B.meta)!function _o(B,G,me=jl,dt=wu){const Qt=`${B.sys}|${B.mod}_${B.index}|${B.name}`;me[Qt]||(me[Qt]=new En.t(null),dt[Qt]=me[Qt].asObservable());$e("WS",`[NOTIFY] ${`${B.sys}, ${B.mod}_${B.index}, ${B.name}`} changed`,[me[Qt].getValue(),"\u2192",G]),me[Qt].next(G)}(B.meta,B.value);else if("success"===B.type)!function kp(B){const G=Object.keys(Fr).map(me=>Fr[me]).find(me=>me?.id===B.id);$e("WS",`[SUCCESS](${B.id})`),G&&G.resolve&&(G.resolve(B.value),delete Fr[G.key])}(B);else if("debug"===B.type){$e("WS",`[DEBUG] ${B.mod}${B.klass||""} \u2192`,B.msg);const G=B.meta||{mod:"",index:""};W_.next({mod_id:B.mod||"<empty>",module:`${G.mod}_${G.index}`,class_name:B.klass||"<empty>",message:B.msg||"<empty>",level:B.level||bu.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===B.type?function q_(B){let G="UNEXPECTED FAILURE";switch(B.code){case Pl.ACCESS_DENIED:G="ACCESS DENIED";break;case Pl.BAD_REQUEST:G="BAD REQUEST";break;case Pl.MOD_NOT_FOUND:G="MODULE NOT FOUND";break;case Pl.SYS_NOT_FOUND:G="SYSTEM NOT FOUND";break;case Pl.PARSE_ERROR:G="PARSE ERROR";break;case Pl.REQUEST_FAILED:G="REQUEST FAILED";break;case Pl.UNKNOWN_CMD:G="UNKNOWN COMMAND"}$e("WS",`[ERROR] ${G}(${B.id}): ${B.msg}`,void 0,"error");const me=Object.keys(Fr).map(dt=>Fr[dt]).filter(dt=>dt).find(dt=>dt.id===B.id);me&&me.reject&&(me.reject(B),Ki(`${me.key}`),delete Fr[me.key])}(B):B.cmd||$e("WS","Invalid websocket message",B,"error");Ki(`${B.id}`)}else"pong"===B&&(Dp=Date.now(),$e("WS","Pong!"))}function vd(B=0){return null==ih&&(ih=new Promise(G=>{if(B>40)return location.reload();Sp++,Hb=Date.now(),Qr=No()?function Eu(){const B=new xt.B7;return B.subscribe(G=>Yu(G)),B}():function Ip(){if(!Io()||!Er())return null;const B=function Tl(){return!!Yi.secure}()||location.protocol.indexOf("https")>=0;let G=`ws${B?"s":""}://${Ss()}${H_()}${_a()?"?fixed_device=true":""}`;const me=Er();let dt="x-api-key"===me?`api-key=${ds()}`:`bearer_token=${me}`;return function lr(){return!!Yi.token_header}()||function bt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?($e("WS","Authenticating through URL query parameter..."),G+=`${G.indexOf("?")>=0?"&":"?"}${dt}`):($e("WS","Authenticating through cookie..."),dt+=`;max-age=120;path=${H_()};`,dt+=(B?"secure;":"")+"samesite=strict",document.cookie=dt,$e("WS","Cookies:",[document.cookie,dt])),$e("WS",`Creating websocket connection to ws${B?"s":""}://${Ss()}${H_()}`),(0,Md.K)({url:G,serializer:Qt=>"object"==typeof Qt?JSON.stringify(Qt):Qt,deserializer:Qt=>{let pn=Qt.data;if("pong"===pn)return pn;try{return JSON.parse(Qt.data)}catch{return pn}}})}(),Qr?($e("WS(Debug)","Authority:",[Io()]),$e("WS","Connecting to websocket..."),Qr.subscribe(me=>{nh.getValue()||($e("WS","Connection established."),G()),nh.next(!0),Sp=0,is(),Yu(me)},me=>{Qr=void 0,ih=null,Ap(),is(),function Rf(B){nh.next(!1),$e("WS","Websocket error:",B,void 0,"error"),401===B.status&&ya(),Oa(),wc()}(me)},()=>{Qr=void 0,ih=null,Ap(),$e("WS","Connection closed by browser."),nh.next(!1),wc()}),Mf&&clearInterval(Mf),Dp=Date.now(),Gb(),Mf=setInterval(()=>Gb(),1e3*no),is(),Ta+=1,Ih=setTimeout(()=>{$e("WS","Unhealthy connection. Reconnecting..."),nh.next(!1),ih=null,wc()},3e4)):(Qr?$e("WS",`Waiting on auth(${B}). Retrying in ${1e3*Math.min(10,B+1)}ms...`,[!!Er(),!!Io()],"info"):$e("WS",`Failed to create websocket(${B}). Retrying in ${1e3*Math.min(10,B+1)}ms...`,void 0,"error"),setTimeout(()=>{ih=null,vd(B).then(me=>G(me))},1e3*Math.min(10,++B)))})),ih}function wc(){Wb.next([Ta,Date.now()-Hb]),Qr&&Ah()&&(Qr.complete(),Mf&&(clearInterval(Mf),Mf=void 0)),$e("WS",`Reconnecting in ${Math.min(5e3,300*Sp||1e3)}ms...`),Qn("reconnect",()=>vd(),Math.min(5e3,300*(Sp+1)||1e3))}function Gb(){if(Date.now()-Dp>4*no*1e3)return wc();Qr?.next("ping")}function is(){Ih&&(clearTimeout(Ih),Ih=void 0)}function Ap(){for(const B in Fr)Fr[B]&&delete Fr[B]}wu._place_os_debug_events=W_.asObservable();var Rd=_(6109),Za=function(B){return B[B.NONE=0]="NONE",B[B.BIND=1]="BIND",B[B.UNBIND=2]="UNBIND",B}(Za||{});class Kb{constructor(G,me){this._module=G,this._pending=Za.NONE,this._binding_count=0,this._stale_bindings=0,this.name=me,function bc(){return wu._place_os_status}().pipe((0,Rd.F)()).subscribe(dt=>{dt&&(this._stale_bindings||this._pending===Za.BIND)?($e("VAR","Re-binding to status variable",this.binding()),this.rebind()):dt||(Ki(`rebind:${JSON.stringify(this.binding())}`),$e("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function Zm(B,G=jl){const me=`${B.sys}|${B.mod}_${B.index}|${B.name}`;if(G[me])return G[me].getValue()}(this.binding())}listen(){return function Qm(B,G=jl,me=wu){const dt=`${B.sys}|${B.mod}_${B.index}|${B.name}`;return G[dt]||(G[dt]=new En.t(void 0),me[dt]=G[dt].asObservable()),me[dt]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===Za.UNBIND)&&(this._pending=Za.BIND,G_(this.binding()).then(()=>{this._binding_count++,this._pending=Za.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===Za.NONE?(this._pending=Za.UNBIND,function Tp(B,G=0,me=rh){return me(Object.assign({id:++Fl,cmd:"unbind"},B),G)}(this.binding()).then(()=>{this._pending===Za.UNBIND&&(this._pending=Za.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return R(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==Za.BIND||Qn(`rebind:${JSON.stringify(this.binding())}`,()=>R(this,void 0,void 0,function*(){yield G_(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Q_{constructor(G,me){this._system=G,this._id=me,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const me=this._id.split("_").pop();return parseInt(me||"",10)||1}get name(){const G=this._id.split("_");return G.pop(),G.join("_")}binding(G){return this._bindings[G]||(this._bindings[G]=new Kb(this,G)),this._bindings[G]}execute(G,me,dt=Od){return function K_(B,G=Od,me=rh){return me(Object.assign({id:++Fl,cmd:"exec"},B),G)}({sys:this._system.id,mod:this.name,index:this.index,name:G,args:me},dt)}}class Ti{constructor(G){this._module_list={},this.id=G}module(G,me=1){if(!G)throw new Error("Invalid module ID");const dt=G.split("_");dt.length>1&&Number.isInteger(+dt[dt.length-1])&&(me=+dt[dt.length-1],dt.pop()),me<1&&(me=1);const Qt=dt.join("_");for(this._module_list[Qt]||(this._module_list[Qt]=[]);this._module_list[Qt].length<me;)this._module_list[Qt].push(new Q_(this,`${Qt}_${this._module_list[Qt].length+1}`));return this._module_list[Qt][me-1]}}const Mh={};function Mp(B,G,me=1){return function Nf(B){return Mh[B]||(Mh[B]=new Ti(B)),Mh[B]}(B).module(G,me)}},1145:(dn,Ne,_)=>{"use strict";_.d(Ne,{TaL:()=>A,wgE:()=>qi,xWs:()=>Hl,y4m:()=>B,Slp:()=>sd,ox:()=>WN,d_2:()=>vr,jh6:()=>At,jbE:()=>fr,DZQ:()=>k});var d={};_.r(d),_.d(d,{CompositeArrayBuffer:()=>Is,browserFiles:()=>tC,browserHTTPRequest:()=>iy,concatenateArrayBuffers:()=>Qo,copyModel:()=>Y_,decodeWeights:()=>nr,decodeWeightsStream:()=>dr,encodeWeights:()=>Un,fromMemory:()=>oC,fromMemorySync:()=>r0,getLoadHandlers:()=>Nl,getModelArtifactsForJSON:()=>Do,getModelArtifactsForJSONSync:()=>Kc,getModelArtifactsInfoForJSON:()=>Da,getSaveHandlers:()=>Sl,getWeightSpecs:()=>Sr,http:()=>t0,isHTTPScheme:()=>Ff,listModels:()=>G_,loadWeights:()=>za,moveModel:()=>Yu,registerLoadRouter:()=>Ad,registerSaveRouter:()=>Ua,removeModel:()=>K_,weightsLoaderFactory:()=>iC,withSaveHandler:()=>Hk,withSaveHandlerSync:()=>Np});var A={};_.r(A),_.d(A,{draw:()=>Yk,fromPixels:()=>oy,fromPixelsAsync:()=>o0,toPixels:()=>Xk});var w={};_.r(w),_.d(w,{assertParamsValid:()=>ay,computeFlatOffset:()=>uy,computeOutShape:()=>a0,getNormalizedAxes:()=>l0,isSliceContinous:()=>cy,maskToAxes:()=>aC,parseSliceParams:()=>rg,sliceInfo:()=>d0,startForAxis:()=>cC,startIndicesWithElidedDims:()=>c0,stopForAxis:()=>u0,stopIndicesWithElidedDims:()=>ig,stridesForAxis:()=>ly,stridesWithElidedDims:()=>Fd});var D={};_.r(D),_.d(D,{conv2d:()=>cw,depthwiseConv2d:()=>DA,matMul:()=>Lg});var C={};_.r(C),_.d(C,{collectGatherOpShapeInfo:()=>Uw,computeOutShape:()=>e_,segOpComputeOptimalWindowSize:()=>vD});var S={};_.r(S),_.d(S,{ERF_A1:()=>lv,ERF_A2:()=>Mw,ERF_A3:()=>qc,ERF_A4:()=>cv,ERF_A5:()=>Yg,ERF_P:()=>Aw,PARALLELIZE_THRESHOLD:()=>lD,RowPartitionType:()=>Vd,SELU_SCALE:()=>av,SELU_SCALEALPHA:()=>pm,applyActivation:()=>Jy,assertAndGetBroadcastShape:()=>Ts,assertAxesAreInnerMostDims:()=>Dc,assertParamsConsistent:()=>Sw,assignToTypedArray:()=>uD,axesAreInnerMostDims:()=>Dy,calculateShapes:()=>ip,checkEinsumDimSizes:()=>Qg,checkPadOnDimRoundingMode:()=>xu,combineLocations:()=>RC,combineRaggedTensorToTensorShapes:()=>du,complexWithEvenIndex:()=>cD,complexWithOddIndex:()=>Rw,computeConv2DInfo:()=>ro,computeConv3DInfo:()=>Vf,computeDefaultPad:()=>gy,computeDilation2DInfo:()=>my,computeOptimalWindowSize:()=>pa,computeOutAndReduceShapes:()=>Sc,computeOutShape:()=>Wh,computePool2DInfo:()=>Qu,computePool3DInfo:()=>oh,convertConv2DDataFormat:()=>sf,decodeEinsumEquation:()=>Fw,eitherStridesOrDilationsAreOne:()=>Cc,expandShapeToKeepDim:()=>pl,exponent:()=>uv,exponents:()=>qg,fromStringArrayToUint8:()=>zw,fromUint8ToStringArray:()=>Hh,getAxesPermutation:()=>ml,getBroadcastDims:()=>rc,getComplexWithIndex:()=>Nw,getEinsumComputePath:()=>hv,getEinsumPermutation:()=>Lw,getFusedBiasGradient:()=>Zy,getFusedDyActivation:()=>Rg,getImageCenter:()=>Iw,getInnerMostAxes:()=>ja,getPermuted:()=>Gg,getRaggedRank:()=>Tw,getReductionAxes:()=>ha,getReshaped:()=>lp,getReshapedPermuted:()=>Kg,getRowPartitionTypesHelper:()=>Dw,getSliceBeginCoords:()=>Xg,getSliceSize:()=>sv,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Jg,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>$w,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Bw,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>fD,getSparseReshapeInputOutputMismatchErrorMessage:()=>mD,getSparseReshapeInputOutputMultipleErrorMessage:()=>pD,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>hD,getSparseReshapeNegativeOutputDimErrorMessage:()=>gm,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>yD,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Vw,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>gD,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>_D,getUndoAxesPermutation:()=>cf,isIdentityPermutation:()=>dh,log:()=>jn,mergeRealAndImagArrays:()=>ch,prepareAndValidate:()=>ov,prepareSplitSize:()=>dD,segment_util:()=>C,shouldFuse:()=>Ng,slice_util:()=>w,splitRealAndImagArrays:()=>Ow,stridesOrDilationsArePositive:()=>Bp,tupleValuesAreOne:()=>rf,upcastType:()=>An,validateDefaultValueShape:()=>kw,validateInput:()=>Z0,validateUpdateShape:()=>Xy,warn:()=>on});var I={};_.r(I),_.d(I,{json:()=>OL});var E={};_.r(E),_.d(E,{json:()=>F1});var y={};_.r(y),_.d(y,{json:()=>mb});var x={};_.r(x),_.d(x,{json:()=>EN});var $={};_.r($),_.d($,{json:()=>xN});var R={};_.r(R),_.d(R,{json:()=>L1});var O={};_.r(O),_.d(O,{json:()=>vp});var M={};_.r(M),_.d(M,{json:()=>$1});var L={};_.r(L),_.d(L,{json:()=>_x});var z={};_.r(z),_.d(z,{json:()=>yx});var F={};_.r(F),_.d(F,{json:()=>CN});var J={};_.r(J),_.d(J,{json:()=>vx});var ue={};_.r(ue),_.d(ue,{json:()=>bx});var ce={};_.r(ce),_.d(ce,{json:()=>gb});var re={};_.r(re),_.d(re,{json:()=>RL});var we={};_.r(we),_.d(we,{json:()=>NL});var j={};_.r(j),_.d(j,{json:()=>PL});var Y={};_.r(Y),_.d(Y,{json:()=>B1});var se={};_.r(se),_.d(se,{json:()=>SN});var W={};_.r(W),_.d(W,{OP_SCOPE_SUFFIX:()=>Ol,abs:()=>Wl,acos:()=>h0,acosh:()=>Bf,add:()=>Ti,addN:()=>Qk,all:()=>sg,any:()=>og,argMax:()=>$p,argMin:()=>fy,asin:()=>f0,asinh:()=>fC,atan:()=>p0,atan2:()=>m0,atanh:()=>pC,avgPool:()=>Ph,avgPool3d:()=>g0,basicLSTMCell:()=>vy,batchNorm:()=>Vp,batchNorm2d:()=>_C,batchNorm3d:()=>wy,batchNorm4d:()=>hg,batchToSpaceND:()=>by,bincount:()=>uI,bitwiseAnd:()=>Up,booleanMaskAsync:()=>sw,broadcastArgs:()=>bC,broadcastTo:()=>zf,buffer:()=>is,cast:()=>qi,ceil:()=>y0,clipByValue:()=>Cu,clone:()=>Rd,complex:()=>go,concat:()=>Hl,concat1d:()=>wC,concat2d:()=>EC,concat3d:()=>v0,concat4d:()=>fg,conv1d:()=>Ey,conv2d:()=>Fh,conv2dTranspose:()=>w0,conv3d:()=>yI,conv3dTranspose:()=>bI,cos:()=>pg,cosh:()=>x0,cosineWindow:()=>Qy,cumprod:()=>jf,cumsum:()=>xy,denseBincount:()=>AC,depthToSpace:()=>MC,depthwiseConv2d:()=>mg,diag:()=>HP,dilation2d:()=>OC,div:()=>B,divNoNan:()=>jp,dot:()=>Wf,dropout:()=>FS,einsum:()=>Lh,elu:()=>Hf,enclosingPowerOfTwo:()=>LS,ensureShape:()=>k0,equal:()=>Ju,erf:()=>I0,euclideanNorm:()=>FC,exp:()=>uu,expandDims:()=>Gl,expm1:()=>vg,eye:()=>Wp,fft:()=>Ig,fill:()=>au,floor:()=>Hp,floorDiv:()=>Nf,fused:()=>D,gather:()=>Kf,gatherND:()=>bA,greater:()=>Pu,greaterEqual:()=>Xf,ifft:()=>Ag,imag:()=>Kp,image:()=>sd,inTopKAsync:()=>CA,irfft:()=>Q0,isFinite:()=>M0,isInf:()=>uf,isNaN:()=>WC,leakyRelu:()=>Ay,less:()=>td,lessEqual:()=>Yf,linalg:()=>sD,linspace:()=>MI,localResponseNormalization:()=>HC,log:()=>nd,log1p:()=>My,logSigmoid:()=>Yp,logSoftmax:()=>Oy,logSumExp:()=>O0,logicalAnd:()=>Vh,logicalNot:()=>qp,logicalOr:()=>YC,logicalXor:()=>QC,losses:()=>oD,lowerBound:()=>LI,matMul:()=>bs,max:()=>Nu,maxPool:()=>bg,maxPool3d:()=>JC,maxPoolWithArgmax:()=>Ny,maximum:()=>Xc,mean:()=>Ja,meshgrid:()=>nS,min:()=>Ty,minimum:()=>Uh,mirrorPad:()=>rS,mod:()=>sS,moments:()=>wg,movingAverage:()=>rp,mul:()=>me,multiRNNCell:()=>QP,multinomial:()=>zI,neg:()=>Wa,norm:()=>Gf,notEqual:()=>Qp,oneHot:()=>P0,ones:()=>ac,onesLike:()=>id,op:()=>fn,outerProduct:()=>GI,pad:()=>ah,pad1d:()=>JP,pad2d:()=>e2,pad3d:()=>n2,pad4d:()=>s2,pool:()=>L0,pow:()=>sh,prelu:()=>Fy,print:()=>Za,prod:()=>Qf,raggedGather:()=>Fu,raggedRange:()=>o2,raggedTensorToTensor:()=>a2,rand:()=>hS,randomGamma:()=>qI,randomNormal:()=>By,randomStandardNormal:()=>JI,randomUniform:()=>zh,randomUniformInt:()=>Vy,range:()=>hf,real:()=>Cg,reciprocal:()=>z0,relu:()=>Ld,relu6:()=>j0,reshape:()=>Dn,reverse:()=>Su,reverse1d:()=>yS,reverse2d:()=>bS,reverse3d:()=>wS,reverse4d:()=>Zp,rfft:()=>Hy,round:()=>Sg,rsqrt:()=>zy,scalar:()=>vr,scatterND:()=>ow,searchSorted:()=>N0,selu:()=>Jp,separableConv2d:()=>jy,setdiff1dAsync:()=>rA,sigmoid:()=>Zu,sign:()=>K0,signal:()=>hM,sin:()=>Wy,sinh:()=>ff,slice:()=>fo,slice1d:()=>Tg,slice2d:()=>em,slice3d:()=>tm,slice4d:()=>nm,softmax:()=>im,softplus:()=>$h,spaceToBatchND:()=>qf,sparse:()=>_2,sparseToDense:()=>PS,spectral:()=>rD,split:()=>Lu,sqrt:()=>Qt,square:()=>Ln,squaredDifference:()=>Gy,squeeze:()=>tp,stack:()=>fa,step:()=>rm,stridedSlice:()=>Ky,string:()=>fM,sub:()=>fr,sum:()=>gr,tan:()=>IS,tanh:()=>af,tensor:()=>Js,tensor1d:()=>Yc,tensor2d:()=>np,tensor3d:()=>Pp,tensor4d:()=>AS,tensor5d:()=>dA,tensor6d:()=>hA,tensorScatterUpdate:()=>pA,tile:()=>ed,topk:()=>$d,transpose:()=>$s,truncatedNormal:()=>ew,unique:()=>tw,unsortedSegmentSum:()=>sm,unstack:()=>Bd,upperBound:()=>OS,variable:()=>iw,where:()=>sc,whereAsync:()=>lh,zeros:()=>oc,zerosLike:()=>Ri});var Ce={};_.r(Ce),_.d(Ce,{mx:()=>v$,XI:()=>uP,Nk:()=>S$,f6:()=>D$,ct:()=>y$,YG:()=>T$,hH:()=>k$,z3:()=>M$,sG:()=>R$,uM:()=>P$,vS:()=>$$,qB:()=>B$,GG:()=>V$,lg:()=>z$,rq:()=>U$,cu:()=>W$,WR:()=>j$,GE:()=>H$,px:()=>G$,jC:()=>K$,He:()=>Y$,hE:()=>q$,BF:()=>dP,Dk:()=>Z$,cl:()=>J$,_B:()=>iB,ub:()=>sB,_f:()=>aB,Ku:()=>uB,qy:()=>dB,Zy:()=>hB,bu:()=>F_,zv:()=>$U,dH:()=>w$,HS:()=>C$,yH:()=>pB,l3:()=>mB,z9:()=>_P,x6:()=>hH,_m:()=>gB,eW:()=>_B,GK:()=>yB,SP:()=>vB,yr:()=>bB,dl:()=>F$,Dw:()=>wB,xT:()=>xB,_X:()=>lP,wz:()=>SB});var Q=_(9204);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yt{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class Je{refCount(t){return je("refCount")}incRef(t){return je("incRef")}timerAvailable(){return!0}time(t){return je("time")}read(t){return je("read")}readSync(t){return je("readSync")}readToGPU(t,e){return je("readToGPU")}numDataIds(){return je("numDataIds")}disposeData(t,e){return je("disposeData")}write(t,e,i){return je("write")}move(t,e,i,r,a){return je("move")}createTensorFromGPUData(t,e,i){return je("createTensorFromGPUData")}memory(){return je("memory")}floatPrecision(){return je("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return je("dispose")}}function je(n){throw new Error(`'${n}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function X(n){let t=n.length,e=0;for(;t>0;)e=Math.random()*t|0,t--,Pe(n,t,e)}function _e(n,t,e){return Math.max(n,Math.min(t,e))}function ve(n){return n%2==0?n:n+1}function Pe(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function Se(n,t){if(!n)throw new Error("string"==typeof t?t:t())}function qt(n,t,e=""){Se(Re(n,t),()=>e+` Shapes ${n} and ${t} must match`)}function Vt(n){Se(null!=n,()=>"The input to the tensor constructor must be a non-null value.")}function Tt(n){if(0===n.length)return 1;let t=n[0];for(let e=1;e<n.length;e++)t*=n[e];return t}function Re(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function Ye(n){return n%1==0}function It(n){const t=Math.ceil(Math.sqrt(n));return[t,Math.ceil(n/t)]}function st(n,t){return t<=n.length?n:n+" ".repeat(t-n.length)}function Nt(n,t=(r=>0),e,i){return new Promise((r,a)=>{let c=0;const u=()=>{if(n())return void r();c++;const f=t(c);null!=e&&c>=e?a():null!=i?i(u,f):setTimeout(u,f)};u()})}function Ut(n,t){let e=1,i=-1;for(let a=0;a<n.length;++a)if(n[a]>=0)e*=n[a];else if(-1===n[a]){if(-1!==i)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${i} and dim ${a}`);i=a}else if(n[a]<0)throw Error(`Shapes can not be < 0. Found ${n[a]} at dim ${a}`);if(-1===i){if(t>0&&t!==e)throw Error(`Size(${t}) must match the product of shape ${n}`);return n}if(0===e)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(t%e!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${e}`);const r=n.slice();return r[i]=t/e,r}function wt(n,t){const e=t.length;return Se((n=null==n?t.map((i,r)=>r):[].concat(n)).every(i=>i>=-e&&i<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${n}`),Se(n.every(i=>Ye(i)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(i=>i<0?e+i:i)}function ct(n,t){const e=[],i=[],r=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||r?null:wt(t,n).sort();let c=0;for(let u=0;u<n.length;++u){if(null!=a){if(a[c]===u&&1!==n[u])throw new Error(`Can't squeeze axis ${u} since its dim '${n[u]}' is not 1`);(null==a[c]||a[c]>u)&&1===n[u]&&(e.push(n[u]),i.push(u)),a[c]<=u&&c++}1!==n[u]&&(e.push(n[u]),i.push(u))}return{newShape:e,keptDims:i}}function ut(n,t){return Z(n,t)}function Z(n,t){let e=null;if(null==n||"float32"===n)e=new Float32Array(t);else if("int32"===n)e=new Int32Array(t);else if("bool"===n)e=new Uint8Array(t);else{if("string"!==n)throw new Error(`Unknown data type ${n}`);e=new Array(t)}return e}function at(n,t){return!("complex64"===t||"float32"===t&&"complex64"!==n||"int32"===t&&"float32"!==n&&"complex64"!==n||"bool"===t&&"bool"===n)}function Gt(n){if("float32"===n||"int32"===n)return 4;if("complex64"===n)return 8;if("bool"===n)return 1;throw new Error(`Unknown dtype ${n}`)}function Wn(n){return"string"==typeof n||n instanceof String}function sn(n){return"number"==typeof n}function tn(n){return Array.isArray(n)?tn(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":sn(n)?"float32":Wn(n)?"string":function vi(n){return"boolean"==typeof n}(n)?"bool":"float32"}function xt(n){return!!(n&&n.constructor&&n.call&&n.apply)}function zt(n,t){for(let e=t;e<n;++e)if(n%e==0)return e;return n}function $t(n){const t=n.length;if(t<2)return[];const e=new Array(t-1);e[t-2]=n[t-1];for(let i=t-3;i>=0;--i)e[i]=e[i+1]*n[i+1];return e}function vn(n,t,e,i=!1){const r=new Array;if(1===t.length){const a=t[0]*(i?2:1);for(let c=0;c<a;c++)r[c]=e[n+c]}else{const a=t[0],c=t.slice(1),u=c.reduce((f,p)=>f*p)*(i?2:1);for(let f=0;f<a;f++)r[f]=vn(n+f*u,c,e,i)}return r}function Nn(n,t,e=!1){if(0===n.length)return t[0];const i=n.reduce((r,a)=>r*a)*(e?2:1);if(0===i)return[];if(i!==t.length)throw new Error(`[${n}] does not match the input size ${t.length}${e?" for a complex tensor":""}.`);return vn(0,n,t,e)}function Sn(n,t){const e=Gn(n,t);for(let i=0;i<e.length;i++)e[i]=1;return e}function Gn(n,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t)return new Uint8Array(n);throw new Error(`Unknown data type ${t}`)}function En(n,t){const e=n.reduce((i,r)=>i*r,1);if(null==t||"float32"===t)return Nn(n,new Float32Array(e));if("int32"===t)return Nn(n,new Int32Array(e));if("bool"===t)return Nn(n,new Uint8Array(e));throw new Error(`Unknown data type ${t}`)}function Kn(n){n.forEach(t=>{Se(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function pt(n,t,e){if(0===t)return 0;if(1===t)return n[0];let i=n[n.length-1];for(let r=0;r<n.length-1;++r)i+=e[r]*n[r];return i}function $e(n,t,e){if(0===t)return[];if(1===t)return[n];const i=new Array(t);for(let r=0;r<i.length-1;++r)i[r]=Math.floor(n/e[r]),n-=i[r]*e[r];return i[i.length-1]=n,i}function We(n){return n&&n.then&&"function"==typeof n.then}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Be="tfjsflags";class gt{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Zt,this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&(Te().getBool("IS_TEST")||Te().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=e}registerFlag(t,e,i){if(this.flagRegistry[t]={evaluationFn:e,setHook:i},null!=this.urlFlags[t]){const r=this.urlFlags[t];Te().getBool("IS_TEST")||Te().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${r}.`),this.set(t,r)}}getAsync(t){var e=this;return(0,Q.A)(function*(){return t in e.flags||(e.flags[t]=yield e.evaluateFlag(t)),e.flags[t]})()}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if(We(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);Be in t&&t[Be].split(",").forEach(i=>{const[r,a]=i.split(":");this.urlFlags[r]=function lt(n,t){const e=t.toLowerCase();return"true"===e||"false"===e?"true"===e:""+ +e===e?+e:t}(0,a)})}}function Zt(n){const t={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...i)=>(function gn(n,t,e){n[decodeURIComponent(t)]=decodeURIComponent(e||"")}(t,i[0],i[1]),i.join("="))),t}function Te(){return rt}let bt,rt=null;function Ft(){if(null==bt){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(!(typeof self<"u"))throw new Error("Could not find a global object");n=self}bt=n}return bt}function On(n,t){const e=function In(){const n=Ft();return null==n._tfGlobals&&(n._tfGlobals=new Map),n._tfGlobals}();if(e.has(n))return e.get(n);{const i=t();return e.set(n,i),e.get(n)}}const ei="Abs",pi="Acos",zi="Acosh",Ci="Add",Gi="AddN",ur="ArgMax",or="ArgMin",Tr="Asin",Hr="Asinh",_s="Atan",Ur="Atanh",ys="Atan2",Cs="AvgPool",ss="AvgPoolGrad",Yi="AvgPool3D",ar="AvgPool3DGrad",cr="BatchMatMul",ji="BatchToSpaceND",ii="Bincount",Ge="BitwiseAnd",ne="BroadcastArgs",et="Cast",He="Ceil",kt="ClipByValue",Bt="Complex",Zn="ComplexAbs",Li="Concat",lr="Conv2D",kr="Conv2DBackpropFilter",Lr="Conv2DBackpropInput",Zr="Conv3D",ds="Conv3DBackpropFilterV2",Os="Conv3DBackpropInputV2",Er="Cos",Jr="Cosh",Ss="Cumprod",Jo="Cumsum",Vr="CropAndResize",Io="DenseBincount",Ho="DepthToSpace",No="DepthwiseConv2dNative",Tl="DepthwiseConv2dNativeBackpropFilter",Ga="DepthwiseConv2dNativeBackpropInput",Ka="Diag",_a="Dilation2D",ea="Dilation2DBackpropInput",yl="Dilation2DBackpropFilter",kl="Draw",Oa="RealDiv",ya="Einsum",Ra="Elu",fc="EluGrad",Na="Erf",Bl="Equal",$r="Exp",Rr="ExpandDims",so="Expm1",Ql="Fill",ta="FlipLeftRight",Gs="Floor",oo="FloorDiv",va="FusedBatchNorm",Po="GatherV2",rl="GatherNd",bo="Greater",wo="GreaterEqual",Pa="Identity",Go="IFFT",Il="Imag",ba="IsFinite",Ar="IsInf",vs="IsNan",na="LeakyRelu",po="Less",Xa="LessEqual",Ya="LinSpace",sl="Log",Oi="Log1p",Ao="LogicalAnd",mo="LogicalNot",Fo="LogicalOr",Ko="LRN",ia="LRNGrad",wa="Max",Lo="Maximum",La="MaxPool",ol="MaxPoolGrad",vl="MaxPool3D",Rs="MaxPool3DGrad",al="MaxPoolWithArgmax",ra="Mean",es="Min",qa="Minimum",ao="MirrorPad",Ea="Mod",sa="Multinomial",Xo="Multiply",ll="Neg",pr="NotEqual",ks="NonMaxSuppressionV3",lo="NonMaxSuppressionV4",$a="NonMaxSuppressionV5",Vs="OnesLike",jt="OneHot",de="Pack",De="PadV2",le="Pow",ie="Prelu",ze="Prod",Ct="RaggedGather",wn="RaggedRange",Pn="RaggedTensorToTensor",Di="Range",Rn="Real",mr="Reciprocal",zr="Relu",hr="Reshape",Nr="ResizeNearestNeighbor",qs="ResizeNearestNeighborGrad",Dr="ResizeBilinear",Us="ResizeBilinearGrad",Ns="Relu6",Ks="Reverse",xa="Round",oa="Rsqrt",P="ScatterNd",Et="TensorScatterUpdate",Kt="SearchSorted",ln="Select",en="Selu",Tn="Slice",an="Sin",Fn="Sinh",qn="Sign",zn="Sigmoid",fi="Softplus",Jn="Sqrt",ki="Sum",tr="SpaceToBatchND",Br="SplitV",os="Softmax",zs="SparseFillEmptyRows",Gr="SparseReshape",ns="SparseSegmentMean",Jl="SparseSegmentSum",Mo="SparseToDense",Yo="SquaredDifference",Qs="Square",bl="StaticRegexReplace",aa="StridedSlice",_r="StringNGrams",as="StringSplit",Ps="StringToHashBucketFast",Ac="Sub",gu="Tan",hs="Tanh",Ba="Tile",_u="TopK",fs="Transform",wl="Transpose",Wo="Unique",co="Unpack",la="UnsortedSegmentSum",Mc="ZerosLike",Oc="Step",El="FromPixels",Ee="RotateWithOffset",Dt="_FusedMatMul",Ue="FusedConv2D",_t="FusedDepthwiseConv2D";
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function on(...n){Te().getBool("IS_TEST")||Te().getBool("PROD")||console.warn(...n)}function jn(...n){Te().getBool("IS_TEST")||Te().getBool("PROD")||console.log(...n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const li=On("kernelRegistry",()=>new Map),Ui=On("gradRegistry",()=>new Map);function Fs(n,t){const e=xl(n,t);return li.get(e)}function Yr(n){return Ui.get(n)}function ts(n){const t=li.entries(),e=[];for(;;){const{done:i,value:r}=t.next();if(i)break;const[a,c]=r,[u]=a.split("_");u===n&&e.push(c)}return e}function wi(n){const{kernelName:t,backendName:e}=n,i=xl(t,e);li.has(i)&&on(`The kernel '${t}' for backend '${e}' is already registered`),li.set(i,n)}function eo(n){const{kernelName:t}=n;Ui.has(t)&&Te().getBool("DEBUG")&&on(`Overriding the gradient for '${t}'`),Ui.set(t,n)}function xl(n,t){return`${t}_${n}`}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Rc(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}var pc=_(9990);
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Bo=_.n(pc)()||pc;function cl(n){return Bo.fromString(n,!0,16)}const Zc=cl("c3a5c85c97cb3127"),ec=cl("b492b66fbe98f273"),Cl=cl("9ae16a3b2f90404f");function ul(n){return n.xor(n.shru(47))}function mc(n,t,e){const i=n.slice(t,t+e);return Bo.fromBytes(Array.from(i),!0,!0)}function Zs(n,t){return mc(n,t,8)}function Wu(n,t){return mc(n,t,4)}function Vo(n,t){return 0===t?n:n.shru(t).or(n.shl(64-t))}function tc(n,t,e=cl("9ddfea08eb382d69")){let i=n.xor(t).mul(e);i=i.xor(i.shru(47));let r=t.xor(i).mul(e);return r=r.xor(r.shru(47)),r=r.mul(e),r}function yu(n,t,e,i){return function tf(n,t,e,i,r,a){r=r.add(n),a=Vo(a.add(r).add(i),21);const c=r;return r=(r=r.add(t)).add(e),a=a.add(Vo(r,44)),[r.add(i),a.add(c)]}(Zs(n,t),Zs(n,t+8),Zs(n,t+16),Zs(n,t+24),e,i)}function Jc(n,t=n.length){const e=Bo.fromNumber(81,!0);if(t<=32)return t<=16?function Nc(n,t=n.length){if(t>=8){const e=Cl.add(2*t),i=Zs(n,0).add(Cl),r=Zs(n,t-8);return tc(Vo(r,37).mul(e).add(i),Vo(i,25).add(r).mul(e),e)}if(t>=4){const e=Cl.add(2*t);return tc(Wu(n,0).shl(3).add(t),Wu(n,t-4),e)}if(t>0){const c=t+(n[t-1]<<2);return ul(Cl.mul(n[0]+(n[t>>1]<<8)).xor(Zc.mul(c))).mul(Cl)}return Cl}(n,t):function dl(n,t=n.length){const e=Cl.add(2*t),i=Zs(n,0).mul(ec),r=Zs(n,8),a=Zs(n,t-8).mul(e),c=Zs(n,t-16).mul(Cl);return tc(Vo(i.add(r),43).add(Vo(a,30)).add(c),i.add(Vo(r.add(Cl),18)).add(a),e)}(n,t);if(t<=64)return function Ca(n,t=n.length){const e=Cl.add(2*t),i=Zs(n,0).mul(Cl),r=Zs(n,8),a=Zs(n,t-8).mul(e),c=Zs(n,t-16).mul(Cl),u=Vo(i.add(r),43).add(Vo(a,30)).add(c),f=tc(u,i.add(Vo(r.add(Cl),18)).add(a),e),p=Zs(n,16).mul(e),g=Zs(n,24),v=u.add(Zs(n,t-32)).mul(e),T=f.add(Zs(n,t-24)).mul(e);return tc(Vo(p.add(g),43).add(Vo(v,30)).add(T),p.add(Vo(g.add(i),18)).add(v),e)}(n,t);let i=e,r=e.mul(ec).add(113),a=ul(r.mul(Cl).add(113)).mul(Cl),c=[Bo.UZERO,Bo.UZERO],u=[Bo.UZERO,Bo.UZERO];i=i.mul(Cl).add(Zs(n,0));let f=0;const p=64*(t-1>>6),g=p+(t-1&63)-63;do{i=Vo(i.add(r).add(c[0]).add(Zs(n,f+8)),37).mul(ec),r=Vo(r.add(c[1]).add(Zs(n,f+48)),42).mul(ec),i=i.xor(u[1]),r=r.add(c[0]).add(Zs(n,f+40)),a=Vo(a.add(u[0]),33).mul(ec),c=yu(n,f,c[1].mul(ec),i.add(u[0])),u=yu(n,f+32,a.add(u[1]),r.add(Zs(n,f+16))),[a,i]=[i,a],f+=64}while(f!==p);const v=ec.add(a.and(255).shl(1));return f=g,u[0]=u[0].add(t-1&63),c[0]=c[0].add(u[0]),u[0]=u[0].add(c[0]),i=Vo(i.add(r).add(c[0]).add(Zs(n,f+8)),37).mul(v),r=Vo(r.add(c[1]).add(Zs(n,f+48)),42).mul(v),i=i.xor(u[1].mul(9)),r=r.add(c[0].mul(9).add(Zs(n,f+40))),a=Vo(a.add(u[0]),33).mul(v),c=yu(n,f,c[1].mul(v),i.add(u[0])),u=yu(n,f+32,a.add(u[1]),r.add(Zs(n,f+16))),[a,i]=[i,a],tc(tc(c[0],u[0],v).add(ul(r).mul(Zc)).add(a),tc(c[1],u[1],v).add(i),v)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function eu(n,t){return"string"===t?nc(n):Va([n],t)}function Va(n,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=ic(n)),Te().getBool("DEBUG")&&function Fe(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(isNaN(i)||!isFinite(i))throw Error(`A tensor of type ${t} being uploaded contains ${i}.`)}}(n,t),function Jd(n,t){return n instanceof Float32Array&&"float32"===t||n instanceof Int32Array&&"int32"===t||n instanceof Uint8Array&&"bool"===t}(n,t))return n;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t){const e=new Uint8Array(n.length);for(let i=0;i<e.length;++i)0!==Math.round(n[i])&&(e[i]=1);return e}throw new Error(`Unknown data type ${t}`)}function jr(){return Te().platform.now()}function nc(n,t="utf-8"){return t=t||"utf-8",Te().platform.encode(n,t)}function zc(n,t="utf-8"){return t=t||"utf-8",Te().platform.decode(n,t)}function Eo(n){return null!=Te().platform.isTypedArray?Te().platform.isTypedArray(n):Rc(n)}function ic(n,t=[],e=!1){if(null==t&&(t=[]),"boolean"==typeof n||"number"==typeof n||"string"==typeof n||We(n)||null==n||Eo(n)&&e)t.push(n);else if(Array.isArray(n)||Eo(n))for(let i=0;i<n.length;++i)ic(n[i],t,e);else{let i=-1;for(const r of Object.keys(n))/^([1-9]+[0-9]*|0)$/.test(r)&&(i=Math.max(i,Number(r)));for(let r=0;r<=i;r++)ic(n[r],t,e)}return t}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class vu{constructor(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new Au)}profileKernel(t,e,i){let r;const a=()=>{r=i()};let c;const u=jr();if(this.backendTimer.timerAvailable())c=this.backendTimer.time(a);else{a();for(const p of r)p.dataSync();c=Promise.resolve({kernelMs:jr()-u})}if(Te().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let p=0;p<r.length;p++){const g=r[p];g.data().then(v=>{Pc(v,g.dtype,t)})}return{kernelName:t,outputs:r,inputs:e,timeMs:c.then(p=>p.kernelMs),extraInfo:c.then(p=>null!=p.getExtraProfileInfo?p.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:e,outputs:i,timeMs:r,inputs:a,extraInfo:c}=t;i.forEach(u=>{Promise.all([u.data(),r,c]).then(f=>{this.logger.logKernelProfile(e,u,f[0],f[1],a,f[2])})})}}function Pc(n,t,e){if("float32"!==t)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${e}'`),!0}return!1}class Au{logKernelProfile(t,e,i,r,a,c){const u="number"==typeof r?st(`${r}ms`,9):r.error,f=st(t,25),p=e.rank,g=e.size,v=st(e.shape.toString(),14);let T="";for(const U in a){const q=a[U];if(null!=q){const ae=q.shape||e.shape,te=ae.length;T+=`${U}: ${te}D ${te>0?ae:""} `}}console.log(`%c${f}\t%c${u}\t%c${p}D ${v}\t%c${g}\t%c${T}\t%c${c}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const wh=20,jc=3,Mu=7;function Eh(n,t,e,i){const r=$t(t),a=function xh(n,t,e,i){const r=Tt(t),a=i[i.length-1],c=new Array(a).fill(0),u=t.length,f="complex64"===e?hl(n):n;if(u>1)for(let p=0;p<r/a;p++){const g=p*a;for(let v=0;v<a;v++)c[v]=Math.max(c[v],Al(f[g+v],0,e).length)}return c}(n,t,e,r),c=t.length,u=Wc(n,t,e,r,a),f=["Tensor"];return i&&(f.push(`  dtype: ${e}`),f.push(`  rank: ${c}`),f.push(`  shape: [${t}]`),f.push("  values:")),f.push(u.map(p=>"    "+p).join("\n")),f.join("\n")}function Al(n,t,e){let i;return i=Array.isArray(n)?`${parseFloat(n[0].toFixed(Mu))} + ${parseFloat(n[1].toFixed(Mu))}j`:Wn(n)?`'${n}'`:"bool"===e?Hu(n):parseFloat(n.toFixed(Mu)).toString(),st(i,t)}function Hu(n){return 0===n?"false":"true"}function Wc(n,t,e,i,r,a=!0){const c="complex64"===e?2:1,u=t[0],f=t.length;if(0===f)return"complex64"===e?[Al(hl(n)[0],0,e)]:"bool"===e?[Hu(n[0])]:[n[0].toString()];if(1===f){if(u>wh){let ye=Array.from(n.slice(0,jc*c)),ke=Array.from(n.slice((u-jc)*c,u*c));return"complex64"===e&&(ye=hl(ye),ke=hl(ke)),["["+ye.map((tt,nt)=>Al(tt,r[nt],e)).join(", ")+", ..., "+ke.map((tt,nt)=>Al(tt,r[u-jc+nt],e)).join(", ")+"]"]}return["["+("complex64"===e?hl(n):Array.from(n)).map((te,ye)=>Al(te,r[ye],e)).join(", ")+"]"]}const p=t.slice(1),g=i.slice(1),v=i[0]*c,T=[];if(u>wh){for(let ae=0;ae<jc;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,!1))}T.push("...");for(let ae=u-jc;ae<u;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,ae===u-1))}}else for(let ae=0;ae<u;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,ae===u-1))}const U=2===f?",":"";T[0]="["+(u>0?T[0]+U:"");for(let ae=1;ae<T.length-1;ae++)T[ae]=" "+T[ae]+U;let q=",\n";for(let ae=2;ae<f;ae++)q+="\n";return T[T.length-1]=" "+T[T.length-1]+"]"+(a?"":q),T}function hl(n){const t=[];for(let e=0;e<n.length;e+=2)t.push([n[e],n[e+1]]);return t}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class So{constructor(t,e,i){if(this.dtype=e,this.shape=t.slice(),this.size=Tt(t),null!=i){const r=i.length;Se(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||Z(e,this.size),this.strides=$t(t)}set(t,...e){0===e.length&&(e=[0]),Se(e.length===this.rank,()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`);const i=this.locToIndex(e);this.values[i]=t}get(...t){0===t.length&&(t=[0]);let e=0;for(const r of t){if(r<0||r>=this.shape[e])throw new Error(`Requested out of range element at ${t}.   Buffer shape=${this.shape}`);e++}let i=t[t.length-1];for(let r=0;r<t.length-1;++r)i+=this.strides[r]*t[r];return this.values[i]}locToIndex(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];let e=t[t.length-1];for(let i=0;i<t.length-1;++i)e+=this.strides[i]*t[i];return e}indexToLoc(t){if(0===this.rank)return[];if(1===this.rank)return[t];const e=new Array(this.shape.length);for(let i=0;i<e.length-1;++i)e[i]=Math.floor(t/this.strides[i]),t-=e[i]*this.strides[i];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return _c().makeTensor(this.values,this.shape,this.dtype)}}let _c=null,tu=null,nu=null;class to{constructor(t,e,i,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=Tt(t),this.strides=$t(t),this.dataId=i,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){var t=this;return(0,Q.A)(function*(){const e=yield t.data();return tu.buffer(t.shape,t.dtype,e)})()}bufferSync(){return tu.buffer(this.shape,this.dtype,this.dataSync())}array(){var t=this;return(0,Q.A)(function*(){const e=yield t.data();return Nn(t.shape,e,"complex64"===t.dtype)})()}arraySync(){return Nn(this.shape,this.dataSync(),"complex64"===this.dtype)}data(){var t=this;return(0,Q.A)(function*(){t.throwIfDisposed();const e=_c().read(t.dataId);if("string"===t.dtype){const i=yield e;try{return i.map(r=>zc(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})()}dataToGPU(t){return this.throwIfDisposed(),_c().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=_c().readSync(this.dataId);if("string"===this.dtype)try{return t.map(e=>zc(e))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}bytes(){var t=this;return(0,Q.A)(function*(){t.throwIfDisposed();const e=yield _c().read(t.dataId);return"string"===t.dtype?e:new Uint8Array(e.buffer)})()}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),_c().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return tu.print(this,t)}clone(){return this.throwIfDisposed(),tu.clone(this)}toString(t=!1){return Eh(this.dataSync(),this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),tu.cast(this,t)}variable(t=!0,e,i){return this.throwIfDisposed(),_c().makeVariable(this,t,e,i)}}function K(){return On("Tensor",()=>to)}Object.defineProperty(to,Symbol.hasInstance,{value:n=>!!n&&null!=n.data&&null!=n.dataSync&&null!=n.throwIfDisposed}),K();class Ie extends to{constructor(t,e,i,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=i}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Re(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);_c().disposeTensor(this),this.dataId=t.dataId,_c().incRef(this,null)}dispose(){_c().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Ie,Symbol.hasInstance,{value:n=>n instanceof to&&null!=n.assign&&n.assign instanceof Function});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
var Ae=function(n){return n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64",n}(Ae||{}),ht=function(n){return n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64",n}(ht||{}),Lt=function(n){return n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64",n}(Lt||{}),cn=function(n){return n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64",n}(cn||{});const Hn={float32:Lt,int32:Ae,bool:ht,complex64:cn};function An(n,t){if("string"===n||"string"===t){if("string"===n&&"string"===t)return"string";throw new Error(`Can not upcast ${n} with ${t}`)}return Hn[n][t]}function ci(n){return An(n,"int32")}function rr(n){return null!=n&&"object"==typeof n&&"texture"in n&&n.texture instanceof WebGLTexture}function yr(n){return typeof GPUBuffer<"u"&&null!=n&&"object"==typeof n&&"buffer"in n&&n.buffer instanceof GPUBuffer}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Pr(n,t){if(n.dtype===t.dtype)return[n,t];const e=An(n.dtype,t.dtype);return[n.cast(e),t.cast(e)]}function Ml(n){const t=[];return Ul(n,t,new Set),t}function Ul(n,t,e){if(null==n)return;if(n instanceof to)return void t.push(n);if(!function kd(n){return Array.isArray(n)||"object"==typeof n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n))return;const i=n;for(const r in i){const a=i[r];e.has(a)||(e.add(a),Ul(a,t,e))}}function Sh(n){return null!=n.kernelName}class iu{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}let xe=(()=>{class n{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new iu}ready(){var e=this;return(0,Q.A)(function*(){if(null!=e.pendingBackendInit)return e.pendingBackendInit.then(()=>{});if(null!=e.backendInstance)return;const i=e.getSortedBackends();for(let r=0;r<i.length;r++){const a=i[r];if(yield e.initializeBackend(a).success)return void(yield e.setBackend(a))}throw new Error("Could not initialize any backends, all backend initializations failed.")})()}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:i}=this.initializeBackendsAndReturnBest();if(i)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:i}=this.initializeBackend(e);if(i)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,i,r=1){return e in this.registryFactory?(on(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:i,priority:r},!0)}setBackend(e){var i=this;return(0,Q.A)(function*(){if(null==i.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(i.backendName=e,null==i.registry[e]){i.backendInstance=null;const{success:r,asyncInit:a}=i.initializeBackend(e);if(!(a?yield r:r))return!1}return i.backendInstance=i.registry[e],i.setupRegisteredKernels(),i.profiler=new vu(i.backendInstance),!0})()}setupRegisteredKernels(){ts(this.backendName).forEach(i=>{null!=i.setupFunc&&i.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){ts(e).forEach(r=>{null!=r.disposeFunc&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const i=this.registryFactory[e];if(null==i)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=i.factory();if(!r||r instanceof Je||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{const a=++this.pendingBackendInitId,c=r.then(u=>!(a<this.pendingBackendInitId||(this.registry[e]=u,this.pendingBackendInit=null,0))).catch(u=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,on(`Initialization of backend ${e} failed`),on(u.stack||u.message)),!1));return this.pendingBackendInit=c,{success:c,asyncInit:!0}}}catch(r){return on(`Initialization of backend ${e} failed`),on(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,i)=>this.registryFactory[i].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let i=0;i<e.length;i++){const r=e[i],{success:a,asyncInit:c}=this.initializeBackend(r);if(c||a)return{name:r,asyncInit:c}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,i){const r=this.state.tensorInfo.get(i),a=r.backend,c=this.readSync(i),u=a.refCount(i);a.disposeData(i,!0),r.backend=e,e.move(i,c,r.shape,r.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,i){let a,r=null;if(null==i){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");i=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof i)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=i(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,i,r){e();try{const a=r();return i(),a}catch(a){throw i(),a}}nextTensorId(){return n.nextTensorId++}nextVariableId(){return n.nextVariableId++}clone(e){const i=Oe.runKernel(Pa,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[i],u=>({x:()=>Oe.runKernel(et,{x:u},{dtype:"float32"})}),[],{}),i}runKernel(e,i,r){if(null==Fs(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:i,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,i,r){const a=this.backend.numDataIds();let c=0;r.forEach(p=>{c+="complex64"===p.dtype?3:1});const f=a-i-c-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(f>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${f} data ids) after running '${e}'`)}runKernelFunc(e){let i,r=[];const a=this.isTapeOn(),c=this.state.numBytes,u=this.state.numTensors;let f,p;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const g=Sh(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Sh(e)){const{kernelName:ae,inputs:te,attrs:ye}=e,ke=Fs(ae,this.backendName);Se(null!=ke,()=>`Cannot find registered kernel '${ae}' for backend '${this.backendName}'`),f=()=>{const tt=this.backend.numDataIds();p=ke.kernelFunc({inputs:te,attrs:ye,backend:this.backend});const nt=Array.isArray(p)?p:[p];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(ae,tt,nt);const St=nt.map(Xt=>null!=Xt.rank?Xt:this.makeTensorFromTensorInfo(Xt));if(a){const Xt=this.getTensorsForGradient(ae,te,St);r=this.saveTensorsForBackwardMode(Xt)}return St}}else{const{forwardFunc:ae}=e,te=ye=>{a&&(r=ye.map(ke=>this.keep(this.clone(ke))))};f=()=>{const ye=this.backend.numDataIds();p=this.tidy(()=>ae(this.backend,te));const ke=Array.isArray(p)?p:[p];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,ye,ke),ke}}const{inputs:v,attrs:T}=e,U=Sh(e)?null:e.backwardsFunc;let q;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(q=this.profiler.profileKernel(g,v,()=>f()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(q),i=q.outputs):i=f()}),a&&this.addTapeNode(g,v,i,U,r,T),this.state.profiling&&this.state.activeProfile.kernels.push({name:g,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(v).map(ae=>null!=v[ae]?v[ae].shape:null),outputShapes:i.map(ae=>ae.shape),kernelTimeMs:q.timeMs,extraInfo:q.extraInfo}),Array.isArray(p)?i:i[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,i,r){const a=Yr(e);if(null!=a){const c=a.inputsToSave||[],u=a.outputsToSave||[];let f;a.saveAllInputs?(Se(Array.isArray(i),()=>"saveAllInputs is true, expected inputs to be an array."),f=Object.keys(i).map(g=>i[g])):f=c.map(g=>i[g]);const p=r.filter((g,v)=>u[v]);return f.concat(p)}return[]}makeTensor(e,i,r,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");a=a||this.backend;let c=e;"string"===(r=r||"float32")&&Wn(e[0])&&(c=e.map(p=>nc(p)));const u=a.write(c,i,r),f=new to(i,r,u,this.nextTensorId());if(this.trackTensor(f,a),"string"===r){const p=this.state.tensorInfo.get(u),g=function nn(n){if(null==n)return 0;let t=0;return n.forEach(e=>t+=e.length),t}(c);this.state.numBytes+=g-p.bytes,p.bytes=g}return f}makeTensorFromDataId(e,i,r,a){return this.makeTensorFromTensorInfo({dataId:e,shape:i,dtype:r=r||"float32"},a)}makeTensorFromTensorInfo(e,i){const{dataId:r,shape:a,dtype:c}=e,u=new to(a,c,r,this.nextTensorId());return this.trackTensor(u,i),u}makeVariable(e,i=!0,r,a){r=r||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const c=new Ie(e,i,r,this.nextTensorId());if(null!=this.state.registeredVariables[c.name])throw new Error(`Variable with name ${c.name} was already registered`);return this.state.registeredVariables[c.name]=c,this.incRef(c,this.backend),c}trackTensor(e,i){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*Gt(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:i||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Ie||this.track(e)}incRef(e,i){this.trackTensor(e,i),this.backend.incRef(e.dataId)}removeDataId(e,i){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===i&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const i=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=i.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const r=e.size*Gt(e.dtype);this.state.numBytes-=r}i.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,i.backend)}disposeVariables(){for(const e in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[e])}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){var i=this;return(0,Q.A)(function*(){i.state.profiling=!0;const r=i.state.numBytes,a=i.state.numTensors;i.state.activeProfile.kernels=[],i.state.activeProfile.result=yield e(),i.state.profiling=!1,i.state.activeProfile.peakBytes=Math.max(...i.state.activeProfile.kernels.map(c=>c.totalBytesSnapshot)),i.state.activeProfile.newBytes=i.state.numBytes-r,i.state.activeProfile.newTensors=i.state.numTensors-a;for(const c of i.state.activeProfile.kernels)c.kernelTimeMs=yield c.kernelTimeMs,c.extraInfo=yield c.extraInfo;return i.state.activeProfile})()}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,i,r,a,c,u){const f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:i,outputs:r,saved:c},p=Yr(e);null!=p&&(a=p.gradFunc),null!=a&&(f.gradient=g=>(g=g.map((v,T)=>{if(null==v){const U=r[T],q=Gn(U.size,U.dtype);return this.makeTensor(q,U.shape,U.dtype)}return v}),a(g.length>1?g:g[0],c,u))),this.state.activeTape.push(f)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const i={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(i.name=e),this.state.scopeStack.push(i),this.state.activeScope=i}endScope(e){const i=Ml(e),r=new Set(i.map(c=>c.id));for(let c=0;c<this.state.activeScope.track.length;c++){const u=this.state.activeScope.track[c];!u.kept&&!r.has(u.id)&&u.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],i.forEach(c=>{!c.kept&&c.scopeId===a.id&&this.track(c)})}gradients(e,i,r,a=!1){if(Se(i.length>0,()=>"gradients() received an empty list of xs."),null!=r&&"float32"!==r.dtype)throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const c=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Se(c instanceof to,()=>"The result y returned by f() must be a tensor.");const u=function gd(n,t,e){const i={},r={};for(let f=0;f<t.length;f++)i[t[f].id]=!0;for(let f=0;f<n.length;f++){const p=n[f],g=p.inputs;for(const v in g){const T=g[v];let U=!1;for(let q=0;q<t.length;q++)if(i[T.id]){p.outputs.forEach(ae=>i[ae.id]=!0),U=!0,r[p.id]=!0;break}if(U)break}}const a={};a[e.id]=!0;const c={};for(let f=n.length-1;f>=0;f--){const p=n[f],g=p.inputs;for(let v=0;v<p.outputs.length;v++)if(a[p.outputs[v].id]){for(const T in g)a[g[T].id]=!0,c[p.id]=!0;break}}const u=[];for(let f=0;f<n.length;f++){const p=n[f];if(r[p.id]&&c[p.id]){const g={};for(const T in p.inputs){const U=p.inputs[T];i[U.id]&&(g[T]=U)}const v=Object.assign({},p);v.inputs=g,v.outputs=p.outputs,u.push(v)}}return u}(this.state.activeTape,i,c);if(!a&&0===u.length&&i.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const f={};f[c.id]=r??function ge(n){const t=Sn(Tt(n),"float32");return Oe.makeTensor(t,n,"float32")}(c.shape),function Td(n,t,e,i){for(let r=t.length-1;r>=0;r--){const a=t[r],c=[];if(a.outputs.forEach(f=>{const p=n[f.id];c.push(null!=p?p:null)}),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const u=a.gradient(c);for(const f in a.inputs){if(!(f in u))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(u)}.`);const p=e(()=>u[f]());if("float32"!==p.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${p.dtype}'`);const g=a.inputs[f];if(!Re(p.shape,g.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${f}' has shape '${p.shape}', which does not match the shape of the input '${g.shape}'`);if(null==n[g.id])n[g.id]=p;else{const v=n[g.id];n[g.id]=i(v,p),v.dispose()}}}}(f,u,g=>this.tidy(g),Wt);const p=i.map(g=>f[g.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(g=>{for(const v of g.saved)v.dispose()}),this.state.activeTape=null),{value:c,grads:p}})}customGrad(e){return Se(xt(e),()=>"The f passed in customGrad(f) must be a function."),(...i)=>{let r;Se(i.every(f=>f instanceof to),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const a={};return i.forEach((f,p)=>{a[p]=f}),this.runKernelFunc({forwardFunc:(f,p)=>(r=e(...i,p),Se(r.value instanceof to,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Se(xt(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),backwardsFunc:(f,p)=>{const g=r.gradFunc(f,p),v=Array.isArray(g)?g:[g];Se(v.length===i.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Se(v.every(U=>U instanceof to),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const T={};return v.forEach((U,q)=>{T[q]=()=>U}),T},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,i){return this.state.tensorInfo.get(e).backend.readToGPU(e,i)}time(e){var i=this;return(0,Q.A)(function*(){const r=jr(),a=yield i.backend.time(e);return a.wallMs=jr()-r,a})()}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new iu;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return n.nextTensorId=0,n.nextVariableId=0,n})();function Ke(){const n=Ft();if(null==n._tfengine){const t=new gt(n);n._tfengine=new xe(t)}return function Le(n){rt=n}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n._tfengine.ENV),function Gu(n){_c=n}(()=>n._tfengine),n._tfengine}const Oe=Ke();function Wt(n,t){return Oe.runKernel(Ci,{a:n,b:t})}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function di(n){if(n||function Jt(){return typeof navigator<"u"&&null!=navigator}()){if(n||(n=navigator),"ReactNative"===n.product)return!0;const t=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");return t?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)):n.userAgentData&&n.userAgentData.mobile}return!1}function Ii(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Ei=Te();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vi(n,t){let e=n;if(Eo(n))return"string"===t?[]:[n.length];if(rr(n))return[n.height,n.width*(n.channels||"RGBA").length];if(yr(n))return[n.buffer.size/(null==t?4:Gt(t))];if(!Array.isArray(n))return[];const i=[];for(;Array.isArray(e)||Eo(e)&&"string"!==t;)i.push(e.length),e=e[0];return Array.isArray(n)&&Te().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Kr(n,i,[]),i}function Kr(n,t,e){if(e=e||[],!Array.isArray(n)&&!Eo(n))return void Se(0===t.length,()=>`Element arr[${e.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);Se(t.length>0,()=>`Element arr[${e.join("][")}] should be a primitive, but is an array of ${n.length} elements`),Se(n.length===t[0],()=>`Element arr[${e.join("][")}] should have ${t[0]} elements, but has ${n.length} elements`);const i=t.slice(1);for(let r=0;r<n.length;++r)Kr(n[r],i,e.concat(r))}function ps(n,t,e,i){if("string_or_numeric"!==n){if(null==n)throw new Error("Expected dtype cannot be null.");if("numeric"!==n&&n!==t||"numeric"===n&&"string"===t)throw new Error(`Argument '${e}' passed to '${i}' must be ${n} tensor, but got ${t} tensor`)}}function Rt(n,t,e,i="numeric"){if(n instanceof K())return ps(i,n.dtype,t,e),n;let r=tn(n);if("string"!==r&&["bool","int32","float32"].indexOf(i)>=0&&(r=i),ps(i,r,t,e),null==n||!Eo(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error(`Argument '${t}' passed to '${e}' must be a Tensor or TensorLike, but got '${null==n?"null":n.constructor.name}'`);const a=Vi(n,r);!Eo(n)&&!Array.isArray(n)&&(n=[n]);const u="string"!==r?Va(n,r):ic(n,[],!0);return Oe.makeTensor(u,a,r)}function Es(n,t,e,i="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${t} passed to ${e} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((a,c)=>Rt(a,`${t}[${c}]`,e,i))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */Ei.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Ei.registerFlag("IS_BROWSER",()=>Ii()),Ei.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Ei.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Ei.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Ei.registerFlag("PROD",()=>!1),Ei.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ei.getBool("DEBUG")),Ei.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Ei.registerFlag("IS_TEST",()=>!1),Ei.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ei.getBool("DEBUG")),Ei.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Ei.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Ei.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);const Ol="__op";function fn(n){const t=Object.keys(n);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let e=t[0];const i=n[e];e.endsWith("_")&&(e=e.substring(0,e.length-1)),e+=Ol;const r=(...a)=>{Oe.startScope(e);try{const c=i(...a);return We(c)&&console.error("Cannot return a Promise inside of tidy."),Oe.endScope(c),c}catch(c){throw Oe.endScope(null),c}};return Object.defineProperty(r,"name",{value:e,configurable:!0}),r
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const go=fn({complex_:function Sa(n,t){const e=Rt(n,"real","complex"),i=Rt(t,"imag","complex");return qt(e.shape,i.shape,`real and imag shapes, ${e.shape} and ${i.shape}, must match in call to tf.complex().`),Oe.runKernel(Bt,{real:e,imag:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ro(n,t,e,i){if(null==i)i=tn(n);else if("complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(yr(n)||rr(n)){if("float32"!==i&&"int32"!==i)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${i}.`);return Oe.backend.createTensorFromGPUData(n,t||e,i)}if(!Eo(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Kn(t);const r=Tt(t),a=Tt(e);Se(r===a,()=>`Based on the provided shape, [${t}], the tensor should have ${r} values but has ${a}`);for(let c=0;c<e.length;++c){const f=c!==e.length-1||e[c]!==Tt(t.slice(c));Se(e[c]===t[c]||!f,()=>`Error creating a new Tensor. Inferred shape (${e}) does not match the provided shape (${t}). `)}}return!Eo(n)&&!Array.isArray(n)&&(n=[n]),t=t||e,n="string"!==i?Va(n,i):ic(n,[],!0),Oe.makeTensor(n,t,i)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function Js(n,t,e){return Ro(n,t,Vi(n,e),e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Mr={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Is{static join(t){return new Is(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,null==t||(t instanceof Array||(t=[t]),0===(t=t.map(i=>Eo(i)?i.buffer:i)).length))return;this.bufferUniformSize=t[0].byteLength;let e=0;for(let i=0;i<t.length;i++){const r=t[i];i!==t.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=e+r.byteLength;this.shards.push({buffer:r,start:e,end:a}),e=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,e=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,e=isNaN(Number(e))?0:e,t=Math.max(0,t),(e=Math.min(this.byteLength,e))<=t)return new ArrayBuffer(0);const i=this.findShardForByte(t);if(-1===i)throw new Error(`Could not find start shard for byte ${t}`);const a=new ArrayBuffer(e-t),c=new Uint8Array(a);let u=0;for(let f=i;f<this.shards.length;f++){const p=this.shards[f],v=t+u-p.start,T=u,q=Math.min(e,p.end)-p.start,ae=new Uint8Array(p.buffer,v,q-v);if(c.set(ae,T),u+=ae.length,e<p.end)break}return a}findShardForByte(t){if(0===this.shards.length||t<0||t>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function e(r){return t<r.start?-1:t>=r.end?1:0}if(0===e(this.shards[this.previousShardIndex]))return this.previousShardIndex;const i=function ru(n,t){let e=0,i=n.length;for(;e<=i;){const r=Math.floor((i-e)/2)+e,a=t(n[r]);if(0===a)return r;a<0?i=r:e=r+1}return-1}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.shards,e);return-1===i?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function zl(){return Oe}function Gc(){return Oe.memory()}function k(n,t){return Oe.tidy(n,t)}function V(n){Ml(n).forEach(e=>e.dispose())}function fe(n){return Oe.keep(n)}function At(n){return Oe.setBackend(n)}function mi(n,t,e=1){return Oe.registerBackend(n,t,e)}function hi(){return Oe.backend}!function Ch(n){nu=n}(function Rl(n){Te().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const Si=4;function Un(n,t){return _i.apply(this,arguments)}function _i(){return _i=(0,Q.A)(function*(n,t){const e=[],i=[],r=Array.isArray(n)?n.map(c=>c.name):Object.keys(n);for(let c=0;c<r.length;++c){const u=r[c],f=Array.isArray(n)?n[c].tensor:n[u];if("float32"!==f.dtype&&"int32"!==f.dtype&&"bool"!==f.dtype&&"string"!==f.dtype&&"complex64"!==f.dtype)throw new Error(`Unsupported dtype in weight '${u}': ${f.dtype}`);const p={name:u,shape:f.shape,dtype:f.dtype};if("string"===f.dtype){const g=new Promise(function(){var v=(0,Q.A)(function*(T){const U=yield f.bytes(),q=U.reduce((ye,ke)=>ye+ke.length,0)+Si*U.length,ae=new Uint8Array(q);let te=0;for(let ye=0;ye<U.length;ye++){const ke=U[ye],tt=new Uint8Array(new Uint32Array([ke.length]).buffer);ae.set(tt,te),te+=Si,ae.set(ke,te),te+=ke.length}T(ae)});return function(T){return v.apply(this,arguments)}}());i.push(g)}else i.push(f.data());null!=t&&(p.group=t),e.push(p)}return{data:ca(yield Promise.all(i)),specs:e}}),_i.apply(this,arguments)}function nr(n,t){const e=new Is(n),i={};let r=0;for(const a of t){const c=er(a,(u,f)=>e.slice(r+u,r+f));i[a.name]=Ls(a,e.slice(r,r+c)),r+=c}return i}function er(n,t){const e=Tt(n.shape);let i;if("quantization"in n)i=Mr[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=Si+new Uint32Array(t(r,r+Si))[0];return r}i=Mr[n.dtype]}return e*i}function Wr(n,t){return xs.apply(this,arguments)}function xs(){return(xs=(0,Q.A)(function*(n,t){const e=Tt(n.shape);let i;if("quantization"in n)i=Mr[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=Si+new Uint32Array(yield t(r,r+Si))[0];return r}i=Mr[n.dtype]}return e*i})).apply(this,arguments)}function Ls(n,t){const e=n.name,i=n.dtype,r=n.shape,a=Tt(r);let c,u=0;if("quantization"in n){const f=n.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error(`Weight ${n.name} with quantization ${f.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==f.dtype)throw new Error(`Weight ${n.name} has unknown quantization dtype ${f.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${n.name} is quantized with ${f.dtype} which only supports weights of type float32 not ${i}.`)}const p=Mr[f.dtype],g="uint8"===f.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===i)if("uint8"===f.dtype||"uint16"===f.dtype){c=new Float32Array(g.length);for(let v=0;v<g.length;v++)c[v]=g[v]*f.scale+f.min}else{if("float16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type float32.`);c=function Th(){const n=function Id(){const n=e=>{let i=e<<13,r=0;for(;!(8388608&i);)r-=8388608,i<<=1;return i&=-8388609,r+=947912704,i|r},t=new Uint32Array(2048);t[0]=0;for(let e=1;e<1024;e++)t[e]=n(e);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function th(){const n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(let t=1;t<31;t++)n[t]=t<<23;for(let t=33;t<63;t++)n[t]=2147483648+(t-32<<23);return n}(),e=function ou(){const n=new Uint32Array(64);for(let t=0;t<64;t++)n[t]=1024;return n[0]=n[32]=0,n}();return i=>{const r=new ArrayBuffer(4*i.length),a=new Uint32Array(r);for(let c=0;c<i.length;c++){const u=i[c];a[c]=n[e[u>>10]+(1023&u)]+t[u>>10]}return new Float32Array(r)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */()(g)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${e}': ${i}`);if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type int32.`);c=new Int32Array(g.length);for(let v=0;v<g.length;v++)c[v]=Math.round(g[v]*f.scale+f.min)}u+=a*p}else if("string"===i){const f=Tt(n.shape);c=[];for(let p=0;p<f;p++){const g=new Uint32Array(t.slice(u,u+Si))[0];u+=Si;const v=new Uint8Array(t.slice(u,u+g));c.push(v),u+=g}}else{const f=Mr[i];if("float32"===i)c=new Float32Array(t);else if("int32"===i)c=new Int32Array(t);else{if("bool"!==i){if("complex64"===i){c=new Float32Array(t);const p=new Float32Array(c.length/2),g=new Float32Array(c.length/2);for(let q=0;q<p.length;q++)p[q]=c[2*q],g[q]=c[2*q+1];const v=Js(p,r,"float32"),T=Js(g,r,"float32"),U=go(v,T);return v.dispose(),T.dispose(),U}throw new Error(`Unsupported dtype in weight '${e}': ${i}`)}c=new Uint8Array(t)}u+=a*f}return Js(c,r,i)}function qr(n,t,e){return xr.apply(this,arguments)}function xr(){return(xr=(0,Q.A)(function*(n,t,e){let i=new Uint8Array(t);for(;i.byteLength<e;){const{done:r,value:a}=yield n.read();if(r&&null==a)throw new Error(`Reader is done but ${e-i.byteLength} bytes are still expected`);const c=new Uint8Array(i.length+a.byteLength);c.set(i,0),c.set(new Uint8Array(a),i.length),i=c}return i.buffer})).apply(this,arguments)}function dr(n,t){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,Q.A)(function*(n,t){const e={},i=n.getReader();let r=new ArrayBuffer(0);for(const a of t){const c=yield Wr(a,function(){var p=(0,Q.A)(function*(g,v){return r=yield qr(i,r,v),r.slice(g,v)});return function(g,v){return p.apply(this,arguments)}}());r=yield qr(i,r,c);const u=r.slice(0,c);r=r.slice(c);const f=Ls(a,u);if(e[a.name]=f,"webgpu"===Oe.backendName){const p=hi();"uploadToGPU"in p&&Tt(f.shape)>=Te().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&p.uploadToGPU(f.dataId)}}return e}),Xi.apply(this,arguments)}function ca(n){if(null===n)throw new Error(`Invalid input value: ${JSON.stringify(n)}`);let t=0;const e=[];n.forEach(a=>{if(t+=a.byteLength,e.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});const i=new Uint8Array(t);let r=0;return e.forEach(a=>{i.set(new Uint8Array(a.buffer),r),r+=a.byteLength}),i.buffer}const Cr=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function ls(n){return Cr?Buffer.byteLength(n,"utf8"):new Blob([n]).size}function Qo(n){return Is.join(n)}function Qa(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);const e=n.split("/");return e[e.length-1]}function Ds(n,t){const e={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:t};return null!=n.signature&&(e.signature=n.signature),null!=n.userDefinedMetadata&&(e.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(e.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(e.initializerSignature=n.initializerSignature),null!=n.trainingConfig&&(e.trainingConfig=n.trainingConfig),e}function Kc(n,t,e){const i={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(null!=n.trainingConfig&&(i.trainingConfig=n.trainingConfig),null!=n.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!e)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=t,i.weightData=e}return null!=n.signature&&(i.signature=n.signature),null!=n.userDefinedMetadata&&(i.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(i.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(i.initializerSignature=n.initializerSignature),i}function Do(n,t){return vc.apply(this,arguments)}function vc(){return(vc=(0,Q.A)(function*(n,t){let e,i;return null!=n.weightsManifest&&([e,i]=yield t(n.weightsManifest)),Kc(n,e,i)})).apply(this,arguments)}function Da(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==n.modelTopology?0:ls(JSON.stringify(n.modelTopology)),weightSpecsBytes:null==n.weightSpecs?0:ls(JSON.stringify(n.weightSpecs)),weightDataBytes:null==n.weightData?0:new Is(n.weightData).byteLength}}function Sr(n){const t=[];for(const e of n)t.push(...e.weights);return t}class xo{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==xo.instance&&(xo.instance=new xo),xo.instance}static registerSaveRouter(t){xo.getInstance().saveRouters.push(t)}static registerLoadRouter(t){xo.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return xo.getHandlers(t,"save")}static getLoadHandlers(t,e){return xo.getHandlers(t,"load",e)}static getHandlers(t,e,i){const r=[];return("load"===e?xo.getInstance().loadRouters:xo.getInstance().saveRouters).forEach(c=>{const u=c(t,i);null!==u&&r.push(u)}),r}}const Ua=n=>xo.registerSaveRouter(n),Ad=n=>xo.registerLoadRouter(n),Sl=n=>xo.getSaveHandlers(n),Nl=(n,t)=>xo.getLoadHandlers(n,t)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,Md="tensorflowjs",bu="models_store",ua="model_info_store";function kh(){if(!Te().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const n=typeof window>"u"?self:window,t=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Xu(n){const t=n.result;t.createObjectStore(bu,{keyPath:"modelPath"}),t.createObjectStore(ua,{keyPath:"modelPath"})}let yd=(()=>{class n{constructor(e){if(this.indexedDB=kh(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){var i=this;return(0,Q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return i.databaseAction(i.modelPath,e)})()}load(){var e=this;return(0,Q.A)(function*(){return e.databaseAction(e.modelPath)})()}databaseAction(e,i){return new Promise((r,a)=>{const c=this.indexedDB.open(Md,1);c.onupgradeneeded=()=>Xu(c),c.onsuccess=()=>{const u=c.result;if(null==i){const f=u.transaction(bu,"readonly"),g=f.objectStore(bu).get(this.modelPath);g.onsuccess=()=>{if(null==g.result)return u.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(g.result.modelArtifacts)},g.onerror=v=>(u.close(),a(g.error)),f.oncomplete=()=>u.close()}else{i.weightData=Is.join(i.weightData);const f=Da(i),p=u.transaction(ua,"readwrite");let v,T,g=p.objectStore(ua);try{v=g.put({modelPath:this.modelPath,modelArtifactsInfo:f})}catch(U){return a(U)}v.onsuccess=()=>{T=u.transaction(bu,"readwrite");const U=T.objectStore(bu);let q;try{q=U.put({modelPath:this.modelPath,modelArtifacts:i,modelArtifactsInfo:f})}catch(ae){return a(ae)}q.onsuccess=()=>r({modelArtifactsInfo:f}),q.onerror=ae=>{g=p.objectStore(ua);const te=g.delete(this.modelPath);te.onsuccess=()=>(u.close(),a(q.error)),te.onerror=ye=>(u.close(),a(q.error))}},v.onerror=U=>(u.close(),a(v.error)),p.oncomplete=()=>{null==T?u.close():T.oncomplete=()=>u.close()}}},c.onerror=u=>a(c.error)})}}return n.URL_SCHEME="indexeddb://",n})();const no=n=>Te().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(yd.URL_SCHEME)?function Fl(n){return new yd(n)}(n.slice(yd.URL_SCHEME.length)):null;xo.registerSaveRouter(no),xo.registerLoadRouter(no);class Ta{constructor(){this.indexedDB=kh()}listModels(){var t=this;return(0,Q.A)(function*(){return new Promise((e,i)=>{const r=t.indexedDB.open(Md,1);r.onupgradeneeded=()=>Xu(r),r.onsuccess=()=>{const a=r.result,c=a.transaction(ua,"readonly"),f=c.objectStore(ua).getAll();f.onsuccess=()=>{const p={};for(const g of f.result)p[g.modelPath]=g.modelArtifactsInfo;e(p)},f.onerror=p=>(a.close(),i(f.error)),c.oncomplete=()=>a.close()},r.onerror=a=>i(r.error)})})()}removeModel(t){var e=this;return(0,Q.A)(function*(){return t=function Qr(n){return n.startsWith(yd.URL_SCHEME)?n.slice(yd.URL_SCHEME.length):n}(t),new Promise((i,r)=>{const a=e.indexedDB.open(Md,1);a.onupgradeneeded=()=>Xu(a),a.onsuccess=()=>{const c=a.result,u=c.transaction(ua,"readwrite"),f=u.objectStore(ua),p=f.get(t);let g;p.onsuccess=()=>{if(null==p.result)return c.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const v=f.delete(t),T=()=>{g=c.transaction(bu,"readwrite");const q=g.objectStore(bu).delete(t);q.onsuccess=()=>i(p.result.modelArtifactsInfo),q.onerror=ae=>r(p.error)};v.onsuccess=T,v.onerror=U=>(T(),c.close(),r(p.error))}},p.onerror=v=>(c.close(),r(p.error)),u.oncomplete=()=>{null==g?c.close():g.oncomplete=()=>c.close()}},a.onerror=c=>r(a.error)})})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Fr="/",jl="tensorflowjs_models",wu="info",qm="model_topology",nh="weight_specs",Wb="weight_data",Hb="model_metadata";function Sp(n){return{info:[jl,n,wu].join(Fr),topology:[jl,n,qm].join(Fr),weightSpecs:[jl,n,nh].join(Fr),weightData:[jl,n,Wb].join(Fr),modelMetadata:[jl,n,Hb].join(Fr)}}function ih(n){for(const t of Object.values(n))window.localStorage.removeItem(t)}function Ih(n){const t=n.split(Fr);if(t.length<3)throw new Error(`Invalid key format: ${n}`);return t.slice(1,t.length-1).join(Fr)}let Od=(()=>{class n{constructor(e){if(!Te().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Sp(this.modelPath)}save(e){var i=this;return(0,Q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const r=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),c=Da(e),u=Is.join(e.weightData);try{return i.LS.setItem(i.keys.info,JSON.stringify(c)),i.LS.setItem(i.keys.topology,r),i.LS.setItem(i.keys.weightSpecs,a),i.LS.setItem(i.keys.weightData,function cs(n){if(Cr)return Buffer.from(n).toString("base64");const t=new Uint8Array(n);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(u)),i.LS.setItem(i.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0})),{modelArtifactsInfo:c}}catch{throw ih(i.keys),new Error(`Failed to save model '${i.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${c.modelTopologyBytes}, weightSpecsBytes=${c.weightSpecsBytes}, weightDataBytes=${c.weightDataBytes}.`)}}})()}load(){var e=this;return(0,Q.A)(function*(){const i=JSON.parse(e.LS.getItem(e.keys.info));if(null==i)throw new Error(`In local storage, there is no model with name '${e.modelPath}'`);if("JSON"!==i.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const r={},a=JSON.parse(e.LS.getItem(e.keys.topology));if(null==a)throw new Error(`In local storage, the topology of model '${e.modelPath}' is missing.`);r.modelTopology=a;const c=JSON.parse(e.LS.getItem(e.keys.weightSpecs));if(null==c)throw new Error(`In local storage, the weight specs of model '${e.modelPath}' are missing.`);r.weightSpecs=c;const u=e.LS.getItem(e.keys.modelMetadata);if(null!=u){const p=JSON.parse(u);r.format=p.format,r.generatedBy=p.generatedBy,r.convertedBy=p.convertedBy,null!=p.signature&&(r.signature=p.signature),null!=p.userDefinedMetadata&&(r.userDefinedMetadata=p.userDefinedMetadata),null!=p.modelInitializer&&(r.modelInitializer=p.modelInitializer),null!=p.initializerSignature&&(r.initializerSignature=p.initializerSignature),null!=p.trainingConfig&&(r.trainingConfig=p.trainingConfig)}const f=e.LS.getItem(e.keys.weightData);if(null==f)throw new Error(`In local storage, the binary weight values of model '${e.modelPath}' are missing.`);return r.weightData=function qo(n){if(Cr){const i=Buffer.from(n,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const t=atob(n),e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e.set([t.charCodeAt(i)],i);return e.buffer}(f),r})()}}return n.URL_SCHEME="localstorage://",n})();const W_=n=>Te().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Od.URL_SCHEME)?function zk(n){return new Od(n)}(n.slice(Od.URL_SCHEME.length)):null;xo.registerSaveRouter(W_),xo.registerLoadRouter(W_);class H_{constructor(){Se(Te().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Se(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){var t=this;return(0,Q.A)(function*(){const e={},i=jl+Fr,r=Fr+wu;for(let a=0;a<t.LS.length;++a){const c=t.LS.key(a);c.startsWith(i)&&c.endsWith(r)&&(e[Ih(c)]=JSON.parse(t.LS.getItem(c)))}return e})()}removeModel(t){var e=this;return(0,Q.A)(function*(){const i=Sp(t=function Dp(n){return n.startsWith(Od.URL_SCHEME)?n.slice(Od.URL_SCHEME.length):n}(t));if(null==e.LS.getItem(i.info))throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(e.LS.getItem(i.info));return ih(i),r})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Ah="://";class bc{constructor(){this.managers={}}static getInstance(){return null==bc.instance&&(bc.instance=new bc),bc.instance}static registerManager(t,e){Se(null!=t,()=>"scheme must not be undefined or null."),t.endsWith(Ah)&&(t=t.slice(0,t.indexOf(Ah))),Se(t.length>0,()=>"scheme must not be an empty string.");const i=bc.getInstance();Se(null==i.managers[t],()=>`A model store manager is already registered for scheme '${t}'.`),i.managers[t]=e}static getManager(t){const e=bc.getInstance().managers[t];if(null==e)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(bc.getInstance().managers)}}function Of(n){if(-1===n.indexOf(Ah))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${bc.getSchemes().join(",")}`);return{scheme:n.split(Ah)[0],path:n.split(Ah)[1]}}function Qm(n,t){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,Q.A)(function*(n,t,e=!1){Se(n!==t,()=>`Old path and new path are the same: '${n}'`);const i=xo.getLoadHandlers(n);Se(i.length>0,()=>`Copying failed because no load handler is found for source URL ${n}.`),Se(i.length<2,()=>`Copying failed because more than one (${i.length}) load handlers for source URL ${n}.`);const r=i[0],a=xo.getSaveHandlers(t);Se(a.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),Se(a.length<2,()=>`Copying failed because more than one (${i.length}) save handlers for destination URL ${t}.`);const c=a[0],u=Of(n).scheme,f=Of(n).path,p=u===Of(n).scheme,g=yield r.load();e&&p&&(yield bc.getManager(u).removeModel(f));const v=yield c.save(g);return e&&!p&&(yield bc.getManager(u).removeModel(f)),v.modelArtifactsInfo})).apply(this,arguments)}function G_(){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Q.A)(function*(){const n=bc.getSchemes(),t={};for(const e of n){const i=yield bc.getManager(e).listModels();for(const r in i)t[e+Ah+r]=i[r]}return t})).apply(this,arguments)}function K_(n){return X_.apply(this,arguments)}function X_(){return(X_=(0,Q.A)(function*(n){const t=Of(n);return bc.getManager(t.scheme).removeModel(t.path)})).apply(this,arguments)}function Y_(n,t){return rh.apply(this,arguments)}function rh(){return(rh=(0,Q.A)(function*(n,t){return Qm(n,t,!1)})).apply(this,arguments)}function Yu(n,t){return kp.apply(this,arguments)}function kp(){return(kp=(0,Q.A)(function*(n,t){return Qm(n,t,!0)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class q_{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Browser's encoder only supports utf-8, but got ${e}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}setTimeoutCustom(t,e){typeof window>"u"||!Te().getBool("USE_SETTIMEOUTCUSTOM")?setTimeout(t,e):(this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},e),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{i.source===window&&i.data.name===this.messageName&&(i.stopPropagation(),(0,this.functionRefs[i.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))},!0)))}isTypedArray(t){return Rc(t)}}if(Te().get("IS_BROWSER")){Te().setPlatform("browser",new q_);try{bc.registerManager(Od.URL_SCHEME,new H_)}catch{}try{bc.registerManager(yd.URL_SCHEME,new Ta)}catch{}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let vd;
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function is(n,t="float32",e){return t=t||"float32",Kn(n),new So(n,t,e)
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}Te().get("IS_NODE")&&!Te().get("IS_BROWSER")&&Te().setPlatform("node",new class Rf{constructor(){this.util=_(8590),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return null!=Te().global.fetch?Te().global.fetch(t,e):(null==vd&&(vd=_(5817)),vd(t,e))}now(){const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Node built-in encoder only supports utf-8, but got ${e}`);return this.textEncoder.encode(t)}decode(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}});const qi=fn({cast_:function Eu(n,t){const e=Rt(n,"x","cast");if(!function pe(n){return"bool"===n||"complex64"===n||"float32"===n||"int32"===n||"string"===n}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==e.dtype||"string"!==t&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");return Oe.runKernel(et,{x:e},{dtype:t})}}),Rd=fn({clone_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ap(n){const e={x:Rt(n,"x","clone","string_or_numeric")};return Oe.runKernel(Pa,e)}});
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Za(n,t=!1){console.log(n.toString(t))}
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */Ke(),function eh(n){tu=n}({buffer:is,cast:qi,clone:Rd,print:Za});const Ti=fn({add_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Q_(n,t){let e=Rt(n,"a","add"),i=Rt(t,"b","add");return[e,i]=Pr(e,i),Oe.runKernel(Ci,{a:e,b:i})}}),Nf=fn({floorDiv_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Mh(n,t){let e=Rt(n,"a","floorDiv"),i=Rt(t,"b","floorDiv");return[e,i]=Pr(e,i),Oe.runKernel(oo,{a:e,b:i})}}),B=fn({div_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Mp(n,t){let e=Rt(n,"a","div"),i=Rt(t,"b","div");return[e,i]=Pr(e,i),"int32"===e.dtype&&"int32"===i.dtype?Nf(e,i):Oe.runKernel(Oa,{a:e,b:i},{})}}),me=fn({mul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function G(n,t){let e=Rt(n,"a","mul"),i=Rt(t,"b","mul");return[e,i]=Pr(e,i),Oe.runKernel(Xo,{a:e,b:i})}}),Qt=fn({sqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dt(n){const e={x:Rt(n,"x","sqrt","float32")};return Oe.runKernel(Jn,e)}}),Ln=fn({square_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pn(n){const t=Rt(n,"x","square");return Oe.runKernel("Square",{x:t},{})}}),Ri=fn({zerosLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ai(n){const e={x:Rt(n,"x","zerosLike")};return Oe.runKernel(Mc,e)}});function ka(n){return Oe.customGrad(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vr(n,t){if((Eo(n)&&"string"!==t||Array.isArray(n))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Eo(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ro(n,[],[],t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Oh=new Map,oi=new Map;class As{getClassName(){return this.constructor.className}static fromConfig(t,e){return new t(e)}}class qu{constructor(){this.classNameMap={}}static getMap(){return null==qu.instance&&(qu.instance=new qu),qu.instance}static register(t){qu.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function Mi(n,t,e){Se(null!=n.className,()=>"Class being registered does not have the static className property defined."),Se("string"==typeof n.className,()=>"className is required to be a string, but got type "+typeof n.className),Se(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof e>"u"&&(e=n.className);const r=t+">"+e;return qu.register(n),Oh.set(r,n),oi.set(n,r),n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Rh extends As{minimize(t,e=!1,i){const{value:r,grads:a}=this.computeGradients(t,i);if(null!=i){const c=i.map(u=>({name:u.name,tensor:a[u.name]}));this.applyGradients(c)}else this.applyGradients(a);return V(a),e?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,e){return function To(n,t){Se(xt(n),()=>"The f passed in variableGrads(f) must be a function"),Se(null==t||Array.isArray(t)&&t.every(p=>p instanceof Ie),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const e=null!=t;if(!e){t=[];for(const p in Oe.registeredVariables)t.push(Oe.registeredVariables[p])}const i=e?t.filter(p=>!p.trainable):null,r=t.length;Se((t=t.filter(p=>p.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const{value:c,grads:u}=Oe.gradients(n,t,null,!0);Se(u.some(p=>null!=p),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Se(0===c.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`);const f={};return t.forEach((p,g)=>{null!=u[g]&&(f[p.name]=u[g])}),i?.forEach(p=>f[p.name]=null),{value:c,grads:f}}(t,e)}dispose(){null!=this.iterations_&&V(this.iterations_)}saveIterations(){var t=this;return(0,Q.A)(function*(){return null==t.iterations_&&(t.iterations_=0),{name:"iter",tensor:vr(t.iterations_,"int32")}})()}getWeights(){return(0,Q.A)(function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})()}setWeights(t){var e=this;return(0,Q.A)(function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${e.getClassName()}`)})()}extractIterations(t){var e=this;return(0,Q.A)(function*(){return e.iterations_=(yield t[0].tensor.data())[0],t.slice(1)})()}}Object.defineProperty(Rh,Symbol.hasInstance,{value:n=>null!=n.minimize&&null!=n.computeGradients&&null!=n.applyGradients});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Op extends Rh{static get className(){return"Adadelta"}constructor(t,e,i=null){super(),this.learningRate=t,this.rho=e,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==i&&(this.epsilon=Oe.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Oe.registeredVariables[i],c=!1;null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accum_grad`,variable:k(()=>Ri(a).variable(c))}),null==this.accumulatedUpdates[r]&&(this.accumulatedUpdates[r]={originalName:`${i}/accum_var`,variable:k(()=>Ri(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedGrads[r].variable,p=this.accumulatedUpdates[r].variable;k(()=>{const g=Ti(me(f,this.rho),me(Ln(u),1-this.rho)),v=me(B(Qt(Ti(p,this.epsilon)),Qt(Ti(f,this.epsilon))),u),T=Ti(me(p,this.rho),me(Ln(v),1-this.rho));f.assign(g),p.assign(T);const U=Ti(me(v,-this.learningRate),a);a.assign(U)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(V(this.accumulatedGrads.map(t=>t.variable)),V(this.accumulatedUpdates.map(t=>t.variable)))}getWeights(){var t=this;return(0,Q.A)(function*(){const e=[...t.accumulatedGrads,...t.accumulatedUpdates];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,Q.A)(function*(){const i=(t=yield e.extractIterations(t)).length/2,r=!1;e.accumulatedGrads=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedUpdates=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.rho,e.epsilon)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function au(n,t,e){return Kn(n),e=e||tn(t),Oe.runKernel(Ql,{},{shape:n,value:t,dtype:e})}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Z_ extends Rh{static get className(){return"Adagrad"}constructor(t,e=.1){super(),this.learningRate=t,this.initialAccumulatorValue=e,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Oe.registeredVariables[i];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accumulator`,variable:k(()=>au(a.shape,this.initialAccumulatorValue).variable(!1))});const c=Array.isArray(t)?t[r].tensor:t[i];if(null==c)return;const u=this.accumulatedGrads[r].variable;k(()=>{const f=Ti(u,Ln(c));u.assign(f);const p=Ti(me(B(c,Qt(Ti(f,Oe.backend.epsilon()))),-this.learningRate),a);a.assign(p)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&V(this.accumulatedGrads.map(t=>t.variable))}getWeights(){var t=this;return(0,Q.A)(function*(){return[yield t.saveIterations()].concat(t.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,Q.A)(function*(){t=yield e.extractIterations(t),e.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,e){return new t(e.learningRate,e.initialAccumulatorValue)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const sh=fn({pow_:function Xb(n,t){let e=Rt(n,"base","pow"),i=Rt(t,"exp","pow");return[e,i]=Pr(e,i),Oe.runKernel(le,{a:e,b:i})}}),fr=fn({sub_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LP(n,t){let e=Rt(n,"a","sub"),i=Rt(t,"b","sub");return[e,i]=Pr(e,i),Oe.runKernel(Ac,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Yb extends Rh{static get className(){return"Adam"}constructor(t,e,i,r=null){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],k(()=>{this.accBeta1=vr(e).variable(),this.accBeta2=vr(i).variable()}),null==r&&(this.epsilon=Oe.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);k(()=>{const i=fr(1,this.accBeta1),r=fr(1,this.accBeta2);e.forEach((a,c)=>{const u=Oe.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:k(()=>Ri(u).variable(f))}),null==this.accumulatedSecondMoment[c]&&(this.accumulatedSecondMoment[c]={originalName:`${a}/v`,variable:k(()=>Ri(u).variable(f))});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,v=this.accumulatedSecondMoment[c].variable,T=Ti(me(g,this.beta1),me(p,1-this.beta1)),U=Ti(me(v,this.beta2),me(Ln(p),1-this.beta2)),q=B(T,i),ae=B(U,r);g.assign(T),v.assign(U);const te=Ti(me(B(q,Ti(Qt(ae),this.epsilon)),-this.learningRate),u);u.assign(te)}),this.accBeta1.assign(me(this.accBeta1,this.beta1)),this.accBeta2.assign(me(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&V(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedSecondMoment&&V(this.accumulatedSecondMoment.map(t=>t.variable))}getWeights(){var t=this;return(0,Q.A)(function*(){const e=[...t.accumulatedFirstMoment,...t.accumulatedSecondMoment];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,Q.A)(function*(){t=yield e.extractIterations(t),k(()=>{e.accBeta1.assign(sh(e.beta1,e.iterations_+1)),e.accBeta2.assign(sh(e.beta2,e.iterations_+1))});const i=t.length/2,r=!1;e.accumulatedFirstMoment=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedSecondMoment=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Wl=fn({abs_:function Xx(n){const t=Rt(n,"x","abs");return Oe.runKernel("complex64"===t.dtype?Zn:ei,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function rc(n,t){const e=n.length,i=[];for(let r=0;r<e;r++){const a=e-1-r;(t[t.length-1-r]||1)>1&&1===(n[a]||1)&&i.unshift(a)}return i}function ha(n,t){const e=[];for(let i=0;i<t.length;i++){const r=n[n.length-i-1],a=t.length-i-1;(null==r||1===r&&t[a]>1)&&e.unshift(a)}return e}function Ts(n,t){const e=Math.max(n.length,t.length),i=new Array(e);for(let r=0;r<e;r++){let a=n[n.length-r-1];null==a&&(a=1);let c=t[t.length-r-1];if(null==c&&(c=1),1===a)i[e-r-1]=c;else if(1===c)i[e-r-1]=a;else{if(a!==c)throw Error(`Operands could not be broadcast together with shapes ${n} and ${t}.`);i[e-r-1]=a}}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Xc=fn({maximum_:function Nd(n,t){let e=Rt(n,"a","maximum"),i=Rt(t,"b","maximum");return[e,i]=Pr(e,i),"bool"===e.dtype&&(e=qi(e,"int32"),i=qi(i,"int32")),Ts(e.shape,i.shape),Oe.runKernel(Lo,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Yx extends Rh{static get className(){return"Adamax"}constructor(t,e,i,r=null,a=0){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],k(()=>{this.iteration=vr(0).variable(),this.accBeta1=vr(e).variable()}),null==r&&(this.epsilon=Oe.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);k(()=>{const i=fr(1,this.accBeta1),r=B(-this.learningRate,Ti(me(this.iteration,this.decay),1));e.forEach((a,c)=>{const u=Oe.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:Ri(u).variable(f)}),null==this.accumulatedWeightedInfNorm[c]&&(this.accumulatedWeightedInfNorm[c]={originalName:`${a}/v`,variable:Ri(u).variable(f)});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,v=this.accumulatedWeightedInfNorm[c].variable,T=Ti(me(g,this.beta1),me(p,1-this.beta1)),U=me(v,this.beta2),q=Wl(p),ae=Xc(U,q);g.assign(T),v.assign(ae);const te=Ti(me(B(r,i),B(T,Ti(ae,this.epsilon))),u);u.assign(te)}),this.iteration.assign(Ti(this.iteration,1)),this.accBeta1.assign(me(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&V(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedWeightedInfNorm&&V(this.accumulatedWeightedInfNorm.map(t=>t.variable))}getWeights(){return(0,Q.A)(function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})()}setWeights(t){return(0,Q.A)(function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class J_ extends Rh{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Array.isArray(t)?t[r].tensor:t[i];if(null==a)return;const c=Oe.registeredVariables[i];k(()=>{const u=Ti(me(this.c,a),c);c.assign(u)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=fe(vr(-t))}dispose(){this.c.dispose()}getWeights(){var t=this;return(0,Q.A)(function*(){return[yield t.saveIterations()]})()}setWeights(t){var e=this;return(0,Q.A)(function*(){if(0!==(t=yield e.extractIterations(t)).length)throw new Error("SGD optimizer does not have settable weights.")})()}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,e){return new t(e.learningRate)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class qx extends J_{static get className(){return"Momentum"}constructor(t,e,i=!1){super(t),this.learningRate=t,this.momentum=e,this.useNesterov=i,this.accumulations=[],this.m=vr(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Oe.registeredVariables[i];null==this.accumulations[r]&&(this.accumulations[r]={originalName:`${i}/momentum`,variable:k(()=>Ri(a).variable(!1))});const c=this.accumulations[r].variable,u=Array.isArray(t)?t[r].tensor:t[i];null!=u&&k(()=>{let f;const p=Ti(me(this.m,c),u);f=Ti(me(this.c,this.useNesterov?Ti(u,me(p,this.m)):p),a),c.assign(p),a.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&V(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}getWeights(){var t=this;return(0,Q.A)(function*(){return[yield t.saveIterations()].concat(t.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,Q.A)(function*(){t=yield e.extractIterations(t),e.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Qx extends Rh{static get className(){return"RMSProp"}constructor(t,e=.9,i=0,r=null,a=!1){if(super(),this.learningRate=t,this.decay=e,this.momentum=i,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=Oe.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Oe.registeredVariables[i],c=!1;null==this.accumulatedMeanSquares[r]&&(this.accumulatedMeanSquares[r]={originalName:`${i}/rms`,variable:k(()=>Ri(a).variable(c))}),null==this.accumulatedMoments[r]&&(this.accumulatedMoments[r]={originalName:`${i}/momentum`,variable:k(()=>Ri(a).variable(c))}),null==this.accumulatedMeanGrads[r]&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${i}/mg`,variable:k(()=>Ri(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedMeanSquares[r].variable,p=this.accumulatedMoments[r].variable;k(()=>{const g=Ti(me(f,this.decay),me(Ln(u),1-this.decay));if(this.centered){const v=this.accumulatedMeanGrads[r].variable,T=Ti(me(v,this.decay),me(u,1-this.decay)),U=B(me(u,this.learningRate),Qt(fr(g,Ti(Ln(T),this.epsilon)))),q=Ti(me(p,this.momentum),U);f.assign(g),v.assign(T),p.assign(q);const ae=fr(a,q);a.assign(ae)}else{const v=Ti(me(f,this.decay),me(Ln(u),1-this.decay)),T=Ti(me(p,this.momentum),B(me(u,this.learningRate),Qt(Ti(v,this.epsilon))));f.assign(v),p.assign(T);const U=fr(a,T);a.assign(U)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&V(this.accumulatedMeanSquares.map(t=>t.variable)),null!=this.accumulatedMeanGrads&&this.centered&&V(this.accumulatedMeanGrads.map(t=>t.variable)),null!=this.accumulatedMoments&&V(this.accumulatedMoments.map(t=>t.variable))}getWeights(){var t=this;return(0,Q.A)(function*(){const e=[...t.accumulatedMeanSquares,...t.accumulatedMoments];return t.centered&&e.push(...t.accumulatedMeanGrads),[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,Q.A)(function*(){t=yield e.extractIterations(t);const i=e.centered?t.length/3:t.length/2,r=!1;e.accumulatedMeanSquares=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedMoments=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.centered&&(e.accumulatedMeanGrads=t.slice(2*i,3*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))})()}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)}}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const qb=[Op,Z_,Yb,Yx,qx,Qx,J_];function Jb(n){return new Promise(t=>setTimeout(t)).then(n)}let Jm=(()=>{class n{constructor(e){if(!Te().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n.URL_SCHEME)&&(e=e.slice(n.URL_SCHEME.length)),(null==e||0===e.length)&&(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}save(e){var i=this;return(0,Q.A)(function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const r=Is.join(e.weightData),a=window.URL.createObjectURL(new Blob([r],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const u=Ds(e,[{paths:["./"+i.weightDataFileName],weights:e.weightSpecs}]),f=window.URL.createObjectURL(new Blob([JSON.stringify(u)],{type:"application/json"})),p=null==i.modelJsonAnchor?document.createElement("a"):i.modelJsonAnchor;if(p.download=i.modelJsonFileName,p.href=f,yield Jb(()=>p.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const g=null==i.weightDataAnchor?document.createElement("a"):i.weightDataAnchor;g.download=i.weightDataFileName,g.href=a,yield Jb(()=>g.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Da(e)}}})()}}return n.URL_SCHEME="downloads://",n})();class Zx{constructor(t){if(null==t||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}load(){var t=this;return(0,Q.A)(function*(){return new Promise((e,i)=>{const r=new FileReader;r.onload=a=>{const c=JSON.parse(a.target.result),u=c.modelTopology;if(null==u)return void i(new Error(`modelTopology field is missing from file ${t.jsonFile.name}`));if(null==c.weightsManifest)return void i(new Error(`weightManifest field is missing from file ${t.jsonFile.name}`));if(0===t.weightsFiles.length)return void e({modelTopology:u});const p=Do(c,g=>t.loadWeights(g));e(p)},r.onerror=a=>i(`Failed to read model topology and weights manifest JSON from file '${t.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(t.jsonFile)})})()}loadWeights(t){const e=[],i=[];for(const c of t)e.push(...c.weights),i.push(...c.paths);const r=this.checkManifestAndWeightFiles(t),a=i.map(c=>this.loadWeightsFile(c,r[c]));return Promise.all(a).then(c=>[e,c])}loadWeightsFile(t,e){return new Promise((i,r)=>{const a=new FileReader;a.onload=c=>{i(c.target.result)},a.onerror=c=>r(`Failed to weights data from file of path '${t}'.`),a.readAsArrayBuffer(e)})}checkManifestAndWeightFiles(t){const e=[],i=this.weightsFiles.map(a=>Qa(a.name)),r={};for(const a of t)a.paths.forEach(c=>{const u=Qa(c);if(-1!==e.indexOf(u))throw new Error(`Duplicate file basename found in weights manifest: '${u}'`);if(e.push(u),-1===i.indexOf(u))throw new Error(`Weight file with basename '${u}' is not provided.`);r[c]=this.weightsFiles[i.indexOf(u)]});if(e.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${e.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function tC(n){return new Zx(n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ty(n,t,e,i){(function c(f){Se(null!=f&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")})(n),function u(f,p){Se(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),Se(p>=0&&p<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${p}`),Se(p>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${p}`)}(e=e??0,i=i??1);let r=0;return Promise.all(n.map(f=>(f.then(p=>{const g=e+ ++r/n.length*(i-e);return t(g),p}),f)))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nC(n,t){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,Q.A)(function*(n,t){null==t&&(t={});const e=null==t.fetchFunc?Te().platform.fetch:t.fetchFunc,i=n.map(v=>e(v,t.requestInit,{isBinary:!0})),u=(null==t.onProgress?yield Promise.all(i):yield ty(i,t.onProgress,0,.5)).map(v=>v.arrayBuffer());return null==t.onProgress?yield Promise.all(u):yield ty(u,t.onProgress,.5,1)})).apply(this,arguments)}function za(n){return ny.apply(this,arguments)}function ny(){return(ny=(0,Q.A)(function*(n,t="",e,i){return iC(c=>nC(c,{requestInit:i}))(n,t,e)})).apply(this,arguments)}function iC(n){return function(){var t=(0,Q.A)(function*(e,i="",r){const a=e.map(()=>!1),c={},u=null!=r?r.map(()=>!1):[],f=[];if(e.forEach((q,ae)=>{let te=0;q.weights.forEach(ye=>{const tt=Mr["quantization"in ye?ye.quantization.dtype:ye.dtype]*Tt(ye.shape),nt=()=>{a[ae]=!0,null==c[ae]&&(c[ae]=[]),c[ae].push({manifestEntry:ye,groupOffset:te,sizeBytes:tt})};null!=r?r.forEach((St,Xt)=>{St===ye.name&&(nt(),u[Xt]=!0)}):nt(),f.push(ye.name),te+=tt})}),!u.every(q=>q)){const q=r.filter((ae,te)=>!u[te]);throw new Error(`Could not find weights in manifest with names: ${q.join(", ")}. \nManifest JSON has weights with names: ${f.join(", ")}.`)}const p=a.reduce((q,ae,te)=>(ae&&q.push(te),q),[]),g=[];p.forEach(q=>{e[q].paths.forEach(ae=>{const te=i+(i.endsWith("/")?"":"/")+ae;g.push(te)})});const v=yield n(g),T={};let U=0;return p.forEach(q=>{const ae=e[q].paths.length,te=new Is(v.slice(U,U+ae));c[q].forEach(ke=>{const nt=nr(te.slice(ke.groupOffset,ke.groupOffset+ke.sizeBytes),[ke.manifestEntry]);for(const St in nt)T[St]=nt[St]}),U+=ae}),T});return function(e){return t.apply(this,arguments)}}()}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */xo.registerSaveRouter(n=>Te().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Jm.URL_SCHEME)?function eC(n="model"){return new Jm(n)}(n.slice(Jm.URL_SCHEME.length)):null);let e0=(()=>{class n{constructor(e,i){if(this.DEFAULT_METHOD="POST",null==i&&(i={}),this.weightPathPrefix=i.weightPathPrefix,this.weightUrlConverter=i.weightUrlConverter,null!=i.fetchFunc?(Se("function"==typeof i.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=i.fetchFunc):this.fetch=Te().platform.fetch,Se(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Se(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=i.requestInit&&null!=i.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=i.requestInit||{},this.loadOptions=i}save(e){var i=this;return(0,Q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const r=Object.assign({method:i.DEFAULT_METHOD},i.requestInit);r.body=new FormData;const c=Ds(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(r.body.append("model.json",new Blob([JSON.stringify(c)],{type:"application/json"}),"model.json"),null!=e.weightData){const f=Is.join(e.weightData);r.body.append("model.weights.bin",new Blob([f],{type:"application/octet-stream"}),"model.weights.bin")}const u=yield i.fetch(i.path,r);if(u.ok)return{modelArtifactsInfo:Da(e),responses:[u]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${u.status}.`)})()}loadModelJSON(){var e=this;return(0,Q.A)(function*(){const i=yield e.fetch(e.path,e.requestInit);if(!i.ok)throw new Error(`Request to ${e.path} failed with status code ${i.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield i.json()}catch{let f=`Failed to parse model JSON of response from ${e.path}.`;throw e.path.endsWith(".pb")?f+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":f+=" Please make sure the server is serving valid JSON for this request.",new Error(f)}if(null==r.modelTopology&&null==r.weightsManifest)throw new Error(`The JSON from HTTP path ${e.path} contains neither model topology or manifest for weights.`);return r})()}load(){var e=this;return(0,Q.A)(function*(){return e.loadOptions.streamWeights?e.loadStream():Do(yield e.loadModelJSON(),r=>e.loadWeights(r))})()}loadStream(){var e=this;return(0,Q.A)(function*(){const i=yield e.loadModelJSON(),r=yield e.getWeightUrls(i.weightsManifest),a=Sr(i.weightsManifest);return Object.assign(Object.assign({},i),{weightSpecs:a,getWeightStream:()=>function Pf(n,t){var e;const i=null==t.fetchFunc?Te().platform.fetch:t.fetchFunc;let a,r=0;return null===(e=t.onProgress)||void 0===e||e.call(t,0),new ReadableStream({pull:(c=(0,Q.A)(function*(u){for(var f;r<n.length;){a||(a=(yield i(n[r],t.requestInit,{isBinary:!0})).body.getReader());const{done:p,value:g}=yield a.read();if(!p)return void u.enqueue(g);r++,a=void 0,null===(f=t.onProgress)||void 0===f||f.call(t,r/n.length)}u.close()}),function(f){return c.apply(this,arguments)})});var c}(r,e.loadOptions)})})()}getWeightUrls(e){var i=this;return(0,Q.A)(function*(){const r=Array.isArray(i.path)?i.path[1]:i.path,[a,c]=function sC(n){const t=n.lastIndexOf("/"),e=n.lastIndexOf("?");return[n.substring(0,t)+"/",e>t?n.substring(e):""]}(r),u=i.weightPathPrefix||a,f=[],p=[];for(const g of e)for(const v of g.paths)null!=i.weightUrlConverter?p.push(i.weightUrlConverter(v)):f.push(u+v+c);return i.weightUrlConverter&&f.push(...yield Promise.all(p)),f})()}loadWeights(e){var i=this;return(0,Q.A)(function*(){const r=yield i.getWeightUrls(e);return[Sr(e),yield nC(r,i.loadOptions)]})()}}return n.URL_SCHEME_REGEX=/^https?:\/\//,n})();function Ff(n){return null!=n.match(e0.URL_SCHEME_REGEX)}const Pd=(n,t)=>{if(typeof fetch>"u"&&(null==t||null==t.fetchFunc))return null;{let e=!0;if(e=Array.isArray(n)?n.every(i=>Ff(i)):Ff(n),e)return t0(n,t)}return null};function t0(n,t){return new e0(n,t)}function iy(n,t){return t0(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */xo.registerSaveRouter(Pd),xo.registerLoadRouter(Pd);class Rp{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class eg{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class n0{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=e=>Promise.resolve(t.save(e)))}}function oC(n,t,e,i){return new n0(r0(...arguments))}function r0(n,t,e,i){return 1===arguments.length?null!=n.modelTopology||null!=n.weightSpecs?new Rp(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Rp({modelTopology:n})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Rp({modelTopology:n,weightSpecs:t,weightData:e,trainingConfig:i}))}function Hk(n){return new eg(n)}function Np(n){return new eg(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Pp(n,t,e){if(Vt(n),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const i=Vi(n,e);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ro(n,t,i,e)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let Lf,ry=!1;function s0(n,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==n)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,i=!1,r=!1,a=!1,c=!1,u=!1;if(n.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)a=!0;else if(null!=n.getContext)c=!0;else{if(!(typeof ImageBitmap<"u"&&n instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${n.constructor.name}`);u=!0}if(null!=Fs(El,Oe.backendName))return Oe.runKernel(El,{pixels:n},{numChannels:t});const[p,g]=r?[n.videoWidth,n.videoHeight]:[n.width,n.height];let v,T;if(c)v=n.getContext("2d").getImageData(0,0,p,g).data;else if(i||e)v=n.data;else if(a||r||u){if(null==Lf)if(typeof document>"u"){if(!(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u"))throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Lf=new OffscreenCanvas(1,1).getContext("2d")}else Lf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Lf.canvas.width=p,Lf.canvas.height=g,Lf.drawImage(n,0,0,p,g),v=Lf.getImageData(0,0,p,g).data}if(4===t)T=new Int32Array(v);else{const q=p*g;T=new Int32Array(q*t);for(let ae=0;ae<q;ae++)for(let te=0;te<t;++te)T[ae*t+te]=v[4*ae+te]}return Pp(T,[g,p,t],"int32")}function o0(n){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,Q.A)(function*(n,t=3){let e=null;if(Te().getBool("WRAP_TO_IMAGEBITMAP")&&function BP(n){return function Kk(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}()&&!(n instanceof ImageBitmap)&&function $P(n){return null!=n&&0!==n.width&&0!==n.height}(n)&&!function Gk(n){return null!=n&&n.data instanceof Uint8Array}(n)}(n)){let i;try{i=yield createImageBitmap(n,{premultiplyAlpha:"none"})}catch{i=null}e=null!=i&&i.width===n.width&&i.height===n.height?i:n}else e=n;return s0(e,t)})).apply(this,arguments)}function sy(n){if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const t=2===n.rank?1:n.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`)}function Xk(n,t){return $f.apply(this,arguments)}function $f(){return($f=(0,Q.A)(function*(n,t){let e=Rt(n,"img","toPixels");if(!(n instanceof to)){const p=e;e=qi(p,"int32"),p.dispose()}sy(e);const[i,r]=e.shape.slice(0,2),a=2===e.rank?1:e.shape[2],c=yield e.data(),u="float32"===e.dtype?255:1,f=new Uint8ClampedArray(r*i*4);for(let p=0;p<i*r;++p){const g=[0,0,0,255];for(let T=0;T<a;T++){const U=c[p*a+T];if("float32"===e.dtype){if(U<0||U>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${U}.`)}else if("int32"===e.dtype&&(U<0||U>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${U}.`);1===a?(g[0]=U*u,g[1]=U*u,g[2]=U*u):g[T]=U*u}const v=4*p;f[v+0]=Math.round(g[0]),f[v+1]=Math.round(g[1]),f[v+2]=Math.round(g[2]),f[v+3]=Math.round(g[3])}if(null!=t){ry||null!=Fs(kl,Oe.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),ry=!0),t.width=r,t.height=i;const p=t.getContext("2d"),g=new ImageData(f,r,i);p.putImageData(g,0,0)}return e!==n&&e.dispose(),f})).apply(this,arguments)}function Yk(n,t,e){let i=Rt(n,"img","draw");if(!(n instanceof to)){const c=i;i=qi(c,"int32"),c.dispose()}sy(i),function tg(n){const t=n?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}(e?.imageOptions),Oe.runKernel(kl,{image:i},{canvas:t,options:e})}const oy=fn({fromPixels_:s0}),Fp=-2,VP=-1;
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ay(n,t,e){const i=n.shape.length;Se(i===t.length,()=>`Error in slice${i}D: Length of begin ${t} must match the rank of the array (${i}).`),Se(i===e.length,()=>`Error in slice${i}D: Length of size ${e} must match the rank of the array (${i}).`);for(let r=0;r<i;++r)Se(t[r]+e[r]<=n.shape[r],()=>`Error in slice${i}D: begin[${r}] + size[${r}] (${t[r]+e[r]}) would overflow input.shape[${r}] (${n.shape[r]})`)}function aC(n){const t=[];let e=0;for(;n>0;)1&n&&t.push(e),n/=2,e++;return t}function a0(n,t,e){const i=[];for(let r=0;r<n.length;r++)i[r]=Math.ceil((t[r]-n[r])/e[r]);return i}function Fd(n,t,e,i){const r=[...n];for(let a=r.length;a<i.length;a++)r.push(1);for(let a=0;a<e;a++)0===a?r[t]=1:(r.splice(t,0,1),r.pop());return r}function lC(n,t,e){return e<=n?e:e-(t-1)}function ng(n,t){const e=[];for(let i=0;i<n;i++)e.push(t+i);return e}function l0(n,t,e,i,r,a,c,u,f){const p=n.length;let g=new Array(p),v=new Array(p),T=new Array(p);if(t.length&&e>0){const U=t[0],q=e+1;g=c0(c,U,q,i,n),v=ig(u,U,q,r,n),T=Fd(a,U,q,n)}else for(let U=0;U<p;U++)g[U]=cC(c,i,a,n,U,f),v[U]=u0(u,r,a,n,U,f),T[U]=ly(a,U,f);return{begin:g,end:v,strides:T}}function c0(n,t,e,i,r){const a=[...r],c=ng(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=0;else{const f=lC(t,e,u);let p=i[f];n&1<<f&&(p=0),a[u]=p}return a}function ig(n,t,e,i,r){const a=[...r],c=ng(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=Number.MAX_SAFE_INTEGER;else{const f=lC(t,e,u);let p=i[f];n&1<<f&&(p=Number.MAX_SAFE_INTEGER),a[u]=p}for(let u=0;u<a.length;u++)a[u]<0&&(a[u]+=r[u]),a[u]=_e(0,a[u],r[u]);return a}function ly(n,t,e){let i=n[t];return(e&1<<t||null==i)&&(i=1),i}function cC(n,t,e,i,r,a){let c=t[r];(n&1<<r||a&1<<r||null==c)&&(c=(e[r]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=_e(0,c,f-1),c}function u0(n,t,e,i,r,a){let c=t[r];const u=e[r]||1;(n&1<<r||a&1<<r||null==c)&&(c=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=u>0?_e(0,c,f):_e(-1,c,f-1),c}function cy(n,t,e){let i=e.length;for(let r=0;r<e.length;r++)if(e[r]>1){i=r;break}for(let r=i+1;r<e.length;r++)if(t[r]>0||e[r]!==n[r])return!1;return!0}function uy(n,t){let e=n.length>0?n[n.length-1]:1;for(let i=0;i<n.length-1;i++)e+=n[i]*t[i];return e}function rg(n,t,e){let i;const r=n.shape.length;let a;return i="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),i.forEach(c=>{Se(-1!==c,()=>"slice() does not support negative begin indexing.")}),a=null==e?new Array(r).fill(-1):"number"==typeof e?[e,...new Array(r-1).fill(-1)]:e.length<r?e.concat(new Array(r-e.length).fill(-1)):e,a=a.map((c,u)=>c>=0?c:(Se(-1===c,()=>`Negative size values should be exactly -1 but got ${c} for the slice() size at index ${u}.`),n.shape[u]-i[u])),[i,a]}function d0(n,t,e,i,r,a,c,u,f){let p;if(null==i?(p=new Array(t.length),p.fill(1)):p=i,null!=c&&c&c-1)throw new Error("Multiple ellipses in slice is not allowed.");let g=!1;const v={dims:p.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:e.slice(),strides:p.slice(),beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f};for(let tt=0;tt<v.dims;tt++)g&&1<<tt&u&&v.numAddAxisAfterEllipsis++,1<<tt&c&&(g=!0);g||(v.ellipsisMask|=1<<v.dims,v.dims++);const T={dims:n.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function dy(n,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let e=0;t.beginValid=null!=n.begin,t.endValid=null!=n.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let i=0;i<n.dims;i++)if(1<<i&n.ellipsisMask){const r=Math.min(t.dims-(n.dims-i)+1+n.numAddAxisAfterEllipsis,t.dims);for(;e<r;e++)t.begin[e]=0,t.end[e]=0,t.strides[e]=1,t.beginMask|=1<<e,t.endMask|=1<<e,t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[e]=i}else if(1<<i&n.newAxisMask)t.finalShapeGatherIndices.push(Fp),t.finalShapeGatherIndicesSparse.push(-1);else{if(e===t.begin.length)throw Error(`Index out of range using input dim ${e}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=n.begin&&(t.begin[e]=n.begin[i]),null!=n.end&&(t.end[e]=n.end[i]),t.strides[e]=n.strides[i],n.beginMask&1<<i&&(t.beginMask|=1<<e),n.endMask&1<<i&&(t.endMask|=1<<e),n.shrinkAxisMask&1<<i?(t.finalShapeGatherIndices.push(VP),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<e):(t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(i)),t.inputShapeGatherIndicesSparse[e]=i,e++}}(v,T);let U=!0,q=!0,ae=!0;const te=[],ye=[];for(let tt=0;tt<n.length;++tt){if(0===T.strides[tt])throw Error(`strides[${tt}] must be non-zero`);const nt=!!(T.shrinkAxisMask&1<<tt),St=n[tt];if(-1===St){te.push(nt?1:-1);continue}const Xt=[T.beginMask&1<<tt,T.endMask&1<<tt],rn=[T.strides[tt]>0?0:-1,T.strides[tt]>0?St:St-1];if(nt&&T.strides[tt]<=0)throw Error("only stride 1 allowed on non-range indexing.");ae=ae&&1===T.strides[tt];const un=!!(T.beginMask&1<<tt&&T.endMask&1<<tt);if(T.beginValid&&T.endValid){if(nt){const Yn=T.begin[tt]<0?St+T.begin[tt]:T.begin[tt];if(T.begin[tt]=Yn,T.end[tt]=T.begin[tt]+1,Yn<0||Yn>=St)throw Error(`slice index ${T.begin[tt]} of dimension ${tt} out of bounds.`)}else T.begin[tt]=nf(T.begin[tt],0,T.strides[tt],St,Xt,rn),T.end[tt]=nf(T.end[tt],1,T.strides[tt],St,Xt,rn);const Vn=1===T.strides[tt]&&0===T.begin[tt]&&T.end[tt]===St;U=U&&Vn,q=q&&(0===tt&&1===T.strides[tt]||Vn)}else U=U&&1===T.strides[tt]&&un,q=q&&(0===tt&&1===T.strides[tt]||un);let bn,xn=!1;if(T.beginValid&&T.endValid?(bn=T.end[tt]-T.begin[tt],xn=!0):nt?(bn=1,xn=!0):un&&St>=0&&(bn=T.strides[tt]<0?-St:St,xn=!0),xn){let Vn;Vn=0===bn||bn<0!=T.strides[tt]<0?0:Math.trunc(bn/T.strides[tt])+(bn%T.strides[tt]!=0?1:0),te.push(Vn)}else te.push(-1)}for(let tt=0;tt<T.finalShapeGatherIndices.length;++tt){const nt=T.finalShapeGatherIndices[tt];nt>=0?ye.push(te[nt]):nt===Fp&&ye.push(1)}return{finalShapeSparse:ye.filter((tt,nt)=>T.finalShapeGatherIndices[nt]!==Fp),finalShape:ye,isIdentity:U,sliceDim0:q,isSimpleSlice:ae,begin:T.begin,end:T.end,strides:T.strides}}function nf(n,t,e,i,r,a){if(r[t])return e>0?a[t]:a[t+1&1];{const c=n<0?i+n:n;return c<a[0]?a[0]:c>a[1]?a[1]:c}}
/** @license See the LICENSE file. */const h0=fn({acos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uC(n){const e={x:Rt(n,"x","acos")};return Oe.runKernel(pi,e)}}),Bf=fn({acosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Lp(n){const e={x:Rt(n,"x","acosh")};return Oe.runKernel(zi,e)}}),Qk=fn({addN_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xc(n){Se(Array.isArray(n),()=>"The argument passed to tf.addN() must be a list of tensors"),Se(n.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${n.length}`);const t=n.map((r,a)=>Rt(r,`tensors${a}`,"addN")),e=t[0];return t.forEach(r=>{if(r.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(r=>{if(!Re(r.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),Oe.runKernel(Gi,t)}}),sg=fn({all_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dC(n,t=null,e=!1){const r={x:Rt(n,"x","all","bool")};return Oe.runKernel("All",r,{axis:t,keepDims:e})}}),og=fn({any_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zk(n,t=null,e=!1){const r={x:Rt(n,"x","any","bool")};return Oe.runKernel("Any",r,{axis:t,keepDims:e})}}),$p=fn({argMax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hy(n,t=0){const i={x:Rt(n,"x","argMax")};return Oe.runKernel(ur,i,{axis:t})}}),fy=fn({argMin_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hC(n,t=0){const i={x:Rt(n,"x","argMin")};return Oe.runKernel(or,i,{axis:t})}}),f0=fn({asin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function py(n){const e={x:Rt(n,"x","asin")};return Oe.runKernel(Tr,e)}}),fC=fn({asinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jk(n){const e={x:Rt(n,"x","asinh")};return Oe.runKernel(Hr,e)}}),p0=fn({atan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eI(n){const e={x:Rt(n,"x","atan")};return Oe.runKernel(_s,e)}}),m0=fn({atan2_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tI(n,t){let e=Rt(n,"a","atan2"),i=Rt(t,"b","atan2");return[e,i]=Pr(e,i),Oe.runKernel(ys,{a:e,b:i})}}),pC=fn({atanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nI(n){const e={x:Rt(n,"x","atanh")};return Oe.runKernel(Ur,e)}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function my(n,t,e,i,r="NHWC",a){return ro(n,[...t,n[3]],e,a,i,null,null,sf(r))}function Qu(n,t,e,i,r,a,c="channelsLast"){const[u,f]=_y(t);let p;if("channelsLast"===c)p=[u,f,n[3],n[3]];else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);p=[u,f,n[1],n[1]]}return ro(n,p,e,i,r,a,!1,c)}function oh(n,t,e,i,r,a,c="NDHWC"){const[u,f,p]=ag(t);let g,v;if("NDHWC"===c)v="channelsLast",g=[u,f,p,n[4],n[4]];else{if("NCDHW"!==c)throw new Error(`Unknown dataFormat ${c}`);v="channelsFirst",g=[u,f,p,n[1],n[1]]}return Vf(n,g,e,i,r,!1,v,a)}function ro(n,t,e,i,r,a,c=!1,u="channelsLast"){let[f,p,g,v]=[-1,-1,-1,-1];if("channelsLast"===u)[f,p,g,v]=n;else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);[f,v,p,g]=n}const[T,U,,q]=t,[ae,te]=_y(e),[ye,ke]=_y(i),tt=lu(T,ye),nt=lu(U,ke),{padInfo:St,outHeight:Xt,outWidth:rn}=function mC(n,t,e,i,r,a,c,u,f){let p,g,v;if("number"==typeof n){p={top:n,bottom:n,left:n,right:n,type:0===n?"VALID":"NUMBER"};const U=function iI(n,t,e,i,r){null==i&&(i=gy(n,t,e));const c=n[1];return[cg((n[0]-t+2*i)/e+1,r),cg((c-t+2*i)/e+1,r)]}([t,e],a,i,n,u);g=U[0],v=U[1]}else if("same"===n){g=Math.ceil(t/i),v=Math.ceil(e/r);const T=Math.max(0,(g-1)*i+a-t),U=Math.max(0,(v-1)*r+c-e),q=Math.floor(T/2),ae=T-q,te=Math.floor(U/2);p={top:q,bottom:ae,left:te,right:U-te,type:"SAME"}}else if("valid"===n)p={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((t-a+1)/i),v=Math.ceil((e-c+1)/r);else{if("object"!=typeof n)throw Error(`Unknown padding parameter: ${n}`);{const T="channelsLast"===f?n[1][0]:n[2][0],U="channelsLast"===f?n[1][1]:n[2][1],q="channelsLast"===f?n[2][0]:n[3][0],ae="channelsLast"===f?n[2][1]:n[3][1];p={top:T,bottom:U,left:q,right:ae,type:0===T&&0===U&&0===q&&0===ae?"VALID":"EXPLICIT"},g=cg((t-a+T+U)/i+1,u),v=cg((e-c+q+ae)/r+1,u)}}return{padInfo:p,outHeight:g,outWidth:v}}(r,p,g,ae,te,tt,nt,a,u),un=c?q*v:q;let bn;return"channelsFirst"===u?bn=[f,un,Xt,rn]:"channelsLast"===u&&(bn=[f,Xt,rn,un]),{batchSize:f,dataFormat:u,inHeight:p,inWidth:g,inChannels:v,outHeight:Xt,outWidth:rn,outChannels:un,padInfo:St,strideHeight:ae,strideWidth:te,filterHeight:T,filterWidth:U,effectiveFilterHeight:tt,effectiveFilterWidth:nt,dilationHeight:ye,dilationWidth:ke,inShape:n,outShape:bn,filterShape:t}}function Vf(n,t,e,i,r,a=!1,c="channelsLast",u){let[f,p,g,v,T]=[-1,-1,-1,-1,-1];if("channelsLast"===c)[f,p,g,v,T]=n;else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);[f,T,p,g,v]=n}const[U,q,ae,,te]=t,[ye,ke,tt]=ag(e),[nt,St,Xt]=ag(i),rn=lu(U,nt),un=lu(q,St),bn=lu(ae,Xt),{padInfo:xn,outDepth:Vn,outHeight:Yn,outWidth:ti}=function lg(n,t,e,i,r,a,c,u,f,p,g){let v,T,U,q;if("valid"===n&&(n=0),"number"==typeof n){v={top:n,bottom:n,left:n,right:n,front:n,back:n,type:0===n?"VALID":"NUMBER"};const te=function UP(n,t,e,i,r,a){null==r&&(r=gy(n,t[0],i[0]));const c=[0,0,0,e];for(let u=0;u<3;u++)n[u]+2*r>=t[u]&&(c[u]=cg((n[u]-t[u]+2*r)/i[u]+1,a));return c}([t,e,i,1],[u,f,p],1,[r,a,c],n,g);T=te[0],U=te[1],q=te[2]}else{if("same"!==n)throw Error(`Unknown padding parameter: ${n}`);{T=Math.ceil(t/r),U=Math.ceil(e/a),q=Math.ceil(i/c);const ae=(T-1)*r+u-t,te=(U-1)*a+f-e,ye=(q-1)*c+p-i,ke=Math.floor(ae/2),tt=ae-ke,nt=Math.floor(te/2),St=te-nt,Xt=Math.floor(ye/2);v={top:nt,bottom:St,left:Xt,right:ye-Xt,front:ke,back:tt,type:"SAME"}}}return{padInfo:v,outDepth:T,outHeight:U,outWidth:q}}(r,p,g,v,ye,ke,tt,rn,un,bn,u),ni=a?te*T:te;let ri;return"channelsFirst"===c?ri=[f,ni,Vn,Yn,ti]:"channelsLast"===c&&(ri=[f,Vn,Yn,ti,ni]),{batchSize:f,dataFormat:c,inDepth:p,inHeight:g,inWidth:v,inChannels:T,outDepth:Vn,outHeight:Yn,outWidth:ti,outChannels:ni,padInfo:xn,strideDepth:ye,strideHeight:ke,strideWidth:tt,filterDepth:U,filterHeight:q,filterWidth:ae,effectiveFilterDepth:rn,effectiveFilterHeight:un,effectiveFilterWidth:bn,dilationDepth:nt,dilationHeight:St,dilationWidth:Xt,inShape:n,outShape:ri,filterShape:t}}function gy(n,t,e,i=1){const r=lu(t,i);return Math.floor((n[0]*(e-1)-e+r)/2)}function _y(n){return"number"==typeof n?[n,n,n]:2===n.length?[n[0],n[1],1]:n}function ag(n){return"number"==typeof n?[n,n,n]:n}function lu(n,t){return t<=1?n:n+(n-1)*(t-1)}function cg(n,t){if(!t)return Math.trunc(n);switch(t){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error(`Unknown roundingMode ${t}`)}}function rf(n){const[t,e,i]=_y(n);return 1===t&&1===e&&1===i}function Cc(n,t){return rf(n)||rf(t)}function Bp(n){return _y(n).every(t=>t>0)}function sf(n){if("NHWC"===n)return"channelsLast";if("NCHW"===n)return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function xu(n,t,e){if(null!=e){if("string"==typeof t)throw Error(`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);if("number"==typeof t)Se(Ye(t),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);else{if("object"!=typeof t)throw Error(`Error in ${n}: Unknown padding parameter: ${t}`);t.forEach(i=>{i.forEach(r=>{Se(Ye(r),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${r}.`)})})}}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Dn=fn({reshape_:function zP(n,t){const i={x:Rt(n,"x","reshape","string_or_numeric")};return Oe.runKernel(hr,i,{shape:t})}}),Ph=fn({avgPool_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rI(n,t,e,i,r){const a=Rt(n,"x","avgPool","float32");Se(Cc(e,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`);let u=a,f=!1;3===a.rank&&(f=!0,u=Dn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Se(4===u.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${u.rank}.`),xu("avgPool",i,r);let v=Oe.runKernel(Cs,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return v=qi(v,a.dtype),f?Dn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),g0=fn({avgPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ug(n,t,e,i,r,a="NDHWC"){const c=Rt(n,"x","avgPool3d","float32");let u=c,f=!1;4===c.rank&&(f=!0,u=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Se(5===u.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${u.rank}.`),Se("NDHWC"===a,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Se("number"==typeof e&&e>0||Array.isArray(e)&&e[0]>0&&e[1]>0&&e[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${e}'`),xu("avgPool3d",i,r);let v=Oe.runKernel(Yi,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return v=qi(v,u.dtype),f?Dn(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),Hl=fn({concat_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uf(n,t=0){Se(n.length>=1,()=>"Pass at least one tensor to concat");const e=Es(n,"tensors","concat","string_or_numeric");return"complex64"===e[0].dtype&&e.forEach(a=>{if("complex64"!==a.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${a.dtype}. `)}),1===e.length?Rd(e[0]):Oe.runKernel(Li,e,{axis:t})}}),bs=fn({matMul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sI(n,t,e=!1,i=!1){let r=Rt(n,"a","matMul"),a=Rt(t,"b","matMul");return[r,a]=Pr(r,a),Oe.runKernel(cr,{a:r,b:a},{transposeA:e,transposeB:i})}}),Zu=fn({sigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oI(n){const e={x:Rt(n,"x","sigmoid","float32")};return Oe.runKernel(zn,e)}}),fo=fn({slice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dg(n,t,e){const i=Rt(n,"x","slice","string_or_numeric");if(0===i.rank)throw new Error("Slicing scalar is not possible");return Oe.runKernel(Tn,{x:i},{begin:t,size:e})}}),af=fn({tanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gC(n){const e={x:Rt(n,"x","tanh","float32")};return Oe.runKernel(hs,e)}}),vy=fn({basicLSTMCell_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yy(n,t,e,i,r,a){const c=Rt(n,"forgetBias","basicLSTMCell"),u=Rt(t,"lstmKernel","basicLSTMCell"),f=Rt(e,"lstmBias","basicLSTMCell"),p=Rt(i,"data","basicLSTMCell"),g=Rt(r,"c","basicLSTMCell"),v=Rt(a,"h","basicLSTMCell"),T=Hl([p,v],1),U=bs(T,u),q=Ti(U,f),te=q.shape[1]/4,ye=[q.shape[0],te],ke=fo(q,[0,0],ye),tt=fo(q,[0,te],ye),nt=fo(q,[0,2*te],ye),St=fo(q,[0,3*te],ye),Xt=Ti(me(Zu(ke),af(tt)),me(g,Zu(Ti(c,nt))));return[Xt,me(af(Xt),Zu(St))]}}),by=fn({batchToSpaceND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _0(n,t,e){const i=Rt(n,"x","batchToSpaceND"),r=t.reduce((u,f)=>u*f);return Se(i.rank>=1+t.length,()=>`input rank is ${i.rank} but should be > than blockShape.length ${t.length}`),Se(e.length===t.length,()=>`crops.length is ${e.length} but should be equal to blockShape.length  ${t.length}`),Se(i.shape[0]%r==0,()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`),Oe.runKernel(ji,{x:i},{blockShape:t,crops:e})}});function aI(n){let t;return t=0===n.rank||1===n.rank?Dn(n,[1,1,1,n.size]):2===n.rank?Dn(n,[1,1,n.shape[0],n.shape[1]]):3===n.rank?Dn(n,[1,n.shape[0],n.shape[1],n.shape[2]]):n,t
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const Vp=fn({batchNorm_:function lI(n,t,e,i,r,a){null==a&&(a=.001);const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Se(u.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Se(null==g||u.rank===g.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Se(null==p||u.rank===p.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const T={x:aI(c),scale:p,offset:g,mean:u,variance:f},q=Oe.runKernel(va,T,{varianceEpsilon:a});return Dn(q,c.shape)}}),_C=fn({batchNorm2d_:function cI(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Se(2===c.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`),Se(2===u.rank||1===u.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${u.rank}.`),Se(2===f.rank||1===f.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),null!=p&&Se(2===p.rank||1===p.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`),null!=g&&Se(2===g.rank||1===g.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${g.rank}.`),Vp(c,u,f,g,p,a)}}),wy=fn({batchNorm3d_:function Ru(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Se(3===c.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`),Se(3===u.rank||1===u.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${u.rank}.`),Se(3===f.rank||1===f.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),null!=p&&Se(3===p.rank||1===p.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`),null!=g&&Se(3===g.rank||1===g.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${g.rank}.`),Vp(c,u,f,g,p,a)}}),hg=fn({batchNorm4d_:function yC(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Se(4===c.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`),Se(4===u.rank||1===u.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${u.rank}.`),Se(4===f.rank||1===f.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),null!=p&&Se(4===p.rank||1===p.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`),null!=g&&Se(4===g.rank||1===g.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${g.rank}.`),Vp(c,u,f,g,p,a)}}),uI=fn({bincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jP(n,t,e){const i=Rt(n,"x","bincount"),r=Rt(t,"weights","bincount");return Se("int32"===i.dtype,()=>`Error in bincount: input dtype must be int32, but got ${i.dtype}`),Se(e>=0,()=>`size must be non-negative, but got ${e}.`),Se(r.size===i.size||0===r.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${i.shape}, weights shape: ${r.shape}.`),Oe.runKernel(ii,{x:i,weights:r},{size:e})}}),Up=fn({bitwiseAnd_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cu(n,t){const e=Rt(n,"x","bitwiseAnd"),i=Rt(t,"y","bitwiseAnd");if(!Re(e.shape,i.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${e.shape}, y: ${i.shape}`);if("int32"!==e.dtype||"int32"!==i.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${e.dtype} and type of y: ${i.dtype}`);return Oe.runKernel(Ge,{a:e,b:i})}}),bC=fn({broadcastArgs_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vC(n,t){const e=Rt(n,"s0","broadcastArgs","int32"),i=Rt(t,"s1","broadcastArgs","int32");if(1!==e.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${e.rank}`);if(1!==i.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${i.rank}`);return Oe.runKernel(ne,{s0:e,s1:i})}}),zf=fn({broadcastTo_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dI(n,t){let e=Rt(n,"broadcastTo","x");const i=e.shape;if(Kn(t),t.length<e.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${e.rank}.`);if(t.length>e.rank){const p=e.shape.slice();for(;p.length<t.length;)p.unshift(1);e=Dn(e,p)}const r=e.shape,a=Array.from(t);for(let p=t.length-1;p>=0;p--)if(r[p]===t[p])a[p]=1;else if(1!==e.shape[p])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);return 0===a.map((p,g)=>p>1?g:-1).filter(p=>p>=0).length?Rd(e):Oe.runKernel(Ba,{x:e},{reps:a})}}),y0=fn({ceil_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hI(n){const e={x:Rt(n,"x","ceil","float32")};return Oe.runKernel(He,e)}}),Cu=fn({clipByValue_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fI(n,t,e){const i=Rt(n,"x","clipByValue");return Se(t<=e,()=>`Error in clip: min (${t}) must be less than or equal to max (${e}).`),t===e?au(i.shape,t,i.dtype):Oe.runKernel(kt,{x:i},{clipValueMin:t,clipValueMax:e})}}),wC=fn({concat1d_:function pI(n){return Hl(n,0)}}),EC=fn({concat2d_:function mI(n,t){return Hl(n,t)}}),v0=fn({concat3d_:function xC(n,t){return Hl(n,t)}}),fg=fn({concat4d_:function CC(n,t){return Hl(n,t)}}),Fh=fn({conv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SC(n,t,e,i,r="NHWC",a=[1,1],c){const u=Rt(n,"x","conv2d","float32"),f=Rt(t,"filter","conv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Se(4===p.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),Se(4===f.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),xu("conv2d",i,c);const v="NHWC"===r?p.shape[3]:p.shape[1];Se(v===f.shape[2],()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${f.shape[2]}.`),Se(Cc(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Se(Bp(a),()=>"Error in conv2D: Dilated rates should be larger than 0."),Se(Bp(e),()=>"Error in conv2D: Strides should be larger than 0.");const q=Oe.runKernel(lr,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Dn(q,[q.shape[1],q.shape[2],q.shape[3]]):q}}),Ey=fn({conv1d_:function DC(n,t,e,i,r="NWC",a=1,c){const u=Rt(n,"x","conv1d"),f=Rt(t,"filter","conv1d");let p=u,g=!1;2===u.rank&&(g=!0,p=Dn(u,[1,u.shape[0],u.shape[1]])),Se(3===p.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),Se(3===f.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),xu("conv1d",i,c),Se(p.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${f.shape[1]}.`),Se(Cc(e,a),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${e} and dilation '${a}'`),Se(Bp(a),()=>"Error in conv1D: Dilated rates should be larger than 0."),Se(Bp(e),()=>"Error in conv1D: Stride should be larger than 0."),Se("NWC"===r,()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const v=Dn(f,[1,f.shape[0],f.shape[1],f.shape[2]]),T=Dn(p,[p.shape[0],1,p.shape[1],p.shape[2]]),te=Fh(T,v,[1,e],i,"NHWC",[1,a],c);return Dn(te,g?[te.shape[2],te.shape[3]]:[te.shape[0],te.shape[2],te.shape[3]])}}),b0=fn({conv2DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gI(n,t,e,i,r,a="NHWC",c){Se(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let u=n,f=t,p=!1;3===t.rank&&(p=!0,f=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2]]),u=[1,n[0],n[1],n[2]]),Se(4===u.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${u.length}.`),Se(4===f.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),Se(4===e.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${e.rank}`);const g="NHWC"===a?u[3]:u[1],v="NHWC"===a?f.shape[3]:f.shape[1];Se(g===e.shape[2],()=>`Error in conv2dDerInput: depth of input (${g}) must match input depth for filter ${e.shape[2]}.`),Se(v===e.shape[3],()=>`Error in conv2dDerInput: depth of output (${v}) must match output depth for filter ${e.shape[3]}.`),xu("conv2dDerInput",r,c);const q=Oe.runKernel(Lr,{dy:f,filter:e},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,inputShape:u});return p?Dn(q,[q.shape[1],q.shape[2],q.shape[3]]):q}}),w0=fn({conv2dTranspose_:function _I(n,t,e,i,r,a){const c=Rt(n,"x","conv2dTranspose"),u=Rt(t,"filter","conv2dTranspose");return b0(e,c,u,i,r,"NHWC",a)}}),yI=fn({conv3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TC(n,t,e,i,r="NDHWC",a=[1,1,1]){const c=Rt(n,"x","conv3d"),u=Rt(t,"filter","conv3d");let f=c,p=!1;4===c.rank&&(p=!0,f=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Se(5===f.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),Se(5===u.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${u.rank}.`),Se(f.shape[4]===u.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${u.shape[3]}.`),Se(Cc(e,a),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Se("NDHWC"===r,()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),Se(Bp(a),()=>"Error in conv3D: Dilated rates should be larger than 0."),Se(Bp(e),()=>"Error in conv3D: Strides should be larger than 0.");const T=Oe.runKernel(Zr,{x:f,filter:u},{strides:e,pad:i,dataFormat:r,dilations:a});return p?Dn(T,[T.shape[1],T.shape[2],T.shape[3],T.shape[4]]):T}}),IC=fn({conv3DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kC(n,t,e,i,r){Se(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let a=n,c=t,u=!1;4===t.rank&&(u=!0,c=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,n[0],n[1],n[2],n[3]]);const f=a[4],p=c.shape[4];Se(5===a.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`),Se(5===c.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`),Se(5===e.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${e.rank}`),Se(f===e.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${e.shape[3]}.`),Se(p===e.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${e.shape[4]}.`);const T=Oe.runKernel(Os,{dy:c,filter:e},{pad:r,strides:i,inputShape:a});return u?Dn(T,[T.shape[1],T.shape[2],T.shape[3],T.shape[4]]):T}}),bI=fn({conv3dTranspose_:function vI(n,t,e,i,r){const a=Rt(n,"x","conv3dTranspose"),c=Rt(t,"filter","conv3dTranspose");return IC(e,a,c,i,r)}}),pg=fn({cos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wI(n){const e={x:Rt(n,"x","cos","float32")};return Oe.runKernel(Er,e)}}),x0=fn({cosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function E0(n){const e={x:Rt(n,"x","cosh","float32")};return Oe.runKernel(Jr,e)}}),jf=fn({cumprod_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lf(n,t=0,e=!1,i=!1){const a={x:Rt(n,"x","cumprod")};return Oe.runKernel(Ss,a,{axis:t,exclusive:e,reverse:i})}}),xy=fn({cumsum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EI(n,t=0,e=!1,i=!1){const a={x:Rt(n,"x","cumsum")};return Oe.runKernel(Jo,a,{axis:t,exclusive:e,reverse:i})}}),AC=fn({denseBincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function C0(n,t,e,i=!1){const r=Rt(n,"x","denseBincount"),a=Rt(t,"weights","denseBincount");return Se("int32"===r.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),Se(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),Se(e>=0,()=>`size must be non-negative, but got ${e}.`),Se(a.size===r.size||0===a.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`),Oe.runKernel(Io,{x:r,weights:a},{size:e,binaryOutput:i})}}),MC=fn({depthToSpace_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xI(n,t,e="NHWC"){const i=Rt(n,"x","depthToSpace","float32"),r="NHWC"===e?i.shape[1]:i.shape[2],a="NHWC"===e?i.shape[2]:i.shape[3],c="NHWC"===e?i.shape[3]:i.shape[1];return Se(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),Se(r*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${i.shape}`),Se(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${i.shape}`),Se(c%(t*t)==0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${c} for depthToSpace with input shape ${i.shape}`),Oe.runKernel(Ho,{x:i},{blockSize:t,dataFormat:e})}}),mg=fn({depthwiseConv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CI(n,t,e,i,r="NHWC",a=[1,1],c){const u=Rt(n,"x","depthwiseConv2d","float32"),f=Rt(t,"filter","depthwiseConv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Se(4===p.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),Se(4===f.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`);const v="NHWC"===r?p.shape[3]:p.shape[1];Se(v===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${v}) must match the inChannels dimension in filter ${f.shape[2]}.`),xu("depthwiseConv2d",i,c);const q=Oe.runKernel(No,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Dn(q,[q.shape[1],q.shape[2],q.shape[3]]):q}}),HP=fn({diag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WP(n){const e={x:Rt(n,"x","diag")};return Oe.runKernel(Ka,e)}}),OC=fn({dilation2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cy(n,t,e,i,r=[1,1],a="NHWC"){const c=Rt(n,"x","dilation2d"),u=Rt(t,"filter","dilation2d");Se(3===c.rank||4===c.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`),Se(3===u.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${u.rank}.`),Se("NHWC"===a,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`);let f=c,p=!1;3===c.rank&&(f=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=!0),Se(f.shape[3]===u.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${f.shape[3]} vs ${u.shape[2]}`);const T=Oe.runKernel(_a,{x:f,filter:u},{strides:e,pad:i,dilations:r});return p?Dn(T,[T.shape[1],T.shape[2],T.shape[3]]):T}}),Ju=fn({equal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function S0(n,t){let e=Rt(n,"a","equal","string_or_numeric"),i=Rt(t,"b","equal","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(Bl,{a:e,b:i})}}),sc=fn({where_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zp(n,t,e){const i=Rt(t,"a","where"),r=Rt(e,"b","where"),a=Rt(n,"condition","where","bool"),c=Ts(Ts(a.shape,i.shape),r.shape),u=zf(a,c),f=zf(i,c),p=zf(r,c);return Oe.runKernel(ln,{condition:u,t:f,e:p})}}),jp=fn({divNoNan_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D0(n,t){let e=Rt(n,"a","div"),i=Rt(t,"b","div");[e,i]=Pr(e,i);const r=B(e,i),a=Ri(r),c=Ju(i,a);return sc(c,a,r)}}),Wf=fn({dot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sy(n,t){const e=Rt(n,"t1","dot"),i=Rt(t,"t2","dot");Se(!(1!==e.rank&&2!==e.rank||1!==i.rank&&2!==i.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${e.rank} and ${i.rank}.`);const r=1===e.rank?e.size:e.shape[1],a=1===i.rank?i.size:i.shape[0];if(Se(r===a,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`),1===e.rank&&1===i.rank){const c=Dn(e,[1,-1]),u=Dn(i,[-1,1]),f=bs(c,u);return Dn(f,[])}if(1===e.rank&&2===i.rank){const c=Dn(e,[1,-1]),u=Dn(i,[i.shape[0],i.shape[1]]),f=bs(c,u);return Dn(f,[f.size])}if(2===e.rank&&1===i.rank){const c=Dn(i,[-1,1]),u=bs(e,c);return Dn(u,[u.size])}{const c=Dn(i,[i.shape[0],i.shape[1]]);return bs(e,c)}}}),Lh=fn({einsum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T0(n,...t){const e=t.map((r,a)=>Rt(r,`tensors${a}`,"einsum"));return Oe.runKernel(ya,e,{equation:n})}}),Hf=fn({elu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gg(n){const e={x:Rt(n,"x","elu","float32")};return Oe.runKernel(Ra,e)}}),k0=fn({ensureShape_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GP(n,t){const e=Rt(n,"x","ensureShape","string_or_numeric");if(!function ft(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(null!==n[e]&&null!==t[e]&&n[e]!==t[e])return!1;return!0}(e.shape,t))throw new Error(`EnsureShape: Shape of tensor ${e.shape} is not compatible with expected shape ${t}`);return n}}),I0=fn({erf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _g(n){let t=Rt(n,"x","erf");return Se("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=qi(t,"float32")),Oe.runKernel(Na,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dy(n,t){for(let e=0;e<n.length;++e)if(n[n.length-e-1]!==t-1-e)return!1;return!0}function RC(n,t,e){const i=n.length+t.length,r=[];let a=0,c=0;for(let u=0;u<i;u++)-1===e.indexOf(u)?r.push(n[a++]):r.push(t[c++]);return r}function Sc(n,t){const e=[],i=n.length;for(let a=0;a<i;a++)-1===t.indexOf(a)&&e.push(n[a]);return[e,t.map(a=>n[a])]}function pl(n,t){return RC(n,t.map(i=>1),t)}function Dc(n,t,e){Se(Dy(t,e),()=>`${n} supports only inner-most axes for now. Got axes ${t} and rank-${e} input.`)}function ml(n,t){if(Dy(n,t))return null;const e=[];for(let i=0;i<t;++i)-1===n.indexOf(i)&&e.push(i);return n.forEach(i=>e.push(i)),e}function cf(n){return n.map((t,e)=>[e,t]).sort((t,e)=>t[1]-e[1]).map(t=>t[0])}function ja(n,t){const e=[];for(let i=t-n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Nu=fn({max_:function NC(n,t=null,e=!1){const r={x:Rt(n,"x","max")};return Oe.runKernel(wa,r,{reductionIndices:t,keepDims:e})}}),Ty=fn({min_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SI(n,t=null,e=!1){const r={x:Rt(n,"x","min")};return Oe.runKernel(es,r,{axis:t,keepDims:e})}}),gr=fn({sum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KP(n,t=null,e=!1){let i=Rt(n,"x","sum");return"bool"===i.dtype&&(i=qi(i,"int32")),Oe.runKernel(ki,{x:i},{axis:t,keepDims:e})}});function yg(n,t,e=null){if(0===n.rank)return Wl(n);if(1!==n.rank&&null===e)return yg(Dn(n,[-1]),t,e);if(1===n.rank||"number"==typeof e||Array.isArray(e)&&1===e.length){if(1===t)return gr(Wl(n),e);if(t===1/0)return Nu(Wl(n),e);if(t===-1/0)return Ty(Wl(n),e);if("euclidean"===t||2===t)return Qt(gr(sh(Wl(n),vr(2,"int32")),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(e)&&2===e.length){if(1===t)return Nu(gr(Wl(n),e[0]),e[1]-1);if(t===1/0)return Nu(gr(Wl(n),e[1]),e[0]);if(t===-1/0)return Ty(gr(Wl(n),e[1]),e[0]);if("fro"===t||"euclidean"===t)return Qt(gr(Ln(n),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${e}`)}const Gf=fn({norm_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DI(n,t="euclidean",e=null,i=!1){const r=yg(n=Rt(n,"x","norm"),t,e);let a=r.shape;if(i){const c=wt(e,n.shape);a=pl(r.shape,c)}return Dn(r,a)}}),FC=fn({euclideanNorm_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PC(n,t=null,e=!1){return Gf(n,"euclidean",t,e)}}),uu=fn({exp_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LC(n){const e={x:Rt(n,"x","exp")};return Oe.runKernel($r,e)}}),Gl=fn({expandDims_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $C(n,t=0){const e=Rt(n,"x","expandDims","string_or_numeric");return Se(t<=e.rank,()=>"Axis must be <= rank of the tensor"),Oe.runKernel(Rr,{input:e},{dim:t})}}),vg=fn({expm1_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BC(n){const e={x:Rt(n,"x","expm1")};return Oe.runKernel(so,e)}}),ed=fn({tile_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VC(n,t){const e=Rt(n,"x","tile","string_or_numeric");return Se(e.rank===t.length,()=>`Error in transpose: rank of input ${e.rank} must match length of reps ${t}.`),Oe.runKernel(Ba,{x:e},{reps:t})}}),Wp=fn({eye_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UC(n,t,e,i="float32"){null==t&&(t=n);const r=is([n,t],i),a=n<=t?n:t;for(let u=0;u<a;++u)r.set(1,u,u);const c=Dn(r.toTensor(),[n,t]);if(null==e)return c;if(1===e.length)return ed(Gl(c,0),[e[0],1,1]);if(2===e.length)return ed(Gl(Gl(c,0),0),[e[0],e[1],1,1]);if(3===e.length)return ed(Gl(Gl(Gl(c,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${e.length}D.`)}}),Hp=fn({floor_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function A0(n){const e={x:Rt(n,"x","floor","float32")};return Oe.runKernel(Gs,e)}}),Kf=fn({gather_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ky(n,t,e=0,i=0){const r=Rt(n,"x","gather"),a=Rt(t,"indices","gather","int32");return Oe.runKernel(Po,{x:r,indices:a},{axis:e,batchDims:i})}}),Pu=fn({greater_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gp(n,t){let e=Rt(n,"a","greater","string_or_numeric"),i=Rt(t,"b","greater","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(bo,{a:e,b:i})}}),Xf=fn({greaterEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TI(n,t){let e=Rt(n,"a","greaterEqual","string_or_numeric"),i=Rt(t,"b","greaterEqual","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(wo,{a:e,b:i})}}),Kp=fn({imag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Iy(n){const e={input:Rt(n,"input","imag")};return Oe.runKernel(Il,e)}}),M0=fn({isFinite_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zC(n){const e={x:Rt(n,"x","isFinite")};return Oe.runKernel(ba,e)}}),uf=fn({isInf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jC(n){const e={x:Rt(n,"x","isInf")};return Oe.runKernel(Ar,e)}}),WC=fn({isNaN_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kI(n){const e={x:Rt(n,"x","isNaN")};return Oe.runKernel(vs,e)}}),Ay=fn({leakyRelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function II(n,t=.2){const i={x:Rt(n,"x","leakyRelu")};return Oe.runKernel(na,i,{alpha:t})}}),td=fn({less_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AI(n,t){let e=Rt(n,"a","less","string_or_numeric"),i=Rt(t,"b","less","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(po,{a:e,b:i})}}),Yf=fn({lessEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xp(n,t){let e=Rt(n,"a","lessEqual","string_or_numeric"),i=Rt(t,"b","lessEqual","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(Xa,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MI(n,t,e){if(e<=0)throw new Error("The number of values should be positive.");return Oe.runKernel(Ya,{},{start:n,stop:t,num:e})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const HC=fn({localResponseNormalization_:function OI(n,t=5,e=1,i=1,r=.5){const a=Rt(n,"x","localResponseNormalization");Se(4===a.rank||3===a.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`),Se(Ye(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let c=a,u=!1;3===a.rank&&(u=!0,c=Dn(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const g=Oe.runKernel(Ko,{x:c},{depthRadius:t,bias:e,alpha:i,beta:r});return u?Dn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),nd=fn({log_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RI(n){const e={x:Rt(n,"x","log","float32")};return Oe.runKernel(sl,e)}}),My=fn({log1p_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GC(n){const e={x:Rt(n,"x","log1p")};return Oe.runKernel(Oi,e)}}),Wa=fn({neg_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NI(n){const e={x:Rt(n,"x","neg")};return Oe.runKernel(ll,e)}}),$h=fn({softplus_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PI(n){const e={x:Rt(n,"x","softplus")};return Oe.runKernel(fi,e)}}),Yp=fn({logSigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bh(n){const t=Rt(n,"x","logSigmoid");return ka(i=>({value:Wa($h(Wa(i))),gradFunc:c=>me(c,Zu(Wa(i)))}))(t)}}),Oy=fn({logSoftmax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KC(n,t=-1){const e=Rt(n,"logits","logSoftmax");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and axis was ${t}`);return ka((r,a)=>{const u=Nu(r,t,!0),f=fr(r,u),p=fr(qi(f,"float32"),nd(gr(uu(f),t,!0)));return a([p]),{value:p,gradFunc:(v,T)=>{const[U]=T,ae=uu(U);return fr(v,me(gr(v,t,!0),ae))}}})(e)}}),O0=fn({logSumExp_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XC(n,t=null,e=!1){const i=Rt(n,"x","logSumExp"),r=wt(t,i.shape),a=Nu(i,r,!0),c=fr(i,a),u=uu(c),f=gr(u,r),p=nd(f),g=Ti(Dn(a,p.shape),p);if(e){const v=pl(g.shape,r);return Dn(g,v)}return g}}),Vh=fn({logicalAnd_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XP(n,t){const e=Rt(n,"a","logicalAnd","bool"),i=Rt(t,"b","logicalAnd","bool");return Ts(e.shape,i.shape),Oe.runKernel(Ao,{a:e,b:i})}}),qp=fn({logicalNot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function R0(n){const e={x:Rt(n,"x","logicalNot","bool")};return Oe.runKernel(mo,e)}}),YC=fn({logicalOr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YP(n,t){const e=Rt(n,"a","logicalOr","bool"),i=Rt(t,"b","logicalOr","bool");return Ts(e.shape,i.shape),Oe.runKernel(Fo,{a:e,b:i})}}),QC=fn({logicalXor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qC(n,t){const e=Rt(n,"a","logicalXor","bool"),i=Rt(t,"b","logicalXor","bool");return Ts(e.shape,i.shape),Vh(YC(n,t),qp(Vh(n,t)))}}),Ry=2147483648,N0=fn({searchSorted_:function FI(n,t,e="left"){const i=Rt(n,"sortedSequence","searchSorted"),r=Rt(t,"values","searchSorted"),c=r.shape[r.shape.length-1],u=Dn(i,[-1,i.shape[i.shape.length-1]]),f=Dn(r,[-1,c]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Tt(f.shape)>=Ry)throw new Error(`values tensor size must less than ${Ry}`);if(u.shape[1]>=Ry)throw new Error(`trailing dim_size must less than ${Ry} for int32 output type, was ${u.shape[1]}`);return Oe.runKernel(Kt,{sortedSequence:u,values:f},{side:e})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LI(n,t){return N0(n,t,"left")}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const bg=fn({maxPool_:function ZC(n,t,e,i,r){const a=Rt(n,"x","maxPool");let u=a,f=!1;3===a.rank&&(f=!0,u=Dn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Se(4===u.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${u.rank}.`),Se(Cc(e,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`),xu("maxPool",i,r);const v=Oe.runKernel(La,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return f?Dn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),JC=fn({maxPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $I(n,t=[1,1,1],e,i,r,a="NDHWC"){const c=Rt(n,"x","maxPool3d");let u=c,f=!1;4===c.rank&&(f=!0,u=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Se(5===u.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${u.rank}.`),Se("NDHWC"===a,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),xu("maxPool3d",i,r);const v=Oe.runKernel(vl,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return f?Dn(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),Ny=fn({maxPoolWithArgmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eS(n,t,e,i,r=!1){const c={x:Rt(n,"x","maxPoolWithArgmax")},f=Oe.runKernel(al,c,{filterSize:t,strides:e,pad:i,includeBatchInIndex:r});return{result:f[0],indexes:f[1]}}}),Ja=fn({mean_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tS(n,t=null,e=!1){const r={x:Rt(n,"x","mean")};return Oe.runKernel(ra,r,{axis:t,keepDims:e})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oc(n,t="float32"){if(Kn(n),"complex64"===t){const i=oc(n,"float32"),r=oc(n,"float32");return go(i,r)}const e=Gn(Tt(n),t);return Oe.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ac(n,t="float32"){if(Kn(n),"complex64"===t){const i=ac(n,"float32"),r=oc(n,"float32");return go(i,r)}const e=Sn(Tt(n),t);return Oe.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nS(n,t,{indexing:e="xy"}={}){if("xy"!==e&&"ij"!==e)throw new TypeError(`${e} is not a valid third argument to meshgrid`);if(void 0===n)return[];let i=Rt(n,"x","meshgrid",n instanceof to?n.dtype:"float32");if(void 0===t)return[i];let r=Rt(t,"y","meshgrid",t instanceof to?t.dtype:"float32");const a=Tt(i.shape),c=Tt(r.shape);return"xy"===e?(i=Dn(i,[1,-1]),r=Dn(r,[-1,1]),[bs(ac([c,1],i.dtype),i),bs(r,ac([1,a],r.dtype))]):(i=Dn(i,[-1,1]),r=Dn(r,[1,-1]),[bs(i,ac([1,c],i.dtype)),bs(ac([a,1],r.dtype),r)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */)}const Uh=fn({minimum_:function BI(n,t){let e=Rt(n,"a","minimum"),i=Rt(t,"b","minimum");return[e,i]=Pr(e,i),"bool"===e.dtype&&(e=qi(e,"int32"),i=qi(i,"int32")),Ts(e.shape,i.shape),Oe.runKernel(qa,{a:e,b:i})}}),rS=fn({mirrorPad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iS(n,t,e){Se("reflect"===e||"symmetric"===e,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${e}.`);const i=Rt(n,"x","mirrorPad");if(0===i.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Se(t.length===i.rank,()=>`Padding doesn't match input. Must be ${i.rank}. Got ${t.length}.`);const r="reflect"===e?1:0;for(let u=0;u<i.rank;u++)Se(2===t[u].length,()=>"Invalid number of paddings. Must be length of 2 each."),Se(t[u][0]>=0&&t[u][0]<=i.shape[u]-r&&t[u][1]>=0&&t[u][1]<=i.shape[u]-r,()=>`Padding in dimension ${u} cannot be greater than or equal to ${i.shape[u]-r} or less than 0 for input of shape ${i.shape}`);return Oe.runKernel(ao,{x:i},{paddings:t,mode:e})}}),sS=fn({mod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VI(n,t){let e=Rt(n,"a","mod"),i=Rt(t,"b","mod");return[e,i]=Pr(e,i),Oe.runKernel(Ea,{a:e,b:i})}}),wg=fn({moments_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UI(n,t=null,e=!1){const i=wt(t,(n=Rt(n,"x","moments")).shape),r=Ja(n,i,e);let a=r.shape;e||(a=pl(r.shape,i));const c=Ln(fr(qi(n,"float32"),Dn(r,a)));return{mean:r,variance:Ja(c,i,e)}}}),QP=fn({multiRNNCell_:function qP(n,t,e,i){const r=Rt(t,"data","multiRNNCell"),a=Es(e,"c","multiRNNCell"),c=Es(i,"h","multiRNNCell");let u=r;const f=[];for(let v=0;v<n.length;v++){const T=n[v](u,a[v],c[v]);f.push(T[0]),f.push(T[1]),u=T[1]}const p=[],g=[];for(let v=0;v<f.length;v+=2)p.push(f[v]),g.push(f[v+1]);return[p,g]}}),zI=fn({multinomial_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Eg(n,t,e,i=!1){const r=Rt(n,"logits","multinomial"),a=r.size,c=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);e=e||Math.random();const f={logits:1===c?Dn(r,[1,-1]):r},g=Oe.runKernel(sa,f,{numSamples:t,seed:e,normalized:i});return 1===c?Dn(g,[g.size]):g}}),Qp=fn({notEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jI(n,t){let e=Rt(n,"a","notEqual","string_or_numeric"),i=Rt(t,"b","notEqual","string_or_numeric");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(pr,{a:e,b:i})}}),P0=fn({oneHot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oS(n,t,e=1,i=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const c={indices:Rt(n,"indices","oneHot","int32")};return Oe.runKernel(jt,c,{dtype:r,depth:t,onValue:e,offValue:i})}}),id=fn({onesLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WI(n){const e={x:Rt(n,"x","onesLike")};return Oe.runKernel(Vs,e)}}),GI=fn({outerProduct_:function HI(n,t){const e=Rt(n,"v1","outerProduct"),i=Rt(t,"v2","outerProduct");Se(1===e.rank&&1===i.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${e.rank} and ${i.rank}.`);const r=Dn(e,[-1,1]),a=Dn(i,[1,-1]);return bs(r,a)}}),ah=fn({pad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KI(n,t,e=0){const i=Rt(n,"x","pad");if(0===i.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return Oe.runKernel(De,{x:i},{paddings:t,constantValue:e})}}),JP=fn({pad1d_:function ZP(n,t,e=0){return Se(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),ah(n,[t],e)}}),e2=fn({pad2d_:function F0(n,t,e=0){return Se(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),ah(n,t,e)}}),n2=fn({pad3d_:function t2(n,t,e=0){return Se(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),ah(n,t,e)}}),s2=fn({pad4d_:function r2(n,t,e=0){return Se(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),ah(n,t,e)}}),qf=fn({spaceToBatchND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XI(n,t,e){const i=Rt(n,"x","spaceToBatchND");return Se(i.rank>=1+t.length,()=>`input rank ${i.rank} should be > than [blockShape] ${t.length}`),Se(e.length===t.length,()=>`paddings.shape[0] ${e.length} must be equal to [blockShape] ${t.length}`),Se(i.shape.reduce((c,u,f)=>f>0&&f<=t.length?c&&(u+e[f-1][0]+e[f-1][1])%t[f-1]==0:c,!0),()=>`input spatial dimensions ${i.shape.slice(1)} with paddings ${e.toString()} must be divisible by blockShapes ${t.toString()}`),Oe.runKernel(tr,{x:i},{blockShape:t,paddings:e})}}),L0=fn({pool_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Py(n,t,e,i,r,a,c){null==r&&(r=[1,1]),null==a&&(a=1),0===i&&(i="valid");const u=Rt(n,"x","maxPool");let f=u,p=!1;3===u.rank&&(p=!0,f=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Se(Cc(a,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`);const g=Qu(f.shape,t,a,r,i),v=[g.dilationHeight,g.dilationWidth];let T;T="same"===i?function lS(n,t){const i=n.map((c,u)=>c+(c-1)*(t[u]-1)).map(c=>c-1),r=i.map(c=>Math.floor(c/2)),a=i.map((c,u)=>c-r[u]);return i.map((c,u)=>[r[u],a[u]])}([g.filterHeight,g.filterWidth],v):[[0,0],[0,0]];const U=1===v[0]&&1===v[1],[q,ae]=function aS(n,t,e){const i=e.map(g=>g[0]),r=e.map(g=>g[1]),a=n.concat(i,r),c=t.map((g,v)=>(g-a[v]%g)%g),u=r.map((g,v)=>g+c[v]),f=t.map((g,v)=>[i[v],u[v]]),p=t.map((g,v)=>[0,c[v]]);return[f,p]}([g.inHeight,g.inWidth],v,T),te=U?i:"valid",ye=U?f:qf(f,v,q),tt=("avg"===e?()=>Ph(ye,t,a,te,c):()=>bg(ye,t,a,te,c))(),nt=U?tt:by(tt,v,ae);return p?Dn(nt,[nt.shape[1],nt.shape[2],nt.shape[3]]):nt}}),Fy=fn({prelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cS(n,t){const e=Rt(n,"x","prelu"),i=Rt(t,"alpha","prelu");return Oe.runKernel(ie,{x:e,alpha:i})}}),Qf=fn({prod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uS(n,t=null,e=!1){let i=Rt(n,"x","prod");return"bool"===i.dtype&&(i=qi(i,"int32")),Oe.runKernel(ze,{x:i},{axis:t,keepDims:e})}}),Fu=fn({raggedGather_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rd(n,t,e,i){const r=n.map((g,v)=>Rt(g,`tensors${v}`,"raggedGather","int32")),a=Rt(t,"paramsDenseValues","raggedGather"),c=Rt(e,"indices","raggedGather","int32"),p=Oe.runKernel(Ct,{paramsNestedSplits:r,paramsDenseValues:a,indices:c},{outputRaggedRank:i});return{outputNestedSplits:p.slice(0,p.length-1),outputDenseValues:p[p.length-1]}}}),o2=fn({raggedRange_:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dS(n,t,e){const i=Rt(n,"starts","raggedRange"),r=Rt(t,"limits","raggedRange",i.dtype),a=Rt(e,"deltas","raggedRange",i.dtype),u=Oe.runKernel(wn,{starts:i,limits:r,deltas:a});return{rtNestedSplits:u[0],rtDenseValues:u[1]}}}),a2=fn({raggedTensorToTensor_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YI(n,t,e,i,r){const a=Rt(n,"shape","raggedTensorToTensor","int32"),c=Rt(t,"values","raggedTensorToTensor"),u=Rt(e,"defaultValue","raggedTensorToTensor",c.dtype),f=i.map((v,T)=>Rt(v,`tensors${T}`,"raggedTensorToTensor","int32"));return Oe.runKernel(Pn,{shape:a,values:c,defaultValue:u,rowPartitionTensors:f},{rowPartitionTypes:r})}}),hS=fn({rand_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function l2(n,t,e){Kn(n);const i=Tt(n);let r=null;if(null==e||"float32"===e)r=new Float32Array(i);else if("int32"===e)r=new Int32Array(i);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);r=new Uint8Array(i)}for(let a=0;a<i;a++)r[a]=t();return Oe.makeTensor(r,n,e)}});var Zf=_(2667);
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class fS{constructor(t,e,i,r,a){this.mean=t,this.stdDev=e,this.dtype=i,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const c=a||Math.random();this.random=Zf.alea(c.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let t,e,i=!1;for(;!i;){let r,a,c;do{r=2*this.random()-1,a=2*this.random()-1,c=r*r+a*a}while(c>=1||0===c);const u=Math.sqrt(-2*Math.log(c)/c);t=this.mean+this.stdDev*r*u,e=this.mean+this.stdDev*a*u,(!this.truncated||this.isValidTruncated(t))&&(i=!0)}return(!this.truncated||this.isValidTruncated(e))&&(this.nextVal=this.convertValue(e)),this.convertValue(t)}convertValue(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class Ly{constructor(t,e,i,r){this.alpha=t,this.beta=1/e,this.dtype=i;const a=r||Math.random();this.randu=Zf.alea(a.toString()),this.randn=new fS(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,e,i,r,a,c;for(;;){do{r=this.randn.nextValue(),c=1+this.c*r}while(c<=0);if(c*=c*c,t=r*r,e=1-.331*t*t,i=.5*t+this.d*(1-c+Math.log(c)),a=this.randu(),a<e||Math.log(a)<i)break}return c*=1/this.beta*this.d,this.alpha<1&&(c*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(c)}convertValue(t){return"float32"===this.dtype?t:Math.round(t)}}class $0{constructor(t=0,e=1,i,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=t,this.range=e-t,this.dtype=i,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${e} <= 1 and dtype is not float`);this.random=Zf.alea(r)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const qI=fn({randomGamma_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $y(n,t,e=1,i="float32",r){if(Kn(n),null==e&&(e=1),null==i&&(i="float32"),"float32"!==i&&"int32"!==i)throw new Error(`Unsupported data type ${i}`);const a=new Ly(t,e,i,r),c=is(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),By=fn({randomNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QI(n,t=0,e=1,i,r){if(Kn(n),null!=i&&"bool"===i)throw new Error(`Unsupported data type ${i}`);const a=new fS(t,e,i,!1,r),c=is(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),JI=fn({randomStandardNormal_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZI(n,t,e){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return By(n,0,1,t,e)}}),zh=fn({randomUniform_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gS(n,t=0,e=1,i="float32",r){Kn(n);const a=is(n,i),c=new $0(t,e,null,r);for(let u=0;u<a.values.length;u++)a.values[u]=c.nextValue();return a.toTensor()}}),Vy=fn({randomUniformInt_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xg(n,t,e,i){return zh(n,t,e,"int32",i)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hf(n,t,e=1,i="float32"){if(0===e)throw new Error("Cannot have a step of zero");return Oe.runKernel(Di,{},{start:n,stop:t,step:e,dtype:i})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Cg=fn({real_:function eA(n){const e={input:Rt(n,"input","real")};return Oe.runKernel(Rn,e)}}),z0=fn({reciprocal_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function U0(n){const e={x:Rt(n,"x","reciprocal")};return Oe.runKernel(mr,e)}}),Ld=fn({relu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jf(n){const e={x:Rt(n,"x","relu")};return Oe.runKernel(zr,e)}}),j0=fn({relu6_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _S(n){const e={x:Rt(n,"x","relu6")};return Oe.runKernel(Ns,e)}}),Su=fn({reverse_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function u2(n,t){const i={x:Rt(n,"x","reverse")};return Oe.runKernel(Ks,i,{dims:t})}}),yS=fn({reverse1d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tA(n){const t=Rt(n,"x","reverse");return Se(1===t.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Su(t,0)}}),bS=fn({reverse2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vS(n,t){const e=Rt(n,"x","reverse");return Se(2===e.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${e.rank}.`),Su(e,t)}}),wS=fn({reverse3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function W0(n,t){const e=Rt(n,"x","reverse");return Se(3===e.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${e.rank}.`),Su(e,t)}}),Zp=fn({reverse4d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uy(n,t){const e=Rt(n,"x","reverse");return Se(4===e.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${e.rank}.`),Su(e,t)}}),Sg=fn({round_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ES(n){const e={x:Rt(n,"x","round")};return Oe.runKernel(xa,e)}}),zy=fn({rsqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dg(n){const e={x:Rt(n,"x","rsqrt","float32")};return Oe.runKernel(oa,e)}}),Jp=fn({selu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H0(n){const e={x:Rt(n,"x","selu")};return Oe.runKernel(en,e)}}),jy=fn({separableConv2d_:function nA(n,t,e,i,r,a=[1,1],c="NHWC"){const u=Rt(n,"x","separableConv2d"),f=Rt(t,"depthwiseFilter","separableConv2d"),p=Rt(e,"pointwiseFilter","separableConv2d");let g=u,v=!1;if(3===u.rank&&(v=!0,g=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===c)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Se(4===g.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`),Se(4===f.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),Se(4===p.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),Se(1===p.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),Se(1===p.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);const T=f.shape[2],U=f.shape[3];Se(p.shape[2]===T*U,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${T*U}, but got ${p.shape[2]}.`);const q=mg(g,f,i,r,c,a),te=Fh(q,p,1,"valid",c);return v?Dn(te,[te.shape[1],te.shape[2],te.shape[3]]):te}});function G0(){return(G0=(0,Q.A)(function*(n,t){const e=Rt(n,"x","setdiff1d"),i=Rt(t,"y","setdiff1d");Se(e.dtype===i.dtype,()=>`x and y should have the same dtype, but got x (${e.dtype}) and y (${i.dtype}).`),Se(1===e.rank,()=>`x should be 1D tensor, but got x (${e.shape}).`),Se(1===i.rank,()=>`y should be 1D tensor, but got y (${i.shape}).`);const r=yield e.data(),a=yield i.data(),c=new Set(a);let u=0;for(let g=0;g<r.length;g++)c.has(r[g])||u++;const f=new So([u],e.dtype),p=new So([u],"int32");for(let g=0,v=0;g<r.length;g++)c.has(r[g])||(f.values[v]=r[g],p.values[v]=g,v++);return[f.toTensor(),p.toTensor()]})).apply(this,arguments)}const rA=
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iA(n,t){return G0.apply(this,arguments)},K0=fn({sign_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xS(n){const e={x:Rt(n,"x","sign")};return Oe.runKernel(qn,e)}}),Wy=fn({sin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ms(n){const e={x:Rt(n,"x","sin","float32")};return Oe.runKernel(an,e)}}),ff=fn({sinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CS(n){const e={x:Rt(n,"x","sinh")};return Oe.runKernel(Fn,e)}}),Tg=fn({slice1d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SS(n,t,e){const i=Rt(n,"x","slice1d");return Se(1===i.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${i.rank} tensor`),fo(i,[t],[e])}}),em=fn({slice2d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sA(n,t,e){const i=Rt(n,"x","slice2d");return Se(2===i.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${i.rank} tensor`),fo(i,t,e)}}),tm=fn({slice3d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ep(n,t,e){const i=Rt(n,"x","slice3d");return Se(3===i.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${i.rank} tensor`),fo(i,t,e)}}),nm=fn({slice4d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kg(n,t,e){const i=Rt(n,"x","slice4d");return Se(4===i.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${i.rank} tensor`),fo(i,t,e)}}),im=fn({softmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function X0(n,t=-1){const e=Rt(n,"logits","softmax","float32");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and dim was ${t}`);return Oe.runKernel(os,{logits:e},{dim:t})}}),Ig=fn({fft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Y0(n){return Se("complex64"===n.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`),Oe.runKernel("FFT",{input:n})}}),Ag=fn({ifft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function q0(n){return Se("complex64"===n.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${n.dtype}.`),Oe.runKernel(Go,{input:n})}}),Q0=fn({irfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oA(n){const t=n.shape[n.shape.length-1],e=n.size/t;let i;if(t<=2){const r=Dn(n,[e,t]);i=Ag(r)}else{const r=[e,2*(t-1)],a=Dn(Cg(n),[e,t]),c=Dn(Kp(n),[e,t]),u=Su(fo(a,[0,1],[e,t-2]),1),f=me(Su(fo(c,[0,1],[e,t-2]),1),vr(-1)),p=Hl([a,u],1),g=Hl([c,f],1),v=Dn(go(p,g),[r[0],r[1]]);i=Ag(v)}if(i=Cg(i),3===n.rank&&0!==n.shape[0]){const r=i,a=n.shape[0];i=Dn(i,[a,i.shape[0]/a,i.shape[1]]),r.dispose()}return i}}),Lu=fn({split_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DS(n,t,e=0){const r={x:Rt(n,"x","split")};return Oe.runKernel(Br,r,{numOrSizeSplits:t,axis:e})}}),Hy=fn({rfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aA(n,t){Se("float32"===n.dtype,()=>`The dtype for rfft() must be real value but got ${n.dtype}`);let e=n.shape[n.shape.length-1];const i=n.size/e;let r;if(null!=t&&t<e){const q=n.shape.map(te=>0),ae=n.shape.map(te=>te);ae[n.shape.length-1]=t,r=fo(n,q,ae),e=t}else if(null!=t&&t>e){const q=n.shape.map(ae=>ae);q[n.shape.length-1]=t-e,r=Hl([n,oc(q)],n.shape.length-1),e=t}else r=n;const a=Ri(r),c=Dn(go(r,a),[i,e]),u=Ig(c),f=Math.floor(e/2)+1,p=Cg(u),g=Kp(u),v=Lu(p,[f,e-f],p.shape.length-1),T=Lu(g,[f,e-f],g.shape.length-1),U=r.shape.slice();return U[r.shape.length-1]=f,Dn(go(v[0],T[0]),U)}}),Gy=fn({squaredDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lA(n,t){let e=Rt(n,"a","squaredDifference"),i=Rt(t,"b","squaredDifference");return[e,i]=Pr(e,i),Ts(e.shape,i.shape),Oe.runKernel(Yo,{a:e,b:i},{})}}),tp=fn({squeeze_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TS(n,t){const e=Rt(n,"x","squeeze","string_or_numeric");return Dn(e,ct(e.shape,t).newShape)}}),fa=fn({stack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cA(n,t=0){const e=Es(n,"tensors","stack","string_or_numeric");return Se(e.length>=1,()=>"Pass at least one tensor to tf.stack"),e.length>0&&Se(t<=e[0].rank,()=>"Axis must be <= rank of the tensor"),Oe.runKernel(de,e,{axis:t})}}),rm=fn({step_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uA(n,t=0){const i={x:Rt(n,"x","step")};return Oe.runKernel(Oc,i,{alpha:t})}}),Ky=fn({stridedSlice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function d2(n,t,e,i,r=0,a=0,c=0,u=0,f=0){const g={x:Rt(n,"x","stridedSlice","string_or_numeric")};return Oe.runKernel(aa,g,{begin:t,end:e,strides:i,beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f})}}),IS=fn({tan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kS(n){const e={x:Rt(n,"x","tan","float32")};return Oe.runKernel(gu,e)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yc(n,t){Vt(n);const e=Vi(n,t);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ro(n,null,e,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function np(n,t,e){if(Vt(n),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const i=Vi(n,e);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ro(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AS(n,t,e){if(Vt(n),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const i=Vi(n,e);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ro(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dA(n,t,e){if(Vt(n),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const i=Vi(n,e);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ro(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function hA(n,t,e){if(Vt(n),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const i=Vi(n,e);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ro(n,t=t||i,i,e)}function Xy(n,t,e){const i=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${e.shape}, indices.shape: ${t.shape}, shape: ${n}, sliceDim: ${i}, and batchDim: ${r}.`;if(e.rank<r)throw new Error(a+` update.rank < ${r}. `);if(n.length<i+(e.rank-r))throw new Error(a+` Output shape length < ${i+(e.rank-r)}`);if(e.rank!==r+n.length-i)throw new Error(a+" update.rank != "+(r+n.length-i));for(let c=0;c<r;++c)if(e.shape[c]!==t.shape[c])throw new Error(a+` updates.shape[${c}] (${e.shape[c]}) != indices.shape[${c}] (${t.shape[c]}).`);for(let c=0;c<e.rank-r;++c)if(e.shape[c+r]!==n[c+i])throw new Error(a+` updates.shape[${c+r}] (${e.shape[c+r]}) != shape[${c+r}] (${n[c+r]})`)}function Z0(n,t,e){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(e.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${e}`);if(0===e.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===n.size)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}Xy(e,t,n)}function ip(n,t,e){const i=t.shape.length,r=i>1?t.shape[i-1]:1,a=e.length;let c=1;for(let v=r;v<a;++v)c*=e[v];const u=r<1?1:r;return{sliceRank:r,numUpdates:Tt(t.shape)/u,sliceSize:c,strides:[...$t(e.slice(0,r)),1],outputSize:Tt(e)}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const pA=fn({tensorScatterUpdate_:function fA(n,t,e){const i=Rt(n,"tensor","tensorScatterupdate"),r=Rt(t,"indices","tensorScatterupdate","int32"),a=Rt(e,"updates","tensorScatterupdate");if(Z0(a,r,i.shape),i.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${i.dtype} and ${a.dtype}.`);return Oe.runKernel(Et,{tensor:i,indices:r,updates:a},{})}}),$d=fn({topk_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mA(n,t=1,e=!0){const i=Rt(n,"x","topk");if(0===i.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=i.shape[i.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const a={x:i},c={k:t,sorted:e},[u,f]=Oe.runKernel(_u,a,c);return{values:u,indices:f}}}),ew=fn({truncatedNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J0(n,t=0,e=1,i,r){if(Kn(n),null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const a=new fS(t,e,i,!0,r),c=is(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),tw=fn({unique_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gA(n,t=0){const e=Rt(n,"x","unique","string_or_numeric");Se(e.rank>0,()=>"The input tensor must be at least 1D");const i={x:e},r={axis:t},[a,c]=Oe.runKernel(Wo,i,r);return{values:a,indices:c}}}),sm=fn({unsortedSegmentSum_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MS(n,t,e){const i=Rt(n,"x","unsortedSegmentSum"),r=Rt(t,"segmentIds","unsortedSegmentSum","int32");return Se(Ye(e),()=>"numSegments must be of dtype int"),Oe.runKernel(la,{x:i,segmentIds:r},{numSegments:e})}}),Bd=fn({unstack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nw(n,t=0){const e=Rt(n,"x","unstack","string_or_numeric");return Se(t>=-e.shape.length&&t<e.shape.length,()=>`Axis = ${t} is not in [-${e.shape.length}, ${e.shape.length})`),Oe.runKernel(co,{value:e},{axis:t})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OS(n,t){return N0(n,t,"right")}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function iw(n,t=!0,e,i){return Oe.makeVariable(n,t,e,i)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Yy(n,t){const e=[];for(let a=0;a<t.length;a++)t[a]&&e.push(a);const i=is(n,"int32"),r=is([e.length,n.length],"int32");for(let a=0;a<e.length;a++){const c=i.indexToLoc(e[a]);r.values.set(c,a*n.length)}return r.toTensor()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Mg(){return(Mg=(0,Q.A)(function*(n){const t=Rt(n,"condition","whereAsync","bool"),e=yield t.data(),i=Yy(t.shape,e);return n!==t&&t.dispose(),i})).apply(this,arguments)}const lh=function qy(n){return Mg.apply(this,arguments)};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function rw(){return(rw=(0,Q.A)(function*(n,t,e){const i=Rt(n,"tensor","boolMask"),r=Rt(t,"mask","boolMask","bool"),a=e??0,c=r.rank,u=i.shape;Se(c>0,()=>"mask cannot be scalar"),qt(u.slice(a,a+c),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let ae=a;ae<a+c;ae++)f*=u[ae];const p=u.slice(0,a).concat([f],u.slice(a+c)),g=Dn(i,p),v=Dn(r,[-1]),T=yield lh(v),U=tp(T,[1]),q=Kf(g,U,a);return n!==i&&i.dispose(),t!==r&&r.dispose(),U.dispose(),g.dispose(),v.dispose(),T.dispose(),q})).apply(this,arguments)}const sw=function _A(n,t,e){return rw.apply(this,arguments)},$s=fn({transpose_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yA(n,t,e){const i=Rt(n,"x","transpose");if(null==t&&(t=i.shape.map((c,u)=>u).reverse()),Se(i.rank===t.length,()=>`Error in transpose: rank of input ${i.rank} must match length of perm ${t}.`),t.forEach(c=>{Se(c>=0&&c<i.rank,()=>`All entries in 'perm' must be between 0 and ${i.rank-1} but got ${t}`)}),i.rank<=1)return i.clone();const r={x:i},a={perm:t};return"complex64"===i.dtype?k(()=>{let c=Cg(i),u=Kp(i);return c=Oe.runKernel(wl,{x:c},a),u=Oe.runKernel(wl,{x:u},a),e&&(u=Wa(u)),go(c,u)}):Oe.runKernel(wl,r,a)}}),rp=fn({movingAverage_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RS(n,t,e,i,r=!0){const a=Rt(n,"v","movingAverage"),c=Rt(t,"x","movingAverage"),u=Rt(e,"decay","movingAverage");(function Oo(n,t){Se(n.dtype===t.dtype,()=>`The dtypes of the first(${n.dtype}) and second(${t.dtype}) input must match`)})(a,c),Se(Re(a.shape,c.shape),()=>"Shape mismatch in v and x");const f=vr(1),p=fr(f,u);let g=me(fr(c,a),p);if(r){Se(null!=i,()=>"When using zeroDebias: true, step is required.");const v=Rt(i,"step","movingAverage");g=B(g,fr(f,sh(u,v)))}return Ti(a,g)}}),ow=fn({scatterND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function om(n,t,e){Kn(e);const i=Rt(n,"indices","scatterND","int32"),r=Rt(t,"updates","scatterND");return Z0(r,i,e),Oe.runKernel(P,{indices:i,updates:r},{shape:e})}}),PS=fn({sparseToDense_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NS(n,t,e,i=0){Kn(e);const r=Rt(n,"sparseIndices","sparseToDense","int32"),a=Rt(t,"sparseValues","sparseToDense","string_or_numeric"),c=Rt(i,"defaultValue","sparseToDense",a.dtype);return function Og(n,t,e,i){if("int32"!==n.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${n.dtype}.`);if(n.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${n.shape}.`);const r=n.rank>0?n.shape[0]:1,a=n.rank>1?n.shape[1]:1;if(e.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${e.length}, should be: ${a}.`);if(0!==t.rank&&(1!==t.rank||t.size!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,a,e,c),Oe.runKernel(Mo,{sparseIndices:r,sparseValues:a,defaultValue:c},{outputShape:e})}}),bA=fn({gatherND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vA(n,t){const e=Rt(t,"indices","gatherND","int32"),r={params:Rt(n,"x","gatherND","string_or_numeric"),indices:e};return Oe.runKernel(rl,r)}}),FS=fn({dropout_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EA(n,t,e,i){const r=Rt(n,"x","dropout");if(Se("float32"===r.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),Se(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return n instanceof to?r.clone():r;const a=
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wA(n,t){if(null==t)return n.shape.slice();if(Re(n.shape,t))return t;if(n.shape.length===t.length){const e=[];for(let i=0;i<n.shape.length;i++)e.push(null==t[i]&&null!=n.shape[i]?n.shape[i]:t[i]);return e}return t}(r,e),c=1-t,u=B(Hp(Ti(zh(a,0,1,"float32",i),c)),c);return me(r,u)}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LS(n){return Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2))))}function Qy(n,t,e){const i=1-n%2,r=new Float32Array(n);for(let a=0;a<n;++a){const c=2*Math.PI*a/(n+i-1);r[a]=t-e*Math.cos(c)}return Yc(r,"float32")}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function am(){return(am=(0,Q.A)(function*(n,t,e=1){const i=Rt(n,"predictions","inTopK"),r=Rt(t,"targets","inTopK");Se(i.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${i.rank}`),Se(i.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${i.rank} and targets rank ${r.rank}`),qt(i.shape.slice(0,i.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=i.shape[i.shape.length-1];Se(e>0&&e<=a,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${e}`);const c=yield i.data(),u=yield r.data(),[f,p]=[c.length/a,a],g=ut("bool",f);for(let v=0;v<f;v++){const T=v*p,U=c.subarray(T,T+p),q=[];for(let ae=0;ae<U.length;ae++)q.push({value:U[ae],index:ae});q.sort((ae,te)=>te.value-ae.value),g[v]=0;for(let ae=0;ae<e;ae++)if(q[ae].index===u[v]){g[v]=1;break}}return n!==i&&i.dispose(),t!==r&&r.dispose(),Js(g,r.shape,"bool")})).apply(this,arguments)}const CA=function xA(n,t){return am.apply(this,arguments)},aw=fn({conv2DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $S(n,t,e,i,r,a="NHWC",c){let u=n;3===n.rank&&(u=Dn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;3===f.rank&&(f=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Se(4===u.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`),Se(4===f.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),Se(4===e.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${e}.`);const p="NHWC"===a?u.shape[3]:u.shape[1],g="NHWC"===a?f.shape[3]:f.shape[1];return Se(p===e[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${e[2]}.`),Se(g===e[3],()=>`Error in conv2dDerFilter: depth of dy (${g}) must match output depth for filter (${e[3]}).`),xu("conv2dDerFilter",r,c),Oe.runKernel(kr,{x:u,dy:f},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,filterShape:e})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Rg(n,t,e){if(null==e||"linear"===e)return n;if("relu"===e)return me(n,rm(t));throw new Error(`Cannot compute gradient for fused activation ${e}.`)}function Zy(n,t){let e=t;const i=ha(n.shape,t.shape);return i.length>0&&(e=gr(e,i)),Dn(e,n.shape)}function Jy(n,t,e,i){if("linear"===t)return n;if("relu"===t)return Ld(n);if("elu"===t)return Hf(n);if("relu6"===t)return j0(n);if("prelu"===t)return Fy(n,e);if("leakyrelu"===t)return Ay(n,i);if("sigmoid"===t)return Zu(n);throw new Error(`Unknown fused activation ${t}.`)}const Ng=(n,t)=>!(n>0)||"linear"===t
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,cw=fn({fusedConv2d_:function lw({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===Ng(Oe.state.gradientDepth,f=f||"linear")){Se("NHWC"===r,()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let Xt=Fh(n,t,e,i,r,a,c);return null!=u&&(Xt=Ti(Xt,u)),Jy(Xt,f,p,g)}const v=Rt(n,"x","conv2d","float32"),T=Rt(t,"filter","conv2d","float32");let U=v,q=!1;3===v.rank&&(q=!0,U=Dn(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Se(4===U.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${U.rank}.`),Se(4===T.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${T.rank}.`),xu("fused conv2d",i,c);const ae="NHWC"===r?U.shape[3]:U.shape[1];Se(T.shape[2]===ae,()=>`Error in conv2d: depth of input (${ae}) must match input depth for filter ${T.shape[2]}.`),Se(Cc(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`);const te=ro(U.shape,T.shape,e,a,i,c);let ye,ke;if(null!=u&&(ye=Rt(u,"bias","fused conv2d"),[ye]=Pr(ye,v),"NHWC"===r?Ts(te.outShape,ye.shape):(Se(ye.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${ye.shape.length}.`),Se(0===ye.shape.length||ye.shape[0]===te.outChannels||1===ye.shape[0],()=>`Error in fused conv2d: bias shape (${ye.shape}) is not compatible with the number of output channels (${te.outChannels})`))),null!=p){const Xt=p.shape;if(Se(Xt.length<=1||3===Xt.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${Xt.length}.`),1===Xt.length)Se(1===Xt[0]||Xt[0]===te.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${Xt}) is not compatible with the number of output channels (${te.outChannels}).`);else if(3===Xt.length)try{Ts(Xt,te.outShape)}catch{throw Error(`Error in fused conv2d: PReLU activation weights (${Xt}) is not compatible with the output shape of the conv2d (${te.outShape}).`)}ke=Rt(p,"prelu weights","fused conv2d")}const tt=(Xt,rn)=>{Se("NHWC"===r,()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[un,bn,xn,Vn]=rn,Yn=Rg(Xt,xn,f);Se(rf(a),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const ri=[b0(bn.shape,Yn,un,e,i),aw(bn,Yn,un.shape,e,i)];if(null!=Vn){const ui=Zy(Vn,Yn);ri.push(ui)}return ri},nt={x:U,filter:T,bias:ye,preluActivationWeights:ke},St={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?ka((rn,un,bn)=>{let xn=Oe.runKernel(Ue,nt,St);return bn([un,rn,xn]),q&&(xn=Dn(xn,[xn.shape[1],xn.shape[2],xn.shape[3]])),{value:xn,gradFunc:tt}})(U,T):ka((rn,un,bn,xn)=>{let Vn=Oe.runKernel(Ue,nt,St);return xn([un,rn,Vn,bn]),q&&(Vn=Dn(Vn,[Vn.shape[1],Vn.shape[2],Vn.shape[3]])),{value:Vn,gradFunc:tt}})(U,T,ye)}}),lm=fn({depthwiseConv2dNativeBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pg(n,t,e,i,r,a=[1,1],c){let u=n;3===n.rank&&(u=Dn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;return 3===f.rank&&(f=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Oe.runKernel(Tl,{x:u,dy:f},{strides:i,pad:r,dimRoundingMode:c,dilations:a,filterShape:e})}}),BS=fn({depthwiseConv2dNativeBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fg(n,t,e,i,r,a=[1,1],c){let u=t,f=!1;3===t.rank&&(f=!0,u=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const v=Oe.runKernel(Ga,{dy:u,filter:e},{strides:i,pad:r,dimRoundingMode:c,dilations:a,inputShape:n});return f?Dn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),DA=fn({fusedDepthwiseConv2d_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SA({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===Ng(Oe.state.gradientDepth,f)){let St=mg(n,t,e,i,r,a,c);return null!=u&&(St=Ti(St,u)),Jy(St,f,p,g)}const v=Rt(n,"x","depthwiseConv2d","float32"),T=Rt(t,"filter","depthwiseConv2d","float32");let U=v,q=!1;3===v.rank&&(q=!0,U=Dn(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Se(4===U.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${U.rank}.`),Se(4===T.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${T.rank}.`),Se(U.shape[3]===T.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${U.shape[3]}) must match the inChannels dimension in filter ${T.shape[2]}.`),null==a&&(a=[1,1]),Se(Cc(e,a),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),xu("fused depthwiseConv2d",i,c);const ae=ro(U.shape,T.shape,e,a,i,c,!0);let te,ye;null!=u&&(te=Rt(u,"bias","fused conv2d"),[te]=Pr(te,v),Ts(ae.outShape,te.shape)),null!=p&&(ye=Rt(p,"prelu weights","fused depthwiseConv2d"));const ke=(St,Xt)=>{Se(rf(a),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[rn,un,bn,xn]=Xt,Vn=Rg(St,bn,f),Yn=BS(un.shape,Vn,rn,e,i,a,c),ti=lm(un,Vn,rn.shape,e,i,a,c);return null!=xn?[Yn,ti,Zy(te,Vn)]:[Yn,ti]},tt={x:U,filter:T,bias:te,preluActivationWeights:ye},nt={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?ka((Xt,rn,un)=>{let bn=Oe.runKernel(_t,tt,nt);return un([rn,Xt,bn]),q&&(bn=Dn(bn,[bn.shape[1],bn.shape[2],bn.shape[3]])),{value:bn,gradFunc:ke}})(U,T):ka((Xt,rn,un,bn)=>{let xn=Oe.runKernel(_t,tt,nt);return bn([rn,Xt,xn,un]),q&&(xn=Dn(xn,[xn.shape[1],xn.shape[2],xn.shape[3]])),{value:xn,gradFunc:ke}})(U,T,te)}}),Lg=fn({fusedMatMul_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ev({a:n,b:t,transposeA:e=!1,transposeB:i=!1,bias:r,activation:a="linear",preluActivationWeights:c,leakyreluAlpha:u=.2}){if(!1===Ng(Oe.state.gradientDepth,a)){let Vn=bs(n,t,e,i);return null!=r&&(Vn=Ti(Vn,r)),Jy(Vn,a,c,u)}let f=Rt(n,"a","fused matMul"),p=Rt(t,"b","fused matMul");[f,p]=Pr(f,p);const g=e?f.shape[f.rank-2]:f.shape[f.rank-1],v=i?p.shape[p.rank-1]:p.shape[p.rank-2],T=e?f.shape[f.rank-1]:f.shape[f.rank-2],U=i?p.shape[p.rank-2]:p.shape[p.rank-1],q=f.shape.slice(0,-2),ae=p.shape.slice(0,-2),te=Tt(q),ye=Tt(ae);Se(g===v,()=>`Error in fused matMul: inner shapes (${g}) and (${v}) of Tensors with shapes ${f.shape} and ${p.shape} and transposeA=${e} and transposeB=${i} must match.`);const tt=Ts(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([T,U]),nt=Dn(f,e?[te,g,T]:[te,T,g]),St=Dn(p,i?[ye,U,v]:[ye,v,U]);let Xt,rn;null!=r&&(Xt=Rt(r,"bias","fused matMul"),[Xt]=Pr(Xt,f),Ts(tt,Xt.shape)),null!=c&&(rn=Rt(c,"prelu weights","fused matMul"));const un=(Vn,Yn)=>{const[ti,ni,ri,ui]=Yn,gi=Rg(Dn(Vn,ri.shape),ri,a);let si,yi;return e||i?!e&&i?(si=bs(gi,ni,!1,!1),yi=bs(gi,ti,!0,!1)):e&&!i?(si=bs(ni,gi,!1,!0),yi=bs(ti,gi,!1,!1)):(si=bs(ni,gi,!0,!0),yi=bs(gi,ti,!0,!0)):(si=bs(gi,ni,!1,!0),yi=bs(ti,gi,!0,!1)),null!=r?[si,yi,Zy(ui,gi)]:[si,yi]},bn={a:nt,b:St,bias:Xt,preluActivationWeights:rn},xn={transposeA:e,transposeB:i,activation:a,leakyreluAlpha:u};return null==r?ka((Yn,ti,ni)=>{const ri=Oe.runKernel(Dt,bn,xn);return ni([Yn,ti,ri]),{value:Dn(ri,tt),gradFunc:un}})(nt,St):ka((Yn,ti,ni,ri)=>{const ui=Oe.runKernel(Dt,bn,xn);return ri([Yn,ti,ui,ni]),{value:Dn(ui,tt),gradFunc:un}})(nt,St,Xt)}}),h2=fn({hammingWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TA(n){return Qy(n,.54,.46)}}),VS=fn({hannWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function f2(n){return Qy(n,.5,.5)}}),IA=fn({frame_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kA(n,t,e,i=!1,r=0){let a=0;const c=[];for(;a+t<=n.size;)c.push(fo(n,a,t)),a+=e;if(i)for(;a<n.size;){const u=a+t-n.size,f=Hl([fo(n,a,t-u),au([u],r)]);c.push(f),a+=e}return 0===c.length?np([],[0,t]):Dn(Hl(c),[c.length,t])}}),p2=fn({stft_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AA(n,t,e,i,r=VS){null==i&&(i=LS(t));const a=IA(n,t,e),c=me(a,r(t));return Hy(c,i)}}),OA=fn({cropAndResize_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MA(n,t,e,i,r="bilinear",a=0){const c=Rt(n,"image","cropAndResize"),u=Rt(t,"boxes","cropAndResize","float32"),f=Rt(e,"boxInd","cropAndResize","int32"),p=u.shape[0];return Se(4===c.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${c.rank}.`),Se(2===u.rank&&4===u.shape[1],()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${u.shape}.`),Se(1===f.rank&&f.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${u.shape}.`),Se(2===i.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${i.length}.`),Se(i[0]>=1&&i[1]>=1,()=>`cropSize must be atleast [1,1], but was ${i}`),Se("bilinear"===r||"nearest"===r,()=>`method must be bilinear or nearest, but was ${r}`),Oe.runKernel(Vr,{image:c,boxes:u,boxInd:f},{method:r,extrapolationValue:a,cropSize:i})}}),uw=fn({flipLeftRight_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RA(n){const t=Rt(n,"image","flipLeftRight","float32");return Se(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`),Oe.runKernel(ta,{image:t},{})}}),dw=fn({grayscaleToRGB_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $g(n){const t=Rt(n,"image","grayscaleToRGB"),e=t.rank-1,i=t.shape[e];Se(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),Se(1===i,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${i}.`);const r=new Array(t.rank);return r.fill(1,0,e),r[e]=3,ed(t,r)}}),US=fn({rgbToGrayscale_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tv(n){const t=Rt(n,"image","RGBToGrayscale"),i=t.shape[t.rank-1];Se(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),Se(3===i,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${i}.`);const r=t.dtype,a=qi(t,"float32"),c=Yc([.2989,.587,.114]);let u;switch(t.rank){case 2:u=Lh("ij,j->i",a,c);break;case 3:u=Lh("ijk,k->ij",a,c);break;case 4:u=Lh("ijkl,l->ijk",a,c);break;case 5:u=Lh("ijklm,m->ijkl",a,c);break;case 6:u=Lh("ijklmn,n->ijklm",a,c);break;default:throw new Error("Not a valid tensor rank.")}return u=Gl(u,-1),qi(u,r)}}),zS=fn({rotateWithOffset_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bg(n,t,e=0,i=.5){const r=Rt(n,"image","rotateWithOffset","float32");return Se(4===r.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`),Oe.runKernel(Ee,{image:r},{radians:t,fillValue:e,center:i})}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cm(n,t,e,i,r,a){null==i&&(i=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==a&&(a=0);const c=n.shape[0];return e=Math.min(e,c),Se(0<=i&&i<=1,()=>`iouThreshold must be in [0, 1], but was '${i}'`),Se(2===n.rank,()=>`boxes must be a 2D tensor, but was of rank '${n.rank}'`),Se(4===n.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${n.shape[1]}`),Se(1===t.rank,()=>"scores must be a 1D tensor"),Se(t.shape[0]===c,()=>`scores has incompatible shape with boxes. Expected ${c}, but was ${t.shape[0]}`),Se(0<=a&&a<=1,()=>`softNmsSigma must be in [0, 1], but was '${a}'`),{maxOutputSize:e,iouThreshold:i,scoreThreshold:r,softNmsSigma:a}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const jS=fn({nonMaxSuppression_:function Vg(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=Rt(n,"boxes","nonMaxSuppression","float32"),c=Rt(t,"scores","nonMaxSuppression","float32"),u=cm(a,c,e,i,r);return Oe.runKernel(ks,{boxes:a,scores:c},{maxOutputSize:e=u.maxOutputSize,iouThreshold:i=u.iouThreshold,scoreThreshold:r=u.scoreThreshold})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function WS(n,t,e){const i=function HS(n,t,e){return function NA(n,t,e){let i=0,r=n.length,a=0,c=!1;for(;i<r;){a=i+(r-i>>>1);const u=e(t,n[a]);u>0?i=a+1:(r=a,c=!u)}return c?i:-i-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,t,e||GS)}(n,t,e);n.splice(i<0?-(i+1):i,0,t)}function GS(n,t){return n>t?1:n<t?-1:0}function hw(n,t,e,i,r){return pw(n,t,e,i,r,0)}function fw(n,t,e,i,r,a){return pw(n,t,e,i,r,0,!1,a,!0)}function sp(n,t,e,i,r,a){return pw(n,t,e,i,r,a,!0)}function pw(n,t,e,i,r,a,c=!1,u=!1,f=!1){const p=[];for(let te=0;te<t.length;te++)t[te]>r&&p.push({score:t[te],boxIndex:te,suppressBeginIndex:0});p.sort(Ug);const g=a>0?-.5/a:0,v=[],T=[];for(;v.length<e&&p.length>0;){const te=p.pop(),{score:ye,boxIndex:ke,suppressBeginIndex:tt}=te;if(ye<r)break;let nt=!1;for(let St=v.length-1;St>=tt;--St){const Xt=PA(n,ke,v[St]);if(Xt>=i){nt=!0;break}if(te.score=te.score*FA(i,g,Xt),te.score<=r)break}te.suppressBeginIndex=v.length,nt||(te.score===ye?(v.push(ke),T.push(te.score)):te.score>r&&WS(p,te,Ug))}const U=v.length,q=e-U;u&&q>0&&(v.push(...new Array(q).fill(0)),T.push(...new Array(q).fill(0)));const ae={selectedIndices:v};return c&&(ae.selectedScores=T),f&&(ae.validOutputs=U),ae}function PA(n,t,e){const i=n.subarray(4*t,4*t+4),r=n.subarray(4*e,4*e+4),a=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),p=Math.min(r[0],r[2]),g=Math.min(r[1],r[3]),v=Math.max(r[0],r[2]),T=Math.max(r[1],r[3]),U=(u-a)*(f-c),q=(v-p)*(T-g);if(U<=0||q<=0)return 0;const ae=Math.max(a,p),te=Math.max(c,g),ye=Math.min(u,v),ke=Math.min(f,T),tt=Math.max(ye-ae,0)*Math.max(ke-te,0);return tt/(U+q-tt)}function FA(n,t,e){const i=Math.exp(t*e*e);return e<=n?i:0}function Ug(n,t){return n.score-t.score||n.score===t.score&&t.boxIndex-n.boxIndex}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nv(){return(nv=(0,Q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=Rt(n,"boxes","nonMaxSuppressionAsync"),c=Rt(t,"scores","nonMaxSuppressionAsync"),u=cm(a,c,e,i,r);e=u.maxOutputSize,i=u.iouThreshold,r=u.scoreThreshold;const f=yield Promise.all([a.data(),c.data()]),p=f[0],g=f[1],{selectedIndices:v}=hw(p,g,e,i,r);return a!==n&&a.dispose(),c!==t&&c.dispose(),Yc(v,"int32")})).apply(this,arguments)}const YS=fn({nonMaxSuppressionWithScore_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LA(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=Rt(n,"boxes","nonMaxSuppression"),u=Rt(t,"scores","nonMaxSuppression"),f=cm(c,u,e,i,r,a),v=Oe.runKernel($a,{boxes:c,scores:u},{maxOutputSize:e=f.maxOutputSize,iouThreshold:i=f.iouThreshold,scoreThreshold:r=f.scoreThreshold,softNmsSigma:a=f.softNmsSigma});return{selectedIndices:v[0],selectedScores:v[1]}}});function um(){return(um=(0,Q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=Rt(n,"boxes","nonMaxSuppressionAsync"),u=Rt(t,"scores","nonMaxSuppressionAsync"),f=cm(c,u,e,i,r,a);e=f.maxOutputSize,i=f.iouThreshold,r=f.scoreThreshold,a=f.softNmsSigma;const p=yield Promise.all([c.data(),u.data()]),g=p[0],v=p[1],{selectedIndices:T,selectedScores:U}=sp(g,v,e,i,r,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:Yc(T,"int32"),selectedScores:Yc(U)}})).apply(this,arguments)}const VA=fn({nonMaxSuppressionPadded_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BA(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=Rt(n,"boxes","nonMaxSuppression"),u=Rt(t,"scores","nonMaxSuppression"),f=cm(c,u,e,i,r,null),q=Oe.runKernel(lo,{boxes:c,scores:u},{maxOutputSize:f.maxOutputSize,iouThreshold:f.iouThreshold,scoreThreshold:f.scoreThreshold,padToMaxOutputSize:a});return{selectedIndices:q[0],validOutputs:q[1]}}});function gw(){return(gw=(0,Q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=Rt(n,"boxes","nonMaxSuppressionAsync"),u=Rt(t,"scores","nonMaxSuppressionAsync"),f=cm(c,u,e,i,r,null),p=f.maxOutputSize,g=f.iouThreshold,v=f.scoreThreshold,[T,U]=yield Promise.all([c.data(),u.data()]),{selectedIndices:q,validOutputs:ae}=fw(T,U,p,g,v,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:Yc(q,"int32"),validOutputs:vr(ae,"int32")}})).apply(this,arguments)}const dm=fn({resizeBilinear_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _w(n,t,e=!1,i=!1){const r=Rt(n,"images","resizeBilinear");Se(3===r.rank||4===r.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),Se(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),Se(!1===i||!1===e,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Dn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Oe.runKernel(Dr,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Dn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),yw=fn({resizeNearestNeighbor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qS(n,t,e=!1,i=!1){const r=Rt(n,"images","resizeNearestNeighbor");Se(3===r.rank||4===r.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),Se(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),Se("float32"===r.dtype||"int32"===r.dtype,()=>"`images` must have `int32` or `float32` as dtype"),Se(!1===i||!1===e,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Dn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Oe.runKernel(Nr,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Dn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),iv=fn({threshold_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * https://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jA(n,t="binary",e=!1,i=.5){const r=Rt(n,"image","threshold"),f=r.shape[0]*r.shape[1];let g,v,T,U,p=me(Yc([i]),255);if(Se(3===r.rank,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),Se(3===r.shape[2]||1===r.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),Se("int32"===r.dtype||"float32"===r.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),Se("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===r.shape[2]){[g,v,T]=Lu(r,[1,1,1],-1);const te=me(g,.2989),ye=me(v,.587),ke=me(T,.114);U=Ti(Ti(te,ye),ke)}else U=n;"otsu"===t&&(p=function zg(n,t){let a,c,u,f,p,g,e=Yc([-1]),i=Yc([0]),r=Yc([0]);for(let v=0;v<n.size-1;v++){a=fo(n,0,v+1),c=fo(n,v+1),p=B(gr(a),t),g=B(gr(c),t);const T=gr(me(a,hf(0,a.size)));u=B(T,gr(a));const U=au(c.shape,a.size),q=Ti(hf(0,c.size),U),ae=me(c,q);f=B(gr(ae),gr(c));const te=fr(u,f),ye=fr(u,f),ke=me(p,g);r=me(me(ke,te),ye);const tt=Pu(r,i);i=sc(tt,r,i),e=sc(tt,Yc([v]),e)}return e}(uI(qi(Sg(U),"int32"),Js([]),256),f));const q=e?Yf(U,p):Pu(U,p);return qi(me(q,255),"int32")}}),WA=fn({transform_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m2(n,t,e="nearest",i="constant",r=0,a){const c=Rt(n,"image","transform","float32"),u=Rt(t,"transforms","transform","float32");return Se(4===c.rank,()=>`Error in transform: image must be rank 4,but got rank ${c.rank}.`),Se(2===u.rank&&(u.shape[0]===c.shape[0]||1===u.shape[0])&&8===u.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Se(null==a||2===a.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`),Oe.runKernel(fs,{image:c,transforms:u},{interpolation:e,fillMode:i,fillValue:r,outputShape:a})}}),vw=fn({bandPart_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QS(n,t,e){const i=Rt(n,"a","bandPart");Se(i.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${i.rank}.`);const r=i.shape,[a,c]=i.shape.slice(-2);let u,f;"number"==typeof t?(Se(t%1==0,()=>`bandPart(): numLower must be an integer, got ${t}.`),Se(t<=a,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`),u=Rt(t<0?a:t,"numLower","bandPart")):(Se("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),u=sc(td(t,0),a,Uh(t,a))),"number"==typeof e?(Se(e%1==0,()=>`bandPart(): numUpper must be an integer, got ${e}.`),Se(e<=c,()=>`bandPart(): numUpper (${e}) must not be greater than the number of columns (${c}).`),f=Rt(e<0?c:e,"numUpper","bandPart")):(Se("int32"===e.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),f=sc(td(e,0),c,Uh(e,c)));const p=Dn(hf(0,a,1,"int32"),[-1,1]),g=hf(0,c,1,"int32"),v=fr(p,g),T=Vh(Yf(v,u),Xf(v,Wa(f))),U=oc([a,c],i.dtype);return Dn(fa(Bd(Dn(i,[-1,a,c])).map(q=>sc(T,q,U))),r)}}),ZS=fn({gramSchmidt_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HA(n){let t;if(Array.isArray(n)){t=!1,Se(null!=n&&n.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=n[0].shape[0];for(let a=1;a<n.length;++a)Se(n[a].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${n[a].shape[0]} vs. ${r})`)}else t=!0,n=Lu(n,n.shape[0],0).map(r=>tp(r,[0]));Se(n.length<=n[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${n.length}) exceeds number of dimensions (${n[0].shape[0]}).`);const e=[],i=n;for(let r=0;r<n.length;++r)e.push(Oe.tidy(()=>{let a=i[r];if(r>0)for(let c=0;c<r;++c){const u=me(gr(me(e[c],a)),e[c]);a=fr(a,u)}return B(a,Gf(a,"euclidean"))}));return t?fa(e,0):e}});function bw(n,t=!1){return Oe.tidy(()=>{Se(2===n.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${n.shape.length}D Tensor.`);const e=n.shape[0],i=n.shape[1];let r=Wp(e),a=Rd(n);const c=np([[1]],[1,1]);let u=Rd(c);const f=e>=i?i:e;for(let p=0;p<f;++p){const g=a,v=u,T=r;[u,a,r]=Oe.tidy(()=>{const U=fo(a,[p,p],[e-p,1]),q=Gf(U),ae=fo(a,[p,p],[1,1]),te=sc(Pu(ae,0),np([[-1]]),np([[1]])),ye=fr(ae,me(te,q)),ke=B(U,ye);u=1===ke.shape[0]?Rd(c):Hl([c,fo(ke,[1,0],[ke.shape[0]-1,ke.shape[1]])],0);const tt=Wa(B(bs(te,ye),q)),nt=fo(a,[p,0],[e-p,i]),St=me(tt,u),Xt=$s(u);if(0===p)a=fr(nt,bs(St,bs(Xt,nt)));else{const bn=fr(nt,bs(St,bs(Xt,nt)));a=Hl([fo(a,[0,0],[p,i]),bn],0)}const rn=$s(St),un=fo(r,[0,p],[e,r.shape[1]-p]);if(0===p)r=fr(un,bs(bs(un,u),rn));else{const bn=fr(un,bs(bs(un,u),rn));r=Hl([fo(r,[0,0],[e,p]),bn],1)}return[u,a,r]}),V([g,v,T])}return!t&&e>i&&(r=fo(r,[0,0],[e,i]),a=fo(a,[0,0],[i,i])),[r,a]})}const JS=fn({qr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GA(n,t=!1){if(Se(n.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${n.rank}`),2===n.rank)return bw(n,t);{const e=n.shape.slice(0,n.shape.length-2).reduce((f,p)=>f*p),i=Bd(Dn(n,[e,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),r=[],a=[];return i.forEach(f=>{const[p,g]=bw(f,t);r.push(p),a.push(g)}),[Dn(fa(r,0),n.shape),Dn(fa(a,0),n.shape)]}}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Du=function(n){return n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",n}(Du||{});const jh=fn({computeWeightedLoss_:function ww(n,t,e=Du.SUM_BY_NONZERO_WEIGHTS){const i=Rt(n,"losses","computeWeightedLoss");let r=null;null!=t&&(r=Rt(t,"weights","computeWeightedLoss"));const a=null==r?i:me(i,r);if(e===Du.NONE)return a;if(e===Du.SUM)return gr(a);if(e===Du.MEAN){if(null==r)return Ja(a);{const c=i.size/r.size,u=B(gr(a),gr(r));return c>1?B(u,vr(c)):u}}if(e===Du.SUM_BY_NONZERO_WEIGHTS){if(null==r)return B(gr(a),vr(i.size));{const c=me(r,ac(i.shape)),u=qi(gr(Qp(c,vr(0))),"float32");return B(gr(a),u)}}throw Error(`Unknown reduction: ${e}`)}}),XA=fn({absoluteDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KA(n,t,e,i=Du.SUM_BY_NONZERO_WEIGHTS){const r=Rt(n,"labels","absoluteDifference"),a=Rt(t,"predictions","absoluteDifference");let c=null;null!=e&&(c=Rt(e,"weights","absoluteDifference")),qt(r.shape,a.shape,"Error in absoluteDifference: ");const u=Wl(fr(r,a));return jh(u,c,i)}}),qA=fn({cosineDistance_:function YA(n,t,e,i,r=Du.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","cosineDistance"),c=Rt(t,"predictions","cosineDistance");let u=null;null!=i&&(u=Rt(i,"weights","cosineDistance")),qt(a.shape,c.shape,"Error in cosineDistance: ");const f=vr(1),p=fr(f,gr(me(a,c),e,!0));return jh(p,u,r)}}),Ew=fn({hingeLoss_:function QA(n,t,e,i=Du.SUM_BY_NONZERO_WEIGHTS){let r=Rt(n,"labels","hingeLoss");const a=Rt(t,"predictions","hingeLoss");let c=null;null!=e&&(c=Rt(e,"weights","hingeLoss")),qt(r.shape,a.shape,"Error in hingeLoss: ");const u=vr(1);r=fr(me(vr(2),r),u);const f=Ld(fr(u,me(r,a)));return jh(f,c,i)}}),JA=fn({huberLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZA(n,t,e,i=1,r=Du.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","huberLoss"),c=Rt(t,"predictions","huberLoss");let u=null;null!=e&&(u=Rt(e,"weights","huberLoss")),qt(a.shape,c.shape,"Error in huberLoss: ");const f=vr(i),p=Wl(fr(c,a)),g=Uh(p,f),v=fr(p,g),T=Ti(me(vr(.5),Ln(g)),me(f,v));return jh(T,u,r)}}),op=fn({logLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eM(n,t,e,i=1e-7,r=Du.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","logLoss"),c=Rt(t,"predictions","logLoss");let u=null;null!=e&&(u=Rt(e,"weights","logLoss")),qt(a.shape,c.shape,"Error in logLoss: ");const f=vr(1),p=vr(i),g=Wa(me(a,nd(Ti(c,p)))),v=me(fr(f,a),nd(Ti(fr(f,c),p))),T=fr(g,v);return jh(T,u,r)}}),xw=fn({meanSquaredError_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jg(n,t,e,i=Du.SUM_BY_NONZERO_WEIGHTS){const r=Rt(n,"labels","meanSquaredError"),a=Rt(t,"predictions","meanSquaredError");let c=null;null!=e&&(c=Rt(e,"weights","meanSquaredError")),qt(r.shape,a.shape,"Error in meanSquaredError: ");const u=Gy(r,a);return jh(u,c,i)}}),hm=fn({sigmoidCrossEntropy_:function tM(n,t,e,i=0,r=Du.SUM_BY_NONZERO_WEIGHTS){let a=Rt(n,"multiClassLabels","sigmoidCrossEntropy");const c=Rt(t,"logits","sigmoidCrossEntropy");let u=null;if(null!=e&&(u=Rt(e,"weights","sigmoidCrossEntropy")),qt(a.shape,c.shape,"Error in sigmoidCrossEntropy: "),i>0){const p=vr(i),g=vr(1),v=vr(.5);a=Ti(me(a,fr(g,p)),me(v,p))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cw(n,t){const e=Rt(n,"labels","sigmoidCrossEntropyWithLogits"),i=Rt(t,"logits","sigmoidCrossEntropyWithLogits");qt(e.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=Ld(i),a=me(i,e),c=My(uu(Wa(Wl(i))));return Ti(fr(r,a),c)}(a,c);return jh(f,u,r)}}),iM=fn({softmaxCrossEntropy_:function nM(n,t,e,i=0,r=Du.SUM_BY_NONZERO_WEIGHTS){let a=Rt(n,"onehotLabels","softmaxCrossEntropy");const c=Rt(t,"logits","softmaxCrossEntropy");let u=null;if(null!=e&&(u=Rt(e,"weights","softmaxCrossEntropy")),qt(a.shape,c.shape,"Error in softmaxCrossEntropy: "),i>0){const p=vr(i),g=vr(1),v=vr(a.shape[1]);a=Ti(me(a,fr(g,p)),B(p,v))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eD(n,t,e=-1){if(-1===e&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${e}`);return ka((r,a,c)=>{const f=O0(a,[e],!0),p=fr(qi(a,"float32"),f);c([r,p]);const g=Wa(me(p,r));return{value:gr(g,[e]),gradFunc:(U,q)=>{const[ae,te]=q,ye=pl(U.shape,[e]);return[me(Dn(U,ye),fr(qi(ae,"float32"),uu(te))),me(Dn(U,ye),fr(uu(te),qi(ae,"float32")))]}}})(n,t)}(a,c);return jh(f,u,r)}}),rD={fft:Ig,ifft:Ag,rfft:Hy,irfft:Q0},hM={hammingWindow:h2,hannWindow:VS,frame:IA,stft:p2},sd={flipLeftRight:uw,grayscaleToRGB:dw,resizeNearestNeighbor:yw,resizeBilinear:dm,rgbToGrayscale:US,rotateWithOffset:zS,cropAndResize:OA,nonMaxSuppression:jS,nonMaxSuppressionAsync:function KS(n,t,e){return nv.apply(this,arguments)},nonMaxSuppressionWithScore:YS,nonMaxSuppressionWithScoreAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mw(n,t,e){return um.apply(this,arguments)},nonMaxSuppressionPadded:VA,nonMaxSuppressionPaddedAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UA(n,t,e){return gw.apply(this,arguments)},threshold:iv,transform:WA},sD={bandPart:vw,gramSchmidt:ZS,qr:JS},oD={absoluteDifference:XA,computeWeightedLoss:jh,cosineDistance:qA,hingeLoss:Ew,huberLoss:JA,logLoss:op,meanSquaredError:xw,sigmoidCrossEntropy:hm,softmaxCrossEntropy:iM},_2={sparseFillEmptyRows:fn({sparseFillEmptyRows_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rM(n,t,e,i){const r=Rt(n,"indices","sparseFillEmptyRows","int32"),a=Rt(t,"values","sparseFillEmptyRows"),c=Rt(e,"denseShape","sparseFillEmptyRows","int32"),u=Rt(i,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==c.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${c.shape}`);if(0!==u.rank)throw new Error(`Default value should be a scalar but received shape ${u.shape}`);const p=Oe.runKernel(zs,{indices:r,values:a,denseShape:c,defaultValue:u});return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}}),sparseReshape:fn({sparseReshape_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oM(n,t,e){const i=Rt(n,"inputIndices","sparseReshape","int32"),r=Rt(t,"inputShape","sparseReshape","int32"),a=Rt(e,"newShape","sparseReshape","int32");if(2!==i.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const u=Oe.runKernel(Gr,{inputIndices:i,inputShape:r,newShape:a});return{outputIndices:u[0],outputShape:u[1]}}}),sparseSegmentMean:fn({sparseSegmentMean_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aM(n,t,e){const i=Rt(n,"data","sparseSegmentMean"),r=Rt(t,"indices","sparseSegmentMean","int32"),a=Rt(e,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);return Oe.runKernel(ns,{data:i,indices:r,segmentIds:a})}}),sparseSegmentSum:fn({sparseSegmentSum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rv(n,t,e){const i=Rt(n,"data","sparseSegmentSum"),r=Rt(t,"indices","sparseSegmentSum","int32"),a=Rt(e,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);return Oe.runKernel(Jl,{data:i,indices:r,segmentIds:a})}})},fM={stringNGrams:fn({stringNGrams_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cM(n,t,e,i,r,a,c,u){const f=Rt(n,"data","stringNGrams","string");if("string"!==f.dtype)throw new Error("Data must be of datatype string");if(1!==f.shape.length)throw new Error(`Data must be a vector, saw: ${f.shape}`);const p=Rt(t,"dataSplits","stringNGrams");if("int32"!==p.dtype)throw new Error("Data splits must be of datatype int32");const T=Oe.runKernel(_r,{data:f,dataSplits:p},{separator:e,nGramWidths:i,leftPad:r,rightPad:a,padWidth:c,preserveShortSequences:u});return{nGrams:T[0],nGramsSplits:T[1]}}}),stringSplit:fn({stringSplit_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uM(n,t,e=!0){const i=Rt(n,"input","stringSplit","string"),r=Rt(t,"delimiter","stringSplit","string");if(1!==i.rank)throw new Error(`Input should be Tensor1D but received shape ${i.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const u=Oe.runKernel(as,{input:i,delimiter:r},{skipEmpty:e});return{indices:u[0],values:u[1],shape:u[2]}}}),stringToHashBucketFast:fn({stringToHashBucketFast_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ap(n,t){const e=Rt(n,"input","stringToHashBucketFast","string"),i={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");return Oe.runKernel(Ps,{input:e},i)}}),staticRegexReplace:fn({staticRegexReplace_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Wg(n,t,e,i=!0){const r=Rt(n,"input","staticRegexReplace","string");return Oe.runKernel(bl,{x:r},{pattern:t,rewrite:e,replaceGlobal:i})}})},pf=
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Hg{static sgd(t){return new J_(t)}static momentum(t,e,i=!1){return new qx(t,e,i)}static rmsprop(t,e=.9,i=0,r=null,a=!1){return new Qx(t,e,i,r,a)}static adam(t=.001,e=.9,i=.999,r=null){return new Yb(t,e,i,r)}static adadelta(t=.001,e=.95,i=null){return new Op(t,e,i)}static adamax(t=.002,e=.9,i=.999,r=null,a=0){return new Yx(t,e,i,r,a)}static adagrad(t,e=.1){return new Z_(t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,pM=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:n=>n();function aD(){return new Promise(n=>pM(()=>n()))}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sw(n,t){const e=n[0].length;n.forEach((r,a)=>{Se(r.length===e,()=>`Error in concat${e}D: rank of tensors[${a}] must be the same as the rank of the rest (${e})`)}),Se(t>=0&&t<e,()=>`Error in concat${e}D: axis must be between 0 and ${e-1}.`);const i=n[0];n.forEach((r,a)=>{for(let c=0;c<e;c++)Se(c===t||r[c]===i[c],()=>`Error in concat${e}D: Shape of tensors[${a}] (${r}) does not match the shape of the rest (${i}) along the non-concatenated axis ${a}.`)})}function Wh(n,t){const e=n[0].slice();for(let i=1;i<n.length;i++)e[t]+=n[i][t];return e}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Vd=function(n){return n[n.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",n[n.VALUE_ROWIDS=1]="VALUE_ROWIDS",n[n.ROW_LENGTHS=2]="ROW_LENGTHS",n[n.ROW_SPLITS=3]="ROW_SPLITS",n[n.ROW_LIMITS=4]="ROW_LIMITS",n[n.ROW_STARTS=5]="ROW_STARTS",n}(Vd||{});function du(n,t,e){let i=new Array;if(null==e&&null==t)return i;if(null==t)for(;i.length<n+e.length;)i.push(-1);else i=t.slice();if(null==e)return i;if(n+e.length!==i.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${n+e.length}, but shape.rank = ${i.length}`);for(let r=1;r<e.length;++r){const a=e[r],c=i[i.length-e.length+r],u=i[c];if(a>=0)if(u>=0){if(u!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+n}] = ${a} but shape[${r+n}] = ${u}`)}else i[c]=a}return i}function Dw(n){const t={FIRST_DIM_SIZE:Vd.FIRST_DIM_SIZE,VALUE_ROWIDS:Vd.VALUE_ROWIDS,ROW_LENGTHS:Vd.ROW_LENGTHS,ROW_SPLITS:Vd.ROW_SPLITS,ROW_LIMITS:Vd.ROW_LIMITS,ROW_STARTS:Vd.ROW_STARTS},e=[];for(const i of n){if(!(i in t))break;e.push(t[i])}return e}function Tw(n){return 0===n.length?0:n[0]===Vd.FIRST_DIM_SIZE?n.length-1:n.length}function kw(n,t){if(null==n||null==t)return;const e=n.length,i=t.length;if(e>=i)throw new Error(`defaultValue.shape=${n} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${e} must be less than ragged tensor input flatValues.rank = ${i})`);for(let r=0;r<Math.min(e,i-1);++r){const a=n[r],c=t[r+1];if(a>=0&&c>=0&&1!==a&&a!==c)throw new Error(`defaultValue.shape=${n}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-n.length}] = ${a} but ragged tensor input.flatValues.shape[${r-n.length}] = ${c}`)}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const lD=30;function pa(n){return n<=lD?n:zt(n,Math.floor(Math.sqrt(n)))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Iw(n,t,e){return[e*("number"==typeof n?n:n[0]),t*("number"==typeof n?n:n[1])]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function lp(n,t,e,i=!0){let r=[];if(i)r=r.concat(t.slice(0)),r.push(n[0]/e),r=r.concat(n.slice(1));else{r=r.concat(n[0]);const a=t.length;for(let c=0;c<a;++c)r=r.concat([n[c+1]/t[c],t[c]]);r=r.concat(n.slice(a+1))}return r}function Gg(n,t,e=!0){const i=[];if(e){i.push(t);for(let r=t+1;r<n;++r)r<=2*t?(i.push(r),i.push(r-(t+1))):i.push(r)}else{const r=[],a=[];for(let c=1;c<n;++c)c>=2*t+1||c%2==1?a.push(c):r.push(c);i.push(...r),i.push(0),i.push(...a)}return i}function Kg(n,t,e,i=!0){const r=[];r.push(i?n[0]/e:n[0]*e);for(let a=1;a<n.length;++a)r.push(a<=t.length?i?t[a-1]*n[a]:n[a]/t[a-1]:n[a]);return r}function Xg(n,t){const e=[0];for(let i=0;i<t;++i)e.push(n[i][0]);return e}function sv(n,t,e){const i=n.slice(0,1);for(let r=0;r<e;++r)i.push(n[r+1]-t[r][0]-t[r][1]);return i}function ov(n,t){const e=n.shape.length,i=t.shape.length;if(e<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${e}.`);if(i<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${i}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[i-1]>e)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[i-1]} vs. ${e}`);if(0===Tt(n.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${n.shape}.`);const r=t.shape,a=r[r.length-1];let c=1;for(let v=0;v<r.length-1;++v)c*=r[v];const u=n.shape,f=r.slice();f.pop();let p=1;for(let v=a;v<e;++v)p*=u[v],f.push(u[v]);const g=[...$t(n.shape).map(v=>v/p),1].slice(0,a);return[f,c,p,g]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const pm=1.7580993408473768,av=1.0507009873554805,Aw=.3275911,lv=.254829592,Mw=-.284496736,qc=1.421413741,cv=-1.453152027,Yg=1.061405429;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ch(n,t){if(n.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${n.length}, imag: ${t.length}.`);const e=new Float32Array(2*n.length);for(let i=0;i<e.length;i+=2)e[i]=n[i/2],e[i+1]=t[i/2];return e}function Ow(n){const t=new Float32Array(n.length/2),e=new Float32Array(n.length/2);for(let i=0;i<n.length;i+=2)t[i/2]=n[i],e[i/2]=n[i+1];return{real:t,imag:e}}function cD(n){const t=Math.ceil(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=0;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function Rw(n){const t=Math.floor(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=2;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function Nw(n,t){return{real:n[2*t],imag:n[2*t+1]}}function uD(n,t,e,i){n[2*i]=t,n[2*i+1]=e}function qg(n,t){const e=new Float32Array(n/2),i=new Float32Array(n/2);for(let r=0;r<Math.ceil(n/2);r++){const a=(t?2:-2)*Math.PI*(r/n);e[r]=Math.cos(a),i[r]=Math.sin(a)}return{real:e,imag:i}}function uv(n,t,e){const i=(e?2:-2)*Math.PI*(n/t);return{real:Math.cos(i),imag:Math.sin(i)}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const uh="->",dv=/->/g,Pw=",",mm="...";function Fw(n,t){const e=((n=n.replace(/\s/g,"")).length-n.replace(dv,"").length)/uh.length;if(e<1)throw new Error("Equations without an arrow are not supported.");if(e>1)throw new Error(`Equation must contain exactly one arrow ("${uh}").`);const[i,r]=n.split(uh);Se(-1===i.indexOf(mm),()=>`The ellipsis notation ("${mm}") is not supported yet.`);const a=i.split(Pw),c=a.length;if(t!==c)throw new Error(`Expected ${c} input tensors, received ${t}`);if(c>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const u=[];for(let T=0;T<r.length;++T){const U=r[T];if(!a.some(q=>-1!==q.indexOf(U)))throw new Error(`Output subscripts contain the label ${U} not present in the input subscripts.`);-1===u.indexOf(U)&&u.push(U)}for(let T=0;T<i.length;++T){const U=i[T];-1===u.indexOf(U)&&U!==Pw&&u.push(U)}const f=new Array(a.length);for(let T=0;T<c;++T){if(new Set(a[T].split("")).size!==a[T].length)throw new Error(`Found duplicate axes in input component ${a[T]}. Support for duplicate axes in input is not implemented yet.`);f[T]=[];for(let U=0;U<a[T].length;++U)f[T].push(u.indexOf(a[T][U]))}const p=u.length,v=[];for(let T=r.length;T<p;++T)v.push(T);return{allDims:u,summedDims:v,idDims:f}}function Lw(n,t){let e=new Array(n);e.fill(-1);for(let r=0;r<t.length;++r)e[t[r]]=r;const i=[];for(let r=0;r<n;++r)-1===e[r]&&i.push(r);return e=e.filter(r=>-1!==r),{permutationIndices:e,expandDims:i}}function Qg(n,t,e){const i=new Array(n);for(let r=0;r<e.length;++r){const a=e[r].shape;for(let c=0;c<t[r].length;++c)void 0===i[t[r][c]]?i[t[r][c]]=a[c]:Se(i[t[r][c]]===a[c],()=>`Expected dimension ${i[t[r][c]]} at axis ${c} of input shaped ${JSON.stringify(a)}, but got dimension ${a[c]}`)}}function hv(n,t){const e=n,i=[];let r=0;0===n.length&&e.push(-1),r=n.length+1;for(let c=0;c<r;++c)i.push([]);const a=[];for(let c=0;c<e.length;++c){const f=Zg(t,e[c]);for(const p of f)-1===a.indexOf(p)&&(i[c].push(p),a.push(p))}return{path:e,steps:i}}function dh(n){return n.every((t,e)=>t===e)}function Zg(n,t){const e=[];for(let i=0;i<n.length;++i)(0===n[i].length||-1!==n[i].indexOf(t)||-1===t)&&e.push(i);return e}function dD(n,t,e=0){let i=[];if("number"==typeof t)Se(n.shape[e]%t==0,()=>"Number of splits must evenly divide the axis."),i=new Array(t).fill(n.shape[e]/t);else{Se(t.reduce((c,u)=>(-1===u&&(c+=1),c),0)<=1,()=>"There should be only one negative value in split array.");const a=t.indexOf(-1);if(-1!==a){const c=t.reduce((u,f)=>f>0?u+f:u);t[a]=n.shape[e]-c}Se(n.shape[e]===t.reduce((c,u)=>c+u),()=>"The sum of sizes must match the size of the axis dimension."),i=t}return i}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jg(n){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${n}`}function $w(n,t){return`indices(${n}, 0) is invalid: ${t} < 0`}function Bw(n,t,e){return`indices(${n}, 0) is invalid: ${t} >= ${e}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function hD(n,t){return`only one output dimension may be -1, not both ${n} and ${t}`}function gm(n,t){return`size ${n} must be non-negative, not ${t}`}function fD(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function pD(n,t){return`Input to reshape is a SparseTensor with ${Tt(n)}\n  dense values, but the requested shape requires a multiple of ${Tt(t)}. inputShape=${n} outputShape= ${t}`}function mD(n,t){return`Input to reshape is a tensor with ${Tt(n)} dense values, but the requested shape has ${Tt(t)}. inputShape=${n} outputShape=${t}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Vw(){return"segment ids must be >= 0"}function gD(){return"segment ids are not increasing"}function _D(n,t){return`Segment id ${n} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function yD(n,t,e){return`Bad: indices[${n}] == ${t} out of range [0, ${e})`}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function vD(n,t){let i,e=!1;for(n<=lD?(i=n,e=!0):i=zt(n,Math.floor(Math.sqrt(n)));!e;)i>t||i===n?e=!0:i=zt(n,i+1);return i}function e_(n,t,e){const i=[],r=n.length;for(let a=0;a<r;a++)i.push(a!==t?n[a]:e);return i}function Uw(n,t,e,i){const r=t.shape.length,a=n.shape.length;if(0!==i&&(i<-r||i>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${i}`);if(i<0&&(i+=r),i>a)throw new Error(`batchDims (${i}) must be less than rank(x) (\n    ${a}).`);if(e<i)throw new Error(`batchDims (${i}) must be less than or equal to axis (${e}).`);for(let v=0;v<i;++v)if(n.shape[v]!==t.shape[v])throw new Error(`x.shape[${v}]: ${n.shape[v]} should be equal to indices.shape[${v}]: ${t.shape[v]}.`);const c=n.shape[e],u=[];let f=1,p=1,g=1;for(let v=0;v<i;++v)u.push(n.shape[v]),f*=n.shape[v];for(let v=i;v<e;v++)u.push(n.shape[v]),p*=n.shape[v];for(let v=i;v<r;v++)u.push(t.shape[v]);for(let v=e+1;v<a;v++)u.push(n.shape[v]),g*=n.shape[v];return{batchSize:f,sliceSize:g,outerSize:p,dimSize:c,outputShape:u}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Hh(n){try{return n.map(t=>zc(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function zw(n){return n.map(t=>nc(t))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */!function Qb(){for(const n of qb)Mi(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */();
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const jw={kernelName:ei,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,rm(qi(e,"float32"),-1))}}},Ww={kernelName:pi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Ln(qi(e,"float32")),r=Qt(fr(vr(1),i));return Wa(B(n,r))}}}},bD={kernelName:zi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Qt(fr(Ln(qi(e,"float32")),1));return B(n,i)}}}},mM={kernelName:Ci,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{let u=n;const f=ha(e.shape,r);return f.length>0&&(u=gr(u,f)),Dn(u,e.shape)},b:()=>{let u=n;const f=ha(i.shape,r);return f.length>0&&(u=gr(u,f)),Dn(u,i.shape)}}}},wD={kernelName:Gi,saveAllInputs:!0,gradFunc:(n,t)=>{const e={};return t.forEach((i,r)=>{e[r]=()=>n.clone()}),e}},Hw={kernelName:ur,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Ri(e)}}},ED={kernelName:or,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Ri(e)}}},xD={kernelName:Tr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,Qt(fr(vr(1),Ln(qi(e,"float32")))))}}},gM={kernelName:Hr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Qt(Ti(vr(1),Ln(qi(e,"float32"))));return B(n,i)}}}},_M={kernelName:ys,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=Ti(Ln(e),Ln(i));let f=me(n,B(i,u));const p=ha(e.shape,r);return p.length>0&&(f=gr(f,p)),Dn(f,e.shape)},b:()=>{const u=Ti(Ln(e),Ln(i));let f=Wa(me(n,B(e,u)));const p=ha(i.shape,r);return p.length>0&&(f=gr(f,p)),Dn(f,i.shape)}}}},yM={kernelName:_s,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,Ti(Ln(qi(e,"float32")),1))}}},Gw={kernelName:Ur,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,fr(vr(1),Ln(qi(e,"float32"))))}}},CD=fn({avgPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Kw(n,t,e,i,r,a){const c=Rt(n,"dy","avgPool3dGrad"),u=Rt(t,"input","avgPool3dGrad");let f=c,p=u,g=!1;4===u.rank&&(g=!0,f=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),p=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Se(5===f.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`),Se(5===p.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${p.rank}.`),xu("avgPool3dGrad",r,a);const U=Oe.runKernel(ar,{dy:f,input:p},{filterSize:e,strides:i,pad:r,dimRoundingMode:a});return g?Dn(U,[U.shape[1],U.shape[2],U.shape[3],U.shape[4]]):U}}),Xw={kernelName:Yi,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c,dimRoundingMode:u}=e;return{x:()=>CD(n,i,r,a,c,u)}}},vM=fn({avgPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yw(n,t,e,i,r){const a=Rt(n,"dy","avgPoolGrad"),c=Rt(t,"input","avgPoolGrad");Se(c.rank===a.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${a.rank})`);let u=c,f=a,p=!1;3===c.rank&&(p=!0,u=Dn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),f=Dn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Se(4===f.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`),Se(4===u.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${u.rank}.`);const T=Oe.runKernel(ss,{dy:f,input:u},{filterSize:e,strides:i,pad:r});return p?Dn(T,[T.shape[1],T.shape[2],T.shape[3]]):T}}),bM={kernelName:Cs,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c}=e;return{x:()=>vM(n,i,r,a,c)}}},wM={kernelName:cr,inputsToSave:["a","b"],gradFunc:(n,t,e)=>{const[i,r]=t,{transposeA:a,transposeB:c}=e;return a||c?!a&&c?{a:()=>bs(n,r,!1,!1),b:()=>bs(n,i,!0,!1)}:a&&!c?{a:()=>bs(r,n,!1,!0),b:()=>bs(i,n,!1,!1)}:{a:()=>bs(r,n,!0,!0),b:()=>bs(n,i,!0,!0)}:{a:()=>bs(n,r,!1,!0),b:()=>bs(i,n,!0,!1)}}},EM={kernelName:ji,gradFunc:(n,t,e)=>{const{blockShape:i,crops:r}=e;return{x:()=>qf(n,i,r)}}},SD={kernelName:"BroadcastTo",gradFunc:(n,t,e)=>{const r=e.inputShape,a=e.shape,c=Array.from(a);for(let f=r.length-1;f>=0;f--)if(r[f]===a[f])c[f]=1;else if(1!==r[f])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${a}].`);const u=[];for(let f=0;f<c.length;f++)c[f]>1&&u.push(f);return{x:()=>gr(n,u,!0)}}},qw={kernelName:et,gradFunc:n=>({x:()=>n.clone()})},Qw={kernelName:He,gradFunc:n=>({x:()=>Ri(n)})},DD={kernelName:kt,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{clipValueMin:r,clipValueMax:a}=e;return{x:()=>sc(Vh(Xf(i,r),Yf(i,a)),n,Ri(n))}}},TD={kernelName:Zn,inputsToSave:["x"],gradFunc:jw.gradFunc},kD={kernelName:Li,saveAllInputs:!0,gradFunc:(n,t,e)=>{const i=t.map(f=>f.shape),{axis:r}=e,a=wt(r,t[0].shape)[0],c=i.map(f=>f[a]);return Lu(n,c,a).map(f=>()=>f)}},xM={kernelName:lr,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{dilations:a,strides:c,pad:u,dataFormat:f}=e;return Se(rf(a),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`),{x:()=>b0(i.shape,n,r,c,u,f),filter:()=>aw(i,n,r.shape,c,u,f)}}},ID={kernelName:Lr,inputsToSave:["dy","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{strides:a,pad:c,dataFormat:u,dimRoundingMode:f}=e;return{dy:()=>Fh(n,r,a,c,u,1,f),filter:()=>aw(n,i,r.shape,a,c,u,f)}}},Zw=fn({conv3DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CM(n,t,e,i,r){let a=n;4===n.rank&&(a=Dn(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let c=t;return 4===c.rank&&(c=Dn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Se(5===a.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`),Se(5===c.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${c.shape}.`),Se(5===e.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${e}.`),Se(a.shape[4]===e[3],()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${e[3]}.`),Se(c.shape[4]===e[4],()=>`Error in conv3dDerFilter: depth of dy (${c.shape[4]}) must match output depth for filter (${e[4]}).`),Oe.runKernel(ds,{x:a,dy:c},{strides:i,pad:r,filterShape:e})}}),AD={kernelName:Zr,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a}=e;Se(rf(i),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const[c,u]=t;return{x:()=>IC(c.shape,n,u,r,a),filter:()=>Zw(c,n,u.shape,r,a)}}},Jw={kernelName:Er,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(Wa(Wy(qi(e,"float32"))),n)}}},y2={kernelName:Jr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(ff(qi(e,"float32")),n)}}},v2={kernelName:Jo,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r,exclusive:a,reverse:c}=e;return{x:()=>{const u=ml([r],i.rank);let f=xy(n,r,a,!c);return null!=u&&(f=$s(f,u)),f}}}},MD={kernelName:No,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a,dimRoundingMode:c}=e,u=i??[1,1];Se(rf(u),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`);const[f,p]=t;return Se(4===f.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${f.rank}.`),Se(4===p.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`),Se(f.shape[3]===p.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),Se(Cc(r,u),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${u}'.`),xu("depthwiseConv2d",a,c),{x:()=>BS(f.shape,n,p,r,a,u,c),filter:()=>lm(f,n,p.shape,r,a,u,c)}}},OD={kernelName:_a,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,a={x:i,filter:r,dy:n},c={x:i,filter:r,dy:n};return{x:()=>Oe.runKernel(ea,a,e),filter:()=>Oe.runKernel(yl,c,e)}}},RD={kernelName:Ra,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t,i={dy:n,y:e};return{x:()=>Oe.runKernel(fc,i)}}},eE={kernelName:Na,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=me(uu(Wa(Ln(e))),2/Math.sqrt(Math.PI));return{x:()=>me(n,i)}}},ND={kernelName:$r,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,e)}}},PD={kernelName:Rr,inputsToSave:["input"],gradFunc:(n,t)=>{const[e]=t;return{input:()=>Dn(n,e.shape)}}},FD={kernelName:so,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,uu(e))}}},LD={kernelName:Gs,gradFunc:n=>({x:()=>Ri(n)})},SM={kernelName:oo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=B(n,qi(i,"float32")),f=ha(e.shape,r);return f.length>0?Dn(gr(u,f),e.shape):u},b:()=>{let u=me(n,qi(e,"float32"));const f=ha(i.shape,r);f.length>0&&(u=Dn(gr(u,f),i.shape));const p=Ln(i);return Wa(B(u,qi(p,"float32")))}}}},b2={kernelName:va,inputsToSave:["x","mean","variance","scale"],gradFunc:(n,t,e)=>{const{varianceEpsilon:i}=e,[r,a,c,u]=t,f=u??vr(1),p=ha(a.shape,r.shape),g=[];if(1===a.rank){for(let nt=0;nt<r.shape.length-1;++nt)g.push(r.shape[nt]);g.push(1)}const v=fr(r,a),T=me(n,f),U=zy(Ti(c,vr(i))),q=me(me(me(U,U),U),vr(-.5));return{x:()=>Dn(me(me(n,1===a.rank?ed(Dn(U,[1,1,1,a.shape[0]]),g):U),f),r.shape),mean:()=>{let nt=me(me(U,vr(-1)),T);return 1===a.rank&&(nt=gr(nt,p)),Dn(nt,a.shape)},variance:()=>{let nt=me(me(q,v),T);return 1===a.rank&&(nt=gr(nt,p)),Dn(nt,a.shape)},scale:()=>{const nt=me(v,U);let St=me(n,nt);return 1===a.rank&&(St=gr(St,p)),Dn(St,a.shape)},offset:()=>{let nt=n;return 1===a.rank&&(nt=gr(nt,p)),Dn(nt,a.shape)}}}},w2={kernelName:Po,inputsToSave:["x","indices"],gradFunc:(n,t,e)=>{const[i,r]=t,{axis:a,batchDims:c}=e,u=wt(a,i.shape)[0],f=(p,g,v)=>()=>{const T=p.shape,U=g.size,q=T.slice(0,u),ae=q.length,te=T.slice(a,T.length).slice(1),ye=te.length,ke=DM(0,ae),tt=DM(ae+1,ae+1+ye),nt=TM([q,[U],te]),St=Dn(v,nt),Xt=Dn(g,[U]),rn=TM([[ae],ke,tt]),un=$s(St,rn);let bn=sm(un,Xt,p.shape[u]);const xn=cf(rn);return bn=$s(bn,xn),bn};if(1===c){const g=i.split(i.shape[0],0);return{x:()=>fa(g.map((U,q)=>f(U,r.slice(q,1),n.slice(q,1))())).reshape(i.shape),indices:()=>r}}return{x:f(i,r,n),indices:()=>r}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function DM(n,t){const e=[];for(let i=n;i<t;++i)e.push(i);return e}function TM(n){const t=[];for(let e=0;e<n.length;++e)for(let i=0;i<n[e].length;++i)t.push(n[e][i]);return t}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const $D={kernelName:wo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>Ri(e),b:()=>Ri(i)}}},kM={kernelName:Pa,gradFunc:n=>({x:()=>qi(n,"float32")})},IM={kernelName:ba,gradFunc:n=>({x:()=>Ri(n)})},E2={kernelName:Ar,gradFunc:n=>({x:()=>Ri(n)})},BD={kernelName:vs,gradFunc:n=>({x:()=>Ri(n)})},VD={kernelName:na,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{alpha:r}=e,a=Pu(i,0);return{x:()=>sc(a,n,me(n,r))}}},x2={kernelName:Oi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,Ti(e,1))}}},C2={kernelName:sl,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,qi(e,"float32"))}}},S2={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;return{logits:()=>{const c=uu(i);return fr(n,me(gr(n,r,!0),c))}}}},T2=fn({localResponseNormalizationBackprop_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D2(n,t,e,i=5,r=1,a=1,c=.5){return Oe.runKernel(ia,{x:n,y:t,dy:e},{depthRadius:i,bias:r,alpha:a,beta:c})}}),k2={kernelName:Ko,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{depthRadius:a,bias:c,alpha:u,beta:f}=e;return{x:()=>T2(i,r,n,a,c,u,f)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AM(n,t,e,i){return t.rank<e.rank&&(t=Dn(t,pl(t.shape,i))),n.rank<e.rank&&(n=Dn(n,pl(n.shape,i))),{x:()=>me(n,qi(Ju(e,t),n.dtype))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const MM={kernelName:wa,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{reductionIndices:r}=i,a=t[0],f=AM(n,t[1],a,wt(r,a.shape));return{x:()=>f.x()}}},I2={kernelName:Lo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>me(n,qi(Xf(e,i),"float32")),b:()=>me(n,qi(td(e,i),"float32"))}}},_m=fn({maxPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OM(n,t,e,i,r,a,c){const u=Rt(n,"dy","maxPool3dGrad"),f=Rt(t,"input","maxPool3dGrad"),p=Rt(e,"output","maxPool3dGrad");let g=u,v=f,T=p,U=!1;4===f.rank&&(U=!0,g=Dn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),v=Dn(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),T=Dn(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),Se(5===g.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${g.rank}.`),Se(5===v.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${v.rank}.`),Se(5===T.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${T.rank}.`),xu("maxPool3dGrad",a,c);const te=Oe.runKernel(Rs,{dy:g,input:v,output:T},{filterSize:i,strides:r,pad:a,dimRoundingMode:c});return U?Dn(te,[te.shape[1],te.shape[2],te.shape[3],te.shape[4]]):te}}),t_={kernelName:vl,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=e;return{x:()=>_m(n,i,r,a,c,u,f)}}},A2=fn({maxPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RM(n,t,e,i,r,a,c){const u=Rt(n,"dy","maxPoolGrad"),f=Rt(t,"input","maxPoolGrad"),p=Rt(e,"output","maxPoolGrad");return Se(f.rank===u.rank,()=>`Rank of input (${f.rank}) does not match rank of dy (${u.rank})`),Se(4===u.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),Se(4===f.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${f.rank}.`),xu("maxPoolGrad",a,c),Oe.runKernel(ol,{dy:u,input:f,output:p},{filterSize:i,strides:r,pad:a,dimRoundingMode:c})}}),tE={kernelName:De,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>fo(n,a,i.shape)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const mv={kernelName:tr,gradFunc:(n,t,e)=>{const{blockShape:i,paddings:r}=e;return{x:()=>by(n,i,r)}}},gv={kernelName:Br,gradFunc:(n,t,e)=>{const{axis:i}=e;return{x:()=>Hl(n,i)}}},yv=[jw,Ww,bD,mM,wD,Hw,ED,xD,gM,_M,yM,Gw,Xw,bM,wM,EM,SD,qw,Qw,DD,TD,kD,ID,xM,AD,Jw,y2,v2,MD,OD,{kernelName:Oa,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=B(n,qi(i,"float32")),f=ha(e.shape,r);return f.length>0?Dn(gr(u,f),e.shape):u},b:()=>{let u=me(n,qi(e,"float32"));const f=ha(i.shape,r);f.length>0&&(u=Dn(gr(u,f),i.shape));const p=Ln(i);return Wa(B(u,qi(p,"float32")))}}}},RD,eE,ND,PD,FD,SM,LD,b2,w2,$D,kM,IM,E2,BD,VD,x2,C2,S2,k2,MM,MM,I2,t_,{kernelName:La,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u}=e;return{x:()=>A2(n,i,r,a,c,u)}}},{kernelName:ra,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e,a=wt(r,i.shape),f=Tt(Sc(i.shape,a)[1]);return{x:()=>{const g=i.shape.slice();a.forEach(U=>{g[U]=1});const v=Dn(n,g);return B(me(v,ac(i.shape,"float32")),f)}}}},{kernelName:es,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{axis:r}=i,[a,c]=t,f=AM(n,c,a,wt(r,a.shape));return{x:()=>f.x()}}},{kernelName:qa,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>me(n,qi(Yf(e,i),"float32")),b:()=>me(n,qi(Pu(e,i),"float32"))}}},{kernelName:ao,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>fo(n,a,i.shape)}}},{kernelName:Ea,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=ha(e.shape,r);return u.length>0?Dn(gr(n,u),e.shape):n},b:()=>{const u=me(n,Wa(Hp(B(e,i)))),f=ha(i.shape,r);return f.length>0?Dn(gr(u,f),i.shape):u}}}},{kernelName:Xo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=me(n,qi(i,"float32")),f=ha(e.shape,r);return f.length>0?Dn(gr(u,f),e.shape):u},b:()=>{const u=me(n,qi(e,"float32")),f=ha(i.shape,r);return f.length>0?Dn(gr(u,f),i.shape):u}}}},{kernelName:ll,gradFunc:n=>({x:()=>Wa(n)})},{kernelName:jt,inputsToSave:["indices"],gradFunc:(n,t)=>{const e=t[0];return{indices:()=>oc(e.shape,"float32")}}},{kernelName:Vs,gradFunc:n=>({x:()=>Ri(n)})},{kernelName:de,saveAllInputs:!0,gradFunc:(n,t,e)=>{const{axis:i}=e;return Bd(n,i).map(a=>()=>a)}},tE,tE,{kernelName:le,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(n,t)=>{const[e,i,r]=t,a=e,c=i,u=Ts(a.shape,c.shape);return{a:()=>{const g=qi(c,"float32");let v=me(n,me(g,sh(a,fr(g,vr(1)))));const T=ha(a.shape,u);return T.length>0&&(v=gr(v,T)),Dn(v,a.shape)},b:()=>{const g=Pu(a,0),v=sc(g,nd(a),Ri(a));let T=me(n,me(r,v));const U=ha(c.shape,u);return U.length>0&&(T=gr(T,U)),Dn(T,c.shape)}}}},{kernelName:ie,inputsToSave:["x","alpha"],gradFunc:(n,t)=>{const[e,i]=t,r=Pu(e,0);return{x:()=>sc(r,n,me(n,i)),alpha:()=>{let a=sc(r,Ri(n),me(n,e));const c=ha(i.shape,n.shape);return c.length>0&&(a=gr(a,c)),Dn(a,i.shape)}}}},{kernelName:ze,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;let a=[];return a=null==r?i.shape.map((c,u)=>u):"number"==typeof r?[r]:r,{x:()=>function nE(n,t,e){const i=n.shape.length,r=i-e.length,a=ml(e,i);let c=n;null!=a&&(c=$s(n,a));const u=c.shape.slice(),p=u.splice(i-e.length,e.length).reduce((T,U)=>T*U,1);u.push(p);let v=
/**
       * @license
       * Copyright 2022 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WD(n,t,e){const i=n.shape.slice();i[e]=1;const r=Dn(t,i),a=jf(n,e,!0,!1),c=jf(n,e,!0,!0),u=me(a,c);return me(r,u)}(c.reshape(u),t,r);if(v=v.reshape(c.shape),null!=a){const T=cf(a);v=$s(v,T)}return v}(i,n,a)}}},{kernelName:mr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,Wa(Ln(e)))}}},{kernelName:Ns,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=me(Yf(e,6),rm(e));return{x:()=>me(n,qi(i,"float32"))}}},{kernelName:zr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,qi(rm(e),"float32"))}}},{kernelName:hr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Dn(n,e.shape)}}},{kernelName:Dr,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Oe.runKernel(Us,r,e)}}},{kernelName:Nr,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Oe.runKernel(qs,r,e)}}},{kernelName:Ks,gradFunc:(n,t,e)=>{const{dims:i}=e,r=wt(i,n.shape);return{x:()=>Su(n,r)}}},{kernelName:xa,gradFunc:n=>({x:()=>Ri(n)})},{kernelName:oa,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Wa(B(n,me(sh(e,1.5),2)))}}},{kernelName:ln,inputsToSave:["condition"],gradFunc:(n,t)=>{const[e]=t;return{condition:()=>qi(Ri(e),"float32"),t:()=>me(n,qi(e,n.dtype)),e:()=>me(n,qi(qp(e),n.dtype))}}},{kernelName:en,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Pu(e,vr(0)),r=vr(pm),a=vr(av),c=me(n,a),u=me(me(n,r),uu(qi(e,"float32")));return sc(i,c,u)}}}},{kernelName:zn,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,me(e,fr(vr(1),e)))}}},{kernelName:qn,gradFunc:n=>({x:()=>Ri(n)})},{kernelName:an,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(pg(qi(e,"float32")),n)}}},{kernelName:Fn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(x0(qi(e,"float32")),n)}}},{kernelName:Tn,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{begin:r,size:a}=e,c=i.shape,[u,f]=rg(i,r,a),p=[];for(let g=0;g<n.rank;g++)p.push([u[g],c[g]-u[g]-f[g]]);return{x:()=>ah(n,p)}}},{kernelName:os,outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{dim:r}=e,c=me(n,i);return{logits:()=>fr(c,me(gr(c,[r],!0),i))}}},{kernelName:fi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,Zu(e))}}},mv,mv,gv,gv,{kernelName:Jn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,me(Qt(qi(e,"float32")),2))}}},{kernelName:Yo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=vr(2);return{a:()=>me(n,me(r,fr(e,i))),b:()=>me(n,me(r,fr(i,e)))}}},{kernelName:Qs,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(n,me(qi(e,"float32"),2))}}},{kernelName:Oc,gradFunc:n=>({x:()=>Ri(n)})},{kernelName:Ac,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{let u=n;const f=ha(e.shape,r);return f.length>0&&(u=gr(u,f)),Dn(u,e.shape)},b:()=>{let u=n;const f=ha(i.shape,r);return f.length>0&&(u=gr(u,f)),Dn(Wa(u),i.shape)}}}},{kernelName:ki,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,r=i.shape.slice(),{axis:a}=e;wt(a,i.shape).forEach(p=>{r[p]=1});const u=Dn(n,r),f=me(u,ac(i.shape,"float32"));return{x:()=>f}}},{kernelName:gu,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>B(n,Ln(pg(e)))}}},{kernelName:hs,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>me(fr(vr(1),Ln(e)),n)}}},{kernelName:Ba,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{reps:r}=e;return{x:()=>{let c=Ri(i);if(1===i.rank)for(let u=0;u<r[0];++u)c=Ti(c,fo(n,[u*i.shape[0]],[i.shape[0]]));else if(2===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)c=Ti(c,fo(n,[u*i.shape[0],f*i.shape[1]],[i.shape[0],i.shape[1]]));else if(3===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)c=Ti(c,fo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else{if(4!==i.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${i.rank} tensors yet.`);for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)for(let g=0;g<r[3];++g)c=Ti(c,fo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2],g*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]))}return c}}}},{kernelName:wl,gradFunc:(n,t,e)=>{const i=e,{perm:r}=i,a=cf(r);return{x:()=>$s(n,a)}}},{kernelName:co,gradFunc:(n,t,e)=>{const i=e,{axis:r}=i;return{value:()=>fa(n,r)}}},{kernelName:la,inputsToSave:["segmentIds"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>function Kl(n,t){const e=Xc(t,Ri(t)),i=Kf(n,e);let r=Xf(t,vr(0,"int32"));const a=i.rank-r.rank;for(let u=0;u<a;++u)r=Gl(r,u+1);r=Vh(r,ac(i.shape,"bool"));const c=Ri(i);return sc(r,i,c)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,e)}}},{kernelName:Mc,gradFunc:n=>({x:()=>Ri(n)})}];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of yv)eo(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */K().prototype.abs=function(){return this.throwIfDisposed(),Wl(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.acos=function(){return this.throwIfDisposed(),h0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.acosh=function(){return this.throwIfDisposed(),Bf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.add=function(n){return this.throwIfDisposed(),Ti(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.all=function(n,t){return this.throwIfDisposed(),sg(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.any=function(n,t){return this.throwIfDisposed(),og(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.argMax=function(n){return this.throwIfDisposed(),$p(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.argMin=function(n){return this.throwIfDisposed(),fy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.asScalar=function(){return this.throwIfDisposed(),Se(1===this.size,()=>"The array must have only 1 element."),Dn(this,[])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.asType=function(n){return this.throwIfDisposed(),qi(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.as1D=function(){return this.throwIfDisposed(),Dn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.as2D=function(n,t){return this.throwIfDisposed(),Dn(this,[n,t])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.as3D=function(n,t,e){return this.throwIfDisposed(),Dn(this,[n,t,e])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.as4D=function(n,t,e,i){return this.throwIfDisposed(),Dn(this,[n,t,e,i])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.as5D=function(n,t,e,i,r){return this.throwIfDisposed(),Dn(this,[n,t,e,i,r])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.asin=function(){return this.throwIfDisposed(),f0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.asinh=function(){return this.throwIfDisposed(),fC(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.atan=function(){return this.throwIfDisposed(),p0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.atan2=function(n){return this.throwIfDisposed(),m0(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.atanh=function(){return this.throwIfDisposed(),pC(this)},K().prototype.avgPool=function(n,t,e,i){return this.throwIfDisposed(),Ph(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.batchToSpaceND=function(n,t){return this.throwIfDisposed(),by(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.batchNorm=function(n,t,e,i,r){return this.throwIfDisposed(),Vp(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.broadcastTo=function(n){return this.throwIfDisposed(),zf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.cast=function(n){return this.throwIfDisposed(),qi(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.ceil=function(){return this.throwIfDisposed(),y0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.clipByValue=function(n,t){return this.throwIfDisposed(),Cu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.concat=function(n,t){return this.throwIfDisposed(),n instanceof to&&(n=[n]),Hl([this,...n],t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.conv1d=function(n,t,e,i,r,a){return this.throwIfDisposed(),Ey(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.conv2dTranspose=function(n,t,e,i,r){return this.throwIfDisposed(),w0(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.conv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),Fh(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.cos=function(){return this.throwIfDisposed(),pg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.cosh=function(){return this.throwIfDisposed(),x0(this)},
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.cumprod=function(n,t,e){return this.throwIfDisposed(),jf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.cumsum=function(n,t,e){return this.throwIfDisposed(),xy(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.depthToSpace=function(n,t){return this.throwIfDisposed(),MC(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.depthwiseConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),mg(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.dilation2d=function(n,t,e,i,r){return this.throwIfDisposed(),OC(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.divNoNan=function(n){return this.throwIfDisposed(),jp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.div=function(n){return this.throwIfDisposed(),B(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.dot=function(n){return this.throwIfDisposed(),Wf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.elu=function(){return this.throwIfDisposed(),Hf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.equal=function(n){return this.throwIfDisposed(),Ju(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.erf=function(){return this.throwIfDisposed(),I0(this)},
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.euclideanNorm=function(n,t){return this.throwIfDisposed(),FC(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.exp=function(){return this.throwIfDisposed(),uu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.expandDims=function(n){return this.throwIfDisposed(),Gl(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.expm1=function(){return this.throwIfDisposed(),vg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.fft=function(){return this.throwIfDisposed(),Ig(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.flatten=function(){return this.throwIfDisposed(),Dn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.floor=function(){return this.throwIfDisposed(),Hp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.floorDiv=function(n){return this.throwIfDisposed(),Nf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.gather=function(n,t,e){return this.throwIfDisposed(),Kf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.greaterEqual=function(n){return this.throwIfDisposed(),Xf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.greater=function(n){return this.throwIfDisposed(),Pu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.ifft=function(){return this.throwIfDisposed(),Ag(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.irfft=function(){return this.throwIfDisposed(),Q0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.isFinite=function(){return this.throwIfDisposed(),M0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.isInf=function(){return this.throwIfDisposed(),uf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.isNaN=function(){return this.throwIfDisposed(),WC(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.leakyRelu=function(n){return this.throwIfDisposed(),Ay(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.lessEqual=function(n){return this.throwIfDisposed(),Yf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.less=function(n){return this.throwIfDisposed(),td(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.localResponseNormalization=function(n,t,e,i){return this.throwIfDisposed(),HC(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logSigmoid=function(){return this.throwIfDisposed(),Yp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logSoftmax=function(n){return this.throwIfDisposed(),Oy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logSumExp=function(n,t){return this.throwIfDisposed(),O0(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.log=function(){return this.throwIfDisposed(),nd(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.log1p=function(){return this.throwIfDisposed(),My(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logicalAnd=function(n){return this.throwIfDisposed(),Vh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logicalNot=function(){return this.throwIfDisposed(),qp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logicalOr=function(n){return this.throwIfDisposed(),YC(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.logicalXor=function(n){return this.throwIfDisposed(),QC(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.matMul=function(n,t,e){return this.throwIfDisposed(),bs(this,n,t,e)},K().prototype.maxPool=function(n,t,e,i){return this.throwIfDisposed(),bg(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.max=function(n,t){return this.throwIfDisposed(),Nu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.maximum=function(n){return this.throwIfDisposed(),Xc(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.mean=function(n,t){return this.throwIfDisposed(),Ja(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.min=function(n,t){return this.throwIfDisposed(),Ty(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.minimum=function(n){return this.throwIfDisposed(),Uh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.mirrorPad=function(n,t){return this.throwIfDisposed(),rS(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.mod=function(n){return this.throwIfDisposed(),sS(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.mul=function(n){return this.throwIfDisposed(),me(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.neg=function(){return this.throwIfDisposed(),Wa(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.norm=function(n,t,e){return this.throwIfDisposed(),Gf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.notEqual=function(n){return this.throwIfDisposed(),Qp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.oneHot=function(n,t=1,e=0){return this.throwIfDisposed(),P0(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.onesLike=function(){return this.throwIfDisposed(),id(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.pad=function(n,t){return this.throwIfDisposed(),ah(this,n,t)},K().prototype.pool=function(n,t,e,i,r,a){return this.throwIfDisposed(),L0(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.pow=function(n){return this.throwIfDisposed(),sh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.prelu=function(n){return this.throwIfDisposed(),Fy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.prod=function(n,t){return this.throwIfDisposed(),Qf(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.reciprocal=function(){return this.throwIfDisposed(),z0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.relu=function(){return this.throwIfDisposed(),Ld(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.relu6=function(){return this.throwIfDisposed(),j0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.reshapeAs=function(n){return this.throwIfDisposed(),Dn(this,n.shape)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.reshape=function(n){return this.throwIfDisposed(),Dn(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.resizeBilinear=function(n,t,e){return this.throwIfDisposed(),dm(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.resizeNearestNeighbor=function(n,t,e){return this.throwIfDisposed(),yw(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.reverse=function(n){return this.throwIfDisposed(),Su(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.rfft=function(){return this.throwIfDisposed(),Hy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.round=function(){return this.throwIfDisposed(),Sg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.rsqrt=function(){return this.throwIfDisposed(),zy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.selu=function(){return this.throwIfDisposed(),Jp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.separableConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),jy(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sigmoid=function(){return this.throwIfDisposed(),Zu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sign=function(){return this.throwIfDisposed(),K0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sin=function(){return this.throwIfDisposed(),Wy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sinh=function(){return this.throwIfDisposed(),ff(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.slice=function(n,t){return this.throwIfDisposed(),fo(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.softmax=function(n){return this.throwIfDisposed(),im(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.softplus=function(){return this.throwIfDisposed(),$h(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.spaceToBatchND=function(n,t){return this.throwIfDisposed(),qf(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.split=function(n,t){return this.throwIfDisposed(),Lu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sqrt=function(){return this.throwIfDisposed(),Qt(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.square=function(){return this.throwIfDisposed(),Ln(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.squaredDifference=function(n){return this.throwIfDisposed(),Gy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.squeeze=function(n){return this.throwIfDisposed(),tp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.stack=function(n,t){this.throwIfDisposed();const e=n instanceof to?[this,n]:[this,...n];return fa(e,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.step=function(n){return this.throwIfDisposed(),rm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.stridedSlice=function(n,t,e,i,r,a,c,u){return this.throwIfDisposed(),Ky(this,n,t,e,i,r,a,c,u)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sub=function(n){return this.throwIfDisposed(),fr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.sum=function(n,t){return this.throwIfDisposed(),gr(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.tan=function(){return this.throwIfDisposed(),IS(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.tanh=function(){return this.throwIfDisposed(),af(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.tile=function(n){return this.throwIfDisposed(),ed(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.toBool=function(){return this.throwIfDisposed(),qi(this,"bool")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.toFloat=function(){return this.throwIfDisposed(),qi(this,"float32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.toInt=function(){return this.throwIfDisposed(),qi(this,"int32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.topk=function(n,t){return this.throwIfDisposed(),$d(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.transpose=function(n){return this.throwIfDisposed(),$s(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.unique=function(n){return this.throwIfDisposed(),tw(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.unsortedSegmentSum=function(n,t){return this.throwIfDisposed(),sm(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.unstack=function(n){return this.throwIfDisposed(),Bd(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.where=function(n,t){return this.throwIfDisposed(),sc(n,this,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
K().prototype.zerosLike=function(){return this.throwIfDisposed(),Ri(this)};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Xl extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Xl.prototype)}}class Qc extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Qc.prototype)}}class kn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,kn.prototype)}}class ws extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ws.prototype)}}class i_ extends Error{constructor(t){super(t),Object.setPrototypeOf(this,i_.prototype)}}Error;
/**
       * @license
       * Copyright 2022 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class oE{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let e;return this.cache.has(t)&&(e=this.cache.get(t),this.cache.delete(t),this.cache.set(t,e)),e}put(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,e)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let e=0;e<this.maxEntries-t;e++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function dp(n,t){if(Array.isArray(n)){let e=[];for(let i=0;i<t;i++)e=e.concat(n);return e}{const e=new Array(t);return e.fill(n),e}}function od(n,t){if(!n)throw new i_(t)}function Ll(n,t){let e=0;for(const i of n)i===t&&e++;return e}function hu(n){return 1===n.length?n[0]:n}function Uo(n){return Array.isArray(n)?n:[n]}function ad(n){const e=n.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function bd(n){return n.length<=1||-1===n.indexOf("_")?n:n.replace(/[_]+(\w|$)/g,(t,e)=>e.toUpperCase())}let Tu={};function hp(n){if(null==n)return null;const t={};return t.className=n.getClassName(),t.config=n.getConfig(),t}function ym(n){if(null!=n&&"object"==typeof n)if(Array.isArray(n))n.forEach(t=>ym(t));else{const t=Object.keys(n);for(const e of t){const i=n[e];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?ym(i):n[e]=i.value)}}}function vm(n,t={},e={},i="object",r=!1){if("string"==typeof n){let c;if(n in e)c=e[n];else if(n in Tu)c=Tu[n];else if(c=t[n],null==c)throw new kn(`Unknown ${i}: ${n}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return c}{const a=n;if(null==a.className||null==a.config)throw new kn(`${i}: Improper config format: ${JSON.stringify(a)}.\n'className' and 'config' must set.`);const c=a.className;let u,f;if(c in e?[u,f]=e[c]:c in Tu?[u,f]=Tu.className:c in t&&([u,f]=t[c]),null==u)throw new kn(`Unknown ${i}: ${c}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=f){const p={};for(const U of Object.keys(Tu))p[U]=Tu[U];for(const U of Object.keys(e))p[U]=e[U];a.config.customObjects=p;const v=Object.assign({},Tu);for(const U of Object.keys(e))Tu[U]=e[U];ym(a.config);const T=f(u,a.config,e,r);return Tu=Object.assign({},v),T}{const p=Object.assign({},Tu);for(const v of Object.keys(e))Tu[v]=e[v];const g=new u(a.config);return Tu=Object.assign({},p),g}}}function r_(n,t){return-1*function ZD(n,t){return n<t?-1:n>t?1:0}(n,t)}function Gh(n){if(null==n)return n;const t=[];for(const e of n)-1===t.indexOf(e)&&t.push(e);return t}function vv(n){if(null==n)throw new kn(`Invalid value in obj: ${JSON.stringify(n)}`);for(const t in n)if(n.hasOwnProperty(t))return!1;return!0}function ld(n,t,e){if(null!=e&&n.indexOf(e)<0)throw new kn(`${e} is not a valid ${t}.  Valid values are ${n} or null/undefined.`)}function lE(n,t,e=0,i=1/0){return od(e>=0),od(i>=e),Array.isArray(n)&&n.length>=e&&n.length<=i&&n.every(r=>typeof r===t)}function zo(n,t){Array.isArray(n)?(Se(n.length>0,()=>`${t} is unexpectedly an empty array.`),n.forEach((e,i)=>zo(e,`element ${i+1} of ${t}`))):Se(Number.isInteger(n)&&n>0,()=>`Expected ${t} to be a positive integer, but got ${eT(n)}.`)}function eT(n){return null===n?"null":Array.isArray(n)?"["+n.map(t=>eT(t)).join(",")+"]":"string"==typeof n?`"${n}"`:`${n}`}function bv(n){return"relu"===n?"relu":"linear"===n?"linear":"elu"===n?"elu":null}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let tT=0;function nT(){return tT++}const cE={};function wv(n=""){return n in cE||(cE[n]=0),cE[n]+=1,n+cE[n].toString()
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}const Ev=["channelsFirst","channelsLast"],uE=["nearest","bilinear"],dE=["valid","same","causal"],bm=["max","avg"],iT=["sum","mul","concat","ave"],Ud=new Map;
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function gl(n){ld(Ev,"DataFormat",n)}function $u(n){ld(dE,"PaddingMode",n)}function fE(n){ld(bm,"PoolMode",n)}const wm=[];function fp(n,t){wm.push(n);try{const e=t();return wm.pop(),e}catch(e){throw wm.pop(),e}}function pE(n){if(!oT(n))throw new Error("Not a valid tensor name: '"+n+"'");return function Em(){return 0===wm.length?"":wm.join("/")+"/"}()+n}function sT(n){if(!oT(n))throw new Error("Not a valid tensor name: '"+n+"'");Ud.has(n)||Ud.set(n,0);const t=Ud.get(n);if(Ud.set(n,Ud.get(n)+1),t>0){const e=`${n}_${t}`;return Ud.set(e,1),e}return n}const rO=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function oT(n){return!!n.match(rO)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function aT(n){return n===parseInt(n.toString(),10)}function Kh(n,t,e){null==t&&(t=0),null==e&&(e=n.length);let i=1;for(let r=t;r<e;++r)i*=n[r];return i}function xm(n){if(0===n.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i<t&&(t=i)}return t}function pp(n){if(0===n.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i>t&&(t=i)}return t}function zd(n,t){if(t<n)throw new kn(`end (${t}) < begin (${n}) is forbidden.`);const e=[];for(let i=n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */let xv;function cc(){return null==xv&&(xv=hi().epsilon()),xv}function fh(n,t){return qi(n,t)}function s_(n,t=-1){const e=n.shape.slice();return t<0&&(t=e.length+t+1),e.splice(t,0,1),Dn(n,e)}function mf(n,t,e){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:return em(n,[t,0],[e,n.shape[1]]);case 3:return tm(n,[t,0,0],[e,n.shape[1],n.shape[2]]);case 4:return nm(n,[t,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3]]);case 5:return fo(n,[t,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4]]);case 6:return fo(n,[t,0,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4],n.shape[5]]);default:throw new kn(`sliceAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}})}function Cv(n,t,e){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:return em(n,[0,t],[n.shape[0],e]);case 3:return tm(n,[0,0,t],[n.shape[0],n.shape[1],e]);case 4:return nm(n,[0,0,0,t],[n.shape[0],n.shape[1],n.shape[2],e]);default:throw new kn(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function Wd(n,t,e,i){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:switch(i){case 1:return mf(n,t,e);case 2:return Cv(n,t,e);default:throw new kn(`The axis is not within the rank of the tensor ${i}`)}case 3:switch(i){case 1:return mf(n,t,e);case 2:return tm(n,[0,t,0],[n.shape[0],e,n.shape[2]]);case 3:return Cv(n,t,e);default:throw new kn(`The axis is not within the rank of the tensor ${i}`)}case 4:switch(i){case 1:return mf(n,t,e);case 2:return nm(n,[0,t,0,0],[n.shape[0],e,n.shape[2],n.shape[3]]);case 3:return nm(n,[0,0,t,0],[n.shape[0],n.shape[1],e,n.shape[3]]);case 4:return Cv(n,t,e);default:throw new kn(`The axis is not within the rank of the tensor ${i}`)}default:throw new kn(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function o_(n,t=-1){let e;return t<0&&(e=n[0].rank,t=0!==e?e:0),t===n[0].rank&&(t=-1),Hl(n,t)}function uT(n,t){switch(n.rank){case 1:return wC([n,t]);case 2:return EC([n,t],0);case 3:return v0([n,t],0);case 4:return fg([n,t],0);default:throw new kn(`concatAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}}function Sv(n,t){if(Array.isArray(t)||(t=[t]),n.rank!==t.length)throw new kn(`The length of input n (${t.length}) does not match the number of dimensions in input x (${n.rank})`);return ed(n,t)}function Dv(n,t=0,e=1,i,r){return By(n,t,e,i,r)}function Hd(n,t,e,i){if(n.rank<2||t.rank<2)throw new ws(`dot requires both inputs to be rank >= 2 but got x shape = ${n.shape} and y shape = ${t.shape}`);if(t.rank>=3&&n.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new ws(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${n.shape} and  y shape = ${t.shape}`);if(2===n.rank&&2===t.rank)return Lg({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?gf(n.rank,i,"channelsLast"):null,activation:e});{const r=n.shape.slice(),a=r.pop();n=Dn(n,[-1,a]);const c=t.shape.slice(),u=c.pop(),f=c.pop(),p=[...c,u],g=Array.from({length:t.rank},(q,ae)=>0===ae?t.rank-2:ae<=t.rank-2?ae-1:ae);t=Dn($s(t,g),[f,-1]);const v=[...r,...p];return Dn(Lg({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?gf(n.rank,i,"channelsLast"):null,activation:e}),v)}}function kv(n,t,e){return k(()=>(t=Array.isArray(t)?Yc(t,"int32"):qi(t,"int32"),Kf(n,t,e)))}function ph(n){return me(n,n)}function gf(n,t,e){const i=t.shape;if(1!==t.rank&&t.rank!==n)throw new kn(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${n}`);if(5===n){if("channelsFirst"===e)return Dn(t,1===i.length?[1,i[0],1,1,1]:[1,i[3],i[0],i[1],i[2]]);if("channelsLast"===e)return Dn(t,1===i.length?[1,1,1,1,i[0]]:[1].concat(i))}else if(4===n){if("channelsFirst"===e)return Dn(t,1===i.length?[1,i[0],1,1]:[1,i[2],i[0],i[1]]);if("channelsLast"===e)return Dn(t,1===i.length?[1,1,1,i[0]]:[1].concat(i))}else if(3===n){if("channelsFirst"===e)return Dn(t,1===i.length?[1,i[0],1]:[1,i[1],i[0]]);if("channelsLast"===e)return Dn(t,1===i.length?[1,1,i[0]]:[1].concat(i))}else if(n<3)return t;throw new kn(`Unsupported input rank by biasAdd: ${t.rank}`)}function cd(n,t,e){return k(()=>(null==e&&(e="channelsLast"),gl(e),Ti(n,gf(n.rank,t,e))))}function mp(n,t,e,i){return k(()=>FS(n,t,e,i))}function mh(n,t,e=!1){return e?n():t()}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const Tm=["fanIn","fanOut","fanAvg"],km=["normal","uniform","truncatedNormal"];
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class ud extends As{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}Mi((()=>{class n extends ud{apply(e,i){return oc(e,i)}}return n.className="Zeros",n})());let gE=(()=>{class n extends ud{apply(e,i){return ac(e,i)}}return n.className="Ones",n})();Mi(gE),Mi((()=>{class n extends ud{constructor(e){if(super(),"object"!=typeof e)throw new kn(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new kn(`config must have value set but got ${e}`);this.value=e.value}apply(e,i){return k(()=>me(vr(this.value),ac(e,i)))}getConfig(){return{value:this.value}}}return n.className="Constant",n})()),Mi((()=>{class n extends ud{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,i){return zh(e,this.minval,this.maxval,i,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}return n.className="RandomUniform",n})()),Mi((()=>{class n extends ud{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new ws(`randomNormal does not support dType ${i}.`);return Dv(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="RandomNormal",n})()),Mi((()=>{class n extends ud{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new ws(`truncatedNormal does not support dType ${i}.`);return ew(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="TruncatedNormal",n})()),Mi((()=>{class n extends ud{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,i){return k(()=>{if(2!==e.length||e[0]!==e[1])throw new kn("Identity matrix initializer can only be used for 2D square matrices.");return me(this.gain,Wp(e[0]))})}getConfig(){return{gain:this.gain}}}return n.className="Identity",n})());let uc=(()=>{class n extends ud{constructor(e){if(super(),e.scale<0)throw new kn(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function Im(n){ld(Tm,"FanMode",n)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function dT(n){ld(km,"Distribution",n)}(this.distribution),this.seed=e.seed}apply(e,i){const r=function Iv(n,t="channelsLast"){let e,i;if(gl(t),2===n.length)e=n[0],i=n[1];else if(-1!==[3,4,5].indexOf(n.length)){if("channelsFirst"===t){const r=Kh(n,2);e=n[1]*r,i=n[0]*r}else if("channelsLast"===t){const r=Kh(n,0,n.length-2);e=n[n.length-2]*r,i=n[n.length-1]*r}}else{const r=Kh(n);e=Math.sqrt(r),i=Math.sqrt(r)}return[e,i]}(e),a=r[0],c=r[1];let u=this.scale;if(u/="fanIn"===this.mode?Math.max(1,a):"fanOut"===this.mode?Math.max(1,c):Math.max(1,(a+c)/2),"normal"===this.distribution){const f=Math.sqrt(u);if("float32"!==(i=i||"float32")&&"int32"!==i)throw new ws(`${this.getClassName()} does not support dType ${i}.`);return ew(e,0,f,i,this.seed)}{const f=Math.sqrt(3*u);return zh(e,-f,f,i,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}return n.className="VarianceScaling",n})();Mi(uc);let hT=(()=>{class n extends uc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="GlorotUniform",n})();Mi(hT);let fT=(()=>{class n extends uc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="GlorotNormal",n})();Mi(fT);let Av=(()=>{class n extends uc{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="HeNormal",n})();Mi(Av);let _f=(()=>{class n extends uc{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="HeUniform",n})();Mi(_f);let Mv=(()=>{class n extends uc{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="LeCunNormal",n})();Mi(Mv);let pT=(()=>{class n extends uc{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return uc.className}}return n.className="LeCunUniform",n})();Mi(pT),Mi((()=>{class n extends ud{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,i){return k(()=>{if(e.length<2)throw new ws("Shape must be at least 2D.");if("int32"!==i&&"float32"!==i&&void 0!==i)throw new TypeError(`Unsupported data type ${i}.`);const r=Tt(e.slice(0,-1)),a=e[e.length-1],c=r*a;c>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${c}) elements: Slowness may result.`);const f=Dv([Math.max(a,r),Math.min(a,r)],0,1,i,this.seed),p=sD.qr(f,!1);let g=p[0];const T=p[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return g=me(g,T.sign()),r<a&&(g=g.transpose()),me(vr(this.gain),g.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}return n.className="Orthogonal",n})());const _O={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function yO(n,t={}){return vm(n,qu.getMap().classNameMap,t,"initializer")}function _l(n){return hp(n)}function el(n){if("string"==typeof n){const t=n in _O?_O[n]:n;if("GlorotNormal"===t)return new fT;if("GlorotUniform"===t)return new hT;if("HeNormal"===t)return new Av;if("HeUniform"===t)return new _f;if("LeCunNormal"===t)return new Mv;if("LeCunUniform"===t)return new pT;{const e={};return e.className=t,e.config={},yO(e)}}return n instanceof ud?n:yO(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Ov(n){return Array.isArray(n)&&Array.isArray(n[0])}function Rv(n){return 0===n.length?[]:Array.isArray(n[0])?n:[n]}function br(n){let t;if(Array.isArray(n)){if(1!==n.length)throw new kn(`Expected Tensor length to be 1; got ${n.length}`);t=n[0]}else t=n;return t}function vo(n){if(Array.isArray(n)&&Array.isArray(n[0])){if(1===n.length)return n[0];throw new kn(`Expected exactly 1 Shape; got ${n.length}`)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Nv(n){let t=0;for(const e of n)t+=0===e.shape.length?1:e.shape.reduce((i,r)=>i*r);return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const gT="Variable";class Gd{constructor(t,e="float32",i=gT,r=!0,a=null){this.dtype=e??"float32",this.shape=t.shape,this.id=nT(),this.originalName=pE(i=i??gT),this.name=sT(this.originalName),this.trainable_=r,this.constraint=a,this.val=iw(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),function vO(n,t){if(n.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(n.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function c_(n){return n.map(t=>t.read())}function dd(n){n.forEach(t=>{t[0].write(t[1])})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Yl{constructor(t){this.dtype=t.dtype,this.shape=t.shape,this.ndim=null!=t.shape?t.shape.length:t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class Tc{constructor(t,e,i,r,a,c,u){this.dtype=t,this.shape=e,this.sourceLayer=i,this.inputs=r,this.callArgs=a,this.outputTensorIndex=u,this.id=nT(),null!=c&&(this.originalName=pE(c),this.name=sT(this.originalName)),this.rank=e.length}}let Kd=0;class Bu{constructor(t,e){this.callArgs=e,this.id=Kd++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const i of t.inboundLayers)i?.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const e of this.inboundLayers)t.push(null!=e?e.name:null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let bT=0;class Bs extends As{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=bT++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let e=t.name;if(!e){const i=this.getClassName();e=ad(i)+"_"+wv(i)}if(this.name=e,this.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){let i;if(null!=t.batchInputShape)i=t.batchInputShape;else if(null!=t.inputShape){let a=null;null!=t.batchSize&&(a=t.batchSize),i=[a].concat(t.inputShape)}this.batchInputShape=i;let r=t.dtype;null==r&&(r=t.inputDType),null==r&&(r="float32"),this.dtype=r}this.initialWeights=null!=t.weights?t.weights:null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,e){return t.name+"_ib-"+e.toString()}getNodeAtIndex(t,e){if(0===this.inboundNodes.length)throw new Qc(`The layer has never been called and thus has no defined ${e}.`);if(this.inboundNodes.length<=t)throw new kn(`Asked to get ${e} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return hu(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return hu(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Xl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new Xl(`Layer ${this.name} is not connected, no input to return.`);return hu(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new Xl(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Xl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return hu(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(e=>e.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const e=Uo(t);if(null==this.inputSpec||0===this.inputSpec.length)return;const i=Uo(this.inputSpec);if(e.length!==i.length)throw new kn(`Layer ${this.name} expects ${i.length} inputs, but it received ${e.length} input tensors. Input received: ${t}`);for(let r=0;r<e.length;r++){const a=e[r],c=i[r];if(null==c)continue;const u=a.rank;if(null!=c.ndim&&u!==c.ndim)throw new kn(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${c.ndim}, found ndim=${u}`);if(null!=c.maxNDim&&u>c.maxNDim)throw new kn(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${c.maxNDim}, found ndim=${u}`);if(null!=c.minNDim&&u<c.minNDim)throw new kn(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${c.minNDim}, found ndim=${u}.`);if(null!=c.dtype&&a.dtype!==c.dtype)throw new kn(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${c.dtype}, found dtype=${a.dtype}.`);if(c.axes){const f=a.shape;for(const p in c.axes){const g=Number(p),v=c.axes[p];if(null!=v&&-1===[v,null].indexOf(g>=0?f[g]:f[f.length+g]))throw new kn(`Input ${r} is incompatible with layer ${this.name}: expected axis ${g} of input shape to have value ${v} but got shape ${f}.`)}}if(null!=c.shape)for(let f=0;f<c.shape.length;++f){const p=c.shape[f],g=a.shape[f];if(null!=p&&null!=g&&p!==g)throw new kn(`Input ${r} is incompatible with layer ${this.name}: expected shape=${c.shape}, found shape=${a.shape}.`)}}}call(t,e){return t}invokeCallHook(t,e){null!=this._callHook&&this._callHook(t,e)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,e){e=e||{},this.assertNotDisposed();const i=Uo(t),r=function DO(n){let t=!0;for(const e of Uo(n))if(!(e instanceof Tc)){t=!1;break}return t}(t),a=function _E(n){let t=!0;for(const e of Uo(n))if(e instanceof Tc){t=!1;break}return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(t);if(r===a)throw new kn("Arguments to apply() must be all SymbolicTensors or all Tensors");return fp(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const c=[];for(const u of Uo(t))c.push(u.shape);this.build(hu(c)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(t),a){let c=this.call(t,e);this.supportsMasking&&this.setMaskMetadata(t,c);const u=Uo(c),f=[];for(let p of u)-1!==i.indexOf(p)&&(p=p.clone()),f.push(p);if(c=hu(f),null!=this.activityRegularizer)throw new ws("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}{const c=function CO(n){n=Uo(n);const t=[];for(const e of n)t.push(e.shape);return hu(t)}(t),u=this.computeOutputShape(c);let f;const p="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(t)?c[0]:c),f=null!=u&&u.length>0&&Array.isArray(u[0])?u.map((g,v)=>new Tc(p,g,this,Uo(t),e,this.name,v)):new Tc(p,u,this,Uo(t),e,this.name),this.addInboundNode(t,f,null,null,c,u,e),this._refCount++,null!=this.activityRegularizer)throw new ws("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}})}warnOnIncompatibleInputShape(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let e=!1;this.batchInputShape.forEach((i,r)=>{null!=i&&null!=t[r]&&t[r]!==i&&(e=!0)}),e&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Xl(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const e of this.inboundNodes){const i=JSON.stringify(e.outputShapes);-1===t.indexOf(i)&&t.push(i)}if(1===t.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new Xl(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Qc(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Nv(this.weights)}build(t){this.built=!0}getWeights(t=!1){return c_(t?this.trainableWeights:this.weights)}setWeights(t){k(()=>{const e=this.weights;if(e.length!==t.length)throw new kn(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${e.length} weights. Provided weights: ${t}...`);if(0===e.length)return;const i=[],r=c_(e);for(let a=0;a<r.length;++a){const c=r[a],u=e[a],f=t[a];if(!Re(c.shape,f.shape))throw new kn(`Layer weight shape ${c.shape} not compatible with provided weight shape ${f.shape}`);i.push([u,f])}dd(i)})}addWeight(t,e,i,r,a,c,u,f){if(-1!==this._addedWeightNames.indexOf(t))throw new kn(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),null==i&&(i="float32"),this.fastWeightInitDuringBuild&&(r=null!=f?f():el("zeros"));const p=r.apply(e,i),g=new Gd(p,i,t,c,u);return p.dispose(),null!=a&&this.addLoss(()=>a.apply(g.read())),null==c&&(c=!0),c?this._trainableWeights.push(g):this._nonTrainableWeights.push(g),g}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){null==t||Array.isArray(t)&&0===t.length||(t=Uo(t),null!=this._losses&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,e){if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);e.forEach(i=>{if(null!=i)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)})}return null}return e}setMaskMetadata(t,e,i){if(!this.supportsMasking)return;const r=this.computeMask(t,i),a=Uo(e),c=Uo(r);if(a.length!==c.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let u=0;u<a.length;u++)a[u].kerasMask=c[u]}addInboundNode(t,e,i,r,a,c,u=null){const f=Uo(t);e=Uo(e),i=Uo(i),r=Uo(r),a=Rv(a),c=Rv(c);const p=[],g=[],v=[];for(const T of f)p.push(T.sourceLayer),g.push(T.nodeIndex),v.push(T.tensorIndex);new Bu({outboundLayer:this,inboundLayers:p,nodeIndices:g,tensorIndices:v,inputTensors:f,outputTensors:e,inputMasks:i,outputMasks:r,inputShapes:a,outputShapes:c},u);for(let T=0;T<e.length;T++)e[T].sourceLayer=this,e[T].nodeIndex=this.inboundNodes.length-1,e[T].tensorIndex=T}getConfig(){const t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return 0==--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}}function wT(n,t,e){if((null==t||null!=e&&e>0)&&(t=n.sourceLayer,e=n.nodeIndex),0===t.inboundNodes.length)return[n];{const i=t.inboundNodes[e];if(0===i.inboundLayers.length)return i.inputTensors;{const r=[];for(let a=0;a<i.inboundLayers.length;a++){const p=wT(i.inputTensors[a],i.inboundLayers[a],i.nodeIndices[a]);for(const g of p)-1===r.indexOf(g)&&r.push(g)}return r}}}let yf=(()=>{class n extends Bs{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:wv("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new kn("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let i=e.batchInputShape;if(null==i){if(null==e.inputShape)throw new kn("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");i=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new kn("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=i,this.dtype=r,this.inputSpec=[{shape:i}];const a=new Tc(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[i],outputShapes:[i]})}apply(e,i){throw new kn(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}return n.className="InputLayer",n})();Mi(yf);class vf{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof vf)for(const e in t.id2Value)this.id2Value[e]=t.id2Value[e],e in t.id2Mask&&(this.id2Mask[e]=t.id2Mask[e]);else{if(null==t)return;for(const e of t)this.add(e.key,e.value)}}add(t,e,i){if(null!=this.id2Value[t.id])throw new kn(`Duplicate key: name=${t.name}, id=${t.id}`);return this.id2Value[t.id]=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function ET(n,t){if(null==n.dtype||n.dtype===t.dtype)return t;try{return qi(t,n.dtype)}catch{throw new kn(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${n.name}' (${n.dtype}).`)}}(t,e),this.name2Id[t.name]=t.id,null!=i&&(this.id2Mask[t.id]=i),this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return null!=this.id2Value[t.id]}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof Tc){if(null==this.id2Value[t.id])throw new kn(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}{const e=this.name2Id[t];if(null==e)throw new kn(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[e]}}getMask(t){if(t instanceof Tc){if(null==this.id2Value[t.id])throw new kn(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}{const e=this.name2Id[t];if(null==e)throw new kn(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[e]}}disposeMasks(){null!=this.id2Mask&&V(this.id2Mask)}}const Pv=new oE,u_=new oE;function bf(n,t,e,i){const r=null!=e&&e.training,a=Array.isArray(n),c=a?n:[n],u=c.map(q=>q.name),f=[],p=t.names();for(const q of u)-1!==p.indexOf(q)?f.push(t.getValue(q)):f.push(null);null!=i&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);const g=u.join(",")+"|"+t.names().sort().join(",");let T,v=Pv.get(g);if(null==v){const q=function kO(n,t){Se(null!=n&&n.length>0,()=>"Expected at least one fetch, got none");let e=[],i={};if(1===n.length){const r=yE(n[0],t);e=r.sorted,i=r.recipientMap}else{const r=new Set;for(const a of n){const{sorted:c,recipientMap:u}=yE(a,t);for(const f of c)r.has(f.name)||(e.push(f),r.add(f.name));for(const f in u)null==i[f]&&(i[f]=new Set),u[f].forEach(p=>i[f].add(p))}}return{sorted:e,recipientCounts:CT(i)}}(c,t);v=q.sorted,T=q.recipientCounts,Pv.put(g,v),u_.put(g,T)}T={},r||Object.assign(T,u_.get(g));const U=new vf(t);for(let q=0;q<v.length;++q){if(null!=i){const bn=Gc().numTensors;bn>i.maxNumTensors&&(i.maxNumTensors=bn),bn<i.minNumTensors&&(i.minNumTensors=bn)}const ae=v[q],te=ae.sourceLayer;if(te instanceof yf)continue;const ye=[],ke=[],tt=[];let nt=!1;for(const bn of ae.inputs){const xn=U.getValue(bn),Vn=U.getMask(bn);ye.push(xn),ke.push(Vn),null!=Vn&&(nt=!0),r||(T[bn.name]--,0===T[bn.name]&&!t.hasKey(bn)&&-1===u.indexOf(bn.name)&&!xn.isDisposed&&!0!==bn.sourceLayer.stateful&&tt.push(xn))}nt&&((e=e||{}).mask=ke[0]);const St=Uo(te.apply(ye,e));let Xt=null;te.supportsMasking&&(Xt=te.computeMask(ye,ke));const rn=IO(ae),un=Array.isArray(rn)?rn:[rn];for(let bn=0;bn<un.length;++bn){U.hasKey(un[bn])||U.add(un[bn],St[bn],Array.isArray(Xt)?Xt[0]:Xt);const xn=u.indexOf(un[bn].name);-1!==xn&&(f[xn]=St[bn])}r||V(tt)}return U.disposeMasks(),a?f:f[0]}function CT(n){const t={};for(const e in n)t[e]=n[e].size;return t}function yE(n,t){const e=new Set,i=[],r={};for(const u of t.names())e.add(u);const a=[],c=[];for(a.push(n);a.length>0;){const u=a[a.length-1];if(e.has(u.name)){a.pop();continue}const f=c[c.length-1]===a.length-1;if(0===u.inputs.length||f)a.pop(),i.push(u),e.add(u.name),f&&c.pop();else{c.push(a.length-1);for(const p of u.inputs)null==r[p.name]&&(r[p.name]=new Set),r[p.name].add(u.name),!e.has(p.name)&&a.push(p)}}return{sorted:i,recipientMap:r}}function IO(n){let t;if(1===n.sourceLayer.inboundNodes.length)t=n.sourceLayer.output;else{let e=null;for(let i=0;i<n.sourceLayer.inboundNodes.length;++i)for(const r of n.sourceLayer.inboundNodes[i].outputTensors)if(r.id===n.id){e=i;break}t=n.sourceLayer.getOutputAt(e)}return t}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function vE(n,t){return k(()=>Qt(gr(me(n,n),t,!0)))}Te().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function xT(n){Pv?.setMaxEntries(n),u_?.setMaxEntries(n)});class d_ extends As{getConfig(){return{}}}Mi((()=>{class n extends d_{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>{const i=vE(e,this.axis),r=Cu(i,0,this.maxValue);return me(e,B(r,Ti(cc(),i)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}return n.className="MaxNorm",n})()),Mi((()=>{class n extends d_{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>B(e,Ti(cc(),vE(e,this.axis))))}getConfig(){return{axis:this.axis}}}return n.className="UnitNorm",n})()),Mi((()=>{class n extends d_{apply(e){return Ld(e)}}return n.className="NonNeg",n})()),Mi((()=>{class n extends d_{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>{const i=vE(e,this.axis),r=Ti(me(this.rate,Cu(i,this.minValue,this.maxValue)),me(1-this.rate,i));return me(e,B(r,Ti(cc(),i)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}return n.className="MinMaxNorm",n})());const ST={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function dc(n){return hp(n)}function Fv(n,t={}){return vm(n,qu.getMap().classNameMap,t,"constraint")}function kc(n){return null==n?null:"string"==typeof n?Fv({className:n in ST?ST[n]:n,config:{}}):n instanceof d_?n:Fv(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function wf(n){return Am.apply(this,arguments)}function Am(){return(Am=(0,Q.A)(function*(n){if(null==n)return;const t=[],e=[],i=[];for(const r in n){const a=n[r];if("number"!=typeof a){const c=a;t.push(c.data()),e.push(r),i.push(c)}}if(t.length>0){const r=yield Promise.all(t);for(let a=0;a<r.length;++a)n[e[a]]=r[a][0];V(i)}})).apply(this,arguments)}function h_(n){if(null!=n)for(const t in n){const e=n[t];"number"!=typeof e&&e.dispose()}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class Mm{constructor(){this.validationData=null}setParams(t){this.params=t}onEpochBegin(t,e){return(0,Q.A)(function*(){})()}onEpochEnd(t,e){return(0,Q.A)(function*(){})()}onBatchBegin(t,e){return(0,Q.A)(function*(){})()}onBatchEnd(t,e){return(0,Q.A)(function*(){})()}onTrainBegin(t){return(0,Q.A)(function*(){})()}onTrainEnd(t){return(0,Q.A)(function*(){})()}setModel(t){}}class $O{constructor(t,e=10){null==t&&(t=[]),this.callbacks=t,this.queueLength=e}append(t){this.callbacks.push(t)}setParams(t){for(const e of this.callbacks)e.setParams(t)}setModel(t){for(const e of this.callbacks)e.setModel(t)}onEpochBegin(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochBegin(t,e)})()}onEpochEnd(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochEnd(t,e)})()}onBatchBegin(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchBegin(t,e)})()}onBatchEnd(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchEnd(t,e)})()}onTrainBegin(t){var e=this;return(0,Q.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainBegin(t)})()}onTrainEnd(t){var e=this;return(0,Q.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainEnd(t)})()}}class BO extends Mm{constructor(){super()}onEpochBegin(t){var e=this;return(0,Q.A)(function*(){e.seen=0,e.totals={}})()}onBatchEnd(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={});const r=null==e.size?0:e.size;i.seen+=r;for(const a in e){const c=e[a];if("number"==typeof c)i.totals.hasOwnProperty(a)||(i.totals[a]=0),i.totals[a]=i.totals[a]+c*r;else{let u;a in i.totals?u=i.totals[a]:i.totals[a]=0;const f=k(()=>Ti(i.totals[a],me(c,r)));i.totals[a]=f,u?.dispose()}}})()}onEpochEnd(t,e){var i=this;return(0,Q.A)(function*(){if(null!=e)for(const r of i.params.metrics)null!=i.totals[r]&&("number"==typeof i.totals[r]?e[r]=i.totals[r]/i.seen:k(()=>{const a=me(B(1,i.seen),i.totals[r]);e[r]=a,i.totals[r].dispose(),fe(e[r])}))})()}}class Lv extends Mm{onTrainBegin(t){var e=this;return(0,Q.A)(function*(){e.epoch=[],e.history={}})()}onEpochEnd(t,e){var i=this;return(0,Q.A)(function*(){null==e&&(e={}),i.epoch.push(t);for(const r in e)null==i.history[r]&&(i.history[r]=[]),i.history[r].push(e[r])})()}syncData(){var t=this;return(0,Q.A)(function*(){const e=[],i=[],r=[];for(const c in t.history){const u=t.history[c];for(let f=0;f<u.length;++f)"number"!=typeof u[f]&&(e.push(u[f].data()),i.push(c),r.push(f))}const a=yield Promise.all(e);for(let c=0;c<a.length;++c)t.history[i[c]][r[c]].dispose(),t.history[i[c]][r[c]]=a[c][0]})()}}class $v extends Mm{constructor(t,e){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||aD,this.yieldEvery=e||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");sn(this.yieldEvery)&&(this.maybeWait=function tO(n,t,e){let r,i=null!=e?e():jr();return(...c)=>{const u=null!=e?e():jr();return u-i<t||(i=u,r=n(...c)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}maybeWait(t,e,i){var r=this;return(0,Q.A)(function*(){const a=[];null!=r.yield&&(yield wf(i),a.push(r.yield(t,e,i))),a.push(r.nextFrameFunc()),yield Promise.all(a)})()}onEpochBegin(t,e){var i=this;return(0,Q.A)(function*(){i.currentEpoch=t,null!=i.epochBegin&&(yield wf(e),yield i.epochBegin(t,e))})()}onEpochEnd(t,e){var i=this;return(0,Q.A)(function*(){const r=[];null!=i.epochEnd&&(yield wf(e),r.push(i.epochEnd(t,e))),"epoch"===i.yieldEvery&&r.push(i.nextFrameFunc()),yield Promise.all(r)})()}onBatchBegin(t,e){var i=this;return(0,Q.A)(function*(){null!=i.batchBegin&&(yield wf(e),yield i.batchBegin(t,e))})()}onBatchEnd(t,e){var i=this;return(0,Q.A)(function*(){const r=[];null!=i.batchEnd&&(yield wf(e),r.push(i.batchEnd(t,e))),"batch"===i.yieldEvery?r.push(i.nextFrameFunc()):sn(i.yieldEvery)&&r.push(i.maybeWait(i.currentEpoch,t,e)),yield Promise.all(r)})()}onTrainBegin(t){var e=this;return(0,Q.A)(function*(){null!=e.trainBegin&&(yield wf(t),yield e.trainBegin(t))})()}onTrainEnd(t){var e=this;return(0,Q.A)(function*(){null!=e.trainEnd&&(yield wf(t),yield e.trainEnd(t))})()}}function Bv(n,t){return null==n&&(n={}),n instanceof Mm?[n]:Array.isArray(n)&&n[0]instanceof Mm?n:Uo(n).map(i=>new $v(i,t))}let IT=(()=>{class n{constructor(){}static registerCallbackConstructor(e,i){Se(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),n.checkForDuplicate(i),null==n.constructors[e]&&(n.constructors[e]=[]),n.constructors[e].push(i)}static checkForDuplicate(e){for(const i in n.constructors)n.constructors[+i].forEach(a=>{if(a===e)throw new kn("Duplicate callback constructor.")})}static clear(){n.constructors={}}static createCallbacks(e){const i=[];for(const r in n.constructors){const a=+r;e>=a&&i.push(...n.constructors[a])}return i.map(r=>new r)}}return n.constructors={},n})();function AT(n,t,e,i,r,a,c,u,f){const p=new Lv,g=[new BO,...IT.createCallbacks(t)];null!=n&&g.push(...n),g.push(p);const v=new $O(g);return v.setParams({epochs:e,initialEpoch:i,samples:r,steps:a,batchSize:c,verbose:t,doValidation:u,metrics:f}),{callbackList:v,history:p}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}function Xh(n,t={},e=!1){return vm(n,qu.getMap().classNameMap,t,"layer",e)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function f_(n,t){return k(()=>{"float32"!==n.dtype&&(n=qi(n,"float32"));const e=gr(ph(n),t,!0),i=au(e.shape,cc()),r=Qt(Xc(e,i));return B(n,r)})}function Om(n,t){return k(()=>Ja(ph(fr(t,n)),-1))}function p_(n,t){return k(()=>Ja(Wl(fr(t,n)),-1))}function Yh(n,t){return k(()=>{const e=fr(n,t),i=Cu(Wl(n),cc(),Number.MAX_VALUE),r=Wl(B(e,i));return me(100,Ja(r,-1))})}function Vv(n,t,e=!1){return k(()=>{if(e)t=im(t);else{const i=gr(t,t.shape.length-1,!0);t=B(t,i)}return t=Cu(t,cc(),1-cc()),Wa(gr(me(qi(n,"float32"),nd(t)),t.shape.length-1))})}function m_(n,t,e=!1){return k(()=>{const i=qi(Hp(function aO(n){const t=[Kh(n.shape)];return Dn(n,t)}(n)),"int32"),r=(t=Cu(t,cc(),1-cc())).shape;return Vv(Dn(P0(i,r[r.length-1]),r),t,e)})}function xE(n,t){return k(()=>{let e;return e=Cu(t,cc(),1-cc()),e=nd(B(e,fr(1,e))),Ja(function MT(n,t){if(!Re(n.shape,t.shape))throw new kn(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(t.shape)}`);return k(()=>{const e=Ld(t),i=Wa(Wl(t));return Ti(fr(e,me(t,n)),My(uu(i)))})}(n,e),-1)})}function OT(n,t){return k(()=>{const e=f_(n,-1),i=f_(t,-1),r=me(e,i);return Wa(gr(r,-1))})}const jv={meanSquaredError:Om,meanAbsoluteError:p_,meanAbsolutePercentageError:Yh,meanSquaredLogarithmicError:function VO(n,t){return k(()=>{const e=Cu(t,cc(),Number.MAX_VALUE),i=nd(Ti(1,e)),r=Cu(n,cc(),Number.MAX_VALUE),a=nd(Ti(1,r));return Ja(ph(fr(i,a)),-1)})},squaredHinge:function UO(n,t){return k(()=>{const e=Xc(0,fr(1,me(n,t)));return Ja(ph(e),-1)})},hinge:function Rm(n,t){return k(()=>{const e=Xc(0,fr(1,me(n,t)));return Ja(e,-1)})},categoricalHinge:function rF(n,t){return k(()=>{const e=gr(me(n,t),-1),i=Nu(me(fr(1,n),t),-1);return Xc(0,Ti(1,fr(i,e)))})},logcosh:function EE(n,t){return k(()=>{const e=Math.log(2),i=fr(t,n),r=fr(Ti(i,$h(me(-2,i))),e);return Ja(r,-1)})},categoricalCrossentropy:Vv,sparseCategoricalCrossentropy:m_,binaryCrossentropy:xE,kullbackLeiblerDivergence:function Nm(n,t){return k(()=>{const e=Cu(n,cc(),1),i=Cu(t,cc(),1);return gr(me(n,nd(B(e,i))),-1)})},poisson:function zO(n,t){return k(()=>{const e=nd(Ti(cc(),t));return Ja(fr(t,me(n,e)),-1)})},cosineProximity:OT};function DE(n){if("string"==typeof n){if(n in jv)return jv[n];let t=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new kn(t)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function TE(n,t){return k(()=>{const e=me(.5,id(t)),i=fh(Pu(t,e),n.dtype);return Ja(Ju(n,i),-1)})}function Pm(n,t){return k(()=>fh(Ju($p(n,-1),$p(t,-1)),"float32"))}function PT(n,t){return xE(n,t)}function XO(n,t){return n.rank===t.rank&&(n=tp(n,[n.rank-1])),(t=$p(t,-1)).dtype!==n.dtype&&(t=qi(t,n.dtype)),qi(Ju(n,t),"float32")}const LT=Vv,kE=m_,Ef={binaryAccuracy:TE,categoricalAccuracy:Pm,precision:function NT(n,t){return k(()=>{const e=function RT(n,t){return k(()=>qi(gr(Vh(Ju(n,1),Ju(t,1))),"float32"))}(n,t),i=function GO(n,t){return k(()=>qi(gr(Vh(Ju(n,0),Ju(t,1))),"float32"))}(n,t),r=Ti(e,i);return qi(sc(Pu(r,0),B(e,r),0),"float32")})},categoricalCrossentropy:LT,sparseCategoricalCrossentropy:kE,mse:Om,MSE:Om,mae:p_,MAE:p_,mape:Yh,MAPE:Yh,cosine:OT};function QO(n){if("string"==typeof n&&n in Ef)return Ef[n];if("string"!=typeof n&&null!=n)return n;throw new kn(`Unknown metric ${n}`)}function Hv(n){if(od(null!==n,`Unknown LossOrMetricFn ${n}`),"string"==typeof n)return n;{let t;for(const e of Object.keys(jv))if(jv[e]===n){t=e;break}if(void 0!==t)return t;for(const e of Object.keys(Ef))if(Ef[e]===n){t=e;break}return void 0!==t?t:n.name}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function JO(n,t,e=!1){if(null==n||"object"!=typeof n||Object.getPrototypeOf(n)!==Object.prototype||!IE(n))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(e){const i=JSON.stringify(n);i.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${i.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function IE(n){if(null===n)return!0;if("object"==typeof n){if(Object.getPrototypeOf(n)===Object.prototype){const t=Object.keys(n);for(const e of t)if("string"!=typeof e||!IE(n[e]))return!1;return!0}if(Array.isArray(n)){for(const t of n)if(!IE(t))return!1;return!0}return!1}{const t=typeof n;return"string"===t||"number"===t||"boolean"===t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function xf(n,t,e=console.log){let i="";for(let r=0;r<n.length;++r)r>0&&(i=i.slice(0,i.length-1)+" "),i+=n[r],i=i.slice(0,t[r]),i+=" ".repeat(t[r]-i.length);e(i)}function nR(n,t,e){let i,r;try{r=n.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{r="multiple"}try{i=JSON.stringify(n.outputShape)}catch{i="multiple"}xf([`${n.name} (${n.getClassName()})`,r,i,n.countParams().toString()],t,e)}function VT(n,t,e,i){let r,a;try{a=n.inboundNodes.map(v=>JSON.stringify(v.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(n.outputShape)}catch{r="multiple"}const c=[];for(const v of n.inboundNodes)if(!(null!=e&&e.length>0&&-1===e.indexOf(v)))for(let T=0;T<v.inboundLayers.length;++T)c.push(`${v.inboundLayers[T].name}[${v.nodeIndices[T]}][${v.tensorIndices[T]}]`);const u=n.name,f=n.getClassName(),p=0===c.length?"":c[0];xf([`${u} (${f})`,a,r,n.countParams().toString(),p],t,i);for(let v=1;v<c.length;++v)xf(["","","","",c[v]],t,i)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function AE(n,t,e){return("inboundNodes"===n||"outputLayers"===n||"inputLayers"===n)&&0===t&&"string"==typeof e}function ME(n,t){if(null===n)return null;if("string"==typeof n)return bd(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];AE(t,r,a)?e.push(a):e.push(ME(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];if("name"===i&&"string"==typeof r)e[i]=r;else{const a=bd(i);e[a]=ME(r,a)}}return e}}function Gv(n,t){if(null==n)return null;if("string"==typeof n)return ad(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];AE(t,r,a)?e.push(a):e.push(Gv(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];e[ad(i)]="name"!==i&&"className"!==i||"string"!=typeof r?Gv(r,i):r}return e}}
/** @license See the LICENSE file. */class Xd extends Bs{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,null==this.name){const ke=this.getClassName().toLowerCase();this.name=wv(ke)}if(this.supportsMasking=!1,this.trainable_=!0,this.inputs=Array.isArray(t.inputs)?t.inputs.slice():[t.inputs],this.outputs=Array.isArray(t.outputs)?t.outputs.slice():[t.outputs],Gh(this.inputs).length!==this.inputs.length)throw new kn(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(ke=>ke.name)}`);Gh(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(ke=>ke.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const ke of this.outputs){const nt=ke.nodeIndex,St=ke.tensorIndex;this.outputLayers.push(ke.sourceLayer),this.outputLayersNodeIndices.push(nt),this.outputLayersTensorIndices.push(St)}for(const ke of this.inputs){const tt=ke.sourceLayer,nt=ke.nodeIndex,St=ke.tensorIndex;od(0===nt,"input layer has >1 nodes"),od(0===St,"input layer has >1 tensors"),this.inputLayers.push(tt),this.inputLayersNodeIndices.push(nt),this.inputLayersTensorIndices.push(St)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let ke=0;ke<this.inputLayers.length;ke++){const tt=this.inputLayers[ke];if(!(tt instanceof yf))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${ke} (0-based) originates from layer type ${tt.getClassName()}.`);this.inputNames.push(tt.name),this.feedInputShapes.push(tt.batchInputShape),this.feedInputNames.push(tt.name)}for(const ke of this.outputLayers)this.outputNames.push(ke.name);this.internalInputShapes=this.inputs.map(ke=>ke.shape),this.internalOutputShapes=this.outputs.map(ke=>ke.shape);const e={},i={},r={},a={},c={},u=[],f=(ke,tt,nt,St,Xt,rn)=>{(null==St||null==Xt||null==rn)&&(St=ke.sourceLayer,Xt=ke.nodeIndex,rn=ke.tensorIndex);const un=St.inboundNodes[Xt];if(-1!==nt.indexOf(un))throw new Qc(`The tensor ${ke.name} at layer "${St.name}" is part of a cycle.`);if(-1!==tt.indexOf(un))return;this.containerNodes.add(Xd.nodeKey(St,Xt)),St.id in c||(c[St.id]=Object.keys(c).length),-1===nt.indexOf(un)&&nt.push(un);const bn=un.inboundLayers.length;for(let xn=0;xn<bn;xn++)f(un.inputTensors[xn],tt,nt,un.inboundLayers[xn],un.nodeIndices[xn],un.tensorIndices[xn]);for(tt.push(un);nt.indexOf(un)>=0;)nt.splice(nt.indexOf(un),1);u.push(un)},p=[],g=[];for(const ke of this.outputs)f(ke,p,g);const v=u.slice().reverse();for(const ke of v){i[ke.id]=ke,ke.id in e||(e[ke.id]=0);let tt=e[ke.id];tt=Math.max(tt,null==r[ke.outboundLayer.id]?0:r[ke.outboundLayer.id]),r[ke.outboundLayer.id]=tt,a[ke.outboundLayer.id]=ke.outboundLayer,e[ke.id]=tt;for(let St=0;St<ke.inboundLayers.length;St++){const un=ke.inboundLayers[St].inboundNodes[ke.nodeIndices[St]];e[un.id]=Math.max(tt+1,null==e[un.id]?0:e[un.id]),i[un.id]=un}}const T={};for(const ke in e){const tt=e[ke];tt in T||(T[tt]=[]),T[tt].push(i[ke])}const U={};for(const ke in r){const tt=r[ke];tt in U||(U[tt]=[]),U[tt].push(a[ke])}let q=Object.keys(U).map(ke=>parseInt(ke,10)).sort(r_);this.layers=[];for(const ke of q){const tt=U[ke];tt.sort((nt,St)=>{const Xt=c[nt.id],rn=c[St.id];return Xt<rn?-1:Xt>rn?1:0});for(const nt of tt)nt instanceof Xd&&this.internalContainerRefs.push(nt),this.layers.push(nt)}this.layersByDepth=U,q=Object.keys(T).map(ke=>parseInt(ke,10)).sort(r_);const ae=this.inputs.slice(),te=[];for(const ke of q)for(const tt of T[ke]){const nt=tt.outboundLayer;if(null!=nt){for(const St of tt.inputTensors)if(-1===ae.indexOf(St))throw new Qc(`Graph disconnected: cannot obtain value for tensor ${St} at layer "${nt.name}". The following previous layers were accessed without issue: ${te}`);for(const St of tt.outputTensors)ae.push(St);te.push(nt.name)}}this.nodesByDepth=T;const ye=this.layers.map(ke=>ke.name);for(const ke of ye){const tt=ye.filter(nt=>nt===ke).length;if(1!==tt)throw new Qc(`The name "${ke}" is used ${tt} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(ye))}this.outboundNodes=[],this.inboundNodes=[],new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(ke=>null),outputMasks:this.outputs.map(ke=>null),inputShapes:this.inputs.map(ke=>ke.shape),outputShapes:this.outputs.map(ke=>ke.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const e of this.layers)t.numDisposedVariables+=e.dispose().numDisposedVariables;for(const e of this.internalContainerRefs)t.numDisposedVariables+=e.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(e=>{e._trainableWeights.forEach(i=>i.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new kn("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const e of this.layers)t=t.concat(e.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const e of this.layers)t.push(...e.nonTrainableWeights);if(!this.trainable){const e=[];for(const i of this.layers)e.push(...i.trainableWeights);return e.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,e=!0){const i={};let r=0;const a=(n=>{const t=Object.keys(n);if(0===t.length)return!1;const e=t[0].split("/");return!isNaN(parseInt(e[e.length-1],10))})(t);a&&this.parseWeights(t);for(const u of this.layers)for(const[f,p]of u.weights.entries()){const g=a?`${p.name.split("/").slice(0,-1).join("/")+"/"}${f}`:p.originalName;if(null!=i[g])throw new kn(`Duplicate weight name: ${g}`);i[g]=p,r++}const c=[];for(const u in t){let f=u;if(null==i[u]){const p=u.split("/");f=p.slice(0,-2).concat([p[p.length-1]]).join("/")}if(null!=i[f])c.push([i[f],t[u]]);else if(e)throw new kn(`Provided weight data has no target variable: ${u}`);delete i[f]}if(e){const u=[];for(const f in i)u.push(f);if(u.length>0)throw new kn(`${u.length} of ${r} weights are not set: ${u}`)}dd(c)}parseWeights(t){for(const e in Object.keys(t)){const i=e.split("/"),r=["vars","layer_checkpoint_dependencies"],a=i.map(c=>c.startsWith("_")?c.slice(1):c).filter(c=>!r.includes(c)).join("/");a!==e&&(t[a]=t[e],delete t[e])}}updatedConfig(){const t=this.getConfig(),e={};return e.className=this.getClassName(),e.config=t,e.kerasVersion="tfjs-layers 4.20.0",e.backend="TensorFlow.js",e}toJSON(t,e=!0){const i=Gv(this.updatedConfig());return e?JSON.stringify(i):i}call(t,e){return k(()=>{t=Uo(t);const i=new vf;for(let r=0;r<this.inputs.length;++r)i.add(this.inputs[r],t[r]);return bf(this.outputs,i,e)})}computeMask(t,e){return k(()=>{let i;return t=Uo(t),i=null==e?dp(null,t.length):Uo(e),this.runInternalGraph(t,i)[1]})}computeOutputShape(t){const e=Rv(t);if(e.length!==this.inputLayers.length)throw new kn(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const i={};for(let u=0;u<e.length;u++)i[this.inputLayers[u].name+"_0_0"]=e[u];const r=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(r_);if(r.length>1)for(const u of r){const f=this.nodesByDepth[u];for(const p of f){const g=p.outboundLayer;if(-1!==this.inputLayers.map(ae=>ae.id).indexOf(g.id))continue;const v=[];for(let ae=0;ae<p.inboundLayers.length;ae++)v.push(i[`${p.inboundLayers[ae].name}_${p.nodeIndices[ae]}_${p.tensorIndices[ae]}`]);const U=Rv(g.computeOutputShape(hu(v))),q=g.inboundNodes.indexOf(p);for(let ae=0;ae<U.length;ae++)i[`${g.name}_${q}_${ae}`]=U[ae]}}const a=[],c=[];for(let u=0;u<this.outputLayers.length;u++)c.push(`${this.outputLayers[u].name}_${this.outputLayersNodeIndices[u]}_${this.outputLayersTensorIndices[u]}`);for(let u=0;u<c.length;u++){const f=c[u];od(f in i),a.push(i[f])}return hu(a)}runInternalGraph(t,e){null==e&&(e=dp(null,t.length));const i={};for(let f=0;f<this.inputs.length;++f)i[this.inputs[f].id]=[t[f],e[f]];const r=Object.keys(this.nodesByDepth).map(f=>parseInt(f,10)).sort(r_);for(const f of r){const p=this.nodesByDepth[f];for(const g of p){const v=g.outboundLayer,T=g.inputTensors,U=g.outputTensors,q=new Array;for(const ae of T)ae.id in i&&q.push(i[ae.id]);if(q.length===T.length){let te,ye,ke,tt,ae={};if(null!=g.callArgs&&(ae=g.callArgs),1===q.length){const[nt,St]=q[0];null==ae.mask&&(ae.mask=St),ke=Uo(v.call(nt,ae)),tt=Uo(v.computeMask(nt,St)),te=[nt],ye=[St]}else te=q.map(nt=>nt[0]),ye=q.map(nt=>nt[1]),null==ae.mask&&(ae.mask=ye),ke=Uo(v.call(te,ae)),tt=Uo(v.computeMask(te,ye));if(v.activityRegularizer)throw new ws("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let nt=0;nt<U.length;++nt)i[U[nt].id]=[ke[nt],tt[nt]]}}}const a=[],c=[],u=[];for(const f of this.outputs){od(f.id in i,`Could not compute output ${f.name} : ${f.id}`);const[p,g]=i[f.id];u.push(p.shape),a.push(p),c.push(g)}return[a,c,u]}buildNodeConversionMap(t){const e={};let i;for(const r of this.layers){i=r instanceof Xd?1:0;for(let a=0;a<r.inboundNodes.length;a++){const c=Xd.nodeKey(r,a);this.containerNodes.has(c)&&(e[c]=i,i+=1)}}return e}getLayer(t,e){if(null!=e)return this.findLayer(e);if(null==t)throw new kn("Provide either a layer name or layer index");if("number"==typeof t)return this.findLayer(t);for(const i of this.layers)if(i.name===t)return i;throw new kn(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new kn(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return k(()=>{const t=[];for(const e of this.layers)for(let i=0;i<e.inboundNodes.length;++i){const r=Xd.nodeKey(e,i);this.containerNodes.has(r)&&t.push(...e.calculateLosses())}return t})}getConfig(){const t={name:this.name},e=this.buildNodeConversionMap(this.layers),i=[];for(const c of this.layers){const u=c.getClassName(),f=c.getConfig(),p=[];for(let v=0;v<c.inboundNodes.length;v++){const T=c.inboundNodes[v],U=Xd.nodeKey(c,v);let q={};if(this.containerNodes.has(U)){if(T.callArgs)try{JSON.stringify(T.callArgs),q=T.callArgs}catch{console.warn(`Layer ${c.name} was passed non-serializable keyword arguments: ${T.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),q={}}if(T.inboundLayers.length>0){const ae=[];for(let te=0;te<T.inboundLayers.length;te++){const ye=T.inboundLayers[te],tt=T.tensorIndices[te];let St=e[Xd.nodeKey(ye,T.nodeIndices[te])];null==St&&(St=0),ae.push([ye.name,St,tt,q])}p.push(ae)}}}const g={};g.name=c.name,g.className=u,g.config=f,g.inboundNodes=p,i.push(g)}t.layers=i;const r=[];for(let c=0;c<this.inputLayers.length;c++){const u=this.inputLayers[c],p=Xd.nodeKey(u,this.inputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),r.push([u.name,g,this.inputLayersTensorIndices[c]])}t.inputLayers=r;const a=[];for(let c=0;c<this.outputLayers.length;c++){const u=this.outputLayers[c],p=Xd.nodeKey(u,this.outputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),a.push([u.name,g,this.outputLayersTensorIndices[c]])}return t.outputLayers=a,t}static fromConfig(t,e,i={},r=!1){const a={},c={};function u(te,ye){te.name in c?c[te.name].push(ye):c[te.name]=[ye]}function f(te,ye){const ke=[];let tt;for(const nt of ye){const St=nt[0],Xt=nt[1],rn=nt[2];if(tt=null==nt[3]?{}:nt[3],!(St in a))return void u(te,ye);const un=a[St];if(un.inboundNodes.length<=Xt)return void u(te,ye);ke.push(un.inboundNodes[Xt].outputTensors[rn])}ke.length>0&&te.apply(hu(ke),tt)}function p(te){const ye=te.name,ke=Xh(te,null!=e.customObjects?e.customObjects:{});ke.setFastWeightInitDuringBuild(r),a[ye]=ke,te.inboundNodes.forEach(nt=>{if(!(nt instanceof Array))throw new kn(`Corrupted configuration, expected array for nodeData: ${nt}`);u(ke,nt)})}const g=e.name,v=e.layers;for(const te of v)p(te);for(;!vv(c);)for(const te of v){const ye=a[te.name];if(ye.name in c){const ke=c[ye.name];delete c[ye.name];for(const tt of ke)f(ye,tt)}}const T=[],U=[],q=e.inputLayers;for(const te of q){const ye=te[0],ke=te[1],tt=te[2];od(ye in a),T.push(a[ye].inboundNodes[ke].outputTensors[tt])}const ae=e.outputLayers;for(const te of ae){const ye=te[0],ke=te[1],tt=te[2];od(ye in a),U.push(a[ye].inboundNodes[ke].outputTensors[tt])}return new t({inputs:T,outputs:U,name:g})}get stateful(){if(this._stateful)throw new kn("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){k(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function PE(n,t){return function NE(n,t,e){const i=t.length;if(null==n||Array.isArray(n)&&0===n.length)return t.map(r=>null);if(1===i)return Array.isArray(n)&&1===n.length?n:"object"==typeof n&&t[0]in n?[n[t[0]]]:[n];if(Array.isArray(n)){if(n.length!==i)throw new Error(`Provided ${e} is an array of ${n.length} element(s), but the model has ${i} outputs. Make sure a set of weights is provided for each model output.`);return n}if("object"==typeof n&&Object.keys(n).length>0&&"object"==typeof n[Object.keys(n)[0]]){const r=[];return t.forEach(a=>{r.push(a in n?n[a]:null)}),r}throw new Error(`The model has multiple (${i}) outputs, so ${e} must be either an array with ${i} elements or an object with ${t} keys. Provided ${e} not understood: ${JSON.stringify(n)}`)}(n,t,"classWeight")}function UT(n,t,e,i){return FE.apply(this,arguments)}function FE(){return(FE=(0,Q.A)(function*(n,t,e,i){if(null!=t||null!=i)throw new Error("Support sampleWeight is not implemented yet");if(null!=e){const r=k(()=>{if(1===n.shape.length)return Rd(n);if(2===n.shape.length){if(n.shape[1]>1)return $p(n,1);if(1===n.shape[1])return Dn(n,[n.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${n.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${n.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),a=Array.from(yield r.data());V(r);const c=[];return a.forEach(u=>{if(null==e[u])throw new Error(`classWeight must contain all classes in the training data. The class ${u} exists in the data but not in classWeight`);c.push(e[u])}),Yc(c,"float32")}return null})).apply(this,arguments)}function LE(n,t){return me(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function $E(n,t){let e,i;e=t.xs,i=t.ys,Se(null!=e&&null!=i,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const a=zT("input",n.inputNames,e),c=zT("output",n.outputNames,i),u=a[0].shape[0];Se(a.length===n.inputs.length,()=>`LayersModel has ${n.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(n.inputNames)})`),Se(c.length===n.outputs.length,()=>`LayersModel has ${n.outputs.length} outputs, but the dataset provides ${c.length} outputs.  (Expected output keys: ${JSON.stringify(n.outputNames)})`);for(let f=0;f<a.length;f++)Se(a[f].shape[0]===u,()=>`Batch size mismatch: input ${n.inputNames[f]} has ${a[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);for(let f=0;f<c.length;f++)Se(c[f].shape[0]===u,()=>`Batch size mismatch: output ${n.outputNames[f]} has ${c[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);return{xs:a,ys:c}}function zT(n,t,e){if(e instanceof to)return[e];if(Array.isArray(e))return Se(e.length===t.length,()=>`Received an array of ${e.length} Tensors, but expected ${t.length} to match the ${n} keys ${t}.`),e;{const i=[];for(const r of t){if(null==e[r])throw new kn(`The feature data generated by the dataset lacks the required ${n} key '${r}'.`);i.push(e[r])}return i}}function BE(){return(BE=(0,Q.A)(function*(n,t,e){const i=null!=e.batchesPerEpoch;if(Se(null!=n.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Se(null!=e,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Se(null!=e.epochs&&e.epochs>0&&Number.isInteger(e.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${e.epochs}`),Se(!i||e.batchesPerEpoch>0&&Number.isInteger(e.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${e.batchesPerEpoch}`),Se(null==e.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");n.isTraining=!0;try{const r=null!=e.validationData;let a,c;if(r)if(jT(e.validationData))Se(null==e.validationBatches||e.validationBatches>0&&Number.isInteger(e.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${e.validationBatches}`);else{const te=function rR(n){if(3===n.length)throw new ws("Validation with sample weights is not implemented yet.");return{xs:n[0],ys:n[1]}}(e.validationData);a=te.xs,c=te.ys}const u=n.makeTrainFunction(),f=n.getDedupedMetricsNames();let p;p=r?f.slice().concat(f.map(te=>"val_"+te)):f.slice();const g=Bv(e.callbacks,e.yieldEvery),v=null==e.verbose?1:e.verbose,{callbackList:T,history:U}=AT(g,v,e.epochs,null,null,function oR(n,t){let e=null;return null!=t.batchesPerEpoch?e=t.batchesPerEpoch:Number.isFinite(n.size)&&(e=n.size),e}(t,e),null,r,p);T.setModel(n),n.history=U,yield T.onTrainBegin(),n.stopTraining_=!1;let q=null==e.initialEpoch?0:e.initialEpoch,ae=yield t.iterator();for(;q<e.epochs;){const te={};yield T.onEpochBegin(q);let ye=0,ke=0;for(i||(ae=yield t.iterator());!i||ye<e.batchesPerEpoch;){const tt=yield ae.next();if(i&&tt.done){console.warn(`You provided \`batchesPerEpoch\` as ${e.batchesPerEpoch}, but your dataset iterator ran out of data after ${ye} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${e.batchesPerEpoch*e.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=tt.value){const{xs:nt,ys:St}=$E(n,tt.value),Xt={};Xt.batch=ke,Xt.size=nt[0].shape[0],yield T.onBatchBegin(ke,Xt);const rn=[];if(null!=e.classWeight){const xn=PE(e.classWeight,n.outputNames);for(let Vn=0;Vn<xn.length;++Vn)rn.push(yield UT(St[Vn],null,xn[Vn]))}const un=nt.concat(St).concat(rn),bn=u(un);V(un);for(let xn=0;xn<f.length;++xn){const Yn=bn[xn];Xt[f[xn]]=Yn,fe(Yn)}yield T.onBatchEnd(ke,Xt),h_(Xt),ke++,ye++}if(i?ye>=e.batchesPerEpoch:tt.done){if(r){let nt;nt=jT(e.validationData)?Uo(yield n.evaluateDataset(e.validationData,{batches:e.validationBatches})):Uo(n.evaluate(a,c,{batchSize:null==e.validationBatchSize?32:e.validationBatchSize,verbose:0}));for(let St=0;St<n.metricsNames.length;++St)te[`val_${n.metricsNames[St]}`]=nt[St]}break}if(n.stopTraining_)break}if(yield T.onEpochEnd(q,te),q++,n.stopTraining_)break}return yield T.onTrainEnd(),yield n.history.syncData(),n.history}finally{n.isTraining=!1}})).apply(this,arguments)}function jT(n){return"function"==typeof n.iterator}function __(){return(__=(0,Q.A)(function*(n,t,e){const i=null!=(e=e||{}).batches,r=n.testFunction;let a=[];if(e.verbose>0)throw new ws("Verbose mode is not implemented yet.");Se(!i||e.batches>0&&Number.isInteger(e.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(e.batches)}`);const c=function aR(n){return"function"==typeof n.next}(t)?t:yield t.iterator();let u=0,f=0;for(;!i||f<e.batches;){const p=yield c.next();if(a=k(()=>{if(p.value){const{xs:g,ys:v}=$E(n,p.value),T=g.concat(v),U=k(()=>r(T));if(V(T),0===f)for(let ae=0;ae<U.length;++ae)a.push(vr(0));const q=T[0].shape[0];for(let ae=0;ae<U.length;++ae){const te=U[ae],ye=a[ae];a[ae]=k(()=>Ti(a[ae],me(q,te))),f>0&&V(ye)}V(U),u+=q,++f}return a}),p.done){i&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${e.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let p=0;p<a.length;++p){const g=a[p];a[p]=B(a[p],u),V(g)}return hu(a)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function y_(n){Se(n>0&&Number.isInteger(n),()=>`batchSize is required to be a positive integer, but got ${n}`)}function Fm(n,t,e){return null==n?[null]:Array.isArray(n)?n.map(i=>mf(i,t,e-t)):mf(n,t,e-t)}function VE(n,t){return k(()=>null==n?null:Array.isArray(n)?n.map(e=>VE(e,t)):kv(n,"int32"===t.dtype?t:qi(t,"int32")))}function v_(n,t){const e=[];let i=0,r=null;for(;i<n;)r=i+t,r>=n&&(r=n),e.push([i,r]),i=r;return e}function UE(n){const t=[];n instanceof to&&(n=[n]);for(let e=0;e<n.length;++e){const i=n[e];if(1===i.rank)t.push(s_(i,1));else{if(0===i.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(i)}}return t}function wd(n,t){if(null==n)return;const e=[];if(t instanceof to)e.push(t.id);else if(Array.isArray(t))t.forEach(r=>e.push(r.id));else if(null!=t)for(const r in t)e.push(t[r].id);const i=[];if(n instanceof to)-1===e.indexOf(n.id)&&i.push(n);else if(Array.isArray(n))n.forEach(r=>{-1===e.indexOf(r.id)&&i.push(r)});else if(null!=n)for(const r in n){const a=n[r];-1===e.indexOf(a.id)&&i.push(a)}i.forEach(r=>{r.isDisposed||r.dispose()})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Kv(n){return Array.isArray(n)}function Xv(n){return!function WT(n){return n instanceof to}(n)&&!Kv(n)}function Yv(n,t,e,i=!0,r=""){if(null==t||0===t.length){if(null!=n){let c=!1;if(Kv(n)&&n.length>0)c=!0;else if(Xv(n)){for(const u in n)if(n.hasOwnProperty(u)){c=!0;break}}else c=!0;if(c)throw new kn(`Error when checking model ${r} expected no data, but got ${n}`)}return[]}if(null==n)return t.map(c=>null);let a;if(Xv(n)){a=[];for(const c of t){if(null==n[c])throw new kn(`No data provided for "${c}". Need data for each key in: ${t}`);a.push(n[c])}}else if(Kv(n)){if(n.length!==t.length)throw new kn(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${n}`);a=n}else{if(t.length>1)throw new kn(`The model ${r} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${n.shape}`);a=[n]}if(a=UE(a),null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new kn(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s). but got array with shape ${u.shape}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g>=0&&u.shape[f]!==g)throw new kn(`${r} expected a batch of elements where each example has shape [${e[c].slice(1,e[c].length)}] (i.e.,tensor shape [*,${e[c].slice(1,e[c].length)}]) but the ${r} received an input with ${u.shape[0]} examples, each with shape [${u.shape.slice(1,u.shape.length)}] (tensor shape [${u.shape}])`)}}return a}function jE(n,t,e,i=!0,r=""){let a;if(Array.isArray(n)){if(n.length!==t.length)throw new kn(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${n.length} Tensors(s).`);a=n}else{if(t.length>1)throw new kn(`The model expects ${t.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(n.shape)}.`);a=[n]}if(null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new kn(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s), but got array with shape ${JSON.stringify(u.shape)}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g!==u.shape[f])throw new kn(`Error when checking ${r}: expected ${t[c]} to have shape ${JSON.stringify(e[c])} but got array with shape ${JSON.stringify(u.shape)}.`)}}}let gp=(()=>{class n extends Xd{constructor(e){super(e),this.isTraining=!1}summary(e,i,r=console.log){if(!this.built)throw new kn("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function BT(n,t,e,i=console.log){const r=function tR(n){let t=!0;const e=[],i=[];for(const r in n.nodesByDepth)e.push(n.nodesByDepth[r]);for(const r of e){if(r.length>1||1===r.length&&r[0].inboundLayers.length>1){t=!1;break}i.push(...r)}if(t)for(const r of n.layers){let a=!1;for(const c of r.inboundNodes)if(-1!==i.indexOf(c)){if(a){t=!1;break}a=!0}if(!t)break}return t}(n),a=["Layer (type)","Input Shape","Output shape","Param #"];let c;if(r?(t=t||90,e=e||[.32,.61,.89,1]):(t=t||115,e=e||[.24,.48,.7,.8,1]),e[e.length-1]<=1&&(e=e.map(g=>Math.floor(t*g))),!r){a.push("Receives inputs"),c=[];for(const g in n.nodesByDepth)c.push(...n.nodesByDepth[g])}i("_".repeat(t)),xf(a,e,i),i("=".repeat(t));const u=n.layers;for(let g=0;g<u.length;++g)r?nR(u[g],e,i):VT(u[g],e,c,i),i((g===u.length-1?"=":"_").repeat(t));n.checkTrainableWeightsConsistency();const f=function eR(n){let t;return t=Nv(null!=n.collectedTrainableWeights?n.collectedTrainableWeights:n.trainableWeights),t}(n),p=Nv(n.nonTrainableWeights);i(`Total params: ${f+p}`),i(`Trainable params: ${f}`),i(`Non-trainable params: ${p}`),i("_".repeat(t))}(this,e,i,r)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function ZO(n){const t={Adagrad:()=>pf.adagrad(.01),Adadelta:()=>pf.adadelta(1,.95,cc()),Adam:()=>pf.adam(.001,.9,.999,cc()),Adamax:()=>pf.adamax(.002,.9,.999,cc(),0),RMSProp:()=>pf.rmsprop(.001,.9,0,cc()),SGD:()=>pf.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,n in t)return t[n]();throw new kn(`Unknown Optimizer ${n}`)}
/**
       * @license
       * Copyright 2019 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Rh))throw new kn("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let i=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new kn(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);i=e.loss.map(f=>DE(f))}else{const u=DE(e.loss);this.outputs.forEach(f=>{i.push(u)})}else{e.loss=e.loss;for(const u in e.loss)if(-1===this.outputNames.indexOf(u))throw new kn(`Unknown entry in loss dictionary: "${u}". Only expected the following keys: ${this.outputNames}`);for(const u of this.outputNames)null==e.loss[u]&&console.warn(`Output "${u}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${u} during training`),i.push(DE(e.loss[u]))}this.lossFunctions=i,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let u=0;u<this.outputs.length;++u){const f=this.internalOutputShapes[u];this.feedOutputNames.push(this.outputNames[u]),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[u])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],fp("loss",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&this.outputs.length>1&&(this.metricsTensors.push([this.lossFunctions[u],u]),this.metricsNames.push(this.outputNames[u]+"_loss"))});const a=function HT(n,t){if(null==n||Array.isArray(n)&&0===n.length)return t.map(i=>[]);let e;if("string"==typeof n||"function"==typeof n)e=[n];else{if(!Array.isArray(n)&&"object"!=typeof n)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${n}`);e=n}if(Array.isArray(e))return t.map(i=>e);{const i=[];for(const r of t){let a=e.hasOwnProperty(r)?e[r]:[];Array.isArray(a)||(a=[a]),i.push(a)}return i}}(e.metrics,this.outputNames),c=(u,f,p)=>{this.outputNames.length>1&&(f=this.outputNames[u]+"_"+f),this.metricsNames.push(f),this.metricsTensors.push([p,u])};fp("metric",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&(g=>{let T,U,q;for(const ae of g){if("string"==typeof ae&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(ae)){const ye=this.internalOutputShapes[u];let ke;1===ye[ye.length-1]||this.lossFunctions[u]===xE?-1!==["accuracy","acc"].indexOf(ae)?U=TE:-1!==["crossentropy","ce"].indexOf(ae)&&(U=PT):this.lossFunctions[u]===m_?-1!==["accuracy","acc"].indexOf(ae)?U=XO:-1!==["crossentropy","ce"].indexOf(ae)&&(U=kE):-1!==["accuracy","acc"].indexOf(ae)?U=Pm:-1!==["crossentropy","ce"].indexOf(ae)&&(U=LT),-1!==["accuracy","acc"].indexOf(ae)?ke="acc":-1!==["crossentropy","ce"].indexOf(ae)&&(ke="ce"),q=U,T=""+ke}else q=QO(ae),T=""+Hv(ae);let te;fp(T,()=>{te=q}),c(u,T,te)}})(a[u])}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,i,r={}){const a=null==r.batchSize?32:r.batchSize;y_(a);const u=this.standardizeUserDataXY(e,i,!0,a);try{const f=u[0].concat(u[1]);return this.makeTestFunction(),hu(this.testLoop(this.testFunction,f,a,r.verbose,r.steps))}finally{wd(u[0],e),wd(u[1],i)}}evaluateDataset(e,i){var r=this;return(0,Q.A)(function*(){return r.makeTestFunction(),function lR(n,t,e){return __.apply(this,arguments)}(r,e,i)})()}checkNumSamples(e,i,r,a="steps"){let c;if(null!=r){if(c=null,null!=i)throw new kn(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${i}`)}else{if(null==e)throw new kn(`Either the input data should have a defined shape, or ${a} shoud be specified.`);c=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return c}execute(e,i){if(Array.isArray(i)&&0===i.length)throw new kn("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(i),c=this.retrieveSymbolicTensors(r?i:[i]),u=new vf;if(e instanceof to&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new kn(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let p=0;p<this.inputs.length;++p)u.add(this.inputs[p],e[p])}else for(const p of this.inputs){const g=e[p.name];if(null==g)throw new kn(`No value is provided for the model's input ${p.name}`);u.add(p,g)}const f=bf(c,u);return r?f:f[0]}retrieveSymbolicTensors(e){const i=dp(null,e.length);let r=e.length;for(const a of this.layers){const c=Array.isArray(a.output)?a.output:[a.output],u=c.map(f=>f.name);for(let f=0;f<e.length;++f){const p=u.indexOf(e[f]);if(-1!==p&&(i[f]=c[p],r--),0===r)break}if(0===r)break}if(r>0){const a=[];throw i.forEach((c,u)=>{null==c&&a.push(e[u])}),new kn(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return i}predictLoop(e,i=32,r=!1){return k(()=>{const a=this.checkNumSamples(e);if(r)throw new ws("Verbose predictLoop() is not implemented yet.");const c=v_(a,i),u=this.outputs.map(f=>[]);for(let f=0;f<c.length;++f)k(()=>{const T=Fm(e,c[f][0],c[f][1]),U=[];if(Array.isArray(T))for(let ae=0;ae<T.length;++ae)U.push({key:this.inputs[ae],value:T[ae]});else U.push({key:this.inputs[0],value:T});const q=new vf(U);return bf(this.outputs,q)}).forEach((g,v)=>u[v].push(g));return hu(u.map(f=>Hl(f,0)))})}predict(e,i={}){const r=UE(e);jE(r,this.inputNames,this.feedInputShapes,!1);try{const a=null==i.batchSize?32:i.batchSize;return y_(a),this.predictLoop(r,a)}finally{wd(r,e)}}predictOnBatch(e){jE(e,this.inputNames,this.feedInputShapes,!0);const i=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,i)}standardizeUserDataXY(e,i,r=!0,a){if(null==this.optimizer_)throw new Qc("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const c=[];for(let u=0;u<this.feedOutputShapes.length;++u){const f=this.feedOutputShapes[u];c.push(this.feedLossFns[u]===m_?f.slice(0,f.length-1).concat([1]):f)}if(function cR(n,t,e){const i=Gh(n.map(a=>a.shape[0]));i.sort();const r=Gh(t.map(a=>a.shape[0]));if(r.sort(),i.length>1)throw new kn(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map(a=>a.shape))}`);if(r.length>1)throw new kn(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(a=>a.shape))}`);if(i.length>0&&r.length>0&&!Re(i,r))throw new kn(`Input Tensors should have the same number of samples as target Tensors. Found ${i[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=Yv(e,this.feedInputNames,this.feedInputShapes,!1,"input"),i=Yv(i,this.feedOutputNames,c,!1,"target")),function zE(n,t,e){const i=[Om,xE,Vv];for(let r=0;r<n.length;++r){const a=n[r],c=t[r],u=e[r];if(null!=c){if(c===Vv&&1===a.shape[a.shape.length-1])throw new kn(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==i.indexOf(c)){const f=a.shape.slice(1),p=u.slice(1);for(let g=0;g<f.length;++g){const T=p[g];if(null!=T&&f[g]!==T)throw new kn(`A target Tensor with shape ${a.shape} was passed for an output of shape ${u}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(i,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=a&&a>0&&e[0].shape[0]%a!=0)throw new kn(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,i]}standardizeUserData(e,i,r,a,c=!0,u){var f=this;return(0,Q.A)(function*(){const[p,g]=f.standardizeUserDataXY(e,i,c,u);if(null!=r)throw new Error("sample weight is not supported yet.");let v=null;if(null!=a){const T=PE(a,f.outputNames);v=[];for(let U=0;U<T.length;++U)v.push(yield UT(g[U],null,T[U]))}return[p,g,v]})()}testLoop(e,i,r,a=0,c){return k(()=>{const u=this.checkNumSamples(i,r,c,"steps"),f=[];if(a>0)throw new ws("Verbose mode is not implemented yet.");if(null!=c)throw new ws("steps mode in testLoop() is not implemented yet");{const p=v_(u,r),g=Yc(zd(0,u));for(let v=0;v<p.length;++v){const T=p[v][0],U=p[v][1],q=mf(g,T,U-T),ae=VE(i,q),te=e(ae);if(0===v)for(let ye=0;ye<te.length;++ye)f.push(vr(0));for(let ye=0;ye<te.length;++ye)f[ye]=Ti(f[ye],me(U-T,te[ye]))}for(let v=0;v<f.length;++v)f[v]=B(f[v],u)}return f})}getDedupedMetricsNames(){const e=this.metricsNames,i=[];for(let r=0;r<e.length;++r){const a=e[r];let c=a;Ll(e,a)>1&&(c+=`_${Ll(e.slice(0,r),a)}`),i.push(c)}return i}makeTrainFunction(){return e=>{const i=[],r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),c=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),u=[],p=this.collectedTrainableWeights.map(T=>T.read());return[this.optimizer_.minimize(()=>{const T=[];for(let te=0;te<this.inputs.length;++te)T.push({key:this.inputs[te],value:r[te]});const U=new vf(T),q=bf(this.outputs,U,{training:!0});let ae;for(let te=0;te<this.lossFunctions.length;++te){let ke=(0,this.lossFunctions[te])(a[te],q[te]);null!=c[te]&&(ke=LE(ke,c[te]));const tt=Ja(ke);i.push(tt),ae=0===te?ke:Ti(ae,ke)}for(let te=0;te<this.metricsTensors.length;++te){let ye;if(this.outputs.length>1&&te<this.outputs.length)ye=i[te];else{const tt=this.metricsTensors[te][1];ye=Ja((0,this.metricsTensors[te][0])(a[tt],q[tt]))}fe(ye),u.push(ye)}return ae=Ja(ae),this.calculateLosses().forEach(te=>{ae=Ti(ae,te)}),ae},!0,p)].concat(u)}}makeTestFunction(){this.testFunction=e=>k(()=>{const i=[];let r;const a=e.slice(0,this.inputs.length),c=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),u=[];for(let g=0;g<this.inputs.length;++g)u.push({key:this.inputs[g],value:a[g]});const f=new vf(u),p=bf(this.outputs,f);for(let g=0;g<this.lossFunctions.length;++g){const T=Ja((0,this.lossFunctions[g])(c[g],p[g]));r=0===g?T:Ti(r,T),i.push(r)}for(let g=0;g<this.metricsTensors.length;++g){const T=this.metricsTensors[g][1],U=Ja((0,this.metricsTensors[g][0])(c[T],p[T]));i.push(U)}return i})}fit(e,i,r={}){var a=this;return(0,Q.A)(function*(){if(a.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let c,u,f,p,g,v,T,U,q;a.isTraining=!0;try{const ae=null==r.batchSize?32:r.batchSize;y_(ae);const ye=yield a.standardizeUserData(e,i,r.sampleWeight,r.classWeight,!1,ae);c=ye[0],u=ye[1],q=ye[2];let tt,ke=!1;if(null!=r.validationData&&r.validationData.length>0){if(ke=!0,2!==r.validationData.length)throw 3===r.validationData.length?new ws("validationData including sample weights is not supported yet."):new kn(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);g=r.validationData[0],v=r.validationData[1];const Yn=yield a.standardizeUserData(g,v,null,null,!0,ae);T=Yn[0],U=Yn[1],tt=T.concat(U)}else if(null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1){ke=!0;const Vn=Math.floor(c[0].shape[0]*(1-r.validationSplit)),Yn=c[0].shape[0];T=Fm(c,Vn,Yn),f=c,c=Fm(c,0,Vn),U=Fm(u,Vn,Yn),p=u,u=Fm(u,0,Vn),tt=T.concat(U)}else null!=r.validationSteps&&(ke=!0);const nt=c.concat(u).concat(q);a.checkTrainableWeightsConsistency();const St=a.makeTrainFunction(),Xt=a.getDedupedMetricsNames();let rn,un;ke?(a.makeTestFunction(),rn=a.testFunction,un=Xt.slice().concat(Xt.map(Vn=>"val_"+Vn))):(rn=null,tt=[],un=Xt.slice());const bn=Bv(r.callbacks,r.yieldEvery);return yield a.fitLoop(St,nt,Xt,ae,r.epochs,r.verbose,bn,rn,tt,r.shuffle,un,r.initialEpoch,null,null)}finally{a.isTraining=!1,wd(c,e),wd(u,i),wd(f,e),wd(p,i),wd(T,g),wd(U,v),null!=q&&V(q)}})()}fitLoop(e,i,r,a,c,u,f,p,g,v,T,U,q,ae){var te=this;return(0,Q.A)(function*(){null==a&&(a=32),null==c&&(c=1),null==v&&(v=!0),null==U&&(U=0);let ye=!1;if(null!=p&&null!=g&&(ye=!0),null!=ae&&(ye=!0,null==q))throw new kn("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const ke=te.checkNumSamples(i,a,q,"steps_per_epoch");let tt;null!=ke&&(tt=zd(0,ke)),null==u&&(u=1);const{callbackList:nt,history:St}=AT(f,u,c,U,ke,q,a,ye,T);nt.setModel(te),te.history=St,yield nt.onTrainBegin(),te.stopTraining_=!1;for(let Xt=U;Xt<c;++Xt){yield nt.onEpochBegin(Xt);const rn={};if(null!=q)throw new ws("stepsPerEpoch mode is not implemented yet.");{if("batch"===v)throw new ws("batch shuffling is not implemneted yet");v&&X(tt);const un=Yc(tt),bn=v_(ke,a);for(let xn=0;xn<bn.length;++xn){const Vn={};if(yield nt.onBatchBegin(xn,Vn),k(()=>{const Yn=bn[xn][0],ti=bn[xn][1],ni=mf(un,Yn,ti-Yn);Vn.batch=xn,Vn.size=ti-Yn;const ri=VE(i,ni),ui=e(ri);for(let gi=0;gi<r.length;++gi){const yi=ui[gi];Vn[r[gi]]=yi,fe(yi)}if(xn===bn.length-1&&ye){const gi=te.testLoop(p,g,a);for(let si=0;si<r.length;++si){const yi=r[si],Pi=gi[si];fe(Pi),rn["val_"+yi]=Pi}}}),yield nt.onBatchEnd(xn,Vn),h_(Vn),te.stopTraining_)break}un.dispose()}if(yield nt.onEpochEnd(Xt,rn),te.stopTraining_)break}return yield nt.onTrainEnd(),yield te.history.syncData(),te.history})()}fitDataset(e,i){var r=this;return(0,Q.A)(function*(){return function sR(n,t,e){return BE.apply(this,arguments)}(r,e,i)})()}trainOnBatch(e,i){var r=this;return(0,Q.A)(function*(){const a=yield r.standardizeUserData(e,i),c=a[0],u=a[1],p=r.makeTrainFunction()(c.concat(u)),g=[];for(const v of p){const T=yield v.data();g.push(T[0])}return V(p),wd(a[0],e),wd(a[1],i),hu(g)})()}getNamedWeights(e){const i=[],r=null!=e&&e.trainableOnly,a=r?this.trainableWeights:this.weights,c=this.getWeights(r);for(let u=0;u<a.length;++u)r&&!a[u].trainable||i.push({name:a[u].originalName,tensor:c[u]});return i}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const i=Gc().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=i-Gc().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=ad(this.loss);else if(Array.isArray(this.loss)){for(const i of this.loss)if("string"!=typeof i)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(i=>ad(i))}else{const i=Object.keys(this.loss);e={};const r=this.loss;for(const a of i){if("string"!=typeof r[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=ad(r[a])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[ad(Hv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>ad(Hv(e)));{const e={};for(const i in this.metrics)e[i]=ad(Hv(this.metrics[i]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const r=Xh(ME(e.optimizer_config));let a,c;if("string"==typeof e.loss)a=bd(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(u=>bd(u));else if(null!=e.loss){a={};for(const u in e.loss)a[u]=bd(e.loss[u])}if(Array.isArray(e.metrics))c=e.metrics.map(u=>bd(u));else if(null!=e.metrics){c={};for(const u in e.metrics)c[u]=bd(e.metrics[u])}this.compile({loss:a,metrics:c,optimizer:r})}save(e,i){var r=this;return(0,Q.A)(function*(){if("string"==typeof e){const v=Sl(e);if(0===v.length)throw new kn(`Cannot find any save handlers for URL '${e}'`);if(v.length>1)throw new kn(`Found more than one (${v.length}) save handlers for URL '${e}'`);e=v[0]}if(null==e.save)throw new kn("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const a=yield Un(r.getNamedWeights(i)),p={modelTopology:r.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v4.20.0",convertedBy:null};if(null!=i&&i.includeOptimizer&&null!=r.optimizer){p.trainingConfig=r.getTrainingConfig();const v="optimizer",{data:T,specs:U}=yield Un(yield r.optimizer.getWeights(),v);a.specs.push(...U),a.data=Qo([a.data,T])}return null!=r.userDefinedMetadata&&(JO(r.userDefinedMetadata,r.name,!0),p.userDefinedMetadata=r.userDefinedMetadata),p.weightData=a.data,p.weightSpecs=a.specs,e.save(p)})()}setUserDefinedMetadata(e){JO(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}return n.className="Model",n})();Mi(gp),Mi((()=>{class n extends gp{}return n.className="Functional",n})()),Mi((()=>{class n extends gp{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:wv("sequential_"),null!=e.layers)for(const i of e.layers)this.add(i)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new kn(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const i=e instanceof n||e instanceof gp;let r;if(i){if(r=e,1!==r.outputs.length)throw new kn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==r.inputs.length)throw new kn("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new kn("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=function TO(n){if(null==n.batchShape&&null==n.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=n.batchShape&&null!=n.shape)throw new kn("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=n.batchShape;null!=n.shape&&null==t&&(t=[null].concat(n.shape));let e=n.dtype;return null==e&&(e="float32"),new yf({batchInputShape:t,name:n.name,dtype:e,sparse:n.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(i)this.outputs=r.outputs,this.inputs=r.inputs;else{if(1!==e.inboundNodes.length)throw new kn(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new kn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=wT(this.outputs[0])}this.inboundNodes=[],new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:dp(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,i){return null==this.model&&this.build(),this.model.call(e,i)}build(e){if(vo(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new gp({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,i,r=console.log){this.built||this.build(),super.summary(e,i,r)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,i,r={}){if(!this.built)throw new Qc("The model needs to be compiled before being used.");return this.model.evaluate(e,i,r)}evaluateDataset(e,i){var r=this;return(0,Q.A)(function*(){if(!r.built)throw new Qc("The model needs to be compiled before being used.");return r.model.evaluateDataset(e,i)})()}predict(e,i={}){return null==this.model&&this.build(),this.model.predict(e,i)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}fit(e,i,r={}){var a=this;return(0,Q.A)(function*(){if(!a.built)throw new Qc("The model needs to be compiled before being used.");return a.model.fit(e,i,r)})()}fitDataset(e,i){var r=this;return(0,Q.A)(function*(){if(!r.built)throw new Qc("The model needs to be compiled before being used.");return r.model.fitDataset(e,i)})()}trainOnBatch(e,i){var r=this;return(0,Q.A)(function*(){return r.model.trainOnBatch(e,i)})()}static fromConfig(e,i,r={},a=!1){let c,u={};if(i instanceof Array){if(null==i[0].className||"Merge"===i[0].className)throw new kn("Legacy serialization format not supported yet.");c=i}else Se(null!=i.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),c=i.layers,delete i.layers,u=i;const f=new e(u);if(!(f instanceof n))throw new ws(`Sequential.fromConfig called on non-Sequential input: ${f}`);for(const p of c){const v=Xh(p,void 0,a);a&&v.setFastWeightInitDuringBuild(!0),f.add(v)}return f}set stopTraining(e){if(null==this.model)throw new kn("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new kn("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const i of this.layers){const r={};r.className=i.getClassName(),r.config=i.getConfig(),e.push(r)}return{name:this.name,layers:e}}}return n.className="Sequential",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Lc extends As{getConfig(){return{}}}Mi((()=>{class n extends Lc{apply(e,i=1){return function Cm(n,t=1){if(1!==t)throw new ws(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return Hf(n)}(e,i)}}return n.className="elu",n})()),Mi((()=>{class n extends Lc{apply(e){return Jp(e)}}return n.className="selu",n})()),Mi((()=>{class n extends Lc{apply(e){return Ld(e)}}return n.className="relu",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>Uh(6,Ld(e)))}}return n.className="relu6",n})()),Mi((()=>{class n extends Lc{apply(e){return e}}return n.className="linear",n})()),Mi((()=>{class n extends Lc{apply(e){return Zu(e)}}return n.className="sigmoid",n})()),Mi((()=>{class n extends Lc{apply(e){return function Dm(n){return k(()=>{const t=Ti(.5,me(.2,n));return Cu(t,0,1)})}(e)}}return n.className="hardSigmoid",n})()),Mi((()=>{class n extends Lc{apply(e){return $h(e)}}return n.className="softplus",n})()),Mi((()=>{class n extends Lc{apply(e){return function Sm(n){return k(()=>B(n,Ti(Wl(n),1)))}(e)}}return n.className="softsign",n})()),Mi((()=>{class n extends Lc{apply(e){return af(e)}}return n.className="tanh",n})());let XT=(()=>{class n extends Lc{apply(e,i=-1){return im(e,i)}}return n.className="softmax",n})();function Cf(n){return n.getClassName()}function HE(n,t={}){return vm(n,qu.getMap().classNameMap,t,"activation")}function qh(n){if(null==n){return HE({className:"linear",config:{}})}if("string"==typeof n){const t={};return t.className=n,t.config={},HE(t)}return n instanceof Lc?n:HE(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */Mi(XT),Mi((()=>{class n extends Lc{apply(e,i=-1){return Oy(e,i)}}return n.className="logSoftmax",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>k(()=>{const i=Math.sqrt(2),r=me(.5,Ti(1,I0(B(e,i))));return me(e,r)}))}}return n.className="gelu",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>me(.5,me(e,Ti(1,af(me(Qt(B(2,Math.PI)),Ti(e,me(.044715,sh(e,3)))))))))}}return n.className="gelu_new",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>me(e,af($h(e))))}}return n.className="mish",n})()),Mi((()=>{class n extends Lc{apply(e,i=1){return k(()=>me(Zu(me(e,i)),e))}}return n.className="swish",n})());class GE extends As{}Mi((()=>{class n extends GE{constructor(e){super(),function Jv(n){if(null!=n&&"object"!=typeof n)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${n}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return k(()=>{let i=oc([1]);return this.hasL1&&(i=Ti(i,gr(me(this.l1,Wl(e))))),this.hasL2&&(i=Ti(i,gr(me(this.l2,ph(e))))),Dn(i,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,i){return new e({l1:i.l1,l2:i.l2})}}return n.className="L1L2",n})());const KE={l1l2:"L1L2"};function Zo(n){return hp(n)}function XE(n,t={}){return vm(n,qu.getMap().classNameMap,t,"regularizer")}function Ha(n){return null==n?null:"string"==typeof n?XE({className:n in KE?KE[n]:n,config:{}}):n instanceof GE?n:XE(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function Sf(n,t,e){if("number"==typeof n)return dp(n,t);if(n.length!==t)throw new kn(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${n.length} elements.`);for(let i=0;i<t;++i){const r=n[i];if(!aT(r))throw new kn(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(n)} including a non-integer number ${r}`)}return n}function Ed(n,t,e,i,r=1){if(null==n)return n;let c;return c="same"===e?n:n-(t+(t-1)*(r-1))+1,Math.floor((c+i-1)/i)}function Yd(n,t,e,i){if(null==n)return null;if("valid"===i)n=n*t+pp([e-t,0]);else{if("same"!==i)throw new kn(`Unsupport padding mode: ${i}.`);n*=t}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function tb(n,t){return k(()=>(gl(t),"channelsFirst"===t?$s(n,[0,2,3,1]):n))}function qE(n,t){return k(()=>(gl(t),"channelsFirst"===t?$s(n,[0,2,3,4,1]):n))}function nb(n,t,e,i=[1,1],r="valid",a,c,u=null){return k(()=>{if(null==a&&(a="channelsLast"),gl(a),3!==n.rank&&4!==n.rank)throw new kn(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${n.rank}.`);if(3!==t.rank&&4!==t.rank)throw new kn(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${n.rank}.`);let f=tb(n,a);if("causal"===r)throw new ws("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return f=cw({x:f,filter:t,strides:i,pad:"same"===r?"same":"valid",dilations:c,dataFormat:"NHWC",bias:e,activation:u}),"channelsFirst"===a&&(f=$s(f,[0,3,1,2])),f})}Mi((()=>{class n extends Bs{constructor(e){super(e??{}),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,i){e=br(e);let r=Ld(e);return null!=this.maxValue&&(r=Cu(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ReLU",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=br(e);return Ay(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LeakyReLU",n})()),Mi((()=>{class n extends Bs{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=el(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Ha(e.alphaRegularizer),this.alphaConstraint=kc(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new kn(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const i=(e=vo(e)).slice(1);if(null!=this.sharedAxes)for(const a of this.sharedAxes)i[a-1]=1;this.alpha=this.addWeight("alpha",i,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(null!=this.sharedAxes)for(let a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new Yl({ndim:e.length,axes:r})],this.built=!0}call(e,i){return e=br(e),Fy(e,this.alpha.read())}getConfig(){const e={alphaInitializer:_l(this.alphaInitializer),alphaRegularizer:Zo(this.alphaRegularizer),alphaConstraint:dc(this.alphaConstraint),sharedAxes:this.sharedAxes},i=super.getConfig();return Object.assign(e,i),e}}return n.className="PReLU",n})()),Mi((()=>{class n extends Bs{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new ws(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=br(e);return Hf(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ELU",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e??{}),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,i){const r=br(e);return me(r,qi(Pu(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ThresholdedReLU",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new XT).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,i){return k(()=>{let r=br(e);const a=i.mask;if(null!=a){const c=me(fr(ac(r.shape),qi(a,r.dtype)),vr(-1e9));r=Ti(r,c)}return this.axis instanceof Array?this.axis.length>1?uu(fr(r,O0(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Softmax",n})());class b_ extends Bs{constructor(t,e){if(super(e),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",b_.verifyArgs(e),this.rank=t,zo(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new ws(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Sf(e.kernelSize,t,"kernelSize"),this.strides=Sf(null==e.strides?1:e.strides,t,"strides"),this.padding=null==e.padding?"valid":e.padding,$u(this.padding),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,gl(this.dataFormat),this.activation=qh(e.activation),this.useBias=null==e.useBias||e.useBias,this.biasInitializer=el(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=kc(e.biasConstraint),this.biasRegularizer=Ha(e.biasRegularizer),this.activityRegularizer=Ha(e.activityRegularizer),this.dilationRate=Sf(null==e.dilationRate?1:e.dilationRate,t,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new kn(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new kn(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new kn(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(t){if(od("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!lE(t.kernelSize,"number",1,3))throw new kn(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Cf(this.activation),useBias:this.useBias,biasInitializer:_l(this.biasInitializer),biasRegularizer:Zo(this.biasRegularizer),activityRegularizer:Zo(this.activityRegularizer),biasConstraint:dc(this.biasConstraint)},e=super.getConfig();return Object.assign(t,e),t}}class Lm extends b_{constructor(t,e){super(t,e),this.kernel=null,Lm.verifyArgs(e),this.filters=e.filters,zo(this.filters,"filters"),this.kernelInitializer=el(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=kc(e.kernelConstraint),this.kernelRegularizer=Ha(e.kernelRegularizer)}build(t){t=vo(t);const e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new kn(`The channel dimension of the input should be defined. Found ${t[e]}`);const i=t[e],r=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[e]:i}}],this.built=!0}call(t,e){return k(()=>{let i;t=br(t);const r=null==this.bias?null:this.bias.read(),a=bv(this.activation.getClassName());if(null!=a&&2===this.rank)i=nb(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)i=function QE(n,t,e,i=1,r="valid",a,c=1){return k(()=>{if(null==a&&(a="channelsLast"),gl(a),3!==n.shape.length)throw new kn(`The input of a conv1dWithBias operation should be 3, but is ${n.shape.length} instead.`);if(3!==t.shape.length)throw new kn(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=e&&1!==e.shape.length)throw new kn(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if("channelsFirst"===a&&(n=$s(n,[0,2,1])),"causal"===r)throw new ws("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let u=Ey(n,t,i,"same"===r?"same":"valid","NWC",c);return null!=e&&(u=cd(u,e)),u})}(t,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)i=nb(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new ws("convolutions greater than 3D are not implemented yet.");i=function ZE(n,t,e,i=[1,1,1],r="valid",a,c){return k(()=>{if(null==a&&(a="channelsLast"),gl(a),4!==n.rank&&5!==n.rank)throw new kn(`conv3dWithBias expects input to be of rank 4 or 5, but received ${n.rank}.`);if(4!==t.rank&&5!==t.rank)throw new kn(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${n.rank}.`);let u=qE(n,a);if("causal"===r)throw new ws("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=yI(u,t,i,"same"===r?"same":"valid","NDHWC",c),null!=e&&(u=cd(u,e)),"channelsFirst"===a&&(u=$s(u,[0,4,1,2,3])),u})}(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(i=this.activation.apply(i))}return i})}computeOutputShape(t){t=vo(t);const e=[],i="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2);for(let a=0;a<i.length;++a){const c=Ed(i[a],this.kernelSize[a],this.padding,this.strides[a],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);e.push(c)}let r=[t[0]];return"channelsLast"===this.dataFormat?(r=r.concat(e),r.push(this.filters)):(r.push(this.filters),r=r.concat(e)),r}getConfig(){const t={filters:this.filters,kernelInitializer:_l(this.kernelInitializer),kernelRegularizer:Zo(this.kernelRegularizer),kernelConstraint:dc(this.kernelConstraint)},e=super.getConfig();return Object.assign(t,e),t}static verifyArgs(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new kn(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}let JT=(()=>{class n extends Lm{constructor(e){super(2,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!lE(e.kernelSize,"number",1,2))throw new kn(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv2D",n})();Mi(JT);let e1=(()=>{class n extends Lm{constructor(e){super(3,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new kn(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv3D",n})();Mi(e1),Mi((()=>{class n extends JT{constructor(e){if(super(e),this.inputSpec=[new Yl({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new kn(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=vo(e)).length)throw new kn("Input should have rank 4; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new kn("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Yl({ndim:4,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r=br(e);if(4!==r.shape.length)throw new kn(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f;"channelsFirst"===this.dataFormat?(u=2,f=3):(u=1,f=2);const g=a[f],T=this.kernelSize[1],q=this.strides[1],ye=[a[0],Yd(a[u],this.strides[0],this.kernelSize[0],this.padding),Yd(g,q,T,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=$s(r,[0,2,3,1]));let ke=w0(r,this.kernel.read(),ye,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(ke=$s(ke,[0,3,1,2])),null!=this.bias&&(ke=cd(ke,this.bias.read(),this.dataFormat)),null!=this.activation&&(ke=this.activation.apply(ke)),ke})}computeOutputShape(e){const i=(e=vo(e)).slice();let r,a,c;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3):(r=3,a=1,c=2);const u=this.kernelSize[0],f=this.kernelSize[1],p=this.strides[0],g=this.strides[1];return i[r]=this.filters,i[a]=Yd(i[a],p,u,this.padding),i[c]=Yd(i[c],g,f,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv2DTranspose",n})()),Mi((()=>{class n extends e1{constructor(e){if(super(e),this.inputSpec=[new Yl({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new kn(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=vo(e)).length)throw new kn("Input should have rank 5; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new kn("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Yl({ndim:5,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r=br(e);if(5!==r.shape.length)throw new kn(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f,p;"channelsFirst"===this.dataFormat?(p=2,u=3,f=4):(p=1,u=2,f=3);const v=a[u],T=a[f],q=this.kernelSize[1],ae=this.kernelSize[2],ye=this.strides[1],ke=this.strides[2],Xt=[a[0],Yd(a[p],this.strides[0],this.kernelSize[0],this.padding),Yd(v,ye,q,this.padding),Yd(T,ke,ae,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=$s(r,[0,2,3,4,1]));let rn=bI(r,this.kernel.read(),Xt,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(rn=$s(rn,[0,4,1,2,3])),null!==this.bias&&(rn=cd(rn,this.bias.read(),this.dataFormat)),null!==this.activation&&(rn=this.activation.apply(rn)),rn})}computeOutputShape(e){const i=(e=vo(e)).slice();let r,a,c,u;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3,u=4):(r=4,a=1,c=2,u=3);const f=this.kernelSize[0],p=this.kernelSize[1],g=this.kernelSize[2],v=this.strides[0],T=this.strides[1],U=this.strides[2];return i[r]=this.filters,i[a]=Yd(i[a],v,f,this.padding),i[c]=Yd(i[c],T,p,this.padding),i[u]=Yd(i[u],U,g,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv3DTranspose",n})());let r1=(()=>{class n extends Lm{constructor(e,i){if(super(e,i),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==i.filters)throw new kn("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=i.kernelInitializer||null!=i.kernelRegularizer||null!=i.kernelConstraint)throw new kn("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=i.padding&&"same"!==i.padding&&"valid"!==i.padding)throw new kn(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(i.padding)}`);this.depthMultiplier=null==i.depthMultiplier?1:i.depthMultiplier,this.depthwiseInitializer=el(i.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Ha(i.depthwiseRegularizer),this.depthwiseConstraint=kc(i.depthwiseConstraint),this.pointwiseInitializer=el(i.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Ha(i.pointwiseRegularizer),this.pointwiseConstraint=kc(i.pointwiseConstraint)}build(e){if((e=vo(e)).length<this.rank+2)throw new kn(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i]||e[i]<0)throw new kn(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[i])}`);const r=e[i],a=this.kernelSize.concat([r,this.depthMultiplier]),c=[];for(let f=0;f<this.rank;++f)c.push(1);c.push(r*this.depthMultiplier,this.filters);const u=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,u,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",c,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,u,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,u,this.biasConstraint):null,this.inputSpec=[new Yl({ndim:this.rank+2,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r;if(e=br(e),1===this.rank)throw new ws("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=$s(e,[0,2,3,1])),r=jy(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=cd(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),"channelsFirst"===this.dataFormat&&(r=$s(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=_l(this.depthwiseInitializer),e.pointwiseInitializer=_l(this.pointwiseInitializer),e.depthwiseRegularizer=Zo(this.depthwiseRegularizer),e.pointwiseRegularizer=Zo(this.pointwiseRegularizer),e.depthwiseConstraint=dc(this.depthwiseConstraint),e.pointwiseConstraint=dc(this.pointwiseConstraint),e}}return n.className="SeparableConv",n})();
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function a1(n,t,e,i){if(Array.isArray(n)){if(null!=t||null!=e)throw new kn("When inputs is an array, neither initialState or constants should be provided");null!=i&&(e=n.slice(n.length-i,n.length),n=n.slice(0,n.length-i)),n.length>1&&(t=n.slice(1,n.length)),n=n[0]}function r(a){return null==a||Array.isArray(a)?a:[a]}return{inputs:n,initialState:t=r(t),constants:e=r(e)}}function JE(n,t,e,i=!1,r,a,c=!1,u=!1){return k(()=>{const f=t.shape.length;if(f<3)throw new kn(`Input should be at least 3D, but is ${f}D.`);const p=[1,0].concat(zd(2,f));if(t=$s(t,p),null!=a)throw new ws("The rnn() functoin of the deeplearn.js backend does not support constants yet.");c&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=r&&((r=qi(qi(r,"bool"),"float32")).rank===f-1&&(r=Gl(r,-1)),r=$s(r,p)),i&&(t=Su(t,0),null!=r&&(r=Su(r,0)));const g=[];let v,T=e;const U=t.shape[0],q=Bd(t);let ae,te;null!=r&&(ae=Bd(r));for(let ye=0;ye<U;++ye){const ke=q[ye],tt=k(()=>n(ke,T));if(null==r)v=tt[0],T=tt[1];else{const nt=k(()=>{const St=ae[ye],Xt=fr(id(St),St);return{output:Ti(me(tt[0],St),me(T[0],Xt)),newStates:T.map((bn,xn)=>Ti(me(tt[1][xn],St),me(bn,Xt)))}});v=nt.output,T=nt.newStates}u&&g.push(v)}return u&&(te=fa(g,1)),[v,te,T]})}Mi((()=>{class n extends r1{constructor(e){super(2,e)}}return n.className="SeparableConv2D",n})()),Mi((()=>{class n extends Lm{constructor(e){super(1,e),n.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!lE(e.kernelSize,"number",1,1))throw new kn(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv1D",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.cropping="number"==typeof e.cropping?[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,i){return k(()=>{if(e=br(e),"channelsLast"===this.dataFormat){const r=Wd(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Wd(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const r=Wd(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Wd(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Cropping2D",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,gl(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function hE(n){ld(uE,"InterpolationFormat",n)}(this.interpolation)}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],null==e[2]?null:this.size[0]*e[2],null==e[3]?null:this.size[1]*e[3]]:[e[0],null==e[1]?null:this.size[0]*e[1],null==e[2]?null:this.size[1]*e[2],e[3]]}call(e,i){return k(()=>{let r=br(e);const a=r.shape;if("channelsFirst"===this.dataFormat){r=$s(r,[0,2,3,1]);const c=this.size[0]*a[2],u=this.size[1]*a[3],f="nearest"===this.interpolation?sd.resizeNearestNeighbor(r,[c,u]):sd.resizeBilinear(r,[c,u]);return $s(f,[0,3,1,2])}{const c=this.size[0]*a[1],u=this.size[1]*a[2];return"nearest"===this.interpolation?sd.resizeNearestNeighbor(r,[c,u]):sd.resizeBilinear(r,[c,u])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}}return n.className="UpSampling2D",n})()),Mi((()=>{class n extends b_{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=el(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=kc(e.depthwiseConstraint),this.depthwiseRegularizer=Ha(e.depthwiseRegularizer)}build(e){if((e=vo(e)).length<4)throw new kn(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const i="channelsFirst"===this.dataFormat?1:3;if(null==e[i]||e[i]<0)throw new kn(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[i]}).`);const r=e[i];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{let r=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function TR(n,t,e=[1,1],i="valid",r,a){return k(()=>{null==r&&(r="channelsLast"),gl(r);let c=tb(n,r);if(4!==n.rank)throw new kn(`Input for depthwiseConv2d is required to be 4-D, but is instead ${n.rank}-D`);if(4!==t.rank)throw new kn(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return c=mg(c,t,e,"same"===i?"same":"valid","NHWC",a),"channelsFirst"===r&&(c=$s(c,[0,3,1,2])),c})}(e=br(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=cd(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=vo(e);const r="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,c=Ed("channelsFirst"===this.dataFormat?e[2]:e[1],this.kernelSize[0],this.padding,this.strides[0]),u=Ed(r,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,c,u]:[e[0],c,u,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=_l(this.depthwiseInitializer),e.depthwiseRegularizer=Zo(this.depthwiseRegularizer),e.depthwiseConstraint=dc(this.depthwiseRegularizer),e}}return n.className="DepthwiseConv2D",n})());let $m=(()=>{class n extends Bs{constructor(e){let i;if(super(e),null==e.cell)throw new kn("cell property is missing for the constructor of RNN.");if(i=Array.isArray(e.cell)?new tx({cells:e.cell}):e.cell,null==i.stateSize)throw new kn("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=i,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Yl({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?zd(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(i=>null):this.states_}setStates(e){this.states_=e}computeOutputShape(e){Ov(e)&&(e=e[0]);let i=this.cell.stateSize;Array.isArray(i)||(i=[i]);const r=i[0];let a;if(a=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){const c=[];for(const u of i)c.push([e[0],u]);return[a].concat(c)}return a}computeMask(e,i){return k(()=>{Array.isArray(i)&&(i=i[0]);const r=this.returnSequences?i:null;if(this.returnState){const a=this.states.map(c=>null);return[r].concat(a)}return r})}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,i=[];for(let r=0;r<e;++r)i.push(null);return i}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new ws("Constants support is not implemented in RNN yet.");Ov(e)&&(e=e[0]);const r=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new Yl({shape:[r,null,...a]});const c=[e[0]].concat(e.slice(2));let u;if(this.cell.build(c),u=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Re(this.stateSpec.map(f=>f.shape[f.shape.length-1]),u))throw new kn(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=u.map(f=>new Yl({shape:[null,f]}));this.stateful&&this.resetStates()}resetStates(e,i=!1){k(()=>{if(!this.stateful)throw new Xl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(null==r)throw new kn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(a=>oc([r,a])):[oc([r,this.cell.stateSize])];else if(null==e)V(this.states_),null!=this.keptStates&&(V(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>oc([r,a])):this.states_[0]=oc([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new kn(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===i?this.keptStates.push(this.states_.slice()):V(this.states_);for(let a=0;a<this.states_.length;++a){const c=e[a],u=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,f=[r,u];if(!Re(c.shape,f))throw new kn(`State ${a} is incompatible with layer ${this.name}: expected shape=${f}, received shape=${c.shape}`);this.states_[a]=c}}this.states_=this.states_.map(a=>fe(a.clone()))})}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=a1(e,r,a,this.numConstants);e=c.inputs,r=c.initialState,a=c.constants;let u=[],f=[];if(null!=r){i.initialState=r,u=u.concat(r),this.stateSpec=[];for(const g of r)this.stateSpec.push(new Yl({shape:g.shape}));f=f.concat(this.stateSpec)}if(null!=a&&(i.constants=a,u=u.concat(a),this.numConstants=a.length),u[0]instanceof Tc){const g=[e].concat(u),v=this.inputSpec.concat(f),T=this.inputSpec;this.inputSpec=v;const U=super.apply(g,i);return this.inputSpec=T,U}return super.apply(e,i)}call(e,i){return k(()=>{const r=null==i?null:i.mask,a=null==i?null:i.training;let c=null==i?null:i.initialState;e=br(e),null==c&&(c=this.stateful?this.states_:this.getInitialState(e));const u=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(c.length!==u)throw new kn(`RNN Layer has ${u} state(s) but was passed ${c.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const f={training:a},g=JE((ae,te)=>{const ye=this.cell.call([ae].concat(te),f);return[ye[0],ye.slice(1)]},e,c,this.goBackwards,r,null,this.unroll,this.returnSequences),v=g[0],T=g[1],U=g[2];this.stateful&&this.resetStates(U,a);const q=this.returnSequences?T:v;return this.returnState?[q].concat(U):q})}getInitialState(e){return k(()=>{let i=oc(e.shape);return i=gr(i,[1,2]),i=s_(i),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?Sv(i,[1,r]):i):this.cell.stateSize>1?[Sv(i,[1,this.cell.stateSize])]:[i]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),i={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(i.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===n.className&&(i.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),i)}static fromConfig(e,i,r={}){const c=Xh(i.cell,r);return new e(Object.assign(i,{cell:c}))}}return n.className="RNN",n})();Mi($m);class ib extends Bs{}let w_=(()=>{class n extends ib{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,zo(this.units,"units"),this.activation=qh(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=el(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=el(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=el(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Ha(e.kernelRegularizer),this.recurrentRegularizer=Ha(e.recurrentRegularizer),this.biasRegularizer=Ha(e.biasRegularizer),this.kernelConstraint=kc(e.kernelConstraint),this.recurrentConstraint=kc(e.recurrentConstraint),this.biasConstraint=kc(e.biasConstraint),this.dropout=xm([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=xm([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=vo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{if(2!==e.length)throw new kn(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const a=null!=i.training&&i.training;let c;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Qh({ones:()=>id(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Qh({ones:()=>id(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));const u=this.dropoutMask,f=this.recurrentDropoutMask;c=Hd(null!=u?me(e,u):e,this.kernel.read()),null!=this.bias&&(c=cd(c,this.bias.read())),null!=f&&(r=me(r,f));let p=Ti(c,Hd(r,this.recurrentKernel.read()));return null!=this.activation&&(p=this.activation.apply(p)),[p,p]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:Cf(this.activation),useBias:this.useBias,kernelInitializer:_l(this.kernelInitializer),recurrentInitializer:_l(this.recurrentInitializer),biasInitializer:_l(this.biasInitializer),kernelRegularizer:Zo(this.kernelRegularizer),recurrentRegularizer:Zo(this.recurrentRegularizer),biasRegularizer:Zo(this.biasRegularizer),activityRegularizer:Zo(this.activityRegularizer),kernelConstraint:dc(this.kernelConstraint),recurrentConstraint:dc(this.recurrentConstraint),biasConstraint:dc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),i)}}return n.className="SimpleRNNCell",n})();Mi(w_),Mi((()=>{class n extends $m{constructor(e){e.cell=new w_(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(V(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(V(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return new e(i)}}return n.className="SimpleRNN",n})());let E_=(()=>{class n extends ib{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new kn("GRUCell does not support reset_after parameter set to true.");this.units=e.units,zo(this.units,"units"),this.activation=qh(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=qh(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=el(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=el(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=el(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Ha(e.kernelRegularizer),this.recurrentRegularizer=Ha(e.recurrentRegularizer),this.biasRegularizer=Ha(e.biasRegularizer),this.kernelConstraint=kc(e.kernelConstraint),this.recurrentConstraint=kc(e.recurrentConstraint),this.biasConstraint=kc(e.biasConstraint),this.dropout=xm([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=xm([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=vo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{if(2!==e.length)throw new kn(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=null!=i.training&&i.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Qh({ones:()=>id(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Qh({ones:()=>id(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const u=this.recurrentDropoutMask;let f,p,g;0<this.dropout&&this.dropout<1&&(e=me(e,this.dropoutMask[0]));let v=Hd(e,this.kernel.read());this.useBias&&(v=cd(v,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=me(a,u[0]));const T=this.recurrentKernel.read(),[U,q]=Lu(T,[2*this.units,this.units],T.rank-1),ae=Hd(a,U),[te,ye,ke]=Lu(v,3,v.rank-1),[tt,nt]=Lu(ae,2,ae.rank-1);f=this.recurrentActivation.apply(Ti(te,tt)),p=this.recurrentActivation.apply(Ti(ye,nt));const St=Hd(me(p,a),q);g=this.activation.apply(Ti(ke,St));const Xt=Ti(me(f,a),me(Ti(1,Wa(f)),g));return[Xt,Xt]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:Cf(this.activation),recurrentActivation:Cf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:_l(this.kernelInitializer),recurrentInitializer:_l(this.recurrentInitializer),biasInitializer:_l(this.biasInitializer),kernelRegularizer:Zo(this.kernelRegularizer),recurrentRegularizer:Zo(this.recurrentRegularizer),biasRegularizer:Zo(this.biasRegularizer),activityRegularizer:Zo(this.activityRegularizer),kernelConstraint:dc(this.kernelConstraint),recurrentConstraint:dc(this.recurrentConstraint),biasConstraint:dc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),i)}}return n.className="GRUCell",n})();Mi(E_),Mi((()=>{class n extends $m{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new E_(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(V(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(V(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="GRU",n})());let ex=(()=>{class n extends ib{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,zo(this.units,"units"),this.activation=qh(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=qh(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=el(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=el(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=el(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Ha(e.kernelRegularizer),this.recurrentRegularizer=Ha(e.recurrentRegularizer),this.biasRegularizer=Ha(e.biasRegularizer),this.kernelConstraint=kc(e.kernelConstraint),this.recurrentConstraint=kc(e.recurrentConstraint),this.biasConstraint=kc(e.biasConstraint),this.dropout=xm([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=xm([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var i;let a;if(e=vo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const c=this.biasInitializer,u=this.units;a=new((i=class extends ud{apply(p,g){const v=c.apply([u]),T=(new gE).apply([u]),U=c.apply([2*u]);return uT(uT(v,T),U)}}).className="CustomInit",i)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,i){return k(()=>{const r=null!=i.training&&i.training;if(3!==e.length)throw new kn(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const c=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Qh({ones:()=>id(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Qh({ones:()=>id(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let p,g,v,T;0<this.dropout&&this.dropout<1&&(e=me(e,this.dropoutMask[0]));let U=Hd(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=me(a,f[0])),U=Ti(U,Hd(a,this.recurrentKernel.read())),this.useBias&&(U=cd(U,this.bias.read()));const[q,ae,te,ye]=Lu(U,4,U.rank-1);p=this.recurrentActivation.apply(q),g=this.recurrentActivation.apply(ae),v=Ti(me(g,c),me(p,this.activation.apply(te))),T=this.recurrentActivation.apply(ye);const ke=me(T,this.activation.apply(v));return[ke,ke,v]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:Cf(this.activation),recurrentActivation:Cf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:_l(this.kernelInitializer),recurrentInitializer:_l(this.recurrentInitializer),biasInitializer:_l(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Zo(this.kernelRegularizer),recurrentRegularizer:Zo(this.recurrentRegularizer),biasRegularizer:Zo(this.biasRegularizer),activityRegularizer:Zo(this.activityRegularizer),kernelConstraint:dc(this.kernelConstraint),recurrentConstraint:dc(this.recurrentConstraint),biasConstraint:dc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),i)}}return n.className="LSTMCell",n})();Mi(ex),Mi((()=>{class n extends $m{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new ex(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(V(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(V(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="LSTM",n})());let tx=(()=>{class n extends ib{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const i of this.cells.slice().reverse())Array.isArray(i.stateSize)?e.push(...i.stateSize):e.push(i.stateSize);return e}call(e,i){return k(()=>{let r=e.slice(1);const a=[];for(const f of this.cells.slice().reverse())Array.isArray(f.stateSize)?a.push(r.splice(0,f.stateSize.length)):a.push(r.splice(0,1));a.reverse();const c=[];let u;for(let f=0;f<this.cells.length;++f){const p=this.cells[f];r=a[f],u=0===f?[e[0]].concat(r):[u[0]].concat(r),u=p.call(u,i),c.push(u.slice(1))}r=[];for(const f of c.slice().reverse())r.push(...f);return[u[0]].concat(r)})}build(e){let i;Ov(e)&&(e=e[0]),this.cells.forEach((r,a)=>{fp(`RNNCell_${a}`,()=>{r.build(e),i=Array.isArray(r.stateSize)?r.stateSize[0]:r.stateSize,e=[e[0],i]})}),this.built=!0}getConfig(){const e=super.getConfig(),a={cells:this.cells.map(c=>({className:c.getClassName(),config:c.getConfig()}))};return Object.assign(Object.assign({},e),a)}static fromConfig(e,i,r={}){const a=[];for(const c of i.cells)a.push(Xh(c,r));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const i of this.cells)e.push(...i.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const i of this.cells)e.push(...i.nonTrainableWeights);if(!this.trainable){const i=[];for(const r of this.cells)i.push(...r.trainableWeights);return i.concat(e)}return e}getWeights(){const e=[];for(const i of this.cells)e.push(...i.weights);return c_(e)}setWeights(e){const i=[];for(const r of this.cells){const c=e.splice(r.weights.length);for(let u=0;u<r.weights.length;++u)i.push([r.weights[u],c[u]])}dd(i)}}return n.className="StackedRNNCells",n})();function Qh(n){const{ones:t,rate:e,training:i=!1,count:r=1,dropoutFunc:a}=n,c=()=>null!=a?a(t(),e):mp(t(),e),u=()=>mh(c,t,i);return!r||r<=1?fe(u().clone()):Array(r).fill(void 0).map(u).map(p=>fe(p.clone()))}
/**
       * @license
       * Copyright 2020 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */Mi(tx);let c1=(()=>{class n extends $m{constructor(e){if(e.unroll)throw new ws("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ws("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Yl({ndim:5})]}call(e,i){return k(()=>{if(null!=this.cell.dropoutMask&&(V(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(V(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),i&&i.constants)throw new kn("ConvRNN2D cell does not support constants");return super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})})}computeOutputShape(e){let i=this.computeSingleOutputShape(e);return this.returnSequences||(i=[i[0],...i.slice(2)]),this.returnState&&(i=[i,...Array(2).fill([e[0],...i.slice(-3)])]),i}getInitialState(e){return k(()=>{const{stateSize:i}=this.cell,a=this.computeSingleOutputShape(e.shape),u=oc([a[0],...a.slice(2)]);return Array.isArray(i)?Array(i.length).fill(u):[u]})}resetStates(e,i=!1){k(()=>{if(!this.stateful)throw new Xl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),c=[a[0],...a.slice(2)];if(null==r[0])throw new kn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(()=>oc(c)):[oc(c)];else if(null==e)V(this.states_),null!=this.keptStates&&(V(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>oc(c)):this.states_[0]=oc(c);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new kn(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);i?this.keptStates.push(this.states_.slice()):V(this.states_);for(let f=0;f<this.states_.length;++f){const p=e[f],g=c;if(!Re(p.shape,g))throw new kn(`State ${f} is incompatible with layer ${this.name}: expected shape=${g}, received shape=${p.shape}`);this.states_[f]=p}}this.states_=this.states_.map(f=>fe(f.clone()))})}computeSingleOutputShape(e){const{dataFormat:i,filters:r,kernelSize:a,padding:c,strides:u,dilationRate:f}=this.cell,p="channelsFirst"===i,v=e[p?4:3],T=Ed(e[p?3:2],a[0],c,u[0],f[0]),U=Ed(v,a[1],c,u[1],f[1]);return[...e.slice(0,2),...p?[r,T,U]:[T,U,r]]}}return n.className="ConvRNN2D",n})(),u1=(()=>{class n extends ex{constructor(e){const{filters:i,kernelSize:r,strides:a,padding:c,dataFormat:u,dilationRate:f}=e;super(Object.assign(Object.assign({},e),{units:i})),this.filters=i,zo(this.filters,"filters"),this.kernelSize=Sf(r,2,"kernelSize"),this.kernelSize.forEach(p=>zo(p,"kernelSize")),this.strides=Sf(a||1,2,"strides"),this.strides.forEach(p=>zo(p,"strides")),this.padding=c||"valid",$u(this.padding),this.dataFormat=u||"channelsLast",gl(this.dataFormat),this.dilationRate=Sf(f||1,2,"dilationRate"),this.dilationRate.forEach(p=>zo(p,"dilationRate"))}build(e){var i;e=vo(e);const r="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[r])throw new kn(`The channel dimension of the input should be defined. Found ${e[r]}`);const u=this.kernelSize.concat([e[r],4*this.filters]);this.kernel=this.addWeight("kernel",u,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const f=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",f,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let p;if(this.unitForgetBias){const g=this.biasInitializer,v=this.filters;p=new((i=class extends ud{apply(U,q){return o_([g.apply([v]),ac([v]),g.apply([2*v])])}}).className="CustomInit",i)}else p=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,p,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,i){return k(()=>{if(3!==e.length)throw new kn(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=i.training||!1,a=e[0],c=e[1],u=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Qh({ones:()=>id(a),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const p=this.dropoutMask,g=(Bi,Qi,Wi)=>Qi&&Qi[Wi]?me(Qi[Wi],Bi):Bi;let v=g(a,p,0),T=g(a,p,1),U=g(a,p,2),q=g(a,p,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Qh({ones:()=>id(c),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const ae=this.recurrentDropoutMask;let te=g(c,ae,0),ye=g(c,ae,1),ke=g(c,ae,2),tt=g(c,ae,3);const[St,Xt,rn,un]=Lu(this.kernel.read(),4,3),[bn,xn,Vn,Yn]=this.useBias?Lu(this.bias.read(),4):[null,null,null,null];v=this.inputConv(v,St,bn,this.padding),T=this.inputConv(T,Xt,xn,this.padding),U=this.inputConv(U,rn,Vn,this.padding),q=this.inputConv(q,un,Yn,this.padding);const[ti,ni,ri,ui]=Lu(this.recurrentKernel.read(),4,3);te=this.recurrentConv(te,ti),ye=this.recurrentConv(ye,ni),ke=this.recurrentConv(ke,ri),tt=this.recurrentConv(tt,ui);const gi=this.recurrentActivation.apply(Ti(v,te)),si=this.recurrentActivation.apply(Ti(T,ye)),yi=Ti(me(si,u),me(gi,this.activation.apply(Ti(U,ke)))),Pi=me(this.recurrentActivation.apply(Ti(q,tt)),this.activation.apply(yi));return[Pi,Pi,yi]})}getConfig(){const r=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(super.getConfig(),["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),a)}inputConv(e,i,r,a){const c=Fh(e,i,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return r?cd(c,r,this.dataFormat):c}recurrentConv(e,i){return Fh(e,i,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}return n.className="ConvLSTM2DCell",n})();Mi(u1),Mi((()=>{class n extends c1{constructor(e){const i=new u1(e);super(Object.assign(Object.assign({},e),{cell:i}))}static fromConfig(e,i){return new e(i)}}return n.className="ConvLSTM2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let nx=(()=>{class n extends Bs{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const i=e.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(null==this.noiseShape[a]?i[a]:this.noiseShape[a]);return r}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);if(0<this.rate&&this.rate<1){const a=null!=i.training&&i.training,c=this.getNoiseShape(r);return mh(()=>mp(r,this.rate,c,this.seed),()=>r,a)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},i=super.getConfig();return Object.assign(e,i),e}dispose(){return super.dispose()}}return n.className="Dropout",n})();Mi(nx),Mi((()=>{class n extends nx{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const i=e.shape;return[i[0],1,i[2]]}}return n.className="SpatialDropout1D",n})()),Mi((()=>{class n extends Bs{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=[i,e.inputDim]}this.units=e.units,zo(this.units,"units"),this.activation=qh(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=el(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=el(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=kc(e.kernelConstraint),this.biasConstraint=kc(e.biasConstraint),this.kernelRegularizer=Ha(e.kernelRegularizer),this.biasRegularizer=Ha(e.biasRegularizer),this.activityRegularizer=Ha(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const i=(e=vo(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[i,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:i}}],this.built=!0}computeOutputShape(e){const i=(e=vo(e)).slice();return i[i.length-1]=this.units,i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),a=bv(this.activation.getClassName());let c;return null!=a?c=Hd(r,this.kernel.read(),a,this.bias?this.bias.read():null):(c=Hd(r,this.kernel.read()),null!=this.bias&&(c=cd(c,this.bias.read())),null!=this.activation&&(c=this.activation.apply(c))),c})}getConfig(){const e={units:this.units,activation:Cf(this.activation),useBias:this.useBias,kernelInitializer:_l(this.kernelInitializer),biasInitializer:_l(this.biasInitializer),kernelRegularizer:Zo(this.kernelRegularizer),biasRegularizer:Zo(this.biasRegularizer),activityRegularizer:Zo(this.activityRegularizer),kernelConstraint:dc(this.kernelConstraint),biasConstraint:dc(this.biasConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dense",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=vo(e);for(const i of e.slice(1))if(null==i)throw new kn(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Kh(e,1)]}call(e,i){return k(()=>{this.invokeCallHook(e,i);let r=br(e);if("channelsFirst"===this.dataFormat&&r.rank>1){const a=[0];for(let c=2;c<r.rank;++c)a.push(c);a.push(1),r=$s(r,a)}return function lO(n){if(n.rank<=1)throw new kn(`batchFlatten requires a minimum rank of 2. Got rank: ${n.rank}.`);const t=[n.shape[0],Kh(n.shape,1)];return Dn(n,t)}(r)})}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const i=super.getConfig();return Object.assign(e,i),e}}return n.className="Flatten",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.supportsMasking=!0,this.activation=qh(e.activation)}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return this.activation.apply(r)})}getConfig(){const e={activation:Cf(this.activation)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Activation",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,i){return k(()=>function oO(n,t){return k(()=>{if(2!==n.shape.length)throw new kn(`repeat() expects a rank-2 tensor, but received a rank-${n.shape.length} tensor.`);return Sv(s_(n,1),[1,t,1])})}(e=br(e),this.n))}getConfig(){const e={n:this.n},i=super.getConfig();return Object.assign(e,i),e}}return n.className="RepeatVector",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.targetShape=e.targetShape;for(let i=0;i<this.targetShape.length;++i)this.isUnknown(this.targetShape[i])&&(this.targetShape[i]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,i){const r="Total size of new array must be unchanged.",a=i.slice();let c=1,u=null;for(let p=0;p<a.length;++p){const g=a[p];if(this.isUnknown(g)){if(null!==u)throw new kn("Can only specifiy one unknown dimension.");u=p}else c*=g}const f=Kh(e);if(null!==u){if(0===c||f%c!=0)throw new kn(r);a[u]=f/c}else if(f!==c)throw new kn(r);return a}computeOutputShape(e){let i=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){i=!0;break}return i?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),a=r.shape,c=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return Dn(r,c)})}getConfig(){const e={targetShape:this.targetShape},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Reshape",n})()),Mi((()=>{class n extends Bs{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const i=zd(1,e.dims.length+1);if(!Re(e.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Yl({ndim:this.dims.length+1})]}computeOutputShape(e){const i=(e=vo(e)).slice();return this.dims.forEach((r,a)=>{i[a+1]=e[r]}),i}call(e,i){return $s(br(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Permute",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e??{}),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={maskValue:this.maskValue};return Object.assign(i,e),i}computeMask(e,i){const r=br(e);return og(Qp(r,this.maskValue),-1)}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),u=og(Qp(r,this.maskValue),-1,!0);return me(r,qi(u,r.dtype))})}}return n.className="Masking",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Bs{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=null==e.inputLength?[i,null]:[i].concat(Uo(e.inputLength))}this.inputDim=e.inputDim,zo(this.inputDim,"inputDim"),this.outputDim=e.outputDim,zo(this.outputDim,"outputDim"),this.embeddingsInitializer=el(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Ha(e.embeddingsRegularizer),this.activityRegularizer=Ha(e.activityRegularizer),this.embeddingsConstraint=kc(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,i){return k(()=>this.maskZero?(e=br(e),Qp(e,Ri(e))):null)}computeOutputShape(e){if(e=vo(e),null==this.inputLength)return[...e,this.outputDim];const i=Uo(this.inputLength);if(i.length!==e.length-1)throw new kn(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let a=0;a<i.length;++a){const c=i[a],u=e[a+1];if(null!=c&&null!=u&&c!==u)throw new kn(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==c&&(i[r]=u),r++}}return[e[0],...i,this.outputDim]}call(e,i){return k(()=>{this.invokeCallHook(e,i);let r=br(e);"int32"!==r.dtype&&(r=fh(r,"int32"));const a=kv(this.embeddings.read(),Dn(r,[r.size]));return Dn(a,vo(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:_l(this.embeddingsInitializer),embeddingsRegularizer:Zo(this.embeddingsRegularizer),activityRegularizer:Zo(this.activityRegularizer),embeddingsConstraint:dc(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Embedding",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class _p extends Bs{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new ws}computeElementwiseOpOutputShape(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;const i=t.slice(0,t.length-e.length);for(let r=0;r<e.length;++r){const a=t[t.length-e.length+r],c=e[r];if(null==a||null==c||a<0||c<0)i.push(null);else if(1===a)i.push(c);else if(1===c)i.push(a);else{if(a!==c)throw new kn("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));i.push(a)}}return i}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[vo(t)]),t.length<2)throw new kn(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let e=[];for(const a of t)null!=a&&null!==a[0]&&e.push(a[0]);if(e=Gh(e),e.length>1)throw new kn(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let i=null==t[0]?null:t[0].slice(1);for(let a=1;a<t.length;++a){const c=null==t[a]?null:t[a].slice(1);i=this.computeElementwiseOpOutputShape(i,c)}const r=t.map(a=>a.length);this.reshapeRequired=-1!==t.indexOf(null)||1!==Gh(r).length}call(t,e){return k(()=>{if(this.reshapeRequired){const i=[],r=t.map(a=>a.rank);if(-1===r.indexOf(null)){const a=pp(r);for(let c of t){const u=c.rank;for(let f=0;f<a-u;++f)c=s_(c,1);i.push(c)}return this.mergeFunction(i)}{let a=!1;for(const f of t){const p=f.rank;if(null==p){const g=f.shape,v=g[0],T=g.slice(1).concat([v]);let U=Dn(f,[v].concat(Kh(g.slice(1))));U=$s(U,[1,0]),U=Dn(U,T),i.push(U),a=!0}else if(p>1){const g=zd(1,p).concat([0]);i.push($s(f,g)),a=!0}else i.push(f)}let c=this.mergeFunction(i);const u=c.rank;if(a)if(null==u){const f=c.shape,g=f[f.length-1],v=[g].concat(f.slice(0,f.length-1));c=Dn($s(Dn(c,[-1,g]),[1,0]),v)}else if(u>1){const f=[u-1].concat(zd(0,u-1));c=$s(c,f)}return c}}return this.mergeFunction(t)})}computeOutputShape(t){let e;e=null==t[0]?null:t[0].slice(1);for(let r=1;r<t.length;++r){const a=null==t[r]?null:t[r].slice(1);e=this.computeElementwiseOpOutputShape(e,a)}let i=[];for(const r of t)null!=r&&null!==r[0]&&i.push(r[0]);return i=Gh(i),e=1===i.length?i.concat(e):[null].concat(e),e}computeMask(t,e){return k(()=>{if(null==e)return null;if(!Array.isArray(e))throw new kn("`mask` should be an Array");if(!Array.isArray(t))throw new kn("`inputs` should be an Array");if(e.length!==t.length)throw new kn(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${e.length})`);if(e.every(r=>null==r))return null;let i=(e=e.map(r=>null==r?r:Gl(r,0)))[0];for(let r=1;r<e.length-1;++r)i=Vh(i,e[r]);return i})}}function gh(n,t){for(;n<0;)n+=t;return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function x_(n,t,e,i,r,a=.001){let c;if(2===n.rank)c=_C(n,t,e,i,r,a);else if(3===n.rank)c=wy(n,t,e,i,r,a);else{if(4!==n.rank)throw new ws(`batchNormalization is not implemented for array of rank ${n.rank} yet`);c=hg(n,t,e,i,r,a)}return c}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function ub(n,t,e,i,r,a){return k(()=>{let c;gl(r),fE(a),$u(i),null==e&&(e=[1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=tb(n,r);const u="same"===i?"same":"valid";return c="max"===a?bg(n,t,e,u):Ph(n,t,e,u),"channelsFirst"===r&&(c=$s(c,[0,3,1,2])),c})}function C_(n,t,e,i,r,a){return k(()=>{let c;gl(r),fE(a),$u(i),null==e&&(e=[1,1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=qE(n,r);const u="same"===i?"same":"valid";return c="max"===a?JC(n,t,e,u):g0(n,t,e,u),"channelsFirst"===r&&(c=$s(c,[0,4,1,2,3])),c})}Mi((()=>{class n extends _p{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=Ti(i,e[r]);return i})}}return n.className="Add",n})()),Mi((()=>{class n extends _p{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=me(i,e[r]);return i})}}return n.className="Multiply",n})()),Mi((()=>{class n extends _p{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=Ti(i,e[r]);return me(1/e.length,i)})}}return n.className="Average",n})()),Mi((()=>{class n extends _p{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=Xc(i,e[r]);return i})}}return n.className="Maximum",n})()),Mi((()=>{class n extends _p{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=Uh(i,e[r]);return i})}}return n.className="Minimum",n})()),Mi((()=>{class n extends _p{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new kn("A `Concatenate` layer should be called on a list of at least 2 inputs");let i=!0;for(const a of e)if(null!=a){i=!1;break}if(i)return;const r=[];for(let a=0;a<e.length;++a){const c=e[a].slice();c.splice(this.axis,1);let u=!1;for(const f of r)if(Re(f,c)){u=!0;break}u||r.push(c)}if(r.length>1)throw new kn("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return k(()=>o_(e,this.axis))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new kn("A `Concatenate` layer should be called on a list of inputs.");const i=e,r=i[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const c of i.slice(1)){if(null==r[a]||null==c[a]){r[a]=null;break}r[a]+=c[a]}return r}computeMask(e,i){if(null==i)return null;if(!Array.isArray(i))throw new kn("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new kn("`inputs` should be an array for Concatenate");if(i.length!==e.length)throw new kn(`Mismatch in the length of mask (${i.length}) and the legnth of inputs (${e.length})`);return k(()=>{let r=!0;if(i.forEach(u=>{null==u||(r=!1)}),r)return null;const a=[];for(let u=0;u<e.length;++u)a.push(null==i[u]?qi(id(e[u]),"bool"):i[u].rank<e[u].rank?Gl(i[u],-1):i[u]);const c=Hl(a,this.axis);return sg(c,-1,!1)})}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Concatenate",n})()),Mi((()=>{class n extends _p{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Se(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0],r=e[1];if(i.length>3||r.length>3)throw new ws("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);if(i[a[0]]!==r[a[1]])throw new kn(`Dimension incompatibility: ${i[a[0]]} !== ${r[a[1]]}`)}mergeFunction(e){if(2!==e.length)throw new kn(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let a,i=e[0],r=e[1];return a=Array.isArray(this.axes)?this.axes.map((c,u)=>gh(c,e[u].shape.length)):[gh(this.axes,i.shape.length),gh(this.axes,r.shape.length)],this.normalize&&(i=f_(i,a[0]),r=f_(r,a[1])),function BR(n,t,e){if(n.shape.length>3||t.shape.length>3)throw new ws("batchDot is not implemented for tensors of 4D or higher rank yet");if(Se(n.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${n.shape.length}`),Se(n.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),"number"==typeof e&&(e=[e,e]),"complex64"===n.dtype||"complex64"===t.dtype)throw new ws("batchDot is not implemented for complex64-type Tensors yet.");const i=n.shape.length,r=t.shape.length;null==e&&(e=[i-1,r-2]);const a=e;return k(()=>{let c,u;if(i>r){c=i-r;const f=[];for(let p=0;p<c;++p)f.push(1);t=Dn(t,t.shape.concat(f))}else if(r>i){c=r-i;const f=[];for(let p=0;p<c;++p)f.push(1);n=Dn(n,n.shape.concat(f))}else c=0;if(u=2===n.shape.length&&2===t.shape.length?a[0]===a[1]?gr(me(n,t),a[0]):gr(me($s(n,[1,0]),t),a[1]):bs(n,t,a[0]!==n.shape.length-1,a[1]===t.shape.length-1),c>0){let f;f=i>r?i+r-3:i-1;const p=[];for(let g=f;g<f+c;++g)p.push(g);u=tp(u,p)}return 1===u.shape.length&&(u=Gl(u,1)),u})}(i,r,a)}interpretAxes(e,i){let r;return r=Array.isArray(this.axes)?this.axes:[gh(this.axes,e.length),gh(this.axes,i.length)],r}computeOutputShape(e){Se(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0].slice(),r=e[1].slice();if(i.length>3||r.length>3)throw new ws("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);i.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const c=i.concat(r);return 1===c.length&&c.push(1),c}computeMask(e,i){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dot",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Bs{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={stddev:this.stddev};return Object.assign(i,e),i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return mh(()=>Ti(Dv(r.shape,0,this.stddev),r),()=>r,i.training||!1)})}}return n.className="GaussianNoise",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return this.rate>0&&this.rate<1?mh(()=>{const c=Math.sqrt(this.rate/(1-this.rate));return me(r,Dv(r.shape,1,c))},()=>r,i.training||!1):r})}}return n.className="GaussianDropout",n})()),Mi((()=>{class n extends Bs{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||br(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return k(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return mh(()=>{const c=br(e),p=-1.7580993408473766;let g=Xf(zh(r),this.rate);g=fh(g,"float32");const v=((1-this.rate)*(1+this.rate*p**2))**-.5,T=-v*p*this.rate,U=Ti(me(c,g),me(Ti(g,-1),p));return Ti(me(U,v),T)},()=>br(e),i.training||!1)}return e})}}return n.className="AlphaDropout",n})()),Mi((()=>{class n extends Bs{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=el(e.betaInitializer||"zeros"),this.gammaInitializer=el(e.gammaInitializer||"ones"),this.movingMeanInitializer=el(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=el(e.movingVarianceInitializer||"ones"),this.betaConstraint=kc(e.betaConstraint),this.gammaConstraint=kc(e.gammaConstraint),this.betaRegularizer=Ha(e.betaRegularizer),this.gammaRegularizer=Ha(e.gammaRegularizer)}build(e){e=vo(e);const i=this.axis>=0?this.axis:this.axis+e.length,r=e[i];if(null==r)throw new kn(`Axis ${i} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Yl({ndim:e.length,axes:{[i]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,i){return k(()=>{const r=null!=i.training&&i.training,a=br(e),c=a.shape,u=c.length,f=zd(0,u),p=this.axis>=0?this.axis:this.axis+u;f.splice(p,1);const g=dp(1,u);g[p]=c[p];const v=f.slice();v.sort();const T=!Re(v,zd(0,u).slice(0,u-1));if(!r)return(()=>{if(T){const tt=Dn(this.movingMean.read(),g),nt=Dn(this.movingVariance.read(),g),St=this.center?Dn(this.beta.read(),g):null,Xt=this.scale?Dn(this.gamma.read(),g):null;return x_(a,tt,nt,St,Xt,this.epsilon)}return x_(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[q,ae,te]=function h1(n,t,e,i,r=.001){return Re(i.slice().sort(),zd(0,n.rank-1))?function sx(n,t,e,i,r=.001){return k(()=>{const a=wg(n,i),c=a.mean,u=a.variance;return[x_(n,c,u,e,t,r),c,u]})}(n,t,e,i,r):function VR(n,t,e,i,r=.001){return k(()=>{const a=wg(n,i),c=a.mean,u=a.variance,f=[];for(const q of zd(0,n.rank))-1!==i.indexOf(q)?f.push(1):f.push(n.shape[q]);const p=Dn(c,f),g=Dn(u,f),v=null==t?null:Dn(t,f),T=null==e?null:Dn(e,f);return[x_(n,p,g,T,v,r),c,u]})}(n,t,e,i,r)}(a,this.gamma.read(),this.beta.read(),f,this.epsilon),ye=(tt,nt,St)=>{k(()=>{const Xt=1-St,rn=tt.read(),un=me(fr(rn,nt),Xt);tt.write(fr(rn,un))})};return(()=>{ye(this.movingMean,ae,this.momentum),ye(this.movingVariance,te,this.momentum)})(),q})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:_l(this.betaInitializer),gammaInitializer:_l(this.gammaInitializer),movingMeanInitializer:_l(this.movingMeanInitializer),movingVarianceInitializer:_l(this.movingVarianceInitializer),betaRegularizer:Zo(this.betaRegularizer),gammaRegularizer:Zo(this.gammaRegularizer),betaConstraint:dc(this.betaConstraint),gammaConstraint:dc(this.gammaConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BatchNormalization",n})()),Mi((()=>{class n extends Bs{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const i of this.axis)if(!Number.isInteger(i))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=el(e.betaInitializer||"zeros"),this.gammaInitializer=el(e.gammaInitializer||"ones"),this.betaRegularizer=Ha(e.betaRegularizer),this.gammaRegularizer=Ha(e.gammaRegularizer),this.supportsMasking=!0}build(e){const i=(e=vo(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let c=0;c<this.axis.length;++c)this.axis[c]<0&&(this.axis[c]+=i);for(const c of this.axis)if(c<0||c>=i)throw new Error(`Invalid axis: ${c}`);if(this.axis.length!==Gh(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(c=>e[c]),a=!0;this.gamma=this.scale?this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):null,this.beta=this.center?this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):null,this.built=!0}call(e,i){const r=br(e),a=r.shape,c=a.length;return k(()=>{let{mean:f,variance:p}=wg(r,this.axis,!0);const g=dp(1,c);for(const te of this.axis)g[te]=a[te];const v=te=>null!=te&&te.shape.length!==c?Dn(te,g):te;let T=this.scale?v(this.gamma.read()):null,U=this.center?v(this.beta.read()):null;const q=[],ae=[];for(let te=0;te<c;++te)-1!==this.axis.indexOf(te)?(q.push(a[te]),ae.push(1)):(q.push(1),ae.push(a[te]));return f=ed(f,q),p=ed(p,q),null!=T&&(T=ed(T,ae)),null!=U&&(U=ed(U,ae)),x_(r,f,p,U,T,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:_l(this.betaInitializer),gammaInitializer:_l(this.gammaInitializer),betaRegularizer:Zo(this.betaRegularizer),gammaRegularizer:Zo(this.gammaRegularizer)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LayerNormalization",n})()),Mi((()=>{class n extends Bs{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new kn(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let i,r;if("number"==typeof e.padding[0])i=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new kn(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(i=e.padding[0],2!==e.padding[1].length)throw new kn(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[i,r]}this.inputSpec=[new Yl({ndim:4})]}computeOutputShape(e){let i,r;return e=vo(e),"channelsFirst"===this.dataFormat?(i=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],i,r]):(i=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],i,r,e[3]])}call(e,i){return k(()=>function ox(n,t,e){return k(()=>{if(4!==n.rank)throw new kn(`temporalPadding expects input tensor to be 4-D, but received a ${n.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new kn("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==e&&(e="channelsLast"),"channelsLast"!==e&&"channelsFirst"!==e)throw new kn(`Unknown data format: ${e}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let i;return i="channelsFirst"===e?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],ah(n,i)})}(br(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ZeroPadding2D",n})());class db extends Bs{constructor(t){if(null==t.poolSize&&(t.poolSize=2),super(t),"number"==typeof t.poolSize)this.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new kn(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);this.poolSize=t.poolSize}if(zo(this.poolSize,"poolSize"),null==t.strides)this.strides=this.poolSize;else if("number"==typeof t.strides)this.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new kn(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);this.strides=t.strides}zo(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,$u(this.padding),this.inputSpec=[new Yl({ndim:3})]}computeOutputShape(t){const e=Ed((t=vo(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]}call(t,e){return k(()=>{this.invokeCallHook(t,e),t=s_(br(t),2);const i=this.poolingFunction(br(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return tp(i,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends db{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),ub(e,i,r,a,c,"max")}}return n.className="MaxPooling1D",n})()),Mi((()=>{class n extends db{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),ub(e,i,r,a,c,"avg")}}return n.className="AveragePooling1D",n})());class f1 extends Bs{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new kn(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];zo(this.poolSize,"poolSize"),zo(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,gl(this.dataFormat),$u(this.padding),this.inputSpec=[new Yl({ndim:4})]}computeOutputShape(t){t=vo(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2];return e=Ed(e,this.poolSize[0],this.padding,this.strides[0]),i=Ed(i,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i]:[t[0],e,i,t[3]]}call(t,e){return k(()=>(this.invokeCallHook(t,e),this.poolingFunction(br(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends f1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),ub(e,i,r,a,c,"max")}}return n.className="MaxPooling2D",n})()),Mi((()=>{class n extends f1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),ub(e,i,r,a,c,"avg")}}return n.className="AveragePooling2D",n})());class p1 extends Bs{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new kn(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];zo(this.poolSize,"poolSize"),zo(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,gl(this.dataFormat),$u(this.padding),this.inputSpec=[new Yl({ndim:5})]}computeOutputShape(t){t=vo(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[4]:t[3];return e=Ed(e,this.poolSize[0],this.padding,this.strides[0]),i=Ed(i,this.poolSize[1],this.padding,this.strides[1]),r=Ed(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i,r]:[t[0],e,i,r,t[4]]}call(t,e){return k(()=>(this.invokeCallHook(t,e),this.poolingFunction(br(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends p1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),C_(e,i,r,a,c,"max")}}return n.className="MaxPooling3D",n})()),Mi((()=>{class n extends p1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return gl(c),$u(a),C_(e,i,r,a,c,"avg")}}return n.className="AveragePooling3D",n})());class HR extends Bs{constructor(t){super(t),this.inputSpec=[new Yl({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,e){throw new ws}}Mi((()=>{class n extends HR{constructor(e){super(e||{})}call(e,i){return k(()=>{const r=br(e);return Ja(r,1)})}}return n.className="GlobalAveragePooling1D",n})()),Mi((()=>{class n extends HR{constructor(e){super(e||{})}call(e,i){return k(()=>{const r=br(e);return Nu(r,1)})}}return n.className="GlobalMaxPooling1D",n})());class g1 extends Bs{constructor(t){super(t),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,gl(this.dataFormat),this.inputSpec=[new Yl({ndim:4})]}computeOutputShape(t){return"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]}call(t,e){throw new ws}getConfig(){const t={dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends g1{call(e,i){return k(()=>{const r=br(e);return Ja(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalAveragePooling2D",n})()),Mi((()=>{class n extends g1{call(e,i){return k(()=>{const r=br(e);return Nu(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalMaxPooling2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class _1 extends Bs{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(t){null!=this.layer&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},e=super.getConfig();return Object.assign(t,e),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,e,i={}){const a=Xh(e.layer,i);delete e.layer;const c={layer:a};return Object.assign(c,e),new t(c)}}Mi((()=>{class n extends _1{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=vo(e)).length<3)throw new kn(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const i=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(i),this.layer.built=!0),super.build(e)}computeOutputShape(e){const i=[(e=vo(e))[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(i);return[r[0],e[1]].concat(r.slice(1))}call(e,i){return k(()=>JE((u,f)=>[br(this.layer.call(u,i)),[]],e=br(e),[],!1,null,null,!1,!0)[1])}}return n.className="TimeDistributed",n})()),Mi((()=>{class n extends _1{constructor(e){super(e);const i=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=i,this.forwardLayer=Xh(r),i.goBackwards=!0!==i.goBackwards;const a={};if(a.className=e.layer.getClassName(),a.config=i,this.backwardLayer=Xh(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function y1(n){ld(iT,"BidirectionalMergeMode",n)}(this.mergeMode),e.weights)throw new ws("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const r=Math.floor(e.length/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let r,a,c,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState&&(c=i.slice(1)),r=i[0],"concat"===this.mergeMode?(r[r.length-1]*=2,a=[r]):a=null==this.mergeMode?[r,r.slice()]:[r],this.returnState?null==this.mergeMode?a.concat(c).concat(c.slice()):[r].concat(c).concat(c.slice()):hu(a)}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=a1(e,r,a,this.numConstants);if(e=c.inputs,r=c.initialState,a=c.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return super.apply(e,i);const u=[],f=[];if(null!=r){const g=r.length;if(g%2>0)throw new kn("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");i.initialState=r,u.push(...r);const v=r.map(T=>new Yl({shape:T.shape}));this.forwardLayer.stateSpec=v.slice(0,g/2),this.backwardLayer.stateSpec=v.slice(g/2),f.push(...v)}if(null!=a)throw new ws("Support for constants in Bidirectional layers is not implemented yet.");const p=u[0]instanceof Tc;for(const g of u)if(g instanceof Tc!==p)throw new kn("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(p){const g=[e].concat(u),v=this.inputSpec.concat(f),T=this.inputSpec;this.inputSpec=v;const U=super.apply(g,i);return this.inputSpec=T,U}return super.apply(e,i)}call(e,i){return k(()=>{const r=i.initialState;let a,c,u,f;if(null==r)a=this.forwardLayer.call(e,i),c=this.backwardLayer.call(e,i);else{const p=r.slice(0,r.length/2),g=r.slice(r.length/2);a=this.forwardLayer.call(e,Object.assign(i,{initialState:p})),c=this.backwardLayer.call(e,Object.assign(i,{initialState:g}))}return this.returnState&&(Array.isArray(a)&&(u=a.slice(1).concat(c.slice(1))),a=a[0],c=c[0]),this.returnSequences&&(c=Su(c,1)),"concat"===this.mergeMode?f=o_([a,c]):"sum"===this.mergeMode?f=Ti(a,c):"ave"===this.mergeMode?f=me(.5,Ti(a,c)):"mul"===this.mergeMode?f=me(a,c):null==this.mergeMode&&(f=[a,c]),this.returnState?null==this.mergeMode?f.concat(u):[f].concat(u):f})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){fp(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),fp(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,i){let r;if(Array.isArray(i)&&(i=i[0]),r=this.returnSequences?null==this.mergeMode?[i,i]:i:null==this.mergeMode?[null,null]:null,this.returnState){const c=this.forwardLayer.states.map(u=>null);return Array.isArray(r)?r.concat(c).concat(c):[r].concat(c).concat(c)}return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},i=super.getConfig();return Object.assign(e,i),e}static fromConfig(e,i){const r=Xh(i.layer);if(delete i.layer,null!=i.numConstants)throw new ws("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=i;return a.layer=r,new e(a)}}return n.className="Bidirectional",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Bs{constructor(e){super(e),this.scale=e.scale,this.offset=e.offset?e.offset:0}getConfig(){const e={scale:this.scale,offset:this.offset},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return k(()=>("float32"!==(e=br(e)).dtype&&(e=fh(e,"float32")),Ti(me(e,this.scale),this.offset)))}}return n.className="Rescaling",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const{resizeBilinear:QR,cropAndResize:v1}=sd;Mi((()=>{class n extends Bs{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,i,r,a,c,u,f,p){return k(()=>{let g,v=!1;const te=[i/u,r/f,(a+i)/u,(c+r)/f],ye=[];3===e.rank?(v=!0,g=fa([e])):g=e;for(let Xt=0;Xt<g.shape[0];Xt++)ye.push(te);const ke=Js(ye,[ye.length,4]),tt=hf(0,ye.length,1,"int32"),St=v1(g,ke,tt,[a,c],"nearest");return fh(v?br(Bd(St)):St,p)})}upsize(e,i,r,a){return k(()=>fh(QR(e,[i,r]),a))}call(e,i){return k(()=>{const r=br(e),a=r.dtype,c=r.shape,u=c[c.length-3],f=c[c.length-2];let p=0;u!==this.height&&(p=Math.floor((u-this.height)/2));let g=0;return f!==this.width&&(g=Math.floor((f-this.width)/2),0===g&&(g=1)),p>=0&&g>=0?this.centerCrop(r,p,g,this.height,this.width,u,f,a):this.upsize(e,this.height,this.width,a)})}getConfig(){const e={height:this.height,width:this.width},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){const r=(e=vo(e)).length-2;return e[e.length-3]=this.height,e[r]=this.width,e}}return n.className="CenterCrop",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Bs{constructor(e){super(e),this.numTokens=e.numTokens,this.outputMode=e.outputMode?e.outputMode:"multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return null==(e=vo(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,i){return k(()=>{let r;if("int32"!==(e=br(e)).dtype&&(e=fh(e,"int32")),typeof i.countWeights<"u"){if("count"!==this.outputMode)throw new kn(`countWeights is not used when outputMode !== count.\n              Received countWeights=${i.countWeights}`);r=br(i.countWeights)}const a=Nu(e),c=Ty(e),u=Pu(this.numTokens,a).bufferSync().get(0),f=Xf(c,0).bufferSync().get(0);if(!u||!f)throw new kn(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
return function b1(n,t,e,i){let r=br(n);if("int32"!==r.dtype&&(r=fh(r,"int32")),"int"===t)return r;const a=r.shape;if(0===r.rank&&(r=Gl(r,-1)),"oneHot"===t&&1!==r.shape[r.shape.length-1]&&(r=Gl(r,-1)),r.rank>2)throw new kn(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${a} which would result in output rank ${r.rank}.`);const c=["multiHot","oneHot"].includes(t);let f;if(f=AC(r,typeof i<"u"&&"count"===t?i:[],e,c),"tfIdf"!==t)return f;if(i)return me(f,i);throw new kn("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,r)})}}return n.className="CategoryEncoding",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const w1=new Set(["bilinear","nearest"]);Mi((()=>{class n extends Bs{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!w1.has(e.interpolation))throw new kn(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){return e=vo(e),[this.height,this.width,e[2]]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return k(()=>{const r=[this.height,this.width];if("bilinear"===this.interpolation)return sd.resizeBilinear(e,r,!this.cropToAspectRatio);if("nearest"===this.interpolation)return sd.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...w1]} are supported`)})}}return n.className="Resizing",n})());
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let E1=(()=>{class n{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}return n.className="RandomSeed",n})(),VF=(()=>{class n extends Bs{constructor(e){super(e),this.randomGenerator=new E1(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BaseRandomLayer",n})();
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const tN=new Set(["bilinear","nearest"]);Mi((()=>{class n extends VF{constructor(e){super(e);const{factor:i,interpolation:r="bilinear"}=e;if(this.factor=i,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new kn(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new kn(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new kn(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(r){if(!tN.has(r))throw new kn(`Invalid interpolation parameter: ${r} is not implemented`);this.interpolation=r}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return e=vo(e),[this.imgHeight,-1,e[2]]}call(e,i){return k(()=>{const r=br(e);this.imgHeight=r.shape[r.shape.length-3];const a=r.shape[r.shape.length-2];this.widthFactor=zh([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let c=this.widthFactor.dataSync()[0]*a;c=Math.round(c);const u=[this.imgHeight,c];switch(this.interpolation){case"bilinear":return sd.resizeBilinear(e,u);case"nearest":return sd.resizeNearestNeighbor(e,u);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...tN]} are supported`)}})}}return n.className="RandomWidth",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
Te().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       *
       * =============================================================================
       */
var wN,xd=function(n){return n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF",n}(xd||{});!function(n){let t;var e;(e=t=n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(wN||(wN={}));
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const N1={};function P1(n){return N1[n]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function it(n,t,e,i,r){const a=t.inputParams[n];if(a&&void 0!==a.inputIndexStart){const u=a.inputIndexStart,f=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?u+1:a.inputIndexEnd,p=u<0?t.inputNames.length+u:u;if("tensor"===a.type)return Ic(t.inputNames[p],e,i,r);if("tensors"===a.type){const T=t.inputs.slice(u,f);return t.inputNames.slice(u,f).filter((q,ae)=>{var te;return"NoOp"!==(null===(te=T[ae])||void 0===te?void 0:te.op)}).map(q=>Ic(q,e,i,r))}const g=Ic(t.inputNames[p],e,i,r),v=g.dataSync();return"number"===a.type?v[0]:Nn(g.shape,v)}const c=t.attrParams[n];return c&&c.value}function Ic(n,t,e,i){const[r,a]=fd(n,e);if(null!=i){const u=i.getHashTableHandleByName(r);if(null!=u)return u}const c=e.currentContextIds.find(u=>!!t[pb(r,u)]);return void 0!==c?t[pb(r,c)][a]:void 0}function mx(n,t,e){return t[pb(n,e.currentContextId)]}function Zh(n,t){const[e,i,r]=fd(n,t);return[pb(e,t&&t.currentContextId),i,r]}function pb(n,t){return t?`${n}-${t}`:n}function fd(n,t){if(""===n)return["",0,void 0];const e=null!=t&&null!=t.parseNodeNameCache;if(e){const a=t.parseNodeNameCache.get(n);if(null!=a)return a}const i=n.split(":");let r;if(1===i.length)r=[n,0,void 0];else{const c=3===i.length?i[1]:void 0;r=[i[0],Number(i[i.length-1]),c]}return e&&t.parseNodeNameCache.set(n,r),r}function gx(n,t,e){let i=it("pad",n,t,e);if("explicit"===i){i=it("explicitPaddings",n,t,e);const r=[[0,0],[0,0],[0,0],[0,0]];for(let a=0;a<4;a++)r[a][0]=i[2*a],r[a][1]=i[2*a+1];return r}return i}function Df(n){return n.kept?n:Rd(n)}
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OL=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],F1=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],mb=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],EN=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],xN=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],L1=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],vp=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],$1=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],_x=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],yx=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],CN=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],vx=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],bx=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],gb=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],RL=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],NL=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],PL=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],B1=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],SN=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class V1{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[I,E,y,x,$,R,O,M,L,z,F,J,ue,ce,re,we,j,Y,se].map(i=>i.json));this.opMappers=e.reduce((i,r)=>(i[r.tfOpName]=r,i),{})}transformGraph(t,e={}){const r=[],a=[],c=[],u=t.node.reduce((ae,te)=>(ae[te.name]=this.mapNode(te),te.op.startsWith("Placeholder")?r.push(ae[te.name]):"Const"===te.op?a.push(ae[te.name]):(null==te.input||0===te.input.length)&&c.push(ae[te.name]),ae),{});let f=[];const p=[];let g={},v={};null!=e&&(g=this.mapSignatureEntries(e.inputs),v=this.mapSignatureEntries(e.outputs));const T=Object.keys(u);T.forEach(ae=>{const te=u[ae];te.inputNames.forEach((ye,ke)=>{const[tt,,nt]=Zh(ye),St=u[tt];if(null!=St.outputs){const Xt=St.outputs.indexOf(nt);-1!==Xt&&(te.inputNames[ke]=`${tt}:${Xt}`)}te.inputs.push(St),St.children.push(te)})}),0===Object.keys(v).length?T.forEach(ae=>{const te=u[ae];0===te.children.length&&p.push(te)}):Object.keys(v).forEach(ae=>{const[te]=Zh(ae),ye=u[te];null!=ye&&(ye.signatureKey=v[ae],p.push(ye))}),Object.keys(g).length>0?Object.keys(g).forEach(ae=>{const[te]=Zh(ae),ye=u[te];ye&&(ye.signatureKey=g[ae],f.push(ye))}):f=r;let U={};null!=t.library&&null!=t.library.function&&(U=t.library.function.reduce((ae,te)=>(ae[te.signature.name]=this.mapFunction(te),ae),{}));const q={nodes:u,inputs:f,outputs:p,weights:a,placeholders:r,signature:e,functions:U};return c.length>0&&(q.initNodes=c),q}mapSignatureEntries(t){return Object.keys(t||{}).reduce((e,i)=>(e[t[i].name]=i,e),{})}mapNode(t){const e=P1(t.op)||this.opMappers[t.op]||{};null==t.attr&&(t.attr={});const i={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:e.outputs};return null!=e.inputs&&(i.inputParams=e.inputs.reduce((r,a)=>(r[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},r),{})),null!=e.attrs&&(i.attrParams=e.attrs.reduce((r,a)=>{const c=a.type;let u;switch(a.type){case"string":u=_b(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=_b(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":u=Ex(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=Ex(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":u=vb(t.attr,a.tfName,a.defaultValue||0),void 0===u&&a.tfDeprecatedName&&(u=vb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":u=k_(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=k_(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":u=yb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=yb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":u=j1(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=j1(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":u=wb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=wb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":u=xx(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=xx(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":u=bb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=bb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":u=T_(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=T_(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":u=z1(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=z1(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${t.op}`)}return r[a.name]={value:u,type:c},r},{})),i}mapFunction(t){const e=t.nodeDef,r=[];let a={};null!=e&&(a=e.reduce((v,T)=>(v[T.name]=this.mapNode(T),"Const"===T.op&&r.push(v[T.name]),v),{}));const c=[],u=[];t.signature.inputArg.forEach(v=>{const[T]=Zh(v.name),U={name:T,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:wx(v.type),type:"dtype"}},children:[]};U.signatureKey=v.name,c.push(U),a[T]=U}),Object.keys(a).forEach(v=>{const T=a[v];T.inputNames.forEach((U,q)=>{const[ae,,te]=Zh(U),ye=a[ae];if(null!=ye.outputs){const ke=ye.outputs.indexOf(te);-1!==ke&&(T.inputNames[q]=`${ae}:${ke}`)}T.inputs.push(ye),ye.children.push(T)})});const p=t.ret;t.signature.outputArg.forEach(v=>{const[T,U]=Zh(p[v.name]),q=a[T];null!=q&&(q.defaultOutput=U,u.push(q))});const g=this.mapArgsToSignature(t);return{nodes:a,inputs:c,outputs:u,weights:r,placeholders:[],signature:g}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i),e),{}),outputs:t.signature.outputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i,t.ret),e),{})}}mapArgToTensorInfo(t,e){let i=t.name;return null!=e&&(i=e[i]),{name:i,dtype:t.type}}}function U1(n,t){const e=Array.isArray(n)?String.fromCharCode.apply(null,n):function DN(n){const t=Te().global;if(typeof t.atob<"u")return t.atob(n);if(typeof Buffer<"u")return new Buffer(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(n);return t?e:e.toLowerCase()}function _b(n,t,e,i=!1){const r=n[t];return null!=r?U1(r.s,i):e}function yb(n,t,e){const i=n[t];return i?i.b:e}function vb(n,t,e){const i=n[t]||{},r=null!=i.i?i.i:null!=i.f?i.f:e;return"number"==typeof r?r:parseInt(r,10)}function wx(n){switch("string"==typeof n&&(n=xd[n]),n){case xd.DT_FLOAT:case xd.DT_HALF:return"float32";case xd.DT_INT32:case xd.DT_INT64:case xd.DT_INT8:case xd.DT_UINT8:return"int32";case xd.DT_BOOL:return"bool";case xd.DT_DOUBLE:return"float32";case xd.DT_STRING:return"string";case xd.DT_COMPLEX64:case xd.DT_COMPLEX128:return"complex64";default:return null}}function z1(n,t,e){const i=n[t];return i&&i.func?i.func.name:e}function bb(n,t,e){const i=n[t];return i&&i.type?wx(i.type):e}function T_(n,t,e){const i=n[t];return i&&i.list&&i.list.type?i.list.type.map(r=>wx(r)):e}function TN(n){if(!n.unknownRank)return null!=n.dim?n.dim.map(t=>"number"==typeof t.size?t.size:parseInt(t.size,10)):[]}function wb(n,t,e){const i=n[t];return i&&i.shape?TN(i.shape):e}function k_(n,t,e){const i=n[t];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(r=>"number"==typeof r?r:parseInt(r,10)):e}function Ex(n,t,e,i=!1){const r=n[t];return r&&r.list&&r.list.s?r.list.s.map(a=>U1(a,i)):e}function xx(n,t,e){const i=n[t];return i&&i.list&&i.list.shape?i.list.shape.map(r=>TN(r)):e}function j1(n,t,e){const i=n[t];return i&&i.list&&i.list.b?i.list.b:e}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class FL{constructor(t,e,i){this.node=t,this.tensorMap=e,this.context=i,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(r=>this.getInput(r)),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((r,a)=>(r[a]=this.getAttr(a),r),{}))}getInput(t){return Ic(t,this.tensorMap,this.context)}getAttr(t,e){const i=this.node.rawAttrs[t];if(null!=i.tensor)return Ic(t,this.tensorMap,this.context);if(null!=i.i||null!=i.f)return vb(this.node.rawAttrs,t,e);if(null!=i.s)return _b(this.node.rawAttrs,t,e);if(null!=i.b)return yb(this.node.rawAttrs,t,e);if(null!=i.shape)return wb(this.node.rawAttrs,t,e);if(null!=i.type)return bb(this.node.rawAttrs,t,e);if(null!=i.list){if(null!=i.list.i||null!=i.list.f)return k_(this.node.rawAttrs,t,e);if(null!=i.list.s)return Ex(this.node.rawAttrs,t,e);if(null!=i.list.shape)return xx(this.node.rawAttrs,t,e);if(null!=i.list.b)return j1(this.node.rawAttrs,t,e);if(null!=i.list.type)return T_(this.node.rawAttrs,t,e)}return e}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fu(n,t,e=""){if("number"!=typeof n&&"number"!=typeof t){Se(n.length===t.length,()=>e+` Shapes ${n} and ${t} must match`);for(let i=0;i<n.length;i++){const r=n[i],a=t[i];Se(r<0||a<0||r===a,()=>e+` Shapes ${n} and ${t} must match`)}}}function I_(n){return!("number"==typeof n||n.some(t=>t<0))}function Tf(n,t,e){let i=Eb(n,e);const r=!I_(i);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${i}`);if(r&&t.forEach(a=>{i=Eb(a.shape,i)}),!I_(i))throw new Error(`Non-fully-defined elementShape: ${i}`);return i}function Eb(n,t){if("number"==typeof n)return t;if("number"==typeof t)return n;if(n.length!==t.length)throw new Error(`Incompatible ranks during merge: ${n} vs. ${t}`);const e=[];for(let i=0;i<n.length;++i){const r=n[i],a=t[i];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${n} vs. ${t}`);e[i]=r>=0?r:a}return e}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class BL{constructor(t,e,i,r,a,c,u){this.name=t,this.dtype=e,this.maxSize=i,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=c,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=vr(0),fe(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.tensor.id))&&e.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);const e=this.tensors[t];if(e.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor}readMany(t){return t.map(e=>this.read(e))}write(t,e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);const i=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},\n          because the value dtype is ${e.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=e.shape),fu(this.elementShape,e.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),i.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(i.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);i.tensor=e,fe(e),i.written=!0,this.tensors[t]=i}writeMany(t,e){if(t.length!==e.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${e.length}.`);t.forEach((i,r)=>this.write(i,e[r]))}gather(t,e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${e}`);if(t)t=t.slice(0,this.size());else{t=[];for(let r=0;r<this.size();r++)t.push(r)}if(0===t.length)return Js([],[0].concat(this.elementShape));const i=this.readMany(t);return fu(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),fa(i,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(0===this.size())return Js([],[0].concat(this.elementShape));const e=[];for(let r=0;r<this.size();r++)e.push(r);const i=this.readMany(e);return fu(this.elementShape,i[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${i[0].shape})`),Hl(i,0)}scatter(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(!this.dynamicSize&&i>=this.maxSize)throw new Error(`Max index must be < array size (${i}  vs. ${this.maxSize})`);this.writeMany(t,Bd(e,0))}split(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);let i=0;const r=t.map(f=>(i+=f,i));if(i!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${e.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===i?0:e.size/i,c=[];k(()=>{e=Dn(e,[1,i,a]);for(let f=0;f<t.length;++f)c[f]=Dn(fo(e,[0,0===f?0:r[f-1],0],[1,t[f],a]),this.elementShape);return c});const u=[];for(let f=0;f<t.length;f++)u[f]=f;this.writeMany(u,c)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class bp{get id(){return this.idTensor.id}constructor(t,e,i,r=-1){this.tensors=t,this.elementShape=e,this.elementDtype=i,t?.forEach(a=>{if(i!==a.dtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${a.dtype}`);fu(e,a.shape,"TensorList shape mismatch: "),fe(a)}),this.idTensor=vr(0),this.maxNumElements=r,fe(this.idTensor)}copy(){return new bp([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.id))&&e.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,e,i=-1){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(-1!==i&&this.tensors.length!==i)throw new Error(`Operation expected a list with ${i} elements but got a list with ${this.tensors.length} elements.`);fu(t,this.elementShape,"TensorList shape mismatch: ");const r=Tf(this.elementShape,this.tensors,t);return k(()=>{const a=this.tensors.map(c=>Dn(c,r));return fa(a,0)})}popBack(t,e){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const i=Tf(this.elementShape,this.tensors,t),r=this.tensors.pop();return r.kept=!1,fu(r.shape,t,"TensorList shape mismatch: "),Dn(r,i)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(fu(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");fe(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);const e=new bp([],this.elementShape,this.elementDtype,this.maxNumElements);e.tensors.length=t;for(let i=0;i<Math.min(this.tensors.length,t);++i)e.tensors[i]=this.tensors[i];return e}getItem(t,e,i){if(i!==this.elementDtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[t])throw new Error(`element at index ${t} is null.`);fu(this.tensors[t].shape,e,"TensorList shape mismatch: ");const r=Tf(this.elementShape,this.tensors,e);return Dn(this.tensors[t],r)}setItem(t,e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(t<0||-1!==this.maxNumElements&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);fu(this.elementShape,e.shape,"TensorList shape mismatch: "),fe(e),null!=this.tensors[t]&&(this.tensors[t].kept=!1),this.tensors[t]=e}gather(t,e,i){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);fu(this.elementShape,i,"TensorList shape mismatch: "),t=t.slice(0,this.size());const r=Tf(this.elementShape,this.tensors,i);return 0===t.length?Js([],[0].concat(r)):k(()=>{const a=t.map(c=>Dn(this.tensors[c],r));return fa(a,0)})}concat(t,e){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);fu(this.elementShape,e,"TensorList shape mismatch: ");const i=Tf(this.elementShape,this.tensors,e);return 0===this.size()?Js([],[0].concat(i)):k(()=>{const r=this.tensors.map(a=>Dn(a,i));return Hl(r,0)})}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const W1=function(){var n=(0,Q.A)(function*(t,e,i){switch(t.op){case"If":case"StatelessIf":{const r=it("thenBranch",t,e,i),a=it("elseBranch",t,e,i),c=it("cond",t,e,i),u=it("args",t,e,i);return(yield c.data())[0]?i.functionMap[r].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap):i.functionMap[a].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap)}case"While":case"StatelessWhile":{const r=it("body",t,e,i),a=it("cond",t,e,i),c=it("args",t,e,i),u=yield i.functionMap[a].executeFunctionAsync(c,i.tensorArrayMap,i.tensorListMap),f=c.map(v=>v.id);let p=yield u[0].data();u.forEach(v=>{!v.kept&&-1===f.indexOf(v.id)&&v.dispose()});let g=c;for(;p[0];){const v=g;g=yield i.functionMap[r].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);const T=g.map(q=>q.id);v.forEach(q=>{!q.kept&&-1===f.indexOf(q.id)&&-1===T.indexOf(q.id)&&q.dispose()});const U=yield i.functionMap[a].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);p=yield U[0].data(),U.forEach(q=>{!q.kept&&-1===f.indexOf(q.id)&&-1===T.indexOf(q.id)&&q.dispose()})}return g}case"LoopCond":return[Df(it("pred",t,e,i))];case"Switch":{const r=it("pred",t,e,i);let a=it("data",t,e,i);return a.kept||(a=Df(a)),(yield r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>void 0!==Ic(a,e,i));return r?[Df(Ic(r,e,i))]:void 0}case"Enter":{const r=it("frameName",t,e,i),a=it("tensor",t,e,i);return i.enterFrame(r),[Df(a)]}case"Exit":{const r=it("tensor",t,e,i);return i.exitFrame(),[Df(r)]}case"NextIteration":{const r=it("tensor",t,e,i);return i.nextIteration(),[Df(r)]}case"TensorArrayV3":{const r=it("size",t,e,i),a=it("dtype",t,e,i),c=it("elementShape",t,e,i),u=it("dynamicSize",t,e,i),f=it("clearAfterRead",t,e,i),p=it("identicalElementShapes",t,e,i),g=it("name",t,e,i),v=new BL(g,a,r,c,p,u,f);return i.addTensorArray(v),[v.idTensor,vr(1)]}case"TensorArrayWriteV3":{const r=it("tensorArrayId",t,e,i),a=it("index",t,e,i),c=it("tensor",t,e,i),u=i.getTensorArray(r.id);return u.write(a,c),[u.idTensor]}case"TensorArrayReadV3":{const r=it("tensorArrayId",t,e,i),a=it("index",t,e,i);return[i.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=it("tensorArrayId",t,e,i),a=it("indices",t,e,i),c=it("dtype",t,e,i);return[i.getTensorArray(r.id).gather(a,c)]}case"TensorArrayScatterV3":{const r=it("tensorArrayId",t,e,i),a=it("indices",t,e,i),c=it("tensor",t,e,i),u=i.getTensorArray(r.id);return u.scatter(a,c),[u.idTensor]}case"TensorArrayConcatV3":{const r=it("tensorArrayId",t,e,i),a=i.getTensorArray(r.id),c=it("dtype",t,e,i);return[a.concat(c)]}case"TensorArraySplitV3":{const r=it("tensorArrayId",t,e,i),a=it("tensor",t,e,i),c=it("lengths",t,e,i),u=i.getTensorArray(r.id);return u.split(c,a),[u.idTensor]}case"TensorArraySizeV3":{const r=it("tensorArrayId",t,e,i);return[vr(i.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=it("tensorArrayId",t,e,i),a=i.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=it("tensorListId",t,e,i),a=it("index",t,e,i),c=it("tensor",t,e,i),u=i.getTensorList(r.id);return u.setItem(a,c),[u.idTensor]}case"TensorListGetItem":{const r=it("tensorListId",t,e,i),a=it("index",t,e,i),c=it("elementShape",t,e,i),u=it("elementDType",t,e,i);return[i.getTensorList(r.id).getItem(a,c,u)]}case"TensorListScatterV2":case"TensorListScatter":{const r=it("indices",t,e,i),f=function Cx(n,t,e,i){if(t.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${n.shape[0]}`);const r=Math.max(...t);if(null!=i&&-1!==i&&r>=i)throw new Error(`Max index must be < array size (${r}  vs. ${i})`);const a=new bp([],e,n.dtype,i),c=Bd(n,0);return t.forEach((u,f)=>{a.setItem(u,c[f])}),a}(it("tensor",t,e,i),r,it("elementShape",t,e,i),it("numElements",t,e,i));return i.addTensorList(f),[f.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=it("elementShape",t,e,i),a=it("elementDType",t,e,i);let c;c="TensorListReserve"===t.op?"numElements":"maxNumElements";const u=it(c,t,e,i),p=function UL(n,t,e,i){return new bp([],n,t,i)}(r,a,0,"TensorListReserve"===t.op?-1:u);return i.addTensorList(p),[p.idTensor]}case"TensorListGather":{const r=it("tensorListId",t,e,i),a=it("indices",t,e,i),c=it("elementShape",t,e,i),u=it("elementDType",t,e,i);return[i.getTensorList(r.id).gather(a,u,c)]}case"TensorListStack":{const r=it("tensorListId",t,e,i),a=it("elementShape",t,e,i),c=it("elementDType",t,e,i),u=it("numElements",t,e,i);return[i.getTensorList(r.id).stack(a,c,u)]}case"TensorListFromTensor":{const u=function VL(n,t,e){const i=n.dtype;if(n.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${n.shape}`);if(n.dtype!==e)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${e}`);fu(n.shape.slice(1),t,"TensorList shape mismatch: ");const a=Bd(n);return new bp(a,t,i)}(it("tensor",t,e,i),it("elementShape",t,e,i),it("elementDType",t,e,i));return i.addTensorList(u),[u.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=it("tensorListId",t,e,i),a=i.getTensorList(r.id),c=it("dtype",t,e,i),u=it("elementShape",t,e,i);return[a.concat(c,u)]}case"TensorListPushBack":{const r=it("tensorListId",t,e,i),a=it("tensor",t,e,i),c=i.getTensorList(r.id);return c.pushBack(a),[c.idTensor]}case"TensorListPopBack":{const r=it("tensorListId",t,e,i),a=it("elementShape",t,e,i),c=it("elementDType",t,e,i);return[i.getTensorList(r.id).popBack(a,c)]}case"TensorListSplit":{const r=it("tensor",t,e,i),a=it("elementShape",t,e,i),u=function IN(n,t,e){let i=0;const r=t.map(g=>(i+=g,i));if(i!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${n.shape}`);const c=Eb(n.shape.slice(1),e),u=0===i?0:n.size/i,f=k(()=>{const g=[];n=Dn(n,[1,i,u]);for(let v=0;v<t.length;++v)g[v]=Dn(fo(n,[0,0===v?0:r[v-1],0],[1,t[v],u]),c);return n.dispose(),g}),p=new bp([],e,n.dtype,t.length);for(let g=0;g<f.length;g++)p.setItem(g,f[g]);return p}(r,it("lengths",t,e,i),a);return i.addTensorList(u),[u.idTensor]}case"TensorListLength":{const r=it("tensorListId",t,e,i);return[vr(i.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=it("tensorListId",t,e,i),a=it("size",t,e,i),u=i.getTensorList(r.id).resize(a);return i.addTensorList(u),[u.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sx(n,t,e){const[i,r]=it("fusedOps",n,t,e),a="biasadd"===i,c=!a,u="prelu"===r,f="fusedbatchnorm"===i,p=it("numArgs",n,t,e);if(a){if(u&&2!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&a&&1!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const g=it("strides",n,t,e),v=gx(n,t,e),T=it("dataFormat",n,t,e).toUpperCase(),U=it("dilations",n,t,e);let[q,ae]=it("args",n,t,e);return c&&(ae=q,q=void 0),{stride:g,pad:v,dataFormat:T,dilations:U,biasArg:q,preluArg:ae,activationFunc:r,leakyreluAlpha:it("leakyreluAlpha",n,t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dx(n,t,e){return{boxes:it("boxes",n,t,e),scores:it("scores",n,t,e),maxOutputSize:it("maxOutputSize",n,t,e),iouThreshold:it("iouThreshold",n,t,e),scoreThreshold:it("scoreThreshold",n,t,e),softNmsSigma:it("softNmsSigma",n,t,e)}}const G1=function(){var n=(0,Q.A)(function*(t,e,i,r,a=W){switch(t.op){case"NonMaxSuppressionV5":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g,softNmsSigma:v}=Dx(t,e,i),T=yield a.image.nonMaxSuppressionWithScoreAsync(c,u,f,p,g,v);return[T.selectedIndices,T.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=Dx(t,e,i),v=it("padToMaxOutputSize",t,e,i),T=yield a.image.nonMaxSuppressionPaddedAsync(c,u,f,p,g,v);return[T.selectedIndices,T.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=Dx(t,e,i);return[yield a.image.nonMaxSuppressionAsync(c,u,f,p,g)]}case"Where":{const c=a.cast(it("condition",t,e,i),"bool"),u=[yield a.whereAsync(c)];return c.dispose(),u}case"ListDiff":return a.setdiff1dAsync(it("x",t,e,i),it("y",t,e,i));default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class jL{get id(){return this.handle.id}constructor(t,e){this.keyDType=t,this.valueDType=e,this.handle=vr(0),this.tensorMap=new Map,fe(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return vr(this.size(),"int32")}import(t,e){var i=this;return(0,Q.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return i.tensorMap.forEach(a=>a.dispose()),i.tensorMap.clear(),k(()=>{const a=Bd(e),c=r.length,u=a.length;Se(c===u,()=>`The number of elements doesn't match, keys has ${c} elements, the values has ${u} elements.`);for(let f=0;f<c;f++){const p=r[f],g=a[f];fe(g),i.tensorMap.set(p,g)}return i.handle})})()}find(t,e){var i=this;return(0,Q.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return k(()=>{const a=[];for(let c=0;c<r.length;c++){const f=i.findWithDefault(r[c],e);a.push(f)}return fa(a)})})()}findWithDefault(t,e){return this.tensorMap.get(t)??e}checkKeyAndValueTensor(t,e){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(e.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${e.dtype}`)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const WL=function(){var n=(0,Q.A)(function*(t,e,i,r){switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(null!=a)return[a];{const c=it("keyDType",t,e,i),u=it("valueDType",t,e,i),f=new jL(c,u);return r.addHashTable(t.name,f),[f.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=it("tableHandle",t,e,i,r),c=it("keys",t,e,i),u=it("values",t,e,i);return[yield r.getHashTableById(a.id).import(c,u)]}case"LookupTableFind":case"LookupTableFindV2":{const a=it("tableHandle",t,e,i,r),c=it("keys",t,e,i),u=it("defaultValue",t,e,i);return[yield r.getHashTableById(a.id).find(c,u)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=it("tableHandle",t,e,i,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Q1(n,t,e,i,r=k){const a=((c,u,f)=>{switch(c.category){case"arithmetic":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"BiasAdd":case"AddV2":case"Add":return[i.add(it("a",n,t,e),it("b",n,t,e))];case"AddN":return[i.addN(it("tensors",n,t,e))];case"FloorMod":case"Mod":return[i.mod(it("a",n,t,e),it("b",n,t,e))];case"Mul":return[i.mul(it("a",n,t,e),it("b",n,t,e))];case"RealDiv":case"Div":return[i.div(it("a",n,t,e),it("b",n,t,e))];case"DivNoNan":return[i.divNoNan(it("a",n,t,e),it("b",n,t,e))];case"FloorDiv":return[i.floorDiv(it("a",n,t,e),it("b",n,t,e))];case"Sub":return[i.sub(it("a",n,t,e),it("b",n,t,e))];case"Minimum":return[i.minimum(it("a",n,t,e),it("b",n,t,e))];case"Maximum":return[i.maximum(it("a",n,t,e),it("b",n,t,e))];case"Pow":return[i.pow(it("a",n,t,e),it("b",n,t,e))];case"SquaredDifference":return[i.squaredDifference(it("a",n,t,e),it("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"basic_math":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Abs":case"ComplexAbs":return[i.abs(it("x",n,t,e))];case"Acos":return[i.acos(it("x",n,t,e))];case"Acosh":return[i.acosh(it("x",n,t,e))];case"Asin":return[i.asin(it("x",n,t,e))];case"Asinh":return[i.asinh(it("x",n,t,e))];case"Atan":return[i.atan(it("x",n,t,e))];case"Atan2":return[i.atan2(it("x",n,t,e),it("y",n,t,e))];case"Atanh":return[i.atanh(it("x",n,t,e))];case"Ceil":return[i.ceil(it("x",n,t,e))];case"Complex":return[i.complex(it("real",n,t,e),it("imag",n,t,e))];case"Cos":return[i.cos(it("x",n,t,e))];case"Cosh":return[i.cosh(it("x",n,t,e))];case"Elu":return[i.elu(it("x",n,t,e))];case"Erf":return[i.erf(it("x",n,t,e))];case"Exp":return[i.exp(it("x",n,t,e))];case"Expm1":return[i.expm1(it("x",n,t,e))];case"Floor":return[i.floor(it("x",n,t,e))];case"Log":return[i.log(it("x",n,t,e))];case"Log1p":return[i.log1p(it("x",n,t,e))];case"Imag":return[i.imag(it("x",n,t,e))];case"Neg":return[i.neg(it("x",n,t,e))];case"Reciprocal":return[i.reciprocal(it("x",n,t,e))];case"Real":return[i.real(it("x",n,t,e))];case"Relu":return[i.relu(it("x",n,t,e))];case"Round":return[i.round(it("x",n,t,e))];case"Selu":return[i.selu(it("x",n,t,e))];case"Sigmoid":return[i.sigmoid(it("x",n,t,e))];case"Sin":return[i.sin(it("x",n,t,e))];case"Sign":return[i.sign(it("x",n,t,e))];case"Sinh":return[i.sinh(it("x",n,t,e))];case"Softplus":return[i.softplus(it("x",n,t,e))];case"Sqrt":return[i.sqrt(it("x",n,t,e))];case"Square":return[i.square(it("x",n,t,e))];case"Tanh":return[i.tanh(it("x",n,t,e))];case"Tan":return[i.tan(it("x",n,t,e))];case"ClipByValue":return[i.clipByValue(it("x",n,t,e),it("clipValueMin",n,t,e),it("clipValueMax",n,t,e))];case"Relu6":return[i.relu6(it("x",n,t,e))];case"Rsqrt":return[i.rsqrt(Ic(n.inputNames[0],t,e))];case"LeakyRelu":return[i.leakyRelu(it("x",n,t,e),it("alpha",n,t,e))];case"Prelu":return[i.prelu(it("x",n,t,e),it("alpha",n,t,e))];case"IsNan":return[i.isNaN(Ic(n.inputNames[0],t,e))];case"IsInf":return[i.isInf(Ic(n.inputNames[0],t,e))];case"IsFinite":return[i.isFinite(Ic(n.inputNames[0],t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"control":return W1(c,u,f);case"convolution":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Conv1D":{const r=it("stride",n,t,e),a=it("pad",n,t,e),c=it("dataFormat",n,t,e).toUpperCase(),u=it("dilation",n,t,e);return[i.conv1d(it("x",n,t,e),it("filter",n,t,e),r,a,c,u)]}case"Conv2D":{const r=it("strides",n,t,e),a=gx(n,t,e),c=it("dataFormat",n,t,e).toUpperCase(),u=it("dilations",n,t,e);return[i.conv2d(it("x",n,t,e),it("filter",n,t,e),[r[1],r[2]],a,c,[u[1],u[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:v}=Sx(n,t,e);return[i.fused.conv2d({x:it("x",n,t,e),filter:it("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:v})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:v}=Sx(n,t,e);return[i.fused.depthwiseConv2d({x:it("x",n,t,e),filter:it("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:v})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=it("outputShape",n,t,e),a=it("strides",n,t,e),c=gx(n,t,e);return[i.conv2dTranspose(it("x",n,t,e),it("filter",n,t,e),r,[a[1],a[2]],c)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=it("strides",n,t,e),a=gx(n,t,e),c=it("dilations",n,t,e),u=it("dataFormat",n,t,e).toUpperCase();return[i.depthwiseConv2d(it("input",n,t,e),it("filter",n,t,e),[r[1],r[2]],a,u,[c[1],c[2]])]}case"Conv3D":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("dataFormat",n,t,e).toUpperCase(),u=it("dilations",n,t,e);return[i.conv3d(it("x",n,t,e),it("filter",n,t,e),[r[1],r[2],r[3]],a,c,[u[1],u[2],u[3]])]}case"AvgPool":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("kernelSize",n,t,e);return[i.avgPool(it("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("kernelSize",n,t,e);return[i.maxPool(it("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("kernelSize",n,t,e),u=it("includeBatchInIndex",n,t,e),{result:f,indexes:p}=i.maxPoolWithArgmax(it("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a,u);return[f,p]}case"AvgPool3D":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("kernelSize",n,t,e);return[i.avgPool3d(it("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("kernelSize",n,t,e);return[i.maxPool3d(it("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=it("strides",n,t,e),a=it("pad",n,t,e),c=it("dilations",n,t,e),u=r[1],f=r[2],p=c[1],g=c[2];return[i.dilation2d(it("x",n,t,e),it("filter",n,t,e),[u,f],a,[p,g],"NHWC")]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"creation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Fill":{const r=it("shape",n,t,e),a=it("dtype",n,t,e),c=it("value",n,t,e);return[i.fill(r,c,a)]}case"LinSpace":{const r=it("start",n,t,e),a=it("stop",n,t,e),c=it("num",n,t,e);return[i.linspace(r,a,c)]}case"Multinomial":{const r=it("logits",n,t,e),a=it("numSamples",n,t,e),c=it("seed",n,t,e);return[i.multinomial(r,a,c)]}case"OneHot":{const r=it("indices",n,t,e),a=it("depth",n,t,e),c=it("onValue",n,t,e),u=it("offValue",n,t,e),f=it("dtype",n,t,e);return[i.oneHot(r,a,c,u,f)]}case"Ones":return[i.ones(it("shape",n,t,e),it("dtype",n,t,e))];case"OnesLike":return[i.onesLike(it("x",n,t,e))];case"RandomStandardNormal":return[i.randomStandardNormal(it("shape",n,t,e),it("dtype",n,t,e),it("seed",n,t,e))];case"RandomUniform":return[i.randomUniform(it("shape",n,t,e),it("minval",n,t,e),it("maxval",n,t,e),it("dtype",n,t,e))];case"RandomUniformInt":return[i.randomUniformInt(it("shape",n,t,e),it("minval",n,t,e),it("maxval",n,t,e),it("seed",n,t,e))];case"Range":{const r=it("start",n,t,e),a=it("stop",n,t,e),c=it("step",n,t,e);return[i.range(r,a,c,it("dtype",n,t,e))]}case"TruncatedNormal":{const r=it("shape",n,t,e),a=it("mean",n,t,e),c=it("stdDev",n,t,e),u=it("seed",n,t,e);return[i.truncatedNormal(r,a,c,it("dtype",n,t,e),u)]}case"Zeros":return[i.zeros(it("shape",n,t,e),it("dtype",n,t,e))];case"ZerosLike":return[i.zerosLike(it("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"dynamic":return G1(c,u,f);case"evaluation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"LowerBound":{const r=it("sortedSequence",n,t,e),a=it("values",n,t,e);return[i.lowerBound(r,a)]}case"TopKV2":{const r=it("x",n,t,e),a=it("k",n,t,e),c=it("sorted",n,t,e),u=i.topk(r,a,c);return[u.values,u.indices]}case"UpperBound":{const r=it("sortedSequence",n,t,e),a=it("values",n,t,e);return[i.upperBound(r,a)]}case"Unique":{const r=it("x",n,t,e),a=i.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=it("x",n,t,e),a=it("axis",n,t,e),c=i.unique(r,a);return[c.values,c.indices]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"image":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"ResizeBilinear":{const r=it("images",n,t,e),a=it("size",n,t,e),c=it("alignCorners",n,t,e),u=it("halfPixelCenters",n,t,e);return[i.image.resizeBilinear(r,[a[0],a[1]],c,u)]}case"ResizeNearestNeighbor":{const r=it("images",n,t,e),a=it("size",n,t,e),c=it("alignCorners",n,t,e),u=it("halfPixelCenters",n,t,e);return[i.image.resizeNearestNeighbor(r,[a[0],a[1]],c,u)]}case"CropAndResize":{const r=it("image",n,t,e),a=it("boxes",n,t,e),c=it("boxInd",n,t,e),u=it("cropSize",n,t,e),f=it("method",n,t,e),p=it("extrapolationValue",n,t,e);return[i.image.cropAndResize(r,a,c,u,f,p)]}case"ImageProjectiveTransformV3":{const r=it("images",n,t,e),a=it("transforms",n,t,e),c=it("outputShape",n,t,e),u=it("fillValue",n,t,e),f=it("interpolation",n,t,e),p=it("fillMode",n,t,e);return[i.image.transform(r,a,f.toLowerCase(),p.toLowerCase(),u,c)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"graph":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Const":return t[n.name];case"PlaceholderWithDefault":const r=it("default",n,t,e);return[Ic(n.name,t,e)||r];case"Placeholder":return[Ic(n.name,t,e)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Df(it("x",n,t,e))];case"IdentityN":return it("x",n,t,e).map(g=>Df(g));case"Shape":return[i.tensor1d(it("x",n,t,e).shape,"int32")];case"ShapeN":return it("x",n,t,e).map(g=>i.tensor1d(g.shape));case"Size":return[i.scalar(it("x",n,t,e).size,"int32")];case"Rank":return[i.scalar(it("x",n,t,e).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const c=it("x",n,t,e),u=it("data",n,t,e),f=it("message",n,t,e),p=it("summarize",n,t,e);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(f);for(let g=0;g<u.length;g++)console.log(Array.prototype.slice.call(u[g].dataSync()).slice(0,p));return[c];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"logical":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Equal":return[i.equal(it("a",n,t,e),it("b",n,t,e))];case"NotEqual":return[i.notEqual(it("a",n,t,e),it("b",n,t,e))];case"Greater":return[i.greater(it("a",n,t,e),it("b",n,t,e))];case"GreaterEqual":return[i.greaterEqual(it("a",n,t,e),it("b",n,t,e))];case"Less":return[i.less(it("a",n,t,e),it("b",n,t,e))];case"LessEqual":return[i.lessEqual(it("a",n,t,e),it("b",n,t,e))];case"LogicalAnd":return[i.logicalAnd(it("a",n,t,e),it("b",n,t,e))];case"LogicalNot":return[i.logicalNot(it("a",n,t,e))];case"LogicalOr":return[i.logicalOr(it("a",n,t,e),it("b",n,t,e))];case"Select":case"SelectV2":return[i.where(it("condition",n,t,e),it("a",n,t,e),it("b",n,t,e))];case"BitwiseAnd":return[i.bitwiseAnd(it("a",n,t,e),it("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"matrices":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul(it("a",n,t,e),it("b",n,t,e),it("transposeA",n,t,e),it("transposeB",n,t,e))];case"Einsum":return[i.einsum(it("equation",n,t,e),...it("tensors",n,t,e))];case"Transpose":return[i.transpose(it("x",n,t,e),it("perm",n,t,e))];case"_FusedMatMul":const[r,a]=it("fusedOps",n,t,e),c="biasadd"===r,u="prelu"===a,f=it("numArgs",n,t,e),p=it("leakyreluAlpha",n,t,e);if(c){if(u&&2!==f)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==f)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[g,v]=it("args",n,t,e);return[i.fused.matMul({a:it("a",n,t,e),b:it("b",n,t,e),transposeA:it("transposeA",n,t,e),transposeB:it("transposeB",n,t,e),bias:g,activation:a,preluActivationWeights:v,leakyreluAlpha:p})];case"MatrixBandPart":return[i.linalg.bandPart(it("a",n,t,e),it("numLower",n,t,e),it("numUpper",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"normalization":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"EuclideanNorm":return[i.euclideanNorm(it("x",n,t,e),it("axis",n,t,e),it("keepDims",n,t,e))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[i.batchNorm(it("x",n,t,e),it("mean",n,t,e),it("variance",n,t,e),it("offset",n,t,e),it("scale",n,t,e),it("epsilon",n,t,e))];case"LRN":return[i.localResponseNormalization(it("x",n,t,e),it("radius",n,t,e),it("bias",n,t,e),it("alpha",n,t,e),it("beta",n,t,e))];case"Softmax":return[i.softmax(it("x",n,t,e))];case"LogSoftmax":return[i.logSoftmax(it("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"ragged":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=i.raggedGather(it("paramsNestedSplits",n,t,e),it("paramsDenseValues",n,t,e),it("indices",n,t,e),it("outputRaggedRank",n,t,e));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=i.raggedRange(it("starts",n,t,e),it("limits",n,t,e),it("splits",n,t,e));return[r,a]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor(it("shape",n,t,e),it("values",n,t,e),it("defaultValue",n,t,e),it("rowPartitionTensors",n,t,e),it("rowPartitionTypes",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"reduction":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Max":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.max(it("x",n,t,e),u,f)]}case"Mean":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.mean(it("x",n,t,e),u,f)]}case"Min":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.min(it("x",n,t,e),u,f)]}case"Sum":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.sum(it("x",n,t,e),u,f)]}case"All":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.all(it("x",n,t,e),u,f)]}case"Any":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.any(it("x",n,t,e),u,f)]}case"ArgMax":{const u=it("axis",n,t,e);return[i.argMax(it("x",n,t,e),u)]}case"ArgMin":{const u=it("axis",n,t,e);return[i.argMin(it("x",n,t,e),u)]}case"Prod":{const u=it("axis",n,t,e),f=it("keepDims",n,t,e);return[i.prod(it("x",n,t,e),u,f)]}case"Cumprod":{const u=it("axis",n,t,e),f=it("exclusive",n,t,e),p=it("reverse",n,t,e);return[i.cumprod(it("x",n,t,e),u,f,p)]}case"Cumsum":{const u=it("axis",n,t,e),f=it("exclusive",n,t,e),p=it("reverse",n,t,e);return[i.cumsum(it("x",n,t,e),u,f,p)]}case"Bincount":const r=it("x",n,t,e),a=it("weights",n,t,e),c=it("size",n,t,e);return[i.bincount(r,a,c)];case"DenseBincount":{const u=it("x",n,t,e),f=it("weights",n,t,e),p=it("size",n,t,e),g=it("binaryOutput",n,t,e);return[i.denseBincount(u,f,p,g)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"slice_join":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"ConcatV2":case"Concat":{const r=it("n",n,t,e),a=it("axis",n,t,e);let c=it("tensors",n,t,e);return c=c.slice(0,r),[i.concat(c,a)]}case"Gather":{const r=it("x",n,t,e),a=it("indices",n,t,e);return[i.gather(r,i.cast(a,"int32"),0)]}case"GatherV2":{const r=it("axis",n,t,e),a=it("batchDims",n,t,e),c=it("x",n,t,e),u=it("indices",n,t,e);return[i.gather(c,i.cast(u,"int32"),r,a)]}case"Reverse":{const r=it("dims",n,t,e),a=[];for(let u=0;u<r.length;u++)r[u]&&a.push(u);const c=it("x",n,t,e);return[i.reverse(c,a)]}case"ReverseV2":{const r=it("axis",n,t,e),a=it("x",n,t,e);return[i.reverse(a,r)]}case"Slice":{const r=it("begin",n,t,e),a=it("size",n,t,e);return[i.slice(it("x",n,t,e),r,a)]}case"StridedSlice":{const r=it("begin",n,t,e),a=it("end",n,t,e),c=it("strides",n,t,e),u=it("beginMask",n,t,e),f=it("endMask",n,t,e),p=it("ellipsisMask",n,t,e),g=it("newAxisMask",n,t,e),v=it("shrinkAxisMask",n,t,e),T=it("x",n,t,e);return[i.stridedSlice(T,r,a,c,u,f,p,g,v)]}case"Pack":return k(()=>{const r=it("axis",n,t,e),a=it("tensors",n,t,e),c=a[0].shape,u=i.squeeze(a[0]).shape,f=a.map(p=>{const g=Re(p.shape,c);if(!g&&!Re(i.squeeze(p).shape,u))throw new Error("the input tensors shape does not match");return g?p:i.reshape(p,c)});return[i.stack(f,r)]});case"Unpack":{const r=it("axis",n,t,e),a=it("tensor",n,t,e);return i.unstack(a,r)}case"Tile":{const r=it("reps",n,t,e);return[i.tile(it("x",n,t,e),r)]}case"Split":case"SplitV":{const r=it("axis",n,t,e),a=it("numOrSizeSplits",n,t,e),c=it("x",n,t,e);return i.split(c,a,r)}case"ScatterNd":{const r=it("indices",n,t,e),a=it("values",n,t,e),c=it("shape",n,t,e);return[i.scatterND(r,a,c)]}case"GatherNd":{const r=it("x",n,t,e),a=it("indices",n,t,e);return[i.gatherND(r,a)]}case"SparseToDense":{const r=it("sparseIndices",n,t,e),a=it("outputShape",n,t,e),c=it("sparseValues",n,t,e),u=it("defaultValue",n,t,e);return[i.sparseToDense(r,c,a,c.dtype===u.dtype?u:i.cast(u,c.dtype))]}case"TensorScatterUpdate":{const r=it("indices",n,t,e),a=it("values",n,t,e),c=it("tensor",n,t,e);return[i.tensorScatterUpdate(c,r,a)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"sparse":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:c,reverseIndexMap:u}=i.sparse.sparseFillEmptyRows(it("indices",n,t,e),it("values",n,t,e),it("denseShape",n,t,e),it("defaultValue",n,t,e));return[r,a,c,u]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=i.sparse.sparseReshape(it("inputIndices",n,t,e),it("inputShape",n,t,e),it("newShape",n,t,e));return[r,a]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean(it("data",n,t,e),it("indices",n,t,e),it("segmentIds",n,t,e))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum(it("data",n,t,e),it("indices",n,t,e),it("segmentIds",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"spectral":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"FFT":return[i.fft(it("x",n,t,e))];case"IFFT":return[i.ifft(it("x",n,t,e))];case"RFFT":return[i.rfft(it("x",n,t,e))];case"IRFFT":return[i.irfft(it("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"string":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"StaticRegexReplace":return[i.string.staticRegexReplace(it("input",n,t,e),it("pattern",n,t,e),it("rewrite",n,t,e),it("replaceGlobal",n,t,e))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=i.string.stringNGrams(it("data",n,t,e),it("dataSplits",n,t,e),it("separator",n,t,e),it("nGramWidths",n,t,e),it("leftPad",n,t,e),it("rightPad",n,t,e),it("padWidth",n,t,e),it("preserveShortSequences",n,t,e));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:c}=i.string.stringSplit(it("input",n,t,e),it("delimiter",n,t,e),it("skipEmpty",n,t,e));return[r,a,c]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast(it("input",n,t,e),it("numBuckets",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"transformation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Cast":return[i.cast(it("x",n,t,e),it("dtype",n,t,e))];case"ExpandDims":{const r=it("axis",n,t,e);return[i.expandDims(it("x",n,t,e),r)]}case"Squeeze":{const r=it("axis",n,t,e);return[i.squeeze(it("x",n,t,e),r)]}case"Reshape":return[i.reshape(it("x",n,t,e),it("shape",n,t,e))];case"EnsureShape":return[i.ensureShape(it("x",n,t,e),it("shape",n,t,e))];case"MirrorPad":return[i.mirrorPad(it("x",n,t,e),it("padding",n,t,e),it("mode",n,t,e))];case"PadV2":case"Pad":return[i.pad(it("x",n,t,e),it("padding",n,t,e),it("constantValue",n,t,e))];case"SpaceToBatchND":{const r=it("blockShape",n,t,e),a=it("paddings",n,t,e);return[i.spaceToBatchND(it("x",n,t,e),r,a)]}case"BatchToSpaceND":{const r=it("blockShape",n,t,e),a=it("crops",n,t,e);return[i.batchToSpaceND(it("x",n,t,e),r,a)]}case"DepthToSpace":{const r=it("blockSize",n,t,e),a=it("dataFormat",n,t,e).toUpperCase();return[i.depthToSpace(it("x",n,t,e),r,a)]}case"BroadcastTo":return[i.broadcastTo(it("x",n,t,e),it("shape",n,t,e))];case"BroadcastArgs":return[i.broadcastArgs(it("s0",n,t,e),it("s1",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"hash_table":return WL(c,u,f,i);case"custom":const p=P1(c.op);if(p&&p.customExecutor)return p.customExecutor(new FL(c,u,f));throw TypeError(`Custom op ${c.op} is not registered.`);default:throw TypeError(`Unknown op '${c.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(n,t,e);return We(a)?a.then(c=>[].concat(c)):[].concat(a)}class Z1{constructor(t={},e={},i={},r={},a){this.weightMap=t,this.tensorArrayMap=e,this.tensorListMap=i,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,e){return{id:t,frameName:e,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const t=[];for(let e=0;e<this.contexts.length-1;e++){const i=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(i))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(const e in this.tensorArrayMap)this.tensorArrayMap[e].clearAndClose(t);for(const e in this.tensorListMap)this.tensorListMap[e].clearAndClose(t)}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $N(n,t,e,i){const r=new Set,a=[];let c=null,u=null;const f=new Set,p=new Set(Object.keys(n).map(T=>fd(T)[0]));i=i||[];const g=new Set(i.map(T=>fd(T.name)[0])),v=[...t];for(;v.length>0;){const T=v.pop();if((wp(T)||ik(T)||UN(T))&&null==c&&(c=T,u=c.children.map(U=>U.name).filter(U=>r.has(U))),r.add(T.name),null==e[T.name]&&!p.has(T.name)&&!g.has(T.name)){if(0===T.inputs.length){a.push(T.name);continue}T.inputs.forEach(U=>{f.has(U.name)||(f.add(U.name),v.push(U))})}}return{inputs:n,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:c,syncInputs:u}}class Cb extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}}const Ix=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),nk=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),VN=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function wp(n){return Ix.has(n.op)}function ik(n){return nk.has(n.op)}function UN(n){return VN.has(n.op)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class M_{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){const e=Object.keys(t).map(i=>t[i].map(r=>r.id));this._weightIds=[].concat(...e),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{const e=t.signatureKey||t.name;return t.defaultOutput?`${e}:${t.defaultOutput}`:e})}get functions(){return Object.keys(this._functions).reduce((t,e)=>(t[e]=this._functions[e].signature,t),{})}constructor(t,e){this.graph=t,this.parent=e,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach(i=>{this._functionExecutorMap[i]=new M_(t.functions[i],this)})}getCompilationKey(t,e){const i=t.map(a=>a.name).sort(),r=e.map(a=>a.name).sort();return i.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(t,e){const i=$N(t,e,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:c}=i;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${c}]`);if(r.length>0){const p=e.map(v=>v.name),g=Object.keys(t);throw new Error(`Cannot compute the outputs [${p}] from the provided inputs [${g}]. Missing the following inputs: [${r}]`)}const u=function J1(n,t){const{usedNodes:e,inputs:i}=t,c=te=>e.has("string"==typeof te?te:te.name);function u(te){return[...new Map(te.map(ye=>[ye.name,ye])).values()]}const f=u([...Object.keys(i).map(te=>fd(te)[0]).map(te=>n.nodes[te]),...n.weights,...n.initNodes||[]]).filter(c),p=u([...f,...Object.values(n.nodes)]).filter(c),g=new Map(p.map(te=>[te.name,te])),v={};for(const te of p){v[te.name]=v[te.name]||0;for(const ye of te.children)c(ye)||(v[ye.name]=Number.POSITIVE_INFINITY),v[ye.name]=(v[ye.name]||0)+1}const T=Object.entries(v).filter(([,te])=>0===te).map(([te])=>te),U=[...T];for(;T.length>0;){const te=T.pop(),ye=g.get(te);for(const ke of ye.children.filter(c))0==--v[ke.name]&&(U.push(ke.name),T.push(ke.name))}const ae=function ek(n,t){const e=new Map(n.map(c=>[c.name,c])),i=t.map(c=>c.name),r=new Set(i);for(;i.length>0;){const c=i.pop(),u=e.get(c);for(const f of u.children)!e.has(f.name)||r.has(f.name)||(r.add(f.name),i.push(f.name))}return n.filter(c=>r.has(c.name))}(U.map(te=>g.get(te)),f);return function tk(n,t){const e=new Map(n.map((u,f)=>[u.name,f])),i=new Set(t.map(u=>u.name)),r=u=>i.has("string"==typeof u?u:u.name),a=new Set(n.map(u=>u.name)),c=u=>a.has("string"==typeof u?u:u.name);for(const u of n){for(const f of u.children.filter(c)){if(!e.has(f.name))throw new Cb(`Child ${f.name} of node ${u.name} is unreachable.`);if(e.get(u.name)>e.get(f.name))throw new Cb(`Node ${u.name} is scheduled to run after its child ${f.name}.`)}if(!r(u))for(const f of u.inputs){if(!e.has(f.name))throw new Cb(`Input ${f.name} of node ${u.name} is unreachable.`);if(e.get(f.name)>e.get(u.name))throw new Cb(`Node ${u.name} is scheduled to run before its input ${f.name}.`)}}}(ae,f),ae}(this.graph,i),f=function BN(n){const t=new Map(n.map((u,f)=>[u.name,f])),e=Number.MAX_SAFE_INTEGER,i=n.map((u,f)=>wp(u)?e:f),r=u=>i[t.get(u.name)]??-1,a=n.map((u,f)=>u.children.map(r).reduce((p,g)=>Math.max(p,g),i[f])),c=new Map;for(let u=0;u<n.length;++u){const f=a[u];if(f===e)continue;const p=n[u],g=n[f];c.has(g.name)||c.set(g.name,[]),c.get(g.name).push(p)}return c}(u);return{orderedNodes:u,nodeLiveUntilMap:f}}cloneAndKeepTensor(t){if(null==t)return null;const e=t.clone();return fe(e),e}cloneTensorList(t){return t?t.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([e,i])=>[e,this.cloneTensorList(i)]))}execute(t,e){this.disposeIntermediateTensors(),t=this.mapInputs(t);const i=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),e=this.mapOutputs(e),this.checkOutputs(e);const r=i.map(T=>this.graph.nodes[fd(T)[0]]),a=e.map(T=>fd(T)[0]),c=new Set(a);let u=a.map(T=>this.graph.nodes[T]);0===u.length&&(u=this._outputs);const f=this.getCompilationKey(r,u);let p=this.compiledMap.get(f);null==p&&(p=this.compile(t,u),this.compiledMap.set(f,p));try{this.keepIntermediateTensors=Te().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(T){this.keepIntermediateTensors=!1,console.warn(T.message)}const g={},v={};return k(()=>{const T=new Z1(this.weightMap,g,v,this.functionExecutorMap,this.parseNodeNameCache),U=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(ye=>{const[ke,tt]=fd(ye,T),nt=[];nt[tt]=t[ye],U[ke]=nt,this.keepIntermediateTensors&&(this.clonedTensorsMap[ke]=this.cloneTensorList(nt))});const q=this.getFrozenTensorIds(U),{orderedNodes:ae,nodeLiveUntilMap:te}=p;for(const ye of ae){if(U[ye.name])continue;const ke=Q1(ye,U,T,this._resourceManager);if(We(ke))throw new Error(`The execution of the op '${ye.op}' returned a promise. Please use model.executeAsync() instead.`);U[ye.name]=ke,this.keepIntermediateTensors&&(this.clonedTensorsMap[ye.name]=this.cloneTensorList(ke)),this.checkTensorForDisposalWithNodeLiveUntilInfo(ye,U,T,q,c,te.get(ye.name))}return null==this.parent&&T.dispose(q),e.map(ye=>Ic(ye,U,T))})}getFrozenTensorIds(t){const e=[].concat.apply([],Object.keys(t).map(i=>t[i]).map(i=>i.map(r=>r.id)));return new Set(e)}checkTensorForDisposal(t,e,i,r,a,c,u){if(!wp(e)&&!c.has(t)){for(const f of i[t])null!=f&&(u[f.id]=(u[f.id]||0)+e.children.length);for(const f of e.inputs){if(wp(f))continue;const p=mx(f.name,i,r);if(null!=p)for(const g of p){if(!g||g.kept||a.has(g.id))continue;const v=u[g.id];1===v?(g.dispose(),delete u[g.id]):null!=v&&u[g.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,e,i,r,a,c){function u(f){return wp(f)||a.has(f.name)}if(!wp(t)&&null!=c)for(const f of c){if(u(f))continue;const p=mx(f.name,e,i);for(const g of p)!g||g.kept||r.has(g.id)||g.dispose()}}executeAsync(t,e){var i=this;return(0,Q.A)(function*(){return i._executeAsync(t,e)})()}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(const e of t)e&&!e.isDisposed&&e.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(t,e,i=!1,r={},a={}){var c=this;return(0,Q.A)(function*(){c.disposeIntermediateTensors(),i||(t=c.mapInputs(t),c.checkInputs(t),c.checkInputShapeAndType(t),e=c.mapOutputs(e),c.checkOutputs(e));try{c.keepIntermediateTensors=Te().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(U){c.keepIntermediateTensors=!1,console.warn(U.message)}const u=new Z1(c.weightMap,r,a,c.functionExecutorMap,c.parseNodeNameCache);c.keepIntermediateTensors&&(c.clonedTensorsMap=c.cloneTensorMap(c.weightMap));const f=yield c.executeWithControlFlow(t,u,e,i),p=e.map(U=>Ic(U,f,u)),g=p.map(U=>U.id),v=Object.keys(t).map(U=>t[U].id),T=new Set([...g,...v,...c.weightIds]);return Object.values(f).forEach(U=>{U.forEach(q=>{q&&!q.isDisposed&&!T.has(q.id)&&q.dispose()})}),null==c.parent&&u.dispose(T),p})()}executeFunctionAsync(t,e,i){var r=this;return(0,Q.A)(function*(){const a=t.reduce((c,u,f)=>(c[r.inputs[f].name]=u,c),{});return r._executeAsync(a,r.outputNodes,!0,e,i)})()}executeWithControlFlow(t,e,i,r){var a=this;return(0,Q.A)(function*(){const c=Object.keys(t),u=c.map(St=>a.graph.nodes[fd(St)[0]]),f=i.map(St=>fd(St)[0]),p=new Set(f);let g=f.map(St=>a.graph.nodes[St]);0===g.length&&(g=a._outputs);const{usedNodes:v,missingInputs:T,dynamicNode:U,syncInputs:q}=$N(t,g,a.weightMap,a._initNodes),ae=[...u,...a.graph.weights,...a._initNodes||[]].map(St=>({node:St,contexts:e.currentContext})),te=Object.assign({},a.weightMap);Object.keys(t).forEach(St=>{const[Xt,rn]=fd(St),un=[];un[rn]=t[St],te[Xt]=un});const ye={},ke=a.getFrozenTensorIds(te),tt={};for(;ae.length>0;){const St=a.processStack(u,ae,e,te,tt,ke,p,ye,v);yield Promise.all(St)}null==U&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const nt=g.filter(St=>!wp(St)&&!Ic(St.name,te,e)).map(St=>St.name);if(nt.length>0){let St="";throw null!=U&&(St=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${q}]`),new Error(`Cannot compute the outputs [${nt}] from the provided inputs [${c}]. Consider providing the following inputs: [${T}]. ${St}`)}return te})()}processStack(t,e,i,r,a,c,u,f,p){const g=[];for(;e.length>0;){const v=e.pop();i.currentContext=v.contexts;let T="";if("Enter"===v.node.op&&it("isConstant",v.node,r,i)&&([T]=Zh(v.node.name,i)),null==r[v.node.name]){const U=Q1(v.node,r,i,this._resourceManager);T||([T]=Zh(v.node.name,i));const q=i.currentContext;We(U)?g.push(U.then(ae=>(r[T]=ae,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(ae)),i.currentContext=q,this.checkTensorForDisposal(T,v.node,r,i,c,u,f),this.processChildNodes(v.node,e,i,r,a,p),ae))):(r[T]=U,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(U)),this.checkTensorForDisposal(T,v.node,r,i,c,u,f),this.processChildNodes(v.node,e,i,r,a,p))}else this.processChildNodes(v.node,e,i,r,a,p)}return g}processChildNodes(t,e,i,r,a,c){t.children.forEach(u=>{const[f]=Zh(u.name,i);a[f]||!c.has(u.name)||("Merge"===u.op?u.inputNames.some(p=>!!Ic(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})):u.inputNames.every(p=>!!Ic(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(e=>e.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(e=>{const i=t[e],[r]=fd(e),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const c=a.attrParams.shape.value;Se(c.length===i.shape.length&&i.shape.every((f,p)=>-1===c[p]||c[p]===f),()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${c}], but was [${i.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&Se(i.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${i.dtype}`)})}mapInputs(t){var e,i;const r={};for(const a in t){const c=null===(i=null===(e=this._signature)||void 0===e?void 0:e.inputs)||void 0===i?void 0:i[a];null!=c?r[c.name]=t[a]:r[a]=t[a]}return r}checkInputs(t){const e=Object.keys(t).filter(i=>{const[r]=fd(i);return null==this.graph.nodes[r]});if(e.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${e}] that are not part of graph`)}mapOutputs(t){return t.map(e=>{var i,r;const a=null===(r=null===(i=this._signature)||void 0===i?void 0:i.outputs)||void 0===r?void 0:r[e];return null!=a?a.name:e},{})}checkOutputs(t){t.forEach(e=>{const[i]=fd(e);if(!this.graph.nodes[i])throw new Error(`The output '${e}' is not found in the graph`)})}}class JL{constructor(t={},e={}){this.hashTableNameToHandle=t,this.hashTableMap=e}addHashTable(t,e){this.hashTableNameToHandle[t]=e.handle,this.hashTableMap[e.id]=e}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(const t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(const t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zN="?tfjs-format=file",jN="model.json";class rk{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,e={},i=d){this.modelUrl=t,this.loadOptions=e,this.version="n/a",this.io=i,null==e&&(this.loadOptions={}),this.resourceManager=new JL}findIOHandler(){const t=this.modelUrl;if(null!=t.load)this.handler=t;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{const e=this.io.getLoadHandlers(t,this.loadOptions);if(0===e.length)e.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(e.length>1)throw new Error(`Found more than one (${e.length}) load handlers for URL '${[t]}'`);this.handler=e[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const t=this.handler.load();return We(t)?t.then(e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e)):this.loadSync(t)}loadSync(t){const e=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,e)}loadStreaming(t){var e=this;return(0,Q.A)(function*(){if(null==t.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const i=yield dr(t.getWeightStream(),t.weightSpecs);return e.loadWithWeightMap(t,i)})()}loadWithWeightMap(t,e){this.artifacts=t;const i=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const a=this.artifacts.userDefinedMetadata;null!=a.signature&&(r=a.signature),null!=a.structuredOutputKeys&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=r,this.version=`${i.versions.producer}.${i.versions.minConsumer}`,this.executor=new M_(V1.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(e),this.executor.resourceManager=this.resourceManager,null!=t.modelInitializer&&null!=t.modelInitializer.node){const a=V1.Instance.transformGraph(t.modelInitializer);this.initializer=new M_(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}save(t,e){var i=this;return(0,Q.A)(function*(){if("string"==typeof t){const r=i.io.getSaveHandlers(t);if(0===r.length)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${t}'`);t=r[0]}if(null==t.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(i.artifacts)})()}addStructuredOutputNames(t){if(this.structuredOutputKeys){const i={};return(t instanceof to?[t]:t).forEach((r,a)=>i[this.structuredOutputKeys[a]]=r),i}return t}predict(t,e){const i=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(i)}predictAsync(t,e){var i=this;return(0,Q.A)(function*(){const r=yield i.executeAsync(t,i.outputNodes);return i.addStructuredOutputNames(r)})()}normalizeInputs(t){var e;if(!(t instanceof to||Array.isArray(t))){const a=null===(e=this.signature)||void 0===e?void 0:e.inputs;if(null!=a)for(const c in a){const u=a[c];null!=u.resourceId&&(t[c]=this.resourceIdToCapturedInput[u.resourceId])}return t}t=Array.isArray(t)?t:[t];const i=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+i!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-i} non-resource placeholders, while there are ${t.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((a,c)=>{var u,f,p;const g=null===(p=null===(f=null===(u=this.signature)||void 0===u?void 0:u.inputs)||void 0===f?void 0:f[c])||void 0===p?void 0:p.resourceId;return a[c]=null!=g?this.resourceIdToCapturedInput[g]:t[r++],a},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return null==this.initializer?[]:this.initializer.execute({},null==this.initializerSignature?[]:Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){var t=this;return(0,Q.A)(function*(){return null==t.initializer?[]:t.initializer.executeAsync({},null==t.initializerSignature?[]:Object.keys(t.initializerSignature.outputs))})()}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){const e=this.initializerSignature.outputs,i=Object.keys(e);for(let r=0;r<i.length;r++)this.resourceIdToCapturedInput[e[i[r]].resourceId]=t[r]}}execute(t,e){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),e=this.normalizeOutputs(e);const i=this.executor.execute(t,e);return i.length>1?i:i[0]}executeAsync(t,e){var i=this;return(0,Q.A)(function*(){null==i.resourceIdToCapturedInput&&i.setResourceIdToCapturedInput(yield i.executeInitializerGraphAsync()),t=i.normalizeInputs(t),e=i.normalizeOutputs(e);const r=yield i.executor.executeAsync(t,e);return r.length>1?r:r[0]})()}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((e,i)=>(e[i]=[t[i]],e),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&V(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}function WN(n){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,Q.A)(function*(n,t={},e=d){if(null==n)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"==typeof n&&(n=function GN(n){return n.endsWith("/")||(n+="/"),`${n}${jN}${zN}`
/** @license See the LICENSE file. */}(n));const i=new rk(n,t,e);return yield i.load(),i})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ir(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Se("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");const kU=Yy;let IU=(()=>{class n extends Je{nextDataId(){return n.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new yt(this,zl())}write(e,i,r){this.firstUse&&(this.firstUse=!1,Te().get("IS_NODE")&&on("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&Wn(r[0])){const c=r.map(u=>nc(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return{dataId:a,shape:e,dtype:i}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){this.data.get(e).refCount++}decRef(e){this.data.has(e)&&this.data.get(e).refCount--}move(e,i,r,a,c){this.data.set(e,{values:i,dtype:a,refCount:c})}numDataIds(){return this.data.numDataIds()}read(e){var i=this;return(0,Q.A)(function*(){return i.readSync(e)})()}readSync(e){const{dtype:i,complexTensorInfos:r}=this.data.get(e);return"complex64"===i?ch(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):function Ni(n,t){if(Array.isArray(n))return n;if("float32"===t)return n instanceof Float32Array?n:new Float32Array(n);if("int32"===t)return n instanceof Int32Array?n:new Int32Array(n);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(n));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,i)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>zc(a));return is(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return is(e.shape,e.dtype,i)}makeOutput(e,i,r){return zl().makeTensorFromTensorInfo(this.makeTensorInfo(i,r,e),this)}disposeData(e,i=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!i&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}time(e){return(0,Q.A)(function*(){const i=jr();return e(),{kernelMs:jr()-i}})()}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ir([e],"where");const i=this.readSync(e.dataId);return kU(e.shape,i)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}return n.nextDataId=0,n})();
/** @license See the LICENSE file. */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kf(n){return(t,e,i)=>{const r=Z(e,t.length);for(let a=0;a<t.length;++a)r[a]=n(t[a],i);return r}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ma(n,t,e){return Vm(n,kf(t),e)}function Vm(n,t,e){return({inputs:i,attrs:r,backend:a})=>{const{x:c}=i;Ir(c,n);const u=a,f=u.data.get(c.dataId).values;let p;if("string"===c.dtype){if(!Array.isArray(f))throw new Error("String tensor's value was not an instance of Array");p=Hh(f)}else p=f;const g=e||c.dtype,v=t(p,g,r);return u.makeTensorInfo(c.shape,g,v)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
mi("cpu",()=>new IU,1);const h$=ma(Ra,n=>n>=0?n:Math.exp(n)-1),MU={kernelName:Ra,backendName:"cpu",kernelFunc:h$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function If(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const OU={kernelName:Pa,backendName:"cpu",kernelFunc:If};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function f$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i;Ir([r],"leakyRelu");const c=Tt(r.shape),u=e.data.get(r.dataId).values,f=ut("float32",c);for(let p=0;p<u.length;p++)f[p]=u[p]<0?a*u[p]:u[p];return e.makeTensorInfo(r.shape,"float32",f)}const RU={kernelName:na,backendName:"cpu",kernelFunc:f$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function hc(n){return(t,e,i,r,a)=>{const c=Ts(t,e),u=c.length,f=$t(c),g=ut(a,Tt(c)),v=t.length,T=e.length,U=$t(t),q=$t(e),ae=rc(t,c),te=rc(e,c);if(ae.length+te.length===0)for(let ye=0;ye<g.length;++ye)g[ye]=n(i[ye%i.length],r[ye%r.length]);else for(let ye=0;ye<g.length;++ye){const ke=$e(ye,u,f),tt=ke.slice(-v);ae.forEach(rn=>tt[rn]=0);const nt=pt(tt,v,U),St=ke.slice(-T);te.forEach(rn=>St[rn]=0);const Xt=pt(St,T,q);g[ye]=n(i[nt],r[Xt])}return[g,c]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const NU=hc((n,t)=>n<0?t*n:n);function p$(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t;Ir([i,r],"prelu");const a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,[u,f]=NU(i.shape,r.shape,a,c,"float32");return e.makeTensorInfo(f,"float32",u)}const PU={kernelName:ie,backendName:"cpu",kernelFunc:p$},m$=ma(zr,n=>Math.max(0,n)),FU={kernelName:zr,backendName:"cpu",kernelFunc:m$},g$=ma(Ns,n=>Math.min(Math.max(0,n),6)),LU={kernelName:Ns,backendName:"cpu",kernelFunc:g$},$U=kf(n=>1/(1+Math.exp(-n))),_$=ma(zn,n=>1/(1+Math.exp(-n))),BU={kernelName:zn,backendName:"cpu",kernelFunc:_$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fk(n,t,e,i,r){if("linear"===e)return If({inputs:{x:t},backend:n});if("relu"===e)return m$({inputs:{x:t},backend:n});if("elu"===e)return h$({inputs:{x:t},backend:n});if("relu6"===e)return g$({inputs:{x:t},backend:n});if("prelu"===e)return p$({inputs:{x:t,alpha:i},backend:n});if("leakyrelu"===e)return f$({inputs:{x:t},backend:n,attrs:{alpha:r}});if("sigmoid"===e)return _$({inputs:{x:t},backend:n});throw new Error(`Activation ${e} has not been implemented for the CPU backend.`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sd(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=e.makeTensorInfo(i.shape,"complex64");return e.data.get(u.dataId).complexTensorInfos={real:e.makeTensorInfo(i.shape,"float32",a),imag:e.makeTensorInfo(r.shape,"float32",c)},u}const VU={kernelName:Bt,backendName:"cpu",kernelFunc:Sd};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function pk(n,t,e="float32"){if("complex64"===e)return Sd({inputs:{real:pk(n,t,"float32"),imag:pk(n,t,"float32")},backend:n});const i=Gn(Tt(t),e);return n.makeTensorInfo(t,e,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function N_(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.real,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const UU={kernelName:Rn,backendName:"cpu",kernelFunc:N_};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function y$(n,t,e,i){if("int32"===i)return[t,"int32",Int32Array.from(n)];if("bool"===i){const r=Va([0],e),[a,c]=hc((u,f)=>u!==f?1:0)(t,[],n,r,"bool");return[c,"bool",a]}throw new Error(`Error in Cast: failed to cast ${e} to ${i}`)}function Um(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return If({inputs:{x:r},backend:e});const g=pk(e,r.shape,r.dtype),v=Um({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),T=Sd({inputs:{real:v,imag:g},backend:e});return e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),T}if("complex64"===r.dtype){const g=N_({inputs:{input:r},backend:e}),v=Um({inputs:{x:g},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(g),v}if(!at(r.dtype,a)){const g=If({inputs:{x:r},backend:e});return{dataId:g.dataId,shape:g.shape,dtype:a}}const c=e.data.get(r.dataId).values,[u,f,p]=y$(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}const zU={kernelName:et,backendName:"cpu",kernelFunc:Um};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Uc(n,t,e,i){return null==e?({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;Ir([c,u],n);const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,v="string"===c.dtype?Hh(p):p,T="string"===c.dtype?Hh(g):g,U=i||c.dtype,[q,ae]=t(c.shape,u.shape,v,T,U);return f.makeTensorInfo(ae,U,q)}:({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;if("complex64"===c.dtype||"complex64"===u.dtype){const p=Um({inputs:{x:c},backend:f,attrs:{dtype:"complex64"}}),g=f.data.get(p.dataId),T=g.complexTensorInfos.imag,U=f.data.get(g.complexTensorInfos.real.dataId).values,q=f.data.get(T.dataId).values,ae=Um({inputs:{x:u},backend:f,attrs:{dtype:"complex64"}}),te=f.data.get(ae.dataId),ke=te.complexTensorInfos.imag,tt=f.data.get(te.complexTensorInfos.real.dataId).values,nt=f.data.get(ke.dataId).values,[St,Xt,rn]=e(c.shape,u.shape,U,q,tt,nt),un=f.makeTensorInfo(rn,"float32",St),bn=f.makeTensorInfo(rn,"float32",Xt),xn=Sd({inputs:{real:un,imag:bn},backend:f});return f.disposeIntermediateTensorInfo(p),f.disposeIntermediateTensorInfo(ae),f.disposeIntermediateTensorInfo(un),f.disposeIntermediateTensorInfo(bn),xn}{const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,v=i||c.dtype,[T,U]=t(c.shape,u.shape,p,g,v);return f.makeTensorInfo(U,v,T)}}}function aP(n){return(t,e,i,r,a,c)=>{const u=Ts(t,e),f=Tt(u),p=u.length,g=$t(u),v=ut("float32",f),T=ut("float32",f),U=rc(t,u),q=rc(e,u),ae=ch(i,r),te=ch(a,c),ye=t.length,ke=$t(t),tt=e.length,nt=$t(e);if(U.length+q.length===0)for(let St=0;St<v.length;St++){const Xt=St%ae.length,rn=St%te.length,un=n(ae[2*Xt],ae[2*Xt+1],te[2*rn],te[2*rn+1]);v[St]=un.real,T[St]=un.imag}else for(let St=0;St<v.length;St++){const Xt=$e(St,p,g),rn=Xt.slice(-ye);U.forEach(Yn=>rn[Yn]=0);const un=pt(rn,ye,ke),bn=Xt.slice(-tt);q.forEach(Yn=>bn[Yn]=0);const xn=pt(bn,tt,nt),Vn=n(ae[2*un],ae[2*un+1],te[2*xn],te[2*xn+1]);v[St]=Vn.real,T[St]=Vn.imag}return[v,T,u]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const v$=hc((n,t)=>n+t),jU=aP((n,t,e,i)=>({real:n+e,imag:t+i})),Ab=Uc(Ci,v$,jU),WU={kernelName:Ci,backendName:"cpu",kernelFunc:Ab};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function tl(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=Tt(r.shape),u=Ut(a,c),f=Tt(u);Se(c===f,()=>`The new shape (${u}) has ${f} elements and the old shape (${r.shape}) has ${c} elements. The new shape and old shape must have the same number of elements.`),e.incRef(r.dataId);const p=e.data.get(r.dataId);if(null!=p.complexTensorInfos){const v=p.complexTensorInfos.imag;p.complexTensorInfos.real.shape=u,v.shape=u}return{dataId:r.dataId,shape:u,dtype:r.dtype}}const HU={kernelName:hr,backendName:"cpu",kernelFunc:tl};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function b$(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;Ir([r,a],"matMul");const f=r.shape.length,p=a.shape.length,g=c?r.shape[f-2]:r.shape[f-1],v=u?a.shape[p-1]:a.shape[p-2],T=c?r.shape[f-1]:r.shape[f-2],U=u?a.shape[p-2]:a.shape[p-1],q=r.shape.slice(0,-2),ae=a.shape.slice(0,-2),te=Tt(q),ye=Tt(ae),tt=Ts(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([T,U]);Se(g===v,()=>`Error in matMul: inner shapes (${g}) and (${v}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${c} and transposeB=${u} must match.`);const St=u?[ye,U,v]:[ye,v,U],Xt=tl({inputs:{x:r},backend:e,attrs:{shape:c?[te,g,T]:[te,T,g]}}),rn=tl({inputs:{x:a},backend:e,attrs:{shape:St}}),un=c?Xt.shape[1]:Xt.shape[2],bn=c?Xt.shape[2]:Xt.shape[1],xn=u?rn.shape[1]:rn.shape[2],Vn=Math.max(te,ye),Yn=e.data.get(Xt.dataId).values,ti=e.data.get(rn.dataId).values,ni=$t(Xt.shape),ri=$t(rn.shape),[ui,gi,si]=c?[ni[0],1,ni[1]]:[ni[0],ni[1],1],[yi,Pi,Bi]=u?[1,ri[1],ri[0]]:[ri[1],1,ri[0]],Qi=bn*xn,Wi=is([Vn,bn,xn],Xt.dtype),sr=Wi.values,Zi=e.blockSize;for(let wr=0;wr<Vn;wr++){const Xr=wr%te,gs=wr%ye;for(let us=0;us<bn;us+=Zi){const Ws=Math.min(us+Zi,bn);for(let Xs=0;Xs<xn;Xs+=Zi){const ga=Math.min(Xs+Zi,xn);for(let nl=0;nl<un;nl+=Zi){const ql=Math.min(nl+Zi,un);for(let il=us;il<Ws;il++)for(let Ma=Xs;Ma<ga;Ma++){let $l=0;for(let Dl=nl;Dl<ql;Dl++)$l+=Yn[Xr*ui+il*gi+Dl*si]*ti[Dl*yi+Ma*Pi+gs*Bi];sr[wr*Qi+(il*xn+Ma)]+=$l}}}}}return e.disposeIntermediateTensorInfo(Xt),e.disposeIntermediateTensorInfo(rn),e.makeTensorInfo(tt,Wi.dtype,Wi.values)}const GU={kernelName:cr,backendName:"cpu",kernelFunc:b$},XU={kernelName:Dt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KU(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:v}=i;let T,U,q;const ae=[];T=b$({inputs:{a:r,b:a},attrs:{transposeA:f,transposeB:p},backend:e}),c&&(U=Ab({inputs:{a:T,b:c},backend:e}),ae.push(T),T=U),g&&(q=fk(e,T,g,u,v),ae.push(T),T=q);for(const ye of ae)e.disposeIntermediateTensorInfo(ye);return T}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function w$(n){const t=new Float32Array(n.length);for(let e=0;e<n.length;++e)t[e]=Math.abs(n[e]);return t}const YU={kernelName:ei,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend;Ir(t,"abs");let i=new Float32Array(Tt(t.shape));return i=w$(e.data.get(t.dataId).values),e.makeOutput(i,t.shape,t.dtype)}},qU=ma(pi,n=>Math.acos(n)),QU={kernelName:pi,backendName:"cpu",kernelFunc:qU},ZU=ma(zi,n=>Math.acosh(n)),JU={kernelName:zi,backendName:"cpu",kernelFunc:ZU},t3={kernelName:Gi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function e3(n){const{inputs:t,backend:e}=n,i=t;Ir(t,"addN");const r=i.map(u=>e.data.get(u.dataId).values),a=is(i[0].shape,i[0].dtype),c=a.values;for(let u=0;u<i.length;u++){const f=r[u];for(let p=0;p<c.length;p++)c[p]+=f[p]}return e.makeTensorInfo(a.shape,a.dtype,a.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lP(n,t,e,i,r){const a=t.length,c=Tt(t),u=$t(t),f=$t(r),p=ut(e,Tt(r));for(let g=0;g<c;++g){const v=$e(g,a,u),T=new Array(v.length);for(let q=0;q<T.length;q++)T[q]=v[i[q]];p[pt(T,a,f)]=n[g]}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function md(n){const{inputs:t,attrs:e,backend:i}=n,{x:r}=t,{perm:a}=e;Ir(r,"transpose");const u=new Array(r.shape.length);for(let v=0;v<u.length;v++)u[v]=r.shape[a[v]];const p=lP(i.data.get(r.dataId).values,r.shape,r.dtype,a,u);return{dataId:i.write(p,u,r.dtype),shape:u,dtype:r.dtype}}const n3={kernelName:wl,backendName:"cpu",kernelFunc:md},r3={kernelName:"All",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function i3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Ir(r,"all");const u=wt(a,r.shape);let f=u;const p=ml(f,r.shape.length);let g=r;null!=p&&(g=md({inputs:{x:r},backend:e,attrs:{perm:p}}),f=ja(f.length,r.shape.length)),Dc("all",f,g.shape.length);const[v,T]=Sc(g.shape,f),U=Tt(T),q=Gn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let ye=0;ye<q.length;++ye){const ke=ye*U;let tt=ae[ke];for(let nt=0;nt<U;++nt)tt=tt&&ae[ke+nt];q[ye]=tt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,q);if(c){const ke=tl({inputs:{x:te},backend:e,attrs:{shape:pl(v,u)}});return e.disposeIntermediateTensorInfo(te),ke}return te}},o3={kernelName:"Any",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function s3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Ir(r,"any");const u=wt(a,r.shape);let f=u;const p=ml(f,r.shape.length);let g=r;null!=p&&(g=md({inputs:{x:r},backend:e,attrs:{perm:p}}),f=ja(f.length,r.shape.length)),Dc("any",f,g.shape.length);const[v,T]=Sc(g.shape,f),U=Tt(T),q=Gn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let ye=0;ye<q.length;++ye){const ke=ye*U;let tt=ae[ke];for(let nt=0;nt<U;++nt)tt=tt||ae[ke+nt];q[ye]=tt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,q);if(c){const ke=tl({inputs:{x:te},backend:e,attrs:{shape:pl(v,u)}});return e.disposeIntermediateTensorInfo(te),ke}return te}},l3={kernelName:ur,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;Ir(r,"argMax");let c=wt(a,r.shape);const u=ml(c,r.shape.length);let f=r;const p=[];null!=u&&(f=md({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=ja(c.length,f.shape.length)),c=[c[0]],Dc("argMax",c,f.shape.length);const[g,v]=Sc(f.shape,c),U=Gn(Tt(g),"int32"),q=Tt(v),ae=e.data.get(f.dataId).values;for(let te=0;te<U.length;++te){const ye=te*q;let ke=ae[ye],tt=0;for(let nt=0;nt<q;++nt){const St=ae[ye+nt];St>ke&&(ke=St,tt=nt)}U[te]=tt}return p.forEach(te=>e.disposeIntermediateTensorInfo(te)),e.makeTensorInfo(g,"int32",U)}},u3={kernelName:or,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function c3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;Ir(r,"argMin");let c=wt(a,r.shape);const u=ml(c,r.shape.length);let f=r;const p=[];null!=u&&(f=md({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=ja(c.length,f.shape.length)),c=[c[0]],Dc("argMin",c,f.shape.length);const[g,v]=Sc(f.shape,c),U=Gn(Tt(g),"int32"),q=Tt(v),ae=e.data.get(f.dataId).values;for(let te=0;te<U.length;++te){const ye=te*q;let ke=ae[ye],tt=0;for(let nt=0;nt<q;++nt){const St=ae[ye+nt];St<ke&&(ke=St,tt=nt)}U[te]=tt}return p.forEach(te=>e.disposeIntermediateTensorInfo(te)),e.makeTensorInfo(g,"int32",U)}},d3=ma(Tr,n=>Math.asin(n)),h3={kernelName:Tr,backendName:"cpu",kernelFunc:d3},f3=ma(Hr,n=>Math.asinh(n)),p3={kernelName:Hr,backendName:"cpu",kernelFunc:f3},m3=ma(_s,n=>Math.atan(n)),g3={kernelName:_s,backendName:"cpu",kernelFunc:m3},_3=hc((n,t)=>Math.atan2(n,t)),y3=Uc(ys,_3),v3={kernelName:ys,backendName:"cpu",kernelFunc:y3},b3=ma(Ur,n=>Math.atanh(n)),w3={kernelName:Ur,backendName:"cpu",kernelFunc:b3};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cP(n,t,e,i,r,a){const c=r.strideHeight,u=r.strideWidth,f=r.dilationHeight,p=r.dilationWidth,g=r.effectiveFilterHeight,v=r.effectiveFilterWidth,T=r.padInfo.top,U=r.padInfo.left,q="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,ae=is(r.outShape,e),te=ae.values,ye=r.outShape[1]*r.outShape[2]*r.outShape[3],ke=r.outShape[2]*r.outShape[3],tt=r.outShape[3];for(let nt=0;nt<r.batchSize;++nt){const St=nt*ye,Xt=nt*i[0];for(let rn=0;rn<r.inChannels;++rn)for(let un=0;un<r.outHeight;++un){const bn=un*c-T,xn=Math.max(0,bn),Vn=Math.min(r.inHeight,g+bn),Yn=St+un*ke;for(let ti=0;ti<r.outWidth;++ti){const ni=ti*u-U,ri=Math.max(0,ni),ui=Math.min(r.inWidth,v+ni);let gi=q,si=0,yi=0;for(let Bi=xn;Bi<Vn;Bi+=f){const Qi=Xt+Bi*i[1];for(let Wi=ri;Wi<ui;Wi+=p){const Zi=n[Qi+Wi*i[2]+rn];"max"===a&&Zi>gi?gi=Zi:"avg"===a&&(si+=Zi,yi++)}if(isNaN(gi))break}te[Yn+ti*tt+rn]="avg"===a?si/yi:gi}}}return ae}function E$(n,t,e,i,r=!1,a=!1){const c=is(i.outShape,"int32"),u=i.strideHeight,f=i.strideWidth,p=i.dilationHeight,g=i.dilationWidth,v=i.effectiveFilterHeight,T=i.effectiveFilterWidth,U=i.padInfo.top,q=i.padInfo.left,ae=is(t,e,n);for(let te=0;te<i.batchSize;++te)for(let ye=0;ye<i.inChannels;++ye)for(let ke=0;ke<i.outHeight;++ke){const tt=ke*u-U;let nt=tt;for(;nt<0;)nt+=p;const St=Math.min(i.inHeight,v+tt);for(let Xt=0;Xt<i.outWidth;++Xt){const rn=Xt*f-q;let un=rn;for(;un<0;)un+=g;const bn=Math.min(i.inWidth,T+rn);let xn=Number.NEGATIVE_INFINITY,Vn=-1;for(let Yn=nt;Yn<St;Yn+=p){const ti=Yn-tt;for(let ni=un;ni<bn;ni+=g){const ri=ni-rn,ui=ae.get(te,Yn,ni,ye);ui>xn&&(xn=ui,Vn=r?a?((te*i.inHeight+Yn)*i.inWidth+ni)*i.inChannels+ye:(Yn*i.inWidth+ni)*i.inChannels+ye:ti*T+ri)}}c.set(Vn,te,ke,Xt,ye)}}return c}function x$(n,t,e,i,r,a){const c=r.strideDepth,u=r.strideHeight,f=r.strideWidth,p=r.dilationDepth,g=r.dilationHeight,v=r.dilationWidth,T=r.effectiveFilterDepth,U=r.effectiveFilterHeight,q=r.effectiveFilterWidth,ae=r.padInfo.front,te=r.padInfo.top,ye=r.padInfo.left,ke="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,tt=is(r.outShape,e),nt=tt.values,St=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],Xt=r.outShape[2]*r.outShape[3]*r.outShape[4],rn=r.outShape[3]*r.outShape[4],un=r.outShape[4];for(let bn=0;bn<r.batchSize;++bn){const xn=bn*St,Vn=bn*i[0];for(let Yn=0;Yn<r.inChannels;++Yn)for(let ti=0;ti<r.outDepth;++ti){const ni=ti*c-ae;let ri=ni;for(;ri<0;)ri+=p;const ui=Math.min(r.inDepth,T+ni),gi=xn+ti*Xt;for(let si=0;si<r.outHeight;++si){const yi=si*u-te;let Pi=yi;for(;Pi<0;)Pi+=g;const Bi=Math.min(r.inHeight,U+yi),Qi=gi+si*rn;for(let Wi=0;Wi<r.outWidth;++Wi){const sr=Wi*f-ye;let Zi=sr;for(;Zi<0;)Zi+=v;const wr=Math.min(r.inWidth,q+sr),Xr=Qi+Wi*un;let gs=ke,us=0,Ws=0;for(let ga=ri;ga<ui;ga+=p){const nl=Vn+ga*i[1];for(let ql=Pi;ql<Bi;ql+=g){const il=nl+ql*i[2];for(let Ma=Zi;Ma<wr;Ma+=v){const Dl=n[il+Ma*i[3]+Yn];if("max"===a&&Dl>gs?gs=Dl:"avg"===a&&(us+=Dl,Ws++),isNaN(gs))break}if(isNaN(gs))break}if(isNaN(gs))break}nt[Xr+Yn]="avg"===a?us/Math.max(Ws,1):gs}}}}return tt}const C3={kernelName:Cs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function x3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Ir(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Se(Cc(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Qu(r.shape,a,c,1,u,f);let v;if(1===g.filterWidth&&1===g.filterHeight&&Re(g.inShape,g.outShape))v=If({inputs:{x:r},backend:e});else{const T=e.data.get(r.dataId).values,U=$t(r.shape),q=cP(T,0,r.dtype,U,g,"avg");v=e.makeTensorInfo(g.outShape,r.dtype,q.values)}return v}},D3={kernelName:Yi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function S3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;Ir(r,"avgPool3d");const g=oh(r.shape,a,c,1,u,f,p),T=x$(e.data.get(r.dataId).values,0,r.dtype,$t(r.shape),g,"avg");return e.makeTensorInfo(T.shape,"float32",T.values)}},k3={kernelName:ar,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;Ir([r,a],"avgPool3DGrad");const g=oh(a.shape,c,u,1,f,p),v=g.strideDepth,T=g.strideHeight,U=g.strideWidth,q=g.filterDepth,ae=g.filterHeight,te=g.filterWidth,ye=g.dilationDepth,ke=g.dilationHeight,tt=g.dilationWidth,nt=g.effectiveFilterDepth,St=g.effectiveFilterHeight,Xt=g.effectiveFilterWidth,rn=nt-1-g.padInfo.front,un=Xt-1-g.padInfo.left,bn=St-1-g.padInfo.top,xn=is(a.shape,"float32"),Vn=1/(q*ae*te),Yn=e.bufferSync(r);for(let ti=0;ti<g.batchSize;++ti)for(let ni=0;ni<g.inChannels;++ni)for(let ri=0;ri<g.inDepth;++ri)for(let ui=0;ui<g.inHeight;++ui)for(let gi=0;gi<g.inWidth;++gi){const si=ri-rn,yi=ui-bn,Pi=gi-un;let Bi=0;for(let Qi=0;Qi<nt;Qi+=ye){const Wi=(si+Qi)/v;if(!(Wi<0||Wi>=g.outDepth||Math.floor(Wi)!==Wi))for(let sr=0;sr<St;sr+=ke){const Zi=(yi+sr)/T;if(!(Zi<0||Zi>=g.outHeight||Math.floor(Zi)!==Zi))for(let wr=0;wr<Xt;wr+=tt){const Xr=(Pi+wr)/U;Xr<0||Xr>=g.outWidth||Math.floor(Xr)!==Xr||(Bi+=Yn.get(ti,Wi,Zi,Xr,ni))}}}xn.set(Bi*Vn,ti,ri,ui,gi,ni)}return e.makeTensorInfo(xn.shape,xn.dtype,xn.values)}},A3={kernelName:ss,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function I3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;Ir([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Qu(c.shape,u,f,1,p),v=g.strideHeight,T=g.strideWidth,U=g.filterHeight,q=g.filterWidth,ae=g.dilationHeight,te=g.dilationWidth,ye=g.effectiveFilterHeight,ke=g.effectiveFilterWidth,tt=ke-1-g.padInfo.left,nt=ye-1-g.padInfo.top,St=is(c.shape,"float32"),Xt=1/(U*q),rn=e.data.get(r.dataId).values,un=is(r.shape,"float32",rn);for(let bn=0;bn<g.batchSize;++bn)for(let xn=0;xn<g.inChannels;++xn)for(let Vn=0;Vn<g.inHeight;++Vn)for(let Yn=0;Yn<g.inWidth;++Yn){const ti=Vn-nt,ni=Yn-tt;let ri=0;for(let ui=0;ui<ye;ui+=ae){const gi=(ti+ui)/v;if(!(gi<0||gi>=g.outHeight||Math.floor(gi)!==gi))for(let si=0;si<ke;si+=te){const yi=(ni+si)/T;yi<0||yi>=g.outWidth||Math.floor(yi)!==yi||(ri+=un.get(bn,gi,yi,xn))}}St.set(ri*Xt,bn,Vn,Yn,xn)}return e.makeTensorInfo(St.shape,St.dtype,St.values)}},O3={kernelName:va,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function M3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,scale:a,offset:c,mean:u,variance:f}=t;Se(u.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Se(null==c||u.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Se(null==a||u.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Ir([r,u,f,a,c],"batchNorm");let{varianceEpsilon:p}=i;null==p&&(p=.001);const g=e.data.get(r.dataId).values,v=e.data.get(u.dataId).values,T=e.data.get(f.dataId).values,U=a?e.data.get(a.dataId).values:new Float32Array([1]),q=c?e.data.get(c.dataId).values:new Float32Array([0]),ae=new Float32Array(g.length),te=q.length,ye=U.length,ke=T.length,tt=v.length;let nt=0,St=0,Xt=0,rn=0;for(let un=0;un<g.length;++un)ae[un]=q[nt++]+(g[un]-v[St++])*U[Xt++]/Math.sqrt(T[rn++]+p),nt>=te&&(nt=0),St>=tt&&(St=0),Xt>=ye&&(Xt=0),rn>=ke&&(rn=0);return e.makeTensorInfo(r.shape,r.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function C$(n,t,e,i,r){const a=cy(i,t,e),c=Tt(e),u=$t(i);if(a){const v=uy(t,u);return"string"===r?n.slice(v,v+c):n.subarray(v,v+c)}const p=is(i,r,"string"===r?Hh(n):n),g=is(e,r);for(let v=0;v<g.size;++v){const T=g.indexToLoc(v),U=T.map((q,ae)=>q+t[ae]);g.set(p.get(...U),...T)}return"string"===r?zw(g.values):g.values}function P_(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i;Ir(r,"slice");const[u,f]=rg(r,a,c);ay(r,u,f);const g=C$(e.data.get(r.dataId).values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,g)}const R3={kernelName:Tn,backendName:"cpu",kernelFunc:P_},P3={kernelName:ji,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function N3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;Ir([r],"batchToSpaceND");const u=a.reduce((ye,ke)=>ye*ke),f=lp(r.shape,a,u),p=Gg(f.length,a.length),g=Kg(r.shape,a,u),v=Xg(c,a.length),T=sv(g,c,a.length),U=tl({inputs:{x:r},backend:e,attrs:{shape:f}}),q=md({inputs:{x:U},backend:e,attrs:{perm:p}}),ae=tl({inputs:{x:q},backend:e,attrs:{shape:g}}),te=P_({inputs:{x:ae},backend:e,attrs:{begin:v,size:T}});return e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),e.disposeIntermediateTensorInfo(ae),te}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uP(n,t,e,i,r){const a=Tt(i),c=Gn(r,e);for(let u=0;u<n.length;u++){const f=n[u];if(f<0)throw new Error("Input x must be non-negative!");f>=r||(c[f]+=a>0?t[u]:1)}return c}function S$(n,t,e,i=!1){const r=n.shape[0],a=n.shape[1],c=is([r,e],t.dtype);for(let u=0;u<r;u++)for(let f=0;f<a;f++){const p=n.get(u,f);if(p<0)throw new Error("Input x must be non-negative!");p>=e||c.set(i?1:t.size>0?c.get(u,p)+t.get(u,f):c.get(u,p)+1,u,p)}return c}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const L3={kernelName:ii,backendName:"cpu",kernelFunc:function F3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,p=uP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},D$=hc((n,t)=>n&t),$3=Uc(Ge,D$),B3={kernelName:Ge,backendName:"cpu",kernelFunc:$3},U3={kernelName:ne,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V3(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=Ts(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},T$=kf(n=>Math.ceil(n)),z3=Vm(He,T$),j3={kernelName:He,backendName:"cpu",kernelFunc:z3},W3=ma(kt,(n,t)=>n>t.clipValueMax?t.clipValueMax:n<t.clipValueMin?t.clipValueMin:n),H3={kernelName:kt,backendName:"cpu",kernelFunc:W3},G3={kernelName:Zn,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend,i=new Float32Array(Tt(t.shape)),r=e.data.get(t.dataId),c=r.complexTensorInfos.imag,u=e.data.get(r.complexTensorInfos.real.dataId).values,f=e.data.get(c.dataId).values;for(let p=0;p<u.length;p++)i[p]=Math.hypot(u[p],f[p]);return e.makeOutput(i,t.shape,"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function k$(n,t,e,i){const r=Z(e,Tt(t));if(i&&"string"!==e){let a=0;n.forEach(c=>{const u=Tt(c.shape);r.set(c.vals,a),a+=u})}else{let a=0;n.forEach(c=>{const u="string"===e?Hh(c.vals):c.vals;let f=0;for(let p=0;p<c.shape[0];++p){const g=p*t[1]+a;for(let v=0;v<c.shape[1];++v)r[g+v]=u[f++]}a+=c.shape[1]})}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Mb(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.imag,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const K3={kernelName:Il,backendName:"cpu",kernelFunc:Mb};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ob(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wt(r,t[0].shape)[0];Sw(t.map(ae=>ae.shape),a);let u=Wh(t.map(ae=>ae.shape),a);if(0===Tt(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(ae=>Tt(ae.shape)>0);if(1===f.length)return If({inputs:{x:f[0]},backend:e});if("complex64"===f[0].dtype){const ae=f.map(nt=>N_({inputs:{input:nt},backend:e})),te=f.map(nt=>Mb({inputs:{input:nt},backend:e})),ye=Ob({inputs:ae,backend:e,attrs:{axis:a}}),ke=Ob({inputs:te,backend:e,attrs:{axis:a}}),tt=Sd({inputs:{real:ye,imag:ke},backend:e});return ae.forEach(nt=>e.disposeIntermediateTensorInfo(nt)),te.forEach(nt=>e.disposeIntermediateTensorInfo(nt)),e.disposeIntermediateTensorInfo(ye),e.disposeIntermediateTensorInfo(ke),tt}const p=f.map(ae=>{const ye=[-1,Tt(ae.shape.slice(a))];return tl({inputs:{x:ae},backend:e,attrs:{shape:ye}})}),g=p.map(ae=>({vals:e.data.get(ae.dataId).values,shape:ae.shape}));u=Wh(p.map(ae=>ae.shape),1);const T=k$(g,u,t[0].dtype,1===p[0].shape[0]),U=Wh(f.map(ae=>ae.shape),a),q=e.makeTensorInfo(U,t[0].dtype,T);return p.forEach(ae=>e.disposeIntermediateTensorInfo(ae)),q}const X3={kernelName:Li,backendName:"cpu",kernelFunc:Ob};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function I$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i;Ir([r,a],"conv2d");const v=sf(f),T=ro(r.shape,a.shape,c,p,u,g,!1,v),U=T.filterHeight,q=T.filterWidth,ae=T.dilationHeight,te=T.dilationWidth,ye=T.padInfo.left,ke=T.padInfo.top,tt="channelsLast"===T.dataFormat,nt=new So(T.outShape,r.dtype),St=$t(r.shape),Xt=$t(a.shape),rn=St[0],un=tt?St[1]:St[2],bn=tt?St[2]:1,xn=tt?1:St[1],Vn=nt.strides[0],Yn=tt?nt.strides[1]:nt.strides[2],ti=tt?nt.strides[2]:1,ni=tt?1:nt.strides[1],ri=e.data.get(r.dataId).values,ui=e.data.get(a.dataId).values,gi=nt.values;for(let si=0;si<T.batchSize;++si){const yi=si*rn,Pi=si*Vn;for(let Bi=0;Bi<T.outHeight;++Bi){const Qi=Pi+Bi*Yn,Wi=Bi*T.strideHeight-ke;for(let sr=0;sr<U;++sr){const Zi=Wi+sr*ae;if(Zi<0||Zi>=T.inHeight)continue;const wr=sr*Xt[0],Xr=yi+Zi*un;for(let gs=0;gs<T.outWidth;++gs){const us=Qi+gs*ti,Ws=gs*T.strideWidth-ye;for(let Xs=0;Xs<q;++Xs){const ga=Ws+Xs*te;if(ga<0||ga>=T.inWidth)continue;const ql=Xr+ga*bn;let il=wr+Xs*Xt[1];for(let Ma=0;Ma<T.inChannels;++Ma){const $l=ri[ql+Ma*xn];for(let Dl=0;Dl<T.outChannels;++Dl)gi[us+Dl*ni]+=$l*ui[il+Dl];il+=T.outChannels}}}}}}return e.makeTensorInfo(nt.shape,nt.dtype,gi)}const Y3={kernelName:lr,backendName:"cpu",kernelFunc:I$},Q3={kernelName:kr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function q3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i;Ir([r,a],"conv2dBackpropFilter");const v=sf(f),T=ro(r.shape,g,c,1,u,p,!1,v),{strideHeight:U,strideWidth:q,filterHeight:ae,filterWidth:te}=T,ye="channelsLast"===T.dataFormat,ke=new So(T.filterShape,"float32"),tt=T.padInfo.left,nt=T.padInfo.top,St=e.data.get(r.dataId).values,Xt=e.data.get(a.dataId).values,rn=new So(r.shape,r.dtype,St),un=new So(a.shape,a.dtype,Xt);for(let bn=0;bn<ae;++bn){const xn=Math.max(0,Math.ceil((nt-bn)/U)),Vn=Math.min(T.outHeight,(T.inHeight+nt-bn)/U);for(let Yn=0;Yn<te;++Yn){const ti=Math.max(0,Math.ceil((tt-Yn)/q)),ni=Math.min(T.outWidth,(T.inWidth+tt-Yn)/q);for(let ri=0;ri<T.inChannels;++ri)for(let ui=0;ui<T.outChannels;++ui){let gi=0;for(let si=0;si<T.batchSize;++si)for(let yi=xn;yi<Vn;++yi){const Pi=bn+yi*U-nt;for(let Bi=ti;Bi<ni;++Bi){const Qi=Yn+Bi*q-tt;gi+=ye?rn.get(si,Pi,Qi,ri)*un.get(si,yi,Bi,ui):rn.get(si,ri,Pi,Qi)*un.get(si,ui,yi,Bi)}}ke.set(gi,bn,Yn,ri,ui)}}}return e.makeTensorInfo(ke.shape,ke.dtype,ke.values)}},J3={kernelName:Lr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i;Ir([r,a],"conv2dBackpropInput");const v=$t(a.shape),T=$t(r.shape);let U=sf(p);const q=ro(c,a.shape,u,1,f,g,!1,U),ae=new So(q.inShape,"float32"),te=ae.values,ye=e.data.get(r.dataId).values,ke=e.data.get(a.dataId).values,[tt,nt,St]=v,{batchSize:Xt,filterHeight:rn,filterWidth:un,inChannels:bn,inHeight:xn,inWidth:Vn,outChannels:Yn,outHeight:ti,outWidth:ni,strideHeight:ri,strideWidth:ui}=q;U=q.dataFormat;const gi=rn-1-q.padInfo.top,si=un-1-q.padInfo.left,yi="channelsLast"===U,Pi=ae.strides[0],Bi=yi?ae.strides[1]:ae.strides[2],Qi=yi?ae.strides[2]:1,Wi=yi?1:ae.strides[1],sr=T[0],Zi=yi?T[1]:T[2],wr=yi?T[2]:1,Xr=yi?1:T[1];for(let gs=0;gs<Xt;++gs)for(let us=0;us<bn;++us)for(let Ws=0;Ws<xn;++Ws){const Xs=Ws-gi,ga=Math.max(0,Math.ceil(Xs/ri)),nl=Math.min(ti,(rn+Xs)/ri);for(let ql=0;ql<Vn;++ql){const il=ql-si,Ma=Math.max(0,Math.ceil(il/ui)),$l=Math.min(ni,(un+il)/ui);let Dl=0;for(let mu=ga;mu<nl;++mu){const Gm=mu*ri-Xs;for(let Qd=Ma;Qd<$l;++Qd){const ef=sr*gs+Zi*mu+wr*Qd,Cp=tt*(rn-1-Gm)+nt*(un-1-(Qd*ui-il))+St*us;for(let Km=0;Km<Yn;++Km)Dl+=ye[ef+Xr*Km]*ke[Cp+Km]}}te[Pi*gs+Bi*Ws+Qi*ql+Wi*us]=Dl}}return e.makeTensorInfo(ae.shape,ae.dtype,ae.values)}},tz={kernelName:Zr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ez(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i;Ir([r,a],"conv3d");const p=Vf(r.shape,a.shape,c,f,u),{filterDepth:g,filterHeight:v,filterWidth:T,dilationDepth:U,dilationHeight:q,dilationWidth:ae,padInfo:te}=p,ye=te.front,ke=te.left,tt=te.top,nt=new So(p.outShape,r.dtype),St=e.data.get(r.dataId).values,Xt=e.data.get(a.dataId).values,rn=nt.values,un=$t(r.shape),bn=$t(a.shape);for(let xn=0;xn<p.batchSize;++xn){const Vn=xn*un[0],Yn=xn*nt.strides[0];for(let ti=0;ti<p.outDepth;++ti){const ni=Yn+ti*nt.strides[1],ri=ti*p.strideDepth-ye;for(let ui=0;ui<g;++ui){const gi=ri+ui*U;if(gi<0||gi>=p.inDepth)continue;const si=ui*bn[0],yi=Vn+gi*un[1];for(let Pi=0;Pi<p.outHeight;++Pi){const Bi=ni+Pi*nt.strides[2],Qi=Pi*p.strideHeight-tt;for(let Wi=0;Wi<v;++Wi){const sr=Qi+Wi*q;if(sr<0||sr>=p.inHeight)continue;const Zi=si+Wi*bn[1],wr=yi+sr*un[2];for(let Xr=0;Xr<p.outWidth;++Xr){const gs=Bi+Xr*p.outChannels,us=Xr*p.strideWidth-ke;for(let Ws=0;Ws<T;++Ws){const Xs=us+Ws*ae;if(Xs<0||Xs>=p.inWidth)continue;const nl=wr+Xs*p.inChannels;let ql=Zi+Ws*bn[2];for(let il=0;il<p.inChannels;++il){const Ma=St[nl+il];for(let $l=0;$l<p.outChannels;++$l)rn[gs+$l]+=Ma*Xt[ql+$l];ql+=p.outChannels}}}}}}}}return e.makeTensorInfo(nt.shape,nt.dtype,nt.values)}},iz={kernelName:ds,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i;Ir([r,a],"conv3dBackpropFilterV2");const p=$t(r.shape),g=$t(a.shape),v=Vf(r.shape,f,c,1,u),T=v.strideDepth,U=v.strideHeight,q=v.strideWidth,ae=v.filterDepth,te=v.filterHeight,ye=v.filterWidth,ke=new So(v.filterShape,"float32"),tt=ke.values,[nt,St,Xt,rn]=ke.strides,un=e.data.get(a.dataId).values,[bn,xn,Vn,Yn]=g,ti=e.data.get(r.dataId).values,[ni,ri,ui,gi]=p,si=v.padInfo.front,yi=v.padInfo.left,Pi=v.padInfo.top;for(let Bi=0;Bi<ae;++Bi){const Qi=Math.max(0,Math.ceil((si-Bi)/T)),Wi=Math.min(v.outDepth,(v.inDepth+si-Bi)/T),sr=Bi*nt;for(let Zi=0;Zi<te;++Zi){const wr=Math.max(0,Math.ceil((Pi-Zi)/U)),Xr=Math.min(v.outHeight,(v.inHeight+Pi-Zi)/U),gs=Zi*St+sr;for(let us=0;us<ye;++us){const Ws=Math.max(0,Math.ceil((yi-us)/q)),Xs=Math.min(v.outWidth,(v.inWidth+yi-us)/q),ga=us*Xt+gs;for(let nl=0;nl<v.inChannels;++nl){const ql=nl*rn+ga;for(let il=0;il<v.outChannels;++il){let Ma=0;for(let $l=0;$l<v.batchSize;++$l){const Dl=$l*ni,xp=$l*bn;for(let mu=Qi;mu<Wi;++mu){const Qd=(Bi+mu*T-si)*ri+Dl,j_=mu*xn+xp;for(let ef=wr;ef<Xr;++ef){const Km=(Zi+ef*U-Pi)*ui+Qd,Xm=ef*Vn+j_;for(let Ym=Ws;Ym<Xs;++Ym)Ma+=ti[(us+Ym*q-yi)*gi+Km+nl]*un[Ym*Yn+Xm+il]}}}tt[ql+il]=Ma}}}}}return e.makeTensorInfo(ke.shape,ke.dtype,ke.values)}},sz={kernelName:Os,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i;Ir([r],"conv3dBackpropInputV2");const p=$t(r.shape),g=$t(a.shape),v=Vf(f,a.shape,u,1,c),T=new So(v.inShape,"float32"),U=T.values,[q,ae,te,ye]=T.strides,ke=e.data.get(r.dataId).values,[tt,nt,St,Xt]=p,rn=e.data.get(a.dataId).values,[un,bn,xn,Vn]=g,{batchSize:Yn,filterDepth:ti,filterHeight:ni,filterWidth:ri,inChannels:ui,inDepth:gi,inHeight:si,inWidth:yi,outChannels:Pi,outDepth:Bi,outHeight:Qi,outWidth:Wi,strideDepth:sr,strideHeight:Zi,strideWidth:wr}=v,Xr=ti-1-v.padInfo.front,gs=ni-1-v.padInfo.top,us=ri-1-v.padInfo.left;for(let Ws=0;Ws<Yn;++Ws)for(let Xs=0;Xs<ui;++Xs)for(let ga=0;ga<gi;++ga){const nl=ga-Xr,ql=Math.max(0,Math.ceil(nl/sr)),il=Math.min(Bi,(ti+nl)/sr);for(let Ma=0;Ma<si;++Ma){const $l=Ma-gs,Dl=Math.max(0,Math.ceil($l/Zi)),xp=Math.min(Qi,(ni+$l)/Zi);for(let mu=0;mu<yi;++mu){const Gm=mu-us,Qd=Math.max(0,Math.ceil(Gm/wr)),j_=Math.min(Wi,(ri+Gm)/wr);let ef=0;for(let Cp=ql;Cp<il;++Cp){const Km=Cp*sr-nl;for(let Xm=Dl;Xm<xp;++Xm){const Ym=Xm*Zi-$l;for(let Kx=Qd;Kx<j_;++Kx){const FP=tt*Ws+nt*Cp+St*Xm+Xt*Kx,tZ=un*(ti-1-Km)+bn*(ni-1-Ym)+xn*(ri-1-(Kx*wr-Gm))+Vn*Xs;for(let Uk=0;Uk<Pi;++Uk)ef+=ke[FP+Uk]*rn[tZ+Uk]}}}U[q*Ws+ae*ga+te*Ma+ye*mu+Xs]=ef}}}return e.makeTensorInfo(T.shape,T.dtype,T.values)}},oz=ma(Er,n=>Math.cos(n)),az={kernelName:Er,backendName:"cpu",kernelFunc:oz},lz=ma(Jr,n=>Math.cosh(n)),cz={kernelName:Jr,backendName:"cpu",kernelFunc:lz},dz={kernelName:Vr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uz(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,[g,v,T,U]=r.shape,q=a.shape[0],[ae,te]=u,ye=is([q,ae,te,U],"float32"),ke=e.data.get(a.dataId).values,tt=e.data.get(c.dataId).values,nt=e.data.get(r.dataId).values,St=$t(r.shape),Xt=$t(ye.shape);for(let rn=0;rn<q;rn++){const un=4*rn,bn=ke[un],xn=ke[un+1],Vn=ke[un+2],Yn=ke[un+3],ti=tt[rn];if(ti>=g)continue;const ni=ae>1?(Vn-bn)*(v-1)/(ae-1):0,ri=te>1?(Yn-xn)*(T-1)/(te-1):0;for(let ui=0;ui<ae;ui++){const gi=ae>1?bn*(v-1)+ui*ni:.5*(bn+Vn)*(v-1);if(gi<0||gi>v-1)for(let si=0;si<te;si++)for(let yi=0;yi<U;yi++)ye.values[yi+si*Xt[2]+ui*Xt[1]+rn*Xt[0]]=p;else if("bilinear"===f){const si=Math.floor(gi),yi=Math.ceil(gi),Pi=gi-si;for(let Bi=0;Bi<te;Bi++){const Qi=te>1?xn*(T-1)+Bi*ri:.5*(xn+Yn)*(T-1);if(Qi<0||Qi>T-1){for(let wr=0;wr<U;wr++)ye.values[wr+Bi*Xt[2]+ui*Xt[1]+rn*Xt[0]]=p;continue}const Wi=Math.floor(Qi),sr=Math.ceil(Qi),Zi=Qi-Wi;for(let wr=0;wr<U;wr++){let Xr=wr+Wi*St[2]+si*St[1]+ti*St[0];const gs=nt[Xr];Xr=wr+sr*St[2]+si*St[1]+ti*St[0];const us=nt[Xr];Xr=wr+Wi*St[2]+yi*St[1]+ti*St[0];const Ws=nt[Xr];Xr=wr+sr*St[2]+yi*St[1]+ti*St[0];const Xs=nt[Xr],ga=gs+(us-gs)*Zi;Xr=wr+Bi*Xt[2]+ui*Xt[1]+rn*Xt[0],ye.values[Xr]=ga+(Ws+(Xs-Ws)*Zi-ga)*Pi}}}else for(let si=0;si<te;++si){const yi=te>1?xn*(T-1)+si*ri:.5*(xn+Yn)*(T-1);if(yi<0||yi>T-1){for(let Qi=0;Qi<U;Qi++)ye.values[Qi+si*Xt[2]+ui*Xt[1]+rn*Xt[0]]=p;continue}const Pi=Math.round(yi),Bi=Math.round(gi);for(let Qi=0;Qi<U;Qi++)ye.values[Qi+si*Xt[2]+ui*Xt[1]+rn*Xt[0]]=nt[Qi+Pi*St[2]+Bi*St[1]+ti*St[0]]}}}return e.makeTensorInfo(ye.shape,ye.dtype,ye.values)}},fz={kernelName:Ss,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;Ir(r,"cumprod");const f=ml([a],r.shape.length);let p=r;null!=f&&(p=md({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=ja(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const v=An(p.dtype,"int32"),T=Sn(Tt(p.shape),v),U=e.data.get(p.dataId).values,q=p.shape[p.shape.length-1],ae=u?(ye,ke)=>ye+q-ke-1:(ye,ke)=>ye+ke;for(let ye=0;ye<U.length;ye+=q)for(let ke=0;ke<q;ke++){const tt=ae(ye,ke);if(0===ke)T[tt]=c?1:U[tt];else{const nt=ae(ye,ke-1);T[tt]=c?U[nt]*T[nt]:U[tt]*T[nt]}}const te=e.makeTensorInfo(p.shape,v,T);if(null!=f){const ke=md({inputs:{x:te},backend:e,attrs:{perm:cf(f)}});return e.disposeIntermediateTensorInfo(te),e.disposeIntermediateTensorInfo(p),ke}return te}},mz={kernelName:Jo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;Ir(r,"cumsum");const f=ml([a],r.shape.length);let p=r;null!=f&&(p=md({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=ja(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const v=An(p.dtype,"int32"),T=Gn(Tt(p.shape),v),U=e.data.get(p.dataId).values,q=p.shape[p.shape.length-1],ae=u?(ye,ke)=>ye+q-ke-1:(ye,ke)=>ye+ke;for(let ye=0;ye<U.length;ye+=q)for(let ke=0;ke<q;ke++){const tt=ae(ye,ke);if(0===ke)T[tt]=c?0:U[tt];else{const nt=ae(ye,ke-1);T[tt]=c?U[nt]+T[nt]:U[tt]+T[nt]}}const te=e.makeTensorInfo(p.shape,v,T);if(null!=f){const ke=md({inputs:{x:te},backend:e,attrs:{perm:cf(f)}});return e.disposeIntermediateTensorInfo(te),e.disposeIntermediateTensorInfo(p),ke}return te}},_z={kernelName:Io,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const g=uP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const g=S$(e.bufferSync(r),e.bufferSync(a),c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}},vz={kernelName:Ho,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i;Se("NHWC"===c,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${c}`);const u=r.shape[0],f=r.shape[1],p=r.shape[2],g=r.shape[3],v=f*a,T=p*a,U=g/(a*a),q=e.data.get(r.dataId).values,ae=new Float32Array(u*v*T*U);let te=0;for(let ye=0;ye<u;++ye)for(let ke=0;ke<v;++ke){const tt=Math.floor(ke/a),nt=ke%a;for(let St=0;St<T;++St){const Xt=Math.floor(St/a),un=(nt*a+St%a)*U;for(let bn=0;bn<U;++bn)ae[te++]=q[bn+un+g*(Xt+p*(tt+f*ye))]}}return e.makeTensorInfo([u,v,T,U],r.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function A$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;Ir([r,a],"depthwiseConv2DNative");const g=$t(r.shape),v=$t(a.shape);let T=f;null==T&&(T=[1,1]),Se(Cc(c,T),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${T}'`);const U=ro(r.shape,a.shape,c,T,u,p,!0),{filterHeight:q,filterWidth:ae,dilationHeight:te,dilationWidth:ye,padInfo:ke}=U,tt=ke.left,nt=ke.top,St=U.outChannels/U.inChannels,Xt=new So(U.outShape,r.dtype),rn=e.data.get(r.dataId).values,un=e.data.get(a.dataId).values,bn=Xt.values;for(let xn=0;xn<U.batchSize;++xn){const Vn=xn*g[0],Yn=xn*Xt.strides[0];for(let ti=0;ti<U.outHeight;++ti){const ni=Yn+ti*Xt.strides[1],ri=ti*U.strideHeight-nt;for(let ui=0;ui<q;++ui){const gi=ri+ui*te;if(gi<0||gi>=U.inHeight)continue;const si=ui*v[0],yi=Vn+gi*g[1];for(let Pi=0;Pi<U.outWidth;++Pi){const Bi=ni+Pi*Xt.strides[2],Qi=Pi*U.strideWidth-tt;for(let Wi=0;Wi<ae;++Wi){const sr=Qi+Wi*ye;if(sr<0||sr>=U.inWidth)continue;const wr=yi+sr*U.inChannels;let Xr=Bi,gs=si+Wi*v[1];for(let us=0;us<U.inChannels;++us){const Ws=rn[wr+us];for(let Xs=0;Xs<St;++Xs)bn[Xr+Xs]+=Ws*un[gs+Xs];Xr+=St,gs+=St}}}}}}return e.makeTensorInfo(Xt.shape,Xt.dtype,Xt.values)}const bz={kernelName:No,backendName:"cpu",kernelFunc:A$},Ez={kernelName:Tl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i;Ir([r,a],"depthwiseConv2dNativeBackpropFilter");const v=ro(r.shape,g,c,u,f,p,!0),{strideHeight:T,strideWidth:U,filterHeight:q,filterWidth:ae}=v,te=new So(v.filterShape,"float32"),ye=v.padInfo.left,ke=v.padInfo.top,tt=v.outChannels/v.inChannels,nt=e.data.get(r.dataId).values,St=new So(r.shape,r.dtype,nt),Xt=e.data.get(a.dataId).values,rn=new So(a.shape,a.dtype,Xt);for(let un=0;un<q;++un){const bn=Math.max(0,Math.ceil((ke-un)/T)),xn=Math.min(v.outHeight,(v.inHeight+ke-un)/T);for(let Vn=0;Vn<ae;++Vn){const Yn=Math.max(0,Math.ceil((ye-Vn)/U)),ti=Math.min(v.outWidth,(v.inWidth+ye-Vn)/U);for(let ni=0;ni<v.outChannels;++ni){const ri=Math.trunc(ni/tt),ui=ni%tt;let gi=0;for(let si=0;si<v.batchSize;++si)for(let yi=bn;yi<xn;++yi){const Pi=un+yi*T-ke;for(let Bi=Yn;Bi<ti;++Bi)gi+=St.get(si,Pi,Vn+Bi*U-ye,ri)*rn.get(si,yi,Bi,ni)}te.set(gi,un,Vn,ri,ui)}}}return e.makeTensorInfo(te.shape,te.dtype,te.values)}},Cz={kernelName:Ga,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i;Ir([r,a],"depthwiseConv2DNativeBackpropInput");const v=$t(r.shape),T=$t(a.shape),U=ro(g,a.shape,c,u,f,p,!0),q=new So(U.inShape,"float32"),ae=q.values,[te,ye,ke]=q.strides,tt=e.data.get(r.dataId).values,[nt,St,Xt]=v,rn=e.data.get(a.dataId).values,[un,bn,xn]=T,{batchSize:Vn,filterHeight:Yn,filterWidth:ti,inChannels:ni,inHeight:ri,inWidth:ui,outChannels:gi,outHeight:si,outWidth:yi,strideHeight:Pi,strideWidth:Bi}=U,Qi=Yn-1-U.padInfo.top,Wi=ti-1-U.padInfo.left,sr=gi/ni;for(let Zi=0;Zi<Vn;++Zi)for(let wr=0;wr<ni;++wr)for(let Xr=0;Xr<ri;++Xr){const gs=Xr-Qi,us=Math.max(0,Math.ceil(gs/Pi)),Ws=Math.min(si,(Yn+gs)/Pi);for(let Xs=0;Xs<ui;++Xs){const ga=Xs-Wi,nl=Math.max(0,Math.ceil(ga/Bi)),ql=Math.min(yi,(ti+ga)/Bi);let il=0;for(let Ma=us;Ma<Ws;++Ma){const $l=Ma*Pi-gs;for(let Dl=nl;Dl<ql;++Dl){const mu=nt*Zi+St*Ma+Xt*Dl,Gm=un*(Yn-1-$l)+bn*(ti-1-(Dl*Bi-ga))+xn*wr;for(let Qd=0;Qd<sr;++Qd)il+=tt[mu+(wr*sr+Qd)]*rn[Gm+Qd]}}ae[te*Zi+ye*Xr+ke*Xs+wr]=il}}return e.makeTensorInfo(q.shape,q.dtype,q.values)}},Dz={kernelName:Ka,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sz(n){const{inputs:t,backend:e}=n,{x:i}=t,r=Tt(i.shape),a=e.data.get(i.dataId).values,c=is([r,r],i.dtype),u=c.values;for(let p=0;p<a.length;p++)u[p*r+p]=a[p];const f=[...i.shape,...i.shape];return e.makeTensorInfo(f,c.dtype,c.values)}},Tz={kernelName:_a,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r}=n,{strides:a,pad:c,dilations:u}=e,f=t,p=f.data.get(i.dataId).values,g=i.shape.length,v=f.data.get(r.dataId).values,T=r.shape.length,{batchSize:U,inHeight:q,inWidth:ae,inChannels:te,outHeight:ye,outWidth:ke,padInfo:tt,strideHeight:nt,strideWidth:St,filterHeight:Xt,filterWidth:rn,dilationHeight:un,dilationWidth:bn,outShape:xn}=my(i.shape,r.shape,a,c,"NHWC",u),Vn=Tt(xn),Yn=xn.length,ti=Z(i.dtype,Vn);for(let ri=0;ri<U;++ri)for(let ui=0;ui<ye;++ui){const gi=ui*nt-tt.top;for(let si=0;si<ke;++si){const yi=si*St-tt.left;for(let Pi=0;Pi<te;++Pi){let Bi=Number.MIN_SAFE_INTEGER;for(let Wi=0;Wi<Xt;++Wi){const sr=gi+Wi*un;if(sr>=0&&sr<q)for(let Zi=0;Zi<rn;++Zi){const wr=yi+Zi*bn;if(wr>=0&&wr<ae){const Xr=pt([ri,sr,wr,Pi],g,$t(i.shape)),gs=pt([Wi,Zi,Pi],T,$t(r.shape)),us=p[Xr]+v[gs];us>Bi&&(Bi=us)}}}ti[pt([ri,ui,si,Pi],Yn,$t(xn))]=Bi}}}return{dataId:f.write(Va(ti,i.dtype),xn,i.dtype),shape:xn,dtype:i.dtype}}},kz={kernelName:yl,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Nn(i.shape,p.data.get(i.dataId).values),v=Nn(r.shape,p.data.get(r.dataId).values),{batchSize:T,inHeight:U,inWidth:q,inChannels:ae,outHeight:te,outWidth:ye,padInfo:ke,strideHeight:tt,strideWidth:nt,filterHeight:St,filterWidth:Xt,dilationHeight:rn,dilationWidth:un,outShape:bn}=my(i.shape,r.shape,c,u,"NHWC",f);Se(a.rank===bn.length,()=>`Error in ${yl}, dy must have the same rank as output ${bn.length}, but got ${a.rank}`);const xn=Nn(bn,p.data.get(a.dataId).values),Vn=En(r.shape,r.dtype);for(let ti=0;ti<T;++ti)for(let ni=0;ni<te;++ni){const ri=ni*tt-ke.top;for(let ui=0;ui<ye;++ui){const gi=ui*nt-ke.left;for(let si=0;si<ae;++si){let yi=Number.MIN_SAFE_INTEGER,Pi=0,Bi=0;for(let Qi=0;Qi<St;++Qi){const Wi=ri+Qi*rn;if(Wi>=0&&Wi<U)for(let sr=0;sr<Xt;++sr){const Zi=gi+sr*un;if(Zi>=0&&Zi<q){const wr=g[ti][Wi][Zi][si]+v[Qi][sr][si];wr>yi&&(yi=wr,Pi=Qi,Bi=sr)}}}Vn[Pi][Bi][si]+=xn[ti][ni][ui][si]}}}return{dataId:p.write(Va(Vn,i.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Iz={kernelName:ea,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Nn(i.shape,p.data.get(i.dataId).values),v=Nn(r.shape,p.data.get(r.dataId).values),{batchSize:T,inHeight:U,inWidth:q,inChannels:ae,outHeight:te,outWidth:ye,padInfo:ke,strideHeight:tt,strideWidth:nt,filterHeight:St,filterWidth:Xt,dilationHeight:rn,dilationWidth:un,outShape:bn}=my(i.shape,r.shape,c,u,"NHWC",f);Se(a.rank===bn.length,()=>`Error in ${ea}, dy must have the same rank as output ${bn.length}, but got ${a.rank}`);const xn=Nn(bn,p.data.get(a.dataId).values),Vn=En(i.shape,i.dtype);for(let ti=0;ti<T;++ti)for(let ni=0;ni<te;++ni){const ri=ni*tt-ke.top;for(let ui=0;ui<ye;++ui){const gi=ui*nt-ke.left;for(let si=0;si<ae;++si){let yi=Number.MIN_SAFE_INTEGER,Pi=ri<0?0:ri,Bi=gi<0?0:gi;for(let Qi=0;Qi<St;++Qi){const Wi=ri+Qi*rn;if(Wi>=0&&Wi<U)for(let sr=0;sr<Xt;++sr){const Zi=gi+sr*un;if(Zi>=0&&Zi<q){const wr=g[ti][Wi][Zi][si]+v[Qi][sr][si];wr>yi&&(yi=wr,Pi=Wi,Bi=Zi)}}}Vn[ti][Pi][Bi][si]+=xn[ti][ni][ui][si]}}}return{dataId:p.write(Va(Vn,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Mz={kernelName:kl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Az(n){const{inputs:t,backend:e,attrs:i}=n,{image:r}=t,{canvas:a,options:c}=i,{contextOptions:u,imageOptions:f}=c||{},p=f?.alpha||1,g=u?.contextType||"2d";if("2d"!==g)throw new Error(`Context type ${u.contextType} is not supported by the CPU backend.`);const v=a.getContext(g,u?.contextAttributes||{});if(null==v)throw new Error(`Could not get the context with ${g} type.`);const[T,U]=r.shape.slice(0,2),q=2===r.shape.length?1:r.shape[2],ae=e.data.get(r.dataId).values,te="float32"===r.dtype?255:1,ye=new Uint8ClampedArray(U*T*4);for(let tt=0;tt<T*U;++tt){const nt=[0,0,0,255*p];for(let Xt=0;Xt<q;Xt++){const rn=ae[tt*q+Xt];if("float32"===r.dtype){if(rn<0||rn>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${rn}.`)}else if("int32"===r.dtype&&(rn<0||rn>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${rn}.`);1===q?(nt[0]=rn*te,nt[1]=rn*te,nt[2]=rn*te):nt[Xt]=rn*te}const St=4*tt;ye[St+0]=Math.round(nt[0]),ye[St+1]=Math.round(nt[1]),ye[St+2]=Math.round(nt[2]),ye[St+3]=Math.round(nt[3])}a.width=U,a.height=T;const ke=new ImageData(ye,U,T);return v.putImageData(ke,0,0),r}},dP=hc((n,t)=>n*t),Oz=aP((n,t,e,i)=>({real:n*e-t*i,imag:n*i+t*e})),mk=Uc(Xo,dP,Oz),Rz={kernelName:Xo,backendName:"cpu",kernelFunc:mk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fx(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;let u;Ir(r,"sum"),u="bool"===r.dtype?Um({inputs:{x:r},backend:e,attrs:{dtype:"int32"}}):If({inputs:{x:r},backend:e});const f=u.shape.length,p=wt(a,u.shape),g=ml(p,f);let v=p,T=u;null!=g&&(T=md({inputs:{x:u},backend:e,attrs:{perm:g}}),v=ja(v.length,f)),Dc("sum",v,T.shape.length);const[U,q]=Sc(T.shape,v);let te=pk(e,U,An(T.dtype,"int32"));const ye=Tt(q),ke=e.data.get(te.dataId).values,tt=e.data.get(T.dataId).values;for(let nt=0;nt<ke.length;++nt){const St=nt*ye;let Xt=0;for(let rn=0;rn<ye;++rn)Xt+=tt[St+rn];ke[nt]=Xt}if(c){const St=te;te=tl({inputs:{x:te},backend:e,attrs:{shape:pl(te.shape,p)}}),e.disposeIntermediateTensorInfo(St)}return e.disposeIntermediateTensorInfo(u),null!=g&&e.disposeIntermediateTensorInfo(T),te}const Nz={kernelName:ki,backendName:"cpu",kernelFunc:Fx},Fz={kernelName:ya,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pz(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=Fw(r,a.length);Qg(c.length,f,a);const{path:p,steps:g}=hv(u,f),v=g.length;let T=null,U=c.length;const q=[];for(let ae=0;ae<v;++ae){for(const te of g[ae]){const{permutationIndices:ye,expandDims:ke}=Lw(U,f[te]);let tt;dh(ye)?tt=a[te]:(tt=md({inputs:{x:a[te]},backend:e,attrs:{perm:ye}}),q.push(tt));const nt=tt.shape.slice();for(let St=0;St<ke.length;++St)nt.splice(ke[St],0,1);Re(tt.shape,nt)||(tt=tl({inputs:{x:tt},backend:e,attrs:{shape:nt}}),q.push(tt)),null===T?T=tt:(T=mk({inputs:{a:tt,b:T},backend:e}),q.push(T))}ae<v-1&&(p[ae]>=0&&(T=Fx({inputs:{x:T},backend:e,attrs:{axis:p[ae]-(c.length-U),keepDims:!1}}),q.push(T)),U--)}for(const ae of q)ae!==T&&e.disposeIntermediateTensorInfo(ae);return T}},$z={kernelName:fc,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Lz(n){const{inputs:t,backend:e}=n,{dy:i,y:r}=t;Ir([i,r],"eluGrad");const a=new Float32Array(Tt(r.shape)),c=e.data.get(r.dataId).values,u=e.data.get(i.dataId).values;for(let f=0;f<c.length;++f){const p=c[f];a[f]=p>=0?u[f]:u[f]*(p+1)}return e.makeTensorInfo(r.shape,"float32",a)}},M$=hc((n,t)=>n===t?1:0),O$=Uc(Bl,M$,null,"bool"),Bz={kernelName:Bl,backendName:"cpu",kernelFunc:O$},Vz=Aw,Uz=lv,zz=Mw,jz=qc,Wz=cv,Hz=Yg,Gz=ma(Na,n=>{const t=Math.sign(n),e=Math.abs(n),i=1/(1+Vz*e);return t*(1-((((Hz*i+Wz)*i+jz)*i+zz)*i+Uz)*i*Math.exp(-e*e))}),Kz={kernelName:Na,backendName:"cpu",kernelFunc:Gz},R$=kf(n=>Math.exp(n)),N$=Vm($r,R$,"float32"),Xz={kernelName:$r,backendName:"cpu",kernelFunc:N$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gk(n){const{inputs:t,backend:e,attrs:i}=n,{input:r}=t,{dim:a}=i,c=r.shape.length,u=r.shape.slice();let f=a;return a<0&&(Se(-(c+1)<=a,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+a+1),u.splice(f,0,1),tl({inputs:{x:r},backend:e,attrs:{shape:u}})}const Yz={kernelName:Rr,backendName:"cpu",kernelFunc:gk},P$=kf(n=>Math.expm1(n)),qz=Vm(so,P$),Qz={kernelName:so,backendName:"cpu",kernelFunc:qz},Zz=hc((n,t)=>n/t),hP=Uc(Oa,Zz),fP={kernelName:Oa,backendName:"cpu",kernelFunc:hP},F$=hc((n,t)=>n-t),Jz=aP((n,t,e,i)=>({real:n-e,imag:t-i})),pP=Uc(Ac,F$,Jz),e4={kernelName:Ac,backendName:"cpu",kernelFunc:pP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function L$(n,t,e){const i=n.shape,r=i[0],a=i[1],c=e.data.get(n.dataId),u=c.complexTensorInfos.real,f=c.complexTensorInfos.imag,p=[r,a],g=Tt(p),v=ut("float32",g),T=ut("float32",g);for(let te=0;te<r;te++){const ye=P_({inputs:{x:u},backend:e,attrs:{begin:[te,0],size:[1,a]}}),ke=P_({inputs:{x:f},backend:e,attrs:{begin:[te,0],size:[1,a]}}),tt=Sd({inputs:{real:ye,imag:ke},backend:e}),{real:nt,imag:St}=t4(tt,t,e),Xt=ch(nt,St);for(let rn=0;rn<a;rn++){const un=Nw(Xt,rn);v[te*a+rn]=un.real,T[te*a+rn]=un.imag}e.disposeIntermediateTensorInfo(ye),e.disposeIntermediateTensorInfo(ke),e.disposeIntermediateTensorInfo(tt)}const U=e.makeTensorInfo(p,"float32",v),q=e.makeTensorInfo(p,"float32",T),ae=Sd({inputs:{real:U,imag:q},backend:e});return e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),ae}function t4(n,t,e){const i=Tt(n.shape),r=e.data.get(n.dataId),a=e.data.get(r.complexTensorInfos.real.dataId).values,c=e.data.get(r.complexTensorInfos.imag.dataId).values;if(function n4(n){return!(n&n-1)}(i)){const u=mP(a,c,i,t,e),f=[n.shape[0],n.shape[1]];if(t){const p=e.makeTensorInfo(f,"float32",u.real),g=e.makeTensorInfo(f,"float32",u.imag),v=e.makeTensorInfo([],"float32",eu(i,"float32")),T=If({inputs:{x:v},backend:e}),U=fP.kernelFunc({inputs:{a:p,b:v},backend:e}),q=fP.kernelFunc({inputs:{a:g,b:T},backend:e}),ae=e.data.get(U.dataId).values,te=e.data.get(q.dataId).values;return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),{real:ae,imag:te}}return u}{const f=function r4(n,t,e){const i=new Float32Array(2*t);for(let r=0;r<t;r++){let a=0,c=0;for(let u=0;u<t;u++){const f=uv(r*u,t,e),p=Nw(n,u);a+=p.real*f.real-p.imag*f.imag,c+=p.real*f.imag+p.imag*f.real}e&&(a/=t,c/=t),uD(i,a,c,r)}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(ch(a,c),i,t);return Ow(f)}}function mP(n,t,e,i,r){if(1===e)return{real:n,imag:t};const a=ch(n,t),c=e/2,u=cD(a),f=u.real,p=u.imag,g=[f.length],v=r.makeTensorInfo(g,"float32",f),T=r.makeTensorInfo(g,"float32",p),U=Sd({inputs:{real:v,imag:T},backend:r}),q=Rw(a),ae=q.real,te=q.imag,ye=[ae.length],ke=r.makeTensorInfo(ye,"float32",ae),tt=r.makeTensorInfo(ye,"float32",te),nt=Sd({inputs:{real:ke,imag:tt},backend:r}),St=mP(f,p,c,i,r),Xt=St.real,rn=St.imag,un=[Xt.length],bn=r.makeTensorInfo(un,"float32",Xt),xn=r.makeTensorInfo(un,"float32",rn),Vn=Sd({inputs:{real:bn,imag:xn},backend:r}),Yn=mP(ae,te,c,i,r),ti=Yn.real,ni=Yn.imag,ri=[ti.length],ui=r.makeTensorInfo(ri,"float32",ti),gi=r.makeTensorInfo(ri,"float32",ni),si=Sd({inputs:{real:ui,imag:gi},backend:r}),yi=qg(e,i),Pi=[yi.real.length],Bi=r.makeTensorInfo(Pi,"float32",yi.real),Qi=r.makeTensorInfo(Pi,"float32",yi.imag),Wi=Sd({inputs:{real:Bi,imag:Qi},backend:r}),sr=mk({inputs:{a:Wi,b:si},backend:r}),Zi=Ab({inputs:{a:Vn,b:sr},backend:r}),wr=pP({inputs:{a:Vn,b:sr},backend:r}),Xr=N_({inputs:{input:Zi},backend:r}),gs=N_({inputs:{input:wr},backend:r}),us=Mb({inputs:{input:Zi},backend:r}),Ws=Mb({inputs:{input:wr},backend:r}),Xs=Ob({inputs:[Xr,gs],backend:r,attrs:{axis:0}}),ga=Ob({inputs:[us,Ws],backend:r,attrs:{axis:0}}),nl=r.data.get(Xs.dataId).values,ql=r.data.get(ga.dataId).values;return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(ke),r.disposeIntermediateTensorInfo(tt),r.disposeIntermediateTensorInfo(nt),r.disposeIntermediateTensorInfo(bn),r.disposeIntermediateTensorInfo(xn),r.disposeIntermediateTensorInfo(Vn),r.disposeIntermediateTensorInfo(ui),r.disposeIntermediateTensorInfo(gi),r.disposeIntermediateTensorInfo(si),r.disposeIntermediateTensorInfo(Bi),r.disposeIntermediateTensorInfo(Qi),r.disposeIntermediateTensorInfo(Wi),r.disposeIntermediateTensorInfo(sr),r.disposeIntermediateTensorInfo(Zi),r.disposeIntermediateTensorInfo(wr),r.disposeIntermediateTensorInfo(Xr),r.disposeIntermediateTensorInfo(us),r.disposeIntermediateTensorInfo(gs),r.disposeIntermediateTensorInfo(Ws),r.disposeIntermediateTensorInfo(Xs),r.disposeIntermediateTensorInfo(ga),{real:nl,imag:ql}}const o4={kernelName:"FFT",backendName:"cpu",kernelFunc:function s4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Tt(i.shape),a=i.shape[i.shape.length-1],u=tl({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=L$(u,!1,e),p=tl({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function gP(n){const{backend:t,attrs:e}=n,{shape:i,value:r,dtype:a}=e,c=a||tn(r),u=Z(c,Tt(i));return function l4(n,t,e){n.fill(t)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(u,r),t.makeTensorInfo(i,c,u)}const a4={kernelName:Ql,backendName:"cpu",kernelFunc:gP},c4={kernelName:ta,backendName:"cpu",kernelFunc:({inputs:n,backend:e})=>{const{image:i}=n,r=e,a=ut(i.dtype,Tt(i.shape)),[c,u,f,p]=i.shape,g=r.data.get(i.dataId).values;for(let T=0;T<c;T++){const U=T*f*u*p;for(let q=0;q<u;q++){const ae=q*(f*p);for(let te=0;te<f;te++){const ye=te*p;for(let ke=0;ke<p;ke++){const tt=Math.round(f-te-1),nt=U+ae+ye+ke;let St=g[nt];tt>=0&&tt<f&&(St=g[U+ae+tt*p+ke]),a[nt]=St}}}}return{dataId:r.write(a,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},$$=kf(n=>Math.floor(n)),u4=Vm(Gs,$$),d4={kernelName:Gs,backendName:"cpu",kernelFunc:u4},h4=hc((n,t)=>Math.floor(n/t)),f4=Uc(oo,h4,null,"int32"),p4={kernelName:oo,backendName:"cpu",kernelFunc:f4},g4={kernelName:Ue,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:U,leakyreluAlpha:q}=i;let ae=I$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T}});if(c){const te=ae;if("NCHW"===g&&1===c.shape.length&&1!==c.shape[0]){const ye=tl({inputs:{x:c},backend:e,attrs:{shape:[c.shape[0],1,1]}});ae=Ab({inputs:{a:ae,b:ye},backend:e}),e.disposeIntermediateTensorInfo(ye)}else ae=Ab({inputs:{a:ae,b:c},backend:e});e.disposeIntermediateTensorInfo(te)}if(U){const te=ae;if("NCHW"===g&&"prelu"===U&&1===u.shape.length&&1!==u.shape[0]){const ye=tl({inputs:{x:u},backend:e,attrs:{shape:[u.shape[0],1,1]}});ae=fk(e,ae,U,ye,q),e.disposeIntermediateTensorInfo(ye)}else ae=fk(e,ae,U,u,q);e.disposeIntermediateTensorInfo(te)}return ae}},y4={kernelName:_t,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:U,leakyreluAlpha:q}=i;let ae=A$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T}});if(c){const te=ae;ae=Ab({inputs:{a:ae,b:c},backend:e}),e.disposeIntermediateTensorInfo(te)}if(U){const te=ae;ae=fk(e,ae,U,u,q),e.disposeIntermediateTensorInfo(te)}return ae}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function B$(n,t,e,i,r,a,c,u,f){const p=is([i,a],e);for(let g=0;g<i;g++){const v=[];let T=0;for(let U=0;U<r;U++){const q=n[g*r+U];T+=q*c[U],v.push(q)}if(T<0||T>=f/a)throw new Error(`Invalid indices: ${v} does not index into ${u}`);for(let U=0;U<a;U++)p.values[g*a+U]=t.get(...t.indexToLoc(T*a+U))}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const b4={kernelName:rl,backendName:"cpu",kernelFunc:function v4(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=Tt(i.shape),c=r.shape,u=c[c.length-1],[f,p,g,v]=ov(i,r);if(0===p)return e.makeTensorInfo(f,i.dtype,[]);const q=B$(e.data.get(r.dataId).values,e.bufferSync(i),i.dtype,p,u,g,v,i.shape,a);return e.makeTensorInfo(f,i.dtype,q.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function V$(n,t,e){const i=is(e,n.dtype);for(let r=0;r<i.size;++r){const c=i.indexToLoc(r).slice(),p=t.locToIndex([c[0],c[2]]);c[2]=t.values[p];const g=n.locToIndex(c);0<=g&&g<n.values.length&&(i.values[r]=n.values[g])}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const E4={kernelName:Po,backendName:"cpu",kernelFunc:function w4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i;Ir([r,a],"gatherV2");const f=wt(c,r.shape)[0],p=e.data.get(a.dataId).values,g=r.shape[f];for(let nt=0;nt<p.length;++nt){const St=p[nt];Se(St<=g-1&&St>=0,()=>`GatherV2: the index value ${St} is not in [0, ${g-1}]`)}let v=u;null==u&&(v=0);const T=Tt(a.shape),U=Uw(r,a,f,v),q=tl({inputs:{x:r},backend:e,attrs:{shape:[U.batchSize,U.outerSize,U.dimSize,U.sliceSize]}}),ae=tl({inputs:{x:a},backend:e,attrs:{shape:[U.batchSize,T/U.batchSize]}}),te=[U.batchSize,U.outerSize,T/U.batchSize,U.sliceSize],ye=e.bufferSync(ae),tt=V$(e.bufferSync(q),ye,te);return e.disposeIntermediateTensorInfo(q),e.disposeIntermediateTensorInfo(ae),e.makeTensorInfo(U.outputShape,tt.dtype,tt.values)}},U$=hc((n,t)=>n>t?1:0),x4=Uc(bo,U$,null,"bool"),C4={kernelName:bo,backendName:"cpu",kernelFunc:x4},z$=hc((n,t)=>n>=t?1:0),S4=Uc(wo,z$,null,"bool"),D4={kernelName:wo,backendName:"cpu",kernelFunc:S4},k4={kernelName:Go,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Tt(i.shape),a=i.shape[i.shape.length-1],u=tl({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=L$(u,!0,e),p=tl({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}},I4=ma(ba,n=>Number.isFinite(n)?1:0,"bool"),A4={kernelName:ba,backendName:"cpu",kernelFunc:I4},M4=ma(Ar,n=>Math.abs(n)===1/0?1:0,"bool"),O4={kernelName:Ar,backendName:"cpu",kernelFunc:M4},R4=ma(vs,n=>Number.isNaN(n)?1:0,"bool"),N4={kernelName:vs,backendName:"cpu",kernelFunc:R4},j$=hc((n,t)=>n<t?1:0),P4=Uc(po,j$,null,"bool"),F4={kernelName:po,backendName:"cpu",kernelFunc:P4},W$=hc((n,t)=>n<=t?1:0),L4=Uc(Xa,W$,null,"bool"),$4={kernelName:Xa,backendName:"cpu",kernelFunc:L4};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H$(n,t,e){const i=(t-n)/(e-1),r=Gn(e,"float32");r[0]=n;for(let a=1;a<r.length;a++)r[a]=r[a-1]+i;return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const V4={kernelName:Ya,backendName:"cpu",kernelFunc:function B4(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=H$(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},G$=kf(n=>Math.log(n)),U4=Vm(sl,G$),z4={kernelName:sl,backendName:"cpu",kernelFunc:U4},j4=ma(Oi,n=>Math.log1p(n)),W4={kernelName:Oi,backendName:"cpu",kernelFunc:j4},H4=hc((n,t)=>n&&t),G4=Uc(Ao,H4,null,"bool"),K4={kernelName:Ao,backendName:"cpu",kernelFunc:G4},X4=ma(mo,n=>n?0:1,"bool"),Y4={kernelName:mo,backendName:"cpu",kernelFunc:X4},q4=hc((n,t)=>n||t),Q4=Uc(Fo,q4,null,"bool"),Z4={kernelName:Fo,backendName:"cpu",kernelFunc:Q4},ej={kernelName:Ko,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i;Ir(r,"LRN");const p=r.shape[3],g=p-1,v=e.data.get(r.dataId).values,T=Tt(r.shape),U=new Float32Array(T);function q(ae){const te=ae%p;let ye=ae-te+Math.max(0,te-a);const ke=ae-te+Math.min(te+a,g);let tt=0;for(;ye<=ke;ye++){const nt=v[ye];tt+=nt*nt}return tt}for(let ae=0;ae<T;ae++){const te=q(ae),ye=v[ae]*Math.pow(c+u*te,-f);U[ae]=ye}return e.makeTensorInfo(r.shape,r.dtype,U)}},nj={kernelName:ia,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i;Ir(c,"LRNGrad");const v=Tt(c.shape),T=c.shape[3],U=e.data.get(c.dataId).values,q=e.data.get(r.dataId).values,ae=e.data.get(a.dataId).values,te=new Float32Array(v),ye=v;for(let ke=0;ke<ye;ke++){const tt=ke%T,nt=ke-tt+Math.max(0,tt-u),St=ke-tt+Math.min(T,tt+u+1);let Xt=0;for(let rn=nt;rn<St;rn++)Xt+=Math.pow(q[rn],2);Xt=p*Xt+f;for(let rn=nt;rn<St;rn++){let un=-2*p*g*q[rn]*ae[ke]/Xt;ke===rn&&(un+=Math.pow(Xt,-g)),un*=U[ke],te[rn]+=un}}return e.makeTensorInfo(c.shape,r.dtype,te)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function K$(n,t,e,i){const r=ut(i,Tt(e));for(let a=0;a<r.length;++a){const c=a*t;let u=n[c];for(let f=0;f<t;++f){const p=n[c+f];(Number.isNaN(p)||p>u)&&(u=p)}r[a]=u}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function X$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=e;let f=r.shape;const p=f.length,g=wt(a,f);let v=g;const T=ml(v,p);let U=u.data.get(r.dataId).values;if(null!=T){const nt=new Array(p);for(let St=0;St<nt.length;St++)nt[St]=f[T[St]];U=lP(U,f,r.dtype,T,nt),v=ja(v.length,p),f=nt}Ir(r,"max"),Dc("max",v,p);const[q,ae]=Sc(f,v),ye=K$(U,Tt(ae),q,r.dtype),ke=u.write(ye,q,r.dtype);let tt=q;return c&&(tt=pl(q,g)),{dataId:ke,shape:tt,dtype:r.dtype}}const ij={kernelName:wa,backendName:"cpu",kernelFunc:X$},Y$=hc((n,t)=>Math.max(n,t)),rj=Uc(Lo,Y$),sj={kernelName:Lo,backendName:"cpu",kernelFunc:rj},aj={kernelName:La,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Ir(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Se(Cc(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Qu(r.shape,a,c,1,u,f);let v;if(1===g.filterWidth&&1===g.filterHeight&&Re(g.inShape,g.outShape))v=If({inputs:{x:r},backend:e});else{const T=e.data.get(r.dataId).values,U=$t(r.shape),q=cP(T,0,r.dtype,U,g,"max");v=e.makeTensorInfo(g.outShape,r.dtype,q.values)}return v}},cj={kernelName:vl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;Ir(r,"maxPool3d");const g=oh(r.shape,a,c,1,u,f,p),T=x$(e.data.get(r.dataId).values,0,r.dtype,$t(r.shape),g,"max");return e.makeTensorInfo(T.shape,"float32",T.values)}},dj={kernelName:Rs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;Ir([r,a],"maxPool3DGrad");const g=oh(a.shape,c,u,1,f,p),T=function E3(n,t){const e=is(t.outShape,"int32"),i=t.strideDepth,r=t.strideHeight,a=t.strideWidth,c=t.dilationDepth,u=t.dilationHeight,f=t.dilationWidth,p=t.effectiveFilterDepth,g=t.effectiveFilterHeight,v=t.effectiveFilterWidth,T=t.padInfo.front,U=t.padInfo.top,q=t.padInfo.left;for(let ae=0;ae<t.batchSize;++ae)for(let te=0;te<t.inChannels;++te)for(let ye=0;ye<t.outDepth;++ye){const ke=ye*i-T;let tt=ke;for(;tt<0;)tt+=c;const nt=Math.min(t.inDepth,p+ke);for(let St=0;St<t.outHeight;++St){const Xt=St*r-U;let rn=Xt;for(;rn<0;)rn+=u;const un=Math.min(t.inHeight,g+Xt);for(let bn=0;bn<t.outWidth;++bn){const xn=bn*a-q;let Vn=xn;for(;Vn<0;)Vn+=f;const Yn=Math.min(t.inWidth,v+xn);let ti=Number.NEGATIVE_INFINITY,ni=-1;for(let ri=tt;ri<nt;ri+=c){const ui=ri-ke;for(let gi=rn;gi<un;gi+=u){const si=gi-Xt;for(let yi=Vn;yi<Yn;yi+=f){const Pi=yi-xn,Bi=n.get(ae,ri,gi,yi,te);Bi>=ti&&(ti=Bi,ni=ui*g*v+si*g+Pi)}}}e.set(ni,ae,ye,St,bn,te)}}}return e}(e.bufferSync(a),g),U=g.strideDepth,q=g.strideHeight,ae=g.strideWidth,te=g.dilationDepth,ye=g.dilationHeight,ke=g.dilationWidth,tt=g.effectiveFilterDepth,nt=g.effectiveFilterHeight,St=g.effectiveFilterWidth,Xt=tt-1-g.padInfo.front,rn=St-1-g.padInfo.left,un=nt-1-g.padInfo.top,bn=is(a.shape,"float32"),xn=e.bufferSync(r);for(let Vn=0;Vn<g.batchSize;++Vn)for(let Yn=0;Yn<g.inChannels;++Yn)for(let ti=0;ti<g.inDepth;++ti)for(let ni=0;ni<g.inHeight;++ni)for(let ri=0;ri<g.inWidth;++ri){const ui=ti-Xt,gi=ni-un,si=ri-rn;let yi=0;for(let Pi=0;Pi<tt;Pi+=te){const Bi=(ui+Pi)/U;if(!(Bi<0||Bi>=g.outDepth||Math.floor(Bi)!==Bi))for(let Qi=0;Qi<nt;Qi+=ye){const Wi=(gi+Qi)/q;if(!(Wi<0||Wi>=g.outHeight||Math.floor(Wi)!==Wi))for(let sr=0;sr<St;sr+=ke){const Zi=(si+sr)/ae;if(Zi<0||Zi>=g.outWidth||Math.floor(Zi)!==Zi)continue;const gs=tt*nt*St-1-T.get(Vn,Bi,Wi,Zi,Yn)===Pi*nt*St+Qi*St+sr?1:0;0!==gs&&(yi+=xn.get(Vn,Bi,Wi,Zi,Yn)*gs)}}}bn.set(yi,Vn,ti,ni,ri,Yn)}return e.makeTensorInfo(bn.shape,bn.dtype,bn.values)}},fj={kernelName:ol,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;Ir([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:v}=i,T=Qu(u.shape,f,p,1,g,v),U=e.data.get(u.dataId).values,q=is(T.outShape,u.dtype,E$(U,u.shape,u.dtype,T).values),ae=T.strideHeight,te=T.strideWidth,ye=T.dilationHeight,ke=T.dilationWidth,tt=T.effectiveFilterHeight,nt=T.effectiveFilterWidth,St=nt-1-T.padInfo.left,Xt=tt-1-T.padInfo.top,rn=is(u.shape,"float32"),un=e.data.get(r.dataId).values,bn=is(r.shape,"float32",un);for(let xn=0;xn<T.batchSize;++xn)for(let Vn=0;Vn<T.inChannels;++Vn)for(let Yn=0;Yn<T.inHeight;++Yn)for(let ti=0;ti<T.inWidth;++ti){const ni=Yn-Xt,ri=ti-St;let ui=0;for(let gi=0;gi<tt;gi+=ye){const si=(ni+gi)/ae;if(!(si<0||si>=T.outHeight||Math.floor(si)!==si))for(let yi=0;yi<nt;yi+=ke){const Pi=(ri+yi)/te;if(Pi<0||Pi>=T.outWidth||Math.floor(Pi)!==Pi)continue;const Wi=tt*nt-1-q.get(xn,si,Pi,Vn)===gi*nt+yi?1:0;0!==Wi&&(ui+=bn.get(xn,si,Pi,Vn)*Wi)}}rn.set(ui,xn,Yn,ti,Vn)}return e.makeTensorInfo(rn.shape,rn.dtype,rn.values)}},mj={kernelName:al,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;Ir(i,"MaxPoolWithArgmax");const p=f.data.get(i.dataId).values,g=Qu(i.shape,r,a,[1,1],c),[v,T]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pj(n,t,e,i,r){const c=cP(n,0,e,$t(t),r,"max"),u=E$(n,t,e,r,!0,i);return[c.values,u.values]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(p,i.shape,i.dtype,u,g),U=f.write(v,g.outShape,i.dtype),q=f.write(T,g.outShape,i.dtype);return[{dataId:U,shape:g.outShape,dtype:i.dtype},{dataId:q,shape:g.outShape,dtype:"int32"}]}},_j={kernelName:ra,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=wt(a,r.shape),g=Tt(Sc(r.shape,u)[1]),v=[],T=e.makeTensorInfo([],"float32",new Float32Array([g]));v.push(T);const U=Um({inputs:{x:r},backend:e,attrs:{dtype:"float32"}});v.push(U);const q=hP({inputs:{a:U,b:T},backend:e});v.push(q);const ae=Fx({inputs:{x:q},backend:e,attrs:{axis:a,keepDims:c}});return v.forEach(te=>e.disposeIntermediateTensorInfo(te)),ae}},vj={kernelName:es,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Ir(r,"min");const u=wt(a,r.shape);let f=u;const p=ml(f,r.shape.length);let g=r;null!=p&&(g=md({inputs:{x:r},backend:e,attrs:{perm:p}}),f=ja(f.length,r.shape.length)),Dc("min",f,g.shape.length);const[v,T]=Sc(g.shape,f),U=Tt(T),q=Gn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let ye=0;ye<q.length;++ye){const ke=ye*U;let tt=ae[ke];for(let nt=0;nt<U;++nt){const St=ae[ke+nt];(Number.isNaN(St)||St<tt)&&(tt=St)}q[ye]=tt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,q);if(c){const ke=tl({inputs:{x:te},backend:e,attrs:{shape:pl(v,u)}});return e.disposeIntermediateTensorInfo(te),ke}return te}},q$=hc((n,t)=>Math.min(n,t)),bj=Uc(qa,q$),wj={kernelName:qa,backendName:"cpu",kernelFunc:bj},xj={kernelName:ao,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ej(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,mode:c}=i;Ir(r,"mirrorPad");const u=a.map((tt,nt)=>tt[0]+r.shape[nt]+tt[1]),f=a.map(tt=>tt[0]),p=a.map((tt,nt)=>tt[0]+r.shape[nt]),g="reflect"===c?0:1,v=e.data.get(r.dataId).values,T=r.shape.length,U=$t(r.shape),q=Tt(u),ae=u.length,te=$t(u),ye=ut(r.dtype,q);for(let tt=0;tt<q;tt++){let nt=$e(tt,ae,te);for(let Xt=0;Xt<ae;Xt++)nt[Xt]<f[Xt]?nt[Xt]=2*f[Xt]-nt[Xt]-g:nt[Xt]>=p[Xt]&&(nt[Xt]=2*(p[Xt]-1)-nt[Xt]+g);nt=nt.map((Xt,rn)=>Xt-f[rn]);const St=pt(nt,T,U);ye[tt]=v[St]}return{dataId:e.write(ye,u,r.dtype),shape:u,dtype:r.dtype}}},Cj=hc((n,t)=>{const e=n%t;return n<0&&t<0||n>=0&&t>=0?e:(e+t)%t}),Sj=Uc(Ea,Cj),Dj={kernelName:Ea,backendName:"cpu",kernelFunc:Sj};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Q$(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=r.shape.length;let u=a;if(-1===u&&(u=c-1),u!==c-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${c} and dim was ${u}`);const f=wt([u],r.shape),p=X$({inputs:{x:r},backend:e,attrs:{reductionIndices:f,keepDims:!1}}),g=pl(p.shape,f),v=tl({inputs:{x:p},backend:e,attrs:{shape:g}}),T=pP({inputs:{a:r,b:v},backend:e}),U=N$({inputs:{x:T},backend:e}),q=Fx({inputs:{x:U},backend:e,attrs:{axis:f,keepDims:!1}}),ae=tl({inputs:{x:q},backend:e,attrs:{shape:g}}),te=hP({inputs:{a:U,b:ae},backend:e});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),e.disposeIntermediateTensorInfo(ae),te}const Tj={kernelName:os,backendName:"cpu",kernelFunc:Q$},Ij={kernelName:sa,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kj(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i;Ir(r,"multinomial");const f=u?r:Q$({inputs:{logits:r},backend:e,attrs:{dim:-1}}),p=f.shape[0],g=f.shape[1],v=e.data.get(f.dataId).values,T=[p,a],U=Gn(Tt(T),"int32");for(let q=0;q<p;++q){const ae=q*g,te=new Float32Array(g-1);te[0]=v[ae];for(let tt=1;tt<te.length;++tt)te[tt]=te[tt-1]+v[ae+tt];const ye=Zf.alea(c.toString()),ke=q*a;for(let tt=0;tt<a;++tt){const nt=ye();U[ke+tt]=te.length;for(let St=0;St<te.length;St++)if(nt<te[St]){U[ke+tt]=St;break}}}return u||e.disposeIntermediateTensorInfo(f),e.makeTensorInfo(T,"int32",U)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z$(n,t,e){const i=eu(-1,e);return dP([],t,i,n,e)}const Mj={kernelName:ll,backendName:"cpu",kernelFunc:function Aj(n){const{inputs:t,backend:e}=n,{x:i}=t;Ir(i,"neg");const r=e.data.get(i.dataId).values,[a,c]=Z$(r,i.shape,i.dtype);return e.makeTensorInfo(c,i.dtype,a)}},Oj=hw,Nj={kernelName:ks,backendName:"cpu",kernelFunc:function Rj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i;Ir(r,"NonMaxSuppression");const p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,{selectedIndices:v}=Oj(p,g,c,u,f);return e.makeTensorInfo([v.length],"int32",new Int32Array(v))}},Pj=fw,Lj={kernelName:lo,backendName:"cpu",kernelFunc:function Fj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i;Ir(r,"NonMaxSuppressionPadded");const g=e.data.get(r.dataId).values,v=e.data.get(a.dataId).values,{selectedIndices:T,validOutputs:U}=Pj(g,v,c,u,f,p);return[e.makeTensorInfo([T.length],"int32",new Int32Array(T)),e.makeTensorInfo([],"int32",new Int32Array([U]))]}},$j=sp,Vj={kernelName:$a,backendName:"cpu",kernelFunc:function Bj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i;Ir(r,"NonMaxSuppressionWithScore");const g=e.data.get(r.dataId).values,v=e.data.get(a.dataId).values,T=c,U=u,q=f,ae=p,{selectedIndices:te,selectedScores:ye}=$j(g,v,T,U,q,ae);return[e.makeTensorInfo([te.length],"int32",new Int32Array(te)),e.makeTensorInfo([ye.length],"float32",new Float32Array(ye))]}},J$=hc((n,t)=>n!==t?1:0),Uj=Uc(pr,J$,null,"bool"),zj={kernelName:pr,backendName:"cpu",kernelFunc:Uj},Wj={kernelName:jt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jj(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i;Ir(r,"oneHot");const p=Tt(r.shape),g=new Float32Array(p*c);g.fill(f);const v=e.data.get(r.dataId).values;for(let T=0;T<p;++T)v[T]>=0&&v[T]<c&&(g[T*c+v[T]]=u);return e.makeTensorInfo([...r.shape,c],a,g)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _k(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===i.dtype){const r=N_({inputs:{input:i},backend:e}),a=_k({inputs:{x:r},backend:e}),c=Mb({inputs:{input:i},backend:e}),u=_k({inputs:{x:c},backend:e}),f=Sd({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return gP({backend:e,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const Hj={kernelName:Mc,backendName:"cpu",kernelFunc:_k},Gj={kernelName:Vs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eB(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const r=N_({inputs:{input:i},backend:e}),a=eB({inputs:{x:r},backend:e}),c=Mb({inputs:{input:i},backend:e}),u=_k({inputs:{x:c},backend:e}),f=Sd({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return gP({backend:e,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tB(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return gk({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{qt(a,g.shape,"All tensors passed to stack must have matching shapes"),Se(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=Ob({inputs:t.map(g=>{const v=gk({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(v),v}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}const Kj={kernelName:de,backendName:"cpu",kernelFunc:tB},nB={kernelName:De,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;Ir(r,"pad");const u=a.map((ke,tt)=>ke[0]+r.shape[tt]+ke[1]),f=a.map(ke=>ke[0]),p=e.data.get(r.dataId).values,g=Tt(r.shape),v=r.shape.length,T=$t(r.shape),U=Tt(u),q=u.length,ae=$t(u),te=ut(r.dtype,U);0!==c&&te.fill(c);for(let ke=0;ke<g;ke++)te[pt($e(ke,v,T).map((Xt,rn)=>Xt+f[rn]),q,ae)]=p[ke];return{dataId:e.write(te,u,r.dtype),shape:u,dtype:r.dtype}}},Yj=hc((n,t)=>Math.pow(n,t)),qj=Uc(le,Yj),Qj={kernelName:le,backendName:"cpu",kernelFunc:qj};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iB(n,t,e,i){const[r,a]=Sc(n,i),c=An(t,"int32"),u=Gn(Tt(r),c),f=Tt(a);for(let p=0;p<u.length;++p){const g=p*f;let v=1;for(let T=0;T<f;++T)v*=e[g+T];u[p]=v}return{outVals:u,outShape:r,outDtype:c}}const Jj={kernelName:ze,backendName:"cpu",kernelFunc:function Zj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Ir(r,"prod");const u=r.shape.length,f=wt(a,r.shape),p=ml(f,u);let g=f,v=r;const T=[];null!=p&&(v=md({inputs:{x:r},backend:e,attrs:{perm:p}}),T.push(v),g=ja(g.length,u));const U=e.data.get(v.dataId).values,{outVals:q,outShape:ae,outDtype:te}=iB(v.shape,v.dtype,U,g);let ye=ae;return c&&(ye=pl(ae,f)),T.forEach(ke=>e.disposeIntermediateTensorInfo(ke)),e.makeTensorInfo(ye,te,q)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function rB(n,t){const e=n.slice(0,t);for(;e.length<t;)e.push(1);for(let i=t;i<n.length;i++)e[t-1]*=n[i];return e}function sB(n,t,e,i,r,a,c,u){if(0===n.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function eW(n,t,e){n.forEach((i,r)=>{if(i<0||i>=e){const a=$e(r,t.length,$t(t)).join(",");throw new Error(`indices[${a}] = ${i} is not in [0, ${e})`)}})}(a,c,t[0][0]-1),0===i.length)throw new Error("params.rank must be nonzero");const p=i[0],{outSplits:g,valueSlices:v,numValues:T}=function nW(n,t,e,i){const r=[];let a=0;const u=new Array(t.length-1+e.length).fill(null).map(()=>[0]);!function tW(n,t){for(let e=0;e<n.length;++e){const i=n[e],r=e===n.length-1?t:n[e+1].length;if(0===i.length)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>r)throw new Error("Ragged splits must not point past values");for(let a=1;a<i.length;++a)if(i[a-1]>i[a])throw new Error("Ragged splits must be sorted in ascending order")}}(e,i);let f=1;for(let p=0;p<t.length-1;++p){f*=t[p];const g=t[p+1];for(let v=1;v<f+1;++v)u[p].push(v*g)}for(let p=0;p<n.length;++p){let g=n[p],v=n[p]+1;for(let T=0;T<e.length;++T){const U=e[T],q=T+t.length-1;if(q>=0){const ae=u[q],te=ae[ae.length-1]-U[g];for(let ye=g;ye<v;++ye)u[q].push(U[ye+1]+te)}g=U[g],v=U[v]}v!==g&&(r.push([g,v]),a+=v-g)}return{outSplits:u,valueSlices:r,numValues:a}}(a,c,n,p),U=function iW(n){const t=[];for(let e=0;e<n.length;++e){const r=Z("int32",n[e].length);t.push(r),n[e].forEach((a,c)=>r[c]=a)}return t}(g),q=function sW(n,t,e,i,r){const a=t.slice();a[0]=r;const c=Z(e,Tt(a)),u=n.length;return function rW(n,t,e,i,r,a){const c=rB(t,2)[1],u=rB(a,2)[1];let f=0;for(const p of e)for(let g=p[0];g<p[1];++g){for(let v=0;v<i;++v)r[f*u+v]=n[g*c+v];++f}}(n,t,i,0===u?0:u/t[0],c,a),[c,a]}(e,i,r,v,T);return[U,q[0],q[1]]}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const aW={kernelName:Ct,backendName:"cpu",kernelFunc:function oW(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,f=r.map(ye=>e.data.get(ye.dataId).values),p=r.map(ye=>ye.shape),g=e.data.get(a.dataId).values,v=e.data.get(c.dataId).values,[T,U,q]=sB(f,p,g,a.shape,a.dtype,v,c.shape),ae=T.map(ye=>e.makeTensorInfo([ye.length],"int32",ye)),te=e.makeTensorInfo(q,a.dtype,U);return ae.concat([te])}},oB=2147483647;
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function aB(n,t,e,i,r,a,c){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(c.length>1)throw new Error("deltas must be a scalar or vector");const u=0===t.length,f=0===r.length,p=0===c.length,g=[];u||g.push(t[0]),f||g.push(r[0]),p||g.push(c[0]);for(let te=1;te<g.length;++te)if(g[te]!==g[te-1])throw new Error("starts, limits, and deltas must have the same shape");const v=0===g.length?1:g[0],T=Z("int32",v+1);T[0]=0;for(let te=0;te<v;++te){const ye=u?n[0]:n[te],ke=f?i[0]:i[te],tt=p?a[0]:a[te];if(0===tt)throw new Error("Requires delta != 0");let nt;if(tt>0&&ke<ye||tt<0&&ke>ye)nt=0;else if(nt=Math.ceil(Math.abs((ke-ye)/tt)),nt>oB)throw new Error(`Requires ((limit - start) / delta) <= ${oB}`);T[te+1]=T[te]+nt}const q=Z(e,T[v]);let ae=0;for(let te=0;te<v;++te){const ye=T[te+1]-T[te];let ke=u?n[0]:n[te];const tt=p?a[0]:a[te];for(let nt=0;nt<ye;++nt)q[ae++]=ke,ke+=tt}return[T,q]}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const cW={kernelName:wn,backendName:"cpu",kernelFunc:function lW(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=aB(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var yh=Vd;class yk{constructor(t,e,i,r,a,c,u,f,p,g){this.shape=t,this.shapeShape=e,this.values=i,this.valuesShape=r,this.valuesDType=a,this.defaultValue=c,this.defaultValueShape=u,this.rowPartitionValues=f,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=Dw(g),this.raggedRank=Tw(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===yh.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===yh.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const e=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case yh.VALUE_ROWIDS:return yk.getMaxWidthValueRowID(e);case yh.ROW_SPLITS:return yk.getMaxWidthRowSplit(e);default:throw new Error(`Cannot handle partition type ${yh[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const e=t.length;if(0===e||1===e)return 0;let i=0;for(let r=0;r<e-1;++r){const a=t[r+1]-t[r];a>i&&(i=a)}return i}static getMaxWidthValueRowID(t){const e=t.length;if(0===e)return 0;let i=0,r=t[0],a=0;for(let c=1;c<e;++c){const u=t[c];u!==r&&(r=u,a=Math.max(c-i,a),i=c)}return Math.max(e-i,a)}tensorShapeFromTensor(t,e,i=!0){if(0===e.length){if(-1===t[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return cB(t,i)}calculateOutputSize(t){const e=this.valuesShape;kw(this.defaultValueShape,e);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),c=du(this.raggedRank,r,e);c[0]<0&&(c[0]=t);for(let u=1;u<=this.raggedRank;++u)c[u]<0&&(c[u]=this.getMaxWidth(u));return c}calculateFirstParentOutputIndex(t,e,i){const r=Math.min(t,i),a=[];let c=0;for(let u=0;u<r;++u,c+=e)a.push(c);for(let u=r;u<t;++u)a.push(-1);return Se(a.length===t,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(t,e,i,r){const a=t.length,c=[];for(let u=0;u<a-1;++u){const f=t[u+1]-t[u];let p=Math.min(r,f),g=e[u];-1===g&&(p=0);for(let v=0;v<p;++v)c.push(g),g+=i;for(let v=0;v<f-p;++v)c.push(-1)}if(a>0&&c.length!==t[a-1])throw new Error("Invalid row split size.");return c}calculateOutputIndexValueRowID(t,e,i,r){const a=t.length,c=[];if(0===a)return[];let u=0,f=t[0];if(f>=e.length)throw new Error(`Got currentValueRowId=${f}, which is not less than ${e.length}`);let p=e[f];c.push(p);for(let g=1;g<a;++g){const v=t[g];if(v===f)p>=0&&(++u,u<r?p+=i:p=-1);else{if(u=0,f=v,v>=e.length)throw new Error(`Got nextValueRowId=${v} which is not less than ${e.length}`);p=e[v]}c.push(p)}if(c.length!==t.length)throw new Error("Invalid row ids.");return c}calculateOutputIndex(t,e,i,r){const a=this.getRowPartitionTensor(t),c=this.getRowPartitionTypeByDimension(t);switch(c){case yh.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,e,i,r);case yh.ROW_SPLITS:if(a.length-1>e.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${e.length}`);return this.calculateOutputIndexRowSplit(a,e,i,r);default:throw new Error(`Unsupported partition type: ${yh[c]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const e=this.rowPartitionTypes[0];switch(e){case yh.FIRST_DIM_SIZE:return t[0];case yh.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case yh.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${yh[e]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),i=this.calculateOutputSize(e),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let f=r.length-2;f>=0;--f)r[f]=r[f+1]*i[f+1];const a=cB(i,!1),c=Z(this.valuesDType,Tt(a));if(r[0]*i[0]>0){let f=this.calculateFirstParentOutputIndex(e,r[0],i[0]);for(let p=1;p<=this.raggedRank;++p)f=this.calculateOutputIndex(p-1,f,r[p],i[p]);this.setOutput(this.raggedRank,f,c,a)}return[a,c]}setOutput(t,e,i,r){if(0===i.length)return;const a=this.values,c=i;let u=r.slice();u=u.slice(t+1);const f=Tt(u),p=e.length;let g=this.defaultValue;if(g.length!==f&&1!==g.length){const q=this.defaultValueShape;k(()=>{const ae=Dn(g,q);g=zf(ae,u).dataSync()})}let v=0,T=0,U=0;for(let q=0;q<=p;++q){let ae=q<p?e[q]:-1;if(ae!==U){if(T<U){const te=a.subarray(v*f);lB(c.subarray(T*f),te,(U-T)*f)}if(q>=p&&(ae=Math.floor(i.length/f)),ae>U)if(1===this.defaultValue.length)c.subarray(U*f,ae*f).fill(this.defaultValue[0]),U=ae;else for(;ae>U;)lB(c.slice(U*f),g,f),++U;ae<0?(v=q+1,T=U):(v=q,T=U,U=T+1)}else++U}}}function lB(n,t,e){for(let i=0;i<e;i++)n[i]=t[i]}function cB(n,t){const e=[];for(let i of n){if(i<0){if(!t)throw new Error(`Dimension ${i} must be >= 0`);if(i<-1)throw new Error(`Dimension ${i} must be >= -1`);i=-1}e.push(i)}return e}function uB(n,t,e,i,r,a,c,u,f,p){return new yk(n,t,e,i,r,a,c,u,f,p).compute()}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const dW={kernelName:Pn,backendName:"cpu",kernelFunc:function uW(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,v=e.data.get(c.dataId).values,T=u.map(te=>e.data.get(te.dataId).values),U=u.map(te=>te.shape),[q,ae]=uB(p,r.shape,g,a.shape,a.dtype,v,c.shape,T,U,f);return e.makeTensorInfo(q,a.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dB(n,t,e,i){if(n===t||n<t&&e<0||t<n&&e>1)return Gn(0,i);const f=Gn(Math.abs(Math.ceil((t-n)/e)),i);t<n&&1===e&&(e=-1),f[0]=n;for(let p=1;p<f.length;p++)f[p]=f[p-1]+e;return f}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fW={kernelName:Di,backendName:"cpu",kernelFunc:function hW(n){const{backend:t,attrs:e}=n,{start:i,stop:r,dtype:a,step:c}=e,u=dB(i,r,c,a);return t.makeTensorInfo([u.length],a,u)}},pW=ma(mr,n=>1/n),mW={kernelName:mr,backendName:"cpu",kernelFunc:pW},_W={kernelName:Dr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;Ir(r,"resizeBilinear");const f=$t(r.shape),[p,g]=u,[v,T,U,q]=r.shape,ae=e.data.get(r.dataId).values,te=new Float32Array(Tt([v,p,g,q])),ye=[a&&p>1?T-1:T,a&&g>1?U-1:U],ke=[a&&p>1?p-1:p,a&&g>1?g-1:g];let tt=0;const nt=ye[0]/ke[0],St=ye[1]/ke[1];for(let Xt=0;Xt<v;Xt++)for(let rn=0;rn<p;rn++){let un;un=c?nt*(rn+.5)-.5:nt*rn;const bn=Math.max(0,Math.floor(un)),xn=un-bn,Vn=Math.min(T-1,Math.ceil(un)),Yn=Xt*f[0]+bn*f[1],ti=Xt*f[0]+Vn*f[1];for(let ni=0;ni<g;ni++){let ri;ri=c?St*(ni+.5)-.5:St*ni;const ui=Math.max(0,Math.floor(ri)),gi=ri-ui,si=Math.min(U-1,Math.ceil(ri)),yi=Yn+ui*f[2],Pi=ti+ui*f[2],Bi=Yn+si*f[2],Qi=ti+si*f[2];for(let Wi=0;Wi<q;Wi++){const sr=ae[yi+Wi],Zi=ae[Pi+Wi],gs=sr+(ae[Bi+Wi]-sr)*gi;te[tt++]=gs+(Zi+(ae[Qi+Wi]-Zi)*gi-gs)*xn}}}return e.makeTensorInfo([v,p,g,q],"float32",te)}},vW={kernelName:Us,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;Ir([a,r],"resizeBilinearGrad");const u=$t(r.shape),[f,p,g,v]=r.shape,[,T,U]=a.shape,q=new Float32Array(f*p*g*v),ae=[c&&T>1?p-1:p,c&&U>1?g-1:g],te=[c&&T>1?T-1:T,c&&U>1?U-1:U],ye=ae[0]/te[0],ke=ae[1]/te[1],tt=e.data.get(a.dataId).values;let nt=0;for(let St=0;St<f;St++){const Xt=St*u[0];for(let rn=0;rn<T;rn++){const un=rn*ye,bn=Math.floor(un),xn=Math.min(Math.ceil(un),p-1),Vn=Xt+bn*u[1],Yn=Xt+xn*u[1],ti=un-bn,ni=1-ti;for(let ri=0;ri<U;ri++){const ui=ri*ke,gi=Math.floor(ui),si=Math.min(Math.ceil(ui),g-1),yi=ui-gi,Pi=1-yi,Bi=Vn+gi*u[2],Qi=Vn+si*u[2],Wi=Yn+gi*u[2],sr=Yn+si*u[2],Zi=ni*Pi,wr=ni*yi,Xr=ti*Pi,gs=ti*yi;for(let us=0;us<v;us++){const Ws=tt[nt++];q[Bi+us]+=Ws*Zi,q[Qi+us]+=Ws*wr,q[Wi+us]+=Ws*Xr,q[sr+us]+=Ws*gs}}}}return e.makeTensorInfo([f,g,p,v],"float32",q)}},wW={kernelName:Nr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;Ir(r,"resizeNearestNeighbor");const f=$t(r.shape),[p,g]=u,[v,T,U,q]=r.shape,ae=e.data.get(r.dataId).values,te=new Float32Array(v*p*g*q),ye=[a&&p>1?T-1:T,a&&g>1?U-1:U],ke=[a&&p>1?p-1:p,a&&g>1?g-1:g],tt=ye[0]/ke[0],nt=ye[1]/ke[1];let St=0;for(let Xt=0;Xt<v;Xt++){const rn=Xt*f[0];for(let un=0;un<p;un++){const bn=c?tt*(un+.5):tt*un;let xn=Math.min(T-1,a?Math.round(bn):Math.floor(bn));c&&(xn=Math.max(0,xn));const Vn=rn+xn*f[1];for(let Yn=0;Yn<g;Yn++){const ti=c?nt*(Yn+.5):nt*Yn;let ni=Math.min(U-1,a?Math.round(ti):Math.floor(ti));c&&(ni=Math.max(0,ni));const ri=Vn+ni*f[2];for(let ui=0;ui<q;ui++)te[St++]=ae[ri+ui]}}}return e.makeTensorInfo([v,p,g,q],r.dtype,te)}},xW={kernelName:qs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;Ir([a,r],"resizeNearestNeighborGrad");const u=$t(r.shape),f=$t(a.shape),[p,g,v,T]=r.shape,[,U,q]=a.shape,ae=new Float32Array(p*g*v*T),te=e.data.get(a.dataId).values,ye=[c&&U>1?g-1:g,c&&q>1?v-1:v],ke=[c&&U>1?U-1:U,c&&q>1?q-1:q],tt=ye[0]/ke[0],nt=ye[1]/ke[1],St=1/tt,Xt=1/nt,rn=2*Math.ceil(St)+2,un=2*Math.ceil(Xt)+2;for(let bn=0;bn<p;bn++){const xn=bn*u[0];for(let Vn=0;Vn<g;Vn++){const Yn=xn+Vn*u[1],ti=Math.floor(Vn*St),ni=Math.floor(ti-rn/2);for(let ri=0;ri<v;ri++){const ui=Yn+ri*u[2],gi=Math.floor(ri*Xt),si=Math.floor(gi-un/2);for(let yi=0;yi<T;yi++){let Pi=0;for(let Bi=0;Bi<rn;Bi++){const Qi=Bi+ni;if(Qi<0||Qi>=U)continue;const Wi=xn+Qi*f[1],sr=Qi*tt;if(Vn===Math.min(g-1,c?Math.round(sr):Math.floor(sr)))for(let wr=0;wr<un;wr++){const Xr=wr+si;if(Xr<0||Xr>=q)continue;const gs=Wi+Xr*f[2],us=Xr*nt;ri===Math.min(v-1,c?Math.round(us):Math.floor(us))&&(Pi+=te[gs+yi])}}ae[ui+yi]=Pi}}}}return e.makeTensorInfo(r.shape,r.dtype,ae)}},SW={kernelName:Ks,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i;Ir(r,"reverse");const c=r.shape.length,u=wt(a,r.shape);if(0===c)return If({inputs:{x:r},backend:e});const f=new So(r.shape,r.dtype),p=e.bufferSync(r);for(let g=0;g<f.size;g++){const v=f.indexToLoc(g),T=v.slice();u.forEach(U=>T[U]=r.shape[U]-1-T[U]),f.set(p.get(...T),...v)}return e.makeTensorInfo(f.shape,f.dtype,f.values)}},DW={kernelName:Ee,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=ut(i.dtype,Tt(i.shape)),[p,g,v,T]=i.shape,[U,q]=Iw(c,g,v),te=Math.sin(r),ye=Math.cos(r),ke=u.data.get(i.dataId).values;for(let nt=0;nt<p;nt++){const St=nt*v*g*T;for(let Xt=0;Xt<g;Xt++){const rn=Xt*(v*T);for(let un=0;un<v;un++){const bn=un*T;for(let xn=0;xn<T;xn++){const Vn=[p,Xt,un,xn],Yn=Vn[2],ti=Vn[1];let ni=(Yn-U)*ye-(ti-q)*te,ri=(Yn-U)*te+(ti-q)*ye;ni=Math.round(ni+U),ri=Math.round(ri+q);let ui=a;"number"!=typeof a&&(ui=3===xn?255:a[xn]),ni>=0&&ni<v&&ri>=0&&ri<g&&(ui=ke[St+ri*(v*T)+ni*T+xn]),f[St+rn+bn+xn]=ui}}}}return{dataId:u.write(f,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},TW=ma(xa,n=>{const t=Math.floor(n);return n-t<.5?Math.floor(n):n-t>.5?Math.ceil(n):t%2==0?t:t+1}),kW={kernelName:xa,backendName:"cpu",kernelFunc:TW},hB=kf(n=>1/Math.sqrt(n)),IW=Vm(oa,hB),AW={kernelName:oa,backendName:"cpu",kernelFunc:IW};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function F_(n,t,e,i,r,a,c,u,f,p){const g=[i/r,r],v=n.values,T=t.values;if(0===i)return is(e,t.dtype);const U=f instanceof So?f:is(g,t.dtype);"string"==typeof f||"number"==typeof f?U.values.fill(f):"boolean"==typeof f&&U.values.fill(+f);for(let q=0;q<a;q++){const ae=[];let te=0;for(let ye=0;ye<c;ye++){const ke=v[q*c+ye];ae.push(ke),te+=ke*u[ye]}if(te<0||te>=i/r)throw new Error(`Invalid indices: ${ae} does not index into ${e}`);for(let ye=0;ye<r;ye++)p?U.values[te*r+ye]+=T[q*r+ye]:U.values[te*r+ye]=0===t.rank?T[0]:T[q*r+ye]}return U}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OW={kernelName:P,backendName:"cpu",kernelFunc:function MW(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ip(0,r,c),ae=F_(e.bufferSync(r),e.bufferSync(a),c,v,p,f,u,g,0,!0);return e.makeTensorInfo(c,ae.dtype,ae.values)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function RW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<t?e=r+1:i=r;return i}function NW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<=t?e=r+1:i=r;return i}const LW={kernelName:Kt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FW(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,p=function PW(n,t,e,i,r,a){const c=Z("int32",e*r);for(let u=0;u<e;++u){const f=n.slice(u*i,(u+1)*i),p=u*r;for(let g=0;g<r;++g)c[p+g]="left"===a?RW(f,t[g+p]):NW(f,t[g+p])}return c}(e.data.get(r.dataId).values,e.data.get(a.dataId).values,r.shape[0],r.shape[1],a.shape[1],c);return e.makeTensorInfo(a.shape,"int32",p)}},BW={kernelName:ln,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $W(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t;Ir([i,r,a],"select");const c=i.shape.length,u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=An(r.dtype,a.dtype),v=Gn(Tt(r.shape),g);let T=0;const U=0===c||c>1||1===r.shape.length?1:Tt(r.shape.slice(1));for(let q=0;q<u.length;q++)for(let ae=0;ae<U;ae++)v[T++]=1===u[q]?f[q]:p[q];return e.makeTensorInfo(r.shape,g,v)}},VW=pm,UW=av,zW=ma(en,n=>n>=0?UW*n:VW*(Math.exp(n)-1)),jW={kernelName:en,backendName:"cpu",kernelFunc:zW},WW=ma(qn,n=>n<0?-1:n>0?1:0),HW={kernelName:qn,backendName:"cpu",kernelFunc:WW},GW=ma(an,n=>Math.sin(n)),KW={kernelName:an,backendName:"cpu",kernelFunc:GW},XW=ma(Fn,n=>Math.sinh(n)),YW={kernelName:Fn,backendName:"cpu",kernelFunc:XW},fB=Math.log(1.1920928955078125e-7)+2,qW=ma(fi,n=>{const t=n>-fB,e=n<fB,i=Math.exp(n);let r;return r=e?i:t?n:Math.log(1+i),r}),QW={kernelName:fi,backendName:"cpu",kernelFunc:qW},JW={kernelName:tr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;Ir([r],"spaceToBatchND");const u=Tt(a),f=[[0,0]];f.push(...c);for(let Xt=1+a.length;Xt<r.shape.length;++Xt)f.push([0,0]);const p=nB.kernelFunc({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),g=lp(p.shape,a,u,!1),v=Gg(g.length,a.length,!1),T=Kg(p.shape,a,u,!1),ae=tl({inputs:{x:p},backend:e,attrs:{shape:g}}),ke=md({inputs:{x:ae},backend:e,attrs:{perm:v}}),St=tl({inputs:{x:ke},backend:e,attrs:{shape:T}});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(ke),St}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pB(n,t,e,i,r,a,c){const u=t[0],f=a[0],p=new Array(f),g=new Array(u),v=t[1];if(0===f){if(0!==u)throw new Error(Jg(u));return[Z(e,0),[0,v],Z(r,0),p,g]}let T=!0,U=0;const q=new Array(f).fill(0);for(let te=0;te<u;++te){const ye=n[te*v];if(ye<0)throw new Error($w(te,ye));if(ye>=f)throw new Error(Bw(te,ye,f));++q[ye],T=T&&ye>=U,U=ye}let ae=!0;for(let te=0;te<f;++te){const ye=0===q[te];p[te]=ye,ae=ae&&!ye,q[te]=Math.max(q[te],1),te>0&&(q[te]+=q[te-1])}if(ae&&T){const te=n,ye=i;for(let ke=0;ke<u;++ke)g[ke]=ke;return[te,[u,v],ye,p,g]}{const te=q[f-1],ye=Z(e,te*v),ke=Z(r,te),tt=new Array(f).fill(0);for(let nt=0;nt<u;++nt){const St=n[nt*v],rn=(0===St?0:q[St-1])+tt[St];tt[St]++;for(let un=0;un<v;++un)ye[rn*v+un]=n[nt*v+un];ke[rn]=i[nt],g[nt]=rn}for(let nt=0;nt<f;++nt)if(0===tt[nt]){const Xt=0===nt?0:q[nt-1];ye[Xt*v+0]=nt;for(let rn=1;rn<v;++rn)ye[Xt*v+rn]=0;ke[Xt]=c}return[ye,[te,v],ke,p,g]}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const tH={kernelName:zs,backendName:"cpu",kernelFunc:function eH(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=e.data.get(c.dataId).values[0],[v,T,U,q,ae]=pB(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(T,i.dtype,v),e.makeTensorInfo([T[0]],r.dtype,U),e.makeTensorInfo([q.length],"bool",new Uint8Array(q.map(te=>Number(te)))),e.makeTensorInfo([ae.length],i.dtype,new Int32Array(ae))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function mB(n,t,e,i,r){const a=Tt(i),c=t[0],u=r.length,f=[];let p=1,g=-1;for(let te=0;te<u;++te){const ye=r[te];if(-1===ye){if(-1!==g)throw new Error(hD(g,te));g=te,f.push(1)}else{if(ye<0)throw new Error(gm(te,ye));p*=ye,f.push(ye)}}if(-1!==g){if(p<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const te=Math.trunc(a/p);if(p*te!==a)throw new Error(pD(i,f));f[g]=te}if(Tt(f)!==a)throw new Error(mD(i,f));const T=i.length,U=[];if(T>0){U[T-1]=1;for(let te=T-2;te>=0;--te)U[te]=U[te+1]*i[te+1]}const q=[];if(u>0){q[u-1]=1;for(let te=u-2;te>=0;--te)q[te]=q[te+1]*f[te+1]}const ae=Z(e,c*u);for(let te=0;te<c;++te){let ye=0;for(let ke=0;ke<T;++ke)ye+=n[te*T+ke]*U[ke];for(let ke=0;ke<u;++ke)ae[te*u+ke]=Math.trunc(ye/q[ke]),ye%=q[ke]}return[ae,[c,u],f]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iH={kernelName:Gr,backendName:"cpu",kernelFunc:function nH(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.data.get(r.dataId).values),u=e.data.get(i.dataId).values,f=Array.from(e.data.get(a.dataId).values),[p,g,v]=mB(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function _P(n,t,e,i,r,a=!1,c=0){const u=i.length,f=[t[0],n.length/t[0]],p=f[1],v=u>0?r[u-1]+1:0;if(v<0)throw new Error("segment ids must be >= 0");const T=t.slice();T[0]=v;const q=Z(e,T.reduce((tt,nt)=>tt*nt,1));if(0===u)return v>0&&q.fill(c),[q,T];if(v<=0)throw new Error("segment ids must be >= 0");let ae=0,te=1,ye=0,ke=r[ae];for(;;){let tt=0;if(te<u){if(tt=r[te],ke===tt){++te;continue}if(ke>=tt)throw new Error("segment ids are not increasing")}if(ke<0||ke>=v)throw new Error(_D(ke,v));ke>ye&&q.fill(c,ye*p,ke*p);for(let nt=ae;nt<te;++nt){const St=i[nt];if(St<0||St>=f[0])throw new Error(yD(nt,i[nt],f[0]));for(let Xt=0;Xt<p;Xt++)q[ke*p+Xt]+=n[St*p+Xt]}if(a)for(let nt=0;nt<p;nt++)q[ke*p+nt]/=te-ae;if(ae=te,++te,ye=ke+1,ke=tt,te>u)break}return ye<v&&q.fill(c,ye*p,v*p),[q,T]
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const sH={kernelName:ns,backendName:"cpu",kernelFunc:function rH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=_P(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},aH={kernelName:Jl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=_P(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},cH={kernelName:Mo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lH(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:v,outputSize:T}=ip(0,r,u),U=!1,q=e.bufferSync(r);let ae;switch(a.dtype){case"bool":ae=F_(q,e.bufferSync(a),u,T,g,p,f,v,!!e.data.get(c.dataId).values[0],U);break;case"float32":case"int32":ae=F_(q,e.bufferSync(a),u,T,g,p,f,v,e.data.get(c.dataId).values[0],U);break;case"string":ae=F_(q,e.bufferSync(a),u,T,g,p,f,v,zc(e.data.get(c.dataId).values[0]),U);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return e.makeTensorInfo(u,ae.dtype,ae.values)}},dH={kernelName:Br,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wt(c,r.shape)[0],f=dD(r,a,u),p=new Array(r.shape.length).fill(0),g=r.shape.slice();return f.map(v=>{const T=[...g];T[u]=v;const U=P_({inputs:{x:r},backend:e,attrs:{begin:p,size:T}});return p[u]+=v,U})}},hH=kf(n=>Math.sqrt(n)),fH=ma(Jn,n=>Math.sqrt(n)),pH={kernelName:Jn,backendName:"cpu",kernelFunc:fH},mH={kernelName:Qs,backendName:"cpu",kernelFunc:({inputs:n,backend:t})=>{const{x:e}=n,i=t;Ir(e,"square");const r=i.data.get(e.dataId).values,a=new Float32Array(r.length);for(let u=0;u<r.length;++u){const f=r[u];a[u]=f*f}return{dataId:i.write(a,e.shape,e.dtype),shape:e.shape,dtype:e.dtype}}},gH=hc((n,t)=>{const e=n-t;return e*e}),_H=Uc(Yo,gH),yH={kernelName:Yo,backendName:"cpu",kernelFunc:_H},gB=kf((n,t)=>{const{pattern:e,replaceGlobal:i,rewrite:r}=t;return n.replace(new RegExp(e,i?"g":""),r)}),vH=Vm(bl,gB),bH={kernelName:bl,backendName:"cpu",kernelFunc:vH},wH=ma(Oc,(n,t)=>{const e=t;return isNaN(n)?NaN:n>0?1:e.alpha}),EH={kernelName:Oc,backendName:"cpu",kernelFunc:wH};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _B(n,t,e,i){const r=is(n,t.dtype);for(let a=0;a<r.size;a++){const c=r.indexToLoc(a),u=new Array(c.length);for(let f=0;f<u.length;f++)u[f]=c[f]*e[f]+i[f];r.set(t.get(...u),...c)}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const CH={kernelName:aa,backendName:"cpu",kernelFunc:function xH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:v,shrinkAxisMask:T}=i;Ir(r,"stridedSlice");const{finalShapeSparse:U,finalShape:q,isIdentity:ae,sliceDim0:te,isSimpleSlice:ye,begin:ke,end:tt,strides:nt}=d0(r.shape,a,c,u,f,p,g,v,T);let St;if(ae)St=tl({inputs:{x:r},backend:e,attrs:{shape:q}});else if(te||ye){Se(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const Xt=a0(ke,tt,nt),rn=P_({inputs:{x:r},backend:e,attrs:{begin:ke,size:Xt}});St=tl({inputs:{x:rn},backend:e,attrs:{shape:q}}),e.disposeIntermediateTensorInfo(rn)}else{const rn=_B(U,e.bufferSync(r),nt,ke);St=e.makeTensorInfo(q,rn.dtype,rn.values)}return St}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SH{constructor(t,e,i,r,a,c){this.separator=nc(t),this.nGramWidths=e,this.leftPad=nc(i),this.rightPad=nc(r),this.padWidth=a,this.preserveShort=c}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,e){const i=this.getPadWidth(e);return Math.max(0,t+2*i-e+1)}createNGrams(t,e,i,r,a,c){for(let u=0;u<a;++u){const f=this.getPadWidth(c),p=Math.max(0,f-u),g=Math.max(0,f-(a-(u+1))),v=c-(p+g),T=e+(p>0?0:u-f);let U=0;U+=p*this.leftPad.length;for(let ke=0;ke<v;++ke)U+=t[T+ke].length;U+=g*this.rightPad.length,U+=(p+g+v-1)*this.separator.length,i[r+u]=new Uint8Array(U);const ae=i[r+u];let te=0;const ye=ke=>ke.forEach(tt=>ae[te++]=tt);for(let ke=0;ke<p;++ke)ye(this.leftPad),ye(this.separator);for(let ke=0;ke<v-1;++ke)ye(t[T+ke]),ye(this.separator);if(v>0){ye(t[T+v-1]);for(let ke=0;ke<g;++ke)ye(this.separator),ye(this.rightPad)}else{for(let ke=0;ke<g-1;++ke)ye(this.rightPad),ye(this.separator);ye(this.rightPad)}}}compute(t,e){const i=t.length,r=e.length;if(r>0){let f=e[0];if(0!==f)throw new Error(`First split value must be 0, got ${f}`);for(let p=1;p<r;++p){let g=e[p]>=f;if(g=g&&e[p]<=i,!g)throw new Error(`Invalid split value ${e[p]}, must be in [${f}, ${i}]`);f=e[p]}if(f!==i)throw new Error(`Last split value must be data size. Expected ${i}, got ${f}`)}const a=r-1,c=Z("int32",r);if(0===i||0===r){const f=new Array(i);for(let p=0;p<=a;++p)c[p]=0;return[f,c]}c[0]=0;for(let f=1;f<=a;++f){const p=e[f]-e[f-1];let g=0;this.nGramWidths.forEach(v=>{g+=this.getNumNGrams(p,v)}),this.preserveShort&&p>0&&0===g&&(g=1),c[f]=c[f-1]+g}const u=new Array(c[a]);for(let f=0;f<a;++f){const p=e[f];let g=c[f];if(this.nGramWidths.forEach(v=>{const U=this.getNumNGrams(e[f+1]-e[f],v);this.createNGrams(t,p,u,g,U,v),g+=U}),this.preserveShort&&g===c[f]){const v=e[f+1]-e[f];if(0===v)continue;this.createNGrams(t,p,u,g,1,v+2*this.padWidth)}}return[u,c]}}function yB(n,t,e,i,r,a,c,u){return new SH(e,i,r,a,c,u).compute(n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const TH={kernelName:_r,backendName:"cpu",kernelFunc:function DH(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:v}=t,T=e.data.get(g.dataId).values,U=e.data.get(v.dataId).values,[q,ae]=yB(T,U,r,a,c,u,f,p);return[e.makeTensorInfo([q.length],"string",q),e.makeTensorInfo(v.shape,"int32",ae)]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function kH(n,t,e,i){if(!n.length)return;if(0===t.length){for(let a=0;a<n.length;++a)i.push(n.subarray(a,a+1));return}if(1===t.length){const a=t[0];let c=n.indexOf(a);for(;-1!==c;){const u=n.subarray(0,c);(!e||0!==u.length)&&i.push(u),c=(n=n.subarray(c+1)).indexOf(a)}return void((!e||0!==n.length)&&i.push(n))}let r=0;for(let a=0;a<n.length+1;a++)if(a===n.length||-1!==t.indexOf(n[a])){const c=n.subarray(r,a);(!e||0!==c.length)&&i.push(c),r=a+1}}function vB(n,t,e){const i=n.length,r=[];let a=0,c=0;const u=new Array(i);for(let T=0;T<i;++T){const U=r.length;kH(n[T],t,e,r);const q=r.length-U;u[T]=q,a+=q,c=Math.max(c,q)}const f=Z("int32",2*a),p=new Array(a),g=[i,c];let v=0;for(let T=0;T<i;++T)for(let U=0;U<u[T];++U)f[2*v]=T,f[2*v+1]=U,p[v]=r[v],++v;return[f,p,g]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const AH={kernelName:as,backendName:"cpu",kernelFunc:function IH(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.data.get(a.dataId).values,f=e.data.get(c.dataId).values[0],[p,g,v]=vB(u,f,r),T=g.length;return[e.makeTensorInfo([T,2],"int32",p),e.makeTensorInfo([T],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(v))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function bB(n,t){const e=Z("int32",n.length);for(let i=0;i<n.length;++i)e[i]=Jc(n[i]).modulo(t).getLowBitsUnsigned();return e}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OH={kernelName:Ps,backendName:"cpu",kernelFunc:function MH(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const u=bB(e.data.get(a.dataId).values,r);return e.makeTensorInfo(a.shape,"int32",u)}},RH=ma(gu,n=>Math.tan(n)),NH={kernelName:gu,backendName:"cpu",kernelFunc:RH},PH=ma(hs,n=>Math.tanh(n));
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wB(n,t){const e=new Array(n.rank);for(let r=0;r<e.length;r++)e[r]=n.shape[r]*t[r];const i=is(e,n.dtype);for(let r=0;r<i.values.length;++r){const a=i.indexToLoc(r),c=new Array(n.rank);for(let f=0;f<c.length;f++)c[f]=a[f]%n.shape[f];const u=n.locToIndex(c);i.values[r]=n.values[u]}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Lx=(n,t)=>{const e=t.value-n.value;return 0===e?n.index-t.index:e};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function EB(n,t,e=0,i=n.length-1){for(;i>e;){if(i-e>600){const u=i-e+1,f=t-e+1,p=Math.log(u),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(u-g)/u)*Math.sign(f-u/2);EB(n,t,Math.max(e,Math.floor(t-f*g/u+v)),Math.min(i,Math.floor(t+(u-f)*g/u+v)))}const r=n[t];let a=e,c=i;for(Pe(n,e,t),Lx(n[i],r)>0&&Pe(n,e,i);a<c;){for(Pe(n,a,c),a++,c--;Lx(n[a],r)<0;)a+=1;for(;Lx(n[c],r)>0;)c-=1}0===Lx(n[e],r)?Pe(n,e,c):(c+=1,Pe(n,c,i)),c<=t&&(e=c+1),t<=c&&(i=c-1)}}function xB(n,t,e,i,r){const a=t[t.length-1],[c,u]=[n.length/a,a],f=ut(e,c*i),p=ut("int32",c*i);for(let v=0;v<c;v++){const T=v*u,U=n.subarray(T,T+u);let q=new Array(U.length);U.forEach((ke,tt)=>q[tt]={value:ke,index:tt}),i<q.length&&(EB(q,i),q=q.slice(0,i)),r&&q.sort(Lx);const ae=v*i,te=f.subarray(ae,ae+i),ye=p.subarray(ae,ae+i);for(let ke=0;ke<i;ke++)te[ke]=q[ke].value,ye[ke]=q[ke].index}const g=t.slice();return g[g.length-1]=i,[is(g,e,f),is(g,"int32",p)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function CB(n,t,e){switch(e){case"reflect":return function HH(n,t){let e=n;if(e<0)if(t<=1)e=0;else{const i=2*t;e<i&&(e=i*Math.trunc(-e/i)+e),e=e<-t?e+i:-e-1}else if(e>t-1)if(t<=1)e=0;else{const i=2*t;e-=i*Math.trunc(e/i),e>=t&&(e=i-e-1)}return _e(0,e,t-1)}(n,t);case"wrap":return function GH(n,t){let e=n;return e<0?t<=1?e=0:e+=t*(Math.trunc(-e/(t-1))+1):e>t-1&&(t<=1?e=0:e-=t*Math.trunc(e/(t-1))),_e(0,e,t-1)}(n,t);case"nearest":return function XH(n,t){return _e(0,n,t-1)}(n,t);default:return function KH(n,t){return n}(n)}}function $x(n,t,e,i,r,a,c,u,f,p,g){return 0<=u&&u<t&&0<=f&&f<e?n[c*i+u*r+f*a+p]:g}function YH(n,t,e,i,r,a,c,u,f,p,g){return $x(n,t,e,i,r,a,c,Math.round(u),Math.round(f),p,g)}function qH(n,t,e,i,r,a,c,u,f,p,g){const v=Math.floor(u),T=Math.floor(f),U=v+1,q=T+1;return(U-u)*((q-f)*$x(n,t,e,i,r,a,c,v,T,p,g)+(f-T)*$x(n,t,e,i,r,a,c,v,q,p,g))+(u-v)*((q-f)*$x(n,t,e,i,r,a,c,U,T,p,g)+(f-T)*$x(n,t,e,i,r,a,c,U,q,p,g))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function SB(n,t,e,i){const r=wt(t,e)[0],a=[1,e[0],1];for(let q=0;q<r;q++)a[0]*=e[q];a[1]=e[r];for(let q=r+1;q<e.length;q++)a[2]*=e[q];const c=new Map,u=new Int32Array(e[r]),f=new So(a,i,n),p=[],g=1===a[0]&&1===a[2];for(let q=0;q<e[r];q++){let ae;if(g)ae=n[q].toString();else{const ye=[];for(let ke=0;ke<a[0];ke++)for(let tt=0;tt<a[2];tt++)ye.push(f.get(ke,q,tt));ae=ye.join(",")}const te=c.get(ae);if(null!=te)u[q]=te;else{const ye=c.size;c.set(ae,ye),u[q]=ye,p.push(q)}}const v=a.slice();v[1]=c.size;const T=new So(v,i);p.forEach((q,ae)=>{for(let te=0;te<a[0];te++)for(let ye=0;ye<a[2];ye++)T.set(f.get(te,q,ye),te,ae,ye)});const U=e.slice();return U[r]=v[1],{outputValues:T.values,outputShape:U,indices:u}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const iG=[XU,YU,QU,JU,WU,t3,r3,o3,l3,u3,h3,p3,g3,v3,w3,C3,D3,k3,A3,GU,O3,P3,L3,B3,U3,zU,j3,H3,VU,G3,X3,Y3,Q3,J3,tz,iz,sz,az,cz,dz,fz,mz,_z,vz,bz,Ez,Cz,Dz,Tz,kz,Iz,Mz,Fz,MU,$z,Bz,Kz,Xz,Yz,Qz,o4,a4,c4,d4,p4,g4,y4,b4,E4,C4,D4,OU,k4,K3,A4,O4,N4,RU,F4,$4,V4,z4,W4,K4,Y4,Z4,ej,nj,ij,sj,aj,cj,dj,fj,mj,_j,vj,wj,xj,Dj,Ij,Rz,Mj,Nj,Lj,Vj,zj,Wj,Gj,Kj,nB,Qj,PU,Jj,aW,cW,dW,fW,UU,fP,mW,FU,LU,HU,_W,vW,wW,xW,SW,DW,kW,AW,OW,LW,BW,jW,BU,HW,KW,YW,R3,Tj,QW,JW,tH,iH,sH,aH,cH,dH,pH,mH,yH,bH,EH,CH,TH,AH,OH,e4,Nz,NH,{kernelName:hs,backendName:"cpu",kernelFunc:PH},{kernelName:Et,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LH(n){const{inputs:t,backend:e}=n,{tensor:i,indices:r,updates:a}=t,{sliceRank:c,numUpdates:u,sliceSize:f,strides:p,outputSize:g}=ip(0,r,i.shape),T=e.bufferSync(r),U=e.bufferSync(a),q=e.bufferSync(i),ae=F_(T,U,i.shape,g,f,u,c,p,q,!1);return e.makeTensorInfo(i.shape,ae.dtype,ae.values)}},{kernelName:Ba,backendName:"cpu",kernelFunc:function BH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;Ir(r,"tile");const c=wB(e.bufferSync(r),a);return e.makeTensorInfo(c.shape,c.dtype,c.values)}},{kernelName:_u,backendName:"cpu",kernelFunc:function UH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i;Ir(r,"topk");const u=e.data.get(r.dataId).values,[f,p]=xB(u,r.shape,r.dtype,a,c);return[e.makeTensorInfo(f.shape,f.dtype,f.values),e.makeTensorInfo(p.shape,p.dtype,p.values)]}},{kernelName:fs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jH(n){const{inputs:t,attrs:e,backend:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=e,[g,v,T,U]=r.shape,[q,ae]=p??[v,T],te=[g,q,ae,U],ye=$t(r.shape),ke=ye[0],tt=ye[1],nt=ye[2],St=$t(te),Xt=St[0],rn=St[1],un=St[2],bn=ut(r.dtype,Tt(te));bn.fill(f);const xn=i.data.get(r.dataId).values,Vn=i.data.get(a.dataId).values;for(let ti=0;ti<g;++ti){const ni=1===a.shape[0]?Vn:Vn.subarray(8*ti,8*ti+8);for(let ri=0;ri<q;++ri)for(let ui=0;ui<ae;++ui)for(let gi=0;gi<U;++gi){let si;const yi=ni[6]*ui+ni[7]*ri+1;if(0===yi)continue;const Bi=(ni[3]*ui+ni[4]*ri+ni[5])/yi,Qi=CB((ni[0]*ui+ni[1]*ri+ni[2])/yi,T,u),Wi=CB(Bi,v,u);switch(c){case"nearest":si=YH(xn,v,T,ke,tt,nt,ti,Wi,Qi,gi,f);break;case"bilinear":si=qH(xn,v,T,ke,tt,nt,ti,Wi,Qi,gi,f);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${c}`)}bn[ti*Xt+ri*rn+ui*un+gi]=si}return i.makeTensorInfo(te,r.dtype,bn)}return{dataId:i.write(bn,te,r.dtype),shape:r.shape,dtype:r.dtype}}},n3,{kernelName:Wo,backendName:"cpu",kernelFunc:function QH(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;Ir(a,"unique");const c=i.data.get(a.dataId).values,{outputValues:u,outputShape:f,indices:p}=SB(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},{kernelName:co,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function JH(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r.shape.length,u=r.shape[a],f=new Array(c-1);let p=0;for(let U=0;U<c;U++)U!==a&&(f[p++]=r.shape[U]);const g=new Array(c).fill(0),v=r.shape.slice();v[a]=1;const T=new Array(u);for(let U=0;U<T.length;U++){g[a]=U;const q=P_({inputs:{x:r},backend:e,attrs:{begin:g,size:v}});T[U]=tl({inputs:{x:q},backend:e,attrs:{shape:f}}),e.disposeIntermediateTensorInfo(q)}return T}},{kernelName:la,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tG(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i;Ir(r,"unsortedSegmentSum");const p=[],g=[],v=r.shape.length-a.shape.length;let T=a;for(let q=0;q<v;++q){const ae=gk({inputs:{input:T},backend:e,attrs:{dim:q+1}});T=ae,g.push(ae)}for(let q=0;q<c;++q){const ae=eu(q,"int32"),te=e.makeTensorInfo([],"int32",ae),ye=O$({inputs:{a:te,b:T},backend:e}),ke=Um({inputs:{x:ye},backend:e,attrs:{dtype:"float32"}}),tt=mk({inputs:{a:ke,b:r},backend:e}),nt=Fx({inputs:{x:tt},backend:e,attrs:{axis:0,keepDims:!1}});p.push(nt),g.push(te),g.push(ye),g.push(ke),g.push(tt),g.push(nt)}const U=tB({inputs:p,backend:e,attrs:{axis:0}});return g.forEach(q=>e.disposeIntermediateTensorInfo(q)),U}},Hj];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of iG)wi(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zm={},vk={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Jh(n,t){if(!(n in zm)||null!=t){const i=function oG(n,t){if(1!==n&&2!==n)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const e=t??function sG(n){if(!Te().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&2===n)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return e.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete zm[n]},!1),Te().getBool("SOFTWARE_WEBGL_ENABLED")&&(vk.failIfMajorPerformanceCaveat=!1),1===n?e.getContext("webgl",vk)||e.getContext("experimental-webgl",vk):e.getContext("webgl2",vk)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(n,t);if(null===i)return console.log("Could not get context for WebGL version",n),null;zm[n]=i}const e=zm[n];return null==e||e.isContextLost()?(delete zm[n],Jh(n)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),zm[n])}var bk=function(n){return n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH",n}(bk||{}),vh=function(n){return n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD",n}(vh||{}),ku=function(n){return n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16",n}(ku||{});function Bx(n,t){return[t,n]}function wk(n){const t=Tt(n);return It(Math.ceil(t/4))}function Rb(n,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(n/2))]}function yP(n,t){const e=n;let i,r,a,c,u,f,p,g,v,T;return 2===Te().getNumber("WEBGL_VERSION")?(i=e.R32F,r=e.R16F,a=e.RGBA16F,c=e.RGBA32F,u=e.RED,p=4,g=1,v=e.HALF_FLOAT,T=e.FLOAT,f=e.RGBA8):(i=n.RGBA,r=n.RGBA,a=n.RGBA,c=e.RGBA,u=n.RGBA,p=4,g=4,v=null!=t?t.HALF_FLOAT_OES:null,T=n.FLOAT,f=n.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:c,textureFormatFloat:u,downloadTextureFormat:f,downloadUnpackNumChannels:p,defaultNumChannels:g,textureTypeHalfFloat:v,textureTypeFloat:T}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function ir(n,t){const e=t();return Te().getBool("DEBUG")&&function cG(n){const t=n.getError();if(t!==n.NO_ERROR)throw new Error("WebGL Error: "+function fG(n,t){switch(t){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(n,t))}(n),e}function hG(n){return!!(Te().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===n||5.96e-8<Math.abs(n)&&Math.abs(n)<65504)}function Ek(n,t){return Ep(n,()=>n.getExtension(t),'Extension "'+t+'" not supported on this browser.')}const gG=/ERROR: [0-9]+:([0-9]+):/g;function DB(n,t){const e=gG.exec(t);if(null==e)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(n);const i=+e[1],r=n.split("\n"),a=r.length.toString().length+2,c=r.map((v,T)=>st((T+1).toString(),a)+v);let u=0;for(let v=0;v<c.length;v++)u=Math.max(c[v].length,u);const f=c.slice(0,i-1),p=c.slice(i-1,i),g=c.slice(i);console.log(f.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${st(p[0],u)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(g.join("\n"))}function vP(n,t){if(ir(n,()=>n.validateProgram(t)),!1===n.getProgramParameter(t,n.VALIDATE_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function TB(n,t,e,i,r,a,c){const u=n.getAttribLocation(t,e);return-1!==u&&(ir(n,()=>n.bindBuffer(n.ARRAY_BUFFER,i)),ir(n,()=>n.vertexAttribPointer(u,r,n.FLOAT,!1,a,c)),ir(n,()=>n.enableVertexAttribArray(u)),!0)}function TG(n,t,e,i){ir(n,()=>function CG(n,t,e){(function IB(n,t){const e=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=t+n.TEXTURE0;if(i<n.TEXTURE0||i>e)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${e}].`)})(n,e),ir(n,()=>n.activeTexture(n.TEXTURE0+e)),ir(n,()=>n.bindTexture(n.TEXTURE_2D,t))}(n,t,i)),ir(n,()=>n.uniform1i(e,i))}function bP(n,t,e){ir(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,e)),ir(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0))}function kB(n,t){ir(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,t)),ir(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0))}function xk(n){const t=n.checkFramebufferStatus(n.FRAMEBUFFER);if(t!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function kG(n,t){switch(t){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(n,t))}function Ep(n,t,e){const i=ir(n,()=>t());if(null==i)throw new Error(e);return i}function Nb(n,t=2){return Tt(n.slice(0,n.length-t))}function Pb(n){if(0===n.length)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function Ck(n){let t=[1,1,1];return 0===n.length||1===n.length&&1===n[0]||(t=[Nb(n),...Pb(n)]),t}function Sk(n){return n%2==0}function Dk(n,t){if(Re(n=n.slice(-2),t=t.slice(-2))||!n.length||!t.length||0===n[0]||0===n[1]||0===t[0]||0===t[1])return!0;if(n.length!==t.length){const e=n[n.length-1],i=t[t.length-1];if(e===i||Sk(e)&&Sk(i)&&(1===n[0]||1===t[0]))return!0}return n[1]===t[1]&&Sk(n[0])&&Sk(t[0])}let Tk,kk;function bh(n,t){return null!=n.getExtension(t)}function AB(n){try{if(null!=Jh(n))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function wP(n){const t=yP(n),e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const c=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(e),n.deleteFramebuffer(a),c}function Vx(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Se("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const Or=Te();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uu(){let n,t,e,i,r,a,c,u,f,p;return 2===Te().getNumber("WEBGL_VERSION")?(n="#version 300 es",t="in",e="out",i="in",r="texture",a="outputColor",c="out vec4 outputColor;",u=Te().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",f="",p="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",t="attribute",e="varying",i="varying",r="texture2D",a="gl_FragColor",c="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",f="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",p="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:t,varyingVs:e,varyingFs:i,texture2D:r,output:a,defineOutput:c,defineSpecialNaN:u,defineSpecialInf:f,defineRound:p}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function L_(n,t,e="index"){const i=$t(t);return i.map((r,a)=>`int ${n[a]} = ${e} / ${r}; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * ${r}`:`index -= ${n[a]} * ${r}`};`).join("")}function Ik(n,t,e="index"){const i=$t(t);return i.map((r,a)=>`int ${n[a]} = ${e} / outShapeStrides[${a}]; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * outShapeStrides[${a}]`:`index -= ${n[a]} * outShapeStrides[${a}]`};`).join("")}function EP(n){const t=$t(n).map(e=>e.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}Or.registerFlag("HAS_WEBGL",()=>Or.getNumber("WEBGL_VERSION")>0),Or.registerFlag("WEBGL_VERSION",()=>AB(2)?2:AB(1)?1:0),Or.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),Or.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===Or.get("WEBGL_VERSION")),Or.registerFlag("WEBGL_CPU_FORWARD",()=>!0),Or.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),Or.registerFlag("WEBGL_PACK",()=>Or.getBool("HAS_WEBGL")),Or.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_CLIP",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_REDUCE",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_LAZILY_UNPACK",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_CONV_IM2COL",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Or.getBool("WEBGL_PACK")),Or.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>function AG(n){if(null==Tk){const t=Jh(n);Tk=t.getParameter(t.MAX_TEXTURE_SIZE)}return Tk}(Or.getNumber("WEBGL_VERSION"))),Or.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>function MG(n){if(null==kk){const t=Jh(n);kk=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,kk)}(Or.getNumber("WEBGL_VERSION"))),Or.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=Or.getNumber("WEBGL_VERSION");return 0===n?0:function OG(n){if(0===n)return 0;let t;const e=Jh(n);return t=bh(e,"EXT_disjoint_timer_query_webgl2")&&2===n?2:bh(e,"EXT_disjoint_timer_query")?1:0,t}(n)}),Or.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Or.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!di()),Or.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>function RG(n){if(0===n)return!1;const t=Jh(n);if(1===n){if(!bh(t,"OES_texture_float"))return!1}else if(!bh(t,"EXT_color_buffer_float"))return!1;return wP(t)}(Or.getNumber("WEBGL_VERSION"))),Or.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!Or.getBool("WEBGL_FORCE_F16_TEXTURES")&&Or.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),Or.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>function NG(n){if(0===n)return!1;const t=Jh(n);if(1!==n){if(bh(t,"EXT_color_buffer_float"))return wP(t);const i="EXT_color_buffer_half_float";if(bh(t,i)){const r=t.getExtension(i);return function PG(n,t){const e=yP(n,t),i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatHalfFloat,1,1,0,e.textureFormatFloat,e.textureTypeHalfFloat,null);const c=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,c),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0);const u=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(i),n.deleteFramebuffer(c),u}(t,r)}return!1}return!(!bh(t,"OES_texture_float")||!bh(t,"WEBGL_color_buffer_float"))&&wP(t)}(Or.getNumber("WEBGL_VERSION"))),Or.registerFlag("WEBGL_FENCE_API_ENABLED",()=>function FG(n){return 2===n&&null!=Jh(n).fenceSync}(Or.getNumber("WEBGL_VERSION"))),Or.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Or.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),Or.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)}),Or.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>di()?1:-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)}),Or.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),Or.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),Or.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),Or.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),Or.registerFlag("WEBGL_EXP_CONV",()=>!1),Or.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Or.getBool("IS_TEST")),Or.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),Or.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),Or.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),Or.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);const MB="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:OB}=S;
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function BG(n,t,e){const i=[];if(n.forEach(U=>{const q=Tt(U.shapeInfo.logicalShape);if(U.shapeInfo.isUniform?i.push(`uniform float ${U.name}${q>1?`[${q}]`:""};`):(i.push(`uniform sampler2D ${U.name};`),i.push(`uniform int offset${U.name};`)),e.enableShapeUniforms){const{uniformShape:ae}=CP(e.packedInputs,U.shapeInfo.logicalShape,U.shapeInfo.texShape);switch(ae.length){case 1:i.push(`uniform int ${U.name}Shape;`);break;case 2:i.push(`uniform ivec2 ${U.name}Shape;`);break;case 3:i.push(`uniform ivec3 ${U.name}Shape;`);break;case 4:i.push(`uniform ivec4 ${U.name}Shape;`)}i.push(`uniform ivec2 ${U.name}TexShape;`)}}),e.enableShapeUniforms){switch(t.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;")}i.push("uniform ivec2 outTexShape;")}e.customUniforms&&e.customUniforms.forEach(U=>{i.push(`uniform ${U.type} ${U.name}${U.arrayIndex?`[${U.arrayIndex}]`:""};`)});const r=i.join("\n"),a=n.map(U=>function VG(n,t,e=!1,i){let r="";r+=e?RB(n,i):Fb(n,i);return n.shapeInfo.logicalShape.length<=t.logicalShape.length&&(r+=e?function v5(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",a=n.shapeInfo.logicalShape.length,c=t.logicalShape.length,u=OB(n.shapeInfo.logicalShape,t.logicalShape),f=Aa(c),p=c-a;let g;const v=["x","y","z","w","u","v"];g=0===a?"":c<2&&u.length>=1?"coords = 0;":u.map(ke=>`coords.${v[ke+p]} = 0;`).join("\n");let T="";T=c<2&&a>0?"coords":n.shapeInfo.logicalShape.map((ke,tt)=>`coords.${v[tt+p]}`).join(", ");let U="return outputValue;";const ae=1===Tt(n.shapeInfo.logicalShape),ye=1===Tt(t.logicalShape);if(1!==a||ae||ye){if(ae&&!ye)U=1===c?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){const ke=a-2,tt=a-1;u.indexOf(ke)>-1&&u.indexOf(tt)>-1?U="return vec4(outputValue.x);":u.indexOf(ke)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(tt)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}}else U="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${f} coords = getOutputCoords();\n      ${g}\n      vec4 outputValue = get${i}(${T});\n      ${U}\n    }\n  `}(n,t):function b5(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",u=n.shapeInfo.logicalShape.length,f=t.logicalShape.length;if(!n.shapeInfo.isUniform&&u===f&&null==n.shapeInfo.flatOffset&&Re(n.shapeInfo.texShape,t.texShape))return`\n      float ${r}() {\n        return sampleTexture(${e}, resultUV);\n      }\n    `;const p=Aa(f),g=OB(n.shapeInfo.logicalShape,t.logicalShape),v=f-u;let T;const U=["x","y","z","w","u","v"];T=0===u?"":f<2&&g.length>=1?"coords = 0;":g.map(ae=>`coords.${U[ae+v]} = 0;`).join("\n");let q="";return q=f<2&&u>0?"coords":n.shapeInfo.logicalShape.map((ae,te)=>`coords.${U[te+v]}`).join(", "),`\n    float ${r}() {\n      ${p} coords = getOutputCoords();\n      ${T}\n      return get${i}(${q});\n    }\n  `}(n,t)),r}(U,t,e.packedInputs,e.enableShapeUniforms)).join("\n"),c=t.texShape,u=Uu(),f=function jG(n){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${n.texture2D}(textureSampler, uv).r;\n    }\n  `}(u);let p,g,v=function GG(n){return`${n.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${n.varyingFs} vec2 resultUV;\n    ${n.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${n.defineSpecialNaN}\n    ${n.defineSpecialInf}\n    ${n.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${KG}\n    ${XG}\n    ${YG}\n  `}(u);return t.isPacked?(p=function UG(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function QG(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===i[0]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${i[1]}.0);\n      }\n    `:1===i[1]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${i[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      return 2 * (resTexRC.x * ${i[1]} + resTexRC.y);\n    }\n  `}(0,t,e);case 2:return function s5(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Re(n,t))return e?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${i[0]}, ${i[1]}));\n      }\n    `;const r=Math.ceil(n[1]/2);return e?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function JG(n,t,e){if(e)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[2]/2),a=r*Math.ceil(n[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(n,t,e);default:return function t5(n,t,e){if(e)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[n.length-1]/2),a=r*Math.ceil(n[n.length-2]/2);let c=a,u="",f="b, r, c";for(let p=2;p<n.length-1;p++)c*=n[n.length-p-1],u=`\n      int b${p} = index / ${c};\n      index -= b${p} * ${c};\n    `+u,f=`b${p}, `+f;return`\n    ivec${n.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      ${u}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${n.length}(${f});\n    }\n  `}(n,t,e)}}(t.logicalShape,c,e.enableShapeUniforms),g=function HG(n){return`\n    void setOutput(vec4 val) {\n      ${n.output} = val;\n    }\n  `}(u)):(p=function zG(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function ZG(n,t,e){return 1===t[0]?e?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?e?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,e);case 2:return function o5(n,t,e){return Re(n,t)?e?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===n[1]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===n[0]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:e?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${n[1]};\n      int c = index - r * ${n[1]};\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function e5(n,t,e){if(e)return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${Ik(["r","c","d"],n)}\n    return ivec3(r, c, d);\n  }\n`;const i=L_(["r","c","d"],n);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec3(r, c, d);\n    }\n  `}(n,t,e);case 4:return function n5(n,t,e){if(e)return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${Ik(["r","c","d","d2"],n)}\n      return ivec4(r, c, d, d2);\n    }\n  `;const i=L_(["r","c","d","d2"],n);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec4(r, c, d, d2);\n    }\n  `}(n,t,e);case 5:return function i5(n,t){const e=L_(["r","c","d","d2","d3"],n);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(n,t);case 6:return function r5(n,t){const e=L_(["r","c","d","d2","d3","d4"],n);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(n,t);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}(t.logicalShape,c,e.enableShapeUniforms),g=function WG(n){return`\n    void setOutput(float val) {\n      ${n.output} = vec4(val, 0, 0, 0);\n    }\n  `}(u)),e.packedInputs&&(v+=qG),[v,f,g,r,p,a,e.userCode].join("\n")}function Fb(n,t=!1){const e=n.shapeInfo.logicalShape;switch(e.length){case 0:return function l5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`float ${i}() {return ${e};}`;const[r,a]=n.shapeInfo.texShape;if(1===r&&1===a)return`\n      float ${i}() {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const c=$_(e);if(t)return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `;const[u,f]=n.shapeInfo.texShape;return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${u}, ${f}, ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 1:return function u5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`\n      float ${i}(int index) {\n        ${Lb(n)}\n      }\n    `;const r=n.shapeInfo.texShape,a=r[0],c=r[1];if(1===c&&1===a)return`\n      float ${i}(int index) {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const u=$_(e);return 1===c?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / float(${e}TexShape[0]));\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / ${a}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `:1===a?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / float(${e}TexShape[1]), 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / ${c}.0, 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:t?`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `:`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${c}, index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 2:return function h5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape;if(null!=a&&Re(e,a))return t?`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${a[0]}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const{newShape:c,keptDims:u}=ct(e);if(c.length<e.length){const U=["row","col"];return`\n      ${Fb($b(n,c),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${Bb(U,u)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${e[1]}, 1)));\n        ${Lb(n)}\n      }\n    `;const p=a[0],g=a[1],v=$_(i);return 1===g?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${v}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${i}TexShape[0]));\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${v}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${p}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `:1===p?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${v}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${i}TexShape[1]), 0.5);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${v}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${g}.0, 0.5);\n      return sampleTexture(${i}, uv);\n    }\n  `:t?`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i}Shape[1] + col + ${v};\n        vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${e[1]} + col + ${v};\n    vec2 uv = uvFromFlat(${p}, ${g}, index);\n    return sampleTexture(${i}, uv);\n  }\n`}(n,t);case 3:return function p5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[1]*e[2],c=e[2],{newShape:u,keptDims:f}=ct(e);if(u.length<e.length){const te=["row","col","depth"];return`\n        ${Fb($b(n,u),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${Bb(te,f)});\n        }\n      `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${c}, 1)));\n        ${Lb(n)}\n      }\n    `;const g=n.shapeInfo.texShape,v=g[0],T=g[1],U=n.shapeInfo.flatOffset;if(T===a&&null==U)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${i}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${c}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${T}.0, ${v}.0);\n          return sampleTexture(${i}, uv);\n        }\n      `;if(T===c&&null==U)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${i}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${e[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${T}.0, ${v}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const q=$_(i);return t?`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${i}Shape[1] * ${i}Shape[2];\n      int stride1 = ${i}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${q};\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n      return sampleTexture(${i}, uv);\n    }\n    `:`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${c} + depth + ${q};\n        vec2 uv = uvFromFlat(${v}, ${T}, index);\n        return sampleTexture(${i}, uv);\n      }\n  `}(n,t);case 4:return function g5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[3],c=e[2]*a,u=e[1]*c,{newShape:f,keptDims:p}=ct(e);if(f.length<e.length){const tt=["row","col","depth","depth2"];return`\n      ${Fb($b(n,f),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${Bb(tt,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${u}, ${c}, ${a}, 1)));\n        ${Lb(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,v=n.shapeInfo.texShape,T=v[0],U=v[1],q=`int stride2 = ${i}Shape[3];`,ae=`int stride1 = ${i}Shape[2] * stride2;`,te=`int stride0 = ${i}Shape[1] * stride1;`;if(U===u&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${q}\n        ${ae}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${c}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${U}.0, ${T}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;if(U===a&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${i}Shape[1] * ${i}Shape[2], ${i}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${e[1]*e[2]}, ${e[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${U}.0, ${T}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;const ye=$_(i);return t?`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${q}\n      ${ae}\n      ${te}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index + ${ye});\n      return sampleTexture(${i}, uv);\n    }\n  `:`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${T}, ${U}, index + ${ye});\n      return sampleTexture(${i}, uv);\n    }\n  `}(n,t);case 5:return function _5(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t[4],a=t[3]*r,c=t[2]*a,u=t[1]*c,{newShape:f,keptDims:p}=ct(t);if(f.length<t.length){const te=["row","col","depth","depth2","depth3"];return`\n      ${Fb($b(n,f))}\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        return ${i}(${Bb(te,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${a}, ${r})) +\n          depth3;\n        ${Lb(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,v=n.shapeInfo.texShape,T=v[0],U=v[1];if(U===u&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${c}, ${a}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${U}.0, ${T}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(U===r&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${U}.0, ${T}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${a} +\n          depth2 * ${r} + depth3 + ${$_(e)};\n      vec2 uv = uvFromFlat(${T}, ${U}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);case 6:return function y5(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),{newShape:r,keptDims:a}=ct(t);if(r.length<t.length){const ye=["row","col","depth","depth2","depth3","depth4"];return`\n      ${Fb($b(n,r))}\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${i}(${Bb(ye,a)});\n      }\n    `}const c=t[5],u=t[4]*c,f=t[3]*u,p=t[2]*f,g=t[1]*p;if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${g}, ${p}, ${f}, ${u})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${c}, 1)));\n        ${Lb(n)}\n      }\n    `;const v=n.shapeInfo.flatOffset,T=n.shapeInfo.texShape,U=T[0],q=T[1];if(q===g&&null==v)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${p}, ${f}, ${u}, ${c})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${q}.0, ${U}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(q===c&&null==v)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${q}.0, ${U}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${g} + col * ${p} + depth * ${f} +\n          depth2 * ${u} + depth3 * ${c} + depth4 + ${$_(e)};\n      vec2 uv = uvFromFlat(${U}, ${q}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);default:throw new Error(`${e.length}-D input sampling is not yet supported`)}}function RB(n,t){switch(n.shapeInfo.logicalShape.length){case 0:return function a5(n){const t=n.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${Uu().texture2D}(${t}, halfCR);\n    }\n  `}(n);case 1:return function c5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=n.shapeInfo.texShape,a=Uu();if(t)return`\n    vec4 ${i}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `;const c=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${i}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${c[0]}, ${c[1]}, index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `}(n,t);case 2:return function d5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=a[0],u=a[1],f=Uu();if(null!=a&&Re(e,a))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${u}.0, ${c}.0);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `;const p=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(e[1]/2)}, ${p[0]}, ${p[1]}, row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `}(n,t);case 3:return function f5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===e[0]){const U=[1,2],ae=["b","row","col"];return`\n        ${RB($b(n,e.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${Bb(ae,U)});\n        }\n      `}const u=Uu();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `;const f=c[0],p=c[1],g=Math.ceil(e[2]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${f}, ${p}, ${g*Math.ceil(e[1]/2)}, ${g}, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `}(n,t);default:return function m5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Uu();if(t)return`\n    vec4 ${i}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${e}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${e}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${e}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${e}, uv);\n    }\n  `;const a=n.shapeInfo.logicalShape,c=a.length,u=n.shapeInfo.texShape,f=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],p=f[0],g=f[1],v=Math.ceil(a[c-1]/2);let T=v*Math.ceil(a[c-2]/2),U="int b, int row, int col",q=`b * ${T} + (row / 2) * ${v} + (col / 2)`;for(let ae=2;ae<c-1;ae++)U=`int b${ae}, `+U,T*=a[c-ae-1],q=`b${ae} * ${T} + `+q;return`\n    vec4 ${i}(${U}) {\n      int index = ${q};\n      int texR = index / ${g};\n      int texC = index - texR * ${g};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${g}, ${p});\n      return ${r.texture2D}(${e}, uv);\n    }\n  `}(n,t)}}const KG="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",XG="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",YG="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",qG="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function $_(n){return`offset${n}`}function Lb(n){const t=n.name,e=Tt(n.shapeInfo.logicalShape);return e<2?`return ${t};`:`\n    for (int i = 0; i < ${e}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Aa(n){if(n<=1)return"int";if(2===n)return"ivec2";if(3===n)return"ivec3";if(4===n)return"ivec4";if(5===n)return"ivec5";if(6===n)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function CP(n,t,e){const{newShape:i,keptDims:r}=ct(t),a=t.length,c=n&&3===a&&1===t[0],u=c?t.slice(1):i,f=!n&&a>1&&!Re(t,e)&&i.length<a||c;return{useSqueezeShape:f,uniformShape:f?u:t,keptDims:r}}function $b(n,t){const e=JSON.parse(JSON.stringify(n));return e.shapeInfo.logicalShape=t,e}function Bb(n,t){return t.map(e=>n[e]).join(", ")}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function PB(n,t,e){const i=[],r=[];let a,c,u,f=null,p=null;p=n.getUniformLocation(e,"NAN",!1),1===Te().getNumber("WEBGL_VERSION")&&(f=n.getUniformLocation(e,"INFINITY",!1));const g=!1;for(const v of t.variableNames){const T={name:v,uniform:n.getUniformLocation(e,v,g),offset:n.getUniformLocation(e,`offset${v}`,g)};t.enableShapeUniforms&&(T.shape=n.getUniformLocation(e,`${v}Shape`,g),T.texShape=n.getUniformLocation(e,`${v}TexShape`,g)),i.push(T)}if(t.enableShapeUniforms&&(a=n.getUniformLocation(e,"outShape",g),u=n.getUniformLocation(e,"outShapeStrides",g),c=n.getUniformLocation(e,"outTexShape",g)),t.customUniforms)for(const v of t.customUniforms)r.push(n.getUniformLocation(e,v.name,g));return{variablesLocations:i,customUniformLocations:r,infLoc:f,nanLoc:p,outShapeLocation:a,outShapeStridesLocation:u,outTexShapeLocation:c}}function FB(n,t){if(n.length!==t.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${t.length} inputs`);n.forEach((e,i)=>{const r=e.logicalShape,a=t[i],c=a.shape;if(!Re(r,c))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${c} must match`);if(e.isUniform&&a.isUniform)return;const u=e.texShape,f=a.isUniform?null:a.texData.texShape;if(!Re(u,f))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${u} and ${f} must match`)})}function Iu(n){return Te().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class C5{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=bk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Uu();this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Ik(["r","c","d"],t):L_(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class S5{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=bk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Uu();this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Ik(["r","c","d"],t):L_(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class D5{constructor(t){this.variableNames=["A"],this.outTexUsage=vh.DOWNLOAD;const e=Uu();this.outputShape=t,this.userCode=`\n      ${MB}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class T5{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=vh.DOWNLOAD;const e=Uu();this.outputShape=t,this.userCode=`\n      ${MB}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const k5={R:0,G:1,B:2,A:3};class LB{constructor(t,e=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Uu();this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length);let a="result";e&&(a="floor(result * 255. + 0.5)");let c="";for(let u=0;u<i.length;u++)c+=`\n          if(offset == ${u}) {\n            result = values[${k5[i[u]]}];\n          }`;this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":EP(t)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${i.length});\n\n        flatIndex = idiv(flatIndex, ${i.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${c}\n        }\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class I5{constructor(t,e=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=Uu();this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length);let r="",a="result";e&&(a="floor(result * 255. + 0.5)");for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){const f=2*c+u;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${u} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {\n          localCoords[2] += ${u};\n          if (localCoords[1] + ${c} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {\n            localCoords[1] += ${c};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${i.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${f}] = values[0];\n            } else if (offset == 1) {\n              result[${f}] = values[1];\n            } else if (offset == 2) {\n              result[${f}] = values[2];\n            } else {\n              result[${f}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":EP(t)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${i.output} = ${a};\n        }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ux(n,t,e,i,r,a){!function EG(n,t){const e=Te().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||t<=0)throw new Error(`Requested texture size [${n}x${t}] is invalid.`);if(n>e||t>e)throw new Error(`Requested texture size [${n}x${t}] greater than WebGL maximum on this browser / GPU [${e}x${e}].`)}(t,e);const c=function wG(n){return Ep(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}(n),u=n.TEXTURE_2D;return ir(n,()=>n.bindTexture(u,c)),ir(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),ir(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),ir(n,()=>n.texParameteri(u,n.TEXTURE_MIN_FILTER,n.NEAREST)),ir(n,()=>n.texParameteri(u,n.TEXTURE_MAG_FILTER,n.NEAREST)),1===Te().getNumber("WEBGL_VERSION")?ir(n,()=>n.texImage2D(u,0,i,t,e,0,r,a,null)):ir(n,()=>n.texStorage2D(u,1,i,t,e)),ir(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:c,texShape:[e,t]}}function $B(n){return n.internalFormatFloat}function BB(n){return n.internalFormatHalfFloat}function VB(n){return n.downloadTextureFormat}function UB(n){return n.internalFormatPackedFloat}function zB(n){return n.internalFormatPackedHalfFloat}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class SP{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const e=Te().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,function rG(n,t){zm[n]=t}(e,t)):this.gl=Jh(e),t=this.gl,2===Te().getNumber("WEBGL_VERSION")){const a=t;this.createVertexArray=()=>ir(a,()=>a.createVertexArray()),this.bindVertexArray=c=>ir(a,()=>a.bindVertexArray(c)),this.deleteVertexArray=c=>ir(a,()=>a.deleteVertexArray(c)),this.getVertexArray=()=>ir(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(null!=t){const a=t.getExtension("OES_vertex_array_object");if(null==a)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>ir(t,()=>a.createVertexArrayOES()),this.bindVertexArray=c=>ir(t,()=>a.bindVertexArrayOES(c)),this.deleteVertexArray=c=>ir(t,()=>a.deleteVertexArrayOES(c)),this.getVertexArray=()=>ir(t,()=>t.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Te().getNumber("WEBGL_VERSION")){const c="OES_texture_half_float";if(this.textureFloatExtension=Ek(this.gl,"OES_texture_float"),bh(this.gl,c))this.textureHalfFloatExtension=Ek(this.gl,c);else if(Te().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),bh(this.gl,r))this.colorBufferHalfFloatExtension=Ek(this.gl,r);else if(Te().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",bh(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else{if(!bh(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=function M5(n){return function vG(n,t){const e=Ep(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return ir(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),ir(n,()=>n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}(this.gl),this.indexBuffer=function O5(n){return function bG(n,t){const e=Ep(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return ir(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e)),ir(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Uint16Array([0,1,2,2,1,3]))}(this.gl),this.framebuffer=function xG(n){return Ep(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=yP(this.gl,this.textureHalfFloatExtension)}get debug(){return Te().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;ir(t,()=>t.finish()),ir(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),ir(t,()=>t.deleteFramebuffer(this.framebuffer)),ir(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),ir(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),ir(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,e){return this.throwIfDisposed(),function R5(n,t,e,i){const[r,a]=Bx(t,e);return Ux(n,r,a,$B(i),i.textureFormatFloat,n.FLOAT)}(this.gl,t,e,this.textureConfig)}createFloat16MatrixTexture(t,e){return this.throwIfDisposed(),function N5(n,t,e,i){const[r,a]=Bx(t,e);return Ux(n,r,a,BB(i),i.textureFormatFloat,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createUnsignedBytesMatrixTexture(t,e){return this.throwIfDisposed(),function P5(n,t,e,i){const[r,a]=Bx(t,e);return Ux(n,r,a,VB(i),n.RGBA,n.UNSIGNED_BYTE)}(this.gl,t,e,this.textureConfig)}uploadPixelDataToTexture(t,e){this.throwIfDisposed(),function V5(n,t,e){ir(n,()=>n.bindTexture(n.TEXTURE_2D,t)),e.data instanceof Uint8Array?2===Te().getNumber("WEBGL_VERSION")?ir(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.width,e.height,n.RGBA,n.UNSIGNED_BYTE,e.data)):ir(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.width,e.height,0,n.RGBA,n.UNSIGNED_BYTE,e.data)):2===Te().getNumber("WEBGL_VERSION")?ir(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,e)):ir(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)),ir(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e)}uploadDenseMatrixToTexture(t,e,i,r){this.throwIfDisposed(),function B5(n,t,e,i,r,a){let c,u,f;ir(n,()=>n.bindTexture(n.TEXTURE_2D,t)),r instanceof Uint8Array?(c=new Uint8Array(e*i*4),u=n.UNSIGNED_BYTE,f=n.RGBA):(c=new Float32Array(e*i*4),u=n.FLOAT,f=a.internalFormatPackedFloat),c.set(r),2===Te().getNumber("WEBGL_VERSION")?ir(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,i,n.RGBA,u,c)):ir(n,()=>n.texImage2D(n.TEXTURE_2D,0,f,e,i,0,n.RGBA,u,c)),ir(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e,i,r,this.textureConfig)}createFloat16PackedMatrixTexture(t,e){return this.throwIfDisposed(),function L5(n,t,e,i){const[r,a]=Rb(t,e);return Ux(n,r,a,zB(i),n.RGBA,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createPackedMatrixTexture(t,e){return this.throwIfDisposed(),function F5(n,t,e,i){const[r,a]=Rb(t,e);return Ux(n,r,a,UB(i),n.RGBA,n.FLOAT)}(this.gl,t,e,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(kB(this.gl,this.framebuffer),this.outputTexture=null),ir(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function j5(n,t,e,i){const[r,a]=Bx(t,e),u=new Uint8Array(function aG(n,t){return n*t}(t*e,4));return ir(n,()=>n.readPixels(0,0,r,a,i.downloadTextureFormat,n.UNSIGNED_BYTE,u)),new Float32Array(u.buffer)}(this.gl,e,i,this.textureConfig))}downloadPackedMatrixFromBuffer(t,e,i,r,a,c){return function W5(n,t,e,i,r,a,c,u){const f=n,p=new Float32Array(function lG(n,t){const[e,i]=Rb(n,t);return e*i*4}(a,c));return f.bindBuffer(f.PIXEL_PACK_BUFFER,t),f.getBufferSubData(f.PIXEL_PACK_BUFFER,0,p),f.bindBuffer(f.PIXEL_PACK_BUFFER,null),p}(this.gl,t,0,0,0,a,c)}downloadFloat32MatrixFromBuffer(t,e){return function z5(n,t,e){const i=n,r=new Float32Array(e);return i.bindBuffer(i.PIXEL_PACK_BUFFER,t),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,r),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),r}(this.gl,t,e)}createBufferFromTexture(t,e,i){this.bindTextureToFrameBuffer(t);const r=function U5(n,t,e,i){const r=n.createBuffer();ir(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,r));const u=16*t*e;return ir(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,u,n.STREAM_READ)),ir(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,0)),ir(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),r}(this.gl,e,i);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let e,i;if(Te().getBool("WEBGL_FENCE_API_ENABLED")){const r=t,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),i=()=>{const c=r.clientWaitSync(a,0,0);return c===r.ALREADY_SIGNALED||c===r.CONDITION_SATISFIED},e=a}else Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(e,Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:e,isFencePassed:i}}downloadMatrixFromPackedTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function H5(n,t,e){const i=new Float32Array(t*e*4);return ir(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,i)),i}(this.gl,e,i))}createProgram(t){this.throwIfDisposed();const e=this.gl;null==this.vertexShader&&(this.vertexShader=function A5(n){const t=Uu();return function pG(n,t){const e=Ep(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ir(n,()=>n.shaderSource(e,t)),ir(n,()=>n.compileShader(e)),!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw console.log(n.getShaderInfoLog(e)),new Error("Failed to compile vertex shader.");return e}(n,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}(e));const i=function _G(n){return Ep(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}(e);ir(e,()=>e.attachShader(i,this.vertexShader)),ir(e,()=>e.attachShader(i,t)),function yG(n,t){if(ir(n,()=>n.linkProgram(t)),!Te().get("ENGINE_COMPILE_ONLY")&&!1===n.getProgramParameter(t,n.LINK_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(e,i);const r=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&vP(e,r),r}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const e=this.gl;ir(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),function $5(n,t,e){ir(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),TB(n,t,"clipSpacePos",e,3,20,0)&&TB(n,t,"uv",e,2,20,12)}(e,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&(ir(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&vP(this.gl,this.program),ir(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,e,i=!0){return this.throwIfDisposed(),i?function SG(n,t,e){return Ep(n,()=>n.getUniformLocation(t,e),'uniform "'+e+'" not present in program.')}(this.gl,t,e):function DG(n,t,e){return n.getUniformLocation(t,e)}(this.gl,t,e)}getAttributeLocation(t,e){return this.throwIfDisposed(),ir(this.gl,()=>this.gl.getAttribLocation(t,e))}getUniformLocationNoThrow(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)}setInputMatrixTexture(t,e,i){this.throwIfDisposed(),this.throwIfNoProgram(),TG(this.gl,t,e,i)}setOutputMatrixTexture(t,e,i){this.setOutputMatrixTextureDriver(t,i,e)}setOutputPackedMatrixTexture(t,e,i){this.throwIfDisposed();const[r,a]=Rb(e,i);this.setOutputMatrixTextureDriver(t,r,a)}setOutputMatrixWriteRegion(t,e,i,r){this.setOutputMatrixWriteRegionDriver(i,t,r,e)}setOutputPackedMatrixWriteRegion(t,e,i,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&vP(this.gl,this.program),xk(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}ir(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ir(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ek(this.gl,2===Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.createQuery();return i.beginQuery(r.TIME_ELAPSED_EXT,a),a}const t=this.getQueryTimerExtensionWebGL1(),e=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,e),e}endQuery(){if(2===Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,i=this.getQueryTimerExtensionWebGL2();return void e.endQuery(i.TIME_ELAPSED_EXT)}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}waitForQueryAndGetTime(t){var e=this;return(0,Q.A)(function*(){return yield Nt(()=>e.disposed||e.isQueryAvailable(t,Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),e.getQueryTime(t,Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})()}getQueryTime(t,e){if(0===e)return null;if(2===e){const i=this.gl;return i.getQueryParameter(t,i.QUERY_RESULT)/1e6}{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,e){if(0===e)return!0;if(2===e){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.getQueryParameter(t,i.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const i=this.getQueryTimerExtensionWebGL1(),r=i.getQueryObjectEXT(t,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(t){return new Promise(e=>{this.addItemToPoll(()=>t.isFencePassed(),()=>e())})}pollItems(){const t=function G5(n){let t=0;for(;t<n.length&&n[t]();++t);return t-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.itemsToPoll.map(e=>e.isDoneFn));for(let e=0;e<=t;++e){const{resolveFn:i}=this.itemsToPoll[e];i()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,e){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in Te().platform&&(i=Te().platform.setTimeoutCustom.bind(Te().platform)),Nt(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,i)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),bP(this.gl,t,this.framebuffer),this.debug&&xk(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(bP(this.gl,this.outputTexture,this.framebuffer),this.debug&&xk(this.gl)):kB(this.gl,this.framebuffer)}downloadMatrixDriver(t,e){this.bindTextureToFrameBuffer(t);const i=e();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(t,e,i){this.throwIfDisposed();const r=this.gl;bP(r,t,this.framebuffer),this.debug&&xk(r),this.outputTexture=t,ir(r,()=>r.viewport(0,0,e,i)),ir(r,()=>r.scissor(0,0,e,i))}setOutputMatrixWriteRegionDriver(t,e,i,r){this.throwIfDisposed(),ir(this.gl,()=>this.gl.scissor(t,e,i,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:K5,XI:jB,Nk:X5,f6:Y5,ct:q5,YG:Q5,hH:Z5,z3:J5,sG:e8,uM:t8,vS:n8,qB:i8,GG:r8,rq:s8,lg:o8,WR:a8,cu:l8,GE:c8,px:u8,jC:d8,He:h8,hE:f8,BF:p8,Dk:m8,cl:g8,_B:_8,ub:y8,_f:v8,Ku:b8,qy:w8,Zy:E8,bu:x8,zv:C8,dH:WB,HS:S8,yH:D8,l3:T8,z9:HB,x6:k8,_m:I8,eW:A8,GK:M8,SP:O8,yr:R8,dl:N8,Dw:P8,xT:F8,_X:DP,wz:L8}=Ce;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function GB(n,t){return["x","y","z","w","u","v"].slice(0,t).map(e=>`${n}.${e}`)}function zu(n,t){return 1===t?[n]:GB(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class B8{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Iu(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=zu("rc",this.rank),i=Aa(this.rank),r=this.getOutOfBoundsCondition(e),a=this.getSetup(e),c=this.getOutput(e);this.userCode=`\n        void main() {\n          ${i} rc = getOutputCoords();\n\n          if(${r}) {\n            setOutput(vec4(0));\n          } else {\n            ${a}\n\n            setOutput(vec4(${c}));\n          }\n        }\n      `}}getSourceCoordsArr(t){const e=[];for(let i=0;i<=1;i++)for(let r=0;r<=1;r++){let a=`${0===i?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let c=2;c<this.rank;c++)a=`${t[t.length-1-c]},`+a;e.push(a)}return e}getOutOfBoundsCondition(t){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let e="";for(let i=this.rank-2;i<this.rank;i++)e+=`${t[i]} >= ${this.enableShapeUniforms?`outShape[${i}]`:this.outputShape[i]}`,i<this.rank-1&&(e+="||");return e}getSetup(t){if(1===this.rank)return"";const e=t.slice(-2);return`\n      int r = ${e[0]};\n      int c = ${e[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1]};\n      bool rEdge = rp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2]};\n    `}getOutput(t){const e=this.getSourceCoordsArr(t);return 1===this.rank?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${e[0]}),\n            cEdge ? 0. : getA(${e[1]}),\n            rEdge ? 0. : getA(${e[2]}),\n            rEdge || cEdge ? 0. : getA(${e[3]})`}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class KB{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length);let i="";for(let r=0;r<4;r++){let a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),i+=`\n        ${a}\n        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${r}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${r>0?"}":""}\n      `}this.userCode=`\n      ${function V8(n,t){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t?function $G(n,t,e="index"){const r=function LG(n,t){const e=n.length,i=n.map(a=>`${t}[${a}]`),r=new Array(e-1);r[e-2]=i[e-1];for(let a=e-3;a>=0;--a)r[a]=`(${r[a+1]} * ${i[a+1]})`;return r}(n.map((a,c)=>c),t);return r.map((a,c)=>`int ${n[c]} = ${e} / ${r[c]}; ${c===r.length-1?`int ${n[c+1]} = ${e} - ${n[c]} * ${r[c]}`:`index -= ${n[c]} * ${r[c]}`};`).join("")}(["r","c","d"],"inputShape"):L_(["r","c","d"],n)}\n      return ivec3(r, c, d);\n    }\n  `}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e,this.enableShapeUniforms)}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":EP(t)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};\n\n        ${i}\n\n        setOutput(result);\n      }\n    `}}class U8{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,e,i){const r=YB(e,i),a=qB(t,r,i);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const c=XB(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=c,this.log();const f=this.freeTextures[a].pop();return this.usedTextures[a].push(f),f}let u;return r===ku.PACKED_2X2_FLOAT32?u=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):r===ku.PACKED_2X2_FLOAT16?u=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):r===ku.UNPACKED_FLOAT32?u=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):r===ku.UNPACKED_FLOAT16?u=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):r===ku.PACKED_4X1_UNSIGNED_BYTE&&(u=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(u),this.numUsedTextures++,this._numBytesAllocated+=c,this.log(),u}releaseTexture(t,e,i,r){if(null==this.freeTextures)return;const a=YB(i,r),c=qB(e,a,r);c in this.freeTextures||(this.freeTextures[c]=[]);const u=XB(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),f=Te().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==f&&this._numBytesAllocated>f?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=u):(this.freeTextures[c].push(t),this.numFreeTextures++,this._numBytesFree+=u),this.numUsedTextures--;const p=this.usedTextures[c],g=p&&p.indexOf(t);if(null==g||g<0)throw new Error("Cannot release a texture that was never provided by this texture manager");p[g]=p[p.length-1],p.pop(),this.log()}log(){if(!this.logEnabled)return;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${this.numFreeTextures+this.numUsedTextures})`);const e=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*e)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const t in this.freeTextures)this.freeTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function XB(n,t,e,i,r){const a=function j8(n,t){switch(n){case ku.PACKED_2X2_FLOAT32:return UB(t);case ku.PACKED_2X2_FLOAT16:return zB(t);case ku.UNPACKED_FLOAT32:return $B(t);case ku.UNPACKED_FLOAT16:return BB(t);case ku.PACKED_4X1_UNSIGNED_BYTE:return VB(t);default:throw new Error(`Unknown physical texture type ${n}`)}}(t,i);let c;if(r){const[f,p]=Rb(n[0],n[1]);c=f*p}else{const[f,p]=Bx(n[0],n[1]);c=f*p}const u=function z8(n,t){if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===n.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(e,a);return c*u}function YB(n,t){if(n===vh.UPLOAD)return ku.PACKED_2X2_FLOAT32;if(n===vh.RENDER||null==n)return function W8(n){return Te().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?ku.PACKED_2X2_FLOAT32:ku.UNPACKED_FLOAT32:n?ku.PACKED_2X2_FLOAT16:ku.UNPACKED_FLOAT16}(t);if(n===vh.DOWNLOAD||n===vh.PIXELS)return ku.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function qB(n,t,e){return`${n[0]}_${n[1]}_${t}_${e}`}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Af{constructor(t,e){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${e}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const qd="if (isnan(x)) return x;",H8="return x;",QB="return abs(x);",G8="return (x >= 0.0) ? x : (exp(x) - 1.0);",K8=qd+"\n  return (x < 0.0) ? 0.0 : x;\n",X8=qd+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",jm="return x;",Y8="return 1.0 / (1.0 + exp(-1.0 * x));",q8="return x;",Q8="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Z8="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",J8="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",e6="return 1.0 / (1.0 + exp(-1.0 * x));";class Wm{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${e}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class t6{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length);const e=t.length,i=zu("rc",e),r=Aa(e),a=function $8(n,t){if(1===n)return"rc";let e="";for(let i=0;i<n;i++)e+=t[i],i<n-1&&(e+=",");return e}(e,i),c=i.slice(-2),u=e<=1?"rc":`vec2(${c.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const n6=Yy,Mk={},o6=Te().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");let c6=(()=>{class n extends Je{nextDataId(){return n.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Te().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let i;if(null!=e){if(e instanceof SP)i=e;else{const r=Jh(Te().getNumber("WEBGL_VERSION"),e);i=new SP(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=Jh(Te().getNumber("WEBGL_VERSION"));i=new SP(r),this.binaryCache=function s6(n){return n in Mk||(Mk[n]={}),Mk[n]}(Te().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=i,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new U8(this.gpgpu),this.numMBBeforeWarning=function l6(){return null==Te().global.screen?1024:Te().global.screen.height*Te().global.screen.width*window.devicePixelRatio*600/1024/1024}(),this.texData=new yt(this,zl())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,i,r,a,c,u){const f=this.makeTensorInfo(i,r),p=this.texData.get(f.dataId);p.isPacked=!1,p.texture={texture:e,texShape:[a,c]},p.texShape=[a,c];const g=Ck(i),v=new LB(g,!1,u),T=this.runWebGLProgram(v,[f],r,[[a,c]]);return T.shape=i,p.texture=null,this.disposeIntermediateTensorInfo(f),T.dataId}write(e,i,r){if((Te().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Te().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:i,dtype:r,values:e,usage:vh.UPLOAD,refCount:1}),a}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){this.texData.get(e).refCount++}decRef(e){this.texData.has(e)&&this.texData.get(e).refCount--}move(e,i,r,a,c){if(Te().getBool("DEBUG")&&this.checkNumericalProblems(i),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:a,values:i,usage:vh.UPLOAD,refCount:c})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const i=this.texData.get(e),{values:r,dtype:a,complexTensorInfos:c,slice:u,shape:f,isPacked:p}=i;if(null!=u){let U;U=p?new Wm(f,jm):new Af(f,jm);const q=this.runWebGLProgram(U,[{dataId:e,shape:f,dtype:a}],a),ae=this.readSync(q.dataId);return this.disposeIntermediateTensorInfo(q),ae}if(null!=r)return this.convertAndCacheOnCPU(e);if("string"===a)return r;const g=null!=this.activeTimers;let v,T;return g&&(v=jr()),T="complex64"===a?ch(this.readSync(c.real.dataId),this.readSync(c.imag.dataId)):this.getValuesFromTexture(e),g&&(this.downloadWaitMs+=jr()-v),this.convertAndCacheOnCPU(e,T)}read(e){var i=this;return(0,Q.A)(function*(){if(i.pendingRead.has(e)){const te=i.pendingRead.get(e);return new Promise(ye=>te.push(ye))}const r=i.texData.get(e),{values:a,shape:c,slice:u,dtype:f,complexTensorInfos:p,isPacked:g}=r;if(null!=u){let te;te=g?new Wm(c,jm):new Af(c,jm);const ye=i.runWebGLProgram(te,[{dataId:e,shape:c,dtype:f}],f),ke=i.read(ye.dataId);return i.disposeIntermediateTensorInfo(ye),ke}if(null!=a)return i.convertAndCacheOnCPU(e);if(Te().getBool("DEBUG")&&!Te().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Te().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let T,U,v=null;if("complex64"!==f&&Te().get("WEBGL_BUFFER_SUPPORTED")){T=i.decode(e);const te=i.texData.get(T.dataId);v=i.gpgpu.createBufferFromTexture(te.texture.texture,...wk(c))}if(i.pendingRead.set(e,[]),"complex64"!==f&&(yield i.gpgpu.createAndWaitForFence()),"complex64"===f){const te=yield Promise.all([i.read(p.real.dataId),i.read(p.imag.dataId)]);U=ch(te[0],te[1])}else if(null==v)U=i.getValuesFromTexture(e);else{const te=Tt(c);U=i.gpgpu.downloadFloat32MatrixFromBuffer(v,te)}if(null!=T&&i.disposeIntermediateTensorInfo(T),null!=v){const te=i.gpgpu.gl;ir(te,()=>te.deleteBuffer(v))}const q=i.convertAndCacheOnCPU(e,U),ae=i.pendingRead.get(e);return i.pendingRead.delete(e),ae.forEach(te=>te(q)),i.pendingDisposal.has(e)&&(i.pendingDisposal.delete(e),i.disposeData(e)&&zl().removeDataId(e,i),i.pendingDeletes--),q})()}readToGPU(e,i={}){const r=this.texData.get(e),{values:a,shape:c,slice:u,dtype:f,isPacked:p,texture:g}=r;if("complex64"===f)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=u){let q;q=p?new Wm(c,jm):new Af(c,jm);const ae=this.runWebGLProgram(q,[{dataId:e,shape:c,dtype:f}],f),te=this.readToGPU(ae,i);return this.disposeIntermediateTensorInfo(ae),te}if(null==g)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const v=this.decode(e,i.customTexShape),T=zl().makeTensorFromTensorInfo(v),U=this.texData.get(v.dataId);return Object.assign({tensorRef:T},U.texture)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>zc(a));return is(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return is(e.shape,e.dtype,i)}checkNumericalProblems(e){if(null!=e)for(let i=0;i<e.length;i++){const r=e[i];if(!hG(r))throw Te().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:i,dtype:r,isPacked:a}=this.texData.get(e),c=Tt(i);if(Te().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const U=this.decode(e),q=this.texData.get(U.dataId),ae=this.gpgpu.downloadMatrixFromPackedTexture(q.texture.texture,...wk(i)).subarray(0,c);return this.disposeIntermediateTensorInfo(U),ae}const u=Te().getBool("WEBGL_PACK")&&!0===a,f=u?Ck(i):i,p=u?new T5(f):new D5(f),g=this.runWebGLProgram(p,[{shape:f,dtype:r,dataId:e}],"float32"),v=this.texData.get(g.dataId),T=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,c);return this.disposeIntermediateTensorInfo(g),T}timerAvailable(){return Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){var i=this;const r=this.activeTimers,a=[];let c=!1;null==this.programTimersStack?(this.programTimersStack=a,c=!0):this.activeTimers.push(a),this.activeTimers=a,e();const u=ic(this.activeTimers.map(g=>g.query)).filter(g=>null!=g),f=ic(this.activeTimers.map(g=>g.name)).filter(g=>null!=g);this.activeTimers=r,c&&(this.programTimersStack=null);const p={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,Q.A)(function*(){if(Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const g=yield Promise.all(u);p.kernelMs=function Ve(n){let t=0;for(let e=0;e<n.length;e++)t+=n[e];return t}(g),p.getExtraProfileInfo=()=>g.map((v,T)=>({name:f[T],ms:v})).map(v=>`${v.name}: ${v.ms}`).join(", ")}else p.kernelMs={error:"WebGL query timers are not supported in this environment."};return i.uploadWaitMs=0,i.downloadWaitMs=0,p})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:jr(),endMs:null}}endTimer(e){return Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=jr(),e)}getQueryTime(e){var i=this;return(0,Q.A)(function*(){return Te().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?i.gpgpu.waitForQueryAndGetTime(e):e.endMs-e.startMs})()}disposeData(e,i=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(i?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!i&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return null!=r&&(this.disposeData(r.real.dataId,i),this.disposeData(r.imag.dataId,i)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:i,dtype:r,texShape:a,usage:c,isPacked:u,slice:f}=this.texData.get(e),p=f&&f.origDataId||e,g=this.dataRefCount.get(p);g>1?this.dataRefCount.set(p,g-1):(this.dataRefCount.delete(p),null!=i&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(i,a,c,u)));const v=this.texData.get(e);v.texture=null,v.texShape=null,v.isPacked=!1,v.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,i=o6){return Te().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>null==this.texData.get(r.dataId).texture&&Tt(r.shape)<i)}getGPGPUContext(){return this.gpgpu}where(e){on("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const i=e.dataSync();return n6(e.shape,i)}packedUnaryOp(e,i,r){const a=new Wm(e.shape,i),c=this.compileAndRun(a,[e],r);return zl().makeTensorFromTensorInfo(c)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const a=WB(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,a)}if(Te().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,QB,e.dtype);const i=new Af(e.shape,QB),r=this.compileAndRun(i,[e]);return zl().makeTensorFromTensorInfo(r)}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&Wn(r[0])){const c=r.map(u=>nc(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:i}}makeOutput(e,i,r){return zl().makeTensorFromTensorInfo(this.makeTensorInfo(e,i,r),this)}unpackTensor(e){const i=new t6(e.shape);return this.runWebGLProgram(i,[e],e.dtype)}packTensor(e){const i=new B8(e.shape);return this.runWebGLProgram(i,[e],e.dtype,null,!0)}packedReshape(e,i){const r=[Nb(e.shape),...Pb(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},c=[Nb(i),...Pb(i)],u=new KB(c,r),g=this.runWebGLProgram(u,[a],e.dtype,[r],!0);return{dataId:g.dataId,shape:i,dtype:g.dtype}}decode(e,i){const r=this.texData.get(e),{isPacked:a,shape:c,dtype:u}=r;null!=i&&Se(Tt(c)<=i[0]*i[1]*4,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.");const f=Ck(c);let p;p=a?new S5(f):new C5(f);const v=[i??wk(f)];return{dtype:u,shape:c,dataId:this.runWebGLProgram(p,[{shape:f,dtype:u,dataId:e}],u,v,!0,i).dataId}}runWebGLProgram(e,i,r,a,c=!1,u){const f=this.makeTensorInfo(e.outputShape,r),p=this.texData.get(f.dataId);if(e.packedOutput&&(p.isPacked=!0),e.outPackingScheme===bk.DENSE){const ke=u??wk(e.outputShape);p.texShape=ke.map(tt=>2*tt)}if(null!=e.outTexUsage&&(p.usage=e.outTexUsage),0===Tt(f.shape))return p.values=ut(f.dtype,0),f;const g=[],v=i.map(ke=>{if("complex64"===ke.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let tt=this.texData.get(ke.dataId);if(null==tt.texture){if(!e.packedInputs&&Tt(ke.shape)<=Te().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:ke.shape,texData:null,isUniform:!0,uniformValues:tt.values};e.packedInputs&&(tt.isPacked=!0,tt.shape=ke.shape)}if(this.uploadToGPU(ke.dataId),!!tt.isPacked!=!!e.packedInputs)ke=tt.isPacked?this.unpackTensor(ke):this.packTensor(ke),g.push(ke),tt=this.texData.get(ke.dataId);else if(tt.isPacked&&!Dk(tt.shape,ke.shape)){const nt=ke,St=ke.shape;ke.shape=tt.shape,ke=this.packedReshape(ke,St),g.push(ke),tt=this.texData.get(ke.dataId),nt.shape=St}return{shape:ke.shape,texData:tt,isUniform:!1}});this.uploadToGPU(f.dataId);const T={shape:f.shape,texData:p,isUniform:!1},U=function x5(n,t,e){let i="";t.concat(e).forEach(c=>{const u=null!=c.texData&&null!=c.texData.slice&&c.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!c.isUniform){const f=c.texData.texShape,{useSqueezeShape:p,uniformShape:g,keptDims:v}=CP(n.packedInputs,c.shape,f);let T="",U="",q="";if(1===g.length&&n.packedInputs){const St=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)];T=`${St[0]>1}_${St[1]>1}`}else if(2!==g.length||n.packedInputs){if(g.length>2&&!n.packedInputs){const St=$t(g);q=`${St[0]===f[1]}_${St[St.length-1]===f[1]}`}}else U=`${g[0]>1}_${g[1]>1}`;const ae=c.shape.length,te=2===g.length&&Re(c.shape,f),ye=1===Tt(c.shape),ke=rc(c.shape,e.shape),tt=!n.packedInputs&&ae===e.shape.length&&Re(f,e.texData.texShape);i+=`${ae}_${tt}_${p?v:""}_${g.length}_${ye}_${ke}_${te}_${T}_${U}_${q}_${n.packedInputs||g.length>2?"":`${f[0]>1}_${f[1]>1}`}_${u}`}else i+=`${c.shape}_${c.isUniform?"uniform":c.texData.texShape}_${u}`});let a=n.constructor.name;return a+="_"+i+"_"+n.userCode+`${Te().getNumber("WEBGL_VERSION")}`,a}(e,v,T),q=this.getAndSaveBinary(U,()=>function w5(n,t,e,i){const r=e.map((g,v)=>{const T={logicalShape:g.shape,texShape:g.isUniform?null:g.texData.texShape,isUniform:g.isUniform,isPacked:!g.isUniform&&g.texData.isPacked,flatOffset:null};return null!=g.texData&&null!=g.texData.slice&&g.texData.slice.flatOffset>0&&(T.flatOffset=g.texData.slice.flatOffset),{name:t.variableNames[v],shapeInfo:T}}),a=r.map(g=>g.shapeInfo),c={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},u=BG(r,c,t),f=function mG(n,t){const e=Ep(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ir(n,()=>n.shaderSource(e,t)),ir(n,()=>n.compileShader(e)),Te().get("ENGINE_COMPILE_ONLY"))return e;if(!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw DB(t,n.getShaderInfoLog(e)),new Error("Failed to compile fragment shader.");return e}(n.gl,u),p=n.createProgram(f);return Te().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(n.buildVao(p),Object.assign({program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c},PB(n,t,p)))}(this.gpgpu,e,v,T)),ae=null!=this.activeTimers;let te;ae&&(te=this.startTimer()),Te().get("ENGINE_COMPILE_ONLY")||function E5(n,t,e,i,r){t.program.enableShapeUniforms||(FB(t.inShapeInfos,e),FB([t.outShapeInfo],[i]));const a=i.texData.texture,c=i.texData.texShape;i.texData.isPacked?n.setOutputPackedMatrixTexture(a.texture,c[0],c[1]):n.setOutputMatrixTexture(a.texture,c[0],c[1]),n.setProgram(t.webGLProgram),n.bindVertexArray(t.webGLProgram.vao),1===Te().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&n.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&n.gl.uniform1f(t.nanLoc,NaN);for(let f=0;f<e.length;++f){const p=e[f],{uniform:g,offset:v,shape:T,texShape:U}=t.variablesLocations[f];if(T){const{uniformShape:q}=CP(t.program.packedInputs,p.shape,p.texData.texShape);switch(q.length){case 1:n.gl.uniform1iv(T,new Int32Array(q));break;case 2:n.gl.uniform2iv(T,new Int32Array(q));break;case 3:n.gl.uniform3iv(T,new Int32Array(q));break;case 4:n.gl.uniform4iv(T,new Int32Array(q))}}if(U&&n.gl.uniform2i(U,p.texData.texShape[0],p.texData.texShape[1]),null!=g){if(p.isUniform){if(Tt(p.shape)<2)n.gl.uniform1f(g,p.uniformValues[0]);else{let q=p.uniformValues;q instanceof Float32Array||(q=new Float32Array(q)),n.gl.uniform1fv(g,q)}continue}null!=p.texData.slice&&null!=v&&n.gl.uniform1i(v,p.texData.slice.flatOffset),n.setInputMatrixTexture(p.texData.texture.texture,g,f)}}const u=t.outShapeLocation;if(u)switch(i.shape.length){case 1:n.gl.uniform1iv(u,new Int32Array(i.shape));break;case 2:n.gl.uniform2iv(u,new Int32Array(i.shape));break;case 3:n.gl.uniform3iv(u,new Int32Array(i.shape));break;case 4:n.gl.uniform4iv(u,new Int32Array(i.shape))}if(t.outShapeStridesLocation){const f=$t(i.shape);switch(i.shape.length){case 2:n.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(f));break;case 3:n.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(f));break;case 4:n.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(f))}}if(t.outTexShapeLocation&&n.gl.uniform2i(t.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),t.program.customUniforms&&r)for(let f=0;f<t.program.customUniforms.length;++f){const p=t.program.customUniforms[f],g=t.customUniformLocations[f],v=r[f];if("float"===p.type)n.gl.uniform1fv(g,v);else if("vec2"===p.type)n.gl.uniform2fv(g,v);else if("vec3"===p.type)n.gl.uniform3fv(g,v);else if("vec4"===p.type)n.gl.uniform4fv(g,v);else if("int"===p.type)n.gl.uniform1iv(g,v);else if("ivec2"===p.type)n.gl.uniform2iv(g,v);else if("ivec3"===p.type)n.gl.uniform3iv(g,v);else{if("ivec4"!==p.type)throw Error(`uniform type ${p.type} is not supported yet.`);n.gl.uniform4iv(g,v)}}n.executeProgram()}(this.gpgpu,q,v,T,a),g.forEach(ke=>this.disposeIntermediateTensorInfo(ke)),ae&&(te=this.endTimer(te),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(te)}));const ye=Te().getNumber("WEBGL_FLUSH_THRESHOLD");if(ye>0){const ke=jr();ke-this.lastGlFlushTime>ye&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=ke)}if(!Te().getBool("WEBGL_LAZILY_UNPACK")&&p.isPacked&&!1===c){const ke=this.unpackTensor(f);return this.disposeIntermediateTensorInfo(f),ke}return f}compileAndRun(e,i,r,a,c=!1){return this.runWebGLProgram(e,i,r=r||i[0].dtype,a,c)}getAndSaveBinary(e,i){return e in this.binaryCache||(this.binaryCache[e]=i()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Te().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(i=>{this.gpgpu.deleteProgram(this.binaryCache[i].webGLProgram),delete this.binaryCache[i]}),this.textureManager.dispose(),null!=this.canvas&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=k(()=>{if(!Te().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Te().getBool("DEBUG");Te().set("DEBUG",!1);const i=this.abs(vr(1e-8)).dataSync()[0];if(Te().set("DEBUG",e),i>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const i=this.texData.get(e),{shape:r,dtype:a,values:c,texture:u,usage:f,isPacked:p}=i;if(null!=u)return;const g=null!=this.activeTimers;let v;g&&(v=jr());let T=i.texShape;if(null==T&&(T=function IG(n,t=!1){let e=Te().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=Te().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&Te().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=e/2),t&&(e*=2,i*=2,1===(n=n.map((u,f)=>f>=n.length-2?ve(n[f]):n[f])).length&&(n=[2,n[0]])),2!==n.length&&(n=ct(n).newShape);let r=Tt(n),a=null;n.length<=1&&r<=e?a=[1,r]:2===n.length&&n[0]<=e&&n[1]<=e?a=n:3===n.length&&n[0]*n[1]<=e&&n[2]<=e?a=[n[0]*n[1],n[2]]:3===n.length&&n[0]<=e&&n[1]*n[2]<=e?a=[n[0],n[1]*n[2]]:4===n.length&&n[0]*n[1]*n[2]<=e&&n[3]<=e?a=[n[0]*n[1]*n[2],n[3]]:4===n.length&&n[0]<=e&&n[1]*n[2]*n[3]<=e&&(a=[n[0],n[1]*n[2]*n[3]]);const c=null!=a&&Math.max(...a)>i&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||c)if(t){const u=Nb(n);let f=2,p=2;n.length&&([f,p]=Pb(n)),r=u*(f/2)*(p/2),a=It(r).map(g=>2*g)}else a=It(r);return a}(r,p),i.texShape=T),null!=c){const U=Ck(r);let q,ae=T[1],te=T[0];const ye=c instanceof Uint8Array||c instanceof Uint8ClampedArray;(p||!ye)&&([ae,te]=Rb(T[0],T[1])),q=p?new I5(U,ye):new LB(U,ye);const ke=ye?[te,ae]:T,tt=this.makeTensorInfo(ke,a),nt=this.texData.get(tt.dataId);nt.usage=ye?vh.PIXELS:vh.UPLOAD,nt.texShape=ke,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(tt.dataId),ae,te,c);const rn=this.runWebGLProgram(q,[tt],a,[[te,ae]],!0),un=this.texData.get(rn.dataId);i.texShape=un.texShape,i.isPacked=un.isPacked,i.usage=un.usage,Te().get("ENGINE_COMPILE_ONLY")?this.disposeData(rn.dataId):(i.texture=un.texture,i.values=null,this.texData.delete(rn.dataId)),this.disposeIntermediateTensorInfo(tt),g&&(this.uploadWaitMs+=jr()-v)}else{const U=this.acquireTexture(T,f,a,p);i.texture=U}}convertAndCacheOnCPU(e,i){const r=this.texData.get(e),{dtype:a}=r;return null!=i&&(r.values=function u6(n,t){if("float32"===t||"complex64"===t)return n;if("int32"===t||"bool"===t){const e="int32"===t?new Int32Array(n.length):new Uint8Array(n.length);for(let i=0;i<e.length;++i)e[i]=Math.round(n[i]);return e}throw new Error(`Unknown dtype ${t}`)}
/** @license See the LICENSE file. */(i,a)),r.values}acquireTexture(e,i,r,a){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const c=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${c} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,i,a)}computeBytes(e,i){return e[0]*e[1]*Gt(i)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}checkCompileCompletionAsync(){var e=this;return(0,Q.A)(function*(){const i=[];if(e.gpgpu.parallelCompilationExtension){for(const[,r]of Object.entries(e.binaryCache))i.push(e.checkCompletionAsync_(r));return Promise.all(i)}for(const[,r]of Object.entries(e.binaryCache)){const a=new Promise(c=>{try{e.checkCompletion_(r),c(!0)}catch(u){throw u}});i.push(a)}return Promise.all(i)})()}checkCompletionAsync_(e){var i=this;return(0,Q.A)(function*(){return i.gpgpu.gl.getProgramParameter(e.webGLProgram,i.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?i.checkCompletion_(e):(yield aD(),i.checkCompletionAsync_(e))})()}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS))throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)?(DB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:i,customUniformLocations:r,infLoc:a,nanLoc:c,outShapeLocation:u,outShapeStridesLocation:f,outTexShapeLocation:p}=PB(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=i,e.customUniformLocations=r,e.infLoc=a,e.nanLoc=c,e.outShapeLocation=u,e.outShapeStridesLocation=f,e.outTexShapeLocation=p}}createTensorFromGPUData(e,i,r){e.channels=e.channels||"RGBA";const{texture:a,height:c,width:u,channels:f}=e,p=zl().backend;if(!p.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const g=p.writeTexture(a,i,r,c,u,f);return zl().makeTensorFromDataId(g,i,r,p)}}return n.nextDataId=0,n})();
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
Ii()&&mi("webgl",()=>new c6,2);const TP="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class B_{constructor(t,e,i){this.variableNames=["A","B"],this.outputShape=Ts(e,i),this.enableShapeUniforms=Iu(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${t}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const V_="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class Vb{constructor(t,e,i,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ts(e,i);const a=this.outputShape.length;this.enableShapeUniforms=Iu(a);let c="";if(r)if(0===a||1===Tt(this.outputShape))c="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(c=`\n          ${Aa(a)} coords = getOutputCoords();\n        `,1===a)c+=this.enableShapeUniforms?"\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const f=zu("coords",a);c+=this.enableShapeUniforms?`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${t}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${c}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Dd(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const f6={kernelName:Pa,backendName:"webgl",kernelFunc:Dd};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Hm(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.makeTensorInfo(i.shape,"complex64"),c=e.texData.get(a.dataId),u=Dd({inputs:{x:i},backend:e}),f=Dd({inputs:{x:r},backend:e});return c.complexTensorInfos={real:u,imag:f},a}const p6={kernelName:Bt,backendName:"webgl",kernelFunc:Hm},ZB="return (a < 0.) ? b * a : a;",JB="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",g6={kernelName:na,backendName:"webgl",kernelFunc:function m6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i,c=e.makeTensorInfo([],"float32",eu(a,"float32")),u=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Vb(JB,r.shape,c.shape):new B_(ZB,r.shape,c.shape),f=e.runWebGLProgram(u,[r,c],"float32");return e.disposeIntermediateTensorInfo(c),f}},eV="return (a < 0.) ? b * a : a;",tV="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",y6={kernelName:ie,backendName:"webgl",kernelFunc:function _6(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t,a=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Vb(tV,i.shape,r.shape):new B_(eV,i.shape,r.shape);return e.runWebGLProgram(a,[i,r],"float32")}},Ub="if (isnan(x)) return x;";
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ko({opSnippet:n,packedOpSnippet:t,cpuKernelImpl:e,dtype:i}){return({inputs:r,backend:a})=>{const{x:c}=r,u=a,f=i||c.dtype;if(u.shouldExecuteOnCPU([c])&&null!=e){const v=u.texData.get(c.dataId),T=e(v.values,f);return u.makeTensorInfo(c.shape,f,T)}let g;return g=Te().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new Wm(c.shape,t):new Af(c.shape,n),u.runWebGLProgram(g,[c],f)}}function pu({opSnippet:n,packedOpSnippet:t,checkOutOfBounds:e=!1,supportsComplex:i=!1,cpuKernelImpl:r,dtype:a}){return({inputs:c,backend:u})=>{const{a:f,b:p}=c,g=u;if(i&&"complex64"===f.dtype){const q=g.texData.get(f.dataId),ae=g.texData.get(p.dataId),[te,ye]=[[q.complexTensorInfos.real,ae.complexTensorInfos.real],[q.complexTensorInfos.imag,ae.complexTensorInfos.imag]].map(tt=>{const[nt,St]=tt,Xt={dataId:nt.dataId,dtype:nt.dtype,shape:f.shape},rn={dataId:St.dataId,dtype:St.dtype,shape:p.shape},un=new B_(n,f.shape,p.shape);return g.runWebGLProgram(un,[Xt,rn],An(nt.dtype,St.dtype))}),ke=Hm({inputs:{real:te,imag:ye},backend:g});return g.disposeIntermediateTensorInfo(te),g.disposeIntermediateTensorInfo(ye),ke}const v=a||An(f.dtype,p.dtype);if(("string"===f.dtype||"string"===p.dtype||g.shouldExecuteOnCPU([f,p]))&&null!=r){const q=g.texData.get(f.dataId).values,ae=g.texData.get(p.dataId).values,te="string"===f.dtype?Hh(q):q,ye="string"===f.dtype?Hh(ae):ae,[ke,tt]=r(f.shape,p.shape,te,ye,v),nt=g.makeTensorInfo(tt,v);return g.texData.get(nt.dataId).values=ke,nt}let U;return U=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new Vb(t,f.shape,p.shape,e):new B_(n,f.shape,p.shape),g.runWebGLProgram(U,[f,p],v)}}function zx(n,t=!1){if("linear"===n)return t?q8:H8;if("relu"===n)return t?Z8:K8;if("elu"===n)return t?Q8:G8;if("relu6"===n)return t?J8:X8;if("prelu"===n)return t?tV:eV;if("leakyrelu"===n)return t?JB:ZB;if("sigmoid"===n)return t?e6:Y8;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nV{constructor(t,e,i,r=!1,a=!1,c=!1,u=null,f=!1,p=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=Iu(this.outputShape.length);const v=Math.ceil((r?t[1]:t[2])/2),T=r?"i * 2, rc.y":"rc.y, i * 2",U=a?"rc.z, i * 2":"i * 2, rc.z",q=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],ae=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let te="",ye="";u&&(te=f?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${u}\n        }`:p?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${u}\n        }`:`vec4 activation(vec4 x) {\n          ${u}\n        }`,ye="result = activation(result);");const ke=c?"result += getBiasAtOutCoords();":"";c&&this.variableNames.push("bias"),f&&this.variableNames.push("preluActivationWeights"),p&&this.variableNames.push("leakyreluAlpha");let tt="rc.x",nt="rc.x";t[0]<e[0]?tt=`imod(rc.x, ${t[0]})`:e[0]<t[0]&&(nt=`imod(rc.x, ${e[0]})`),this.userCode=`\n      ${te}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${v}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${tt};\n        int batchB = ${nt};\n        for (int i = 0; i < ${v}; i++) {\n          vec4 a = getMatrixA(batchA, ${T});\n          vec4 b = getMatrixB(batchB, ${U});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${q[0]} * ${ae[0]});\n          result += (${q[1]} * ${ae[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${ke}\n\n        ${ye}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iV={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class rV{constructor(t,e,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ts(e,i),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${t}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const sV="return a * b;";function kP(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=An(i.dtype,r.dtype);if("complex64"===i.dtype){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),p=new rV(iV.REAL,i.shape,r.shape),g=new rV(iV.IMAG,i.shape,r.shape),v=[{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:i.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:f.complexTensorInfos.real.dataId,dtype:f.complexTensorInfos.real.dtype,shape:r.shape},{dataId:f.complexTensorInfos.imag.dataId,dtype:f.complexTensorInfos.imag.dtype,shape:r.shape}],T=e.runWebGLProgram(p,v,"float32"),U=e.runWebGLProgram(g,v,"float32"),q=Hm({inputs:{real:T,imag:U},backend:e});return e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U),q}if(e.shouldExecuteOnCPU([i,r])){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),[p,g]=p8(i.shape,r.shape,u.values,f.values,a),v=e.makeTensorInfo(g,a);return e.texData.get(v.dataId).values=p,v}let c;return c=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Vb(sV,i.shape,r.shape):new B_(sV,i.shape,r.shape),e.runWebGLProgram(c,[i,r],a)}const v6={kernelName:Xo,backendName:"webgl",kernelFunc:kP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ji(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=e,u=Tt(r.shape),f=Ut(a,u),p=Tt(f);Se(u===p,()=>`The new shape (${f}) has ${p} elements and the old shape (${r.shape}) has ${u} elements. The new shape and old shape must have the same number of elements.`);const g=c.texData.get(r.dataId);return!g.isPacked||Dk(r.shape,f)||null!==g.texture&&Dk(g.shape,f)?(c.incRef(r.dataId),{dataId:r.dataId,shape:f,dtype:r.dtype}):function b6(n,t,e){const i=[Nb(n.shape),...Pb(n.shape)],r={dtype:n.dtype,shape:i,dataId:n.dataId},a=[Nb(t),...Pb(t)],c=new KB(a,i),p=e.runWebGLProgram(c,[r],n.dtype,[i],!0);return{dataId:p.dataId,shape:t,dtype:p.dtype}}(r,f,c)}const w6={kernelName:hr,backendName:"webgl",kernelFunc:Ji};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class oV{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];const u=4*Math.floor(i/4),f=i%4;let p="sumValue += dot(values, ones);";if(null!=e){const v=1/e;p=`sumValue += dot(values * ${Ye(v)?v.toPrecision(2):v}, ones);`}let g="";a%i>0&&(g=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${g}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===f}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${p}\n        } else if (${2===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${p}\n        } else if (${3===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${p}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class E6{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];let u="0.0",f="";"prod"===e?u="1.0":"min"===e?(u="1.0 / 1e-20",f="min"):"max"===e&&(u="-1.0 / 1e-20",f="max");let p=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===e?p="sumValue":"prod"===e?p="prodValue":"all"===e?p="allValue":"any"===e&&(p="anyValue");const g=4*Math.floor(i/4),v=i%4;let T=`\n      if (${"sum"===e}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===e}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${f}(values, minMaxValue);\n        if (${"min"===e} || ${"max"===e}) {\n          minMaxValue = ${f}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,U="vec4";"all"===e?(u="1.0",T="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",U="bvec4"):"any"===e&&(u="0.0",T="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",U="bvec4");let q="";a%i>0&&(q=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${u};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${q}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        vec4 minMaxValue = vec4(${u});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          ${U} values = ${U}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${T}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===v}) {\n          ${U} values = ${U}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${T}\n        } else if (${2===v}) {\n          ${U} values = ${U}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${T}\n        } else if (${3===v}) {\n          ${U} values = ${U}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${T}\n        }\n        setOutput(${p});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function U_(n,t,e,i){const r=function x6(n){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const e=t.length?t[t.length-1].outSize:n[1],i=pa(e);t.push({inSize:e,windowSize:i,outSize:Math.ceil(e/i)})}return t}(n.shape);let a=n;for(let c=0;c<r.length;c++){const{inSize:u,windowSize:f,outSize:p}=r[c];let g,v;g="mean"===e?0===c?new oV({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},u):new oV({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p}):new E6({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},e),v=a,a=i.runWebGLProgram(g,[a],t),v.dataId!==n.dataId&&i.disposeIntermediateTensorInfo(v)}return a}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class C6{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[e[c]];this.outputShape=i,this.rank=i.length;const r=Aa(this.rank),a=function S6(n){const t=n.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(t);for(let r=0;r<n.length;r++)i[n[r]]=e[r];return i.join()}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class D6{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(t.length);for(let g=0;g<i.length;g++)i[g]=t[e[g]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Aa(this.rank),a=GB("rc",this.rank),c=new Array(this.rank);for(let g=0;g<e.length;g++)c[e[g]]=a[g];const u=`vec2(${c.slice(-2).join()})`,f=`++${a[this.rank-1]} < ${i[this.rank-1]}`,p=`getChannel(getA(${c.join()}), ${u})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${p};\n      if(${f}) {\n        result[1] = ${p};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${i[this.rank-2]}) {\n        result[2] = ${p};\n        if(${f}) {\n          result[3] = ${p};\n        }\n      }\n      setOutput(result);\n    }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ok(n,t,e){const i=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new D6(n.shape,t):new C6(n.shape,t);return e.runWebGLProgram(i,[n],n.dtype)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Rk(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;return function T6(n,t,e,i){const a=n.shape.length,c=wt(t,n.shape);let u=c;const f=ml(u,a),p=null!=f;let g=n;p&&(g=Ok(n,f,i),u=ja(u.length,a)),Dc("sum",u,a);const[v,T]=Sc(g.shape,u);let U=v;e&&(U=pl(v,c));const q=Tt(T),ye=Ji({inputs:{x:g},attrs:{shape:[Tt(n.shape)/q,q]},backend:i}),tt=U_(ye,ci(n.dtype),"sum",i),nt=Ji({inputs:{x:tt},attrs:{shape:U},backend:i});return i.disposeIntermediateTensorInfo(ye),i.disposeIntermediateTensorInfo(tt),p&&i.disposeIntermediateTensorInfo(g),nt}(r,a,c,e)}const k6={kernelName:ki,backendName:"webgl",kernelFunc:Rk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ju(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{perm:a}=i,c=e,f=new Array(r.shape.length);for(let g=0;g<f.length;g++)f[g]=r.shape[a[g]];let p;if(c.shouldExecuteOnCPU([r])){const v=c.texData.get(r.dataId).values,T=DP(v,r.shape,r.dtype,a,f);p=c.makeTensorInfo(f,r.dtype),c.texData.get(p.dataId).values=T}else p=Ok(r,a,c);return p}const I6={kernelName:wl,backendName:"webgl",kernelFunc:ju},aV=1e3;
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Nk({a:n,b:t,transposeA:e,transposeB:i,backend:r,bias:a=null,preluActivationWeights:c=null,leakyreluAlpha:u=0,activation:f=null}){const p=n.shape.length,g=t.shape.length,v=e?n.shape[p-2]:n.shape[p-1],T=i?t.shape[g-1]:t.shape[g-2],U=e?n.shape[p-1]:n.shape[p-2],q=i?t.shape[g-2]:t.shape[g-1],ae=n.shape.slice(0,-2),te=t.shape.slice(0,-2),ye=Tt(ae),ke=Tt(te),nt=Ts(n.shape.slice(0,-2),t.shape.slice(0,-2)).concat([U,q]);Se(v===T,()=>`Error in matMul: inner shapes (${v}) and (${T}) of Tensors with shapes ${n.shape} and ${t.shape} and transposeA=${e} and transposeB=${i} must match.`);const St=e?[ye,v,U]:[ye,U,v],Xt=i?[ke,q,T]:[ke,T,q],rn=Ji({inputs:{x:n},backend:r,attrs:{shape:St}}),un=Ji({inputs:{x:t},backend:r,attrs:{shape:Xt}}),bn=[rn,un],xn=Math.max(ye,ke),Vn=e?rn.shape[1]:rn.shape[2],Yn=null!=a,ti=null!=c,ni="leakyrelu"===f,ri=null!=f?zx(f,!0):null;let gi;if((1===U||1===q)&&Vn>aV&&!1===(Yn||ti||ni||null!=ri)){let yi=rn,Pi=un;e&&(yi=ju({inputs:{x:rn},backend:r,attrs:{perm:[0,2,1]}}),bn.push(yi)),i&&(Pi=ju({inputs:{x:un},backend:r,attrs:{perm:[0,2,1]}}),bn.push(Pi));const Qi=1===q;let Wi=yi;1!==q&&(Wi=Ji({inputs:{x:yi},backend:r,attrs:{shape:[xn,Vn,1]}}),bn.push(Wi));const sr=1===q?2:1;let Zi=Pi;Qi&&(Zi=Ji({inputs:{x:Pi},backend:r,attrs:{shape:[xn,1,Vn]}}),bn.push(Zi));const wr=kP({inputs:{a:Wi,b:Zi},backend:r});gi=Rk({inputs:{x:wr},backend:r,attrs:{axis:sr,keepDims:!0}}),bn.push(wr)}else{const yi=An(n.dtype,t.dtype),Pi=new nV(St,Xt,[xn,U,q],e,i,Yn,ri,ti,ni),Bi=[rn,un];if(null!=a&&Bi.push(a),ti&&Bi.push(c),ni){const Qi=r.makeTensorInfo([],"float32",eu(u,"float32"));Bi.push(Qi),bn.push(Qi)}gi=r.runWebGLProgram(Pi,Bi,yi)}const si=Ji({inputs:{x:gi},backend:r,attrs:{shape:nt}});bn.push(gi);for(const yi of bn)r.disposeIntermediateTensorInfo(yi);return si}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const M6={kernelName:Dt,backendName:"webgl",kernelFunc:function A6(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:v}=i;return Nk({a:r,b:a,transposeA:f,transposeB:p,backend:e,bias:c,preluActivationWeights:u,leakyreluAlpha:v,activation:g})}},lV="return abs(x);",R6={kernelName:ei,backendName:"webgl",kernelFunc:function O6(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){const a=e.texData.get(i.dataId),c=WB(a.values);return e.makeTensorInfo(i.shape,i.dtype,c)}let r;return r=Te().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Wm(i.shape,lV):new Af(i.shape,lV),e.runWebGLProgram(r,[i],i.dtype)}},P6=ko({opSnippet:qd+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),F6={kernelName:pi,backendName:"webgl",kernelFunc:P6},$6=ko({opSnippet:qd+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),B6={kernelName:zi,backendName:"webgl",kernelFunc:$6},cV="return a + b;",V6=pu({opSnippet:cV,packedOpSnippet:cV,supportsComplex:!0,cpuKernelImpl:K5}),U6={kernelName:Ci,backendName:"webgl",kernelFunc:V6};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class z6{constructor(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`float v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class j6{constructor(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`vec4 v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const W6={kernelName:Gi,backendName:"webgl",kernelFunc:function Pk(n){const{inputs:t,backend:e}=n,i=t;if(1===i.length)return Dd({inputs:{x:i[0]},backend:e});if(i.length>Te().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const f=Math.floor(i.length/2),p=Pk({inputs:i.slice(0,f),backend:e}),g=Pk({inputs:i.slice(f),backend:e});return Pk({inputs:[p,g],backend:e})}const r=i.map(f=>f.dtype).reduce((f,p)=>An(f,p)),a=i.map(f=>f.shape),u=Te().getBool("WEBGL_PACK")?new j6(i[0].shape,a):new z6(i[0].shape,a);return e.runWebGLProgram(u,i,r)}},G6={kernelName:"All",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=ml(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=ja(p.length,u)),Dc("all",p,u);const[T,U]=Sc(v.shape,p),ae=Ji({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(U)]}}),te=U_(ae,ae.dtype,"all",e);let ye;return ye=Ji(c?{inputs:{x:te},backend:e,attrs:{shape:pl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),ye}},X6={kernelName:"Any",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function K6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=ml(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=ja(p.length,u)),Dc("any",p,u);const[T,U]=Sc(v.shape,p),ae=Ji({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(U)]}}),te=U_(ae,ae.dtype,"any",e);let ye;return ye=Ji(c?{inputs:{x:te},backend:e,attrs:{shape:pl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),ye}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Y6{constructor(t,e,i){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:c}=t;i||this.variableNames.push("bestIndicesA"),this.outputShape=[a,c],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${"max"===e?">":"<"} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class q6{constructor(t,e,i,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Se(t.length>2,()=>`Packed arg${i.charAt(0).toUpperCase()+i.slice(1)} supports only inputs with rank above 2.`);const c=Math.ceil(t[t.length-1]/e);this.outputShape=t.slice(0,-1),c>1&&this.outputShape.push(c),r||this.variableNames.push("bestIndicesA");const u=this.outputShape,f=u.length,p=Aa(f),g=zu("coords",f);let v,T;if(1===c){T=f+1;const un=Aa(T);v=`\n        ${un} sourceLocR = ${un}(${g.join()}, 0);\n        ++${g[f-1]};\n        ${un} sourceLocG = ${un}(${g.join()}, 0);\n        ++${g[f-2]};\n        ${un} sourceLocA = ${un}(${g.join()}, 0);\n        --${g[f-1]};\n        ${un} sourceLocB = ${un}(${g.join()}, 0);\n        --${g[f-2]};`}else T=f,v=`\n        ${p} sourceLocR = coords;\n        ++${g[f-1]};\n        ${p} sourceLocG = coords;\n        ++${g[f-2]};\n        ${p} sourceLocA = coords;\n        --${g[f-1]};\n        ${p} sourceLocB = coords;\n        --${g[f-2]};`;const U=["x","y","z","w","u","v"].slice(0,T),q="."+U[T-1],ae=U.map(un=>"int "+un),te=zu("sourceLocR",T-1).concat("inIdx.r"),ye=zu("sourceLocG",T-1).concat("inIdx.g"),ke=zu("sourceLocB",T-1).concat("inIdx.b"),tt=zu("sourceLocA",T-1).concat("inIdx.a"),nt="max"===i?"greaterThan":"lessThan",St=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${te.join()}),\n                             getBestIndicesAChannel(${ye.join()}),\n                             getBestIndicesAChannel(${ke.join()}),\n                             getBestIndicesAChannel(${tt.join()})));`,Xt=`vec4(\n            getAChannel(${te.join()}),\n            hasNextCol ? getAChannel(${ye.join()}) : 0.,\n            hasNextRow ? getAChannel(${ke.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${tt.join()}) : 0.)`,rn=r?"":`\n      float getBestIndicesAChannel(${ae.join()}) {\n        return getChannel(getBestIndicesA(${U.join()}),\n                                          vec2(${U.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${ae.join()}) {\n        return getChannel(getA(${U.join()}),\n                               vec2(${U.slice(-2).join()}));\n      }\n      ${rn}\n      void main() {\n        ${p} coords = getOutputCoords();\n        bool hasNextCol = ${g[f-1]} < ${u[f-1]-1};\n        bool hasNextRow = ${g[f-2]} < ${u[f-2]-1};\n        ${v}\n        ivec4 srcIdx = ivec4(sourceLocR${q}, sourceLocG${q},\n          sourceLocB${q}, sourceLocA${q}) * ${e};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${Xt};\n\n        for (int i = 0; i < ${e}; i++) {\n          inIdx = srcIdx;\n          ${St}\n          vec4 candidate = ${Xt};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${nt}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function uV(n,t,e,i=null){let r=t.shape[0],a=t.shape[1];null!=i&&(r=i.shape[0],a=i.shape[1]);const c=pa(a),u={windowSize:c,inSize:a,batchSize:r,outSize:Math.ceil(a/c)},f=new Y6(u,e,null==i),p=[t];null!=i&&p.push(i);const g=n.runWebGLProgram(f,p,"int32");if(1===g.shape[1])return g;const v=uV(n,t,e,g);return n.disposeIntermediateTensorInfo(g),v}function dV(n,t,e,i=null){const r=null!=i?i.shape:t.shape,c=pa(r[r.length-1]),u=new q6(r,c,e,null==i),p=n.runWebGLProgram(u,null==i?[t]:[t,i],"int32");if(p.shape.length===t.shape.length){const g=dV(n,t,e,p);return n.disposeIntermediateTensorInfo(p),g}return p}function hV(n,t,e,i){const r=[e];if(Dc("arg"+i.charAt(0).toUpperCase()+i.slice(1),r,t.shape.length),!Te().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const a=[],c=n.texData.get(t.dataId);let f=t;null!==c&&c.isPacked&&(f=n.unpackTensor(t),a.push(f));const[p,g]=Sc(f.shape,r),v=Tt(g),T=Ji({inputs:{x:f},backend:n,attrs:{shape:[-1,v]}});a.push(T);const U=uV(n,T,i);a.push(U);const q=Ji({inputs:{x:U},backend:n,attrs:{shape:p}});return a.forEach(ae=>n.disposeIntermediateTensorInfo(ae)),q}return dV(n,t,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z6={kernelName:ur,backendName:"webgl",kernelFunc:function Q6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wt(a,r.shape);const u=ml(c,r.shape.length);let f=r;const p=[];null!=u&&(f=ju({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=ja(c.length,f.shape.length)),Dc("argMax",[c[0]],f.shape.length);const g=hV(e,f,c[0],"max");return p.forEach(v=>e.disposeIntermediateTensorInfo(v)),g}},eK={kernelName:or,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wt(a,r.shape);const u=ml(c,r.shape.length);let f=r;const p=[];null!=u&&(f=ju({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=ja(c.length,f.shape.length)),Dc("argMin",[c[0]],f.shape.length);const g=hV(e,f,c[0],"min");return p.forEach(v=>e.disposeIntermediateTensorInfo(v)),g}},nK=ko({opSnippet:qd+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),iK={kernelName:Tr,backendName:"webgl",kernelFunc:nK},sK=ko({opSnippet:qd+"return log(x + sqrt(x * x + 1.0));"}),oK={kernelName:Hr,backendName:"webgl",kernelFunc:sK},lK=ko({opSnippet:qd+"\n  return atan(x);\n"}),cK={kernelName:_s,backendName:"webgl",kernelFunc:lK},hK=pu({opSnippet:TP+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n"}),fK={kernelName:ys,backendName:"webgl",kernelFunc:hK},mK=ko({opSnippet:qd+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),gK={kernelName:Ur,backendName:"webgl",kernelFunc:mK};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class jx{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideHeight,f=t.strideWidth,p=t.dilationHeight,g=t.dilationWidth,v=t.effectiveFilterHeight,T=t.effectiveFilterWidth,U=t.padInfo.top,q=t.padInfo.left;this.outputShape=t.outShape;const ae="avg"===e;let ke="0.0";if(ae||(ke="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec2 strides = ivec2(${u}, ${f});\n        const ivec2 pads = ivec2(${U}, ${q});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${v};\n              wR += ${p}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${T};\n                wC += ${g}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`:`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`:`wR * ${T} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let nt=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(nt="avgValue / max(count, 1.0)");const St=4*Math.floor(c/4),Xt=c%4,rn=`\n      if (${ae}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${u}, ${f});\n      const ivec2 pads = ivec2(${U}, ${q});\n      const float initializationValue = ${ke};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${ke});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${v};\n            wR += ${p}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${St}; wC += 4) {\n            int xC = xCCorner + wC * ${g};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              getValue(batch, xR, xC + 3 * ${g}, d)\n            );\n\n            ${rn}\n          }\n\n          int xC = xCCorner + ${St};\n          if (${1===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${rn}\n          } else if (${2===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${rn}\n          } else if (${3===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              initializationValue\n            );\n\n            ${rn}\n          }\n        }\n        setOutput(${nt});\n      }\n    `}}class IP{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideDepth,f=t.strideHeight,p=t.strideWidth,g=t.dilationDepth,v=t.dilationHeight,T=t.dilationWidth,U=t.effectiveFilterDepth,q=t.effectiveFilterHeight,ae=t.effectiveFilterWidth,te=t.padInfo.front,ye=t.padInfo.top,ke=t.padInfo.left;this.outputShape=t.outShape;const tt="avg"===e;let nt="0.0";if(tt||(nt="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${u}, ${f}, ${p});\n        const ivec3 pads = ivec3(${te}, ${ye}, ${ke});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${U};\n              wD += ${g}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${q};\n                wR += ${v}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${ae};\n                  wC += ${T}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${q} * ${ae} +\n                      wR * ${ae} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let Xt=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(Xt="avgValue / max(count, 1.0)");const rn=4*Math.floor(c/4),un=c%4,bn=`\n      if (${tt}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${u}, ${f}, ${p});\n      const ivec3 pads = ivec3(${te}, ${ye}, ${ke});\n      const float initializationValue = ${nt};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${nt});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${U};\n            wD += ${g}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${q};\n            wR += ${v}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${rn}; wC += 4) {\n              int xC = xCCorner + wC * ${T};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${T}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${T}, ch)\n              );\n\n              ${bn}\n            }\n\n            int xC = xCCorner + ${rn};\n            if (${1===un}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${bn}\n            } else if (${2===un}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${bn}\n            } else if (${3===un}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${T}, ch),\n                initializationValue\n              );\n\n              ${bn}\n            }\n          }\n        }\n        setOutput(${Xt});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const yK={kernelName:Cs,backendName:"webgl",kernelFunc:function _K(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Vx(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Se(Cc(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Qu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Re(g.inShape,g.outShape))return Dd({inputs:{x:r},backend:e});const v=new jx(g,"avg",!1);return e.runWebGLProgram(v,[r],"float32")}},bK={kernelName:Yi,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i,v=oh(r.shape,a,c,[1,1,1],u,f,p),T=new IP(v,"avg",!1);return e.runWebGLProgram(T,[r],"float32")}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class wK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const f=t.effectiveFilterHeight,p=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${f-1-t.padInfo.top}, ${p-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${f};\n            wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${p};\n            wC+= ${t.dilationWidth}) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class EK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const v=t.effectiveFilterDepth,T=t.effectiveFilterHeight,U=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${v-1-t.padInfo.front}, ${T-1-t.padInfo.top}, ${U-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterDepth*t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${v};\n            wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${T};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${U};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const CK={kernelName:ar,backendName:"webgl",kernelFunc:function xK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,T=oh(c.shape,u,f,[1,1,1],p,g),U=new EK(T);return e.runWebGLProgram(U,[r],c.dtype)}},DK={kernelName:ss,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;Vx([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Qu(c.shape,u,f,1,p),v=new wK(g);return e.runWebGLProgram(v,[r],c.dtype)}},kK={kernelName:cr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TK(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;return Nk({a:r,b:a,transposeA:c,transposeB:u,backend:e})}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class IK{constructor(t,e,i,r,a,c){this.outputShape=[],this.variableNames=["x","mean","variance"],Ts(t,e),Ts(t,i);let u="0.0";null!=r&&(Ts(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="1.0";null!=a&&(Ts(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${u};\n        float scale = ${f};\n        float inv = scale * inversesqrt(variance + float(${c}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class AK{constructor(t,e,i,r,a,c){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ts(t,e),Ts(t,i);let u="vec4(0.0)";null!=r&&(Ts(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="vec4(1.0)";null!=a&&(Ts(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        vec4 offset = ${u};\n        vec4 scale = ${f};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${c}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const MK={kernelName:va,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,mean:r,variance:a,offset:c,scale:u}=n;Se(r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Se(null==c||r.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Se(null==u||r.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:f}=e;null==f&&(f=.001);const p=[i,r,a];let g=null;null!=c&&(g=c.shape,p.push(c));let v=null;null!=u&&(v=u.shape,p.push(u));const T=Te().getBool("WEBGL_PACK_NORMALIZATION")?new AK(i.shape,r.shape,a.shape,g,v,f):new IK(i.shape,r.shape,a.shape,g,v,f);return t.runWebGLProgram(T,p,p[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class OK{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const e=Aa(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=function RK(n){if(1===n)return"sourceLoc";if(n<=6)return AP.slice(0,n).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.rank);let r;r=`\n        ${e} sourceLoc;\n        ${e} coords = getOutputCoords();\n        ${t.map((c,u)=>`sourceLoc.${AP[u]} = start[${u}] + coords.${AP[u]};`).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${i}));\n      }\n    `}}const AP=["x","y","z","w","u","v"];class NK{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const e=Aa(this.rank),i=zu("coords",this.rank),r=zu("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,c=`getChannel(getSource(${r.join()}), ${a})`,u=`\n      result.x = ${c};\n      if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${c};\n        --${r[this.rank-1]};\n      }\n    `,f=1===this.rank?"":`\n      --${i[this.rank-1]};\n      if (++${i[this.rank-2]} < ${t[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${c};\n        if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${c};\n        }\n      }\n    `,p=this.rank<=4?`sourceLoc = coords +\n            ${e}(${t.map((g,v)=>`start[${v}]`).join()});`:t.map((g,v)=>`${r[v]} = ${i[v]} + start[${v}];`).join("\n");this.userCode=`\n      void main() {\n        ${e} coords = getOutputCoords();\n        ${e} sourceLoc;\n        ${p}\n        vec4 result = vec4(0.);\n        ${u}\n        ${f}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zb(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i,[u,f]=rg(r,a,c);if(ay(r,u,f),0===Tt(f))return e.makeTensorInfo(f,r.dtype,[]);if(e.shouldExecuteOnCPU([r])||"string"===r.dtype){const v=e.texData.get(r.dataId),T=S8(v.values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,T)}const{isPacked:p}=e.texData.get(r.dataId),g=cy(r.shape,u,f);if(p||!g){const v=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NK(f):new OK(f);return e.runWebGLProgram(v,[r],r.dtype,[u])}return e.uploadToGPU(r.dataId),function PK(n,t,e,i){const r=i.texData.get(n.dataId),a=i.makeTensorInfo(e,n.dtype),c=i.texData.get(a.dataId);Object.assign(c,r),c.refCount=1,c.shape=e,c.dtype=n.dtype;let u=uy(t,$t(n.shape));r.slice&&(u+=r.slice.flatOffset),c.slice={flatOffset:u,origDataId:r.slice&&r.slice.origDataId||n.dataId};const f=i.dataRefCount.get(c.slice.origDataId)||1;return i.dataRefCount.set(c.slice.origDataId,f+1),a}(r,u,f,e)}const FK={kernelName:Tn,backendName:"webgl",kernelFunc:zb},LK={kernelName:ji,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;Se(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((ke,tt)=>ke*tt),f=lp(r.shape,a,u),p=Gg(f.length,a.length),g=Kg(r.shape,a,u),v=Xg(c,a.length),T=sv(g,c,a.length),U=[],q=Ji({inputs:{x:r},backend:e,attrs:{shape:f}}),ae=ju({inputs:{x:q},backend:e,attrs:{perm:p}}),te=Ji({inputs:{x:ae},backend:e,attrs:{shape:g}}),ye=zb({inputs:{x:te},backend:e,attrs:{begin:v,size:T}});return U.push(q),U.push(ae),U.push(te),U.forEach(ke=>e.disposeIntermediateTensorInfo(ke)),ye}},BK={kernelName:ii,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $K(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,u=e.readSync(r.dataId),f=e.readSync(a.dataId),p=jB(u,f,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},jK={kernelName:Ge,backendName:"webgl",kernelFunc:function zK(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS"),c=Te().getNumber("WEBGL_VERSION");if(e.shouldExecuteOnCPU([i,r])||1===c){const f=e.texData.get(i.dataId).values,p=e.texData.get(r.dataId).values,[g,v]=Y5(i.shape,r.shape,f,p,i.dtype),T=e.makeTensorInfo(v,i.dtype);return e.texData.get(T.dataId).values=g,T}let u;return u=a?new Vb("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",i.shape,r.shape,!1):new B_("\n  return float(int(a.r) & int(b.r));\n",i.shape,r.shape),e.runWebGLProgram(u,[i,r],i.dtype)}},HK={kernelName:ne,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WK(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.readSync(i.dataId),c=e.readSync(r.dataId),u=Ts(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},fV=pu({opSnippet:"return float(a != b);",cpuKernelImpl:g8,dtype:"bool"}),GK={kernelName:pr,backendName:"webgl",kernelFunc:fV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Wx(n){const{inputs:t,backend:e}=n,{input:i}=t;return Dd({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.real},backend:e})}const KK={kernelName:Rn,backendName:"webgl",kernelFunc:Wx},qK={kernelName:et,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MP(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return Dd({inputs:{x:r},backend:e});const c=oc(r.shape),u=MP({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),f=Hm({inputs:{real:u,imag:c},backend:e});return c.dispose(),e.disposeIntermediateTensorInfo(u),f}if("complex64"===r.dtype){const c=Wx({inputs:{input:r},backend:e}),u=MP({inputs:{x:c},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(c),u}if(!at(r.dtype,a)){const c=Dd({inputs:{x:r},backend:e});return{dataId:c.dataId,shape:c.shape,dtype:a}}if(e.shouldExecuteOnCPU([r])){const c=e.texData.get(r.dataId).values,[u,f,p]=q5(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}if("int32"===a)return function YK(n,t){const e=new Af(n.shape,"return float(int(x));"),i=t.runWebGLProgram(e,[n],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}(r,e);if("bool"===a){const c=e.makeTensorInfo([],"bool",ut("bool",1)),f=fV({inputs:{a:r,b:c},backend:e});return e.disposeIntermediateTensorInfo(c),f}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${a}`)}},pV="return ceil(x);",QK=ko({opSnippet:pV,packedOpSnippet:pV,cpuKernelImpl:Q5}),ZK={kernelName:He,backendName:"webgl",kernelFunc:QK};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class JK{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class e7{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const n7={kernelName:kt,backendName:"webgl",kernelFunc:function t7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{clipValueMin:a,clipValueMax:c}=i;let u;return u=Te().getBool("WEBGL_PACK_CLIP")?new e7(r.shape):new JK(r.shape),e.runWebGLProgram(u,[r],r.dtype,[[a],[c]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class i7{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function mV(n,t){return{dataId:t.dataId,dtype:t.dtype,shape:n.shape}}const s7={kernelName:Zn,backendName:"webgl",kernelFunc:function r7(n){const{inputs:t,backend:e}=n,{x:i}=t,r=e.texData.get(i.dataId),a=new i7(i.shape),c=[mV(i,r.complexTensorInfos.real),mV(i,r.complexTensorInfos.imag)];return e.runWebGLProgram(a,c,c[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class o7{constructor(t){this.outputShape=[],this.outputShape=Wh(t,1),this.variableNames=t.map((c,u)=>`T${u}`);const e=new Array(t.length-1);e[0]=t[0][1];for(let c=1;c<e.length;c++)e[c]=e[c-1]+t[c][1];const i=[`if (yC < ${e[0]}) setOutput(getT0(yR, yC));`];for(let c=1;c<e.length;c++)i.push(`else if (yC < ${e[c]}) setOutput(getT${c}(yR, yC-${e[c-1]}));`);i.push(`else setOutput(getT${e.length}(yR, yC-${e[e.length-1]}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${i.join("\n        ")}\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class a7{constructor(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Wh(t,e);const i=this.outputShape,r=i.length,a=Aa(r),c=zu("coords",r),u=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map((ae,te)=>`T${te}`);const f=new Array(t.length-1);f[0]=t[0][e];for(let ae=1;ae<f.length;ae++)f[ae]=f[ae-1]+t[ae][e];const p=u[e],g=u.slice(-2),v=u.join();let T=`if (${p} < ${f[0]}) {\n        return getChannel(\n            getT0(${v}), vec2(${g.join()}));\n        }`;for(let ae=1;ae<f.length;ae++){const te=f[ae-1];T+=`\n        if (${p} < ${f[ae]}  && ${p} >= ${f[ae-1]}) {\n          return getChannel(\n            getT${ae}(${Fk(u,p,te)}),\n            vec2(${Fk(g,p,te)}));\n        }`}const q=f[f.length-1];T+=`\n        return getChannel(\n          getT${f.length}(${Fk(u,p,q)}),\n          vec2(${Fk(g,p,q)}));`,this.userCode=`\n      float getValue(${u.map(ae=>"int "+ae)}) {\n        ${T}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${c}), 0., 0., 0.);\n\n        ${c[r-1]} = ${c[r-1]} + 1;\n        if (${c[r-1]} < ${i[r-1]}) {\n          result.g = getValue(${c});\n        }\n\n        ${c[r-2]} = ${c[r-2]} + 1;\n        if (${c[r-2]} < ${i[r-2]}) {\n          result.a = getValue(${c});\n        }\n\n        ${c[r-1]} = ${c[r-1]} - 1;\n        if (${c[r-2]} < ${i[r-2]} &&\n            ${c[r-1]} < ${i[r-1]}) {\n          result.b = getValue(${c});\n        }\n        setOutput(result);\n      }\n    `}}function Fk(n,t,e){const i=n.indexOf(t);return n.map((a,c)=>c===i?`${a} - ${e}`:a).join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Lk(n){const{inputs:t,backend:e}=n,{input:i}=t;return Dd({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.imag},backend:e})}const l7={kernelName:Il,backendName:"webgl",kernelFunc:Lk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Hx(n,t,e){const i=n[0].dtype;if("complex64"===i){const U=n.map(ke=>Wx({inputs:{input:ke},backend:e})),q=n.map(ke=>Lk({inputs:{input:ke},backend:e})),ae=Hx(U,t,e),te=Hx(q,t,e),ye=Hm({inputs:{real:ae,imag:te},backend:e});return U.forEach(ke=>e.disposeIntermediateTensorInfo(ke)),q.forEach(ke=>e.disposeIntermediateTensorInfo(ke)),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),ye}let r=e.shouldExecuteOnCPU(n);if("string"===i&&(r=!0),r){const U=n.map(nt=>{const Xt=[-1,Tt(nt.shape.slice(t))];return Ji({inputs:{x:nt},backend:e,attrs:{shape:Xt}})}),q=U.map(nt=>({vals:e.readSync(nt.dataId),shape:nt.shape})),ae=Wh(U.map(nt=>nt.shape),1),ye=Z5(q,ae,i,1===U[0].shape[0]),ke=Wh(n.map(nt=>nt.shape),t),tt=e.makeTensorInfo(ke,i,ye);return U.forEach(nt=>e.disposeIntermediateTensorInfo(nt)),tt}const a=n.filter(U=>Tt(U.shape)>0),c=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const U=c?new Af(n[0].shape,jm):new Wm(n[0].shape,jm);return e.runWebGLProgram(U,n,i)}const u=Te().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>u){const U=[];for(let ae=0;ae<a.length;ae+=u){const te=a.slice(ae,ae+u);U.push(Hx(te,t,e))}const q=Hx(U,t,e);for(const ae of U)e.disposeIntermediateTensorInfo(ae);return q}if(c){const U=new a7(a.map(q=>q.shape),t);return e.runWebGLProgram(U,a,i)}const{tensors2D:f,outShape:p}=function c7(n,t,e){const i=Wh(n.map(a=>a.shape),t);return{tensors2D:n.map(a=>Ji({inputs:{x:a},attrs:{shape:[-1,Tt(a.shape.slice(t))]},backend:e})),outShape:i}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(a,t,e),g=new o7(f.map(U=>U.shape)),v=e.runWebGLProgram(g,f,i);f.forEach(U=>e.disposeIntermediateTensorInfo(U));const T=Ji({inputs:{x:v},attrs:{shape:p},backend:e});return e.disposeIntermediateTensorInfo(v),T}function gV(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wt(r,t[0].shape)[0];Sw(t.map(p=>p.shape),a);const u=Wh(t.map(p=>p.shape),a);if(0===Tt(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(p=>Tt(p.shape)>0);return 1===f.length?Dd({inputs:{x:f[0]},backend:e}):Hx(f,a,e)}const u7={kernelName:Li,backendName:"webgl",kernelFunc:gV};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class _V{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const c=t.padInfo.top,u=t.padInfo.left,f=t.strideHeight,p=t.strideWidth,g=t.dilationHeight,v=t.dilationWidth,T=t.filterHeight,U=t.filterWidth,q=4*Math.floor(t.inChannels/4),ae=t.inChannels%4,te="channelsLast"===t.dataFormat,ye=te?1:2,ke=te?2:3,tt=te?3:1;let nt="",St="";i&&(nt=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,St="result = activation(result);");const Xt=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${nt}\n\n      const ivec2 strides = ivec2(${f}, ${p});\n      const ivec2 pads = ivec2(${c}, ${u});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${tt}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${ye}], coords[${ke}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${T}; wR++) {\n          int xR = xRCorner + wR * ${g};\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${U}; wC++) {\n            int xC = xCCorner + wC * ${v};\n\n            if (xC < 0 || xC >= ${t.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${q}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${te}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===ae}) {\n\n              if (${te}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${q}) *\n                    getW(wR, wC, ${q}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${q}, xR, xC) *\n                    getW(wR, wC, ${q}, d2);\n              }\n\n            } else if (${2===ae}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${q}, d2),\n                getW(wR, wC, ${q} + 1, d2)\n              );\n\n              if (${te}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${q}),\n                  getX(batch, xR, xC, ${q} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${q}, xR, xC),\n                  getX(batch, ${q} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===ae}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${q}, d2),\n                getW(wR, wC, ${q} + 1, d2),\n                getW(wR, wC, ${q} + 2, d2)\n              );\n\n              if (${te}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${q}),\n                  getX(batch, xR, xC, ${q} + 1),\n                  getX(batch, xR, xC, ${q} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${q}, xR, xC),\n                  getX(batch, ${q} + 1, xR, xC),\n                  getX(batch, ${q} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${Xt}\n        ${St}\n        setOutput(result);\n      }\n    `}}class d7{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const e=t.padInfo.front,i=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,c=t.strideHeight,u=t.strideWidth,f=t.dilationDepth,p=t.dilationHeight,g=t.dilationWidth,v=t.filterDepth,T=t.filterHeight,U=t.filterWidth,q=4*Math.floor(t.inChannels/4),ae=t.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${c}, ${u});\n      const ivec3 pads = ivec3(${e}, ${i}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${v}; wF++) {\n          int xF = xFCorner + wF * ${f};\n\n          if (xF < 0 || xF >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${T}; wR++) {\n            int xR = xRCorner + wR * ${p};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${U}; wC++) {\n              int xC = xCCorner + wC * ${g};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${q}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===ae}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${q}) *\n                  getW(wF, wR, wC, ${q}, d2);\n              } else if (${2===ae}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${q}),\n                  getX(batch, xF, xR, xC, ${q} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${q}, d2),\n                  getW(wF, wR, wC, ${q} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===ae}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${q}),\n                  getX(batch, xF, xR, xC, ${q} + 1),\n                  getX(batch, xF, xR, xC, ${q} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${q}, d2),\n                  getW(wF, wR, wC, ${q} + 1, d2),\n                  getW(wF, wR, wC, ${q} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iu(this.outputShape.length);const c=t.padInfo.left,u=t.strideWidth,f=t.dilationWidth,p=t.filterHeight,g=t.filterWidth,v=g;let T="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let te=0;te<g;te++)T+=`\n           vec4 xTexelC${2*te};\n           int xTexelC${2*te}Ready;\n           vec4 xTexelC${2*te+1};\n           int xTexelC${2*te+1}Ready;\n           vec4 xC${te};`;T+=`\n     for (int r = 0; r < ${p}; r++) {\n      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {\n       `;for(let te=0;te<g;te++)T+=`\n           xTexelC${2*te} = vec4(0.0);\n           xTexelC${2*te}Ready = 0;\n           xTexelC${2*te+1} = vec4(0.0);\n           xTexelC${2*te+1}Ready = 0;\n           xC${te} = vec4(0.0);`;T+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let te=0;te<(v+1)/2;te++){const ye=2*te;if(T+=`\n           xC = xCCorner + ${ye*f};\n           `,1===u){if(ye<g&&(c%2==1?(T+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ye}Ready == 0) {\n                   xTexelC${ye} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${ye}.zw = vec2(0.0);\n                   }\n                   xTexelC${ye}Ready = 1;\n                 }\n               `,T+=1===f&&ye>0?`\n                 xC${ye} = vec4(xTexelC${ye-2}.zw, xTexelC${ye}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${ye} = vec4(previous.zw, xTexelC${ye}.xy);\n                   } else {\n                     xC${ye} = vec4(0.0, 0.0, xTexelC${ye}.xy);\n                   }\n                   `):T+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${ye}Ready == 0) {\n                   xTexelC${ye} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${ye}.zw = vec2(0.0);\n                   }\n                   xTexelC${ye}Ready = 1;\n                 }\n\n                 xC${ye} = xTexelC${ye};\n                 `,ye+1<g)){const ke=c%2==0?ve(f):f;f%2==0&&c%2==1||f%2!=0&&c%2!=1?(T+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${ke};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ye+1}Ready == 0) {\n                     xTexelC${ye+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${ye+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${ye+1}Ready = 1;\n                   }\n                   `,T+=f>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${ye+1} = vec4(previous.zw, xTexelC${ye+1}.xy);\n                     } else {\n                      xC${ye+1} = vec4(0.0, 0.0, xTexelC${ye+1}.xy);\n                     }\n                     `:`\n                     xC${ye+1} = vec4(xTexelC${ye}.zw, xTexelC${ye+1}.xy);\n                     `):T+=1===ke?`\n                     xC${ye+1} = xTexelC${ye};\n                     `:`\n                     xCOffset = xC + ${ke};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ye+1}Ready == 0) {\n                       xTexelC${ye+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${ye+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${ye+1}Ready = 1;\n                     }\n\n                     xC${ye+1} = xTexelC${ye+1};\n                     `}}else ye<g&&(c%2==1?(T+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ye}Ready == 0) {\n                   xTexelC${ye} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${ye}.zw = vec2(0.0);\n                   }\n                   xTexelC${ye}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${ye+1}Ready == 0) {\n                   xTexelC${ye+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${ye+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${ye+1}Ready = 1;\n                 }\n\n                 xC${ye} = vec4(xTexelC${ye}.zw, xTexelC${ye+1}.zw);\n               `,ye+1<g&&(T+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${ye+1} = vec4(xTexelC${ye+1}.xy, final.xy);\n                 `)):(T+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${ye}Ready == 0) {\n                   xTexelC${ye} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${ye}.zw = vec2(0.0);\n                   }\n                   xTexelC${ye}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ye+1}Ready == 0) {\n                   xTexelC${ye+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${ye+1}.zw = vec2(0.);\n                   }\n                   xTexelC${ye+1}Ready = 1;\n                 }\n\n                 xC${ye} = vec4(\n                   xTexelC${ye}.xy, xTexelC${ye+1}.xy);\n               `,ye+1<g&&(T+=`\n                   xC${ye+1} = vec4(xTexelC${ye}.zw, xTexelC${ye+1}.zw);\n                 `)));ye<g&&(T+=`\n             wTexel = getW(r, ${ye}, d1, d2);\n             dotProd += xC${ye}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${t.inChannels}) {\n               dotProd += xC${ye}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,ye+1<g&&(T+=`\n               wTexel = getW(r, ${ye+1}, d1, d2);\n               dotProd += xC${ye+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${t.inChannels}) {\n                 dotProd += xC${ye+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}T+="\n     }\n   ",T+="\n     }\n   ",T+="\n     }\n   ";let U="",q="";i&&(U=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${i}\n         }`:a?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${i}\n         }`:`vec4 activation(vec4 x) {\n           ${i}\n         }`,q="result = activation(result);");const ae=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${U}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${T}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${ae}\n         ${q}\n         setOutput(result);\n       }\n     `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class h7{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Iu(this.outputShape.length);const{dataFormat:i}=e,r=Uu(),a="channelsLast"===i,c=a?1:2,u=a?2:3,f=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let p="";for(let g=0;g<=1;g++)for(let v=0;v<=1;v++)p+=`\n          blockIndex = rc.z + ${v};\n          pos = rc.y + ${g};\n\n          ${f}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${c}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${u}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*g+v}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*g+v}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${p}\n\n        ${r.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $k(n,t){const e=n.length;return e>=3?t?[...n.slice(0,-3),n[e-3]*n[e-2],n[e-1]]:[...n.slice(0,-3),n[e-3],n[e-2]*n[e-1]]:!t&&1===e&&n[0]>1?[n[0],1]:null}function vV({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const f=n.shape,p=i.texData.get(n.dataId),g=e.inChannels,v=f[0]*f[1]*f[2],T=e.outChannels,U="channelsLast"===e.dataFormat;let te;const ye=[];if(null!=a){const nt=$k(a.shape,U);null!=nt&&(a=Ji({inputs:{x:a},backend:i,attrs:{shape:nt}}),ye.push(a))}if(null!=r){const nt=$k(r.shape,U);null!=nt&&(r=Ji({inputs:{x:r},backend:i,attrs:{shape:nt}}),ye.push(r))}if((1!==v&&1!==T||!(g>aV))&&p.isPacked&&U&&null!=p.texture&&f[2]%2!=0&&Re(p.shape.slice(-3),f.slice(-3))){const St={dataId:n.dataId,shape:[1,f[0]*f[1]*(f[2]+1),e.inChannels],dtype:n.dtype},Xt=p.shape;p.shape=p.shape.slice(),p.shape[p.shape.length-2]++,Se(Dk(p.shape,St.shape),()=>`packed reshape ${p.shape} to ${St.shape} isn't free`);const rn=Ji({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}});ye.push(rn);const un=Nk({a:St,b:rn,backend:i,transposeA:!1,transposeB:!1,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c}),bn=i.texData.get(un.dataId);Se(bn.isPacked,()=>"batchMatMul result is expected to be packed"),p.shape=Xt,bn.shape=e.outShape,te=Dd({inputs:{x:un},backend:i}),te.shape=e.outShape,ye.push(un)}else{const nt=e.outHeight*e.outWidth,St=Ji({inputs:{x:n},backend:i,attrs:{shape:U?[e.batchSize,nt,e.inChannels]:[e.batchSize,e.inChannels,nt]}}),Xt=Ji({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}}),rn=Nk({a:U?St:Xt,b:U?Xt:St,transposeA:!U,transposeB:!1,backend:i,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c});te=Ji({inputs:{x:rn},backend:i,attrs:{shape:e.outShape}}),ye.push(St),ye.push(Xt),ye.push(rn)}for(const nt of ye)i.disposeIntermediateTensorInfo(nt);return te}function bV({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const{filterWidth:f,filterHeight:p,inChannels:g,outWidth:v,outHeight:T,dataFormat:U}=e,q="channelsLast"===U,ae=f*p*g,te=T*v,ye=[e.batchSize,ae,te],nt=[];if(null!=a){const si=$k(a.shape,q);null!=si&&(a=Ji({inputs:{x:a},backend:i,attrs:{shape:si}}),nt.push(a))}if(null!=r){const si=$k(r.shape,q);null!=si&&(r=Ji({inputs:{x:r},backend:i,attrs:{shape:si}}),nt.push(r))}const St=Ji({inputs:{x:t},backend:i,attrs:{shape:[1,ae,Tt(t.shape)/ae]}});nt.push(St);const Xt=new h7(ye,e),un=i.runWebGLProgram(Xt,[n],"float32",[n.shape,[e.padInfo.top,e.padInfo.left],[e.strideHeight,e.strideWidth],[e.dilationHeight,e.dilationWidth],[e.inChannels],[e.filterWidth*e.inChannels],[e.outWidth]]),bn=Ji({inputs:{x:un},backend:i,attrs:{shape:ye}});nt.push(un),nt.push(bn);const xn=null!=r,Vn=null!=a,Yn="leakyrelu"===u,ti=u?zx(u,!0):null,ni=new nV(q?bn.shape:St.shape,q?St.shape:bn.shape,q?[e.batchSize,te,e.outChannels]:[e.batchSize,e.outChannels,te],!0,!1,xn,ti,Vn,Yn),ri=q?[bn,St]:[St,bn];if(r&&ri.push(r),Vn&&ri.push(a),Yn){const si=i.makeTensorInfo([],"float32",eu(c,"float32"));ri.push(si),nt.push(si)}const ui=i.runWebGLProgram(ni,ri,"float32"),gi=Ji({inputs:{x:ui},backend:i,attrs:{shape:e.outShape}});nt.push(ui);for(const si of nt)i.disposeIntermediateTensorInfo(si);return gi}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const p7={kernelName:lr,backendName:"webgl",kernelFunc:function f7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i,v=sf(f),T=ro(r.shape,a.shape,c,p,u,g,!1,v);let U;if(1!==T.filterHeight||1!==T.filterWidth||1!==T.dilationHeight||1!==T.dilationWidth||1!==T.strideHeight||1!==T.strideWidth||"SAME"!==T.padInfo.type&&"VALID"!==T.padInfo.type)if(T.strideWidth<=2&&"channelsLast"===v&&Te().getBool("WEBGL_EXP_CONV")){const ae=new yV(T);U=e.runWebGLProgram(ae,[r,a],"float32",[[T.padInfo.top,T.padInfo.left],[T.strideHeight,T.strideWidth],[T.dilationHeight,T.dilationWidth],[T.inHeight,T.inWidth]])}else if(Te().getBool("WEBGL_CONV_IM2COL"))U=bV({x:r,filter:a,convInfo:T,backend:e});else{const ae=new _V(T);U=e.runWebGLProgram(ae,[r,a],"float32")}else U=vV({x:r,filter:a,convInfo:T,backend:e});const q=Ji({inputs:{x:U},backend:e,attrs:{shape:T.outShape}});return e.disposeIntermediateTensorInfo(U),q}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class m7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              ${"channelsLast"===t.dataFormat?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class g7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,c="channelsLast"===t.dataFormat;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c?3:1}];\n\n        ivec2 dyCorner = ivec2(coords[${c?1:2}], coords[${c?2:3}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n\n              if (${c}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class _7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yF = 0; yF < ${t.outDepth}; yF++) {\n            int xF = wF + yF * ${t.strideDepth} - ${t.padInfo.front};\n\n            if (xF < 0 || xF >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${t.outHeight}; yR++) {\n              int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${t.outWidth}; yC++) {\n                int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class y7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterDepth,i=t.filterHeight,r=t.filterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${e-1-t.padInfo.front}, ${i-1-t.padInfo.top}, ${r-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${e}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${t.strideDepth}.0;\n\n          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${e} - 1 - wF;\n\n          for (int wR = 0; wR < ${i}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${i} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const b7={kernelName:kr,backendName:"webgl",kernelFunc:function v7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i,v=sf(f),T=ro(r.shape,g,c,1,u,p,!1,v),U=new m7(T);return e.runWebGLProgram(U,[r,a],"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class w7{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=Iu(this.outputShape.length);const e=t.filterHeight,i=t.filterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int wCPerm = ${i} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const x7={kernelName:Lr,backendName:"webgl",kernelFunc:function E7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i,v=sf(p),T=ro(c,a.shape,u,1,f,g,!1,v);if(Te().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===v){const U=[[T.strideHeight,T.strideWidth]],q=new w7(T);return e.runWebGLProgram(q,[r,a],"float32",U)}{const U=new g7(T);return e.runWebGLProgram(U,[r,a],"float32")}}},S7={kernelName:Zr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function C7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=Vf(r.shape,a.shape,c,f,u),g=new d7(p);return e.runWebGLProgram(g,[r,a],"float32")}},T7={kernelName:ds,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i,p=Vf(r.shape,f,c,1,u),g=new _7(p);return e.runWebGLProgram(g,[r,a],"float32")}},I7={kernelName:Os,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function k7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i,p=Vf(f,a.shape,u,1,c),g=new y7(p);return e.runWebGLProgram(g,[r,a],"float32")}},O7=ko({opSnippet:Ub+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${V_}\n  return result;\n`}),R7={kernelName:Er,backendName:"webgl",kernelFunc:O7},N7=ko({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),P7={kernelName:Jr,backendName:"webgl",kernelFunc:N7};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class F7{constructor(t,e,i,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[c,u,f,p]=t,[g]=e,[v,T]=i;this.outputShape=[g,v,T,p];const U="bilinear"===r?1:0,[q,ae]=[u-1+".0",f-1+".0"],[te,ye,ke]=v>1?[""+(u-1)/(v-1),"(y2-y1) * height_ratio",`y1*${q} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${q}`],[tt,nt,St]=T>1?[""+(f-1)/(T-1),"(x2-x1) * width_ratio",`x1*${ae} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${ae}`];this.userCode=`\n      const float height_ratio = float(${te});\n      const float width_ratio = float(${tt});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${c}) {\n          return;\n        }\n\n        float height_scale = ${ye};\n        float width_scale = ${nt};\n\n        float in_y = ${ke};\n        if( in_y < 0.0 || in_y > ${q} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${St};\n        if( in_x < 0.0 || in_x > ${ae} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${U} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const L7={kernelName:Vr,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,g=new F7(r.shape,a.shape,u,f,p);return e.runWebGLProgram(g,[r,a,c],"float32")}};var Bk=function(n){return n.Prod="*",n.Sum="+",n}(Bk||{});class wV{constructor(t,e,i,r){this.op=t,this.outputShape=e,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,u=i?this.op===Bk.Prod?"1.0":"0.0":`getX(${EV(a,"coords",this.op)})`,f=this.outputShape[this.outputShape.length-1];let p="",g="";i?(p=r?"end != "+(f-1):"end != 0",g=r?"end + 1":"end - 1"):(p=r?`end + pow2 < ${f}`:"end >= pow2",g=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${Aa(a)} coords = getOutputCoords();\n        int end = ${xV(a,"coords",this.op)};\n        float val = ${u};\n        int pow2 = int(pow(2.0, index));\n        if (${p}) {\n          int idx = ${g};\n          ${xV(a,"coords",this.op)} = idx;\n          val ${this.op}= getX(${EV(a,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function EV(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.x, ${t}.y`;if(3===n)return`${t}.x, ${t}.y, ${t}.z`;if(4===n)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}function xV(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.y`;if(3===n)return`${t}.z`;if(4===n)return`${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function CV(n,t,e,i,r,a){const c=t.shape.length,u=ml([i],c);let f=t;null!=u&&(f=ju({inputs:{x:t},backend:e,attrs:{perm:u}}));const p=ja(1,c)[0];if(p!==c-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${i}`);const g=f.shape[p];let v=Dd({inputs:{x:f},backend:e});for(let T=0;T<=Math.ceil(Math.log2(g))-1;T++){const U=new wV(n,f.shape,!1,a),ae=v;v=e.runWebGLProgram(U,[v],v.dtype,[[T]]),e.disposeIntermediateTensorInfo(ae)}if(r){const T=new wV(n,f.shape,r,a),U=v;v=e.runWebGLProgram(T,[v],v.dtype),e.disposeIntermediateTensorInfo(U)}if(null!=u){const U=ju({inputs:{x:v},backend:e,attrs:{perm:cf(u)}});return e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(f),U}return v}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const B7={kernelName:Ss,backendName:"webgl",kernelFunc:function $7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return CV(Bk.Prod,r,e,a,c,u)}},U7={kernelName:Jo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return CV(Bk.Sum,r,e,a,c,u)}},j7={kernelName:Io,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function z7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=jB(f,p,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const f=e.bufferSync(r),p=e.bufferSync(a),g=X5(f,p,c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class W7{constructor(t,e,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=i,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${e};\n      int offset_h = imod(h, ${e});\n      int in_w = w / ${e};\n      int offset_w = imod(w, ${e});\n      int offset_d = (offset_h * ${e} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const G7={kernelName:Ho,backendName:"webgl",kernelFunc:function H7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i,u=r.shape[0],v=("NHWC"===c?r.shape[1]:r.shape[2])*a,T=("NHWC"===c?r.shape[2]:r.shape[3])*a,U=("NHWC"===c?r.shape[3]:r.shape[1])/(a*a),ae=new W7("NHWC"===c?[u,v,T,U]:[u,U,v,T],a,c);return e.runWebGLProgram(ae,[r],r.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iu(this.outputShape.length);const c=t.filterHeight,u=t.filterWidth,f=t.outChannels/t.inChannels;let p="",g="";i&&(p=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,g="result = activation(result);");const v=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${f};\n        int q = d2 - d1 * ${f};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${c}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${u}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${v}\n        ${g}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class DV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iu(this.outputShape.length);const c=t.outChannels/t.inChannels,u=t.padInfo.left,f=t.strideWidth,p=t.dilationWidth,g=t.filterHeight,v=t.filterWidth,T=v;let U="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let ye=0;ye<v;ye++)U+=`\n          vec4 xTexelC${2*ye};\n          int xTexelC${2*ye}Ready;\n          vec4 xTexelC${2*ye+1};\n          int xTexelC${2*ye+1}Ready;\n          vec4 xC${ye};`;U+=`\n    for (int r = 0; r < ${g}; r++) {\n      `;for(let ye=0;ye<v;ye++)U+=`\n          xTexelC${2*ye} = vec4(0.0);\n          xTexelC${2*ye}Ready = 0;\n          xTexelC${2*ye+1} = vec4(0.0);\n          xTexelC${2*ye+1}Ready = 0;\n          xC${ye} = vec4(0.0);`;U+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let ye=0;ye<(T+1)/2;ye++){const ke=2*ye;if(U+=`\n          xC = xCCorner + ${ke*p};\n          `,1===f){if(ke<v&&(u%2==1?(U+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ke}Ready == 0) {\n                  xTexelC${ke} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${ke}.zw = vec2(0.0);\n                  }\n                  xTexelC${ke}Ready = 1;\n                }\n              `,U+=1===p&&ke>0?`\n                xC${ke} = vec4(xTexelC${ke-2}.zw, xTexelC${ke}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${ke} = vec4(previous.zw, xTexelC${ke}.xy);\n                  } else {\n                    xC${ke} = vec4(0.0, 0.0, xTexelC${ke}.xy);\n                  }\n                  `):U+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${ke}Ready == 0) {\n                  xTexelC${ke} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${ke}.zw = vec2(0.0);\n                  }\n                  xTexelC${ke}Ready = 1;\n                }\n\n                xC${ke} = xTexelC${ke};\n                `,ke+1<v)){const tt=u%2==0?ve(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(U+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${tt};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ke+1}Ready == 0) {\n                    xTexelC${ke+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${ke+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${ke+1}Ready = 1;\n                  }\n                  `,U+=p>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${ke+1} = vec4(previous.zw, xTexelC${ke+1}.xy);\n                    } else {\n                     xC${ke+1} = vec4(0.0, 0.0, xTexelC${ke+1}.xy);\n                    }\n                    `:`\n                    xC${ke+1} = vec4(xTexelC${ke}.zw, xTexelC${ke+1}.xy);\n                    `):U+=1===tt?`\n                    xC${ke+1} = xTexelC${ke};\n                    `:`\n                    xCOffset = xC + ${tt};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ke+1}Ready == 0) {\n                      xTexelC${ke+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${ke+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${ke+1}Ready = 1;\n                    }\n\n                    xC${ke+1} = xTexelC${ke+1};\n                    `}}else ke<v&&(u%2==1?(U+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ke}Ready == 0) {\n                  xTexelC${ke} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${ke}.zw = vec2(0.0);\n                  }\n                  xTexelC${ke}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${ke+1}Ready == 0) {\n                  xTexelC${ke+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${ke+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${ke+1}Ready = 1;\n                }\n\n                xC${ke} = vec4(xTexelC${ke}.zw, xTexelC${ke+1}.zw);\n              `,ke+1<v&&(U+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${ke+1} = vec4(xTexelC${ke+1}.xy, final.xy);\n                `)):(U+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${ke}Ready == 0) {\n                  xTexelC${ke} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${ke}.zw = vec2(0.0);\n                  }\n                  xTexelC${ke}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${ke+1}Ready == 0) {\n                  xTexelC${ke+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${ke+1}.zw = vec2(0.);\n                  }\n                  xTexelC${ke+1}Ready = 1;\n                }\n\n                xC${ke} = vec4(\n                  xTexelC${ke}.xy, xTexelC${ke+1}.xy);\n              `,ke+1<v&&(U+=`\n                  xC${ke+1} = vec4(xTexelC${ke}.zw, xTexelC${ke+1}.zw);\n                `)));ke<v&&(U+=`\n            wTexel = getW(r, ${ke}, d1, q);\n            dotProd += xC${ke} * vec4(wTexel.xz, wTexel.xz);\n          `,ke+1<v&&(U+=`\n              wTexel = getW(r, ${ke+1}, d1, q);\n              dotProd += xC${ke+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}U+="\n    }\n  ",U+="\n      }\n    ";let q="",ae="";i&&(q=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,ae="result = activation(result);");const te=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${q}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${c};\n        int q = d2 - d1 * ${c};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${U}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${te}\n        ${ae}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const X7={kernelName:No,backendName:"webgl",kernelFunc:function K7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;let g=f;null==g&&(g=[1,1]),Se(Cc(c,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${g}'`);const v=ro(r.shape,a.shape,c,g,u,p,!0);let T;return T=Te().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels==1?new DV(v):new SV(v),e.runWebGLProgram(T,[r,a],"float32",[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Y7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${t.outChannels/t.inChannels} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class q7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,f=t.outChannels/t.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${f}; dm++) {\n              int d2 = d1 * ${f} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z7={kernelName:Tl,backendName:"webgl",kernelFunc:function Q7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i,v=ro(r.shape,g,c,u,f,p,!0),T=new Y7(v);return e.runWebGLProgram(T,[r,a],"float32")}},e9={kernelName:Ga,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i,v=ro(g,a.shape,c,u,f,p,!0),T=new q7(v);return e.runWebGLProgram(T,[r,a],"float32")}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class t9{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const i9={kernelName:Ka,backendName:"webgl",kernelFunc:function n9(n){const{inputs:t,backend:e}=n,{x:i}=t,r=[...i.shape,...i.shape],a=Tt(i.shape),c=Ji({inputs:{x:i},backend:e,attrs:{shape:[a]}}),u=new t9(a),f=e.runWebGLProgram(u,[c],c.dtype),p=Ji({inputs:{x:f},backend:e,attrs:{shape:r}});return e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class r9{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:e,inWidth:i,padInfo:r,strideHeight:a,strideWidth:c,filterHeight:u,filterWidth:f,dilationHeight:p,dilationWidth:g}=t,{top:v,left:T}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${c});\n      const ivec2 pads = ivec2(${v}, ${T});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${u}; h++) {\n          int hIn = hBeg + h * ${p};\n\n          if (hIn >= 0 && hIn < ${e}) {\n            for (int w = 0; w < ${f}; w++) {\n              int wIn = wBeg + w * ${g};\n\n              if (wIn >= 0 && wIn < ${i}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const o9={kernelName:_a,backendName:"webgl",kernelFunc:function s9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=my(r.shape,a.shape,c,u,"NHWC",f);let g;const v=new r9(p);g=e.runWebGLProgram(v,[r,a],"float32");const T=Ji({inputs:{x:g},backend:e,attrs:{shape:p.outShape}});return e.disposeIntermediateTensorInfo(g),T}},l9={kernelName:ya,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a9(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=Fw(r,a.length);Qg(c.length,f,a);const{path:p,steps:g}=hv(u,f),v=g.length;let T=null,U=c.length;const q=[];for(let ae=0;ae<v;++ae){for(const te of g[ae]){const{permutationIndices:ye,expandDims:ke}=Lw(U,f[te]);let tt;dh(ye)?tt=a[te]:(tt=ju({inputs:{x:a[te]},backend:e,attrs:{perm:ye}}),q.push(tt));const nt=tt.shape.slice();for(let St=0;St<ke.length;++St)nt.splice(ke[St],0,1);Re(tt.shape,nt)||(tt=Ji({inputs:{x:tt},backend:e,attrs:{shape:nt}}),q.push(tt)),null===T?T=tt:(T=kP({inputs:{a:tt,b:T},backend:e}),q.push(T))}ae<v-1&&(p[ae]>=0&&(T=Rk({inputs:{x:T},backend:e,attrs:{axis:p[ae]-(c.length-U),keepDims:!1}}),q.push(T)),U--)}for(const ae of q)ae!==T&&e.disposeIntermediateTensorInfo(ae);return T}},c9=ko({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),u9={kernelName:Ra,backendName:"webgl",kernelFunc:c9},f9={kernelName:fc,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e}=n,{dy:i,y:r}=t,a=Te().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Vb("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",i.shape,r.shape):new B_("return (b >= 0.0) ? a : a * (b + 1.0);",i.shape,r.shape);return e.runWebGLProgram(a,[i,r],i.dtype)}},p9=pu({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:J5}),m9={kernelName:Bl,backendName:"webgl",kernelFunc:p9},_9=ko({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Aw};\n  float a1 = ${lv};\n  float a2 = ${Mw};\n  float a3 = ${qc};\n  float a4 = ${cv};\n  float a5 = ${Yg};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),y9={kernelName:Na,backendName:"webgl",kernelFunc:_9},TV=ko({opSnippet:Ub+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:e8,dtype:"float32"}),b9={kernelName:$r,backendName:"webgl",kernelFunc:TV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OP(n){const{inputs:t,attrs:e,backend:i}=n,{dim:r}=e,{input:a}=t,c=a.shape.length,u=a.shape.slice();let f=r;return r<0&&(Se(-(c+1)<=r,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+r+1),u.splice(f,0,1),Ji({inputs:{x:a},backend:i,attrs:{shape:u}})}const w9={kernelName:Rr,backendName:"webgl",kernelFunc:OP},kV="return exp(x) - 1.0;",E9=ko({opSnippet:kV,packedOpSnippet:kV,cpuKernelImpl:t8}),x9={kernelName:so,backendName:"webgl",kernelFunc:E9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class IV{constructor(t,e,i){this.variableNames=["real","imag"];const r=e[1];this.outputShape=e;const a=i?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,c=i?`${r}.0`:"1.0";let u;if("real"===t)u="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);u="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${u}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${c};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AV(n,t,e){const i=e.texData.get(n.dataId),r=Tt(n.shape),a=n.shape[n.shape.length-1],u=Ji({inputs:{x:n},backend:e,attrs:{shape:[r/a,a]}}),f=u.shape,p=new IV("real",f,t),g=new IV("imag",f,t),v=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:f},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:f}],T=e.runWebGLProgram(p,v,"float32"),U=e.runWebGLProgram(g,v,"float32"),q=Hm({inputs:{real:T,imag:U},backend:e});e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U);const ae=Ji({inputs:{x:q},backend:e,attrs:{shape:n.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(q),ae
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const S9={kernelName:"FFT",backendName:"webgl",kernelFunc:function C9(n){const{inputs:t,backend:e}=n,{input:i}=t;return AV(i,!1,e)}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class D9{constructor(t,e){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Gx(n){const{backend:t,attrs:e}=n,{shape:i,value:r}=e;let{dtype:a}=e;if(a=a||tn(r),"string"===a){const c=Z(a,Tt(i));return c.fill(r),t.makeTensorInfo(i,a,c)}{const c=new D9(i,r);return t.runWebGLProgram(c,[],a,[[r]])}}const T9={kernelName:Ql,backendName:"webgl",kernelFunc:Gx};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class k9{constructor(t){this.variableNames=["Image"],this.outputShape=[];const e=t[2];this.outputShape=t,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${e} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${e}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const I9={kernelName:ta,backendName:"webgl",kernelFunc:({inputs:n,backend:t})=>{const{image:e}=n,i=t,r=new k9(e.shape);return i.runWebGLProgram(r,[e],e.dtype)}},MV="return floor(x);",A9=ko({opSnippet:MV,packedOpSnippet:MV,cpuKernelImpl:n8}),M9={kernelName:Gs,backendName:"webgl",kernelFunc:A9},O9=pu({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),R9={kernelName:oo,backendName:"webgl",kernelFunc:O9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class N9{constructor(t){this.variableNames=["A"];const e=Uu(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${i}.0);\n\n        vec4 values = ${e.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class P9{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const e=Uu(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${i}.0);\n            vec4 values = ${e.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const F9={kernelName:El,backendName:"webgl",kernelFunc:function L9(n){const{inputs:t,backend:e,attrs:i}=n;let{pixels:r}=t;const{numChannels:a}=i,c=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,u=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[f,p]=c?[r.videoWidth,r.videoHeight]:[r.width,r.height],g=[p,f],v=[p,f,a];if(u||c){const ae=Te().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==jb||ae!==RP)&&(RP=ae,jb=document.createElement("canvas").getContext("2d",{willReadFrequently:RP})),jb.canvas.width=f,jb.canvas.height=p,jb.drawImage(r,0,0,f,p),r=jb.canvas}const T=e.makeTensorInfo(g,"int32");e.texData.get(T.dataId).usage=vh.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(T.dataId),r);const U=Te().getBool("WEBGL_PACK")?new P9(v):new N9(v),q=e.runWebGLProgram(U,[T],"int32");return e.disposeData(T.dataId),q
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}};let jb,RP=Te().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const B9={kernelName:Ue,backendName:"webgl",kernelFunc:function $9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:U,leakyreluAlpha:q}=i,ae=sf(g),te=ro(r.shape,a.shape,f,v,p,T,!1,ae);let ye;const ke=[],tt=null!=c,nt=null!=u,St="leakyrelu"===U,Xt=()=>{const un=[r,a],bn=(xn,Vn)=>{if("NCHW"===Vn&&1===xn.shape.length&&1!==xn.shape[0]){const Yn=Ji({inputs:{x:xn},backend:e,attrs:{shape:[xn.shape[0],1,1]}});return ke.push(Yn),Yn}return xn};if(tt&&un.push(bn(c,g)),nt&&un.push(bn(u,g)),St){const xn=e.makeTensorInfo([],"float32",eu(q,"float32"));un.push(xn),ke.push(xn)}return un};if(1!==te.filterHeight||1!==te.filterWidth||1!==te.dilationHeight||1!==te.dilationWidth||1!==te.strideHeight||1!==te.strideWidth||"SAME"!==te.padInfo.type&&"VALID"!==te.padInfo.type)if(te.strideWidth<=2&&"channelsLast"===ae&&Te().getBool("WEBGL_EXP_CONV")){const un=U?zx(U,!0):null,bn=new yV(te,tt,un,nt,St),xn=[[te.padInfo.top,te.padInfo.left],[te.strideHeight,te.strideWidth],[te.dilationHeight,te.dilationWidth],[te.inHeight,te.inWidth]],Vn=Xt();ye=e.runWebGLProgram(bn,Vn,"float32",xn)}else if(Te().getBool("WEBGL_CONV_IM2COL"))ye=bV({x:r,filter:a,convInfo:te,backend:e,bias:c,activation:U,preluActivationWeights:u,leakyreluAlpha:q});else{const un=U?zx(U,!1):null,bn=new _V(te,tt,un,nt,St),xn=Xt();ye=e.runWebGLProgram(bn,xn,"float32")}else ye=vV({x:r,filter:a,convInfo:te,backend:e,bias:c,activation:U,preluActivationWeights:u,leakyreluAlpha:q});const rn=Ji({inputs:{x:ye},backend:e,attrs:{shape:te.outShape}});return ke.push(ye),ke.forEach(un=>e.disposeIntermediateTensorInfo(un)),rn}},U9={kernelName:_t,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dilations:g,dimRoundingMode:v,activation:T,leakyreluAlpha:U}=i,q=[];let ae=g;null==ae&&(ae=[1,1]),Se(Cc(f,ae),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${ae}'`);const te=ro(r.shape,a.shape,f,ae,p,v,!0),ye=Te().getBool("WEBGL_PACK_DEPTHWISECONV")&&te.strideWidth<=2&&te.outChannels/te.inChannels==1,ke=T?zx(T,ye):null,tt=[r,a],nt=null!=c,St=null!=u,Xt="leakyrelu"===T;if(nt&&tt.push(c),St&&tt.push(u),Xt){const xn=e.makeTensorInfo([],"float32",eu(U,"float32"));tt.push(xn),q.push(xn)}let rn;rn=ye?new DV(te,nt,ke,St,Xt):new SV(te,nt,ke,St,Xt);const bn=e.runWebGLProgram(rn,tt,"float32",[[te.padInfo.top,te.padInfo.left],[te.strideHeight,te.strideWidth],[te.dilationHeight,te.dilationWidth],[te.inHeight,te.inWidth]]);return q.forEach(xn=>e.disposeIntermediateTensorInfo(xn)),bn}};class z9{constructor(t,e,i,r){this.sliceDim=t,this.strides=e,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=i;const a=Aa(i.length);let c="\n    int index;";for(let u=0;u<this.sliceDim;u++)c+=`\n          index = round(getIndices(coords[0], ${u}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[u]};\n          flattenIndex += index * ${this.strides[u]};`;this.userCode=`\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${c}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const W9={kernelName:rl,backendName:"webgl",kernelFunc:function j9(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=r.shape,c=a[a.length-1],u=Tt(i.shape),[f,p,g,v]=ov(i,r),T=Ji({inputs:{x:r},backend:e,attrs:{shape:[p,c]}}),U=Ji({inputs:{x:i},backend:e,attrs:{shape:[Tt(i.shape)/g,g]}});if(e.shouldExecuteOnCPU([i,r])||"string"===i.dtype){const ye=e.readSync(r.dataId),ke=e.bufferSync(i),tt=i8(ye,ke,i.dtype,p,c,g,v,i.shape,u);return e.makeTensorInfo(f,i.dtype,tt.values)}const q=new z9(c,v,[p,g],i.shape),ae=e.runWebGLProgram(q,[U,T],U.dtype),te=Ji({inputs:{x:ae},backend:e,attrs:{shape:f}});return e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(ae),te}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class H9{constructor(t,e){this.variableNames=["A","indices"],this.outputShape=e,this.rank=e.length;const i=Aa(this.rank),r=function G9(n,t){const e=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let r=0;r<n.length;r++)i.push(2===r?"index":`${e[r]}`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function OV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i,f=wt(c,r.shape)[0];if(Te().get("DEBUG")){const ke=e.readSync(a.dataId),tt=r.shape[f];for(let nt=0;nt<ke.length;++nt){const St=ke[nt];Se(St<=tt-1&&St>=0,()=>`GatherV2: the index value ${St} is not in [0, ${tt-1}]`)}}const p=Uw(r,a,f,u),g=Tt(a.shape),v=[],T=Ji({inputs:{x:r},backend:e,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),U=Ji({inputs:{x:a},backend:e,attrs:{shape:[p.batchSize,g/p.batchSize]}});v.push(T),v.push(U);const q=[p.batchSize,p.outerSize,g/p.batchSize,p.sliceSize];if(e.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const ke=e.bufferSync(U),tt=e.bufferSync(T),nt=r8(tt,ke,q);return v.forEach(St=>e.disposeIntermediateTensorInfo(St)),e.makeTensorInfo(p.outputShape,nt.dtype,nt.values)}const ae=new H9(T.shape,q),te=e.runWebGLProgram(ae,[T,U],T.dtype);v.push(te);const ye=Ji({inputs:{x:te},backend:e,attrs:{shape:p.outputShape}});return v.forEach(ke=>e.disposeIntermediateTensorInfo(ke)),ye}const K9={kernelName:Po,backendName:"webgl",kernelFunc:OV},X9=pu({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:s8,dtype:"bool"}),Y9={kernelName:bo,backendName:"webgl",kernelFunc:X9},q9=pu({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:o8}),Q9={kernelName:wo,backendName:"webgl",kernelFunc:q9},J9={kernelName:Go,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z9(n){const{inputs:t,backend:e}=n,{input:i}=t;return AV(i,!0,e)}},eX=ko({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),tX={kernelName:ba,backendName:"webgl",kernelFunc:eX},nX=ko({opSnippet:"return float(isinf(x));",dtype:"bool"}),iX={kernelName:Ar,backendName:"webgl",kernelFunc:nX},rX=ko({opSnippet:"return float(isnan(x));",dtype:"bool"}),sX={kernelName:vs,backendName:"webgl",kernelFunc:rX},oX=pu({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:a8,dtype:"bool"}),aX={kernelName:po,backendName:"webgl",kernelFunc:oX},lX=pu({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:l8,dtype:"bool"}),cX={kernelName:Xa,backendName:"webgl",kernelFunc:lX},dX={kernelName:Ya,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uX(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=c8(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},fX=ko({opSnippet:Ub+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:u8}),pX={kernelName:sl,backendName:"webgl",kernelFunc:fX},gX=ko({opSnippet:Ub+"\n  return log(1.0 + x);\n"}),_X={kernelName:Oi,backendName:"webgl",kernelFunc:gX},yX=pu({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),vX={kernelName:Ao,backendName:"webgl",kernelFunc:yX},bX=ko({opSnippet:"return float(!(x >= 1.0));"}),wX={kernelName:mo,backendName:"webgl",kernelFunc:bX},EX=pu({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),xX={kernelName:Fo,backendName:"webgl",kernelFunc:EX};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class CX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[];const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${c}; j <= ${c}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${u}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${f};\n        setOutput(val);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${c};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${c}; j <= ${c}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${u}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${f};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const DX={kernelName:Ko,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i,p=Te().getBool("WEBGL_PACK_NORMALIZATION")?new SX(r.shape,a,c,u,f):new CX(r.shape,a,c,u,f);return e.runWebGLProgram(p,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class TX{constructor(t,e,i,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=i,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${e})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${e} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${i});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const kX={kernelName:ia,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i,v=new TX(r.shape,u,f,p,g);return e.runWebGLProgram(v,[r,a,c],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=ml(p,u),v=null!=g,T=e.shouldExecuteOnCPU([r]);let U=r;if(v){if(T){const tt=e.texData.get(U.dataId).values,nt=new Array(u);for(let rn=0;rn<nt.length;rn++)nt[rn]=r.shape[g[rn]];const St=DP(tt,r.shape,r.dtype,g,nt);U=e.makeTensorInfo(nt,r.dtype),e.texData.get(U.dataId).values=St}else U=Ok(r,g,e);p=ja(p.length,u)}Dc("max",p,u);const[q,ae]=Sc(U.shape,p);let ye,te=q;if(c&&(te=pl(q,f)),T){const tt=e.texData.get(U.dataId).values,nt=d8(tt,Tt(ae),te,r.dtype);ye=e.makeTensorInfo(te,r.dtype),e.texData.get(ye.dataId).values=nt}else ye=function IX(n,t,e,i){const r=Tt(t),u=Ji({inputs:{x:n},attrs:{shape:[Tt(n.shape)/r,r]},backend:i}),f=U_(u,n.dtype,"max",i),p=Ji({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p}(U,ae,te,e);return v&&e.disposeIntermediateTensorInfo(U),ye}const AX={kernelName:wa,backendName:"webgl",kernelFunc:RV},RX=pu({opSnippet:TP+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n",cpuKernelImpl:h8}),NX={kernelName:Lo,backendName:"webgl",kernelFunc:RX},FX={kernelName:La,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Vx(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Se(Cc(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Qu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Re(g.inShape,g.outShape))return Dd({inputs:{x:r},backend:e});const v=new jx(g,"max",!1);return e.runWebGLProgram(v,[r],r.dtype)}},$X={kernelName:vl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dataFormat:f,dimRoundingMode:p}=i,v=oh(r.shape,a,c,[1,1,1],u,p,f),T=new IP(v,"max",!1);return e.runWebGLProgram(T,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class BX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const a=t.effectiveFilterHeight,c=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${a-1-t.padInfo.top}, ${c-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${c}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${a*c-1} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${c} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class VX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const f=t.effectiveFilterDepth,p=t.effectiveFilterHeight,g=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${f-1-t.padInfo.front}, ${p-1-t.padInfo.top}, ${g-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${f};\n           wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${g};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${f*p*g-1} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${p} * ${g} +\n                  wR * ${g} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zX={kernelName:Rs,backendName:"webgl",kernelFunc:function UX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,T=oh(c.shape,u,f,[1,1,1],p,g),U=new IP(T,"max",!0),q=e.runWebGLProgram(U,[c],c.dtype),ae=new VX(T),te=e.runWebGLProgram(ae,[r,q],c.dtype);return e.disposeIntermediateTensorInfo(q),te}},WX={kernelName:ol,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;Vx([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:v}=i,T=Qu(u.shape,f,p,1,g,v),q=new jx(T,"max",!0),ae=e.runWebGLProgram(q,[u],u.dtype),te=new BX(T),ye=e.runWebGLProgram(te,[r,ae],u.dtype);return e.disposeIntermediateTensorInfo(ae),ye}},GX={kernelName:al,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;Se(4===i.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${i.shape.length}.`);const p=[1,1];Se(Cc(a,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${p}'`);const g=Qu(i.shape,r,a,p,c),[v,T]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HX(n,t,e,i){let r=new jx(e,"max",!1);const a=i.runWebGLProgram(r,[n],"float32");return r=new jx(e,"max",!0,!0,t),[a,i.runWebGLProgram(r,[n],"float32")]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(i,u,g,f);return[v,T]}},XX={kernelName:ra,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{keepDims:r,axis:a}=t,c=e,u=i.shape.length,f=wt(a,i.shape);let p=f;const g=ml(p,u),v=null!=g,T=c.shouldExecuteOnCPU([i]),U=[];let q=i;if(v){if(T){const nt=c.texData.get(q.dataId).values,St=new Array(u);for(let un=0;un<St.length;un++)St[un]=i.shape[g[un]];const Xt=DP(nt,i.shape,i.dtype,g,St);q=c.makeTensorInfo(St,i.dtype),c.texData.get(q.dataId).values=Xt}else q=Ok(i,g,c);U.push(q),p=ja(p.length,u)}Dc("sum",p,u);const[ae,te]=Sc(q.shape,p);let ye=ae;r&&(ye=pl(ae,f));const ke=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KX(n,t,e,i){const r=Tt(t),u=Ji({inputs:{x:n},attrs:{shape:[Tt(n.shape)/r,r]},backend:i}),f=U_(u,"float32","mean",i),p=Ji({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(q,te,ye,c);for(const tt of U)c.disposeIntermediateTensorInfo(tt);return ke}},qX={kernelName:es,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=ml(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=ja(p.length,r.shape.length)),Dc("min",p,u);const[T,U]=Sc(v.shape,p),ae=Ji({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(U)]}}),te=U_(ae,ae.dtype,"min",e);let ye;return ye=Ji(c?{inputs:{x:te},backend:e,attrs:{shape:pl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),ye}},JX=pu({opSnippet:TP+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n",cpuKernelImpl:f8}),eY={kernelName:qa,backendName:"webgl",kernelFunc:JX};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class tY{constructor(t,e,i){this.variableNames=["x"],this.outputShape=e.map((g,v)=>g[0]+t[v]+g[1]);const r=t.length,a=Aa(r),c=e.map(g=>g[0]).join(","),u=e.map((g,v)=>g[0]+t[v]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),p="reflect"===i?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${p};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${p};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${f}));\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${p};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${p};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nY{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((q,ae)=>q[0]+t[ae]+q[1]);const r=t.length,a=Aa(r),c=e.map(q=>q[0]).join(","),u=e.map((q,ae)=>q[0]+t[ae]).join(","),f=zu("rc",r),p=zu("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,v=1===r?"source":`vec2(${p.slice(-2).join()})`,T="reflect"===i?0:1;let U="";if(1===r){const q=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${T};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${T};\n        }\n        source -= start;\n      `;U=`\n        ${a} rc = outputLoc;\n        ${q}\n        result[0] = getChannel(getX(${p.join()}), ${v});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${q}\n          result[1] = getChannel(getX(${p.join()}), ${v});\n        }\n      `}else{const q=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${T}) +\n                gte * ((end - 1) * 2 - source + ${T});\n        source -= start;\n      `;U=`\n        ${a} rc = outputLoc;\n        ${q}\n        result[0] = getChannel(getX(${p.join()}), ${v});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${q}\n          result[1] = getChannel(getX(${p.join()}), ${v});\n        }\n        rc = outputLoc;\n        ${f[r-2]} += 1;\n        if(${f[r-2]} < ${this.outputShape[r-2]}) {\n          ${q}\n          result[2] = getChannel(getX(${p.join()}), ${v});\n          ${f[r-1]} += 1;\n          if(${g}) {\n            ${q}\n            result[3] = getChannel(getX(${p.join()}), ${v});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${U}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iY={kernelName:ao,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i}=n,{paddings:r,mode:a}=e,c=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nY(i.shape,r,a):new tY(i.shape,r,a);return t.runWebGLProgram(c,[i],i.dtype)}},oY=pu({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+V_+"\n  return result;\n"}),aY={kernelName:Ea,backendName:"webgl",kernelFunc:oY};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class lY{constructor(t,e,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,i],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${e-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${e-1}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const NV=pu({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),cY={kernelName:Oa,backendName:"webgl",kernelFunc:NV},PV="return a - b;",FV=pu({opSnippet:PV,packedOpSnippet:PV,supportsComplex:!0,cpuKernelImpl:N8}),uY={kernelName:Ac,backendName:"webgl",kernelFunc:FV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LV(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=wt([a],r.shape),u=RV({inputs:{x:r},backend:e,attrs:{reductionIndices:c,keepDims:!1}}),f=pl(u.shape,c),p=Ji({inputs:{x:u},backend:e,attrs:{shape:f}}),g=FV({inputs:{a:r,b:p},backend:e}),v=TV({inputs:{x:g},backend:e}),T=Rk({inputs:{x:v},backend:e,attrs:{axis:c,keepDims:!1}}),U=Ji({inputs:{x:T},backend:e,attrs:{shape:f}}),q=NV({inputs:{a:v,b:U},backend:e});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(U),q}const dY={kernelName:os,backendName:"webgl",kernelFunc:LV},fY={kernelName:sa,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hY(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i,f=u?r:LV({inputs:{logits:r},backend:e,attrs:{dim:r.shape.length-1}}),v=new lY(f.shape[0],f.shape[1],a),U=e.runWebGLProgram(v,[f],"int32",[[c]]);return u||e.disposeIntermediateTensorInfo(f),U}},pY=qd+"\n  return -x;\n",_Y={kernelName:ll,backendName:"webgl",kernelFunc:function gY(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])){const a=e.texData.get(i.dataId),[c,u]=m8(a.values,i.shape,i.dtype);return e.makeTensorInfo(u,i.dtype,c)}let r;return r=Te().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Wm(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Af(i.shape,pY),e.runWebGLProgram(r,[i],i.dtype)}},yY=hw,bY={kernelName:ks,backendName:"webgl",kernelFunc:function vY(n){on("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),{selectedIndices:v}=yY(p,g,c,u,f);return e.makeTensorInfo([v.length],"int32",new Int32Array(v))}},wY=fw,xY={kernelName:lo,backendName:"webgl",kernelFunc:function EY(n){on("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i,g=e.readSync(r.dataId),v=e.readSync(a.dataId),{selectedIndices:T,validOutputs:U}=wY(g,v,c,u,f,p);return[e.makeTensorInfo([T.length],"int32",new Int32Array(T)),e.makeTensorInfo([],"int32",new Int32Array([U]))]}},CY=sp,DY={kernelName:$a,backendName:"webgl",kernelFunc:function SY(n){on("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i,g=e.readSync(r.dataId),v=e.readSync(a.dataId),T=c,U=u,q=f,ae=p,{selectedIndices:te,selectedScores:ye}=CY(g,v,T,U,q,ae);return[e.makeTensorInfo([te.length],"int32",new Int32Array(te)),e.makeTensorInfo([ye.length],"float32",new Float32Array(ye))]}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class TY{constructor(t,e,i,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${i}),\n                      float(index == coords.y)));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const kY={kernelName:jt,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i,p=Tt(r.shape),g=new TY(p,c,u,f),v=Ji({inputs:{x:r},backend:e,attrs:{shape:[p]}}),T=e.runWebGLProgram(g,[v],a);e.disposeIntermediateTensorInfo(v);const q=Ji({inputs:{x:T},backend:e,attrs:{shape:[...r.shape,c]}});return e.disposeIntermediateTensorInfo(T),q}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Vk(n){const{inputs:t,backend:e}=n,{x:i}=t;if("complex64"===i.dtype){const r=Wx({inputs:{input:i},backend:e}),a=Vk({inputs:{x:r},backend:e}),c=Lk({inputs:{input:i},backend:e}),u=Vk({inputs:{x:c},backend:e}),f=Hm({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return Gx({attrs:{shape:i.shape,dtype:i.dtype,value:"string"===i.dtype?"":0},backend:e})}const IY={kernelName:Mc,backendName:"webgl",kernelFunc:Vk},AY={kernelName:Vs,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $V(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const r=Wx({inputs:{input:i},backend:e}),a=$V({inputs:{x:r},backend:e}),c=Lk({inputs:{input:i},backend:e}),u=Vk({inputs:{x:c},backend:e}),f=Hm({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return Gx({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:e})}},OY={kernelName:de,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MY(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return OP({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{qt(a,g.shape,"All tensors passed to stack must have matching shapes"),Se(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=gV({inputs:t.map(g=>{const v=OP({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(v),v}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class RY{constructor(t,e,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((p,g)=>p[0]+t[g]+p[1]);const r=t.length,a=Aa(r),c=e.map(p=>p[0]).join(","),u=e.map((p,g)=>p[0]+t[g]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${f}));\n        }\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class NY{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((ae,te)=>ae[0]+t[te]+ae[1]);const r=t.length,a=Aa(r),c=e.map(ae=>ae[0]).join(","),u=e.map((ae,te)=>ae[0]+t[te]).join(","),f=zu("rc",r),p=zu("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,v=1===r?"source":`vec2(${p.slice(-2).join()})`,T=[`${a} rc = outputLoc;`,`${f[r-1]} += 1;\n       if(${g}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${f[r-2]} += 1;\n       if(${f[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${f[r-1]} += 1;\n         if(${g}) {`],U=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let q="";for(let ae=0,te=1===r?2:4;ae<te;ae++)q+=`\n        ${T[ae]}\n        if (${U}) {\n          result[${ae}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${ae}] = getChannel(getX(${p.join()}), ${v});\n        }\n      `;q+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${q}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const BV=n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;if(0===Tt(r.shape))return Gx({backend:e,attrs:{shape:a.map((g,v)=>g[0]+r.shape[v]+g[1]),value:c,dtype:r.dtype}});const u=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NY(r.shape,a,c):new RY(r.shape,a,c);return e.runWebGLProgram(u,[r],r.dtype,[[c]])},PY={kernelName:De,backendName:"webgl",kernelFunc:BV},$Y=pu({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+V_+"\n  return result;\n"}),BY={kernelName:le,backendName:"webgl",kernelFunc:$Y},UY={kernelName:ze,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VY(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=[],p=wt(a,r.shape);let g=p;const v=ml(g,u);let U,T=r;if(null!=v&&(T=ju({inputs:{x:r},backend:e,attrs:{perm:v}}),g=ja(g.length,u),f.push(T)),Dc("prod",g,u),e.shouldExecuteOnCPU([T])){const q=e.texData.get(T.dataId).values,{outVals:ae,outShape:te,outDtype:ye}=_8(T.shape,T.dtype,q,g);U=e.makeTensorInfo(te,ye,ae)}else{const[q,ae]=Sc(T.shape,g),te=Tt(ae),ye=Ji({inputs:{x:T},backend:e,attrs:{shape:[-1,te]}}),tt=U_(ye,ci(r.dtype),"prod",e);U=Ji({inputs:{x:tt},backend:e,attrs:{shape:q}}),f.push(ye),f.push(tt)}if(c){f.push(U);const q=pl(U.shape,p);U=Ji({inputs:{x:U},backend:e,attrs:{shape:q}})}return f.forEach(q=>e.disposeIntermediateTensorInfo(q)),U}},jY={kernelName:Ct,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zY(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,{outputRaggedRank:u}=i,f=r.map(ye=>e.readSync(ye.dataId)),p=r.map(ye=>ye.shape),g=e.readSync(a.dataId),v=e.readSync(c.dataId),[T,U,q]=y8(f,p,g,a.shape,a.dtype,v,c.shape,u),ae=T.map(ye=>e.makeTensorInfo([ye.length],"int32",ye)),te=e.makeTensorInfo(q,a.dtype,U);return ae.concat([te])}},HY={kernelName:wn,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WY(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=v8(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}},KY={kernelName:Pn,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GY(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),v=e.readSync(c.dataId),T=u.map(te=>e.readSync(te.dataId)),U=u.map(te=>te.shape),[q,ae]=b8(p,r.shape,g,a.shape,a.dtype,v,c.shape,T,U,f);return e.makeTensorInfo(q,a.dtype,ae)}},VV=n=>{const{backend:t,attrs:e}=n,{start:i,stop:r,step:a,dtype:c}=e,u=w8(i,r,a,c);return t.makeTensorInfo([u.length],c,u)},XY={kernelName:Di,backendName:"webgl",kernelFunc:VV},YY=ko({opSnippet:"return 1.0 / x;"}),qY={kernelName:mr,backendName:"webgl",kernelFunc:YY},ZY=ko({opSnippet:qd+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),JY={kernelName:zr,backendName:"webgl",kernelFunc:ZY},tq=ko({opSnippet:qd+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),nq={kernelName:Ns,backendName:"webgl",kernelFunc:tq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class iq{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let T;T=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${T};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class rq{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let T;T=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]},\n          ${g[1]/v[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${T};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const oq={kernelName:Dr,backendName:"webgl",kernelFunc:function sq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=Te().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new rq(r.shape,f,p,a,c):new iq(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],"float32")}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class aq{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],v=f[1]/p[1],T=1/g,U=1/v,q=2*Math.ceil(T)+2,ae=2*Math.ceil(U)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${v});\n\n        const float invHeightScale = float(${T});\n        const float invWidthScale = float(${U});\n\n        const int winHeight = int(${q});\n        const int winWidth = int(${ae});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const cq={kernelName:Us,backendName:"webgl",kernelFunc:function lq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new aq(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class uq{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let U;U=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${U};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class dq{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let U;U=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]},\n          ${g[1]/v[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${U};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fq={kernelName:Nr,backendName:"webgl",kernelFunc:function hq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=Te().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new dq(r.shape,f,p,a,c):new uq(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class pq{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],v=f[1]/p[1],T=1/g,U=1/v,q=2*Math.ceil(T)+2,ae=2*Math.ceil(U)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${v});\n\n        const float invHeightScale = float(${T});\n        const float invWidthScale = float(${U});\n\n        const int winHeight = int(${q});\n        const int winWidth = int(${ae});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${f[0]}) *\n                (float(dyR) / float(${p[0]}));\n\n            float sourceFracCol =\n                float(${f[1]}) *\n                  (float(dyC) / float(${p[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${i} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${i} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const gq={kernelName:qs,backendName:"webgl",kernelFunc:function mq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new pq(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class _q{constructor(t,e){this.variableNames=["x"];const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);if(this.outputShape=t,1===i)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${t[0]} - coord - 1));\n        }\n      `);const a=t.map((u,f)=>(u=>-1!==e.indexOf(u)&&1!==t[u]?`${t[u]} - coords[${u}] - 1`:`coords[${u}]`)(f)).join(","),c=Aa(i);this.userCode=`\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yq{constructor(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);this.outputShape=t;const r=zu("rc",i),a=`${r[i-1]} + 1 < ${this.outputShape[i-1]}`,c=`${r[i-2]} + 1 < ${this.outputShape[i-2]}`,u=Aa(i);function T(q){const ae=t.map((ke,tt)=>function U(q,ae){return-1!==e.indexOf(q)&&1!==t[q]?`${t[q]} - ${ae[q]} - 1`:`${ae[q]}`}(tt,q));return`getChannel(getX(${ae.join(",")}), vec2(${ae.slice(-2).join(",")}))`}this.userCode=1===i?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${t[0]} - rc - 1),\n            ${t[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),\n                ${t[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${u} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function f(q){return T(q)}(r.slice())};\n          if(${a}){\n            result.g = ${function p(q){return q[i-1]="("+q[i-1]+" + 1)",T(q)}(r.slice())};\n          }\n          if(${c}) {\n            result.b = ${function g(q){return q[i-2]="("+q[i-2]+" + 1)",T(q)}(r.slice())};\n            if(${a}) {\n              result.a = ${function v(q){return q[i-1]="("+q[i-1]+" + 1)",q[i-2]="("+q[i-2]+" + 1)",T(q)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const bq={kernelName:Ks,backendName:"webgl",kernelFunc:function vq(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i,c=r.shape.length,u=wt(a,r.shape);if(0===c)return Dd({inputs:{x:r},backend:e});const f=Te().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yq(r.shape,u):new _q(r.shape,u);return e.runWebGLProgram(f,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class wq{constructor(t,e){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=t[1],r=t[2];this.outputShape=t;let a="";a="number"==typeof e?`float outputValue = ${e.toFixed(2)};`:`\n        vec3 fill = vec3(${e.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${i}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Eq={kernelName:Ee,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=new wq(i.shape,a),[p,g]=Iw(c,i.shape[1],i.shape[2]),v=[[p,g,Math.sin(r),Math.cos(r)]];return u.runWebGLProgram(f,[i],i.dtype,v)}},xq=ko({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Cq={kernelName:xa,backendName:"webgl",kernelFunc:xq},Sq=ko({opSnippet:"return inversesqrt(x);",cpuKernelImpl:E8}),Dq={kernelName:oa,backendName:"webgl",kernelFunc:Sq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class NP{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;const p=Aa(a.length),g=Aa(c.length);let v="";1===i?v="i":2===i&&(v="i, j");let U="";1===r?U="i":2===r&&(U="i, coords[1]");let ae="";f&&(ae="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${t}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${e}; j++) {\n              int index = round(getIndices(${v}));\n              flattenedIndex += index * ${e>1?"strides[j]":"strides"};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates(${U});\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(${ae}), sum, float(found)));\n        }\n      `}}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Tq{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c;const p=Aa(a.length),g=Aa(c.length);let v="";1===i?v="i":2===i&&(v="i, j");let U="";1===r?U="i":2===r&&(U="i, coords[1]");let ae="";f&&(ae="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${t}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${e}; j+=2) {\n              ivec4 index = round(getIndices(${v}));\n              flattenedIndex += index.xz * ${e>1?"strides[j]":"strides"};\n              if (j + 1 < ${e}) {\n                flattenedIndex += index.yw * ${e>1?"strides[j + 1]":"strides"};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = getUpdates(${U});\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(getDefaultValue(${ae}), sum, found));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Iq={kernelName:P,backendName:"webgl",kernelFunc:function kq(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ip(0,r,c),T=[v/p,p];if(0===v)return e.makeTensorInfo(c,r.dtype);const U=Ji({inputs:{x:r},backend:e,attrs:{shape:[f,u]}}),q=Ji({inputs:{x:a},backend:e,attrs:{shape:[f,p]}}),ae=e.makeTensorInfo([],"float32",new Float32Array([0]));let te;te=Te().getBool("WEBGL_PACK")?new Tq(f,u,U.shape.length,q.shape.length,g,T):new NP(f,u,U.shape.length,q.shape.length,g,T);const ye=e.runWebGLProgram(te,[q,U,ae],q.dtype),ke=Ji({inputs:{x:ye},backend:e,attrs:{shape:c}});return e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),e.disposeIntermediateTensorInfo(ye),e.disposeIntermediateTensorInfo(ae),ke}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Aq{constructor(t,e,i,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,i];const c=`for (int i = 0; i < ${Math.ceil(Math.log2(e+1))}; ++i) { if (left >= right) break;`,u=2===Te().getNumber("WEBGL_VERSION")?"while (left < right) {":c;this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${u}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${"left"===r?"<":"<="} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Oq={kernelName:Kt,backendName:"webgl",kernelFunc:function Mq(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,u=new Aq(r.shape[0],r.shape[1],a.shape[1],c);return e.runWebGLProgram(u,[r,a],"int32",[[r.shape[1]]])}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Rq{constructor(t,e,i){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=e,i>4)throw Error(`Where for rank ${i} is not yet supported`);if(1===i)a="resRC",r="resRC";else{const u=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],p=[];for(let g=0;g<e.length;g++)p.push(`${u[g]}`),g<t&&f.push(`${u[g]}`);r=f.join(),a=p.join()}const c=Aa(i);this.userCode=`\n      void main() {\n        ${c} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Pq={kernelName:ln,backendName:"webgl",kernelFunc:function Nq(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t,c=new Rq(i.shape.length,r.shape,r.shape.length);return e.runWebGLProgram(c,[i,r,a],An(r.dtype,a.dtype))}},Lq=ko({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${pm};\n  float scale = ${av};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),$q={kernelName:en,backendName:"webgl",kernelFunc:Lq},Vq=ko({opSnippet:Ub+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:C8}),Uq={kernelName:zn,backendName:"webgl",kernelFunc:Vq},zq=ko({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),jq={kernelName:qn,backendName:"webgl",kernelFunc:zq},Gq=ko({opSnippet:Ub+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${V_}\n  return result;\n`}),Kq={kernelName:an,backendName:"webgl",kernelFunc:Gq},Xq=ko({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Yq={kernelName:Fn,backendName:"webgl",kernelFunc:Xq},qq=ko({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Qq={kernelName:fi,backendName:"webgl",kernelFunc:qq},Zq={kernelName:tr,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;Se(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((ye,ke)=>ye*ke),f=[[0,0]];f.push(...c);for(let ye=1+a.length;ye<r.shape.length;++ye)f.push([0,0]);const p=[],g=BV({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),v=lp(g.shape,a,u,!1),T=Gg(v.length,a.length,!1),U=Kg(g.shape,a,u,!1),q=Ji({inputs:{x:g},backend:e,attrs:{shape:v}}),ae=ju({inputs:{x:q},backend:e,attrs:{perm:T}}),te=Ji({inputs:{x:ae},backend:e,attrs:{shape:U}});return p.push(g),p.push(q),p.push(ae),p.forEach(ye=>e.disposeIntermediateTensorInfo(ye)),te}},eQ={kernelName:zs,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jq(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.readSync(i.dataId),f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=e.readSync(c.dataId)[0],[v,T,U,q,ae]=D8(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(T,i.dtype,v),e.makeTensorInfo([T[0]],r.dtype,U),e.makeTensorInfo([q.length],"bool",new Uint8Array(q.map(te=>Number(te)))),e.makeTensorInfo([ae.length],i.dtype,new Int32Array(ae))]}},nQ={kernelName:Gr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tQ(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.readSync(r.dataId)),u=e.readSync(i.dataId),f=Array.from(e.readSync(a.dataId)),[p,g,v]=T8(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}},rQ={kernelName:ns,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=HB(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},oQ={kernelName:Jl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=HB(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},lQ={kernelName:Mo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aQ(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:v,outputSize:T}=ip(0,r,u),U=!1;if("string"===a.dtype){const ye=e.bufferSync(r),ke=e.bufferSync(a),tt=zc(e.readSync(c.dataId)[0]),nt=x8(ye,ke,u,T,g,p,f,v,tt,U);return e.makeTensorInfo(u,nt.dtype,nt.values)}const q=new NP(p,f,r.shape.length,a.shape.length,v,[T,1],U),ae=e.runWebGLProgram(q,[a,r,c],a.dtype),te=Ji({inputs:{x:ae},backend:e,attrs:{shape:u}});return e.disposeIntermediateTensorInfo(ae),te}},uQ={kernelName:Br,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wt(c,r.shape)[0],f=dD(r,a,u),g=new Array(r.shape.length).fill(0),v=r.shape.slice();return f.map(T=>{const U=[...v];U[u]=T;const q=zb({inputs:{x:r},backend:e,attrs:{begin:g,size:U}});return g[u]+=T,q})}},UV="return sqrt(x);",dQ=ko({opSnippet:UV,packedOpSnippet:UV,cpuKernelImpl:k8}),hQ={kernelName:Jn,backendName:"webgl",kernelFunc:dQ},pQ={kernelName:Qs,backendName:"webgl",kernelFunc:ko({opSnippet:"return x * x;"})},zV="return (a - b) * (a - b);",mQ=pu({opSnippet:zV,packedOpSnippet:zV}),gQ={kernelName:Yo,backendName:"webgl",kernelFunc:mQ},yQ={kernelName:bl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _Q(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");const c=Hh(e.readSync(r.dataId)),u=I8(c,"string",i);return e.makeTensorInfo(r.shape,"string",u)}},bQ={kernelName:Oc,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vQ({inputs:n,attrs:t,backend:e}){const{x:i}=n,a=new Af(i.shape,qd+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `);return e.runWebGLProgram(a,[i],i.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class wQ{constructor(t,e,i){this.variableNames=["x"],this.outputShape=i;const r=i.length,a=Aa(i.length),c=Aa(i.length);let u="";if(1===r)u="coords * strides + begin";else{let f=0;u=i.map((p,g)=>(f++,1===i.length?`coords * strides[${g}] + begin[${g}]`:`coords[${f-1}] * strides[${g}] + begin[${g}]`)).join(",")}this.userCode=`\n      ${a} begin = ${a}(${t});\n      ${a} strides = ${a}(${e});\n\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const xQ={kernelName:aa,backendName:"webgl",kernelFunc:function EQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:v,shrinkAxisMask:T}=i,{finalShapeSparse:U,finalShape:q,isIdentity:ae,sliceDim0:te,isSimpleSlice:ye,begin:ke,end:tt,strides:nt}=d0(r.shape,a,c,u,f,p,g,v,T);let St;if(ae)St=Ji({inputs:{x:r},backend:e,attrs:{shape:q}});else if(te||ye){Se(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const rn=a0(ke,tt,nt),un=zb({inputs:{x:r},backend:e,attrs:{begin:ke,size:rn}});St=Ji({inputs:{x:un},backend:e,attrs:{shape:q}}),e.disposeIntermediateTensorInfo(un)}else if(e.shouldExecuteOnCPU([r])){const un=e.readSync(r.dataId),bn=is(r.shape,r.dtype,un),xn=A8(U,bn,nt,ke);St=e.makeTensorInfo(q,r.dtype,xn.values)}else{const un=new wQ(ke,nt,U);St=e.runWebGLProgram(un,[r],r.dtype)}const Xt=Ji({inputs:{x:St},backend:e,attrs:{shape:q}});return e.disposeIntermediateTensorInfo(St),Xt}},SQ={kernelName:_r,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CQ(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:v}=t,T=e.readSync(g.dataId),U=e.readSync(v.dataId),[q,ae]=M8(T,U,r,a,c,u,f,p);return[e.makeTensorInfo([q.length],"string",q),e.makeTensorInfo(v.shape,"int32",ae)]}},TQ={kernelName:as,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DQ(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.readSync(a.dataId),f=e.readSync(c.dataId)[0],[p,g,v]=O8(u,f,r),T=g.length;return[e.makeTensorInfo([T,2],"int32",p),e.makeTensorInfo([T],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(v))]}},IQ={kernelName:Ps,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kQ(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const c=e.readSync(a.dataId),u=R8(c,r);return e.makeTensorInfo(a.shape,"int32",u)}},AQ=ko({opSnippet:"return tan(x);"}),MQ={kernelName:gu,backendName:"webgl",kernelFunc:AQ},OQ=ko({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),RQ={kernelName:hs,backendName:"webgl",kernelFunc:OQ},PQ={kernelName:Et,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NQ(n){const{inputs:t,backend:e}=n,{tensor:r,indices:a,updates:c}=t,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ip(0,a,r.shape),T=[v/p,p];if(0===v)return e.makeTensorInfo(r.shape,a.dtype);const U=Ji({inputs:{x:a},backend:e,attrs:{shape:[f,u]}}),q=Ji({inputs:{x:c},backend:e,attrs:{shape:[f,p]}}),ae=Ji({inputs:{x:r},backend:e,attrs:{shape:T}}),te=new NP(f,u,U.shape.length,q.shape.length,g,T,!1,!0),ye=e.runWebGLProgram(te,[q,U,ae],ae.dtype),ke=Ji({inputs:{x:ye},backend:e,attrs:{shape:r.shape}});return e.disposeIntermediateTensorInfo(U),e.disposeIntermediateTensorInfo(q),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(ye),ke}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class FQ{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[c]*e[c];this.outputShape=i,this.rank=i.length;const r=Aa(this.rank),a=function LQ(n){const t=n.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${n[0]})`;const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let r=0;r<n.length;r++)i.push(`imod(${e[r]}, ${n[r]})`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function jV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;if("string"===r.dtype||r.shape.length>5){const f=e.readSync(r.dataId),p="string"===r.dtype?f.map(T=>zc(T)):f,g=is(r.shape,r.dtype,p),v=P8(g,a);return e.makeTensorInfo(v.shape,v.dtype,v.values)}const c=new FQ(r.shape,a);return e.runWebGLProgram(c,[r],r.dtype)}const $Q={kernelName:Ba,backendName:"webgl",kernelFunc:jV};class BQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class VQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function z_(n,t){null!==t&&n.disposeIntermediateTensorInfo(t)}function WV(n){let t=1;for(;t<n;)t*=2;return t}const zQ={kernelName:_u,backendName:"webgl",kernelFunc:function UQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i,u=Te().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),f=Te().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),p=r.shape,g=p[p.length-1];if(e.shouldExecuteOnCPU([r])||g<u||a>f){const xn=e.readSync(r.dataId),[Vn,Yn]=F8(xn,p,r.dtype,a,c);return[e.makeTensorInfo(Vn.shape,Vn.dtype,Vn.values),e.makeTensorInfo(Yn.shape,Yn.dtype,Yn.values)]}if(0===a)return p[p.length-1]=0,[e.makeTensorInfo(p,r.dtype,[]),e.makeTensorInfo(p,"int32",[])];if(1===g)return[r,Gx({attrs:{shape:p,dtype:"int32",value:0},backend:e})];const v=e.texData.get(r.dataId),T=null!==v&&v.isPacked,U=T?e.unpackTensor(r):r,ae=Tt(p)/g,te=Ji({inputs:{x:U},attrs:{shape:[ae,g]},backend:e});T&&z_(e,U);const ye=WV(a),ke=WV(g);let tt=null;const nt=()=>null===tt?[te,te]:[te,tt],St=(xn,Vn,Yn)=>{const ti=nt(),ni=new BQ(Yn),gi=tt;tt=e.runWebGLProgram(ni,ti,"int32",[[g],[null===tt?1:0],[Number.NEGATIVE_INFINITY],[xn],[Vn]]),z_(e,gi)};for(let xn=1;xn<ye;xn*=2){const Vn=2*xn;for(let Yn=xn;Yn>=1;Yn/=2)St(Vn,Yn,[ae,ke])}for(let xn=ke;xn>ye;xn/=2){const Vn=nt(),Yn=new VQ([ae,xn/2]),ri=tt;tt=e.runWebGLProgram(Yn,Vn,"int32",[[g],[null===tt?1:0],[ye]]),z_(e,ri);const ui=ye/2,gi=2*ui;for(let si=ui;si>=1;si/=2)St(gi,si,tt.shape)}let Xt=tt;tt=zb({inputs:{x:tt},backend:e,attrs:{begin:0,size:[ae,a]}}),z_(e,Xt);let rn=OV({inputs:{x:te,indices:tt},backend:e,attrs:{axis:1,batchDims:1}});z_(e,te);const un=p.slice(0,-1);un.push(a),Xt=tt,tt=Ji({inputs:{x:tt},attrs:{shape:un},backend:e}),z_(e,Xt);const bn=rn;return rn=Ji({inputs:{x:rn},attrs:{shape:un},backend:e}),z_(e,bn),[rn,tt]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class jQ{constructor(t,e,i,r,a,c){this.variableNames=["Image","Transforms"],this.outputShape=c;const u="nearest"===i?1:2;let f;switch(r){case"constant":default:f=1;break;case"reflect":f=2;break;case"wrap":f=3;break;case"nearest":f=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${f} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${e}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${e}));\n                float mapY = mapCoord(inY, float(${t}));\n\n                if (${u} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const HQ={kernelName:fs,backendName:"webgl",kernelFunc:function WQ(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=i,[g,v,T,U]=r.shape,[q,ae]=p??[v,T],ye=new jQ(v,T,c,u,f,[g,q,ae,U]);return e.runWebGLProgram(ye,[r,a],"float32")}},KQ={kernelName:Wo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GQ(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;Vx(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const c=i.readSync(a.dataId),{outputValues:u,outputShape:f,indices:p}=L8(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},YQ={kernelName:co,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XQ(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r,u=c.shape.length,f=r.shape[a],p=new Array(u-1);let g=0;for(let ae=0;ae<u;ae++)ae!==a&&(p[g++]=c.shape[ae]);const v=[],T=new Array(u).fill(0),U=c.shape.slice();U[a]=1;const q=new Array(f);for(let ae=0;ae<q.length;ae++){T[a]=ae;const te=zb({inputs:{x:c},backend:e,attrs:{begin:T,size:U}}),ye=Ji({inputs:{x:te},backend:e,attrs:{shape:p}});q[ae]=ye,v.push(te)}return v.forEach(ae=>e.disposeIntermediateTensorInfo(ae)),q}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class qQ{constructor(t,e){this.variableNames=["x","segmentIds"];const i=t.windowSize,r=t.batchSize,a=t.inSize,c=t.numSegments,u=c*Math.ceil(a/i);this.outputShape=[r,u];const g=4*Math.floor(i/4),v=i%4,T="\n        sumValue += dot(values, segFilter);\n    ";let U="";a%i>0&&(U=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let q="";a%i>0&&(q=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${U}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${q}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${c})) * float(${i}));\n        int currentSeg = int(mod(float(outIdx), float(${c})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${T}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${T}\n        } else if (${2===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${T}\n        } else if (${3===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${T}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const JQ=[M6,R6,F6,B6,U6,W6,G6,X6,Z6,eK,iK,oK,cK,fK,gK,yK,bK,CK,DK,kK,MK,LK,BK,jK,HK,qK,ZK,n7,p6,s7,u7,p7,b7,x7,S7,T7,I7,R7,P7,L7,B7,U7,j7,G7,X7,Z7,e9,i9,o9,l9,u9,f9,m9,y9,b9,w9,x9,S9,T9,I9,M9,R9,F9,B9,U9,W9,K9,Y9,Q9,f6,J9,l7,tX,iX,sX,g6,aX,cX,dX,pX,_X,vX,wX,xX,DX,kX,AX,NX,FX,$X,zX,WX,GX,XX,qX,eY,iY,aY,fY,v6,_Y,bY,xY,DY,GK,kY,AY,OY,PY,BY,y6,UY,jY,HY,KY,XY,KK,cY,qY,JY,nq,w6,oq,cq,fq,gq,bq,Eq,Cq,Dq,Iq,Oq,Pq,$q,Uq,jq,Kq,Yq,FK,dY,Qq,Zq,eQ,nQ,rQ,oQ,lQ,uQ,hQ,pQ,gQ,yQ,bQ,xQ,SQ,TQ,IQ,uY,k6,MQ,RQ,PQ,$Q,zQ,HQ,I6,KQ,YQ,{kernelName:la,backendName:"webgl",kernelFunc:function QQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i,u=r.shape.length,f=[];let p=0;const g=ml([p],u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),f.push(v),p=ja(1,u)[0]);const T=e_(v.shape,p,c),U=Tt([v.shape[p]]),q=Ji({inputs:{x:v},backend:e,attrs:{shape:[-1,U]}});f.push(q);const ae=ci(r.dtype),te=(nt,St,Xt,rn,un)=>{const bn=nt.shape[0],xn=nt.shape[1],Vn=vD(xn,un),ti=new qQ({windowSize:Vn,inSize:xn,batchSize:bn,numSegments:un},St),ni=e.compileAndRun(ti,[nt,Xt],rn);if(f.push(ni),ni.shape[1]===un)return ni;const ri=VV({backend:e,attrs:{start:0,stop:un,step:1,dtype:"float32"}}),ui=jV({inputs:{x:ri},backend:e,attrs:{reps:[xn/Vn]}});return f.push(ri),f.push(ui),te(ni,St,ui,rn,un)},ke=Ji({inputs:{x:te(q,"unsortedSegmentSum",a,ae,c)},backend:e,attrs:{shape:T}});let tt=ke;if(null!=g){f.push(ke);const nt=cf(g);tt=ju({inputs:{x:tt},backend:e,attrs:{perm:nt}})}return f.forEach(nt=>e.disposeIntermediateTensorInfo(nt)),tt}},IY];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of JQ)wi(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/** @license See the LICENSE file. */},7092:(dn,Ne,_)=>{"use strict";function L(ue,ce){return function w(ue,ce){ue=ue||[],"string"==typeof(ce=ce||{})&&(ce={type:ce});try{return new Blob(ue,ce)}catch(Y){if("TypeError"!==Y.name)throw Y;for(var we=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),j=0;j<ue.length;j+=1)we.append(ue[j]);return we.getBlob(ce.type)}}([ue],ce)}_.d(Ne,{Ot:()=>L})},3398:(dn,Ne)=>{"use strict";Ne.if=D,Ne.Kp=function C(E){if(E.length%4!=0)throw new Error("Unable to parse base64 string.");var y=E.indexOf("=");if(-1!==y&&y<E.length-2)throw new Error("Unable to parse base64 string.");for(var O,x=E.endsWith("==")?2:E.endsWith("=")?1:0,$=E.length,R=new Uint8Array($/4*3),M=0,L=0;M<$;M+=4,L+=3)O=w(E.charCodeAt(M))<<18|w(E.charCodeAt(M+1))<<12|w(E.charCodeAt(M+2))<<6|w(E.charCodeAt(M+3)),R[L]=O>>16,R[L+1]=O>>8&255,R[L+2]=255&O;return R.subarray(0,R.length-x)},Ne.Cw=function S(E){return D((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(E))};var d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],A=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function w(E){if(E>=A.length)throw new Error("Unable to parse base64 string.");var y=A[E];if(255===y)throw new Error("Unable to parse base64 string.");return y}function D(E){var x,y="",$=E.length;for(x=2;x<$;x+=3)y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4|E[x-1]>>4],y+=d[(15&E[x-1])<<2|E[x]>>6],y+=d[63&E[x]];return x===$+1&&(y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4],y+="=="),x===$&&(y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4|E[x-1]>>4],y+=d[(15&E[x-1])<<2],y+="="),y}},9645:function(dn){dn.exports=function(){"use strict";var _=6e4,d=36e5,A="millisecond",w="second",D="minute",C="hour",S="day",I="week",E="month",y="quarter",x="year",$="date",R="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ce){var Q=["th","st","nd","rd"],Me=Ce%100;return"["+Ce+(Q[(Me-20)%10]||Q[Me]||Q[0])+"]"}},z=function(Ce,Q,Me){var Xe=String(Ce);return!Xe||Xe.length>=Q?Ce:""+Array(Q+1-Xe.length).join(Me)+Ce},F={s:z,z:function(Ce){var Q=-Ce.utcOffset(),Me=Math.abs(Q),Xe=Math.floor(Me/60),yt=Me%60;return(Q<=0?"+":"-")+z(Xe,2,"0")+":"+z(yt,2,"0")},m:function Ce(Q,Me){if(Q.date()<Me.date())return-Ce(Me,Q);var Xe=12*(Me.year()-Q.year())+(Me.month()-Q.month()),yt=Q.clone().add(Xe,E),Je=Me-yt<0,je=Q.clone().add(Xe+(Je?-1:1),E);return+(-(Xe+(Me-yt)/(Je?yt-je:je-yt))||0)},a:function(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)},p:function(Ce){return{M:E,y:x,w:I,d:S,D:$,h:C,m:D,s:w,ms:A,Q:y}[Ce]||String(Ce||"").toLowerCase().replace(/s$/,"")},u:function(Ce){return void 0===Ce}},J="en",ue={};ue[J]=L;var ce="$isDayjsObject",re=function(Ce){return Ce instanceof se||!(!Ce||!Ce[ce])},we=function Ce(Q,Me,Xe){var yt;if(!Q)return J;if("string"==typeof Q){var Je=Q.toLowerCase();ue[Je]&&(yt=Je),Me&&(ue[Je]=Me,yt=Je);var je=Q.split("-");if(!yt&&je.length>1)return Ce(je[0])}else{var X=Q.name;ue[X]=Q,yt=X}return!Xe&&yt&&(J=yt),yt||!Xe&&J},j=function(Ce,Q){if(re(Ce))return Ce.clone();var Me="object"==typeof Q?Q:{};return Me.date=Ce,Me.args=arguments,new se(Me)},Y=F;Y.l=we,Y.i=re,Y.w=function(Ce,Q){return j(Ce,{locale:Q.$L,utc:Q.$u,x:Q.$x,$offset:Q.$offset})};var se=function(){function Ce(Me){this.$L=we(Me.locale,null,!0),this.parse(Me),this.$x=this.$x||Me.x||{},this[ce]=!0}var Q=Ce.prototype;return Q.parse=function(Me){this.$d=function(Xe){var yt=Xe.date,Je=Xe.utc;if(null===yt)return new Date(NaN);if(Y.u(yt))return new Date;if(yt instanceof Date)return new Date(yt);if("string"==typeof yt&&!/Z$/i.test(yt)){var je=yt.match(O);if(je){var X=je[2]-1||0,oe=(je[7]||"0").substring(0,3);return Je?new Date(Date.UTC(je[1],X,je[3]||1,je[4]||0,je[5]||0,je[6]||0,oe)):new Date(je[1],X,je[3]||1,je[4]||0,je[5]||0,je[6]||0,oe)}}return new Date(yt)}(Me),this.init()},Q.init=function(){var Me=this.$d;this.$y=Me.getFullYear(),this.$M=Me.getMonth(),this.$D=Me.getDate(),this.$W=Me.getDay(),this.$H=Me.getHours(),this.$m=Me.getMinutes(),this.$s=Me.getSeconds(),this.$ms=Me.getMilliseconds()},Q.$utils=function(){return Y},Q.isValid=function(){return this.$d.toString()!==R},Q.isSame=function(Me,Xe){var yt=j(Me);return this.startOf(Xe)<=yt&&yt<=this.endOf(Xe)},Q.isAfter=function(Me,Xe){return j(Me)<this.startOf(Xe)},Q.isBefore=function(Me,Xe){return this.endOf(Xe)<j(Me)},Q.$g=function(Me,Xe,yt){return Y.u(Me)?this[Xe]:this.set(yt,Me)},Q.unix=function(){return Math.floor(this.valueOf()/1e3)},Q.valueOf=function(){return this.$d.getTime()},Q.startOf=function(Me,Xe){var yt=this,Je=!!Y.u(Xe)||Xe,je=Y.p(Me),X=function(Se,qt){var Vt=Y.w(yt.$u?Date.UTC(yt.$y,qt,Se):new Date(yt.$y,qt,Se),yt);return Je?Vt:Vt.endOf(S)},oe=function(Se,qt){return Y.w(yt.toDate()[Se].apply(yt.toDate("s"),(Je?[0,0,0,0]:[23,59,59,999]).slice(qt)),yt)},_e=this.$W,ve=this.$M,Pe=this.$D,Ve="set"+(this.$u?"UTC":"");switch(je){case x:return Je?X(1,0):X(31,11);case E:return Je?X(1,ve):X(0,ve+1);case I:var Qe=this.$locale().weekStart||0,Pt=(_e<Qe?_e+7:_e)-Qe;return X(Je?Pe-Pt:Pe+(6-Pt),ve);case S:case $:return oe(Ve+"Hours",0);case C:return oe(Ve+"Minutes",1);case D:return oe(Ve+"Seconds",2);case w:return oe(Ve+"Milliseconds",3);default:return this.clone()}},Q.endOf=function(Me){return this.startOf(Me,!1)},Q.$set=function(Me,Xe){var yt,Je=Y.p(Me),je="set"+(this.$u?"UTC":""),X=(yt={},yt[S]=je+"Date",yt[$]=je+"Date",yt[E]=je+"Month",yt[x]=je+"FullYear",yt[C]=je+"Hours",yt[D]=je+"Minutes",yt[w]=je+"Seconds",yt[A]=je+"Milliseconds",yt)[Je],oe=Je===S?this.$D+(Xe-this.$W):Xe;if(Je===E||Je===x){var _e=this.clone().set($,1);_e.$d[X](oe),_e.init(),this.$d=_e.set($,Math.min(this.$D,_e.daysInMonth())).$d}else X&&this.$d[X](oe);return this.init(),this},Q.set=function(Me,Xe){return this.clone().$set(Me,Xe)},Q.get=function(Me){return this[Y.p(Me)]()},Q.add=function(Me,Xe){var yt,Je=this;Me=Number(Me);var je=Y.p(Xe),X=function(ve){var Pe=j(Je);return Y.w(Pe.date(Pe.date()+Math.round(ve*Me)),Je)};if(je===E)return this.set(E,this.$M+Me);if(je===x)return this.set(x,this.$y+Me);if(je===S)return X(1);if(je===I)return X(7);var oe=(yt={},yt[D]=_,yt[C]=d,yt[w]=1e3,yt)[je]||1,_e=this.$d.getTime()+Me*oe;return Y.w(_e,this)},Q.subtract=function(Me,Xe){return this.add(-1*Me,Xe)},Q.format=function(Me){var Xe=this,yt=this.$locale();if(!this.isValid())return yt.invalidDate||R;var Je=Me||"YYYY-MM-DDTHH:mm:ssZ",je=Y.z(this),X=this.$H,oe=this.$m,_e=this.$M,ve=yt.weekdays,Pe=yt.months,Qe=function(qt,Vt,Tt,Ot){return qt&&(qt[Vt]||qt(Xe,Je))||Tt[Vt].slice(0,Ot)},Pt=function(qt){return Y.s(X%12||12,qt,"0")},Se=yt.meridiem||function(qt,Vt,Tt){var Ot=qt<12?"AM":"PM";return Tt?Ot.toLowerCase():Ot};return Je.replace(M,function(qt,Vt){return Vt||function(Tt){switch(Tt){case"YY":return String(Xe.$y).slice(-2);case"YYYY":return Y.s(Xe.$y,4,"0");case"M":return _e+1;case"MM":return Y.s(_e+1,2,"0");case"MMM":return Qe(yt.monthsShort,_e,Pe,3);case"MMMM":return Qe(Pe,_e);case"D":return Xe.$D;case"DD":return Y.s(Xe.$D,2,"0");case"d":return String(Xe.$W);case"dd":return Qe(yt.weekdaysMin,Xe.$W,ve,2);case"ddd":return Qe(yt.weekdaysShort,Xe.$W,ve,3);case"dddd":return ve[Xe.$W];case"H":return String(X);case"HH":return Y.s(X,2,"0");case"h":return Pt(1);case"hh":return Pt(2);case"a":return Se(X,oe,!0);case"A":return Se(X,oe,!1);case"m":return String(oe);case"mm":return Y.s(oe,2,"0");case"s":return String(Xe.$s);case"ss":return Y.s(Xe.$s,2,"0");case"SSS":return Y.s(Xe.$ms,3,"0");case"Z":return je}return null}(qt)||je.replace(":","")})},Q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Q.diff=function(Me,Xe,yt){var Je,je=this,X=Y.p(Xe),oe=j(Me),_e=(oe.utcOffset()-this.utcOffset())*_,ve=this-oe,Pe=function(){return Y.m(je,oe)};switch(X){case x:Je=Pe()/12;break;case E:Je=Pe();break;case y:Je=Pe()/3;break;case I:Je=(ve-_e)/6048e5;break;case S:Je=(ve-_e)/864e5;break;case C:Je=ve/d;break;case D:Je=ve/_;break;case w:Je=ve/1e3;break;default:Je=ve}return yt?Je:Y.a(Je)},Q.daysInMonth=function(){return this.endOf(E).$D},Q.$locale=function(){return ue[this.$L]},Q.locale=function(Me,Xe){if(!Me)return this.$L;var yt=this.clone(),Je=we(Me,Xe,!0);return Je&&(yt.$L=Je),yt},Q.clone=function(){return Y.w(this.$d,this)},Q.toDate=function(){return new Date(this.valueOf())},Q.toJSON=function(){return this.isValid()?this.toISOString():null},Q.toISOString=function(){return this.$d.toISOString()},Q.toString=function(){return this.$d.toUTCString()},Ce}(),W=se.prototype;return j.prototype=W,[["$ms",A],["$s",w],["$m",D],["$H",C],["$W",S],["$M",E],["$y",x],["$D",$]].forEach(function(Ce){W[Ce[1]]=function(Q){return this.$g(Q,Ce[0],Ce[1])}}),j.extend=function(Ce,Q){return Ce.$i||(Ce(Q,se,j),Ce.$i=!0),j},j.locale=we,j.isDayjs=re,j.unix=function(Ce){return j(1e3*Ce)},j.en=ue[J],j.Ls=ue,j.p={},j}()},5522:function(dn,Ne,_){var d;!function(A,w){var D={};!function(A){"use strict";A.__esModule=!0,A.digestLength=32,A.blockSize=64;var w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function D(O,M,L,z,F){for(var J,ue,ce,re,we,j,Y,se,W,Ce,Q,Me,Xe;F>=64;){for(J=M[0],ue=M[1],ce=M[2],re=M[3],we=M[4],j=M[5],Y=M[6],se=M[7],Ce=0;Ce<16;Ce++)O[Ce]=(255&L[Q=z+4*Ce])<<24|(255&L[Q+1])<<16|(255&L[Q+2])<<8|255&L[Q+3];for(Ce=16;Ce<64;Ce++)O[Ce]=((Me=((W=O[Ce-2])>>>17|W<<15)^(W>>>19|W<<13)^W>>>10)+O[Ce-7]|0)+((Xe=((W=O[Ce-15])>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)+O[Ce-16]|0);for(Ce=0;Ce<64;Ce++)Me=(((we>>>6|we<<26)^(we>>>11|we<<21)^(we>>>25|we<<7))+(we&j^~we&Y)|0)+(se+(w[Ce]+O[Ce]|0)|0)|0,Xe=((J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10))+(J&ue^J&ce^ue&ce)|0,se=Y,Y=j,j=we,we=re+Me|0,re=ce,ce=ue,ue=J,J=Me+Xe|0;M[0]+=J,M[1]+=ue,M[2]+=ce,M[3]+=re,M[4]+=we,M[5]+=j,M[6]+=Y,M[7]+=se,z+=64,F-=64}return z}var C=function(){function O(){this.digestLength=A.digestLength,this.blockSize=A.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return O.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},O.prototype.clean=function(){for(var M=0;M<this.buffer.length;M++)this.buffer[M]=0;for(M=0;M<this.temp.length;M++)this.temp[M]=0;this.reset()},O.prototype.update=function(M,L){if(void 0===L&&(L=M.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var z=0;if(this.bytesHashed+=L,this.bufferLength>0){for(;this.bufferLength<64&&L>0;)this.buffer[this.bufferLength++]=M[z++],L--;64===this.bufferLength&&(D(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(L>=64&&(z=D(this.temp,this.state,M,z,L),L%=64);L>0;)this.buffer[this.bufferLength++]=M[z++],L--;return this},O.prototype.finish=function(M){if(!this.finished){var L=this.bytesHashed,z=this.bufferLength,F=L/536870912|0,J=L<<3,ue=L%64<56?64:128;this.buffer[z]=128;for(var ce=z+1;ce<ue-8;ce++)this.buffer[ce]=0;this.buffer[ue-8]=F>>>24&255,this.buffer[ue-7]=F>>>16&255,this.buffer[ue-6]=F>>>8&255,this.buffer[ue-5]=F>>>0&255,this.buffer[ue-4]=J>>>24&255,this.buffer[ue-3]=J>>>16&255,this.buffer[ue-2]=J>>>8&255,this.buffer[ue-1]=J>>>0&255,D(this.temp,this.state,this.buffer,0,ue),this.finished=!0}for(ce=0;ce<8;ce++)M[4*ce+0]=this.state[ce]>>>24&255,M[4*ce+1]=this.state[ce]>>>16&255,M[4*ce+2]=this.state[ce]>>>8&255,M[4*ce+3]=this.state[ce]>>>0&255;return this},O.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},O.prototype._saveState=function(M){for(var L=0;L<this.state.length;L++)M[L]=this.state[L]},O.prototype._restoreState=function(M,L){for(var z=0;z<this.state.length;z++)this.state[z]=M[z];this.bytesHashed=L,this.finished=!1,this.bufferLength=0},O}();A.Hash=C;var S=function(){function O(M){this.inner=new C,this.outer=new C,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var L=new Uint8Array(this.blockSize);if(M.length>this.blockSize)(new C).update(M).finish(L).clean();else for(var z=0;z<M.length;z++)L[z]=M[z];for(z=0;z<L.length;z++)L[z]^=54;for(this.inner.update(L),z=0;z<L.length;z++)L[z]^=106;for(this.outer.update(L),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),z=0;z<L.length;z++)L[z]=0}return O.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},O.prototype.clean=function(){for(var M=0;M<this.istate.length;M++)this.ostate[M]=this.istate[M]=0;this.inner.clean(),this.outer.clean()},O.prototype.update=function(M){return this.inner.update(M),this},O.prototype.finish=function(M){return this.outer.finished?this.outer.finish(M):(this.inner.finish(M),this.outer.update(M,this.digestLength).finish(M)),this},O.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},O}();function I(O){var M=(new C).update(O),L=M.digest();return M.clean(),L}function E(O,M){var L=new S(O).update(M),z=L.digest();return L.clean(),z}function y(O,M,L,z){var F=z[0];if(0===F)throw new Error("hkdf: cannot expand more");M.reset(),F>1&&M.update(O),L&&M.update(L),M.update(z),M.finish(O),z[0]++}A.HMAC=S,A.hash=I,A.default=I,A.hmac=E;var x=new Uint8Array(A.digestLength);A.hkdf=function $(O,M,L,z){void 0===M&&(M=x),void 0===z&&(z=32);for(var F=new Uint8Array([1]),J=E(M,O),ue=new S(J),ce=new Uint8Array(ue.digestLength),re=ce.length,we=new Uint8Array(z),j=0;j<z;j++)re===ce.length&&(y(ce,ue,L,F),re=0),we[j]=ce[re++];return ue.clean(),ce.fill(0),F.fill(0),we},A.pbkdf2=function R(O,M,L,z){for(var F=new S(O),J=F.digestLength,ue=new Uint8Array(4),ce=new Uint8Array(J),re=new Uint8Array(J),we=new Uint8Array(z),j=0;j*J<z;j++){var Y=j+1;ue[0]=Y>>>24&255,ue[1]=Y>>>16&255,ue[2]=Y>>>8&255,ue[3]=Y>>>0&255,F.reset(),F.update(M),F.update(ue),F.finish(re);for(var se=0;se<J;se++)ce[se]=re[se];for(se=2;se<=L;se++){F.reset(),F.update(re).finish(re);for(var W=0;W<J;W++)ce[W]^=re[W]}for(se=0;se<J&&j*J+se<z;se++)we[j*J+se]=ce[se]}for(j=0;j<J;j++)ce[j]=re[j]=0;for(j=0;j<4;j++)ue[j]=0;return F.clean(),we}}(D);var C=D.default;for(var S in D)C[S]=D[S];"object"==typeof dn.exports?dn.exports=C:void 0!==(d=function(){return C}.call(D,_,D,dn))&&(dn.exports=d)}()},9990:dn=>{dn.exports=_;var Ne=null;try{Ne=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _(se,W,Ce){this.low=0|se,this.high=0|W,this.unsigned=!!Ce}function d(se){return!0===(se&&se.__isLong__)}Object.defineProperty(_.prototype,"__isLong__",{value:!0}),_.isLong=d;var A={},w={};function D(se,W){var Ce,Q,Me;return W?(Me=0<=(se>>>=0)&&se<256)&&(Q=w[se])?Q:(Ce=S(se,(0|se)<0?-1:0,!0),Me&&(w[se]=Ce),Ce):(Me=-128<=(se|=0)&&se<128)&&(Q=A[se])?Q:(Ce=S(se,se<0?-1:0,!1),Me&&(A[se]=Ce),Ce)}function C(se,W){if(isNaN(se))return W?F:z;if(W){if(se<0)return F;if(se>=O)return we}else{if(se<=-M)return j;if(se+1>=M)return re}return se<0?C(-se,W).neg():S(se%R|0,se/R|0,W)}function S(se,W,Ce){return new _(se,W,Ce)}_.fromInt=D,_.fromNumber=C,_.fromBits=S;var I=Math.pow;function E(se,W,Ce){if(0===se.length)throw Error("empty string");if("NaN"===se||"Infinity"===se||"+Infinity"===se||"-Infinity"===se)return z;if("number"==typeof W?(Ce=W,W=!1):W=!!W,(Ce=Ce||10)<2||36<Ce)throw RangeError("radix");var Q;if((Q=se.indexOf("-"))>0)throw Error("interior hyphen");if(0===Q)return E(se.substring(1),W,Ce).neg();for(var Me=C(I(Ce,8)),Xe=z,yt=0;yt<se.length;yt+=8){var Je=Math.min(8,se.length-yt),je=parseInt(se.substring(yt,yt+Je),Ce);if(Je<8){var X=C(I(Ce,Je));Xe=Xe.mul(X).add(C(je))}else Xe=(Xe=Xe.mul(Me)).add(C(je))}return Xe.unsigned=W,Xe}function y(se,W){return"number"==typeof se?C(se,W):"string"==typeof se?E(se,W):S(se.low,se.high,"boolean"==typeof W?W:se.unsigned)}_.fromString=E,_.fromValue=y;var R=4294967296,O=R*R,M=O/2,L=D(1<<24),z=D(0);_.ZERO=z;var F=D(0,!0);_.UZERO=F;var J=D(1);_.ONE=J;var ue=D(1,!0);_.UONE=ue;var ce=D(-1);_.NEG_ONE=ce;var re=S(-1,2147483647,!1);_.MAX_VALUE=re;var we=S(-1,-1,!0);_.MAX_UNSIGNED_VALUE=we;var j=S(0,-2147483648,!1);_.MIN_VALUE=j;var Y=_.prototype;Y.toInt=function(){return this.unsigned?this.low>>>0:this.low},Y.toNumber=function(){return this.unsigned?(this.high>>>0)*R+(this.low>>>0):this.high*R+(this.low>>>0)},Y.toString=function(W){if((W=W||10)<2||36<W)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(j)){var Ce=C(W),Q=this.div(Ce),Me=Q.mul(Ce).sub(this);return Q.toString(W)+Me.toInt().toString(W)}return"-"+this.neg().toString(W)}for(var Xe=C(I(W,6),this.unsigned),yt=this,Je="";;){var je=yt.div(Xe),oe=(yt.sub(je.mul(Xe)).toInt()>>>0).toString(W);if((yt=je).isZero())return oe+Je;for(;oe.length<6;)oe="0"+oe;Je=""+oe+Je}},Y.getHighBits=function(){return this.high},Y.getHighBitsUnsigned=function(){return this.high>>>0},Y.getLowBits=function(){return this.low},Y.getLowBitsUnsigned=function(){return this.low>>>0},Y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var W=0!=this.high?this.high:this.low,Ce=31;Ce>0&&!(W&1<<Ce);Ce--);return 0!=this.high?Ce+33:Ce+1},Y.isZero=function(){return 0===this.high&&0===this.low},Y.eqz=Y.isZero,Y.isNegative=function(){return!this.unsigned&&this.high<0},Y.isPositive=function(){return this.unsigned||this.high>=0},Y.isOdd=function(){return!(1&~this.low)},Y.isEven=function(){return!(1&this.low)},Y.equals=function(W){return d(W)||(W=y(W)),(this.unsigned===W.unsigned||this.high>>>31!=1||W.high>>>31!=1)&&this.high===W.high&&this.low===W.low},Y.eq=Y.equals,Y.notEquals=function(W){return!this.eq(W)},Y.neq=Y.notEquals,Y.ne=Y.notEquals,Y.lessThan=function(W){return this.comp(W)<0},Y.lt=Y.lessThan,Y.lessThanOrEqual=function(W){return this.comp(W)<=0},Y.lte=Y.lessThanOrEqual,Y.le=Y.lessThanOrEqual,Y.greaterThan=function(W){return this.comp(W)>0},Y.gt=Y.greaterThan,Y.greaterThanOrEqual=function(W){return this.comp(W)>=0},Y.gte=Y.greaterThanOrEqual,Y.ge=Y.greaterThanOrEqual,Y.compare=function(W){if(d(W)||(W=y(W)),this.eq(W))return 0;var Ce=this.isNegative(),Q=W.isNegative();return Ce&&!Q?-1:!Ce&&Q?1:this.unsigned?W.high>>>0>this.high>>>0||W.high===this.high&&W.low>>>0>this.low>>>0?-1:1:this.sub(W).isNegative()?-1:1},Y.comp=Y.compare,Y.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add(J)},Y.neg=Y.negate,Y.add=function(W){d(W)||(W=y(W));var oe=0,_e=0,ve=0,Pe=0;return ve+=(Pe+=(65535&this.low)+(65535&W.low))>>>16,_e+=(ve+=(this.low>>>16)+(W.low>>>16))>>>16,oe+=(_e+=(65535&this.high)+(65535&W.high))>>>16,oe+=(this.high>>>16)+(W.high>>>16),S((ve&=65535)<<16|(Pe&=65535),(oe&=65535)<<16|(_e&=65535),this.unsigned)},Y.subtract=function(W){return d(W)||(W=y(W)),this.add(W.neg())},Y.sub=Y.subtract,Y.multiply=function(W){if(this.isZero())return z;if(d(W)||(W=y(W)),Ne)return S(Ne.mul(this.low,this.high,W.low,W.high),Ne.get_high(),this.unsigned);if(W.isZero())return z;if(this.eq(j))return W.isOdd()?j:z;if(W.eq(j))return this.isOdd()?j:z;if(this.isNegative())return W.isNegative()?this.neg().mul(W.neg()):this.neg().mul(W).neg();if(W.isNegative())return this.mul(W.neg()).neg();if(this.lt(L)&&W.lt(L))return C(this.toNumber()*W.toNumber(),this.unsigned);var Me=65535&this.high,Xe=this.low>>>16,yt=65535&this.low,je=65535&W.high,X=W.low>>>16,oe=65535&W.low,_e=0,ve=0,Pe=0,Ve=0;return Pe+=(Ve+=yt*oe)>>>16,ve+=(Pe+=Xe*oe)>>>16,Pe&=65535,ve+=(Pe+=yt*X)>>>16,_e+=(ve+=Me*oe)>>>16,ve&=65535,_e+=(ve+=Xe*X)>>>16,ve&=65535,_e+=(ve+=yt*je)>>>16,_e+=(this.high>>>16)*oe+Me*X+Xe*je+yt*(W.high>>>16),S((Pe&=65535)<<16|(Ve&=65535),(_e&=65535)<<16|(ve&=65535),this.unsigned)},Y.mul=Y.multiply,Y.divide=function(W){if(d(W)||(W=y(W)),W.isZero())throw Error("division by zero");var Q,Me,Xe;if(Ne)return this.unsigned||-2147483648!==this.high||-1!==W.low||-1!==W.high?S((this.unsigned?Ne.div_u:Ne.div_s)(this.low,this.high,W.low,W.high),Ne.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?F:z;if(this.unsigned){if(W.unsigned||(W=W.toUnsigned()),W.gt(this))return F;if(W.gt(this.shru(1)))return ue;Xe=F}else{if(this.eq(j))return W.eq(J)||W.eq(ce)?j:W.eq(j)?J:(Q=this.shr(1).div(W).shl(1)).eq(z)?W.isNegative()?J:ce:(Me=this.sub(W.mul(Q)),Xe=Q.add(Me.div(W)));if(W.eq(j))return this.unsigned?F:z;if(this.isNegative())return W.isNegative()?this.neg().div(W.neg()):this.neg().div(W).neg();if(W.isNegative())return this.div(W.neg()).neg();Xe=z}for(Me=this;Me.gte(W);){Q=Math.max(1,Math.floor(Me.toNumber()/W.toNumber()));for(var Je=Math.ceil(Math.log(Q)/Math.LN2),je=Je<=48?1:I(2,Je-48),X=C(Q),oe=X.mul(W);oe.isNegative()||oe.gt(Me);)oe=(X=C(Q-=je,this.unsigned)).mul(W);X.isZero()&&(X=J),Xe=Xe.add(X),Me=Me.sub(oe)}return Xe},Y.div=Y.divide,Y.modulo=function(W){return d(W)||(W=y(W)),Ne?S((this.unsigned?Ne.rem_u:Ne.rem_s)(this.low,this.high,W.low,W.high),Ne.get_high(),this.unsigned):this.sub(this.div(W).mul(W))},Y.mod=Y.modulo,Y.rem=Y.modulo,Y.not=function(){return S(~this.low,~this.high,this.unsigned)},Y.and=function(W){return d(W)||(W=y(W)),S(this.low&W.low,this.high&W.high,this.unsigned)},Y.or=function(W){return d(W)||(W=y(W)),S(this.low|W.low,this.high|W.high,this.unsigned)},Y.xor=function(W){return d(W)||(W=y(W)),S(this.low^W.low,this.high^W.high,this.unsigned)},Y.shiftLeft=function(W){return d(W)&&(W=W.toInt()),0==(W&=63)?this:W<32?S(this.low<<W,this.high<<W|this.low>>>32-W,this.unsigned):S(0,this.low<<W-32,this.unsigned)},Y.shl=Y.shiftLeft,Y.shiftRight=function(W){return d(W)&&(W=W.toInt()),0==(W&=63)?this:W<32?S(this.low>>>W|this.high<<32-W,this.high>>W,this.unsigned):S(this.high>>W-32,this.high>=0?0:-1,this.unsigned)},Y.shr=Y.shiftRight,Y.shiftRightUnsigned=function(W){if(d(W)&&(W=W.toInt()),0==(W&=63))return this;var Ce=this.high;return W<32?S(this.low>>>W|Ce<<32-W,Ce>>>W,this.unsigned):S(32===W?Ce:Ce>>>W-32,0,this.unsigned)},Y.shru=Y.shiftRightUnsigned,Y.shr_u=Y.shiftRightUnsigned,Y.toSigned=function(){return this.unsigned?S(this.low,this.high,!1):this},Y.toUnsigned=function(){return this.unsigned?this:S(this.low,this.high,!0)},Y.toBytes=function(W){return W?this.toBytesLE():this.toBytesBE()},Y.toBytesLE=function(){var W=this.high,Ce=this.low;return[255&Ce,Ce>>>8&255,Ce>>>16&255,Ce>>>24,255&W,W>>>8&255,W>>>16&255,W>>>24]},Y.toBytesBE=function(){var W=this.high,Ce=this.low;return[W>>>24,W>>>16&255,W>>>8&255,255&W,Ce>>>24,Ce>>>16&255,Ce>>>8&255,255&Ce]},_.fromBytes=function(W,Ce,Q){return Q?_.fromBytesLE(W,Ce):_.fromBytesBE(W,Ce)},_.fromBytesLE=function(W,Ce){return new _(W[0]|W[1]<<8|W[2]<<16|W[3]<<24,W[4]|W[5]<<8|W[6]<<16|W[7]<<24,Ce)},_.fromBytesBE=function(W,Ce){return new _(W[4]<<24|W[5]<<16|W[6]<<8|W[7],W[0]<<24|W[1]<<16|W[2]<<8|W[3],Ce)}},1242:function(dn){
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
typeof self<"u"&&self,dn.exports=function(Ne){var _={};function d(A){if(_[A])return _[A].exports;var w=_[A]={i:A,l:!1,exports:{}};return Ne[A].call(w.exports,w,w.exports,d),w.l=!0,w.exports}return d.m=Ne,d.c=_,d.d=function(A,w,D){d.o(A,w)||Object.defineProperty(A,w,{configurable:!1,enumerable:!0,get:D})},d.n=function(A){var w=A&&A.__esModule?function(){return A.default}:function(){return A};return d.d(w,"a",w),w},d.o=function(A,w){return Object.prototype.hasOwnProperty.call(A,w)},d.p="",d(d.s=109)}([function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(17),w=d(18),D=d(19),C=d(45),S=d(46),I=d(47),E=d(48),y=d(49),x=d(12),$=d(32),R=d(33),O=d(31),M=d(1);_.default={Scope:M.Scope,create:M.create,find:M.find,query:M.query,register:M.register,Container:A.default,Format:w.default,Leaf:D.default,Embed:E.default,Scroll:C.default,Block:I.default,Inline:S.default,Text:y.default,Attributor:{Attribute:x.default,Class:$.default,Style:R.default,Store:O.default}}},function(Ne,_,d){"use strict";var O,A=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var z in L)L.hasOwnProperty(z)&&(M[z]=L[z])},function(M,L){function z(){this.constructor=M}O(M,L),M.prototype=null===L?Object.create(L):(z.prototype=L.prototype,new z)});Object.defineProperty(_,"__esModule",{value:!0});var w=function(O){function M(L){var z=this;return(z=O.call(this,L="[Parchment] "+L)||this).message=L,z.name=z.constructor.name,z}return A(M,O),M}(Error);_.ParchmentError=w;var E,D={},C={},S={},I={};function $(O,M){var L;if(void 0===M&&(M=E.ANY),"string"==typeof O)L=I[O]||D[O];else if(O instanceof Text||O.nodeType===Node.TEXT_NODE)L=I.text;else if("number"==typeof O)O&E.LEVEL&E.BLOCK?L=I.block:O&E.LEVEL&E.INLINE&&(L=I.inline);else if(O instanceof HTMLElement){var z=(O.getAttribute("class")||"").split(/\s+/);for(var F in z)if(L=C[z[F]])break;L=L||S[O.tagName]}return null==L?null:M&E.LEVEL&L.scope&&M&E.TYPE&L.scope?L:null}_.DATA_KEY="__blot",function(O){O[O.TYPE=3]="TYPE",O[O.LEVEL=12]="LEVEL",O[O.ATTRIBUTE=13]="ATTRIBUTE",O[O.BLOT=14]="BLOT",O[O.INLINE=7]="INLINE",O[O.BLOCK=11]="BLOCK",O[O.BLOCK_BLOT=10]="BLOCK_BLOT",O[O.INLINE_BLOT=6]="INLINE_BLOT",O[O.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",O[O.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",O[O.ANY=15]="ANY"}(E=_.Scope||(_.Scope={})),_.create=function y(O,M){var L=$(O);if(null==L)throw new w("Unable to create "+O+" blot");var z=L,F=O instanceof Node||O.nodeType===Node.TEXT_NODE?O:z.create(M);return new z(F,M)},_.find=function x(O,M){return void 0===M&&(M=!1),null==O?null:null!=O[_.DATA_KEY]?O[_.DATA_KEY].blot:M?x(O.parentNode,M):null},_.query=$,_.register=function R(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];if(O.length>1)return O.map(function(F){return R(F)});var L=O[0];if("string"!=typeof L.blotName&&"string"!=typeof L.attrName)throw new w("Invalid definition");if("abstract"===L.blotName)throw new w("Cannot register abstract class");return I[L.blotName||L.attrName]=L,"string"==typeof L.keyName?D[L.keyName]=L:(null!=L.className&&(C[L.className]=L),null!=L.tagName&&(L.tagName=Array.isArray(L.tagName)?L.tagName.map(function(F){return F.toUpperCase()}):L.tagName.toUpperCase(),(Array.isArray(L.tagName)?L.tagName:[L.tagName]).forEach(function(F){(null==S[F]||null==L.className)&&(S[F]=L)}))),L}},function(Ne,_,d){var A=d(51),w=d(11),D=d(3),C=d(20),I=function(E){this.ops=Array.isArray(E)?E:null!=E&&Array.isArray(E.ops)?E.ops:[]};I.prototype.insert=function(E,y){var x={};return 0===E.length?this:(x.insert=E,null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x))},I.prototype.delete=function(E){return E<=0?this:this.push({delete:E})},I.prototype.retain=function(E,y){if(E<=0)return this;var x={retain:E};return null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x)},I.prototype.push=function(E){var y=this.ops.length,x=this.ops[y-1];if(E=D(!0,{},E),"object"==typeof x){if("number"==typeof E.delete&&"number"==typeof x.delete)return this.ops[y-1]={delete:x.delete+E.delete},this;if("number"==typeof x.delete&&null!=E.insert&&"object"!=typeof(x=this.ops[(y-=1)-1]))return this.ops.unshift(E),this;if(w(E.attributes,x.attributes)){if("string"==typeof E.insert&&"string"==typeof x.insert)return this.ops[y-1]={insert:x.insert+E.insert},"object"==typeof E.attributes&&(this.ops[y-1].attributes=E.attributes),this;if("number"==typeof E.retain&&"number"==typeof x.retain)return this.ops[y-1]={retain:x.retain+E.retain},"object"==typeof E.attributes&&(this.ops[y-1].attributes=E.attributes),this}}return y===this.ops.length?this.ops.push(E):this.ops.splice(y,0,E),this},I.prototype.chop=function(){var E=this.ops[this.ops.length-1];return E&&E.retain&&!E.attributes&&this.ops.pop(),this},I.prototype.filter=function(E){return this.ops.filter(E)},I.prototype.forEach=function(E){this.ops.forEach(E)},I.prototype.map=function(E){return this.ops.map(E)},I.prototype.partition=function(E){var y=[],x=[];return this.forEach(function($){(E($)?y:x).push($)}),[y,x]},I.prototype.reduce=function(E,y){return this.ops.reduce(E,y)},I.prototype.changeLength=function(){return this.reduce(function(E,y){return y.insert?E+C.length(y):y.delete?E-y.delete:E},0)},I.prototype.length=function(){return this.reduce(function(E,y){return E+C.length(y)},0)},I.prototype.slice=function(E,y){E=E||0,"number"!=typeof y&&(y=1/0);for(var x=[],$=C.iterator(this.ops),R=0;R<y&&$.hasNext();){var O;R<E?O=$.next(E-R):(O=$.next(y-R),x.push(O)),R+=C.length(O)}return new I(x)},I.prototype.compose=function(E){var y=C.iterator(this.ops),x=C.iterator(E.ops),$=[],R=x.peek();if(null!=R&&"number"==typeof R.retain&&null==R.attributes){for(var O=R.retain;"insert"===y.peekType()&&y.peekLength()<=O;)O-=y.peekLength(),$.push(y.next());R.retain-O>0&&x.next(R.retain-O)}for(var M=new I($);y.hasNext()||x.hasNext();)if("insert"===x.peekType())M.push(x.next());else if("delete"===y.peekType())M.push(y.next());else{var L=Math.min(y.peekLength(),x.peekLength()),z=y.next(L),F=x.next(L);if("number"==typeof F.retain){var J={};"number"==typeof z.retain?J.retain=L:J.insert=z.insert;var ue=C.attributes.compose(z.attributes,F.attributes,"number"==typeof z.retain);if(ue&&(J.attributes=ue),M.push(J),!x.hasNext()&&w(M.ops[M.ops.length-1],J)){var ce=new I(y.rest());return M.concat(ce).chop()}}else"number"==typeof F.delete&&"number"==typeof z.retain&&M.push(F)}return M.chop()},I.prototype.concat=function(E){var y=new I(this.ops.slice());return E.ops.length>0&&(y.push(E.ops[0]),y.ops=y.ops.concat(E.ops.slice(1))),y},I.prototype.diff=function(E,y){if(this.ops===E.ops)return new I;var x=[this,E].map(function(L){return L.map(function(z){if(null!=z.insert)return"string"==typeof z.insert?z.insert:"\0";throw new Error("diff() called "+(L===E?"on":"with")+" non-document")}).join("")}),$=new I,R=A(x[0],x[1],y),O=C.iterator(this.ops),M=C.iterator(E.ops);return R.forEach(function(L){for(var z=L[1].length;z>0;){var F=0;switch(L[0]){case A.INSERT:F=Math.min(M.peekLength(),z),$.push(M.next(F));break;case A.DELETE:F=Math.min(z,O.peekLength()),O.next(F),$.delete(F);break;case A.EQUAL:F=Math.min(O.peekLength(),M.peekLength(),z);var J=O.next(F),ue=M.next(F);w(J.insert,ue.insert)?$.retain(F,C.attributes.diff(J.attributes,ue.attributes)):$.push(ue).delete(F)}z-=F}}),$.chop()},I.prototype.eachLine=function(E,y){y=y||"\n";for(var x=C.iterator(this.ops),$=new I,R=0;x.hasNext();){if("insert"!==x.peekType())return;var O=x.peek(),M=C.length(O)-x.peekLength(),L="string"==typeof O.insert?O.insert.indexOf(y,M)-M:-1;if(L<0)$.push(x.next());else if(L>0)$.push(x.next(L));else{if(!1===E($,x.next(1).attributes||{},R))return;R+=1,$=new I}}$.length()>0&&E($,{},R)},I.prototype.transform=function(E,y){if(y=!!y,"number"==typeof E)return this.transformPosition(E,y);for(var x=C.iterator(this.ops),$=C.iterator(E.ops),R=new I;x.hasNext()||$.hasNext();)if("insert"!==x.peekType()||!y&&"insert"===$.peekType())if("insert"===$.peekType())R.push($.next());else{var O=Math.min(x.peekLength(),$.peekLength()),M=x.next(O),L=$.next(O);if(M.delete)continue;L.delete?R.push(L):R.retain(O,C.attributes.transform(M.attributes,L.attributes,y))}else R.retain(C.length(x.next()));return R.chop()},I.prototype.transformPosition=function(E,y){y=!!y;for(var x=C.iterator(this.ops),$=0;x.hasNext()&&$<=E;){var R=x.peekLength(),O=x.peekType();x.next(),"delete"!==O?("insert"===O&&($<E||!y)&&(E+=R),$+=R):E-=Math.min(R,E-$)}return E},Ne.exports=I},function(Ne,_){"use strict";var d=Object.prototype.hasOwnProperty,A=Object.prototype.toString,w=Object.defineProperty,D=Object.getOwnPropertyDescriptor,C=function(x){return"function"==typeof Array.isArray?Array.isArray(x):"[object Array]"===A.call(x)},S=function(x){if(!x||"[object Object]"!==A.call(x))return!1;var O,$=d.call(x,"constructor"),R=x.constructor&&x.constructor.prototype&&d.call(x.constructor.prototype,"isPrototypeOf");if(x.constructor&&!$&&!R)return!1;for(O in x);return typeof O>"u"||d.call(x,O)},I=function(x,$){w&&"__proto__"===$.name?w(x,$.name,{enumerable:!0,configurable:!0,value:$.newValue,writable:!0}):x[$.name]=$.newValue},E=function(x,$){if("__proto__"===$){if(!d.call(x,$))return;if(D)return D(x,$).value}return x[$]};Ne.exports=function y(){var x,$,R,O,M,L,z=arguments[0],F=1,J=arguments.length,ue=!1;for("boolean"==typeof z&&(ue=z,z=arguments[1]||{},F=2),(null==z||"object"!=typeof z&&"function"!=typeof z)&&(z={});F<J;++F)if(null!=(x=arguments[F]))for($ in x)R=E(z,$),z!==(O=E(x,$))&&(ue&&O&&(S(O)||(M=C(O)))?(M?(M=!1,L=R&&C(R)?R:[]):L=R&&S(R)?R:{},I(z,{name:$,newValue:y(ue,L,O)})):typeof O<"u"&&I(z,{name:$,newValue:O}));return z}},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BlockEmbed=_.bubbleFormats=void 0;var A=function(){function Y(se,W){for(var Ce=0;Ce<W.length;Ce++){var Q=W[Ce];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(se,Q.key,Q)}}return function(se,W,Ce){return W&&Y(se.prototype,W),Ce&&Y(se,Ce),se}}(),w=function Y(se,W,Ce){null===se&&(se=Function.prototype);var Q=Object.getOwnPropertyDescriptor(se,W);if(void 0===Q){var Me=Object.getPrototypeOf(se);return null===Me?void 0:Y(Me,W,Ce)}if("value"in Q)return Q.value;var Xe=Q.get;return void 0===Xe?void 0:Xe.call(Ce)},C=z(d(3)),I=z(d(2)),y=z(d(0)),$=z(d(16)),O=z(d(6)),L=z(d(7));function z(Y){return Y&&Y.__esModule?Y:{default:Y}}function F(Y,se){if(!(Y instanceof se))throw new TypeError("Cannot call a class as a function")}function J(Y,se){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!se||"object"!=typeof se&&"function"!=typeof se?Y:se}function ue(Y,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);Y.prototype=Object.create(se&&se.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,se):Y.__proto__=se)}var re=function(Y){function se(){return F(this,se),J(this,(se.__proto__||Object.getPrototypeOf(se)).apply(this,arguments))}return ue(se,Y),A(se,[{key:"attach",value:function(){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"attach",this).call(this),this.attributes=new y.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new I.default).insert(this.value(),(0,C.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Ce,Q){var Me=y.default.query(Ce,y.default.Scope.BLOCK_ATTRIBUTE);null!=Me&&this.attributes.attribute(Me,Q)}},{key:"formatAt",value:function(Ce,Q,Me,Xe){this.format(Me,Xe)}},{key:"insertAt",value:function(Ce,Q,Me){if("string"==typeof Q&&Q.endsWith("\n")){var Xe=y.default.create(we.blotName);this.parent.insertBefore(Xe,0===Ce?this:this.next),Xe.insertAt(0,Q.slice(0,-1))}else w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,Ce,Q,Me)}}]),se}(y.default.Embed);re.scope=y.default.Scope.BLOCK_BLOT;var we=function(Y){function se(W){F(this,se);var Ce=J(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,W));return Ce.cache={},Ce}return ue(se,Y),A(se,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(y.default.Leaf).reduce(function(Ce,Q){return 0===Q.length()?Ce:Ce.insert(Q.value(),j(Q))},new I.default).insert("\n",j(this))),this.cache.delta}},{key:"deleteAt",value:function(Ce,Q){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"deleteAt",this).call(this,Ce,Q),this.cache={}}},{key:"formatAt",value:function(Ce,Q,Me,Xe){Q<=0||(y.default.query(Me,y.default.Scope.BLOCK)?Ce+Q===this.length()&&this.format(Me,Xe):w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"formatAt",this).call(this,Ce,Math.min(Q,this.length()-Ce-1),Me,Xe),this.cache={})}},{key:"insertAt",value:function(Ce,Q,Me){if(null!=Me)return w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,Ce,Q,Me);if(0!==Q.length){var Xe=Q.split("\n"),yt=Xe.shift();yt.length>0&&(Ce<this.length()-1||null==this.children.tail?w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,Math.min(Ce,this.length()-1),yt):this.children.tail.insertAt(this.children.tail.length(),yt),this.cache={});var Je=this;Xe.reduce(function(je,X){return(Je=Je.split(je,!0)).insertAt(0,X),X.length},Ce+yt.length)}}},{key:"insertBefore",value:function(Ce,Q){var Me=this.children.head;w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertBefore",this).call(this,Ce,Q),Me instanceof $.default&&Me.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(Ce,Q){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"moveChildren",this).call(this,Ce,Q),this.cache={}}},{key:"optimize",value:function(Ce){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"optimize",this).call(this,Ce),this.cache={}}},{key:"path",value:function(Ce){return w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"path",this).call(this,Ce,!0)}},{key:"removeChild",value:function(Ce){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"removeChild",this).call(this,Ce),this.cache={}}},{key:"split",value:function(Ce){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Q&&(0===Ce||Ce>=this.length()-1)){var Me=this.clone();return 0===Ce?(this.parent.insertBefore(Me,this),this):(this.parent.insertBefore(Me,this.next),Me)}var Xe=w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"split",this).call(this,Ce,Q);return this.cache={},Xe}}]),se}(y.default.Block);function j(Y){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==Y||("function"==typeof Y.formats&&(se=(0,C.default)(se,Y.formats())),null==Y.parent||"scroll"==Y.parent.blotName||Y.parent.statics.scope!==Y.statics.scope)?se:j(Y.parent,se)}we.blotName="block",we.tagName="P",we.defaultChild="break",we.allowedChildren=[O.default,y.default.Embed,L.default],_.bubbleFormats=j,_.BlockEmbed=re,_.default=we},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.overload=_.expandConfig=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},w=function(){return function(je,X){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function Je(je,X){var oe=[],_e=!0,ve=!1,Pe=void 0;try{for(var Qe,Ve=je[Symbol.iterator]();!(_e=(Qe=Ve.next()).done)&&(oe.push(Qe.value),!X||oe.length!==X);_e=!0);}catch(Pt){ve=!0,Pe=Pt}finally{try{!_e&&Ve.return&&Ve.return()}finally{if(ve)throw Pe}}return oe}(je,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Je(je,X){for(var oe=0;oe<X.length;oe++){var _e=X[oe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(je,_e.key,_e)}}return function(je,X,oe){return X&&Je(je.prototype,X),oe&&Je(je,oe),je}}();d(50);var S=j(d(2)),E=j(d(14)),x=j(d(8)),R=j(d(9)),M=j(d(0)),L=d(15),z=j(L),J=j(d(3)),ce=j(d(10)),we=j(d(34));function j(Je){return Je&&Je.__esModule?Je:{default:Je}}function Y(Je,je,X){return je in Je?Object.defineProperty(Je,je,{value:X,enumerable:!0,configurable:!0,writable:!0}):Je[je]=X,Je}var W=(0,ce.default)("quill"),Ce=function(){function Je(je){var X=this,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function se(Je,je){if(!(Je instanceof je))throw new TypeError("Cannot call a class as a function")}(this,Je),this.options=Q(je,oe),this.container=this.options.container,null==this.container)return W.error("Invalid Quill container",je);this.options.debug&&Je.debug(this.options.debug);var _e=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new x.default,this.scroll=M.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new E.default(this.scroll),this.selection=new z.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(x.default.events.EDITOR_CHANGE,function(Pe){Pe===x.default.events.TEXT_CHANGE&&X.root.classList.toggle("ql-blank",X.editor.isBlank())}),this.emitter.on(x.default.events.SCROLL_UPDATE,function(Pe,Ve){var Qe=X.selection.lastRange,Pt=Qe&&0===Qe.length?Qe.index:void 0;Me.call(X,function(){return X.editor.update(null,Ve,Pt)},Pe)});var ve=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+_e+"<p><br></p></div>");this.setContents(ve),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return D(Je,null,[{key:"debug",value:function(X){!0===X&&(X="log"),ce.default.level(X)}},{key:"find",value:function(X){return X.__quill||M.default.find(X)}},{key:"import",value:function(X){return null==this.imports[X]&&W.error("Cannot import "+X+". Are you sure it was registered?"),this.imports[X]}},{key:"register",value:function(X,oe){var _e=this,ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof X){var Pe=X.attrName||X.blotName;"string"==typeof Pe?this.register("formats/"+Pe,X,oe):Object.keys(X).forEach(function(Ve){_e.register(Ve,X[Ve],oe)})}else null!=this.imports[X]&&!ve&&W.warn("Overwriting "+X+" with",oe),this.imports[X]=oe,(X.startsWith("blots/")||X.startsWith("formats/"))&&"abstract"!==oe.blotName?M.default.register(oe):X.startsWith("modules")&&"function"==typeof oe.register&&oe.register()}}]),D(Je,[{key:"addContainer",value:function(X){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof X){var _e=X;(X=document.createElement("div")).classList.add(_e)}return this.container.insertBefore(X,oe),X}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(X,oe,_e){var ve=this,Pe=Xe(X,oe,_e),Ve=w(Pe,4);return Me.call(this,function(){return ve.editor.deleteText(X,oe)},_e=Ve[3],X=Ve[0],-1*(oe=Ve[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var X=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(X),this.container.classList.toggle("ql-disabled",!X)}},{key:"focus",value:function(){var X=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=X,this.scrollIntoView()}},{key:"format",value:function(X,oe){var _e=this;return Me.call(this,function(){var Pe=_e.getSelection(!0),Ve=new S.default;if(null==Pe)return Ve;if(M.default.query(X,M.default.Scope.BLOCK))Ve=_e.editor.formatLine(Pe.index,Pe.length,Y({},X,oe));else{if(0===Pe.length)return _e.selection.format(X,oe),Ve;Ve=_e.editor.formatText(Pe.index,Pe.length,Y({},X,oe))}return _e.setSelection(Pe,x.default.sources.SILENT),Ve},arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.default.sources.API)}},{key:"formatLine",value:function(X,oe,_e,ve,Pe){var Qe,Ve=this,Pt=Xe(X,oe,_e,ve,Pe),Se=w(Pt,4);return oe=Se[1],Qe=Se[2],Me.call(this,function(){return Ve.editor.formatLine(X,oe,Qe)},Pe=Se[3],X=Se[0],0)}},{key:"formatText",value:function(X,oe,_e,ve,Pe){var Qe,Ve=this,Pt=Xe(X,oe,_e,ve,Pe),Se=w(Pt,4);return oe=Se[1],Qe=Se[2],Me.call(this,function(){return Ve.editor.formatText(X,oe,Qe)},Pe=Se[3],X=Se[0],0)}},{key:"getBounds",value:function(X){var _e;_e="number"==typeof X?this.selection.getBounds(X,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(X.index,X.length);var ve=this.container.getBoundingClientRect();return{bottom:_e.bottom-ve.top,height:_e.height,left:_e.left-ve.left,right:_e.right-ve.left,top:_e.top-ve.top,width:_e.width}}},{key:"getContents",value:function(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-X,_e=Xe(X,oe),ve=w(_e,2);return this.editor.getContents(X=ve[0],oe=ve[1])}},{key:"getFormat",value:function(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof X?this.editor.getFormat(X,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(X.index,X.length)}},{key:"getIndex",value:function(X){return X.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(X){return this.scroll.leaf(X)}},{key:"getLine",value:function(X){return this.scroll.line(X)}},{key:"getLines",value:function(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof X?this.scroll.lines(X.index,X.length):this.scroll.lines(X,oe)}},{key:"getModule",value:function(X){return this.theme.modules[X]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-X,_e=Xe(X,oe),ve=w(_e,2);return this.editor.getText(X=ve[0],oe=ve[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(X,oe,_e){var ve=this;return Me.call(this,function(){return ve.editor.insertEmbed(X,oe,_e)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:Je.sources.API,X)}},{key:"insertText",value:function(X,oe,_e,ve,Pe){var Qe,Ve=this,Pt=Xe(X,0,_e,ve,Pe),Se=w(Pt,4);return Qe=Se[2],Me.call(this,function(){return Ve.editor.insertText(X,oe,Qe)},Pe=Se[3],X=Se[0],oe.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(X,oe,_e){this.clipboard.dangerouslyPasteHTML(X,oe,_e)}},{key:"removeFormat",value:function(X,oe,_e){var ve=this,Pe=Xe(X,oe,_e),Ve=w(Pe,4);return oe=Ve[1],Me.call(this,function(){return ve.editor.removeFormat(X,oe)},_e=Ve[3],X=Ve[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(X){var oe=this;return Me.call(this,function(){X=new S.default(X);var ve=oe.getLength(),Pe=oe.editor.deleteText(0,ve),Ve=oe.editor.applyDelta(X),Qe=Ve.ops[Ve.ops.length-1];return null!=Qe&&"string"==typeof Qe.insert&&"\n"===Qe.insert[Qe.insert.length-1]&&(oe.editor.deleteText(oe.getLength()-1,1),Ve.delete(1)),Pe.compose(Ve)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API)}},{key:"setSelection",value:function(X,oe,_e){if(null==X)this.selection.setRange(null,oe||Je.sources.API);else{var ve=Xe(X,oe,_e),Pe=w(ve,4);_e=Pe[3],this.selection.setRange(new L.Range(X=Pe[0],oe=Pe[1]),_e),_e!==x.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(X){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API,_e=(new S.default).insert(X);return this.setContents(_e,oe)}},{key:"update",value:function(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.default.sources.USER,oe=this.scroll.update(X);return this.selection.update(X),oe}},{key:"updateContents",value:function(X){var oe=this,_e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API;return Me.call(this,function(){return X=new S.default(X),oe.editor.applyDelta(X,_e)},_e,!0)}}]),Je}();function Q(Je,je){if((je=(0,J.default)(!0,{container:Je,modules:{clipboard:!0,keyboard:!0,history:!0}},je)).theme&&je.theme!==Ce.DEFAULTS.theme){if(je.theme=Ce.import("themes/"+je.theme),null==je.theme)throw new Error("Invalid theme "+je.theme+". Did you register it?")}else je.theme=we.default;var X=(0,J.default)(!0,{},je.theme.DEFAULTS);[X,je].forEach(function(ve){ve.modules=ve.modules||{},Object.keys(ve.modules).forEach(function(Pe){!0===ve.modules[Pe]&&(ve.modules[Pe]={})})});var _e=Object.keys(X.modules).concat(Object.keys(je.modules)).reduce(function(ve,Pe){var Ve=Ce.import("modules/"+Pe);return null==Ve?W.error("Cannot load "+Pe+" module. Are you sure you registered it?"):ve[Pe]=Ve.DEFAULTS||{},ve},{});return null!=je.modules&&je.modules.toolbar&&je.modules.toolbar.constructor!==Object&&(je.modules.toolbar={container:je.modules.toolbar}),je=(0,J.default)(!0,{},Ce.DEFAULTS,{modules:_e},X,je),["bounds","container","scrollingContainer"].forEach(function(ve){"string"==typeof je[ve]&&(je[ve]=document.querySelector(je[ve]))}),je.modules=Object.keys(je.modules).reduce(function(ve,Pe){return je.modules[Pe]&&(ve[Pe]=je.modules[Pe]),ve},{}),je}function Me(Je,je,X,oe){if(this.options.strict&&!this.isEnabled()&&je===x.default.sources.USER)return new S.default;var _e=null==X?null:this.getSelection(),ve=this.editor.delta,Pe=Je();if(null!=_e&&(!0===X&&(X=_e.index),null==oe?_e=yt(_e,Pe,je):0!==oe&&(_e=yt(_e,X,oe,je)),this.setSelection(_e,x.default.sources.SILENT)),Pe.length()>0){var Ve,Pt,Qe=[x.default.events.TEXT_CHANGE,Pe,ve,je];(Ve=this.emitter).emit.apply(Ve,[x.default.events.EDITOR_CHANGE].concat(Qe)),je!==x.default.sources.SILENT&&(Pt=this.emitter).emit.apply(Pt,Qe)}return Pe}function Xe(Je,je,X,oe,_e){var ve={};return"number"==typeof Je.index&&"number"==typeof Je.length?"number"!=typeof je?(_e=oe,oe=X,X=je,je=Je.length,Je=Je.index):(je=Je.length,Je=Je.index):"number"!=typeof je&&(_e=oe,oe=X,X=je,je=0),"object"===(typeof X>"u"?"undefined":A(X))?(ve=X,_e=oe):"string"==typeof X&&(null!=oe?ve[X]=oe:_e=X),[Je,je,ve,_e=_e||x.default.sources.API]}function yt(Je,je,X,oe){if(null==Je)return null;var _e=void 0,ve=void 0;if(je instanceof S.default){var Pe=[Je.index,Je.index+Je.length].map(function(Se){return je.transformPosition(Se,oe!==x.default.sources.USER)}),Ve=w(Pe,2);_e=Ve[0],ve=Ve[1]}else{var Qe=[Je.index,Je.index+Je.length].map(function(Se){return Se<je||Se===je&&oe===x.default.sources.USER?Se:X>=0?Se+X:Math.max(je,Se+X)}),Pt=w(Qe,2);_e=Pt[0],ve=Pt[1]}return new L.Range(_e,ve-_e)}Ce.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Ce.events=x.default.events,Ce.sources=x.default.sources,Ce.version="1.3.7",Ce.imports={delta:S.default,parchment:M.default,"core/module":R.default,"core/theme":we.default},_.expandConfig=Q,_.overload=Xe,_.default=Ce},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var z=0;z<L.length;z++){var F=L[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,z){return L&&O(M.prototype,L),z&&O(M,z),M}}(),w=function O(M,L,z){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,z)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(z)},C=E(d(7)),I=E(d(0));function E(O){return O&&O.__esModule?O:{default:O}}var R=function(O){function M(){return function y(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function x(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function $(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"formatAt",value:function(z,F,J,ue){if(M.compare(this.statics.blotName,J)<0&&I.default.query(J,I.default.Scope.BLOT)){var ce=this.isolate(z,F);ue&&ce.wrap(J,ue)}else w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,z,F,J,ue)}},{key:"optimize",value:function(z){if(w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,z),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){var F=this.parent.isolate(this.offset(),this.length());this.moveChildren(F),F.wrap(this)}}}],[{key:"compare",value:function(z,F){var J=M.order.indexOf(z),ue=M.order.indexOf(F);return J>=0||ue>=0?J-ue:z===F?0:z<F?-1:1}}]),M}(I.default.Inline);R.allowedChildren=[R,I.default.Embed,C.default],R.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],_.default=R},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(0)).default.Text);_.default=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function L(z,F){for(var J=0;J<F.length;J++){var ue=F[J];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(z,ue.key,ue)}}return function(z,F,J){return F&&L(z.prototype,F),J&&L(z,J),z}}(),w=function L(z,F,J){null===z&&(z=Function.prototype);var ue=Object.getOwnPropertyDescriptor(z,F);if(void 0===ue){var ce=Object.getPrototypeOf(z);return null===ce?void 0:L(ce,F,J)}if("value"in ue)return ue.value;var re=ue.get;return void 0===re?void 0:re.call(J)},C=E(d(54));function E(L){return L&&L.__esModule?L:{default:L}}var R=(0,E(d(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(L){document.addEventListener(L,function(){for(var z=arguments.length,F=Array(z),J=0;J<z;J++)F[J]=arguments[J];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(ue){var ce;ue.__quill&&ue.__quill.emitter&&(ce=ue.__quill.emitter).handleDOM.apply(ce,F)})})});var M=function(L){function z(){!function y(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}(this,z);var F=function x(L,z){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?L:z}(this,(z.__proto__||Object.getPrototypeOf(z)).call(this));return F.listeners={},F.on("error",R.error),F}return function $(L,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function, not "+typeof z);L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(L,z):L.__proto__=z)}(z,L),A(z,[{key:"emit",value:function(){R.log.apply(R,arguments),w(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(J){for(var ue=arguments.length,ce=Array(ue>1?ue-1:0),re=1;re<ue;re++)ce[re-1]=arguments[re];(this.listeners[J.type]||[]).forEach(function(we){var j=we.node,Y=we.handler;(J.target===j||j.contains(J.target))&&Y.apply(void 0,[J].concat(ce))})}},{key:"listenDOM",value:function(J,ue,ce){this.listeners[J]||(this.listeners[J]=[]),this.listeners[J].push({node:ue,handler:ce})}}]),z}(C.default);M.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},M.sources={API:"api",SILENT:"silent",USER:"user"},_.default=M},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=function D(C){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function A(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")})(this,D),this.quill=C,this.options=S};w.DEFAULTS={},_.default=w},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=["error","warn","log","info"],w="warn";function D(S){if(A.indexOf(S)<=A.indexOf(w)){for(var I,E=arguments.length,y=Array(E>1?E-1:0),x=1;x<E;x++)y[x-1]=arguments[x];(I=console)[S].apply(I,y)}}function C(S){return A.reduce(function(I,E){return I[E]=D.bind(console,E,S),I},{})}D.level=C.level=function(S){w=S},_.default=C},function(Ne,_,d){var A=Array.prototype.slice,w=d(52),D=d(53),C=Ne.exports=function(y,x,$){return $||($={}),y===x||(y instanceof Date&&x instanceof Date?y.getTime()===x.getTime():!y||!x||"object"!=typeof y&&"object"!=typeof x?$.strict?y===x:y==x:function E(y,x,$){var R,O;if(S(y)||S(x)||y.prototype!==x.prototype)return!1;if(D(y))return!!D(x)&&(y=A.call(y),x=A.call(x),C(y,x,$));if(I(y)){if(!I(x)||y.length!==x.length)return!1;for(R=0;R<y.length;R++)if(y[R]!==x[R])return!1;return!0}try{var M=w(y),L=w(x)}catch{return!1}if(M.length!=L.length)return!1;for(M.sort(),L.sort(),R=M.length-1;R>=0;R--)if(M[R]!=L[R])return!1;for(R=M.length-1;R>=0;R--)if(!C(y[O=M[R]],x[O],$))return!1;return typeof y==typeof x}(y,x,$))};function S(y){return null==y}function I(y){return!(!y||"object"!=typeof y||"number"!=typeof y.length||"function"!=typeof y.copy||"function"!=typeof y.slice||y.length>0&&"number"!=typeof y[0])}},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(1),w=function(){function D(C,S,I){void 0===I&&(I={}),this.attrName=C,this.keyName=S,this.scope=null!=I.scope?I.scope&A.Scope.LEVEL|A.Scope.TYPE&A.Scope.ATTRIBUTE:A.Scope.ATTRIBUTE,null!=I.whitelist&&(this.whitelist=I.whitelist)}return D.keys=function(C){return[].map.call(C.attributes,function(S){return S.name})},D.prototype.add=function(C,S){return!!this.canAdd(C,S)&&(C.setAttribute(this.keyName,S),!0)},D.prototype.canAdd=function(C,S){return null!=A.query(C,A.Scope.BLOT&(this.scope|A.Scope.TYPE))&&(null==this.whitelist||("string"==typeof S?this.whitelist.indexOf(S.replace(/["']/g,""))>-1:this.whitelist.indexOf(S)>-1))},D.prototype.remove=function(C){C.removeAttribute(this.keyName)},D.prototype.value=function(C){var S=C.getAttribute(this.keyName);return this.canAdd(C,S)&&S?S:""},D}();_.default=w},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Code=void 0;var A=function(){return function(we,j){if(Array.isArray(we))return we;if(Symbol.iterator in Object(we))return function re(we,j){var Y=[],se=!0,W=!1,Ce=void 0;try{for(var Me,Q=we[Symbol.iterator]();!(se=(Me=Q.next()).done)&&(Y.push(Me.value),!j||Y.length!==j);se=!0);}catch(Xe){W=!0,Ce=Xe}finally{try{!se&&Q.return&&Q.return()}finally{if(W)throw Ce}}return Y}(we,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function re(we,j){for(var Y=0;Y<j.length;Y++){var se=j[Y];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(we,se.key,se)}}return function(we,j,Y){return j&&re(we.prototype,j),Y&&re(we,Y),we}}(),D=function re(we,j,Y){null===we&&(we=Function.prototype);var se=Object.getOwnPropertyDescriptor(we,j);if(void 0===se){var W=Object.getPrototypeOf(we);return null===W?void 0:re(W,j,Y)}if("value"in se)return se.value;var Ce=se.get;return void 0===Ce?void 0:Ce.call(Y)},S=L(d(2)),E=L(d(0)),x=L(d(4)),R=L(d(6)),M=L(d(7));function L(re){return re&&re.__esModule?re:{default:re}}function z(re,we){if(!(re instanceof we))throw new TypeError("Cannot call a class as a function")}function F(re,we){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!we||"object"!=typeof we&&"function"!=typeof we?re:we}function J(re,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function, not "+typeof we);re.prototype=Object.create(we&&we.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(re,we):re.__proto__=we)}var ue=function(re){function we(){return z(this,we),F(this,(we.__proto__||Object.getPrototypeOf(we)).apply(this,arguments))}return J(we,re),we}(R.default);ue.blotName="code",ue.tagName="CODE";var ce=function(re){function we(){return z(this,we),F(this,(we.__proto__||Object.getPrototypeOf(we)).apply(this,arguments))}return J(we,re),w(we,[{key:"delta",value:function(){var Y=this,se=this.domNode.textContent;return se.endsWith("\n")&&(se=se.slice(0,-1)),se.split("\n").reduce(function(W,Ce){return W.insert(Ce).insert("\n",Y.formats())},new S.default)}},{key:"format",value:function(Y,se){if(Y!==this.statics.blotName||!se){var W=this.descendant(M.default,this.length()-1),Q=A(W,1)[0];Q?.deleteAt(Q.length()-1,1),D(we.prototype.__proto__||Object.getPrototypeOf(we.prototype),"format",this).call(this,Y,se)}}},{key:"formatAt",value:function(Y,se,W,Ce){if(0!==se&&null!=E.default.query(W,E.default.Scope.BLOCK)&&(W!==this.statics.blotName||Ce!==this.statics.formats(this.domNode))){var Q=this.newlineIndex(Y);if(!(Q<0||Q>=Y+se)){var Me=this.newlineIndex(Y,!0)+1,Xe=Q-Me+1,yt=this.isolate(Me,Xe),Je=yt.next;yt.format(W,Ce),Je instanceof we&&Je.formatAt(0,Y-Me+se-Xe,W,Ce)}}}},{key:"insertAt",value:function(Y,se,W){if(null==W){var Ce=this.descendant(M.default,Y),Q=A(Ce,2);Q[0].insertAt(Q[1],se)}}},{key:"length",value:function(){var Y=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?Y:Y+1}},{key:"newlineIndex",value:function(Y){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,Y).lastIndexOf("\n");var W=this.domNode.textContent.slice(Y).indexOf("\n");return W>-1?Y+W:-1}},{key:"optimize",value:function(Y){this.domNode.textContent.endsWith("\n")||this.appendChild(E.default.create("text","\n")),D(we.prototype.__proto__||Object.getPrototypeOf(we.prototype),"optimize",this).call(this,Y);var se=this.next;null!=se&&se.prev===this&&se.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===se.statics.formats(se.domNode)&&(se.optimize(Y),se.moveChildren(this),se.remove())}},{key:"replace",value:function(Y){D(we.prototype.__proto__||Object.getPrototypeOf(we.prototype),"replace",this).call(this,Y),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(se){var W=E.default.find(se);null==W?se.parentNode.removeChild(se):W instanceof E.default.Embed?W.remove():W.unwrap()})}}],[{key:"create",value:function(Y){var se=D(we.__proto__||Object.getPrototypeOf(we),"create",this).call(this,Y);return se.setAttribute("spellcheck",!1),se}},{key:"formats",value:function(){return!0}}]),we}(x.default);ce.blotName="code-block",ce.tagName="PRE",ce.TAB="  ",_.Code=ue,_.default=ce},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},w=function(){return function(je,X){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function Je(je,X){var oe=[],_e=!0,ve=!1,Pe=void 0;try{for(var Qe,Ve=je[Symbol.iterator]();!(_e=(Qe=Ve.next()).done)&&(oe.push(Qe.value),!X||oe.length!==X);_e=!0);}catch(Pt){ve=!0,Pe=Pt}finally{try{!_e&&Ve.return&&Ve.return()}finally{if(ve)throw Pe}}return oe}(je,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Je(je,X){for(var oe=0;oe<X.length;oe++){var _e=X[oe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(je,_e.key,_e)}}return function(je,X,oe){return X&&Je(je.prototype,X),oe&&Je(je,oe),je}}(),S=se(d(2)),E=se(d(20)),x=se(d(0)),R=se(d(13)),M=se(d(24)),L=d(4),z=se(L),J=se(d(16)),ce=se(d(21)),we=se(d(11)),Y=se(d(3));function se(Je){return Je&&Je.__esModule?Je:{default:Je}}var Q=/^[ -~]*$/,Me=function(){function Je(je){(function Ce(Je,je){if(!(Je instanceof je))throw new TypeError("Cannot call a class as a function")})(this,Je),this.scroll=je,this.delta=this.getDelta()}return D(Je,[{key:"applyDelta",value:function(X){var oe=this,_e=!1;this.scroll.update();var ve=this.scroll.length();return this.scroll.batchStart(),(X=function yt(Je){return Je.reduce(function(je,X){if(1===X.insert){var oe=(0,ce.default)(X.attributes);return delete oe.image,je.insert({image:X.attributes.image},oe)}if(null!=X.attributes&&(!0===X.attributes.list||!0===X.attributes.bullet)&&((X=(0,ce.default)(X)).attributes.list?X.attributes.list="ordered":(X.attributes.list="bullet",delete X.attributes.bullet)),"string"==typeof X.insert){var _e=X.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return je.insert(_e,X.attributes)}return je.push(X)},new S.default)}(X)).reduce(function(Pe,Ve){var Qe=Ve.retain||Ve.delete||Ve.insert.length||1,Pt=Ve.attributes||{};if(null!=Ve.insert){if("string"==typeof Ve.insert){var Se=Ve.insert;Se.endsWith("\n")&&_e&&(_e=!1,Se=Se.slice(0,-1)),Pe>=ve&&!Se.endsWith("\n")&&(_e=!0),oe.scroll.insertAt(Pe,Se);var qt=oe.scroll.line(Pe),Vt=w(qt,2),Tt=Vt[0],Ot=Vt[1],ft=(0,Y.default)({},(0,L.bubbleFormats)(Tt));if(Tt instanceof z.default){var Re=Tt.descendant(x.default.Leaf,Ot),Ye=w(Re,1);ft=(0,Y.default)(ft,(0,L.bubbleFormats)(Ye[0]))}Pt=E.default.attributes.diff(ft,Pt)||{}}else if("object"===A(Ve.insert)){var It=Object.keys(Ve.insert)[0];if(null==It)return Pe;oe.scroll.insertAt(Pe,It,Ve.insert[It])}ve+=Qe}return Object.keys(Pt).forEach(function(ot){oe.scroll.formatAt(Pe,Qe,ot,Pt[ot])}),Pe+Qe},0),X.reduce(function(Pe,Ve){return"number"==typeof Ve.delete?(oe.scroll.deleteAt(Pe,Ve.delete),Pe):Pe+(Ve.retain||Ve.insert.length||1)},0),this.scroll.batchEnd(),this.update(X)}},{key:"deleteText",value:function(X,oe){return this.scroll.deleteAt(X,oe),this.update((new S.default).retain(X).delete(oe))}},{key:"formatLine",value:function(X,oe){var _e=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ve).forEach(function(Pe){if(null==_e.scroll.whitelist||_e.scroll.whitelist[Pe]){var Ve=_e.scroll.lines(X,Math.max(oe,1)),Qe=oe;Ve.forEach(function(Pt){var Se=Pt.length();if(Pt instanceof R.default){var qt=X-Pt.offset(_e.scroll),Vt=Pt.newlineIndex(qt+Qe)-qt+1;Pt.formatAt(qt,Vt,Pe,ve[Pe])}else Pt.format(Pe,ve[Pe]);Qe-=Se})}}),this.scroll.optimize(),this.update((new S.default).retain(X).retain(oe,(0,ce.default)(ve)))}},{key:"formatText",value:function(X,oe){var _e=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ve).forEach(function(Pe){_e.scroll.formatAt(X,oe,Pe,ve[Pe])}),this.update((new S.default).retain(X).retain(oe,(0,ce.default)(ve)))}},{key:"getContents",value:function(X,oe){return this.delta.slice(X,X+oe)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(X,oe){return X.concat(oe.delta())},new S.default)}},{key:"getFormat",value:function(X){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_e=[],ve=[];0===oe?this.scroll.path(X).forEach(function(Ve){var Pt=w(Ve,1)[0];Pt instanceof z.default?_e.push(Pt):Pt instanceof x.default.Leaf&&ve.push(Pt)}):(_e=this.scroll.lines(X,oe),ve=this.scroll.descendants(x.default.Leaf,X,oe));var Pe=[_e,ve].map(function(Ve){if(0===Ve.length)return{};for(var Qe=(0,L.bubbleFormats)(Ve.shift());Object.keys(Qe).length>0;){var Pt=Ve.shift();if(null==Pt)return Qe;Qe=Xe((0,L.bubbleFormats)(Pt),Qe)}return Qe});return Y.default.apply(Y.default,Pe)}},{key:"getText",value:function(X,oe){return this.getContents(X,oe).filter(function(_e){return"string"==typeof _e.insert}).map(function(_e){return _e.insert}).join("")}},{key:"insertEmbed",value:function(X,oe,_e){return this.scroll.insertAt(X,oe,_e),this.update((new S.default).retain(X).insert(function W(Je,je,X){return je in Je?Object.defineProperty(Je,je,{value:X,enumerable:!0,configurable:!0,writable:!0}):Je[je]=X,Je}({},oe,_e)))}},{key:"insertText",value:function(X,oe){var _e=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oe=oe.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(X,oe),Object.keys(ve).forEach(function(Pe){_e.scroll.formatAt(X,oe.length,Pe,ve[Pe])}),this.update((new S.default).retain(X).insert(oe,(0,ce.default)(ve)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var X=this.scroll.children.head;return!(X.statics.blotName!==z.default.blotName||X.children.length>1)&&X.children.head instanceof J.default}},{key:"removeFormat",value:function(X,oe){var _e=this.getText(X,oe),ve=this.scroll.line(X+oe),Pe=w(ve,2),Ve=Pe[0],Qe=Pe[1],Pt=0,Se=new S.default;null!=Ve&&(Pt=Ve instanceof R.default?Ve.newlineIndex(Qe)-Qe+1:Ve.length()-Qe,Se=Ve.delta().slice(Qe,Qe+Pt-1).insert("\n"));var Vt=this.getContents(X,oe+Pt).diff((new S.default).insert(_e).concat(Se)),Tt=(new S.default).retain(X).concat(Vt);return this.applyDelta(Tt)}},{key:"update",value:function(X){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ve=this.delta;if(1===oe.length&&"characterData"===oe[0].type&&oe[0].target.data.match(Q)&&x.default.find(oe[0].target)){var Pe=x.default.find(oe[0].target),Ve=(0,L.bubbleFormats)(Pe),Qe=Pe.offset(this.scroll),Pt=oe[0].oldValue.replace(M.default.CONTENTS,""),Se=(new S.default).insert(Pt),qt=(new S.default).insert(Pe.value());X=(new S.default).retain(Qe).concat(Se.diff(qt,_e)).reduce(function(Tt,Ot){return Ot.insert?Tt.insert(Ot.insert,Ve):Tt.push(Ot)},new S.default),this.delta=ve.compose(X)}else this.delta=this.getDelta(),(!X||!(0,we.default)(ve.compose(X),this.delta))&&(X=ve.diff(this.delta,_e));return X}}]),Je}();function Xe(Je,je){return Object.keys(je).reduce(function(X,oe){return null==Je[oe]||(je[oe]===Je[oe]?X[oe]=je[oe]:Array.isArray(je[oe])?je[oe].indexOf(Je[oe])<0&&(X[oe]=je[oe].concat([Je[oe]])):X[oe]=[je[oe],Je[oe]]),X},{})}_.default=Me},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Range=void 0;var A=function(){return function(we,j){if(Array.isArray(we))return we;if(Symbol.iterator in Object(we))return function re(we,j){var Y=[],se=!0,W=!1,Ce=void 0;try{for(var Me,Q=we[Symbol.iterator]();!(se=(Me=Q.next()).done)&&(Y.push(Me.value),!j||Y.length!==j);se=!0);}catch(Xe){W=!0,Ce=Xe}finally{try{!se&&Q.return&&Q.return()}finally{if(W)throw Ce}}return Y}(we,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function re(we,j){for(var Y=0;Y<j.length;Y++){var se=j[Y];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(we,se.key,se)}}return function(we,j,Y){return j&&re(we.prototype,j),Y&&re(we,Y),we}}(),C=M(d(0)),I=M(d(21)),y=M(d(11)),$=M(d(8));function M(re){return re&&re.__esModule?re:{default:re}}function L(re){if(Array.isArray(re)){for(var we=0,j=Array(re.length);we<re.length;we++)j[we]=re[we];return j}return Array.from(re)}function z(re,we){if(!(re instanceof we))throw new TypeError("Cannot call a class as a function")}var F=(0,M(d(10)).default)("quill:selection"),J=function re(we){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;z(this,re),this.index=we,this.length=j},ue=function(){function re(we,j){var Y=this;z(this,re),this.emitter=j,this.scroll=we,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=C.default.create("cursor",this),this.lastRange=this.savedRange=new J(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Y.mouseDown||setTimeout(Y.update.bind(Y,$.default.sources.USER),1)}),this.emitter.on($.default.events.EDITOR_CHANGE,function(se,W){se===$.default.events.TEXT_CHANGE&&W.length()>0&&Y.update($.default.sources.SILENT)}),this.emitter.on($.default.events.SCROLL_BEFORE_UPDATE,function(){if(Y.hasFocus()){var se=Y.getNativeRange();null!=se&&se.start.node!==Y.cursor.textNode&&Y.emitter.once($.default.events.SCROLL_UPDATE,function(){try{Y.setNativeRange(se.start.node,se.start.offset,se.end.node,se.end.offset)}catch{}})}}),this.emitter.on($.default.events.SCROLL_OPTIMIZE,function(se,W){if(W.range){var Ce=W.range;Y.setNativeRange(Ce.startNode,Ce.startOffset,Ce.endNode,Ce.endOffset)}}),this.update($.default.sources.SILENT)}return w(re,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var Y=j.cursor.restore();if(!Y)return;setTimeout(function(){j.setNativeRange(Y.startNode,Y.startOffset,Y.endNode,Y.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update($.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,Y){if(null==this.scroll.whitelist||this.scroll.whitelist[j]){this.scroll.update();var se=this.getNativeRange();if(null!=se&&se.native.collapsed&&!C.default.query(j,C.default.Scope.BLOCK)){if(se.start.node!==this.cursor.textNode){var W=C.default.find(se.start.node,!1);if(null==W)return;if(W instanceof C.default.Leaf){var Ce=W.split(se.start.offset);W.parent.insertBefore(this.cursor,Ce)}else W.insertBefore(this.cursor,se.start.node);this.cursor.attach()}this.cursor.format(j,Y),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,se=this.scroll.length();j=Math.min(j,se-1),Y=Math.min(j+Y,se-1)-j;var W=void 0,Ce=this.scroll.leaf(j),Q=A(Ce,2),Me=Q[0],Xe=Q[1];if(null==Me)return null;var yt=Me.position(Xe,!0),Je=A(yt,2);W=Je[0],Xe=Je[1];var je=document.createRange();if(Y>0){je.setStart(W,Xe);var X=this.scroll.leaf(j+Y),oe=A(X,2);if(null==(Me=oe[0]))return null;var _e=Me.position(Xe=oe[1],!0),ve=A(_e,2);return je.setEnd(W=ve[0],Xe=ve[1]),je.getBoundingClientRect()}var Pe="left",Ve=void 0;return W instanceof Text?(Xe<W.data.length?(je.setStart(W,Xe),je.setEnd(W,Xe+1)):(je.setStart(W,Xe-1),je.setEnd(W,Xe),Pe="right"),Ve=je.getBoundingClientRect()):(Ve=Me.domNode.getBoundingClientRect(),Xe>0&&(Pe="right")),{bottom:Ve.top+Ve.height,height:Ve.height,left:Ve[Pe],right:Ve[Pe],top:Ve.top,width:0}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(null==j||j.rangeCount<=0)return null;var Y=j.getRangeAt(0);if(null==Y)return null;var se=this.normalizeNative(Y);return F.info("getNativeRange",se),se}},{key:"getRange",value:function(){var j=this.getNativeRange();return null==j?[null,null]:[this.normalizedToRange(j),j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var Y=this,se=[[j.start.node,j.start.offset]];j.native.collapsed||se.push([j.end.node,j.end.offset]);var W=se.map(function(Me){var Xe=A(Me,2),yt=Xe[0],Je=Xe[1],je=C.default.find(yt,!0),X=je.offset(Y.scroll);return 0===Je?X:je instanceof C.default.Container?X+je.length():X+je.index(yt,Je)}),Ce=Math.min(Math.max.apply(Math,L(W)),this.scroll.length()-1),Q=Math.min.apply(Math,[Ce].concat(L(W)));return new J(Q,Ce-Q)}},{key:"normalizeNative",value:function(j){if(!ce(this.root,j.startContainer)||!j.collapsed&&!ce(this.root,j.endContainer))return null;var Y={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[Y.start,Y.end].forEach(function(se){for(var W=se.node,Ce=se.offset;!(W instanceof Text)&&W.childNodes.length>0;)if(W.childNodes.length>Ce)W=W.childNodes[Ce],Ce=0;else{if(W.childNodes.length!==Ce)break;Ce=(W=W.lastChild)instanceof Text?W.data.length:W.childNodes.length+1}se.node=W,se.offset=Ce}),Y}},{key:"rangeToNative",value:function(j){var Y=this,se=j.collapsed?[j.index]:[j.index,j.index+j.length],W=[],Ce=this.scroll.length();return se.forEach(function(Q,Me){Q=Math.min(Ce-1,Q);var yt=Y.scroll.leaf(Q),Je=A(yt,2),X=Je[1],oe=Je[0].position(X,0!==Me),_e=A(oe,2);W.push(_e[0],X=_e[1])}),W.length<2&&(W=W.concat(W)),W}},{key:"scrollIntoView",value:function(j){var Y=this.lastRange;if(null!=Y){var se=this.getBounds(Y.index,Y.length);if(null!=se){var W=this.scroll.length()-1,Ce=this.scroll.line(Math.min(Y.index,W)),Me=A(Ce,1)[0],Xe=Me;if(Y.length>0){var yt=this.scroll.line(Math.min(Y.index+Y.length,W));Xe=A(yt,1)[0]}if(null!=Me&&null!=Xe){var je=j.getBoundingClientRect();se.top<je.top?j.scrollTop-=je.top-se.top:se.bottom>je.bottom&&(j.scrollTop+=se.bottom-je.bottom)}}}}},{key:"setNativeRange",value:function(j,Y){var se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y,Ce=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(F.info("setNativeRange",j,Y,se,W),null==j||null!=this.root.parentNode&&null!=j.parentNode&&null!=se.parentNode){var Q=document.getSelection();if(null!=Q)if(null!=j){this.hasFocus()||this.root.focus();var Me=(this.getNativeRange()||{}).native;if(null==Me||Ce||j!==Me.startContainer||Y!==Me.startOffset||se!==Me.endContainer||W!==Me.endOffset){"BR"==j.tagName&&(Y=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),"BR"==se.tagName&&(W=[].indexOf.call(se.parentNode.childNodes,se),se=se.parentNode);var Xe=document.createRange();Xe.setStart(j,Y),Xe.setEnd(se,W),Q.removeAllRanges(),Q.addRange(Xe)}}else Q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var Y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.default.sources.API;if("string"==typeof Y&&(se=Y,Y=!1),F.info("setRange",j),null!=j){var W=this.rangeToNative(j);this.setNativeRange.apply(this,L(W).concat([Y]))}else this.setNativeRange(null);this.update(se)}},{key:"update",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.default.sources.USER,Y=this.lastRange,se=this.getRange(),W=A(se,2),Q=W[1];if(this.lastRange=W[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,y.default)(Y,this.lastRange)){var Me;!this.composing&&null!=Q&&Q.native.collapsed&&Q.start.node!==this.cursor.textNode&&this.cursor.restore();var yt,Xe=[$.default.events.SELECTION_CHANGE,(0,I.default)(this.lastRange),(0,I.default)(Y),j];(Me=this.emitter).emit.apply(Me,[$.default.events.EDITOR_CHANGE].concat(Xe)),j!==$.default.sources.SILENT&&(yt=this.emitter).emit.apply(yt,Xe)}}}]),re}();function ce(re,we){return we instanceof Text&&(we=we.parentNode),re.contains(we)}_.Range=J,_.default=ue},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var z=Object.getPrototypeOf(R);return null===z?void 0:$(z,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"insertInto",value:function(M,L){0===M.children.length?w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertInto",this).call(this,M,L):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(0)).default.Embed);x.blotName="break",x.tagName="BR",_.default=x},function(Ne,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(44),D=d(30),C=d(1),S=function(E){function y(x){var $=E.call(this,x)||this;return $.build(),$}return A(y,E),y.prototype.appendChild=function(x){this.insertBefore(x)},y.prototype.attach=function(){E.prototype.attach.call(this),this.children.forEach(function(x){x.attach()})},y.prototype.build=function(){var x=this;this.children=new w.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function($){try{var R=I($);x.insertBefore(R,x.children.head||void 0)}catch(O){if(O instanceof C.ParchmentError)return;throw O}})},y.prototype.deleteAt=function(x,$){if(0===x&&$===this.length())return this.remove();this.children.forEachAt(x,$,function(R,O,M){R.deleteAt(O,M)})},y.prototype.descendant=function(x,$){var R=this.children.find($),O=R[0],M=R[1];return null==x.blotName&&x(O)||null!=x.blotName&&O instanceof x?[O,M]:O instanceof y?O.descendant(x,M):[null,-1]},y.prototype.descendants=function(x,$,R){void 0===$&&($=0),void 0===R&&(R=Number.MAX_VALUE);var O=[],M=R;return this.children.forEachAt($,R,function(L,z,F){(null==x.blotName&&x(L)||null!=x.blotName&&L instanceof x)&&O.push(L),L instanceof y&&(O=O.concat(L.descendants(x,z,M))),M-=F}),O},y.prototype.detach=function(){this.children.forEach(function(x){x.detach()}),E.prototype.detach.call(this)},y.prototype.formatAt=function(x,$,R,O){this.children.forEachAt(x,$,function(M,L,z){M.formatAt(L,z,R,O)})},y.prototype.insertAt=function(x,$,R){var O=this.children.find(x),M=O[0];if(M)M.insertAt(O[1],$,R);else{var z=null==R?C.create("text",$):C.create($,R);this.appendChild(z)}},y.prototype.insertBefore=function(x,$){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(R){return x instanceof R}))throw new C.ParchmentError("Cannot insert "+x.statics.blotName+" into "+this.statics.blotName);x.insertInto(this,$)},y.prototype.length=function(){return this.children.reduce(function(x,$){return x+$.length()},0)},y.prototype.moveChildren=function(x,$){this.children.forEach(function(R){x.insertBefore(R,$)})},y.prototype.optimize=function(x){if(E.prototype.optimize.call(this,x),0===this.children.length)if(null!=this.statics.defaultChild){var $=C.create(this.statics.defaultChild);this.appendChild($),$.optimize(x)}else this.remove()},y.prototype.path=function(x,$){void 0===$&&($=!1);var R=this.children.find(x,$),O=R[0],M=R[1],L=[[this,x]];return O instanceof y?L.concat(O.path(M,$)):(null!=O&&L.push([O,M]),L)},y.prototype.removeChild=function(x){this.children.remove(x)},y.prototype.replace=function(x){x instanceof y&&x.moveChildren(this),E.prototype.replace.call(this,x)},y.prototype.split=function(x,$){if(void 0===$&&($=!1),!$){if(0===x)return this;if(x===this.length())return this.next}var R=this.clone();return this.parent.insertBefore(R,this.next),this.children.forEachAt(x,this.length(),function(O,M,L){O=O.split(M,$),R.appendChild(O)}),R},y.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},y.prototype.update=function(x,$){var R=this,O=[],M=[];x.forEach(function(L){L.target===R.domNode&&"childList"===L.type&&(O.push.apply(O,L.addedNodes),M.push.apply(M,L.removedNodes))}),M.forEach(function(L){if(!(null!=L.parentNode&&"IFRAME"!==L.tagName&&document.body.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var z=C.find(L);null!=z&&(null==z.domNode.parentNode||z.domNode.parentNode===R.domNode)&&z.detach()}}),O.filter(function(L){return L.parentNode==R.domNode}).sort(function(L,z){return L===z?0:L.compareDocumentPosition(z)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(L){var z=null;null!=L.nextSibling&&(z=C.find(L.nextSibling));var F=I(L);(F.next!=z||null==F.next)&&(null!=F.parent&&F.parent.removeChild(R),R.insertBefore(F,z||void 0))})},y}(D.default);function I(E){var y=C.find(E);if(null==y)try{y=C.create(E)}catch{y=C.create(C.Scope.INLINE),[].slice.call(E.childNodes).forEach(function($){y.domNode.appendChild($)}),E.parentNode&&E.parentNode.replaceChild(y.domNode,E),y.attach()}return y}_.default=S},function(Ne,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(12),D=d(31),C=d(17),S=d(1),I=function(E){function y(x){var $=E.call(this,x)||this;return $.attributes=new D.default($.domNode),$}return A(y,E),y.formats=function(x){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?x.tagName.toLowerCase():void 0)},y.prototype.format=function(x,$){var R=S.query(x);R instanceof w.default?this.attributes.attribute(R,$):$&&null!=R&&(x!==this.statics.blotName||this.formats()[x]!==$)&&this.replaceWith(x,$)},y.prototype.formats=function(){var x=this.attributes.values(),$=this.statics.formats(this.domNode);return null!=$&&(x[this.statics.blotName]=$),x},y.prototype.replaceWith=function(x,$){var R=E.prototype.replaceWith.call(this,x,$);return this.attributes.copy(R),R},y.prototype.update=function(x,$){var R=this;E.prototype.update.call(this,x,$),x.some(function(O){return O.target===R.domNode&&"attributes"===O.type})&&this.attributes.build()},y.prototype.wrap=function(x,$){var R=E.prototype.wrap.call(this,x,$);return R instanceof y&&R.statics.scope===this.statics.scope&&this.attributes.move(R),R},y}(C.default);_.default=I},function(Ne,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(30),D=d(1),C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.value=function(E){return!0},I.prototype.index=function(E,y){return this.domNode===E||this.domNode.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(y,1):-1},I.prototype.position=function(E,y){var x=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return E>0&&(x+=1),[this.parent.domNode,x]},I.prototype.value=function(){var E;return(E={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,E},I.scope=D.Scope.INLINE_BLOT,I}(w.default);_.default=C},function(Ne,_,d){var A=d(11),w=d(3),D={attributes:{compose:function(S,I,E){"object"!=typeof S&&(S={}),"object"!=typeof I&&(I={});var y=w(!0,{},I);for(var x in E||(y=Object.keys(y).reduce(function($,R){return null!=y[R]&&($[R]=y[R]),$},{})),S)void 0!==S[x]&&void 0===I[x]&&(y[x]=S[x]);return Object.keys(y).length>0?y:void 0},diff:function(S,I){"object"!=typeof S&&(S={}),"object"!=typeof I&&(I={});var E=Object.keys(S).concat(Object.keys(I)).reduce(function(y,x){return A(S[x],I[x])||(y[x]=void 0===I[x]?null:I[x]),y},{});return Object.keys(E).length>0?E:void 0},transform:function(S,I,E){if("object"!=typeof S)return I;if("object"==typeof I){if(!E)return I;var y=Object.keys(I).reduce(function(x,$){return void 0===S[$]&&(x[$]=I[$]),x},{});return Object.keys(y).length>0?y:void 0}}},iterator:function(S){return new C(S)},length:function(S){return"number"==typeof S.delete?S.delete:"number"==typeof S.retain?S.retain:"string"==typeof S.insert?S.insert.length:1}};function C(S){this.ops=S,this.index=0,this.offset=0}C.prototype.hasNext=function(){return this.peekLength()<1/0},C.prototype.next=function(S){S||(S=1/0);var I=this.ops[this.index];if(I){var E=this.offset,y=D.length(I);if(S>=y-E?(S=y-E,this.index+=1,this.offset=0):this.offset+=S,"number"==typeof I.delete)return{delete:S};var x={};return I.attributes&&(x.attributes=I.attributes),"number"==typeof I.retain?x.retain=S:x.insert="string"==typeof I.insert?I.insert.substr(E,S):I.insert,x}return{retain:1/0}},C.prototype.peek=function(){return this.ops[this.index]},C.prototype.peekLength=function(){return this.ops[this.index]?D.length(this.ops[this.index])-this.offset:1/0},C.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},C.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var S=this.offset,I=this.index,E=this.next(),y=this.ops.slice(this.index);return this.offset=S,this.index=I,[E].concat(y)}return[]},Ne.exports=D},function(Ne,_){var d=function(){"use strict";function A(R,O){return null!=O&&R instanceof O}var w,D,C;try{w=Map}catch{w=function(){}}try{D=Set}catch{D=function(){}}try{C=Promise}catch{C=function(){}}function S(R,O,M,L,z){"object"==typeof O&&(M=O.depth,L=O.prototype,z=O.includeNonEnumerable,O=O.circular);var F=[],J=[],ue=typeof Buffer<"u";return typeof O>"u"&&(O=!0),typeof M>"u"&&(M=1/0),function ce(re,we){if(null===re)return null;if(0===we)return re;var j,Y;if("object"!=typeof re)return re;if(A(re,w))j=new w;else if(A(re,D))j=new D;else if(A(re,C))j=new C(function(je,X){re.then(function(oe){je(ce(oe,we-1))},function(oe){X(ce(oe,we-1))})});else if(S.__isArray(re))j=[];else if(S.__isRegExp(re))j=new RegExp(re.source,$(re)),re.lastIndex&&(j.lastIndex=re.lastIndex);else if(S.__isDate(re))j=new Date(re.getTime());else{if(ue&&Buffer.isBuffer(re))return j=Buffer.allocUnsafe?Buffer.allocUnsafe(re.length):new Buffer(re.length),re.copy(j),j;A(re,Error)?j=Object.create(re):typeof L>"u"?(Y=Object.getPrototypeOf(re),j=Object.create(Y)):(j=Object.create(L),Y=L)}if(O){var se=F.indexOf(re);if(-1!=se)return J[se];F.push(re),J.push(j)}for(var W in A(re,w)&&re.forEach(function(je,X){var oe=ce(X,we-1),_e=ce(je,we-1);j.set(oe,_e)}),A(re,D)&&re.forEach(function(je){var X=ce(je,we-1);j.add(X)}),re){var Ce;Y&&(Ce=Object.getOwnPropertyDescriptor(Y,W)),(!Ce||null!=Ce.set)&&(j[W]=ce(re[W],we-1))}if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(re);for(W=0;W<Q.length;W++){var Me=Q[W];(Xe=Object.getOwnPropertyDescriptor(re,Me))&&!Xe.enumerable&&!z||(j[Me]=ce(re[Me],we-1),Xe.enumerable||Object.defineProperty(j,Me,{enumerable:!1}))}}if(z){var yt=Object.getOwnPropertyNames(re);for(W=0;W<yt.length;W++){var Xe,Je=yt[W];(Xe=Object.getOwnPropertyDescriptor(re,Je))&&Xe.enumerable||(j[Je]=ce(re[Je],we-1),Object.defineProperty(j,Je,{enumerable:!1}))}}return j}(R,M)}function I(R){return Object.prototype.toString.call(R)}function $(R){var O="";return R.global&&(O+="g"),R.ignoreCase&&(O+="i"),R.multiline&&(O+="m"),O}return S.clonePrototype=function(O){if(null===O)return null;var M=function(){};return M.prototype=O,new M},S.__objToStr=I,S.__isDate=function E(R){return"object"==typeof R&&"[object Date]"===I(R)},S.__isArray=function y(R){return"object"==typeof R&&"[object Array]"===I(R)},S.__isRegExp=function x(R){return"object"==typeof R&&"[object RegExp]"===I(R)},S.__getRegExpFlags=$,S}();"object"==typeof Ne&&Ne.exports&&(Ne.exports=d)},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(Y,se){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return function j(Y,se){var W=[],Ce=!0,Q=!1,Me=void 0;try{for(var yt,Xe=Y[Symbol.iterator]();!(Ce=(yt=Xe.next()).done)&&(W.push(yt.value),!se||W.length!==se);Ce=!0);}catch(Je){Q=!0,Me=Je}finally{try{!Ce&&Xe.return&&Xe.return()}finally{if(Q)throw Me}}return W}(Y,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function j(Y,se){for(var W=0;W<se.length;W++){var Ce=se[W];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Y,Ce.key,Ce)}}return function(Y,se,W){return se&&j(Y.prototype,se),W&&j(Y,W),Y}}(),D=function j(Y,se,W){null===Y&&(Y=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(Y,se);if(void 0===Ce){var Q=Object.getPrototypeOf(Y);return null===Q?void 0:j(Q,se,W)}if("value"in Ce)return Ce.value;var Me=Ce.get;return void 0===Me?void 0:Me.call(W)},S=F(d(0)),E=F(d(8)),y=d(4),x=F(y),R=F(d(16)),M=F(d(13)),z=F(d(25));function F(j){return j&&j.__esModule?j:{default:j}}function re(j){return j instanceof x.default||j instanceof y.BlockEmbed}var we=function(j){function Y(se,W){!function J(j,Y){if(!(j instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,Y);var Ce=function ue(j,Y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||"object"!=typeof Y&&"function"!=typeof Y?j:Y}(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,se));return Ce.emitter=W.emitter,Array.isArray(W.whitelist)&&(Ce.whitelist=W.whitelist.reduce(function(Q,Me){return Q[Me]=!0,Q},{})),Ce.domNode.addEventListener("DOMNodeInserted",function(){}),Ce.optimize(),Ce.enable(),Ce}return function ce(j,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);j.prototype=Object.create(Y&&Y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,Y):j.__proto__=Y)}(Y,j),w(Y,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(W,Ce){var Q=this.line(W),Me=A(Q,2),Xe=Me[0],yt=Me[1],Je=this.line(W+Ce),X=A(Je,1)[0];if(D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"deleteAt",this).call(this,W,Ce),null!=X&&Xe!==X&&yt>0){if(Xe instanceof y.BlockEmbed||X instanceof y.BlockEmbed)return void this.optimize();if(Xe instanceof M.default){var oe=Xe.newlineIndex(Xe.length(),!0);if(oe>-1&&(Xe=Xe.split(oe+1))===X)return void this.optimize()}else if(X instanceof M.default){var _e=X.newlineIndex(0);_e>-1&&X.split(_e+1)}Xe.moveChildren(X,X.children.head instanceof R.default?null:X.children.head),Xe.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(W,Ce,Q,Me){null!=this.whitelist&&!this.whitelist[Q]||(D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"formatAt",this).call(this,W,Ce,Q,Me),this.optimize())}},{key:"insertAt",value:function(W,Ce,Q){if(null==Q||null==this.whitelist||this.whitelist[Ce]){if(W>=this.length())if(null==Q||null==S.default.query(Ce,S.default.Scope.BLOCK)){var Me=S.default.create(this.statics.defaultChild);this.appendChild(Me),null==Q&&Ce.endsWith("\n")&&(Ce=Ce.slice(0,-1)),Me.insertAt(0,Ce,Q)}else{var Xe=S.default.create(Ce,Q);this.appendChild(Xe)}else D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"insertAt",this).call(this,W,Ce,Q);this.optimize()}}},{key:"insertBefore",value:function(W,Ce){if(W.statics.scope===S.default.Scope.INLINE_BLOT){var Q=S.default.create(this.statics.defaultChild);Q.appendChild(W),W=Q}D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"insertBefore",this).call(this,W,Ce)}},{key:"leaf",value:function(W){return this.path(W).pop()||[null,-1]}},{key:"line",value:function(W){return W===this.length()?this.line(W-1):this.descendant(re,W)}},{key:"lines",value:function(){return function Me(Xe,yt,Je){var je=[],X=Je;return Xe.children.forEachAt(yt,Je,function(oe,_e,ve){re(oe)?je.push(oe):oe instanceof S.default.Container&&(je=je.concat(Me(oe,_e,X))),X-=ve}),je}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"optimize",this).call(this,W,Ce),W.length>0&&this.emitter.emit(E.default.events.SCROLL_OPTIMIZE,W,Ce))}},{key:"path",value:function(W){return D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"path",this).call(this,W).slice(1)}},{key:"update",value:function(W){if(!0!==this.batch){var Ce=E.default.sources.USER;"string"==typeof W&&(Ce=W),Array.isArray(W)||(W=this.observer.takeRecords()),W.length>0&&this.emitter.emit(E.default.events.SCROLL_BEFORE_UPDATE,Ce,W),D(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"update",this).call(this,W.concat([])),W.length>0&&this.emitter.emit(E.default.events.SCROLL_UPDATE,Ce,W)}}}]),Y}(S.default.Scroll);we.blotName="scroll",we.className="ql-editor",we.tagName="DIV",we.defaultChild="block",we.allowedChildren=[x.default,y.BlockEmbed,z.default],_.default=we},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SHORTKEY=_.default=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ve){return typeof Ve}:function(Ve){return Ve&&"function"==typeof Symbol&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve},w=function(){return function(Qe,Pt){if(Array.isArray(Qe))return Qe;if(Symbol.iterator in Object(Qe))return function Ve(Qe,Pt){var Se=[],qt=!0,Vt=!1,Tt=void 0;try{for(var ft,Ot=Qe[Symbol.iterator]();!(qt=(ft=Ot.next()).done)&&(Se.push(ft.value),!Pt||Se.length!==Pt);qt=!0);}catch(Re){Vt=!0,Tt=Re}finally{try{!qt&&Ot.return&&Ot.return()}finally{if(Vt)throw Tt}}return Se}(Qe,Pt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Ve(Qe,Pt){for(var Se=0;Se<Pt.length;Se++){var qt=Pt[Se];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(Qe,qt.key,qt)}}return function(Qe,Pt,Se){return Pt&&Ve(Qe.prototype,Pt),Se&&Ve(Qe,Se),Qe}}(),S=j(d(21)),E=j(d(11)),x=j(d(3)),R=j(d(2)),M=j(d(20)),z=j(d(0)),J=j(d(5)),ce=j(d(10)),we=j(d(9));function j(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}function Y(Ve,Qe,Pt){return Qe in Ve?Object.defineProperty(Ve,Qe,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):Ve[Qe]=Pt,Ve}var Q=(0,ce.default)("quill:keyboard"),Me=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Xe=function(Ve){function Qe(Pt,Se){!function se(Ve,Qe){if(!(Ve instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,Qe);var qt=function W(Ve,Qe){if(!Ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Qe||"object"!=typeof Qe&&"function"!=typeof Qe?Ve:Qe}(this,(Qe.__proto__||Object.getPrototypeOf(Qe)).call(this,Pt,Se));return qt.bindings={},Object.keys(qt.options.bindings).forEach(function(Vt){"list autofill"===Vt&&null!=Pt.scroll.whitelist&&!Pt.scroll.whitelist.list||qt.options.bindings[Vt]&&qt.addBinding(qt.options.bindings[Vt])}),qt.addBinding({key:Qe.keys.ENTER,shiftKey:null},oe),qt.addBinding({key:Qe.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0},Je),qt.addBinding({key:Qe.keys.DELETE},{collapsed:!0},je)):(qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Je),qt.addBinding({key:Qe.keys.DELETE},{collapsed:!0,suffix:/^.?$/},je)),qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!1},X),qt.addBinding({key:Qe.keys.DELETE},{collapsed:!1},X),qt.addBinding({key:Qe.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Je),qt.listen(),qt}return function Ce(Ve,Qe){if("function"!=typeof Qe&&null!==Qe)throw new TypeError("Super expression must either be null or a function, not "+typeof Qe);Ve.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:Ve,enumerable:!1,writable:!0,configurable:!0}}),Qe&&(Object.setPrototypeOf?Object.setPrototypeOf(Ve,Qe):Ve.__proto__=Qe)}(Qe,Ve),D(Qe,null,[{key:"match",value:function(Se,qt){return qt=Pe(qt),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Vt){return!!qt[Vt]!==Se[Vt]&&null!==qt[Vt]})&&qt.key===(Se.which||Se.keyCode)}}]),D(Qe,[{key:"addBinding",value:function(Se){var qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Vt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Tt=Pe(Se);if(null==Tt||null==Tt.key)return Q.warn("Attempted to add invalid keyboard binding",Tt);"function"==typeof qt&&(qt={handler:qt}),"function"==typeof Vt&&(Vt={handler:Vt}),Tt=(0,x.default)(Tt,qt,Vt),this.bindings[Tt.key]=this.bindings[Tt.key]||[],this.bindings[Tt.key].push(Tt)}},{key:"listen",value:function(){var Se=this;this.quill.root.addEventListener("keydown",function(qt){if(!qt.defaultPrevented){var Tt=(Se.bindings[qt.which||qt.keyCode]||[]).filter(function(Gt){return Qe.match(qt,Gt)});if(0!==Tt.length){var Ot=Se.quill.getSelection();if(null!=Ot&&Se.quill.hasFocus()){var ft=Se.quill.getLine(Ot.index),Re=w(ft,2),Ye=Re[0],vt=Re[1],It=Se.quill.getLeaf(Ot.index),ot=w(It,2),st=ot[0],Nt=ot[1],Ut=0===Ot.length?[st,Nt]:Se.quill.getLeaf(Ot.index+Ot.length),wt=w(Ut,2),ct=wt[0],ut=wt[1],Z=st instanceof z.default.Text?st.value().slice(0,Nt):"",Fe=ct instanceof z.default.Text?ct.value().slice(ut):"",pe={collapsed:0===Ot.length,empty:0===Ot.length&&Ye.length()<=1,format:Se.quill.getFormat(Ot),offset:vt,prefix:Z,suffix:Fe};Tt.some(function(Gt){if(null!=Gt.collapsed&&Gt.collapsed!==pe.collapsed||null!=Gt.empty&&Gt.empty!==pe.empty||null!=Gt.offset&&Gt.offset!==pe.offset)return!1;if(Array.isArray(Gt.format)){if(Gt.format.every(function(nn){return null==pe.format[nn]}))return!1}else if("object"===A(Gt.format)&&!Object.keys(Gt.format).every(function(nn){return!0===Gt.format[nn]?null!=pe.format[nn]:!1===Gt.format[nn]?null==pe.format[nn]:(0,E.default)(Gt.format[nn],pe.format[nn])}))return!1;return!(null!=Gt.prefix&&!Gt.prefix.test(pe.prefix)||null!=Gt.suffix&&!Gt.suffix.test(pe.suffix))&&!0!==Gt.handler.call(Se,Ot,pe)})&&qt.preventDefault()}}}})}}]),Qe}(we.default);function yt(Ve,Qe){var Pt;return Y(Pt={key:Ve,shiftKey:Qe,altKey:null},Ve===Xe.keys.LEFT?"prefix":"suffix",/^$/),Y(Pt,"handler",function(Vt){var Tt=Vt.index;Ve===Xe.keys.RIGHT&&(Tt+=Vt.length+1);var Ot=this.quill.getLeaf(Tt);return!(w(Ot,1)[0]instanceof z.default.Embed&&(Ve===Xe.keys.LEFT?Qe?this.quill.setSelection(Vt.index-1,Vt.length+1,J.default.sources.USER):this.quill.setSelection(Vt.index-1,J.default.sources.USER):Qe?this.quill.setSelection(Vt.index,Vt.length+1,J.default.sources.USER):this.quill.setSelection(Vt.index+Vt.length+1,J.default.sources.USER),1))}),Pt}function Je(Ve,Qe){if(!(0===Ve.index||this.quill.getLength()<=1)){var Pt=this.quill.getLine(Ve.index),qt=w(Pt,1)[0],Vt={};if(0===Qe.offset){var Tt=this.quill.getLine(Ve.index-1),ft=w(Tt,1)[0];if(null!=ft&&ft.length()>1){var Re=qt.formats(),Ye=this.quill.getFormat(Ve.index-1,1);Vt=M.default.attributes.diff(Re,Ye)||{}}}var vt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Qe.prefix)?2:1;this.quill.deleteText(Ve.index-vt,vt,J.default.sources.USER),Object.keys(Vt).length>0&&this.quill.formatLine(Ve.index-vt,vt,Vt,J.default.sources.USER),this.quill.focus()}}function je(Ve,Qe){var Pt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Qe.suffix)?2:1;if(!(Ve.index>=this.quill.getLength()-Pt)){var Se={},qt=0,Vt=this.quill.getLine(Ve.index),Ot=w(Vt,1)[0];if(Qe.offset>=Ot.length()-1){var ft=this.quill.getLine(Ve.index+1),Ye=w(ft,1)[0];if(Ye){var vt=Ot.formats(),It=this.quill.getFormat(Ve.index,1);Se=M.default.attributes.diff(vt,It)||{},qt=Ye.length()}}this.quill.deleteText(Ve.index,Pt,J.default.sources.USER),Object.keys(Se).length>0&&this.quill.formatLine(Ve.index+qt-1,Pt,Se,J.default.sources.USER)}}function X(Ve){var Qe=this.quill.getLines(Ve),Pt={};if(Qe.length>1){var Se=Qe[0].formats(),qt=Qe[Qe.length-1].formats();Pt=M.default.attributes.diff(qt,Se)||{}}this.quill.deleteText(Ve,J.default.sources.USER),Object.keys(Pt).length>0&&this.quill.formatLine(Ve.index,1,Pt,J.default.sources.USER),this.quill.setSelection(Ve.index,J.default.sources.SILENT),this.quill.focus()}function oe(Ve,Qe){var Pt=this;Ve.length>0&&this.quill.scroll.deleteAt(Ve.index,Ve.length);var Se=Object.keys(Qe.format).reduce(function(qt,Vt){return z.default.query(Vt,z.default.Scope.BLOCK)&&!Array.isArray(Qe.format[Vt])&&(qt[Vt]=Qe.format[Vt]),qt},{});this.quill.insertText(Ve.index,"\n",Se,J.default.sources.USER),this.quill.setSelection(Ve.index+1,J.default.sources.SILENT),this.quill.focus(),Object.keys(Qe.format).forEach(function(qt){null==Se[qt]&&(Array.isArray(Qe.format[qt])||"link"!==qt&&Pt.quill.format(qt,Qe.format[qt],J.default.sources.USER))})}function _e(Ve){return{key:Xe.keys.TAB,shiftKey:!Ve,format:{"code-block":!0},handler:function(Pt){var Se=z.default.query("code-block"),qt=Pt.index,Vt=Pt.length,Tt=this.quill.scroll.descendant(Se,qt),Ot=w(Tt,2),ft=Ot[0],Re=Ot[1];if(null!=ft){var Ye=this.quill.getIndex(ft),vt=ft.newlineIndex(Re,!0)+1,It=ft.newlineIndex(Ye+Re+Vt),ot=ft.domNode.textContent.slice(vt,It).split("\n");Re=0,ot.forEach(function(st,Nt){Ve?(ft.insertAt(vt+Re,Se.TAB),Re+=Se.TAB.length,0===Nt?qt+=Se.TAB.length:Vt+=Se.TAB.length):st.startsWith(Se.TAB)&&(ft.deleteAt(vt+Re,Se.TAB.length),Re-=Se.TAB.length,0===Nt?qt-=Se.TAB.length:Vt-=Se.TAB.length),Re+=st.length+1}),this.quill.update(J.default.sources.USER),this.quill.setSelection(qt,Vt,J.default.sources.SILENT)}}}}function ve(Ve){return{key:Ve[0].toUpperCase(),shortKey:!0,handler:function(Pt,Se){this.quill.format(Ve,!Se.format[Ve],J.default.sources.USER)}}}function Pe(Ve){if("string"==typeof Ve||"number"==typeof Ve)return Pe({key:Ve});if("object"===(typeof Ve>"u"?"undefined":A(Ve))&&(Ve=(0,S.default)(Ve,!1)),"string"==typeof Ve.key)if(null!=Xe.keys[Ve.key.toUpperCase()])Ve.key=Xe.keys[Ve.key.toUpperCase()];else{if(1!==Ve.key.length)return null;Ve.key=Ve.key.toUpperCase().charCodeAt(0)}return Ve.shortKey&&(Ve[Me]=Ve.shortKey,delete Ve.shortKey),Ve}Xe.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Xe.DEFAULTS={bindings:{bold:ve("bold"),italic:ve("italic"),underline:ve("underline"),indent:{key:Xe.keys.TAB,format:["blockquote","indent","list"],handler:function(Qe,Pt){if(Pt.collapsed&&0!==Pt.offset)return!0;this.quill.format("indent","+1",J.default.sources.USER)}},outdent:{key:Xe.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Qe,Pt){if(Pt.collapsed&&0!==Pt.offset)return!0;this.quill.format("indent","-1",J.default.sources.USER)}},"outdent backspace":{key:Xe.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Qe,Pt){null!=Pt.format.indent?this.quill.format("indent","-1",J.default.sources.USER):null!=Pt.format.list&&this.quill.format("list",!1,J.default.sources.USER)}},"indent code-block":_e(!0),"outdent code-block":_e(!1),"remove tab":{key:Xe.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Qe){this.quill.deleteText(Qe.index-1,1,J.default.sources.USER)}},tab:{key:Xe.keys.TAB,handler:function(Qe){this.quill.history.cutoff();var Pt=(new R.default).retain(Qe.index).delete(Qe.length).insert("\t");this.quill.updateContents(Pt,J.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT)}},"list empty enter":{key:Xe.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Qe,Pt){this.quill.format("list",!1,J.default.sources.USER),Pt.format.indent&&this.quill.format("indent",!1,J.default.sources.USER)}},"checklist enter":{key:Xe.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Qe){var Pt=this.quill.getLine(Qe.index),Se=w(Pt,2),qt=Se[0],Vt=Se[1],Tt=(0,x.default)({},qt.formats(),{list:"checked"}),Ot=(new R.default).retain(Qe.index).insert("\n",Tt).retain(qt.length()-Vt-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ot,J.default.sources.USER),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Xe.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Qe,Pt){var Se=this.quill.getLine(Qe.index),qt=w(Se,2),Vt=qt[0],Tt=qt[1],Ot=(new R.default).retain(Qe.index).insert("\n",Pt.format).retain(Vt.length()-Tt-1).retain(1,{header:null});this.quill.updateContents(Ot,J.default.sources.USER),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Qe,Pt){var Se=Pt.prefix.length,qt=this.quill.getLine(Qe.index),Vt=w(qt,2),Tt=Vt[0],Ot=Vt[1];if(Ot>Se)return!0;var ft=void 0;switch(Pt.prefix.trim()){case"[]":case"[ ]":ft="unchecked";break;case"[x]":ft="checked";break;case"-":case"*":ft="bullet";break;default:ft="ordered"}this.quill.insertText(Qe.index," ",J.default.sources.USER),this.quill.history.cutoff();var Re=(new R.default).retain(Qe.index-Ot).delete(Se+1).retain(Tt.length()-2-Ot).retain(1,{list:ft});this.quill.updateContents(Re,J.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Qe.index-Se,J.default.sources.SILENT)}},"code exit":{key:Xe.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Qe){var Pt=this.quill.getLine(Qe.index),Se=w(Pt,2),qt=Se[0],Vt=Se[1],Tt=(new R.default).retain(Qe.index+qt.length()-Vt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Tt,J.default.sources.USER)}},"embed left":yt(Xe.keys.LEFT,!1),"embed left shift":yt(Xe.keys.LEFT,!0),"embed right":yt(Xe.keys.RIGHT,!1),"embed right shift":yt(Xe.keys.RIGHT,!0)}},_.default=Xe,_.SHORTKEY=Me},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(L,z){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function M(L,z){var F=[],J=!0,ue=!1,ce=void 0;try{for(var we,re=L[Symbol.iterator]();!(J=(we=re.next()).done)&&(F.push(we.value),!z||F.length!==z);J=!0);}catch(j){ue=!0,ce=j}finally{try{!J&&re.return&&re.return()}finally{if(ue)throw ce}}return F}(L,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function M(L,z,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,z);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,z,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},D=function(){function M(L,z){for(var F=0;F<z.length;F++){var J=z[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,z,F){return z&&M(L.prototype,z),F&&M(L,F),L}}(),S=y(d(0)),E=y(d(7));function y(M){return M&&M.__esModule?M:{default:M}}var O=function(M){function L(z,F){!function x(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L);var J=function $(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,z));return J.selection=F,J.textNode=document.createTextNode(L.CONTENTS),J.domNode.appendChild(J.textNode),J._length=0,J}return function R(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),D(L,null,[{key:"value",value:function(){}}]),D(L,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(F,J){if(0!==this._length)return w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,F,J);for(var ue=this,ce=0;null!=ue&&ue.statics.scope!==S.default.Scope.BLOCK_BLOT;)ce+=ue.offset(ue.parent),ue=ue.parent;null!=ue&&(this._length=L.CONTENTS.length,ue.optimize(),ue.formatAt(ce,L.CONTENTS.length,F,J),this._length=0)}},{key:"index",value:function(F,J){return F===this.textNode?0:w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"index",this).call(this,F,J)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var F=this.textNode,J=this.selection.getNativeRange(),ue=void 0,ce=void 0,re=void 0;if(null!=J&&J.start.node===F&&J.end.node===F){var we=[F,J.start.offset,J.end.offset];ue=we[0],ce=we[1],re=we[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==L.CONTENTS){var j=this.textNode.data.split(L.CONTENTS).join("");this.next instanceof E.default?(ue=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=L.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(S.default.create(this.textNode),this),this.textNode=document.createTextNode(L.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=ce){var Y=[ce,re].map(function(W){return Math.max(0,Math.min(ue.data.length,W-1))}),se=A(Y,2);return{startNode:ue,startOffset:ce=se[0],endNode:ue,endOffset:re=se[1]}}}}},{key:"update",value:function(F,J){var ue=this;if(F.some(function(re){return"characterData"===re.type&&re.target===ue.textNode})){var ce=this.restore();ce&&(J.range=ce)}}},{key:"value",value:function(){return""}}]),L}(S.default.Embed);O.blotName="cursor",O.className="ql-cursor",O.tagName="span",O.CONTENTS="\ufeff",_.default=O},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=S(d(0)),D=d(4),C=S(D);function S($){return $&&$.__esModule?$:{default:$}}var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),R}(w.default.Container);x.allowedChildren=[C.default,D.BlockEmbed,x],_.default=x},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ColorStyle=_.ColorClass=_.ColorAttributor=void 0;var A=function(){function O(M,L){for(var z=0;z<L.length;z++){var F=L[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,z){return L&&O(M.prototype,L),z&&O(M,z),M}}(),w=function O(M,L,z){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,z)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(z)},C=function S(O){return O&&O.__esModule?O:{default:O}}(d(0));var x=function(O){function M(){return function I(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function E(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function y(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"value",value:function(z){var F=w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"value",this).call(this,z);return F.startsWith("rgb(")?"#"+(F=F.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(J){return("00"+parseInt(J).toString(16)).slice(-2)}).join(""):F}}]),M}(C.default.Attributor.Style),$=new C.default.Attributor.Class("color","ql-color",{scope:C.default.Scope.INLINE}),R=new x("color","color",{scope:C.default.Scope.INLINE});_.ColorAttributor=x,_.ColorClass=$,_.ColorStyle=R},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sanitize=_.default=void 0;var A=function(){function R(O,M){for(var L=0;L<M.length;L++){var z=M[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,M,L){return M&&R(O.prototype,M),L&&R(O,L),O}}(),w=function R(O,M,L){null===O&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,M);if(void 0===z){var F=Object.getPrototypeOf(O);return null===F?void 0:R(F,M,L)}if("value"in z)return z.value;var J=z.get;return void 0===J?void 0:J.call(L)};var x=function(R){function O(){return function I(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function E(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?R:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}(O,R),A(O,[{key:"format",value:function(L,z){if(L!==this.statics.blotName||!z)return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,L,z);z=this.constructor.sanitize(z),this.domNode.setAttribute("href",z)}}],[{key:"create",value:function(L){var z=w(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,L);return L=this.sanitize(L),z.setAttribute("href",L),z.setAttribute("rel","noopener noreferrer"),z.setAttribute("target","_blank"),z}},{key:"formats",value:function(L){return L.getAttribute("href")}},{key:"sanitize",value:function(L){return $(L,this.PROTOCOL_WHITELIST)?L:this.SANITIZED_URL}}]),O}(function S(R){return R&&R.__esModule?R:{default:R}}(d(6)).default);function $(R,O){var M=document.createElement("a");M.href=R;var L=M.href.slice(0,M.href.indexOf(":"));return O.indexOf(L)>-1}x.blotName="link",x.tagName="A",x.SANITIZED_URL="about:blank",x.PROTOCOL_WHITELIST=["http","https","mailto","tel"],_.default=x,_.sanitize=$},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},w=function(){function O(M,L){for(var z=0;z<L.length;z++){var F=L[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,z){return L&&O(M.prototype,L),z&&O(M,z),M}}(),C=E(d(23)),I=E(d(107));function E(O){return O&&O.__esModule?O:{default:O}}var x=0;function $(O,M){O.setAttribute(M,"true"!==O.getAttribute(M))}var R=function(){function O(M){var L=this;(function y(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,O),this.select=M,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){L.togglePicker()}),this.label.addEventListener("keydown",function(z){switch(z.keyCode){case C.default.keys.ENTER:L.togglePicker();break;case C.default.keys.ESCAPE:L.escape(),z.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(O,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),$(this.label,"aria-expanded"),$(this.options,"aria-hidden")}},{key:"buildItem",value:function(L){var z=this,F=document.createElement("span");return F.tabIndex="0",F.setAttribute("role","button"),F.classList.add("ql-picker-item"),L.hasAttribute("value")&&F.setAttribute("data-value",L.getAttribute("value")),L.textContent&&F.setAttribute("data-label",L.textContent),F.addEventListener("click",function(){z.selectItem(F,!0)}),F.addEventListener("keydown",function(J){switch(J.keyCode){case C.default.keys.ENTER:z.selectItem(F,!0),J.preventDefault();break;case C.default.keys.ESCAPE:z.escape(),J.preventDefault()}}),F}},{key:"buildLabel",value:function(){var L=document.createElement("span");return L.classList.add("ql-picker-label"),L.innerHTML=I.default,L.tabIndex="0",L.setAttribute("role","button"),L.setAttribute("aria-expanded","false"),this.container.appendChild(L),L}},{key:"buildOptions",value:function(){var L=this,z=document.createElement("span");z.classList.add("ql-picker-options"),z.setAttribute("aria-hidden","true"),z.tabIndex="-1",z.id="ql-picker-options-"+x,x+=1,this.label.setAttribute("aria-controls",z.id),this.options=z,[].slice.call(this.select.options).forEach(function(F){var J=L.buildItem(F);z.appendChild(J),!0===F.selected&&L.selectItem(J)}),this.container.appendChild(z)}},{key:"buildPicker",value:function(){var L=this;[].slice.call(this.select.attributes).forEach(function(z){L.container.setAttribute(z.name,z.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var L=this;this.close(),setTimeout(function(){return L.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(L){var z=arguments.length>1&&void 0!==arguments[1]&&arguments[1],F=this.container.querySelector(".ql-selected");if(L!==F&&(F?.classList.remove("ql-selected"),null!=L&&(L.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(L.parentNode.children,L),L.hasAttribute("data-value")?this.label.setAttribute("data-value",L.getAttribute("data-value")):this.label.removeAttribute("data-value"),L.hasAttribute("data-label")?this.label.setAttribute("data-label",L.getAttribute("data-label")):this.label.removeAttribute("data-label"),z))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":A(Event))){var J=document.createEvent("Event");J.initEvent("change",!0,!0),this.select.dispatchEvent(J)}this.close()}}},{key:"update",value:function(){var L=void 0;if(this.select.selectedIndex>-1){var z=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];L=this.select.options[this.select.selectedIndex],this.selectItem(z)}else this.selectItem(null);var F=null!=L&&L!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",F)}}]),O}();_.default=R},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=Q(d(0)),C=Q(d(5)),S=d(4),I=Q(S),y=Q(d(16)),$=Q(d(25)),O=Q(d(24)),L=Q(d(35)),F=Q(d(6)),ue=Q(d(22)),re=Q(d(7)),j=Q(d(55)),se=Q(d(42)),Ce=Q(d(23));function Q(Me){return Me&&Me.__esModule?Me:{default:Me}}C.default.register({"blots/block":I.default,"blots/block/embed":S.BlockEmbed,"blots/break":y.default,"blots/container":$.default,"blots/cursor":O.default,"blots/embed":L.default,"blots/inline":F.default,"blots/scroll":ue.default,"blots/text":re.default,"modules/clipboard":j.default,"modules/history":se.default,"modules/keyboard":Ce.default}),w.default.register(I.default,y.default,O.default,F.default,ue.default,re.default),_.default=C.default},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(1),w=function(){function D(C){this.domNode=C,this.domNode[A.DATA_KEY]={blot:this}}return Object.defineProperty(D.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),D.create=function(C){if(null==this.tagName)throw new A.ParchmentError("Blot definition missing tagName");var S;return Array.isArray(this.tagName)?("string"==typeof C&&(C=C.toUpperCase(),parseInt(C).toString()===C&&(C=parseInt(C))),S="number"==typeof C?document.createElement(this.tagName[C-1]):this.tagName.indexOf(C)>-1?document.createElement(C):document.createElement(this.tagName[0])):S=document.createElement(this.tagName),this.className&&S.classList.add(this.className),S},D.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},D.prototype.clone=function(){var C=this.domNode.cloneNode(!1);return A.create(C)},D.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[A.DATA_KEY]},D.prototype.deleteAt=function(C,S){this.isolate(C,S).remove()},D.prototype.formatAt=function(C,S,I,E){var y=this.isolate(C,S);if(null!=A.query(I,A.Scope.BLOT)&&E)y.wrap(I,E);else if(null!=A.query(I,A.Scope.ATTRIBUTE)){var x=A.create(this.statics.scope);y.wrap(x),x.format(I,E)}},D.prototype.insertAt=function(C,S,I){var E=null==I?A.create("text",S):A.create(S,I),y=this.split(C);this.parent.insertBefore(E,y)},D.prototype.insertInto=function(C,S){void 0===S&&(S=null),null!=this.parent&&this.parent.children.remove(this);var I=null;C.children.insertBefore(this,S),null!=S&&(I=S.domNode),(this.domNode.parentNode!=C.domNode||this.domNode.nextSibling!=I)&&C.domNode.insertBefore(this.domNode,I),this.parent=C,this.attach()},D.prototype.isolate=function(C,S){var I=this.split(C);return I.split(S),I},D.prototype.length=function(){return 1},D.prototype.offset=function(C){return void 0===C&&(C=this.parent),null==this.parent||this==C?0:this.parent.children.offset(this)+this.parent.offset(C)},D.prototype.optimize=function(C){null!=this.domNode[A.DATA_KEY]&&delete this.domNode[A.DATA_KEY].mutations},D.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},D.prototype.replace=function(C){null!=C.parent&&(C.parent.insertBefore(this,C.next),C.remove())},D.prototype.replaceWith=function(C,S){var I="string"==typeof C?A.create(C,S):C;return I.replace(this),I},D.prototype.split=function(C,S){return 0===C?this:this.next},D.prototype.update=function(C,S){},D.prototype.wrap=function(C,S){var I="string"==typeof C?A.create(C,S):C;return null!=this.parent&&this.parent.insertBefore(I,this.next),I.appendChild(this),I},D.blotName="abstract",D}();_.default=w},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(12),w=d(32),D=d(33),C=d(1),S=function(){function I(E){this.attributes={},this.domNode=E,this.build()}return I.prototype.attribute=function(E,y){y?E.add(this.domNode,y)&&(null!=E.value(this.domNode)?this.attributes[E.attrName]=E:delete this.attributes[E.attrName]):(E.remove(this.domNode),delete this.attributes[E.attrName])},I.prototype.build=function(){var E=this;this.attributes={};var y=A.default.keys(this.domNode),x=w.default.keys(this.domNode),$=D.default.keys(this.domNode);y.concat(x).concat($).forEach(function(R){var O=C.query(R,C.Scope.ATTRIBUTE);O instanceof A.default&&(E.attributes[O.attrName]=O)})},I.prototype.copy=function(E){var y=this;Object.keys(this.attributes).forEach(function(x){var $=y.attributes[x].value(y.domNode);E.format(x,$)})},I.prototype.move=function(E){var y=this;this.copy(E),Object.keys(this.attributes).forEach(function(x){y.attributes[x].remove(y.domNode)}),this.attributes={}},I.prototype.values=function(){var E=this;return Object.keys(this.attributes).reduce(function(y,x){return y[x]=E.attributes[x].value(E.domNode),y},{})},I}();_.default=S},function(Ne,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});function D(S,I){return(S.getAttribute("class")||"").split(/\s+/).filter(function(y){return 0===y.indexOf(I+"-")})}Object.defineProperty(_,"__esModule",{value:!0});var C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.keys=function(E){return(E.getAttribute("class")||"").split(/\s+/).map(function(y){return y.split("-").slice(0,-1).join("-")})},I.prototype.add=function(E,y){return!!this.canAdd(E,y)&&(this.remove(E),E.classList.add(this.keyName+"-"+y),!0)},I.prototype.remove=function(E){D(E,this.keyName).forEach(function(x){E.classList.remove(x)}),0===E.classList.length&&E.removeAttribute("class")},I.prototype.value=function(E){var x=(D(E,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(E,x)?x:""},I}(d(12).default);_.default=C},function(Ne,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});function D(S){var I=S.split("-"),E=I.slice(1).map(function(y){return y[0].toUpperCase()+y.slice(1)}).join("");return I[0]+E}Object.defineProperty(_,"__esModule",{value:!0});var C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.keys=function(E){return(E.getAttribute("style")||"").split(";").map(function(y){return y.split(":")[0].trim()})},I.prototype.add=function(E,y){return!!this.canAdd(E,y)&&(E.style[D(this.keyName)]=y,!0)},I.prototype.remove=function(E){E.style[D(this.keyName)]="",E.getAttribute("style")||E.removeAttribute("style")},I.prototype.value=function(E){var y=E.style[D(this.keyName)];return this.canAdd(E,y)?y:""},I}(d(12).default);_.default=C},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function C(S,I){for(var E=0;E<I.length;E++){var y=I[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}return function(S,I,E){return I&&C(S.prototype,I),E&&C(S,E),S}}();var D=function(){function C(S,I){(function w(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.quill=S,this.options=I,this.modules={}}return A(C,[{key:"init",value:function(){var I=this;Object.keys(this.options.modules).forEach(function(E){null==I.modules[E]&&I.addModule(E)})}},{key:"addModule",value:function(I){var E=this.quill.constructor.import("modules/"+I);return this.modules[I]=new E(this.quill,this.options.modules[I]||{}),this.modules[I]}}]),C}();D.DEFAULTS={modules:{}},D.themes={default:D},_.default=D},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function M(L,z){for(var F=0;F<z.length;F++){var J=z[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,z,F){return z&&M(L.prototype,z),F&&M(L,F),L}}(),w=function M(L,z,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,z);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,z,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},C=E(d(0)),I=E(d(7));function E(M){return M&&M.__esModule?M:{default:M}}var R="\ufeff",O=function(M){function L(z){!function y(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L);var F=function x(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,z));return F.contentNode=document.createElement("span"),F.contentNode.setAttribute("contenteditable",!1),[].slice.call(F.domNode.childNodes).forEach(function(J){F.contentNode.appendChild(J)}),F.leftGuard=document.createTextNode(R),F.rightGuard=document.createTextNode(R),F.domNode.appendChild(F.leftGuard),F.domNode.appendChild(F.contentNode),F.domNode.appendChild(F.rightGuard),F}return function $(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),A(L,[{key:"index",value:function(F,J){return F===this.leftGuard?0:F===this.rightGuard?1:w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"index",this).call(this,F,J)}},{key:"restore",value:function(F){var J=void 0,ue=void 0,ce=F.data.split(R).join("");if(F===this.leftGuard)if(this.prev instanceof I.default){var re=this.prev.length();this.prev.insertAt(re,ce),J={startNode:this.prev.domNode,startOffset:re+ce.length}}else ue=document.createTextNode(ce),this.parent.insertBefore(C.default.create(ue),this),J={startNode:ue,startOffset:ce.length};else F===this.rightGuard&&(this.next instanceof I.default?(this.next.insertAt(0,ce),J={startNode:this.next.domNode,startOffset:ce.length}):(ue=document.createTextNode(ce),this.parent.insertBefore(C.default.create(ue),this.next),J={startNode:ue,startOffset:ce.length}));return F.data=R,J}},{key:"update",value:function(F,J){var ue=this;F.forEach(function(ce){if("characterData"===ce.type&&(ce.target===ue.leftGuard||ce.target===ue.rightGuard)){var re=ue.restore(ce.target);re&&(J.range=re)}})}}]),L}(C.default.Embed);_.default=O},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.AlignStyle=_.AlignClass=_.AlignAttribute=void 0;var w=function D(y){return y&&y.__esModule?y:{default:y}}(d(0));var C={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},S=new w.default.Attributor.Attribute("align","align",C),I=new w.default.Attributor.Class("align","ql-align",C),E=new w.default.Attributor.Style("align","text-align",C);_.AlignAttribute=S,_.AlignClass=I,_.AlignStyle=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.BackgroundStyle=_.BackgroundClass=void 0;var w=function C(E){return E&&E.__esModule?E:{default:E}}(d(0)),D=d(26);var S=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),I=new D.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});_.BackgroundClass=S,_.BackgroundStyle=I},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DirectionStyle=_.DirectionClass=_.DirectionAttribute=void 0;var w=function D(y){return y&&y.__esModule?y:{default:y}}(d(0));var C={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},S=new w.default.Attributor.Attribute("direction","dir",C),I=new w.default.Attributor.Class("direction","ql-direction",C),E=new w.default.Attributor.Style("direction","direction",C);_.DirectionAttribute=S,_.DirectionClass=I,_.DirectionStyle=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FontClass=_.FontStyle=void 0;var A=function(){function M(L,z){for(var F=0;F<z.length;F++){var J=z[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,z,F){return z&&M(L.prototype,z),F&&M(L,F),L}}(),w=function M(L,z,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,z);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,z,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},C=function S(M){return M&&M.__esModule?M:{default:M}}(d(0));var x={scope:C.default.Scope.INLINE,whitelist:["serif","monospace"]},$=new C.default.Attributor.Class("font","ql-font",x),R=function(M){function L(){return function I(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L),function E(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return function y(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),A(L,[{key:"value",value:function(F){return w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"value",this).call(this,F).replace(/["']/g,"")}}]),L}(C.default.Attributor.Style),O=new R("font","font-family",x);_.FontStyle=O,_.FontClass=$},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SizeStyle=_.SizeClass=void 0;var w=function D(I){return I&&I.__esModule?I:{default:I}}(d(0));var C=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),S=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});_.SizeClass=C,_.SizeStyle=S},function(Ne,_,d){"use strict";Ne.exports={align:{"":d(76),center:d(77),right:d(78),justify:d(79)},background:d(80),blockquote:d(81),bold:d(82),clean:d(83),code:d(58),"code-block":d(58),color:d(84),direction:{"":d(85),rtl:d(86)},float:{center:d(87),full:d(88),left:d(89),right:d(90)},formula:d(91),header:{1:d(92),2:d(93)},italic:d(94),image:d(95),indent:{"+1":d(96),"-1":d(97)},link:d(98),list:{ordered:d(99),bullet:d(100),check:d(101)},script:{sub:d(102),super:d(103)},strike:d(104),underline:d(105),video:d(106)}},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getLastChangeIndex=_.default=void 0;var A=function(){function z(F,J){for(var ue=0;ue<J.length;ue++){var ce=J[ue];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(F,ce.key,ce)}}return function(F,J,ue){return J&&z(F.prototype,J),ue&&z(F,ue),F}}(),D=y(d(0)),S=y(d(5));function y(z){return z&&z.__esModule?z:{default:z}}var O=function(z){function F(J,ue){!function x(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);var ce=function $(z,F){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?z:F}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,J,ue));return ce.lastRecorded=0,ce.ignoreChange=!1,ce.clear(),ce.quill.on(S.default.events.EDITOR_CHANGE,function(re,we,j,Y){re!==S.default.events.TEXT_CHANGE||ce.ignoreChange||(ce.options.userOnly&&Y!==S.default.sources.USER?ce.transform(we):ce.record(we,j))}),ce.quill.keyboard.addBinding({key:"Z",shortKey:!0},ce.undo.bind(ce)),ce.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},ce.redo.bind(ce)),/Win/i.test(navigator.platform)&&ce.quill.keyboard.addBinding({key:"Y",shortKey:!0},ce.redo.bind(ce)),ce}return function R(z,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(z,F):z.__proto__=F)}(F,z),A(F,[{key:"change",value:function(ue,ce){if(0!==this.stack[ue].length){var re=this.stack[ue].pop();this.stack[ce].push(re),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(re[ue],S.default.sources.USER),this.ignoreChange=!1;var we=L(re[ue]);this.quill.setSelection(we)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(ue,ce){if(0!==ue.ops.length){this.stack.redo=[];var re=this.quill.getContents().diff(ce),we=Date.now();if(this.lastRecorded+this.options.delay>we&&this.stack.undo.length>0){var j=this.stack.undo.pop();re=re.compose(j.undo),ue=j.redo.compose(ue)}else this.lastRecorded=we;this.stack.undo.push({redo:ue,undo:re}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(ue){this.stack.undo.forEach(function(ce){ce.undo=ue.transform(ce.undo,!0),ce.redo=ue.transform(ce.redo,!0)}),this.stack.redo.forEach(function(ce){ce.undo=ue.transform(ce.undo,!0),ce.redo=ue.transform(ce.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),F}(y(d(9)).default);function L(z){var F=z.reduce(function(ue,ce){return ue+(ce.delete||0)},0),J=z.length()-F;return function M(z){var F=z.ops[z.ops.length-1];return null!=F&&(null!=F.insert?"string"==typeof F.insert&&F.insert.endsWith("\n"):null!=F.attributes&&Object.keys(F.attributes).some(function(J){return null!=D.default.query(J,D.default.Scope.BLOCK)}))}(z)&&(J-=1),J}O.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},_.default=O,_.getLastChangeIndex=L},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BaseTooltip=void 0;var A=function(){function oe(_e,ve){for(var Pe=0;Pe<ve.length;Pe++){var Ve=ve[Pe];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(_e,Ve.key,Ve)}}return function(_e,ve,Pe){return ve&&oe(_e.prototype,ve),Pe&&oe(_e,Pe),_e}}(),w=function oe(_e,ve,Pe){null===_e&&(_e=Function.prototype);var Ve=Object.getOwnPropertyDescriptor(_e,ve);if(void 0===Ve){var Qe=Object.getPrototypeOf(_e);return null===Qe?void 0:oe(Qe,ve,Pe)}if("value"in Ve)return Ve.value;var Pt=Ve.get;return void 0===Pt?void 0:Pt.call(Pe)},C=we(d(3)),I=we(d(2)),y=we(d(8)),$=we(d(23)),O=we(d(34)),L=we(d(59)),F=we(d(60)),ue=we(d(28)),re=we(d(61));function we(oe){return oe&&oe.__esModule?oe:{default:oe}}function j(oe,_e){if(!(oe instanceof _e))throw new TypeError("Cannot call a class as a function")}function Y(oe,_e){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_e||"object"!=typeof _e&&"function"!=typeof _e?oe:_e}function se(oe,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);oe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,_e):oe.__proto__=_e)}var W=[!1,"center","right","justify"],Ce=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Q=[!1,"serif","monospace"],Me=["1","2","3",!1],Xe=["small",!1,"large","huge"],yt=function(oe){function _e(ve,Pe){j(this,_e);var Ve=Y(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,ve,Pe));return ve.emitter.listenDOM("click",document.body,function Pt(Se){if(!document.body.contains(ve.root))return document.body.removeEventListener("click",Pt);null!=Ve.tooltip&&!Ve.tooltip.root.contains(Se.target)&&document.activeElement!==Ve.tooltip.textbox&&!Ve.quill.hasFocus()&&Ve.tooltip.hide(),null!=Ve.pickers&&Ve.pickers.forEach(function(qt){qt.container.contains(Se.target)||qt.close()})}),Ve}return se(_e,oe),A(_e,[{key:"addModule",value:function(Pe){var Ve=w(_e.prototype.__proto__||Object.getPrototypeOf(_e.prototype),"addModule",this).call(this,Pe);return"toolbar"===Pe&&this.extendToolbar(Ve),Ve}},{key:"buildButtons",value:function(Pe,Ve){Pe.forEach(function(Qe){(Qe.getAttribute("class")||"").split(/\s+/).forEach(function(Se){if(Se.startsWith("ql-")&&(Se=Se.slice(3),null!=Ve[Se]))if("direction"===Se)Qe.innerHTML=Ve[Se][""]+Ve[Se].rtl;else if("string"==typeof Ve[Se])Qe.innerHTML=Ve[Se];else{var qt=Qe.value||"";null!=qt&&Ve[Se][qt]&&(Qe.innerHTML=Ve[Se][qt])}})})}},{key:"buildPickers",value:function(Pe,Ve){var Qe=this;this.pickers=Pe.map(function(Se){if(Se.classList.contains("ql-align"))return null==Se.querySelector("option")&&X(Se,W),new F.default(Se,Ve.align);if(Se.classList.contains("ql-background")||Se.classList.contains("ql-color")){var qt=Se.classList.contains("ql-background")?"background":"color";return null==Se.querySelector("option")&&X(Se,Ce,"background"===qt?"#ffffff":"#000000"),new L.default(Se,Ve[qt])}return null==Se.querySelector("option")&&(Se.classList.contains("ql-font")?X(Se,Q):Se.classList.contains("ql-header")?X(Se,Me):Se.classList.contains("ql-size")&&X(Se,Xe)),new ue.default(Se)}),this.quill.on(y.default.events.EDITOR_CHANGE,function(){Qe.pickers.forEach(function(qt){qt.update()})})}}]),_e}(O.default);yt.DEFAULTS=(0,C.default)(!0,{},O.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var _e=this,ve=this.container.querySelector("input.ql-image[type=file]");null==ve&&((ve=document.createElement("input")).setAttribute("type","file"),ve.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ve.classList.add("ql-image"),ve.addEventListener("change",function(){if(null!=ve.files&&null!=ve.files[0]){var Pe=new FileReader;Pe.onload=function(Ve){var Qe=_e.quill.getSelection(!0);_e.quill.updateContents((new I.default).retain(Qe.index).delete(Qe.length).insert({image:Ve.target.result}),y.default.sources.USER),_e.quill.setSelection(Qe.index+1,y.default.sources.SILENT),ve.value=""},Pe.readAsDataURL(ve.files[0])}}),this.container.appendChild(ve)),ve.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Je=function(oe){function _e(ve,Pe){j(this,_e);var Ve=Y(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,ve,Pe));return Ve.textbox=Ve.root.querySelector('input[type="text"]'),Ve.listen(),Ve}return se(_e,oe),A(_e,[{key:"listen",value:function(){var Pe=this;this.textbox.addEventListener("keydown",function(Ve){$.default.match(Ve,"enter")?(Pe.save(),Ve.preventDefault()):$.default.match(Ve,"escape")&&(Pe.cancel(),Ve.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",Ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=Ve?this.textbox.value=Ve:Pe!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Pe)||""),this.root.setAttribute("data-mode",Pe)}},{key:"restoreFocus",value:function(){var Pe=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Pe}},{key:"save",value:function(){var Pe=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var Ve=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Pe,y.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Pe,y.default.sources.USER)),this.quill.root.scrollTop=Ve;break;case"video":Pe=function je(oe){var _e=oe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||oe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return _e?(_e[1]||"https")+"://www.youtube.com/embed/"+_e[2]+"?showinfo=0":(_e=oe.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(_e[1]||"https")+"://player.vimeo.com/video/"+_e[2]+"/":oe}(Pe);case"formula":if(!Pe)break;var Qe=this.quill.getSelection(!0);if(null!=Qe){var Pt=Qe.index+Qe.length;this.quill.insertEmbed(Pt,this.root.getAttribute("data-mode"),Pe,y.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Pt+1," ",y.default.sources.USER),this.quill.setSelection(Pt+2,y.default.sources.USER)}}this.textbox.value="",this.hide()}}]),_e}(re.default);function X(oe,_e){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_e.forEach(function(Pe){var Ve=document.createElement("option");Pe===ve?Ve.setAttribute("selected","selected"):Ve.setAttribute("value",Pe),oe.appendChild(Ve)})}_.BaseTooltip=Je,_.default=yt},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var D=[],C=0;C<arguments.length;C++)D[C]=arguments[C];this.insertBefore(D[0],null),D.length>1&&this.append.apply(this,D.slice(1))},w.prototype.contains=function(D){for(var C,S=this.iterator();C=S();)if(C===D)return!0;return!1},w.prototype.insertBefore=function(D,C){D&&(D.next=C,null!=C?(D.prev=C.prev,null!=C.prev&&(C.prev.next=D),C.prev=D,C===this.head&&(this.head=D)):null!=this.tail?(this.tail.next=D,D.prev=this.tail,this.tail=D):(D.prev=null,this.head=this.tail=D),this.length+=1)},w.prototype.offset=function(D){for(var C=0,S=this.head;null!=S;){if(S===D)return C;C+=S.length(),S=S.next}return-1},w.prototype.remove=function(D){this.contains(D)&&(null!=D.prev&&(D.prev.next=D.next),null!=D.next&&(D.next.prev=D.prev),D===this.head&&(this.head=D.next),D===this.tail&&(this.tail=D.prev),this.length-=1)},w.prototype.iterator=function(D){return void 0===D&&(D=this.head),function(){var C=D;return null!=D&&(D=D.next),C}},w.prototype.find=function(D,C){void 0===C&&(C=!1);for(var S,I=this.iterator();S=I();){var E=S.length();if(D<E||C&&D===E&&(null==S.next||0!==S.next.length()))return[S,D];D-=E}return[null,0]},w.prototype.forEach=function(D){for(var C,S=this.iterator();C=S();)D(C)},w.prototype.forEachAt=function(D,C,S){if(!(C<=0))for(var x,I=this.find(D),$=D-I[1],R=this.iterator(I[0]);(x=R())&&$<D+C;){var O=x.length();D>$?S(x,D-$,Math.min(C,$+O-D)):S(x,0,Math.min(O,D+C-$)),$+=O}},w.prototype.map=function(D){return this.reduce(function(C,S){return C.push(D(S)),C},[])},w.prototype.reduce=function(D,C){for(var S,I=this.iterator();S=I();)C=D(C,S);return C},w}();_.default=A},function(Ne,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(17),D=d(1),C={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},I=function(E){function y(x){var $=E.call(this,x)||this;return $.scroll=$,$.observer=new MutationObserver(function(R){$.update(R)}),$.observer.observe($.domNode,C),$.attach(),$}return A(y,E),y.prototype.detach=function(){E.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(x,$){this.update(),0===x&&$===this.length()?this.children.forEach(function(R){R.remove()}):E.prototype.deleteAt.call(this,x,$)},y.prototype.formatAt=function(x,$,R,O){this.update(),E.prototype.formatAt.call(this,x,$,R,O)},y.prototype.insertAt=function(x,$,R){this.update(),E.prototype.insertAt.call(this,x,$,R)},y.prototype.optimize=function(x,$){var R=this;void 0===x&&(x=[]),void 0===$&&($={}),E.prototype.optimize.call(this,$);for(var O=[].slice.call(this.observer.takeRecords());O.length>0;)x.push(O.pop());for(var M=function(J,ue){void 0===ue&&(ue=!0),null!=J&&J!==R&&null!=J.domNode.parentNode&&(null==J.domNode[D.DATA_KEY].mutations&&(J.domNode[D.DATA_KEY].mutations=[]),ue&&M(J.parent))},L=function(J){null==J.domNode[D.DATA_KEY]||null==J.domNode[D.DATA_KEY].mutations||(J instanceof w.default&&J.children.forEach(L),J.optimize($))},z=x,F=0;z.length>0;F+=1){if(F>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(z.forEach(function(J){var ue=D.find(J.target,!0);null!=ue&&(ue.domNode===J.target&&("childList"===J.type?(M(D.find(J.previousSibling,!1)),[].forEach.call(J.addedNodes,function(ce){var re=D.find(ce,!1);M(re,!1),re instanceof w.default&&re.children.forEach(function(we){M(we,!1)})})):"attributes"===J.type&&M(ue.prev)),M(ue))}),this.children.forEach(L),O=(z=[].slice.call(this.observer.takeRecords())).slice();O.length>0;)x.push(O.pop())}},y.prototype.update=function(x,$){var R=this;void 0===$&&($={}),(x=x||this.observer.takeRecords()).map(function(O){var M=D.find(O.target,!0);return null==M?null:null==M.domNode[D.DATA_KEY].mutations?(M.domNode[D.DATA_KEY].mutations=[O],M):(M.domNode[D.DATA_KEY].mutations.push(O),null)}).forEach(function(O){null==O||O===R||null==O.domNode[D.DATA_KEY]||O.update(O.domNode[D.DATA_KEY].mutations||[],$)}),null!=this.domNode[D.DATA_KEY].mutations&&E.prototype.update.call(this,this.domNode[D.DATA_KEY].mutations,$),this.optimize(x,$)},y.blotName="scroll",y.defaultChild="block",y.scope=D.Scope.BLOCK_BLOT,y.tagName="DIV",y}(w.default);_.default=I},function(Ne,_,d){"use strict";var I,A=this&&this.__extends||(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,y){E.__proto__=y}||function(E,y){for(var x in y)y.hasOwnProperty(x)&&(E[x]=y[x])},function(E,y){function x(){this.constructor=E}I(E,y),E.prototype=null===y?Object.create(y):(x.prototype=y.prototype,new x)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(18),D=d(1);var S=function(I){function E(){return null!==I&&I.apply(this,arguments)||this}return A(E,I),E.formats=function(y){if(y.tagName!==E.tagName)return I.formats.call(this,y)},E.prototype.format=function(y,x){var $=this;y!==this.statics.blotName||x?I.prototype.format.call(this,y,x):(this.children.forEach(function(R){R instanceof w.default||(R=R.wrap(E.blotName,!0)),$.attributes.copy(R)}),this.unwrap())},E.prototype.formatAt=function(y,x,$,R){null!=this.formats()[$]||D.query($,D.Scope.ATTRIBUTE)?this.isolate(y,x).format($,R):I.prototype.formatAt.call(this,y,x,$,R)},E.prototype.optimize=function(y){I.prototype.optimize.call(this,y);var x=this.formats();if(0===Object.keys(x).length)return this.unwrap();var $=this.next;$ instanceof E&&$.prev===this&&function C(I,E){if(Object.keys(I).length!==Object.keys(E).length)return!1;for(var y in I)if(I[y]!==E[y])return!1;return!0}(x,$.formats())&&($.moveChildren(this),$.remove())},E.blotName="inline",E.scope=D.Scope.INLINE_BLOT,E.tagName="SPAN",E}(w.default);_.default=S},function(Ne,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(18),D=d(1),C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.formats=function(E){var y=D.query(I.blotName).tagName;if(E.tagName!==y)return S.formats.call(this,E)},I.prototype.format=function(E,y){null!=D.query(E,D.Scope.BLOCK)&&(E!==this.statics.blotName||y?S.prototype.format.call(this,E,y):this.replaceWith(I.blotName))},I.prototype.formatAt=function(E,y,x,$){null!=D.query(x,D.Scope.BLOCK)?this.format(x,$):S.prototype.formatAt.call(this,E,y,x,$)},I.prototype.insertAt=function(E,y,x){if(null==x||null!=D.query(y,D.Scope.INLINE))S.prototype.insertAt.call(this,E,y,x);else{var $=this.split(E),R=D.create(y,x);$.parent.insertBefore(R,$)}},I.prototype.update=function(E,y){navigator.userAgent.match(/Trident/)?this.build():S.prototype.update.call(this,E,y)},I.blotName="block",I.scope=D.Scope.BLOCK_BLOT,I.tagName="P",I}(w.default);_.default=C},function(Ne,_,d){"use strict";var C,A=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var E in I)I.hasOwnProperty(E)&&(S[E]=I[E])},function(S,I){function E(){this.constructor=S}C(S,I),S.prototype=null===I?Object.create(I):(E.prototype=I.prototype,new E)});Object.defineProperty(_,"__esModule",{value:!0});var D=function(C){function S(){return null!==C&&C.apply(this,arguments)||this}return A(S,C),S.formats=function(I){},S.prototype.format=function(I,E){C.prototype.formatAt.call(this,0,this.length(),I,E)},S.prototype.formatAt=function(I,E,y,x){0===I&&E===this.length()?this.format(y,x):C.prototype.formatAt.call(this,I,E,y,x)},S.prototype.formats=function(){return this.statics.formats(this.domNode)},S}(d(19).default);_.default=D},function(Ne,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(19),D=d(1),C=function(S){function I(E){var y=S.call(this,E)||this;return y.text=y.statics.value(y.domNode),y}return A(I,S),I.create=function(E){return document.createTextNode(E)},I.value=function(E){var y=E.data;return y.normalize&&(y=y.normalize()),y},I.prototype.deleteAt=function(E,y){this.domNode.data=this.text=this.text.slice(0,E)+this.text.slice(E+y)},I.prototype.index=function(E,y){return this.domNode===E?y:-1},I.prototype.insertAt=function(E,y,x){null==x?(this.text=this.text.slice(0,E)+y+this.text.slice(E),this.domNode.data=this.text):S.prototype.insertAt.call(this,E,y,x)},I.prototype.length=function(){return this.text.length},I.prototype.optimize=function(E){S.prototype.optimize.call(this,E),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof I&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},I.prototype.position=function(E,y){return void 0===y&&(y=!1),[this.domNode,E]},I.prototype.split=function(E,y){if(void 0===y&&(y=!1),!y){if(0===E)return this;if(E===this.length())return this.next}var x=D.create(this.domNode.splitText(E));return this.parent.insertBefore(x,this.next),this.text=this.statics.value(this.domNode),x},I.prototype.update=function(E,y){var x=this;E.some(function($){return"characterData"===$.type&&$.target===x.domNode})&&(this.text=this.statics.value(this.domNode))},I.prototype.value=function(){return this.text},I.blotName="text",I.scope=D.Scope.INLINE_BLOT,I}(w.default);_.default=C},function(Ne,_,d){"use strict";var A=document.createElement("div");if(A.classList.toggle("test-class",!1),A.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(D,C){return arguments.length>1&&!this.contains(D)==!C?C:w.call(this,D)}}String.prototype.startsWith||(String.prototype.startsWith=function(D,C){return this.substr(C=C||0,D.length)===D}),String.prototype.endsWith||(String.prototype.endsWith=function(D,C){var S=this.toString();("number"!=typeof C||!isFinite(C)||Math.floor(C)!==C||C>S.length)&&(C=S.length);var I=S.indexOf(D,C-=D.length);return-1!==I&&I===C}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(C){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof C)throw new TypeError("predicate must be a function");for(var y,S=Object(this),I=S.length>>>0,E=arguments[1],x=0;x<I;x++)if(C.call(E,y=S[x],x,S))return y}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Ne,_){var d=-1,A=1,w=0;function D(F,J,ue){if(F==J)return F?[[w,F]]:[];(ue<0||F.length<ue)&&(ue=null);var ce=E(F,J),re=F.substring(0,ce);ce=y(F=F.substring(ce),J=J.substring(ce));var we=F.substring(F.length-ce),j=function C(F,J){var ue;if(!F)return[[A,J]];if(!J)return[[d,F]];var ce=F.length>J.length?F:J,re=F.length>J.length?J:F,we=ce.indexOf(re);if(-1!=we)return ue=[[A,ce.substring(0,we)],[w,re],[A,ce.substring(we+re.length)]],F.length>J.length&&(ue[0][0]=ue[2][0]=d),ue;if(1==re.length)return[[d,F],[A,J]];var j=function x(F,J){var ue=F.length>J.length?F:J,ce=F.length>J.length?J:F;if(ue.length<4||2*ce.length<ue.length)return null;function re(Xe,yt,Je){for(var _e,ve,Pe,Ve,je=Xe.substring(Je,Je+Math.floor(Xe.length/4)),X=-1,oe="";-1!=(X=yt.indexOf(je,X+1));){var Qe=E(Xe.substring(Je),yt.substring(X)),Pt=y(Xe.substring(0,Je),yt.substring(0,X));oe.length<Pt+Qe&&(oe=yt.substring(X-Pt,X)+yt.substring(X,X+Qe),_e=Xe.substring(0,Je-Pt),ve=Xe.substring(Je+Qe),Pe=yt.substring(0,X-Pt),Ve=yt.substring(X+Qe))}return 2*oe.length>=Xe.length?[_e,ve,Pe,Ve,oe]:null}var Y,se,W,Ce,Q,we=re(ue,ce,Math.ceil(ue.length/4)),j=re(ue,ce,Math.ceil(ue.length/2));return we||j?(Y=j?we&&we[4].length>j[4].length?we:j:we,F.length>J.length?(se=Y[0],W=Y[1],Ce=Y[2],Q=Y[3]):(Ce=Y[0],Q=Y[1],se=Y[2],W=Y[3]),[se,W,Ce,Q,Y[4]]):null}(F,J);if(j){var se=j[1],Ce=j[3],Q=j[4],Me=D(j[0],j[2]),Xe=D(se,Ce);return Me.concat([[w,Q]],Xe)}return function S(F,J){for(var ue=F.length,ce=J.length,re=Math.ceil((ue+ce)/2),we=re,j=2*re,Y=new Array(j),se=new Array(j),W=0;W<j;W++)Y[W]=-1,se[W]=-1;Y[we+1]=0,se[we+1]=0;for(var Ce=ue-ce,Q=Ce%2!=0,Me=0,Xe=0,yt=0,Je=0,je=0;je<re;je++){for(var X=-je+Me;X<=je-Xe;X+=2){for(var oe=we+X,ve=(_e=X==-je||X!=je&&Y[oe-1]<Y[oe+1]?Y[oe+1]:Y[oe-1]+1)-X;_e<ue&&ve<ce&&F.charAt(_e)==J.charAt(ve);)_e++,ve++;if(Y[oe]=_e,_e>ue)Xe+=2;else if(ve>ce)Me+=2;else if(Q&&(Pe=we+Ce-X)>=0&&Pe<j&&-1!=se[Pe]&&_e>=(Ve=ue-se[Pe]))return I(F,J,_e,ve)}for(var Qe=-je+yt;Qe<=je-Je;Qe+=2){for(var Ve,Pe=we+Qe,Pt=(Ve=Qe==-je||Qe!=je&&se[Pe-1]<se[Pe+1]?se[Pe+1]:se[Pe-1]+1)-Qe;Ve<ue&&Pt<ce&&F.charAt(ue-Ve-1)==J.charAt(ce-Pt-1);)Ve++,Pt++;if(se[Pe]=Ve,Ve>ue)Je+=2;else if(Pt>ce)yt+=2;else if(!Q){var _e;if((oe=we+Ce-Qe)>=0&&oe<j&&-1!=Y[oe]&&(ve=we+(_e=Y[oe])-oe,_e>=(Ve=ue-Ve)))return I(F,J,_e,ve)}}}return[[d,F],[A,J]]}(F,J)}(F=F.substring(0,F.length-ce),J=J.substring(0,J.length-ce));return re&&j.unshift([w,re]),we&&j.push([w,we]),$(j),null!=ue&&(j=function M(F,J){var ue=function O(F,J){if(0===J)return[w,F];for(var ue=0,ce=0;ce<F.length;ce++){var re=F[ce];if(re[0]===d||re[0]===w){var we=ue+re[1].length;if(J===we)return[ce+1,F];if(J<we){F=F.slice();var j=J-ue,Y=[re[0],re[1].slice(0,j)],se=[re[0],re[1].slice(j)];return F.splice(ce,1,Y,se),[ce+1,F]}ue=we}}throw new Error("cursor_pos is out of bounds!")}(F,J),ce=ue[1],re=ue[0],we=ce[re],j=ce[re+1];if(null==we)return F;if(we[0]!==w)return F;if(null!=j&&we[1]+j[1]===j[1]+we[1])return ce.splice(re,2,j,we),z(ce,re,2);if(null!=j&&0===j[1].indexOf(we[1])){ce.splice(re,2,[j[0],we[1]],[0,we[1]]);var Y=j[1].slice(we[1].length);return Y.length>0&&ce.splice(re+2,0,[j[0],Y]),z(ce,re,3)}return F}(j,ue)),function L(F){for(var J=!1,ue=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},ce=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},re=2;re<F.length;re+=1)F[re-2][0]===w&&ce(F[re-2][1])&&F[re-1][0]===d&&ue(F[re-1][1])&&F[re][0]===A&&ue(F[re][1])&&(J=!0,F[re-1][1]=F[re-2][1].slice(-1)+F[re-1][1],F[re][1]=F[re-2][1].slice(-1)+F[re][1],F[re-2][1]=F[re-2][1].slice(0,-1));if(!J)return F;var we=[];for(re=0;re<F.length;re+=1)F[re][1].length>0&&we.push(F[re]);return we}(j)}function I(F,J,ue,ce){var re=F.substring(0,ue),we=J.substring(0,ce),j=F.substring(ue),Y=J.substring(ce),se=D(re,we),W=D(j,Y);return se.concat(W)}function E(F,J){if(!F||!J||F.charAt(0)!=J.charAt(0))return 0;for(var ue=0,ce=Math.min(F.length,J.length),re=ce,we=0;ue<re;)F.substring(we,re)==J.substring(we,re)?we=ue=re:ce=re,re=Math.floor((ce-ue)/2+ue);return re}function y(F,J){if(!F||!J||F.charAt(F.length-1)!=J.charAt(J.length-1))return 0;for(var ue=0,ce=Math.min(F.length,J.length),re=ce,we=0;ue<re;)F.substring(F.length-re,F.length-we)==J.substring(J.length-re,J.length-we)?we=ue=re:ce=re,re=Math.floor((ce-ue)/2+ue);return re}function $(F){F.push([w,""]);for(var j,J=0,ue=0,ce=0,re="",we="";J<F.length;)switch(F[J][0]){case A:ce++,we+=F[J][1],J++;break;case d:ue++,re+=F[J][1],J++;break;case w:ue+ce>1?(0!==ue&&0!==ce&&(0!==(j=E(we,re))&&(J-ue-ce>0&&F[J-ue-ce-1][0]==w?F[J-ue-ce-1][1]+=we.substring(0,j):(F.splice(0,0,[w,we.substring(0,j)]),J++),we=we.substring(j),re=re.substring(j)),0!==(j=y(we,re))&&(F[J][1]=we.substring(we.length-j)+F[J][1],we=we.substring(0,we.length-j),re=re.substring(0,re.length-j))),0===ue?F.splice(J-ce,ue+ce,[A,we]):0===ce?F.splice(J-ue,ue+ce,[d,re]):F.splice(J-ue-ce,ue+ce,[d,re],[A,we]),J=J-ue-ce+(ue?1:0)+(ce?1:0)+1):0!==J&&F[J-1][0]==w?(F[J-1][1]+=F[J][1],F.splice(J,1)):J++,ce=0,ue=0,re="",we=""}""===F[F.length-1][1]&&F.pop();var Y=!1;for(J=1;J<F.length-1;)F[J-1][0]==w&&F[J+1][0]==w&&(F[J][1].substring(F[J][1].length-F[J-1][1].length)==F[J-1][1]?(F[J][1]=F[J-1][1]+F[J][1].substring(0,F[J][1].length-F[J-1][1].length),F[J+1][1]=F[J-1][1]+F[J+1][1],F.splice(J-1,1),Y=!0):F[J][1].substring(0,F[J+1][1].length)==F[J+1][1]&&(F[J-1][1]+=F[J+1][1],F[J][1]=F[J][1].substring(F[J+1][1].length)+F[J+1][1],F.splice(J+1,1),Y=!0)),J++;Y&&$(F)}var R=D;function z(F,J,ue){for(var ce=J+ue-1;ce>=0&&ce>=J-1;ce--)if(ce+1<F.length){var re=F[ce],we=F[ce+1];re[0]===we[1]&&F.splice(ce,2,[re[0],re[1]+we[1]])}return F}R.INSERT=A,R.DELETE=d,R.EQUAL=w,Ne.exports=R},function(Ne,_){function d(A){var w=[];for(var D in A)w.push(D);return w}(Ne.exports="function"==typeof Object.keys?Object.keys:d).shim=d},function(Ne,_){var d="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function A(D){return"[object Arguments]"==Object.prototype.toString.call(D)}function w(D){return D&&"object"==typeof D&&"number"==typeof D.length&&Object.prototype.hasOwnProperty.call(D,"callee")&&!Object.prototype.propertyIsEnumerable.call(D,"callee")||!1}(_=Ne.exports=d?A:w).supported=A,_.unsupported=w},function(Ne,_){"use strict";var d=Object.prototype.hasOwnProperty,A="~";function w(){}function D(S,I,E){this.fn=S,this.context=I,this.once=E||!1}function C(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),(new w).__proto__||(A=!1)),C.prototype.eventNames=function(){var E,y,I=[];if(0===this._eventsCount)return I;for(y in E=this._events)d.call(E,y)&&I.push(A?y.slice(1):y);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(E)):I},C.prototype.listeners=function(I,E){var x=this._events[A?A+I:I];if(E)return!!x;if(!x)return[];if(x.fn)return[x.fn];for(var $=0,R=x.length,O=new Array(R);$<R;$++)O[$]=x[$].fn;return O},C.prototype.emit=function(I,E,y,x,$,R){var O=A?A+I:I;if(!this._events[O])return!1;var z,F,M=this._events[O],L=arguments.length;if(M.fn){switch(M.once&&this.removeListener(I,M.fn,void 0,!0),L){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,E),!0;case 3:return M.fn.call(M.context,E,y),!0;case 4:return M.fn.call(M.context,E,y,x),!0;case 5:return M.fn.call(M.context,E,y,x,$),!0;case 6:return M.fn.call(M.context,E,y,x,$,R),!0}for(F=1,z=new Array(L-1);F<L;F++)z[F-1]=arguments[F];M.fn.apply(M.context,z)}else{var ue,J=M.length;for(F=0;F<J;F++)switch(M[F].once&&this.removeListener(I,M[F].fn,void 0,!0),L){case 1:M[F].fn.call(M[F].context);break;case 2:M[F].fn.call(M[F].context,E);break;case 3:M[F].fn.call(M[F].context,E,y);break;case 4:M[F].fn.call(M[F].context,E,y,x);break;default:if(!z)for(ue=1,z=new Array(L-1);ue<L;ue++)z[ue-1]=arguments[ue];M[F].fn.apply(M[F].context,z)}}return!0},C.prototype.on=function(I,E,y){var x=new D(E,y||this),$=A?A+I:I;return this._events[$]?this._events[$].fn?this._events[$]=[this._events[$],x]:this._events[$].push(x):(this._events[$]=x,this._eventsCount++),this},C.prototype.once=function(I,E,y){var x=new D(E,y||this,!0),$=A?A+I:I;return this._events[$]?this._events[$].fn?this._events[$]=[this._events[$],x]:this._events[$].push(x):(this._events[$]=x,this._eventsCount++),this},C.prototype.removeListener=function(I,E,y,x){var $=A?A+I:I;if(!this._events[$])return this;if(!E)return 0==--this._eventsCount?this._events=new w:delete this._events[$],this;var R=this._events[$];if(R.fn)R.fn===E&&(!x||R.once)&&(!y||R.context===y)&&(0==--this._eventsCount?this._events=new w:delete this._events[$]);else{for(var O=0,M=[],L=R.length;O<L;O++)(R[O].fn!==E||x&&!R[O].once||y&&R[O].context!==y)&&M.push(R[O]);M.length?this._events[$]=1===M.length?M[0]:M:0==--this._eventsCount?this._events=new w:delete this._events[$]}return this},C.prototype.removeAllListeners=function(I){var E;return I?this._events[E=A?A+I:I]&&(0==--this._eventsCount?this._events=new w:delete this._events[E]):(this._events=new w,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prototype.setMaxListeners=function(){return this},C.prefixed=A,C.EventEmitter=C,typeof Ne<"u"&&(Ne.exports=C)},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.matchText=_.matchSpacing=_.matchNewline=_.matchBlot=_.matchAttributor=_.default=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(It){return typeof It}:function(It){return It&&"function"==typeof Symbol&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},w=function(){return function(ot,st){if(Array.isArray(ot))return ot;if(Symbol.iterator in Object(ot))return function It(ot,st){var Nt=[],Ut=!0,wt=!1,ct=void 0;try{for(var Z,ut=ot[Symbol.iterator]();!(Ut=(Z=ut.next()).done)&&(Nt.push(Z.value),!st||Nt.length!==st);Ut=!0);}catch(Fe){wt=!0,ct=Fe}finally{try{!Ut&&ut.return&&ut.return()}finally{if(wt)throw ct}}return Nt}(ot,st);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function It(ot,st){for(var Nt=0;Nt<st.length;Nt++){var Ut=st[Nt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(ot,Ut.key,Ut)}}return function(ot,st,Nt){return st&&It(ot.prototype,st),Nt&&It(ot,Nt),ot}}(),S=se(d(3)),E=se(d(2)),x=se(d(0)),R=se(d(5)),M=se(d(10)),z=se(d(9)),F=d(36),J=d(37),ce=se(d(13)),re=d(26),we=d(38),j=d(39),Y=d(40);function se(It){return It&&It.__esModule?It:{default:It}}function W(It,ot,st){return ot in It?Object.defineProperty(It,ot,{value:st,enumerable:!0,configurable:!0,writable:!0}):It[ot]=st,It}var Xe=(0,M.default)("quill:clipboard"),yt="__ql-matcher",Je=[[Node.TEXT_NODE,vt],[Node.TEXT_NODE,ft],["br",function Vt(It,ot){return Pe(ot,"\n")||ot.insert("\n"),ot}],[Node.ELEMENT_NODE,ft],[Node.ELEMENT_NODE,qt],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,function Ye(It,ot){var st={},Nt=It.style||{};return Nt.fontStyle&&"italic"===ve(It).fontStyle&&(st.italic=!0),Nt.fontWeight&&(ve(It).fontWeight.startsWith("bold")||parseInt(ve(It).fontWeight)>=700)&&(st.bold=!0),Object.keys(st).length>0&&(ot=_e(ot,st)),parseFloat(Nt.textIndent||0)>0&&(ot=(new E.default).insert("\t").concat(ot)),ot}],["li",function Ot(It,ot){var st=x.default.query(It);if(null==st||"list-item"!==st.blotName||!Pe(ot,"\n"))return ot;for(var Nt=-1,Ut=It.parentNode;!Ut.classList.contains("ql-clipboard");)"list"===(x.default.query(Ut)||{}).blotName&&(Nt+=1),Ut=Ut.parentNode;return Nt<=0?ot:ot.compose((new E.default).retain(ot.length()-1).retain(1,{indent:Nt}))}],["b",Pt.bind(Pt,"bold")],["i",Pt.bind(Pt,"italic")],["style",function Tt(){return new E.default}]],je=[F.AlignAttribute,we.DirectionAttribute].reduce(function(It,ot){return It[ot.keyName]=ot,It},{}),X=[F.AlignStyle,J.BackgroundStyle,re.ColorStyle,we.DirectionStyle,j.FontStyle,Y.SizeStyle].reduce(function(It,ot){return It[ot.keyName]=ot,It},{}),oe=function(It){function ot(st,Nt){!function Ce(It,ot){if(!(It instanceof ot))throw new TypeError("Cannot call a class as a function")}(this,ot);var Ut=function Q(It,ot){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ot||"object"!=typeof ot&&"function"!=typeof ot?It:ot}(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this,st,Nt));return Ut.quill.root.addEventListener("paste",Ut.onPaste.bind(Ut)),Ut.container=Ut.quill.addContainer("ql-clipboard"),Ut.container.setAttribute("contenteditable",!0),Ut.container.setAttribute("tabindex",-1),Ut.matchers=[],Je.concat(Ut.options.matchers).forEach(function(wt){var ct=w(wt,2),Z=ct[1];!Nt.matchVisual&&Z===Re||Ut.addMatcher(ct[0],Z)}),Ut}return function Me(It,ot){if("function"!=typeof ot&&null!==ot)throw new TypeError("Super expression must either be null or a function, not "+typeof ot);It.prototype=Object.create(ot&&ot.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),ot&&(Object.setPrototypeOf?Object.setPrototypeOf(It,ot):It.__proto__=ot)}(ot,It),D(ot,[{key:"addMatcher",value:function(Nt,Ut){this.matchers.push([Nt,Ut])}},{key:"convert",value:function(Nt){if("string"==typeof Nt)return this.container.innerHTML=Nt.replace(/\>\r?\n +\</g,"><"),this.convert();var Ut=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ut[ce.default.blotName]){var wt=this.container.innerText;return this.container.innerHTML="",(new E.default).insert(wt,W({},ce.default.blotName,Ut[ce.default.blotName]))}var ct=this.prepareMatching(),ut=w(ct,2),pe=Qe(this.container,ut[0],ut[1]);return Pe(pe,"\n")&&null==pe.ops[pe.ops.length-1].attributes&&(pe=pe.compose((new E.default).retain(pe.length()-1).delete(1))),Xe.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(Nt,Ut){var wt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.default.sources.API;if("string"==typeof Nt)this.quill.setContents(this.convert(Nt),Ut),this.quill.setSelection(0,R.default.sources.SILENT);else{var ct=this.convert(Ut);this.quill.updateContents((new E.default).retain(Nt).concat(ct),wt),this.quill.setSelection(Nt+ct.length(),R.default.sources.SILENT)}}},{key:"onPaste",value:function(Nt){var Ut=this;if(!Nt.defaultPrevented&&this.quill.isEnabled()){var wt=this.quill.getSelection(),ct=(new E.default).retain(wt.index),ut=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(R.default.sources.SILENT),setTimeout(function(){ct=ct.concat(Ut.convert()).delete(wt.length),Ut.quill.updateContents(ct,R.default.sources.USER),Ut.quill.setSelection(ct.length()-wt.length,R.default.sources.SILENT),Ut.quill.scrollingContainer.scrollTop=ut,Ut.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Nt=this,Ut=[],wt=[];return this.matchers.forEach(function(ct){var ut=w(ct,2),Z=ut[0],Fe=ut[1];switch(Z){case Node.TEXT_NODE:wt.push(Fe);break;case Node.ELEMENT_NODE:Ut.push(Fe);break;default:[].forEach.call(Nt.container.querySelectorAll(Z),function(pe){pe[yt]=pe[yt]||[],pe[yt].push(Fe)})}}),[Ut,wt]}}]),ot}(z.default);function _e(It,ot,st){return"object"===(typeof ot>"u"?"undefined":A(ot))?Object.keys(ot).reduce(function(Nt,Ut){return _e(Nt,Ut,ot[Ut])},It):It.reduce(function(Nt,Ut){return Ut.attributes&&Ut.attributes[ot]?Nt.push(Ut):Nt.insert(Ut.insert,(0,S.default)({},W({},ot,st),Ut.attributes))},new E.default)}function ve(It){if(It.nodeType!==Node.ELEMENT_NODE)return{};var ot="__ql-computed-style";return It[ot]||(It[ot]=window.getComputedStyle(It))}function Pe(It,ot){for(var st="",Nt=It.ops.length-1;Nt>=0&&st.length<ot.length;--Nt){var Ut=It.ops[Nt];if("string"!=typeof Ut.insert)break;st=Ut.insert+st}return st.slice(-1*ot.length)===ot}function Ve(It){if(0===It.childNodes.length)return!1;var ot=ve(It);return["block","list-item"].indexOf(ot.display)>-1}function Qe(It,ot,st){return It.nodeType===It.TEXT_NODE?st.reduce(function(Nt,Ut){return Ut(It,Nt)},new E.default):It.nodeType===It.ELEMENT_NODE?[].reduce.call(It.childNodes||[],function(Nt,Ut){var wt=Qe(Ut,ot,st);return Ut.nodeType===It.ELEMENT_NODE&&(wt=ot.reduce(function(ct,ut){return ut(Ut,ct)},wt),wt=(Ut[yt]||[]).reduce(function(ct,ut){return ut(Ut,ct)},wt)),Nt.concat(wt)},new E.default):new E.default}function Pt(It,ot,st){return _e(st,It,!0)}function Se(It,ot){var st=x.default.Attributor.Attribute.keys(It),Nt=x.default.Attributor.Class.keys(It),Ut=x.default.Attributor.Style.keys(It),wt={};return st.concat(Nt).concat(Ut).forEach(function(ct){var ut=x.default.query(ct,x.default.Scope.ATTRIBUTE);null!=ut&&(wt[ut.attrName]=ut.value(It),wt[ut.attrName])||(null!=(ut=je[ct])&&(ut.attrName===ct||ut.keyName===ct)&&(wt[ut.attrName]=ut.value(It)||void 0),null!=(ut=X[ct])&&(ut.attrName===ct||ut.keyName===ct)&&(wt[(ut=X[ct]).attrName]=ut.value(It)||void 0))}),Object.keys(wt).length>0&&(ot=_e(ot,wt)),ot}function qt(It,ot){var st=x.default.query(It);if(null==st)return ot;if(st.prototype instanceof x.default.Embed){var Nt={},Ut=st.value(It);null!=Ut&&(Nt[st.blotName]=Ut,ot=(new E.default).insert(Nt,st.formats(It)))}else"function"==typeof st.formats&&(ot=_e(ot,st.blotName,st.formats(It)));return ot}function ft(It,ot){return Pe(ot,"\n")||(Ve(It)||ot.length()>0&&It.nextSibling&&Ve(It.nextSibling))&&ot.insert("\n"),ot}function Re(It,ot){if(Ve(It)&&null!=It.nextElementSibling&&!Pe(ot,"\n\n")){var st=It.offsetHeight+parseFloat(ve(It).marginTop)+parseFloat(ve(It).marginBottom);It.nextElementSibling.offsetTop>It.offsetTop+1.5*st&&ot.insert("\n")}return ot}function vt(It,ot){var st=It.data;if("O:P"===It.parentNode.tagName)return ot.insert(st.trim());if(0===st.trim().length&&It.parentNode.classList.contains("ql-clipboard"))return ot;if(!ve(It.parentNode).whiteSpace.startsWith("pre")){var Nt=function(wt,ct){return(ct=ct.replace(/[^\u00a0]/g,"")).length<1&&wt?" ":ct};st=(st=st.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Nt.bind(Nt,!0)),(null==It.previousSibling&&Ve(It.parentNode)||null!=It.previousSibling&&Ve(It.previousSibling))&&(st=st.replace(/^\s+/,Nt.bind(Nt,!1))),(null==It.nextSibling&&Ve(It.parentNode)||null!=It.nextSibling&&Ve(It.nextSibling))&&(st=st.replace(/\s+$/,Nt.bind(Nt,!1)))}return ot.insert(st)}oe.DEFAULTS={matchers:[],matchVisual:!0},_.default=oe,_.matchAttributor=Se,_.matchBlot=qt,_.matchNewline=ft,_.matchSpacing=Re,_.matchText=vt},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var z=Object.getPrototypeOf(R);return null===z?void 0:$(z,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"optimize",value:function(M){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,M),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return w(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(6)).default);x.blotName="bold",x.tagName=["STRONG","B"],_.default=x},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.addControls=_.default=void 0;var A=function(){return function(se,W){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return function Y(se,W){var Ce=[],Q=!0,Me=!1,Xe=void 0;try{for(var Je,yt=se[Symbol.iterator]();!(Q=(Je=yt.next()).done)&&(Ce.push(Je.value),!W||Ce.length!==W);Q=!0);}catch(je){Me=!0,Xe=je}finally{try{!Q&&yt.return&&yt.return()}finally{if(Me)throw Xe}}return Ce}(se,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function Y(se,W){for(var Ce=0;Ce<W.length;Ce++){var Q=W[Ce];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(se,Q.key,Q)}}return function(se,W,Ce){return W&&Y(se.prototype,W),Ce&&Y(se,Ce),se}}(),C=M(d(2)),I=M(d(0)),y=M(d(5)),$=M(d(10)),O=M(d(9));function M(Y){return Y&&Y.__esModule?Y:{default:Y}}function F(Y,se){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!se||"object"!=typeof se&&"function"!=typeof se?Y:se}var ue=(0,$.default)("quill:toolbar"),ce=function(Y){function se(W,Ce){!function z(Y,se){if(!(Y instanceof se))throw new TypeError("Cannot call a class as a function")}(this,se);var Xe,Q=F(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,W,Ce));if(Array.isArray(Q.options.container)){var Me=document.createElement("div");we(Me,Q.options.container),W.container.parentNode.insertBefore(Me,W.container),Q.container=Me}else Q.container="string"==typeof Q.options.container?document.querySelector(Q.options.container):Q.options.container;return Q.container instanceof HTMLElement?(Q.container.classList.add("ql-toolbar"),Q.controls=[],Q.handlers={},Object.keys(Q.options.handlers).forEach(function(yt){Q.addHandler(yt,Q.options.handlers[yt])}),[].forEach.call(Q.container.querySelectorAll("button, select"),function(yt){Q.attach(yt)}),Q.quill.on(y.default.events.EDITOR_CHANGE,function(yt,Je){yt===y.default.events.SELECTION_CHANGE&&Q.update(Je)}),Q.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var yt=Q.quill.selection.getRange(),Je=A(yt,1);Q.update(Je[0])}),Q):(Xe=ue.error("Container required for toolbar",Q.options),F(Q,Xe))}return function J(Y,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);Y.prototype=Object.create(se&&se.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,se):Y.__proto__=se)}(se,Y),w(se,[{key:"addHandler",value:function(Ce,Q){this.handlers[Ce]=Q}},{key:"attach",value:function(Ce){var Q=this,Me=[].find.call(Ce.classList,function(yt){return 0===yt.indexOf("ql-")});if(Me){if(Me=Me.slice(3),"BUTTON"===Ce.tagName&&Ce.setAttribute("type","button"),null==this.handlers[Me]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[Me])return void ue.warn("ignoring attaching to disabled format",Me,Ce);if(null==I.default.query(Me))return void ue.warn("ignoring attaching to nonexistent format",Me,Ce)}Ce.addEventListener("SELECT"===Ce.tagName?"change":"click",function(yt){var Je=void 0;if("SELECT"===Ce.tagName){if(Ce.selectedIndex<0)return;var je=Ce.options[Ce.selectedIndex];Je=!je.hasAttribute("selected")&&(je.value||!1)}else Je=!Ce.classList.contains("ql-active")&&(Ce.value||!Ce.hasAttribute("value")),yt.preventDefault();Q.quill.focus();var X=Q.quill.selection.getRange(),_e=A(X,1)[0];if(null!=Q.handlers[Me])Q.handlers[Me].call(Q,Je);else if(I.default.query(Me).prototype instanceof I.default.Embed){if(!(Je=prompt("Enter "+Me)))return;Q.quill.updateContents((new C.default).retain(_e.index).delete(_e.length).insert(function L(Y,se,W){return se in Y?Object.defineProperty(Y,se,{value:W,enumerable:!0,configurable:!0,writable:!0}):Y[se]=W,Y}({},Me,Je)),y.default.sources.USER)}else Q.quill.format(Me,Je,y.default.sources.USER);Q.update(_e)}),this.controls.push([Me,Ce])}}},{key:"update",value:function(Ce){var Q=null==Ce?{}:this.quill.getFormat(Ce);this.controls.forEach(function(Me){var Xe=A(Me,2),yt=Xe[0],Je=Xe[1];if("SELECT"===Je.tagName){var je=void 0;if(null==Ce)je=null;else if(null==Q[yt])je=Je.querySelector("option[selected]");else if(!Array.isArray(Q[yt])){var X=Q[yt];"string"==typeof X&&(X=X.replace(/\"/g,'\\"')),je=Je.querySelector('option[value="'+X+'"]')}null==je?(Je.value="",Je.selectedIndex=-1):je.selected=!0}else if(null==Ce)Je.classList.remove("ql-active");else if(Je.hasAttribute("value")){var oe=Q[yt]===Je.getAttribute("value")||null!=Q[yt]&&Q[yt].toString()===Je.getAttribute("value")||null==Q[yt]&&!Je.getAttribute("value");Je.classList.toggle("ql-active",oe)}else Je.classList.toggle("ql-active",null!=Q[yt])})}}]),se}(O.default);function re(Y,se,W){var Ce=document.createElement("button");Ce.setAttribute("type","button"),Ce.classList.add("ql-"+se),null!=W&&(Ce.value=W),Y.appendChild(Ce)}function we(Y,se){Array.isArray(se[0])||(se=[se]),se.forEach(function(W){var Ce=document.createElement("span");Ce.classList.add("ql-formats"),W.forEach(function(Q){if("string"==typeof Q)re(Ce,Q);else{var Me=Object.keys(Q)[0],Xe=Q[Me];Array.isArray(Xe)?function j(Y,se,W){var Ce=document.createElement("select");Ce.classList.add("ql-"+se),W.forEach(function(Q){var Me=document.createElement("option");!1!==Q?Me.setAttribute("value",Q):Me.setAttribute("selected","selected"),Ce.appendChild(Me)}),Y.appendChild(Ce)}(Ce,Me,Xe):re(Ce,Me,Xe)}}),Y.appendChild(Ce)})}ce.DEFAULTS={},ce.DEFAULTS={container:null,handlers:{clean:function(){var se=this,W=this.quill.getSelection();if(null!=W)if(0==W.length){var Ce=this.quill.getFormat();Object.keys(Ce).forEach(function(Q){null!=I.default.query(Q,I.default.Scope.INLINE)&&se.quill.format(Q,!1)})}else this.quill.removeFormat(W,y.default.sources.USER)},direction:function(se){var W=this.quill.getFormat().align;"rtl"===se&&null==W?this.quill.format("align","right",y.default.sources.USER):!se&&"right"===W&&this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",se,y.default.sources.USER)},indent:function(se){var W=this.quill.getSelection(),Ce=this.quill.getFormat(W),Q=parseInt(Ce.indent||0);if("+1"===se||"-1"===se){var Me="+1"===se?1:-1;"rtl"===Ce.direction&&(Me*=-1),this.quill.format("indent",Q+Me,y.default.sources.USER)}},link:function(se){!0===se&&(se=prompt("Enter link URL:")),this.quill.format("link",se,y.default.sources.USER)},list:function(se){var W=this.quill.getSelection(),Ce=this.quill.getFormat(W);this.quill.format("list","check"===se?"checked"!==Ce.list&&"unchecked"!==Ce.list&&"unchecked":se,y.default.sources.USER)}}},_.default=ce,_.addControls=we},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var z=Object.getPrototypeOf(R);return null===z?void 0:$(z,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(O,M){!function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R);var L=function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return L.label.innerHTML=M,L.container.classList.add("ql-color-picker"),[].slice.call(L.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(z){z.classList.add("ql-primary")}),L}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"buildItem",value:function(M){var L=w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"buildItem",this).call(this,M);return L.style.backgroundColor=M.getAttribute("value")||"",L}},{key:"selectItem",value:function(M,L){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"selectItem",this).call(this,M,L);var z=this.label.querySelector(".ql-color-label"),F=M&&M.getAttribute("data-value")||"";z&&("line"===z.tagName?z.style.stroke=F:z.style.fill=F)}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(28)).default);_.default=x},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var z=Object.getPrototypeOf(R);return null===z?void 0:$(z,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(O,M){!function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R);var L=function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return L.container.classList.add("ql-icon-picker"),[].forEach.call(L.container.querySelectorAll(".ql-picker-item"),function(z){z.innerHTML=M[z.getAttribute("data-value")||""]}),L.defaultItem=L.container.querySelector(".ql-selected"),L.selectItem(L.defaultItem),L}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"selectItem",value:function(M,L){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"selectItem",this).call(this,M,L),this.label.innerHTML=(M=M||this.defaultItem).innerHTML}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(28)).default);_.default=x},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function C(S,I){for(var E=0;E<I.length;E++){var y=I[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}return function(S,I,E){return I&&C(S.prototype,I),E&&C(S,E),S}}();var D=function(){function C(S,I){var E=this;(function w(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.quill=S,this.boundsContainer=I||document.body,this.root=S.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){E.root.style.marginTop=-1*E.quill.root.scrollTop+"px"}),this.hide()}return A(C,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(I){var E=I.left+I.width/2-this.root.offsetWidth/2,y=I.bottom+this.quill.root.scrollTop;this.root.style.left=E+"px",this.root.style.top=y+"px",this.root.classList.remove("ql-flip");var x=this.boundsContainer.getBoundingClientRect(),$=this.root.getBoundingClientRect(),R=0;return $.right>x.right&&(this.root.style.left=E+(R=x.right-$.right)+"px"),$.left<x.left&&(this.root.style.left=E+(R=x.left-$.left)+"px"),$.bottom>x.bottom&&(this.root.style.top=y-(I.bottom-I.top+($.bottom-$.top))+"px",this.root.classList.add("ql-flip")),R}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),C}();_.default=D},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(Y,se){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return function j(Y,se){var W=[],Ce=!0,Q=!1,Me=void 0;try{for(var yt,Xe=Y[Symbol.iterator]();!(Ce=(yt=Xe.next()).done)&&(W.push(yt.value),!se||W.length!==se);Ce=!0);}catch(Je){Q=!0,Me=Je}finally{try{!Ce&&Xe.return&&Xe.return()}finally{if(Q)throw Me}}return W}(Y,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function j(Y,se,W){null===Y&&(Y=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(Y,se);if(void 0===Ce){var Q=Object.getPrototypeOf(Y);return null===Q?void 0:j(Q,se,W)}if("value"in Ce)return Ce.value;var Me=Ce.get;return void 0===Me?void 0:Me.call(W)},D=function(){function j(Y,se){for(var W=0;W<se.length;W++){var Ce=se[W];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(Y,Ce.key,Ce)}}return function(Y,se,W){return se&&j(Y.prototype,se),W&&j(Y,W),Y}}(),S=z(d(3)),E=z(d(8)),y=d(43),x=z(y),R=z(d(27)),O=d(15),L=z(d(41));function z(j){return j&&j.__esModule?j:{default:j}}function F(j,Y){if(!(j instanceof Y))throw new TypeError("Cannot call a class as a function")}function J(j,Y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||"object"!=typeof Y&&"function"!=typeof Y?j:Y}function ue(j,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);j.prototype=Object.create(Y&&Y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,Y):j.__proto__=Y)}var ce=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],re=function(j){function Y(se,W){F(this,Y),null!=W.modules.toolbar&&null==W.modules.toolbar.container&&(W.modules.toolbar.container=ce);var Ce=J(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,se,W));return Ce.quill.container.classList.add("ql-snow"),Ce}return ue(Y,j),D(Y,[{key:"extendToolbar",value:function(W){W.container.classList.add("ql-snow"),this.buildButtons([].slice.call(W.container.querySelectorAll("button")),L.default),this.buildPickers([].slice.call(W.container.querySelectorAll("select")),L.default),this.tooltip=new we(this.quill,this.options.bounds),W.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Ce,Q){W.handlers.link.call(W,!Q.format.link)})}}]),Y}(x.default);re.DEFAULTS=(0,S.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Y){if(Y){var se=this.quill.getSelection();if(null==se||0==se.length)return;var W=this.quill.getText(se);/^\S+@\S+\.\S+$/.test(W)&&0!==W.indexOf("mailto:")&&(W="mailto:"+W),this.quill.theme.tooltip.edit("link",W)}else this.quill.format("link",!1)}}}}});var we=function(j){function Y(se,W){F(this,Y);var Ce=J(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,se,W));return Ce.preview=Ce.root.querySelector("a.ql-preview"),Ce}return ue(Y,j),D(Y,[{key:"listen",value:function(){var W=this;w(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Ce){W.root.classList.contains("ql-editing")?W.save():W.edit("link",W.preview.textContent),Ce.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Ce){if(null!=W.linkRange){var Q=W.linkRange;W.restoreFocus(),W.quill.formatText(Q,"link",!1,E.default.sources.USER),delete W.linkRange}Ce.preventDefault(),W.hide()}),this.quill.on(E.default.events.SELECTION_CHANGE,function(Ce,Q,Me){if(null!=Ce){if(0===Ce.length&&Me===E.default.sources.USER){var Xe=W.quill.scroll.descendant(R.default,Ce.index),yt=A(Xe,2),Je=yt[0];if(null!=Je){W.linkRange=new O.Range(Ce.index-yt[1],Je.length());var X=R.default.formats(Je.domNode);return W.preview.textContent=X,W.preview.setAttribute("href",X),W.show(),void W.position(W.quill.getBounds(W.linkRange))}}else delete W.linkRange;W.hide()}})}},{key:"show",value:function(){w(Y.prototype.__proto__||Object.getPrototypeOf(Y.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Y}(y.BaseTooltip);we.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),_.default=re},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=Ut(d(29)),D=d(36),C=d(38),S=d(64),E=Ut(d(65)),x=Ut(d(66)),$=d(67),R=Ut($),O=d(37),M=d(26),L=d(39),z=d(40),J=Ut(d(56)),ce=Ut(d(68)),we=Ut(d(27)),Y=Ut(d(69)),W=Ut(d(70)),Q=Ut(d(71)),Xe=Ut(d(72)),Je=Ut(d(73)),je=d(13),X=Ut(je),_e=Ut(d(74)),Pe=Ut(d(75)),Qe=Ut(d(57)),Se=Ut(d(41)),Vt=Ut(d(28)),Ot=Ut(d(59)),Re=Ut(d(60)),vt=Ut(d(61)),ot=Ut(d(108)),Nt=Ut(d(62));function Ut(wt){return wt&&wt.__esModule?wt:{default:wt}}w.default.register({"attributors/attribute/direction":C.DirectionAttribute,"attributors/class/align":D.AlignClass,"attributors/class/background":O.BackgroundClass,"attributors/class/color":M.ColorClass,"attributors/class/direction":C.DirectionClass,"attributors/class/font":L.FontClass,"attributors/class/size":z.SizeClass,"attributors/style/align":D.AlignStyle,"attributors/style/background":O.BackgroundStyle,"attributors/style/color":M.ColorStyle,"attributors/style/direction":C.DirectionStyle,"attributors/style/font":L.FontStyle,"attributors/style/size":z.SizeStyle},!0),w.default.register({"formats/align":D.AlignClass,"formats/direction":C.DirectionClass,"formats/indent":S.IndentClass,"formats/background":O.BackgroundStyle,"formats/color":M.ColorStyle,"formats/font":L.FontClass,"formats/size":z.SizeClass,"formats/blockquote":E.default,"formats/code-block":X.default,"formats/header":x.default,"formats/list":R.default,"formats/bold":J.default,"formats/code":je.Code,"formats/italic":ce.default,"formats/link":we.default,"formats/script":Y.default,"formats/strike":W.default,"formats/underline":Q.default,"formats/image":Xe.default,"formats/video":Je.default,"formats/list/item":$.ListItem,"modules/formula":_e.default,"modules/syntax":Pe.default,"modules/toolbar":Qe.default,"themes/bubble":ot.default,"themes/snow":Nt.default,"ui/icons":Se.default,"ui/picker":Vt.default,"ui/icon-picker":Re.default,"ui/color-picker":Ot.default,"ui/tooltip":vt.default},!0),_.default=w.default},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.IndentClass=void 0;var A=function(){function R(O,M){for(var L=0;L<M.length;L++){var z=M[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,M,L){return M&&R(O.prototype,M),L&&R(O,L),O}}(),w=function R(O,M,L){null===O&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,M);if(void 0===z){var F=Object.getPrototypeOf(O);return null===F?void 0:R(F,M,L)}if("value"in z)return z.value;var J=z.get;return void 0===J?void 0:J.call(L)},C=function S(R){return R&&R.__esModule?R:{default:R}}(d(0));var x=function(R){function O(){return function I(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function E(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?R:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}(O,R),A(O,[{key:"add",value:function(L,z){if("+1"===z||"-1"===z){var F=this.value(L)||0;z="+1"===z?F+1:F-1}return 0===z?(this.remove(L),!0):w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"add",this).call(this,L,z)}},{key:"canAdd",value:function(L,z){return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,L,z)||w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,L,parseInt(z))}},{key:"value",value:function(L){return parseInt(w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,L))||void 0}}]),O}(C.default.Attributor.Class),$=new x("indent","ql-indent",{scope:C.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});_.IndentClass=$},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(4)).default);E.blotName="blockquote",E.tagName="blockquote",_.default=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function x($,R){for(var O=0;O<R.length;O++){var M=R[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty($,M.key,M)}}return function($,R,O){return R&&x($.prototype,R),O&&x($,O),$}}();var y=function(x){function $(){return function S(x,$){if(!(x instanceof $))throw new TypeError("Cannot call a class as a function")}(this,$),function I(x,$){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?x:$}(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return function E(x,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);x.prototype=Object.create($&&$.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(x,$):x.__proto__=$)}($,x),A($,null,[{key:"formats",value:function(O){return this.tagName.indexOf(O.tagName)+1}}]),$}(function C(x){return x&&x.__esModule?x:{default:x}}(d(4)).default);y.blotName="header",y.tagName=["H1","H2","H3","H4","H5","H6"],_.default=y},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.ListItem=void 0;var A=function(){function F(J,ue){for(var ce=0;ce<ue.length;ce++){var re=ue[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(J,re.key,re)}}return function(J,ue,ce){return ue&&F(J.prototype,ue),ce&&F(J,ce),J}}(),w=function F(J,ue,ce){null===J&&(J=Function.prototype);var re=Object.getOwnPropertyDescriptor(J,ue);if(void 0===re){var we=Object.getPrototypeOf(J);return null===we?void 0:F(we,ue,ce)}if("value"in re)return re.value;var j=re.get;return void 0===j?void 0:j.call(ce)},C=x(d(0)),I=x(d(4)),y=x(d(25));function x(F){return F&&F.__esModule?F:{default:F}}function R(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function O(F,J){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!J||"object"!=typeof J&&"function"!=typeof J?F:J}function M(F,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);F.prototype=Object.create(J&&J.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(F,J):F.__proto__=J)}var L=function(F){function J(){return R(this,J),O(this,(J.__proto__||Object.getPrototypeOf(J)).apply(this,arguments))}return M(J,F),A(J,[{key:"format",value:function(ce,re){ce!==z.blotName||re?w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"format",this).call(this,ce,re):this.replaceWith(C.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(ce,re){return this.parent.isolate(this.offset(this.parent),this.length()),ce===this.parent.statics.blotName?(this.parent.replaceWith(ce,re),this):(this.parent.unwrap(),w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"replaceWith",this).call(this,ce,re))}}],[{key:"formats",value:function(ce){return ce.tagName===this.tagName?void 0:w(J.__proto__||Object.getPrototypeOf(J),"formats",this).call(this,ce)}}]),J}(I.default);L.blotName="list-item",L.tagName="LI";var z=function(F){function J(ue){R(this,J);var ce=O(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ue)),re=function(j){if(j.target.parentNode===ue){var Y=ce.statics.formats(ue),se=C.default.find(j.target);"checked"===Y?se.format("list","unchecked"):"unchecked"===Y&&se.format("list","checked")}};return ue.addEventListener("touchstart",re),ue.addEventListener("mousedown",re),ce}return M(J,F),A(J,null,[{key:"create",value:function(ce){var re="ordered"===ce?"OL":"UL",we=w(J.__proto__||Object.getPrototypeOf(J),"create",this).call(this,re);return("checked"===ce||"unchecked"===ce)&&we.setAttribute("data-checked","checked"===ce),we}},{key:"formats",value:function(ce){return"OL"===ce.tagName?"ordered":"UL"===ce.tagName?ce.hasAttribute("data-checked")?"true"===ce.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),A(J,[{key:"format",value:function(ce,re){this.children.length>0&&this.children.tail.format(ce,re)}},{key:"formats",value:function(){return function $(F,J,ue){return J in F?Object.defineProperty(F,J,{value:ue,enumerable:!0,configurable:!0,writable:!0}):F[J]=ue,F}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(ce,re){if(ce instanceof L)w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"insertBefore",this).call(this,ce,re);else{var we=null==re?this.length():re.offset(this),j=this.split(we);j.parent.insertBefore(ce,j)}}},{key:"optimize",value:function(ce){w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"optimize",this).call(this,ce);var re=this.next;null!=re&&re.prev===this&&re.statics.blotName===this.statics.blotName&&re.domNode.tagName===this.domNode.tagName&&re.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(re.moveChildren(this),re.remove())}},{key:"replace",value:function(ce){if(ce.statics.blotName!==this.statics.blotName){var re=C.default.create(this.statics.defaultChild);ce.moveChildren(re),this.appendChild(re)}w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"replace",this).call(this,ce)}}]),J}(y.default);z.blotName="list",z.scope=C.default.Scope.BLOCK_BLOT,z.tagName=["OL","UL"],z.defaultChild="list-item",z.allowedChildren=[L],_.ListItem=L,_.default=z},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(56)).default);E.blotName="italic",E.tagName=["EM","I"],_.default=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var z=Object.getPrototypeOf(R);return null===z?void 0:$(z,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,null,[{key:"create",value:function(M){return"super"===M?document.createElement("sup"):"sub"===M?document.createElement("sub"):w(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,M)}},{key:"formats",value:function(M){return"SUB"===M.tagName?"sub":"SUP"===M.tagName?"super":void 0}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(6)).default);x.blotName="script",x.tagName=["SUB","SUP"],_.default=x},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(6)).default);E.blotName="strike",E.tagName="S",_.default=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(6)).default);E.blotName="underline",E.tagName="U",_.default=E},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var z=0;z<L.length;z++){var F=L[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,z){return L&&O(M.prototype,L),z&&O(M,z),M}}(),w=function O(M,L,z){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,z)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(z)},C=function I(O){return O&&O.__esModule?O:{default:O}}(d(0)),S=d(27);var $=["alt","height","width"],R=function(O){function M(){return function E(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function y(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function x(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"format",value:function(z,F){$.indexOf(z)>-1?F?this.domNode.setAttribute(z,F):this.domNode.removeAttribute(z):w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,z,F)}}],[{key:"create",value:function(z){var F=w(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,z);return"string"==typeof z&&F.setAttribute("src",this.sanitize(z)),F}},{key:"formats",value:function(z){return $.reduce(function(F,J){return z.hasAttribute(J)&&(F[J]=z.getAttribute(J)),F},{})}},{key:"match",value:function(z){return/\.(jpe?g|gif|png)$/.test(z)||/^data:image\/.+;base64/.test(z)}},{key:"sanitize",value:function(z){return(0,S.sanitize)(z,["http","https","data"])?z:"//:0"}},{key:"value",value:function(z){return z.getAttribute("src")}}]),M}(C.default.Embed);R.blotName="image",R.tagName="IMG",_.default=R},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var z=0;z<L.length;z++){var F=L[z];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,z){return L&&O(M.prototype,L),z&&O(M,z),M}}(),w=function O(M,L,z){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,z)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(z)},D=d(4),S=function I(O){return O&&O.__esModule?O:{default:O}}(d(27));var $=["height","width"],R=function(O){function M(){return function E(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function y(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function x(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"format",value:function(z,F){$.indexOf(z)>-1?F?this.domNode.setAttribute(z,F):this.domNode.removeAttribute(z):w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,z,F)}}],[{key:"create",value:function(z){var F=w(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,z);return F.setAttribute("frameborder","0"),F.setAttribute("allowfullscreen",!0),F.setAttribute("src",this.sanitize(z)),F}},{key:"formats",value:function(z){return $.reduce(function(F,J){return z.hasAttribute(J)&&(F[J]=z.getAttribute(J)),F},{})}},{key:"sanitize",value:function(z){return S.default.sanitize(z)}},{key:"value",value:function(z){return z.getAttribute("src")}}]),M}(D.BlockEmbed);R.blotName="video",R.className="ql-video",R.tagName="IFRAME",_.default=R},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.FormulaBlot=void 0;var A=function(){function z(F,J){for(var ue=0;ue<J.length;ue++){var ce=J[ue];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(F,ce.key,ce)}}return function(F,J,ue){return J&&z(F.prototype,J),ue&&z(F,ue),F}}(),w=function z(F,J,ue){null===F&&(F=Function.prototype);var ce=Object.getOwnPropertyDescriptor(F,J);if(void 0===ce){var re=Object.getPrototypeOf(F);return null===re?void 0:z(re,J,ue)}if("value"in ce)return ce.value;var we=ce.get;return void 0===we?void 0:we.call(ue)},C=x(d(35)),I=x(d(5)),y=x(d(9));function x(z){return z&&z.__esModule?z:{default:z}}function $(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}function R(z,F){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?z:F}function O(z,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(z,F):z.__proto__=F)}var M=function(z){function F(){return $(this,F),R(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return O(F,z),A(F,null,[{key:"create",value:function(ue){var ce=w(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,ue);return"string"==typeof ue&&(window.katex.render(ue,ce,{throwOnError:!1,errorColor:"#f00"}),ce.setAttribute("data-value",ue)),ce}},{key:"value",value:function(ue){return ue.getAttribute("data-value")}}]),F}(C.default);M.blotName="formula",M.className="ql-formula",M.tagName="SPAN";var L=function(z){function F(){$(this,F);var J=R(this,(F.__proto__||Object.getPrototypeOf(F)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return J}return O(F,z),A(F,null,[{key:"register",value:function(){I.default.register(M,!0)}}]),F}(y.default);_.FormulaBlot=M,_.default=L},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.CodeToken=_.CodeBlock=void 0;var A=function(){function ue(ce,re){for(var we=0;we<re.length;we++){var j=re[we];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ce,j.key,j)}}return function(ce,re,we){return re&&ue(ce.prototype,re),we&&ue(ce,we),ce}}(),w=function ue(ce,re,we){null===ce&&(ce=Function.prototype);var j=Object.getOwnPropertyDescriptor(ce,re);if(void 0===j){var Y=Object.getPrototypeOf(ce);return null===Y?void 0:ue(Y,re,we)}if("value"in j)return j.value;var se=j.get;return void 0===se?void 0:se.call(we)},C=R(d(0)),I=R(d(5)),y=R(d(9));function R(ue){return ue&&ue.__esModule?ue:{default:ue}}function O(ue,ce){if(!(ue instanceof ce))throw new TypeError("Cannot call a class as a function")}function M(ue,ce){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||"object"!=typeof ce&&"function"!=typeof ce?ue:ce}function L(ue,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);ue.prototype=Object.create(ce&&ce.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,ce):ue.__proto__=ce)}var z=function(ue){function ce(){return O(this,ce),M(this,(ce.__proto__||Object.getPrototypeOf(ce)).apply(this,arguments))}return L(ce,ue),A(ce,[{key:"replaceWith",value:function(we){this.domNode.textContent=this.domNode.textContent,this.attach(),w(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),"replaceWith",this).call(this,we)}},{key:"highlight",value:function(we){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=we(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),ce}(R(d(13)).default);z.className="ql-syntax";var F=new C.default.Attributor.Class("token","hljs",{scope:C.default.Scope.INLINE}),J=function(ue){function ce(re,we){O(this,ce);var j=M(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,re,we));if("function"!=typeof j.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Y=null;return j.quill.on(I.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Y),Y=setTimeout(function(){j.highlight(),Y=null},j.options.interval)}),j.highlight(),j}return L(ce,ue),A(ce,null,[{key:"register",value:function(){I.default.register(F,!0),I.default.register(z,!0)}}]),A(ce,[{key:"highlight",value:function(){var we=this;if(!this.quill.selection.composing){this.quill.update(I.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(z).forEach(function(Y){Y.highlight(we.options.highlight)}),this.quill.update(I.default.sources.SILENT),null!=j&&this.quill.setSelection(j,I.default.sources.SILENT)}}}]),ce}(y.default);J.DEFAULTS={highlight:null==window.hljs?null:function(ue){return window.hljs.highlightAuto(ue).value},interval:1e3},_.CodeBlock=z,_.CodeToken=F,_.default=J},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Ne,_){Ne.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Ne,_){Ne.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Ne,_){Ne.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Ne,_){Ne.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Ne,_){Ne.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Ne,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BubbleTooltip=void 0;var A=function ce(re,we,j){null===re&&(re=Function.prototype);var Y=Object.getOwnPropertyDescriptor(re,we);if(void 0===Y){var se=Object.getPrototypeOf(re);return null===se?void 0:ce(se,we,j)}if("value"in Y)return Y.value;var W=Y.get;return void 0===W?void 0:W.call(j)},w=function(){function ce(re,we){for(var j=0;j<we.length;j++){var Y=we[j];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(re,Y.key,Y)}}return function(re,we,j){return we&&ce(re.prototype,we),j&&ce(re,j),re}}(),C=O(d(3)),I=O(d(8)),E=d(43),y=O(E),x=d(15),R=O(d(41));function O(ce){return ce&&ce.__esModule?ce:{default:ce}}function M(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")}function L(ce,re){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||"object"!=typeof re&&"function"!=typeof re?ce:re}function z(ce,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function, not "+typeof re);ce.prototype=Object.create(re&&re.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,re):ce.__proto__=re)}var F=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],J=function(ce){function re(we,j){M(this,re),null!=j.modules.toolbar&&null==j.modules.toolbar.container&&(j.modules.toolbar.container=F);var Y=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,we,j));return Y.quill.container.classList.add("ql-bubble"),Y}return z(re,ce),w(re,[{key:"extendToolbar",value:function(j){this.tooltip=new ue(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),R.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),R.default)}}]),re}(y.default);J.DEFAULTS=(0,C.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(re){re?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var ue=function(ce){function re(we,j){M(this,re);var Y=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,we,j));return Y.quill.on(I.default.events.EDITOR_CHANGE,function(se,W,Ce,Q){if(se===I.default.events.SELECTION_CHANGE)if(null!=W&&W.length>0&&Q===I.default.sources.USER){Y.show(),Y.root.style.left="0px",Y.root.style.width="",Y.root.style.width=Y.root.offsetWidth+"px";var Me=Y.quill.getLines(W.index,W.length);if(1===Me.length)Y.position(Y.quill.getBounds(W));else{var Xe=Me[Me.length-1],yt=Y.quill.getIndex(Xe),Je=Math.min(Xe.length()-1,W.index+W.length-yt),je=Y.quill.getBounds(new x.Range(yt,Je));Y.position(je)}}else document.activeElement!==Y.textbox&&Y.quill.hasFocus()&&Y.hide()}),Y}return z(re,ce),w(re,[{key:"listen",value:function(){var j=this;A(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(I.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var Y=j.quill.getSelection();null!=Y&&j.position(j.quill.getBounds(Y))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var Y=A(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"position",this).call(this,j),se=this.root.querySelector(".ql-tooltip-arrow");if(se.style.marginLeft="",0===Y)return Y;se.style.marginLeft=-1*Y-se.offsetWidth/2+"px"}}]),re}(E.BaseTooltip);ue.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),_.BubbleTooltip=ue,_.default=J},function(Ne,_,d){Ne.exports=d(63)}]).default},521:(dn,Ne,_)=>{"use strict";_.d(Ne,{t:()=>w});var d=_(3119),A=_(3586);class w extends d.B7{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const S=super._subscribe(C);return S&&!S.closed&&C.next(this._value),S}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A.P;return this._value}next(C){super.next(this._value=C)}}},1500:(dn,Ne,_)=>{"use strict";_.d(Ne,{E:()=>C});var d=_(4380),A=_(1536),w=_(6651);class C{constructor(I,E,y){this.kind=I,this.value=E,this.error=y,this.hasValue="N"===I}observe(I){switch(this.kind){case"N":return I.next&&I.next(this.value);case"E":return I.error&&I.error(this.error);case"C":return I.complete&&I.complete()}}do(I,E,y){switch(this.kind){case"N":return I&&I(this.value);case"E":return E&&E(this.error);case"C":return y&&y()}}accept(I,E,y){return I&&"function"==typeof I.next?this.observe(I):this.do(I,E,y)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return(0,w.$)(this.error);case"C":return(0,d.I)()}throw new Error("unexpected notification kind value")}static createNext(I){return typeof I<"u"?new C("N",I):C.undefinedValueNotification}static createError(I){return new C("E",void 0,I)}static createComplete(){return C.completeNotification}}C.completeNotification=new C("C"),C.undefinedValueNotification=new C("N",void 0)},434:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>y});var d=_(8097),w=_(5230),D=_(181),S=_(9291),I=_(782),E=_(897);let y=(()=>{class ${constructor(O){this._isScalar=!1,O&&(this._subscribe=O)}lift(O){const M=new $;return M.source=this,M.operator=O,M}subscribe(O,M,L){const{operator:z}=this,F=function C($,R,O){if($){if($ instanceof d.v)return $;if($[w.D])return $[w.D]()}return $||R||O?new d.v($,R,O):new d.v(D.I)}(O,M,L);if(F.add(z?z.call(F,this.source):this.source||E.$.useDeprecatedSynchronousErrorHandling&&!F.syncErrorThrowable?this._subscribe(F):this._trySubscribe(F)),E.$.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable&&(F.syncErrorThrowable=!1,F.syncErrorThrown))throw F.syncErrorValue;return F}_trySubscribe(O){try{return this._subscribe(O)}catch(M){E.$.useDeprecatedSynchronousErrorHandling&&(O.syncErrorThrown=!0,O.syncErrorValue=M),function A($){for(;$;){const{closed:R,destination:O,isStopped:M}=$;if(R||M)return!1;$=O&&O instanceof d.v?O:null}return!0}(O)?O.error(M):console.warn(M)}}forEach(O,M){return new(M=x(M))((L,z)=>{let F;F=this.subscribe(J=>{try{O(J)}catch(ue){z(ue),F&&F.unsubscribe()}},z,L)})}_subscribe(O){const{source:M}=this;return M&&M.subscribe(O)}[S.s](){return this}pipe(...O){return 0===O.length?this:(0,I.m)(O)(this)}toPromise(O){return new(O=x(O))((M,L)=>{let z;this.subscribe(F=>z=F,F=>L(F),()=>M(z))})}}return $.create=R=>new $(R),$})();function x($){if($||($=E.$.Promise||Promise),!$)throw new Error("no Promise impl found");return $}},181:(dn,Ne,_)=>{"use strict";_.d(Ne,{I:()=>w});var d=_(897),A=_(9570);const w={closed:!0,next(D){},error(D){if(d.$.useDeprecatedSynchronousErrorHandling)throw D;(0,A.T)(D)},complete(){}}},7675:(dn,Ne,_)=>{"use strict";_.d(Ne,{m:()=>F});var d=_(3119),A=_(6244),D=_(2059);const I=new class C extends D.q{}(class w extends A.R{constructor(ce,re){super(ce,re),this.scheduler=ce,this.work=re}schedule(ce,re=0){return re>0?super.schedule(ce,re):(this.delay=re,this.state=ce,this.scheduler.flush(this),this)}execute(ce,re){return re>0||this.closed?super.execute(ce,re):this._execute(ce,re)}requestAsyncId(ce,re,we=0){return null!==we&&we>0||null===we&&this.delay>0?super.requestAsyncId(ce,re,we):ce.flush(this)}});var E=_(2672),y=_(8097),x=_(1500);class O extends y.v{constructor(ce,re,we=0){super(ce),this.scheduler=re,this.delay=we}static dispatch(ce){const{notification:re,destination:we}=ce;re.observe(we),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(O.dispatch,this.delay,new M(ce,this.destination)))}_next(ce){this.scheduleMessage(x.E.createNext(ce))}_error(ce){this.scheduleMessage(x.E.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(x.E.createComplete()),this.unsubscribe()}}class M{constructor(ce,re){this.notification=ce,this.destination=re}}var L=_(3586),z=_(8402);class F extends d.B7{constructor(ce=Number.POSITIVE_INFINITY,re=Number.POSITIVE_INFINITY,we){super(),this.scheduler=we,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ce<1?1:ce,this._windowTime=re<1?1:re,re===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ce){if(!this.isStopped){const re=this._events;re.push(ce),re.length>this._bufferSize&&re.shift()}super.next(ce)}nextTimeWindow(ce){this.isStopped||(this._events.push(new J(this._getNow(),ce)),this._trimBufferThenGetEvents()),super.next(ce)}_subscribe(ce){const re=this._infiniteTimeWindow,we=re?this._events:this._trimBufferThenGetEvents(),j=this.scheduler,Y=we.length;let se;if(this.closed)throw new L.P;if(this.isStopped||this.hasError?se=E.y.EMPTY:(this.observers.push(ce),se=new z.Y(this,ce)),j&&ce.add(ce=new O(ce,j)),re)for(let W=0;W<Y&&!ce.closed;W++)ce.next(we[W]);else for(let W=0;W<Y&&!ce.closed;W++)ce.next(we[W].value);return this.hasError?ce.error(this.thrownError):this.isStopped&&ce.complete(),se}_getNow(){return(this.scheduler||I).now()}_trimBufferThenGetEvents(){const ce=this._getNow(),re=this._bufferSize,we=this._windowTime,j=this._events,Y=j.length;let se=0;for(;se<Y&&!(ce-j[se].time<we);)se++;return Y>re&&(se=Math.max(se,Y-re)),se>0&&j.splice(0,se),j}}class J{constructor(ce,re){this.time=ce,this.value=re}}},3119:(dn,Ne,_)=>{"use strict";_.d(Ne,{B7:()=>E,PJ:()=>I,kQ:()=>y});var d=_(434),A=_(8097),w=_(2672),D=_(3586),C=_(8402),S=_(5230);class I extends A.v{constructor($){super($),this.destination=$}}let E=(()=>{class x extends d.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[S.D](){return new I(this)}lift(R){const O=new y(this,this);return O.operator=R,O}next(R){if(this.closed)throw new D.P;if(!this.isStopped){const{observers:O}=this,M=O.length,L=O.slice();for(let z=0;z<M;z++)L[z].next(R)}}error(R){if(this.closed)throw new D.P;this.hasError=!0,this.thrownError=R,this.isStopped=!0;const{observers:O}=this,M=O.length,L=O.slice();for(let z=0;z<M;z++)L[z].error(R);this.observers.length=0}complete(){if(this.closed)throw new D.P;this.isStopped=!0;const{observers:R}=this,O=R.length,M=R.slice();for(let L=0;L<O;L++)M[L].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(R){if(this.closed)throw new D.P;return super._trySubscribe(R)}_subscribe(R){if(this.closed)throw new D.P;return this.hasError?(R.error(this.thrownError),w.y.EMPTY):this.isStopped?(R.complete(),w.y.EMPTY):(this.observers.push(R),new C.Y(this,R))}asObservable(){const R=new d.c;return R.source=this,R}}return x.create=($,R)=>new y($,R),x})();class y extends E{constructor($,R){super(),this.destination=$,this.source=R}next($){const{destination:R}=this;R&&R.next&&R.next($)}error($){const{destination:R}=this;R&&R.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:R}=this;return R?this.source.subscribe($):w.y.EMPTY}}},8402:(dn,Ne,_)=>{"use strict";_.d(Ne,{Y:()=>A});var d=_(2672);class A extends d.y{constructor(D,C){super(),this.subject=D,this.subscriber=C,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const D=this.subject,C=D.observers;if(this.subject=null,!C||0===C.length||D.isStopped||D.closed)return;const S=C.indexOf(this.subscriber);-1!==S&&C.splice(S,1)}}},8097:(dn,Ne,_)=>{"use strict";_.d(Ne,{v:()=>I});var d=_(4526),A=_(181),w=_(2672),D=_(5230),C=_(897),S=_(9570);class I extends w.y{constructor(x,$,R){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=A.I;break;case 1:if(!x){this.destination=A.I;break}if("object"==typeof x){x instanceof I?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new E(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new E(this,x,$,R)}}[D.D](){return this}static create(x,$,R){const O=new I(x,$,R);return O.syncErrorThrowable=!1,O}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class E extends I{constructor(x,$,R,O){super(),this._parentSubscriber=x;let M,L=this;(0,d.T)($)?M=$:$&&(M=$.next,R=$.error,O=$.complete,$!==A.I&&(L=Object.create($),(0,d.T)(L.unsubscribe)&&this.add(L.unsubscribe.bind(L)),L.unsubscribe=this.unsubscribe.bind(this))),this._context=L,this._next=M,this._error=R,this._complete=O}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;C.$.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:R}=C.$;if(this._error)R&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if($.syncErrorThrowable)R?($.syncErrorValue=x,$.syncErrorThrown=!0):(0,S.T)(x),this.unsubscribe();else{if(this.unsubscribe(),R)throw x;(0,S.T)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const $=()=>this._complete.call(this._context);C.$.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,$){try{x.call(this._context,$)}catch(R){if(this.unsubscribe(),C.$.useDeprecatedSynchronousErrorHandling)throw R;(0,S.T)(R)}}__tryOrSetError(x,$,R){if(!C.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,R)}catch(O){return C.$.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=O,x.syncErrorThrown=!0,!0):((0,S.T)(O),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},2672:(dn,Ne,_)=>{"use strict";_.d(Ne,{y:()=>S});var d=_(9869),A=_(1689),w=_(4526);const C=(()=>{function E(y){return Error.call(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((x,$)=>`${$+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y,this}return E.prototype=Object.create(Error.prototype),E})();class S{constructor(y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,y&&(this._ctorUnsubscribe=!0,this._unsubscribe=y)}unsubscribe(){let y;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:$,_unsubscribe:R,_subscriptions:O}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof S)x.remove(this);else if(null!==x)for(let M=0;M<x.length;++M)x[M].remove(this);if((0,w.T)(R)){$&&(this._unsubscribe=void 0);try{R.call(this)}catch(M){y=M instanceof C?I(M.errors):[M]}}if((0,d.c)(O)){let M=-1,L=O.length;for(;++M<L;){const z=O[M];if((0,A.G)(z))try{z.unsubscribe()}catch(F){y=y||[],F instanceof C?y=y.concat(I(F.errors)):y.push(F)}}}if(y)throw new C(y)}add(y){let x=y;if(!y)return S.EMPTY;switch(typeof y){case"function":x=new S(y);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof S)){const O=x;x=new S,x._subscriptions=[O]}break;default:throw new Error("unrecognized teardown "+y+" added to Subscription.")}let{_parentOrParents:$}=x;if(null===$)x._parentOrParents=this;else if($ instanceof S){if($===this)return x;x._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return x;$.push(this)}const R=this._subscriptions;return null===R?this._subscriptions=[x]:R.push(x),x}remove(y){const x=this._subscriptions;if(x){const $=x.indexOf(y);-1!==$&&x.splice($,1)}}}var E;function I(E){return E.reduce((y,x)=>y.concat(x instanceof C?x.errors:x),[])}S.EMPTY=((E=new S).closed=!0,E)},897:(dn,Ne,_)=>{"use strict";_.d(Ne,{$:()=>A});let d=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(w){if(w){const D=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+D.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=w},get useDeprecatedSynchronousErrorHandling(){return d}}},3879:(dn,Ne,_)=>{"use strict";_.d(Ne,{gn:()=>S,tS:()=>E,zA:()=>D});var d=_(8097),A=_(434),w=_(2794);class D extends d.v{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class S extends d.v{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function E(y,x){if(x.closed)return;if(y instanceof A.c)return y.subscribe(x);let $;try{$=(0,w.i)(y)(x)}catch(R){x.error(R)}return $}},1810:(dn,Ne,_)=>{"use strict";_.d(Ne,{G:()=>S,f:()=>I});var d=_(3119),A=_(434),D=(_(8097),_(2672)),C=_(3261);class S extends A.c{constructor(R,O){super(),this.source=R,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let R=this._connection;return R||(this._isComplete=!1,R=this._connection=new D.y,R.add(this.source.subscribe(new E(this.getSubject(),this))),R.closed&&(this._connection=null,R=D.y.EMPTY)),R}refCount(){return(0,C.B)()(this)}}const I=(()=>{const $=S.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$._subscribe},_isComplete:{value:$._isComplete,writable:!0},getSubject:{value:$.getSubject},connect:{value:$.connect},refCount:{value:$.refCount}}})();class E extends d.PJ{constructor(R,O){super(R),this.connectable=O}_error(R){this._unsubscribe(),super._error(R)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const R=this.connectable;if(R){this.connectable=null;const O=R._connection;R._refCount=0,R._subject=null,R._connection=null,O&&O.unsubscribe()}}}},2175:(dn,Ne,_)=>{"use strict";_.d(Ne,{zV:()=>$});var d=_(8201),A=_(9869),w=_(8097);class D extends w.v{notifyNext(L,z,F,J,ue){this.destination.next(z)}notifyError(L,z){this.destination.error(L)}notifyComplete(L){this.destination.complete()}}class C extends w.v{constructor(L,z,F){super(),this.parent=L,this.outerValue=z,this.outerIndex=F,this.index=0}_next(L){this.parent.notifyNext(this.outerValue,L,this.outerIndex,this.index++,this)}_error(L){this.parent.notifyError(L,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var S=_(2794),I=_(434);function E(M,L,z,F,J=new C(M,z,F)){if(!J.closed)return L instanceof I.c?L.subscribe(J):(0,S.i)(L)(J)}var y=_(4324);const x={};function $(...M){let L,z;return(0,d.m)(M[M.length-1])&&(z=M.pop()),"function"==typeof M[M.length-1]&&(L=M.pop()),1===M.length&&(0,A.c)(M[0])&&(M=M[0]),(0,y.c)(M,z).lift(new R(L))}class R{constructor(L){this.resultSelector=L}call(L,z){return z.subscribe(new O(L,this.resultSelector))}}class O extends D{constructor(L,z){super(L),this.resultSelector=z,this.active=0,this.values=[],this.observables=[]}_next(L){this.values.push(x),this.observables.push(L)}_complete(){const L=this.observables,z=L.length;if(0===z)this.destination.complete();else{this.active=z,this.toRespond=z;for(let F=0;F<z;F++)this.add(E(this,L[F],void 0,F))}}notifyComplete(L){0==(this.active-=1)&&this.destination.complete()}notifyNext(L,z,F){const J=this.values,ce=this.toRespond?J[F]===x?--this.toRespond:this.toRespond:0;J[F]=z,0===ce&&(this.resultSelector?this._tryResultSelector(J):this.destination.next(J.slice()))}_tryResultSelector(L){let z;try{z=this.resultSelector.apply(this,L)}catch(F){return void this.destination.error(F)}this.destination.next(z)}}},6933:(dn,Ne,_)=>{"use strict";_.d(Ne,{x:()=>D});var d=_(1536),A=_(9450);function D(...C){return function w(){return(0,A.U)(1)}()((0,d.of)(...C))}},6965:(dn,Ne,_)=>{"use strict";_.d(Ne,{v:()=>D});var d=_(434),A=_(2677),w=_(4380);function D(C){return new d.c(S=>{let I;try{I=C()}catch(y){return void S.error(y)}return(I?(0,A.H)(I):(0,w.I)()).subscribe(S)})}},1478:(dn,Ne,_)=>{"use strict";_.d(Ne,{K:()=>y});var d=_(3119),A=_(8097),w=_(434),D=_(2672),C=_(7675);const S={url:"",deserializer:x=>JSON.parse(x.data),serializer:x=>JSON.stringify(x)};class E extends d.kQ{constructor($,R){if(super(),$ instanceof w.c)this.destination=R,this.source=$;else{const O=this._config=Object.assign({},S);if(this._output=new d.B7,"string"==typeof $)O.url=$;else for(let M in $)$.hasOwnProperty(M)&&(O[M]=$[M]);if(!O.WebSocketCtor&&WebSocket)O.WebSocketCtor=WebSocket;else if(!O.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new C.m}}lift($){const R=new E(this._config,this.destination);return R.operator=$,R.source=this,R}_resetState(){this._socket=null,this.source||(this.destination=new C.m),this._output=new d.B7}multiplex($,R,O){const M=this;return new w.c(L=>{try{M.next($())}catch(F){L.error(F)}const z=M.subscribe(F=>{try{O(F)&&L.next(F)}catch(J){L.error(J)}},F=>L.error(F),()=>L.complete());return()=>{try{M.next(R())}catch(F){L.error(F)}z.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:$,protocol:R,url:O,binaryType:M}=this._config,L=this._output;let z=null;try{z=R?new $(O,R):new $(O),this._socket=z,M&&(this._socket.binaryType=M)}catch(J){return void L.error(J)}const F=new D.y(()=>{this._socket=null,z&&1===z.readyState&&z.close()});z.onopen=J=>{const{_socket:ue}=this;if(!ue)return z.close(),void this._resetState();const{openObserver:ce}=this._config;ce&&ce.next(J);const re=this.destination;this.destination=A.v.create(we=>{if(1===z.readyState)try{const{serializer:j}=this._config;z.send(j(we))}catch(j){this.destination.error(j)}},we=>{const{closingObserver:j}=this._config;j&&j.next(void 0),we&&we.code?z.close(we.code,we.reason):L.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:we}=this._config;we&&we.next(void 0),z.close(),this._resetState()}),re&&re instanceof C.m&&F.add(re.subscribe(this.destination))},z.onerror=J=>{this._resetState(),L.error(J)},z.onclose=J=>{this._resetState();const{closeObserver:ue}=this._config;ue&&ue.next(J),J.wasClean?L.complete():L.error(J)},z.onmessage=J=>{try{const{deserializer:ue}=this._config;L.next(ue(J))}catch(ue){L.error(ue)}}}_subscribe($){const{source:R}=this;return R?R.subscribe($):(this._socket||this._connectSocket(),this._output.subscribe($),$.add(()=>{const{_socket:O}=this;0===this._output.observers.length&&(O&&1===O.readyState&&O.close(),this._resetState())}),$)}unsubscribe(){const{_socket:$}=this;$&&1===$.readyState&&$.close(),this._resetState(),super.unsubscribe()}}function y(x){return new E(x)}},4380:(dn,Ne,_)=>{"use strict";_.d(Ne,{I:()=>w,w:()=>A});var d=_(434);const A=new d.c(C=>C.complete());function w(C){return C?function D(C){return new d.c(S=>C.schedule(()=>S.complete()))}(C):A}},8757:(dn,Ne,_)=>{"use strict";_.d(Ne,{p:()=>S});var d=_(434),A=_(9869),w=_(5443),D=_(1689),C=_(2677);function S(...E){if(1===E.length){const y=E[0];if((0,A.c)(y))return I(y,null);if((0,D.G)(y)&&Object.getPrototypeOf(y)===Object.prototype){const x=Object.keys(y);return I(x.map($=>y[$]),x)}}if("function"==typeof E[E.length-1]){const y=E.pop();return I(E=1===E.length&&(0,A.c)(E[0])?E[0]:E,null).pipe((0,w.T)(x=>y(...x)))}return I(E,null)}function I(E,y){return new d.c(x=>{const $=E.length;if(0===$)return void x.complete();const R=new Array($);let O=0,M=0;for(let L=0;L<$;L++){const z=(0,C.H)(E[L]);let F=!1;x.add(z.subscribe({next:J=>{F||(F=!0,M++),R[L]=J},error:J=>x.error(J),complete:()=>{O++,(O===$||!F)&&(M===$&&x.next(y?y.reduce((J,ue,ce)=>(J[ue]=R[ce],J),{}):R),x.complete())}}))}})}},2677:(dn,Ne,_)=>{"use strict";_.d(Ne,{H:()=>L});var d=_(434),A=_(2794),w=_(2672),D=_(9291),I=_(5661),E=_(9136),$=_(4113),R=_(3370);function L(z,F){return F?function M(z,F){if(null!=z){if(function x(z){return z&&"function"==typeof z[D.s]}(z))return function C(z,F){return new d.c(J=>{const ue=new w.y;return ue.add(F.schedule(()=>{const ce=z[D.s]();ue.add(ce.subscribe({next(re){ue.add(F.schedule(()=>J.next(re)))},error(re){ue.add(F.schedule(()=>J.error(re)))},complete(){ue.add(F.schedule(()=>J.complete()))}}))})),ue})}(z,F);if((0,$.y)(z))return function S(z,F){return new d.c(J=>{const ue=new w.y;return ue.add(F.schedule(()=>z.then(ce=>{ue.add(F.schedule(()=>{J.next(ce),ue.add(F.schedule(()=>J.complete()))}))},ce=>{ue.add(F.schedule(()=>J.error(ce)))}))),ue})}(z,F);if((0,R.X)(z))return(0,I.V)(z,F);if(function O(z){return z&&"function"==typeof z[E.lJ]}(z)||"string"==typeof z)return function y(z,F){if(!z)throw new Error("Iterable cannot be null");return new d.c(J=>{const ue=new w.y;let ce;return ue.add(()=>{ce&&"function"==typeof ce.return&&ce.return()}),ue.add(F.schedule(()=>{ce=z[E.lJ](),ue.add(F.schedule(function(){if(J.closed)return;let re,we;try{const j=ce.next();re=j.value,we=j.done}catch(j){return void J.error(j)}we?J.complete():(J.next(re),this.schedule())}))})),ue})}(z,F)}throw new TypeError((null!==z&&typeof z||z)+" is not observable")}(z,F):z instanceof d.c?z:new d.c((0,A.i)(z))}},4324:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>D});var d=_(434),A=_(7824),w=_(5661);function D(C,S){return S?(0,w.V)(C,S):new d.c((0,A.v)(C))}},7557:(dn,Ne,_)=>{"use strict";_.d(Ne,{R:()=>S});var d=_(434),A=_(9869),w=_(4526),D=_(5443);function S($,R,O,M){return(0,w.T)(O)&&(M=O,O=void 0),M?S($,R,O).pipe((0,D.T)(L=>(0,A.c)(L)?M(...L):M(L))):new d.c(L=>{I($,R,function z(F){L.next(arguments.length>1?Array.prototype.slice.call(arguments):F)},L,O)})}function I($,R,O,M,L){let z;if(function x($){return $&&"function"==typeof $.addEventListener&&"function"==typeof $.removeEventListener}($)){const F=$;$.addEventListener(R,O,L),z=()=>F.removeEventListener(R,O,L)}else if(function y($){return $&&"function"==typeof $.on&&"function"==typeof $.off}($)){const F=$;$.on(R,O),z=()=>F.off(R,O)}else if(function E($){return $&&"function"==typeof $.addListener&&"function"==typeof $.removeListener}($)){const F=$;$.addListener(R,O),z=()=>F.removeListener(R,O)}else{if(!$||!$.length)throw new TypeError("Invalid event target");for(let F=0,J=$.length;F<J;F++)I($[F],R,O,M,L)}M.add(z)}},7405:(dn,Ne,_)=>{"use strict";_.d(Ne,{h:()=>C});var d=_(434),A=_(8201),w=_(9450),D=_(4324);function C(...S){let I=Number.POSITIVE_INFINITY,E=null,y=S[S.length-1];return(0,A.m)(y)?(E=S.pop(),S.length>1&&"number"==typeof S[S.length-1]&&(I=S.pop())):"number"==typeof y&&(I=S.pop()),null===E&&1===S.length&&S[0]instanceof d.c?S[0]:(0,w.U)(I)((0,D.c)(S,E))}},1536:(dn,Ne,_)=>{"use strict";_.d(Ne,{of:()=>D});var d=_(8201),A=_(4324),w=_(5661);function D(...C){let S=C[C.length-1];return(0,d.m)(S)?(C.pop(),(0,w.V)(C,S)):(0,A.c)(C)}},6651:(dn,Ne,_)=>{"use strict";_.d(Ne,{$:()=>A});var d=_(434);function A(D,C){return new d.c(C?S=>C.schedule(w,0,{error:D,subscriber:S}):S=>S.error(D))}function w({error:D,subscriber:C}){C.error(D)}},3340:(dn,Ne,_)=>{"use strict";_.d(Ne,{O:()=>S});var d=_(434),A=_(9573),w=_(9869);function D(E){return!(0,w.c)(E)&&E-parseFloat(E)+1>=0}var C=_(8201);function S(E=0,y,x){let $=-1;return D(y)?$=Number(y)<1?1:Number(y):(0,C.m)(y)&&(x=y),(0,C.m)(x)||(x=A.b),new d.c(R=>{const O=D(E)?E:+E-x.now();return x.schedule(I,O,{index:0,period:$,subscriber:R})})}function I(E){const{index:y,period:x,subscriber:$}=E;if($.next(y),!$.closed){if(-1===x)return $.complete();E.index=y+1,this.schedule(E,x)}}},1506:(dn,Ne,_)=>{"use strict";_.d(Ne,{yU:()=>S});var d=_(4324),A=_(9869),w=_(8097),D=_(9136),C=_(3879);function S(...R){const O=R[R.length-1];return"function"==typeof O&&R.pop(),(0,d.c)(R,void 0).lift(new I(O))}class I{constructor(O){this.resultSelector=O}call(O,M){return M.subscribe(new E(O,this.resultSelector))}}class E extends w.v{constructor(O,M,L=Object.create(null)){super(O),this.resultSelector=M,this.iterators=[],this.active=0,this.resultSelector="function"==typeof M?M:void 0}_next(O){const M=this.iterators;(0,A.c)(O)?M.push(new x(O)):M.push("function"==typeof O[D.lJ]?new y(O[D.lJ]()):new $(this.destination,this,O))}_complete(){const O=this.iterators,M=O.length;if(this.unsubscribe(),0!==M){this.active=M;for(let L=0;L<M;L++){let z=O[L];z.stillUnsubscribed?this.destination.add(z.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const O=this.iterators,M=O.length,L=this.destination;for(let J=0;J<M;J++){let ue=O[J];if("function"==typeof ue.hasValue&&!ue.hasValue())return}let z=!1;const F=[];for(let J=0;J<M;J++){let ue=O[J],ce=ue.next();if(ue.hasCompleted()&&(z=!0),ce.done)return void L.complete();F.push(ce.value)}this.resultSelector?this._tryresultSelector(F):L.next(F),z&&L.complete()}_tryresultSelector(O){let M;try{M=this.resultSelector.apply(this,O)}catch(L){return void this.destination.error(L)}this.destination.next(M)}}class y{constructor(O){this.iterator=O,this.nextResult=O.next()}hasValue(){return!0}next(){const O=this.nextResult;return this.nextResult=this.iterator.next(),O}hasCompleted(){const O=this.nextResult;return!(!O||!O.done)}}class x{constructor(O){this.array=O,this.index=0,this.length=0,this.length=O.length}[D.lJ](){return this}next(O){const M=this.index++;return M<this.length?{value:this.array[M],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $ extends C.gn{constructor(O,M,L){super(O),this.parent=M,this.observable=L,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[D.lJ](){return this}next(){const O=this.buffer;return 0===O.length&&this.isComplete?{value:null,done:!0}:{value:O.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(O){this.buffer.push(O),this.parent.checkIterators()}subscribe(){return(0,C.tS)(this.observable,new C.zA(this))}}},9314:(dn,Ne,_)=>{"use strict";_.d(Ne,{W:()=>A});var d=_(3879);function A(C){return function(I){const E=new w(C),y=I.lift(E);return E.caught=y}}class w{constructor(S){this.selector=S}call(S,I){return I.subscribe(new D(S,this.selector,this.caught))}}class D extends d.gn{constructor(S,I,E){super(S),this.selector=I,this.caught=E}error(S){if(!this.isStopped){let I;try{I=this.selector(S,this.caught)}catch(x){return void super.error(x)}this._unsubscribeAndRecycle();const E=new d.zA(this);this.add(E);const y=(0,d.tS)(I,E);y!==E&&this.add(y)}}}},9003:(dn,Ne,_)=>{"use strict";_.d(Ne,{H:()=>A});var d=_(3107);function A(w,D){return(0,d.ZZ)(w,D,1)}},9803:(dn,Ne,_)=>{"use strict";_.d(Ne,{B:()=>w});var d=_(8097),A=_(9573);function w(I,E=A.b){return y=>y.lift(new D(I,E))}class D{constructor(E,y){this.dueTime=E,this.scheduler=y}call(E,y){return y.subscribe(new C(E,this.dueTime,this.scheduler))}}class C extends d.v{constructor(E,y,x){super(E),this.dueTime=y,this.scheduler=x,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(E){this.clearDebounce(),this.lastValue=E,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:E}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(E)}}clearDebounce(){const E=this.debouncedSubscription;null!==E&&(this.remove(E),E.unsubscribe(),this.debouncedSubscription=null)}}function S(I){I.debouncedNext()}},4702:(dn,Ne,_)=>{"use strict";_.d(Ne,{U:()=>A});var d=_(8097);function A(C=null){return S=>S.lift(new w(C))}class w{constructor(S){this.defaultValue=S}call(S,I){return I.subscribe(new D(S,this.defaultValue))}}class D extends d.v{constructor(S,I){super(S),this.defaultValue=I,this.isEmpty=!0}_next(S){this.isEmpty=!1,this.destination.next(S)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},9277:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>C});var d=_(9573),w=_(8097),D=_(1500);function C(y,x=d.b){const R=function A(y){return y instanceof Date&&!isNaN(+y)}(y)?+y-x.now():Math.abs(y);return O=>O.lift(new S(R,x))}class S{constructor(x,$){this.delay=x,this.scheduler=$}call(x,$){return $.subscribe(new I(x,this.delay,this.scheduler))}}class I extends w.v{constructor(x,$,R){super(x),this.delay=$,this.scheduler=R,this.queue=[],this.active=!1,this.errored=!1}static dispatch(x){const $=x.source,R=$.queue,O=x.scheduler,M=x.destination;for(;R.length>0&&R[0].time-O.now()<=0;)R.shift().notification.observe(M);if(R.length>0){const L=Math.max(0,R[0].time-O.now());this.schedule(x,L)}else this.unsubscribe(),$.active=!1}_schedule(x){this.active=!0,this.destination.add(x.schedule(I.dispatch,this.delay,{source:this,destination:this.destination,scheduler:x}))}scheduleNotification(x){if(!0===this.errored)return;const $=this.scheduler,R=new E($.now()+this.delay,x);this.queue.push(R),!1===this.active&&this._schedule($)}_next(x){this.scheduleNotification(D.E.createNext(x))}_error(x){this.errored=!0,this.queue=[],this.destination.error(x),this.unsubscribe()}_complete(){this.scheduleNotification(D.E.createComplete()),this.unsubscribe()}}class E{constructor(x,$){this.time=x,this.notification=$}}},6109:(dn,Ne,_)=>{"use strict";_.d(Ne,{F:()=>A});var d=_(8097);function A(C,S){return I=>I.lift(new w(C,S))}class w{constructor(S,I){this.compare=S,this.keySelector=I}call(S,I){return I.subscribe(new D(S,this.compare,this.keySelector))}}class D extends d.v{constructor(S,I,E){super(S),this.keySelector=E,this.hasKey=!1,"function"==typeof I&&(this.compare=I)}compare(S,I){return S===I}_next(S){let I;try{const{keySelector:y}=this;I=y?y(S):S}catch(y){return this.destination.error(y)}let E=!1;if(this.hasKey)try{const{compare:y}=this;E=y(this.key,I)}catch(y){return this.destination.error(y)}else this.hasKey=!0;E||(this.key=I,this.destination.next(S))}}},7504:(dn,Ne,_)=>{"use strict";_.d(Ne,{w:()=>A});var d=_(6109);function A(w,D){return(0,d.F)((C,S)=>D?D(C[w],S[w]):C[w]===S[w])}},8627:(dn,Ne,_)=>{"use strict";_.d(Ne,{p:()=>A});var d=_(8097);function A(C,S){return function(E){return E.lift(new w(C,S))}}class w{constructor(S,I){this.predicate=S,this.thisArg=I}call(S,I){return I.subscribe(new D(S,this.predicate,this.thisArg))}}class D extends d.v{constructor(S,I,E){super(S),this.predicate=I,this.thisArg=E,this.count=0}_next(S){let I;try{I=this.predicate.call(this.thisArg,S,this.count++)}catch(E){return void this.destination.error(E)}I&&this.destination.next(S)}}},9863:(dn,Ne,_)=>{"use strict";_.d(Ne,{j:()=>w});var d=_(8097),A=_(2672);function w(S){return I=>I.lift(new D(S))}class D{constructor(I){this.callback=I}call(I,E){return E.subscribe(new C(I,this.callback))}}class C extends d.v{constructor(I,E){super(I),this.add(new A.y(E))}}},7871:(dn,Ne,_)=>{"use strict";_.d(Ne,{$:()=>I});var d=_(5363),A=_(8627),w=_(3602),D=_(4702),C=_(3505),S=_(5980);function I(E,y){const x=arguments.length>=2;return $=>$.pipe(E?(0,A.p)((R,O)=>E(R,O,$)):S.D,(0,w.s)(1),x?(0,D.U)(y):(0,C.v)(()=>new d.G))}},5443:(dn,Ne,_)=>{"use strict";_.d(Ne,{T:()=>A});var d=_(8097);function A(C,S){return function(E){if("function"!=typeof C)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return E.lift(new w(C,S))}}class w{constructor(S,I){this.project=S,this.thisArg=I}call(S,I){return I.subscribe(new D(S,this.project,this.thisArg))}}class D extends d.v{constructor(S,I,E){super(S),this.project=I,this.count=0,this.thisArg=E||this}_next(S){let I;try{I=this.project.call(this.thisArg,S,this.count++)}catch(E){return void this.destination.error(E)}this.destination.next(I)}}},9450:(dn,Ne,_)=>{"use strict";_.d(Ne,{U:()=>w});var d=_(3107),A=_(5980);function w(D=Number.POSITIVE_INFINITY){return(0,d.ZZ)(A.D,D)}},3107:(dn,Ne,_)=>{"use strict";_.d(Ne,{ZZ:()=>D});var d=_(5443),A=_(2677),w=_(3879);function D(E,y,x=Number.POSITIVE_INFINITY){return"function"==typeof y?$=>$.pipe(D((R,O)=>(0,A.H)(E(R,O)).pipe((0,d.T)((M,L)=>y(R,M,O,L))),x)):("number"==typeof y&&(x=y),$=>$.lift(new C(E,x)))}class C{constructor(y,x=Number.POSITIVE_INFINITY){this.project=y,this.concurrent=x}call(y,x){return x.subscribe(new S(y,this.project,this.concurrent))}}class S extends w.gn{constructor(y,x,$=Number.POSITIVE_INFINITY){super(y),this.project=x,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(y){this.active<this.concurrent?this._tryNext(y):this.buffer.push(y)}_tryNext(y){let x;const $=this.index++;try{x=this.project(y,$)}catch(R){return void this.destination.error(R)}this.active++,this._innerSub(x)}_innerSub(y){const x=new w.zA(this),$=this.destination;$.add(x);const R=(0,w.tS)(y,x);R!==x&&$.add(R)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(y){this.destination.next(y)}notifyComplete(){const y=this.buffer;this.active--,y.length>0?this._next(y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3261:(dn,Ne,_)=>{"use strict";_.d(Ne,{B:()=>A});var d=_(8097);function A(){return function(S){return S.lift(new w(S))}}class w{constructor(S){this.connectable=S}call(S,I){const{connectable:E}=this;E._refCount++;const y=new D(S,E),x=I.subscribe(y);return y.closed||(y.connection=E.connect()),x}}class D extends d.v{constructor(S,I){super(S),this.connectable=I}_unsubscribe(){const{connectable:S}=this;if(!S)return void(this.connection=null);this.connectable=null;const I=S._refCount;if(I<=0)return void(this.connection=null);if(S._refCount=I-1,I>1)return void(this.connection=null);const{connection:E}=this,y=S._connection;this.connection=null,y&&(!E||y===E)&&y.unsubscribe()}}},7783:(dn,Ne,_)=>{"use strict";_.d(Ne,{L:()=>A});var d=_(8097);function A(C=-1){return S=>S.lift(new w(C,S))}class w{constructor(S,I){this.count=S,this.source=I}call(S,I){return I.subscribe(new D(S,this.count,this.source))}}class D extends d.v{constructor(S,I,E){super(S),this.count=I,this.source=E}error(S){if(!this.isStopped){const{source:I,count:E}=this;if(0===E)return super.error(S);E>-1&&(this.count=E-1),I.subscribe(this._unsubscribeAndRecycle())}}}},7841:(dn,Ne,_)=>{"use strict";_.d(Ne,{t:()=>A});var d=_(7675);function A(D,C,S){let I;return I=D&&"object"==typeof D?D:{bufferSize:D,windowTime:C,refCount:!1,scheduler:S},E=>E.lift(function w({bufferSize:D=Number.POSITIVE_INFINITY,windowTime:C=Number.POSITIVE_INFINITY,refCount:S,scheduler:I}){let E,x,y=0,$=!1,R=!1;return function(M){let L;y++,!E||$?($=!1,E=new d.m(D,C,I),L=E.subscribe(this),x=M.subscribe({next(z){E.next(z)},error(z){$=!0,E.error(z)},complete(){R=!0,x=void 0,E.complete()}}),R&&(x=void 0)):L=E.subscribe(this),this.add(()=>{y--,L.unsubscribe(),L=void 0,x&&!R&&S&&0===y&&(x.unsubscribe(),x=void 0,E=void 0)})}}(I))}},1314:(dn,Ne,_)=>{"use strict";_.d(Ne,{i:()=>A});var d=_(8097);function A(C){return S=>S.lift(new w(C))}class w{constructor(S){this.total=S}call(S,I){return I.subscribe(new D(S,this.total))}}class D extends d.v{constructor(S,I){super(S),this.total=I,this.count=0}_next(S){++this.count>this.total&&this.destination.next(S)}}},9273:(dn,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>w});var d=_(6933),A=_(8201);function w(...D){const C=D[D.length-1];return(0,A.m)(C)?(D.pop(),S=>(0,d.x)(D,S,C)):S=>(0,d.x)(D,S)}},1963:(dn,Ne,_)=>{"use strict";_.d(Ne,{n:()=>D});var d=_(5443),A=_(2677),w=_(3879);function D(I,E){return"function"==typeof E?y=>y.pipe(D((x,$)=>(0,A.H)(I(x,$)).pipe((0,d.T)((R,O)=>E(x,R,$,O))))):y=>y.lift(new C(I))}class C{constructor(E){this.project=E}call(E,y){return y.subscribe(new S(E,this.project))}}class S extends w.gn{constructor(E,y){super(E),this.project=y,this.index=0}_next(E){let y;const x=this.index++;try{y=this.project(E,x)}catch($){return void this.destination.error($)}this._innerSub(y)}_innerSub(E){const y=this.innerSubscription;y&&y.unsubscribe();const x=new w.zA(this),$=this.destination;$.add(x),this.innerSubscription=(0,w.tS)(E,x),this.innerSubscription!==x&&$.add(this.innerSubscription)}_complete(){const{innerSubscription:E}=this;(!E||E.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(E){this.destination.next(E)}}},3602:(dn,Ne,_)=>{"use strict";_.d(Ne,{s:()=>D});var d=_(8097),A=_(5741),w=_(4380);function D(I){return E=>0===I?(0,w.I)():E.lift(new C(I))}class C{constructor(E){if(this.total=E,this.total<0)throw new A.k}call(E,y){return y.subscribe(new S(E,this.total))}}class S extends d.v{constructor(E,y){super(E),this.total=y,this.count=0}_next(E){const y=this.total,x=++this.count;x<=y&&(this.destination.next(E),x===y&&(this.destination.complete(),this.unsubscribe()))}}},7464:(dn,Ne,_)=>{"use strict";_.d(Ne,{Q:()=>A});var d=_(3879);function A(C){return S=>S.lift(new w(C))}class w{constructor(S){this.notifier=S}call(S,I){const E=new D(S),y=(0,d.tS)(this.notifier,new d.zA(E));return y&&!E.seenValue?(E.add(y),I.subscribe(E)):E}}class D extends d.gn{constructor(S){super(S),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},370:(dn,Ne,_)=>{"use strict";_.d(Ne,{v:()=>A});var d=_(8097);function A(C,S=!1){return I=>I.lift(new w(C,S))}class w{constructor(S,I){this.predicate=S,this.inclusive=I}call(S,I){return I.subscribe(new D(S,this.predicate,this.inclusive))}}class D extends d.v{constructor(S,I,E){super(S),this.predicate=I,this.inclusive=E,this.index=0}_next(S){const I=this.destination;let E;try{E=this.predicate(S,this.index++)}catch(y){return void I.error(y)}this.nextOrComplete(S,E)}nextOrComplete(S,I){const E=this.destination;I?E.next(S):(this.inclusive&&E.next(S),E.complete())}}},6e3:(dn,Ne,_)=>{"use strict";_.d(Ne,{M:()=>D});var d=_(8097),A=_(8986),w=_(4526);function D(I,E,y){return function($){return $.lift(new C(I,E,y))}}class C{constructor(E,y,x){this.nextOrObserver=E,this.error=y,this.complete=x}call(E,y){return y.subscribe(new S(E,this.nextOrObserver,this.error,this.complete))}}class S extends d.v{constructor(E,y,x,$){super(E),this._tapNext=A.l,this._tapError=A.l,this._tapComplete=A.l,this._tapError=x||A.l,this._tapComplete=$||A.l,(0,w.T)(y)?(this._context=this,this._tapNext=y):y&&(this._context=y,this._tapNext=y.next||A.l,this._tapError=y.error||A.l,this._tapComplete=y.complete||A.l)}_next(E){try{this._tapNext.call(this._context,E)}catch(y){return void this.destination.error(y)}this.destination.next(E)}_error(E){try{this._tapError.call(this._context,E)}catch(y){return void this.destination.error(y)}this.destination.error(E)}_complete(){try{this._tapComplete.call(this._context)}catch(E){return void this.destination.error(E)}return this.destination.complete()}}},3505:(dn,Ne,_)=>{"use strict";_.d(Ne,{v:()=>w});var d=_(5363),A=_(8097);function w(I=S){return E=>E.lift(new D(I))}class D{constructor(E){this.errorFactory=E}call(E,y){return y.subscribe(new C(E,this.errorFactory))}}class C extends A.v{constructor(E,y){super(E),this.errorFactory=y,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(y){E=y}this.destination.error(E)}}}function S(){return new d.G}},5661:(dn,Ne,_)=>{"use strict";_.d(Ne,{V:()=>w});var d=_(434),A=_(2672);function w(D,C){return new d.c(S=>{const I=new A.y;let E=0;return I.add(C.schedule(function(){E!==D.length?(S.next(D[E++]),S.closed||I.add(this.schedule())):S.complete()})),I})}},6244:(dn,Ne,_)=>{"use strict";_.d(Ne,{R:()=>w});var d=_(2672);class A extends d.y{constructor(C,S){super()}schedule(C,S=0){return this}}class w extends A{constructor(C,S){super(C,S),this.scheduler=C,this.work=S,this.pending=!1}schedule(C,S=0){if(this.closed)return this;this.state=C;const I=this.id,E=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(E,I,S)),this.pending=!0,this.delay=S,this.id=this.id||this.requestAsyncId(E,this.id,S),this}requestAsyncId(C,S,I=0){return setInterval(C.flush.bind(C,this),I)}recycleAsyncId(C,S,I=0){if(null!==I&&this.delay===I&&!1===this.pending)return S;clearInterval(S)}execute(C,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const I=this._execute(C,S);if(I)return I;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,S){let E,I=!1;try{this.work(C)}catch(y){I=!0,E=!!y&&y||new Error(y)}if(I)return this.unsubscribe(),E}_unsubscribe(){const C=this.id,S=this.scheduler,I=S.actions,E=I.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&I.splice(E,1),null!=C&&(this.id=this.recycleAsyncId(S,C,null)),this.delay=null}}},2059:(dn,Ne,_)=>{"use strict";_.d(Ne,{q:()=>A});let d=(()=>{class w{constructor(C,S=w.now){this.SchedulerAction=C,this.now=S}schedule(C,S=0,I){return new this.SchedulerAction(this,C).schedule(I,S)}}return w.now=()=>Date.now(),w})();class A extends d{constructor(D,C=d.now){super(D,()=>A.delegate&&A.delegate!==this?A.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(D,C=0,S){return A.delegate&&A.delegate!==this?A.delegate.schedule(D,C,S):super.schedule(D,C,S)}flush(D){const{actions:C}=this;if(this.active)return void C.push(D);let S;this.active=!0;do{if(S=D.execute(D.state,D.delay))break}while(D=C.shift());if(this.active=!1,S){for(;D=C.shift();)D.unsubscribe();throw S}}}},2800:(dn,Ne,_)=>{"use strict";_.d(Ne,{$:()=>$});let d=1;const A=Promise.resolve(),w={};function D(O){return O in w&&(delete w[O],!0)}const C={setImmediate(O){const M=d++;return w[M]=!0,A.then(()=>D(M)&&O()),M},clearImmediate(O){D(O)}};var I=_(6244),y=_(2059);const $=new class x extends y.q{flush(M){this.active=!0,this.scheduled=void 0;const{actions:L}=this;let z,F=-1,J=L.length;M=M||L.shift();do{if(z=M.execute(M.state,M.delay))break}while(++F<J&&(M=L.shift()));if(this.active=!1,z){for(;++F<J&&(M=L.shift());)M.unsubscribe();throw z}}}(class E extends I.R{constructor(M,L){super(M,L),this.scheduler=M,this.work=L}requestAsyncId(M,L,z=0){return null!==z&&z>0?super.requestAsyncId(M,L,z):(M.actions.push(this),M.scheduled||(M.scheduled=C.setImmediate(M.flush.bind(M,null))))}recycleAsyncId(M,L,z=0){if(null!==z&&z>0||null===z&&this.delay>0)return super.recycleAsyncId(M,L,z);0===M.actions.length&&(C.clearImmediate(L),M.scheduled=void 0)}})},9573:(dn,Ne,_)=>{"use strict";_.d(Ne,{b:()=>D});var d=_(6244);const D=new(_(2059).q)(d.R)},9136:(dn,Ne,_)=>{"use strict";_.d(Ne,{lJ:()=>A});const A=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},9291:(dn,Ne,_)=>{"use strict";_.d(Ne,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},5230:(dn,Ne,_)=>{"use strict";_.d(Ne,{D:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5741:(dn,Ne,_)=>{"use strict";_.d(Ne,{k:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return w.prototype=Object.create(Error.prototype),w})()},5363:(dn,Ne,_)=>{"use strict";_.d(Ne,{G:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return w.prototype=Object.create(Error.prototype),w})()},3586:(dn,Ne,_)=>{"use strict";_.d(Ne,{P:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return w.prototype=Object.create(Error.prototype),w})()},9570:(dn,Ne,_)=>{"use strict";function d(A){setTimeout(()=>{throw A},0)}_.d(Ne,{T:()=>d})},5980:(dn,Ne,_)=>{"use strict";function d(A){return A}_.d(Ne,{D:()=>d})},9869:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>d});const d=Array.isArray||(A=>A&&"number"==typeof A.length)},3370:(dn,Ne,_)=>{"use strict";_.d(Ne,{X:()=>d});const d=A=>A&&"number"==typeof A.length&&"function"!=typeof A},4526:(dn,Ne,_)=>{"use strict";function d(A){return"function"==typeof A}_.d(Ne,{T:()=>d})},1689:(dn,Ne,_)=>{"use strict";function d(A){return null!==A&&"object"==typeof A}_.d(Ne,{G:()=>d})},6899:(dn,Ne,_)=>{"use strict";_.d(Ne,{A:()=>A});var d=_(434);function A(w){return!!w&&(w instanceof d.c||"function"==typeof w.lift&&"function"==typeof w.subscribe)}},4113:(dn,Ne,_)=>{"use strict";function d(A){return!!A&&"function"!=typeof A.subscribe&&"function"==typeof A.then}_.d(Ne,{y:()=>d})},8201:(dn,Ne,_)=>{"use strict";function d(A){return A&&"function"==typeof A.schedule}_.d(Ne,{m:()=>d})},8986:(dn,Ne,_)=>{"use strict";function d(){}_.d(Ne,{l:()=>d})},782:(dn,Ne,_)=>{"use strict";_.d(Ne,{F:()=>A,m:()=>w});var d=_(5980);function A(...D){return w(D)}function w(D){return 0===D.length?d.D:1===D.length?D[0]:function(S){return D.reduce((I,E)=>E(I),S)}}},2794:(dn,Ne,_)=>{"use strict";_.d(Ne,{i:()=>$});var d=_(7824),A=_(9570),D=_(9136),S=_(9291),E=_(3370),y=_(4113),x=_(1689);const $=R=>{if(R&&"function"==typeof R[S.s])return(R=>O=>{const M=R[S.s]();if("function"!=typeof M.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return M.subscribe(O)})(R);if((0,E.X)(R))return(0,d.v)(R);if((0,y.y)(R))return(R=>O=>(R.then(M=>{O.closed||(O.next(M),O.complete())},M=>O.error(M)).then(null,A.T),O))(R);if(R&&"function"==typeof R[D.lJ])return(R=>O=>{const M=R[D.lJ]();for(;;){let L;try{L=M.next()}catch(z){return O.error(z),O}if(L.done){O.complete();break}if(O.next(L.value),O.closed)break}return"function"==typeof M.return&&O.add(()=>{M.return&&M.return()}),O})(R);{const M=`You provided ${(0,x.G)(R)?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(M)}}},7824:(dn,Ne,_)=>{"use strict";_.d(Ne,{v:()=>d});const d=A=>w=>{for(let D=0,C=A.length;D<C&&!w.closed;D++)w.next(A[D]);w.complete()}},2667:(dn,Ne,_)=>{var d=_(7576),A=_(6369),w=_(3555),D=_(2751),C=_(8365),S=_(3777),I=_(9781);I.alea=d,I.xor128=A,I.xorwow=w,I.xorshift7=D,I.xor4096=C,I.tychei=S,dn.exports=I},7576:function(dn,Ne,_){var d;!function(A,w,D){function C(y){var x=this,$=function E(){var y=4022871197;return function($){$=String($);for(var R=0;R<$.length;R++){var O=.02519603282416938*(y+=$.charCodeAt(R));O-=y=O>>>0,y=(O*=y)>>>0,y+=4294967296*(O-=y)}return 2.3283064365386963e-10*(y>>>0)}}();x.next=function(){var R=2091639*x.s0+2.3283064365386963e-10*x.c;return x.s0=x.s1,x.s1=x.s2,x.s2=R-(x.c=0|R)},x.c=1,x.s0=$(" "),x.s1=$(" "),x.s2=$(" "),x.s0-=$(y),x.s0<0&&(x.s0+=1),x.s1-=$(y),x.s1<0&&(x.s1+=1),x.s2-=$(y),x.s2<0&&(x.s2+=1),$=null}function S(y,x){return x.c=y.c,x.s0=y.s0,x.s1=y.s1,x.s2=y.s2,x}function I(y,x){var $=new C(y),R=x&&x.state,O=$.next;return O.int32=function(){return 4294967296*$.next()|0},O.double=function(){return O()+11102230246251565e-32*(2097152*O()|0)},O.quick=O,R&&("object"==typeof R&&S(R,$),O.state=function(){return S($,{})}),O}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.alea=I}(0,dn=_.nmd(dn))},3777:function(dn,Ne,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.next=function(){var R=y.b,O=y.c,M=y.d,L=y.a;return R=R<<25^R>>>7^O,O=O-M|0,M=M<<24^M>>>8^L,L=L-R|0,y.b=R=R<<20^R>>>12^O,y.c=O=O-M|0,y.d=M<<16^O>>>16^L,y.a=L-R|0},y.a=0,y.b=0,y.c=-1640531527,y.d=1367130551,E===Math.floor(E)?(y.a=E/4294967296|0,y.b=0|E):x+=E;for(var $=0;$<x.length+20;$++)y.b^=0|x.charCodeAt($),y.next()}function S(E,y){return y.a=E.a,y.b=E.b,y.c=E.c,y.d=E.d,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.tychei=I}(0,dn=_.nmd(dn))},6369:function(dn,Ne,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.x=0,y.y=0,y.z=0,y.w=0,y.next=function(){var R=y.x^y.x<<11;return y.x=y.y,y.y=y.z,y.z=y.w,y.w^=y.w>>>19^R^R>>>8},E===(0|E)?y.x=E:x+=E;for(var $=0;$<x.length+64;$++)y.x^=0|x.charCodeAt($),y.next()}function S(E,y){return y.x=E.x,y.y=E.y,y.z=E.z,y.w=E.w,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.xor128=I}(0,dn=_.nmd(dn))},8365:function(dn,Ne,_){var d;!function(A,w,D){function C(E){var y=this;y.next=function(){var M,L,$=y.w,R=y.X,O=y.i;return y.w=$=$+1640531527|0,L=R[O+34&127],M=R[O=O+1&127],L^=L<<13,M^=M<<17,L=R[O]=(L^=L>>>15)^(M^=M>>>12),y.i=O,L+($^$>>>16)|0},function x($,R){var O,M,L,z,F,J=[],ue=128;for(R===(0|R)?(M=R,R=null):(R+="\0",M=0,ue=Math.max(ue,R.length)),L=0,z=-32;z<ue;++z)R&&(M^=R.charCodeAt((z+32)%R.length)),0===z&&(F=M),M^=M<<10,M^=M>>>15,M^=M<<4,M^=M>>>13,z>=0&&(L=0==(O=J[127&z]^=M+(F=F+1640531527|0))?L+1:0);for(L>=128&&(J[127&(R&&R.length||0)]=-1),L=127,z=512;z>0;--z)M=J[L+34&127],O=J[L=L+1&127],M^=M<<13,O^=O<<17,J[L]=(M^=M>>>15)^(O^=O>>>12);$.w=F,$.X=J,$.i=L}(y,E)}function S(E,y){return y.i=E.i,y.w=E.w,y.X=E.X.slice(),y}function I(E,y){null==E&&(E=+new Date);var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&($.X&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.xor4096=I}(0,dn=_.nmd(dn))},2751:function(dn,Ne,_){var d;!function(A,w,D){function C(E){var y=this;y.next=function(){var O,M,$=y.x,R=y.i;return O=$[R],M=(O^=O>>>7)^O<<24,M^=(O=$[R+1&7])^O>>>10,M^=(O=$[R+3&7])^O>>>3,M^=(O=$[R+4&7])^O<<7,O=$[R+7&7],$[R]=M^=(O^=O<<13)^O<<9,y.i=R+1&7,M},function x($,R){var O,L=[];if(R===(0|R))L[0]=R;else for(R=""+R,O=0;O<R.length;++O)L[7&O]=L[7&O]<<15^R.charCodeAt(O)+L[O+1&7]<<13;for(;L.length<8;)L.push(0);for(O=0;O<8&&0===L[O];++O);for(8==O&&(L[7]=-1),$.x=L,$.i=0,O=256;O>0;--O)$.next()}(y,E)}function S(E,y){return y.x=E.x.slice(),y.i=E.i,y}function I(E,y){null==E&&(E=+new Date);var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&($.x&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.xorshift7=I}(0,dn=_.nmd(dn))},3555:function(dn,Ne,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.next=function(){var R=y.x^y.x>>>2;return y.x=y.y,y.y=y.z,y.z=y.w,y.w=y.v,(y.d=y.d+362437|0)+(y.v=y.v^y.v<<4^R^R<<1)|0},y.x=0,y.y=0,y.z=0,y.w=0,y.v=0,E===(0|E)?y.x=E:x+=E;for(var $=0;$<x.length+64;$++)y.x^=0|x.charCodeAt($),$==x.length&&(y.d=y.x<<10^y.x>>>4),y.next()}function S(E,y){return y.x=E.x,y.y=E.y,y.z=E.z,y.w=E.w,y.v=E.v,y.d=E.d,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Ne,_,Ne,w))&&(w.exports=d):this.xorwow=I}(0,dn=_.nmd(dn))},9781:function(dn,Ne,_){var d;!function(A,w,D){var O,C=256,y=D.pow(C,6),x=D.pow(2,52),$=2*x,R=C-1;function M(re,we,j){var Y=[],se=J(F((we=1==we?{entropy:!0}:we||{}).entropy?[re,ce(w)]:re??function ue(){try{var re;return O&&(re=O.randomBytes)?re=re(C):(re=new Uint8Array(C),(A.crypto||A.msCrypto).getRandomValues(re)),ce(re)}catch{var we=A.navigator,j=we&&we.plugins;return[+new Date,A,j,A.screen,ce(w)]}}(),3),Y),W=new L(Y),Ce=function(){for(var Q=W.g(6),Me=y,Xe=0;Q<x;)Q=(Q+Xe)*C,Me*=C,Xe=W.g(1);for(;Q>=$;)Q/=2,Me/=2,Xe>>>=1;return(Q+Xe)/Me};return Ce.int32=function(){return 0|W.g(4)},Ce.quick=function(){return W.g(4)/4294967296},Ce.double=Ce,J(ce(W.S),w),(we.pass||j||function(Q,Me,Xe,yt){return yt&&(yt.S&&z(yt,W),Q.state=function(){return z(W,{})}),Xe?(D.random=Q,Me):Q})(Ce,se,"global"in we?we.global:this==D,we.state)}function L(re){var we,j=re.length,Y=this,se=0,W=Y.i=Y.j=0,Ce=Y.S=[];for(j||(re=[j++]);se<C;)Ce[se]=se++;for(se=0;se<C;se++)Ce[se]=Ce[W=R&W+re[se%j]+(we=Ce[se])],Ce[W]=we;(Y.g=function(Q){for(var Me,Xe=0,yt=Y.i,Je=Y.j,je=Y.S;Q--;)Me=je[yt=R&yt+1],Xe=Xe*C+je[R&(je[yt]=je[Je=R&Je+Me])+(je[Je]=Me)];return Y.i=yt,Y.j=Je,Xe})(C)}function z(re,we){return we.i=re.i,we.j=re.j,we.S=re.S.slice(),we}function F(re,we){var se,j=[],Y=typeof re;if(we&&"object"==Y)for(se in re)try{j.push(F(re[se],we-1))}catch{}return j.length?j:"string"==Y?re:re+"\0"}function J(re,we){for(var Y,j=re+"",se=0;se<j.length;)we[R&se]=R&(Y^=19*we[R&se])+j.charCodeAt(se++);return ce(we)}function ce(re){return String.fromCharCode.apply(0,re)}if(J(D.random(),w),dn.exports){dn.exports=M;try{O=_(1234)}catch{}}else void 0!==(d=function(){return M}.call(Ne,_,Ne,dn))&&(dn.exports=d)}(typeof self<"u"?self:this,[],Math)},3277:(dn,Ne,_)=>{"use strict";_.d(Ne,{VV:()=>d,LL:()=>w});class d{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(C,S=!1){return this.onePassHasher.start().appendStr(C).end(S)}static hashAsciiStr(C,S=!1){return this.onePassHasher.start().appendAsciiStr(C).end(S)}static _hex(C){const S=d.hexChars,I=d.hexOut;let E,y,x,$;for($=0;$<4;$+=1)for(y=8*$,E=C[$],x=0;x<8;x+=2)I[y+1+x]=S.charAt(15&E),E>>>=4,I[y+0+x]=S.charAt(15&E),E>>>=4;return I.join("")}static _md5cycle(C,S){let I=C[0],E=C[1],y=C[2],x=C[3];I+=(E&y|~E&x)+S[0]-680876936|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[1]-389564586|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[2]+606105819|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[3]-1044525330|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[4]-176418897|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[5]+1200080426|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[6]-1473231341|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[7]-45705983|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[8]+1770035416|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[9]-1958414417|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[10]-42063|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[11]-1990404162|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[12]+1804603682|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[13]-40341101|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[14]-1502002290|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[15]+1236535329|0,E=(E<<22|E>>>10)+y|0,I+=(E&x|y&~x)+S[1]-165796510|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[6]-1069501632|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[11]+643717713|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[0]-373897302|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[5]-701558691|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[10]+38016083|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[15]-660478335|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[4]-405537848|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[9]+568446438|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[14]-1019803690|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[3]-187363961|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[8]+1163531501|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[13]-1444681467|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[2]-51403784|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[7]+1735328473|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[12]-1926607734|0,E=(E<<20|E>>>12)+y|0,I+=(E^y^x)+S[5]-378558|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[8]-2022574463|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[11]+1839030562|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[14]-35309556|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[1]-1530992060|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[4]+1272893353|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[7]-155497632|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[10]-1094730640|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[13]+681279174|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[0]-358537222|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[3]-722521979|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[6]+76029189|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[9]-640364487|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[12]-421815835|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[15]+530742520|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[2]-995338651|0,E=(E<<23|E>>>9)+y|0,I+=(y^(E|~x))+S[0]-198630844|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[7]+1126891415|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[14]-1416354905|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[5]-57434055|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[12]+1700485571|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[3]-1894986606|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[10]-1051523|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[1]-2054922799|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[8]+1873313359|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[15]-30611744|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[6]-1560198380|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[13]+1309151649|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[4]-145523070|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[11]-1120210379|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[2]+718787259|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[9]-343485551|0,E=(E<<21|E>>>11)+y|0,C[0]=I+C[0]|0,C[1]=E+C[1]|0,C[2]=y+C[2]|0,C[3]=x+C[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(d.stateIdentity),this}appendStr(C){const S=this._buffer8,I=this._buffer32;let y,x,E=this._bufferLength;for(x=0;x<C.length;x+=1){if(y=C.charCodeAt(x),y<128)S[E++]=y;else if(y<2048)S[E++]=192+(y>>>6),S[E++]=63&y|128;else if(y<55296||y>56319)S[E++]=224+(y>>>12),S[E++]=y>>>6&63|128,S[E++]=63&y|128;else{if(y=1024*(y-55296)+(C.charCodeAt(++x)-56320)+65536,y>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");S[E++]=240+(y>>>18),S[E++]=y>>>12&63|128,S[E++]=y>>>6&63|128,S[E++]=63&y|128}E>=64&&(this._dataLength+=64,d._md5cycle(this._state,I),E-=64,I[0]=I[16])}return this._bufferLength=E,this}appendAsciiStr(C){const S=this._buffer8,I=this._buffer32;let y,E=this._bufferLength,x=0;for(;;){for(y=Math.min(C.length-x,64-E);y--;)S[E++]=C.charCodeAt(x++);if(E<64)break;this._dataLength+=64,d._md5cycle(this._state,I),E=0}return this._bufferLength=E,this}appendByteArray(C){const S=this._buffer8,I=this._buffer32;let y,E=this._bufferLength,x=0;for(;;){for(y=Math.min(C.length-x,64-E);y--;)S[E++]=C[x++];if(E<64)break;this._dataLength+=64,d._md5cycle(this._state,I),E=0}return this._bufferLength=E,this}getState(){const C=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[C[0],C[1],C[2],C[3]]}}setState(C){const S=C.buffer,I=C.state,E=this._state;let y;for(this._dataLength=C.length,this._bufferLength=C.buflen,E[0]=I[0],E[1]=I[1],E[2]=I[2],E[3]=I[3],y=0;y<S.length;y+=1)this._buffer8[y]=S.charCodeAt(y)}end(C=!1){const S=this._bufferLength,I=this._buffer8,E=this._buffer32,y=1+(S>>2);this._dataLength+=S;const x=8*this._dataLength;if(I[S]=128,I[S+1]=I[S+2]=I[S+3]=0,E.set(d.buffer32Identity.subarray(y),y),S>55&&(d._md5cycle(this._state,E),E.set(d.buffer32Identity)),x<=4294967295)E[14]=x;else{const $=x.toString(16).match(/(.*?)(.{0,8})$/);if(null===$)return;const R=parseInt($[2],16),O=parseInt($[1],16)||0;E[14]=R,E[15]=O}return d._md5cycle(this._state,E),C?this._state:d._hex(this._state)}}if(d.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),d.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d.hexChars="0123456789abcdef",d.hexOut=[],d.onePassHasher=new d,"5d41402abc4b2a76b9719d911017c592"!==d.hashStr("hello"))throw new Error("Md5 self test failed.");class w{constructor(C,S){this._queue=[],this._ready=!0;const I=this;Worker?(I._hashWorker=new Worker(C,S),I._hashWorker.onmessage=I._recievedMessage.bind(I),I._hashWorker.onerror=E=>{I._ready=!1,console.error("Hash worker failure",E)}):(I._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(C){const S=this;let I;return I=new Promise((E,y)=>{S._queue.push({blob:C,resolve:E,reject:y}),S._processNext()}),I}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(C){var S,I;const E=C.data;E.success?null===(S=this._processing)||void 0===S||S.resolve(E.result):null===(I=this._processing)||void 0===I||I.reject(E.result),this._processing=void 0,this._processNext()}}},7172:(dn,Ne,_)=>{"use strict";_.d(Ne,{FX:()=>W,If:()=>d,K2:()=>S,MA:()=>R,Os:()=>C,P:()=>M,hZ:()=>w,i0:()=>D,i7:()=>y,iF:()=>I,kY:()=>x,kp:()=>A,sf:()=>Y,ui:()=>se,wk:()=>E});
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
var d=function(Ce){return Ce[Ce.State=0]="State",Ce[Ce.Transition=1]="Transition",Ce[Ce.Sequence=2]="Sequence",Ce[Ce.Group=3]="Group",Ce[Ce.Animate=4]="Animate",Ce[Ce.Keyframes=5]="Keyframes",Ce[Ce.Style=6]="Style",Ce[Ce.Trigger=7]="Trigger",Ce[Ce.Reference=8]="Reference",Ce[Ce.AnimateChild=9]="AnimateChild",Ce[Ce.AnimateRef=10]="AnimateRef",Ce[Ce.Query=11]="Query",Ce[Ce.Stagger=12]="Stagger",Ce}(d||{});const A="*";function w(Ce,Q){return{type:d.Trigger,name:Ce,definitions:Q,options:{}}}function D(Ce,Q=null){return{type:d.Animate,styles:Q,timings:Ce}}function C(Ce,Q=null){return{type:d.Group,steps:Ce,options:Q}}function S(Ce,Q=null){return{type:d.Sequence,steps:Ce,options:Q}}function I(Ce){return{type:d.Style,styles:Ce,offset:null}}function E(Ce,Q,Me){return{type:d.State,name:Ce,styles:Q,options:Me}}function y(Ce){return{type:d.Keyframes,steps:Ce}}function x(Ce,Q,Me=null){return{type:d.Transition,expr:Ce,animation:Q,options:Me}}function R(Ce=null){return{type:d.AnimateChild,options:Ce}}function M(Ce,Q,Me=null){return{type:d.Query,selector:Ce,animation:Q,options:Me}}class Y{constructor(Q=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const Me="start"==Q?this._onStartFns:this._onDoneFns;Me.forEach(Xe=>Xe()),Me.length=0}}class se{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let Me=0,Xe=0,yt=0;const Je=this.players.length;0==Je?queueMicrotask(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++Me==Je&&this._onFinish()}),je.onDestroy(()=>{++Xe==Je&&this._onDestroy()}),je.onStart(()=>{++yt==Je&&this._onStart()})}),this.totalTime=this.players.reduce((je,X)=>Math.max(je,X.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const Me=Q*this.totalTime;this.players.forEach(Xe=>{const yt=Xe.totalTime?Math.min(1,Me/Xe.totalTime):1;Xe.setPosition(yt)})}getPosition(){const Q=this.players.reduce((Me,Xe)=>null===Me||Xe.totalTime>Me.totalTime?Xe:Me,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const Me="start"==Q?this._onStartFns:this._onDoneFns;Me.forEach(Xe=>Xe()),Me.length=0}}const W="!"},2102:(dn,Ne,_)=>{"use strict";_.d(Ne,{Ae:()=>re,Ai:()=>vi,Au:()=>yt,Bu:()=>Je,FN:()=>$t,GX:()=>Re,Pd:()=>Kn,Q_:()=>En,Z7:()=>X,_G:()=>Ut,kB:()=>Ye,px:()=>ce,vR:()=>vn,vr:()=>Ce,w6:()=>wt});var d=_(316),A=_(7404),w=_(7699),D=_(3119),C=_(2672),S=_(521),I=_(1536),E=_(4879),y=_(6e3),x=_(9803),$=_(8627),R=_(5443),O=_(1314),M=_(6109),L=_(7464),z=_(9539),F=_(2814),J=_(7912);const ue=" ";function ce(pt,$e,We){const Be=we(pt,$e);We=We.trim(),!Be.some(gt=>gt.trim()===We)&&(Be.push(We),pt.setAttribute($e,Be.join(ue)))}function re(pt,$e,We){const Be=we(pt,$e);We=We.trim();const gt=Be.filter(Zt=>Zt!==We);gt.length?pt.setAttribute($e,gt.join(ue)):pt.removeAttribute($e)}function we(pt,$e){return pt.getAttribute($e)?.match(/\S+/g)??[]}const Y="cdk-describedby-message",se="cdk-describedby-host";let W=0,Ce=(()=>{class pt{constructor(We,Be){this._platform=Be,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+W++,this._document=We,this._id=(0,A.WQX)(A.sZ2)+"-"+W++}describe(We,Be,gt){if(!this._canBeDescribed(We,Be))return;const Zt=Q(Be,gt);"string"!=typeof Be?(Me(Be,this._id),this._messageRegistry.set(Zt,{messageElement:Be,referenceCount:0})):this._messageRegistry.has(Zt)||this._createMessageElement(Be,gt),this._isElementDescribedByMessage(We,Zt)||this._addMessageReference(We,Zt)}removeDescription(We,Be,gt){if(!Be||!this._isElementNode(We))return;const Zt=Q(Be,gt);if(this._isElementDescribedByMessage(We,Zt)&&this._removeMessageReference(We,Zt),"string"==typeof Be){const gn=this._messageRegistry.get(Zt);gn&&0===gn.referenceCount&&this._deleteMessageElement(Zt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const We=this._document.querySelectorAll(`[${se}="${this._id}"]`);for(let Be=0;Be<We.length;Be++)this._removeCdkDescribedByReferenceIds(We[Be]),We[Be].removeAttribute(se);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(We,Be){const gt=this._document.createElement("div");Me(gt,this._id),gt.textContent=We,Be&&gt.setAttribute("role",Be),this._createMessagesContainer(),this._messagesContainer.appendChild(gt),this._messageRegistry.set(Q(We,Be),{messageElement:gt,referenceCount:0})}_deleteMessageElement(We){this._messageRegistry.get(We)?.messageElement?.remove(),this._messageRegistry.delete(We)}_createMessagesContainer(){if(this._messagesContainer)return;const We="cdk-describedby-message-container",Be=this._document.querySelectorAll(`.${We}[platform="server"]`);for(let Zt=0;Zt<Be.length;Zt++)Be[Zt].remove();const gt=this._document.createElement("div");gt.style.visibility="hidden",gt.classList.add(We),gt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&gt.setAttribute("platform","server"),this._document.body.appendChild(gt),this._messagesContainer=gt}_removeCdkDescribedByReferenceIds(We){const Be=we(We,"aria-describedby").filter(gt=>0!=gt.indexOf(Y));We.setAttribute("aria-describedby",Be.join(" "))}_addMessageReference(We,Be){const gt=this._messageRegistry.get(Be);ce(We,"aria-describedby",gt.messageElement.id),We.setAttribute(se,this._id),gt.referenceCount++}_removeMessageReference(We,Be){const gt=this._messageRegistry.get(Be);gt.referenceCount--,re(We,"aria-describedby",gt.messageElement.id),We.removeAttribute(se)}_isElementDescribedByMessage(We,Be){const gt=we(We,"aria-describedby"),Zt=this._messageRegistry.get(Be),gn=Zt&&Zt.messageElement.id;return!!gn&&-1!=gt.indexOf(gn)}_canBeDescribed(We,Be){if(!this._isElementNode(We))return!1;if(Be&&"object"==typeof Be)return!0;const gt=null==Be?"":`${Be}`.trim(),Zt=We.getAttribute("aria-label");return!(!gt||Zt&&Zt.trim()===gt)}_isElementNode(We){return We.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(d.qQ),A.KVO(w.OD))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function Q(pt,$e){return"string"==typeof pt?`${$e||""}/${pt}`:pt}function Me(pt,$e){pt.id||(pt.id=`${Y}-${$e}-${W++}`)}class Xe{constructor($e,We){this._items=$e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new D.B7,this._typeaheadSubscription=C.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Be=>Be.disabled,this._pressedLetters=[],this.tabOut=new D.B7,this.change=new D.B7,$e instanceof A.rOR?this._itemChangesSubscription=$e.changes.subscribe(Be=>this._itemsChanged(Be.toArray())):(0,A.Hps)($e)&&(this._effectRef=(0,A.QZP)(()=>this._itemsChanged($e()),{injector:We}))}skipPredicate($e){return this._skipPredicateFn=$e,this}withWrap($e=!0){return this._wrap=$e,this}withVerticalOrientation($e=!0){return this._vertical=$e,this}withHorizontalOrientation($e){return this._horizontal=$e,this}withAllowedModifierKeys($e){return this._allowedModifierKeys=$e,this}withTypeAhead($e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,y.M)(We=>this._pressedLetters.push(We)),(0,x.B)($e),(0,$.p)(()=>this._pressedLetters.length>0),(0,R.T)(()=>this._pressedLetters.join(""))).subscribe(We=>{const Be=this._getItemsArray();for(let gt=1;gt<Be.length+1;gt++){const Zt=(this._activeItemIndex+gt)%Be.length,gn=Be[Zt];if(!this._skipPredicateFn(gn)&&0===gn.getLabel().toUpperCase().trim().indexOf(We)){this.setActiveItem(Zt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd($e=!0){return this._homeAndEnd=$e,this}withPageUpDown($e=!0,We=10){return this._pageUpAndDown={enabled:$e,delta:We},this}setActiveItem($e){const We=this._activeItem;this.updateActiveItem($e),this._activeItem!==We&&this.change.next(this._activeItemIndex)}onKeydown($e){const We=$e.keyCode,gt=["altKey","ctrlKey","metaKey","shiftKey"].every(Zt=>!$e[Zt]||this._allowedModifierKeys.indexOf(Zt)>-1);switch(We){case E.wn:return void this.tabOut.next();case E.n6:if(this._vertical&&gt){this.setNextItemActive();break}return;case E.i7:if(this._vertical&&gt){this.setPreviousItemActive();break}return;case E.LE:if(this._horizontal&&gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case E.UQ:if(this._horizontal&&gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case E.yZ:if(this._homeAndEnd&&gt){this.setFirstItemActive();break}return;case E.Kp:if(this._homeAndEnd&&gt){this.setLastItemActive();break}return;case E.w_:if(this._pageUpAndDown.enabled&&gt){const Zt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Zt>0?Zt:0,1);break}return;case E.dB:if(this._pageUpAndDown.enabled&&gt){const Zt=this._activeItemIndex+this._pageUpAndDown.delta,gn=this._getItemsArray().length;this._setActiveItemByIndex(Zt<gn?Zt:gn-1,-1);break}return;default:return void((gt||(0,E.rp)($e,"shiftKey"))&&($e.key&&1===$e.key.length?this._letterKeyStream.next($e.key.toLocaleUpperCase()):(We>=E.A&&We<=E.Z||We>=E.f2&&We<=E.bn)&&this._letterKeyStream.next(String.fromCharCode(We))))}this._pressedLetters=[],$e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem($e){const We=this._getItemsArray(),Be="number"==typeof $e?$e:We.indexOf($e);this._activeItem=We[Be]??null,this._activeItemIndex=Be}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta($e){this._wrap?this._setActiveInWrapMode($e):this._setActiveInDefaultMode($e)}_setActiveInWrapMode($e){const We=this._getItemsArray();for(let Be=1;Be<=We.length;Be++){const gt=(this._activeItemIndex+$e*Be+We.length)%We.length;if(!this._skipPredicateFn(We[gt]))return void this.setActiveItem(gt)}}_setActiveInDefaultMode($e){this._setActiveItemByIndex(this._activeItemIndex+$e,$e)}_setActiveItemByIndex($e,We){const Be=this._getItemsArray();if(Be[$e]){for(;this._skipPredicateFn(Be[$e]);)if(!Be[$e+=We])return;this.setActiveItem($e)}}_getItemsArray(){return(0,A.Hps)(this._items)?this._items():this._items instanceof A.rOR?this._items.toArray():this._items}_itemsChanged($e){if(this._activeItem){const We=$e.indexOf(this._activeItem);We>-1&&We!==this._activeItemIndex&&(this._activeItemIndex=We)}}}class yt extends Xe{setActiveItem($e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem($e),this.activeItem&&this.activeItem.setActiveStyles()}}class Je extends Xe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin($e){return this._origin=$e,this}setActiveItem($e){super.setActiveItem($e),this.activeItem&&this.activeItem.focus(this._origin)}}let X=(()=>{class pt{constructor(We){this._platform=We}isDisabled(We){return We.hasAttribute("disabled")}isVisible(We){return function _e(pt){return!!(pt.offsetWidth||pt.offsetHeight||"function"==typeof pt.getClientRects&&pt.getClientRects().length)}(We)&&"visible"===getComputedStyle(We).visibility}isTabbable(We){if(!this._platform.isBrowser)return!1;const Be=function oe(pt){try{return pt.frameElement}catch{return null}}(function Ot(pt){return pt.ownerDocument&&pt.ownerDocument.defaultView||window}(We));if(Be&&(-1===qt(Be)||!this.isVisible(Be)))return!1;let gt=We.nodeName.toLowerCase(),Zt=qt(We);return We.hasAttribute("contenteditable")?-1!==Zt:!("iframe"===gt||"object"===gt||this._platform.WEBKIT&&this._platform.IOS&&!function Vt(pt){let $e=pt.nodeName.toLowerCase(),We="input"===$e&&pt.type;return"text"===We||"password"===We||"select"===$e||"textarea"===$e}(We))&&("audio"===gt?!!We.hasAttribute("controls")&&-1!==Zt:"video"===gt?-1!==Zt&&(null!==Zt||this._platform.FIREFOX||We.hasAttribute("controls")):We.tabIndex>=0)}isFocusable(We,Be){return function Tt(pt){return!function Pe(pt){return function Qe(pt){return"input"==pt.nodeName.toLowerCase()}(pt)&&"hidden"==pt.type}(pt)&&(function ve(pt){let $e=pt.nodeName.toLowerCase();return"input"===$e||"select"===$e||"button"===$e||"textarea"===$e}(pt)||function Ve(pt){return function Pt(pt){return"a"==pt.nodeName.toLowerCase()}(pt)&&pt.hasAttribute("href")}(pt)||pt.hasAttribute("contenteditable")||Se(pt))}(We)&&!this.isDisabled(We)&&(Be?.ignoreVisibility||this.isVisible(We))}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(w.OD))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function Se(pt){if(!pt.hasAttribute("tabindex")||void 0===pt.tabIndex)return!1;let $e=pt.getAttribute("tabindex");return!(!$e||isNaN(parseInt($e,10)))}function qt(pt){if(!Se(pt))return null;const $e=parseInt(pt.getAttribute("tabindex")||"",10);return isNaN($e)?-1:$e}class ft{get enabled(){return this._enabled}set enabled($e){this._enabled=$e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($e,this._startAnchor),this._toggleAnchorTabIndex($e,this._endAnchor))}constructor($e,We,Be,gt,Zt=!1,gn){this._element=$e,this._checker=We,this._ngZone=Be,this._document=gt,this._injector=gn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Zt||this.attachAnchors()}destroy(){const $e=this._startAnchor,We=this._endAnchor;$e&&($e.removeEventListener("focus",this.startAnchorListener),$e.remove()),We&&(We.removeEventListener("focus",this.endAnchorListener),We.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady($e){return new Promise(We=>{this._executeOnStable(()=>We(this.focusInitialElement($e)))})}focusFirstTabbableElementWhenReady($e){return new Promise(We=>{this._executeOnStable(()=>We(this.focusFirstTabbableElement($e)))})}focusLastTabbableElementWhenReady($e){return new Promise(We=>{this._executeOnStable(()=>We(this.focusLastTabbableElement($e)))})}_getRegionBoundary($e){const We=this._element.querySelectorAll(`[cdk-focus-region-${$e}], [cdkFocusRegion${$e}], [cdk-focus-${$e}]`);return"start"==$e?We.length?We[0]:this._getFirstTabbableElement(this._element):We.length?We[We.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement($e){const We=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(We){if(!this._checker.isFocusable(We)){const Be=this._getFirstTabbableElement(We);return Be?.focus($e),!!Be}return We.focus($e),!0}return this.focusFirstTabbableElement($e)}focusFirstTabbableElement($e){const We=this._getRegionBoundary("start");return We&&We.focus($e),!!We}focusLastTabbableElement($e){const We=this._getRegionBoundary("end");return We&&We.focus($e),!!We}hasAttached(){return this._hasAttached}_getFirstTabbableElement($e){if(this._checker.isFocusable($e)&&this._checker.isTabbable($e))return $e;const We=$e.children;for(let Be=0;Be<We.length;Be++){const gt=We[Be].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(We[Be]):null;if(gt)return gt}return null}_getLastTabbableElement($e){if(this._checker.isFocusable($e)&&this._checker.isTabbable($e))return $e;const We=$e.children;for(let Be=We.length-1;Be>=0;Be--){const gt=We[Be].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(We[Be]):null;if(gt)return gt}return null}_createAnchor(){const $e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,$e),$e.classList.add("cdk-visually-hidden"),$e.classList.add("cdk-focus-trap-anchor"),$e.setAttribute("aria-hidden","true"),$e}_toggleAnchorTabIndex($e,We){$e?We.setAttribute("tabindex","0"):We.removeAttribute("tabindex")}toggleAnchors($e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($e,this._startAnchor),this._toggleAnchorTabIndex($e,this._endAnchor))}_executeOnStable($e){this._injector?(0,A.mal)($e,{injector:this._injector}):setTimeout($e)}}let Re=(()=>{class pt{constructor(We,Be,gt){this._checker=We,this._ngZone=Be,this._injector=(0,A.WQX)(A.zZn),this._document=gt}create(We,Be=!1){return new ft(We,this._checker,this._ngZone,this._document,Be,this._injector)}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(X),A.KVO(A.SKi),A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),Ye=(()=>{class pt{get enabled(){return this.focusTrap?.enabled||!1}set enabled(We){this.focusTrap&&(this.focusTrap.enabled=We)}constructor(We,Be,gt){this._elementRef=We,this._focusTrapFactory=Be,this._previouslyFocusedElement=null,(0,A.WQX)(w.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(We){const Be=We.autoCapture;Be&&!Be.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,w.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.rXU(A.aKT),A.rXU(Re),A.rXU(d.qQ))};static#t=this.\u0275dir=A.FsC({type:pt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",A.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",A.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[A.GFd,A.OA$]})}return pt})();function Ut(pt){return 0===pt.buttons||0===pt.detail}function wt(pt){const $e=pt.touches&&pt.touches[0]||pt.changedTouches&&pt.changedTouches[0];return!(!$e||-1!==$e.identifier||null!=$e.radiusX&&1!==$e.radiusX||null!=$e.radiusY&&1!==$e.radiusY)}const ct=new A.nKC("cdk-input-modality-detector-options"),ut={ignoreKeys:[E.A$,E.W3,E.eg,E.Ge,E.FX]},Fe=(0,w.BQ)({passive:!0,capture:!0});let pe=(()=>{class pt{get mostRecentModality(){return this._modality.value}constructor(We,Be,gt,Zt){this._platform=We,this._mostRecentTarget=null,this._modality=new S.t(null),this._lastTouchMs=0,this._onKeydown=gn=>{this._options?.ignoreKeys?.some(lt=>lt===gn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,w.Fb)(gn))},this._onMousedown=gn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ut(gn)?"keyboard":"mouse"),this._mostRecentTarget=(0,w.Fb)(gn))},this._onTouchstart=gn=>{wt(gn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,w.Fb)(gn))},this._options={...ut,...Zt},this.modalityDetected=this._modality.pipe((0,O.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,M.F)()),We.isBrowser&&Be.runOutsideAngular(()=>{gt.addEventListener("keydown",this._onKeydown,Fe),gt.addEventListener("mousedown",this._onMousedown,Fe),gt.addEventListener("touchstart",this._onTouchstart,Fe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fe),document.removeEventListener("mousedown",this._onMousedown,Fe),document.removeEventListener("touchstart",this._onTouchstart,Fe))}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(w.OD),A.KVO(A.SKi),A.KVO(d.qQ),A.KVO(ct,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();const at=new A.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Gt(){return null}}),nn=new A.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Wn=0,vi=(()=>{class pt{constructor(We,Be,gt,Zt){this._ngZone=Be,this._defaultOptions=Zt,this._document=gt,this._liveElement=We||this._createLiveElement()}announce(We,...Be){const gt=this._defaultOptions;let Zt,gn;return 1===Be.length&&"number"==typeof Be[0]?gn=Be[0]:[Zt,gn]=Be,this.clear(),clearTimeout(this._previousTimeout),Zt||(Zt=gt&&gt.politeness?gt.politeness:"polite"),null==gn&&gt&&(gn=gt.duration),this._liveElement.setAttribute("aria-live",Zt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(lt=>this._currentResolve=lt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=We,"number"==typeof gn&&(this._previousTimeout=setTimeout(()=>this.clear(),gn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const We="cdk-live-announcer-element",Be=this._document.getElementsByClassName(We),gt=this._document.createElement("div");for(let Zt=0;Zt<Be.length;Zt++)Be[Zt].remove();return gt.classList.add(We),gt.classList.add("cdk-visually-hidden"),gt.setAttribute("aria-atomic","true"),gt.setAttribute("aria-live","polite"),gt.id="cdk-live-announcer-"+Wn++,this._document.body.appendChild(gt),gt}_exposeAnnouncerToModals(We){const Be=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let gt=0;gt<Be.length;gt++){const Zt=Be[gt],gn=Zt.getAttribute("aria-owns");gn?-1===gn.indexOf(We)&&Zt.setAttribute("aria-owns",gn+" "+We):Zt.setAttribute("aria-owns",We)}}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(at,8),A.KVO(A.SKi),A.KVO(d.qQ),A.KVO(nn,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();var tn=function(pt){return pt[pt.IMMEDIATE=0]="IMMEDIATE",pt[pt.EVENTUAL=1]="EVENTUAL",pt}(tn||{});const xt=new A.nKC("cdk-focus-monitor-default-options"),zt=(0,w.BQ)({passive:!0,capture:!0});let $t=(()=>{class pt{constructor(We,Be,gt,Zt,gn){this._ngZone=We,this._platform=Be,this._inputModalityDetector=gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.B7,this._rootNodeFocusAndBlurListener=lt=>{for(let rt=(0,w.Fb)(lt);rt;rt=rt.parentElement)"focus"===lt.type?this._onFocus(lt,rt):this._onBlur(lt,rt)},this._document=Zt,this._detectionMode=gn?.detectionMode||tn.IMMEDIATE}monitor(We,Be=!1){const gt=(0,F.i8)(We);if(!this._platform.isBrowser||1!==gt.nodeType)return(0,I.of)();const Zt=(0,w.KT)(gt)||this._getDocument(),gn=this._elementInfo.get(gt);if(gn)return Be&&(gn.checkChildren=!0),gn.subject;const lt={checkChildren:Be,subject:new D.B7,rootNode:Zt};return this._elementInfo.set(gt,lt),this._registerGlobalListeners(lt),lt.subject}stopMonitoring(We){const Be=(0,F.i8)(We),gt=this._elementInfo.get(Be);gt&&(gt.subject.complete(),this._setClasses(Be),this._elementInfo.delete(Be),this._removeGlobalListeners(gt))}focusVia(We,Be,gt){const Zt=(0,F.i8)(We);Zt===this._getDocument().activeElement?this._getClosestElementsInfo(Zt).forEach(([lt,Te])=>this._originChanged(lt,Be,Te)):(this._setOrigin(Be),"function"==typeof Zt.focus&&Zt.focus(gt))}ngOnDestroy(){this._elementInfo.forEach((We,Be)=>this.stopMonitoring(Be))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(We){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(We)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:We&&this._isLastInteractionFromInputLabel(We)?"mouse":"program"}_shouldBeAttributedToTouch(We){return this._detectionMode===tn.EVENTUAL||!!We?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(We,Be){We.classList.toggle("cdk-focused",!!Be),We.classList.toggle("cdk-touch-focused","touch"===Be),We.classList.toggle("cdk-keyboard-focused","keyboard"===Be),We.classList.toggle("cdk-mouse-focused","mouse"===Be),We.classList.toggle("cdk-program-focused","program"===Be)}_setOrigin(We,Be=!1){this._ngZone.runOutsideAngular(()=>{this._origin=We,this._originFromTouchInteraction="touch"===We&&Be,this._detectionMode===tn.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(We,Be){const gt=this._elementInfo.get(Be),Zt=(0,w.Fb)(We);!gt||!gt.checkChildren&&Be!==Zt||this._originChanged(Be,this._getFocusOrigin(Zt),gt)}_onBlur(We,Be){const gt=this._elementInfo.get(Be);!gt||gt.checkChildren&&We.relatedTarget instanceof Node&&Be.contains(We.relatedTarget)||(this._setClasses(Be),this._emitOrigin(gt,null))}_emitOrigin(We,Be){We.subject.observers.length&&this._ngZone.run(()=>We.subject.next(Be))}_registerGlobalListeners(We){if(!this._platform.isBrowser)return;const Be=We.rootNode,gt=this._rootNodeFocusListenerCount.get(Be)||0;gt||this._ngZone.runOutsideAngular(()=>{Be.addEventListener("focus",this._rootNodeFocusAndBlurListener,zt),Be.addEventListener("blur",this._rootNodeFocusAndBlurListener,zt)}),this._rootNodeFocusListenerCount.set(Be,gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,L.Q)(this._stopInputModalityDetector)).subscribe(Zt=>{this._setOrigin(Zt,!0)}))}_removeGlobalListeners(We){const Be=We.rootNode;if(this._rootNodeFocusListenerCount.has(Be)){const gt=this._rootNodeFocusListenerCount.get(Be);gt>1?this._rootNodeFocusListenerCount.set(Be,gt-1):(Be.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zt),Be.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zt),this._rootNodeFocusListenerCount.delete(Be))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(We,Be,gt){this._setClasses(We,Be),this._emitOrigin(gt,Be),this._lastFocusOrigin=Be}_getClosestElementsInfo(We){const Be=[];return this._elementInfo.forEach((gt,Zt)=>{(Zt===We||gt.checkChildren&&Zt.contains(We))&&Be.push([Zt,gt])}),Be}_isLastInteractionFromInputLabel(We){const{_mostRecentTarget:Be,mostRecentModality:gt}=this._inputModalityDetector;if("mouse"!==gt||!Be||Be===We||"INPUT"!==We.nodeName&&"TEXTAREA"!==We.nodeName||We.disabled)return!1;const Zt=We.labels;if(Zt)for(let gn=0;gn<Zt.length;gn++)if(Zt[gn].contains(Be))return!0;return!1}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(A.SKi),A.KVO(w.OD),A.KVO(pe),A.KVO(d.qQ,8),A.KVO(xt,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),vn=(()=>{class pt{constructor(We,Be){this._elementRef=We,this._focusMonitor=Be,this._focusOrigin=null,this.cdkFocusChange=new A.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const We=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(We,1===We.nodeType&&We.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Be=>{this._focusOrigin=Be,this.cdkFocusChange.emit(Be)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.rXU(A.aKT),A.rXU($t))};static#t=this.\u0275dir=A.FsC({type:pt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return pt})();var Nn=function(pt){return pt[pt.NONE=0]="NONE",pt[pt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",pt[pt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",pt}(Nn||{});const Ni="cdk-high-contrast-black-on-white",Sn="cdk-high-contrast-white-on-black",Gn="cdk-high-contrast-active";let En=(()=>{class pt{constructor(We,Be){this._platform=We,this._document=Be,this._breakpointSubscription=(0,A.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Nn.NONE;const We=this._document.createElement("div");We.style.backgroundColor="rgb(1,2,3)",We.style.position="absolute",this._document.body.appendChild(We);const Be=this._document.defaultView||window,gt=Be&&Be.getComputedStyle?Be.getComputedStyle(We):null,Zt=(gt&&gt.backgroundColor||"").replace(/ /g,"");switch(We.remove(),Zt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Nn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Nn.BLACK_ON_WHITE}return Nn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const We=this._document.body.classList;We.remove(Gn,Ni,Sn),this._hasCheckedHighContrastMode=!0;const Be=this.getHighContrastMode();Be===Nn.BLACK_ON_WHITE?We.add(Gn,Ni):Be===Nn.WHITE_ON_BLACK&&We.add(Gn,Sn)}}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(w.OD),A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),Kn=(()=>{class pt{constructor(We){We._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Be){return new(Be||pt)(A.KVO(En))};static#t=this.\u0275mod=A.$C({type:pt});static#n=this.\u0275inj=A.G2t({imports:[z.w5]})}return pt})()},3680:(dn,Ne,_)=>{"use strict";_.d(Ne,{dS:()=>I,jI:()=>y});var d=_(7404),A=_(316);const w=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function D(){return(0,d.WQX)(A.qQ)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let I=(()=>{class x{constructor(R){this.value="ltr",this.change=new d.bkB,R&&(this.value=function S(x){const $=x?.toLowerCase()||"";return"auto"===$&&typeof navigator<"u"&&navigator?.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===$?"rtl":"ltr"}((R.body?R.body.dir:null)||(R.documentElement?R.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(O){return new(O||x)(d.KVO(w,8))};static#t=this.\u0275prov=d.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),y=(()=>{class x{static#e=this.\u0275fac=function(O){return new(O||x)};static#t=this.\u0275mod=d.$C({type:x});static#n=this.\u0275inj=d.G2t({})}return x})()},2352:(dn,Ne,_)=>{"use strict";_.d(Ne,{B0:()=>D,FQ:()=>I});var d=_(316),A=_(7404);class w{constructor(y,x){this._document=x;const $=this._textarea=this._document.createElement("textarea"),R=$.style;R.position="fixed",R.top=R.opacity="0",R.left="-999em",$.setAttribute("aria-hidden","true"),$.value=y,$.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild($)}copy(){const y=this._textarea;let x=!1;try{if(y){const $=this._document.activeElement;y.select(),y.setSelectionRange(0,y.value.length),x=this._document.execCommand("copy"),$&&$.focus()}}catch{}return x}destroy(){const y=this._textarea;y&&(y.remove(),this._textarea=void 0)}}let D=(()=>{class E{constructor(x){this._document=x}copy(x){const $=this.beginCopy(x),R=$.copy();return $.destroy(),R}beginCopy(x){return new w(x,this._document)}static#e=this.\u0275fac=function($){return new($||E)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),I=(()=>{class E{static#e=this.\u0275fac=function($){return new($||E)};static#t=this.\u0275mod=A.$C({type:E});static#n=this.\u0275inj=A.G2t({})}return E})()},2814:(dn,Ne,_)=>{"use strict";_.d(Ne,{FG:()=>C,OE:()=>w,a1:()=>S,he:()=>A,i8:()=>I,o1:()=>D});var d=_(7404);function A(y){return null!=y&&"false"!=`${y}`}function w(y,x=0){return D(y)?Number(y):x}function D(y){return!isNaN(parseFloat(y))&&!isNaN(Number(y))}function C(y){return Array.isArray(y)?y:[y]}function S(y){return null==y?"":"string"==typeof y?y:`${y}px`}function I(y){return y instanceof d.aKT?y.nativeElement:y}},7989:(dn,Ne,_)=>{"use strict";_.d(Ne,{CB:()=>O,DQ:()=>R,Q3:()=>y,hx:()=>E,qS:()=>S,sL:()=>x,xn:()=>$,y4:()=>I,zP:()=>L});var d=_(1810),A=_(6899),w=_(1536),D=_(3119),C=_(7404);class S{}function I(z){return z&&"function"==typeof z.connect&&!(z instanceof d.G)}class E extends S{constructor(F){super(),this._data=F}connect(){return(0,A.A)(this._data)?this._data:(0,w.of)(this._data)}disconnect(){}}var y=function(z){return z[z.REPLACED=0]="REPLACED",z[z.INSERTED=1]="INSERTED",z[z.MOVED=2]="MOVED",z[z.REMOVED=3]="REMOVED",z}(y||{});const x=new C.nKC("_ViewRepeater");class ${applyChanges(F,J,ue,ce,re){F.forEachOperation((we,j,Y)=>{let se,W;if(null==we.previousIndex){const Ce=ue(we,j,Y);se=J.createEmbeddedView(Ce.templateRef,Ce.context,Ce.index),W=y.INSERTED}else null==Y?(J.remove(j),W=y.REMOVED):(se=J.get(j),J.move(se,Y),W=y.MOVED);re&&re({context:se?.context,operation:W,record:we})})}detach(){}}class R{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(F,J,ue,ce,re){F.forEachOperation((we,j,Y)=>{let se,W;null==we.previousIndex?(se=this._insertView(()=>ue(we,j,Y),Y,J,ce(we)),W=se?y.INSERTED:y.REPLACED):null==Y?(this._detachAndCacheView(j,J),W=y.REMOVED):(se=this._moveView(j,Y,J,ce(we)),W=y.MOVED),re&&re({context:se?.context,operation:W,record:we})})}detach(){for(const F of this._viewCache)F.destroy();this._viewCache=[]}_insertView(F,J,ue,ce){const re=this._insertViewFromCache(J,ue);if(re)return void(re.context.$implicit=ce);const we=F();return ue.createEmbeddedView(we.templateRef,we.context,we.index)}_detachAndCacheView(F,J){const ue=J.detach(F);this._maybeCacheView(ue,J)}_moveView(F,J,ue,ce){const re=ue.get(F);return ue.move(re,J),re.context.$implicit=ce,re}_maybeCacheView(F,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(F);else{const ue=J.indexOf(F);-1===ue?F.destroy():J.remove(ue)}}_insertViewFromCache(F,J){const ue=this._viewCache.pop();return ue&&J.insert(ue,F),ue||null}}class O{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(F=!1,J,ue=!0,ce){this._multiple=F,this._emitChanges=ue,this.compareWith=ce,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new D.B7,J&&J.length&&(F?J.forEach(re=>this._markSelected(re)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...F){this._verifyValueAssignment(F),F.forEach(ue=>this._markSelected(ue));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...F){this._verifyValueAssignment(F),F.forEach(ue=>this._unmarkSelected(ue));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...F){this._verifyValueAssignment(F);const J=this.selected,ue=new Set(F);F.forEach(re=>this._markSelected(re)),J.filter(re=>!ue.has(this._getConcreteValue(re,ue))).forEach(re=>this._unmarkSelected(re));const ce=this._hasQueuedChanges();return this._emitChangeEvent(),ce}toggle(F){return this.isSelected(F)?this.deselect(F):this.select(F)}clear(F=!0){this._unmarkAll();const J=this._hasQueuedChanges();return F&&this._emitChangeEvent(),J}isSelected(F){return this._selection.has(this._getConcreteValue(F))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(F){this._multiple&&this.selected&&this._selected.sort(F)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(F){F=this._getConcreteValue(F),this.isSelected(F)||(this._multiple||this._unmarkAll(),this.isSelected(F)||this._selection.add(F),this._emitChanges&&this._selectedToEmit.push(F))}_unmarkSelected(F){F=this._getConcreteValue(F),this.isSelected(F)&&(this._selection.delete(F),this._emitChanges&&this._deselectedToEmit.push(F))}_unmarkAll(){this.isEmpty()||this._selection.forEach(F=>this._unmarkSelected(F))}_verifyValueAssignment(F){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(F,J){if(this.compareWith){J=J??this._selection;for(let ue of J)if(this.compareWith(F,ue))return ue;return F}return F}}let L=(()=>{class z{constructor(){this._listeners=[]}notify(J,ue){for(let ce of this._listeners)ce(J,ue)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(ue=>J!==ue)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ue){return new(ue||z)};static#t=this.\u0275prov=C.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},3482:(dn,Ne,_)=>{"use strict";_.d(Ne,{Pe:()=>M,Ph:()=>W,lG:()=>Y,sU:()=>z});var d=_(2102),A=_(1570),w=_(7699),D=_(9168),C=_(316),S=_(7404),I=_(4879),E=_(3119),y=_(6965),x=_(1536),$=_(3680),R=_(9273);function O(Ce,Q){}class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let z=(()=>{class Ce extends D.lb{constructor(Me,Xe,yt,Je,je,X,oe,_e){super(),this._elementRef=Me,this._focusTrapFactory=Xe,this._config=Je,this._interactivityChecker=je,this._ngZone=X,this._overlayRef=oe,this._focusMonitor=_e,this._platform=(0,S.WQX)(w.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,S.WQX)(S.gRc),this._injector=(0,S.WQX)(S.zZn),this._isDestroyed=!1,this.attachDomPortal=ve=>{this._portalOutlet.hasAttached();const Pe=this._portalOutlet.attachDomPortal(ve);return this._contentAttached(),Pe},this._document=yt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Me){this._ariaLabelledByQueue.push(Me),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Me){const Xe=this._ariaLabelledByQueue.indexOf(Me);Xe>-1&&(this._ariaLabelledByQueue.splice(Xe,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(Me){this._portalOutlet.hasAttached();const Xe=this._portalOutlet.attachComponentPortal(Me);return this._contentAttached(),Xe}attachTemplatePortal(Me){this._portalOutlet.hasAttached();const Xe=this._portalOutlet.attachTemplatePortal(Me);return this._contentAttached(),Xe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Me,Xe){this._interactivityChecker.isFocusable(Me)||(Me.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{Me.removeEventListener("blur",yt),Me.removeEventListener("mousedown",yt),Me.removeAttribute("tabindex")};Me.addEventListener("blur",yt),Me.addEventListener("mousedown",yt)})),Me.focus(Xe)}_focusByCssSelector(Me,Xe){let yt=this._elementRef.nativeElement.querySelector(Me);yt&&this._forceFocus(yt,Xe)}_trapFocus(){this._isDestroyed||(0,S.mal)(()=>{const Me=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Me.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const Me=this._config.restoreFocus;let Xe=null;if("string"==typeof Me?Xe=this._document.querySelector(Me):"boolean"==typeof Me?Xe=Me?this._elementFocusedBeforeDialogWasOpened:null:Me&&(Xe=Me),this._config.restoreFocus&&Xe&&"function"==typeof Xe.focus){const yt=(0,w.vc)(),Je=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===Je||Je.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Xe,this._closeInteractionType),this._closeInteractionType=null):Xe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Me=this._elementRef.nativeElement,Xe=(0,w.vc)();return Me===Xe||Me.contains(Xe)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,w.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Xe){return new(Xe||Ce)(S.rXU(S.aKT),S.rXU(d.GX),S.rXU(C.qQ,8),S.rXU(M),S.rXU(d.Z7),S.rXU(S.SKi),S.rXU(A.yY),S.rXU(d.FN))};static#t=this.\u0275cmp=S.VBU({type:Ce,selectors:[["cdk-dialog-container"]],viewQuery:function(Xe,yt){if(1&Xe&&S.GBs(D.I3,7),2&Xe){let Je;S.mGM(Je=S.lsd())&&(yt._portalOutlet=Je.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Xe,yt){2&Xe&&S.BMQ("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledByQueue[0])("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},standalone:!0,features:[S.Vt3,S.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Xe,yt){1&Xe&&S.DNE(0,O,0,0,"ng-template",0)},dependencies:[D.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ce})();class F{constructor(Q,Me){this.overlayRef=Q,this.config=Me,this.closed=new E.B7,this.disableClose=Me.disableClose,this.backdropClick=Q.backdropClick(),this.keydownEvents=Q.keydownEvents(),this.outsidePointerEvents=Q.outsidePointerEvents(),this.id=Me.id,this.keydownEvents.subscribe(Xe=>{Xe.keyCode===I._f&&!this.disableClose&&!(0,I.rp)(Xe)&&(Xe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Q.detachments().subscribe(()=>{!1!==Me.closeOnOverlayDetachments&&this.close()})}close(Q,Me){if(this.containerInstance){const Xe=this.closed;this.containerInstance._closeInteractionType=Me?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Xe.next(Q),Xe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Q="",Me=""){return this.overlayRef.updateSize({width:Q,height:Me}),this}addPanelClass(Q){return this.overlayRef.addPanelClass(Q),this}removePanelClass(Q){return this.overlayRef.removePanelClass(Q),this}}const J=new S.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const Ce=(0,S.WQX)(A.hJ);return()=>Ce.scrollStrategies.block()}}),ue=new S.nKC("DialogData"),ce=new S.nKC("DefaultDialogConfig");let j=0,Y=(()=>{class Ce{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Me,Xe,yt,Je,je,X){this._overlay=Me,this._injector=Xe,this._defaultOptions=yt,this._parentDialog=Je,this._overlayContainer=je,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.B7,this._afterOpenedAtThisLevel=new E.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,y.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,R.Z)(void 0))),this._scrollStrategy=X}open(Me,Xe){(Xe={...this._defaultOptions||new M,...Xe}).id=Xe.id||"cdk-dialog-"+j++,Xe.id&&this.getDialogById(Xe.id);const Je=this._getOverlayConfig(Xe),je=this._overlay.create(Je),X=new F(je,Xe),oe=this._attachContainer(je,X,Xe);return X.containerInstance=oe,this._attachDialogContent(Me,X,oe,Xe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(X),X.closed.subscribe(()=>this._removeOpenDialog(X,!0)),this.afterOpened.next(X),X}closeAll(){se(this.openDialogs,Me=>Me.close())}getDialogById(Me){return this.openDialogs.find(Xe=>Xe.id===Me)}ngOnDestroy(){se(this._openDialogsAtThisLevel,Me=>{!1===Me.config.closeOnDestroy&&this._removeOpenDialog(Me,!1)}),se(this._openDialogsAtThisLevel,Me=>Me.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Me){const Xe=new A.rR({positionStrategy:Me.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Me.scrollStrategy||this._scrollStrategy(),panelClass:Me.panelClass,hasBackdrop:Me.hasBackdrop,direction:Me.direction,minWidth:Me.minWidth,minHeight:Me.minHeight,maxWidth:Me.maxWidth,maxHeight:Me.maxHeight,width:Me.width,height:Me.height,disposeOnNavigation:Me.closeOnNavigation});return Me.backdropClass&&(Xe.backdropClass=Me.backdropClass),Xe}_attachContainer(Me,Xe,yt){const Je=yt.injector||yt.viewContainerRef?.injector,je=[{provide:M,useValue:yt},{provide:F,useValue:Xe},{provide:A.yY,useValue:Me}];let X;yt.container?"function"==typeof yt.container?X=yt.container:(X=yt.container.type,je.push(...yt.container.providers(yt))):X=z;const oe=new D.A8(X,yt.viewContainerRef,S.zZn.create({parent:Je||this._injector,providers:je}),yt.componentFactoryResolver);return Me.attach(oe).instance}_attachDialogContent(Me,Xe,yt,Je){if(Me instanceof S.C4Q){const je=this._createInjector(Je,Xe,yt,void 0);let X={$implicit:Je.data,dialogRef:Xe};Je.templateContext&&(X={...X,..."function"==typeof Je.templateContext?Je.templateContext():Je.templateContext}),yt.attachTemplatePortal(new D.VA(Me,null,X,je))}else{const je=this._createInjector(Je,Xe,yt,this._injector),X=yt.attachComponentPortal(new D.A8(Me,Je.viewContainerRef,je,Je.componentFactoryResolver));Xe.componentRef=X,Xe.componentInstance=X.instance}}_createInjector(Me,Xe,yt,Je){const je=Me.injector||Me.viewContainerRef?.injector,X=[{provide:ue,useValue:Me.data},{provide:F,useValue:Xe}];return Me.providers&&("function"==typeof Me.providers?X.push(...Me.providers(Xe,Me,yt)):X.push(...Me.providers)),Me.direction&&(!je||!je.get($.dS,null,{optional:!0}))&&X.push({provide:$.dS,useValue:{value:Me.direction,change:(0,x.of)()}}),S.zZn.create({parent:je||Je,providers:X})}_removeOpenDialog(Me,Xe){const yt=this.openDialogs.indexOf(Me);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Je,je)=>{Je?je.setAttribute("aria-hidden",Je):je.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Xe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Me=this._overlayContainer.getContainerElement();if(Me.parentElement){const Xe=Me.parentElement.children;for(let yt=Xe.length-1;yt>-1;yt--){const Je=Xe[yt];Je!==Me&&"SCRIPT"!==Je.nodeName&&"STYLE"!==Je.nodeName&&!Je.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Je,Je.getAttribute("aria-hidden")),Je.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Me=this._parentDialog;return Me?Me._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Xe){return new(Xe||Ce)(S.KVO(A.hJ),S.KVO(S.zZn),S.KVO(ce,8),S.KVO(Ce,12),S.KVO(A.Sf),S.KVO(J))};static#t=this.\u0275prov=S.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();function se(Ce,Q){let Me=Ce.length;for(;Me--;)Q(Ce[Me])}let W=(()=>{class Ce{static#e=this.\u0275fac=function(Xe){return new(Xe||Ce)};static#t=this.\u0275mod=S.$C({type:Ce});static#n=this.\u0275inj=S.G2t({providers:[Y],imports:[A.z_,D.jc,d.Pd,D.jc]})}return Ce})()},4879:(dn,Ne,_)=>{"use strict";_.d(Ne,{A:()=>Ve,A$:()=>E,FX:()=>S,Fm:()=>C,G_:()=>A,Ge:()=>Wn,KE:()=>ss,Kp:()=>L,LE:()=>ue,SJ:()=>Y,UQ:()=>F,W3:()=>I,Z:()=>nn,_f:()=>$,bn:()=>X,dB:()=>M,eg:()=>He,f2:()=>se,i7:()=>J,n6:()=>ce,rp:()=>kt,t6:()=>R,w_:()=>O,wn:()=>w,yZ:()=>z});const A=8,w=9,C=13,S=16,I=17,E=18,$=27,R=32,O=33,M=34,L=35,z=36,F=37,J=38,ue=39,ce=40,Y=46,se=48,X=57,Ve=65,nn=90,Wn=91,ss=188,He=224;function kt(Bt,...Zn){return Zn.length?Zn.some(Li=>Bt[Li]):Bt.altKey||Bt.shiftKey||Bt.ctrlKey||Bt.metaKey}},7912:(dn,Ne,_)=>{"use strict";_.d(Ne,{QP:()=>ce,Rp:()=>we});var d=_(7404),A=_(2814),w=_(3119),D=_(2175),C=_(6933),S=_(434),I=_(3602),E=_(1314),y=_(9803),x=_(5443),$=_(9273),R=_(7464),O=_(7699);const L=new Set;let z,F=(()=>{class j{constructor(se,W){this._platform=se,this._nonce=W,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ue}matchMedia(se){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(j,Y){if(!L.has(j))try{z||(z=document.createElement("style"),Y&&z.setAttribute("nonce",Y),z.setAttribute("type","text/css"),document.head.appendChild(z)),z.sheet&&(z.sheet.insertRule(`@media ${j} {body{ }}`,0),L.add(j))}catch(se){console.error(se)}}(se,this._nonce),this._matchMedia(se)}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(O.OD),d.KVO(d.BIS,8))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();function ue(j){return{matches:"all"===j||""===j,media:j,addListener:()=>{},removeListener:()=>{}}}let ce=(()=>{class j{constructor(se,W){this._mediaMatcher=se,this._zone=W,this._queries=new Map,this._destroySubject=new w.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(se){return re((0,A.FG)(se)).some(Ce=>this._registerQuery(Ce).mql.matches)}observe(se){const Ce=re((0,A.FG)(se)).map(Me=>this._registerQuery(Me).observable);let Q=(0,D.zV)(Ce);return Q=(0,C.x)(Q.pipe((0,I.s)(1)),Q.pipe((0,E.i)(1),(0,y.B)(0))),Q.pipe((0,x.T)(Me=>{const Xe={matches:!1,breakpoints:{}};return Me.forEach(({matches:yt,query:Je})=>{Xe.matches=Xe.matches||yt,Xe.breakpoints[Je]=yt}),Xe}))}_registerQuery(se){if(this._queries.has(se))return this._queries.get(se);const W=this._mediaMatcher.matchMedia(se),Q={observable:new S.c(Me=>{const Xe=yt=>this._zone.run(()=>Me.next(yt));return W.addListener(Xe),()=>{W.removeListener(Xe)}}).pipe((0,$.Z)(W),(0,x.T)(({matches:Me})=>({query:se,matches:Me})),(0,R.Q)(this._destroySubject)),mql:W};return this._queries.set(se,Q),Q}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(F),d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();function re(j){return j.map(Y=>Y.split(",")).reduce((Y,se)=>Y.concat(se)).map(Y=>Y.trim())}const we={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9539:(dn,Ne,_)=>{"use strict";_.d(Ne,{w5:()=>S});var d=_(7404);let w=(()=>{class I{create(y){return typeof MutationObserver>"u"?null:new MutationObserver(y)}static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),S=(()=>{class I{static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275mod=d.$C({type:I});static#n=this.\u0275inj=d.G2t({providers:[w]})}return I})()},1570:(dn,Ne,_)=>{"use strict";_.d(Ne,{$Q:()=>ot,Sf:()=>X,WB:()=>st,hJ:()=>Ye,rR:()=>Y,yY:()=>oe,z_:()=>wt});var d=_(4053),A=_(316),w=_(7404),D=_(2814),C=_(7699),S=_(8627),I=_(7464),E=_(370),y=_(3680),x=_(9168),$=_(3119),R=_(2672),O=_(7405),M=_(4879);const L=(0,C.CZ)();class z{constructor(Z,Fe){this._viewportRuler=Z,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Fe}attach(){}enable(){if(this._canBeEnabled()){const Z=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Z.style.left||"",this._previousHTMLStyles.top=Z.style.top||"",Z.style.left=(0,D.a1)(-this._previousScrollPosition.left),Z.style.top=(0,D.a1)(-this._previousScrollPosition.top),Z.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Z=this._document.documentElement,pe=Z.style,at=this._document.body.style,Gt=pe.scrollBehavior||"",nn=at.scrollBehavior||"";this._isEnabled=!1,pe.left=this._previousHTMLStyles.left,pe.top=this._previousHTMLStyles.top,Z.classList.remove("cdk-global-scrollblock"),L&&(pe.scrollBehavior=at.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),L&&(pe.scrollBehavior=Gt,at.scrollBehavior=nn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Fe=this._document.body,pe=this._viewportRuler.getViewportSize();return Fe.scrollHeight>pe.height||Fe.scrollWidth>pe.width}}class J{constructor(Z,Fe,pe,at){this._scrollDispatcher=Z,this._ngZone=Fe,this._viewportRuler=pe,this._config=at,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Z){this._overlayRef=Z}enable(){if(this._scrollSubscription)return;const Z=this._scrollDispatcher.scrolled(0).pipe((0,S.p)(Fe=>!Fe||!this._overlayRef.overlayElement.contains(Fe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Z.subscribe(()=>{const Fe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Fe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Z.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ue{enable(){}disable(){}attach(){}}function ce(ut,Z){return Z.some(Fe=>ut.bottom<Fe.top||ut.top>Fe.bottom||ut.right<Fe.left||ut.left>Fe.right)}function re(ut,Z){return Z.some(Fe=>ut.top<Fe.top||ut.bottom>Fe.bottom||ut.left<Fe.left||ut.right>Fe.right)}class we{constructor(Z,Fe,pe,at){this._scrollDispatcher=Z,this._viewportRuler=Fe,this._ngZone=pe,this._config=at,this._scrollSubscription=null}attach(Z){this._overlayRef=Z}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Fe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:pe,height:at}=this._viewportRuler.getViewportSize();ce(Fe,[{width:pe,height:at,bottom:at,right:pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let j=(()=>{class ut{constructor(Fe,pe,at,Gt){this._scrollDispatcher=Fe,this._viewportRuler=pe,this._ngZone=at,this.noop=()=>new ue,this.close=nn=>new J(this._scrollDispatcher,this._ngZone,this._viewportRuler,nn),this.block=()=>new z(this._viewportRuler,this._document),this.reposition=nn=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,nn),this._document=Gt}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(d.R),w.KVO(d.Xj),w.KVO(w.SKi),w.KVO(A.qQ))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();class Y{constructor(Z){if(this.scrollStrategy=new ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Z){const Fe=Object.keys(Z);for(const pe of Fe)void 0!==Z[pe]&&(this[pe]=Z[pe])}}}class Ce{constructor(Z,Fe){this.connectionPair=Z,this.scrollableViewProperties=Fe}}let Xe=(()=>{class ut{constructor(Fe){this._attachedOverlays=[],this._document=Fe}ngOnDestroy(){this.detach()}add(Fe){this.remove(Fe),this._attachedOverlays.push(Fe)}remove(Fe){const pe=this._attachedOverlays.indexOf(Fe);pe>-1&&this._attachedOverlays.splice(pe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(A.qQ))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),yt=(()=>{class ut extends Xe{constructor(Fe,pe){super(Fe),this._ngZone=pe,this._keydownListener=at=>{const Gt=this._attachedOverlays;for(let nn=Gt.length-1;nn>-1;nn--)if(Gt[nn]._keydownEvents.observers.length>0){const Wn=Gt[nn]._keydownEvents;this._ngZone?this._ngZone.run(()=>Wn.next(at)):Wn.next(at);break}}}add(Fe){super.add(Fe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(A.qQ),w.KVO(w.SKi,8))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Je=(()=>{class ut extends Xe{constructor(Fe,pe,at){super(Fe),this._platform=pe,this._ngZone=at,this._cursorStyleIsSet=!1,this._pointerDownListener=Gt=>{this._pointerDownEventTarget=(0,C.Fb)(Gt)},this._clickListener=Gt=>{const nn=(0,C.Fb)(Gt),Wn="click"===Gt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:nn;this._pointerDownEventTarget=null;const vi=this._attachedOverlays.slice();for(let sn=vi.length-1;sn>-1;sn--){const tn=vi[sn];if(tn._outsidePointerEvents.observers.length<1||!tn.hasAttached())continue;if(je(tn.overlayElement,nn)||je(tn.overlayElement,Wn))break;const xt=tn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>xt.next(Gt)):xt.next(Gt)}}}add(Fe){if(super.add(Fe),!this._isAttached){const pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(pe)):this._addEventListeners(pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=pe.style.cursor,pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Fe=this._document.body;Fe.removeEventListener("pointerdown",this._pointerDownListener,!0),Fe.removeEventListener("click",this._clickListener,!0),Fe.removeEventListener("auxclick",this._clickListener,!0),Fe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Fe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Fe){Fe.addEventListener("pointerdown",this._pointerDownListener,!0),Fe.addEventListener("click",this._clickListener,!0),Fe.addEventListener("auxclick",this._clickListener,!0),Fe.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(A.qQ),w.KVO(C.OD),w.KVO(w.SKi,8))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function je(ut,Z){const Fe=typeof ShadowRoot<"u"&&ShadowRoot;let pe=Z;for(;pe;){if(pe===ut)return!0;pe=Fe&&pe instanceof ShadowRoot?pe.host:pe.parentNode}return!1}let X=(()=>{class ut{constructor(Fe,pe){this._platform=pe,this._document=Fe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Fe="cdk-overlay-container";if(this._platform.isBrowser||(0,C.v8)()){const at=this._document.querySelectorAll(`.${Fe}[platform="server"], .${Fe}[platform="test"]`);for(let Gt=0;Gt<at.length;Gt++)at[Gt].remove()}const pe=this._document.createElement("div");pe.classList.add(Fe),(0,C.v8)()?pe.setAttribute("platform","test"):this._platform.isBrowser||pe.setAttribute("platform","server"),this._document.body.appendChild(pe),this._containerElement=pe}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(A.qQ),w.KVO(C.OD))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();class oe{constructor(Z,Fe,pe,at,Gt,nn,Wn,vi,sn,tn=!1,xt){this._portalOutlet=Z,this._host=Fe,this._pane=pe,this._config=at,this._ngZone=Gt,this._keyboardDispatcher=nn,this._document=Wn,this._location=vi,this._outsideClickDispatcher=sn,this._animationsDisabled=tn,this._injector=xt,this._backdropElement=null,this._backdropClick=new $.B7,this._attachments=new $.B7,this._detachments=new $.B7,this._locationChanges=R.y.EMPTY,this._backdropClickHandler=zt=>this._backdropClick.next(zt),this._backdropTransitionendHandler=zt=>{this._disposeBackdrop(zt.target)},this._keydownEvents=new $.B7,this._outsidePointerEvents=new $.B7,this._renders=new $.B7,at.scrollStrategy&&(this._scrollStrategy=at.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=at.positionStrategy,this._afterRenderRef=(0,w.O8t)(()=>(0,w.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Z){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Fe=this._portalOutlet.attach(Z);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,w.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Fe?.onDestroy&&Fe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Fe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Z=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Z}dispose(){const Z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Z&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Z){Z!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Z,this.hasAttached()&&(Z.attach(this),this.updatePosition()))}updateSize(Z){this._config={...this._config,...Z},this._updateElementSize()}setDirection(Z){this._config={...this._config,direction:Z},this._updateElementDirection()}addPanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!0)}removePanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!1)}getDirection(){const Z=this._config.direction;return Z?"string"==typeof Z?Z:Z.value:"ltr"}updateScrollStrategy(Z){Z!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Z,this.hasAttached()&&(Z.attach(this),Z.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Z=this._pane.style;Z.width=(0,D.a1)(this._config.width),Z.height=(0,D.a1)(this._config.height),Z.minWidth=(0,D.a1)(this._config.minWidth),Z.minHeight=(0,D.a1)(this._config.minHeight),Z.maxWidth=(0,D.a1)(this._config.maxWidth),Z.maxHeight=(0,D.a1)(this._config.maxHeight)}_togglePointerEvents(Z){this._pane.style.pointerEvents=Z?"":"none"}_attachBackdrop(){const Z="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Z)})}):this._backdropElement.classList.add(Z)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Z=this._backdropElement;if(Z){if(this._animationsDisabled)return void this._disposeBackdrop(Z);Z.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Z.addEventListener("transitionend",this._backdropTransitionendHandler)}),Z.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Z)},500))}}_toggleClasses(Z,Fe,pe){const at=(0,D.FG)(Fe||[]).filter(Gt=>!!Gt);at.length&&(pe?Z.classList.add(...at):Z.classList.remove(...at))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Z=this._renders.pipe((0,I.Q)((0,O.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Z.unsubscribe())})})}_disposeScrollStrategy(){const Z=this._scrollStrategy;Z&&(Z.disable(),Z.detach&&Z.detach())}_disposeBackdrop(Z){Z&&(Z.removeEventListener("click",this._backdropClickHandler),Z.removeEventListener("transitionend",this._backdropTransitionendHandler),Z.remove(),this._backdropElement===Z&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const _e="cdk-overlay-connected-position-bounding-box",ve=/([A-Za-z%]+)$/;class Pe{get positions(){return this._preferredPositions}constructor(Z,Fe,pe,at,Gt){this._viewportRuler=Fe,this._document=pe,this._platform=at,this._overlayContainer=Gt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $.B7,this._resizeSubscription=R.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Z)}attach(Z){this._validatePositions(),Z.hostElement.classList.add(_e),this._overlayRef=Z,this._boundingBox=Z.hostElement,this._pane=Z.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._originRect,Fe=this._overlayRect,pe=this._viewportRect,at=this._containerRect,Gt=[];let nn;for(let Wn of this._preferredPositions){let vi=this._getOriginPoint(Z,at,Wn),sn=this._getOverlayPoint(vi,Fe,Wn),tn=this._getOverlayFit(sn,Fe,pe,Wn);if(tn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Wn,vi);this._canFitWithFlexibleDimensions(tn,sn,pe)?Gt.push({position:Wn,origin:vi,overlayRect:Fe,boundingBoxRect:this._calculateBoundingBoxRect(vi,Wn)}):(!nn||nn.overlayFit.visibleArea<tn.visibleArea)&&(nn={overlayFit:tn,overlayPoint:sn,originPoint:vi,position:Wn,overlayRect:Fe})}if(Gt.length){let Wn=null,vi=-1;for(const sn of Gt){const tn=sn.boundingBoxRect.width*sn.boundingBoxRect.height*(sn.position.weight||1);tn>vi&&(vi=tn,Wn=sn)}return this._isPushed=!1,void this._applyPosition(Wn.position,Wn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(nn.position,nn.originPoint);this._applyPosition(nn.position,nn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ve(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_e),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Z=this._lastPosition;if(Z){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Fe=this._getOriginPoint(this._originRect,this._containerRect,Z);this._applyPosition(Z,Fe)}else this.apply()}withScrollableContainers(Z){return this._scrollables=Z,this}withPositions(Z){return this._preferredPositions=Z,-1===Z.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Z){return this._viewportMargin=Z,this}withFlexibleDimensions(Z=!0){return this._hasFlexibleDimensions=Z,this}withGrowAfterOpen(Z=!0){return this._growAfterOpen=Z,this}withPush(Z=!0){return this._canPush=Z,this}withLockedPosition(Z=!0){return this._positionLocked=Z,this}setOrigin(Z){return this._origin=Z,this}withDefaultOffsetX(Z){return this._offsetX=Z,this}withDefaultOffsetY(Z){return this._offsetY=Z,this}withTransformOriginOn(Z){return this._transformOriginSelector=Z,this}_getOriginPoint(Z,Fe,pe){let at,Gt;if("center"==pe.originX)at=Z.left+Z.width/2;else{const nn=this._isRtl()?Z.right:Z.left,Wn=this._isRtl()?Z.left:Z.right;at="start"==pe.originX?nn:Wn}return Fe.left<0&&(at-=Fe.left),Gt="center"==pe.originY?Z.top+Z.height/2:"top"==pe.originY?Z.top:Z.bottom,Fe.top<0&&(Gt-=Fe.top),{x:at,y:Gt}}_getOverlayPoint(Z,Fe,pe){let at,Gt;return at="center"==pe.overlayX?-Fe.width/2:"start"===pe.overlayX?this._isRtl()?-Fe.width:0:this._isRtl()?0:-Fe.width,Gt="center"==pe.overlayY?-Fe.height/2:"top"==pe.overlayY?0:-Fe.height,{x:Z.x+at,y:Z.y+Gt}}_getOverlayFit(Z,Fe,pe,at){const Gt=Pt(Fe);let{x:nn,y:Wn}=Z,vi=this._getOffset(at,"x"),sn=this._getOffset(at,"y");vi&&(nn+=vi),sn&&(Wn+=sn);let zt=0-Wn,$t=Wn+Gt.height-pe.height,vn=this._subtractOverflows(Gt.width,0-nn,nn+Gt.width-pe.width),Nn=this._subtractOverflows(Gt.height,zt,$t),Ni=vn*Nn;return{visibleArea:Ni,isCompletelyWithinViewport:Gt.width*Gt.height===Ni,fitsInViewportVertically:Nn===Gt.height,fitsInViewportHorizontally:vn==Gt.width}}_canFitWithFlexibleDimensions(Z,Fe,pe){if(this._hasFlexibleDimensions){const at=pe.bottom-Fe.y,Gt=pe.right-Fe.x,nn=Qe(this._overlayRef.getConfig().minHeight),Wn=Qe(this._overlayRef.getConfig().minWidth);return(Z.fitsInViewportVertically||null!=nn&&nn<=at)&&(Z.fitsInViewportHorizontally||null!=Wn&&Wn<=Gt)}return!1}_pushOverlayOnScreen(Z,Fe,pe){if(this._previousPushAmount&&this._positionLocked)return{x:Z.x+this._previousPushAmount.x,y:Z.y+this._previousPushAmount.y};const at=Pt(Fe),Gt=this._viewportRect,nn=Math.max(Z.x+at.width-Gt.width,0),Wn=Math.max(Z.y+at.height-Gt.height,0),vi=Math.max(Gt.top-pe.top-Z.y,0),sn=Math.max(Gt.left-pe.left-Z.x,0);let tn=0,xt=0;return tn=at.width<=Gt.width?sn||-nn:Z.x<this._viewportMargin?Gt.left-pe.left-Z.x:0,xt=at.height<=Gt.height?vi||-Wn:Z.y<this._viewportMargin?Gt.top-pe.top-Z.y:0,this._previousPushAmount={x:tn,y:xt},{x:Z.x+tn,y:Z.y+xt}}_applyPosition(Z,Fe){if(this._setTransformOrigin(Z),this._setOverlayElementStyles(Fe,Z),this._setBoundingBoxStyles(Fe,Z),Z.panelClass&&this._addPanelClasses(Z.panelClass),this._positionChanges.observers.length){const pe=this._getScrollVisibility();if(Z!==this._lastPosition||!this._lastScrollVisibility||!function Se(ut,Z){return ut===Z||ut.isOriginClipped===Z.isOriginClipped&&ut.isOriginOutsideView===Z.isOriginOutsideView&&ut.isOverlayClipped===Z.isOverlayClipped&&ut.isOverlayOutsideView===Z.isOverlayOutsideView}(this._lastScrollVisibility,pe)){const at=new Ce(Z,pe);this._positionChanges.next(at)}this._lastScrollVisibility=pe}this._lastPosition=Z,this._isInitialRender=!1}_setTransformOrigin(Z){if(!this._transformOriginSelector)return;const Fe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let pe,at=Z.overlayY;pe="center"===Z.overlayX?"center":this._isRtl()?"start"===Z.overlayX?"right":"left":"start"===Z.overlayX?"left":"right";for(let Gt=0;Gt<Fe.length;Gt++)Fe[Gt].style.transformOrigin=`${pe} ${at}`}_calculateBoundingBoxRect(Z,Fe){const pe=this._viewportRect,at=this._isRtl();let Gt,nn,Wn,tn,xt,zt;if("top"===Fe.overlayY)nn=Z.y,Gt=pe.height-nn+this._viewportMargin;else if("bottom"===Fe.overlayY)Wn=pe.height-Z.y+2*this._viewportMargin,Gt=pe.height-Wn+this._viewportMargin;else{const $t=Math.min(pe.bottom-Z.y+pe.top,Z.y),vn=this._lastBoundingBoxSize.height;Gt=2*$t,nn=Z.y-$t,Gt>vn&&!this._isInitialRender&&!this._growAfterOpen&&(nn=Z.y-vn/2)}if("end"===Fe.overlayX&&!at||"start"===Fe.overlayX&&at)zt=pe.width-Z.x+2*this._viewportMargin,tn=Z.x-this._viewportMargin;else if("start"===Fe.overlayX&&!at||"end"===Fe.overlayX&&at)xt=Z.x,tn=pe.right-Z.x;else{const $t=Math.min(pe.right-Z.x+pe.left,Z.x),vn=this._lastBoundingBoxSize.width;tn=2*$t,xt=Z.x-$t,tn>vn&&!this._isInitialRender&&!this._growAfterOpen&&(xt=Z.x-vn/2)}return{top:nn,left:xt,bottom:Wn,right:zt,width:tn,height:Gt}}_setBoundingBoxStyles(Z,Fe){const pe=this._calculateBoundingBoxRect(Z,Fe);!this._isInitialRender&&!this._growAfterOpen&&(pe.height=Math.min(pe.height,this._lastBoundingBoxSize.height),pe.width=Math.min(pe.width,this._lastBoundingBoxSize.width));const at={};if(this._hasExactPosition())at.top=at.left="0",at.bottom=at.right=at.maxHeight=at.maxWidth="",at.width=at.height="100%";else{const Gt=this._overlayRef.getConfig().maxHeight,nn=this._overlayRef.getConfig().maxWidth;at.height=(0,D.a1)(pe.height),at.top=(0,D.a1)(pe.top),at.bottom=(0,D.a1)(pe.bottom),at.width=(0,D.a1)(pe.width),at.left=(0,D.a1)(pe.left),at.right=(0,D.a1)(pe.right),at.alignItems="center"===Fe.overlayX?"center":"end"===Fe.overlayX?"flex-end":"flex-start",at.justifyContent="center"===Fe.overlayY?"center":"bottom"===Fe.overlayY?"flex-end":"flex-start",Gt&&(at.maxHeight=(0,D.a1)(Gt)),nn&&(at.maxWidth=(0,D.a1)(nn))}this._lastBoundingBoxSize=pe,Ve(this._boundingBox.style,at)}_resetBoundingBoxStyles(){Ve(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ve(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Z,Fe){const pe={},at=this._hasExactPosition(),Gt=this._hasFlexibleDimensions,nn=this._overlayRef.getConfig();if(at){const tn=this._viewportRuler.getViewportScrollPosition();Ve(pe,this._getExactOverlayY(Fe,Z,tn)),Ve(pe,this._getExactOverlayX(Fe,Z,tn))}else pe.position="static";let Wn="",vi=this._getOffset(Fe,"x"),sn=this._getOffset(Fe,"y");vi&&(Wn+=`translateX(${vi}px) `),sn&&(Wn+=`translateY(${sn}px)`),pe.transform=Wn.trim(),nn.maxHeight&&(at?pe.maxHeight=(0,D.a1)(nn.maxHeight):Gt&&(pe.maxHeight="")),nn.maxWidth&&(at?pe.maxWidth=(0,D.a1)(nn.maxWidth):Gt&&(pe.maxWidth="")),Ve(this._pane.style,pe)}_getExactOverlayY(Z,Fe,pe){let at={top:"",bottom:""},Gt=this._getOverlayPoint(Fe,this._overlayRect,Z);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,pe)),"bottom"===Z.overlayY?at.bottom=this._document.documentElement.clientHeight-(Gt.y+this._overlayRect.height)+"px":at.top=(0,D.a1)(Gt.y),at}_getExactOverlayX(Z,Fe,pe){let nn,at={left:"",right:""},Gt=this._getOverlayPoint(Fe,this._overlayRect,Z);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,pe)),nn=this._isRtl()?"end"===Z.overlayX?"left":"right":"end"===Z.overlayX?"right":"left","right"===nn?at.right=this._document.documentElement.clientWidth-(Gt.x+this._overlayRect.width)+"px":at.left=(0,D.a1)(Gt.x),at}_getScrollVisibility(){const Z=this._getOriginRect(),Fe=this._pane.getBoundingClientRect(),pe=this._scrollables.map(at=>at.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:re(Z,pe),isOriginOutsideView:ce(Z,pe),isOverlayClipped:re(Fe,pe),isOverlayOutsideView:ce(Fe,pe)}}_subtractOverflows(Z,...Fe){return Fe.reduce((pe,at)=>pe-Math.max(at,0),Z)}_getNarrowedViewportRect(){const Z=this._document.documentElement.clientWidth,Fe=this._document.documentElement.clientHeight,pe=this._viewportRuler.getViewportScrollPosition();return{top:pe.top+this._viewportMargin,left:pe.left+this._viewportMargin,right:pe.left+Z-this._viewportMargin,bottom:pe.top+Fe-this._viewportMargin,width:Z-2*this._viewportMargin,height:Fe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Z,Fe){return"x"===Fe?null==Z.offsetX?this._offsetX:Z.offsetX:null==Z.offsetY?this._offsetY:Z.offsetY}_validatePositions(){}_addPanelClasses(Z){this._pane&&(0,D.FG)(Z).forEach(Fe=>{""!==Fe&&-1===this._appliedPanelClasses.indexOf(Fe)&&(this._appliedPanelClasses.push(Fe),this._pane.classList.add(Fe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Z=>{this._pane.classList.remove(Z)}),this._appliedPanelClasses=[])}_getOriginRect(){const Z=this._origin;if(Z instanceof w.aKT)return Z.nativeElement.getBoundingClientRect();if(Z instanceof Element)return Z.getBoundingClientRect();const Fe=Z.width||0,pe=Z.height||0;return{top:Z.y,bottom:Z.y+pe,left:Z.x,right:Z.x+Fe,height:pe,width:Fe}}}function Ve(ut,Z){for(let Fe in Z)Z.hasOwnProperty(Fe)&&(ut[Fe]=Z[Fe]);return ut}function Qe(ut){if("number"!=typeof ut&&null!=ut){const[Z,Fe]=ut.split(ve);return Fe&&"px"!==Fe?null:parseFloat(Z)}return ut||null}function Pt(ut){return{top:Math.floor(ut.top),right:Math.floor(ut.right),bottom:Math.floor(ut.bottom),left:Math.floor(ut.left),width:Math.floor(ut.width),height:Math.floor(ut.height)}}const Tt="cdk-global-overlay-wrapper";class Ot{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Z){const Fe=Z.getConfig();this._overlayRef=Z,this._width&&!Fe.width&&Z.updateSize({width:this._width}),this._height&&!Fe.height&&Z.updateSize({height:this._height}),Z.hostElement.classList.add(Tt),this._isDisposed=!1}top(Z=""){return this._bottomOffset="",this._topOffset=Z,this._alignItems="flex-start",this}left(Z=""){return this._xOffset=Z,this._xPosition="left",this}bottom(Z=""){return this._topOffset="",this._bottomOffset=Z,this._alignItems="flex-end",this}right(Z=""){return this._xOffset=Z,this._xPosition="right",this}start(Z=""){return this._xOffset=Z,this._xPosition="start",this}end(Z=""){return this._xOffset=Z,this._xPosition="end",this}width(Z=""){return this._overlayRef?this._overlayRef.updateSize({width:Z}):this._width=Z,this}height(Z=""){return this._overlayRef?this._overlayRef.updateSize({height:Z}):this._height=Z,this}centerHorizontally(Z=""){return this.left(Z),this._xPosition="center",this}centerVertically(Z=""){return this.top(Z),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Z=this._overlayRef.overlayElement.style,Fe=this._overlayRef.hostElement.style,pe=this._overlayRef.getConfig(),{width:at,height:Gt,maxWidth:nn,maxHeight:Wn}=pe,vi=!("100%"!==at&&"100vw"!==at||nn&&"100%"!==nn&&"100vw"!==nn),sn=!("100%"!==Gt&&"100vh"!==Gt||Wn&&"100%"!==Wn&&"100vh"!==Wn),tn=this._xPosition,xt=this._xOffset,zt="rtl"===this._overlayRef.getConfig().direction;let $t="",vn="",Nn="";vi?Nn="flex-start":"center"===tn?(Nn="center",zt?vn=xt:$t=xt):zt?"left"===tn||"end"===tn?(Nn="flex-end",$t=xt):("right"===tn||"start"===tn)&&(Nn="flex-start",vn=xt):"left"===tn||"start"===tn?(Nn="flex-start",$t=xt):("right"===tn||"end"===tn)&&(Nn="flex-end",vn=xt),Z.position=this._cssPosition,Z.marginLeft=vi?"0":$t,Z.marginTop=sn?"0":this._topOffset,Z.marginBottom=this._bottomOffset,Z.marginRight=vi?"0":vn,Fe.justifyContent=Nn,Fe.alignItems=sn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Z=this._overlayRef.overlayElement.style,Fe=this._overlayRef.hostElement,pe=Fe.style;Fe.classList.remove(Tt),pe.justifyContent=pe.alignItems=Z.marginTop=Z.marginBottom=Z.marginLeft=Z.marginRight=Z.position="",this._overlayRef=null,this._isDisposed=!0}}let ft=(()=>{class ut{constructor(Fe,pe,at,Gt){this._viewportRuler=Fe,this._document=pe,this._platform=at,this._overlayContainer=Gt}global(){return new Ot}flexibleConnectedTo(Fe){return new Pe(Fe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(d.Xj),w.KVO(A.qQ),w.KVO(C.OD),w.KVO(X))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Re=0,Ye=(()=>{class ut{constructor(Fe,pe,at,Gt,nn,Wn,vi,sn,tn,xt,zt,$t){this.scrollStrategies=Fe,this._overlayContainer=pe,this._componentFactoryResolver=at,this._positionBuilder=Gt,this._keyboardDispatcher=nn,this._injector=Wn,this._ngZone=vi,this._document=sn,this._directionality=tn,this._location=xt,this._outsideClickDispatcher=zt,this._animationsModuleType=$t}create(Fe){const pe=this._createHostElement(),at=this._createPaneElement(pe),Gt=this._createPortalOutlet(at),nn=new Y(Fe);return nn.direction=nn.direction||this._directionality.value,new oe(Gt,pe,at,nn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(w.uvJ))}position(){return this._positionBuilder}_createPaneElement(Fe){const pe=this._document.createElement("div");return pe.id="cdk-overlay-"+Re++,pe.classList.add("cdk-overlay-pane"),Fe.appendChild(pe),pe}_createHostElement(){const Fe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Fe),Fe}_createPortalOutlet(Fe){return this._appRef||(this._appRef=this._injector.get(w.o8S)),new x.aI(Fe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.KVO(j),w.KVO(X),w.KVO(w.OM3),w.KVO(ft),w.KVO(yt),w.KVO(w.zZn),w.KVO(w.SKi),w.KVO(A.qQ),w.KVO(y.dS),w.KVO(A.aZ),w.KVO(Je),w.KVO(w.bc$,8))};static#t=this.\u0275prov=w.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const vt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],It=new w.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const ut=(0,w.WQX)(Ye);return()=>ut.scrollStrategies.reposition()}});let ot=(()=>{class ut{constructor(Fe){this.elementRef=Fe}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.rXU(w.aKT))};static#t=this.\u0275dir=w.FsC({type:ut,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ut})(),st=(()=>{class ut{get offsetX(){return this._offsetX}set offsetX(Fe){this._offsetX=Fe,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Fe){this._offsetY=Fe,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Fe){this._disposeOnNavigation=Fe}constructor(Fe,pe,at,Gt,nn){this._overlay=Fe,this._dir=nn,this._backdropSubscription=R.y.EMPTY,this._attachSubscription=R.y.EMPTY,this._detachSubscription=R.y.EMPTY,this._positionSubscription=R.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,w.WQX)(w.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new w.bkB,this.positionChange=new w.bkB,this.attach=new w.bkB,this.detach=new w.bkB,this.overlayKeydown=new w.bkB,this.overlayOutsideClick=new w.bkB,this._templatePortal=new x.VA(pe,at),this._scrollStrategyFactory=Gt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Fe){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Fe.origin&&this.open&&this._position.apply()),Fe.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vt);const Fe=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Fe.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Fe.detachments().subscribe(()=>this.detach.emit()),Fe.keydownEvents().subscribe(pe=>{this.overlayKeydown.next(pe),pe.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(pe)&&(pe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(pe=>{const at=this._getOriginElement(),Gt=(0,C.Fb)(pe);(!at||at!==Gt&&!at.contains(Gt))&&this.overlayOutsideClick.next(pe)})}_buildConfig(){const Fe=this._position=this.positionStrategy||this._createPositionStrategy(),pe=new Y({direction:this._dir,positionStrategy:Fe,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(pe.width=this.width),(this.height||0===this.height)&&(pe.height=this.height),(this.minWidth||0===this.minWidth)&&(pe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(pe.minHeight=this.minHeight),this.backdropClass&&(pe.backdropClass=this.backdropClass),this.panelClass&&(pe.panelClass=this.panelClass),pe}_updatePositionStrategy(Fe){const pe=this.positions.map(at=>({originX:at.originX,originY:at.originY,overlayX:at.overlayX,overlayY:at.overlayY,offsetX:at.offsetX||this.offsetX,offsetY:at.offsetY||this.offsetY,panelClass:at.panelClass||void 0}));return Fe.setOrigin(this._getOrigin()).withPositions(pe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Fe=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Fe),Fe}_getOrigin(){return this.origin instanceof ot?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ot?this.origin.elementRef.nativeElement:this.origin instanceof w.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Fe=>{this.backdropClick.emit(Fe)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,E.v)(()=>this.positionChange.observers.length>0)).subscribe(Fe=>{this._ngZone.run(()=>this.positionChange.emit(Fe)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(pe){return new(pe||ut)(w.rXU(Ye),w.rXU(w.C4Q),w.rXU(w.c1b),w.rXU(It),w.rXU(y.dS,8))};static#t=this.\u0275dir=w.FsC({type:ut,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",w.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",w.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",w.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",w.L39],push:[2,"cdkConnectedOverlayPush","push",w.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",w.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[w.GFd,w.OA$]})}return ut})();const Ut={provide:It,deps:[Ye],useFactory:function Nt(ut){return()=>ut.scrollStrategies.reposition()}};let wt=(()=>{class ut{static#e=this.\u0275fac=function(pe){return new(pe||ut)};static#t=this.\u0275mod=w.$C({type:ut});static#n=this.\u0275inj=w.G2t({providers:[Ye,Ut],imports:[y.jI,x.jc,d.E9,d.E9]})}return ut})()},7699:(dn,Ne,_)=>{"use strict";_.d(Ne,{BD:()=>z,BQ:()=>$,CZ:()=>L,Fb:()=>re,KT:()=>ue,MU:()=>E,OD:()=>D,r5:()=>R,v8:()=>we,vc:()=>ce});var d=_(7404),A=_(316);let w;try{w=typeof Intl<"u"&&Intl.v8BreakIterator}catch{w=!1}let S,D=(()=>{class j{constructor(se){this._platformId=se,this.isBrowser=this._platformId?(0,A.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!w)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(d.Agw))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();const I=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function E(){if(S)return S;if("object"!=typeof document||!document)return S=new Set(I),S;let j=document.createElement("input");return S=new Set(I.filter(Y=>(j.setAttribute("type",Y),j.type===Y))),S}let y;function $(j){return function x(){if(null==y&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y=!0}))}finally{y=y||!1}return y}()?j:!!j.capture}var R=function(j){return j[j.NORMAL=0]="NORMAL",j[j.NEGATED=1]="NEGATED",j[j.INVERTED=2]="INVERTED",j}(R||{});let O,M,F;function L(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const j=Element.prototype.scrollTo;M=!!j&&!/\{\s*\[native code\]\s*\}/.test(j.toString())}}return M}function z(){if("object"!=typeof document||!document)return R.NORMAL;if(null==O){const j=document.createElement("div"),Y=j.style;j.dir="rtl",Y.width="1px",Y.overflow="auto",Y.visibility="hidden",Y.pointerEvents="none",Y.position="absolute";const se=document.createElement("div"),W=se.style;W.width="2px",W.height="1px",j.appendChild(se),document.body.appendChild(j),O=R.NORMAL,0===j.scrollLeft&&(j.scrollLeft=1,O=0===j.scrollLeft?R.NEGATED:R.INVERTED),j.remove()}return O}function ue(j){if(function J(){if(null==F){const j=typeof document<"u"?document.head:null;F=!(!j||!j.createShadowRoot&&!j.attachShadow)}return F}()){const Y=j.getRootNode?j.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Y instanceof ShadowRoot)return Y}return null}function ce(){let j=typeof document<"u"&&document?document.activeElement:null;for(;j&&j.shadowRoot;){const Y=j.shadowRoot.activeElement;if(Y===j)break;j=Y}return j}function re(j){return j.composedPath?j.composedPath()[0]:j.target}function we(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},9168:(dn,Ne,_)=>{"use strict";_.d(Ne,{A8:()=>x,I3:()=>ue,Qq:()=>J,VA:()=>$,aI:()=>L,bV:()=>F,jc:()=>re,lb:()=>O});var d=_(7404),A=_(316);class y{attach(Y){return this._attachedHost=Y,Y.attach(this)}detach(){let Y=this._attachedHost;null!=Y&&(this._attachedHost=null,Y.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Y){this._attachedHost=Y}}class x extends y{constructor(Y,se,W,Ce,Q){super(),this.component=Y,this.viewContainerRef=se,this.injector=W,this.componentFactoryResolver=Ce,this.projectableNodes=Q}}class $ extends y{constructor(Y,se,W,Ce){super(),this.templateRef=Y,this.viewContainerRef=se,this.context=W,this.injector=Ce}get origin(){return this.templateRef.elementRef}attach(Y,se=this.context){return this.context=se,super.attach(Y)}detach(){return this.context=void 0,super.detach()}}class R extends y{constructor(Y){super(),this.element=Y instanceof d.aKT?Y.nativeElement:Y}}class O{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Y){return Y instanceof x?(this._attachedPortal=Y,this.attachComponentPortal(Y)):Y instanceof $?(this._attachedPortal=Y,this.attachTemplatePortal(Y)):this.attachDomPortal&&Y instanceof R?(this._attachedPortal=Y,this.attachDomPortal(Y)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Y){this._disposeFn=Y}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L extends O{constructor(Y,se,W,Ce,Q){super(),this.outletElement=Y,this._componentFactoryResolver=se,this._appRef=W,this._defaultInjector=Ce,this.attachDomPortal=Me=>{const Xe=Me.element,yt=this._document.createComment("dom-portal");Xe.parentNode.insertBefore(yt,Xe),this.outletElement.appendChild(Xe),this._attachedPortal=Me,super.setDisposeFn(()=>{yt.parentNode&&yt.parentNode.replaceChild(Xe,yt)})},this._document=Q}attachComponentPortal(Y){const W=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component);let Ce;return Y.viewContainerRef?(Ce=Y.viewContainerRef.createComponent(W,Y.viewContainerRef.length,Y.injector||Y.viewContainerRef.injector,Y.projectableNodes||void 0),this.setDisposeFn(()=>Ce.destroy())):(Ce=W.create(Y.injector||this._defaultInjector||d.zZn.NULL),this._appRef.attachView(Ce.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ce.hostView),Ce.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ce)),this._attachedPortal=Y,Ce}attachTemplatePortal(Y){let se=Y.viewContainerRef,W=se.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return W.rootNodes.forEach(Ce=>this.outletElement.appendChild(Ce)),W.detectChanges(),this.setDisposeFn(()=>{let Ce=se.indexOf(W);-1!==Ce&&se.remove(Ce)}),this._attachedPortal=Y,W}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Y){return Y.hostView.rootNodes[0]}}let F=(()=>{class j extends ${constructor(se,W){super(se,W)}static#e=this.\u0275fac=function(W){return new(W||j)(d.rXU(d.C4Q),d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Vt3]})}return j})(),J=(()=>{class j extends F{static#e=this.\u0275fac=(()=>{let se;return function(Ce){return(se||(se=d.xGo(j)))(Ce||j)}})();static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Jv_([{provide:F,useExisting:j}]),d.Vt3]})}return j})(),ue=(()=>{class j extends O{constructor(se,W,Ce){super(),this._componentFactoryResolver=se,this._viewContainerRef=W,this._isInitialized=!1,this.attached=new d.bkB,this.attachDomPortal=Q=>{const Me=Q.element,Xe=this._document.createComment("dom-portal");Q.setAttachedHost(this),Me.parentNode.insertBefore(Xe,Me),this._getRootNode().appendChild(Me),this._attachedPortal=Q,super.setDisposeFn(()=>{Xe.parentNode&&Xe.parentNode.replaceChild(Me,Xe)})},this._document=Ce}get portal(){return this._attachedPortal}set portal(se){this.hasAttached()&&!se&&!this._isInitialized||(this.hasAttached()&&super.detach(),se&&super.attach(se),this._attachedPortal=se||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(se){se.setAttachedHost(this);const W=null!=se.viewContainerRef?se.viewContainerRef:this._viewContainerRef,Q=(se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(se.component),Me=W.createComponent(Q,W.length,se.injector||W.injector,se.projectableNodes||void 0);return W!==this._viewContainerRef&&this._getRootNode().appendChild(Me.hostView.rootNodes[0]),super.setDisposeFn(()=>Me.destroy()),this._attachedPortal=se,this._attachedRef=Me,this.attached.emit(Me),Me}attachTemplatePortal(se){se.setAttachedHost(this);const W=this._viewContainerRef.createEmbeddedView(se.templateRef,se.context,{injector:se.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=se,this._attachedRef=W,this.attached.emit(W),W}_getRootNode(){const se=this._viewContainerRef.element.nativeElement;return se.nodeType===se.ELEMENT_NODE?se:se.parentNode}static#e=this.\u0275fac=function(W){return new(W||j)(d.rXU(d.OM3),d.rXU(d.c1b),d.rXU(A.qQ))};static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[d.Vt3]})}return j})(),re=(()=>{class j{static#e=this.\u0275fac=function(W){return new(W||j)};static#t=this.\u0275mod=d.$C({type:j});static#n=this.\u0275inj=d.G2t({})}return j})()},4053:(dn,Ne,_)=>{"use strict";_.d(Ne,{yg:()=>Se,uv:()=>Tt,Gj:()=>ct,E$:()=>Nt,d6:()=>ot,R:()=>Vt,E9:()=>ut,Xj:()=>ft});var d=_(2814),A=_(7404),w=_(3119),D=_(1536),C=_(434),S=_(7557),I=_(6244),y=_(2059);const $=new class x extends y.q{flush(Fe){this.active=!0,this.scheduled=void 0;const{actions:pe}=this;let at,Gt=-1,nn=pe.length;Fe=Fe||pe.shift();do{if(at=Fe.execute(Fe.state,Fe.delay))break}while(++Gt<nn&&(Fe=pe.shift()));if(this.active=!1,at){for(;++Gt<nn&&(Fe=pe.shift());)Fe.unsubscribe();throw at}}}(class E extends I.R{constructor(Fe,pe){super(Fe,pe),this.scheduler=Fe,this.work=pe}requestAsyncId(Fe,pe,at=0){return null!==at&&at>0?super.requestAsyncId(Fe,pe,at):(Fe.actions.push(this),Fe.scheduled||(Fe.scheduled=requestAnimationFrame(()=>Fe.flush(null))))}recycleAsyncId(Fe,pe,at=0){if(null!==at&&at>0||null===at&&this.delay>0)return super.recycleAsyncId(Fe,pe,at);0===Fe.actions.length&&(cancelAnimationFrame(pe),Fe.scheduled=void 0)}});var O=_(2800),M=_(2672),L=_(6899),z=_(6109),F=_(9573),J=_(3879);class ce{constructor(Fe){this.durationSelector=Fe}call(Fe,pe){return pe.subscribe(new re(Fe,this.durationSelector))}}class re extends J.gn{constructor(Fe,pe){super(Fe),this.durationSelector=pe,this.hasValue=!1}_next(Fe){if(this.value=Fe,this.hasValue=!0,!this.throttled){let pe;try{const{durationSelector:Gt}=this;pe=Gt(Fe)}catch(Gt){return this.destination.error(Gt)}const at=(0,J.tS)(pe,new J.zA(this));!at||at.closed?this.clearThrottle():this.add(this.throttled=at)}}clearThrottle(){const{value:Fe,hasValue:pe,throttled:at}=this;at&&(this.remove(at),this.throttled=void 0,at.unsubscribe()),pe&&(this.value=void 0,this.hasValue=!1,this.destination.next(Fe))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var we=_(3340);function j(Z,Fe=F.b){return function ue(Z){return function(pe){return pe.lift(new ce(Z))}}(()=>(0,we.O)(Z,Fe))}var Y=_(8627),se=_(7464),W=_(9273),Ce=_(8097);class Me{call(Fe,pe){return pe.subscribe(new Xe(Fe))}}class Xe extends Ce.v{constructor(Fe){super(Fe),this.hasPrev=!1}_next(Fe){let pe;this.hasPrev?pe=[this.prev,Fe]:this.hasPrev=!0,this.prev=Fe,pe&&this.destination.next(pe)}}var yt=_(1963),Je=_(7841),je=_(7699),X=_(316),oe=_(3680),_e=_(7989);const ve=["contentWrapper"],Pe=["*"],Ve=new A.nKC("VIRTUAL_SCROLL_STRATEGY");class Qe{constructor(Fe,pe,at){this._scrolledIndexChange=new w.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,z.F)()),this._viewport=null,this._itemSize=Fe,this._minBufferPx=pe,this._maxBufferPx=at}attach(Fe){this._viewport=Fe,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Fe,pe,at){this._itemSize=Fe,this._minBufferPx=pe,this._maxBufferPx=at,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Fe,pe){this._viewport&&this._viewport.scrollToOffset(Fe*this._itemSize,pe)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Fe=this._viewport.getRenderedRange(),pe={start:Fe.start,end:Fe.end},at=this._viewport.getViewportSize(),Gt=this._viewport.getDataLength();let nn=this._viewport.measureScrollOffset(),Wn=this._itemSize>0?nn/this._itemSize:0;if(pe.end>Gt){const sn=Math.ceil(at/this._itemSize),tn=Math.max(0,Math.min(Wn,Gt-sn));Wn!=tn&&(Wn=tn,nn=tn*this._itemSize,pe.start=Math.floor(Wn)),pe.end=Math.max(0,Math.min(Gt,pe.start+sn))}const vi=nn-pe.start*this._itemSize;if(vi<this._minBufferPx&&0!=pe.start){const sn=Math.ceil((this._maxBufferPx-vi)/this._itemSize);pe.start=Math.max(0,pe.start-sn),pe.end=Math.min(Gt,Math.ceil(Wn+(at+this._minBufferPx)/this._itemSize))}else{const sn=pe.end*this._itemSize-(nn+at);if(sn<this._minBufferPx&&pe.end!=Gt){const tn=Math.ceil((this._maxBufferPx-sn)/this._itemSize);tn>0&&(pe.end=Math.min(Gt,pe.end+tn),pe.start=Math.max(0,Math.floor(Wn-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(pe),this._viewport.setRenderedContentOffset(this._itemSize*pe.start),this._scrolledIndexChange.next(Math.floor(Wn))}}function Pt(Z){return Z._scrollStrategy}let Se=(()=>{class Z{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Qe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(pe){this._itemSize=(0,d.OE)(pe)}get minBufferPx(){return this._minBufferPx}set minBufferPx(pe){this._minBufferPx=(0,d.OE)(pe)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(pe){this._maxBufferPx=(0,d.OE)(pe)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(at){return new(at||Z)};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[A.Jv_([{provide:Ve,useFactory:Pt,deps:[(0,A.Rfq)(()=>Z)]}]),A.OA$]})}return Z})(),Vt=(()=>{class Z{constructor(pe,at,Gt){this._ngZone=pe,this._platform=at,this._scrolled=new w.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Gt}register(pe){this.scrollContainers.has(pe)||this.scrollContainers.set(pe,pe.elementScrolled().subscribe(()=>this._scrolled.next(pe)))}deregister(pe){const at=this.scrollContainers.get(pe);at&&(at.unsubscribe(),this.scrollContainers.delete(pe))}scrolled(pe=20){return this._platform.isBrowser?new C.c(at=>{this._globalSubscription||this._addGlobalListener();const Gt=pe>0?this._scrolled.pipe(j(pe)).subscribe(at):this._scrolled.subscribe(at);return this._scrolledCount++,()=>{Gt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,D.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((pe,at)=>this.deregister(at)),this._scrolled.complete()}ancestorScrolled(pe,at){const Gt=this.getAncestorScrollContainers(pe);return this.scrolled(at).pipe((0,Y.p)(nn=>!nn||Gt.indexOf(nn)>-1))}getAncestorScrollContainers(pe){const at=[];return this.scrollContainers.forEach((Gt,nn)=>{this._scrollableContainsElement(nn,pe)&&at.push(nn)}),at}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(pe,at){let Gt=(0,d.i8)(at),nn=pe.getElementRef().nativeElement;do{if(Gt==nn)return!0}while(Gt=Gt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const pe=this._getWindow();return(0,S.R)(pe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(at){return new(at||Z)(A.KVO(A.SKi),A.KVO(je.OD),A.KVO(X.qQ,8))};static#t=this.\u0275prov=A.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Tt=(()=>{class Z{constructor(pe,at,Gt,nn){this.elementRef=pe,this.scrollDispatcher=at,this.ngZone=Gt,this.dir=nn,this._destroyed=new w.B7,this._elementScrolled=new C.c(Wn=>this.ngZone.runOutsideAngular(()=>(0,S.R)(this.elementRef.nativeElement,"scroll").pipe((0,se.Q)(this._destroyed)).subscribe(Wn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(pe){const at=this.elementRef.nativeElement,Gt=this.dir&&"rtl"==this.dir.value;null==pe.left&&(pe.left=Gt?pe.end:pe.start),null==pe.right&&(pe.right=Gt?pe.start:pe.end),null!=pe.bottom&&(pe.top=at.scrollHeight-at.clientHeight-pe.bottom),Gt&&(0,je.BD)()!=je.r5.NORMAL?(null!=pe.left&&(pe.right=at.scrollWidth-at.clientWidth-pe.left),(0,je.BD)()==je.r5.INVERTED?pe.left=pe.right:(0,je.BD)()==je.r5.NEGATED&&(pe.left=pe.right?-pe.right:pe.right)):null!=pe.right&&(pe.left=at.scrollWidth-at.clientWidth-pe.right),this._applyScrollToOptions(pe)}_applyScrollToOptions(pe){const at=this.elementRef.nativeElement;(0,je.CZ)()?at.scrollTo(pe):(null!=pe.top&&(at.scrollTop=pe.top),null!=pe.left&&(at.scrollLeft=pe.left))}measureScrollOffset(pe){const at="left",nn=this.elementRef.nativeElement;if("top"==pe)return nn.scrollTop;if("bottom"==pe)return nn.scrollHeight-nn.clientHeight-nn.scrollTop;const Wn=this.dir&&"rtl"==this.dir.value;return"start"==pe?pe=Wn?"right":at:"end"==pe&&(pe=Wn?at:"right"),Wn&&(0,je.BD)()==je.r5.INVERTED?pe==at?nn.scrollWidth-nn.clientWidth-nn.scrollLeft:nn.scrollLeft:Wn&&(0,je.BD)()==je.r5.NEGATED?pe==at?nn.scrollLeft+nn.scrollWidth-nn.clientWidth:-nn.scrollLeft:pe==at?nn.scrollLeft:nn.scrollWidth-nn.clientWidth-nn.scrollLeft}static#e=this.\u0275fac=function(at){return new(at||Z)(A.rXU(A.aKT),A.rXU(Vt),A.rXU(A.SKi),A.rXU(oe.dS,8))};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Z})(),ft=(()=>{class Z{constructor(pe,at,Gt){this._platform=pe,this._change=new w.B7,this._changeListener=nn=>{this._change.next(nn)},this._document=Gt,at.runOutsideAngular(()=>{if(pe.isBrowser){const nn=this._getWindow();nn.addEventListener("resize",this._changeListener),nn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const pe=this._getWindow();pe.removeEventListener("resize",this._changeListener),pe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const pe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),pe}getViewportRect(){const pe=this.getViewportScrollPosition(),{width:at,height:Gt}=this.getViewportSize();return{top:pe.top,left:pe.left,bottom:pe.top+Gt,right:pe.left+at,height:Gt,width:at}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const pe=this._document,at=this._getWindow(),Gt=pe.documentElement,nn=Gt.getBoundingClientRect();return{top:-nn.top||pe.body.scrollTop||at.scrollY||Gt.scrollTop||0,left:-nn.left||pe.body.scrollLeft||at.scrollX||Gt.scrollLeft||0}}change(pe=20){return pe>0?this._change.pipe(j(pe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const pe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:pe.innerWidth,height:pe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(at){return new(at||Z)(A.KVO(je.OD),A.KVO(A.SKi),A.KVO(X.qQ,8))};static#t=this.\u0275prov=A.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const Re=new A.nKC("VIRTUAL_SCROLLABLE");let Ye=(()=>{class Z extends Tt{constructor(pe,at,Gt,nn){super(pe,at,Gt,nn)}measureViewportSize(pe){const at=this.elementRef.nativeElement;return"horizontal"===pe?at.clientWidth:at.clientHeight}static#e=this.\u0275fac=function(at){return new(at||Z)(A.rXU(A.aKT),A.rXU(Vt),A.rXU(A.SKi),A.rXU(oe.dS,8))};static#t=this.\u0275dir=A.FsC({type:Z,features:[A.Vt3]})}return Z})();const It=typeof requestAnimationFrame<"u"?$:O.$;let ot=(()=>{class Z extends Ye{get orientation(){return this._orientation}set orientation(pe){this._orientation!==pe&&(this._orientation=pe,this._calculateSpacerSize())}constructor(pe,at,Gt,nn,Wn,vi,sn,tn){super(pe,vi,Gt,Wn),this.elementRef=pe,this._changeDetectorRef=at,this._scrollStrategy=nn,this.scrollable=tn,this._platform=(0,A.WQX)(je.OD),this._detachedSubject=new w.B7,this._renderedRangeSubject=new w.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new C.c(xt=>this._scrollStrategy.scrolledIndexChange.subscribe(zt=>Promise.resolve().then(()=>this.ngZone.run(()=>xt.next(zt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=M.y.EMPTY,this._injector=(0,A.WQX)(A.zZn),this._isDestroyed=!1,this._viewportChanges=sn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,W.Z)(null),j(0,It),(0,se.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(pe){this.ngZone.runOutsideAngular(()=>{this._forOf=pe,this._forOf.dataStream.pipe((0,se.Q)(this._detachedSubject)).subscribe(at=>{const Gt=at.length;Gt!==this._dataLength&&(this._dataLength=Gt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(pe){return this.getElementRef().nativeElement.getBoundingClientRect()[pe]}setTotalContentSize(pe){this._totalContentSize!==pe&&(this._totalContentSize=pe,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(pe){(function vt(Z,Fe){return Z.start==Fe.start&&Z.end==Fe.end})(this._renderedRange,pe)||(this.appendOnly&&(pe={start:0,end:Math.max(this._renderedRange.end,pe.end)}),this._renderedRangeSubject.next(this._renderedRange=pe),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(pe,at="to-start"){pe=this.appendOnly&&"to-start"===at?0:pe;const nn="horizontal"==this.orientation,Wn=nn?"X":"Y";let sn=`translate${Wn}(${Number((nn&&this.dir&&"rtl"==this.dir.value?-1:1)*pe)}px)`;this._renderedContentOffset=pe,"to-end"===at&&(sn+=` translate${Wn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=sn&&(this._renderedContentTransform=sn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(pe,at="auto"){const Gt={behavior:at};"horizontal"===this.orientation?Gt.start=pe:Gt.top=pe,this.scrollable.scrollTo(Gt)}scrollToIndex(pe,at="auto"){this._scrollStrategy.scrollToIndex(pe,at)}measureScrollOffset(pe){let at;return at=this.scrollable==this?Gt=>super.measureScrollOffset(Gt):Gt=>this.scrollable.measureScrollOffset(Gt),Math.max(0,at(pe??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(pe){let at;const Wn="rtl"==this.dir?.value;at="start"==pe?Wn?"right":"left":"end"==pe?Wn?"left":"right":pe||("horizontal"===this.orientation?"left":"top");const vi=this.scrollable.measureBoundingClientRectWithScrollOffset(at);return this.elementRef.nativeElement.getBoundingClientRect()[at]-vi}measureRenderedContentSize(){const pe=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?pe.offsetWidth:pe.offsetHeight}measureRangeSize(pe){return this._forOf?this._forOf.measureRangeSize(pe,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(pe){pe&&this._runAfterChangeDetection.push(pe),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,A.mal)(()=>{this._isChangeDetectionPending=!1;const pe=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const at of pe)at()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(at){return new(at||Z)(A.rXU(A.aKT),A.rXU(A.gRc),A.rXU(A.SKi),A.rXU(Ve,8),A.rXU(oe.dS,8),A.rXU(Vt),A.rXU(ft),A.rXU(Re,8))};static#t=this.\u0275cmp=A.VBU({type:Z,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(at,Gt){if(1&at&&A.GBs(ve,7),2&at){let nn;A.mGM(nn=A.lsd())&&(Gt._contentWrapper=nn.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(at,Gt){2&at&&A.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Gt.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Gt.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",A.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[A.Jv_([{provide:Tt,useFactory:(pe,at)=>pe||at,deps:[[new A.Xx1,new A.y_5(Re)],Z]}]),A.GFd,A.Vt3,A.aNF],ngContentSelectors:Pe,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(at,Gt){1&at&&(A.NAR(),A.j41(0,"div",1,0),A.SdG(2),A.k0s(),A.nrm(3,"div",2)),2&at&&(A.R7$(3),A.xc7("width",Gt._totalContentWidth)("height",Gt._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return Z})();function st(Z,Fe,pe){if(!pe.getBoundingClientRect)return 0;const Gt=pe.getBoundingClientRect();return"horizontal"===Z?"start"===Fe?Gt.left:Gt.right:"start"===Fe?Gt.top:Gt.bottom}let Nt=(()=>{class Z{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(pe){this._cdkVirtualForOf=pe,(0,_e.y4)(pe)?this._dataSourceChanges.next(pe):this._dataSourceChanges.next(new _e.hx((0,L.A)(pe)?pe:Array.from(pe||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(pe){this._needsUpdate=!0,this._cdkVirtualForTrackBy=pe?(at,Gt)=>pe(at+(this._renderedRange?this._renderedRange.start:0),Gt):void 0}set cdkVirtualForTemplate(pe){pe&&(this._needsUpdate=!0,this._template=pe)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(pe){this._viewRepeater.viewCacheSize=(0,d.OE)(pe)}constructor(pe,at,Gt,nn,Wn,vi){this._viewContainerRef=pe,this._template=at,this._differs=Gt,this._viewRepeater=nn,this._viewport=Wn,this.viewChange=new w.B7,this._dataSourceChanges=new w.B7,this.dataStream=this._dataSourceChanges.pipe((0,W.Z)(null),function Q(){return Z=>Z.lift(new Me)}(),(0,yt.n)(([sn,tn])=>this._changeDataSource(sn,tn)),(0,Je.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new w.B7,this.dataStream.subscribe(sn=>{this._data=sn,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,se.Q)(this._destroyed)).subscribe(sn=>{this._renderedRange=sn,this.viewChange.observers.length&&vi.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(pe,at){if(pe.start>=pe.end)return 0;const Gt=pe.start-this._renderedRange.start,nn=pe.end-pe.start;let Wn,vi;for(let sn=0;sn<nn;sn++){const tn=this._viewContainerRef.get(sn+Gt);if(tn&&tn.rootNodes.length){Wn=vi=tn.rootNodes[0];break}}for(let sn=nn-1;sn>-1;sn--){const tn=this._viewContainerRef.get(sn+Gt);if(tn&&tn.rootNodes.length){vi=tn.rootNodes[tn.rootNodes.length-1];break}}return Wn&&vi?st(at,"end",vi)-st(at,"start",Wn):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const pe=this._differ.diff(this._renderedItems);pe?this._applyChanges(pe):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((pe,at)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(pe,at):at)),this._needsUpdate=!0)}_changeDataSource(pe,at){return pe&&pe.disconnect(this),this._needsUpdate=!0,at?at.connect(this):(0,D.of)()}_updateContext(){const pe=this._data.length;let at=this._viewContainerRef.length;for(;at--;){const Gt=this._viewContainerRef.get(at);Gt.context.index=this._renderedRange.start+at,Gt.context.count=pe,this._updateComputedContextProperties(Gt.context),Gt.detectChanges()}}_applyChanges(pe){this._viewRepeater.applyChanges(pe,this._viewContainerRef,(nn,Wn,vi)=>this._getEmbeddedViewArgs(nn,vi),nn=>nn.item),pe.forEachIdentityChange(nn=>{this._viewContainerRef.get(nn.currentIndex).context.$implicit=nn.item});const at=this._data.length;let Gt=this._viewContainerRef.length;for(;Gt--;){const nn=this._viewContainerRef.get(Gt);nn.context.index=this._renderedRange.start+Gt,nn.context.count=at,this._updateComputedContextProperties(nn.context)}}_updateComputedContextProperties(pe){pe.first=0===pe.index,pe.last=pe.index===pe.count-1,pe.even=pe.index%2==0,pe.odd=!pe.even}_getEmbeddedViewArgs(pe,at){return{templateRef:this._template,context:{$implicit:pe.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:at}}static#e=this.\u0275fac=function(at){return new(at||Z)(A.rXU(A.c1b),A.rXU(A.C4Q),A.rXU(A._q3),A.rXU(_e.sL),A.rXU(ot,4),A.rXU(A.SKi))};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[A.Jv_([{provide:_e.sL,useClass:_e.DQ}])]})}return Z})(),ct=(()=>{class Z{static#e=this.\u0275fac=function(at){return new(at||Z)};static#t=this.\u0275mod=A.$C({type:Z});static#n=this.\u0275inj=A.G2t({})}return Z})(),ut=(()=>{class Z{static#e=this.\u0275fac=function(at){return new(at||Z)};static#t=this.\u0275mod=A.$C({type:Z});static#n=this.\u0275inj=A.G2t({imports:[oe.jI,ct,oe.jI,ct]})}return Z})()},198:(dn,Ne,_)=>{"use strict";_.d(Ne,{AL:()=>Y,EZ:()=>ue,I8:()=>ve,L_:()=>j,N0:()=>Wn,RT:()=>ct,Rk:()=>Fe,To:()=>Xe,VP:()=>Q,Y$:()=>Ve,ZM:()=>ot,c7:()=>Ce,cO:()=>re,df:()=>oe,hc:()=>Qe,hi:()=>X,ki:()=>Gt,lH:()=>wt,lQ:()=>yt,n5:()=>we,oh:()=>_e,pe:()=>Ut,sY:()=>W,u4:()=>Pt,wA:()=>Pe,yT:()=>Nt});var d=_(3680),A=_(7989),w=_(7699),D=_(4053),C=_(316),S=_(7404),I=_(3119),E=_(521),y=_(6899),x=_(1536),$=_(7464);const R=[[["caption"]],[["colgroup"],["col"]],"*"],O=["caption","colgroup, col","*"];function M(sn,tn){1&sn&&S.SdG(0,2)}function L(sn,tn){1&sn&&(S.j41(0,"thead",0),S.eu8(1,1),S.k0s(),S.j41(2,"tbody",0),S.eu8(3,2)(4,3),S.k0s(),S.j41(5,"tfoot",0),S.eu8(6,4),S.k0s())}function z(sn,tn){1&sn&&S.eu8(0,1)(1,2)(2,3)(3,4)}function F(sn,tn){if(1&sn&&(S.j41(0,"th",3),S.EFF(1),S.k0s()),2&sn){const xt=S.XpG();S.xc7("text-align",xt.justify),S.R7$(),S.SpI(" ",xt.headerText," ")}}function J(sn,tn){if(1&sn&&(S.j41(0,"td",4),S.EFF(1),S.k0s()),2&sn){const xt=tn.$implicit,zt=S.XpG();S.xc7("text-align",zt.justify),S.R7$(),S.SpI(" ",zt.dataAccessor(xt,zt.name)," ")}}const ue=new S.nKC("CDK_TABLE"),ce=new S.nKC("text-column-options");let re=(()=>{class sn{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkCellDef",""]],standalone:!0})}return sn})(),we=(()=>{class sn{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return sn})(),j=(()=>{class sn{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return sn})(),Y=(()=>{class sn{get name(){return this._name}set name(xt){this._setNameInput(xt)}get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(xt){xt!==this._stickyEnd&&(this._stickyEnd=xt,this._hasStickyChanged=!0)}constructor(xt){this._table=xt,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(xt){xt&&(this._name=xt,this.cssClassFriendlyName=xt.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkColumnDef",""]],contentQueries:function(zt,$t,vn){if(1&zt&&(S.wni(vn,re,5),S.wni(vn,we,5),S.wni(vn,j,5)),2&zt){let Nn;S.mGM(Nn=S.lsd())&&($t.cell=Nn.first),S.mGM(Nn=S.lsd())&&($t.headerCell=Nn.first),S.mGM(Nn=S.lsd())&&($t.footerCell=Nn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",S.L39],stickyEnd:[2,"stickyEnd","stickyEnd",S.L39]},standalone:!0,features:[S.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:sn}]),S.GFd]})}return sn})();class se{constructor(tn,xt){xt.nativeElement.classList.add(...tn._columnCssClassName)}}let W=(()=>{class sn extends se{constructor(xt,zt){super(xt,zt)}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(Y),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[S.Vt3]})}return sn})(),Ce=(()=>{class sn extends se{constructor(xt,zt){super(xt,zt);const $t=xt._table?._getCellRole();$t&&zt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(Y),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[S.Vt3]})}return sn})(),Q=(()=>{class sn extends se{constructor(xt,zt){super(xt,zt);const $t=xt._table?._getCellRole();$t&&zt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(Y),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[S.Vt3]})}return sn})();class Me{constructor(){this.tasks=[],this.endTasks=[]}}const Xe=new S.nKC("_COALESCED_STYLE_SCHEDULER");let yt=(()=>{class sn{constructor(xt){this._currentSchedule=null,this._ngZone=(0,S.WQX)(S.SKi)}schedule(xt){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(xt)}scheduleEnd(xt){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(xt)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Me,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const xt=this._currentSchedule;this._currentSchedule=new Me;for(const zt of xt.tasks)zt();for(const zt of xt.endTasks)zt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.KVO(S.SKi))};static#t=this.\u0275prov=S.jDH({token:sn,factory:sn.\u0275fac})}return sn})(),je=(()=>{class sn{constructor(xt,zt){this.template=xt,this._differs=zt}ngOnChanges(xt){if(!this._columnsDiffer){const zt=xt.columns&&xt.columns.currentValue||[];this._columnsDiffer=this._differs.find(zt).create(),this._columnsDiffer.diff(zt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(xt){return this instanceof X?xt.headerCell.template:this instanceof oe?xt.footerCell.template:xt.cell.template}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q),S.rXU(S._q3))};static#t=this.\u0275dir=S.FsC({type:sn,features:[S.OA$]})}return sn})(),X=(()=>{class sn extends je{get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}constructor(xt,zt,$t){super(xt,zt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(xt){super.ngOnChanges(xt)}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",S.L39]},standalone:!0,features:[S.GFd,S.Vt3,S.OA$]})}return sn})(),oe=(()=>{class sn extends je{get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}constructor(xt,zt,$t){super(xt,zt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(xt){super.ngOnChanges(xt)}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",S.L39]},standalone:!0,features:[S.GFd,S.Vt3,S.OA$]})}return sn})(),_e=(()=>{class sn extends je{constructor(xt,zt,$t){super(xt,zt),this._table=$t}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[S.Vt3]})}return sn})(),ve=(()=>{class sn{static#e=this.mostRecentCellOutlet=null;constructor(xt){this._viewContainer=xt,sn.mostRecentCellOutlet=this}ngOnDestroy(){sn.mostRecentCellOutlet===this&&(sn.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.c1b))};static#n=this.\u0275dir=S.FsC({type:sn,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return sn})(),Pe=(()=>{class sn{static#e=this.\u0275fac=function(zt){return new(zt||sn)};static#t=this.\u0275cmp=S.VBU({type:sn,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ve],encapsulation:2})}return sn})(),Ve=(()=>{class sn{static#e=this.\u0275fac=function(zt){return new(zt||sn)};static#t=this.\u0275cmp=S.VBU({type:sn,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ve],encapsulation:2})}return sn})(),Qe=(()=>{class sn{static#e=this.\u0275fac=function(zt){return new(zt||sn)};static#t=this.\u0275cmp=S.VBU({type:sn,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ve],encapsulation:2})}return sn})(),Pt=(()=>{class sn{constructor(xt){this.templateRef=xt,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return sn})();const Se=["top","bottom","left","right"];class qt{constructor(tn,xt,zt,$t,vn=!0,Nn=!0,Ni){this._isNativeHtmlTable=tn,this._stickCellCss=xt,this.direction=zt,this._coalescedStyleScheduler=$t,this._isBrowser=vn,this._needsPositionStickyOnElement=Nn,this._positionListener=Ni,this._cachedCellWidths=[],this._borderCellCss={top:`${xt}-border-elem-top`,bottom:`${xt}-border-elem-bottom`,left:`${xt}-border-elem-left`,right:`${xt}-border-elem-right`}}clearStickyPositioning(tn,xt){const zt=[];for(const $t of tn)if($t.nodeType===$t.ELEMENT_NODE){zt.push($t);for(let vn=0;vn<$t.children.length;vn++)zt.push($t.children[vn])}this._coalescedStyleScheduler.schedule(()=>{for(const $t of zt)this._removeStickyStyle($t,xt)})}updateStickyColumns(tn,xt,zt,$t=!0){tn.length&&this._isBrowser&&(xt.some(vn=>vn)||zt.some(vn=>vn))?this._coalescedStyleScheduler.schedule(()=>{const vn=tn[0],Nn=vn.children.length,Ni=this._getCellWidths(vn,$t),Sn=this._getStickyStartColumnPositions(Ni,xt),Gn=this._getStickyEndColumnPositions(Ni,zt),En=xt.lastIndexOf(!0),Kn=zt.indexOf(!0),pt="rtl"===this.direction,$e=pt?"right":"left",We=pt?"left":"right";for(const Be of tn)for(let gt=0;gt<Nn;gt++){const Zt=Be.children[gt];xt[gt]&&this._addStickyStyle(Zt,$e,Sn[gt],gt===En),zt[gt]&&this._addStickyStyle(Zt,We,Gn[gt],gt===Kn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===En?[]:Ni.slice(0,En+1).map((Be,gt)=>xt[gt]?Be:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Kn?[]:Ni.slice(Kn).map((Be,gt)=>zt[gt+Kn]?Be:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(tn,xt,zt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const $t="bottom"===zt?tn.slice().reverse():tn,vn="bottom"===zt?xt.slice().reverse():xt,Nn=[],Ni=[],Sn=[];for(let En=0,Kn=0;En<$t.length;En++){if(!vn[En])continue;Nn[En]=Kn;const pt=$t[En];Sn[En]=this._isNativeHtmlTable?Array.from(pt.children):[pt];const $e=pt.getBoundingClientRect().height;Kn+=$e,Ni[En]=$e}const Gn=vn.lastIndexOf(!0);for(let En=0;En<$t.length;En++){if(!vn[En])continue;const Kn=Nn[En],pt=En===Gn;for(const $e of Sn[En])this._addStickyStyle($e,zt,Kn,pt)}"top"===zt?this._positionListener?.stickyHeaderRowsUpdated({sizes:Ni,offsets:Nn,elements:Sn}):this._positionListener?.stickyFooterRowsUpdated({sizes:Ni,offsets:Nn,elements:Sn})})}updateStickyFooterContainer(tn,xt){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const zt=tn.querySelector("tfoot");zt&&(xt.some($t=>!$t)?this._removeStickyStyle(zt,["bottom"]):this._addStickyStyle(zt,"bottom",0,!1))})}_removeStickyStyle(tn,xt){for(const $t of xt)tn.style[$t]="",tn.classList.remove(this._borderCellCss[$t]);Se.some($t=>-1===xt.indexOf($t)&&tn.style[$t])?tn.style.zIndex=this._getCalculatedZIndex(tn):(tn.style.zIndex="",this._needsPositionStickyOnElement&&(tn.style.position=""),tn.classList.remove(this._stickCellCss))}_addStickyStyle(tn,xt,zt,$t){tn.classList.add(this._stickCellCss),$t&&tn.classList.add(this._borderCellCss[xt]),tn.style[xt]=`${zt}px`,tn.style.zIndex=this._getCalculatedZIndex(tn),this._needsPositionStickyOnElement&&(tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(tn){const xt={top:100,bottom:10,left:1,right:1};let zt=0;for(const $t of Se)tn.style[$t]&&(zt+=xt[$t]);return zt?`${zt}`:""}_getCellWidths(tn,xt=!0){if(!xt&&this._cachedCellWidths.length)return this._cachedCellWidths;const zt=[],$t=tn.children;for(let vn=0;vn<$t.length;vn++)zt.push($t[vn].getBoundingClientRect().width);return this._cachedCellWidths=zt,zt}_getStickyStartColumnPositions(tn,xt){const zt=[];let $t=0;for(let vn=0;vn<tn.length;vn++)xt[vn]&&(zt[vn]=$t,$t+=tn[vn]);return zt}_getStickyEndColumnPositions(tn,xt){const zt=[];let $t=0;for(let vn=tn.length;vn>0;vn--)xt[vn]&&(zt[vn]=$t,$t+=tn[vn]);return zt}}const ot=new S.nKC("CDK_SPL");let Nt=(()=>{class sn{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._rowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","rowOutlet",""]],standalone:!0})}return sn})(),Ut=(()=>{class sn{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._headerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","headerRowOutlet",""]],standalone:!0})}return sn})(),wt=(()=>{class sn{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._footerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","footerRowOutlet",""]],standalone:!0})}return sn})(),ct=(()=>{class sn{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._noDataRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:sn,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return sn})(),Fe=(()=>{class sn{_getCellRole(){if(void 0===this._cellRoleInternal){const xt=this._elementRef.nativeElement.getAttribute("role"),zt="grid"===xt||"treegrid"===xt?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===zt?null:zt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(xt){this._trackByFn=xt}get dataSource(){return this._dataSource}set dataSource(xt){this._dataSource!==xt&&this._switchDataSource(xt)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(xt){this._multiTemplateDataRows=xt,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(xt){this._fixedLayout=xt,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(xt,zt,$t,vn,Nn,Ni,Sn,Gn,En,Kn,pt,$e){this._differs=xt,this._changeDetectorRef=zt,this._elementRef=$t,this._dir=Nn,this._platform=Sn,this._viewRepeater=Gn,this._coalescedStyleScheduler=En,this._viewportRuler=Kn,this._stickyPositioningListener=pt,this._onDestroy=new I.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new S.bkB,this.viewChange=new E.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,S.WQX)(S.zZn),vn||$t.nativeElement.setAttribute("role","table"),this._document=Ni,this._isServer=!Sn.isBrowser,this._isNativeHtmlTable="TABLE"===$t.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((xt,zt)=>this.trackBy?this.trackBy(zt.dataIndex,zt.data):zt),this._viewportRuler.change().pipe((0,$.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(xt=>{xt?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,A.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const xt=this._dataDiffer.diff(this._renderRows);if(!xt)return this._updateNoDataRow(),void this.contentChanged.next();const zt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(xt,zt,($t,vn,Nn)=>this._getEmbeddedViewArgs($t.item,Nn),$t=>$t.item.data,$t=>{$t.operation===A.Q3.INSERTED&&$t.context&&this._renderCellTemplateForItem($t.record.item.rowDef,$t.context)}),this._updateRowIndexContext(),xt.forEachIdentityChange($t=>{zt.get($t.currentIndex).context.$implicit=$t.item.data}),this._updateNoDataRow(),(0,S.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(xt){this._customColumnDefs.add(xt)}removeColumnDef(xt){this._customColumnDefs.delete(xt)}addRowDef(xt){this._customRowDefs.add(xt)}removeRowDef(xt){this._customRowDefs.delete(xt)}addHeaderRowDef(xt){this._customHeaderRowDefs.add(xt),this._headerRowDefChanged=!0}removeHeaderRowDef(xt){this._customHeaderRowDefs.delete(xt),this._headerRowDefChanged=!0}addFooterRowDef(xt){this._customFooterRowDefs.add(xt),this._footerRowDefChanged=!0}removeFooterRowDef(xt){this._customFooterRowDefs.delete(xt),this._footerRowDefChanged=!0}setNoDataRow(xt){this._customNoDataRow=xt}updateStickyHeaderRowStyles(){const xt=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const $t=at(this._headerRowOutlet,"thead");$t&&($t.style.display=xt.length?"":"none")}const zt=this._headerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(xt,["top"]),this._stickyStyler.stickRows(xt,zt,"top"),this._headerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyFooterRowStyles(){const xt=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const $t=at(this._footerRowOutlet,"tfoot");$t&&($t.style.display=xt.length?"":"none")}const zt=this._footerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(xt,["bottom"]),this._stickyStyler.stickRows(xt,zt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,zt),this._footerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyColumnStyles(){const xt=this._getRenderedRows(this._headerRowOutlet),zt=this._getRenderedRows(this._rowOutlet),$t=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...xt,...zt,...$t],["left","right"]),this._stickyColumnStylesNeedReset=!1),xt.forEach((vn,Nn)=>{this._addStickyColumnStyles([vn],this._headerRowDefs[Nn])}),this._rowDefs.forEach(vn=>{const Nn=[];for(let Ni=0;Ni<zt.length;Ni++)this._renderRows[Ni].rowDef===vn&&Nn.push(zt[Ni]);this._addStickyColumnStyles(Nn,vn)}),$t.forEach((vn,Nn)=>{this._addStickyColumnStyles([vn],this._footerRowDefs[Nn])}),Array.from(this._columnDefsByName.values()).forEach(vn=>vn.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const zt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||zt,this._forceRecalculateCellWidths=zt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const xt=[],zt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let $t=0;$t<this._data.length;$t++){let vn=this._data[$t];const Nn=this._getRenderRowsForData(vn,$t,zt.get(vn));this._cachedRenderRowsMap.has(vn)||this._cachedRenderRowsMap.set(vn,new WeakMap);for(let Ni=0;Ni<Nn.length;Ni++){let Sn=Nn[Ni];const Gn=this._cachedRenderRowsMap.get(Sn.data);Gn.has(Sn.rowDef)?Gn.get(Sn.rowDef).push(Sn):Gn.set(Sn.rowDef,[Sn]),xt.push(Sn)}}return xt}_getRenderRowsForData(xt,zt,$t){return this._getRowDefs(xt,zt).map(Nn=>{const Ni=$t&&$t.has(Nn)?$t.get(Nn):[];if(Ni.length){const Sn=Ni.shift();return Sn.dataIndex=zt,Sn}return{data:xt,rowDef:Nn,dataIndex:zt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),pe(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(zt=>{this._columnDefsByName.has(zt.name),this._columnDefsByName.set(zt.name,zt)})}_cacheRowDefs(){this._headerRowDefs=pe(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=pe(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=pe(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const xt=this._rowDefs.filter(zt=>!zt.when);this._defaultRowDef=xt[0]}_renderUpdatedColumns(){const xt=(Nn,Ni)=>Nn||!!Ni.getColumnsDiff(),zt=this._rowDefs.reduce(xt,!1);zt&&this._forceRenderDataRows();const $t=this._headerRowDefs.reduce(xt,!1);$t&&this._forceRenderHeaderRows();const vn=this._footerRowDefs.reduce(xt,!1);return vn&&this._forceRenderFooterRows(),zt||$t||vn}_switchDataSource(xt){this._data=[],(0,A.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),xt||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=xt}_observeRenderChanges(){if(!this.dataSource)return;let xt;(0,A.y4)(this.dataSource)?xt=this.dataSource.connect(this):(0,y.A)(this.dataSource)?xt=this.dataSource:Array.isArray(this.dataSource)&&(xt=(0,x.of)(this.dataSource)),this._renderChangeSubscription=xt.pipe((0,$.Q)(this._onDestroy)).subscribe(zt=>{this._data=zt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((xt,zt)=>this._renderRow(this._headerRowOutlet,xt,zt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((xt,zt)=>this._renderRow(this._footerRowOutlet,xt,zt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(xt,zt){const $t=Array.from(zt.columns||[]).map(Ni=>this._columnDefsByName.get(Ni)),vn=$t.map(Ni=>Ni.sticky),Nn=$t.map(Ni=>Ni.stickyEnd);this._stickyStyler.updateStickyColumns(xt,vn,Nn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(xt){const zt=[];for(let $t=0;$t<xt.viewContainer.length;$t++){const vn=xt.viewContainer.get($t);zt.push(vn.rootNodes[0])}return zt}_getRowDefs(xt,zt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let $t=[];if(this.multiTemplateDataRows)$t=this._rowDefs.filter(vn=>!vn.when||vn.when(zt,xt));else{let vn=this._rowDefs.find(Nn=>Nn.when&&Nn.when(zt,xt))||this._defaultRowDef;vn&&$t.push(vn)}return $t}_getEmbeddedViewArgs(xt,zt){return{templateRef:xt.rowDef.template,context:{$implicit:xt.data},index:zt}}_renderRow(xt,zt,$t,vn={}){const Nn=xt.viewContainer.createEmbeddedView(zt.template,vn,$t);return this._renderCellTemplateForItem(zt,vn),Nn}_renderCellTemplateForItem(xt,zt){for(let $t of this._getCellTemplates(xt))ve.mostRecentCellOutlet&&ve.mostRecentCellOutlet._viewContainer.createEmbeddedView($t,zt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const xt=this._rowOutlet.viewContainer;for(let zt=0,$t=xt.length;zt<$t;zt++){const Nn=xt.get(zt).context;Nn.count=$t,Nn.first=0===zt,Nn.last=zt===$t-1,Nn.even=zt%2==0,Nn.odd=!Nn.even,this.multiTemplateDataRows?(Nn.dataIndex=this._renderRows[zt].dataIndex,Nn.renderIndex=zt):Nn.index=this._renderRows[zt].dataIndex}}_getCellTemplates(xt){return xt&&xt.columns?Array.from(xt.columns,zt=>{const $t=this._columnDefsByName.get(zt);return xt.extractCellTemplate($t)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const xt=(zt,$t)=>zt||$t.hasStickyChanged();this._headerRowDefs.reduce(xt,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(xt,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(xt,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new qt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,x.of)()).pipe((0,$.Q)(this._onDestroy)).subscribe(zt=>{this._stickyStyler.direction=zt,this.updateStickyColumnStyles()})}_getOwnDefs(xt){return xt.filter(zt=>!zt._table||zt._table===this)}_updateNoDataRow(){const xt=this._customNoDataRow||this._noDataRow;if(!xt)return;const zt=0===this._rowOutlet.viewContainer.length;if(zt===this._isShowingNoDataRow)return;const $t=this._noDataRowOutlet.viewContainer;if(zt){const vn=$t.createEmbeddedView(xt.templateRef),Nn=vn.rootNodes[0];1===vn.rootNodes.length&&Nn?.nodeType===this._document.ELEMENT_NODE&&(Nn.setAttribute("role","row"),Nn.classList.add(xt._contentClassName))}else $t.clear();this._isShowingNoDataRow=zt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(S._q3),S.rXU(S.gRc),S.rXU(S.aKT),S.kS0("role"),S.rXU(d.dS,8),S.rXU(C.qQ),S.rXU(w.OD),S.rXU(A.sL),S.rXU(Xe),S.rXU(D.Xj),S.rXU(ot,12),S.rXU(S.SKi,8))};static#t=this.\u0275cmp=S.VBU({type:sn,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(zt,$t,vn){if(1&zt&&(S.wni(vn,Pt,5),S.wni(vn,Y,5),S.wni(vn,_e,5),S.wni(vn,X,5),S.wni(vn,oe,5)),2&zt){let Nn;S.mGM(Nn=S.lsd())&&($t._noDataRow=Nn.first),S.mGM(Nn=S.lsd())&&($t._contentColumnDefs=Nn),S.mGM(Nn=S.lsd())&&($t._contentRowDefs=Nn),S.mGM(Nn=S.lsd())&&($t._contentHeaderRowDefs=Nn),S.mGM(Nn=S.lsd())&&($t._contentFooterRowDefs=Nn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(zt,$t){2&zt&&S.AVh("cdk-table-fixed-layout",$t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",S.L39],fixedLayout:[2,"fixedLayout","fixedLayout",S.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[S.Jv_([{provide:ue,useExisting:sn},{provide:A.sL,useClass:A.xn},{provide:Xe,useClass:yt},{provide:ot,useValue:null}]),S.GFd,S.aNF],ngContentSelectors:O,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(zt,$t){1&zt&&(S.NAR(R),S.SdG(0),S.SdG(1,1),S.DNE(2,M,1,0)(3,L,7,0)(4,z,4,0)),2&zt&&(S.R7$(2),S.vxM($t._isServer?2:-1),S.R7$(),S.vxM($t._isNativeHtmlTable?3:4))},dependencies:[Ut,Nt,ct,wt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return sn})();function pe(sn,tn){return sn.concat(Array.from(tn))}function at(sn,tn){const xt=tn.toUpperCase();let zt=sn.viewContainer.element.nativeElement;for(;zt;){const $t=1===zt.nodeType?zt.nodeName:null;if($t===xt)return zt;if("TABLE"===$t)break;zt=zt.parentNode}return null}let Gt=(()=>{class sn{get name(){return this._name}set name(xt){this._name=xt,this._syncColumnDefName()}constructor(xt,zt){this._table=xt,this._options=zt,this.justify="start",this._options=zt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((xt,zt)=>xt[zt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const xt=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(xt):xt[0].toUpperCase()+xt.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(zt){return new(zt||sn)(S.rXU(Fe,8),S.rXU(ce,8))};static#t=this.\u0275cmp=S.VBU({type:sn,selectors:[["cdk-text-column"]],viewQuery:function(zt,$t){if(1&zt&&(S.GBs(Y,7),S.GBs(re,7),S.GBs(we,7)),2&zt){let vn;S.mGM(vn=S.lsd())&&($t.columnDef=vn.first),S.mGM(vn=S.lsd())&&($t.cell=vn.first),S.mGM(vn=S.lsd())&&($t.headerCell=vn.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[S.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(zt,$t){1&zt&&(S.qex(0,0),S.DNE(1,F,2,3,"th",1)(2,J,2,3,"td",2),S.bVm())},dependencies:[Y,we,W,re,Q],encapsulation:2})}return sn})(),Wn=(()=>{class sn{static#e=this.\u0275fac=function(zt){return new(zt||sn)};static#t=this.\u0275mod=S.$C({type:sn});static#n=this.\u0275inj=S.G2t({imports:[D.E9]})}return sn})()},316:(dn,Ne,_)=>{"use strict";_.d(Ne,{AJ:()=>wo,Jj:()=>Ga,MD:()=>bo,N0:()=>Xa,OI:()=>ii,P9:()=>Po,QT:()=>w,Sm:()=>z,Sq:()=>ne,T3:()=>Ss,UE:()=>Go,VF:()=>C,Vy:()=>Il,Xr:()=>Ar,YU:()=>ji,ZD:()=>D,_b:()=>Yi,aZ:()=>J,bT:()=>kt,e1:()=>kr,fG:()=>Lr,fw:()=>F,hb:()=>M,hj:()=>y,oe:()=>Gs,qQ:()=>I,ux:()=>lr,vh:()=>Ra});var d=_(7404);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let A=null;function w(){return A}function D(Ee){A??=Ee}class C{}const I=new d.nKC("");let E=(()=>{class Ee{historyGo(Ue){throw new Error("")}static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275prov=d.jDH({token:Ee,factory:()=>(0,d.WQX)(x),providedIn:"platform"})}return Ee})();const y=new d.nKC("");let x=(()=>{class Ee extends E{constructor(){super(),this._doc=(0,d.WQX)(I),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(Ue){const _t=w().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("popstate",Ue,!1),()=>_t.removeEventListener("popstate",Ue)}onHashChange(Ue){const _t=w().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("hashchange",Ue,!1),()=>_t.removeEventListener("hashchange",Ue)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ue){this._location.pathname=Ue}pushState(Ue,_t,on){this._history.pushState(Ue,_t,on)}replaceState(Ue,_t,on){this._history.replaceState(Ue,_t,on)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ue=0){this._history.go(Ue)}getState(){return this._history.state}static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275prov=d.jDH({token:Ee,factory:()=>new Ee,providedIn:"platform"})}return Ee})();function $(Ee,Dt){if(0==Ee.length)return Dt;if(0==Dt.length)return Ee;let Ue=0;return Ee.endsWith("/")&&Ue++,Dt.startsWith("/")&&Ue++,2==Ue?Ee+Dt.substring(1):1==Ue?Ee+Dt:Ee+"/"+Dt}function R(Ee){const Dt=Ee.match(/#|\?|$/),Ue=Dt&&Dt.index||Ee.length;return Ee.slice(0,Ue-("/"===Ee[Ue-1]?1:0))+Ee.slice(Ue)}function O(Ee){return Ee&&"?"!==Ee[0]?"?"+Ee:Ee}let M=(()=>{class Ee{historyGo(Ue){throw new Error("")}static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275prov=d.jDH({token:Ee,factory:()=>(0,d.WQX)(z),providedIn:"root"})}return Ee})();const L=new d.nKC("");let z=(()=>{class Ee extends M{constructor(Ue,_t){super(),this._platformLocation=Ue,this._removeListenerFns=[],this._baseHref=_t??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(I).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ue){this._removeListenerFns.push(this._platformLocation.onPopState(Ue),this._platformLocation.onHashChange(Ue))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ue){return $(this._baseHref,Ue)}path(Ue=!1){const _t=this._platformLocation.pathname+O(this._platformLocation.search),on=this._platformLocation.hash;return on&&Ue?`${_t}${on}`:_t}pushState(Ue,_t,on,jn){const li=this.prepareExternalUrl(on+O(jn));this._platformLocation.pushState(Ue,_t,li)}replaceState(Ue,_t,on,jn){const li=this.prepareExternalUrl(on+O(jn));this._platformLocation.replaceState(Ue,_t,li)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ue=0){this._platformLocation.historyGo?.(Ue)}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.KVO(E),d.KVO(L,8))};static#t=this.\u0275prov=d.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),F=(()=>{class Ee extends M{constructor(Ue,_t){super(),this._platformLocation=Ue,this._baseHref="",this._removeListenerFns=[],null!=_t&&(this._baseHref=_t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ue){this._removeListenerFns.push(this._platformLocation.onPopState(Ue),this._platformLocation.onHashChange(Ue))}getBaseHref(){return this._baseHref}path(Ue=!1){const _t=this._platformLocation.hash??"#";return _t.length>0?_t.substring(1):_t}prepareExternalUrl(Ue){const _t=$(this._baseHref,Ue);return _t.length>0?"#"+_t:_t}pushState(Ue,_t,on,jn){let li=this.prepareExternalUrl(on+O(jn));0==li.length&&(li=this._platformLocation.pathname),this._platformLocation.pushState(Ue,_t,li)}replaceState(Ue,_t,on,jn){let li=this.prepareExternalUrl(on+O(jn));0==li.length&&(li=this._platformLocation.pathname),this._platformLocation.replaceState(Ue,_t,li)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ue=0){this._platformLocation.historyGo?.(Ue)}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.KVO(E),d.KVO(L,8))};static#t=this.\u0275prov=d.jDH({token:Ee,factory:Ee.\u0275fac})}return Ee})(),J=(()=>{class Ee{constructor(Ue){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ue;const _t=this._locationStrategy.getBaseHref();this._basePath=function we(Ee){if(new RegExp("^(https?:)?//").test(Ee)){const[,Ue]=Ee.split(/\/\/[^\/]+/);return Ue}return Ee}(R(re(_t))),this._locationStrategy.onPopState(on=>{this._subject.emit({url:this.path(!0),pop:!0,state:on.state,type:on.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ue=!1){return this.normalize(this._locationStrategy.path(Ue))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ue,_t=""){return this.path()==this.normalize(Ue+O(_t))}normalize(Ue){return Ee.stripTrailingSlash(function ce(Ee,Dt){if(!Ee||!Dt.startsWith(Ee))return Dt;const Ue=Dt.substring(Ee.length);return""===Ue||["/",";","?","#"].includes(Ue[0])?Ue:Dt}(this._basePath,re(Ue)))}prepareExternalUrl(Ue){return Ue&&"/"!==Ue[0]&&(Ue="/"+Ue),this._locationStrategy.prepareExternalUrl(Ue)}go(Ue,_t="",on=null){this._locationStrategy.pushState(on,"",Ue,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ue+O(_t)),on)}replaceState(Ue,_t="",on=null){this._locationStrategy.replaceState(on,"",Ue,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ue+O(_t)),on)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ue=0){this._locationStrategy.historyGo?.(Ue)}onUrlChange(Ue){return this._urlChangeListeners.push(Ue),this._urlChangeSubscription??=this.subscribe(_t=>{this._notifyUrlChangeListeners(_t.url,_t.state)}),()=>{const _t=this._urlChangeListeners.indexOf(Ue);this._urlChangeListeners.splice(_t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ue="",_t){this._urlChangeListeners.forEach(on=>on(Ue,_t))}subscribe(Ue,_t,on){return this._subject.subscribe({next:Ue,error:_t,complete:on})}static#e=this.normalizeQueryParams=O;static#t=this.joinWithSlash=$;static#n=this.stripTrailingSlash=R;static#i=this.\u0275fac=function(_t){return new(_t||Ee)(d.KVO(M))};static#r=this.\u0275prov=d.jDH({token:Ee,factory:()=>function ue(){return new J((0,d.KVO)(M))}(),providedIn:"root"})}return Ee})();function re(Ee){return Ee.replace(/\/index.html$/,"")}const j={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Y=function(Ee){return Ee[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee}(Y||{}),W=function(Ee){return Ee[Ee.Format=0]="Format",Ee[Ee.Standalone=1]="Standalone",Ee}(W||{}),Ce=function(Ee){return Ee[Ee.Narrow=0]="Narrow",Ee[Ee.Abbreviated=1]="Abbreviated",Ee[Ee.Wide=2]="Wide",Ee[Ee.Short=3]="Short",Ee}(Ce||{}),Q=function(Ee){return Ee[Ee.Short=0]="Short",Ee[Ee.Medium=1]="Medium",Ee[Ee.Long=2]="Long",Ee[Ee.Full=3]="Full",Ee}(Q||{});const Me={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Pe(Ee,Dt){return ot((0,d.H5H)(Ee)[d.KH2.DateFormat],Dt)}function Ve(Ee,Dt){return ot((0,d.H5H)(Ee)[d.KH2.TimeFormat],Dt)}function Qe(Ee,Dt){return ot((0,d.H5H)(Ee)[d.KH2.DateTimeFormat],Dt)}function Pt(Ee,Dt){const Ue=(0,d.H5H)(Ee),_t=Ue[d.KH2.NumberSymbols][Dt];if(typeof _t>"u"){if(Dt===Me.CurrencyDecimal)return Ue[d.KH2.NumberSymbols][Me.Decimal];if(Dt===Me.CurrencyGroup)return Ue[d.KH2.NumberSymbols][Me.Group]}return _t}function Re(Ee){if(!Ee[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ee[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ot(Ee,Dt){for(let Ue=Dt;Ue>-1;Ue--)if(typeof Ee[Ue]<"u")return Ee[Ue];throw new Error("Locale data API: locale data undefined")}function st(Ee){const[Dt,Ue]=Ee.split(":");return{hours:+Dt,minutes:+Ue}}const ct=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ut={},Z=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fe=function(Ee){return Ee[Ee.Short=0]="Short",Ee[Ee.ShortGMT=1]="ShortGMT",Ee[Ee.Long=2]="Long",Ee[Ee.Extended=3]="Extended",Ee}(Fe||{}),pe=function(Ee){return Ee[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee}(pe||{}),at=function(Ee){return Ee[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee}(at||{});function Gt(Ee,Dt,Ue,_t){let on=function gn(Ee){if(Te(Ee))return Ee;if("number"==typeof Ee&&!isNaN(Ee))return new Date(Ee);if("string"==typeof Ee){if(Ee=Ee.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ee)){const[on,jn=1,li=1]=Ee.split("-").map(Ui=>+Ui);return nn(on,jn-1,li)}const Ue=parseFloat(Ee);if(!isNaN(Ee-Ue))return new Date(Ue);let _t;if(_t=Ee.match(ct))return function lt(Ee){const Dt=new Date(0);let Ue=0,_t=0;const on=Ee[8]?Dt.setUTCFullYear:Dt.setFullYear,jn=Ee[8]?Dt.setUTCHours:Dt.setHours;Ee[9]&&(Ue=Number(Ee[9]+Ee[10]),_t=Number(Ee[9]+Ee[11])),on.call(Dt,Number(Ee[1]),Number(Ee[2])-1,Number(Ee[3]));const li=Number(Ee[4]||0)-Ue,Ui=Number(Ee[5]||0)-_t,Fs=Number(Ee[6]||0),Yr=Math.floor(1e3*parseFloat("0."+(Ee[7]||0)));return jn.call(Dt,li,Ui,Fs,Yr),Dt}(_t)}const Dt=new Date(Ee);if(!Te(Dt))throw new Error(`Unable to convert "${Ee}" into a date`);return Dt}(Ee);Dt=Wn(Ue,Dt)||Dt;let Ui,li=[];for(;Dt;){if(Ui=Z.exec(Dt),!Ui){li.push(Dt);break}{li=li.concat(Ui.slice(1));const ts=li.pop();if(!ts)break;Dt=ts}}let Fs=on.getTimezoneOffset();_t&&(Fs=Be(_t,Fs),on=function Zt(Ee,Dt,Ue){const _t=Ue?-1:1,on=Ee.getTimezoneOffset();return function gt(Ee,Dt){return(Ee=new Date(Ee.getTime())).setMinutes(Ee.getMinutes()+Dt),Ee}(Ee,_t*(Be(Dt,on)-on))}(on,_t,!0));let Yr="";return li.forEach(ts=>{const wi=function We(Ee){if($e[Ee])return $e[Ee];let Dt;switch(Ee){case"G":case"GG":case"GGG":Dt=$t(at.Eras,Ce.Abbreviated);break;case"GGGG":Dt=$t(at.Eras,Ce.Wide);break;case"GGGGG":Dt=$t(at.Eras,Ce.Narrow);break;case"y":Dt=xt(pe.FullYear,1,0,!1,!0);break;case"yy":Dt=xt(pe.FullYear,2,0,!0,!0);break;case"yyy":Dt=xt(pe.FullYear,3,0,!1,!0);break;case"yyyy":Dt=xt(pe.FullYear,4,0,!1,!0);break;case"Y":Dt=pt(1);break;case"YY":Dt=pt(2,!0);break;case"YYY":Dt=pt(3);break;case"YYYY":Dt=pt(4);break;case"M":case"L":Dt=xt(pe.Month,1,1);break;case"MM":case"LL":Dt=xt(pe.Month,2,1);break;case"MMM":Dt=$t(at.Months,Ce.Abbreviated);break;case"MMMM":Dt=$t(at.Months,Ce.Wide);break;case"MMMMM":Dt=$t(at.Months,Ce.Narrow);break;case"LLL":Dt=$t(at.Months,Ce.Abbreviated,W.Standalone);break;case"LLLL":Dt=$t(at.Months,Ce.Wide,W.Standalone);break;case"LLLLL":Dt=$t(at.Months,Ce.Narrow,W.Standalone);break;case"w":Dt=Kn(1);break;case"ww":Dt=Kn(2);break;case"W":Dt=Kn(1,!0);break;case"d":Dt=xt(pe.Date,1);break;case"dd":Dt=xt(pe.Date,2);break;case"c":case"cc":Dt=xt(pe.Day,1);break;case"ccc":Dt=$t(at.Days,Ce.Abbreviated,W.Standalone);break;case"cccc":Dt=$t(at.Days,Ce.Wide,W.Standalone);break;case"ccccc":Dt=$t(at.Days,Ce.Narrow,W.Standalone);break;case"cccccc":Dt=$t(at.Days,Ce.Short,W.Standalone);break;case"E":case"EE":case"EEE":Dt=$t(at.Days,Ce.Abbreviated);break;case"EEEE":Dt=$t(at.Days,Ce.Wide);break;case"EEEEE":Dt=$t(at.Days,Ce.Narrow);break;case"EEEEEE":Dt=$t(at.Days,Ce.Short);break;case"a":case"aa":case"aaa":Dt=$t(at.DayPeriods,Ce.Abbreviated);break;case"aaaa":Dt=$t(at.DayPeriods,Ce.Wide);break;case"aaaaa":Dt=$t(at.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":Dt=$t(at.DayPeriods,Ce.Abbreviated,W.Standalone,!0);break;case"bbbb":Dt=$t(at.DayPeriods,Ce.Wide,W.Standalone,!0);break;case"bbbbb":Dt=$t(at.DayPeriods,Ce.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":Dt=$t(at.DayPeriods,Ce.Abbreviated,W.Format,!0);break;case"BBBB":Dt=$t(at.DayPeriods,Ce.Wide,W.Format,!0);break;case"BBBBB":Dt=$t(at.DayPeriods,Ce.Narrow,W.Format,!0);break;case"h":Dt=xt(pe.Hours,1,-12);break;case"hh":Dt=xt(pe.Hours,2,-12);break;case"H":Dt=xt(pe.Hours,1);break;case"HH":Dt=xt(pe.Hours,2);break;case"m":Dt=xt(pe.Minutes,1);break;case"mm":Dt=xt(pe.Minutes,2);break;case"s":Dt=xt(pe.Seconds,1);break;case"ss":Dt=xt(pe.Seconds,2);break;case"S":Dt=xt(pe.FractionalSeconds,1);break;case"SS":Dt=xt(pe.FractionalSeconds,2);break;case"SSS":Dt=xt(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Dt=Nn(Fe.Short);break;case"ZZZZZ":Dt=Nn(Fe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Dt=Nn(Fe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Dt=Nn(Fe.Long);break;default:return null}return $e[Ee]=Dt,Dt}(ts);Yr+=wi?wi(on,Ue,Fs):"''"===ts?"'":ts.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yr}function nn(Ee,Dt,Ue){const _t=new Date(0);return _t.setFullYear(Ee,Dt,Ue),_t.setHours(0,0,0),_t}function Wn(Ee,Dt){const Ue=function yt(Ee){return(0,d.H5H)(Ee)[d.KH2.LocaleId]}(Ee);if(ut[Ue]??={},ut[Ue][Dt])return ut[Ue][Dt];let _t="";switch(Dt){case"shortDate":_t=Pe(Ee,Q.Short);break;case"mediumDate":_t=Pe(Ee,Q.Medium);break;case"longDate":_t=Pe(Ee,Q.Long);break;case"fullDate":_t=Pe(Ee,Q.Full);break;case"shortTime":_t=Ve(Ee,Q.Short);break;case"mediumTime":_t=Ve(Ee,Q.Medium);break;case"longTime":_t=Ve(Ee,Q.Long);break;case"fullTime":_t=Ve(Ee,Q.Full);break;case"short":const on=Wn(Ee,"shortTime"),jn=Wn(Ee,"shortDate");_t=vi(Qe(Ee,Q.Short),[on,jn]);break;case"medium":const li=Wn(Ee,"mediumTime"),Ui=Wn(Ee,"mediumDate");_t=vi(Qe(Ee,Q.Medium),[li,Ui]);break;case"long":const Fs=Wn(Ee,"longTime"),Yr=Wn(Ee,"longDate");_t=vi(Qe(Ee,Q.Long),[Fs,Yr]);break;case"full":const ts=Wn(Ee,"fullTime"),wi=Wn(Ee,"fullDate");_t=vi(Qe(Ee,Q.Full),[ts,wi])}return _t&&(ut[Ue][Dt]=_t),_t}function vi(Ee,Dt){return Dt&&(Ee=Ee.replace(/\{([^}]+)}/g,function(Ue,_t){return null!=Dt&&_t in Dt?Dt[_t]:Ue})),Ee}function sn(Ee,Dt,Ue="-",_t,on){let jn="";(Ee<0||on&&Ee<=0)&&(on?Ee=1-Ee:(Ee=-Ee,jn=Ue));let li=String(Ee);for(;li.length<Dt;)li="0"+li;return _t&&(li=li.slice(li.length-Dt)),jn+li}function xt(Ee,Dt,Ue=0,_t=!1,on=!1){return function(jn,li){let Ui=function zt(Ee,Dt){switch(Ee){case pe.FullYear:return Dt.getFullYear();case pe.Month:return Dt.getMonth();case pe.Date:return Dt.getDate();case pe.Hours:return Dt.getHours();case pe.Minutes:return Dt.getMinutes();case pe.Seconds:return Dt.getSeconds();case pe.FractionalSeconds:return Dt.getMilliseconds();case pe.Day:return Dt.getDay();default:throw new Error(`Unknown DateType value "${Ee}".`)}}(Ee,jn);if((Ue>0||Ui>-Ue)&&(Ui+=Ue),Ee===pe.Hours)0===Ui&&-12===Ue&&(Ui=12);else if(Ee===pe.FractionalSeconds)return function tn(Ee,Dt){return sn(Ee,3).substring(0,Dt)}(Ui,Dt);const Fs=Pt(li,Me.MinusSign);return sn(Ui,Dt,Fs,_t,on)}}function $t(Ee,Dt,Ue=W.Format,_t=!1){return function(on,jn){return function vn(Ee,Dt,Ue,_t,on,jn){switch(Ue){case at.Months:return function X(Ee,Dt,Ue){const _t=(0,d.H5H)(Ee),jn=ot([_t[d.KH2.MonthsFormat],_t[d.KH2.MonthsStandalone]],Dt);return ot(jn,Ue)}(Dt,on,_t)[Ee.getMonth()];case at.Days:return function je(Ee,Dt,Ue){const _t=(0,d.H5H)(Ee),jn=ot([_t[d.KH2.DaysFormat],_t[d.KH2.DaysStandalone]],Dt);return ot(jn,Ue)}(Dt,on,_t)[Ee.getDay()];case at.DayPeriods:const li=Ee.getHours(),Ui=Ee.getMinutes();if(jn){const Yr=function Ye(Ee){const Dt=(0,d.H5H)(Ee);return Re(Dt),(Dt[d.KH2.ExtraData][2]||[]).map(_t=>"string"==typeof _t?st(_t):[st(_t[0]),st(_t[1])])}(Dt),ts=function vt(Ee,Dt,Ue){const _t=(0,d.H5H)(Ee);Re(_t);const jn=ot([_t[d.KH2.ExtraData][0],_t[d.KH2.ExtraData][1]],Dt)||[];return ot(jn,Ue)||[]}(Dt,on,_t),wi=Yr.findIndex(eo=>{if(Array.isArray(eo)){const[js,uo]=eo,Vl=li>=js.hours&&Ui>=js.minutes,xl=li<uo.hours||li===uo.hours&&Ui<uo.minutes;if(js.hours<uo.hours){if(Vl&&xl)return!0}else if(Vl||xl)return!0}else if(eo.hours===li&&eo.minutes===Ui)return!0;return!1});if(-1!==wi)return ts[wi]}return function Je(Ee,Dt,Ue){const _t=(0,d.H5H)(Ee),jn=ot([_t[d.KH2.DayPeriodsFormat],_t[d.KH2.DayPeriodsStandalone]],Dt);return ot(jn,Ue)}(Dt,on,_t)[li<12?0:1];case at.Eras:return function oe(Ee,Dt){return ot((0,d.H5H)(Ee)[d.KH2.Eras],Dt)}(Dt,_t)[Ee.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ue}`)}}(on,jn,Ee,Dt,Ue,_t)}}function Nn(Ee){return function(Dt,Ue,_t){const on=-1*_t,jn=Pt(Ue,Me.MinusSign),li=on>0?Math.floor(on/60):Math.ceil(on/60);switch(Ee){case Fe.Short:return(on>=0?"+":"")+sn(li,2,jn)+sn(Math.abs(on%60),2,jn);case Fe.ShortGMT:return"GMT"+(on>=0?"+":"")+sn(li,1,jn);case Fe.Long:return"GMT"+(on>=0?"+":"")+sn(li,2,jn)+":"+sn(Math.abs(on%60),2,jn);case Fe.Extended:return 0===_t?"Z":(on>=0?"+":"")+sn(li,2,jn)+":"+sn(Math.abs(on%60),2,jn);default:throw new Error(`Unknown zone width "${Ee}"`)}}}const Ni=0,Sn=4;function En(Ee){const Dt=Ee.getDay(),Ue=0===Dt?-3:Sn-Dt;return nn(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()+Ue)}function Kn(Ee,Dt=!1){return function(Ue,_t){let on;if(Dt){const jn=new Date(Ue.getFullYear(),Ue.getMonth(),1).getDay()-1,li=Ue.getDate();on=1+Math.floor((li+jn)/7)}else{const jn=En(Ue),li=function Gn(Ee){const Dt=nn(Ee,Ni,1).getDay();return nn(Ee,0,1+(Dt<=Sn?Sn:Sn+7)-Dt)}(jn.getFullYear()),Ui=jn.getTime()-li.getTime();on=1+Math.round(Ui/6048e5)}return sn(on,Ee,Pt(_t,Me.MinusSign))}}function pt(Ee,Dt=!1){return function(Ue,_t){return sn(En(Ue).getFullYear(),Ee,Pt(_t,Me.MinusSign),Dt)}}const $e={};function Be(Ee,Dt){Ee=Ee.replace(/:/g,"");const Ue=Date.parse("Jan 01, 1970 00:00:00 "+Ee)/6e4;return isNaN(Ue)?Dt:Ue}function Te(Ee){return Ee instanceof Date&&!isNaN(Ee.valueOf())}const rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Le=22,bt=".",Ft="0",In=";",On=",",ei="#";function Gi(Ee,Dt,Ue,_t,on){const li=function ur(Ee,Dt="-"){const Ue={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},_t=Ee.split(In),on=_t[0],jn=_t[1],li=-1!==on.indexOf(bt)?on.split(bt):[on.substring(0,on.lastIndexOf(Ft)+1),on.substring(on.lastIndexOf(Ft)+1)],Ui=li[0],Fs=li[1]||"";Ue.posPre=Ui.substring(0,Ui.indexOf(ei));for(let ts=0;ts<Fs.length;ts++){const wi=Fs.charAt(ts);wi===Ft?Ue.minFrac=Ue.maxFrac=ts+1:wi===ei?Ue.maxFrac=ts+1:Ue.posSuf+=wi}const Yr=Ui.split(On);if(Ue.gSize=Yr[1]?Yr[1].length:0,Ue.lgSize=Yr[2]||Yr[1]?(Yr[2]||Yr[1]).length:0,jn){const ts=on.length-Ue.posPre.length-Ue.posSuf.length,wi=jn.indexOf(ei);Ue.negPre=jn.substring(0,wi).replace(/'/g,""),Ue.negSuf=jn.slice(wi+ts).replace(/'/g,"")}else Ue.negPre=Dt+Ue.posPre,Ue.negSuf=Ue.posSuf;return Ue}(function Se(Ee,Dt){return(0,d.H5H)(Ee)[d.KH2.NumberFormats][Dt]}(Dt,Y.Currency),Pt(Dt,Me.MinusSign));return li.minFrac=function wt(Ee){let Dt;const Ue=j[Ee];return Ue&&(Dt=Ue[2]),"number"==typeof Dt?Dt:2}(_t),li.maxFrac=li.minFrac,function Ci(Ee,Dt,Ue,_t,on,jn,li=!1){let Ui="",Fs=!1;if(isFinite(Ee)){let Yr=function Tr(Ee){let _t,on,jn,li,Ui,Dt=Math.abs(Ee)+"",Ue=0;for((on=Dt.indexOf(bt))>-1&&(Dt=Dt.replace(bt,"")),(jn=Dt.search(/e/i))>0?(on<0&&(on=jn),on+=+Dt.slice(jn+1),Dt=Dt.substring(0,jn)):on<0&&(on=Dt.length),jn=0;Dt.charAt(jn)===Ft;jn++);if(jn===(Ui=Dt.length))_t=[0],on=1;else{for(Ui--;Dt.charAt(Ui)===Ft;)Ui--;for(on-=jn,_t=[],li=0;jn<=Ui;jn++,li++)_t[li]=Number(Dt.charAt(jn))}return on>Le&&(_t=_t.splice(0,Le-1),Ue=on-1,on=1),{digits:_t,exponent:Ue,integerLen:on}}(Ee);li&&(Yr=function or(Ee){if(0===Ee.digits[0])return Ee;const Dt=Ee.digits.length-Ee.integerLen;return Ee.exponent?Ee.exponent+=2:(0===Dt?Ee.digits.push(0,0):1===Dt&&Ee.digits.push(0),Ee.integerLen+=2),Ee}(Yr));let ts=Dt.minInt,wi=Dt.minFrac,eo=Dt.maxFrac;if(jn){const pc=jn.match(rt);if(null===pc)throw new Error(`${jn} is not a valid digit info`);const $o=pc[1],Bo=pc[3],cl=pc[5];null!=$o&&(ts=_s($o)),null!=Bo&&(wi=_s(Bo)),null!=cl?eo=_s(cl):null!=Bo&&wi>eo&&(eo=wi)}!function Hr(Ee,Dt,Ue){if(Dt>Ue)throw new Error(`The minimum number of digits after fraction (${Dt}) is higher than the maximum (${Ue}).`);let _t=Ee.digits,on=_t.length-Ee.integerLen;const jn=Math.min(Math.max(Dt,on),Ue);let li=jn+Ee.integerLen,Ui=_t[li];if(li>0){_t.splice(Math.max(Ee.integerLen,li));for(let wi=li;wi<_t.length;wi++)_t[wi]=0}else{on=Math.max(0,on),Ee.integerLen=1,_t.length=Math.max(1,li=jn+1),_t[0]=0;for(let wi=1;wi<li;wi++)_t[wi]=0}if(Ui>=5)if(li-1<0){for(let wi=0;wi>li;wi--)_t.unshift(0),Ee.integerLen++;_t.unshift(1),Ee.integerLen++}else _t[li-1]++;for(;on<Math.max(0,jn);on++)_t.push(0);let Fs=0!==jn;const Yr=Dt+Ee.integerLen,ts=_t.reduceRight(function(wi,eo,js,uo){return uo[js]=(eo+=wi)<10?eo:eo-10,Fs&&(0===uo[js]&&js>=Yr?uo.pop():Fs=!1),eo>=10?1:0},0);ts&&(_t.unshift(ts),Ee.integerLen++)}(Yr,wi,eo);let js=Yr.digits,uo=Yr.integerLen;const Vl=Yr.exponent;let xl=[];for(Fs=js.every(pc=>!pc);uo<ts;uo++)js.unshift(0);for(;uo<0;uo++)js.unshift(0);uo>0?xl=js.splice(uo,js.length):(xl=js,js=[0]);const Rc=[];for(js.length>=Dt.lgSize&&Rc.unshift(js.splice(-Dt.lgSize,js.length).join(""));js.length>Dt.gSize;)Rc.unshift(js.splice(-Dt.gSize,js.length).join(""));js.length&&Rc.unshift(js.join("")),Ui=Rc.join(Pt(Ue,_t)),xl.length&&(Ui+=Pt(Ue,on)+xl.join("")),Vl&&(Ui+=Pt(Ue,Me.Exponential)+"+"+Vl)}else Ui=Pt(Ue,Me.Infinity);return Ui=Ee<0&&!Fs?Dt.negPre+Ui+Dt.negSuf:Dt.posPre+Ui+Dt.posSuf,Ui}(Ee,li,Dt,Me.CurrencyGroup,Me.CurrencyDecimal,on).replace("\xa4",Ue).replace("\xa4","").trim()}function _s(Ee){const Dt=parseInt(Ee);if(isNaN(Dt))throw new Error("Invalid integer literal when parsing "+Ee);return Dt}function Yi(Ee,Dt){Dt=encodeURIComponent(Dt);for(const Ue of Ee.split(";")){const _t=Ue.indexOf("="),[on,jn]=-1==_t?[Ue,""]:[Ue.slice(0,_t),Ue.slice(_t+1)];if(on.trim()===Dt)return decodeURIComponent(jn)}return null}const ar=/\s+/,cr=[];let ji=(()=>{class Ee{constructor(Ue,_t){this._ngEl=Ue,this._renderer=_t,this.initialClasses=cr,this.stateMap=new Map}set klass(Ue){this.initialClasses=null!=Ue?Ue.trim().split(ar):cr}set ngClass(Ue){this.rawClass="string"==typeof Ue?Ue.trim().split(ar):Ue}ngDoCheck(){for(const _t of this.initialClasses)this._updateState(_t,!0);const Ue=this.rawClass;if(Array.isArray(Ue)||Ue instanceof Set)for(const _t of Ue)this._updateState(_t,!0);else if(null!=Ue)for(const _t of Object.keys(Ue))this._updateState(_t,!!Ue[_t]);this._applyStateDiff()}_updateState(Ue,_t){const on=this.stateMap.get(Ue);void 0!==on?(on.enabled!==_t&&(on.changed=!0,on.enabled=_t),on.touched=!0):this.stateMap.set(Ue,{enabled:_t,changed:!0,touched:!0})}_applyStateDiff(){for(const Ue of this.stateMap){const _t=Ue[0],on=Ue[1];on.changed?(this._toggleClass(_t,on.enabled),on.changed=!1):on.touched||(on.enabled&&this._toggleClass(_t,!1),this.stateMap.delete(_t)),on.touched=!1}}_toggleClass(Ue,_t){(Ue=Ue.trim()).length>0&&Ue.split(ar).forEach(on=>{_t?this._renderer.addClass(this._ngEl.nativeElement,on):this._renderer.removeClass(this._ngEl.nativeElement,on)})}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.aKT),d.rXU(d.sFG))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return Ee})(),ii=(()=>{class Ee{constructor(Ue){this._viewContainerRef=Ue,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ue){return void 0!==Ue.ngComponentOutletNgModule||void 0!==Ue.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ue){return void 0!==Ue.ngComponentOutlet||void 0!==Ue.ngComponentOutletContent||void 0!==Ue.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ue)}ngOnChanges(Ue){if(this._needToReCreateComponentInstance(Ue)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const _t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ue)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,d.w6W)(this.ngComponentOutletNgModule,Ge(_t)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Ge(_t)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:_t,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ue of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ue,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ue){for(const[_t,on]of this._inputsUsed)on?(Ue.setInput(_t,this.ngComponentOutletInputs[_t]),this._inputsUsed.set(_t,!1)):(Ue.setInput(_t,void 0),this._inputsUsed.delete(_t))}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[d.OA$]})}return Ee})();function Ge(Ee){return Ee.get(d.Vns).injector}class Mt{constructor(Dt,Ue,_t,on){this.$implicit=Dt,this.ngForOf=Ue,this.index=_t,this.count=on}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ne=(()=>{class Ee{set ngForOf(Ue){this._ngForOf=Ue,this._ngForOfDirty=!0}set ngForTrackBy(Ue){this._trackByFn=Ue}get ngForTrackBy(){return this._trackByFn}constructor(Ue,_t,on){this._viewContainer=Ue,this._template=_t,this._differs=on,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ue){Ue&&(this._template=Ue)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ue=this._ngForOf;!this._differ&&Ue&&(this._differ=this._differs.find(Ue).create(this.ngForTrackBy))}if(this._differ){const Ue=this._differ.diff(this._ngForOf);Ue&&this._applyChanges(Ue)}}_applyChanges(Ue){const _t=this._viewContainer;Ue.forEachOperation((on,jn,li)=>{if(null==on.previousIndex)_t.createEmbeddedView(this._template,new Mt(on.item,this._ngForOf,-1,-1),null===li?void 0:li);else if(null==li)_t.remove(null===jn?void 0:jn);else if(null!==jn){const Ui=_t.get(jn);_t.move(Ui,li),et(Ui,on)}});for(let on=0,jn=_t.length;on<jn;on++){const Ui=_t.get(on).context;Ui.index=on,Ui.count=jn,Ui.ngForOf=this._ngForOf}Ue.forEachIdentityChange(on=>{et(_t.get(on.currentIndex),on)})}static ngTemplateContextGuard(Ue,_t){return!0}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ee})();function et(Ee,Dt){Ee.context.$implicit=Dt.item}let kt=(()=>{class Ee{constructor(Ue,_t){this._viewContainer=Ue,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_t}set ngIf(Ue){this._context.$implicit=this._context.ngIf=Ue,this._updateView()}set ngIfThen(Ue){Zn("ngIfThen",Ue),this._thenTemplateRef=Ue,this._thenViewRef=null,this._updateView()}set ngIfElse(Ue){Zn("ngIfElse",Ue),this._elseTemplateRef=Ue,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ue,_t){return!0}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b),d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ee})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function Zn(Ee,Dt){if(Dt&&!Dt.createEmbeddedView)throw new Error(`${Ee} must be a TemplateRef, but received '${(0,d.Tbb)(Dt)}'.`)}class Li{constructor(Dt,Ue){this._viewContainerRef=Dt,this._templateRef=Ue,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Dt){Dt&&!this._created?this.create():!Dt&&this._created&&this.destroy()}}let lr=(()=>{class Ee{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ue){this._ngSwitch=Ue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ue){this._defaultViews.push(Ue)}_matchCase(Ue){const _t=Ue===this._ngSwitch;return this._lastCasesMatched||=_t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_t}_updateDefaultCases(Ue){if(this._defaultViews.length>0&&Ue!==this._defaultUsed){this._defaultUsed=Ue;for(const _t of this._defaultViews)_t.enforceState(Ue)}}static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ee})(),kr=(()=>{class Ee{constructor(Ue,_t,on){this.ngSwitch=on,on._addCase(),this._view=new Li(Ue,_t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(lr,9))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ee})(),Lr=(()=>{class Ee{constructor(Ue,_t,on){on._addDefault(new Li(Ue,_t))}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(lr,9))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ee})(),Ss=(()=>{class Ee{constructor(Ue){this._viewContainerRef=Ue,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ue){if(this._shouldRecreateView(Ue)){const _t=this._viewContainerRef;if(this._viewRef&&_t.remove(_t.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const on=this._createContextForwardProxy();this._viewRef=_t.createEmbeddedView(this.ngTemplateOutlet,on,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ue){return!!Ue.ngTemplateOutlet||!!Ue.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ue,_t,on)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,_t,on),get:(Ue,_t,on)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,_t,on)}})}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]})}return Ee})();function Vr(Ee,Dt){return new d.wOt(2100,!1)}class Io{createSubscription(Dt,Ue){return(0,d.O8t)(()=>Dt.subscribe({next:Ue,error:_t=>{throw _t}}))}dispose(Dt){(0,d.O8t)(()=>Dt.unsubscribe())}}class Ho{createSubscription(Dt,Ue){return Dt.then(Ue,_t=>{throw _t})}dispose(Dt){}}const No=new Ho,Tl=new Io;let Ga=(()=>{class Ee{constructor(Ue){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ue}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ue){if(!this._obj){if(Ue)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ue)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ue!==this._obj?(this._dispose(),this.transform(Ue)):this._latestValue}_subscribe(Ue){this._obj=Ue,this._strategy=this._selectStrategy(Ue),this._subscription=this._strategy.createSubscription(Ue,_t=>this._updateLatestValue(Ue,_t))}_selectStrategy(Ue){if((0,d.jNT)(Ue))return No;if((0,d.zjR)(Ue))return Tl;throw Vr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ue,_t){Ue===this._obj&&(this._latestValue=_t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.gRc,16))};static#t=this.\u0275pipe=d.EJ8({name:"async",type:Ee,pure:!1,standalone:!0})}return Ee})();const Oa=new d.nKC(""),ya=new d.nKC("");let Ra=(()=>{class Ee{constructor(Ue,_t,on){this.locale=Ue,this.defaultTimezone=_t,this.defaultOptions=on}transform(Ue,_t,on,jn){if(null==Ue||""===Ue||Ue!=Ue)return null;try{return Gt(Ue,_t??this.defaultOptions?.dateFormat??"mediumDate",jn||this.locale,on??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(li){throw Vr()}}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.xe9,16),d.rXU(Oa,24),d.rXU(ya,24))};static#t=this.\u0275pipe=d.EJ8({name:"date",type:Ee,pure:!0,standalone:!0})}return Ee})(),Gs=(()=>{class Ee{constructor(Ue,_t="USD"){this._locale=Ue,this._defaultCurrencyCode=_t}transform(Ue,_t=this._defaultCurrencyCode,on="symbol",jn,li){if(!function oo(Ee){return!(null==Ee||""===Ee||Ee!=Ee)}(Ue))return null;li||=this._locale,"boolean"==typeof on&&(on=on?"symbol":"code");let Ui=_t||this._defaultCurrencyCode;"code"!==on&&(Ui="symbol"===on||"symbol-narrow"===on?function Nt(Ee,Dt,Ue="en"){const _t=function Ot(Ee){return(0,d.H5H)(Ee)[d.KH2.Currencies]}(Ue)[Ee]||j[Ee]||[],on=_t[1];return"narrow"===Dt&&"string"==typeof on?on:_t[0]||Ee}(Ui,"symbol"===on?"wide":"narrow",li):on);try{return Gi(function va(Ee){if("string"==typeof Ee&&!isNaN(Number(Ee)-parseFloat(Ee)))return Number(Ee);if("number"!=typeof Ee)throw new Error(`${Ee} is not a number`);return Ee}(Ue),li,Ui,_t,jn)}catch(Fs){throw Vr()}}static#e=this.\u0275fac=function(_t){return new(_t||Ee)(d.rXU(d.xe9,16),d.rXU(d.Ocv,16))};static#t=this.\u0275pipe=d.EJ8({name:"currency",type:Ee,pure:!0,standalone:!0})}return Ee})();let Po=(()=>{class Ee{transform(Ue,_t,on){if(null==Ue)return null;if(!this.supports(Ue))throw Vr();return Ue.slice(_t,on)}supports(Ue){return"string"==typeof Ue||Array.isArray(Ue)}static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275pipe=d.EJ8({name:"slice",type:Ee,pure:!1,standalone:!0})}return Ee})(),bo=(()=>{class Ee{static#e=this.\u0275fac=function(_t){return new(_t||Ee)};static#t=this.\u0275mod=d.$C({type:Ee});static#n=this.\u0275inj=d.G2t({})}return Ee})();const wo="browser",Pa="server";function Go(Ee){return Ee===wo}function Il(Ee){return Ee===Pa}let Ar=(()=>{class Ee{static#e=this.\u0275prov=(0,d.jDH)({token:Ee,providedIn:"root",factory:()=>Go((0,d.WQX)(d.Agw))?new vs((0,d.WQX)(I),window):new po})}return Ee})();class vs{constructor(Dt,Ue){this.document=Dt,this.window=Ue,this.offset=()=>[0,0]}setOffset(Dt){this.offset=Array.isArray(Dt)?()=>Dt:Dt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Dt){this.window.scrollTo(Dt[0],Dt[1])}scrollToAnchor(Dt){const Ue=function na(Ee,Dt){const Ue=Ee.getElementById(Dt)||Ee.getElementsByName(Dt)[0];if(Ue)return Ue;if("function"==typeof Ee.createTreeWalker&&Ee.body&&"function"==typeof Ee.body.attachShadow){const _t=Ee.createTreeWalker(Ee.body,NodeFilter.SHOW_ELEMENT);let on=_t.currentNode;for(;on;){const jn=on.shadowRoot;if(jn){const li=jn.getElementById(Dt)||jn.querySelector(`[name="${Dt}"]`);if(li)return li}on=_t.nextNode()}}return null}(this.document,Dt);Ue&&(this.scrollToElement(Ue),Ue.focus())}setHistoryScrollRestoration(Dt){this.window.history.scrollRestoration=Dt}scrollToElement(Dt){const Ue=Dt.getBoundingClientRect(),_t=Ue.left+this.window.pageXOffset,on=Ue.top+this.window.pageYOffset,jn=this.offset();this.window.scrollTo(_t-jn[0],on-jn[1])}}class po{setOffset(Dt){}getScrollPosition(){return[0,0]}scrollToPosition(Dt){}scrollToAnchor(Dt){}setHistoryScrollRestoration(Dt){}}class Xa{}},6443:(dn,Ne,_)=>{"use strict";_.d(Ne,{$R:()=>Zt,Qq:()=>Qe,Sx:()=>Te,yz:()=>oe});var d=_(9204),A=_(7404),w=_(1536),D=_(434),C=_(2677),S=_(9003),I=_(8627),E=_(5443),y=_(9863),x=_(1963),$=_(316);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class R{}class O{}class M{constructor(Mt){this.normalizedNames=new Map,this.lazyUpdate=null,Mt?"string"==typeof Mt?this.lazyInit=()=>{this.headers=new Map,Mt.split("\n").forEach(ne=>{const et=ne.indexOf(":");if(et>0){const He=ne.slice(0,et),kt=He.toLowerCase(),Bt=ne.slice(et+1).trim();this.maybeSetNormalizedName(He,kt),this.headers.has(kt)?this.headers.get(kt).push(Bt):this.headers.set(kt,[Bt])}})}:typeof Headers<"u"&&Mt instanceof Headers?(this.headers=new Map,Mt.forEach((ne,et)=>{this.setHeaderEntries(et,ne)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Mt).forEach(([ne,et])=>{this.setHeaderEntries(ne,et)})}:this.headers=new Map}has(Mt){return this.init(),this.headers.has(Mt.toLowerCase())}get(Mt){this.init();const ne=this.headers.get(Mt.toLowerCase());return ne&&ne.length>0?ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Mt){return this.init(),this.headers.get(Mt.toLowerCase())||null}append(Mt,ne){return this.clone({name:Mt,value:ne,op:"a"})}set(Mt,ne){return this.clone({name:Mt,value:ne,op:"s"})}delete(Mt,ne){return this.clone({name:Mt,value:ne,op:"d"})}maybeSetNormalizedName(Mt,ne){this.normalizedNames.has(ne)||this.normalizedNames.set(ne,Mt)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Mt=>this.applyUpdate(Mt)),this.lazyUpdate=null))}copyFrom(Mt){Mt.init(),Array.from(Mt.headers.keys()).forEach(ne=>{this.headers.set(ne,Mt.headers.get(ne)),this.normalizedNames.set(ne,Mt.normalizedNames.get(ne))})}clone(Mt){const ne=new M;return ne.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,ne.lazyUpdate=(this.lazyUpdate||[]).concat([Mt]),ne}applyUpdate(Mt){const ne=Mt.name.toLowerCase();switch(Mt.op){case"a":case"s":let et=Mt.value;if("string"==typeof et&&(et=[et]),0===et.length)return;this.maybeSetNormalizedName(Mt.name,ne);const He=("a"===Mt.op?this.headers.get(ne):void 0)||[];He.push(...et),this.headers.set(ne,He);break;case"d":const kt=Mt.value;if(kt){let Bt=this.headers.get(ne);if(!Bt)return;Bt=Bt.filter(Zn=>-1===kt.indexOf(Zn)),0===Bt.length?(this.headers.delete(ne),this.normalizedNames.delete(ne)):this.headers.set(ne,Bt)}else this.headers.delete(ne),this.normalizedNames.delete(ne)}}setHeaderEntries(Mt,ne){const et=(Array.isArray(ne)?ne:[ne]).map(kt=>kt.toString()),He=Mt.toLowerCase();this.headers.set(He,et),this.maybeSetNormalizedName(Mt,He)}forEach(Mt){this.init(),Array.from(this.normalizedNames.keys()).forEach(ne=>Mt(this.normalizedNames.get(ne),this.headers.get(ne)))}}class z{encodeKey(Mt){return ce(Mt)}encodeValue(Mt){return ce(Mt)}decodeKey(Mt){return decodeURIComponent(Mt)}decodeValue(Mt){return decodeURIComponent(Mt)}}const J=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ce(Ge){return encodeURIComponent(Ge).replace(J,(Mt,ne)=>ue[ne]??Mt)}function re(Ge){return`${Ge}`}class we{constructor(Mt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Mt.encoder||new z,Mt.fromString){if(Mt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F(Ge,Mt){const ne=new Map;return Ge.length>0&&Ge.replace(/^\?/,"").split("&").forEach(He=>{const kt=He.indexOf("="),[Bt,Zn]=-1==kt?[Mt.decodeKey(He),""]:[Mt.decodeKey(He.slice(0,kt)),Mt.decodeValue(He.slice(kt+1))],Li=ne.get(Bt)||[];Li.push(Zn),ne.set(Bt,Li)}),ne}(Mt.fromString,this.encoder)}else Mt.fromObject?(this.map=new Map,Object.keys(Mt.fromObject).forEach(ne=>{const et=Mt.fromObject[ne],He=Array.isArray(et)?et.map(re):[re(et)];this.map.set(ne,He)})):this.map=null}has(Mt){return this.init(),this.map.has(Mt)}get(Mt){this.init();const ne=this.map.get(Mt);return ne?ne[0]:null}getAll(Mt){return this.init(),this.map.get(Mt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Mt,ne){return this.clone({param:Mt,value:ne,op:"a"})}appendAll(Mt){const ne=[];return Object.keys(Mt).forEach(et=>{const He=Mt[et];Array.isArray(He)?He.forEach(kt=>{ne.push({param:et,value:kt,op:"a"})}):ne.push({param:et,value:He,op:"a"})}),this.clone(ne)}set(Mt,ne){return this.clone({param:Mt,value:ne,op:"s"})}delete(Mt,ne){return this.clone({param:Mt,value:ne,op:"d"})}toString(){return this.init(),this.keys().map(Mt=>{const ne=this.encoder.encodeKey(Mt);return this.map.get(Mt).map(et=>ne+"="+this.encoder.encodeValue(et)).join("&")}).filter(Mt=>""!==Mt).join("&")}clone(Mt){const ne=new we({encoder:this.encoder});return ne.cloneFrom=this.cloneFrom||this,ne.updates=(this.updates||[]).concat(Mt),ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Mt=>this.map.set(Mt,this.cloneFrom.map.get(Mt))),this.updates.forEach(Mt=>{switch(Mt.op){case"a":case"s":const ne=("a"===Mt.op?this.map.get(Mt.param):void 0)||[];ne.push(re(Mt.value)),this.map.set(Mt.param,ne);break;case"d":if(void 0===Mt.value){this.map.delete(Mt.param);break}{let et=this.map.get(Mt.param)||[];const He=et.indexOf(re(Mt.value));-1!==He&&et.splice(He,1),et.length>0?this.map.set(Mt.param,et):this.map.delete(Mt.param)}}}),this.cloneFrom=this.updates=null)}}class Y{constructor(){this.map=new Map}set(Mt,ne){return this.map.set(Mt,ne),this}get(Mt){return this.map.has(Mt)||this.map.set(Mt,Mt.defaultValue()),this.map.get(Mt)}delete(Mt){return this.map.delete(Mt),this}has(Mt){return this.map.has(Mt)}keys(){return this.map.keys()}}function W(Ge){return typeof ArrayBuffer<"u"&&Ge instanceof ArrayBuffer}function Ce(Ge){return typeof Blob<"u"&&Ge instanceof Blob}function Q(Ge){return typeof FormData<"u"&&Ge instanceof FormData}class Xe{constructor(Mt,ne,et,He){let kt;if(this.url=ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Mt.toUpperCase(),function se(Ge){switch(Ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||He?(this.body=void 0!==et?et:null,kt=He):kt=et,kt&&(this.reportProgress=!!kt.reportProgress,this.withCredentials=!!kt.withCredentials,kt.responseType&&(this.responseType=kt.responseType),kt.headers&&(this.headers=kt.headers),kt.context&&(this.context=kt.context),kt.params&&(this.params=kt.params),this.transferCache=kt.transferCache),this.headers??=new M,this.context??=new Y,this.params){const Bt=this.params.toString();if(0===Bt.length)this.urlWithParams=ne;else{const Zn=ne.indexOf("?");this.urlWithParams=ne+(-1===Zn?"?":Zn<ne.length-1?"&":"")+Bt}}else this.params=new we,this.urlWithParams=ne}serializeBody(){return null===this.body?null:"string"==typeof this.body||W(this.body)||Ce(this.body)||Q(this.body)||function Me(Ge){return typeof URLSearchParams<"u"&&Ge instanceof URLSearchParams}(this.body)?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q(this.body)?null:Ce(this.body)?this.body.type||null:W(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Mt={}){const ne=Mt.method||this.method,et=Mt.url||this.url,He=Mt.responseType||this.responseType,kt=Mt.transferCache??this.transferCache,Bt=void 0!==Mt.body?Mt.body:this.body,Zn=Mt.withCredentials??this.withCredentials,Li=Mt.reportProgress??this.reportProgress;let lr=Mt.headers||this.headers,kr=Mt.params||this.params;const Lr=Mt.context??this.context;return void 0!==Mt.setHeaders&&(lr=Object.keys(Mt.setHeaders).reduce((Zr,ds)=>Zr.set(ds,Mt.setHeaders[ds]),lr)),Mt.setParams&&(kr=Object.keys(Mt.setParams).reduce((Zr,ds)=>Zr.set(ds,Mt.setParams[ds]),kr)),new Xe(ne,et,Bt,{params:kr,headers:lr,context:Lr,reportProgress:Li,responseType:He,withCredentials:Zn,transferCache:kt})}}var yt=function(Ge){return Ge[Ge.Sent=0]="Sent",Ge[Ge.UploadProgress=1]="UploadProgress",Ge[Ge.ResponseHeader=2]="ResponseHeader",Ge[Ge.DownloadProgress=3]="DownloadProgress",Ge[Ge.Response=4]="Response",Ge[Ge.User=5]="User",Ge}(yt||{});class Je{constructor(Mt,ne=200,et="OK"){this.headers=Mt.headers||new M,this.status=void 0!==Mt.status?Mt.status:ne,this.statusText=Mt.statusText||et,this.url=Mt.url||null,this.ok=this.status>=200&&this.status<300}}class je extends Je{constructor(Mt={}){super(Mt),this.type=yt.ResponseHeader}clone(Mt={}){return new je({headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class X extends Je{constructor(Mt={}){super(Mt),this.type=yt.Response,this.body=void 0!==Mt.body?Mt.body:null}clone(Mt={}){return new X({body:void 0!==Mt.body?Mt.body:this.body,headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class oe extends Je{constructor(Mt){super(Mt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Mt.url||"(unknown url)"}`:`Http failure response for ${Mt.url||"(unknown url)"}: ${Mt.status} ${Mt.statusText}`,this.error=Mt.error||null}}function Ve(Ge,Mt){return{body:Mt,headers:Ge.headers,context:Ge.context,observe:Ge.observe,params:Ge.params,reportProgress:Ge.reportProgress,responseType:Ge.responseType,withCredentials:Ge.withCredentials,transferCache:Ge.transferCache}}let Qe=(()=>{class Ge{constructor(ne){this.handler=ne}request(ne,et,He={}){let kt;if(ne instanceof Xe)kt=ne;else{let Li,lr;Li=He.headers instanceof M?He.headers:new M(He.headers),He.params&&(lr=He.params instanceof we?He.params:new we({fromObject:He.params})),kt=new Xe(ne,et,void 0!==He.body?He.body:null,{headers:Li,context:He.context,params:lr,reportProgress:He.reportProgress,responseType:He.responseType||"json",withCredentials:He.withCredentials,transferCache:He.transferCache})}const Bt=(0,w.of)(kt).pipe((0,S.H)(Li=>this.handler.handle(Li)));if(ne instanceof Xe||"events"===He.observe)return Bt;const Zn=Bt.pipe((0,I.p)(Li=>Li instanceof X));switch(He.observe||"body"){case"body":switch(kt.responseType){case"arraybuffer":return Zn.pipe((0,E.T)(Li=>{if(null!==Li.body&&!(Li.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Li.body}));case"blob":return Zn.pipe((0,E.T)(Li=>{if(null!==Li.body&&!(Li.body instanceof Blob))throw new Error("Response is not a Blob.");return Li.body}));case"text":return Zn.pipe((0,E.T)(Li=>{if(null!==Li.body&&"string"!=typeof Li.body)throw new Error("Response is not a string.");return Li.body}));default:return Zn.pipe((0,E.T)(Li=>Li.body))}case"response":return Zn;default:throw new Error(`Unreachable: unhandled observe type ${He.observe}}`)}}delete(ne,et={}){return this.request("DELETE",ne,et)}get(ne,et={}){return this.request("GET",ne,et)}head(ne,et={}){return this.request("HEAD",ne,et)}jsonp(ne,et){return this.request("JSONP",ne,{params:(new we).append(et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ne,et={}){return this.request("OPTIONS",ne,et)}patch(ne,et,He={}){return this.request("PATCH",ne,Ve(He,et))}post(ne,et,He={}){return this.request("POST",ne,Ve(He,et))}put(ne,et,He={}){return this.request("PUT",ne,Ve(He,et))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO(R))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const Pt=/^\)\]\}',?\n/;function qt(Ge){if(Ge.url)return Ge.url;const Mt="X-Request-URL".toLocaleLowerCase();return Ge.headers.get(Mt)}let Vt=(()=>{class Ge{constructor(){this.fetchImpl=(0,A.WQX)(Tt,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,A.WQX)(A.SKi)}handle(ne){return new D.c(et=>{const He=new AbortController;return this.doRequest(ne,He.signal,et).then(Ot,kt=>et.error(new oe({error:kt}))),()=>He.abort()})}doRequest(ne,et,He){var kt=this;return(0,d.A)(function*(){const Bt=kt.createRequestInit(ne);let Zn;try{const Os=kt.ngZone.runOutsideAngular(()=>kt.fetchImpl(ne.urlWithParams,{signal:et,...Bt}));(function ft(Ge){Ge.then(Ot,Ot)})(Os),He.next({type:yt.Sent}),Zn=yield Os}catch(Os){return void He.error(new oe({error:Os,status:Os.status??0,statusText:Os.statusText,url:ne.urlWithParams,headers:Os.headers}))}const Li=new M(Zn.headers),lr=Zn.statusText,kr=qt(Zn)??ne.urlWithParams;let Lr=Zn.status,Zr=null;if(ne.reportProgress&&He.next(new je({headers:Li,status:Lr,statusText:lr,url:kr})),Zn.body){const Os=Zn.headers.get("content-length"),Er=[],Jr=Zn.body.getReader();let Jo,Vr,Ss=0;const Io=typeof Zone<"u"&&Zone.current;yield kt.ngZone.runOutsideAngular((0,d.A)(function*(){for(;;){const{done:No,value:Tl}=yield Jr.read();if(No)break;if(Er.push(Tl),Ss+=Tl.length,ne.reportProgress){Vr="text"===ne.responseType?(Vr??"")+(Jo??=new TextDecoder).decode(Tl,{stream:!0}):void 0;const Ga=()=>He.next({type:yt.DownloadProgress,total:Os?+Os:void 0,loaded:Ss,partialText:Vr});Io?Io.run(Ga):Ga()}}}));const Ho=kt.concatChunks(Er,Ss);try{const No=Zn.headers.get("Content-Type")??"";Zr=kt.parseBody(ne,Ho,No)}catch(No){return void He.error(new oe({error:No,headers:new M(Zn.headers),status:Zn.status,statusText:Zn.statusText,url:qt(Zn)??ne.urlWithParams}))}}0===Lr&&(Lr=Zr?200:0),Lr>=200&&Lr<300?(He.next(new X({body:Zr,headers:Li,status:Lr,statusText:lr,url:kr})),He.complete()):He.error(new oe({error:Zr,headers:Li,status:Lr,statusText:lr,url:kr}))})()}parseBody(ne,et,He){switch(ne.responseType){case"json":const kt=(new TextDecoder).decode(et).replace(Pt,"");return""===kt?null:JSON.parse(kt);case"text":return(new TextDecoder).decode(et);case"blob":return new Blob([et],{type:He});case"arraybuffer":return et.buffer}}createRequestInit(ne){const et={},He=ne.withCredentials?"include":void 0;if(ne.headers.forEach((kt,Bt)=>et[kt]=Bt.join(",")),ne.headers.has("Accept")||(et.Accept="application/json, text/plain, */*"),!ne.headers.has("Content-Type")){const kt=ne.detectContentTypeHeader();null!==kt&&(et["Content-Type"]=kt)}return{body:ne.serializeBody(),method:ne.method,headers:et,credentials:He}}concatChunks(ne,et){const He=new Uint8Array(et);let kt=0;for(const Bt of ne)He.set(Bt,kt),kt+=Bt.length;return He}static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();class Tt{}function Ot(){}function Re(Ge,Mt){return Mt(Ge)}function Ye(Ge,Mt){return(ne,et)=>Mt.intercept(ne,{handle:He=>Ge(He,et)})}const It=new A.nKC(""),ot=new A.nKC(""),st=new A.nKC(""),Nt=new A.nKC("",{providedIn:"root",factory:()=>!0});function Ut(){let Ge=null;return(Mt,ne)=>{null===Ge&&(Ge=((0,A.WQX)(It,{optional:!0})??[]).reduceRight(Ye,Re));const et=(0,A.WQX)(A.TgB);if((0,A.WQX)(Nt)){const kt=et.add();return Ge(Mt,ne).pipe((0,y.j)(()=>et.remove(kt)))}return Ge(Mt,ne)}}let ut=(()=>{class Ge extends R{constructor(ne,et){super(),this.backend=ne,this.injector=et,this.chain=null,this.pendingTasks=(0,A.WQX)(A.TgB),this.contributeToStability=(0,A.WQX)(Nt)}handle(ne){if(null===this.chain){const et=Array.from(new Set([...this.injector.get(ot),...this.injector.get(st,[])]));this.chain=et.reduceRight((He,kt)=>function vt(Ge,Mt,ne){return(et,He)=>(0,A.N4e)(ne,()=>Mt(et,kt=>Ge(kt,He)))}(He,kt,this.injector),Re)}if(this.contributeToStability){const et=this.pendingTasks.add();return this.chain(ne,He=>this.backend.handle(He)).pipe((0,y.j)(()=>this.pendingTasks.remove(et)))}return this.chain(ne,et=>this.backend.handle(et))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO(O),A.KVO(A.uvJ))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const zt=/^\)\]\}',?\n/;let vn=(()=>{class Ge{constructor(ne){this.xhrFactory=ne}handle(ne){if("JSONP"===ne.method)throw new A.wOt(-2800,!1);const et=this.xhrFactory;return(et.\u0275loadImpl?(0,C.H)(et.\u0275loadImpl()):(0,w.of)(null)).pipe((0,x.n)(()=>new D.c(kt=>{const Bt=et.build();if(Bt.open(ne.method,ne.urlWithParams),ne.withCredentials&&(Bt.withCredentials=!0),ne.headers.forEach((Er,Jr)=>Bt.setRequestHeader(Er,Jr.join(","))),ne.headers.has("Accept")||Bt.setRequestHeader("Accept","application/json, text/plain, */*"),!ne.headers.has("Content-Type")){const Er=ne.detectContentTypeHeader();null!==Er&&Bt.setRequestHeader("Content-Type",Er)}if(ne.responseType){const Er=ne.responseType.toLowerCase();Bt.responseType="json"!==Er?Er:"text"}const Zn=ne.serializeBody();let Li=null;const lr=()=>{if(null!==Li)return Li;const Er=Bt.statusText||"OK",Jr=new M(Bt.getAllResponseHeaders()),Ss=function $t(Ge){return"responseURL"in Ge&&Ge.responseURL?Ge.responseURL:/^X-Request-URL:/m.test(Ge.getAllResponseHeaders())?Ge.getResponseHeader("X-Request-URL"):null}(Bt)||ne.url;return Li=new je({headers:Jr,status:Bt.status,statusText:Er,url:Ss}),Li},kr=()=>{let{headers:Er,status:Jr,statusText:Ss,url:Jo}=lr(),Vr=null;204!==Jr&&(Vr=typeof Bt.response>"u"?Bt.responseText:Bt.response),0===Jr&&(Jr=Vr?200:0);let Io=Jr>=200&&Jr<300;if("json"===ne.responseType&&"string"==typeof Vr){const Ho=Vr;Vr=Vr.replace(zt,"");try{Vr=""!==Vr?JSON.parse(Vr):null}catch(No){Vr=Ho,Io&&(Io=!1,Vr={error:No,text:Vr})}}Io?(kt.next(new X({body:Vr,headers:Er,status:Jr,statusText:Ss,url:Jo||void 0})),kt.complete()):kt.error(new oe({error:Vr,headers:Er,status:Jr,statusText:Ss,url:Jo||void 0}))},Lr=Er=>{const{url:Jr}=lr(),Ss=new oe({error:Er,status:Bt.status||0,statusText:Bt.statusText||"Unknown Error",url:Jr||void 0});kt.error(Ss)};let Zr=!1;const ds=Er=>{Zr||(kt.next(lr()),Zr=!0);let Jr={type:yt.DownloadProgress,loaded:Er.loaded};Er.lengthComputable&&(Jr.total=Er.total),"text"===ne.responseType&&Bt.responseText&&(Jr.partialText=Bt.responseText),kt.next(Jr)},Os=Er=>{let Jr={type:yt.UploadProgress,loaded:Er.loaded};Er.lengthComputable&&(Jr.total=Er.total),kt.next(Jr)};return Bt.addEventListener("load",kr),Bt.addEventListener("error",Lr),Bt.addEventListener("timeout",Lr),Bt.addEventListener("abort",Lr),ne.reportProgress&&(Bt.addEventListener("progress",ds),null!==Zn&&Bt.upload&&Bt.upload.addEventListener("progress",Os)),Bt.send(Zn),kt.next({type:yt.Sent}),()=>{Bt.removeEventListener("error",Lr),Bt.removeEventListener("abort",Lr),Bt.removeEventListener("load",kr),Bt.removeEventListener("timeout",Lr),ne.reportProgress&&(Bt.removeEventListener("progress",ds),null!==Zn&&Bt.upload&&Bt.upload.removeEventListener("progress",Os)),Bt.readyState!==Bt.DONE&&Bt.abort()}})))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO($.N0))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const Nn=new A.nKC(""),Sn=new A.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),En=new A.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Kn{}let pt=(()=>{class Ge{constructor(ne,et,He){this.doc=ne,this.platform=et,this.cookieName=He,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ne=this.doc.cookie||"";return ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,$._b)(ne,this.cookieName),this.lastCookieString=ne),this.lastToken}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO($.qQ),A.KVO(A.Agw),A.KVO(Sn))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function $e(Ge,Mt){const ne=Ge.url.toLowerCase();if(!(0,A.WQX)(Nn)||"GET"===Ge.method||"HEAD"===Ge.method||ne.startsWith("http://")||ne.startsWith("https://"))return Mt(Ge);const et=(0,A.WQX)(Kn).getToken(),He=(0,A.WQX)(En);return null!=et&&!Ge.headers.has(He)&&(Ge=Ge.clone({headers:Ge.headers.set(He,et)})),Mt(Ge)}var Be=function(Ge){return Ge[Ge.Interceptors=0]="Interceptors",Ge[Ge.LegacyInterceptors=1]="LegacyInterceptors",Ge[Ge.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ge[Ge.NoXsrfProtection=3]="NoXsrfProtection",Ge[Ge.JsonpSupport=4]="JsonpSupport",Ge[Ge.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ge[Ge.Fetch=6]="Fetch",Ge}(Be||{});function Zt(...Ge){const Mt=[Qe,vn,ut,{provide:R,useExisting:ut},{provide:O,useFactory:()=>(0,A.WQX)(Vt,{optional:!0})??(0,A.WQX)(vn)},{provide:ot,useValue:$e,multi:!0},{provide:Nn,useValue:!0},{provide:Kn,useClass:pt}];for(const ne of Ge)Mt.push(...ne.\u0275providers);return(0,A.EmA)(Mt)}const lt=new A.nKC("");function Te(){return function gt(Ge,Mt){return{\u0275kind:Ge,\u0275providers:Mt}}(Be.LegacyInterceptors,[{provide:lt,useFactory:Ut},{provide:ot,useExisting:lt,multi:!0}])}},7404:(dn,Ne,_)=>{"use strict";
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
function d(s,o){return Object.is(s,o)}_.d(Ne,{bc$:()=>xI,iLQ:()=>ux,sZ2:()=>jf,hnV:()=>uN,Hbi:()=>LL,o8S:()=>_h,BIS:()=>MC,gRc:()=>mx,Ql9:()=>vL,OM3:()=>Hg,Ocv:()=>TL,Z63:()=>gc,aKT:()=>ug,uvJ:()=>fn,zcH:()=>lu,bkB:()=>bs,y_5:()=>pc,$GK:()=>fs,nKC:()=>an,zZn:()=>ro,_q3:()=>T_,MKu:()=>k_,xe9:()=>fx,Co$:()=>qD,Vns:()=>cp,SKi:()=>pa,Xx1:()=>$o,Agw:()=>C0,PLl:()=>xy,rOR:()=>Zu,sFG:()=>pM,_9s:()=>pf,czy:()=>Ly,WPN:()=>ac,kdw:()=>cl,C4Q:()=>Fg,NYb:()=>fL,giA:()=>lN,xvI:()=>zF,RxE:()=>nN,c1b:()=>e_,gXe:()=>vu,mal:()=>Ow,Tzd:()=>ch,L39:()=>JN,EWP:()=>dk,sbv:()=>IM,Ol2:()=>iE,w6W:()=>YM,oH4:()=>O1,QZP:()=>hk,SmG:()=>P1,Rfq:()=>ll,WQX:()=>wi,Hps:()=>Jw,QuC:()=>Pr,EmA:()=>iu,Udg:()=>eP,fpN:()=>kN,HJs:()=>rP,N4e:()=>Rl,vPA:()=>MD,O8t:()=>iP,H3F:()=>iN,zAP:()=>nk,H8p:()=>Kr,KH2:()=>Nm,TgB:()=>Uf,wOt:()=>Oi,WHO:()=>cx,e01:()=>aN,lNU:()=>sl,h9k:()=>tS,$MX:()=>$h,ZF7:()=>Xp,Kcf:()=>MI,e5t:()=>nd,UyX:()=>HC,cWb:()=>OI,osQ:()=>RI,H5H:()=>EE,Zy3:()=>Ao,mq5:()=>m_,JZv:()=>Rs,LfX:()=>xa,plB:()=>uh,jNT:()=>D1,zjR:()=>cN,TL$:()=>x0,Tbb:()=>ao,rcV:()=>td,nM4:()=>HD,Vt3:()=>nE,GFd:()=>YD,OA$:()=>Of,Jv_:()=>kR,aNF:()=>JE,R7$:()=>Wy,BMQ:()=>cd,HbH:()=>Yl,ZvI:()=>yE,AVh:()=>c_,vxM:()=>RO,wni:()=>gR,C6U:()=>bR,VBU:()=>he,FsC:()=>Hn,jDH:()=>Dr,G2t:()=>Ns,$C:()=>Lt,EJ8:()=>An,rXU:()=>ff,nrm:()=>wE,eu8:()=>Bv,bVm:()=>$v,qex:()=>Lv,k0s:()=>h_,j41:()=>Am,RV6:()=>f_,xGo:()=>dC,Mr5:()=>Om,pXf:()=>Fm,nnv:()=>UE,YFu:()=>y_,uP7:()=>v_,k04:()=>wd,PLo:()=>__,KVO:()=>Yr,kS0:()=>hy,QTQ:()=>SS,bIt:()=>Xv,lsd:()=>vR,joV:()=>rC,qSk:()=>ny,XpG:()=>gp,nI1:()=>LR,bMT:()=>sb,i5U:()=>$R,brH:()=>ob,SdG:()=>qv,NAR:()=>uR,Y8G:()=>_T,lJ4:()=>tx,eq3:()=>Qh,l_i:()=>l1,sMw:()=>MR,ziG:()=>c1,sGs:()=>nx,NyB:()=>wR,mGM:()=>yR,sdS:()=>ER,Dyx:()=>LO,Z7z:()=>FO,fX1:()=>PO,Vm6:()=>NO,Njj:()=>Mi,tSv:()=>cS,eBV:()=>qu,npT:()=>nS,B4B:()=>Uh,n$t:()=>wg,wjB:()=>$m,Aen:()=>dd,xc7:()=>vT,Kam:()=>Yv,zvX:()=>p_,DNE:()=>i_,C5r:()=>lb,EFF:()=>Ha,JRh:()=>YT,SpI:()=>YE,Lme:()=>qT,E5c:()=>Sf,DH7:()=>nb,mxI:()=>ZT,R50:()=>QT,GBs:()=>_R});let A=null,w=!1,D=1;const C=Symbol("SIGNAL");function S(s){const o=A;return A=s,o}const x={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $(s){if(w)throw new Error("");if(null===A)return;A.consumerOnSignalRead(s);const o=A.nextProducerIndex++;Y(A),o<A.producerNode.length&&A.producerNode[o]!==s&&j(A)&&we(A.producerNode[o],A.producerIndexOfThis[o]),A.producerNode[o]!==s&&(A.producerNode[o]=s,A.producerIndexOfThis[o]=j(A)?re(s,A,o):0),A.producerLastReadVersion[o]=s.version}function O(s){if((!j(s)||s.dirty)&&(s.dirty||s.lastCleanEpoch!==D)){if(!s.producerMustRecompute(s)&&!ue(s))return s.dirty=!1,void(s.lastCleanEpoch=D);s.producerRecomputeValue(s),s.dirty=!1,s.lastCleanEpoch=D}}function M(s){if(void 0===s.liveConsumerNode)return;const o=w;w=!0;try{for(const l of s.liveConsumerNode)l.dirty||z(l)}finally{w=o}}function L(){return!1!==A?.consumerAllowSignalWrites}function z(s){s.dirty=!0,M(s),s.consumerMarkedDirty?.(s)}function F(s){return s&&(s.nextProducerIndex=0),S(s)}function J(s,o){if(S(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(j(s))for(let l=s.nextProducerIndex;l<s.producerNode.length;l++)we(s.producerNode[l],s.producerIndexOfThis[l]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function ue(s){Y(s);for(let o=0;o<s.producerNode.length;o++){const l=s.producerNode[o],h=s.producerLastReadVersion[o];if(h!==l.version||(O(l),h!==l.version))return!0}return!1}function ce(s){if(Y(s),j(s))for(let o=0;o<s.producerNode.length;o++)we(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function re(s,o,l){if(se(s),0===s.liveConsumerNode.length&&W(s))for(let h=0;h<s.producerNode.length;h++)s.producerIndexOfThis[h]=re(s.producerNode[h],s,h);return s.liveConsumerIndexOfThis.push(l),s.liveConsumerNode.push(o)-1}function we(s,o){if(se(s),1===s.liveConsumerNode.length&&W(s))for(let h=0;h<s.producerNode.length;h++)we(s.producerNode[h],s.producerIndexOfThis[h]);const l=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[l],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[l],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const h=s.liveConsumerIndexOfThis[o],m=s.liveConsumerNode[o];Y(m),m.producerIndexOfThis[h]=o}}function j(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Y(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}function se(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}function W(s){return void 0!==s.producerNode}function Ce(s){const o=Object.create(yt);o.computation=s;const l=()=>{if(O(o),$(o),o.value===Xe)throw o.error;return o.value};return l[C]=o,l}const Q=Symbol("UNSET"),Me=Symbol("COMPUTING"),Xe=Symbol("ERRORED"),yt={...x,value:Q,dirty:!0,error:null,equal:d,producerMustRecompute:s=>s.value===Q||s.value===Me,producerRecomputeValue(s){if(s.value===Me)throw new Error("Detected cycle in computations.");const o=s.value;s.value=Me;const l=F(s);let h;try{h=s.computation()}catch(m){h=Xe,s.error=m}finally{J(s,l)}o!==Q&&o!==Xe&&h!==Xe&&s.equal(o,h)?s.value=o:(s.value=h,s.version++)}};let je=function Je(){throw new Error};function X(){je()}let _e=null;function Qe(s,o){L()||X(),s.equal(s.value,o)||(s.value=o,function Vt(s){s.version++,function R(){D++}(),M(s),_e?.()}(s))}const qt={...x,equal:d,value:void 0};const Ot=()=>{},ft={...x,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{null!==s.schedule&&s.schedule(s.ref)},hasRun:!1,cleanupFn:Ot};var Ye=_(521),vt=_(3119),It=_(2672),ot=_(5443);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
const sl="https://g.co/ng/security#xss";class Oi extends Error{constructor(o,l){super(Ao(o,l)),this.code=o}}function Ao(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}function Ko(s){return{toString:s}.toString()}const Fa="__parameters__";function ol(s,o,l){return Ko(()=>{const h=function La(s){return function(...l){if(s){const h=s(...l);for(const m in h)this[m]=h[m]}}}(o);function m(...b){if(this instanceof m)return h.apply(this,b),this;const N=new m(...b);return ee.annotation=N,ee;function ee(be,Ze,mt){const Ht=be.hasOwnProperty(Fa)?be[Fa]:Object.defineProperty(be,Fa,{value:[]})[Fa];for(;Ht.length<=mt;)Ht.push(null);return(Ht[mt]=Ht[mt]||[]).push(N),be}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}const Rs=globalThis;function es(s){for(let o in s)if(s[o]===es)return o;throw Error("Could not find renamed property on target object.")}function qa(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ao(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ao).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ea(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Xo=es({__forward_ref__:es});function ll(s){return s.__forward_ref__=ll,s.toString=function(){return ao(this())},s}function pr(s){return ks(s)?s():s}function ks(s){return"function"==typeof s&&s.hasOwnProperty(Xo)&&s.__forward_ref__===ll}function de(s,o,l){s!=o&&function Rn(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}(l,s,o,"==")}function Dr(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ns(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ks(s){return oa(s,Kt)||oa(s,en)}function xa(s){return null!==Ks(s)}function oa(s,o){return s.hasOwnProperty(o)?s[o]:null}function Et(s){return s&&(s.hasOwnProperty(ln)||s.hasOwnProperty(Tn))?s[ln]:null}const Kt=es({\u0275prov:es}),ln=es({\u0275inj:es}),en=es({ngInjectableDef:es}),Tn=es({ngInjectorDef:es});class an{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Dr({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gr(s){return s&&!!s.\u0275providers}const ns=es({\u0275cmp:es}),Jl=es({\u0275dir:es}),Mo=es({\u0275pipe:es}),Yo=es({\u0275mod:es}),Qs=es({\u0275fac:es}),bl=es({__NG_ELEMENT_ID__:es}),aa=es({__NG_ENV_ID__:es});function _r(s){return"string"==typeof s?s:null==s?"":String(s)}function _u(s,o){throw new Oi(-201,!1)}var fs=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(fs||{});let wl;function Wo(){return wl}function co(s){const o=wl;return wl=s,o}function la(s,o,l){const h=Ks(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&fs.Optional?null:void 0!==o?o:void _u()}const Oc={},El="__NG_DI_FLAG__",Ee="ngTempTokenPath",Ue=/\n/gm,on="__source";let jn;function Ui(s){const o=jn;return jn=s,o}function Fs(s,o=fs.Default){if(void 0===jn)throw new Oi(-203,!1);return null===jn?la(s,void 0,o):jn.get(s,o&fs.Optional?null:void 0,o)}function Yr(s,o=fs.Default){return(Wo()||Fs)(pr(s),o)}function wi(s,o=fs.Default){return Yr(s,eo(o))}function eo(s){return typeof s>"u"||"number"==typeof s?s:(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function js(s){const o=[];for(let l=0;l<s.length;l++){const h=pr(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Oi(900,!1);let m,b=fs.Default;for(let N=0;N<h.length;N++){const ee=h[N],be=Vl(ee);"number"==typeof be?-1===be?m=ee.token:b|=be:m=ee}o.push(Yr(m,b))}else o.push(Yr(h))}return o}function uo(s,o){return s[El]=o,s.prototype[El]=o,s}function Vl(s){return s[El]}const pc=uo(ol("Inject",s=>({token:s})),-1),$o=uo(ol("Optional"),8),cl=uo(ol("SkipSelf"),4);function ec(s,o){return s.hasOwnProperty(Qs)?s[Qs]:null}function mc(s,o){s.forEach(l=>Array.isArray(l)?mc(l,o):o(l))}function Zs(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Wu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function dl(s,o,l){let h=Jc(s,o);return h>=0?s[1|h]=l:(h=~h,function yu(s,o,l,h){let m=s.length;if(m==o)s.push(l,h);else if(1===m)s.push(h,s[0]),s[0]=l;else{for(m--,s.push(s[m-1],s[m]);m>o;)s[m]=s[m-2],m--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function Ca(s,o){const l=Jc(s,o);if(l>=0)return s[1|l]}function Jc(s,o){return function Jd(s,o,l){let h=0,m=s.length>>l;for(;m!==h;){const b=h+(m-h>>1),N=s[b<<l];if(o===N)return b<<l;N>o?m=b:h=b+1}return~(m<<l)}(s,o,1)}const Va={},jr=[],gc=new an(""),nc=new an("",-1),zc=new an("");class Eo{get(o,l=Oc){if(l===Oc){const h=new Error(`NullInjectorError: No provider for ${ao(o)}!`);throw h.name="NullInjectorError",h}return l}}var ic=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ic||{}),vu=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(vu||{}),Pc=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(Pc||{});function Au(s,o,l){let h=s.length;for(;;){const m=s.indexOf(o,l);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const b=o.length;if(m+b===h||s.charCodeAt(m+b)<=32)return m}l=m+1}}function gd(s,o,l){let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const b=l[h++],N=l[h++],ee=l[h++];s.setAttribute(o,N,ee,b)}else{const b=m,N=l[++h];wh(b)?s.setProperty(o,b,N):s.setAttribute(o,b,N),h++}}return h}function Td(s){return 3===s||4===s||6===s}function wh(s){return 64===s.charCodeAt(0)}function jc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const m=o[h];"number"==typeof m?l=m:0===l||Mu(s,l,m,null,-1===l||2===l?o[++h]:null)}}return s}function Mu(s,o,l,h,m){let b=0,N=s.length;if(-1===o)N=-1;else for(;b<s.length;){const ee=s[b++];if("number"==typeof ee){if(ee===o){N=-1;break}if(ee>o){N=b-1;break}}}for(;b<s.length;){const ee=s[b];if("number"==typeof ee)break;if(ee===l){if(null===h)return void(null!==m&&(s[b+1]=m));if(h===s[b+1])return void(s[b+2]=m)}b++,null!==h&&b++,null!==m&&b++}-1!==N&&(s.splice(N,0,o),b=N+1),s.splice(b++,0,l),null!==h&&s.splice(b++,0,h),null!==m&&s.splice(b++,0,m)}const Eh="ng-template";function xh(s,o,l,h){let m=0;if(h){for(;m<o.length&&"string"==typeof o[m];m+=2)if("class"===o[m]&&-1!==Au(o[m+1].toLowerCase(),l,0))return!0}else if(Al(s))return!1;if(m=o.indexOf(1,m),m>-1){let b;for(;++m<o.length&&"string"==typeof(b=o[m]);)if(b.toLowerCase()===l)return!0}return!1}function Al(s){return 4===s.type&&s.value!==Eh}function Hu(s,o,l){return o===(4!==s.type||l?s.value:Eh)}function Wc(s,o,l){let h=4;const m=s.attrs,b=null!==m?function nu(s){for(let o=0;o<s.length;o++)if(Td(s[o]))return o;return s.length}(m):0;let N=!1;for(let ee=0;ee<o.length;ee++){const be=o[ee];if("number"!=typeof be){if(!N)if(4&h){if(h=2|1&h,""!==be&&!Hu(s,be,l)||""===be&&1===o.length){if(hl(h))return!1;N=!0}}else if(8&h){if(null===m||!xh(s,m,be,l)){if(hl(h))return!1;N=!0}}else{const Ze=o[++ee],mt=So(be,m,Al(s),l);if(-1===mt){if(hl(h))return!1;N=!0;continue}if(""!==Ze){let Ht;if(Ht=mt>b?"":m[mt+1].toLowerCase(),2&h&&Ze!==Ht){if(hl(h))return!1;N=!0}}}}else{if(!N&&!hl(h)&&!hl(be))return!1;if(N&&hl(be))continue;N=!1,h=be|1&h}}return hl(h)||N}function hl(s){return!(1&s)}function So(s,o,l,h){if(null===o)return-1;let m=0;if(h||!l){let b=!1;for(;m<o.length;){const N=o[m];if(N===s)return m;if(3===N||6===N)b=!0;else{if(1===N||2===N){let ee=o[++m];for(;"string"==typeof ee;)ee=o[++m];continue}if(4===N)break;if(0===N){m+=4;continue}}m+=b?1:2}return-1}return function Gu(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function _c(s,o,l=!1){for(let h=0;h<o.length;h++)if(Wc(s,o[h],l))return!0;return!1}function eh(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let m=0;m<s.length;m++)if(s[m]!==h[m])continue e;return!0}}return!1}function Ch(s,o){return s?":not("+o.trim()+")":o}function to(s){let o=s[0],l=1,h=2,m="",b=!1;for(;l<s.length;){let N=s[l];if("string"==typeof N)if(2&h){const ee=s[++l];m+="["+N+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&h?m+="."+N:4&h&&(m+=" "+N);else""!==m&&!hl(N)&&(o+=Ch(b,m),m=""),h=N,b=b||!hl(h);l++}return""!==m&&(o+=Ch(b,m)),o}function he(s){return Ko(()=>{const o=fl(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ic.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||vu.Emulated,styles:s.styles||jr,_:null,schemas:s.schemas||null,tView:null,id:""};Ml(l);const h=s.dependencies;return l.directiveDefs=Ul(h,!1),l.pipeDefs=Ul(h,!0),l.id=function Sh(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const m of l)o=Math.imul(31,o)+m.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function Ae(s){return ci(s)||rr(s)}function ht(s){return null!==s}function Lt(s){return Ko(()=>({type:s.type,bootstrap:s.bootstrap||jr,declarations:s.declarations||jr,imports:s.imports||jr,exports:s.exports||jr,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function cn(s,o){if(null==s)return Va;const l={};for(const h in s)if(s.hasOwnProperty(h)){const m=s[h];let b,N,ee=Pc.None;Array.isArray(m)?(ee=m[0],b=m[1],N=m[2]??b):(b=m,N=m),o?(l[b]=ee!==Pc.None?[h,ee]:h,o[b]=N):l[b]=h}return l}function Hn(s){return Ko(()=>{const o=fl(s);return Ml(o),o})}function An(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ci(s){return s[ns]||null}function rr(s){return s[Jl]||null}function yr(s){return s[Mo]||null}function Pr(s){const o=ci(s)||rr(s)||yr(s);return null!==o&&o.standalone}function Oo(s,o){const l=s[Yo]||null;if(!l&&!0===o)throw new Error(`Type ${ao(s)} does not have '\u0275mod' property.`);return l}function fl(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||Va,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||jr,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cn(s.inputs,o),outputs:cn(s.outputs),debugInfo:null}}function Ml(s){s.features?.forEach(o=>o(s))}function Ul(s,o){if(!s)return null;const l=o?yr:Ae;return()=>("function"==typeof s?s():s).map(h=>l(h)).filter(ht)}function iu(s){return{\u0275providers:s}}function xe(...s){return{\u0275providers:ge(0,s),\u0275fromNgModule:!0}}function ge(s,...o){const l=[],h=new Set;let m;const b=N=>{l.push(N)};return mc(o,N=>{const ee=N;Oe(ee,b,[],h)&&(m||=[],m.push(ee))}),void 0!==m&&Ke(m,b),l}function Ke(s,o){for(let l=0;l<s.length;l++){const{ngModule:h,providers:m}=s[l];Jt(m,b=>{o(b,h)})}}function Oe(s,o,l,h){if(!(s=pr(s)))return!1;let m=null,b=Et(s);const N=!b&&ci(s);if(b||N){if(N&&!N.standalone)return!1;m=s}else{const be=s.ngModule;if(b=Et(be),!b)return!1;m=be}const ee=h.has(m);if(N){if(ee)return!1;if(h.add(m),N.dependencies){const be="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ze of be)Oe(Ze,o,l,h)}}else{if(!b)return!1;{if(null!=b.imports&&!ee){let Ze;h.add(m);try{mc(b.imports,mt=>{Oe(mt,o,l,h)&&(Ze||=[],Ze.push(mt))})}finally{}void 0!==Ze&&Ke(Ze,o)}if(!ee){const Ze=ec(m)||(()=>new m);o({provide:m,useFactory:Ze,deps:jr},m),o({provide:zc,useValue:m,multi:!0},m),o({provide:gc,useValue:()=>Yr(m),multi:!0},m)}const be=b.providers;if(null!=be&&!ee){const Ze=s;Jt(be,mt=>{o(mt,Ze)})}}}return m!==s&&void 0!==s.providers}function Jt(s,o){for(let l of s)Gr(l)&&(l=l.\u0275providers),Array.isArray(l)?Jt(l,o):o(l)}const hn=es({provide:String,useValue:es});function Mn(s){return null!==s&&"object"==typeof s&&hn in s}function Ei(s){return"function"==typeof s}const Kr=new an(""),ps={},Rt={};let Es;function Ol(){return void 0===Es&&(Es=new Eo),Es}class fn{}class Sa extends fn{get destroyed(){return this._destroyed}constructor(o,l,h,m){super(),this.parent=l,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,su(o,N=>this.processProvider(N)),this.records.set(nc,Is(void 0,this)),m.has("environment")&&this.records.set(fn,Is(void 0,this));const b=this.records.get(Kr);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(zc,jr,fs.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=S(null);try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of l)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=Ui(this),h=co(void 0);try{return o()}finally{Ui(l),co(h)}}get(o,l=Oc,h=fs.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(aa))return o[aa](this);h=eo(h);const b=Ui(this),N=co(void 0);try{if(!(h&fs.SkipSelf)){let be=this.records.get(o);if(void 0===be){const Ze=function yc(s){return"function"==typeof s||"object"==typeof s&&s instanceof an}(o)&&Ks(o);be=Ze&&this.injectableDefInScope(Ze)?Is(go(o),ps):null,this.records.set(o,be)}if(null!=be)return this.hydrate(o,be)}return(h&fs.Self?Ol():this.parent).get(o,l=h&fs.Optional&&l===Oc?null:l)}catch(ee){if("NullInjectorError"===ee.name){if((ee[Ee]=ee[Ee]||[]).unshift(ao(o)),b)throw ee;return function xl(s,o,l,h){const m=s[Ee];throw o[on]&&m.unshift(o[on]),s.message=function Rc(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=ao(o);if(Array.isArray(o))m=o.map(ao).join(" -> ");else if("object"==typeof o){let b=[];for(let N in o)if(o.hasOwnProperty(N)){let ee=o[N];b.push(N+":"+("string"==typeof ee?JSON.stringify(ee):ao(ee)))}m=`{${b.join(", ")}}`}return`${l}${h?"("+h+")":""}[${m}]: ${s.replace(Ue,"\n  ")}`}("\n"+s.message,m,l,h),s.ngTokenPath=m,s[Ee]=null,s}(ee,o,"R3InjectorError",this.source)}throw ee}finally{co(N),Ui(b)}}resolveInjectorInitializers(){const o=S(null),l=Ui(this),h=co(void 0);try{const b=this.get(gc,jr,fs.Self);for(const N of b)N()}finally{Ui(l),co(h),S(o)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(ao(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oi(205,!1)}processProvider(o){let l=Ei(o=pr(o))?o:pr(o&&o.provide);const h=function Js(s){return Mn(s)?Is(void 0,s.useValue):Is(Mr(s),ps)}(o);if(!Ei(o)&&!0===o.multi){let m=this.records.get(l);m||(m=Is(void 0,ps,!0),m.factory=()=>js(m.multi),this.records.set(l,m)),l=o,m.multi.push(o)}this.records.set(l,h)}hydrate(o,l){const h=S(null);try{return l.value===ps&&(l.value=Rt,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Hc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{S(h)}}injectableDefInScope(o){if(!o.providedIn)return!1;const l=pr(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function go(s){const o=Ks(s),l=null!==o?o.factory:ec(s);if(null!==l)return l;if(s instanceof an)throw new Oi(204,!1);if(s instanceof Function)return function Ro(s){if(s.length>0)throw new Oi(204,!1);const l=function P(s){return s&&(s[Kt]||s[en])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oi(204,!1)}function Mr(s,o,l){let h;if(Ei(s)){const m=pr(s);return ec(m)||go(m)}if(Mn(s))h=()=>pr(s.useValue);else if(function Ii(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...js(s.deps||[]));else if(function di(s){return!(!s||!s.useExisting)}(s))h=()=>Yr(pr(s.useExisting));else{const m=pr(s&&(s.useClass||s.provide));if(!function ru(s){return!!s.deps}(s))return ec(m)||go(m);h=()=>new m(...js(s.deps))}return h}function Is(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function su(s,o){for(const l of s)Array.isArray(l)?su(l,o):l&&Gr(l)?su(l.\u0275providers,o):o(l)}function Rl(s,o){s instanceof Sa&&s.assertNotDestroyed();const h=Ui(s),m=co(void 0);try{return o()}finally{Ui(h),co(m)}}function Ku(){return void 0!==Wo()||null!=function li(){return jn}()}function zl(s){if(!Ku())throw new Oi(-203,!1)}const Si=0,Un=1,_i=2,nr=3,er=4,Wr=5,xs=6,Ls=7,qr=8,xr=9,dr=10,Xi=11,ca=12,Cr=13,ls=14,cs=15,qo=16,Qo=17,Qa=18,Ds=19,Kc=20,Do=21,vc=22,Da=23,Sr=25,Id=1,ou=7,xo=9,Ua=10;var Ad=function(s){return s[s.None=0]="None",s[s.HasTransplantedViews=2]="HasTransplantedViews",s}(Ad||{});function Sl(s){return Array.isArray(s)&&"object"==typeof s[Id]}function Nl(s){return Array.isArray(s)&&!0===s[Id]}function Md(s){return!!(4&s.flags)}function Pl(s){return s.componentOffset>-1}function bu(s){return!(1&~s.flags)}function ua(s){return!!s.template}function Ou(s){return!!(512&s[_i])}class Ah{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function bc(s,o,l,h){null!==o?o.applyValueToInputSignal(o,h):s[l]=h}function Of(){return Qm}function Qm(s){return s.type.prototype.ngOnChanges&&(s.setInput=G_),Zm}function Zm(){const s=K_(this),o=s?.current;if(o){const l=s.previous;if(l===Va)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function G_(s,o,l,h,m){const b=this.declaredInputs[h],N=K_(s)||function X_(s,o){return s[Tp]=o}(s,{previous:Va,current:null}),ee=N.current||(N.current={}),be=N.previous,Ze=be[b];ee[b]=new Ah(Ze&&Ze.currentValue,l,be===Va),bc(s,o,m,l)}Of.ngInherit=!0;const Tp="__ngSimpleChanges__";function K_(s){return s[Tp]||null}const Yu=function(s,o,l){},kp="svg";function _o(s){for(;Array.isArray(s);)s=s[Si];return s}function Ip(s,o){return _o(o[s])}function wc(s,o){return _o(o[s.index])}function Rf(s,o){return s.data[o]}function is(s,o){return s[o]}function Eu(s,o){const l=o[s];return Sl(l)?l:l[Si]}function Ap(s){return!(128&~s[_i])}function Za(s,o){return null==o?null:s[o]}function Kb(s){s[Qo]=0}function Q_(s){1024&s[_i]||(s[_i]|=1024,Ap(s)&&Mp(s))}function Mh(s){return!!(9216&s[_i]||s[Da]?.dirty)}function Nf(s){s[dr].changeDetectionScheduler?.notify(7),64&s[_i]&&(s[_i]|=1024),Mh(s)&&Mp(s)}function Mp(s){s[dr].changeDetectionScheduler?.notify(0);let o=me(s);for(;null!==o&&!(8192&o[_i])&&(o[_i]|=8192,Ap(o));)o=me(o)}function B(s,o){if(!(256&~s[_i]))throw new Oi(911,!1);null===s[Do]&&(s[Do]=[]),s[Do].push(o)}function me(s){const o=s[nr];return Nl(o)?o[nr]:o}const dt={lFrame:Jx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ln=!1;function yo(){return dt.bindingsEnabled}function ho(){return null!==dt.skipHydrationRootTNode}function oi(){return dt.lFrame.lView}function As(){return dt.lFrame.tView}function qu(s){return dt.lFrame.contextLView=s,s[qr]}function Mi(s){return dt.lFrame.contextLView=null,s}function da(){let s=Rh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rh(){return dt.lFrame.currentTNode}function Op(){const s=dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function au(s,o){const l=dt.lFrame;l.currentTNode=s,l.isParent=o}function Z_(){return dt.lFrame.isParent}function Xb(){dt.lFrame.isParent=!1}function Xx(){return Ln}function Wl(s){Ln=s}function rc(){const s=dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ha(){return dt.lFrame.bindingIndex}function Nd(){return dt.lFrame.bindingIndex++}function Xc(s){const o=dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function J_(s){dt.lFrame.inI18n=s}function qx(s,o){const l=dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,qb(o)}function qb(s){dt.lFrame.currentDirectiveIndex=s}function Qb(s){const o=dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Zb(){return dt.lFrame.currentQueryIndex}function ey(s){dt.lFrame.currentQueryIndex=s}function jk(s){const o=s[Un];return 2===o.type?o.declTNode:1===o.type?s[Wr]:null}function Jb(s,o,l){if(l&fs.SkipSelf){let m=o,b=s;for(;!(m=m.parent,null!==m||l&fs.Host||(m=jk(b),null===m||(b=b[ls],10&m.type))););if(null===m)return!1;o=m,s=b}const h=dt.lFrame=Zx();return h.currentTNode=o,h.lView=s,!0}function Jm(s){const o=Zx(),l=s[Un];dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Zx(){const s=dt.lFrame,o=null===s?null:s.child;return null===o?Jx(s):o}function Jx(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function eC(){const s=dt.lFrame;return dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const tC=eC;function ty(){const s=eC();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ec(){return dt.lFrame.selectedIndex}function Pf(s){dt.lFrame.selectedIndex=s}function za(){const s=dt.lFrame;return Rf(s.tView,s.selectedIndex)}function ny(){dt.lFrame.currentNamespace=kp}function rC(){!function Wk(){dt.lFrame.currentNamespace=null}()}let sC=!0;function Ff(){return sC}function Pd(s){sC=s}function iy(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const b=s.data[l].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:ee,ngAfterViewInit:be,ngAfterViewChecked:Ze,ngOnDestroy:mt}=b;N&&(s.contentHooks??=[]).push(-l,N),ee&&((s.contentHooks??=[]).push(l,ee),(s.contentCheckHooks??=[]).push(l,ee)),be&&(s.viewHooks??=[]).push(-l,be),Ze&&((s.viewHooks??=[]).push(l,Ze),(s.viewCheckHooks??=[]).push(l,Ze)),null!=mt&&(s.destroyHooks??=[]).push(l,mt)}}function Rp(s,o,l){oC(s,o,3,l)}function eg(s,o,l,h){(3&s[_i])===l&&oC(s,o,l,h)}function n0(s,o){let l=s[_i];(3&l)===o&&(l&=16383,l+=1,s[_i]=l)}function oC(s,o,l,h){const b=h??-1,N=o.length-1;let ee=0;for(let be=void 0!==h?65535&s[Qo]:0;be<N;be++)if("number"==typeof o[be+1]){if(ee=o[be],null!=h&&ee>=h)break}else o[be]<0&&(s[Qo]+=65536),(ee<b||-1==b)&&(Hk(s,l,o,be),s[Qo]=(4294901760&s[Qo])+be+2),be++}function r0(s,o){Yu(4,s,o);const l=S(null);try{o.call(s)}finally{S(l),Yu(5,s,o)}}function Hk(s,o,l,h){const m=l[h]<0,b=l[h+1],ee=s[m?-l[h]:l[h]];m?s[_i]>>14<s[Qo]>>16&&(3&s[_i])===o&&(s[_i]+=16384,r0(ee,b)):r0(ee,b)}const Np=-1;class Pp{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}const o0={};class Nh{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){h=eo(h);const m=this.injector.get(o,o0,h);return m!==o0||l===o0?m:this.parentInjector.get(o,l,h)}}function sy(s){return s!==Np}function tg(s){return 32767&s}function $f(s,o){let l=function Xk(s){return s>>16}(s),h=o;for(;l>0;)h=h[ls],l--;return h}let oy=!0;function Fp(s){const o=oy;return oy=s,o}const ay=255,aC=5;let a0=0;const Fd={};function ng(s,o){const l=c0(s,o);if(-1!==l)return l;const h=o[Un];h.firstCreatePass&&(s.injectorIndex=o.length,l0(h.data,s),l0(o,null),l0(h.blueprint,null));const m=ig(s,o),b=s.injectorIndex;if(sy(m)){const N=tg(m),ee=$f(m,o),be=ee[Un].data;for(let Ze=0;Ze<8;Ze++)o[b+Ze]=ee[N+Ze]|be[N+Ze]}return o[b+8]=m,b}function l0(s,o){s.push(0,0,0,0,0,0,0,0,o)}function c0(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ig(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,m=o;for(;null!==m;){if(h=og(m),null===h)return Np;if(l++,m=m[ls],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return Np}function ly(s,o,l){!function lC(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(bl)&&(h=l[bl]),null==h&&(h=l[bl]=a0++);const m=h&ay;o.data[s+(m>>aC)]|=1<<m}(s,o,l)}function u0(s,o,l){if(l&fs.Optional||void 0!==s)return s;_u()}function cy(s,o,l,h){if(l&fs.Optional&&void 0===h&&(h=null),!(l&(fs.Self|fs.Host))){const m=s[xr],b=co(void 0);try{return m?m.get(o,h,l&fs.Optional):la(o,h,l&fs.Optional)}finally{co(b)}}return u0(h,0,l)}function uy(s,o,l,h=fs.Default,m){if(null!==s){if(2048&o[_i]&&!(h&fs.Self)){const N=function Zk(s,o,l,h,m){let b=s,N=o;for(;null!==b&&null!==N&&2048&N[_i]&&!(512&N[_i]);){const ee=rg(b,N,l,h|fs.Self,Fd);if(ee!==Fd)return ee;let be=b.parent;if(!be){const Ze=N[Kc];if(Ze){const mt=Ze.get(l,Fd,h);if(mt!==Fd)return mt}be=og(N),N=N[ls]}b=be}return m}(s,o,l,h,Fd);if(N!==Fd)return N}const b=rg(s,o,l,h,Fd);if(b!==Fd)return b}return cy(o,l,h,m)}function rg(s,o,l,h,m){const b=function qk(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(bl)?s[bl]:void 0;return"number"==typeof o?o>=0?o&ay:Qk:o}(l);if("function"==typeof b){if(!Jb(o,s,h))return h&fs.Host?u0(m,0,h):cy(o,l,h,m);try{let N;if(N=b(h),null!=N||h&fs.Optional)return N;_u()}finally{tC()}}else if("number"==typeof b){let N=null,ee=c0(s,o),be=Np,Ze=h&fs.Host?o[cs][Wr]:null;for((-1===ee||h&fs.SkipSelf)&&(be=-1===ee?ig(s,o):o[ee+8],be!==Np&&h0(h,!1)?(N=o[Un],ee=tg(be),o=$f(be,o)):ee=-1);-1!==ee;){const mt=o[Un];if(uC(b,ee,mt.data)){const Ht=d0(ee,o,l,N,h,Ze);if(Ht!==Fd)return Ht}be=o[ee+8],be!==Np&&h0(h,o[Un].data[ee+8]===Ze)&&uC(b,ee,o)?(N=mt,ee=tg(be),o=$f(be,o)):ee=-1}}return m}function d0(s,o,l,h,m,b){const N=o[Un],ee=N.data[s+8],mt=dy(ee,N,l,null==h?Pl(ee)&&oy:h!=N&&!!(3&ee.type),m&fs.Host&&b===ee);return null!==mt?nf(o,N,mt,ee):Fd}function dy(s,o,l,h,m){const b=s.providerIndexes,N=o.data,ee=1048575&b,be=s.directiveStart,mt=b>>20,mn=m?ee+mt:s.directiveEnd;for(let yn=h?ee:ee+mt;yn<mn;yn++){const $n=N[yn];if(yn<be&&l===$n||yn>=be&&$n.type===l)return yn}if(m){const yn=N[be];if(yn&&ua(yn)&&yn.type===l)return be}return null}function nf(s,o,l,h){let m=s[l];const b=o.data;if(function Lf(s){return s instanceof Pp}(m)){const N=m;N.resolving&&function gu(s,o){throw o&&o.join(" > "),new Oi(-200,s)}(function as(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_r(s)}(b[l]));const ee=Fp(N.canSeeViewProviders);N.resolving=!0;const Ze=N.injectImpl?co(N.injectImpl):null;Jb(s,h,fs.Default);try{m=s[l]=N.factory(void 0,b,s,h),o.firstCreatePass&&l>=h.directiveStart&&function t0(s,o,l){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:b}=o.type.prototype;if(h){const N=Qm(o);(l.preOrderHooks??=[]).push(s,N),(l.preOrderCheckHooks??=[]).push(s,N)}m&&(l.preOrderHooks??=[]).push(0-s,m),b&&((l.preOrderHooks??=[]).push(s,b),(l.preOrderCheckHooks??=[]).push(s,b))}(l,b[l],o)}finally{null!==Ze&&co(Ze),Fp(ee),N.resolving=!1,tC()}}return m}function uC(s,o,l){return!!(l[o+(s>>aC)]&1<<s)}function h0(s,o){return!(s&fs.Self||s&fs.Host&&o)}class xc{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return uy(this._tNode,this._lView,o,eo(h),l)}}function Qk(){return new xc(da(),oi())}function dC(s){return Ko(()=>{const o=s.prototype.constructor,l=o[Qs]||sg(o),h=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==h;){const b=m[Qs]||sg(m);if(b&&b!==l)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function sg(s){return ks(s)?()=>{const o=sg(pr(s));return o&&o()}:ec(s)}function og(s){const o=s[Un],l=o.type;return 2===l?o.declTNode:1===l?s[Wr]:null}function hy(s){return function cC(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let m=0;for(;m<h;){const b=l[m];if(Td(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<h&&"string"==typeof l[m];)m++;else{if(b===o)return l[m+1];m+=2}}}return null}(da(),s)}function Qu(s,o=null,l=null,h){const m=oh(s,o,l,h);return m.resolveInjectorInitializers(),m}function oh(s,o=null,l=null,h,m=new Set){const b=[l||jr,xe(s)];return h=h||("object"==typeof s?void 0:ao(s)),new Sa(b,o||Ol(),h||null,m)}class ro{static#e=this.THROW_IF_NOT_FOUND=Oc;static#t=this.NULL=new Eo;static create(o,l){if(Array.isArray(o))return Qu({name:""},l,o,"");{const h=o.name??"";return Qu({name:h},o.parent,o.providers,h)}}static#n=this.\u0275prov=Dr({token:ro,providedIn:"any",factory:()=>Yr(nc)});static#i=this.__NG_ELEMENT_ID__=-1}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */new an("").__NG_ELEMENT_ID__=s=>{const o=da();if(null===o)throw new Oi(204,!1);if(2&o.type)return o.value;if(s&fs.Optional)return null;throw new Oi(204,!1)};function ag(s){return s.ngOriginalError}class lu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&ag(o);for(;l&&ag(l);)l=ag(l);return l||null}}const mC=new an("",{providedIn:"root",factory:()=>wi(lu).handleError.bind(void 0)});let lg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=rf;static#t=this.__NG_ENV_ID__=l=>l}return s})();class cg extends lg{constructor(o){super(),this._lView=o}onDestroy(o){return B(this._lView,o),()=>function G(s,o){if(null===s[Do])return;const l=s[Do].indexOf(o);-1!==l&&s[Do].splice(l,1)}(this._lView,o)}}function rf(){return new cg(oi())}function rI(){return Ph(da(),oi())}function Ph(s,o){return new ug(wc(s,o))}let ug=(()=>{class s{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=rI}return s})();function g0(s){return s instanceof ug?s.nativeElement:s}let Uf=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:()=>new s})}return s})();const bs=class sI extends vt.B7{constructor(o=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=o,Ku()&&(this.destroyRef=wi(lg,{optional:!0})??void 0,this.pendingTasks=wi(Uf,{optional:!0})??void 0)}emit(o){const l=S(null);try{super.next(o)}finally{S(l)}}subscribe(o,l,h){let m=o,b=l||(()=>null),N=h;if(o&&"object"==typeof o){const be=o;m=be.next?.bind(be),b=be.error?.bind(be),N=be.complete?.bind(be)}this.__isAsync&&(b=this.wrapInTimeout(b),m&&(m=this.wrapInTimeout(m)),N&&(N=this.wrapInTimeout(N)));const ee=super.subscribe({next:m,error:b,complete:N});return o instanceof It.y&&o.add(ee),ee}wrapInTimeout(o){return l=>{const h=this.pendingTasks?.add();setTimeout(()=>{o(l),void 0!==h&&this.pendingTasks?.remove(h)})}}};function oI(){return this._results[Symbol.iterator]()}class Zu{static#e=Symbol.iterator;get changes(){return this._changes??=new bs}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=Zu.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=oI)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){this.dirty=!1;const h=function ul(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Cl(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let m=s[h],b=o[h];if(l&&(m=l(m),b=l(b)),b!==m)return!1}return!0}(this._results,h,l))&&(this._results=h,this.length=h.length,this.last=h[this.length-1],this.first=h[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function yy(s){return!(128&~s.flags)}const _0=new Map;let by=0;const hg="__ngContext__";function cu(s,o){Sl(o)?(s[hg]=o[Ds],function lI(s){_0.set(s[Ds],s)}(o)):s[hg]=o}function xC(s){return CC(s[ca])}function v0(s){return CC(s[er])}function CC(s){for(;null!==s&&!Nl(s);)s=s[er];return s}let E0;function x0(s){E0=s}function lf(){if(void 0!==E0)return E0;if(typeof document<"u")return document;throw new Oi(210,!1)}const jf=new an("",{providedIn:"root",factory:()=>EI}),EI="ng",xy=new an(""),C0=new an("",{providedIn:"platform",factory:()=>"unknown"}),xI=new an(""),MC=new an("",{providedIn:"root",factory:()=>lf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dy=()=>null;function pl(s,o,l=!1){return Dy(s,o,l)}const ed=new an("",{providedIn:"root",factory:()=>!1});let ky,Iy;function Gp(s){return function Kf(){if(void 0===ky&&(ky=null,Rs.trustedTypes))try{ky=Rs.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ky}()?.createHTML(s)||s}function Kp(){if(void 0===Iy&&(Iy=null,Rs.trustedTypes))try{Iy=Rs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Iy}function zC(s){return Kp()?.createHTML(s)||s}function jC(s){return Kp()?.createScriptURL(s)||s}class uf{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sl})`}}class kI extends uf{getTypeName(){return"HTML"}}class WC extends uf{getTypeName(){return"Style"}}class II extends uf{getTypeName(){return"Script"}}class Ay extends uf{getTypeName(){return"URL"}}class AI extends uf{getTypeName(){return"ResourceURL"}}function td(s){return s instanceof uf?s.changingThisBreaksApplicationSecurity:s}function Xp(s,o){const l=function Yf(s){return s instanceof uf&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${sl})`)}return l===o}function MI(s){return new kI(s)}function OI(s){return new WC(s)}function HC(s){return new II(s)}function RI(s){return new Ay(s)}function nd(s){return new AI(s)}function GC(s){const o=new NI(s);return function Wa(){try{return!!(new window.DOMParser).parseFromString(Gp(""),"text/html")}catch{return!1}}()?new My(o):o}class My{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Gp(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class NI{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=Gp(o),l}}const PI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $h(s){return(s=String(s)).match(PI)?s:"unsafe:"+s}function Bh(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Yp(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const KC=Bh("area,br,col,hr,img,wbr"),Oy=Bh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XC=Bh("rp,rt"),R0=Yp(KC,Yp(Oy,Bh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yp(XC,Bh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yp(XC,Oy)),qp=Bh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qC=Yp(qp,Bh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QC=Bh("script,style,template");class Ry{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0,m=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)m.push(l),l=LI(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let b=N0(l);if(b){l=b;break}l=m.pop()}return this.buf.join("")}startElement(o){const l=ZC(o).toLowerCase();if(!R0.hasOwnProperty(l))return this.sanitizedSomething=!0,!QC.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let m=0;m<h.length;m++){const b=h.item(m),N=b.name,ee=N.toLowerCase();if(!qC.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let be=b.value;qp[ee]&&(be=$h(be)),this.buf.push(" ",N,'="',eS(be),'"')}return this.buf.push(">"),!0}endElement(o){const l=ZC(o).toLowerCase();R0.hasOwnProperty(l)&&!KC.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(eS(o))}}function N0(s){const o=s.nextSibling;if(o&&s!==o.previousSibling)throw bg(o);return o}function LI(s){const o=s.firstChild;if(o&&function FI(s,o){return(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,o))throw bg(o);return o}function ZC(s){const o=s.nodeName;return"string"==typeof o?o:"FORM"}function bg(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const $I=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JC=/([^\#-~ |!])/g;function eS(s){return s.replace(/&/g,"&amp;").replace($I,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(JC,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ny;function tS(s,o){let l=null;try{Ny=Ny||GC(s);let h=o?String(o):"";l=Ny.getInertBodyElement(h);let m=5,b=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=b,b=l.innerHTML,l=Ny.getInertBodyElement(h)}while(h!==b);return Gp((new Ry).sanitizeChildren(Ja(l)||l))}finally{if(l){const h=Ja(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ja(s){return"content"in s&&function oc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ac=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ac||{});function nS(s){const o=Eg();return o?zC(o.sanitize(ac.HTML,s)||""):Xp(s,"HTML")?zC(td(s)):tS(lf(),_r(s))}function Uh(s){const o=Eg();return o?o.sanitize(ac.URL,s)||"":Xp(s,"URL")?td(s):$h(_r(s))}function iS(s){const o=Eg();if(o)return jC(o.sanitize(ac.RESOURCE_URL,s)||"");if(Xp(s,"ResourceURL"))return jC(td(s));throw new Oi(904,!1)}function wg(s,o,l){return function UI(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?iS:Uh}(o,l)(s)}function Eg(){const s=oi();return s&&s[dr].sanitizer}const zI=/^>|^->|<!--|-->|--!>|<!-$/g,jI=/(<|>)/g,Qp="\u200b$1\u200b";function cS(s){return s.ownerDocument.defaultView}function rd(s){return s instanceof Function?s():s}function Fu(s){return"browser"===(s??wi(ro)).get(C0)}var Ly=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Ly||{});let $0;function pS(s,o){return $0(s,o)}function df(s,o,l,h,m){if(null!=h){let b,N=!1;Nl(h)?b=h:Sl(h)&&(N=!0,h=h[Si]);const ee=_o(h);0===s&&null!==l?null==m?Ld(o,l,ee):Jf(o,l,ee,m||null,!0):1===s&&null!==l?Jf(o,l,ee,m||null,!0):2===s?Dg(o,ee,N):3===s&&o.destroyNode(ee),null!=b&&function iA(s,o,l,h,m){const b=l[ou];b!==_o(l)&&df(o,s,h,b,m);for(let ee=Ua;ee<l.length;ee++){const be=l[ee];Jp(be[Un],be,s,o,h,b)}}(o,s,b,l,m)}}function B0(s,o){return s.createText(o)}function mS(s,o,l){s.setValue(o,l)}function V0(s,o){return s.createComment(function oS(s){return s.replace(zI,o=>o.replace(jI,Qp))}(o))}function $y(s,o,l){return s.createElement(o,l)}function By(s,o){o[dr].changeDetectionScheduler?.notify(8),Jp(s,o,o[Xi],2,null,null)}function gS(s,o){const l=s[xo],h=o[nr];(Sl(h)||o[cs]!==h[nr][cs])&&(s[_i]|=Ad.HasTransplantedViews),null===l?s[xo]=[o]:l.push(o)}function zh(s,o){const l=s[xo],h=l.indexOf(o);l.splice(h,1)}function xg(s,o){if(s.length<=Ua)return;const l=Ua+o,h=s[l];if(h){const m=h[qo];null!==m&&m!==s&&zh(m,h),o>0&&(s[l-1][er]=h[er]);const b=Wu(s,Ua+o);!function qI(s,o){By(s,o),o[Si]=null,o[Wr]=null}(h[Un],h);const N=b[Qa];null!==N&&N.detachView(b[Un]),h[nr]=null,h[er]=null,h[_i]&=-129}return h}function Vy(s,o){if(!(256&o[_i])){const l=o[Xi];l.destroyNode&&Jp(s,o,l,3,null,null),function ZI(s){let o=s[ca];if(!o)return hf(s[Un],s);for(;o;){let l=null;if(Sl(o))l=o[ca];else{const h=o[Ua];h&&(l=h)}if(!l){for(;o&&!o[er]&&o!==s;)Sl(o)&&hf(o[Un],o),o=o[nr];null===o&&(o=s),Sl(o)&&hf(o[Un],o),l=o&&o[er]}o=l}}(o)}}function hf(s,o){if(256&o[_i])return;const l=S(null);try{o[_i]&=-129,o[_i]|=256,o[Da]&&ce(o[Da]),function Cg(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const m=o[l[h]];if(!(m instanceof Pp)){const b=l[h+1];if(Array.isArray(b))for(let N=0;N<b.length;N+=2){const ee=m[b[N]],be=b[N+1];Yu(4,ee,be);try{be.call(ee)}finally{Yu(5,ee,be)}}else{Yu(4,m,b);try{b.call(m)}finally{Yu(5,m,b)}}}}}(s,o),function eA(s,o){const l=s.cleanup,h=o[Ls];if(null!==l)for(let b=0;b<l.length-1;b+=2)if("string"==typeof l[b]){const N=l[b+3];N>=0?h[N]():h[-N].unsubscribe(),b+=2}else l[b].call(h[l[b+1]]);null!==h&&(o[Ls]=null);const m=o[Do];if(null!==m){o[Do]=null;for(let b=0;b<m.length;b++)(0,m[b])()}}(s,o),1===o[Un].type&&o[Xi].destroy();const h=o[qo];if(null!==h&&Nl(o[nr])){h!==o[nr]&&zh(h,o);const m=o[Qa];null!==m&&m.detachView(s)}!function cI(s){_0.delete(s[Ds])}(o)}finally{S(l)}}function U0(s,o,l){return z0(s,o.parent,l)}function z0(s,o,l){let h=o;for(;null!==h&&168&h.type;)h=(o=h).parent;if(null===h)return l[Si];{const{componentOffset:m}=h;if(m>-1){const{encapsulation:b}=s.data[h.directiveStart+m];if(b===vu.None||b===vu.Emulated)return null}return wc(h,l)}}function Jf(s,o,l,h,m){s.insertBefore(o,l,h,m)}function Ld(s,o,l){s.appendChild(o,l)}function _S(s,o,l,h,m){null!==h?Jf(s,o,l,h,m):Ld(s,o,l)}function Su(s,o){return s.parentNode(o)}function yS(s,o,l){return bS(s,o,l)}function vS(s,o,l){return 40&s.type?wc(s,l):null}let W0,bS=vS;function wS(s,o){bS=s,W0=o}function Uy(s,o,l,h){const m=U0(s,h,o),b=o[Xi],ee=yS(h.parent||o[Wr],h,o);if(null!=m)if(Array.isArray(l))for(let be=0;be<l.length;be++)_S(b,m,l[be],ee,!1);else _S(b,m,l,ee,!1);void 0!==W0&&W0(b,h,o,l,m)}function Zp(s,o){if(null!==o){const l=o.type;if(3&l)return wc(o,s);if(4&l)return Sg(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return Zp(s,h);{const m=s[o.index];return Nl(m)?Sg(-1,m):_o(m)}}if(32&l)return pS(o,s)()||_o(s[o.index]);{const h=ES(s,o);return null!==h?Array.isArray(h)?h[0]:Zp(me(s[cs]),h):Zp(s,o.next)}}return null}function ES(s,o){return null!==o?s[cs][Wr].projection[o.projection]:null}function Sg(s,o){const l=Ua+s+1;if(l<o.length){const h=o[l],m=h[Un].firstChild;if(null!==m)return Zp(h,m)}return o[ou]}function Dg(s,o,l){const h=Su(s,o);h&&function j0(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function H0(s,o,l,h,m,b,N){for(;null!=l;){if(128===l.type){l=l.next;continue}const ee=h[l.index],be=l.type;if(N&&0===o&&(ee&&cu(_o(ee),h),l.flags|=2),32&~l.flags)if(8&be)H0(s,o,l.child,h,m,b,!1),df(o,s,m,ee,b);else if(32&be){const Ze=pS(l,h);let mt;for(;mt=Ze();)df(o,s,m,mt,b);df(o,s,m,ee,b)}else 16&be?jy(s,o,h,l,m,b):df(o,s,m,ee,b);l=N?l.projectionNext:l.next}}function Jp(s,o,l,h,m,b){H0(l,h,s.firstChild,o,m,b,!1)}function jy(s,o,l,h,m,b){const N=l[cs],be=N[Wr].projection[h.projection];if(Array.isArray(be))for(let Ze=0;Ze<be.length;Ze++)df(o,s,m,be[Ze],b);else{let Ze=be;const mt=N[nr];yy(h)&&(Ze.flags|=128),H0(s,o,Ze,mt,m,b,!0)}}function xS(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function K0(s,o,l){const{mergedAttrs:h,classes:m,styles:b}=l;null!==h&&gd(s,o,h),null!==m&&xS(s,o,m),null!==b&&function rA(s,o,l){s.setAttribute(o,"style",l)}(s,o,b)}const Ms={};function Wy(s=1){CS(As(),oi(),Ec()+s,!1)}function CS(s,o,l,h){if(!h)if(3&~o[_i]){const b=s.preOrderHooks;null!==b&&eg(o,b,0,l)}else{const b=s.preOrderCheckHooks;null!==b&&Rp(o,b,l)}Pf(l)}function ff(s,o=fs.Default){const l=oi();return null===l?Yr(s,o):uy(da(),l,pr(s),o)}function SS(){throw new Error("invalid")}function Tg(s,o,l,h,m,b){const N=S(null);try{let ee=null;m&Pc.SignalBased&&(ee=o[h][C]),null!==ee&&void 0!==ee.transformFn&&(b=ee.transformFn(b)),m&Pc.HasDecoratorInputTransform&&(b=s.inputTransforms[h].call(o,b)),null!==s.setInput?s.setInput(o,ee,b,l,h):bc(o,ee,h,b)}finally{S(N)}}function em(s,o,l,h,m,b,N,ee,be,Ze,mt){const Ht=o.blueprint.slice();return Ht[Si]=m,Ht[_i]=204|h,(null!==Ze||s&&2048&s[_i])&&(Ht[_i]|=2048),Kb(Ht),Ht[nr]=Ht[ls]=s,Ht[qr]=l,Ht[dr]=N||s&&s[dr],Ht[Xi]=ee||s&&s[Xi],Ht[xr]=be||s&&s[xr]||null,Ht[Wr]=b,Ht[Ds]=function aI(){return by++}(),Ht[xs]=mt,Ht[Kc]=Ze,Ht[cs]=2==o.type?s[cs]:Ht,Ht}function ep(s,o,l,h,m){let b=s.data[o];if(null===b)b=tm(s,o,l,h,m),function Yx(){return dt.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=l,b.value=h,b.attrs=m;const N=Op();b.injectorIndex=null===N?-1:N.injectorIndex}return au(b,!0),b}function tm(s,o,l,h,m){const b=Rh(),N=Z_(),be=s.data[o]=function lA(s,o,l,h,m,b){let N=o?o.injectorIndex:-1,ee=0;return ho()&&(ee|=128),{type:l,index:h,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ee,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?b:b&&b.parent,l,o,h,m);return null===s.firstChild&&(s.firstChild=be),null!==b&&(N?null==b.child&&null!==be.parent&&(b.child=be):null===b.next&&(b.next=be,be.prev=b)),be}function kg(s,o,l,h){if(0===l)return-1;const m=o.length;for(let b=0;b<l;b++)o.push(h),s.blueprint.push(h),s.data.push(null);return m}function nm(s,o,l,h,m){const b=Ec(),N=2&h;try{Pf(-1),N&&o.length>Sr&&CS(s,o,Sr,!1),Yu(N?2:0,m),l(h,m)}finally{Pf(b),Yu(N?3:1,m)}}function X0(s,o,l){if(Md(o)){const h=S(null);try{const b=o.directiveEnd;for(let N=o.directiveStart;N<b;N++){const ee=s.data[N];ee.contentQueries&&ee.contentQueries(1,l[N],N)}}finally{S(h)}}}function im(s,o,l){yo()&&(function np(s,o,l,h){const m=l.directiveStart,b=l.directiveEnd;Pl(l)&&function mA(s,o,l){const h=wc(o,s),m=Ig(l);let N=16;l.signals?N=4096:l.onPush&&(N=64);const ee=sm(s,em(s,m,null,N,h,o,null,s[dr].rendererFactory.createRenderer(h,l),null,null,null));s[o.index]=ee}(o,l,s.data[m+l.componentOffset]),s.firstCreatePass||ng(l,o),cu(h,o);const N=l.initialInputs;for(let ee=m;ee<b;ee++){const be=s.data[ee],Ze=nf(o,s,ee,l);cu(Ze,o),null!==N&&ew(0,ee-m,Ze,be,0,N),ua(be)&&(Eu(l.index,o)[qr]=nf(o,s,ee,l))}}(s,o,l,wc(l,o)),!(64&~l.flags)&&AS(s,o,l))}function Y0(s,o,l=wc){const h=o.localNames;if(null!==h){let m=o.index+1;for(let b=0;b<h.length;b+=2){const N=h[b+1],ee=-1===N?l(o,s):s[N];s[m++]=ee}}}function Ig(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=q0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function q0(s,o,l,h,m,b,N,ee,be,Ze,mt){const Ht=Sr+h,mn=Ht+m,yn=function Ag(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:Ms);return l}(Ht,mn),$n="function"==typeof Ze?Ze():Ze;return yn[Un]={type:s,blueprint:yn,template:l,queries:null,viewQuery:ee,declTNode:o,data:yn.slice().fill(null,Ht),bindingStartIndex:Ht,expandoStartIndex:mn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:be,consts:$n,incompleteFirstPass:!1,ssrId:mt}}let DS=()=>null;function Gy(s,o,l,h,m){for(let b in o){if(!o.hasOwnProperty(b))continue;const N=o[b];if(void 0===N)continue;h??={};let ee,be=Pc.None;Array.isArray(N)?(ee=N[0],be=N[1]):ee=N;let Ze=b;if(null!==m){if(!m.hasOwnProperty(b))continue;Ze=m[b]}0===s?TS(h,l,Ze,ee,be):TS(h,l,Ze,ee)}return h}function TS(s,o,l,h,m){let b;s.hasOwnProperty(l)?(b=s[l]).push(o,h):b=s[l]=[o,h],void 0!==m&&b.push(m)}function fa(s,o,l,h,m,b,N,ee){const be=wc(o,l);let mt,Ze=o.inputs;!ee&&null!=Ze&&(mt=Ze[h])?(Mg(s,l,mt,h,m),Pl(o)&&function uA(s,o){const l=Eu(o,s);16&l[_i]||(l[_i]|=64)}(l,o.index)):3&o.type&&(h=function cA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),m=null!=N?N(m,o.value||"",h):m,b.setProperty(be,h,m))}function Ky(s,o,l,h){if(yo()){const m=null===h?null:{"":-1},b=function hA(s,o){const l=s.directiveRegistry;let h=null,m=null;if(l)for(let b=0;b<l.length;b++){const N=l[b];if(_c(o,N.selectors,!1))if(h||(h=[]),ua(N))if(null!==N.findHostDirectiveDefs){const ee=[];m=m||new Map,N.findHostDirectiveDefs(N,ee,m),h.unshift(...ee,N),Xy(s,o,ee.length)}else h.unshift(N),Xy(s,o,0);else m=m||new Map,N.findHostDirectiveDefs?.(N,h,m),h.push(N)}return null===h?null:[h,m]}(s,l);let N,ee;null===b?N=ee=null:[N,ee]=b,null!==N&&kS(s,o,l,N,m,ee),m&&function Z0(s,o,l){if(o){const h=s.localNames=[];for(let m=0;m<o.length;m+=2){const b=l[o[m+1]];if(null==b)throw new Oi(-301,!1);h.push(o[m],b)}}}(l,h,m)}l.mergedAttrs=jc(l.mergedAttrs,l.attrs)}function kS(s,o,l,h,m,b){for(let Ze=0;Ze<h.length;Ze++)ly(ng(l,o),s,h[Ze].type);!function fA(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,h.length);for(let Ze=0;Ze<h.length;Ze++){const mt=h[Ze];mt.providersResolver&&mt.providersResolver(mt)}let N=!1,ee=!1,be=kg(s,o,h.length,null);for(let Ze=0;Ze<h.length;Ze++){const mt=h[Ze];l.mergedAttrs=jc(l.mergedAttrs,mt.hostAttrs),pA(s,l,o,be,mt),ip(be,mt,m),null!==mt.contentQueries&&(l.flags|=4),(null!==mt.hostBindings||null!==mt.hostAttrs||0!==mt.hostVars)&&(l.flags|=64);const Ht=mt.type.prototype;!N&&(Ht.ngOnChanges||Ht.ngOnInit||Ht.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),N=!0),!ee&&(Ht.ngOnChanges||Ht.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),ee=!0),be++}!function tp(s,o,l){const m=o.directiveEnd,b=s.data,N=o.attrs,ee=[];let be=null,Ze=null;for(let mt=o.directiveStart;mt<m;mt++){const Ht=b[mt],mn=l?l.get(Ht):null,$n=mn?mn.outputs:null;be=Gy(0,Ht.inputs,mt,be,mn?mn.inputs:null),Ze=Gy(1,Ht.outputs,mt,Ze,$n);const ai=null===be||null===N||Al(o)?null:gA(be,mt,N);ee.push(ai)}null!==be&&(be.hasOwnProperty("class")&&(o.flags|=8),be.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=ee,o.inputs=be,o.outputs=Ze}(s,l,b)}function AS(s,o,l){const h=l.directiveStart,m=l.directiveEnd,b=l.index,N=function Qx(){return dt.lFrame.currentDirectiveIndex}();try{Pf(b);for(let ee=h;ee<m;ee++){const be=s.data[ee],Ze=o[ee];qb(ee),(null!==be.hostBindings||0!==be.hostVars||null!==be.hostAttrs)&&dA(be,Ze)}}finally{Pf(-1),qb(N)}}function dA(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Xy(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function ip(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;ua(o)&&(l[""]=s)}}function pA(s,o,l,h,m){s.data[h]=m;const b=m.factory||(m.factory=ec(m.type)),N=new Pp(b,ua(m),ff);s.blueprint[h]=N,l[h]=N,function IS(s,o,l,h,m){const b=m.hostBindings;if(b){let N=s.hostBindingOpCodes;null===N&&(N=s.hostBindingOpCodes=[]);const ee=~o.index;(function Yc(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(N)!=ee&&N.push(ee),N.push(l,h,b)}}(s,o,h,kg(s,l,m.hostVars,Ms),m)}function J0(s,o,l,h,m,b,N){if(null==b)s.removeAttribute(o,m,l);else{const ee=null==N?_r(b):N(b,h||"",m);s.setAttribute(o,m,ee,l)}}function ew(s,o,l,h,m,b){const N=b[o];if(null!==N)for(let ee=0;ee<N.length;)Tg(h,l,N[ee++],N[ee++],N[ee++],N[ee++])}function gA(s,o,l){let h=null,m=0;for(;m<l.length;){const b=l[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===h&&(h=[]);const N=s[b];for(let ee=0;ee<N.length;ee+=3)if(N[ee]===o){h.push(b,N[ee+1],N[ee+2],l[m+1]);break}}m+=2}else m+=2;else m+=4}return h}function tw(s,o,l,h){return[s,!0,0,o,null,h,null,l,null,null]}function MS(s,o){const l=s.contentQueries;if(null!==l){const h=S(null);try{for(let m=0;m<l.length;m+=2){const N=l[m+1];if(-1!==N){const ee=s.data[N];ey(l[m]),ee.contentQueries(2,o[N],N)}}}finally{S(h)}}}function sm(s,o){return s[ca]?s[Cr][er]=o:s[ca]=o,s[Cr]=o,o}function nw(s,o,l){ey(0);const h=S(null);try{o(s,l)}finally{S(h)}}function OS(s){return s[Ls]??=[]}function iw(s){return s.cleanup??=[]}function Yy(s,o,l){return(null===s||ua(s))&&(l=function vd(s){for(;Array.isArray(s);){if("object"==typeof s[Id])return s;s=s[Si]}return null}(l[o.index])),l[Xi]}function qy(s,o){const l=s[xr],h=l?l.get(lu,null):null;h&&h.handleError(o)}function Mg(s,o,l,h,m){for(let b=0;b<l.length;){const N=l[b++],ee=l[b++],be=l[b++];Tg(s.data[N],o[N],h,ee,be,m)}}function lh(s,o,l){const h=Ip(o,s);mS(s[Xi],h,l)}function _A(s,o){const l=Eu(o,s),h=l[Un];!function rw(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(h,l);const m=l[Si];null!==m&&null===l[xs]&&(l[xs]=pl(m,l[xr])),sw(h,l,l[qr])}function sw(s,o,l){Jm(o);try{const h=s.viewQuery;null!==h&&nw(1,h,l);const m=s.template;null!==m&&nm(s,o,m,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),o[Qa]?.finishViewCreation(s),s.staticContentQueries&&MS(s,o),s.staticViewQueries&&nw(2,s.viewQuery,l);const b=s.components;null!==b&&function yA(s,o){for(let l=0;l<o.length;l++)_A(s,o[l])}(o,b)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[_i]&=-5,ty()}}function $s(s,o,l,h){const m=S(null);try{const b=o.tView,be=em(s,b,l,4096&s[_i]?4096:16,null,o,null,null,h?.injector??null,h?.embeddedViewInjector??null,h?.dehydratedView??null);be[qo]=s[o.index];const mt=s[Qa];return null!==mt&&(be[Qa]=mt.createEmbeddedView(b)),sw(b,be,l),be}finally{S(m)}}function RS(s,o){const l=Ua+o;if(l<s.length)return s[l]}function rp(s,o){return!o||null===o.firstChild||yy(s)}function om(s,o,l,h=!0){const m=o[Un];if(function JI(s,o,l,h){const m=Ua+h,b=l.length;h>0&&(l[m-1][er]=o),h<b-Ua?(o[er]=l[m],Zs(l,Ua+h,o)):(l.push(o),o[er]=null),o[nr]=l;const N=o[qo];null!==N&&l!==N&&gS(N,o);const ee=o[Qa];null!==ee&&ee.insertView(s),Nf(o),o[_i]|=128}(m,o,s,l),h){const N=Sg(l,s),ee=o[Xi],be=Su(ee,s[ou]);null!==be&&function QI(s,o,l,h,m,b){h[Si]=m,h[Wr]=o,Jp(s,h,l,1,m,b)}(m,s[Wr],ee,o,be,N)}const b=o[xs];null!==b&&null!==b.firstChild&&(b.firstChild=null)}function ow(s,o){const l=xg(s,o);return void 0!==l&&Vy(l[Un],l),l}function Og(s,o,l,h,m=!1){for(;null!==l;){if(128===l.type){l=m?l.projectionNext:l.next;continue}const b=o[l.index];null!==b&&h.push(_o(b)),Nl(b)&&NS(b,h);const N=l.type;if(8&N)Og(s,o,l.child,h);else if(32&N){const ee=pS(l,o);let be;for(;be=ee();)h.push(be)}else if(16&N){const ee=ES(o,l);if(Array.isArray(ee))h.push(...ee);else{const be=me(o[cs]);Og(be[Un],be,ee,h,!0)}}l=m?l.projectionNext:l.next}return h}function NS(s,o){for(let l=Ua;l<s.length;l++){const h=s[l],m=h[Un].firstChild;null!==m&&Og(h[Un],h,m,o)}s[ou]!==s[Si]&&o.push(s[ou])}let PS=[];const EA={...x,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Mp(s.lView)},consumerOnSignalRead(){this.lView[Da]=this}},LS={...x,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{let o=me(s.lView);for(;o&&!Qy(o[Un]);)o=me(o);o&&Q_(o)},consumerOnSignalRead(){this.lView[Da]=this}};function Qy(s){return 2!==s.type}const xA=100;function am(s,o=!0,l=0){const h=s[dr],m=h.rendererFactory;m.begin?.();try{!function CA(s,o){const l=Xx();try{Wl(!0),lw(s,o);let h=0;for(;Mh(s);){if(h===xA)throw new Oi(103,!1);h++,lw(s,1)}}finally{Wl(l)}}(s,l)}catch(N){throw o&&qy(s,N),N}finally{m.end?.(),h.inlineEffectRunner?.flush()}}function aw(s,o,l,h){const m=o[_i];if(!(256&~m))return;o[dr].inlineEffectRunner?.flush(),Jm(o);let ee=!0,be=null,Ze=null;Qy(s)?(Ze=function vA(s){return s[Da]??function bA(s){const o=PS.pop()??Object.create(EA);return o.lView=s,o}(s)}(o),be=F(Ze)):null===function I(){return A}()?(ee=!1,Ze=function FS(s){const o=s[Da]??Object.create(LS);return o.lView=s,o}(o),be=F(Ze)):o[Da]&&(ce(o[Da]),o[Da]=null);try{Kb(o),function Ts(s){return dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&nm(s,o,l,2,h);const mt=!(3&~m);if(mt){const yn=s.preOrderCheckHooks;null!==yn&&Rp(o,yn,null)}else{const yn=s.preOrderHooks;null!==yn&&eg(o,yn,0,null),n0(o,0)}if(function Zy(s){for(let o=xC(s);null!==o;o=v0(o)){if(!(o[_i]&Ad.HasTransplantedViews))continue;const l=o[xo];for(let h=0;h<l.length;h++)Q_(l[h])}}(o),Rg(o,0),null!==s.contentQueries&&MS(s,o),mt){const yn=s.contentCheckHooks;null!==yn&&Rp(o,yn)}else{const yn=s.contentHooks;null!==yn&&eg(o,yn,1),n0(o,1)}!function sA(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)Pf(~m);else{const b=m,N=l[++h],ee=l[++h];qx(N,b),ee(2,o[b])}}}finally{Pf(-1)}}(s,o);const Ht=s.components;null!==Ht&&cw(o,Ht,0);const mn=s.viewQuery;if(null!==mn&&nw(2,mn,h),mt){const yn=s.viewCheckHooks;null!==yn&&Rp(o,yn)}else{const yn=s.viewHooks;null!==yn&&eg(o,yn,2),n0(o,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[vc]){for(const yn of o[vc])yn();o[vc]=null}o[_i]&=-73}catch(mt){throw Mp(o),mt}finally{null!==Ze&&(J(Ze,be),ee&&function wA(s){s.lView[Da]!==s&&(s.lView=null,PS.push(s))}(Ze)),ty()}}function Rg(s,o){for(let l=xC(s);null!==l;l=v0(l))for(let h=Ua;h<l.length;h++)Ng(l[h],o)}function Jy(s,o,l){Ng(Eu(o,s),l)}function Ng(s,o){Ap(s)&&lw(s,o)}function lw(s,o){const h=s[Un],m=s[_i],b=s[Da];let N=!!(0===o&&16&m);if(N||=!!(64&m&&0===o),N||=!!(1024&m),N||=!(!b?.dirty||!ue(b)),N||=!1,b&&(b.dirty=!1),s[_i]&=-9217,N)aw(h,s,h.template,s[qr]);else if(8192&m){Rg(s,1);const ee=h.components;null!==ee&&cw(s,ee,1)}}function cw(s,o,l){for(let h=0;h<o.length;h++)Jy(s,o[h],l)}function Pg(s,o){const l=Xx()?64:1088;for(s[dr].changeDetectionScheduler?.notify(o);s;){s[_i]|=l;const h=me(s);if(Ou(s)&&!h)return s;s=h}return null}class lm{get rootNodes(){const o=this._lView,l=o[Un];return Og(l,o,l.firstChild,[])}constructor(o,l,h=!0){this._lView=o,this._cdRefInjectingView=l,this.notifyErrorHandler=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qr]}set context(o){this._lView[qr]=o}get destroyed(){return!(256&~this._lView[_i])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[nr];if(Nl(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(xg(o,h),Wu(l,h))}this._attachedToViewContainer=!1}Vy(this._lView[Un],this._lView)}onDestroy(o){B(this._lView,o)}markForCheck(){Pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_i]&=-129}reattach(){Nf(this._lView),this._lView[_i]|=128}detectChanges(){this._lView[_i]|=1024,am(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oi(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=Ou(this._lView),l=this._lView[qo];null!==l&&!o&&zh(l,this._lView),By(this._lView[Un],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oi(902,!1);this._appRef=o;const l=Ou(this._lView),h=this._lView[qo];null!==h&&!l&&gS(h,this._lView),Nf(this._lView)}}let Fg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=DA}return s})();const BS=Fg,SA=class extends BS{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,h){const m=$s(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:l,dehydratedView:h});return new lm(m)}};function DA(){return ev(da(),oi())}function ev(s,o){return 4&s.type?new SA(o,s,Ph(s,o)):null}function jS(s,o,l){const h=o.insertBeforeIndex,m=Array.isArray(h)?h[0]:h;return null===m?vS(s,0,l):_o(l[m])}function WS(s,o,l,h,m){const b=o.insertBeforeIndex;if(Array.isArray(b)){let N=h,ee=null;if(3&o.type||(ee=N,N=m),null!==N&&-1===o.componentOffset)for(let be=1;be<b.length;be++)Jf(s,N,l[b[be]],ee,!1)}}function HS(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];GS(h)||NA(h,o)&&null===hw(h)&&fw(h,o.index)}}function GS(s){return!(64&s.type)}function NA(s,o){return GS(o)||s.index>o.index}function hw(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function fw(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(wS(jS,WS),s.insertBeforeIndex=o)}function sp(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function FA(s,o,l){const h=tm(s,l,64,null,null);return HS(o,h),h}function Ug(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function KS(s){return s>>>17}function nv(s){return(131070&s)>>>1}function mw(s,o,l){s.index=0;const h=Ug(o,l);s.removes=null!==h?o.remove[h]:jr}function um(s){if(s.index<s.removes.length){const o=s.removes[s.index++];return o>0?s.lView[o]:(s.stack.push(s.index,s.removes),mw(s,s.lView[Un].data[~o],s.lView),um(s))}return 0===s.stack.length?null:(s.removes=s.stack.pop(),s.index=s.stack.pop(),um(s))}function $A(){const s={stack:[],index:-1};return function o(l,h){for(s.lView=h;s.stack.length;)s.stack.pop();return mw(s,l.value,h),um.bind(null,s)}}let JS=()=>{},eD=()=>{},iD=()=>null;function ap(s,o){return iD(s,o)}class fm{}const Wg=new an("",{providedIn:"root",factory:()=>!1}),rD=new an("");class hM{}class sd{}class fM{resolveComponentFactory(o){throw function sD(s){const o=Error(`No component factory found for ${ao(s)}.`);return o.ngComponent=s,o}(o)}}class Hg{static#e=this.NULL=new fM}class pf{}let pM=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function aD(){const s=oi(),l=Eu(da().index,s);return(Sl(l)?l:s)[Xi]}()}return s})(),Sw=(()=>{class s{static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:()=>null})}return s})();const Vd=new Set;function du(s){Vd.has(s)||(Vd.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}function Dw(s){let o=!0;return setTimeout(()=>{o&&(o=!1,s())}),"function"==typeof Rs.requestAnimationFrame&&Rs.requestAnimationFrame(()=>{o&&(o=!1,s())}),()=>{o=!1}}function Tw(s){let o=!0;return queueMicrotask(()=>{o&&s()}),()=>{o=!1}}function kw(...s){}class pa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),typeof Zone>"u")throw new Oi(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&l,m.shouldCoalesceRunChangeDetection=h,m.callbackScheduled=!1,function Kg(s){const o=()=>{!function Gg(s){s.isCheckStableRunning||s.callbackScheduled||(s.callbackScheduled=!0,Zone.root.run(()=>{Dw(()=>{s.callbackScheduled=!1,Xg(s),s.isCheckStableRunning=!0,lp(s),s.isCheckStableRunning=!1})}),Xg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,m,b,N,ee)=>{if(function av(s){return lv(s,"__ignore_ng_zone__")}(ee))return l.invokeTask(m,b,N,ee);try{return sv(s),l.invokeTask(m,b,N,ee)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&o(),ov(s)}},onInvoke:(l,h,m,b,N,ee,be)=>{try{return sv(s),l.invoke(m,b,N,ee,be)}finally{s.shouldCoalesceRunChangeDetection&&!s.callbackScheduled&&!function Aw(s){return lv(s,"__scheduler_tick__")}(ee)&&o(),ov(s)}},onHasTask:(l,h,m,b)=>{l.hasTask(m,b),h===m&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,Xg(s),lp(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(l,h,m,b)=>(l.handleError(m,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Oi(909,!1)}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Oi(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,m){const b=this._inner,N=b.scheduleEventTask("NgZoneEvent: "+m,o,Iw,kw,kw);try{return b.runTask(N,l,h)}finally{b.cancelTask(N)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const Iw={};function lp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Xg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&!0===s.callbackScheduled)}function sv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ov(s){s._nesting--,lp(s)}class pm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,m){return o.apply(l,h)}}function lv(s,o){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0]?.data?.[o]}var qc=function(s){return s[s.EarlyRead=0]="EarlyRead",s[s.Write=1]="Write",s[s.MixedReadWrite=2]="MixedReadWrite",s[s.Read=3]="Read",s}(qc||{});const cv={destroy(){}};function ch(s,o){!o&&zl();const l=o?.injector??wi(ro);return Fu(l)?(du("NgAfterRender"),Rw(s,l,!1,o?.phase??qc.MixedReadWrite)):cv}function Ow(s,o){!o&&zl();const l=o?.injector??wi(ro);return Fu(l)?(du("NgAfterNextRender"),Rw(s,l,!0,o?.phase??qc.MixedReadWrite)):cv}function Rw(s,o,l,h){const m=function cD(s,o){if(s instanceof Function)switch(o){case qc.EarlyRead:return{earlyRead:s};case qc.Write:return{write:s};case qc.MixedReadWrite:return{mixedReadWrite:s};case qc.Read:return{read:s}}return s}(s,h),b=o.get(qg),N=b.handler??=new uD,ee=[],be=[],Ze=()=>{for(const yn of be)N.unregister(yn);mt()},mt=o.get(lg).onDestroy(Ze);let Ht=0;const mn=(yn,$n)=>{if(!$n)return;const ai=l?(...Hi)=>(Ht--,Ht<1&&Ze(),$n(...Hi)):$n,$i=Rl(o,()=>new Nw(yn,ee,ai));N.register($i),be.push($i),Ht++};return mn(qc.EarlyRead,m.earlyRead),mn(qc.Write,m.write),mn(qc.MixedReadWrite,m.mixedReadWrite),mn(qc.Read,m.read),{destroy:Ze}}class Nw{constructor(o,l,h){this.phase=o,this.pipelinedArgs=l,this.callbackFn=h,this.zone=wi(pa),this.errorHandler=wi(lu,{optional:!0}),wi(fm,{optional:!0})?.notify(6)}invoke(){try{const o=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,o)}catch(o){this.errorHandler?.handleError(o)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[qc.EarlyRead]:new Set,[qc.Write]:new Set,[qc.MixedReadWrite]:new Set,[qc.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){this.executingCallbacks=!0;for(const o of Object.values(this.buckets))for(const l of o)l.invoke();this.executingCallbacks=!1;for(const o of this.deferredCallbacks)this.buckets[o.phase].add(o);this.deferredCallbacks.clear()}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let qg=(()=>{class s{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of l)h()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:()=>new s})}return s})();function uh(s){return!!Oo(s)}function Jg(s,o,l){let h=l?s.styles:null,m=l?s.classes:null,b=0;if(null!==o)for(let N=0;N<o.length;N++){const ee=o[N];"number"==typeof ee?b=ee:1==b?m=Ea(m,ee):2==b&&(h=Ea(h,ee+": "+o[++N]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=m:s.classesWithoutHost=m}class $w extends Hg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=ci(o);return new gm(l,this.ngModule)}}function Bw(s,o){const l=[];for(const h in s){if(!s.hasOwnProperty(h))continue;const m=s[h];if(void 0===m)continue;const b=Array.isArray(m),N=b?m[0]:m;l.push(o?{propName:N,templateName:h,isSignal:!!((b?m[1]:Pc.None)&Pc.SignalBased)}:{propName:N,templateName:h})}return l}class gm extends sd{get inputs(){const o=this.componentDef,l=o.inputTransforms,h=Bw(o.inputs,!0);if(null!==l)for(const m of h)l.hasOwnProperty(m.propName)&&(m.transform=l[m.propName]);return h}get outputs(){return Bw(this.componentDef.outputs,!1)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function K(s){return s.map(to).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,h,m){const b=S(null);try{let N=(m=m||this.ngModule)instanceof fn?m:m?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const ee=N?new Nh(o,N):o,be=ee.get(pf,null);if(null===be)throw new Oi(407,!1);const Ze=ee.get(Sw,null),mn={rendererFactory:be,sanitizer:Ze,inlineEffectRunner:null,afterRenderEventManager:ee.get(qg,null),changeDetectionScheduler:ee.get(fm,null)},yn=be.createRenderer(null,this.componentDef),$n=this.componentDef.selectors[0][0]||"div",ai=h?function oA(s,o,l,h){const b=h.get(ed,!1)||l===vu.ShadowDom,N=s.selectRootElement(o,b);return function Q0(s){DS(s)}(N),N}(yn,h,this.componentDef.encapsulation,ee):$y(yn,$n,function hD(s){const o=s.toLowerCase();return"svg"===o?kp:"math"===o?"math":null}($n));let $i=512;this.componentDef.signals?$i|=4096:this.componentDef.onPush||($i|=16);let Hi=null;null!==ai&&(Hi=pl(ai,ee,!0));const bi=q0(0,null,null,1,0,null,null,null,null,null,null),rs=em(null,bi,null,$i,null,null,mn,yn,ee,null,Hi);let Co,Ia;Jm(rs);try{const Vc=this.componentDef;let pd,R_=null;Vc.findHostDirectiveDefs?(pd=[],R_=new Map,Vc.findHostDirectiveDefs(Vc,pd,R_),pd.push(Vc)):pd=[Vc];const sP=function pD(s,o){const l=s[Un],h=Sr;return s[h]=o,ep(l,h,2,"#host",null)}(rs,ai),Px=function mD(s,o,l,h,m,b,N){const ee=m[Un];!function Vw(s,o,l,h){for(const m of s)o.mergedAttrs=jc(o.mergedAttrs,m.hostAttrs);null!==o.mergedAttrs&&(Jg(o,o.mergedAttrs,!0),null!==l&&K0(h,l,o))}(h,s,o,N);let be=null;null!==o&&(be=pl(o,m[xr]));const Ze=b.rendererFactory.createRenderer(o,l);let mt=16;l.signals?mt=4096:l.onPush&&(mt=64);const Ht=em(m,Ig(l),null,mt,m[s.index],s,b,Ze,null,null,be);return ee.firstCreatePass&&Xy(ee,s,h.length-1),sm(m,Ht),m[s.index]=Ht}(sP,ai,Vc,pd,rs,mn,yn);Ia=Rf(bi,Sr),ai&&function _D(s,o,l,h){if(h)gd(s,l,["ng-version","18.1.2"]);else{const{attrs:m,classes:b}=function Ie(s){const o=[],l=[];let h=1,m=2;for(;h<s.length;){let b=s[h];if("string"==typeof b)2===m?""!==b&&o.push(b,s[++h]):8===m&&l.push(b);else{if(!hl(m))break;m=b}h++}return{attrs:o,classes:l}}(o.selectors[0]);m&&gd(s,l,m),b&&b.length>0&&xS(s,l,b.join(" "))}}(yn,Vc,ai,h),void 0!==l&&function yD(s,o,l){const h=s.projection=[];for(let m=0;m<o.length;m++){const b=l[m];h.push(null!=b?Array.from(b):null)}}(Ia,this.ngContentSelectors,l),Co=function gD(s,o,l,h,m,b){const N=da(),ee=m[Un],be=wc(N,m);kS(ee,m,N,l,null,h);for(let mt=0;mt<l.length;mt++)cu(nf(m,ee,N.directiveStart+mt,N),m);AS(ee,m,N),be&&cu(be,m);const Ze=nf(m,ee,N.directiveStart+N.componentOffset,N);if(s[qr]=m[qr]=Ze,null!==b)for(const mt of b)mt(Ze,o);return X0(ee,N,m),Ze}(Px,Vc,pd,R_,rs,[vD]),sw(bi,rs,null)}finally{ty()}return new fD(this.componentType,Co,Ph(Ia,rs),rs,Ia)}finally{S(b)}}}class fD extends hM{constructor(o,l,h,m,b){super(),this.location=h,this._rootLView=m,this._tNode=b,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new lm(m,void 0,!1),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const b=this._rootLView;Mg(b[Un],b,m,o,l),this.previousInputValues.set(o,l),Pg(Eu(this._tNode.index,b),1)}}get injector(){return new xc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function vD(){const s=da();iy(oi()[Un],s)}let e_=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Uw}return s})();function Uw(){return bD(da(),oi())}const Hh=e_,zw=class extends Hh{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return Ph(this._hostTNode,this._hostLView)}get injector(){return new xc(this._hostTNode,this._hostLView)}get parentInjector(){const o=ig(this._hostTNode,this._hostLView);if(sy(o)){const l=$f(o,this._hostLView),h=tg(o);return new xc(l[Un].data[h+8],l)}return new xc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=jw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Ua}createEmbeddedView(o,l,h){let m,b;"number"==typeof h?m=h:null!=h&&(m=h.index,b=h.injector);const N=ap(this._lContainer,o.ssrId),ee=o.createEmbeddedViewImpl(l||{},b,N);return this.insertImpl(ee,m,rp(this._hostTNode,N)),ee}createComponent(o,l,h,m,b){const N=o&&!function At(s){return"function"==typeof s}(o);let ee;if(N)ee=l;else{const $n=l||{};ee=$n.index,h=$n.injector,m=$n.projectableNodes,b=$n.environmentInjector||$n.ngModuleRef}const be=N?o:new gm(ci(o)),Ze=h||this.parentInjector;if(!b&&null==be.ngModule){const ai=(N?Ze:this.parentInjector).get(fn,null);ai&&(b=ai)}const mt=ci(be.componentType??{}),Ht=ap(this._lContainer,mt?.id??null),yn=be.create(Ze,m,Ht?.firstChild??null,b);return this.insertImpl(yn.hostView,ee,rp(this._hostTNode,Ht)),yn}insert(o,l){return this.insertImpl(o,l,!0)}insertImpl(o,l,h){const m=o._lView;if(function Rd(s){return Nl(s[nr])}(m)){const ee=this.indexOf(o);if(-1!==ee)this.detach(ee);else{const be=m[nr],Ze=new zw(be,be[Wr],be[nr]);Ze.detach(Ze.indexOf(o))}}const b=this._adjustIndex(l),N=this._lContainer;return om(N,m,b,h),o.attachToViewContainerRef(),Zs(Ww(N),b,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=jw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=xg(this._lContainer,l);h&&(Wu(Ww(this._lContainer),l),Vy(h[Un],h))}detach(o){const l=this._adjustIndex(o,-1),h=xg(this._lContainer,l);return h&&null!=Wu(Ww(this._lContainer),l)?new lm(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function jw(s){return s[8]}function Ww(s){return s[8]||(s[8]=[])}function bD(s,o){let l;const h=o[s.index];return Nl(h)?l=h:(l=tw(h,o,null,s),o[s.index]=l,sm(o,l)),wD(l,o,s,h),new zw(l,s,o)}let wD=function xD(s,o,l,h){if(s[ou])return;let m;m=8&l.type?_o(h):function mM(s,o){const l=s[Xi],h=l.createComment(""),m=wc(o,s);return Jf(l,Su(l,m),h,function tA(s,o){return s.nextSibling(o)}(l,m),!1),h}(o,l),s[ou]=m},Hw=()=>!1;class Gw{constructor(o){this.queryList=o,this.matches=null}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,m=[];for(let b=0;b<h;b++){const N=l.getByIndex(b);m.push(this.queries[N.indexInDeclarationView].clone())}return new Kw(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Zw(o,l).matches&&this.queries[l].setDirty()}}class CD{constructor(o,l,h=null){this.flags=l,this.read=h,this.predicate="string"==typeof o?function xM(s){return s.split(",").map(o=>o.trim())}(o):o}}class Xw{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const m=null!==l?l.length:0,b=this.getByIndex(h).embeddedTView(o,m);b&&(b.indexInDeclarationView=h,null!==l?l.push(b):l=[b])}return null!==l?new Xw(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Yw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Yw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const b=h[m];this.matchTNodeWithReadOption(o,l,vM(l,b)),this.matchTNodeWithReadOption(o,l,dy(l,o,b,!1,!1))}else h===Fg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,dy(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===ug||m===e_||m===Fg&&4&l.type)this.addMatch(l.index,-2);else{const b=dy(l,o,m,!1,!1);null!==b&&this.addMatch(l.index,b)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function vM(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function wM(s,o,l,h){return-1===l?function bM(s,o){return 11&s.type?Ph(s,o):4&s.type?ev(s,o):null}(o,s):-2===l?function EM(s,o,l){return l===ug?Ph(o,s):l===Fg?ev(o,s):l===e_?bD(o,s):void 0}(s,o,h):nf(s,s[Un],l,o)}function SD(s,o,l,h){const m=o[Qa].queries[h];if(null===m.matches){const b=s.data,N=l.matches,ee=[];for(let be=0;null!==N&&be<N.length;be+=2){const Ze=N[be];ee.push(Ze<0?null:wM(o,b[Ze],N[be+1],l.metadata.read))}m.matches=ee}return m.matches}function qw(s,o,l,h){const m=s.queries.getByIndex(l),b=m.matches;if(null!==b){const N=SD(s,o,m,l);for(let ee=0;ee<b.length;ee+=2){const be=b[ee];if(be>0)h.push(N[ee/2]);else{const Ze=b[ee+1],mt=o[-be];for(let Ht=Ua;Ht<mt.length;Ht++){const mn=mt[Ht];mn[qo]===mn[nr]&&qw(mn[Un],mn,Ze,h)}if(null!==mt[xo]){const Ht=mt[xo];for(let mn=0;mn<Ht.length;mn++){const yn=Ht[mn];qw(yn[Un],yn,Ze,h)}}}}}return h}function Qw(s,o){return s[Qa].queries[o].queryList}function DD(s,o,l){const h=new Zu(!(4&~l));return function Hy(s,o,l,h){const m=OS(o);m.push(l),s.firstCreatePass&&iw(s).push(h,m.length-1)}(s,o,h,h.destroy),(o[Qa]??=new Kw).queries.push(new Gw(h))-1}function kD(s,o,l,h){const m=As();if(m.firstCreatePass){const b=da();ID(m,new CD(o,l,h),b.index),function CM(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(m,s),!(2&~l)&&(m.staticContentQueries=!0)}return DD(m,oi(),l)}function ID(s,o,l){null===s.queries&&(s.queries=new Xw),s.queries.track(new Yw(o,l))}function Zw(s,o){return s.queries.getByIndex(o)}function AD(s,o){const l=s[Un],h=Zw(l,o);return h.crossesNgTemplate?qw(l,s,o,[]):SD(l,s,h,o)}function Jw(s){return"function"==typeof s&&void 0!==s[C]}function MD(s,o){du("NgSignals");const l=function ve(s){const o=Object.create(qt);o.value=s;const l=()=>($(o),o.value);return l[C]=o,l}(s),h=l[C];return o?.equal&&(h.equal=o.equal),l.set=m=>Qe(h,m),l.update=m=>function Pt(s,o){L()||X(),Qe(s,o(s.value))}(h,m),l.asReadonly=OD.bind(l),l}function OD(){const s=this[C];if(void 0===s.readonlyFn){const o=()=>this();o[C]=s,s.readonlyFn=o}return s.readonlyFn}function RD(s){return Jw(s)&&"function"==typeof s.set}function eE(s,o){let l;const h=Ce(()=>{l._dirtyCounter();const m=function SM(s,o){const l=s._lView,h=s._queryIndex;if(void 0===l||void 0===h||4&l[_i])return o?void 0:jr;const m=Qw(l,h),b=AD(l,h);return m.reset(b,g0),o?m.first:m._changesDetected||void 0===s._flatValue?s._flatValue=m.toArray():s._flatValue}(l,s);if(o&&void 0===m)throw new Oi(-951,!1);return m});return l=h[C],l._dirtyCounter=MD(0),l._flatValue=void 0,h}function $D(s,o){return function ND(){return eE(!0,!1)}()}const IM=($D.required=function kM(s,o){return function PD(){return eE(!0,!0)}()},$D);function nE(s){let o=function WD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let m;if(ua(s))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oi(903,!1);m=o.\u0275dir}if(m){if(l){h.push(m);const N=s;N.inputs=pv(s.inputs),N.inputTransforms=pv(s.inputTransforms),N.declaredInputs=pv(s.declaredInputs),N.outputs=pv(s.outputs);const ee=m.hostBindings;ee&&WM(s,ee);const be=m.viewQuery,Ze=m.contentQueries;if(be&&zM(s,be),Ze&&jM(s,Ze),VM(s,m),qa(s.outputs,m.outputs),ua(m)&&m.data.animation){const mt=s.data;mt.animation=(mt.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let N=0;N<b.length;N++){const ee=b[N];ee&&ee.ngInherit&&ee(s),ee===nE&&(l=!1)}}o=Object.getPrototypeOf(o)}!function UM(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const m=s[h];m.hostVars=o+=m.hostVars,m.hostAttrs=jc(m.hostAttrs,l=jc(l,m.hostAttrs))}}(h)}function VM(s,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||s.inputs.hasOwnProperty(l))continue;const h=o.inputs[l];if(void 0!==h&&(s.inputs[l]=h,s.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){const m=Array.isArray(h)?h[0]:h;if(!o.inputTransforms.hasOwnProperty(m))continue;s.inputTransforms??={},s.inputTransforms[m]=o.inputTransforms[m]}}}function pv(s){return s===Va?{}:s===jr?[]:s}function zM(s,o){const l=s.viewQuery;s.viewQuery=l?(h,m)=>{o(h,m),l(h,m)}:o}function jM(s,o){const l=s.contentQueries;s.contentQueries=l?(h,m,b)=>{o(h,m,b),l(h,m,b)}:o}function WM(s,o){const l=s.hostBindings;s.hostBindings=l?(h,m)=>{o(h,m),l(h,m)}:o}function HD(s){const o=l=>{const h=(Array.isArray(s)?s:s()).map(m=>"function"==typeof m?{directive:pr(m),inputs:Va,outputs:Va}:{directive:pr(m.directive),inputs:KD(m.inputs),outputs:KD(m.outputs)});null===l.hostDirectives?(l.findHostDirectiveDefs=GD,l.hostDirectives=h):l.hostDirectives.unshift(...h)};return o.ngInherit=!0,o}function GD(s,o,l){if(null!==s.hostDirectives)for(const h of s.hostDirectives){const m=rr(h.directive);XM(m.declaredInputs,h.inputs),GD(m,o,l),l.set(m,h),o.push(m)}}function KD(s){if(void 0===s||0===s.length)return Va;const o={};for(let l=0;l<s.length;l+=2)o[s[l]]=s[l+1];return o}function XM(s,o){for(const l in o)o.hasOwnProperty(l)&&(s[o[l]]=s[l])}function YD(s){const o=s.inputConfig,l={};for(const h in o)if(o.hasOwnProperty(h)){const m=o[h];Array.isArray(m)&&m[3]&&(l[h]=m[3])}s.inputTransforms=l}class cp{}class qD{}function YM(s,o){return new mv(s,o??null,[])}class mv extends cp{constructor(o,l,h){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $w(this);const m=Oo(o);this._bootstrapComponents=rd(m.bootstrap),this._r3Injector=oh(o,l,[{provide:cp,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver},...h],ao(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gv extends qD{constructor(o){super(),this.moduleType=o}create(o){return new mv(this.moduleType,o,[])}}class QD extends cp{constructor(o){super(),this.componentFactoryResolver=new $w(this),this.instance=null;const l=new Sa([...o.providers,{provide:cp,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver}],o.parent||Ol(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function iE(s,o,l=null){return new QD({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}function _v(s){return!!rE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function rE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function hh(s,o,l){return s[o]=l}function n_(s,o){return s[o]}function Kl(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function up(s,o,l,h){const m=Kl(s,o,l);return Kl(s,o+1,h)||m}function yv(s,o,l,h,m){const b=up(s,o,l,h);return Kl(s,o+2,m)||b}function Xl(s,o,l,h,m,b){const N=up(s,o,l,h);return up(s,o+2,m,b)||N}function ws(s,o,l,h,m,b,N,ee,be,Ze){const mt=l+Sr,Ht=o.firstCreatePass?function kn(s,o,l,h,m,b,N,ee,be){const Ze=o.consts,mt=ep(o,s,4,N||null,ee||null);Ky(o,l,mt,Za(Ze,be)),iy(o,mt);const Ht=mt.tView=q0(2,mt,h,m,b,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Ze,null);return null!==o.queries&&(o.queries.template(o,mt),Ht.queries=o.queries.embeddedTView(mt)),mt}(mt,o,s,h,m,b,N,ee,be):o.data[mt];au(Ht,!1);const mn=sE(o,s,Ht,l);Ff()&&Uy(o,s,mn,Ht),cu(mn,s);const yn=tw(mn,s,mn,Ht);return s[mt]=yn,sm(s,yn),function ED(s,o,l){return Hw(s,o,l)}(yn,Ht,s),bu(Ht)&&im(o,s,Ht),null!=be&&Y0(s,Ht,Ze),Ht}function i_(s,o,l,h,m,b,N,ee){const be=oi(),Ze=As();return ws(be,Ze,s,o,l,h,m,Za(Ze.consts,b),N,ee),i_}let sE=function oE(s,o,l,h){return Pd(!0),o[Xi].createComment("")};function cd(s,o,l,h){const m=oi();return Kl(m,Nd(),o)&&(As(),function $d(s,o,l,h,m,b){const N=wc(s,o);J0(o[Xi],N,b,s.value,l,h,m)}(za(),m,s,o,l,h)),cd}function Sm(s,o,l,h){return Kl(s,Nd(),l)?o+_r(l)+h:Ms}function Iv(s,o){return s<<17|o<<2}function uc(s){return s>>17&32767}function Av(s){return 2|s}function _f(s){return(131068&s)>>2}function Mv(s,o){return-131069&s|o<<2}function mT(s){return 1|s}function Ov(s,o,l,h){const m=s[l+1],b=null===o;let N=h?uc(m):_f(m),ee=!1;for(;0!==N&&(!1===ee||b);){const Ze=s[N+1];Rv(s[N],o)&&(ee=!0,s[N+1]=h?mT(Ze):Av(Ze)),N=h?uc(Ze):_f(Ze)}ee&&(s[l+1]=h?Av(m):mT(m))}function Rv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Jc(s,o)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vo(s){return s.substring(br.key,br.keyEnd)}function Nv(s){return s.substring(br.value,br.valueEnd)}function Gd(s,o){const l=br.textEnd;return l===o?-1:(o=br.keyEnd=function j2(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,br.key=o,l),l_(s,o,l))}function bO(s,o){const l=br.textEnd;let h=br.key=l_(s,o,l);return l===h?-1:(h=br.keyEnd=function W2(s,o,l){let h;for(;o<l&&(45===(h=s.charCodeAt(o))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)o++;return o}(s,h,l),h=EO(s,h,l),h=br.value=l_(s,h,l),h=br.valueEnd=function H2(s,o,l){let h=-1,m=-1,b=-1,N=o,ee=N;for(;N<l;){const be=s.charCodeAt(N++);if(59===be)return ee;34===be||39===be?ee=N=xO(s,be,N,l):o===N-4&&85===b&&82===m&&76===h&&40===be?ee=N=xO(s,41,N,l):be>32&&(ee=N),b=m,m=h,h=-33&be}return ee}(s,h,l),EO(s,h,l))}function wO(s){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=s.length}function l_(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function EO(s,o,l,h){return(o=l_(s,o,l))<l&&o++,o}function xO(s,o,l,h){let m=-1,b=l;for(;b<h;){const N=s.charCodeAt(b++);if(N==o&&92!==m)return b;m=92==N&&92===m?0:N}throw new Error}function _T(s,o,l){const h=oi();return Kl(h,Nd(),o)&&fa(As(),za(),h,s,o,h[Xi],l,!1),_T}function yT(s,o,l,h,m){const N=m?"class":"style";Mg(s,l,o.inputs[N],N,h)}function vT(s,o,l){return Kd(s,o,l,!1),vT}function c_(s,o){return Kd(s,o,null,!0),c_}function dd(s){Bu(ET,G2,s,!1)}function G2(s,o){for(let l=function vO(s){return wO(s),bO(s,l_(s,0,br.textEnd))}(o);l>=0;l=bO(o,l))ET(s,vo(o),Nv(o))}function Yl(s){Bu(vf,Tc,s,!0)}function Tc(s,o){for(let l=function gT(s){return wO(s),Gd(s,l_(s,0,br.textEnd))}(o);l>=0;l=Gd(o,l))dl(s,vo(o),!0)}function Kd(s,o,l,h){const m=oi(),b=As(),N=Xc(2);b.firstUpdatePass&&Bs(b,s,N,h),o!==Ms&&Kl(m,N,o)&&u_(b,b.data[Ec()],m,m[Xi],s,m[N+1]=function kO(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ao(td(s)))),s}(o,l),h,N)}function Bu(s,o,l,h){const m=As(),b=Xc(2);m.firstUpdatePass&&Bs(m,null,b,h);const N=oi();if(l!==Ms&&Kl(N,b,l)){const ee=m.data[Ec()];if(CT(ee,h)&&!bT(m,b)){let be=h?ee.classesWithoutHost:ee.stylesWithoutHost;null!==be&&(l=Ea(be,l||"")),yT(m,ee,N,l,h)}else!function Pv(s,o,l,h,m,b,N,ee){m===Ms&&(m=jr);let be=0,Ze=0,mt=0<m.length?m[0]:null,Ht=0<b.length?b[0]:null;for(;null!==mt||null!==Ht;){const mn=be<m.length?m[be+1]:void 0,yn=Ze<b.length?b[Ze+1]:void 0;let ai,$n=null;mt===Ht?(be+=2,Ze+=2,mn!==yn&&($n=Ht,ai=yn)):null===Ht||null!==mt&&mt<Ht?(be+=2,$n=mt):(Ze+=2,$n=Ht,ai=yn),null!==$n&&u_(s,o,l,h,$n,ai,N,ee),mt=be<m.length?m[be]:null,Ht=Ze<b.length?b[Ze]:null}}(m,ee,N,N[Xi],N[b+1],N[b+1]=function TO(s,o,l){if(null==l||""===l)return jr;const h=[],m=td(l);if(Array.isArray(m))for(let b=0;b<m.length;b++)s(h,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&s(h,b,m[b]);else"string"==typeof m&&o(h,m);return h}(s,o,l),h,b)}}function bT(s,o){return o>=s.expandoStartIndex}function Bs(s,o,l,h){const m=s.data;if(null===m[l+1]){const b=m[Ec()],N=bT(s,l);CT(b,h)&&null===o&&!N&&(o=!1),o=function CO(s,o,l,h){const m=Qb(s);let b=h?o.residualClasses:o.residualStyles;if(null===m)0===(h?o.classBindings:o.styleBindings)&&(l=yf(l=_E(null,s,o,l,h),o.attrs,h),b=null);else{const N=o.directiveStylingLast;if(-1===N||s[N]!==m)if(l=_E(m,s,o,l,h),null===b){let be=function SO(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==_f(h))return s[uc(h)]}(s,o,h);void 0!==be&&Array.isArray(be)&&(be=_E(null,s,o,be[1],h),be=yf(be,o.attrs,h),function wT(s,o,l,h){s[uc(l?o.classBindings:o.styleBindings)]=h}(s,o,h,be))}else b=function DO(s,o,l){let h;const m=o.directiveEnd;for(let b=1+o.directiveStylingLast;b<m;b++)h=yf(h,s[b].hostAttrs,l);return yf(h,o.attrs,l)}(s,o,h)}return void 0!==b&&(h?o.residualClasses=b:o.residualStyles=b),l}(m,b,o,h),function _l(s,o,l,h,m,b){let N=b?o.classBindings:o.styleBindings,ee=uc(N),be=_f(N);s[h]=l;let mt,Ze=!1;if(Array.isArray(l)?(mt=l[1],(null===mt||Jc(l,mt)>0)&&(Ze=!0)):mt=l,m)if(0!==be){const mn=uc(s[ee+1]);s[h+1]=Iv(mn,ee),0!==mn&&(s[mn+1]=Mv(s[mn+1],h)),s[ee+1]=function fT(s,o){return 131071&s|o<<17}(s[ee+1],h)}else s[h+1]=Iv(ee,0),0!==ee&&(s[ee+1]=Mv(s[ee+1],h)),ee=h;else s[h+1]=Iv(be,0),0===ee?ee=h:s[be+1]=Mv(s[be+1],h),be=h;Ze&&(s[h+1]=Av(s[h+1])),Ov(s,mt,h,!0),Ov(s,mt,h,!1),function el(s,o,l,h,m){const b=m?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof o&&Jc(b,o)>=0&&(l[h+1]=mT(l[h+1]))}(o,mt,s,h,b),N=Iv(ee,be),b?o.classBindings=N:o.styleBindings=N}(m,b,o,l,N,h)}}function _E(s,o,l,h,m){let b=null;const N=l.directiveEnd;let ee=l.directiveStylingLast;for(-1===ee?ee=l.directiveStart:ee++;ee<N&&(b=o[ee],h=yf(h,b.hostAttrs,m),b!==s);)ee++;return null!==s&&(l.directiveStylingLast=ee),h}function yf(s,o,l){const h=l?1:2;let m=-1;if(null!==o)for(let b=0;b<o.length;b++){const N=o[b];"number"==typeof N?m=N:m===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),dl(s,N,!!l||o[++b]))}return void 0===s?null:s}function ET(s,o,l){dl(s,o,td(l))}function vf(s,o,l){const h=String(o);""!==h&&!h.includes(" ")&&dl(s,h,l)}function u_(s,o,l,h,m,b,N,ee){if(!(3&o.type))return;const be=s.data,Ze=be[ee+1],mt=function pT(s){return!(1&~s)}(Ze)?xT(be,o,l,m,_f(Ze),N):void 0;bf(mt)||(bf(b)||function hT(s){return!(2&~s)}(Ze)&&(b=xT(be,null,l,m,ee,N)),function G0(s,o,l,h,m){if(o)m?s.addClass(l,h):s.removeClass(l,h);else{let b=-1===h.indexOf("-")?void 0:Ly.DashCase;null==m?s.removeStyle(l,h,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=Ly.Important),s.setStyle(l,h,m,b))}}(h,N,Ip(Ec(),l),m,b))}function xT(s,o,l,h,m,b){const N=null===o;let ee;for(;m>0;){const be=s[m],Ze=Array.isArray(be),mt=Ze?be[1]:be,Ht=null===mt;let mn=l[m+1];mn===Ms&&(mn=Ht?jr:void 0);let yn=Ht?Ca(mn,h):mt===h?mn:void 0;if(Ze&&!bf(yn)&&(yn=Ca(be,h)),bf(yn)&&(ee=yn,N))return ee;const $n=s[m+1];m=N?uc($n):_f($n)}if(null!==o){let be=b?o.residualClasses:o.residualStyles;null!=be&&(ee=Ca(be,h))}return ee}function bf(s){return void 0!==s}function CT(s,o){return!!(s.flags&(o?8:16))}function yE(s,o,l){Bu(dl,Tc,Sm(oi(),s,o,l),!0)}class dc{destroy(o){}updateValue(o,l){}swap(o,l){const h=Math.min(o,l),m=Math.max(o,l),b=this.detach(m);if(m-h>1){const N=this.detach(h);this.attach(h,b),this.attach(m,N)}else this.attach(h,b)}move(o,l){this.attach(l,this.detach(o))}}function Fv(s,o,l,h,m){return s===l&&Object.is(o,h)?1:Object.is(m(s,o),m(l,h))?-1:0}function DT(s,o,l,h){return!(void 0===o||!o.has(h)||(s.attach(l,o.get(h)),o.delete(h),0))}function AO(s,o,l,h,m){if(DT(s,o,h,l(h,m)))s.updateValue(h,m);else{const b=s.create(h,m);s.attach(h,b)}}function MO(s,o,l,h){const m=new Set;for(let b=o;b<=l;b++)m.add(h(b,s.at(b)));return m}class OO{constructor(){this.kvMap=new Map,this._vMap=void 0}has(o){return this.kvMap.has(o)}delete(o){if(!this.has(o))return!1;const l=this.kvMap.get(o);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(o,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(o),!0}get(o){return this.kvMap.get(o)}set(o,l){if(this.kvMap.has(o)){let h=this.kvMap.get(o);void 0===this._vMap&&(this._vMap=new Map);const m=this._vMap;for(;m.has(h);)h=m.get(h);m.set(h,l)}else this.kvMap.set(o,l)}forEach(o){for(let[l,h]of this.kvMap)if(o(h,l),void 0!==this._vMap){const m=this._vMap;for(;m.has(h);)h=m.get(h),o(h,l)}}}function RO(s,o){du("NgControlFlow");const l=oi(),h=Nd(),m=l[h]!==Ms?l[h]:-1,b=-1!==m?bE(l,Sr+m):void 0;if(Kl(l,h,s)){const ee=S(null);try{if(void 0!==b&&ow(b,0),-1!==s){const be=Sr+s,Ze=bE(l,be),mt=TT(l[Un],be),Ht=ap(Ze,mt.tView.ssrId);om(Ze,$s(l,mt,o,{dehydratedView:Ht}),0,rp(mt,Ht))}}finally{S(ee)}}else if(void 0!==b){const ee=RS(b,0);void 0!==ee&&(ee[qr]=o)}}class J2{constructor(o,l,h){this.lContainer=o,this.$implicit=l,this.$index=h}get $count(){return this.lContainer.length-Ua}}function NO(s){return s}function PO(s,o){return o}class eF{constructor(o,l,h){this.hasEmptyBlock=o,this.trackByFn=l,this.liveCollection=h}}function FO(s,o,l,h,m,b,N,ee,be,Ze,mt,Ht,mn){du("NgControlFlow");const yn=oi(),$n=As(),ai=void 0!==be,$i=oi(),Hi=ee?N.bind($i[cs][qr]):N,bi=new eF(ai,Hi);$i[Sr+s]=bi,ws(yn,$n,s+1,o,l,h,m,Za($n.consts,b)),ai&&ws(yn,$n,s+2,be,Ze,mt,Ht,Za($n.consts,mn))}class tF extends dc{constructor(o,l,h){super(),this.lContainer=o,this.hostLView=l,this.templateTNode=h,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ua}at(o){return this.getLView(o)[qr].$implicit}attach(o,l){const h=l[xs];this.needsIndexUpdate||=o!==this.length,om(this.lContainer,l,o,rp(this.templateTNode,h))}detach(o){return this.needsIndexUpdate||=o!==this.length-1,function nF(s,o){return xg(s,o)}(this.lContainer,o)}create(o,l){const h=ap(this.lContainer,this.templateTNode.tView.ssrId),m=$s(this.hostLView,this.templateTNode,new J2(this.lContainer,l,o),{dehydratedView:h});return this.operationsCounter?.recordCreate(),m}destroy(o){Vy(o[Un],o),this.operationsCounter?.recordDestroy()}updateValue(o,l){this.getLView(o)[qr].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let o=0;o<this.length;o++)this.getLView(o)[qr].$index=o}getLView(o){return function iF(s,o){return RS(s,o)}(this.lContainer,o)}}function LO(s){const o=S(null),l=Ec();try{const h=oi(),m=h[Un],b=h[l],N=l+1,ee=bE(h,N);if(void 0===b.liveCollection){const Ze=TT(m,N);b.liveCollection=new tF(ee,h,Ze)}else b.liveCollection.reset();const be=b.liveCollection;if(function Z2(s,o,l){let h,m,b=0,N=s.length-1;if(Array.isArray(o)){let be=o.length-1;for(;b<=N&&b<=be;){const Ze=s.at(b),mt=o[b],Ht=Fv(b,Ze,b,mt,l);if(0!==Ht){Ht<0&&s.updateValue(b,mt),b++;continue}const mn=s.at(N),yn=o[be],$n=Fv(N,mn,be,yn,l);if(0!==$n){$n<0&&s.updateValue(N,yn),N--,be--;continue}const ai=l(b,Ze),$i=l(N,mn),Hi=l(b,mt);if(Object.is(Hi,$i)){const bi=l(be,yn);Object.is(bi,ai)?(s.swap(b,N),s.updateValue(N,yn),be--,N--):s.move(N,b),s.updateValue(b,mt),b++}else if(h??=new OO,m??=MO(s,b,N,l),DT(s,h,b,Hi))s.updateValue(b,mt),b++,N++;else if(m.has(Hi))h.set(ai,s.detach(b)),N--;else{const bi=s.create(b,o[b]);s.attach(b,bi),b++,N++}}for(;b<=be;)AO(s,h,l,b,o[b]),b++}else if(null!=o){const be=o[Symbol.iterator]();let Ze=be.next();for(;!Ze.done&&b<=N;){const mt=s.at(b),Ht=Ze.value,mn=Fv(b,mt,b,Ht,l);if(0!==mn)mn<0&&s.updateValue(b,Ht),b++,Ze=be.next();else{h??=new OO,m??=MO(s,b,N,l);const yn=l(b,Ht);if(DT(s,h,b,yn))s.updateValue(b,Ht),b++,N++,Ze=be.next();else if(m.has(yn)){const $n=l(b,mt);h.set($n,s.detach(b)),N--}else s.attach(b,s.create(b,Ht)),b++,N++,Ze=be.next()}}for(;!Ze.done;)AO(s,h,l,s.length,Ze.value),Ze=be.next()}for(;b<=N;)s.destroy(s.detach(N--));h?.forEach(be=>{s.destroy(be)})}(be,s,b.trackByFn),be.updateIndexes(),b.hasEmptyBlock){const Ze=Nd(),mt=0===be.length;if(Kl(h,Ze,mt)){const Ht=l+2,mn=bE(h,Ht);if(mt){const yn=TT(m,Ht),$n=ap(mn,yn.tView.ssrId);om(mn,$s(h,yn,void 0,{dehydratedView:$n}),0,rp(yn,$n))}else ow(mn,0)}}}finally{S(o)}}function bE(s,o){return s[o]}function TT(s,o){return Rf(s,o)}function Am(s,o,l,h){const m=oi(),b=As(),N=Sr+s,ee=m[Xi],be=b.firstCreatePass?function wf(s,o,l,h,m,b){const N=o.consts,be=ep(o,s,2,h,Za(N,m));return Ky(o,l,be,Za(N,b)),null!==be.attrs&&Jg(be,be.attrs,!1),null!==be.mergedAttrs&&Jg(be,be.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,be),be}(N,b,m,o,l,h):b.data[N],Ze=kT(b,m,be,ee,o,s);m[N]=Ze;const mt=bu(be);return au(be,!0),K0(ee,Ze,be),!function Qc(s){return!(32&~s.flags)}(be)&&Ff()&&Uy(b,m,Ze,be),0===function Ri(){return dt.lFrame.elementDepthCount}()&&cu(Ze,m),function Fi(){dt.lFrame.elementDepthCount++}(),mt&&(im(b,m,be),X0(b,be,m)),null!==h&&Y0(m,be),Am}function h_(){let s=da();Z_()?Xb():(s=s.parent,au(s,!1));const o=s;(function To(s){return dt.skipHydrationRootTNode===s})(o)&&function Oh(){dt.skipHydrationRootTNode=null}(),function ms(){dt.lFrame.elementDepthCount--}();const l=As();return l.firstCreatePass&&(iy(l,s),Md(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Gk(s){return!!(8&s.flags)}(o)&&yT(l,o,oi(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Kk(s){return!!(16&s.flags)}(o)&&yT(l,o,oi(),o.stylesWithoutHost,!1),h_}function wE(s,o,l,h){return Am(s,o,l,h),h_(),wE}let kT=(s,o,l,h,m,b)=>(Pd(!0),$y(h,m,function e0(){return dt.lFrame.currentNamespace}()));function Lv(s,o,l){const h=oi(),m=As(),b=s+Sr,N=m.firstCreatePass?function BO(s,o,l,h,m){const b=o.consts,N=Za(b,h),ee=ep(o,s,8,"ng-container",N);return null!==N&&Jg(ee,N,!0),Ky(o,l,ee,Za(b,m)),null!==o.queries&&o.queries.elementStart(o,ee),ee}(b,m,h,o,l):m.data[b];au(N,!0);const ee=IT(m,h,N,s);return h[b]=ee,Ff()&&Uy(m,h,ee,N),cu(ee,h),bu(N)&&(im(m,h,N),X0(m,N,h)),null!=l&&Y0(h,N),Lv}function $v(){let s=da();const o=As();return Z_()?Xb():(s=s.parent,au(s,!1)),o.firstCreatePass&&(iy(o,s),Md(s)&&o.queries.elementEnd(s)),$v}function Bv(s,o,l){return Lv(s,o,l),$v(),Bv}let IT=(s,o,l,h)=>(Pd(!0),V0(o[Xi],""));function f_(){return oi()}function Om(s,o,l){const h=oi();return Kl(h,Nd(),o)&&fa(As(),za(),h,s,o,h[Xi],l,!0),Om}function p_(s,o,l){const h=oi();if(Kl(h,Nd(),o)){const b=As(),N=za();fa(b,N,h,s,o,Yy(Qb(b.data),N,h),l,!0)}return p_}const Yh=void 0;var UO=["en",[["a","p"],["AM","PM"],Yh],[["AM","PM"],Yh,Yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yh,"{1} 'at' {0}",Yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VO(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Rm={};function EE(s){const o=function zO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=MT(o);if(l)return l;const h=o.split("-")[0];if(l=MT(h),l)return l;if("en"===h)return UO;throw new Oi(701,!1)}function m_(s){return EE(s)[Nm.PluralCase]}function MT(s){return s in Rm||(Rm[s]=Rs.ng&&Rs.ng.common&&Rs.ng.common.locales&&Rs.ng.common.locales[s]),Rm[s]}var Nm=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Nm||{});const OT=["zero","one","two","few","many"],g_="en-US",CE={marker:"element"},SE={marker:"ICU"};var hd=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(hd||{});let jO=g_;let Uv=0,zv=0;let Pm=(s,o,l,h)=>(Pd(!0),function TE(s,o,l){const h=s[Xi];switch(l){case Node.COMMENT_NODE:return V0(h,o);case Node.TEXT_NODE:return B0(h,o);case Node.ELEMENT_NODE:return $y(h,o,null)}}(s,l,h));function NT(s,o,l,h){const m=l[Xi];let N,b=null;for(let ee=0;ee<o.length;ee++){const be=o[ee];if("string"==typeof be){const Ze=o[++ee];null===l[Ze]&&(l[Ze]=Pm(l,Ze,be,Node.TEXT_NODE))}else if("number"==typeof be)switch(1&be){case 0:const Ze=KS(be);let mt,Ht;if(null===b&&(b=Ze,N=Su(m,h)),Ze===b?(mt=h,Ht=N):(mt=null,Ht=_o(l[Ze])),null!==Ht){const ai=nv(be);Jf(m,Ht,l[ai],mt,!1);const Hi=sp(s,ai);if(null!==Hi&&"object"==typeof Hi){const bi=Ug(Hi,l);null!==bi&&NT(s,Hi.create[bi],l,l[Hi.anchorIdx])}}break;case 1:const yn=o[++ee],$n=o[++ee];J0(m,Ip(be>>>1,l),null,null,yn,$n,null)}else switch(be){case SE:const Ze=o[++ee],mt=o[++ee];null===l[mt]&&cu(l[mt]=Pm(l,mt,Ze,Node.COMMENT_NODE),l);break;case CE:const Ht=o[++ee],mn=o[++ee];null===l[mn]&&cu(l[mn]=Pm(l,mn,Ht,Node.ELEMENT_NODE),l)}}}function KO(s,o,l,h,m){for(let b=0;b<l.length;b++){const N=l[b],ee=l[++b];if(N&m){let be="";for(let Ze=b+1;Ze<=b+ee;Ze++){const mt=l[Ze];if("string"==typeof mt)be+=mt;else if("number"==typeof mt)if(mt<0)be+=_r(o[h-mt]);else{const Ht=mt>>>2;switch(3&mt){case 1:const mn=l[++Ze],yn=l[++Ze],$n=s.data[Ht];"string"==typeof $n?J0(o[Xi],o[Ht],null,$n,mn,be,yn):fa(s,$n,o,mn,be,o[Xi],yn,!1);break;case 0:const ai=o[Ht];null!==ai&&mS(o[Xi],ai,be);break;case 2:XO(s,sp(s,Ht),o,be);break;case 3:PT(s,sp(s,Ht),h,o)}}}}else{const be=l[b+1];if(be>0&&!(3&~be)){const mt=sp(s,be>>>2);o[mt.currentCaseLViewIndex]<0&&PT(s,mt,h,o)}}b+=ee}}function PT(s,o,l,h){let m=h[o.currentCaseLViewIndex];if(null!==m){let b=Uv;m<0&&(m=h[o.currentCaseLViewIndex]=~m,b=-1),KO(s,h,o.update[m],l,b)}}function XO(s,o,l,h){const m=function lF(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function sF(s,o){const l=m_(o)(parseInt(s,10)),h=OT[l];return void 0!==h?h:"other"}(o,function aF(){return jO}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(Ug(o,l)!==m&&(YO(s,o,l),l[o.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const N=l[o.anchorIdx];N&&NT(s,o.create[m],l,N),function nM(s,o,l){eD(s,o,l)}(l,o.anchorIdx,m)}}function YO(s,o,l){let h=Ug(o,l);if(null!==h){const m=o.remove[h];for(let b=0;b<m.length;b++){const N=m[b];if(N>0){const ee=Ip(N,l);null!==ee&&Dg(l[Xi],ee)}else YO(s,sp(s,~N),l)}}}const Wv=/\ufffd(\d+):?\d*\ufffd/gi,qO=/\ufffd(\d+)\ufffd/,kE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ef="\ufffd",QO=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Hv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ZO=/\uE500/g;function BT(s,o,l,h,m,b,N){const ee=kg(s,h,1,null);let be=ee<<hd.SHIFT,Ze=Op();o===Ze&&(Ze=null),null===Ze&&(be|=hd.APPEND_EAGERLY),N&&(be|=hd.COMMENT,function c2(s){void 0===$0&&($0=s())}($A)),m.push(be,null===b?"":b);const mt=tm(s,ee,N?32:1,null===b?"":b,null);HS(l,mt);const Ht=mt.index;return au(mt,!1),null!==Ze&&o!==Ze&&function PA(s,o){let l=s.insertBeforeIndex;null===l?(wS(jS,WS),l=s.insertBeforeIndex=[null,o]):(de(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(Ze,Ht),mt}function eR(s,o,l,h,m,b,N,ee){const be=ee.match(Wv),mt=BT(o,l,h,N,m,be?null:ee,!1).index;be&&xf(b,ee,mt,null,0,null),s.push({kind:0,index:mt})}function xf(s,o,l,h,m,b){const N=s.length,ee=N+1;s.push(null,null);const be=N+2,Ze=o.split(Wv);let mt=0;for(let Ht=0;Ht<Ze.length;Ht++){const mn=Ze[Ht];if(1&Ht){const yn=m+parseInt(mn,10);s.push(-1-yn),mt|=VT(yn)}else""!==mn&&s.push(mn)}return s.push(l<<2|(h?1:0)),h&&s.push(h,b),s[N]=mt,s[ee]=s.length-be,mt}function VT(s){return 1<<Math.min(s,31)}function AE(s){let o,b,l="",h=0,m=!1;for(;null!==(o=QO.exec(s));)m?o[0]===`${Ef}/*${b}${Ef}`&&(h=o.index,m=!1):(l+=s.substring(h,o.index+o[0].length),b=o[1],m=!0);return l+=s.slice(h),l}function Gv(s,o,l,h,m,b,N){let ee=0;const be={type:b.type,currentCaseLViewIndex:kg(o,l,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function UT(s,o,l){s.push(VT(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(h,b,N),function pw(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(o,N,be);const Ze=b.values,mt=[];for(let Ht=0;Ht<Ze.length;Ht++){const mn=Ze[Ht],yn=[];for(let ai=0;ai<mn.length;ai++){const $i=mn[ai];if("string"!=typeof $i){const Hi=yn.push($i)-1;mn[ai]=`\x3c!--\ufffd${Hi}\ufffd--\x3e`}}const $n=[];mt.push($n),ee=Xd($n,o,be,l,h,m,b.cases[Ht],mn.join(""),yn)|ee}ee&&function FE(s,o,l){s.push(o,1,l<<2|3)}(h,ee,N),s.push({kind:3,index:N,cases:mt,currentCaseLViewIndex:be.currentCaseLViewIndex})}function OE(s){const o=[],l=[];let h=1,m=0;const b=RE(s=s.replace(kE,function(N,ee,be){return h="select"===be?0:1,m=parseInt(ee.slice(1),10),""}));for(let N=0;N<b.length;){let ee=b[N++].trim();1===h&&(ee=ee.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ee.length&&o.push(ee);const be=RE(b[N++]);o.length>l.length&&l.push(be)}return{type:h,mainBinding:m,cases:o,values:l}}function RE(s){if(!s)return[];let o=0;const l=[],h=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(s);){const ee=b.index;if("}"==b[0]){if(l.pop(),0==l.length){const be=s.substring(o,ee);kE.test(be)?h.push(OE(be)):h.push(be),o=ee+1}}else{if(0==l.length){const be=s.substring(o,ee);h.push(be),o=ee+1}l.push("{")}}const N=s.substring(o);return h.push(N),h}function Xd(s,o,l,h,m,b,N,ee,be){const Ze=[],mt=[],Ht=[];l.cases.push(N),l.create.push(Ze),l.remove.push(mt),l.update.push(Ht);const yn=GC(lf()).getInertBodyElement(ee),$n=Ja(yn)||yn;return $n?NE(s,o,l,h,m,Ze,mt,Ht,$n,b,be,0):0}function NE(s,o,l,h,m,b,N,ee,be,Ze,mt,Ht){let mn=0,yn=be.firstChild;for(;yn;){const $n=kg(o,h,1,null);switch(yn.nodeType){case Node.ELEMENT_NODE:const ai=yn,$i=ai.tagName.toLowerCase();if(R0.hasOwnProperty($i)){LE(b,CE,$i,Ze,$n),o.data[$n]=$i;const Co=ai.attributes;for(let Vc=0;Vc<Co.length;Vc++){const pd=Co.item(Vc),R_=pd.name.toLowerCase();pd.value.match(Wv)?qC.hasOwnProperty(R_)&&xf(ee,pd.value,$n,pd.name,0,qp[R_]?$h:null):iR(b,$n,pd)}const Ia={kind:1,index:$n,children:[]};s.push(Ia),mn=NE(Ia.children,o,l,h,m,b,N,ee,yn,$n,mt,Ht+1)|mn,PE(N,$n,Ht)}break;case Node.TEXT_NODE:const Hi=yn.textContent||"",bi=Hi.match(Wv);LE(b,null,bi?"":Hi,Ze,$n),PE(N,$n,Ht),bi&&(mn=xf(ee,Hi,$n,null,0,null)|mn),s.push({kind:0,index:$n});break;case Node.COMMENT_NODE:const rs=qO.exec(yn.textContent||"");if(rs){const Ia=mt[parseInt(rs[1],10)];LE(b,SE,"",Ze,$n),Gv(s,o,h,m,Ze,Ia,$n),fF(N,$n,Ht)}}yn=yn.nextSibling}return mn}function PE(s,o,l){0===l&&s.push(o)}function fF(s,o,l){0===l&&(s.push(~o),s.push(o))}function LE(s,o,l,h,m){null!==o&&s.push(o),s.push(l,m,function LA(s,o,l){return s|o<<17|l<<1}(0,h,m))}function iR(s,o,l){s.push(o<<1|1,l.name,l.value)}const $E=0,zT=/\[(\ufffd.+?\ufffd?)\]/,rR=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,sR=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,BE=/{([A-Z0-9_]+)}/g,oR=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,jT=/\/\*/,aR=/\d+\:(\d+)/;function __(s,o,l=-1){const h=As(),m=oi(),b=Sr+s,N=Za(h.consts,o),ee=Op();h.firstCreatePass&&function IE(s,o,l,h,m,b){const N=Op(),ee=[],be=[],Ze=[[]],mt=[[]];m=function ME(s,o){if(function YS(s){return-1===s}(o))return AE(s);{const l=s.indexOf(`:${o}${Ef}`)+2+o.toString().length,h=s.search(new RegExp(`${Ef}\\/\\*\\d+:${o}${Ef}`));return AE(s.substring(l,h))}}(m,b);const Ht=function $T(s){return s.replace(ZO," ")}(m).split(Hv);for(let mn=0;mn<Ht.length;mn++){let yn=Ht[mn];if(1&mn){const $n=47===yn.charCodeAt(0),ai=yn.charCodeAt($n?1:0),$i=Sr+Number.parseInt(yn.substring($n?2:1));if($n)Ze.shift(),mt.shift(),au(Op(),!1);else{const Hi=FA(s,Ze[0],$i);Ze.unshift([]),au(Hi,!0);const bi={kind:2,index:$i,children:[],type:35===ai?0:1};mt[0].push(bi),mt.unshift(bi.children)}}else{const $n=RE(yn);for(let ai=0;ai<$n.length;ai++){let $i=$n[ai];if(1&ai){const Hi=$i;if("object"!=typeof Hi)throw new Error(`Unable to parse ICU expression in "${m}" message.`);const rs=BT(s,N,Ze[0],l,ee,"",!0).index;Gv(mt[0],s,l,be,o,Hi,rs)}else""!==$i&&eR(mt[0],s,N,Ze[0],ee,be,l,$i)}}}s.data[h]={create:ee,update:be,ast:mt[0]}}(h,null===ee?0:ee.index,m,b,N,l),2===h.type?m[cs][_i]|=32:m[_i]|=32;const be=h.data[b],mt=z0(h,ee===m[Wr]?null:ee,m),Ht=ee&&8&ee.type?m[ee.index]:null;(function jh(s,o,l,h){JS(s,o,l,h)})(m,b,ee,l),function GO(s,o,l,h){const m=s[Xi];for(let b=0;b<o.length;b++){const N=o[b++],Ze=(N&hd.APPEND_EAGERLY)===hd.APPEND_EAGERLY,mt=N>>>hd.SHIFT;let Ht=s[mt],mn=!1;null===Ht&&(Ht=s[mt]=Pm(s,mt,o[b],(N&hd.COMMENT)===hd.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),mn=Ff()),Ze&&null!==l&&mn&&Jf(m,l,Ht,h,!1)}}(m,be.create,mt,Ht),J_(!0)}function y_(){J_(!1)}function Fm(s,o,l){__(s,o,l),y_()}function v_(s){return function jv(s){s&&(Uv|=1<<Math.min(zv,31)),zv++}(Kl(oi(),Nd(),s)),v_}function UE(s){!function DE(s,o,l){if(zv>0){const h=s.data[l];KO(s,o,Array.isArray(h)?h:h.update,ha()-zv-1,Uv)}Uv=0,zv=0}(As(),oi(),s+Sr)}function wd(s,o={}){return function lR(s,o={}){let l=s;if(zT.test(s)){const h={},m=[$E];l=l.replace(rR,(b,N,ee)=>{const be=N||ee,Ze=h[be]||[];if(Ze.length||(be.split("|").forEach(ai=>{const $i=ai.match(aR),Hi=$i?parseInt($i[1],10):$E,bi=jT.test(ai);Ze.push([Hi,bi,ai])}),h[be]=Ze),!Ze.length)throw new Error(`i18n postprocess: unmatched placeholder - ${be}`);const mt=m[m.length-1];let Ht=0;for(let ai=0;ai<Ze.length;ai++)if(Ze[ai][0]===mt){Ht=ai;break}const[mn,yn,$n]=Ze[Ht];return yn?m.pop():mt!==mn&&m.push(mn),Ze.splice(Ht,1),$n})}return Object.keys(o).length&&(l=l.replace(sR,(h,m,b,N,ee,be)=>o.hasOwnProperty(b)?`${m}${o[b]}${be}`:h),l=l.replace(BE,(h,m)=>o.hasOwnProperty(m)?o[m]:h),l=l.replace(oR,(h,m)=>{if(o.hasOwnProperty(m)){const b=o[m];if(!b.length)throw new Error(`i18n postprocess: unmatched ICU - ${h} with key: ${m}`);return b.shift()}return h})),l}(s,o)}let WT=(s,o,l)=>{};function Xv(s,o,l,h){const m=oi(),b=As(),N=da();return zE(b,m,m[Xi],N,s,o,h),Xv}function Yv(s,o){const l=da(),h=oi(),m=As();return zE(m,h,Yy(Qb(m.data),l,h),l,s,o),Yv}function zE(s,o,l,h,m,b,N){const ee=bu(h),Ze=s.firstCreatePass&&iw(s),mt=o[qr],Ht=OS(o);let mn=!0;if(3&h.type||N){const ai=wc(h,o),$i=N?N(ai):ai,Hi=Ht.length,bi=N?Co=>N(_o(Co[h.index])):h.index;let rs=null;if(!N&&ee&&(rs=function cR(s,o,l,h){const m=s.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const N=m[b];if(N===l&&m[b+1]===h){const ee=o[Ls],be=m[b+2];return ee.length>be?ee[be]:null}"string"==typeof N&&(b+=2)}return null}(s,o,m,h.index)),null!==rs)(rs.__ngLastListenerFn__||rs).__ngNextListenerFn__=b,rs.__ngLastListenerFn__=b,mn=!1;else{b=HT(h,o,mt,b),WT(ai,m,b);const Co=l.listen($i,m,b);Ht.push(b,Co),Ze&&Ze.push(m,bi,Hi,Hi+1)}}else b=HT(h,o,mt,b);const yn=h.outputs;let $n;if(mn&&null!==yn&&($n=yn[m])){const ai=$n.length;if(ai)for(let $i=0;$i<ai;$i+=2){const Ia=o[$n[$i]][$n[$i+1]].subscribe(b),Vc=Ht.length;Ht.push(b,Ia),Ze&&Ze.push(m,h.index,Vc,-(Vc+1))}}}function jE(s,o,l,h){const m=S(null);try{return Yu(6,o,l),!1!==l(h)}catch(b){return qy(s,b),!1}finally{Yu(7,o,l),S(m)}}function HT(s,o,l,h){return function m(b){if(b===Function)return h;Pg(s.componentOffset>-1?Eu(s.index,o):o,5);let ee=jE(o,l,h,b),be=m.__ngNextListenerFn__;for(;be;)ee=jE(o,l,be,b)&&ee,be=be.__ngNextListenerFn__;return ee}}function gp(s=1){return function nC(s){return(dt.lFrame.contextLView=function Ti(s,o){for(;s>0;)o=o[ls],s--;return o}(s,dt.lFrame.contextLView))[qr]}(s)}function mF(s,o){let l=null;const h=function tu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let m=0;m<o.length;m++){const b=o[m];if("*"!==b){if(null===h?_c(s,b,!0):eh(h,b))return m}else l=m}return l}function uR(s){const o=oi()[cs][Wr];if(!o.projection){const h=o.projection=function Vo(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}(s?s.length:1,null),m=h.slice();let b=o.child;for(;null!==b;){if(128!==b.type){const N=s?mF(b,s):0;null!==N&&(m[N]?m[N].projectionNext=b:h[N]=b,m[N]=b)}b=b.next}}}function qv(s,o=0,l,h,m,b){const N=oi(),ee=As(),be=h?s+1:null;null!==be&&ws(N,ee,be,h,m,b,null,l);const Ze=ep(ee,Sr+s,16,null,l||null);null===Ze.projection&&(Ze.projection=o),Xb();const Ht=!N[xs]||ho();null===N[cs][Wr].projection[Ze.projection]&&null!==be?function gF(s,o,l){const h=Sr+l,m=o.data[h],b=s[h],N=ap(b,m.tView.ssrId);om(b,$s(s,m,void 0,{dehydratedView:N}),0,rp(m,N))}(N,ee,be):Ht&&32&~Ze.flags&&function nA(s,o,l){jy(o[Xi],0,o,l,U0(s,l,o),yS(l.parent||o[Wr],l,o))}(ee,N,Ze)}function gR(s,o,l,h){kD(s,o,l,h)}function _R(s,o,l){!function TD(s,o,l){const h=As();return h.firstCreatePass&&(ID(h,new CD(s,o,l),-1),!(2&~o)&&(h.staticViewQueries=!0)),DD(h,oi(),o)}(s,o,l)}function yR(s){const o=oi(),l=As(),h=Zb();ey(h+1);const m=Zw(l,h);if(s.dirty&&function qi(s){return!(4&~s[_i])}(o)===!(2&~m.metadata.flags)){if(null===m.matches)s.reset([]);else{const b=AD(o,h);s.reset(b,g0),s.notifyOnChanges()}return!0}return!1}function vR(){return Qw(oi(),Zb())}function bR(s,o,l,h,m){!function LD(s,o){const l=s[C];l._lView=oi(),l._queryIndex=o,l._queryList=Qw(l._lView,o),l._queryList.onDirty(()=>l._dirtyCounter.update(h=>h+1))}(o,kD(s,l,h,m))}function wR(s=1){ey(Zb()+s)}function ER(s){return is(function sh(){return dt.lFrame.contextLView}(),Sr+s)}function Ha(s,o=""){const l=oi(),h=As(),m=s+Sr,b=h.firstCreatePass?ep(h,m,1,o,null):h.data[m],N=SR(h,l,b,o,s);l[m]=N,Ff()&&Uy(h,l,N,b),au(b,!1)}let SR=(s,o,l,h,m)=>(Pd(!0),B0(o[Xi],h));function YT(s){return YE("",s,""),YT}function YE(s,o,l){const h=oi(),m=Sm(h,s,o,l);return m!==Ms&&lh(h,Ec(),m),YE}function qT(s,o,l,h,m){const b=oi(),N=function mp(s,o,l,h,m,b){const ee=up(s,ha(),l,m);return Xc(2),ee?o+_r(l)+h+_r(m)+b:Ms}(b,s,o,l,h,m);return N!==Ms&&lh(b,Ec(),N),qT}function Sf(s,o,l,h,m,b,N){const ee=oi(),be=function Dm(s,o,l,h,m,b,N,ee){const Ze=yv(s,ha(),l,m,N);return Xc(3),Ze?o+_r(l)+h+_r(m)+b+_r(N)+ee:Ms}(ee,s,o,l,h,m,b,N);return be!==Ms&&lh(ee,Ec(),be),Sf}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function QT(s,o,l){RD(o)&&(o=o());const h=oi();return Kl(h,Nd(),o)&&fa(As(),za(),h,s,o,h[Xi],l,!1),QT}function nb(s,o){const l=RD(s);return l&&s.set(o),l}function ZT(s,o){const l=oi(),h=As(),m=da();return zE(h,l,l[Xi],m,s,o),ZT
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}function t1(s,o,l,h,m){if(s=pr(s),Array.isArray(s))for(let b=0;b<s.length;b++)t1(s[b],o,l,h,m);else{const b=As(),N=oi(),ee=da();let be=Ei(s)?s:pr(s.provide);const Ze=Mr(s),mt=1048575&ee.providerIndexes,Ht=ee.directiveStart,mn=ee.providerIndexes>>20;if(Ei(s)||!s.multi){const yn=new Pp(Ze,m,ff),$n=s1(be,o,m?mt:mt+mn,Ht);-1===$n?(ly(ng(ee,N),b,be),n1(b,s,o.length),o.push(be),ee.directiveStart++,ee.directiveEnd++,m&&(ee.providerIndexes+=1048576),l.push(yn),N.push(yn)):(l[$n]=yn,N[$n]=yn)}else{const yn=s1(be,o,mt+mn,Ht),$n=s1(be,o,mt,mt+mn),$i=$n>=0&&l[$n];if(m&&!$i||!m&&!(yn>=0&&l[yn])){ly(ng(ee,N),b,be);const Hi=function TR(s,o,l,h,m){const b=new Pp(s,l,ff);return b.multi=[],b.index=o,b.componentProviders=0,r1(b,m,h&&!l),b}(m?TF:DF,l.length,m,h,Ze);!m&&$i&&(l[$n].providerFactory=Hi),n1(b,s,o.length,0),o.push(be),ee.directiveStart++,ee.directiveEnd++,m&&(ee.providerIndexes+=1048576),l.push(Hi),N.push(Hi)}else n1(b,s,yn>-1?yn:$n,r1(l[m?$n:yn],Ze,!m&&h));!m&&h&&$i&&l[$n].componentProviders++}}}function n1(s,o,l,h){const m=Ei(o),b=function Vi(s){return!!s.useClass}(o);if(m||b){const be=(b?pr(o.useClass):o).prototype.ngOnDestroy;if(be){const Ze=s.destroyHooks||(s.destroyHooks=[]);if(!m&&o.multi){const mt=Ze.indexOf(l);-1===mt?Ze.push(l,[h,be]):Ze[mt+1].push(h,be)}else Ze.push(l,be)}}}function r1(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function s1(s,o,l,h){for(let m=l;m<h;m++)if(o[m]===s)return m;return-1}function DF(s,o,l,h){return o1(this.multi,[])}function TF(s,o,l,h){const m=this.multi;let b;if(this.providerFactory){const N=this.providerFactory.componentProviders,ee=nf(l,l[Un],this.providerFactory.index,h);b=ee.slice(0,N),o1(m,b);for(let be=N;be<ee.length;be++)b.push(ee[be])}else b=[],o1(m,b);return b}function o1(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function kR(s,o=[]){return l=>{l.providersResolver=(h,m)=>function e1(s,o,l){const h=As();if(h.firstCreatePass){const m=ua(s);t1(l,h.data,h.blueprint,m,!0),t1(o,h.data,h.blueprint,m,!1)}}(h,m?m(s):s,o)}}let a1=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const h=ge(0,l.type),m=h.length>0?iE([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,m)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dr({token:s,providedIn:"environment",factory:()=>new s(Yr(fn))})}return s})();function JE(s){du("NgStandalone"),s.getStandaloneInjector=o=>o.get(a1).getOrCreateStandaloneInjector(s)}function $m(s,o,l){const h=s.\u0275cmp;h.directiveDefs=Ul(o,!1),h.pipeDefs=Ul(l,!0)}function tx(s,o,l){const h=rc()+s,m=oi();return m[h]===Ms?hh(m,h,l?o.call(l):o()):n_(m,h)}function Qh(s,o,l,h){return OR(oi(),rc(),s,o,l,h)}function l1(s,o,l,h,m){return RR(oi(),rc(),s,o,l,h,m)}function MR(s,o,l,h,m,b){return NR(oi(),rc(),s,o,l,h,m,b)}function c1(s,o,l,h,m,b,N){return function PR(s,o,l,h,m,b,N,ee,be){const Ze=o+l;return Xl(s,Ze,m,b,N,ee)?hh(s,Ze+4,be?h.call(be,m,b,N,ee):h(m,b,N,ee)):rb(s,Ze+4)}(oi(),rc(),s,o,l,h,m,b,N)}function nx(s,o,l,h,m,b,N,ee,be,Ze){const mt=rc()+s,Ht=oi();let mn=Xl(Ht,mt,l,h,m,b);return yv(Ht,mt+4,N,ee,be)||mn?hh(Ht,mt+7,Ze?o.call(Ze,l,h,m,b,N,ee,be):o(l,h,m,b,N,ee,be)):n_(Ht,mt+7)}function rb(s,o){const l=s[o];return l===Ms?void 0:l}function OR(s,o,l,h,m,b){const N=o+l;return Kl(s,N,m)?hh(s,N+1,b?h.call(b,m):h(m)):rb(s,N+1)}function RR(s,o,l,h,m,b,N){const ee=o+l;return up(s,ee,m,b)?hh(s,ee+2,N?h.call(N,m,b):h(m,b)):rb(s,ee+2)}function NR(s,o,l,h,m,b,N,ee){const be=o+l;return yv(s,be,m,b,N)?hh(s,be+3,ee?h.call(ee,m,b,N):h(m,b,N)):rb(s,be+3)}function LR(s,o){const l=As();let h;const m=s+Sr;l.firstCreatePass?(h=function _p(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[m]=h,h.onDestroy&&(l.destroyHooks??=[]).push(m,h.onDestroy)):h=l.data[m];const b=h.factory||(h.factory=ec(h.type)),ee=co(ff);try{const be=Fp(!1),Ze=b();return Fp(be),function KT(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,oi(),m,Ze),Ze}finally{co(ee)}}function sb(s,o,l){const h=s+Sr,m=oi(),b=is(m,h);return ab(m,h)?OR(m,rc(),o,b.transform,l,b):b.transform(l)}function $R(s,o,l,h){const m=s+Sr,b=oi(),N=is(b,m);return ab(b,m)?RR(b,rc(),o,N.transform,l,h,N):N.transform(l,h)}function ob(s,o,l,h,m){const b=s+Sr,N=oi(),ee=is(N,b);return ab(N,b)?NR(N,rc(),o,ee.transform,l,h,m,ee):ee.transform(l,h,m)}function ab(s,o){return s[Un].data[o].pure}function lb(s,o){return ev(s,o)}class nN{constructor(o){this.full=o;const l=o.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}const zF=new nN("18.1.2");let iN=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const cx=new an(""),aN=new an("");let S1,fL=(()=>{class s{constructor(l,h,m){this._ngZone=l,this.registry=h,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,S1||(function pL(s){S1=s}(m),m.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,m){let b=-1;h&&h>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==b),l()},h)),this._callbacks.push({doneCb:l,timeoutId:b,updateCb:m})}whenStable(l,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,m),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,m){return[]}static#e=this.\u0275fac=function(h){return new(h||s)(Yr(pa),Yr(lN),Yr(aN))};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac})}return s})(),lN=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return S1?.findTestabilityInTree(this,l,h)??null}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function D1(s){return!!s&&"function"==typeof s.then}function cN(s){return!!s&&"function"==typeof s.subscribe}const uN=new an("");let T1=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=wi(uN,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const m of this.appInits){const b=m();if(D1(b))l.push(b);else if(cN(b)){const N=new Promise((ee,be)=>{b.subscribe({complete:ee,error:be})});l.push(N)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{h()}).catch(m=>{this.reject(m)}),0===l.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const ux=new an("");function fN(s,o){return Array.isArray(o)?o.reduce(fN,s):{...s,...o}}let _h=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wi(mC),this.afterRenderEffectManager=wi(qg),this.zonelessEnabled=wi(Wg),this.externalTestViews=new Set,this.beforeRender=new vt.B7,this.afterTick=new vt.B7,this.componentTypes=[],this.components=[],this.isStable=wi(Uf).hasPendingTasks.pipe((0,ot.T)(l=>!l)),this._injector=wi(fn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const m=l instanceof sd;if(!this._injector.get(T1).done)throw!m&&Pr(l),new Oi(405,!1);let N;N=m?l:this._injector.get(Hg).resolveComponentFactory(l),this.componentTypes.push(N.componentType);const ee=function mL(s){return s.isBoundToModule}(N)?void 0:this._injector.get(cp),Ze=N.create(ro.NULL,[],h||N.selector,ee),mt=Ze.location.nativeElement,Ht=Ze.injector.get(cx,null);return Ht?.registerApplication(mt),Ze.onDestroy(()=>{this.detachView(Ze.hostView),dx(this.components,Ze),Ht?.unregisterApplication(mt)}),this._loadComponent(Ze),Ze}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new Oi(101,!1);const h=S(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(m){this.internalErrorHandler(m)}finally{this._runningTick=!1,S(h),this.afterTick.next()}}detectChangesInAttachedViews(l){let h=null;this._injector.destroyed||(h=this._injector.get(pf,null,{optional:!0}));let m=0;const b=this.afterRenderEffectManager;for(;m<10;){const N=0===m;if(l||!N){this.beforeRender.next(N);for(let{_lView:ee,notifyErrorHandler:be}of this._views)_L(ee,be,N,this.zonelessEnabled)}else h?.begin?.(),h?.end?.();if(m++,b.executeInternalCallbacks(),!this.allViews.some(({_lView:ee})=>Mh(ee))&&(b.execute(),!this.allViews.some(({_lView:ee})=>Mh(ee))))break}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;dx(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(ux,[]);[...this._bootstrapListeners,...h].forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>dx(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Oi(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function dx(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function _L(s,o,l,h){(l||Mh(s))&&am(s,o,l&&!h?0:1)}class yL{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let vL=(()=>{class s{compileModuleSync(l){return new gv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),b=rd(Oo(l).declarations).reduce((N,ee)=>{const be=ci(ee);return be&&N.push(new gm(be)),N},[]);return new yL(h,b)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),EL=(()=>{class s{constructor(){this.zone=wi(pa),this.changeDetectionScheduler=wi(fm),this.applicationRef=wi(_h)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function k1({ngZoneFactory:s,ignoreChangesOutsideZone:o}){return s??=()=>new pa(I1()),[{provide:pa,useFactory:s},{provide:gc,multi:!0,useFactory:()=>{const l=wi(EL,{optional:!0});return()=>l.initialize()}},{provide:gc,multi:!0,useFactory:()=>{const l=wi(SL);return()=>{l.initialize()}}},{provide:mC,useFactory:CL},!0===o?{provide:rD,useValue:!0}:[]]}function CL(){const s=wi(pa),o=wi(lu);return l=>s.runOutsideAngular(()=>o.handleError(l))}function I1(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}let SL=(()=>{class s{constructor(){this.subscription=new It.y,this.initialized=!1,this.zone=wi(pa),this.pendingTasks=wi(Uf)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),fb=(()=>{class s{constructor(){this.appRef=wi(_h),this.taskService=wi(Uf),this.ngZone=wi(pa),this.zonelessEnabled=wi(Wg),this.disableScheduling=wi(rD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new It.y,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pm||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const h=this.useMicrotaskScheduler?Tw:Dw;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&pa.isInAngularZone())}tick(l){if(this.runningTick||this.appRef.destroyed)return;const h=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(l)},void 0,this.schedulerTickApplyArgs)}catch(m){throw this.taskService.remove(h),m}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(h)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const fx=new an("",{providedIn:"root",factory:()=>wi(fx,fs.Optional|fs.SkipSelf)||function DL(){return typeof $localize<"u"&&$localize.locale||g_}()}),TL=new an("",{providedIn:"root",factory:()=>"USD"}),M1=new an("");let yN=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const m=function Mw(s="zone.js",o){return"noop"===s?new pm:"zone.js"===s?new pa(o):s}(h?.ngZone,I1({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return m.run(()=>{const b=h?.ignoreChangesOutsideZone,N=function qM(s,o,l){return new mv(s,o,l)}(l.moduleType,this.injector,[...k1({ngZoneFactory:()=>m,ignoreChangesOutsideZone:b}),{provide:fm,useExisting:fb}]),ee=N.injector.get(lu,null);return m.runOutsideAngular(()=>{const be=m.onError.subscribe({next:Ze=>{ee.handleError(Ze)}});N.onDestroy(()=>{dx(this._modules,N),be.unsubscribe()})}),function hN(s,o,l){try{const h=l();return D1(h)?h.catch(m=>{throw o.runOutsideAngular(()=>s.handleError(m)),m}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(ee,m,()=>{const be=N.injector.get(T1);return be.runInitializers(),be.donePromise.then(()=>(function WO(s){"string"==typeof s&&(jO=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(fx,g_)||g_),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,h=[]){const m=fN({},h);return function wL(s,o,l){const h=new gv(l);return Promise.resolve(h)}(0,0,l).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(l){const h=l.injector.get(_h);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new Oi(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oi(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(M1,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||s)(Yr(ro))};static#t=this.\u0275prov=Dr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),yp=null;const vN=new an("");function O1(s,o,l=[]){const h=`Platform: ${o}`,m=new an(h);return(b=[])=>{let N=px();if(!N||N.injector.get(vN,!1)){const ee=[...l,...b,{provide:m,useValue:!0}];s?s(ee):function IL(s){if(yp&&!yp.get(vN,!1))throw new Oi(400,!1);(function dN(){!function oe(s){je=s}(()=>{throw new Oi(600,!1)})})(),yp=s;const o=s.get(yN);(function bN(s){s.get(xy,null)?.forEach(l=>l())})(s)}(function D_(s=[],o){return ro.create({name:o,providers:[{provide:Kr,useValue:"platform"},{provide:M1,useValue:new Set([()=>yp=null])},...s]})}(ee,h))}return function R1(s){const o=px();if(!o)throw new Oi(401,!1);return o}()}}function px(){return yp?.get(yN)??null}function P1(){}let mx=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Zh}return s})();function Zh(s){return function pb(s,o,l){if(Pl(s)&&!l){const h=Eu(s.index,o);return new lm(h,h)}return 175&s.type?new lm(o[cs],o):null}(da(),oi(),!(16&~s))}class B1{constructor(){}supports(o){return _v(o)}create(o){return new V1(o)}}const SN=(s,o)=>o;class V1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||SN}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,m=0,b=null;for(;l||h;){const N=!h||l&&l.currentIndex<yb(h,m,b)?l:h,ee=yb(N,m,b),be=N.currentIndex;if(N===h)m--,h=h._nextRemoved;else if(l=l._next,null==N.previousIndex)m++;else{b||(b=[]);const Ze=ee-m,mt=be-m;if(Ze!=mt){for(let mn=0;mn<Ze;mn++){const yn=mn<b.length?b[mn]:b[mn]=0,$n=yn+mn;mt<=$n&&$n<Ze&&(b[mn]=yn+1)}b[N.previousIndex]=mt-Ze}}ee!==be&&o(N,ee,be)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!_v(o))throw new Oi(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,b,N,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let ee=0;ee<this.length;ee++)b=o[ee],N=this._trackByFn(ee,b),null!==l&&Object.is(l.trackById,N)?(h&&(l=this._verifyReinsertion(l,b,N,ee)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,N,ee),h=!0),l=l._next}else m=0,function JM(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,ee=>{N=this._trackByFn(m,ee),null!==l&&Object.is(l.trackById,N)?(h&&(l=this._verifyReinsertion(l,ee,N,m)),Object.is(l.item,ee)||this._addIdentityChange(l,ee)):(l=this._mismatch(l,ee,N,m),h=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,m){let b;return null===o?b=this._itTail:(b=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,b,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,b,m)):o=this._addAfter(new DN(l,h),b,m),o}_verifyReinsertion(o,l,h,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==b?o=this._reinsertAfter(b,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,b=o._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const m=null===l?this._itHead:l._next;return o._next=m,o._prev=l,null===m?this._itTail=o:m._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class DN{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class _b{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new U1,this.map.set(l,h)),h.add(o)}get(o,l){const m=this.map.get(o);return m?m.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yb(s,o,l){const h=s.previousIndex;if(null===h)return h;let m=0;return l&&h<l.length&&(m=l[h]),h+o+m}class vb{constructor(){}supports(o){return o instanceof Map||rE(o)}create(){return new wx}}class wx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||rE(o)))throw new Oi(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const b=this._getOrCreateRecordForKey(m,h);l=this._insertBeforeOrAppend(l,b)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,l);const b=m._prev,N=m._next;return b&&(b._next=N),N&&(N._prev=b),m._next=null,m._prev=null,m}const h=new z1(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class z1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bb(){return new T_([new B1])}let T_=(()=>{class s{static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:bb});constructor(l){this.factories=l}static create(l,h){if(null!=h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||bb()),deps:[[s,new cl,new $o]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(null!=h)return h;throw new Oi(901,!1)}}return s})();function wb(){return new k_([new vb])}let k_=(()=>{class s{static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:wb});constructor(l){this.factories=l}static create(l,h){if(h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||wb()),deps:[[s,new cl,new $o]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(h)return h;throw new Oi(901,!1)}}return s})();const kN=O1(null,"core",[]);let LL=(()=>{class s{constructor(l){}static#e=this.\u0275fac=function(h){return new(h||s)(Yr(_h))};static#t=this.\u0275mod=Lt({type:s});static#n=this.\u0275inj=Ns({})}return s})();const nk=new an("");function JN(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function eP(s,o=NaN){return isNaN(parseFloat(s))||isNaN(Number(s))?o:Number(s)}function dk(s,o){du("NgSignals");const l=Ce(s);return o?.equal&&(l[C].equal=o.equal),l}function iP(s){const o=S(null);try{return s()}finally{S(o)}}const Ib=new an("",{providedIn:"root",factory:()=>wi(Cd)});let Cd=(()=>{class s{static#e=this.\u0275prov=Dr({token:s,providedIn:"root",factory:()=>new c$})}return s})();class c${constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=wi(Uf),this.taskId=null}scheduleEffect(o){if(this.enqueue(o),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(o){const l=o.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const h=this.queues.get(l);h.has(o)||(this.queuedEffectCount++,h.add(o))}flush(){for(;this.queuedEffectCount>0;)for(const[o,l]of this.queues)null===o?this.flushQueue(l):o.run(()=>this.flushQueue(l))}flushQueue(o){for(const l of o)o.delete(l),this.queuedEffectCount--,l.run()}}class u${constructor(o,l,h,m,b,N){this.scheduler=o,this.effectFn=l,this.creationZone=h,this.injector=b,this.watcher=function Tt(s,o,l){const h=Object.create(ft);l&&(h.consumerAllowSignalWrites=!0),h.fn=s,h.schedule=o;const m=be=>{h.cleanupFn=be};return h.ref={notify:()=>z(h),run:()=>{if(null===h.fn)return;if(function E(){return w}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(h.dirty=!1,h.hasRun&&!ue(h))return;h.hasRun=!0;const be=F(h);try{h.cleanupFn(),h.cleanupFn=Ot,h.fn(m)}finally{J(h,be)}},cleanup:()=>h.cleanupFn(),destroy:()=>function N(be){(function b(be){return null===be.fn&&null===be.schedule})(be)||(ce(be),be.cleanupFn(),be.fn=null,be.schedule=null,be.cleanupFn=Ot)}(h),[C]:h},h.ref}(ee=>this.runEffect(ee),()=>this.schedule(),N),this.unregisterOnDestroy=m?.onDestroy(()=>this.destroy())}runEffect(o){try{this.effectFn(o)}catch(l){this.injector.get(lu,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function hk(s,o){du("NgSignals"),!o?.injector&&zl();const l=o?.injector??wi(ro),h=!0!==o?.manualCleanup?l.get(lg):null,m=new u$(l.get(Ib),s,typeof Zone>"u"?null:Zone.current,h,l,o?.allowSignalWrites??!1),b=l.get(mx,null,{optional:!0});return b&&8&b._lView[_i]?(b._lView[vc]??=[]).push(m.watcher.notify):m.watcher.notify(),m}function rP(s){const o=ci(s);if(!o)return null;const l=new gm(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4456:(dn,Ne,_)=>{"use strict";_.d(Ne,{$R:()=>oo,BC:()=>Nt,JD:()=>wo,MJ:()=>Er,Q0:()=>Oa,X1:()=>De,YN:()=>de,YS:()=>Fa,cV:()=>Zr,cb:()=>Ut,cz:()=>J,gE:()=>On,j4:()=>ta,k0:()=>re,kq:()=>y,me:()=>L,qT:()=>yl,tU:()=>al,vO:()=>vt,vS:()=>ea,xq:()=>wa});var d=_(7404),A=_(316),w=_(2677),D=_(8757),C=_(3119),S=_(5443);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let I=(()=>{class H{constructor(ie,ze){this._renderer=ie,this._elementRef=ze,this.onChange=Ct=>{},this.onTouched=()=>{}}setProperty(ie,ze){this._renderer.setProperty(this._elementRef.nativeElement,ie,ze)}registerOnTouched(ie){this.onTouched=ie}registerOnChange(ie){this.onChange=ie}setDisabledState(ie){this.setProperty("disabled",ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(d.sFG),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:H})}return H})(),E=(()=>{class H extends I{static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,features:[d.Vt3]})}return H})();const y=new d.nKC(""),R={provide:y,useExisting:(0,d.Rfq)(()=>L),multi:!0},M=new d.nKC("");let L=(()=>{class H extends I{constructor(ie,ze,Ct){super(ie,ze),this._compositionMode=Ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const H=(0,A.QT)()?(0,A.QT)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(ie){this.setProperty("value",ie??"")}_handleInput(ie){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ie)}_compositionStart(){this._composing=!0}_compositionEnd(ie){this._composing=!1,this._compositionMode&&this.onChange(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(M,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("input",function(Pn){return Ct._handleInput(Pn.target.value)})("blur",function(){return Ct.onTouched()})("compositionstart",function(){return Ct._compositionStart()})("compositionend",function(Pn){return Ct._compositionEnd(Pn.target.value)})},features:[d.Jv_([R]),d.Vt3]})}return H})();function z(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function F(H){return null!=H&&"number"==typeof H.length}const J=new d.nKC(""),ue=new d.nKC(""),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(le){return function we(H){return le=>{if(z(le.value)||z(H))return null;const ie=parseFloat(le.value);return!isNaN(ie)&&ie<H?{min:{min:H,actual:le.value}}:null}}(le)}static max(le){return function j(H){return le=>{if(z(le.value)||z(H))return null;const ie=parseFloat(le.value);return!isNaN(ie)&&ie>H?{max:{max:H,actual:le.value}}:null}}(le)}static required(le){return Y(le)}static requiredTrue(le){return se(le)}static email(le){return function W(H){return z(H.value)||ce.test(H.value)?null:{email:!0}}(le)}static minLength(le){return function Ce(H){return le=>z(le.value)||!F(le.value)?null:le.value.length<H?{minlength:{requiredLength:H,actualLength:le.value.length}}:null}(le)}static maxLength(le){return Q(le)}static pattern(le){return function Me(H){if(!H)return Xe;let le,ie;return"string"==typeof H?(ie="","^"!==H.charAt(0)&&(ie+="^"),ie+=H,"$"!==H.charAt(H.length-1)&&(ie+="$"),le=new RegExp(ie)):(ie=H.toString(),le=H),ze=>{if(z(ze.value))return null;const Ct=ze.value;return le.test(Ct)?null:{pattern:{requiredPattern:ie,actualValue:Ct}}}}(le)}static nullValidator(le){return null}static compose(le){return ve(le)}static composeAsync(le){return Ve(le)}}function Y(H){return z(H.value)?{required:!0}:null}function se(H){return!0===H.value?null:{required:!0}}function Q(H){return le=>F(le.value)&&le.value.length>H?{maxlength:{requiredLength:H,actualLength:le.value.length}}:null}function Xe(H){return null}function yt(H){return null!=H}function Je(H){return(0,d.jNT)(H)?(0,w.H)(H):H}function je(H){let le={};return H.forEach(ie=>{le=null!=ie?{...le,...ie}:le}),0===Object.keys(le).length?null:le}function X(H,le){return le.map(ie=>ie(H))}function _e(H){return H.map(le=>function oe(H){return!H.validate}(le)?le:ie=>le.validate(ie))}function ve(H){if(!H)return null;const le=H.filter(yt);return 0==le.length?null:function(ie){return je(X(ie,le))}}function Pe(H){return null!=H?ve(_e(H)):null}function Ve(H){if(!H)return null;const le=H.filter(yt);return 0==le.length?null:function(ie){const ze=X(ie,le).map(Je);return(0,D.p)(ze).pipe((0,S.T)(je))}}function Qe(H){return null!=H?Ve(_e(H)):null}function Pt(H,le){return null===H?[le]:Array.isArray(H)?[...H,le]:[H,le]}function Se(H){return H._rawValidators}function qt(H){return H._rawAsyncValidators}function Vt(H){return H?Array.isArray(H)?H:[H]:[]}function Tt(H,le){return Array.isArray(H)?H.includes(le):H===le}function Ot(H,le){const ie=Vt(le);return Vt(H).forEach(Ct=>{Tt(ie,Ct)||ie.push(Ct)}),ie}function ft(H,le){return Vt(le).filter(ie=>!Tt(H,ie))}class Re{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(le){this._rawValidators=le||[],this._composedValidatorFn=Pe(this._rawValidators)}_setAsyncValidators(le){this._rawAsyncValidators=le||[],this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(le){this._onDestroyCallbacks.push(le)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(le=>le()),this._onDestroyCallbacks=[]}reset(le=void 0){this.control&&this.control.reset(le)}hasError(le,ie){return!!this.control&&this.control.hasError(le,ie)}getError(le,ie){return this.control?this.control.getError(le,ie):null}}class Ye extends Re{get formDirective(){return null}get path(){return null}}class vt extends Re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class It{constructor(le){this._cd=le}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Nt=(()=>{class H extends It{constructor(ie){super(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(vt,2))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ze,Ct){2&ze&&d.AVh("ng-untouched",Ct.isUntouched)("ng-touched",Ct.isTouched)("ng-pristine",Ct.isPristine)("ng-dirty",Ct.isDirty)("ng-valid",Ct.isValid)("ng-invalid",Ct.isInvalid)("ng-pending",Ct.isPending)},features:[d.Vt3]})}return H})(),Ut=(()=>{class H extends It{constructor(ie){super(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ze,Ct){2&ze&&d.AVh("ng-untouched",Ct.isUntouched)("ng-touched",Ct.isTouched)("ng-pristine",Ct.isPristine)("ng-dirty",Ct.isDirty)("ng-valid",Ct.isValid)("ng-invalid",Ct.isInvalid)("ng-pending",Ct.isPending)("ng-submitted",Ct.isSubmitted)},features:[d.Vt3]})}return H})();const Ni="VALID",Sn="INVALID",Gn="PENDING",En="DISABLED";class Kn{}class pt extends Kn{constructor(le,ie){super(),this.value=le,this.source=ie}}class $e extends Kn{constructor(le,ie){super(),this.pristine=le,this.source=ie}}class We extends Kn{constructor(le,ie){super(),this.touched=le,this.source=ie}}class Be extends Kn{constructor(le,ie){super(),this.status=le,this.source=ie}}class gt extends Kn{constructor(le){super(),this.source=le}}class Zt extends Kn{constructor(le){super(),this.source=le}}function gn(H){return(Le(H)?H.validators:H)||null}function Te(H,le){return(Le(le)?le.asyncValidators:H)||null}function Le(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class In{constructor(le,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new C.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(le),this._assignAsyncValidators(ie)}get validator(){return this._composedValidatorFn}set validator(le){this._rawValidators=this._composedValidatorFn=le}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(le){this._rawAsyncValidators=this._composedAsyncValidatorFn=le}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(le){(0,d.O8t)(()=>this.statusReactive.set(le))}get valid(){return this.status===Ni}get invalid(){return this.status===Sn}get pending(){return this.status==Gn}get disabled(){return this.status===En}get enabled(){return this.status!==En}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(le){(0,d.O8t)(()=>this.pristineReactive.set(le))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(le){(0,d.O8t)(()=>this.touchedReactive.set(le))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(le){this._assignValidators(le)}setAsyncValidators(le){this._assignAsyncValidators(le)}addValidators(le){this.setValidators(Ot(le,this._rawValidators))}addAsyncValidators(le){this.setAsyncValidators(Ot(le,this._rawAsyncValidators))}removeValidators(le){this.setValidators(ft(le,this._rawValidators))}removeAsyncValidators(le){this.setAsyncValidators(ft(le,this._rawAsyncValidators))}hasValidator(le){return Tt(this._rawValidators,le)}hasAsyncValidator(le){return Tt(this._rawAsyncValidators,le)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(le={}){const ie=!1===this.touched;this.touched=!0;const ze=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsTouched({...le,sourceControl:ze}),ie&&!1!==le.emitEvent&&this._events.next(new We(!0,ze))}markAllAsTouched(le={}){this.markAsTouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:this}),this._forEachChild(ie=>ie.markAllAsTouched(le))}markAsUntouched(le={}){const ie=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ze=le.sourceControl??this;this._forEachChild(Ct=>{Ct.markAsUntouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:ze})}),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,ze),ie&&!1!==le.emitEvent&&this._events.next(new We(!1,ze))}markAsDirty(le={}){const ie=!0===this.pristine;this.pristine=!1;const ze=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsDirty({...le,sourceControl:ze}),ie&&!1!==le.emitEvent&&this._events.next(new $e(!1,ze))}markAsPristine(le={}){const ie=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ze=le.sourceControl??this;this._forEachChild(Ct=>{Ct.markAsPristine({onlySelf:!0,emitEvent:le.emitEvent})}),this._parent&&!le.onlySelf&&this._parent._updatePristine(le,ze),ie&&!1!==le.emitEvent&&this._events.next(new $e(!0,ze))}markAsPending(le={}){this.status=Gn;const ie=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new Be(this.status,ie)),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.markAsPending({...le,sourceControl:ie})}disable(le={}){const ie=this._parentMarkedDirty(le.onlySelf);this.status=En,this.errors=null,this._forEachChild(Ct=>{Ct.disable({...le,onlySelf:!0})}),this._updateValue();const ze=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new pt(this.value,ze)),this._events.next(new Be(this.status,ze)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...le,skipPristineCheck:ie},this),this._onDisabledChange.forEach(Ct=>Ct(!0))}enable(le={}){const ie=this._parentMarkedDirty(le.onlySelf);this.status=Ni,this._forEachChild(ze=>{ze.enable({...le,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent}),this._updateAncestors({...le,skipPristineCheck:ie},this),this._onDisabledChange.forEach(ze=>ze(!1))}_updateAncestors(le,ie){this._parent&&!le.onlySelf&&(this._parent.updateValueAndValidity(le),le.skipPristineCheck||this._parent._updatePristine({},ie),this._parent._updateTouched({},ie))}setParent(le){this._parent=le}getRawValue(){return this.value}updateValueAndValidity(le={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ze=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ni||this.status===Gn)&&this._runAsyncValidator(ze,le.emitEvent)}const ie=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new pt(this.value,ie)),this._events.next(new Be(this.status,ie)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.updateValueAndValidity({...le,sourceControl:ie})}_updateTreeValidity(le={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(le)),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?En:Ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(le,ie){if(this.asyncValidator){this.status=Gn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ie};const ze=Je(this.asyncValidator(this));this._asyncValidationSubscription=ze.subscribe(Ct=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ct,{emitEvent:ie,shouldHaveEmitted:le})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const le=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,le}return!1}setErrors(le,ie={}){this.errors=le,this._updateControlsErrors(!1!==ie.emitEvent,this,ie.shouldHaveEmitted)}get(le){let ie=le;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((ze,Ct)=>ze&&ze._find(Ct),this)}getError(le,ie){const ze=ie?this.get(ie):this;return ze&&ze.errors?ze.errors[le]:null}hasError(le,ie){return!!this.getError(le,ie)}get root(){let le=this;for(;le._parent;)le=le._parent;return le}_updateControlsErrors(le,ie,ze){this.status=this._calculateStatus(),le&&this.statusChanges.emit(this.status),(le||ze)&&this._events.next(new Be(this.status,ie)),this._parent&&this._parent._updateControlsErrors(le,ie,ze)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?En:this.errors?Sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gn)?Gn:this._anyControlsHaveStatus(Sn)?Sn:Ni}_anyControlsHaveStatus(le){return this._anyControls(ie=>ie.status===le)}_anyControlsDirty(){return this._anyControls(le=>le.dirty)}_anyControlsTouched(){return this._anyControls(le=>le.touched)}_updatePristine(le,ie){const ze=!this._anyControlsDirty(),Ct=this.pristine!==ze;this.pristine=ze,this._parent&&!le.onlySelf&&this._parent._updatePristine(le,ie),Ct&&this._events.next(new $e(this.pristine,ie))}_updateTouched(le={},ie){this.touched=this._anyControlsTouched(),this._events.next(new We(this.touched,ie)),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,ie)}_registerOnCollectionChange(le){this._onCollectionChange=le}_setUpdateStrategy(le){Le(le)&&null!=le.updateOn&&(this._updateOn=le.updateOn)}_parentMarkedDirty(le){return!le&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(le){return null}_assignValidators(le){this._rawValidators=Array.isArray(le)?le.slice():le,this._composedValidatorFn=function lt(H){return Array.isArray(H)?Pe(H):H||null}(this._rawValidators)}_assignAsyncValidators(le){this._rawAsyncValidators=Array.isArray(le)?le.slice():le,this._composedAsyncValidatorFn=function rt(H){return Array.isArray(H)?Qe(H):H||null}(this._rawAsyncValidators)}}class On extends In{constructor(le,ie,ze){super(gn(ie),Te(ze,ie)),this.controls=le,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(le,ie){return this.controls[le]?this.controls[le]:(this.controls[le]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(le,ie,ze={}){this.registerControl(le,ie),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}removeControl(le,ie={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(le,ie,ze={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],ie&&this.registerControl(le,ie),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}contains(le){return this.controls.hasOwnProperty(le)&&this.controls[le].enabled}setValue(le,ie={}){(function Ft(H,le,ie){H._forEachChild((ze,Ct)=>{if(void 0===ie[Ct])throw new d.wOt(1002,"")})})(this,0,le),Object.keys(le).forEach(ze=>{(function bt(H,le,ie){const ze=H.controls;if(!(le?Object.keys(ze):ze).length)throw new d.wOt(1e3,"");if(!ze[ie])throw new d.wOt(1001,"")})(this,!0,ze),this.controls[ze].setValue(le[ze],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(le,ie={}){null!=le&&(Object.keys(le).forEach(ze=>{const Ct=this.controls[ze];Ct&&Ct.patchValue(le[ze],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(le={},ie={}){this._forEachChild((ze,Ct)=>{ze.reset(le?le[Ct]:null,{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie,this),this._updateTouched(ie,this),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(le,ie,ze)=>(le[ze]=ie.getRawValue(),le))}_syncPendingControls(){let le=this._reduceChildren(!1,(ie,ze)=>!!ze._syncPendingControls()||ie);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){Object.keys(this.controls).forEach(ie=>{const ze=this.controls[ie];ze&&le(ze,ie)})}_setUpControls(){this._forEachChild(le=>{le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(le){for(const[ie,ze]of Object.entries(this.controls))if(this.contains(ie)&&le(ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,ze,Ct)=>((ze.enabled||this.disabled)&&(ie[Ct]=ze.value),ie))}_reduceChildren(le,ie){let ze=le;return this._forEachChild((Ct,wn)=>{ze=ie(ze,Ct,wn)}),ze}_allControlsDisabled(){for(const le of Object.keys(this.controls))if(this.controls[le].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(le){return this.controls.hasOwnProperty(le)?this.controls[le]:null}}const Qn=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ki}),Ki="always";function ur(H,le){return[...le.path,H]}function or(H,le,ie=Ki){Ur(H,le),le.valueAccessor.writeValue(H.value),(H.disabled||"always"===ie)&&le.valueAccessor.setDisabledState?.(H.disabled),function Cs(H,le){le.valueAccessor.registerOnChange(ie=>{H._pendingValue=ie,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Yi(H,le)})}(H,le),function ar(H,le){const ie=(ze,Ct)=>{le.valueAccessor.writeValue(ze),Ct&&le.viewToModelUpdate(ze)};H.registerOnChange(ie),le._registerOnDestroy(()=>{H._unregisterOnChange(ie)})}(H,le),function ss(H,le){le.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Yi(H,le),"submit"!==H.updateOn&&H.markAsTouched()})}(H,le),function _s(H,le){if(le.valueAccessor.setDisabledState){const ie=ze=>{le.valueAccessor.setDisabledState(ze)};H.registerOnDisabledChange(ie),le._registerOnDestroy(()=>{H._unregisterOnDisabledChange(ie)})}}(H,le)}function Tr(H,le,ie=!0){const ze=()=>{};le.valueAccessor&&(le.valueAccessor.registerOnChange(ze),le.valueAccessor.registerOnTouched(ze)),ys(H,le),H&&(le._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Hr(H,le){H.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(le)})}function Ur(H,le){const ie=Se(H);null!==le.validator?H.setValidators(Pt(ie,le.validator)):"function"==typeof ie&&H.setValidators([ie]);const ze=qt(H);null!==le.asyncValidator?H.setAsyncValidators(Pt(ze,le.asyncValidator)):"function"==typeof ze&&H.setAsyncValidators([ze]);const Ct=()=>H.updateValueAndValidity();Hr(le._rawValidators,Ct),Hr(le._rawAsyncValidators,Ct)}function ys(H,le){let ie=!1;if(null!==H){if(null!==le.validator){const Ct=Se(H);if(Array.isArray(Ct)&&Ct.length>0){const wn=Ct.filter(Pn=>Pn!==le.validator);wn.length!==Ct.length&&(ie=!0,H.setValidators(wn))}}if(null!==le.asyncValidator){const Ct=qt(H);if(Array.isArray(Ct)&&Ct.length>0){const wn=Ct.filter(Pn=>Pn!==le.asyncValidator);wn.length!==Ct.length&&(ie=!0,H.setAsyncValidators(wn))}}}const ze=()=>{};return Hr(le._rawValidators,ze),Hr(le._rawAsyncValidators,ze),ie}function Yi(H,le){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),le.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function cr(H,le){Ur(H,le)}function He(H,le){if(!H.hasOwnProperty("model"))return!1;const ie=H.model;return!!ie.isFirstChange()||!Object.is(le,ie.currentValue)}function Bt(H,le){H._syncPendingControls(),le.forEach(ie=>{const ze=ie.control;"submit"===ze.updateOn&&ze._pendingChange&&(ie.viewToModelUpdate(ze._pendingValue),ze._pendingChange=!1)})}function Zn(H,le){if(!le)return null;let ie,ze,Ct;return Array.isArray(le),le.forEach(wn=>{wn.constructor===L?ie=wn:function kt(H){return Object.getPrototypeOf(H.constructor)===E}(wn)?ze=wn:Ct=wn}),Ct||ze||ie||null}const kr={provide:Ye,useExisting:(0,d.Rfq)(()=>Zr)},Lr=Promise.resolve();let Zr=(()=>{class H extends Ye{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor(ie,ze,Ct){super(),this.callSetDisabledState=Ct,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new On({},Pe(ie),Qe(ze))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ie){Lr.then(()=>{const ze=this._findContainer(ie.path);ie.control=ze.registerControl(ie.name,ie.control),or(ie.control,ie,this.callSetDisabledState),ie.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ie)})}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Lr.then(()=>{const ze=this._findContainer(ie.path);ze&&ze.removeControl(ie.name),this._directives.delete(ie)})}addFormGroup(ie){Lr.then(()=>{const ze=this._findContainer(ie.path),Ct=new On({});cr(Ct,ie),ze.registerControl(ie.name,Ct),Ct.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ie){Lr.then(()=>{const ze=this._findContainer(ie.path);ze&&ze.removeControl(ie.name)})}getFormGroup(ie){return this.form.get(ie.path)}updateModel(ie,ze){Lr.then(()=>{this.form.get(ie.path).setValue(ze)})}setValue(ie){this.control.setValue(ie)}onSubmit(ie){return this.submittedReactive.set(!0),Bt(this.form,this._directives),this.ngSubmit.emit(ie),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ie){return ie.pop(),ie.length?this.form.get(ie):this.form}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(J,10),d.rXU(ue,10),d.rXU(Qn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("submit",function(Pn){return Ct.onSubmit(Pn)})("reset",function(){return Ct.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([kr]),d.Vt3]})}return H})();function ds(H,le){const ie=H.indexOf(le);ie>-1&&H.splice(ie,1)}function Os(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Er=class extends In{constructor(le=null,ie,ze){super(gn(ie),Te(ze,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(le),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=Os(le)?le.value:le)}setValue(le,ie={}){this.value=this._pendingValue=le,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(ze=>ze(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(le,ie={}){this.setValue(le,ie)}reset(le=this.defaultValue,ie={}){this._applyFormState(le),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(le){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(le){this._onChange.push(le)}_unregisterOnChange(le){ds(this._onChange,le)}registerOnDisabledChange(le){this._onDisabledChange.push(le)}_unregisterOnDisabledChange(le){ds(this._onDisabledChange,le)}_forEachChild(le){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(le){Os(le)?(this.value=this._pendingValue=le.value,le.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=le}};let Jo=(()=>{class H extends Ye{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,features:[d.Vt3]})}return H})();const Ka={provide:vt,useExisting:(0,d.Rfq)(()=>ea)},_a=Promise.resolve();let ea=(()=>{class H extends vt{constructor(ie,ze,Ct,wn,Pn,Di){super(),this._changeDetectorRef=Pn,this.callSetDisabledState=Di,this.control=new Er,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct),this.valueAccessor=Zn(0,wn)}ngOnChanges(ie){if(this._checkForErrors(),!this._registered||"name"in ie){if(this._registered&&(this._checkName(),this.formDirective)){const ze=ie.name.previousValue;this.formDirective.removeControl({name:ze,path:this._getPath(ze)})}this._setUpControl()}"isDisabled"in ie&&this._updateDisabled(ie),He(ie,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){or(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ie){_a.then(()=>{this.control.setValue(ie,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ie){const ze=ie.isDisabled.currentValue,Ct=0!==ze&&(0,d.L39)(ze);_a.then(()=>{Ct&&!this.control.disabled?this.control.disable():!Ct&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ie){return this._parent?ur(ie,this._parent):[ie]}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,9),d.rXU(J,10),d.rXU(ue,10),d.rXU(y,10),d.rXU(d.gRc,8),d.rXU(Qn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Ka]),d.Vt3,d.OA$]})}return H})(),yl=(()=>{class H{static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return H})();const kl={provide:y,useExisting:(0,d.Rfq)(()=>Oa),multi:!0};let Oa=(()=>{class H extends E{writeValue(ie){this.setProperty("value",ie??"")}registerOnChange(ie){this.onChange=ze=>{ie(""==ze?null:parseFloat(ze))}}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("input",function(Pn){return Ct.onChange(Pn.target.value)})("blur",function(){return Ct.onTouched()})},features:[d.Jv_([kl]),d.Vt3]})}return H})();const Rr=new d.nKC(""),Ql={provide:Ye,useExisting:(0,d.Rfq)(()=>ta)};let ta=(()=>{class H extends Ye{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(ie){this._submittedReactive.set(ie)}constructor(ie,ze,Ct){super(),this.callSetDisabledState=Ct,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(ie),this._setAsyncValidators(ze)}ngOnChanges(ie){this._checkFormPresent(),ie.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ie){const ze=this.form.get(ie.path);return or(ze,ie,this.callSetDisabledState),ze.updateValueAndValidity({emitEvent:!1}),this.directives.push(ie),ze}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Tr(ie.control||null,ie,!1),function Li(H,le){const ie=H.indexOf(le);ie>-1&&H.splice(ie,1)}(this.directives,ie)}addFormGroup(ie){this._setUpFormContainer(ie)}removeFormGroup(ie){this._cleanUpFormContainer(ie)}getFormGroup(ie){return this.form.get(ie.path)}addFormArray(ie){this._setUpFormContainer(ie)}removeFormArray(ie){this._cleanUpFormContainer(ie)}getFormArray(ie){return this.form.get(ie.path)}updateModel(ie,ze){this.form.get(ie.path).setValue(ze)}onSubmit(ie){return this._submittedReactive.set(!0),Bt(this.form,this.directives),this.ngSubmit.emit(ie),this.form._events.next(new gt(this.control)),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this._submittedReactive.set(!1),this.form._events.next(new Zt(this.form))}_updateDomValue(){this.directives.forEach(ie=>{const ze=ie.control,Ct=this.form.get(ie.path);ze!==Ct&&(Tr(ze||null,ie),(H=>H instanceof Er)(Ct)&&(or(Ct,ie,this.callSetDisabledState),ie.control=Ct))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ie){const ze=this.form.get(ie.path);cr(ze,ie),ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ie){if(this.form){const ze=this.form.get(ie.path);ze&&function ji(H,le){return ys(H,le)}(ze,ie)&&ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ur(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(J,10),d.rXU(ue,10),d.rXU(Qn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("submit",function(Pn){return Ct.onSubmit(Pn)})("reset",function(){return Ct.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Ql]),d.Vt3,d.OA$]})}return H})();const Gs={provide:Ye,useExisting:(0,d.Rfq)(()=>oo)};let oo=(()=>{class H extends Jo{constructor(ie,ze,Ct){super(),this.name=null,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct)}_checkParentType(){rl(this._parent)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([Gs]),d.Vt3]})}return H})();const va={provide:Ye,useExisting:(0,d.Rfq)(()=>Po)};let Po=(()=>{class H extends Ye{constructor(ie,ze,Ct){super(),this.name=null,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rl(this._parent)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([va]),d.Vt3]})}return H})();function rl(H){return!(H instanceof oo||H instanceof ta||H instanceof Po)}const bo={provide:vt,useExisting:(0,d.Rfq)(()=>wo)};let wo=(()=>{class H extends vt{set isDisabled(ie){}static#e=this._ngModelWarningSentOnce=!1;constructor(ie,ze,Ct,wn,Pn){super(),this._ngModelWarningConfig=Pn,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct),this.valueAccessor=Zn(0,wn)}ngOnChanges(ie){this._added||this._setUpControl(),He(ie,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10),d.rXU(y,10),d.rXU(Rr,8))};static#n=this.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([bo]),d.Vt3,d.OA$]})}return H})();let mo=(()=>{class H{constructor(){this._validator=Xe}ngOnChanges(ie){if(this.inputName in ie){const ze=this.normalizeInput(ie[this.inputName].currentValue);this._enabled=this.enabled(ze),this._validator=this._enabled?this.createValidator(ze):Xe,this._onChange&&this._onChange()}}validate(ie){return this._validator(ie)}registerOnValidatorChange(ie){this._onChange=ie}enabled(ie){return null!=ie}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275dir=d.FsC({type:H,features:[d.OA$]})}return H})();const Ko={provide:J,useExisting:(0,d.Rfq)(()=>Fa),multi:!0},ia={provide:J,useExisting:(0,d.Rfq)(()=>wa),multi:!0};let Fa=(()=>{class H extends mo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=ie=>Y}enabled(ie){return ie}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("required",Ct._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Ko]),d.Vt3]})}return H})(),wa=(()=>{class H extends Fa{constructor(){super(...arguments),this.createValidator=ie=>se}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("required",Ct._enabled?"":null)},features:[d.Jv_([ia]),d.Vt3]})}return H})();const Rs={provide:J,useExisting:(0,d.Rfq)(()=>al),multi:!0};let al=(()=>{class H extends mo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ie=>function Oi(H){return"number"==typeof H?H:parseInt(H,10)}(ie),this.createValidator=ie=>Q(ie)}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("maxlength",Ct._enabled?Ct.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d.Jv_([Rs]),d.Vt3]})}return H})(),sa=(()=>{class H{static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({})}return H})(),de=(()=>{class H{static withConfig(ie){return{ngModule:H,providers:[{provide:Qn,useValue:ie.callSetDisabledState??Ki}]}}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({imports:[sa]})}return H})(),De=(()=>{class H{static withConfig(ie){return{ngModule:H,providers:[{provide:Rr,useValue:ie.warnOnNgModelWithFormControl??"always"},{provide:Qn,useValue:ie.callSetDisabledState??Ki}]}}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({imports:[sa]})}return H})()},9771:(dn,Ne,_)=>{"use strict";_.d(Ne,{$3:()=>ve,Vn:()=>Pe,jL:()=>Tt,pN:()=>Vt});var d=_(7404),A=_(5060),w=_(316),D=_(4053),C=_(1570),S=_(2102),I=_(7699),E=_(7172),y=_(2672),x=_(3119),$=_(6965),R=_(7405),O=_(1536),M=_(7557),L=_(434),z=_(4879),F=_(7912),J=_(9168),ue=_(4456),ce=_(5944),re=_(9273),we=_(1963),j=_(8627),Y=_(5443),se=_(6e3),W=_(9277),Ce=_(3602),Q=_(3680);const Me=["panel"],Xe=["*"];function yt(Ot,ft){if(1&Ot){const Re=d.RV6();d.j41(0,"div",1,0),d.bIt("@panelAnimation.done",function(vt){d.eBV(Re);const It=d.XpG();return d.Njj(It._animationDone.next(vt))}),d.SdG(2),d.k0s()}if(2&Ot){const Re=ft.id,Ye=d.XpG();d.HbH(Ye._classList),d.AVh("mat-mdc-autocomplete-visible",Ye.showPanel)("mat-mdc-autocomplete-hidden",!Ye.showPanel)("mat-primary","primary"===Ye._color)("mat-accent","accent"===Ye._color)("mat-warn","warn"===Ye._color),d.Y8G("id",Ye.id)("@panelAnimation",Ye.isOpen?"visible":"hidden"),d.BMQ("aria-label",Ye.ariaLabel||null)("aria-labelledby",Ye._getPanelAriaLabelledby(Re))}}const Je=(0,E.hZ)("panelAnimation",[(0,E.wk)("void, hidden",(0,E.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,E.kY)(":enter, hidden => visible",[(0,E.Os)([(0,E.i0)("0.03s linear",(0,E.iF)({opacity:1})),(0,E.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,E.iF)({transform:"scaleY(1)"}))])]),(0,E.kY)(":leave, visible => hidden",[(0,E.i0)("0.075s linear",(0,E.iF)({opacity:0}))])]);let je=0;class X{constructor(ft,Re){this.source=ft,this.option=Re}}const oe=new d.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function _e(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ve=(()=>{class Ot{get isOpen(){return this._isOpen&&this.showPanel}_setColor(Re){this._color=Re,this._changeDetectorRef.markForCheck()}set classList(Re){this._classList=Re,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Re){this._hideSingleSelectionIndicator=Re,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const Re of this.options)Re._changeDetectorRef.markForCheck()}constructor(Re,Ye,vt,It){this._changeDetectorRef=Re,this._elementRef=Ye,this._defaults=vt,this._activeOptionChanges=y.y.EMPTY,this._animationDone=new d.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new d.bkB,this.opened=new d.bkB,this.closed=new d.bkB,this.optionActivated=new d.bkB,this.id="mat-autocomplete-"+je++,this.inertGroups=It?.SAFARI||!1,this.autoActiveFirstOption=!!vt.autoActiveFirstOption,this.autoSelectActiveOption=!!vt.autoSelectActiveOption,this.requireSelection=!!vt.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new S.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(Re=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[Re]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(Re){this.panel&&(this.panel.nativeElement.scrollTop=Re)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(Re){const Ye=new X(this,Re);this.optionSelected.emit(Ye)}_getPanelAriaLabelledby(Re){return this.ariaLabel?null:this.ariaLabelledby?(Re?Re+" ":"")+this.ariaLabelledby:Re}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(oe),d.rXU(I.OD))};static#t=this.\u0275cmp=d.VBU({type:Ot,selectors:[["mat-autocomplete"]],contentQueries:function(Ye,vt,It){if(1&Ye&&(d.wni(It,A.wT,5),d.wni(It,A.QC,5)),2&Ye){let ot;d.mGM(ot=d.lsd())&&(vt.options=ot),d.mGM(ot=d.lsd())&&(vt.optionGroups=ot)}},viewQuery:function(Ye,vt){if(1&Ye&&(d.GBs(d.C4Q,7),d.GBs(Me,5)),2&Ye){let It;d.mGM(It=d.lsd())&&(vt.template=It.first),d.mGM(It=d.lsd())&&(vt.panel=It.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",d.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",d.L39],requireSelection:[2,"requireSelection","requireSelection",d.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",d.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",d.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[d.Jv_([{provide:A.is,useExisting:Ot}]),d.GFd,d.aNF],ngContentSelectors:Xe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Ye,vt){1&Ye&&(d.NAR(),d.DNE(0,yt,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Je]},changeDetection:0})}return Ot})(),Pe=(()=>{class Ot{constructor(Re){this.elementRef=Re}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return Ot})();const Ve={provide:ue.kq,useExisting:(0,d.Rfq)(()=>Vt),multi:!0},Pt=new d.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const Ot=(0,d.WQX)(C.hJ);return()=>Ot.scrollStrategies.reposition()}}),qt={provide:Pt,deps:[C.hJ],useFactory:function Se(Ot){return()=>Ot.scrollStrategies.reposition()}};let Vt=(()=>{class Ot{constructor(Re,Ye,vt,It,ot,st,Nt,Ut,wt,ct,ut){this._element=Re,this._overlay=Ye,this._viewContainerRef=vt,this._zone=It,this._changeDetectorRef=ot,this._dir=Nt,this._formField=Ut,this._document=wt,this._viewportRuler=ct,this._defaults=ut,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=y.y.EMPTY,this._breakpointObserver=(0,d.WQX)(F.QP),this._handsetLandscapeSubscription=y.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new x.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new x.B7,this._injector=(0,d.WQX)(d.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,$.v)(()=>{const Z=this.autocomplete?this.autocomplete.options:null;return Z?Z.changes.pipe((0,re.Z)(Z),(0,we.n)(()=>(0,R.h)(...Z.map(Fe=>Fe.onSelectionChange)))):this._initialized.pipe((0,we.n)(()=>this.optionSelections))}),this._handlePanelKeydown=Z=>{(Z.keyCode===z._f&&!(0,z.rp)(Z)||Z.keyCode===z.i7&&(0,z.rp)(Z,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),Z.stopPropagation(),Z.preventDefault())},this._trackedModal=null,this._scrollStrategy=st}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const Re=this._getWindow();typeof Re<"u"&&this._zone.runOutsideAngular(()=>Re.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(Re){Re.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const Re=this._getWindow();typeof Re<"u"&&Re.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,R.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,j.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,j.p)(()=>this._overlayAttached)):(0,O.of)()).pipe((0,Y.T)(Re=>Re instanceof A.MI?Re:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,R.h)((0,M.R)(this._document,"click"),(0,M.R)(this._document,"auxclick"),(0,M.R)(this._document,"touchend")).pipe((0,j.p)(Re=>{const Ye=(0,I.Fb)(Re),vt=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,It=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Ye!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!vt||!vt.contains(Ye))&&(!It||!It.contains(Ye))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Ye)}))}writeValue(Re){Promise.resolve(null).then(()=>this._assignOptionValue(Re))}registerOnChange(Re){this._onChange=Re}registerOnTouched(Re){this._onTouched=Re}setDisabledState(Re){this._element.nativeElement.disabled=Re}_handleKeydown(Re){const Ye=Re.keyCode,vt=(0,z.rp)(Re);if(Ye===z._f&&!vt&&Re.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Ye===z.Fm&&this.panelOpen&&!vt)this.activeOption._selectViaInteraction(),this._resetActiveItem(),Re.preventDefault();else if(this.autocomplete){const It=this.autocomplete._keyManager.activeItem,ot=Ye===z.i7||Ye===z.n6;Ye===z.wn||ot&&!vt&&this.panelOpen?this.autocomplete._keyManager.onKeydown(Re):ot&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(ot||this.autocomplete._keyManager.activeItem!==It)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(Re){let Ye=Re.target,vt=Ye.value;if("number"===Ye.type&&(vt=""==vt?null:parseFloat(vt)),this._previousValue!==vt){if(this._previousValue=vt,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(vt),vt){if(this.panelOpen&&!this.autocomplete.requireSelection){const It=this.autocomplete.options?.find(ot=>ot.selected);It&&vt!==this._getDisplayValue(It.value)&&It.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===Re.target){const It=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(It)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(Re=!1){this._formField&&"auto"===this._formField.floatLabel&&(Re?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const Re=new L.c(vt=>{(0,d.mal)(()=>{vt.next()},{injector:this._injector})}),Ye=this.autocomplete.options.changes.pipe((0,se.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,W.c)(0));return(0,R.h)(Re,Ye).pipe((0,we.n)(()=>this._zone.run(()=>{const vt=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),vt!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,Ce.s)(1)).subscribe(vt=>this._setValueAndClose(vt))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(Re){const Ye=this.autocomplete;return Ye&&Ye.displayWith?Ye.displayWith(Re):Re}_assignOptionValue(Re){const Ye=this._getDisplayValue(Re);null==Re&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Ye??"")}_updateNativeInputValue(Re){this._formField?this._formField._control.value=Re:this._element.nativeElement.value=Re,this._previousValue=Re}_setValueAndClose(Re){const Ye=this.autocomplete,vt=Re?Re.source:this._pendingAutoselectedOption;vt?(this._clearPreviousSelectedOption(vt),this._assignOptionValue(vt.value),this._onChange(vt.value),Ye._emitSelectEvent(vt),this._element.nativeElement.focus()):Ye.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Ye._animationDone?Ye._animationDone.pipe((0,Ce.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(Re,Ye){this.autocomplete?.options?.forEach(vt=>{vt!==Re&&vt.selected&&vt.deselect(Ye)})}_openPanelInternal(Re=this._element.nativeElement.value){this._attachOverlay(Re),this._floatLabel(),this._trackedModal&&(0,S.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(Re){let Ye=this._overlayRef;Ye?(this._positionStrategy.setOrigin(this._getConnectedElement()),Ye.updateSize({width:this._getPanelWidth()})):(this._portal=new J.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Ye=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Ye,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Ye&&Ye.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(F.Rp.HandsetLandscape).subscribe(It=>{It.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Ye&&!Ye.hasAttached()&&(Ye.attach(this._portal),this._valueOnAttach=Re,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const vt=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&vt!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const Re=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=Re.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=Re.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new C.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const Re=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(Re),this._positionStrategy=Re,Re}_setStrategyPositions(Re){const Ye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vt=this._aboveClass,It=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:vt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:vt}];let ot;ot="above"===this.position?It:"below"===this.position?Ye:[...Ye,...It],Re.withPositions(ot)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const Re=this.autocomplete;if(Re.autoActiveFirstOption){let Ye=-1;for(let vt=0;vt<Re.options.length;vt++)if(!Re.options.get(vt).disabled){Ye=vt;break}Re._keyManager.setActiveItem(Ye)}else Re._keyManager.setActiveItem(-1)}_canOpen(){const Re=this._element.nativeElement;return!Re.readOnly&&!Re.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(Re){const Ye=this.autocomplete,vt=(0,A.jb)(Re,Ye.options,Ye.optionGroups);if(0===Re&&1===vt)Ye._setScrollTop(0);else if(Ye.panel){const It=Ye.options.toArray()[Re];if(It){const ot=It._getHostElement(),st=(0,A.TL)(ot.offsetTop,ot.offsetHeight,Ye._getScrollTop(),Ye.panel.nativeElement.offsetHeight);Ye._setScrollTop(st)}}}_applyModalPanelOwnership(){const Re=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Re)return;const Ye=this.autocomplete.id;this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",Ye),(0,S.px)(Re,"aria-owns",Ye),this._trackedModal=Re}_clearFromModal(){this._trackedModal&&((0,S.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.aKT),d.rXU(C.hJ),d.rXU(d.c1b),d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(Pt),d.rXU(Q.dS,8),d.rXU(ce.xb,9),d.rXU(w.qQ,8),d.rXU(D.Xj),d.rXU(oe,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Ye,vt){1&Ye&&d.bIt("focusin",function(){return vt._handleFocus()})("blur",function(){return vt._onTouched()})("input",function(ot){return vt._handleInput(ot)})("keydown",function(ot){return vt._handleKeydown(ot)})("click",function(){return vt._handleClick()}),2&Ye&&d.BMQ("autocomplete",vt.autocompleteAttribute)("role",vt.autocompleteDisabled?null:"combobox")("aria-autocomplete",vt.autocompleteDisabled?null:"list")("aria-activedescendant",vt.panelOpen&&vt.activeOption?vt.activeOption.id:null)("aria-expanded",vt.autocompleteDisabled?null:vt.panelOpen.toString())("aria-controls",vt.autocompleteDisabled||!vt.panelOpen||null==vt.autocomplete?null:vt.autocomplete.id)("aria-haspopup",vt.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",d.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[d.Jv_([Ve]),d.GFd,d.OA$]})}return Ot})(),Tt=(()=>{class Ot{static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)};static#t=this.\u0275mod=d.$C({type:Ot});static#n=this.\u0275inj=d.G2t({providers:[qt],imports:[C.z_,A.Sy,A.yE,w.MD,D.Gj,A.Sy,A.yE]})}return Ot})()},5244:(dn,Ne,_)=>{"use strict";_.d(Ne,{VK:()=>we,eN:()=>ce,vF:()=>j});var d=_(3482),A=_(9168),w=_(7404),D=_(5060),C=_(2102),S=_(7912),I=_(1570),E=_(316),y=_(7172),x=_(4879),$=_(3119),R=_(7405),O=_(8627),M=_(3602);function L(Y,se){}const z={bottomSheetState:(0,y.hZ)("state",[(0,y.wk)("void, hidden",(0,y.iF)({transform:"translateY(100%)"})),(0,y.wk)("visible",(0,y.iF)({transform:"translateY(0%)"})),(0,y.kY)("visible => void, visible => hidden",(0,y.Os)([(0,y.i0)(`${D.ed.COMPLEX} ${D.r5.ACCELERATION_CURVE}`),(0,y.P)("@*",(0,y.MA)(),{optional:!0})])),(0,y.kY)("void => visible",(0,y.Os)([(0,y.i0)(`${D.ed.EXITING} ${D.r5.DECELERATION_CURVE}`),(0,y.P)("@*",(0,y.MA)(),{optional:!0})]))])};let F=(()=>{class Y extends d.sU{constructor(W,Ce,Q,Me,Xe,yt,Je,je,X){super(W,Ce,Q,Me,Xe,yt,Je,X),this._animationState="void",this._animationStateChanged=new w.bkB,this._breakpointSubscription=je.observe([S.Rp.Medium,S.Rp.Large,S.Rp.XLarge]).subscribe(()=>{const oe=this._elementRef.nativeElement.classList;oe.toggle("mat-bottom-sheet-container-medium",je.isMatched(S.Rp.Medium)),oe.toggle("mat-bottom-sheet-container-large",je.isMatched(S.Rp.Large)),oe.toggle("mat-bottom-sheet-container-xlarge",je.isMatched(S.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(W){"visible"===W.toState&&this._trapFocus(),this._animationStateChanged.emit(W)}_onAnimationStart(W){this._animationStateChanged.emit(W)}_captureInitialFocus(){}static#e=this.\u0275fac=function(Ce){return new(Ce||Y)(w.rXU(w.aKT),w.rXU(C.GX),w.rXU(E.qQ,8),w.rXU(d.Pe),w.rXU(C.Z7),w.rXU(w.SKi),w.rXU(I.yY),w.rXU(S.QP),w.rXU(C.FN))};static#t=this.\u0275cmp=w.VBU({type:Y,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Ce,Q){1&Ce&&w.Kam("@state.start",function(Xe){return Q._onAnimationStart(Xe)})("@state.done",function(Xe){return Q._onAnimationDone(Xe)}),2&Ce&&(w.zvX("@state",Q._animationState),w.BMQ("role",Q._config.role)("aria-modal",Q._config.ariaModal)("aria-label",Q._config.ariaLabel))},standalone:!0,features:[w.Vt3,w.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ce,Q){1&Ce&&w.DNE(0,L,0,0,"ng-template",0)},dependencies:[A.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[z.bottomSheetState]}})}return Y})();const J=new w.nKC("MatBottomSheetData");class ue{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ce{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(se,W,Ce){this._ref=se,this._afterOpened=new $.B7,this.containerInstance=Ce,this.disableClose=W.disableClose,Ce._animationStateChanged.pipe((0,O.p)(Q=>"done"===Q.phaseName&&"visible"===Q.toState),(0,M.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ce._animationStateChanged.pipe((0,O.p)(Q=>"done"===Q.phaseName&&"hidden"===Q.toState),(0,M.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),se.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,R.h)(this.backdropClick(),this.keydownEvents().pipe((0,O.p)(Q=>Q.keyCode===x._f))).subscribe(Q=>{!this.disableClose&&("keydown"!==Q.type||!(0,x.rp)(Q))&&(Q.preventDefault(),this.dismiss())})}dismiss(se){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,O.p)(W=>"start"===W.phaseName),(0,M.s)(1)).subscribe(W=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},W.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=se,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const re=new w.nKC("mat-bottom-sheet-default-options");let we=(()=>{class Y{get _openedBottomSheetRef(){const W=this._parentBottomSheet;return W?W._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(W){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=W:this._bottomSheetRefAtThisLevel=W}constructor(W,Ce,Q,Me){this._overlay=W,this._parentBottomSheet=Q,this._defaultOptions=Me,this._bottomSheetRefAtThisLevel=null,this._dialog=Ce.get(d.lG)}open(W,Ce){const Q={...this._defaultOptions||new ue,...Ce};let Me;return this._dialog.open(W,{...Q,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:F,scrollStrategy:Q.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Me}),providers:(Xe,yt,Je)=>(Me=new ce(Xe,Q,Je),[{provide:ce,useValue:Me},{provide:J,useValue:Q.data}])}),Me.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Me&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Me.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Me.containerInstance.enter(),this._openedBottomSheetRef=Me,Me}dismiss(W){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(W)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(Ce){return new(Ce||Y)(w.KVO(I.hJ),w.KVO(w.zZn),w.KVO(Y,12),w.KVO(re,8))};static#t=this.\u0275prov=w.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),j=(()=>{class Y{static#e=this.\u0275fac=function(Ce){return new(Ce||Y)};static#t=this.\u0275mod=w.$C({type:Y});static#n=this.\u0275inj=w.G2t({providers:[we],imports:[d.Ph,D.yE,A.jc,D.yE]})}return Y})()},9864:(dn,Ne,_)=>{"use strict";_.d(Ne,{Vg:()=>ce});var d=_(2102),D=(_(7989),_(4879),_(7404)),I=(_(3680),_(4456),_(5060));const E=["button"],y=["*"];function x(re,we){if(1&re&&D.nrm(0,"mat-pseudo-checkbox",3),2&re){const j=D.XpG();D.Y8G("disabled",j.disabled)}}function $(re,we){if(1&re&&D.nrm(0,"mat-pseudo-checkbox",3),2&re){const j=D.XpG();D.Y8G("disabled",j.disabled)}}const R=new D.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function O(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),M=new D.nKC("MatButtonToggleGroup");let z=0;class F{constructor(we,j){this.source=we,this.value=j}}let ue=(()=>{class re{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(j){this._tabIndex=j,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(j){this._appearance=j}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(j){j!==this._checked&&(this._checked=j,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(j){this._disabled=j}constructor(j,Y,se,W,Ce,Q){this._changeDetectorRef=Y,this._elementRef=se,this._focusMonitor=W,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new D.bkB;const Me=Number(Ce);this.tabIndex=Me||0===Me?Me:null,this.buttonToggleGroup=j,this.appearance=Q&&Q.appearance?Q.appearance:"standard"}ngOnInit(){const j=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+z++,j&&(j._isPrechecked(this)?this.checked=!0:j._isSelected(this)!==this._checked&&j._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const j=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),j&&j._isSelected(this)&&j._syncButtonToggle(this,!1,!1,!0)}focus(j){this._buttonElement.nativeElement.focus(j)}_onButtonClick(){const j=!!this.isSingleSelector()||!this._checked;if(j!==this._checked&&(this._checked=j,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const Y=this.buttonToggleGroup._buttonToggles.find(se=>0===se.tabIndex);Y&&(Y.tabIndex=-1),this.tabIndex=0}this.change.emit(new F(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(Y){return new(Y||re)(D.rXU(M,8),D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(d.FN),D.kS0("tabindex"),D.rXU(R,8))};static#t=this.\u0275cmp=D.VBU({type:re,selectors:[["mat-button-toggle"]],viewQuery:function(Y,se){if(1&Y&&D.GBs(E,5),2&Y){let W;D.mGM(W=D.lsd())&&(se._buttonElement=W.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(Y,se){1&Y&&D.bIt("focus",function(){return se.focus()}),2&Y&&(D.BMQ("aria-label",null)("aria-labelledby",null)("id",se.id)("name",null),D.AVh("mat-button-toggle-standalone",!se.buttonToggleGroup)("mat-button-toggle-checked",se.checked)("mat-button-toggle-disabled",se.disabled)("mat-button-toggle-appearance-standard","standard"===se.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",D.L39],appearance:"appearance",checked:[2,"checked","checked",D.L39],disabled:[2,"disabled","disabled",D.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[D.GFd,D.aNF],ngContentSelectors:y,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(Y,se){if(1&Y){const W=D.RV6();D.NAR(),D.j41(0,"button",1,0),D.bIt("click",function(){return D.eBV(W),D.Njj(se._onButtonClick())}),D.j41(2,"span",2),D.DNE(3,x,1,1,"mat-pseudo-checkbox",3)(4,$,1,1,"mat-pseudo-checkbox",3),D.SdG(5),D.k0s()(),D.nrm(6,"span",4)(7,"span",5)}if(2&Y){const W=D.sdS(1);D.Y8G("id",se.buttonId)("disabled",se.disabled||null),D.BMQ("role",se.isSingleSelector()?"radio":"button")("tabindex",se.disabled?-1:se.tabIndex)("aria-pressed",se.isSingleSelector()?null:se.checked)("aria-checked",se.isSingleSelector()?se.checked:null)("name",se._getButtonName())("aria-label",se.ariaLabel)("aria-labelledby",se.ariaLabelledby),D.R7$(3),D.vxM(se.buttonToggleGroup&&se.checked&&!se.buttonToggleGroup.multiple&&!se.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),D.R7$(),D.vxM(se.buttonToggleGroup&&se.checked&&se.buttonToggleGroup.multiple&&!se.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),D.R7$(3),D.Y8G("matRippleTrigger",W)("matRippleDisabled",se.disableRipple||se.disabled)}},dependencies:[I.r6,I.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}return re})(),ce=(()=>{class re{static#e=this.\u0275fac=function(Y){return new(Y||re)};static#t=this.\u0275mod=D.$C({type:re});static#n=this.\u0275inj=D.G2t({imports:[I.yE,I.pZ,ue,I.yE]})}return re})()},4175:(dn,Ne,_)=>{"use strict";_.d(Ne,{$z:()=>we,Hl:()=>je,iY:()=>yt});var d=_(7699),A=_(7404),w=_(2102),D=_(5060);const C=["mat-button",""],S=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],I=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],O=["mat-icon-button",""],M=["*"],z=new A.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ue=(()=>{class X{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(_e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,_e)}get disableRipple(){return this._disableRipple}set disableRipple(_e){this._disableRipple=_e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(_e){this._disabled=_e,this._updateRippleDisabled()}constructor(_e,ve,Pe,Ve){this._elementRef=_e,this._platform=ve,this._ngZone=Pe,this._animationMode=Ve,this._focusMonitor=(0,A.WQX)(w.FN),this._rippleLoader=(0,A.WQX)(D.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Qe=(0,A.WQX)(z,{optional:!0}),Pt=_e.nativeElement,Se=Pt.classList;this.disabledInteractive=Qe?.disabledInteractive??!1,this.color=Qe?.color??null,this._rippleLoader?.configureRipple(Pt,{className:"mat-mdc-button-ripple"});for(const{attribute:qt,mdcClasses:Vt}of J)Pt.hasAttribute(qt)&&Se.add(...Vt)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(_e="program",ve){_e?this._focusMonitor.focusVia(this._elementRef.nativeElement,_e,ve):this._elementRef.nativeElement.focus(ve)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(ve){A.QTQ()};static#t=this.\u0275dir=A.FsC({type:X,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",A.L39],disabled:[2,"disabled","disabled",A.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",A.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A.L39]},features:[A.GFd]})}return X})(),we=(()=>{class X extends ue{constructor(_e,ve,Pe,Ve){super(_e,ve,Pe,Ve)}static#e=this.\u0275fac=function(ve){return new(ve||X)(A.rXU(A.aKT),A.rXU(d.OD),A.rXU(A.SKi),A.rXU(A.bc$,8))};static#t=this.\u0275cmp=A.VBU({type:X,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ve,Pe){2&ve&&(A.BMQ("disabled",Pe._getDisabledAttribute())("aria-disabled",Pe._getAriaDisabled()),A.HbH(Pe.color?"mat-"+Pe.color:""),A.AVh("mat-mdc-button-disabled",Pe.disabled)("mat-mdc-button-disabled-interactive",Pe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)("mat-unthemed",!Pe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[A.Vt3,A.aNF],attrs:C,ngContentSelectors:I,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ve,Pe){1&ve&&(A.NAR(S),A.nrm(0,"span",0),A.SdG(1),A.j41(2,"span",1),A.SdG(3,1),A.k0s(),A.SdG(4,2),A.nrm(5,"span",2)(6,"span",3)),2&ve&&A.AVh("mdc-button__ripple",!Pe._isFab)("mdc-fab__ripple",Pe._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return X})(),yt=(()=>{class X extends ue{constructor(_e,ve,Pe,Ve){super(_e,ve,Pe,Ve),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(ve){return new(ve||X)(A.rXU(A.aKT),A.rXU(d.OD),A.rXU(A.SKi),A.rXU(A.bc$,8))};static#t=this.\u0275cmp=A.VBU({type:X,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ve,Pe){2&ve&&(A.BMQ("disabled",Pe._getDisabledAttribute())("aria-disabled",Pe._getAriaDisabled()),A.HbH(Pe.color?"mat-"+Pe.color:""),A.AVh("mat-mdc-button-disabled",Pe.disabled)("mat-mdc-button-disabled-interactive",Pe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)("mat-unthemed",!Pe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[A.Vt3,A.aNF],attrs:O,ngContentSelectors:M,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ve,Pe){1&ve&&(A.NAR(),A.nrm(0,"span",0),A.SdG(1),A.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return X})(),je=(()=>{class X{static#e=this.\u0275fac=function(ve){return new(ve||X)};static#t=this.\u0275mod=A.$C({type:X});static#n=this.\u0275inj=A.G2t({imports:[D.yE,D.pZ,D.yE]})}return X})()},7024:(dn,Ne,_)=>{"use strict";_.d(Ne,{So:()=>M,g7:()=>J});var d=_(7404),A=_(4456),w=_(5060);const D=["input"],C=["label"],S=["*"],I=new d.nKC("mat-checkbox-default-options",{providedIn:"root",factory:E});function E(){return{color:"accent",clickAction:"check-indeterminate"}}var y=function(ue){return ue[ue.Init=0]="Init",ue[ue.Checked=1]="Checked",ue[ue.Unchecked=2]="Unchecked",ue[ue.Indeterminate=3]="Indeterminate",ue}(y||{});const x={provide:A.kq,useExisting:(0,d.Rfq)(()=>M),multi:!0};class ${}let R=0;const O=E();let M=(()=>{class ue{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(re){const we=new $;return we.source=this,we.checked=re,we}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(re,we,j,Y,se,W){this._elementRef=re,this._changeDetectorRef=we,this._ngZone=j,this._animationMode=se,this._options=W,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new d.bkB,this.indeterminateChange=new d.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=y.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||O,this.color=this._options.color||O.color,this.tabIndex=parseInt(Y)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++R}ngOnChanges(re){re.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(re){re!=this.checked&&(this._checked=re,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(re){re!==this.disabled&&(this._disabled=re,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(re){const we=re!=this._indeterminate;this._indeterminate=re,we&&(this._transitionCheckState(this._indeterminate?y.Indeterminate:this.checked?y.Checked:y.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(re){this.checked=!!re}registerOnChange(re){this._controlValueAccessorChangeFn=re}registerOnTouched(re){this._onTouched=re}setDisabledState(re){this.disabled=re}validate(re){return this.required&&!0!==re.value?{required:!0}:null}registerOnValidatorChange(re){this._validatorChangeFn=re}_transitionCheckState(re){let we=this._currentCheckState,j=this._getAnimationTargetElement();if(we!==re&&j&&(this._currentAnimationClass&&j.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(we,re),this._currentCheckState=re,this._currentAnimationClass.length>0)){j.classList.add(this._currentAnimationClass);const Y=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{j.classList.remove(Y)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const re=this._options?.clickAction;this.disabled||"noop"===re?!this.disabled&&"noop"===re&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==re&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?y.Checked:y.Unchecked),this._emitChangeEvent())}_onInteractionEvent(re){re.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(re,we){if("NoopAnimations"===this._animationMode)return"";switch(re){case y.Init:if(we===y.Checked)return this._animationClasses.uncheckedToChecked;if(we==y.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case y.Unchecked:return we===y.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case y.Checked:return we===y.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case y.Indeterminate:return we===y.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(re){const we=this._inputElement;we&&(we.nativeElement.indeterminate=re)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(re){re.target&&this._labelElement.nativeElement.contains(re.target)&&re.stopPropagation()}static#e=this.\u0275fac=function(we){return new(we||ue)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.kS0("tabindex"),d.rXU(d.bc$,8),d.rXU(I,8))};static#t=this.\u0275cmp=d.VBU({type:ue,selectors:[["mat-checkbox"]],viewQuery:function(we,j){if(1&we&&(d.GBs(D,5),d.GBs(C,5),d.GBs(w.r6,5)),2&we){let Y;d.mGM(Y=d.lsd())&&(j._inputElement=Y.first),d.mGM(Y=d.lsd())&&(j._labelElement=Y.first),d.mGM(Y=d.lsd())&&(j.ripple=Y.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(we,j){2&we&&(d.Mr5("id",j.id),d.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),d.HbH(j.color?"mat-"+j.color:"mat-accent"),d.AVh("_mat-animation-noopable","NoopAnimations"===j._animationMode)("mdc-checkbox--disabled",j.disabled)("mat-mdc-checkbox-disabled",j.disabled)("mat-mdc-checkbox-checked",j.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",d.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",re=>null==re?void 0:(0,d.Udg)(re)],color:"color",checked:[2,"checked","checked",d.L39],disabled:[2,"disabled","disabled",d.L39],indeterminate:[2,"indeterminate","indeterminate",d.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[d.Jv_([x,{provide:A.cz,useExisting:ue,multi:!0}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:S,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(we,j){if(1&we){const Y=d.RV6();d.NAR(),d.j41(0,"div",3),d.bIt("click",function(W){return d.eBV(Y),d.Njj(j._preventBubblingFromLabel(W))}),d.j41(1,"div",4,0)(3,"div",5),d.bIt("click",function(){return d.eBV(Y),d.Njj(j._onTouchTargetClick())}),d.k0s(),d.j41(4,"input",6,1),d.bIt("blur",function(){return d.eBV(Y),d.Njj(j._onBlur())})("click",function(){return d.eBV(Y),d.Njj(j._onInputClick())})("change",function(W){return d.eBV(Y),d.Njj(j._onInteractionEvent(W))}),d.k0s(),d.nrm(6,"div",7),d.j41(7,"div",8),d.qSk(),d.j41(8,"svg",9),d.nrm(9,"path",10),d.k0s(),d.joV(),d.nrm(10,"div",11),d.k0s(),d.nrm(11,"div",12),d.k0s(),d.j41(12,"label",13,2),d.SdG(14),d.k0s()()}if(2&we){const Y=d.sdS(2);d.Y8G("labelPosition",j.labelPosition),d.R7$(4),d.AVh("mdc-checkbox--selected",j.checked),d.Y8G("checked",j.checked)("indeterminate",j.indeterminate)("disabled",j.disabled)("id",j.inputId)("required",j.required)("tabIndex",j.disabled?-1:j.tabIndex),d.BMQ("aria-label",j.ariaLabel||null)("aria-labelledby",j.ariaLabelledby)("aria-describedby",j.ariaDescribedby)("aria-checked",j.indeterminate?"mixed":null)("name",j.name)("value",j.value),d.R7$(7),d.Y8G("matRippleTrigger",Y)("matRippleDisabled",j.disableRipple||j.disabled)("matRippleCentered",!0),d.R7$(),d.Y8G("for",j.inputId)}},dependencies:[w.r6,w.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ue})(),J=(()=>{class ue{static#e=this.\u0275fac=function(we){return new(we||ue)};static#t=this.\u0275mod=d.$C({type:ue});static#n=this.\u0275inj=d.G2t({imports:[M,w.yE,w.yE]})}return ue})()},2772:(dn,Ne,_)=>{"use strict";_.d(Ne,{D7:()=>Nt,HW:()=>ot,YN:()=>wt,Zv:()=>Qe,jH:()=>Ot});var d=_(2102),A=_(4879),w=_(316),D=_(7404),C=_(5060),S=_(3119),I=_(7405),E=_(7464),y=_(9273),x=_(1963),$=_(3680),R=_(4456),O=_(5944);const M=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],L=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function z(ct,ut){1&ct&&(D.j41(0,"span",3),D.SdG(1,1),D.k0s())}function F(ct,ut){1&ct&&(D.j41(0,"span",6),D.SdG(1,2),D.k0s())}const re=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],we=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function j(ct,ut){1&ct&&D.nrm(0,"span",0)}function Y(ct,ut){1&ct&&(D.j41(0,"span",2),D.SdG(1),D.k0s())}function se(ct,ut){1&ct&&D.SdG(0,1)}function W(ct,ut){1&ct&&D.nrm(0,"span",7)}function Ce(ct,ut){if(1&ct&&D.DNE(0,se,1,0)(1,W,1,0,"span",7),2&ct){const Z=D.XpG();D.vxM(Z.contentEditInput?0:1)}}function Q(ct,ut){1&ct&&D.SdG(0,2)}function Me(ct,ut){1&ct&&(D.j41(0,"span",5),D.SdG(1,3),D.k0s())}const Xe=["*"],Je=new D.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[A.Fm]})}),je=new D.nKC("MatChipAvatar"),X=new D.nKC("MatChipTrailingIcon"),oe=new D.nKC("MatChipRemove"),_e=new D.nKC("MatChip");let ve=(()=>{class ct{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(Z){this._disabled=Z}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(Z,Fe){this._elementRef=Z,this._parentChip=Fe,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===Z.nativeElement.nodeName&&Z.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(Z){!this.disabled&&this.isInteractive&&this._isPrimary&&(Z.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(Z){(Z.keyCode===A.Fm||Z.keyCode===A.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(Z.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.aKT),D.rXU(_e))};static#t=this.\u0275dir=D.FsC({type:ct,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Fe,pe){1&Fe&&D.bIt("click",function(Gt){return pe._handleClick(Gt)})("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Fe&&(D.BMQ("tabindex",pe._getTabindex())("disabled",pe._getDisabledAttribute())("aria-disabled",pe.disabled),D.AVh("mdc-evolution-chip__action--primary",pe._isPrimary)("mdc-evolution-chip__action--presentational",!pe.isInteractive)("mdc-evolution-chip__action--trailing",!pe._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",D.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?-1:(0,D.Udg)(Z)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[D.GFd]})}return ct})(),Qe=(()=>{class ct extends ve{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(Z){this.disabled||(Z.stopPropagation(),Z.preventDefault(),this._parentChip.remove())}_handleKeydown(Z){(Z.keyCode===A.Fm||Z.keyCode===A.t6)&&!this.disabled&&(Z.stopPropagation(),Z.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let Z;return function(pe){return(Z||(Z=D.xGo(ct)))(pe||ct)}})();static#t=this.\u0275dir=D.FsC({type:ct,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(Fe,pe){2&Fe&&D.BMQ("aria-hidden",null)},standalone:!0,features:[D.Jv_([{provide:oe,useExisting:ct}]),D.Vt3]})}return ct})(),Pt=0,Se=(()=>{class ct{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(Z){this._value=Z}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(Z){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,Z)}constructor(Z,Fe,pe,at,Gt,nn,Wn,vi){this._changeDetectorRef=Z,this._elementRef=Fe,this._ngZone=pe,this._focusMonitor=at,this._globalRippleOptions=Wn,this._onFocus=new S.B7,this._onBlur=new S.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Pt++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new D.bkB,this.destroyed=new D.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,D.WQX)(C.Ej),this._injector=(0,D.WQX)(D.zZn),this._document=Gt,this._animationsDisabled="NoopAnimations"===nn,null!=vi&&(this.tabIndex=parseInt(vi)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const Z=this._elementRef.nativeElement;this._isBasicChip=Z.hasAttribute(this.basicChipAttrName)||Z.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,I.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(Z){(Z.keyCode===A.G_&&!Z.repeat||Z.keyCode===A.SJ)&&(Z.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(Z){return this._getActions().find(Fe=>{const pe=Fe._elementRef.nativeElement;return pe===Z||pe.contains(Z)})}_getActions(){const Z=[];return this.primaryAction&&Z.push(this.primaryAction),this.removeIcon&&Z.push(this.removeIcon),this.trailingIcon&&Z.push(this.trailingIcon),Z}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Z=>{const Fe=null!==Z;Fe!==this._hasFocusInternal&&(this._hasFocusInternal=Fe,Fe?this._onFocus.next({chip:this}):(0,D.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.SKi),D.rXU(d.FN),D.rXU(w.qQ),D.rXU(D.bc$,8),D.rXU(C.$E,8),D.kS0("tabindex"))};static#t=this.\u0275cmp=D.VBU({type:ct,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Fe,pe,at){if(1&Fe&&(D.wni(at,je,5),D.wni(at,X,5),D.wni(at,oe,5),D.wni(at,je,5),D.wni(at,X,5),D.wni(at,oe,5)),2&Fe){let Gt;D.mGM(Gt=D.lsd())&&(pe.leadingIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe.trailingIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe.removeIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe._allLeadingIcons=Gt),D.mGM(Gt=D.lsd())&&(pe._allTrailingIcons=Gt),D.mGM(Gt=D.lsd())&&(pe._allRemoveIcons=Gt)}},viewQuery:function(Fe,pe){if(1&Fe&&D.GBs(ve,5),2&Fe){let at;D.mGM(at=D.lsd())&&(pe.primaryAction=at.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(Fe,pe){1&Fe&&D.bIt("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Fe&&(D.Mr5("id",pe.id),D.BMQ("role",pe.role)("tabindex",pe._getTabIndex())("aria-label",pe.ariaLabel),D.HbH("mat-"+(pe.color||"primary")),D.AVh("mdc-evolution-chip",!pe._isBasicChip)("mdc-evolution-chip--disabled",pe.disabled)("mdc-evolution-chip--with-trailing-action",pe._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",pe.leadingIcon)("mdc-evolution-chip--with-primary-icon",pe.leadingIcon)("mdc-evolution-chip--with-avatar",pe.leadingIcon)("mat-mdc-chip-with-avatar",pe.leadingIcon)("mat-mdc-chip-highlighted",pe.highlighted)("mat-mdc-chip-disabled",pe.disabled)("mat-mdc-basic-chip",pe._isBasicChip)("mat-mdc-standard-chip",!pe._isBasicChip)("mat-mdc-chip-with-trailing-icon",pe._hasTrailingIcon())("_mat-animation-noopable",pe._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",D.L39],highlighted:[2,"highlighted","highlighted",D.L39],disableRipple:[2,"disableRipple","disableRipple",D.L39],disabled:[2,"disabled","disabled",D.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?void 0:(0,D.Udg)(Z)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[D.Jv_([{provide:_e,useExisting:ct}]),D.GFd,D.aNF],ngContentSelectors:L,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Fe,pe){1&Fe&&(D.NAR(M),D.nrm(0,"span",0),D.j41(1,"span",1)(2,"span",2),D.DNE(3,z,2,0,"span",3),D.j41(4,"span",4),D.SdG(5),D.nrm(6,"span",5),D.k0s()()(),D.DNE(7,F,2,0,"span",6)),2&Fe&&(D.R7$(2),D.Y8G("isInteractive",!1),D.R7$(),D.vxM(pe.leadingIcon?3:-1),D.R7$(4),D.vxM(pe._hasTrailingIcon()?7:-1))},dependencies:[ve],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ct})(),Tt=(()=>{class ct{constructor(Z,Fe){this._elementRef=Z,this._document=Fe}initialize(Z){this.getNativeElement().focus(),this.setValue(Z)}getNativeElement(){return this._elementRef.nativeElement}setValue(Z){this.getNativeElement().textContent=Z,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const Z=this._document.createRange();Z.selectNodeContents(this.getNativeElement()),Z.collapse(!1);const Fe=window.getSelection();Fe.removeAllRanges(),Fe.addRange(Z)}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.aKT),D.rXU(w.qQ))};static#t=this.\u0275dir=D.FsC({type:ct,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return ct})(),Ot=(()=>{class ct extends Se{constructor(Z,Fe,pe,at,Gt,nn,Wn,vi){super(Z,Fe,pe,at,Gt,nn,Wn,vi),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new D.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,E.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(Z){Z.keyCode!==A.Fm||this.disabled?this._isEditing?Z.stopPropagation():super._handleKeydown(Z):this._isEditing?(Z.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(Z)}_handleDoubleclick(Z){!this.disabled&&this.editable&&this._startEditing(Z)}_startEditing(Z){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(Z.target)===this.removeIcon)return;const Fe=this.value;this._isEditing=this._editStartPending=!0,(0,D.mal)(()=>{this._getEditInput().initialize(Fe),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.SKi),D.rXU(d.FN),D.rXU(w.qQ),D.rXU(D.bc$,8),D.rXU(C.$E,8),D.kS0("tabindex"))};static#t=this.\u0275cmp=D.VBU({type:ct,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(Fe,pe,at){if(1&Fe&&D.wni(at,Tt,5),2&Fe){let Gt;D.mGM(Gt=D.lsd())&&(pe.contentEditInput=Gt.first)}},viewQuery:function(Fe,pe){if(1&Fe&&D.GBs(Tt,5),2&Fe){let at;D.mGM(at=D.lsd())&&(pe.defaultEditInput=at.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(Fe,pe){1&Fe&&D.bIt("focus",function(Gt){return pe._handleFocus(Gt)})("dblclick",function(Gt){return pe._handleDoubleclick(Gt)}),2&Fe&&(D.Mr5("id",pe.id),D.BMQ("tabindex",pe.disabled?null:-1)("aria-label",null)("aria-description",null)("role",pe.role),D.AVh("mat-mdc-chip-with-avatar",pe.leadingIcon)("mat-mdc-chip-disabled",pe.disabled)("mat-mdc-chip-editing",pe._isEditing)("mat-mdc-chip-editable",pe.editable)("mdc-evolution-chip--disabled",pe.disabled)("mdc-evolution-chip--with-trailing-action",pe._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",pe.leadingIcon)("mdc-evolution-chip--with-primary-icon",pe.leadingIcon)("mdc-evolution-chip--with-avatar",pe.leadingIcon)("mat-mdc-chip-highlighted",pe.highlighted)("mat-mdc-chip-with-trailing-icon",pe._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[D.Jv_([{provide:Se,useExisting:ct},{provide:_e,useExisting:ct}]),D.Vt3,D.aNF],ngContentSelectors:we,decls:10,vars:10,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(Fe,pe){1&Fe&&(D.NAR(re),D.DNE(0,j,1,0,"span",0),D.j41(1,"span",1),D.DNE(2,Y,2,0,"span",2),D.j41(3,"span",3),D.DNE(4,Ce,2,1)(5,Q,1,0),D.nrm(6,"span",4),D.k0s()(),D.DNE(7,Me,2,0,"span",5),D.j41(8,"span",6),D.EFF(9),D.k0s()),2&Fe&&(D.vxM(pe._isEditing?-1:0),D.R7$(),D.Y8G("tabIndex",pe.tabIndex)("disabled",pe.disabled),D.BMQ("aria-label",pe.ariaLabel)("aria-describedby",pe._ariaDescriptionId),D.R7$(),D.vxM(pe.leadingIcon?2:-1),D.R7$(2),D.vxM(pe._isEditing?4:5),D.R7$(3),D.vxM(pe._hasTrailingIcon()?7:-1),D.R7$(),D.Y8G("id",pe._ariaDescriptionId),D.R7$(),D.JRh(pe.ariaDescription))},dependencies:[ve,Tt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ct})(),ft=(()=>{class ct{get chipFocusChanges(){return this._getChipStream(Z=>Z._onFocus)}get chipDestroyedChanges(){return this._getChipStream(Z=>Z.destroyed)}get chipRemovedChanges(){return this._getChipStream(Z=>Z.removed)}get disabled(){return this._disabled}set disabled(Z){this._disabled=Z,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(Z){this._explicitRole=Z}get focused(){return this._hasFocusedChip()}constructor(Z,Fe,pe){this._elementRef=Z,this._changeDetectorRef=Fe,this._dir=pe,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new S.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new D.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(Z=>Z._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(Z=>{Z.disabled=this._disabled,Z._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(Z){this._originatesFromChip(Z)&&this._keyManager.onKeydown(Z)}_isValidIndex(Z){return Z>=0&&Z<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const Z=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=Z,this._changeDetectorRef.markForCheck()})}}_getChipStream(Z){return this._chips.changes.pipe((0,y.Z)(null),(0,x.n)(()=>(0,I.h)(...this._chips.map(Z))))}_originatesFromChip(Z){let Fe=Z.target;for(;Fe&&Fe!==this._elementRef.nativeElement;){if(Fe.classList.contains("mat-mdc-chip"))return!0;Fe=Fe.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,y.Z)(this._chips)).subscribe(Z=>{const Fe=[];Z.forEach(pe=>pe._getActions().forEach(at=>Fe.push(at))),this._chipActions.reset(Fe),this._chipActions.notifyOnChanges()}),this._keyManager=new d.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(Z=>this._skipPredicate(Z)),this.chipFocusChanges.pipe((0,E.Q)(this._destroyed)).subscribe(({chip:Z})=>{const Fe=Z._getSourceAction(document.activeElement);Fe&&this._keyManager.updateActiveItem(Fe)}),this._dir?.change.pipe((0,E.Q)(this._destroyed)).subscribe(Z=>this._keyManager.withHorizontalOrientation(Z))}_skipPredicate(Z){return!Z.isInteractive||Z.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,y.Z)(null),(0,E.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,E.Q)(this._destroyed)).subscribe(Z=>{const pe=this._chips.toArray().indexOf(Z.chip);this._isValidIndex(pe)&&Z.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=pe)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const Z=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Fe=this._chips.toArray()[Z];Fe.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Fe.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.aKT),D.rXU(D.gRc),D.rXU($.dS,8))};static#t=this.\u0275cmp=D.VBU({type:ct,selectors:[["mat-chip-set"]],contentQueries:function(Fe,pe,at){if(1&Fe&&D.wni(at,Se,5),2&Fe){let Gt;D.mGM(Gt=D.lsd())&&(pe._chips=Gt)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Fe,pe){1&Fe&&D.bIt("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Fe&&D.BMQ("role",pe.role)},inputs:{disabled:[2,"disabled","disabled",D.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?0:(0,D.Udg)(Z)]},standalone:!0,features:[D.GFd,D.aNF],ngContentSelectors:Xe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Fe,pe){1&Fe&&(D.NAR(),D.j41(0,"div",0),D.SdG(1),D.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return ct})();class It{constructor(ut,Z){this.source=ut,this.value=Z}}let ot=(()=>{class ct extends ft{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(Z){this._disabled=Z,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(Z){this._placeholder=Z,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(R.k0.required)??!1}set required(Z){this._required=Z,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(Z){this._value=Z}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Z){this._errorStateTracker.matcher=Z}get chipBlurChanges(){return this._getChipStream(Z=>Z._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(Z){this._errorStateTracker.errorState=Z}constructor(Z,Fe,pe,at,Gt,nn,Wn){super(Z,Fe,pe),this.ngControl=Wn,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new D.bkB,this.valueChange=new D.bkB,this._chips=void 0,this.stateChanges=new S.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new C.X0(nn,Wn,Gt,at,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,E.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,I.h)(this.chipFocusChanges,this._chips.changes).pipe((0,E.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(Z){this._chipInput=Z,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(Z){!this.disabled&&!this._originatesFromChip(Z)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(Z){this._ariaDescribedbyIds=Z,this._chipInput?.setDescribedByIds(Z)}writeValue(Z){this._value=Z}registerOnChange(Z){this._onChange=Z}registerOnTouched(Z){this._onTouched=Z}setDisabledState(Z){this.disabled=Z,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(Z){const Fe=Z.keyCode,pe=this._keyManager.activeItem;if(Fe===A.wn)this._chipInput.focused&&(0,A.rp)(Z,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(Z.preventDefault(),pe?this._keyManager.setActiveItem(pe):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(Fe!==A.i7&&Fe!==A.n6||!pe)super._handleKeydown(Z);else{const at=this._chipActions.filter(Wn=>Wn._isPrimary===pe._isPrimary&&!this._skipPredicate(Wn)),Gt=at.indexOf(pe),nn=Z.keyCode===A.i7?-1:1;Z.preventDefault(),Gt>-1&&this._isValidIndex(Gt+nn)&&this._keyManager.setActiveItem(at[Gt+nn])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const Z=this._chips.length?this._chips.toArray().map(Fe=>Fe.value):[];this._value=Z,this.change.emit(new It(this,Z)),this.valueChange.emit(Z),this._onChange(Z),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.aKT),D.rXU(D.gRc),D.rXU($.dS,8),D.rXU(R.cV,8),D.rXU(R.j4,8),D.rXU(C.es),D.rXU(R.vO,10))};static#t=this.\u0275cmp=D.VBU({type:ct,selectors:[["mat-chip-grid"]],contentQueries:function(Fe,pe,at){if(1&Fe&&D.wni(at,Ot,5),2&Fe){let Gt;D.mGM(Gt=D.lsd())&&(pe._chips=Gt)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(Fe,pe){1&Fe&&D.bIt("focus",function(){return pe.focus()})("blur",function(){return pe._blur()}),2&Fe&&(D.BMQ("role",pe.role)("tabindex",pe.disabled||pe._chips&&0===pe._chips.length?-1:pe.tabIndex)("aria-disabled",pe.disabled.toString())("aria-invalid",pe.errorState),D.AVh("mat-mdc-chip-list-disabled",pe.disabled)("mat-mdc-chip-list-invalid",pe.errorState)("mat-mdc-chip-list-required",pe.required))},inputs:{disabled:[2,"disabled","disabled",D.L39],placeholder:"placeholder",required:[2,"required","required",D.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[D.Jv_([{provide:O.qT,useExisting:ct}]),D.GFd,D.Vt3,D.aNF],ngContentSelectors:Xe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Fe,pe){1&Fe&&(D.NAR(),D.j41(0,"div",0),D.SdG(1),D.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return ct})(),st=0,Nt=(()=>{class ct{get chipGrid(){return this._chipGrid}set chipGrid(Z){Z&&(this._chipGrid=Z,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(Z){this._disabled=Z}get empty(){return!this.inputElement.value}constructor(Z,Fe,pe){this._elementRef=Z,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new D.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+st++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=Fe.separatorKeyCodes,pe&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(Z){this.empty&&Z.keyCode===A.G_?(Z.repeat||this._chipGrid._focusLastChip(),Z.preventDefault()):this._emitChipEnd(Z)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(Z){(!Z||this._isSeparatorKey(Z))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),Z?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(Z){const Fe=this._elementRef.nativeElement;Z.length?Fe.setAttribute("aria-describedby",Z.join(" ")):Fe.removeAttribute("aria-describedby")}_isSeparatorKey(Z){return!(0,A.rp)(Z)&&new Set(this.separatorKeyCodes).has(Z.keyCode)}static#e=this.\u0275fac=function(Fe){return new(Fe||ct)(D.rXU(D.aKT),D.rXU(Je),D.rXU(O.xb,8))};static#t=this.\u0275dir=D.FsC({type:ct,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(Fe,pe){1&Fe&&D.bIt("keydown",function(Gt){return pe._keydown(Gt)})("blur",function(){return pe._blur()})("focus",function(){return pe._focus()})("input",function(){return pe._onInput()}),2&Fe&&(D.Mr5("id",pe.id),D.BMQ("disabled",pe.disabled||null)("placeholder",pe.placeholder||null)("aria-invalid",pe._chipGrid&&pe._chipGrid.ngControl?pe._chipGrid.ngControl.invalid:null)("aria-required",pe._chipGrid&&pe._chipGrid.required||null)("required",pe._chipGrid&&pe._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",D.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",D.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[D.GFd,D.OA$]})}return ct})(),wt=(()=>{class ct{static#e=this.\u0275fac=function(Fe){return new(Fe||ct)};static#t=this.\u0275mod=D.$C({type:ct});static#n=this.\u0275inj=D.G2t({providers:[C.es,{provide:Je,useValue:{separatorKeyCodes:[A.Fm]}}],imports:[C.yE,C.pZ,C.yE]})}return ct})()},5060:(dn,Ne,_)=>{"use strict";_.d(Ne,{r5:()=>re,ed:()=>we,MJ:()=>Pe,es:()=>Re,de:()=>Ve,QC:()=>$t,is:()=>xt,$E:()=>nn,yE:()=>se,D7:()=>vn,wT:()=>Sn,Sy:()=>Kn,MI:()=>Ni,wg:()=>sn,r6:()=>Wn,Ej:()=>gn,pZ:()=>vi,Ex:()=>st,X0:()=>je,tO:()=>lt,jb:()=>Gn,TL:()=>En});var d=_(7404),A=_(2102),w=_(3680),C=_(316),S=_(7699),I=_(2814),E=_(3119),y=_(4879);const x=["*",[["mat-option"],["ng-container"]]],$=["*","mat-option, ng-container"],R=["text"],O=[[["mat-icon"]],"*"],M=["mat-icon","*"];function L(Te,rt){if(1&Te&&d.nrm(0,"mat-pseudo-checkbox",1),2&Te){const Le=d.XpG();d.Y8G("disabled",Le.disabled)("state",Le.selected?"checked":"unchecked")}}function z(Te,rt){if(1&Te&&d.nrm(0,"mat-pseudo-checkbox",3),2&Te){const Le=d.XpG();d.Y8G("disabled",Le.disabled)}}function F(Te,rt){if(1&Te&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&Te){const Le=d.XpG();d.R7$(),d.SpI("(",Le.group.label,")")}}const J=["mat-internal-form-field",""],ue=["*"];let re=(()=>{class Te{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Te})(),we=(()=>{class Te{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Te})();const Y=new d.nKC("mat-sanity-checks",{providedIn:"root",factory:function j(){return!0}});let se=(()=>{class Te{constructor(Le,bt,Ft){this._sanityChecks=bt,this._document=Ft,this._hasDoneGlobalChecks=!1,Le._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Le){return!(0,S.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Le])}static#e=this.\u0275fac=function(bt){return new(bt||Te)(d.KVO(A.Q_),d.KVO(Y,8),d.KVO(C.qQ))};static#t=this.\u0275mod=d.$C({type:Te});static#n=this.\u0275inj=d.G2t({imports:[w.jI,w.jI]})}return Te})();class je{constructor(rt,Le,bt,Ft,In){this._defaultMatcher=rt,this.ngControl=Le,this._parentFormGroup=bt,this._parentForm=Ft,this._stateChanges=In,this.errorState=!1}updateErrorState(){const rt=this.errorState,Le=this._parentFormGroup||this._parentForm,bt=this.matcher||this._defaultMatcher,Ft=this.ngControl?this.ngControl.control:null,In=bt?.isErrorState(Ft,Le)??!1;In!==rt&&(this.errorState=In,this._stateChanges.next())}}class Pe{constructor(){this._localeChanges=new E.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(rt){return this.isDateInstance(rt)&&this.isValid(rt)?rt:null}deserialize(rt){return null==rt||this.isDateInstance(rt)&&this.isValid(rt)?rt:this.invalid()}setLocale(rt){this.locale=rt,this._localeChanges.next()}compareDate(rt,Le){return this.getYear(rt)-this.getYear(Le)||this.getMonth(rt)-this.getMonth(Le)||this.getDate(rt)-this.getDate(Le)}sameDate(rt,Le){if(rt&&Le){let bt=this.isValid(rt),Ft=this.isValid(Le);return bt&&Ft?!this.compareDate(rt,Le):bt==Ft}return rt==Le}clampDate(rt,Le,bt){return Le&&this.compareDate(rt,Le)<0?Le:bt&&this.compareDate(rt,bt)>0?bt:rt}}const Ve=new d.nKC("mat-date-formats");let Re=(()=>{class Te{isErrorState(Le,bt){return!!(Le&&Le.invalid&&(Le.touched||bt&&bt.submitted))}static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275prov=d.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();var st=function(Te){return Te[Te.FADING_IN=0]="FADING_IN",Te[Te.VISIBLE=1]="VISIBLE",Te[Te.FADING_OUT=2]="FADING_OUT",Te[Te.HIDDEN=3]="HIDDEN",Te}(st||{});class Nt{constructor(rt,Le,bt,Ft=!1){this._renderer=rt,this.element=Le,this.config=bt,this._animationForciblyDisabledThroughCss=Ft,this.state=st.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ut=(0,S.BQ)({passive:!0,capture:!0});class wt{constructor(){this._events=new Map,this._delegateEventHandler=rt=>{const Le=(0,S.Fb)(rt);Le&&this._events.get(rt.type)?.forEach((bt,Ft)=>{(Ft===Le||Ft.contains(Le))&&bt.forEach(In=>In.handleEvent(rt))})}}addHandler(rt,Le,bt,Ft){const In=this._events.get(Le);if(In){const On=In.get(bt);On?On.add(Ft):In.set(bt,new Set([Ft]))}else this._events.set(Le,new Map([[bt,new Set([Ft])]])),rt.runOutsideAngular(()=>{document.addEventListener(Le,this._delegateEventHandler,Ut)})}removeHandler(rt,Le,bt){const Ft=this._events.get(rt);if(!Ft)return;const In=Ft.get(Le);In&&(In.delete(bt),0===In.size&&Ft.delete(Le),0===Ft.size&&(this._events.delete(rt),document.removeEventListener(rt,this._delegateEventHandler,Ut)))}}const ct={enterDuration:225,exitDuration:150},Z=(0,S.BQ)({passive:!0,capture:!0}),Fe=["mousedown","touchstart"],pe=["mouseup","mouseleave","touchend","touchcancel"];class at{static#e=this._eventManager=new wt;constructor(rt,Le,bt,Ft){this._target=rt,this._ngZone=Le,this._platform=Ft,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ft.isBrowser&&(this._containerElement=(0,I.i8)(bt))}fadeInRipple(rt,Le,bt={}){const Ft=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),In={...ct,...bt.animation};bt.centered&&(rt=Ft.left+Ft.width/2,Le=Ft.top+Ft.height/2);const On=bt.radius||function Gt(Te,rt,Le){const bt=Math.max(Math.abs(Te-Le.left),Math.abs(Te-Le.right)),Ft=Math.max(Math.abs(rt-Le.top),Math.abs(rt-Le.bottom));return Math.sqrt(bt*bt+Ft*Ft)}(rt,Le,Ft),ei=rt-Ft.left,pi=Le-Ft.top,zi=In.enterDuration,Ci=document.createElement("div");Ci.classList.add("mat-ripple-element"),Ci.style.left=ei-On+"px",Ci.style.top=pi-On+"px",Ci.style.height=2*On+"px",Ci.style.width=2*On+"px",null!=bt.color&&(Ci.style.backgroundColor=bt.color),Ci.style.transitionDuration=`${zi}ms`,this._containerElement.appendChild(Ci);const Gi=window.getComputedStyle(Ci),Ki=Gi.transitionDuration,ur="none"===Gi.transitionProperty||"0s"===Ki||"0s, 0s"===Ki||0===Ft.width&&0===Ft.height,or=new Nt(this,Ci,bt,ur);Ci.style.transform="scale3d(1, 1, 1)",or.state=st.FADING_IN,bt.persistent||(this._mostRecentTransientRipple=or);let Tr=null;return!ur&&(zi||In.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Hr=()=>{Tr&&(Tr.fallbackTimer=null),clearTimeout(Ur),this._finishRippleTransition(or)},_s=()=>this._destroyRipple(or),Ur=setTimeout(_s,zi+100);Ci.addEventListener("transitionend",Hr),Ci.addEventListener("transitioncancel",_s),Tr={onTransitionEnd:Hr,onTransitionCancel:_s,fallbackTimer:Ur}}),this._activeRipples.set(or,Tr),(ur||!zi)&&this._finishRippleTransition(or),or}fadeOutRipple(rt){if(rt.state===st.FADING_OUT||rt.state===st.HIDDEN)return;const Le=rt.element,bt={...ct,...rt.config.animation};Le.style.transitionDuration=`${bt.exitDuration}ms`,Le.style.opacity="0",rt.state=st.FADING_OUT,(rt._animationForciblyDisabledThroughCss||!bt.exitDuration)&&this._finishRippleTransition(rt)}fadeOutAll(){this._getActiveRipples().forEach(rt=>rt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(rt=>{rt.config.persistent||rt.fadeOut()})}setupTriggerEvents(rt){const Le=(0,I.i8)(rt);!this._platform.isBrowser||!Le||Le===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Le,Fe.forEach(bt=>{at._eventManager.addHandler(this._ngZone,bt,Le,this)}))}handleEvent(rt){"mousedown"===rt.type?this._onMousedown(rt):"touchstart"===rt.type?this._onTouchStart(rt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pe.forEach(Le=>{this._triggerElement.addEventListener(Le,this,Z)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(rt){rt.state===st.FADING_IN?this._startFadeOutTransition(rt):rt.state===st.FADING_OUT&&this._destroyRipple(rt)}_startFadeOutTransition(rt){const Le=rt===this._mostRecentTransientRipple,{persistent:bt}=rt.config;rt.state=st.VISIBLE,!bt&&(!Le||!this._isPointerDown)&&rt.fadeOut()}_destroyRipple(rt){const Le=this._activeRipples.get(rt)??null;this._activeRipples.delete(rt),this._activeRipples.size||(this._containerRect=null),rt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),rt.state=st.HIDDEN,null!==Le&&(rt.element.removeEventListener("transitionend",Le.onTransitionEnd),rt.element.removeEventListener("transitioncancel",Le.onTransitionCancel),null!==Le.fallbackTimer&&clearTimeout(Le.fallbackTimer)),rt.element.remove()}_onMousedown(rt){const Le=(0,A._G)(rt),bt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Le&&!bt&&(this._isPointerDown=!0,this.fadeInRipple(rt.clientX,rt.clientY,this._target.rippleConfig))}_onTouchStart(rt){if(!this._target.rippleDisabled&&!(0,A.w6)(rt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Le=rt.changedTouches;if(Le)for(let bt=0;bt<Le.length;bt++)this.fadeInRipple(Le[bt].clientX,Le[bt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(rt=>{!rt.config.persistent&&(rt.state===st.VISIBLE||rt.config.terminateOnPointerUp&&rt.state===st.FADING_IN)&&rt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const rt=this._triggerElement;rt&&(Fe.forEach(Le=>at._eventManager.removeHandler(Le,rt,this)),this._pointerUpEventsRegistered&&(pe.forEach(Le=>rt.removeEventListener(Le,this,Z)),this._pointerUpEventsRegistered=!1))}}const nn=new d.nKC("mat-ripple-global-options");let Wn=(()=>{class Te{get disabled(){return this._disabled}set disabled(Le){Le&&this.fadeOutAllNonPersistent(),this._disabled=Le,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Le){this._trigger=Le,this._setupTriggerEventsIfEnabled()}constructor(Le,bt,Ft,In,On){this._elementRef=Le,this._animationMode=On,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=In||{},this._rippleRenderer=new at(this,bt,Le,Ft)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Le,bt=0,Ft){return"number"==typeof Le?this._rippleRenderer.fadeInRipple(Le,bt,{...this.rippleConfig,...Ft}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Le})}static#e=this.\u0275fac=function(bt){return new(bt||Te)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(S.OD),d.rXU(nn,8),d.rXU(d.bc$,8))};static#t=this.\u0275dir=d.FsC({type:Te,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(bt,Ft){2&bt&&d.AVh("mat-ripple-unbounded",Ft.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Te})(),vi=(()=>{class Te{static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275mod=d.$C({type:Te});static#n=this.\u0275inj=d.G2t({imports:[se,se]})}return Te})(),sn=(()=>{class Te{constructor(Le){this._animationMode=Le,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(bt){return new(bt||Te)(d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:Te,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(bt,Ft){2&bt&&d.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Ft.state)("mat-pseudo-checkbox-checked","checked"===Ft.state)("mat-pseudo-checkbox-disabled",Ft.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ft.appearance)("mat-pseudo-checkbox-full","full"===Ft.appearance)("_mat-animation-noopable","NoopAnimations"===Ft._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[d.aNF],decls:0,vars:0,template:function(bt,Ft){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Te})(),tn=(()=>{class Te{static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275mod=d.$C({type:Te});static#n=this.\u0275inj=d.G2t({imports:[se]})}return Te})();const xt=new d.nKC("MAT_OPTION_PARENT_COMPONENT");let zt=0;const $t=new d.nKC("MatOptgroup");let vn=(()=>{class Te{constructor(Le){this.disabled=!1,this._labelId="mat-optgroup-label-"+zt++,this._inert=Le?.inertGroups??!1}static#e=this.\u0275fac=function(bt){return new(bt||Te)(d.rXU(xt,8))};static#t=this.\u0275cmp=d.VBU({type:Te,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(bt,Ft){2&bt&&d.BMQ("role",Ft._inert?null:"group")("aria-disabled",Ft._inert?null:Ft.disabled.toString())("aria-labelledby",Ft._inert?null:Ft._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",d.L39]},exportAs:["matOptgroup"],standalone:!0,features:[d.Jv_([{provide:$t,useExisting:Te}]),d.GFd,d.aNF],ngContentSelectors:$,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(bt,Ft){1&bt&&(d.NAR(x),d.j41(0,"span",0)(1,"span",1),d.EFF(2),d.SdG(3),d.k0s()(),d.SdG(4,1)),2&bt&&(d.AVh("mdc-list-item--disabled",Ft.disabled),d.Y8G("id",Ft._labelId),d.R7$(2),d.SpI("",Ft.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color);font-family:var(--mat-optgroup-label-text-font);line-height:var(--mat-optgroup-label-text-line-height);font-size:var(--mat-optgroup-label-text-size);letter-spacing:var(--mat-optgroup-label-text-tracking);font-weight:var(--mat-optgroup-label-text-weight)}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return Te})(),Nn=0;class Ni{constructor(rt,Le=!1){this.source=rt,this.isUserInput=Le}}let Sn=(()=>{class Te{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Le){this._disabled=Le}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Le,bt,Ft,In){this._element=Le,this._changeDetectorRef=bt,this._parent=Ft,this.group=In,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Nn++,this.onSelectionChange=new d.bkB,this._stateChanges=new E.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Le=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Le&&this._emitSelectionChangeEvent())}deselect(Le=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Le&&this._emitSelectionChangeEvent())}focus(Le,bt){const Ft=this._getHostElement();"function"==typeof Ft.focus&&Ft.focus(bt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Le){(Le.keyCode===y.Fm||Le.keyCode===y.t6)&&!(0,y.rp)(Le)&&(this._selectViaInteraction(),Le.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Le=this.viewValue;Le!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Le)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Le=!1){this.onSelectionChange.emit(new Ni(this,Le))}static#e=this.\u0275fac=function(bt){return new(bt||Te)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(xt,8),d.rXU($t,8))};static#t=this.\u0275cmp=d.VBU({type:Te,selectors:[["mat-option"]],viewQuery:function(bt,Ft){if(1&bt&&d.GBs(R,7),2&bt){let In;d.mGM(In=d.lsd())&&(Ft._text=In.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(bt,Ft){1&bt&&d.bIt("click",function(){return Ft._selectViaInteraction()})("keydown",function(On){return Ft._handleKeydown(On)}),2&bt&&(d.Mr5("id",Ft.id),d.BMQ("aria-selected",Ft.selected)("aria-disabled",Ft.disabled.toString()),d.AVh("mdc-list-item--selected",Ft.selected)("mat-mdc-option-multiple",Ft.multiple)("mat-mdc-option-active",Ft.active)("mdc-list-item--disabled",Ft.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",d.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:M,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(bt,Ft){1&bt&&(d.NAR(O),d.DNE(0,L,1,2,"mat-pseudo-checkbox",1),d.SdG(1),d.j41(2,"span",2,0),d.SdG(4,1),d.k0s(),d.DNE(5,z,1,1,"mat-pseudo-checkbox",3)(6,F,2,1,"span",4),d.nrm(7,"div",5)),2&bt&&(d.vxM(Ft.multiple?0:-1),d.R7$(5),d.vxM(Ft.multiple||!Ft.selected||Ft.hideSingleSelectionIndicator?-1:5),d.R7$(),d.vxM(Ft.group&&Ft.group._inert?6:-1),d.R7$(),d.Y8G("matRippleTrigger",Ft._getHostElement())("matRippleDisabled",Ft.disabled||Ft.disableRipple))},dependencies:[sn,Wn],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Te})();function Gn(Te,rt,Le){if(Le.length){let bt=rt.toArray(),Ft=Le.toArray(),In=0;for(let On=0;On<Te+1;On++)bt[On].group&&bt[On].group===Ft[In]&&In++;return In}return 0}function En(Te,rt,Le,bt){return Te<Le?Te:Te+rt>Le+bt?Math.max(0,Te-bt+rt):Le}let Kn=(()=>{class Te{static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275mod=d.$C({type:Te});static#n=this.\u0275inj=d.G2t({imports:[vi,se,tn]})}return Te})();const pt={capture:!0},$e=["focus","mousedown","mouseenter","touchstart"],We="mat-ripple-loader-uninitialized",Be="mat-ripple-loader-class-name",gt="mat-ripple-loader-centered",Zt="mat-ripple-loader-disabled";let gn=(()=>{class Te{constructor(){this._document=(0,d.WQX)(C.qQ,{optional:!0}),this._animationMode=(0,d.WQX)(d.bc$,{optional:!0}),this._globalRippleOptions=(0,d.WQX)(nn,{optional:!0}),this._platform=(0,d.WQX)(S.OD),this._ngZone=(0,d.WQX)(d.SKi),this._hosts=new Map,this._onInteraction=Le=>{const bt=(0,S.Fb)(Le);if(bt instanceof HTMLElement){const Ft=bt.closest(`[${We}="${this._globalRippleOptions?.namespace??""}"]`);Ft&&this._createRipple(Ft)}},this._ngZone.runOutsideAngular(()=>{for(const Le of $e)this._document?.addEventListener(Le,this._onInteraction,pt)})}ngOnDestroy(){const Le=this._hosts.keys();for(const bt of Le)this.destroyRipple(bt);for(const bt of $e)this._document?.removeEventListener(bt,this._onInteraction,pt)}configureRipple(Le,bt){Le.setAttribute(We,this._globalRippleOptions?.namespace??""),(bt.className||!Le.hasAttribute(Be))&&Le.setAttribute(Be,bt.className||""),bt.centered&&Le.setAttribute(gt,""),bt.disabled&&Le.setAttribute(Zt,"")}getRipple(Le){return this._hosts.get(Le)||this._createRipple(Le)}setDisabled(Le,bt){const Ft=this._hosts.get(Le);Ft?Ft.disabled=bt:bt?Le.setAttribute(Zt,""):Le.removeAttribute(Zt)}_createRipple(Le){if(!this._document)return;const bt=this._hosts.get(Le);if(bt)return bt;Le.querySelector(".mat-ripple")?.remove();const Ft=this._document.createElement("span");Ft.classList.add("mat-ripple",Le.getAttribute(Be)),Le.append(Ft);const In=new Wn(new d.aKT(Ft),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return In._isInitialized=!0,In.trigger=Le,In.centered=Le.hasAttribute(gt),In.disabled=Le.hasAttribute(Zt),this.attachRipple(Le,In),In}attachRipple(Le,bt){Le.removeAttribute(We),this._hosts.set(Le,bt)}destroyRipple(Le){const bt=this._hosts.get(Le);bt&&(bt.ngOnDestroy(),this._hosts.delete(Le))}static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275prov=d.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),lt=(()=>{class Te{static#e=this.\u0275fac=function(bt){return new(bt||Te)};static#t=this.\u0275cmp=d.VBU({type:Te,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(bt,Ft){2&bt&&d.AVh("mdc-form-field--align-end","before"===Ft.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[d.aNF],attrs:J,ngContentSelectors:ue,decls:1,vars:0,template:function(bt,Ft){1&bt&&(d.NAR(),d.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Te})()},1977:(dn,Ne,_)=>{"use strict";_.d(Ne,{X6:()=>ii});var d=_(2102),A=_(1570),w=_(9168),D=_(316),C=_(7404),S=_(4175),I=_(4053),E=_(5060),y=_(3119),x=_(2672),$=_(1536),R=_(7405),O=_(4879),M=_(3680),L=_(7699),z=_(9273),F=_(7172);_(4456),_(5944),_(7984);const re=["mat-calendar-body",""];function we(Ge,Mt){return this._trackRow(Mt)}const j=(Ge,Mt)=>Mt.id;function Y(Ge,Mt){if(1&Ge&&(C.j41(0,"tr",0)(1,"td",3),C.EFF(2),C.k0s()()),2&Ge){const ne=C.XpG();C.R7$(),C.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),C.BMQ("colspan",ne.numCols),C.R7$(),C.SpI(" ",ne.label," ")}}function se(Ge,Mt){if(1&Ge&&(C.j41(0,"td",3),C.EFF(1),C.k0s()),2&Ge){const ne=C.XpG(2);C.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),C.BMQ("colspan",ne._firstRowOffset),C.R7$(),C.SpI(" ",ne._firstRowOffset>=ne.labelMinRequiredCells?ne.label:""," ")}}function W(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"td",6)(1,"button",7),C.bIt("click",function(He){const kt=C.eBV(ne).$implicit,Bt=C.XpG(2);return C.Njj(Bt._cellClicked(kt,He))})("focus",function(He){const kt=C.eBV(ne).$implicit,Bt=C.XpG(2);return C.Njj(Bt._emitActiveDateChange(kt,He))}),C.j41(2,"span",8),C.EFF(3),C.k0s(),C.nrm(4,"span",9),C.k0s()()}if(2&Ge){const ne=Mt.$implicit,et=Mt.$index,He=C.XpG().$index,kt=C.XpG();C.xc7("width",kt._cellWidth)("padding-top",kt._cellPadding)("padding-bottom",kt._cellPadding),C.BMQ("data-mat-row",He)("data-mat-col",et),C.R7$(),C.AVh("mat-calendar-body-disabled",!ne.enabled)("mat-calendar-body-active",kt._isActiveCell(He,et))("mat-calendar-body-range-start",kt._isRangeStart(ne.compareValue))("mat-calendar-body-range-end",kt._isRangeEnd(ne.compareValue))("mat-calendar-body-in-range",kt._isInRange(ne.compareValue))("mat-calendar-body-comparison-bridge-start",kt._isComparisonBridgeStart(ne.compareValue,He,et))("mat-calendar-body-comparison-bridge-end",kt._isComparisonBridgeEnd(ne.compareValue,He,et))("mat-calendar-body-comparison-start",kt._isComparisonStart(ne.compareValue))("mat-calendar-body-comparison-end",kt._isComparisonEnd(ne.compareValue))("mat-calendar-body-in-comparison-range",kt._isInComparisonRange(ne.compareValue))("mat-calendar-body-preview-start",kt._isPreviewStart(ne.compareValue))("mat-calendar-body-preview-end",kt._isPreviewEnd(ne.compareValue))("mat-calendar-body-in-preview",kt._isInPreview(ne.compareValue)),C.Y8G("ngClass",ne.cssClasses)("tabindex",kt._isActiveCell(He,et)?0:-1),C.BMQ("aria-label",ne.ariaLabel)("aria-disabled",!ne.enabled||null)("aria-pressed",kt._isSelected(ne.compareValue))("aria-current",kt.todayValue===ne.compareValue?"date":null)("aria-describedby",kt._getDescribedby(ne.compareValue)),C.R7$(),C.AVh("mat-calendar-body-selected",kt._isSelected(ne.compareValue))("mat-calendar-body-comparison-identical",kt._isComparisonIdentical(ne.compareValue))("mat-calendar-body-today",kt.todayValue===ne.compareValue),C.R7$(),C.SpI(" ",ne.displayValue," ")}}function Ce(Ge,Mt){if(1&Ge&&(C.j41(0,"tr",1),C.DNE(1,se,2,6,"td",4),C.Z7z(2,W,5,48,"td",5,j),C.k0s()),2&Ge){const ne=Mt.$implicit,et=Mt.$index,He=C.XpG();C.R7$(),C.vxM(0===et&&He._firstRowOffset?1:-1),C.R7$(),C.Dyx(ne)}}function Q(Ge,Mt){if(1&Ge&&(C.j41(0,"th",2)(1,"span",6),C.EFF(2),C.k0s(),C.j41(3,"span",3),C.EFF(4),C.k0s()()),2&Ge){const ne=Mt.$implicit;C.R7$(2),C.JRh(ne.long),C.R7$(2),C.JRh(ne.narrow)}}const Me=["*"];function Xe(Ge,Mt){}function yt(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-month-view",4),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("_userSelection",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dateSelected(He))})("dragStarted",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dragStarted(He))})("dragEnded",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dragEnded(He))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)("comparisonStart",ne.comparisonStart)("comparisonEnd",ne.comparisonEnd)("startDateAccessibleName",ne.startDateAccessibleName)("endDateAccessibleName",ne.endDateAccessibleName)("activeDrag",ne._activeDrag)}}function Je(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-year-view",5),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("monthSelected",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._monthSelectedInYearView(He))})("selectedChange",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._goToDateInView(He,"month"))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function je(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-multi-year-view",6),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("yearSelected",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._yearSelectedInMultiYearView(He))})("selectedChange",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._goToDateInView(He,"year"))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function X(Ge,Mt){}const oe=["button"],_e=[[["","matDatepickerToggleIcon",""]]],ve=["[matDatepickerToggleIcon]"];function Pe(Ge,Mt){1&Ge&&(C.qSk(),C.j41(0,"svg",2),C.nrm(1,"path",3),C.k0s())}let qt=(()=>{class Ge{constructor(){this.changes=new y.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ne,et){return`${ne} \u2013 ${et}`}formatYearRangeLabel(ne,et){return`${ne} to ${et}`}static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Vt=0;class Tt{constructor(Mt,ne,et,He,kt={},Bt=Mt,Zn){this.value=Mt,this.displayValue=ne,this.ariaLabel=et,this.enabled=He,this.cssClasses=kt,this.compareValue=Bt,this.rawValue=Zn,this.id=Vt++}}let Ot=1;const ft=(0,L.BQ)({passive:!1,capture:!0}),Re=(0,L.BQ)({passive:!0,capture:!0}),Ye=(0,L.BQ)({passive:!0});let vt=(()=>{class Ge{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ne,et){this._elementRef=ne,this._ngZone=et,this._platform=(0,C.WQX)(L.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new C.bkB,this.previewChange=new C.bkB,this.activeDateChange=new C.bkB,this.dragStarted=new C.bkB,this.dragEnded=new C.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,C.WQX)(C.zZn),this._trackRow=He=>He,this._enterHandler=He=>{if(this._skipNextFocus&&"focus"===He.type)this._skipNextFocus=!1;else if(He.target&&this.isRange){const kt=this._getCellFromElement(He.target);kt&&this._ngZone.run(()=>this.previewChange.emit({value:kt.enabled?kt:null,event:He}))}},this._touchmoveHandler=He=>{if(!this.isRange)return;const kt=wt(He),Bt=kt?this._getCellFromElement(kt):null;kt!==He.target&&(this._didDragSinceMouseDown=!0),ot(He.target)&&He.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Bt?.enabled?Bt:null,event:He}))},this._leaveHandler=He=>{null!==this.previewEnd&&this.isRange&&("blur"!==He.type&&(this._didDragSinceMouseDown=!0),He.target&&this._getCellFromElement(He.target)&&(!He.relatedTarget||!this._getCellFromElement(He.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:He})))},this._mousedownHandler=He=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const kt=He.target&&this._getCellFromElement(He.target);!kt||!this._isInRange(kt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:kt.rawValue,event:He})})},this._mouseupHandler=He=>{if(!this.isRange)return;const kt=ot(He.target);kt?kt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Bt=this._getCellFromElement(kt);this.dragEnded.emit({value:Bt?.rawValue??null,event:He})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:He})})},this._touchendHandler=He=>{const kt=wt(He);kt&&this._mouseupHandler({target:kt})},this._id="mat-calendar-body-"+Ot++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,et.runOutsideAngular(()=>{const He=ne.nativeElement;He.addEventListener("touchmove",this._touchmoveHandler,ft),He.addEventListener("mouseenter",this._enterHandler,Re),He.addEventListener("focus",this._enterHandler,Re),He.addEventListener("mouseleave",this._leaveHandler,Re),He.addEventListener("blur",this._leaveHandler,Re),He.addEventListener("mousedown",this._mousedownHandler,Ye),He.addEventListener("touchstart",this._mousedownHandler,Ye),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ne,et){this._didDragSinceMouseDown||ne.enabled&&this.selectedValueChange.emit({value:ne.value,event:et})}_emitActiveDateChange(ne,et){ne.enabled&&this.activeDateChange.emit({value:ne.value,event:et})}_isSelected(ne){return this.startValue===ne||this.endValue===ne}ngOnChanges(ne){const et=ne.numCols,{rows:He,numCols:kt}=this;(ne.rows||et)&&(this._firstRowOffset=He&&He.length&&He[0].length?kt-He[0].length:0),(ne.cellAspectRatio||et||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/kt+"%"),(et||!this._cellWidth)&&(this._cellWidth=100/kt+"%")}ngOnDestroy(){const ne=this._elementRef.nativeElement;ne.removeEventListener("touchmove",this._touchmoveHandler,ft),ne.removeEventListener("mouseenter",this._enterHandler,Re),ne.removeEventListener("focus",this._enterHandler,Re),ne.removeEventListener("mouseleave",this._leaveHandler,Re),ne.removeEventListener("blur",this._leaveHandler,Re),ne.removeEventListener("mousedown",this._mousedownHandler,Ye),ne.removeEventListener("touchstart",this._mousedownHandler,Ye),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ne,et){let He=ne*this.numCols+et;return ne&&(He-=this._firstRowOffset),He==this.activeCell}_focusActiveCell(ne=!0){(0,C.mal)(()=>{setTimeout(()=>{const et=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");et&&(ne||(this._skipNextFocus=!0),et.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ne){return st(ne,this.startValue,this.endValue)}_isRangeEnd(ne){return Nt(ne,this.startValue,this.endValue)}_isInRange(ne){return Ut(ne,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ne){return st(ne,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ne,et,He){if(!this._isComparisonStart(ne)||this._isRangeStart(ne)||!this._isInRange(ne))return!1;let kt=this.rows[et][He-1];if(!kt){const Bt=this.rows[et-1];kt=Bt&&Bt[Bt.length-1]}return kt&&!this._isRangeEnd(kt.compareValue)}_isComparisonBridgeEnd(ne,et,He){if(!this._isComparisonEnd(ne)||this._isRangeEnd(ne)||!this._isInRange(ne))return!1;let kt=this.rows[et][He+1];if(!kt){const Bt=this.rows[et+1];kt=Bt&&Bt[0]}return kt&&!this._isRangeStart(kt.compareValue)}_isComparisonEnd(ne){return Nt(ne,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ne){return Ut(ne,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ne){return this.comparisonStart===this.comparisonEnd&&ne===this.comparisonStart}_isPreviewStart(ne){return st(ne,this.previewStart,this.previewEnd)}_isPreviewEnd(ne){return Nt(ne,this.previewStart,this.previewEnd)}_isInPreview(ne){return Ut(ne,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ne){return this.isRange?this.startValue===ne&&this.endValue===ne?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ne?this._startDateLabelId:this.endValue===ne?this._endDateLabelId:null:null}_getCellFromElement(ne){const et=ot(ne);if(et){const He=et.getAttribute("data-mat-row"),kt=et.getAttribute("data-mat-col");if(He&&kt)return this.rows[parseInt(He)][parseInt(kt)]}return null}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.aKT),C.rXU(C.SKi))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[C.OA$,C.aNF],attrs:re,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(et,He){1&et&&(C.DNE(0,Y,3,6,"tr",0),C.Z7z(1,Ce,4,1,"tr",1,we,!0),C.j41(3,"label",2),C.EFF(4),C.k0s(),C.j41(5,"label",2),C.EFF(6),C.k0s()),2&et&&(C.vxM(He._firstRowOffset<He.labelMinRequiredCells?0:-1),C.R7$(),C.Dyx(He.rows),C.R7$(2),C.Y8G("id",He._startDateLabelId),C.R7$(),C.SpI(" ",He.startDateAccessibleName,"\n"),C.R7$(),C.Y8G("id",He._endDateLabelId),C.R7$(),C.SpI(" ",He.endDateAccessibleName,"\n"))},dependencies:[D.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return Ge})();function It(Ge){return"TD"===Ge?.nodeName}function ot(Ge){let Mt;return It(Ge)?Mt=Ge:It(Ge.parentNode)?Mt=Ge.parentNode:It(Ge.parentNode?.parentNode)&&(Mt=Ge.parentNode.parentNode),null!=Mt?.getAttribute("data-mat-row")?Mt:null}function st(Ge,Mt,ne){return null!==ne&&Mt!==ne&&Ge<ne&&Ge===Mt}function Nt(Ge,Mt,ne){return null!==Mt&&Mt!==ne&&Ge>=Mt&&Ge===ne}function Ut(Ge,Mt,ne,et){return et&&null!==Mt&&null!==ne&&Mt!==ne&&Ge>=Mt&&Ge<=ne}function wt(Ge){const Mt=Ge.changedTouches[0];return document.elementFromPoint(Mt.clientX,Mt.clientY)}class ct{constructor(Mt,ne){this.start=Mt,this.end=ne}}let ut=(()=>{class Ge{constructor(ne,et){this.selection=ne,this._adapter=et,this._selectionChanged=new y.B7,this.selectionChanged=this._selectionChanged,this.selection=ne}updateSelection(ne,et){const He=this.selection;this.selection=ne,this._selectionChanged.next({selection:ne,source:et,oldValue:He})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ne){return this._adapter.isDateInstance(ne)&&this._adapter.isValid(ne)}static#e=this.\u0275fac=function(et){C.QTQ()};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})(),Z=(()=>{class Ge extends ut{constructor(ne){super(null,ne)}add(ne){super.updateSelection(ne,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ne=new Ge(this._adapter);return ne.updateSelection(this.selection,this),ne}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.KVO(E.MJ))};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const at={provide:ut,deps:[[new C.Xx1,new C.kdw,ut],E.MJ],useFactory:function pe(Ge,Mt){return Ge||new Z(Mt)}},Wn=new C.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let zt=0,$t=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){const et=this._activeDate,He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._hasSameMonthAndYear(et,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ct?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He,kt,Bt){this._changeDetectorRef=ne,this._dateFormats=et,this._dateAdapter=He,this._dir=kt,this._rangeStrategy=Bt,this._rerenderSubscription=x.y.EMPTY,this.activeDrag=null,this.selectedChange=new C.bkB,this._userSelection=new C.bkB,this.dragStarted=new C.bkB,this.dragEnded=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnChanges(ne){const et=ne.comparisonStart||ne.comparisonEnd;et&&!et.firstChange&&this._setRanges(this.selected),ne.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ne){const et=ne.value,He=this._getDateFromDayOfMonth(et);let kt,Bt;this._selected instanceof ct?(kt=this._getDateInCurrentMonth(this._selected.start),Bt=this._getDateInCurrentMonth(this._selected.end)):kt=Bt=this._getDateInCurrentMonth(this._selected),(kt!==et||Bt!==et)&&this.selectedChange.emit(He),this._userSelection.emit({value:He,event:ne.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case O.w_:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case O.dB:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case O.Fm:case O.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ne.preventDefault());case O._f:return void(null!=this._previewEnd&&!(0,O.rp)(ne)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ne}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ne})),ne.preventDefault(),ne.stopPropagation()));default:return}this._dateAdapter.compareDate(et,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ne)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ne){this._matCalendarBody._focusActiveCell(ne)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ne,value:et}){if(this._rangeStrategy){const He=et?et.rawValue:null,kt=this._rangeStrategy.createPreview(He,this.selected,ne);if(this._previewStart=this._getCellCompareValue(kt.start),this._previewEnd=this._getCellCompareValue(kt.end),this.activeDrag&&He){const Bt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,He,ne);Bt&&(this._previewStart=this._getCellCompareValue(Bt.start),this._previewEnd=this._getCellCompareValue(Bt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ne){if(this.activeDrag)if(ne.value){const et=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ne.value,ne.event);this.dragEnded.emit({value:et??null,event:ne.event})}else this.dragEnded.emit({value:null,event:ne.event})}_getDateFromDayOfMonth(ne){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ne)}_initWeekdays(){const ne=this._dateAdapter.getFirstDayOfWeek(),et=this._dateAdapter.getDayOfWeekNames("narrow");let kt=this._dateAdapter.getDayOfWeekNames("long").map((Bt,Zn)=>({long:Bt,narrow:et[Zn],id:zt++}));this._weekdays=kt.slice(ne).concat(kt.slice(0,ne))}_createWeekCells(){const ne=this._dateAdapter.getNumDaysInMonth(this.activeDate),et=this._dateAdapter.getDateNames();this._weeks=[[]];for(let He=0,kt=this._firstWeekOffset;He<ne;He++,kt++){7==kt&&(this._weeks.push([]),kt=0);const Bt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),He+1),Zn=this._shouldEnableDate(Bt),Li=this._dateAdapter.format(Bt,this._dateFormats.display.dateA11yLabel),lr=this.dateClass?this.dateClass(Bt,"month"):void 0;this._weeks[this._weeks.length-1].push(new Tt(He+1,et[He],Li,Zn,lr,this._getCellCompareValue(Bt),Bt))}}_shouldEnableDate(ne){return!!ne&&(!this.minDate||this._dateAdapter.compareDate(ne,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ne,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ne))}_getDateInCurrentMonth(ne){return ne&&this._hasSameMonthAndYear(ne,this.activeDate)?this._dateAdapter.getDate(ne):null}_hasSameMonthAndYear(ne,et){return!(!ne||!et||this._dateAdapter.getMonth(ne)!=this._dateAdapter.getMonth(et)||this._dateAdapter.getYear(ne)!=this._dateAdapter.getYear(et))}_getCellCompareValue(ne){if(ne){const et=this._dateAdapter.getYear(ne),He=this._dateAdapter.getMonth(ne),kt=this._dateAdapter.getDate(ne);return new Date(et,He,kt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ne){ne instanceof ct?(this._rangeStart=this._getCellCompareValue(ne.start),this._rangeEnd=this._getCellCompareValue(ne.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ne),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ne){return!this.dateFilter||this.dateFilter(ne)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.de,8),C.rXU(E.MJ,8),C.rXU(M.dS,8),C.rXU(Wn,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-month-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[C.OA$,C.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.Z7z(3,Q,5,2,"th",2,j),C.k0s(),C.j41(5,"tr",3),C.nrm(6,"th",4),C.k0s()(),C.j41(7,"tbody",5),C.bIt("selectedValueChange",function(Bt){return He._dateSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("previewChange",function(Bt){return He._previewChanged(Bt)})("dragStarted",function(Bt){return He.dragStarted.emit(Bt)})("dragEnded",function(Bt){return He._dragEnded(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(3),C.Dyx(He._weekdays),C.R7$(4),C.Y8G("label",He._monthLabel)("rows",He._weeks)("todayValue",He._todayDate)("startValue",He._rangeStart)("endValue",He._rangeEnd)("comparisonStart",He._comparisonRangeStart)("comparisonEnd",He._comparisonRangeEnd)("previewStart",He._previewStart)("previewEnd",He._previewEnd)("isRange",He._isRange)("labelMinRequiredCells",3)("activeCell",He._dateAdapter.getDate(He.activeDate)-1)("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})();const vn=24;let Ni=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){let et=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),Sn(this._dateAdapter,et,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ct?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedYear(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He){this._changeDetectorRef=ne,this._dateAdapter=et,this._dir=He,this._rerenderSubscription=x.y.EMPTY,this.selectedChange=new C.bkB,this.yearSelected=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const et=this._dateAdapter.getYear(this._activeDate)-Gn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let He=0,kt=[];He<vn;He++)kt.push(et+He),4==kt.length&&(this._years.push(kt.map(Bt=>this._createCellForYear(Bt))),kt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ne){const et=ne.value,He=this._dateAdapter.createDate(et,0,1),kt=this._getDateFromYear(et);this.yearSelected.emit(He),this.selectedChange.emit(kt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromYear(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,vn-Gn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case O.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*-vn:-vn);break;case O.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*vn:vn);break;case O.Fm:case O.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(et,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_getActiveCell(){return Gn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ne){const et=this._dateAdapter.getMonth(this.activeDate),He=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ne,et,1));return this._dateAdapter.createDate(ne,et,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForYear(ne){const et=this._dateAdapter.createDate(ne,0,1),He=this._dateAdapter.getYearName(et),kt=this.dateClass?this.dateClass(et,"multi-year"):void 0;return new Tt(ne,He,He,this._shouldEnableYear(ne),kt)}_shouldEnableYear(ne){if(null==ne||this.maxDate&&ne>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ne<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let He=this._dateAdapter.createDate(ne,0,1);this._dateAdapter.getYear(He)==ne;He=this._dateAdapter.addCalendarDays(He,1))if(this.dateFilter(He))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ne){if(this._selectedYear=null,ne instanceof ct){const et=ne.start||ne.end;et&&(this._selectedYear=this._dateAdapter.getYear(et))}else ne&&(this._selectedYear=this._dateAdapter.getYear(ne))}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.MJ,8),C.rXU(M.dS,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-multi-year-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[C.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.nrm(3,"th",2),C.k0s()(),C.j41(4,"tbody",3),C.bIt("selectedValueChange",function(Bt){return He._yearSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(4),C.Y8G("rows",He._years)("todayValue",He._todayYear)("startValue",He._selectedYear)("endValue",He._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._getActiveCell()))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})();function Sn(Ge,Mt,ne,et,He){const kt=Ge.getYear(Mt),Bt=Ge.getYear(ne),Zn=En(Ge,et,He);return Math.floor((kt-Zn)/vn)===Math.floor((Bt-Zn)/vn)}function Gn(Ge,Mt,ne,et){return function Kn(Ge,Mt){return(Ge%Mt+Mt)%Mt}(Ge.getYear(Mt)-En(Ge,ne,et),vn)}function En(Ge,Mt,ne){let et=0;return ne?et=Ge.getYear(ne)-vn+1:Mt&&(et=Ge.getYear(Mt)),et}let pt=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){let et=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._dateAdapter.getYear(et)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ct?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedMonth(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He,kt){this._changeDetectorRef=ne,this._dateFormats=et,this._dateAdapter=He,this._dir=kt,this._rerenderSubscription=x.y.EMPTY,this.selectedChange=new C.bkB,this.monthSelected=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ne){const et=ne.value,He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),et,1);this.monthSelected.emit(He);const kt=this._getDateFromMonth(et);this.selectedChange.emit(kt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case O.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?-10:-1);break;case O.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10:1);break;case O.Fm:case O.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(et,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ne=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(et=>et.map(He=>this._createCellForMonth(He,ne[He]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ne){return ne&&this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ne):null}_getDateFromMonth(ne){const et=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),He=this._dateAdapter.getNumDaysInMonth(et);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForMonth(ne,et){const He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),kt=this._dateAdapter.format(He,this._dateFormats.display.monthYearA11yLabel),Bt=this.dateClass?this.dateClass(He,"year"):void 0;return new Tt(ne,et.toLocaleUpperCase(),kt,this._shouldEnableMonth(ne),Bt)}_shouldEnableMonth(ne){const et=this._dateAdapter.getYear(this.activeDate);if(null==ne||this._isYearAndMonthAfterMaxDate(et,ne)||this._isYearAndMonthBeforeMinDate(et,ne))return!1;if(!this.dateFilter)return!0;for(let kt=this._dateAdapter.createDate(et,ne,1);this._dateAdapter.getMonth(kt)==ne;kt=this._dateAdapter.addCalendarDays(kt,1))if(this.dateFilter(kt))return!0;return!1}_isYearAndMonthAfterMaxDate(ne,et){if(this.maxDate){const He=this._dateAdapter.getYear(this.maxDate),kt=this._dateAdapter.getMonth(this.maxDate);return ne>He||ne===He&&et>kt}return!1}_isYearAndMonthBeforeMinDate(ne,et){if(this.minDate){const He=this._dateAdapter.getYear(this.minDate),kt=this._dateAdapter.getMonth(this.minDate);return ne<He||ne===He&&et<kt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ne){this._selectedMonth=ne instanceof ct?this._getMonthInCurrentYear(ne.start)||this._getMonthInCurrentYear(ne.end):this._getMonthInCurrentYear(ne)}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.de,8),C.rXU(E.MJ,8),C.rXU(M.dS,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-year-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[C.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.nrm(3,"th",2),C.k0s()(),C.j41(4,"tbody",3),C.bIt("selectedValueChange",function(Bt){return He._monthSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(4),C.Y8G("label",He._yearLabel)("rows",He._months)("todayValue",He._todayMonth)("startValue",He._selectedMonth)("endValue",He._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._dateAdapter.getMonth(He.activeDate)))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})(),$e=1,We=(()=>{class Ge{constructor(ne,et,He,kt,Bt){this._intl=ne,this.calendar=et,this._dateAdapter=He,this._dateFormats=kt,this._id="mat-calendar-header-"+$e++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Bt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-vn)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:vn)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ne,et){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(et)&&this._dateAdapter.getMonth(ne)==this._dateAdapter.getMonth(et):"year"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(et):Sn(this._dateAdapter,ne,et,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const et=this._dateAdapter.getYear(this.calendar.activeDate)-Gn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),He=et+vn-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(et,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(He,0,1))]}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(qt),C.rXU((0,C.Rfq)(()=>Be)),C.rXU(E.MJ,8),C.rXU(E.de,8),C.rXU(C.gRc))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[C.aNF],ngContentSelectors:Me,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(et,He){1&et&&(C.NAR(),C.j41(0,"div",0)(1,"div",1)(2,"label",2),C.EFF(3),C.k0s(),C.j41(4,"button",3),C.bIt("click",function(){return He.currentPeriodClicked()}),C.j41(5,"span",4),C.EFF(6),C.k0s(),C.qSk(),C.j41(7,"svg",5),C.nrm(8,"polygon",6),C.k0s()(),C.joV(),C.nrm(9,"div",7),C.SdG(10),C.j41(11,"button",8),C.bIt("click",function(){return He.previousClicked()}),C.k0s(),C.j41(12,"button",9),C.bIt("click",function(){return He.nextClicked()}),C.k0s()()()),2&et&&(C.R7$(2),C.Y8G("id",He._periodButtonLabelId),C.R7$(),C.JRh(He.periodButtonDescription),C.R7$(),C.BMQ("aria-label",He.periodButtonLabel)("aria-describedby",He._periodButtonLabelId),C.R7$(2),C.JRh(He.periodButtonText),C.R7$(),C.AVh("mat-calendar-invert","month"!==He.calendar.currentView),C.R7$(4),C.Y8G("disabled",!He.previousEnabled()),C.BMQ("aria-label",He.prevButtonLabel),C.R7$(),C.Y8G("disabled",!He.nextEnabled()),C.BMQ("aria-label",He.nextButtonLabel))},dependencies:[S.$z,S.iY],encapsulation:2,changeDetection:0})}return Ge})(),Be=(()=>{class Ge{get startAt(){return this._startAt}set startAt(ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ct?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get activeDate(){return this._clampedActiveDate}set activeDate(ne){this._clampedActiveDate=this._dateAdapter.clampDate(ne,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ne){const et=this._currentView!==ne?ne:null;this._currentView=ne,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),et&&this.viewChanged.emit(et)}constructor(ne,et,He,kt){this._dateAdapter=et,this._dateFormats=He,this._changeDetectorRef=kt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new C.bkB,this.yearSelected=new C.bkB,this.monthSelected=new C.bkB,this.viewChanged=new C.bkB(!0),this._userSelection=new C.bkB,this._userDragDrop=new C.bkB,this._activeDrag=null,this.stateChanges=new y.B7,this._intlChanges=ne.changes.subscribe(()=>{kt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new w.A8(this.headerComponent||We),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ne){const et=ne.minDate&&!this._dateAdapter.sameDate(ne.minDate.previousValue,ne.minDate.currentValue)?ne.minDate:void 0,He=ne.maxDate&&!this._dateAdapter.sameDate(ne.maxDate.previousValue,ne.maxDate.currentValue)?ne.maxDate:void 0,kt=et||He||ne.dateFilter;if(kt&&!kt.firstChange){const Bt=this._getCurrentViewComponent();Bt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),Bt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ne){const et=ne.value;(this.selected instanceof ct||et&&!this._dateAdapter.sameDate(et,this.selected))&&this.selectedChange.emit(et),this._userSelection.emit(ne)}_yearSelectedInMultiYearView(ne){this.yearSelected.emit(ne)}_monthSelectedInYearView(ne){this.monthSelected.emit(ne)}_goToDateInView(ne,et){this.activeDate=ne,this.currentView=et}_dragStarted(ne){this._activeDrag=ne}_dragEnded(ne){this._activeDrag&&(ne.value&&this._userDragDrop.emit(ne),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(qt),C.rXU(E.MJ,8),C.rXU(E.de,8),C.rXU(C.gRc))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-calendar"]],viewQuery:function(et,He){if(1&et&&(C.GBs($t,5),C.GBs(pt,5),C.GBs(Ni,5)),2&et){let kt;C.mGM(kt=C.lsd())&&(He.monthView=kt.first),C.mGM(kt=C.lsd())&&(He.yearView=kt.first),C.mGM(kt=C.lsd())&&(He.multiYearView=kt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[C.Jv_([at]),C.OA$,C.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(et,He){if(1&et&&(C.DNE(0,Xe,0,0,"ng-template",0),C.j41(1,"div",1),C.DNE(2,yt,1,11,"mat-month-view",2)(3,Je,1,6,"mat-year-view",3)(4,je,1,6,"mat-multi-year-view",3),C.k0s()),2&et){let kt;C.Y8G("cdkPortalOutlet",He._calendarHeaderPortal),C.R7$(2),C.vxM("month"===(kt=He.currentView)?2:"year"===kt?3:"multi-year"===kt?4:-1)}},dependencies:[w.I3,d.vR,$t,pt,Ni],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Ge})();const gt={transformPanel:(0,F.hZ)("transformPanel",[(0,F.kY)("void => enter-dropdown",(0,F.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,F.i7)([(0,F.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,F.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,F.kY)("void => enter-dialog",(0,F.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,F.i7)([(0,F.iF)({opacity:0,transform:"scale(0.7)"}),(0,F.iF)({transform:"none",opacity:1})]))),(0,F.kY)("* => void",(0,F.i0)("100ms linear",(0,F.iF)({opacity:0})))]),fadeInCalendar:(0,F.hZ)("fadeInCalendar",[(0,F.wk)("void",(0,F.iF)({opacity:0})),(0,F.wk)("enter",(0,F.iF)({opacity:1})),(0,F.kY)("void => *",(0,F.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Te={provide:new C.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const Ge=(0,C.WQX)(A.hJ);return()=>Ge.scrollStrategies.reposition()}}),deps:[A.hJ],useFactory:function lt(Ge){return()=>Ge.scrollStrategies.reposition()}};let rt=(()=>{class Ge{constructor(ne,et,He,kt,Bt,Zn){this._elementRef=ne,this._changeDetectorRef=et,this._globalModel=He,this._dateAdapter=kt,this._rangeSelectionStrategy=Bt,this._subscriptions=new x.y,this._animationDone=new y.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Zn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ne){const et=this._model.selection,He=ne.value,kt=et instanceof ct;if(kt&&this._rangeSelectionStrategy){const Bt=this._rangeSelectionStrategy.selectionFinished(He,et,ne.event);this._model.updateSelection(Bt,this)}else He&&(kt||!this._dateAdapter.sameDate(He,et))&&this._model.add(He);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ne){this._model.updateSelection(ne.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ne){this._isAnimating="start"===ne.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ne,et){this._model=ne?this._globalModel.clone():this._globalModel,this._actionsPortal=ne,et&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.aKT),C.rXU(C.gRc),C.rXU(ut),C.rXU(E.MJ),C.rXU(Wn,8),C.rXU(qt))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-datepicker-content"]],viewQuery:function(et,He){if(1&et&&C.GBs(Be,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._calendar=kt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(et,He){1&et&&C.Kam("@transformPanel.start",function(Bt){return He._handleAnimationEvent(Bt)})("@transformPanel.done",function(Bt){return He._handleAnimationEvent(Bt)}),2&et&&(C.zvX("@transformPanel",He._animationState),C.HbH(He.color?"mat-"+He.color:""),C.AVh("mat-datepicker-content-touch",He.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[C.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(et,He){if(1&et&&(C.j41(0,"div",0)(1,"mat-calendar",1),C.bIt("yearSelected",function(Bt){return He.datepicker._selectYear(Bt)})("monthSelected",function(Bt){return He.datepicker._selectMonth(Bt)})("viewChanged",function(Bt){return He.datepicker._viewChanged(Bt)})("_userSelection",function(Bt){return He._handleUserSelection(Bt)})("_userDragDrop",function(Bt){return He._handleUserDragDrop(Bt)}),C.k0s(),C.DNE(2,X,0,0,"ng-template",2),C.j41(3,"button",3),C.bIt("focus",function(){return He._closeButtonFocused=!0})("blur",function(){return He._closeButtonFocused=!1})("click",function(){return He.datepicker.close()}),C.EFF(4),C.k0s()()),2&et){let kt;C.AVh("mat-datepicker-content-container-with-custom-header",He.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",He._actionsPortal),C.BMQ("aria-modal",!0)("aria-labelledby",null!==(kt=He._dialogLabelId)&&void 0!==kt?kt:void 0),C.R7$(),C.HbH(He.datepicker.panelClass),C.Y8G("id",He.datepicker.id)("startAt",He.datepicker.startAt)("startView",He.datepicker.startView)("minDate",He.datepicker._getMinDate())("maxDate",He.datepicker._getMaxDate())("dateFilter",He.datepicker._getDateFilter())("headerComponent",He.datepicker.calendarHeaderComponent)("selected",He._getSelected())("dateClass",He.datepicker.dateClass)("comparisonStart",He.comparisonStart)("comparisonEnd",He.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName),C.R7$(),C.Y8G("cdkPortalOutlet",He._actionsPortal),C.R7$(),C.AVh("cdk-visually-hidden",!He._closeButtonFocused),C.Y8G("color",He.color||"primary"),C.R7$(),C.JRh(He._closeButtonText)}},dependencies:[d.kB,Be,w.I3,S.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[gt.transformPanel,gt.fadeInCalendar]},changeDetection:0})}return Ge})(),Ci=(()=>{class Ge{static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275dir=C.FsC({type:Ge,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return Ge})(),Gi=(()=>{class Ge{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ne){this._disabled=ne}constructor(ne,et,He){this._intl=ne,this._changeDetectorRef=et,this._stateChanges=x.y.EMPTY;const kt=Number(He);this.tabIndex=kt||0===kt?kt:null}ngOnChanges(ne){ne.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ne){this.datepicker&&!this.disabled&&(this.datepicker.open(),ne.stopPropagation())}_watchStateChanges(){const ne=this.datepicker?this.datepicker.stateChanges:(0,$.of)(),et=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,$.of)(),He=this.datepicker?(0,R.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,$.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,R.h)(this._intl.changes,ne,et,He).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(qt),C.rXU(C.gRc),C.kS0("tabindex"))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-datepicker-toggle"]],contentQueries:function(et,He,kt){if(1&et&&C.wni(kt,Ci,5),2&et){let Bt;C.mGM(Bt=C.lsd())&&(He._customIcon=Bt.first)}},viewQuery:function(et,He){if(1&et&&C.GBs(oe,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._button=kt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(et,He){1&et&&C.bIt("click",function(Bt){return He._open(Bt)}),2&et&&(C.BMQ("tabindex",null)("data-mat-calendar",He.datepicker?He.datepicker.id:null),C.AVh("mat-datepicker-toggle-active",He.datepicker&&He.datepicker.opened)("mat-accent",He.datepicker&&"accent"===He.datepicker.color)("mat-warn",He.datepicker&&"warn"===He.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",C.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[C.GFd,C.OA$,C.aNF],ngContentSelectors:ve,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(et,He){1&et&&(C.NAR(_e),C.j41(0,"button",1,0),C.DNE(2,Pe,2,0,":svg:svg",2),C.SdG(3),C.k0s()),2&et&&(C.Y8G("disabled",He.disabled)("disableRipple",He.disableRipple),C.BMQ("aria-haspopup",He.datepicker?"dialog":null)("aria-label",He.ariaLabel||He._intl.openCalendarLabel)("tabindex",He.disabled?-1:He.tabIndex),C.R7$(2),C.vxM(He._customIcon?-1:2))},dependencies:[S.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ge})(),ii=(()=>{class Ge{static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275mod=C.$C({type:Ge});static#n=this.\u0275inj=C.G2t({providers:[qt,Te],imports:[D.MD,S.Hl,A.z_,d.Pd,w.jc,E.yE,rt,Gi,We,I.Gj]})}return Ge})()},2587:(dn,Ne,_)=>{"use strict";_.d(Ne,{BI:()=>Pt,CP:()=>Me,Vh:()=>yt,bZ:()=>ve,hM:()=>Ot,tx:()=>Ve});var d=_(1570),A=_(316),w=_(7404),D=_(2102),C=_(3482),S=_(2814),I=_(9168),E=_(3119),y=_(7405),x=_(6965),$=_(8627),R=_(3602),O=_(9273),M=_(4879),z=(_(4053),_(5060));function J(Ye,vt){}_(7172);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ce="mdc-dialog--open",re="mdc-dialog--opening",we="mdc-dialog--closing";let se=(()=>{class Ye extends C.sU{constructor(It,ot,st,Nt,Ut,wt,ct,ut,Z){super(It,ot,st,Nt,Ut,wt,ct,Z),this._animationMode=ut,this._animationStateChanged=new w.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ce(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ce(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(W,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(re,ce)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ce),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ce),this._animationsEnabled?(this._hostElement.style.setProperty(W,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(we)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(It){this._actionSectionCount+=It,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(re,we)}_waitForAnimationToComplete(It,ot){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ot,It)}_requestAnimationFrame(It){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(It):It()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(It){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:It})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(It){const ot=super.attachComponentPortal(It);return ot.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ot}static#e=this.\u0275fac=function(ot){return new(ot||Ye)(w.rXU(w.aKT),w.rXU(D.GX),w.rXU(A.qQ,8),w.rXU(ue),w.rXU(D.Z7),w.rXU(w.SKi),w.rXU(d.yY),w.rXU(w.bc$,8),w.rXU(D.FN))};static#t=this.\u0275cmp=w.VBU({type:Ye,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ot,st){2&ot&&(w.Mr5("id",st._config.id),w.BMQ("aria-modal",st._config.ariaModal)("role",st._config.role)("aria-labelledby",st._config.ariaLabel?null:st._ariaLabelledByQueue[0])("aria-label",st._config.ariaLabel)("aria-describedby",st._config.ariaDescribedBy||null),w.AVh("_mat-animation-noopable",!st._animationsEnabled)("mat-mdc-dialog-container-with-actions",st._actionSectionCount>0))},standalone:!0,features:[w.Vt3,w.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ot,st){1&ot&&(w.j41(0,"div",0)(1,"div",1),w.DNE(2,J,0,0,"ng-template",2),w.k0s()())},dependencies:[I.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Ye})();const W="--mat-dialog-transition-duration";function Ce(Ye){return null==Ye?null:"number"==typeof Ye?Ye:Ye.endsWith("ms")?(0,S.OE)(Ye.substring(0,Ye.length-2)):Ye.endsWith("s")?1e3*(0,S.OE)(Ye.substring(0,Ye.length-1)):"0"===Ye?0:null}var Q=function(Ye){return Ye[Ye.OPEN=0]="OPEN",Ye[Ye.CLOSING=1]="CLOSING",Ye[Ye.CLOSED=2]="CLOSED",Ye}(Q||{});class Me{constructor(vt,It,ot){this._ref=vt,this._containerInstance=ot,this._afterOpened=new E.B7,this._beforeClosed=new E.B7,this._state=Q.OPEN,this.disableClose=It.disableClose,this.id=vt.id,vt.addPanelClass("mat-mdc-dialog-panel"),ot._animationStateChanged.pipe((0,$.p)(st=>"opened"===st.state),(0,R.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ot._animationStateChanged.pipe((0,$.p)(st=>"closed"===st.state),(0,R.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),vt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,y.h)(this.backdropClick(),this.keydownEvents().pipe((0,$.p)(st=>st.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(st)))).subscribe(st=>{this.disableClose||(st.preventDefault(),Xe(this,"keydown"===st.type?"keyboard":"mouse"))})}close(vt){this._result=vt,this._containerInstance._animationStateChanged.pipe((0,$.p)(It=>"closing"===It.state),(0,R.s)(1)).subscribe(It=>{this._beforeClosed.next(vt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),It.totalTime+100)}),this._state=Q.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(vt){let It=this._ref.config.positionStrategy;return vt&&(vt.left||vt.right)?vt.left?It.left(vt.left):It.right(vt.right):It.centerHorizontally(),vt&&(vt.top||vt.bottom)?vt.top?It.top(vt.top):It.bottom(vt.bottom):It.centerVertically(),this._ref.updatePosition(),this}updateSize(vt="",It=""){return this._ref.updateSize(vt,It),this}addPanelClass(vt){return this._ref.addPanelClass(vt),this}removePanelClass(vt){return this._ref.removePanelClass(vt),this}getState(){return this._state}_finishDialogClose(){this._state=Q.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Xe(Ye,vt,It){return Ye._closeInteractionType=vt,Ye.close(It)}const yt=new w.nKC("MatMdcDialogData"),Je=new w.nKC("mat-mdc-dialog-default-options"),je=new w.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Ye=(0,w.WQX)(d.hJ);return()=>Ye.scrollStrategies.block()}});let _e=0,ve=(()=>{class Ye{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const It=this._parentDialog;return It?It._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(It,ot,st,Nt,Ut,wt,ct,ut){this._overlay=It,this._defaultOptions=Nt,this._scrollStrategy=Ut,this._parentDialog=wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.B7,this._afterOpenedAtThisLevel=new E.B7,this.dialogConfigClass=ue,this.afterAllClosed=(0,x.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,O.Z)(void 0))),this._dialog=ot.get(C.lG),this._dialogRefConstructor=Me,this._dialogContainerType=se,this._dialogDataToken=yt}open(It,ot){let st;(ot={...this._defaultOptions||new ue,...ot}).id=ot.id||"mat-mdc-dialog-"+_e++,ot.scrollStrategy=ot.scrollStrategy||this._scrollStrategy();const Nt=this._dialog.open(It,{...ot,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ot},{provide:C.Pe,useValue:ot}]},templateContext:()=>({dialogRef:st}),providers:(Ut,wt,ct)=>(st=new this._dialogRefConstructor(Ut,ot,ct),st.updatePosition(ot?.position),[{provide:this._dialogContainerType,useValue:ct},{provide:this._dialogDataToken,useValue:wt.data},{provide:this._dialogRefConstructor,useValue:st}])});return st.componentRef=Nt.componentRef,st.componentInstance=Nt.componentInstance,this.openDialogs.push(st),this.afterOpened.next(st),st.afterClosed().subscribe(()=>{const Ut=this.openDialogs.indexOf(st);Ut>-1&&(this.openDialogs.splice(Ut,1),this.openDialogs.length||this._getAfterAllClosed().next())}),st}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(It){return this.openDialogs.find(ot=>ot.id===It)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(It){let ot=It.length;for(;ot--;)It[ot].close()}static#e=this.\u0275fac=function(ot){return new(ot||Ye)(w.KVO(d.hJ),w.KVO(w.zZn),w.KVO(A.aZ,8),w.KVO(Je,8),w.KVO(je),w.KVO(Ye,12),w.KVO(d.Sf),w.KVO(w.bc$,8))};static#t=this.\u0275prov=w.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})(),Pe=0,Ve=(()=>{class Ye{constructor(It,ot,st){this.dialogRef=It,this._elementRef=ot,this._dialog=st,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Vt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(It){const ot=It._matDialogClose||It._matDialogCloseResult;ot&&(this.dialogResult=ot.currentValue)}_onButtonClick(It){Xe(this.dialogRef,0===It.screenX&&0===It.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(ot){return new(ot||Ye)(w.rXU(Me,8),w.rXU(w.aKT),w.rXU(ve))};static#t=this.\u0275dir=w.FsC({type:Ye,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ot,st){1&ot&&w.bIt("click",function(Ut){return st._onButtonClick(Ut)}),2&ot&&w.BMQ("aria-label",st.ariaLabel||null)("type",st.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[w.OA$]})}return Ye})(),Qe=(()=>{class Ye{constructor(It,ot,st){this._dialogRef=It,this._elementRef=ot,this._dialog=st}ngOnInit(){this._dialogRef||(this._dialogRef=Vt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(ot){return new(ot||Ye)(w.rXU(Me,8),w.rXU(w.aKT),w.rXU(ve))};static#t=this.\u0275dir=w.FsC({type:Ye,standalone:!0})}return Ye})(),Pt=(()=>{class Ye extends Qe{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Pe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let It;return function(st){return(It||(It=w.xGo(Ye)))(st||Ye)}})();static#t=this.\u0275dir=w.FsC({type:Ye,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ot,st){2&ot&&w.Mr5("id",st.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[w.Vt3]})}return Ye})();function Vt(Ye,vt){let It=Ye.nativeElement.parentElement;for(;It&&!It.classList.contains("mat-mdc-dialog-container");)It=It.parentElement;return It?vt.find(ot=>ot.id===It.id):null}let Ot=(()=>{class Ye{static#e=this.\u0275fac=function(ot){return new(ot||Ye)};static#t=this.\u0275mod=w.$C({type:Ye});static#n=this.\u0275inj=w.G2t({providers:[ve],imports:[C.Ph,d.z_,I.jc,z.yE,z.yE]})}return Ye})()},5944:(dn,Ne,_)=>{"use strict";_.d(Ne,{xb:()=>vi,TL:()=>ft,rl:()=>Nn,qT:()=>at,RG:()=>Ni,MV:()=>Ye,JW:()=>It,yw:()=>st});var d=_(7404),A=_(3680),w=_(2814),D=_(7699),C=_(316),S=_(2672),I=_(3119),E=_(7405),y=_(7464),x=_(434),$=_(8627),R=_(7841);class M{constructor(Gn){this._box=Gn,this._destroyed=new I.B7,this._resizeSubject=new I.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(En=>this._resizeSubject.next(En)))}observe(Gn){return this._elementObservables.has(Gn)||this._elementObservables.set(Gn,new x.c(En=>{const Kn=this._resizeSubject.subscribe(En);return this._resizeObserver?.observe(Gn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Gn),Kn.unsubscribe(),this._elementObservables.delete(Gn)}}).pipe((0,$.p)(En=>En.some(Kn=>Kn.target===Gn)),(0,R.t)({bufferSize:1,refCount:!0}),(0,y.Q)(this._destroyed))),this._elementObservables.get(Gn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let L=(()=>{class Sn{constructor(){this._observers=new Map,this._ngZone=(0,d.WQX)(d.SKi)}ngOnDestroy(){for(const[,En]of this._observers)En.destroy();this._observers.clear()}observe(En,Kn){const pt=Kn?.box||"content-box";return this._observers.has(pt)||this._observers.set(pt,new M(pt)),this._observers.get(pt).observe(En)}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275prov=d.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}return Sn})();var z=_(7172),F=_(9539),J=_(5060);const ue=["notch"],ce=["matFormFieldNotchedOutline",""],re=["*"],we=["textField"],j=["iconPrefixContainer"],Y=["textPrefixContainer"],se=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],W=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ce(Sn,Gn){1&Sn&&d.nrm(0,"span",19)}function Q(Sn,Gn){if(1&Sn&&(d.j41(0,"label",18),d.SdG(1,1),d.DNE(2,Ce,1,0,"span",19),d.k0s()),2&Sn){const En=d.XpG(2);d.Y8G("floating",En._shouldLabelFloat())("monitorResize",En._hasOutline())("id",En._labelId),d.BMQ("for",En._control.disableAutomaticLabeling?null:En._control.id),d.R7$(2),d.vxM(!En.hideRequiredMarker&&En._control.required?2:-1)}}function Me(Sn,Gn){if(1&Sn&&d.DNE(0,Q,3,5,"label",18),2&Sn){const En=d.XpG();d.vxM(En._hasFloatingLabel()?0:-1)}}function Xe(Sn,Gn){1&Sn&&d.nrm(0,"div",5)}function yt(Sn,Gn){}function Je(Sn,Gn){if(1&Sn&&d.DNE(0,yt,0,0,"ng-template",11),2&Sn){d.XpG(2);const En=d.sdS(1);d.Y8G("ngTemplateOutlet",En)}}function je(Sn,Gn){if(1&Sn&&(d.j41(0,"div",7),d.DNE(1,Je,1,1,null,11),d.k0s()),2&Sn){const En=d.XpG();d.Y8G("matFormFieldNotchedOutlineOpen",En._shouldLabelFloat()),d.R7$(),d.vxM(En._forceDisplayInfixLabel()?-1:1)}}function X(Sn,Gn){1&Sn&&(d.j41(0,"div",8,2),d.SdG(2,2),d.k0s())}function oe(Sn,Gn){1&Sn&&(d.j41(0,"div",9,3),d.SdG(2,3),d.k0s())}function _e(Sn,Gn){}function ve(Sn,Gn){if(1&Sn&&d.DNE(0,_e,0,0,"ng-template",11),2&Sn){d.XpG();const En=d.sdS(1);d.Y8G("ngTemplateOutlet",En)}}function Pe(Sn,Gn){1&Sn&&(d.j41(0,"div",12),d.SdG(1,4),d.k0s())}function Ve(Sn,Gn){1&Sn&&(d.j41(0,"div",13),d.SdG(1,5),d.k0s())}function Qe(Sn,Gn){1&Sn&&d.nrm(0,"div",14)}function Pt(Sn,Gn){if(1&Sn&&(d.j41(0,"div",16),d.SdG(1,6),d.k0s()),2&Sn){const En=d.XpG();d.Y8G("@transitionMessages",En._subscriptAnimationState)}}function Se(Sn,Gn){if(1&Sn&&(d.j41(0,"mat-hint",20),d.EFF(1),d.k0s()),2&Sn){const En=d.XpG(2);d.Y8G("id",En._hintLabelId),d.R7$(),d.JRh(En.hintLabel)}}function qt(Sn,Gn){if(1&Sn&&(d.j41(0,"div",17),d.DNE(1,Se,2,2,"mat-hint",20),d.SdG(2,7),d.nrm(3,"div",21),d.SdG(4,8),d.k0s()),2&Sn){const En=d.XpG();d.Y8G("@transitionMessages",En._subscriptAnimationState),d.R7$(),d.vxM(En.hintLabel?1:-1)}}let Vt=(()=>{class Sn{static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["mat-label"]],standalone:!0})}return Sn})(),Tt=0;const Ot=new d.nKC("MatError");let ft=(()=>{class Sn{constructor(En,Kn){this.id="mat-mdc-error-"+Tt++,En||Kn.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)(d.kS0("aria-live"),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Kn,pt){2&Kn&&d.Mr5("id",pt.id)},inputs:{id:"id"},standalone:!0,features:[d.Jv_([{provide:Ot,useExisting:Sn}])]})}return Sn})(),Re=0,Ye=(()=>{class Sn{constructor(){this.align="start",this.id="mat-mdc-hint-"+Re++}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Kn,pt){2&Kn&&(d.Mr5("id",pt.id),d.BMQ("align",null),d.AVh("mat-mdc-form-field-hint-end","end"===pt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Sn})();const vt=new d.nKC("MatPrefix");let It=(()=>{class Sn{constructor(){this._isText=!1}set _isTextSelector(En){this._isText=!0}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[d.Jv_([{provide:vt,useExisting:Sn}])]})}return Sn})();const ot=new d.nKC("MatSuffix");let st=(()=>{class Sn{constructor(){this._isText=!1}set _isTextSelector(En){this._isText=!0}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[d.Jv_([{provide:ot,useExisting:Sn}])]})}return Sn})();const Nt=new d.nKC("FloatingLabelParent");let Ut=(()=>{class Sn{get floating(){return this._floating}set floating(En){this._floating=En,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(En){this._monitorResize=En,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(En){this._elementRef=En,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.WQX)(L),this._ngZone=(0,d.WQX)(d.SKi),this._parent=(0,d.WQX)(Nt),this._resizeSubscription=new S.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function wt(Sn){if(null!==Sn.offsetParent)return Sn.scrollWidth;const En=Sn.cloneNode(!0);En.style.setProperty("position","absolute"),En.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(En);const Kn=En.scrollWidth;return En.remove(),Kn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Kn,pt){2&Kn&&d.AVh("mdc-floating-label--float-above",pt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Sn})();const ct="mdc-line-ripple--active",ut="mdc-line-ripple--deactivating";let Z=(()=>{class Sn{constructor(En,Kn){this._elementRef=En,this._handleTransitionEnd=pt=>{const $e=this._elementRef.nativeElement.classList,We=$e.contains(ut);"opacity"===pt.propertyName&&We&&$e.remove(ct,ut)},Kn.runOutsideAngular(()=>{En.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const En=this._elementRef.nativeElement.classList;En.remove(ut),En.add(ct)}deactivate(){this._elementRef.nativeElement.classList.add(ut)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:Sn,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Sn})(),Fe=(()=>{class Sn{constructor(En,Kn){this._elementRef=En,this._ngZone=Kn,this.open=!1}ngAfterViewInit(){const En=this._elementRef.nativeElement.querySelector(".mdc-floating-label");En?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(En.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>En.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(En){this._notch.nativeElement.style.width=this.open&&En?`calc(${En}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275cmp=d.VBU({type:Sn,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Kn,pt){if(1&Kn&&d.GBs(ue,5),2&Kn){let $e;d.mGM($e=d.lsd())&&(pt._notch=$e.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Kn,pt){2&Kn&&d.AVh("mdc-notched-outline--notched",pt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[d.aNF],attrs:ce,ngContentSelectors:re,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Kn,pt){1&Kn&&(d.NAR(),d.nrm(0,"div",1),d.j41(1,"div",2,0),d.SdG(3),d.k0s(),d.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Sn})();const pe={transitionMessages:(0,z.hZ)("transitionMessages",[(0,z.wk)("enter",(0,z.iF)({opacity:1,transform:"translateY(0%)"})),(0,z.kY)("void => enter",[(0,z.iF)({opacity:0,transform:"translateY(-5px)"}),(0,z.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let at=(()=>{class Sn{static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275dir=d.FsC({type:Sn})}return Sn})();const vi=new d.nKC("MatFormField"),sn=new d.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let tn=0,Nn=(()=>{class Sn{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(En){this._hideRequiredMarker=(0,w.he)(En)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(En){En!==this._floatLabel&&(this._floatLabel=En,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(En){const Kn=this._appearance;this._appearance=En||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Kn&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(En){this._subscriptSizing=En||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(En){this._hintLabel=En,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(En){this._explicitFormFieldControl=En}constructor(En,Kn,pt,$e,We,Be,gt,Zt){this._elementRef=En,this._changeDetectorRef=Kn,this._dir=$e,this._platform=We,this._defaults=Be,this._animationMode=gt,this._labelChild=(0,d.sbv)(Vt),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+tn++,this._hintLabelId="mat-mdc-hint-"+tn++,this._subscriptAnimationState="",this._destroyed=new I.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,d.WQX)(d.zZn),this.getLabelId=(0,d.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,d.EWP)(()=>!!this._labelChild()),Be&&(Be.appearance&&(this.appearance=Be.appearance),this._hideRequiredMarker=!!Be?.hideRequiredMarker,Be.color&&(this.color=Be.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const En=this._control;En.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${En.controlType}`),En.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),En.ngControl&&En.ngControl.valueChanges&&En.ngControl.valueChanges.pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(En=>!En._isText),this._hasTextPrefix=!!this._prefixChildren.find(En=>En._isText),this._hasIconSuffix=!!this._suffixChildren.find(En=>!En._isText),this._hasTextSuffix=!!this._suffixChildren.find(En=>En._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,E.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,d.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(En){const Kn=this._control?this._control.ngControl:null;return Kn&&Kn[En]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let En=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&En.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Kn=this._hintChildren?this._hintChildren.find($e=>"start"===$e.align):null,pt=this._hintChildren?this._hintChildren.find($e=>"end"===$e.align):null;Kn?En.push(Kn.id):this._hintLabel&&En.push(this._hintLabelId),pt&&En.push(pt.id)}else this._errorChildren&&En.push(...this._errorChildren.map(Kn=>Kn.id));this._control.setDescribedByIds(En)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const En=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(En.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Kn=this._iconPrefixContainer?.nativeElement,pt=this._textPrefixContainer?.nativeElement,$e=Kn?.getBoundingClientRect().width??0,We=pt?.getBoundingClientRect().width??0;En.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${$e+We}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const En=this._elementRef.nativeElement;if(En.getRootNode){const Kn=En.getRootNode();return Kn&&Kn!==En}return document.documentElement.contains(En)}static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(A.dS),d.rXU(D.OD),d.rXU(sn,8),d.rXU(d.bc$,8),d.rXU(C.qQ))};static#t=this.\u0275cmp=d.VBU({type:Sn,selectors:[["mat-form-field"]],contentQueries:function(Kn,pt,$e){if(1&Kn&&(d.C6U($e,pt._labelChild,Vt,5),d.wni($e,at,5),d.wni($e,vt,5),d.wni($e,ot,5),d.wni($e,Ot,5),d.wni($e,Ye,5)),2&Kn){let We;d.NyB(),d.mGM(We=d.lsd())&&(pt._formFieldControl=We.first),d.mGM(We=d.lsd())&&(pt._prefixChildren=We),d.mGM(We=d.lsd())&&(pt._suffixChildren=We),d.mGM(We=d.lsd())&&(pt._errorChildren=We),d.mGM(We=d.lsd())&&(pt._hintChildren=We)}},viewQuery:function(Kn,pt){if(1&Kn&&(d.GBs(we,5),d.GBs(j,5),d.GBs(Y,5),d.GBs(Ut,5),d.GBs(Fe,5),d.GBs(Z,5)),2&Kn){let $e;d.mGM($e=d.lsd())&&(pt._textField=$e.first),d.mGM($e=d.lsd())&&(pt._iconPrefixContainer=$e.first),d.mGM($e=d.lsd())&&(pt._textPrefixContainer=$e.first),d.mGM($e=d.lsd())&&(pt._floatingLabel=$e.first),d.mGM($e=d.lsd())&&(pt._notchedOutline=$e.first),d.mGM($e=d.lsd())&&(pt._lineRipple=$e.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Kn,pt){2&Kn&&d.AVh("mat-mdc-form-field-label-always-float",pt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",pt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",pt._hasIconSuffix)("mat-form-field-invalid",pt._control.errorState)("mat-form-field-disabled",pt._control.disabled)("mat-form-field-autofilled",pt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===pt._animationMode)("mat-form-field-appearance-fill","fill"==pt.appearance)("mat-form-field-appearance-outline","outline"==pt.appearance)("mat-form-field-hide-placeholder",pt._hasFloatingLabel()&&!pt._shouldLabelFloat())("mat-focused",pt._control.focused)("mat-primary","accent"!==pt.color&&"warn"!==pt.color)("mat-accent","accent"===pt.color)("mat-warn","warn"===pt.color)("ng-untouched",pt._shouldForward("untouched"))("ng-touched",pt._shouldForward("touched"))("ng-pristine",pt._shouldForward("pristine"))("ng-dirty",pt._shouldForward("dirty"))("ng-valid",pt._shouldForward("valid"))("ng-invalid",pt._shouldForward("invalid"))("ng-pending",pt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[d.Jv_([{provide:vi,useExisting:Sn},{provide:Nt,useExisting:Sn}]),d.aNF],ngContentSelectors:W,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Kn,pt){if(1&Kn){const $e=d.RV6();d.NAR(se),d.DNE(0,Me,1,1,"ng-template",null,0,d.C5r),d.j41(2,"div",4,1),d.bIt("click",function(Be){return d.eBV($e),d.Njj(pt._control.onContainerClick(Be))}),d.DNE(4,Xe,1,0,"div",5),d.j41(5,"div",6),d.DNE(6,je,2,2,"div",7)(7,X,3,0,"div",8)(8,oe,3,0,"div",9),d.j41(9,"div",10),d.DNE(10,ve,1,1,null,11),d.SdG(11),d.k0s(),d.DNE(12,Pe,2,0,"div",12)(13,Ve,2,0,"div",13),d.k0s(),d.DNE(14,Qe,1,0,"div",14),d.k0s(),d.j41(15,"div",15),d.DNE(16,Pt,2,1,"div",16)(17,qt,5,2,"div",17),d.k0s()}if(2&Kn){let $e;d.R7$(2),d.AVh("mdc-text-field--filled",!pt._hasOutline())("mdc-text-field--outlined",pt._hasOutline())("mdc-text-field--no-label",!pt._hasFloatingLabel())("mdc-text-field--disabled",pt._control.disabled)("mdc-text-field--invalid",pt._control.errorState),d.R7$(2),d.vxM(pt._hasOutline()||pt._control.disabled?-1:4),d.R7$(2),d.vxM(pt._hasOutline()?6:-1),d.R7$(),d.vxM(pt._hasIconPrefix?7:-1),d.R7$(),d.vxM(pt._hasTextPrefix?8:-1),d.R7$(2),d.vxM(!pt._hasOutline()||pt._forceDisplayInfixLabel()?10:-1),d.R7$(2),d.vxM(pt._hasTextSuffix?12:-1),d.R7$(),d.vxM(pt._hasIconSuffix?13:-1),d.R7$(),d.vxM(pt._hasOutline()?-1:14),d.R7$(),d.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===pt.subscriptSizing),d.R7$(),d.vxM("error"===($e=pt._getDisplayedMessages())?16:"hint"===$e?17:-1)}},dependencies:[Ut,Fe,C.T3,Z,Ye],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[pe.transitionMessages]},changeDetection:0})}return Sn})(),Ni=(()=>{class Sn{static#e=this.\u0275fac=function(Kn){return new(Kn||Sn)};static#t=this.\u0275mod=d.$C({type:Sn});static#n=this.\u0275inj=d.G2t({imports:[J.yE,C.MD,F.w5,J.yE]})}return Sn})()},7984:(dn,Ne,_)=>{"use strict";_.d(Ne,{Oh:()=>L,fg:()=>J,fS:()=>ue});var d=_(2814),A=_(7699),w=_(7404),D=_(4380),C=_(3119);const S=(0,A.BQ)({passive:!0});let I=(()=>{class ce{constructor(we,j){this._platform=we,this._ngZone=j,this._monitoredElements=new Map}monitor(we){if(!this._platform.isBrowser)return D.w;const j=(0,d.i8)(we),Y=this._monitoredElements.get(j);if(Y)return Y.subject;const se=new C.B7,W="cdk-text-field-autofilled",Ce=Q=>{"cdk-text-field-autofill-start"!==Q.animationName||j.classList.contains(W)?"cdk-text-field-autofill-end"===Q.animationName&&j.classList.contains(W)&&(j.classList.remove(W),this._ngZone.run(()=>se.next({target:Q.target,isAutofilled:!1}))):(j.classList.add(W),this._ngZone.run(()=>se.next({target:Q.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{j.addEventListener("animationstart",Ce,S),j.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(j,{subject:se,unlisten:()=>{j.removeEventListener("animationstart",Ce,S)}}),se}stopMonitoring(we){const j=(0,d.i8)(we),Y=this._monitoredElements.get(j);Y&&(Y.unlisten(),Y.subject.complete(),j.classList.remove("cdk-text-field-autofill-monitored"),j.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(j))}ngOnDestroy(){this._monitoredElements.forEach((we,j)=>this.stopMonitoring(j))}static#e=this.\u0275fac=function(j){return new(j||ce)(w.KVO(A.OD),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),x=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=w.$C({type:ce});static#n=this.\u0275inj=w.G2t({})}return ce})();var $=_(4456),R=_(5060),O=_(5944);const L=new w.nKC("MAT_INPUT_VALUE_ACCESSOR"),z=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F=0,J=(()=>{class ce{get disabled(){return this._disabled}set disabled(we){this._disabled=(0,d.he)(we),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(we){this._id=we||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator($.k0.required)??!1}set required(we){this._required=(0,d.he)(we)}get type(){return this._type}set type(we){this._type=we||"text",this._validateType(),!this._isTextarea&&(0,A.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(we){this._errorStateTracker.matcher=we}get value(){return this._inputValueAccessor.value}set value(we){we!==this.value&&(this._inputValueAccessor.value=we,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(we){this._readonly=(0,d.he)(we)}get errorState(){return this._errorStateTracker.errorState}set errorState(we){this._errorStateTracker.errorState=we}constructor(we,j,Y,se,W,Ce,Q,Me,Xe,yt){this._elementRef=we,this._platform=j,this.ngControl=Y,this._autofillMonitor=Me,this._ngZone=Xe,this._formField=yt,this._uid="mat-input-"+F++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new C.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>(0,A.MU)().has(X)),this._iOSKeyupListener=X=>{const oe=X.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const Je=this._elementRef.nativeElement,je=Je.nodeName.toLowerCase();this._inputValueAccessor=Q||Je,this._previousNativeValue=this.value,this.id=this.id,j.IOS&&Xe.runOutsideAngular(()=>{we.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new R.X0(Ce,Y,W,se,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===je,this._isTextarea="textarea"===je,this._isInFormField=!!yt,this._isNativeSelect&&(this.controlType=Je.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(we=>{this.autofilled=we.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(we){this._elementRef.nativeElement.focus(we)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(we){we!==this.focused&&(this.focused=we,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const we=this._elementRef.nativeElement.value;this._previousNativeValue!==we&&(this._previousNativeValue=we,this.stateChanges.next())}_dirtyCheckPlaceholder(){const we=this._getPlaceholder();if(we!==this._previousPlaceholder){const j=this._elementRef.nativeElement;this._previousPlaceholder=we,we?j.setAttribute("placeholder",we):j.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){z.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let we=this._elementRef.nativeElement.validity;return we&&we.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const we=this._elementRef.nativeElement,j=we.options[0];return this.focused||we.multiple||!this.empty||!!(we.selectedIndex>-1&&j&&j.label)}return this.focused||!this.empty}setDescribedByIds(we){we.length?this._elementRef.nativeElement.setAttribute("aria-describedby",we.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const we=this._elementRef.nativeElement;return this._isNativeSelect&&(we.multiple||we.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(j){return new(j||ce)(w.rXU(w.aKT),w.rXU(A.OD),w.rXU($.vO,10),w.rXU($.cV,8),w.rXU($.j4,8),w.rXU(R.es),w.rXU(L,10),w.rXU(I),w.rXU(w.SKi),w.rXU(O.xb,8))};static#t=this.\u0275dir=w.FsC({type:ce,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(j,Y){1&j&&w.bIt("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&j&&(w.Mr5("id",Y.id)("disabled",Y.disabled)("required",Y.required),w.BMQ("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),w.AVh("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[w.Jv_([{provide:O.qT,useExisting:ce}]),w.OA$]})}return ce})(),ue=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=w.$C({type:ce});static#n=this.\u0275inj=w.G2t({imports:[R.yE,O.RG,O.RG,x,R.yE]})}return ce})()},1034:(dn,Ne,_)=>{"use strict";_.d(Ne,{Cn:()=>Ye,Cp:()=>Re,fb:()=>Xe,kk:()=>Se});var d=_(7404),A=_(2102),w=_(4879),D=_(3119),C=_(7405),S=_(2672),I=_(1536),E=_(2800),y=_(9273),x=_(1963),$=_(7464),R=_(8627),O=_(3602),M=_(9277),L=_(316),z=_(5060),F=_(9168),J=_(7172),ue=_(3680),ce=_(1570),re=_(7699),we=_(4053);const j=["mat-menu-item",""],Y=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],se=["mat-icon, [matMenuItemIcon]","*"];function W(vt,It){1&vt&&(d.qSk(),d.j41(0,"svg",2),d.nrm(1,"polygon",3),d.k0s())}const Ce=["*"];function Q(vt,It){if(1&vt){const ot=d.RV6();d.j41(0,"div",0),d.bIt("keydown",function(Nt){d.eBV(ot);const Ut=d.XpG();return d.Njj(Ut._handleKeydown(Nt))})("click",function(){d.eBV(ot);const Nt=d.XpG();return d.Njj(Nt.closed.emit("click"))})("@transformMenu.start",function(Nt){d.eBV(ot);const Ut=d.XpG();return d.Njj(Ut._onAnimationStart(Nt))})("@transformMenu.done",function(Nt){d.eBV(ot);const Ut=d.XpG();return d.Njj(Ut._onAnimationDone(Nt))}),d.j41(1,"div",1),d.SdG(2),d.k0s()()}if(2&vt){const ot=d.XpG();d.HbH(ot._classList),d.Y8G("id",ot.panelId)("@transformMenu",ot._panelAnimationState),d.BMQ("aria-label",ot.ariaLabel||null)("aria-labelledby",ot.ariaLabelledby||null)("aria-describedby",ot.ariaDescribedby||null)}}const Me=new d.nKC("MAT_MENU_PANEL");let Xe=(()=>{class vt{constructor(ot,st,Nt,Ut,wt){this._elementRef=ot,this._document=st,this._focusMonitor=Nt,this._parentMenu=Ut,this._changeDetectorRef=wt,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new D.B7,this._focused=new D.B7,this._highlighted=!1,this._triggersSubmenu=!1,Ut?.addItem?.(this)}focus(ot,st){this._focusMonitor&&ot?this._focusMonitor.focusVia(this._getHostElement(),ot,st):this._getHostElement().focus(st),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ot){this.disabled&&(ot.preventDefault(),ot.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ot=this._elementRef.nativeElement.cloneNode(!0),st=ot.querySelectorAll("mat-icon, .material-icons");for(let Nt=0;Nt<st.length;Nt++)st[Nt].remove();return ot.textContent?.trim()||""}_setHighlighted(ot){this._highlighted=ot,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ot){this._triggersSubmenu=ot,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(st){return new(st||vt)(d.rXU(d.aKT),d.rXU(L.qQ),d.rXU(A.FN),d.rXU(Me,8),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(st,Nt){1&st&&d.bIt("click",function(wt){return Nt._checkDisabled(wt)})("mouseenter",function(){return Nt._handleMouseEnter()}),2&st&&(d.BMQ("role",Nt.role)("tabindex",Nt._getTabIndex())("aria-disabled",Nt.disabled)("disabled",Nt.disabled||null),d.AVh("mat-mdc-menu-item-highlighted",Nt._highlighted)("mat-mdc-menu-item-submenu-trigger",Nt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39]},exportAs:["matMenuItem"],standalone:!0,features:[d.GFd,d.aNF],attrs:j,ngContentSelectors:se,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(st,Nt){1&st&&(d.NAR(Y),d.SdG(0),d.j41(1,"span",0),d.SdG(2,1),d.k0s(),d.nrm(3,"div",1),d.DNE(4,W,2,0,":svg:svg",2)),2&st&&(d.R7$(3),d.Y8G("matRippleDisabled",Nt.disableRipple||Nt.disabled)("matRippleTrigger",Nt._getHostElement()),d.R7$(),d.vxM(Nt._triggersSubmenu?4:-1))},dependencies:[z.r6],encapsulation:2,changeDetection:0})}return vt})();const X=new d.nKC("MatMenuContent"),_e={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ve=0;const Qe=new d.nKC("mat-menu-default-options",{providedIn:"root",factory:function Pt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Se=(()=>{class vt{get xPosition(){return this._xPosition}set xPosition(ot){this._xPosition=ot,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ot){this._yPosition=ot,this.setPositionClasses()}set panelClass(ot){const st=this._previousPanelClass,Nt={...this._classList};st&&st.length&&st.split(" ").forEach(Ut=>{Nt[Ut]=!1}),this._previousPanelClass=ot,ot&&ot.length&&(ot.split(" ").forEach(Ut=>{Nt[Ut]=!0}),this._elementRef.nativeElement.className=""),this._classList=Nt}get classList(){return this.panelClass}set classList(ot){this.panelClass=ot}constructor(ot,st,Nt,Ut){this._elementRef=ot,this._changeDetectorRef=Ut,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new d.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new D.B7,this.closed=new d.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Ve++,this._injector=(0,d.WQX)(d.zZn),this.overlayPanelClass=Nt.overlayPanelClass||"",this._xPosition=Nt.xPosition,this._yPosition=Nt.yPosition,this.backdropClass=Nt.backdropClass,this.overlapTrigger=Nt.overlapTrigger,this.hasBackdrop=Nt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new A.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,y.Z)(this._directDescendantItems),(0,x.n)(ot=>(0,C.h)(...ot.map(st=>st._focused)))).subscribe(ot=>this._keyManager.updateActiveItem(ot)),this._directDescendantItems.changes.subscribe(ot=>{const st=this._keyManager;if("enter"===this._panelAnimationState&&st.activeItem?._hasFocus()){const Nt=ot.toArray(),Ut=Math.max(0,Math.min(Nt.length-1,st.activeItemIndex||0));Nt[Ut]&&!Nt[Ut].disabled?st.setActiveItem(Ut):st.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,y.Z)(this._directDescendantItems),(0,x.n)(st=>(0,C.h)(...st.map(Nt=>Nt._hovered))))}addItem(ot){}removeItem(ot){}_handleKeydown(ot){const st=ot.keyCode,Nt=this._keyManager;switch(st){case w._f:(0,w.rp)(ot)||(ot.preventDefault(),this.closed.emit("keydown"));break;case w.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case w.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(st===w.i7||st===w.n6)&&Nt.setFocusOrigin("keyboard"),void Nt.onKeydown(ot)}ot.stopPropagation()}focusFirstItem(ot="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,d.mal)(()=>{let st=null;if(this._directDescendantItems.length&&(st=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!st||!st.contains(document.activeElement)){const Nt=this._keyManager;Nt.setFocusOrigin(ot).setFirstItemActive(),!Nt.activeItem&&st&&st.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ot){if(null===this._baseElevation){const ct=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(ct)}const st=Math.min(this._baseElevation+ot,24),Nt=`${this._elevationPrefix}${st}`,Ut=Object.keys(this._classList).find(wt=>wt.startsWith(this._elevationPrefix));if(!Ut||Ut===this._previousElevation){const wt={...this._classList};this._previousElevation&&(wt[this._previousElevation]=!1),wt[Nt]=!0,this._previousElevation=Nt,this._classList=wt}}setPositionClasses(ot=this.xPosition,st=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ot,"mat-menu-after":"after"===ot,"mat-menu-above":"above"===st,"mat-menu-below":"below"===st},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ot){this._animationDone.next(ot),this._isAnimating=!1}_onAnimationStart(ot){this._isAnimating=!0,"enter"===ot.toState&&0===this._keyManager.activeItemIndex&&(ot.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,y.Z)(this._allItems)).subscribe(ot=>{this._directDescendantItems.reset(ot.filter(st=>st._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(st){return new(st||vt)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(Qe),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["mat-menu"]],contentQueries:function(st,Nt,Ut){if(1&st&&(d.wni(Ut,X,5),d.wni(Ut,Xe,5),d.wni(Ut,Xe,4)),2&st){let wt;d.mGM(wt=d.lsd())&&(Nt.lazyContent=wt.first),d.mGM(wt=d.lsd())&&(Nt._allItems=wt),d.mGM(wt=d.lsd())&&(Nt.items=wt)}},viewQuery:function(st,Nt){if(1&st&&d.GBs(d.C4Q,5),2&st){let Ut;d.mGM(Ut=d.lsd())&&(Nt.templateRef=Ut.first)}},hostVars:3,hostBindings:function(st,Nt){2&st&&d.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",d.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ot=>null==ot?null:(0,d.L39)(ot)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[d.Jv_([{provide:Me,useExisting:vt}]),d.GFd,d.aNF],ngContentSelectors:Ce,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(st,Nt){1&st&&(d.NAR(),d.DNE(0,Q,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[_e.transformMenu,_e.fadeInItems]},changeDetection:0})}return vt})();const qt=new d.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const vt=(0,d.WQX)(ce.hJ);return()=>vt.scrollStrategies.reposition()}}),Tt={provide:qt,deps:[ce.hJ],useFactory:function Vt(vt){return()=>vt.scrollStrategies.reposition()}},Ot=(0,re.BQ)({passive:!0});let Re=(()=>{class vt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ot){this.menu=ot}get menu(){return this._menu}set menu(ot){ot!==this._menu&&(this._menu=ot,this._menuCloseSubscription.unsubscribe(),ot&&(this._menuCloseSubscription=ot.close.subscribe(st=>{this._destroyMenu(st),("click"===st||"tab"===st)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(st)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ot,st,Nt,Ut,wt,ct,ut,Z,Fe){this._overlay=ot,this._element=st,this._viewContainerRef=Nt,this._menuItemInstance=ct,this._dir=ut,this._focusMonitor=Z,this._ngZone=Fe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=S.y.EMPTY,this._hoverSubscription=S.y.EMPTY,this._menuCloseSubscription=S.y.EMPTY,this._changeDetectorRef=(0,d.WQX)(d.gRc),this._handleTouchStart=pe=>{(0,A.w6)(pe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ut,this._parentMaterialMenu=wt instanceof Se?wt:void 0,st.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ot)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ot),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ot=this.menu;if(this._menuOpen||!ot)return;const st=this._createOverlay(ot),Nt=st.getConfig(),Ut=Nt.positionStrategy;this._setPosition(ot,Ut),Nt.hasBackdrop=null==ot.hasBackdrop?!this.triggersSubmenu():ot.hasBackdrop,st.attach(this._getPortal(ot)),ot.lazyContent&&ot.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ot),ot instanceof Se&&(ot._startAnimation(),ot._directDescendantItems.changes.pipe((0,$.Q)(ot.close)).subscribe(()=>{Ut.withLockedPosition(!1).reapplyLastPosition(),Ut.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ot,st){this._focusMonitor&&ot?this._focusMonitor.focusVia(this._element,ot,st):this._element.nativeElement.focus(st)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ot){if(!this._overlayRef||!this.menuOpen)return;const st=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ot||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,st instanceof Se?(st._resetAnimation(),st.lazyContent?st._animationDone.pipe((0,R.p)(Nt=>"void"===Nt.toState),(0,O.s)(1),(0,$.Q)(st.lazyContent._attached)).subscribe({next:()=>st.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),st?.lazyContent?.detach())}_initMenu(ot){ot.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ot.direction=this.dir,this._setMenuElevation(ot),ot.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ot){if(ot.setElevation){let st=0,Nt=ot.parentMenu;for(;Nt;)st++,Nt=Nt.parentMenu;ot.setElevation(st)}}_setIsMenuOpen(ot){ot!==this._menuOpen&&(this._menuOpen=ot,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ot),this._changeDetectorRef.markForCheck())}_createOverlay(ot){if(!this._overlayRef){const st=this._getOverlayConfig(ot);this._subscribeToPositions(ot,st.positionStrategy),this._overlayRef=this._overlay.create(st),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ot){return new ce.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ot.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ot.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ot,st){ot.setPositionClasses&&st.positionChanges.subscribe(Nt=>{const Ut="start"===Nt.connectionPair.overlayX?"after":"before",wt="top"===Nt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ot.setPositionClasses(Ut,wt)):ot.setPositionClasses(Ut,wt)})}_setPosition(ot,st){let[Nt,Ut]="before"===ot.xPosition?["end","start"]:["start","end"],[wt,ct]="above"===ot.yPosition?["bottom","top"]:["top","bottom"],[ut,Z]=[wt,ct],[Fe,pe]=[Nt,Ut],at=0;if(this.triggersSubmenu()){if(pe=Nt="before"===ot.xPosition?"start":"end",Ut=Fe="end"===Nt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Gt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Gt?Gt._getHostElement().offsetTop:0}at="bottom"===wt?this._parentInnerPadding:-this._parentInnerPadding}}else ot.overlapTrigger||(ut="top"===wt?"bottom":"top",Z="top"===ct?"bottom":"top");st.withPositions([{originX:Nt,originY:ut,overlayX:Fe,overlayY:wt,offsetY:at},{originX:Ut,originY:ut,overlayX:pe,overlayY:wt,offsetY:at},{originX:Nt,originY:Z,overlayX:Fe,overlayY:ct,offsetY:-at},{originX:Ut,originY:Z,overlayX:pe,overlayY:ct,offsetY:-at}])}_menuClosingActions(){const ot=this._overlayRef.backdropClick(),st=this._overlayRef.detachments(),Nt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,I.of)(),Ut=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,R.p)(wt=>wt!==this._menuItemInstance),(0,R.p)(()=>this._menuOpen)):(0,I.of)();return(0,C.h)(ot,Nt,Ut,st)}_handleMousedown(ot){(0,A._G)(ot)||(this._openedBy=0===ot.button?"mouse":void 0,this.triggersSubmenu()&&ot.preventDefault())}_handleKeydown(ot){const st=ot.keyCode;(st===w.Fm||st===w.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(st===w.LE&&"ltr"===this.dir||st===w.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ot){this.triggersSubmenu()?(ot.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,R.p)(ot=>ot===this._menuItemInstance&&!ot.disabled),(0,M.c)(0,E.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Se&&this.menu._isAnimating?this.menu._animationDone.pipe((0,O.s)(1),(0,M.c)(0,E.$),(0,$.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ot){return(!this._portal||this._portal.templateRef!==ot.templateRef)&&(this._portal=new F.VA(ot.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(st){return new(st||vt)(d.rXU(ce.hJ),d.rXU(d.aKT),d.rXU(d.c1b),d.rXU(qt),d.rXU(Me,8),d.rXU(Xe,10),d.rXU(ue.dS,8),d.rXU(A.FN),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:vt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(st,Nt){1&st&&d.bIt("click",function(wt){return Nt._handleClick(wt)})("mousedown",function(wt){return Nt._handleMousedown(wt)})("keydown",function(wt){return Nt._handleKeydown(wt)}),2&st&&d.BMQ("aria-haspopup",Nt.menu?"menu":null)("aria-expanded",Nt.menuOpen)("aria-controls",Nt.menuOpen?Nt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return vt})(),Ye=(()=>{class vt{static#e=this.\u0275fac=function(st){return new(st||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({providers:[Tt],imports:[L.MD,z.pZ,z.yE,ce.z_,we.Gj,z.yE]})}return vt})()},4624:(dn,Ne,_)=>{"use strict";_.d(Ne,{Ou:()=>j,iy:()=>we});var d=_(7404),A=_(3119),w=_(7675),D=_(4175),C=_(5175),S=_(640),I=_(5060),E=_(5944);function y(Y,se){if(1&Y&&(d.j41(0,"mat-option",17),d.EFF(1),d.k0s()),2&Y){const W=se.$implicit;d.Y8G("value",W),d.R7$(),d.SpI(" ",W," ")}}function x(Y,se){if(1&Y){const W=d.RV6();d.j41(0,"mat-form-field",14)(1,"mat-select",16,0),d.bIt("selectionChange",function(Q){d.eBV(W);const Me=d.XpG(2);return d.Njj(Me._changePageSize(Q.value))}),d.Z7z(3,y,2,2,"mat-option",17,d.fX1),d.k0s(),d.j41(5,"div",18),d.bIt("click",function(){d.eBV(W);const Q=d.sdS(2);return d.Njj(Q.open())}),d.k0s()()}if(2&Y){const W=d.XpG(2);d.Y8G("appearance",W._formFieldAppearance)("color",W.color),d.R7$(),d.Y8G("value",W.pageSize)("disabled",W.disabled)("aria-labelledby",W._pageSizeLabelId)("panelClass",W.selectConfig.panelClass||"")("disableOptionCentering",W.selectConfig.disableOptionCentering),d.R7$(2),d.Dyx(W._displayedPageSizeOptions)}}function $(Y,se){if(1&Y&&(d.j41(0,"div",15),d.EFF(1),d.k0s()),2&Y){const W=d.XpG(2);d.R7$(),d.JRh(W.pageSize)}}function R(Y,se){if(1&Y&&(d.j41(0,"div",3)(1,"div",13),d.EFF(2),d.k0s(),d.DNE(3,x,6,7,"mat-form-field",14)(4,$,2,1,"div",15),d.k0s()),2&Y){const W=d.XpG();d.R7$(),d.BMQ("id",W._pageSizeLabelId),d.R7$(),d.SpI(" ",W._intl.itemsPerPageLabel," "),d.R7$(),d.vxM(W._displayedPageSizeOptions.length>1?3:-1),d.R7$(),d.vxM(W._displayedPageSizeOptions.length<=1?4:-1)}}function O(Y,se){if(1&Y){const W=d.RV6();d.j41(0,"button",19),d.bIt("click",function(){d.eBV(W);const Q=d.XpG();return d.Njj(Q.firstPage())}),d.qSk(),d.j41(1,"svg",8),d.nrm(2,"path",20),d.k0s()()}if(2&Y){const W=d.XpG();d.Y8G("matTooltip",W._intl.firstPageLabel)("matTooltipDisabled",W._previousButtonsDisabled())("matTooltipPosition","above")("disabled",W._previousButtonsDisabled()),d.BMQ("aria-label",W._intl.firstPageLabel)}}function M(Y,se){if(1&Y){const W=d.RV6();d.j41(0,"button",21),d.bIt("click",function(){d.eBV(W);const Q=d.XpG();return d.Njj(Q.lastPage())}),d.qSk(),d.j41(1,"svg",8),d.nrm(2,"path",22),d.k0s()()}if(2&Y){const W=d.XpG();d.Y8G("matTooltip",W._intl.lastPageLabel)("matTooltipDisabled",W._nextButtonsDisabled())("matTooltipPosition","above")("disabled",W._nextButtonsDisabled()),d.BMQ("aria-label",W._intl.lastPageLabel)}}let L=(()=>{class Y{constructor(){this.changes=new A.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(W,Ce,Q)=>{if(0==Q||0==Ce)return`0 of ${Q}`;const Me=W*Ce;return`${Me+1} \u2013 ${Me<(Q=Math.max(Q,0))?Math.min(Me+Ce,Q):Me+Ce} of ${Q}`}}static#e=this.\u0275fac=function(Ce){return new(Ce||Y)};static#t=this.\u0275prov=d.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const F={provide:L,deps:[[new d.Xx1,new d.kdw,L]],useFactory:function z(Y){return Y||new L}},ce=new d.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let re=0,we=(()=>{class Y{get pageIndex(){return this._pageIndex}set pageIndex(W){this._pageIndex=Math.max(W||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(W){this._length=W||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(W){this._pageSize=Math.max(W||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(W){this._pageSizeOptions=(W||[]).map(Ce=>(0,d.Udg)(Ce,0)),this._updateDisplayedPageSizeOptions()}constructor(W,Ce,Q){if(this._intl=W,this._changeDetectorRef=Ce,this._pageSizeLabelId="mat-paginator-page-size-label-"+re++,this._isInitialized=!1,this._initializedStream=new w.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new d.bkB,this.initialized=this._initializedStream,this._intlChanges=W.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Q){const{pageSize:Me,pageSizeOptions:Xe,hidePageSize:yt,showFirstLastButtons:Je}=Q;null!=Me&&(this._pageSize=Me),null!=Xe&&(this._pageSizeOptions=Xe),null!=yt&&(this.hidePageSize=yt),null!=Je&&(this.showFirstLastButtons=Je)}this._formFieldAppearance=Q?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const W=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(W)}previousPage(){if(!this.hasPreviousPage())return;const W=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(W)}firstPage(){if(!this.hasPreviousPage())return;const W=this.pageIndex;this.pageIndex=0,this._emitPageEvent(W)}lastPage(){if(!this.hasNextPage())return;const W=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(W)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const W=this.getNumberOfPages()-1;return this.pageIndex<W&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(W){const Q=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/W)||0,this.pageSize=W,this._emitPageEvent(Q)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((W,Ce)=>W-Ce),this._changeDetectorRef.markForCheck())}_emitPageEvent(W){this.page.emit({previousPageIndex:W,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(Ce){return new(Ce||Y)(d.rXU(L),d.rXU(d.gRc),d.rXU(ce,8))};static#t=this.\u0275cmp=d.VBU({type:Y,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",d.Udg],length:[2,"length","length",d.Udg],pageSize:[2,"pageSize","pageSize",d.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",d.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",d.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",d.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[d.GFd,d.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(Ce,Q){1&Ce&&(d.j41(0,"div",1)(1,"div",2),d.DNE(2,R,5,4,"div",3),d.j41(3,"div",4)(4,"div",5),d.EFF(5),d.k0s(),d.DNE(6,O,3,5,"button",6),d.j41(7,"button",7),d.bIt("click",function(){return Q.previousPage()}),d.qSk(),d.j41(8,"svg",8),d.nrm(9,"path",9),d.k0s()(),d.joV(),d.j41(10,"button",10),d.bIt("click",function(){return Q.nextPage()}),d.qSk(),d.j41(11,"svg",8),d.nrm(12,"path",11),d.k0s()(),d.DNE(13,M,3,5,"button",12),d.k0s()()()),2&Ce&&(d.R7$(2),d.vxM(Q.hidePageSize?-1:2),d.R7$(3),d.SpI(" ",Q._intl.getRangeLabel(Q.pageIndex,Q.pageSize,Q.length)," "),d.R7$(),d.vxM(Q.showFirstLastButtons?6:-1),d.R7$(),d.Y8G("matTooltip",Q._intl.previousPageLabel)("matTooltipDisabled",Q._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Q._previousButtonsDisabled()),d.BMQ("aria-label",Q._intl.previousPageLabel),d.R7$(3),d.Y8G("matTooltip",Q._intl.nextPageLabel)("matTooltipDisabled",Q._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Q._nextButtonsDisabled()),d.BMQ("aria-label",Q._intl.nextPageLabel),d.R7$(3),d.vxM(Q.showFirstLastButtons?13:-1))},dependencies:[E.rl,C.VO,I.wT,D.iY,S.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return Y})(),j=(()=>{class Y{static#e=this.\u0275fac=function(Ce){return new(Ce||Y)};static#t=this.\u0275mod=d.$C({type:Y});static#n=this.\u0275inj=d.G2t({providers:[F],imports:[D.Hl,C.Ve,S.uc,we]})}return Y})()},1134:(dn,Ne,_)=>{"use strict";_.d(Ne,{D6:()=>R,LG:()=>x});var d=_(7404),A=_(316),w=_(5060);const D=["determinateSpinner"];function C(O,M){if(1&O&&(d.qSk(),d.j41(0,"svg",11),d.nrm(1,"circle",12),d.k0s()),2&O){const L=d.XpG();d.BMQ("viewBox",L._viewBox()),d.R7$(),d.xc7("stroke-dasharray",L._strokeCircumference(),"px")("stroke-dashoffset",L._strokeCircumference()/2,"px")("stroke-width",L._circleStrokeWidth(),"%"),d.BMQ("r",L._circleRadius())}}const S=new d.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function I(){return{diameter:E}}}),E=100;let x=(()=>{class O{get color(){return this._color||this._defaultColor}set color(L){this._color=L}constructor(L,z,F){this._elementRef=L,this._defaultColor="primary",this._value=0,this._diameter=E,this._noopAnimations="NoopAnimations"===z&&!!F&&!F._forceAnimations,this.mode="mat-spinner"===L.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",F&&(F.color&&(this.color=this._defaultColor=F.color),F.diameter&&(this.diameter=F.diameter),F.strokeWidth&&(this.strokeWidth=F.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(L){this._value=Math.max(0,Math.min(100,L||0))}get diameter(){return this._diameter}set diameter(L){this._diameter=L||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(L){this._strokeWidth=L||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const L=2*this._circleRadius()+this.strokeWidth;return`0 0 ${L} ${L}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(z){return new(z||O)(d.rXU(d.aKT),d.rXU(d.bc$,8),d.rXU(S))};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(z,F){if(1&z&&d.GBs(D,5),2&z){let J;d.mGM(J=d.lsd())&&(F._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(z,F){2&z&&(d.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===F.mode?F.value:null)("mode",F.mode),d.HbH("mat-"+F.color),d.xc7("width",F.diameter,"px")("height",F.diameter,"px")("--mdc-circular-progress-size",F.diameter+"px")("--mdc-circular-progress-active-indicator-width",F.diameter+"px"),d.AVh("_mat-animation-noopable",F._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===F.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",d.Udg],diameter:[2,"diameter","diameter",d.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",d.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[d.GFd,d.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(z,F){if(1&z&&(d.DNE(0,C,2,8,"ng-template",null,0,d.C5r),d.j41(2,"div",2,1),d.qSk(),d.j41(4,"svg",3),d.nrm(5,"circle",4),d.k0s()(),d.joV(),d.j41(6,"div",5)(7,"div",6)(8,"div",7),d.eu8(9,8),d.k0s(),d.j41(10,"div",9),d.eu8(11,8),d.k0s(),d.j41(12,"div",10),d.eu8(13,8),d.k0s()()()),2&z){const J=d.sdS(1);d.R7$(4),d.BMQ("viewBox",F._viewBox()),d.R7$(),d.xc7("stroke-dasharray",F._strokeCircumference(),"px")("stroke-dashoffset",F._strokeDashOffset(),"px")("stroke-width",F._circleStrokeWidth(),"%"),d.BMQ("r",F._circleRadius()),d.R7$(4),d.Y8G("ngTemplateOutlet",J),d.R7$(2),d.Y8G("ngTemplateOutlet",J),d.R7$(2),d.Y8G("ngTemplateOutlet",J)}},dependencies:[A.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return O})(),R=(()=>{class O{static#e=this.\u0275fac=function(z){return new(z||O)};static#t=this.\u0275mod=d.$C({type:O});static#n=this.\u0275inj=d.G2t({imports:[A.MD,w.yE]})}return O})()},3804:(dn,Ne,_)=>{"use strict";_.d(Ne,{VT:()=>z,Wk:()=>J,_g:()=>F});var d=_(2102),A=_(7989),w=_(7404),D=_(4456),C=_(5060),S=_(316);const I=["input"],E=["formField"],y=["*"];let x=0;class ${constructor(ce,re){this.source=ce,this.value=re}}const R={provide:D.kq,useExisting:(0,w.Rfq)(()=>z),multi:!0},O=new w.nKC("MatRadioGroup"),M=new w.nKC("mat-radio-default-options",{providedIn:"root",factory:function L(){return{color:"accent"}}});let z=(()=>{class ue{get name(){return this._name}set name(re){this._name=re,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(re){this._labelPosition="before"===re?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(re){this._value!==re&&(this._value=re,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(re){this._selected=re,this.value=re?re.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._markRadiosForCheck()}get required(){return this._required}set required(re){this._required=re,this._markRadiosForCheck()}constructor(re){this._changeDetector=re,this._value=null,this._name="mat-radio-group-"+x++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new w.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(re=>re===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(re=>{re.name=this.name,re._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(we=>{we.checked=this.value===we.value,we.checked&&(this._selected=we)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new $(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(re=>re._markForCheck())}writeValue(re){this.value=re,this._changeDetector.markForCheck()}registerOnChange(re){this._controlValueAccessorChangeFn=re}registerOnTouched(re){this.onTouched=re}setDisabledState(re){this.disabled=re,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(we){return new(we||ue)(w.rXU(w.gRc))};static#t=this.\u0275dir=w.FsC({type:ue,selectors:[["mat-radio-group"]],contentQueries:function(we,j,Y){if(1&we&&w.wni(Y,F,5),2&we){let se;w.mGM(se=w.lsd())&&(j._radios=se)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",w.L39],required:[2,"required","required",w.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[w.Jv_([R,{provide:O,useExisting:ue}]),w.GFd]})}return ue})(),F=(()=>{class ue{get checked(){return this._checked}set checked(re){this._checked!==re&&(this._checked=re,re&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!re&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),re&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(re){this._value!==re&&(this._value=re,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===re),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(re){this._labelPosition=re}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(re){this._setDisabled(re)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(re){this._required=re}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(re){this._color=re}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(re,we,j,Y,se,W,Ce,Q){this._elementRef=we,this._changeDetector=j,this._focusMonitor=Y,this._radioDispatcher=se,this._providerOverride=Ce,this._uniqueId="mat-radio-"+ ++x,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new w.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,w.WQX)(w.zZn),this.radioGroup=re,this._noopAnimations="NoopAnimations"===W,Q&&(this.tabIndex=(0,w.Udg)(Q,0))}focus(re,we){we?this._focusMonitor.focusVia(this._inputElement,we,re):this._inputElement.nativeElement.focus(re)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((re,we)=>{re!==this.id&&we===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(re=>{!re&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new $(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(re){re.stopPropagation()}_onInputInteraction(re){if(re.stopPropagation(),!this.checked&&!this.disabled){const we=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),we&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(re){this._onInputInteraction(re),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(re){this._disabled!==re&&(this._disabled=re,this._changeDetector.markForCheck())}_updateTabIndex(){const re=this.radioGroup;let we;if(we=re&&re.selected&&!this.disabled?re.selected===this?this.tabIndex:-1:this.tabIndex,we!==this._previousTabIndex){const j=this._inputElement?.nativeElement;j&&(j.setAttribute("tabindex",we+""),this._previousTabIndex=we,(0,w.mal)(()=>{queueMicrotask(()=>{re&&re.selected&&re.selected!==this&&document.activeElement===j&&(re.selected?._inputElement.nativeElement.focus(),document.activeElement===j&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(we){return new(we||ue)(w.rXU(O,8),w.rXU(w.aKT),w.rXU(w.gRc),w.rXU(d.FN),w.rXU(A.zP),w.rXU(w.bc$,8),w.rXU(M,8),w.kS0("tabindex"))};static#t=this.\u0275cmp=w.VBU({type:ue,selectors:[["mat-radio-button"]],viewQuery:function(we,j){if(1&we&&(w.GBs(I,5),w.GBs(E,7,w.aKT)),2&we){let Y;w.mGM(Y=w.lsd())&&(j._inputElement=Y.first),w.mGM(Y=w.lsd())&&(j._rippleTrigger=Y.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(we,j){1&we&&w.bIt("focus",function(){return j._inputElement.nativeElement.focus()}),2&we&&(w.BMQ("id",j.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),w.AVh("mat-primary","primary"===j.color)("mat-accent","accent"===j.color)("mat-warn","warn"===j.color)("mat-mdc-radio-checked",j.checked)("_mat-animation-noopable",j._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",w.L39],tabIndex:[2,"tabIndex","tabIndex",re=>null==re?0:(0,w.Udg)(re)],checked:[2,"checked","checked",w.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",w.L39],required:[2,"required","required",w.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[w.GFd,w.aNF],ngContentSelectors:y,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(we,j){if(1&we){const Y=w.RV6();w.NAR(),w.j41(0,"div",2,0)(2,"div",3)(3,"div",4),w.bIt("click",function(W){return w.eBV(Y),w.Njj(j._onTouchTargetClick(W))}),w.k0s(),w.j41(4,"input",5,1),w.bIt("change",function(W){return w.eBV(Y),w.Njj(j._onInputInteraction(W))}),w.k0s(),w.j41(6,"div",6),w.nrm(7,"div",7)(8,"div",8),w.k0s(),w.j41(9,"div",9),w.nrm(10,"div",10),w.k0s()(),w.j41(11,"label",11),w.SdG(12),w.k0s()()}2&we&&(w.Y8G("labelPosition",j.labelPosition),w.R7$(2),w.AVh("mdc-radio--disabled",j.disabled),w.R7$(2),w.Y8G("id",j.inputId)("checked",j.checked)("disabled",j.disabled)("required",j.required),w.BMQ("name",j.name)("value",j.value)("aria-label",j.ariaLabel)("aria-labelledby",j.ariaLabelledby)("aria-describedby",j.ariaDescribedby),w.R7$(5),w.Y8G("matRippleTrigger",j._rippleTrigger.nativeElement)("matRippleDisabled",j._isRippleDisabled())("matRippleCentered",!0),w.R7$(2),w.Y8G("for",j.inputId))},dependencies:[C.r6,C.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ue})(),J=(()=>{class ue{static#e=this.\u0275fac=function(we){return new(we||ue)};static#t=this.\u0275mod=w.$C({type:ue});static#n=this.\u0275inj=w.G2t({imports:[C.yE,S.MD,C.pZ,F,C.yE]})}return ue})()},5175:(dn,Ne,_)=>{"use strict";_.d(Ne,{VO:()=>qt,Ve:()=>Tt});var d=_(1570),A=_(316),w=_(7404),D=_(5060),C=_(5944),S=_(4053),I=_(2102),E=_(3680),y=_(7989),x=_(4879),$=_(4456),R=_(3119),O=_(6965),M=_(7405),L=_(9273),z=_(1963),F=_(8627),J=_(5443),ue=_(6109),ce=_(7464),re=_(3602),we=_(7172);const j=["trigger"],Y=["panel"],se=[[["mat-select-trigger"]],"*"],W=["mat-select-trigger","*"];function Ce(Ot,ft){if(1&Ot&&(w.j41(0,"span",4),w.EFF(1),w.k0s()),2&Ot){const Re=w.XpG();w.R7$(),w.JRh(Re.placeholder)}}function Q(Ot,ft){1&Ot&&w.SdG(0)}function Me(Ot,ft){if(1&Ot&&(w.j41(0,"span",11),w.EFF(1),w.k0s()),2&Ot){const Re=w.XpG(2);w.R7$(),w.JRh(Re.triggerValue)}}function Xe(Ot,ft){if(1&Ot&&(w.j41(0,"span",5),w.DNE(1,Q,1,0)(2,Me,2,1,"span",11),w.k0s()),2&Ot){const Re=w.XpG();w.R7$(),w.vxM(Re.customTrigger?1:2)}}function yt(Ot,ft){if(1&Ot){const Re=w.RV6();w.j41(0,"div",12,1),w.bIt("@transformPanel.done",function(vt){w.eBV(Re);const It=w.XpG();return w.Njj(It._panelDoneAnimatingStream.next(vt.toState))})("keydown",function(vt){w.eBV(Re);const It=w.XpG();return w.Njj(It._handleKeydown(vt))}),w.SdG(2,1),w.k0s()}if(2&Ot){const Re=w.XpG();w.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Re._getPanelTheme(),""),w.Y8G("ngClass",Re.panelClass)("@transformPanel","showing"),w.BMQ("id",Re.id+"-panel")("aria-multiselectable",Re.multiple)("aria-label",Re.ariaLabel||null)("aria-labelledby",Re._getPanelAriaLabelledby())}}const Je={transformPanelWrap:(0,we.hZ)("transformPanelWrap",[(0,we.kY)("* => void",(0,we.P)("@transformPanel",[(0,we.MA)()],{optional:!0}))]),transformPanel:(0,we.hZ)("transformPanel",[(0,we.wk)("void",(0,we.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,we.kY)("void => showing",(0,we.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,we.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,we.kY)("* => void",(0,we.i0)("100ms linear",(0,we.iF)({opacity:0})))])};let _e=0;const ve=new w.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ot=(0,w.WQX)(d.hJ);return()=>Ot.scrollStrategies.reposition()}}),Ve=new w.nKC("MAT_SELECT_CONFIG"),Qe={provide:ve,deps:[d.hJ],useFactory:function Pe(Ot){return()=>Ot.scrollStrategies.reposition()}},Pt=new w.nKC("MatSelectTrigger");class Se{constructor(ft,Re){this.source=ft,this.value=Re}}let qt=(()=>{class Ot{_scrollOptionIntoView(Re){const Ye=this.options.toArray()[Re];if(Ye){const vt=this.panel.nativeElement,It=(0,D.jb)(Re,this.options,this.optionGroups),ot=Ye._getHostElement();vt.scrollTop=0===Re&&1===It?0:(0,D.TL)(ot.offsetTop,ot.offsetHeight,vt.scrollTop,vt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Re){return new Se(this,Re)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Re){this._hideSingleSelectionIndicator=Re,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(Re){this._placeholder=Re,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator($.k0.required)??!1}set required(Re){this._required=Re,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Re){this._multiple=Re}get compareWith(){return this._compareWith}set compareWith(Re){this._compareWith=Re,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Re){this._assignValue(Re)&&this._onChange(Re)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Re){this._errorStateTracker.matcher=Re}get id(){return this._id}set id(Re){this._id=Re||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(Re){this._errorStateTracker.errorState=Re}constructor(Re,Ye,vt,It,ot,st,Nt,Ut,wt,ct,ut,Z,Fe,pe){this._viewportRuler=Re,this._changeDetectorRef=Ye,this._elementRef=ot,this._dir=st,this._parentFormField=wt,this.ngControl=ct,this._liveAnnouncer=Fe,this._defaultOptions=pe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(at,Gt)=>at===Gt,this._uid="mat-select-"+_e++,this._triggerAriaLabelledBy=null,this._destroy=new R.B7,this.stateChanges=new R.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+_e++,this._panelDoneAnimatingStream=new R.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new R.B7,this.optionSelectionChanges=(0,O.v)(()=>{const at=this.options;return at?at.changes.pipe((0,L.Z)(at),(0,z.n)(()=>(0,M.h)(...at.map(Gt=>Gt.onSelectionChange)))):this._initialized.pipe((0,z.n)(()=>this.optionSelectionChanges))}),this.openedChange=new w.bkB,this._openedStream=this.openedChange.pipe((0,F.p)(at=>at),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,F.p)(at=>!at),(0,J.T)(()=>{})),this.selectionChange=new w.bkB,this.valueChange=new w.bkB,this._trackedModal=null,this._skipPredicate=at=>!this.panelOpen&&at.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=pe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=pe.typeaheadDebounceInterval),this._errorStateTracker=new D.X0(It,ct,Ut,Nt,this.stateChanges),this._scrollStrategyFactory=Z,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ut)||0,this.id=this.id}ngOnInit(){this._selectionModel=new y.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ue.F)(),(0,ce.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ce.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ce.Q)(this._destroy)).subscribe(Re=>{Re.added.forEach(Ye=>Ye.select()),Re.removed.forEach(Ye=>Ye.deselect())}),this.options.changes.pipe((0,L.Z)(null),(0,ce.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Re=this._getTriggerAriaLabelledby(),Ye=this.ngControl;if(Re!==this._triggerAriaLabelledBy){const vt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Re,Re?vt.setAttribute("aria-labelledby",Re):vt.removeAttribute("aria-labelledby")}Ye&&(this._previousControl!==Ye.control&&(void 0!==this._previousControl&&null!==Ye.disabled&&Ye.disabled!==this.disabled&&(this.disabled=Ye.disabled),this._previousControl=Ye.control),this.updateErrorState())}ngOnChanges(Re){(Re.disabled||Re.userAriaDescribedBy)&&this.stateChanges.next(),Re.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const Re=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Re)return;const Ye=`${this.id}-panel`;this._trackedModal&&(0,I.Ae)(this._trackedModal,"aria-owns",Ye),(0,I.px)(Re,"aria-owns",Ye),this._trackedModal=Re}_clearFromModal(){this._trackedModal&&((0,I.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(Re){this._assignValue(Re)}registerOnChange(Re){this._onChange=Re}registerOnTouched(Re){this._onTouched=Re}setDisabledState(Re){this.disabled=Re,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Re=this._selectionModel.selected.map(Ye=>Ye.viewValue);return this._isRtl()&&Re.reverse(),Re.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Re){this.disabled||(this.panelOpen?this._handleOpenKeydown(Re):this._handleClosedKeydown(Re))}_handleClosedKeydown(Re){const Ye=Re.keyCode,vt=Ye===x.n6||Ye===x.i7||Ye===x.UQ||Ye===x.LE,It=Ye===x.Fm||Ye===x.t6,ot=this._keyManager;if(!ot.isTyping()&&It&&!(0,x.rp)(Re)||(this.multiple||Re.altKey)&&vt)Re.preventDefault(),this.open();else if(!this.multiple){const st=this.selected;ot.onKeydown(Re);const Nt=this.selected;Nt&&st!==Nt&&this._liveAnnouncer.announce(Nt.viewValue,1e4)}}_handleOpenKeydown(Re){const Ye=this._keyManager,vt=Re.keyCode,It=vt===x.n6||vt===x.i7,ot=Ye.isTyping();if(It&&Re.altKey)Re.preventDefault(),this.close();else if(ot||vt!==x.Fm&&vt!==x.t6||!Ye.activeItem||(0,x.rp)(Re))if(!ot&&this._multiple&&vt===x.A&&Re.ctrlKey){Re.preventDefault();const st=this.options.some(Nt=>!Nt.disabled&&!Nt.selected);this.options.forEach(Nt=>{Nt.disabled||(st?Nt.select():Nt.deselect())})}else{const st=Ye.activeItemIndex;Ye.onKeydown(Re),this._multiple&&It&&Re.shiftKey&&Ye.activeItem&&Ye.activeItemIndex!==st&&Ye.activeItem._selectViaInteraction()}else Re.preventDefault(),Ye.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,re.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Re){if(this.options.forEach(Ye=>Ye.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Re)Array.isArray(Re),Re.forEach(Ye=>this._selectOptionByValue(Ye)),this._sortValues();else{const Ye=this._selectOptionByValue(Re);Ye?this._keyManager.updateActiveItem(Ye):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Re){const Ye=this.options.find(vt=>{if(this._selectionModel.isSelected(vt))return!1;try{return null!=vt.value&&this._compareWith(vt.value,Re)}catch{return!1}});return Ye&&this._selectionModel.select(Ye),Ye}_assignValue(Re){return!!(Re!==this._value||this._multiple&&Array.isArray(Re))&&(this.options&&this._setSelectionByValue(Re),this._value=Re,!0)}_getOverlayWidth(Re){return"auto"===this.panelWidth?(Re instanceof d.$Q?Re.elementRef:Re||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const Re of this.options)Re._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new I.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Re=(0,M.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ce.Q)(Re)).subscribe(Ye=>{this._onSelect(Ye.source,Ye.isUserInput),Ye.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,M.h)(...this.options.map(Ye=>Ye._stateChanges)).pipe((0,ce.Q)(Re)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Re,Ye){const vt=this._selectionModel.isSelected(Re);null!=Re.value||this._multiple?(vt!==Re.selected&&(Re.selected?this._selectionModel.select(Re):this._selectionModel.deselect(Re)),Ye&&this._keyManager.setActiveItem(Re),this.multiple&&(this._sortValues(),Ye&&this.focus())):(Re.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Re.value)),vt!==this._selectionModel.isSelected(Re)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Re=this.options.toArray();this._selectionModel.sort((Ye,vt)=>this.sortComparator?this.sortComparator(Ye,vt,Re):Re.indexOf(Ye)-Re.indexOf(vt)),this.stateChanges.next()}}_propagateChanges(Re){let Ye;Ye=this.multiple?this.selected.map(vt=>vt.value):this.selected?this.selected.value:Re,this._value=Ye,this.valueChange.emit(Ye),this._onChange(Ye),this.selectionChange.emit(this._getChangeEvent(Ye)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Re=-1;for(let Ye=0;Ye<this.options.length;Ye++)if(!this.options.get(Ye).disabled){Re=Ye;break}this._keyManager.setActiveItem(Re)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Re){this._elementRef.nativeElement.focus(Re)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Re=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Re?Re+" ":"")+this.ariaLabelledby:Re}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Re=this._parentFormField?.getLabelId();let Ye=(Re?Re+" ":"")+this._valueId;return this.ariaLabelledby&&(Ye+=" "+this.ariaLabelledby),Ye}_panelDoneAnimating(Re){this.openedChange.emit(Re)}setDescribedByIds(Re){Re.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Re.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(w.rXU(S.Xj),w.rXU(w.gRc),w.rXU(w.SKi),w.rXU(D.es),w.rXU(w.aKT),w.rXU(E.dS,8),w.rXU($.cV,8),w.rXU($.j4,8),w.rXU(C.xb,8),w.rXU($.vO,10),w.kS0("tabindex"),w.rXU(ve),w.rXU(I.Ai),w.rXU(Ve,8))};static#t=this.\u0275cmp=w.VBU({type:Ot,selectors:[["mat-select"]],contentQueries:function(Ye,vt,It){if(1&Ye&&(w.wni(It,Pt,5),w.wni(It,D.wT,5),w.wni(It,D.QC,5)),2&Ye){let ot;w.mGM(ot=w.lsd())&&(vt.customTrigger=ot.first),w.mGM(ot=w.lsd())&&(vt.options=ot),w.mGM(ot=w.lsd())&&(vt.optionGroups=ot)}},viewQuery:function(Ye,vt){if(1&Ye&&(w.GBs(j,5),w.GBs(Y,5),w.GBs(d.WB,5)),2&Ye){let It;w.mGM(It=w.lsd())&&(vt.trigger=It.first),w.mGM(It=w.lsd())&&(vt.panel=It.first),w.mGM(It=w.lsd())&&(vt._overlayDir=It.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ye,vt){1&Ye&&w.bIt("keydown",function(ot){return vt._handleKeydown(ot)})("focus",function(){return vt._onFocus()})("blur",function(){return vt._onBlur()}),2&Ye&&(w.BMQ("id",vt.id)("tabindex",vt.disabled?-1:vt.tabIndex)("aria-controls",vt.panelOpen?vt.id+"-panel":null)("aria-expanded",vt.panelOpen)("aria-label",vt.ariaLabel||null)("aria-required",vt.required.toString())("aria-disabled",vt.disabled.toString())("aria-invalid",vt.errorState)("aria-activedescendant",vt._getAriaActiveDescendant()),w.AVh("mat-mdc-select-disabled",vt.disabled)("mat-mdc-select-invalid",vt.errorState)("mat-mdc-select-required",vt.required)("mat-mdc-select-empty",vt.empty)("mat-mdc-select-multiple",vt.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",w.L39],disableRipple:[2,"disableRipple","disableRipple",w.L39],tabIndex:[2,"tabIndex","tabIndex",Re=>null==Re?0:(0,w.Udg)(Re)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",w.L39],placeholder:"placeholder",required:[2,"required","required",w.L39],multiple:[2,"multiple","multiple",w.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",w.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",w.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[w.Jv_([{provide:C.qT,useExisting:Ot},{provide:D.is,useExisting:Ot}]),w.GFd,w.OA$,w.aNF],ngContentSelectors:W,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ye,vt){if(1&Ye){const It=w.RV6();w.NAR(se),w.j41(0,"div",2,0),w.bIt("click",function(){return w.eBV(It),w.Njj(vt.open())}),w.j41(3,"div",3),w.DNE(4,Ce,2,1,"span",4)(5,Xe,3,1,"span",5),w.k0s(),w.j41(6,"div",6)(7,"div",7),w.qSk(),w.j41(8,"svg",8),w.nrm(9,"path",9),w.k0s()()()(),w.DNE(10,yt,3,9,"ng-template",10),w.bIt("backdropClick",function(){return w.eBV(It),w.Njj(vt.close())})("attach",function(){return w.eBV(It),w.Njj(vt._onAttached())})("detach",function(){return w.eBV(It),w.Njj(vt.close())})}if(2&Ye){const It=w.sdS(1);w.R7$(3),w.BMQ("id",vt._valueId),w.R7$(),w.vxM(vt.empty?4:5),w.R7$(6),w.Y8G("cdkConnectedOverlayPanelClass",vt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",vt._scrollStrategy)("cdkConnectedOverlayOrigin",vt._preferredOverlayOrigin||It)("cdkConnectedOverlayOpen",vt.panelOpen)("cdkConnectedOverlayPositions",vt._positions)("cdkConnectedOverlayWidth",vt._overlayWidth)}},dependencies:[d.$Q,d.WB,A.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Je.transformPanel]},changeDetection:0})}return Ot})(),Tt=(()=>{class Ot{static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)};static#t=this.\u0275mod=w.$C({type:Ot});static#n=this.\u0275inj=w.G2t({providers:[Qe],imports:[A.MD,d.z_,D.Sy,D.yE,S.Gj,C.RG,D.Sy,D.yE]})}return Ot})()},8827:(dn,Ne,_)=>{"use strict";_.d(Ne,{mV:()=>z,sG:()=>R});var d=_(7404),A=_(4456),w=_(2102),D=_(5060);const C=["switch"],S=["*"];function I(F,J){1&F&&(d.j41(0,"div",10),d.qSk(),d.j41(1,"svg",12),d.nrm(2,"path",13),d.k0s(),d.j41(3,"svg",14),d.nrm(4,"path",15),d.k0s()())}const E=new d.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),y={provide:A.kq,useExisting:(0,d.Rfq)(()=>R),multi:!0};class x{constructor(J,ue){this.source=J,this.checked=ue}}let $=0,R=(()=>{class F{_createChangeEvent(ue){return new x(this,ue)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(ue){this._checked=ue,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ue,ce,re,we,j,Y){this._elementRef=ue,this._focusMonitor=ce,this._changeDetectorRef=re,this.defaults=j,this._onChange=se=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new d.bkB,this.toggleChange=new d.bkB,this.tabIndex=parseInt(we)||0,this.color=j.color||"accent",this._noopAnimations="NoopAnimations"===Y,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++$,this.hideIcon=j.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ue=>{"keyboard"===ue||"program"===ue?(this._focused=!0,this._changeDetectorRef.markForCheck()):ue||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(ue){ue.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(ue){this.checked=!!ue}registerOnChange(ue){this._onChange=ue}registerOnTouched(ue){this._onTouched=ue}validate(ue){return this.required&&!0!==ue.value?{required:!0}:null}registerOnValidatorChange(ue){this._validatorOnChange=ue}setDisabledState(ue){this.disabled=ue,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new x(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(ce){return new(ce||F)(d.rXU(d.aKT),d.rXU(w.FN),d.rXU(d.gRc),d.kS0("tabindex"),d.rXU(E),d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:F,selectors:[["mat-slide-toggle"]],viewQuery:function(ce,re){if(1&ce&&d.GBs(C,5),2&ce){let we;d.mGM(we=d.lsd())&&(re._switchElement=we.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(ce,re){2&ce&&(d.Mr5("id",re.id),d.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),d.HbH(re.color?"mat-"+re.color:""),d.AVh("mat-mdc-slide-toggle-focused",re._focused)("mat-mdc-slide-toggle-checked",re.checked)("_mat-animation-noopable",re._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",d.L39],color:"color",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",ue=>null==ue?0:(0,d.Udg)(ue)],checked:[2,"checked","checked",d.L39],hideIcon:[2,"hideIcon","hideIcon",d.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[d.Jv_([y,{provide:A.cz,useExisting:F,multi:!0}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:S,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(ce,re){if(1&ce){const we=d.RV6();d.NAR(),d.j41(0,"div",1)(1,"button",2,0),d.bIt("click",function(){return d.eBV(we),d.Njj(re._handleClick())}),d.nrm(3,"div",3),d.j41(4,"div",4)(5,"div",5)(6,"div",6),d.nrm(7,"div",7),d.k0s(),d.j41(8,"div",8),d.nrm(9,"div",9),d.k0s(),d.DNE(10,I,5,0,"div",10),d.k0s()()(),d.j41(11,"label",11),d.bIt("click",function(Y){return d.eBV(we),d.Njj(Y.stopPropagation())}),d.SdG(12),d.k0s()()}if(2&ce){const we=d.sdS(2);d.Y8G("labelPosition",re.labelPosition),d.R7$(),d.AVh("mdc-switch--selected",re.checked)("mdc-switch--unselected",!re.checked)("mdc-switch--checked",re.checked)("mdc-switch--disabled",re.disabled),d.Y8G("tabIndex",re.disabled?-1:re.tabIndex)("disabled",re.disabled),d.BMQ("id",re.buttonId)("name",re.name)("aria-label",re.ariaLabel)("aria-labelledby",re._getAriaLabelledBy())("aria-describedby",re.ariaDescribedby)("aria-required",re.required||null)("aria-checked",re.checked),d.R7$(8),d.Y8G("matRippleTrigger",we)("matRippleDisabled",re.disableRipple||re.disabled)("matRippleCentered",!0),d.R7$(),d.vxM(re.hideIcon?-1:10),d.R7$(),d.Y8G("for",re.buttonId),d.BMQ("id",re._labelId)}},dependencies:[D.r6,D.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return F})(),z=(()=>{class F{static#e=this.\u0275fac=function(ce){return new(ce||F)};static#t=this.\u0275mod=d.$C({type:F});static#n=this.\u0275inj=d.G2t({imports:[R,D.yE,D.yE]})}return F})()},4992:(dn,Ne,_)=>{"use strict";_.d(Ne,{Ez:()=>yt,IV:()=>Y,OU:()=>Me});var d=_(3680),A=_(7699),w=_(7404),D=_(5060),C=_(4456),S=_(3119);const I=["knob"],E=["valueIndicatorContainer"];function y(Je,je){if(1&Je&&(w.j41(0,"div",2,1)(2,"div",5)(3,"span",6),w.EFF(4),w.k0s()()()),2&Je){const X=w.XpG();w.R7$(4),w.JRh(X.valueIndicatorText)}}const x=["trackActive"],$=["*"];function R(Je,je){if(1&Je&&w.nrm(0,"div"),2&Je){const X=je.$implicit,oe=je.$index,_e=w.XpG(3);w.HbH(0===X?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),w.xc7("transform",_e._calcTickMarkTransform(oe))}}function O(Je,je){if(1&Je&&w.Z7z(0,R,1,4,"div",8,w.Vm6),2&Je){const X=w.XpG(2);w.Dyx(X._tickMarks)}}function M(Je,je){if(1&Je&&(w.j41(0,"div",6,1),w.DNE(2,O,2,0),w.k0s()),2&Je){const X=w.XpG();w.R7$(2),w.vxM(X._cachedWidth?2:-1)}}function L(Je,je){if(1&Je&&w.nrm(0,"mat-slider-visual-thumb",7),2&Je){const X=w.XpG();w.Y8G("discrete",X.discrete)("thumbPosition",1)("valueIndicatorText",X.startValueIndicatorText)}}var z=function(Je){return Je[Je.START=1]="START",Je[Je.END=2]="END",Je}(z||{}),F=function(Je){return Je[Je.ACTIVE=0]="ACTIVE",Je[Je.INACTIVE=1]="INACTIVE",Je}(F||{});const J=new w.nKC("_MatSlider"),ue=new w.nKC("_MatSliderThumb"),ce=new w.nKC("_MatSliderRangeThumb"),re=new w.nKC("_MatSliderVisualThumb");let j=(()=>{class Je{constructor(X,oe,_e,ve){this._cdr=X,this._ngZone=oe,this._slider=ve,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,w.WQX)(A.OD),this._onPointerMove=Pe=>{if(this._sliderInput._isFocused)return;const Ve=this._hostElement.getBoundingClientRect(),Qe=this._slider._isCursorOnSliderThumb(Pe,Ve);this._isHovered=Qe,Qe?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Pe=>{0===Pe.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=_e.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const X=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{X.addEventListener("pointermove",this._onPointerMove),X.addEventListener("pointerdown",this._onDragStart),X.addEventListener("pointerup",this._onDragEnd),X.addEventListener("pointerleave",this._onMouseLeave),X.addEventListener("focus",this._onFocus),X.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const X=this._sliderInputEl;X&&(X.removeEventListener("pointermove",this._onPointerMove),X.removeEventListener("pointerdown",this._onDragStart),X.removeEventListener("pointerup",this._onDragEnd),X.removeEventListener("pointerleave",this._onMouseLeave),X.removeEventListener("focus",this._onFocus),X.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(X){return X?.state===D.Ex.FADING_IN||X?.state===D.Ex.VISIBLE}_showRipple(X,oe){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||oe))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:X,centered:!0,persistent:!0})}_hideRipple(X){if(X?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const oe=this._getSibling();oe._isShowingAnyRipple()||(this._hideValueIndicator(),oe._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.gRc),w.rXU(w.SKi),w.rXU(w.aKT),w.rXU(J))};static#t=this.\u0275cmp=w.VBU({type:Je,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(oe,_e){if(1&oe&&(w.GBs(D.r6,5),w.GBs(I,5),w.GBs(E,5)),2&oe){let ve;w.mGM(ve=w.lsd())&&(_e._ripple=ve.first),w.mGM(ve=w.lsd())&&(_e._knob=ve.first),w.mGM(ve=w.lsd())&&(_e._valueIndicatorContainer=ve.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[w.Jv_([{provide:re,useExisting:Je}]),w.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(oe,_e){1&oe&&(w.DNE(0,y,5,1,"div",2),w.nrm(1,"div",3,0)(3,"div",4)),2&oe&&(w.vxM(_e.discrete?0:-1),w.R7$(3),w.Y8G("matRippleDisabled",!0))},dependencies:[D.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return Je})(),Y=(()=>{class Je{get disabled(){return this._disabled}set disabled(X){this._disabled=X;const oe=this._getInput(z.END),_e=this._getInput(z.START);oe&&(oe.disabled=this._disabled),_e&&(_e.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(X){this._discrete=X,this._updateValueIndicatorUIs()}get min(){return this._min}set min(X){const oe=isNaN(X)?this._min:X;this._min!==oe&&this._updateMin(oe)}_updateMin(X){const oe=this._min;this._min=X,this._isRange?this._updateMinRange({old:oe,new:X}):this._updateMinNonRange(X),this._onMinMaxOrStepChange()}_updateMinRange(X){const oe=this._getInput(z.END),_e=this._getInput(z.START),ve=oe.value,Pe=_e.value;_e.min=X.new,oe.min=Math.max(X.new,_e.value),_e.max=Math.min(oe.max,oe.value),_e._updateWidthInactive(),oe._updateWidthInactive(),X.new<X.old?this._onTranslateXChangeBySideEffect(oe,_e):this._onTranslateXChangeBySideEffect(_e,oe),ve!==oe.value&&this._onValueChange(oe),Pe!==_e.value&&this._onValueChange(_e)}_updateMinNonRange(X){const oe=this._getInput(z.END);if(oe){const _e=oe.value;oe.min=X,oe._updateThumbUIByValue(),this._updateTrackUI(oe),_e!==oe.value&&this._onValueChange(oe)}}get max(){return this._max}set max(X){const oe=isNaN(X)?this._max:X;this._max!==oe&&this._updateMax(oe)}_updateMax(X){const oe=this._max;this._max=X,this._isRange?this._updateMaxRange({old:oe,new:X}):this._updateMaxNonRange(X),this._onMinMaxOrStepChange()}_updateMaxRange(X){const oe=this._getInput(z.END),_e=this._getInput(z.START),ve=oe.value,Pe=_e.value;oe.max=X.new,_e.max=Math.min(X.new,oe.value),oe.min=_e.value,oe._updateWidthInactive(),_e._updateWidthInactive(),X.new>X.old?this._onTranslateXChangeBySideEffect(_e,oe):this._onTranslateXChangeBySideEffect(oe,_e),ve!==oe.value&&this._onValueChange(oe),Pe!==_e.value&&this._onValueChange(_e)}_updateMaxNonRange(X){const oe=this._getInput(z.END);if(oe){const _e=oe.value;oe.max=X,oe._updateThumbUIByValue(),this._updateTrackUI(oe),_e!==oe.value&&this._onValueChange(oe)}}get step(){return this._step}set step(X){const oe=isNaN(X)?this._step:X;this._step!==oe&&this._updateStep(oe)}_updateStep(X){this._step=X,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const X=this._getInput(z.END),oe=this._getInput(z.START),_e=X.value,ve=oe.value,Pe=oe.value;X.min=this._min,oe.max=this._max,X.step=this._step,oe.step=this._step,this._platform.SAFARI&&(X.value=X.value,oe.value=oe.value),X.min=Math.max(this._min,oe.value),oe.max=Math.min(this._max,X.value),oe._updateWidthInactive(),X._updateWidthInactive(),X.value<Pe?this._onTranslateXChangeBySideEffect(oe,X):this._onTranslateXChangeBySideEffect(X,oe),_e!==X.value&&this._onValueChange(X),ve!==oe.value&&this._onValueChange(oe)}_updateStepNonRange(){const X=this._getInput(z.END);if(X){const oe=X.value;X.step=this._step,this._platform.SAFARI&&(X.value=X.value),X._updateThumbUIByValue(),oe!==X.value&&this._onValueChange(X)}}constructor(X,oe,_e,ve,Pe,Ve){this._ngZone=X,this._cdr=oe,this._elementRef=_e,this._dir=ve,this._globalRippleOptions=Pe,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Qe=>`${Qe}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,w.WQX)(A.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===Ve,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const X=this._getInput(z.END),oe=this._getInput(z.START);this._isRange=!!X&&!!oe,this._cdr.detectChanges();const _e=this._getThumb(z.END);this._rippleRadius=_e._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(X,oe):this._initUINonRange(X),this._updateTrackUI(X),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(X){X.initProps(),X.initUI(),this._updateValueIndicatorUI(X),this._hasViewInitialized=!0,X._updateThumbUIByValue()}_initUIRange(X,oe){X.initProps(),X.initUI(),oe.initProps(),oe.initUI(),X._updateMinMax(),oe._updateMinMax(),X._updateStaticStyles(),oe._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,X._updateThumbUIByValue(),oe._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const X=this._getInput(z.END),oe=this._getInput(z.START);X._setIsLeftThumb(),oe._setIsLeftThumb(),X.translateX=X._calcTranslateXByValue(),oe.translateX=oe._calcTranslateXByValue(),X._updateStaticStyles(),oe._updateStaticStyles(),X._updateWidthInactive(),oe._updateWidthInactive(),X._updateThumbUIByValue(),oe._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(z.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(z.START)._isActive||this._getThumb(z.END)._isActive}_getValue(X=z.END){const oe=this._getInput(X);return oe?oe.value:this.min}_skipUpdate(){return!(!this._getInput(z.START)?._skipUIUpdate&&!this._getInput(z.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(X){const oe=this._trackActive.nativeElement.style;oe.left=X.left,oe.right=X.right,oe.transformOrigin=X.transformOrigin,oe.transform=X.transform}_calcTickMarkTransform(X){return`translateX(${X*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(X){this._hasViewInitialized&&(this._updateThumbUI(X),this._updateTrackUI(X),this._updateOverlappingThumbUI(X))}_onTranslateXChangeBySideEffect(X,oe){this._hasViewInitialized&&(X._updateThumbUIByValue(),oe._updateThumbUIByValue())}_onValueChange(X){this._hasViewInitialized&&(this._updateValueIndicatorUI(X),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const X=this._getInput(z.END),oe=this._getInput(z.START);X._updateThumbUIByValue(),oe._updateThumbUIByValue(),X._updateStaticStyles(),oe._updateStaticStyles(),X._updateMinMax(),oe._updateMinMax(),X._updateWidthInactive(),oe._updateWidthInactive()}else{const X=this._getInput(z.END);X&&X._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const X=this._getInput(z.START),oe=this._getInput(z.END);return!(!X||!oe)&&oe.translateX-X.translateX<20}_updateOverlappingThumbClassNames(X){const oe=X.getSibling(),_e=this._getThumb(X.thumbPosition);this._getThumb(oe.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),_e._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(X){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(X))}_updateThumbUI(X){this._skipUpdate()||(this._getThumb(X.thumbPosition===z.END?z.END:z.START)._hostElement.style.transform=`translateX(${X.translateX}px)`)}_updateValueIndicatorUI(X){if(this._skipUpdate())return;const oe=this.displayWith(X.value);if(this._hasViewInitialized?X._valuetext.set(oe):X._hostElement.setAttribute("aria-valuetext",oe),this.discrete){X.thumbPosition===z.START?this.startValueIndicatorText=oe:this.endValueIndicatorText=oe;const _e=this._getThumb(X.thumbPosition);oe.length<3?_e._hostElement.classList.add("mdc-slider__thumb--short-value"):_e._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const X=this._getInput(z.END),oe=this._getInput(z.START);X&&this._updateValueIndicatorUI(X),oe&&this._updateValueIndicatorUI(oe)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const X=this._step&&this._step>0?this._step:1,_e=(Math.floor(this.max/X)*X-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*_e-6}_updateTrackUI(X){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(X):this._updateTrackUINonRange(X))}_updateTrackUIRange(X){const oe=X.getSibling();if(!oe||!this._cachedWidth)return;const _e=Math.abs(oe.translateX-X.translateX)/this._cachedWidth;this._setTrackActiveStyles(X._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-oe.translateX+"px",transformOrigin:"right",transform:`scaleX(${_e})`}:{left:`${oe.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${_e})`})}_updateTrackUINonRange(X){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-X.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${X.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const X=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(X):this._updateTickMarkUINonRange(X),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(X){const oe=this._getValue();let _e=Math.max(Math.round((oe-this.min)/X),0),ve=Math.max(Math.round((this.max-oe)/X),0);this._isRtl?_e++:ve++,this._tickMarks=Array(_e).fill(F.ACTIVE).concat(Array(ve).fill(F.INACTIVE))}_updateTickMarkUIRange(X){const oe=this._getValue(),_e=this._getValue(z.START),ve=Math.max(Math.round((_e-this.min)/X),0),Pe=Math.max(Math.round((oe-_e)/X)+1,0),Ve=Math.max(Math.round((this.max-oe)/X),0);this._tickMarks=Array(ve).fill(F.INACTIVE).concat(Array(Pe).fill(F.ACTIVE),Array(Ve).fill(F.INACTIVE))}_getInput(X){return X===z.END&&this._input?this._input:this._inputs?.length?X===z.START?this._inputs.first:this._inputs.last:void 0}_getThumb(X){return X===z.END?this._thumbs?.last:this._thumbs?.first}_setTransition(X){this._hasAnimation=!this._platform.IOS&&X&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(X,oe){const _e=oe.width/2,Qe=X.clientY-(oe.y+_e);return Math.pow(X.clientX-(oe.x+_e),2)+Math.pow(Qe,2)<Math.pow(_e,2)}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.SKi),w.rXU(w.gRc),w.rXU(w.aKT),w.rXU(d.dS,8),w.rXU(D.$E,8),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:Je,selectors:[["mat-slider"]],contentQueries:function(oe,_e,ve){if(1&oe&&(w.wni(ve,ue,5),w.wni(ve,ce,4)),2&oe){let Pe;w.mGM(Pe=w.lsd())&&(_e._input=Pe.first),w.mGM(Pe=w.lsd())&&(_e._inputs=Pe)}},viewQuery:function(oe,_e){if(1&oe&&(w.GBs(x,5),w.GBs(re,5)),2&oe){let ve;w.mGM(ve=w.lsd())&&(_e._trackActive=ve.first),w.mGM(ve=w.lsd())&&(_e._thumbs=ve)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(oe,_e){2&oe&&(w.HbH("mat-"+(_e.color||"primary")),w.AVh("mdc-slider--range",_e._isRange)("mdc-slider--disabled",_e.disabled)("mdc-slider--discrete",_e.discrete)("mdc-slider--tick-marks",_e.showTickMarks)("_mat-animation-noopable",_e._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",w.L39],discrete:[2,"discrete","discrete",w.L39],showTickMarks:[2,"showTickMarks","showTickMarks",w.L39],min:[2,"min","min",w.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",w.L39],max:[2,"max","max",w.Udg],step:[2,"step","step",w.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[w.Jv_([{provide:J,useExisting:Je}]),w.GFd,w.aNF],ngContentSelectors:$,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(oe,_e){1&oe&&(w.NAR(),w.SdG(0),w.j41(1,"div",2),w.nrm(2,"div",3),w.j41(3,"div",4),w.nrm(4,"div",5,0),w.k0s(),w.DNE(6,M,3,1,"div",6),w.k0s(),w.DNE(7,L,1,3,"mat-slider-visual-thumb",7),w.nrm(8,"mat-slider-visual-thumb",7)),2&oe&&(w.R7$(6),w.vxM(_e.showTickMarks?6:-1),w.R7$(),w.vxM(_e._isRange?7:-1),w.R7$(),w.Y8G("discrete",_e.discrete)("thumbPosition",2)("valueIndicatorText",_e.endValueIndicatorText))},dependencies:[j],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape);height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color);border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color);height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape)}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color);color:var(--mdc-slider-label-label-text-color);width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color)}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font);font-size:var(--mdc-slider-label-label-text-size);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height);letter-spacing:var(--mdc-slider-label-label-text-tracking)}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation);background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color);border-radius:var(--mdc-slider-handle-shape)}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color)}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color)}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color)}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Je})();const Ce={provide:C.kq,useExisting:(0,w.Rfq)(()=>Me),multi:!0};let Me=(()=>{class Je{get value(){return(0,w.Udg)(this._hostElement.value,0)}set value(X){const oe=(X=isNaN(X)?0:X)+"";this._hasSetInitialValue?this._isActive||this._setValue(oe):this._initialValue=oe}_setValue(X){this._hostElement.value=X,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(X){this._translateX=X}get min(){return(0,w.Udg)(this._hostElement.min,0)}set min(X){this._hostElement.min=X+"",this._cdr.detectChanges()}get max(){return(0,w.Udg)(this._hostElement.max,0)}set max(X){this._hostElement.max=X+"",this._cdr.detectChanges()}get step(){return(0,w.Udg)(this._hostElement.step,0)}set step(X){this._hostElement.step=X+"",this._cdr.detectChanges()}get disabled(){return(0,w.L39)(this._hostElement.disabled)}set disabled(X){this._hostElement.disabled=X,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(X){this._isFocused=X}constructor(X,oe,_e,ve){this._ngZone=X,this._elementRef=oe,this._cdr=_e,this._slider=ve,this.valueChange=new w.bkB,this.dragStart=new w.bkB,this.dragEnd=new w.bkB,this.thumbPosition=z.END,this._valuetext=(0,w.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new S.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,w.WQX)(A.OD),this._hostElement=oe.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(X){if(!this.disabled&&0===X.button){if(this._platform.IOS){const oe=this._slider._isCursorOnSliderThumb(X,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=oe,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(X,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(X),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(X){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(X)},0)}_fixValue(X){const oe=X.clientX-this._slider._cachedLeft,_e=this._slider._cachedWidth,ve=0===this._slider.step?1:this._slider.step,Pe=Math.floor((this._slider.max-this._slider.min)/ve),Pt=Math.round((this._slider._isRtl?1-oe/_e:oe/_e)*Pe)/Pe*(this._slider.max-this._slider.min)+this._slider.min,Se=Math.round(Pt/ve)*ve;if(Se===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(X,{withAnimation:this._slider._hasAnimation}));this.value=Se,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(X,{withAnimation:this._slider._hasAnimation})}_onPointerMove(X){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(X)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(X){const oe=this._tickMarkOffset;return Math.max(Math.min(X,this._slider._cachedWidth-this._tickMarkOffset),oe)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(X){return X.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(X){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(X)}_updateThumbUIByPointerEvent(X,oe){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(X)),this._updateThumbUI(oe)}_updateThumbUI(X){this._slider._setTransition(!!X?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(X){(this._isControlInitialized||null!==X)&&(this.value=X)}registerOnChange(X){this._onChangeFn=X,this._isControlInitialized=!0}registerOnTouched(X){this._onTouchedFn=X}setDisabledState(X){this.disabled=X}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.SKi),w.rXU(w.aKT),w.rXU(w.gRc),w.rXU(J))};static#t=this.\u0275dir=w.FsC({type:Je,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(oe,_e){1&oe&&w.bIt("change",function(){return _e._onChange()})("input",function(){return _e._onInput()})("blur",function(){return _e._onBlur()})("focus",function(){return _e._onFocus()}),2&oe&&w.BMQ("aria-valuetext",_e._valuetext())},inputs:{value:[2,"value","value",w.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[w.Jv_([Ce,{provide:ue,useExisting:Je}]),w.GFd]})}return Je})(),yt=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275mod=w.$C({type:Je});static#n=this.\u0275inj=w.G2t({imports:[D.yE,D.pZ]})}return Je})()},3347:(dn,Ne,_)=>{"use strict";_.d(Ne,{UG:()=>Me,_T:()=>yt});var d=_(7404),A=_(4175),w=_(3119),D=_(316),C=_(7172),S=_(9168),I=_(7699),E=_(2102),y=_(7912),x=_(1570),$=_(7464),R=_(5060);function O(Je,je){if(1&Je){const X=d.RV6();d.j41(0,"div",1)(1,"button",2),d.bIt("click",function(){d.eBV(X);const _e=d.XpG();return d.Njj(_e.action())}),d.EFF(2),d.k0s()()}if(2&Je){const X=d.XpG();d.R7$(2),d.SpI(" ",X.data.action," ")}}const M=["label"];function L(Je,je){}const z=Math.pow(2,31)-1;class F{constructor(je,X){this._overlayRef=X,this._afterDismissed=new w.B7,this._afterOpened=new w.B7,this._onAction=new w.B7,this._dismissedByAction=!1,this.containerInstance=je,je._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(je){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(je,z))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const J=new d.nKC("MatSnackBarData");class ue{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ce=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return Je})(),re=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return Je})(),we=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return Je})(),j=(()=>{class Je{constructor(X,oe){this.snackBarRef=X,this.data=oe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.rXU(F),d.rXU(J))};static#t=this.\u0275cmp=d.VBU({type:Je,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[d.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(oe,_e){1&oe&&(d.j41(0,"div",0),d.EFF(1),d.k0s(),d.DNE(2,O,3,1,"div",1)),2&oe&&(d.R7$(),d.SpI(" ",_e.data.message,"\n"),d.R7$(),d.vxM(_e.hasAction?2:-1))},dependencies:[A.$z,ce,re,we],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Je})();const Y={snackBarState:(0,C.hZ)("state",[(0,C.wk)("void, hidden",(0,C.iF)({transform:"scale(0.8)",opacity:0})),(0,C.wk)("visible",(0,C.iF)({transform:"scale(1)",opacity:1})),(0,C.kY)("* => visible",(0,C.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,C.kY)("* => void, * => hidden",(0,C.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,C.iF)({opacity:0})))])};let se=0,W=(()=>{class Je extends S.lb{constructor(X,oe,_e,ve,Pe){super(),this._ngZone=X,this._elementRef=oe,this._changeDetectorRef=_e,this._platform=ve,this.snackBarConfig=Pe,this._document=(0,d.WQX)(D.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new w.B7,this._onExit=new w.B7,this._onEnter=new w.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+se++,this.attachDomPortal=Ve=>{this._assertNotAttached();const Qe=this._portalOutlet.attachDomPortal(Ve);return this._afterPortalAttached(),Qe},this._live="assertive"!==Pe.politeness||Pe.announcementMessage?"off"===Pe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(X){this._assertNotAttached();const oe=this._portalOutlet.attachComponentPortal(X);return this._afterPortalAttached(),oe}attachTemplatePortal(X){this._assertNotAttached();const oe=this._portalOutlet.attachTemplatePortal(X);return this._afterPortalAttached(),oe}onAnimationEnd(X){const{fromState:oe,toState:_e}=X;if(("void"===_e&&"void"!==oe||"hidden"===_e)&&this._completeExit(),"visible"===_e){const ve=this._onEnter;this._ngZone.run(()=>{ve.next(),ve.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const X=this._elementRef.nativeElement,oe=this.snackBarConfig.panelClass;oe&&(Array.isArray(oe)?oe.forEach(Pe=>X.classList.add(Pe)):X.classList.add(oe)),this._exposeToModals();const _e=this._label.nativeElement,ve="mdc-snackbar__label";_e.classList.toggle(ve,!_e.querySelector(`.${ve}`))}_exposeToModals(){const X=this._liveElementId,oe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let _e=0;_e<oe.length;_e++){const ve=oe[_e],Pe=ve.getAttribute("aria-owns");this._trackedModals.add(ve),Pe?-1===Pe.indexOf(X)&&ve.setAttribute("aria-owns",Pe+" "+X):ve.setAttribute("aria-owns",X)}}_clearFromModals(){this._trackedModals.forEach(X=>{const oe=X.getAttribute("aria-owns");if(oe){const _e=oe.replace(this._liveElementId,"").trim();_e.length>0?X.setAttribute("aria-owns",_e):X.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const X=this._elementRef.nativeElement.querySelector("[aria-hidden]"),oe=this._elementRef.nativeElement.querySelector("[aria-live]");if(X&&oe){let _e=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&X.contains(document.activeElement)&&(_e=document.activeElement),X.removeAttribute("aria-hidden"),oe.appendChild(X),_e?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(I.OD),d.rXU(ue))};static#t=this.\u0275cmp=d.VBU({type:Je,selectors:[["mat-snack-bar-container"]],viewQuery:function(oe,_e){if(1&oe&&(d.GBs(S.I3,7),d.GBs(M,7)),2&oe){let ve;d.mGM(ve=d.lsd())&&(_e._portalOutlet=ve.first),d.mGM(ve=d.lsd())&&(_e._label=ve.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(oe,_e){1&oe&&d.Kam("@state.done",function(Pe){return _e.onAnimationEnd(Pe)}),2&oe&&d.zvX("@state",_e._animationState)},standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(oe,_e){1&oe&&(d.j41(0,"div",1)(1,"div",2,0)(3,"div",3),d.DNE(4,L,0,0,"ng-template",4),d.k0s(),d.nrm(5,"div"),d.k0s()()),2&oe&&(d.R7$(5),d.BMQ("aria-live",_e._live)("role",_e._role)("id",_e._liveElementId))},dependencies:[S.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Y.snackBarState]}})}return Je})();const Q=new d.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function Ce(){return new ue}});let Me=(()=>{class Je{get _openedSnackBarRef(){const X=this._parentSnackBar;return X?X._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(X){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=X:this._snackBarRefAtThisLevel=X}constructor(X,oe,_e,ve,Pe,Ve){this._overlay=X,this._live=oe,this._injector=_e,this._breakpointObserver=ve,this._parentSnackBar=Pe,this._defaultConfig=Ve,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=j,this.snackBarContainerComponent=W,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(X,oe){return this._attach(X,oe)}openFromTemplate(X,oe){return this._attach(X,oe)}open(X,oe="",_e){const ve={...this._defaultConfig,..._e};return ve.data={message:X,action:oe},ve.announcementMessage===X&&(ve.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ve)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(X,oe){const ve=d.zZn.create({parent:oe&&oe.viewContainerRef&&oe.viewContainerRef.injector||this._injector,providers:[{provide:ue,useValue:oe}]}),Pe=new S.A8(this.snackBarContainerComponent,oe.viewContainerRef,ve),Ve=X.attach(Pe);return Ve.instance.snackBarConfig=oe,Ve.instance}_attach(X,oe){const _e={...new ue,...this._defaultConfig,...oe},ve=this._createOverlay(_e),Pe=this._attachSnackBarContainer(ve,_e),Ve=new F(Pe,ve);if(X instanceof d.C4Q){const Qe=new S.VA(X,null,{$implicit:_e.data,snackBarRef:Ve});Ve.instance=Pe.attachTemplatePortal(Qe)}else{const Qe=this._createInjector(_e,Ve),Pt=new S.A8(X,void 0,Qe),Se=Pe.attachComponentPortal(Pt);Ve.instance=Se.instance}return this._breakpointObserver.observe(y.Rp.HandsetPortrait).pipe((0,$.Q)(ve.detachments())).subscribe(Qe=>{ve.overlayElement.classList.toggle(this.handsetCssClass,Qe.matches)}),_e.announcementMessage&&Pe._onAnnounce.subscribe(()=>{this._live.announce(_e.announcementMessage,_e.politeness)}),this._animateSnackBar(Ve,_e),this._openedSnackBarRef=Ve,this._openedSnackBarRef}_animateSnackBar(X,oe){X.afterDismissed().subscribe(()=>{this._openedSnackBarRef==X&&(this._openedSnackBarRef=null),oe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{X.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):X.containerInstance.enter(),oe.duration&&oe.duration>0&&X.afterOpened().subscribe(()=>X._dismissAfter(oe.duration))}_createOverlay(X){const oe=new x.rR;oe.direction=X.direction;let _e=this._overlay.position().global();const ve="rtl"===X.direction,Pe="left"===X.horizontalPosition||"start"===X.horizontalPosition&&!ve||"end"===X.horizontalPosition&&ve,Ve=!Pe&&"center"!==X.horizontalPosition;return Pe?_e.left("0"):Ve?_e.right("0"):_e.centerHorizontally(),"top"===X.verticalPosition?_e.top("0"):_e.bottom("0"),oe.positionStrategy=_e,this._overlay.create(oe)}_createInjector(X,oe){return d.zZn.create({parent:X&&X.viewContainerRef&&X.viewContainerRef.injector||this._injector,providers:[{provide:F,useValue:oe},{provide:J,useValue:X.data}]})}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.KVO(x.hJ),d.KVO(E.Ai),d.KVO(d.zZn),d.KVO(y.QP),d.KVO(Je,12),d.KVO(Q))};static#t=this.\u0275prov=d.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})}return Je})(),yt=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275mod=d.$C({type:Je});static#n=this.\u0275inj=d.G2t({providers:[Me],imports:[x.z_,S.jc,A.Hl,R.yE,j,R.yE]})}return Je})()},2047:(dn,Ne,_)=>{"use strict";_.d(Ne,{B4:()=>F,NQ:()=>se,aE:()=>Y});var d=_(7404),A=_(2102),w=_(4879),D=_(7675),C=_(3119),S=_(7405),I=_(7172),E=_(5060);const y=["mat-sort-header",""],x=["*"];function $(W,Ce){if(1&W){const Q=d.RV6();d.j41(0,"div",2),d.bIt("@arrowPosition.start",function(){d.eBV(Q);const Xe=d.XpG();return d.Njj(Xe._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){d.eBV(Q);const Xe=d.XpG();return d.Njj(Xe._disableViewStateAnimation=!1)}),d.nrm(1,"div",3),d.j41(2,"div",4),d.nrm(3,"div",5)(4,"div",6)(5,"div",7),d.k0s()()}if(2&W){const Q=d.XpG();d.Y8G("@arrowOpacity",Q._getArrowViewState())("@arrowPosition",Q._getArrowViewState())("@allowChildren",Q._getArrowDirectionState()),d.R7$(2),d.Y8G("@indicator",Q._getArrowDirectionState()),d.R7$(),d.Y8G("@leftPointer",Q._getArrowDirectionState()),d.R7$(),d.Y8G("@rightPointer",Q._getArrowDirectionState())}}const z=new d.nKC("MAT_SORT_DEFAULT_OPTIONS");let F=(()=>{class W{get direction(){return this._direction}set direction(Q){this._direction=Q}constructor(Q){this._defaultOptions=Q,this._initializedStream=new D.m(1),this.sortables=new Map,this._stateChanges=new C.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new d.bkB,this.initialized=this._initializedStream}register(Q){this.sortables.set(Q.id,Q)}deregister(Q){this.sortables.delete(Q.id)}sort(Q){this.active!=Q.id?(this.active=Q.id,this.direction=Q.start?Q.start:this.start):this.direction=this.getNextSortDirection(Q),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Q){if(!Q)return"";let Xe=function J(W,Ce){let Q=["asc","desc"];return"desc"==W&&Q.reverse(),Ce||Q.push(""),Q}(Q.start||this.start,Q?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),yt=Xe.indexOf(this.direction)+1;return yt>=Xe.length&&(yt=0),Xe[yt]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(Me){return new(Me||W)(d.rXU(z,8))};static#t=this.\u0275dir=d.FsC({type:W,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",d.L39],disabled:[2,"matSortDisabled","disabled",d.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[d.GFd,d.OA$]})}return W})();const ue=E.ed.ENTERING+" "+E.r5.STANDARD_CURVE,ce={indicator:(0,I.hZ)("indicator",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"translateY(0px)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"translateY(10px)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),leftPointer:(0,I.hZ)("leftPointer",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"rotate(-45deg)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"rotate(45deg)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),rightPointer:(0,I.hZ)("rightPointer",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"rotate(45deg)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"rotate(-45deg)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),arrowOpacity:(0,I.hZ)("arrowOpacity",[(0,I.wk)("desc-to-active, asc-to-active, active",(0,I.iF)({opacity:1})),(0,I.wk)("desc-to-hint, asc-to-hint, hint",(0,I.iF)({opacity:.54})),(0,I.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,I.iF)({opacity:0})),(0,I.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,I.i0)("0ms")),(0,I.kY)("* <=> *",(0,I.i0)(ue))]),arrowPosition:(0,I.hZ)("arrowPosition",[(0,I.kY)("* => desc-to-hint, * => desc-to-active",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(-25%)"}),(0,I.iF)({transform:"translateY(0)"})]))),(0,I.kY)("* => hint-to-desc, * => active-to-desc",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(0)"}),(0,I.iF)({transform:"translateY(25%)"})]))),(0,I.kY)("* => asc-to-hint, * => asc-to-active",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(25%)"}),(0,I.iF)({transform:"translateY(0)"})]))),(0,I.kY)("* => hint-to-asc, * => active-to-asc",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(0)"}),(0,I.iF)({transform:"translateY(-25%)"})]))),(0,I.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,I.iF)({transform:"translateY(0)"})),(0,I.wk)("hint-to-desc, active-to-desc, desc",(0,I.iF)({transform:"translateY(-25%)"})),(0,I.wk)("hint-to-asc, active-to-asc, asc",(0,I.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,I.hZ)("allowChildren",[(0,I.kY)("* <=> *",[(0,I.P)("@*",(0,I.MA)(),{optional:!0})])])};let re=(()=>{class W{constructor(){this.changes=new C.B7}static#e=this.\u0275fac=function(Me){return new(Me||W)};static#t=this.\u0275prov=d.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const j={provide:re,deps:[[new d.Xx1,new d.kdw,re]],useFactory:function we(W){return W||new re}};let Y=(()=>{class W{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(Q){this._updateSortActionDescription(Q)}constructor(Q,Me,Xe,yt,Je,je,X,oe){this._intl=Q,this._changeDetectorRef=Me,this._sort=Xe,this._columnDef=yt,this._focusMonitor=Je,this._elementRef=je,this._ariaDescriber=X,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",oe?.arrowPosition&&(this.arrowPosition=oe?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Q=>{const Me=!!Q;Me!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Me),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(Q){this._isDisabled()&&Q||(this._showIndicatorHint=Q,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(Q){this._viewState=Q||{},this._disableViewStateAnimation&&(this._viewState={toState:Q.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(Q){!this._isDisabled()&&(Q.keyCode===w.t6||Q.keyCode===w.Fm)&&(Q.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const Q=this._viewState.fromState;return(Q?`${Q}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(Q){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,Q)),this._sortActionDescription=Q}_handleStateChanges(){this._rerenderSubscription=(0,S.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Me){return new(Me||W)(d.rXU(re),d.rXU(d.gRc),d.rXU(F,8),d.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),d.rXU(A.FN),d.rXU(d.aKT),d.rXU(A.vr,8),d.rXU(z,8))};static#t=this.\u0275cmp=d.VBU({type:W,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Me,Xe){1&Me&&d.bIt("click",function(){return Xe._handleClick()})("keydown",function(Je){return Xe._handleKeydown(Je)})("mouseenter",function(){return Xe._setIndicatorHintVisible(!0)})("mouseleave",function(){return Xe._setIndicatorHintVisible(!1)}),2&Me&&(d.BMQ("aria-sort",Xe._getAriaSortAttribute()),d.AVh("mat-sort-header-disabled",Xe._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",d.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",d.L39]},exportAs:["matSortHeader"],standalone:!0,features:[d.GFd,d.aNF],attrs:y,ngContentSelectors:x,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Me,Xe){1&Me&&(d.NAR(),d.j41(0,"div",0)(1,"div",1),d.SdG(2),d.k0s(),d.DNE(3,$,6,6,"div",2),d.k0s()),2&Me&&(d.AVh("mat-sort-header-sorted",Xe._isSorted())("mat-sort-header-position-before","before"===Xe.arrowPosition),d.BMQ("tabindex",Xe._isDisabled()?null:0)("role",Xe._isDisabled()?null:"button"),d.R7$(3),d.vxM(Xe._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ce.indicator,ce.leftPointer,ce.rightPointer,ce.arrowOpacity,ce.arrowPosition,ce.allowChildren]},changeDetection:0})}return W})(),se=(()=>{class W{static#e=this.\u0275fac=function(Me){return new(Me||W)};static#t=this.\u0275mod=d.$C({type:W});static#n=this.\u0275inj=d.G2t({providers:[j],imports:[E.yE]})}return W})()},7697:(dn,Ne,_)=>{"use strict";_.d(Ne,{I6:()=>Ve}),_(7404),_(198);var w=_(7989),D=_(521),C=_(3119),S=_(7405),I=_(1536),E=_(2175),y=_(2814),x=_(5443);class Ve extends w.qS{get data(){return this._data.value}set data(Pt){Pt=Array.isArray(Pt)?Pt:[],this._data.next(Pt),this._renderChangesSubscription||this._filterData(Pt)}get filter(){return this._filter.value}set filter(Pt){this._filter.next(Pt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Pt){this._sort=Pt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Pt){this._paginator=Pt,this._updateChangeSubscription()}constructor(Pt=[]){super(),this._renderData=new D.t([]),this._filter=new D.t(""),this._internalPageChanges=new C.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(Se,qt)=>{const Vt=Se[qt];if((0,y.o1)(Vt)){const Tt=Number(Vt);return Tt<9007199254740991?Tt:Vt}return Vt},this.sortData=(Se,qt)=>{const Vt=qt.active,Tt=qt.direction;return Vt&&""!=Tt?Se.sort((Ot,ft)=>{let Re=this.sortingDataAccessor(Ot,Vt),Ye=this.sortingDataAccessor(ft,Vt);const vt=typeof Re,It=typeof Ye;vt!==It&&("number"===vt&&(Re+=""),"number"===It&&(Ye+=""));let ot=0;return null!=Re&&null!=Ye?Re>Ye?ot=1:Re<Ye&&(ot=-1):null!=Re?ot=1:null!=Ye&&(ot=-1),ot*("asc"==Tt?1:-1)}):Se},this.filterPredicate=(Se,qt)=>{const Vt=Object.keys(Se).reduce((Ot,ft)=>Ot+Se[ft]+"\u25ec","").toLowerCase(),Tt=qt.trim().toLowerCase();return-1!=Vt.indexOf(Tt)},this._data=new D.t(Pt),this._updateChangeSubscription()}_updateChangeSubscription(){const Pt=this._sort?(0,S.h)(this._sort.sortChange,this._sort.initialized):(0,I.of)(null),Se=this._paginator?(0,S.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,I.of)(null),Vt=(0,E.zV)([this._data,this._filter]).pipe((0,x.T)(([ft])=>this._filterData(ft))),Tt=(0,E.zV)([Vt,Pt]).pipe((0,x.T)(([ft])=>this._orderData(ft))),Ot=(0,E.zV)([Tt,Se]).pipe((0,x.T)(([ft])=>this._pageData(ft)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Ot.subscribe(ft=>this._renderData.next(ft))}_filterData(Pt){return this.filteredData=null==this.filter||""===this.filter?Pt:Pt.filter(Se=>this.filterPredicate(Se,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Pt){return this.sort?this.sortData(Pt.slice(),this.sort):Pt}_pageData(Pt){if(!this.paginator)return Pt;const Se=this.paginator.pageIndex*this.paginator.pageSize;return Pt.slice(Se,Se+this.paginator.pageSize)}_updatePaginator(Pt){Promise.resolve().then(()=>{const Se=this.paginator;if(Se&&(Se.length=Pt,Se.pageIndex>0)){const qt=Math.ceil(Se.length/Se.pageSize)-1||0,Vt=Math.min(Se.pageIndex,qt);Vt!==Se.pageIndex&&(Se.pageIndex=Vt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},640:(dn,Ne,_)=>{"use strict";_.d(Ne,{oV:()=>Xe,uc:()=>je});var d=_(7464),A=_(2814),w=_(4879),D=_(7404),C=_(316),S=_(7699),I=_(2102),E=_(3680),y=_(1570),x=_(4053),$=_(9168),R=_(3119),M=(_(7172),_(5060));const L=["tooltip"],J=new D.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const X=(0,D.WQX)(y.hJ);return()=>X.scrollStrategies.reposition({scrollThrottle:20})}}),ce={provide:J,deps:[y.hJ],useFactory:function ue(X){return()=>X.scrollStrategies.reposition({scrollThrottle:20})}},we=new D.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function re(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",se=(0,S.BQ)({passive:!0});let Xe=(()=>{class X{get position(){return this._position}set position(_e){_e!==this._position&&(this._position=_e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(_e){this._positionAtOrigin=(0,A.he)(_e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(_e){this._disabled=(0,A.he)(_e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(_e){this._showDelay=(0,A.OE)(_e)}get hideDelay(){return this._hideDelay}set hideDelay(_e){this._hideDelay=(0,A.OE)(_e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(_e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=_e?String(_e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(_e){this._tooltipClass=_e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(_e,ve,Pe,Ve,Qe,Pt,Se,qt,Vt,Tt,Ot,ft){this._overlay=_e,this._elementRef=ve,this._scrollDispatcher=Pe,this._viewContainerRef=Ve,this._ngZone=Qe,this._platform=Pt,this._ariaDescriber=Se,this._focusMonitor=qt,this._dir=Tt,this._defaultOptions=Ot,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=yt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new R.B7,this._injector=(0,D.WQX)(D.zZn),this._scrollStrategy=Vt,this._document=ft,Ot&&(this._showDelay=Ot.showDelay,this._hideDelay=Ot.hideDelay,Ot.position&&(this.position=Ot.position),Ot.positionAtOrigin&&(this.positionAtOrigin=Ot.positionAtOrigin),Ot.touchGestures&&(this.touchGestures=Ot.touchGestures)),Tt.change.pipe((0,d.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,d.Q)(this._destroyed)).subscribe(_e=>{_e?"keyboard"===_e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const _e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ve,Pe])=>{_e.removeEventListener(ve,Pe,se)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(_e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(_e)}show(_e=this.showDelay,ve){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Pe=this._createOverlay(ve);this._detach(),this._portal=this._portal||new $.A8(this._tooltipComponent,this._viewContainerRef);const Ve=this._tooltipInstance=Pe.attach(this._portal).instance;Ve._triggerElement=this._elementRef.nativeElement,Ve._mouseLeaveHideDelay=this._hideDelay,Ve.afterHidden().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ve.show(_e)}hide(_e=this.hideDelay){const ve=this._tooltipInstance;ve&&(ve.isVisible()?ve.hide(_e):(ve._cancelPendingAnimations(),this._detach()))}toggle(_e){this._isTooltipVisible()?this.hide():this.show(void 0,_e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(_e){if(this._overlayRef){const Ve=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!_e)&&Ve._origin instanceof D.aKT)return this._overlayRef;this._detach()}const ve=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Pe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&_e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ve);return Pe.positionChanges.pipe((0,d.Q)(this._destroyed)).subscribe(Ve=>{this._updateCurrentPositionClass(Ve.connectionPair),this._tooltipInstance&&Ve.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Pe,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,d.Q)(this._destroyed)).subscribe(Ve=>{this._isTooltipVisible()&&Ve.keyCode===w._f&&!(0,w.rp)(Ve)&&(Ve.preventDefault(),Ve.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(_e){const ve=_e.getConfig().positionStrategy,Pe=this._getOrigin(),Ve=this._getOverlayPosition();ve.withPositions([this._addOffset({...Pe.main,...Ve.main}),this._addOffset({...Pe.fallback,...Ve.fallback})])}_addOffset(_e){const Pe=!this._dir||"ltr"==this._dir.value;return"top"===_e.originY?_e.offsetY=-8:"bottom"===_e.originY?_e.offsetY=8:"start"===_e.originX?_e.offsetX=Pe?-8:8:"end"===_e.originX&&(_e.offsetX=Pe?8:-8),_e}_getOrigin(){const _e=!this._dir||"ltr"==this._dir.value,ve=this.position;let Pe;"above"==ve||"below"==ve?Pe={originX:"center",originY:"above"==ve?"top":"bottom"}:"before"==ve||"left"==ve&&_e||"right"==ve&&!_e?Pe={originX:"start",originY:"center"}:("after"==ve||"right"==ve&&_e||"left"==ve&&!_e)&&(Pe={originX:"end",originY:"center"});const{x:Ve,y:Qe}=this._invertPosition(Pe.originX,Pe.originY);return{main:Pe,fallback:{originX:Ve,originY:Qe}}}_getOverlayPosition(){const _e=!this._dir||"ltr"==this._dir.value,ve=this.position;let Pe;"above"==ve?Pe={overlayX:"center",overlayY:"bottom"}:"below"==ve?Pe={overlayX:"center",overlayY:"top"}:"before"==ve||"left"==ve&&_e||"right"==ve&&!_e?Pe={overlayX:"end",overlayY:"center"}:("after"==ve||"right"==ve&&_e||"left"==ve&&!_e)&&(Pe={overlayX:"start",overlayY:"center"});const{x:Ve,y:Qe}=this._invertPosition(Pe.overlayX,Pe.overlayY);return{main:Pe,fallback:{overlayX:Ve,overlayY:Qe}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,D.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(_e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=_e,this._tooltipInstance._markForCheck())}_invertPosition(_e,ve){return"above"===this.position||"below"===this.position?"top"===ve?ve="bottom":"bottom"===ve&&(ve="top"):"end"===_e?_e="start":"start"===_e&&(_e="end"),{x:_e,y:ve}}_updateCurrentPositionClass(_e){const{overlayY:ve,originX:Pe,originY:Ve}=_e;let Qe;if(Qe="center"===ve?this._dir&&"rtl"===this._dir.value?"end"===Pe?"left":"right":"start"===Pe?"left":"right":"bottom"===ve&&"top"===Ve?"above":"below",Qe!==this._currentPosition){const Pt=this._overlayRef;if(Pt){const Se=`${this._cssClassPrefix}-${Y}-`;Pt.removePanelClass(Se+this._currentPosition),Pt.addPanelClass(Se+Qe)}this._currentPosition=Qe}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",_e=>{let ve;this._setupPointerExitEventsIfNeeded(),void 0!==_e.x&&void 0!==_e.y&&(ve=_e),this.show(void 0,ve)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",_e=>{const ve=_e.targetTouches?.[0],Pe=ve?{x:ve.clientX,y:ve.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Pe),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const _e=[];if(this._platformSupportsMouseEvents())_e.push(["mouseleave",ve=>{const Pe=ve.relatedTarget;(!Pe||!this._overlayRef?.overlayElement.contains(Pe))&&this.hide()}],["wheel",ve=>this._wheelListener(ve)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ve=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};_e.push(["touchend",ve],["touchcancel",ve])}this._addListeners(_e),this._passiveListeners.push(..._e)}_addListeners(_e){_e.forEach(([ve,Pe])=>{this._elementRef.nativeElement.addEventListener(ve,Pe,se)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(_e){if(this._isTooltipVisible()){const ve=this._document.elementFromPoint(_e.clientX,_e.clientY),Pe=this._elementRef.nativeElement;ve!==Pe&&!Pe.contains(ve)&&this.hide()}}_disableNativeGesturesIfNecessary(){const _e=this.touchGestures;if("off"!==_e){const ve=this._elementRef.nativeElement,Pe=ve.style;("on"===_e||"INPUT"!==ve.nodeName&&"TEXTAREA"!==ve.nodeName)&&(Pe.userSelect=Pe.msUserSelect=Pe.webkitUserSelect=Pe.MozUserSelect="none"),("on"===_e||!ve.draggable)&&(Pe.webkitUserDrag="none"),Pe.touchAction="none",Pe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(ve){return new(ve||X)(D.rXU(y.hJ),D.rXU(D.aKT),D.rXU(x.R),D.rXU(D.c1b),D.rXU(D.SKi),D.rXU(S.OD),D.rXU(I.vr),D.rXU(I.FN),D.rXU(J),D.rXU(E.dS),D.rXU(we,8),D.rXU(C.qQ))};static#t=this.\u0275dir=D.FsC({type:X,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(ve,Pe){2&ve&&D.AVh("mat-mdc-tooltip-disabled",Pe.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return X})(),yt=(()=>{class X{constructor(_e,ve,Pe){this._changeDetectorRef=_e,this._elementRef=ve,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new R.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Pe}show(_e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},_e)}hide(_e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},_e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:_e}){(!_e||!this._triggerElement.contains(_e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const _e=this._elementRef.nativeElement.getBoundingClientRect();return _e.height>24&&_e.width>=200}_handleAnimationEnd({animationName:_e}){(_e===this._showAnimation||_e===this._hideAnimation)&&this._finalizeAnimation(_e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(_e){_e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(_e){const ve=this._tooltip.nativeElement,Pe=this._showAnimation,Ve=this._hideAnimation;if(ve.classList.remove(_e?Ve:Pe),ve.classList.add(_e?Pe:Ve),this._isVisible!==_e&&(this._isVisible=_e,this._changeDetectorRef.markForCheck()),_e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Qe=getComputedStyle(ve);("0s"===Qe.getPropertyValue("animation-duration")||"none"===Qe.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}_e&&this._onShow(),this._animationsDisabled&&(ve.classList.add("_mat-animation-noopable"),this._finalizeAnimation(_e))}static#e=this.\u0275fac=function(ve){return new(ve||X)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.bc$,8))};static#t=this.\u0275cmp=D.VBU({type:X,selectors:[["mat-tooltip-component"]],viewQuery:function(ve,Pe){if(1&ve&&D.GBs(L,7),2&ve){let Ve;D.mGM(Ve=D.lsd())&&(Pe._tooltip=Ve.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ve,Pe){1&ve&&D.bIt("mouseleave",function(Qe){return Pe._handleMouseLeave(Qe)}),2&ve&&D.xc7("zoom",Pe.isVisible()?1:null)},standalone:!0,features:[D.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(ve,Pe){if(1&ve){const Ve=D.RV6();D.j41(0,"div",1,0),D.bIt("animationend",function(Pt){return D.eBV(Ve),D.Njj(Pe._handleAnimationEnd(Pt))}),D.j41(2,"div",2),D.EFF(3),D.k0s()()}2&ve&&(D.AVh("mdc-tooltip--multiline",Pe._isMultiline),D.Y8G("ngClass",Pe.tooltipClass),D.R7$(3),D.JRh(Pe.message))},dependencies:[C.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return X})(),je=(()=>{class X{static#e=this.\u0275fac=function(ve){return new(ve||X)};static#t=this.\u0275mod=D.$C({type:X});static#n=this.\u0275inj=D.G2t({providers:[ce],imports:[I.Pd,C.MD,y.z_,M.yE,M.yE,x.Gj]})}return X})()},2552:(dn,Ne,_)=>{"use strict";_.d(Ne,{wb:()=>ks});var d=_(7404),A=_(436),w=_(7172);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */function C(jt){return new d.wOt(3e3,!1)}function Se(jt){switch(jt.length){case 0:return new w.sf;case 1:return jt[0];default:return new w.ui(jt)}}function qt(jt,de,De=new Map,H=new Map){const le=[],ie=[];let ze=-1,Ct=null;if(de.forEach(wn=>{const Pn=wn.get("offset"),Di=Pn==ze,Rn=Di&&Ct||new Map;wn.forEach((mr,zr)=>{let hr=zr,Nr=mr;if("offset"!==zr)switch(hr=jt.normalizePropertyName(hr,le),Nr){case w.FX:Nr=De.get(zr);break;case w.kp:Nr=H.get(zr);break;default:Nr=jt.normalizeStyleValue(zr,hr,Nr,le)}Rn.set(hr,Nr)}),Di||ie.push(Rn),Ct=Rn,ze=Pn}),le.length)throw function Me(jt){return new d.wOt(3502,!1)}();return ie}function Vt(jt,de,De,H){switch(de){case"start":jt.onStart(()=>H(De&&Tt(De,"start",jt)));break;case"done":jt.onDone(()=>H(De&&Tt(De,"done",jt)));break;case"destroy":jt.onDestroy(()=>H(De&&Tt(De,"destroy",jt)))}}function Tt(jt,de,De){const ie=Ot(jt.element,jt.triggerName,jt.fromState,jt.toState,de||jt.phaseName,De.totalTime??jt.totalTime,!!De.disabled),ze=jt._data;return null!=ze&&(ie._data=ze),ie}function Ot(jt,de,De,H,le="",ie=0,ze){return{element:jt,triggerName:de,fromState:De,toState:H,phaseName:le,totalTime:ie,disabled:!!ze}}function ft(jt,de,De){let H=jt.get(de);return H||jt.set(de,H=De),H}function Re(jt){const de=jt.indexOf(":");return[jt.substring(1,de),jt.slice(de+1)]}const Ye=typeof document>"u"?null:document.documentElement;function vt(jt){const de=jt.parentNode||jt.host||null;return de===Ye?null:de}let ot=null,st=!1;function ct(jt,de){for(;de;){if(de===jt)return!0;de=vt(de)}return!1}function ut(jt,de,De){if(De)return Array.from(jt.querySelectorAll(de));const H=jt.querySelector(de);return H?[H]:[]}let Fe=(()=>{class jt{validateStyleProperty(De){return function Nt(jt){ot||(ot=function wt(){return typeof document<"u"?document.body:null}()||{},st=!!ot.style&&"WebkitAppearance"in ot.style);let de=!0;return ot.style&&!function It(jt){return"ebkit"==jt.substring(1,6)}(jt)&&(de=jt in ot.style,!de&&st&&(de="Webkit"+jt.charAt(0).toUpperCase()+jt.slice(1)in ot.style)),de}(De)}containsElement(De,H){return ct(De,H)}getParentElement(De){return vt(De)}query(De,H,le){return ut(De,H,le)}computeStyle(De,H,le){return le||""}animate(De,H,le,ie,ze,Ct=[],wn){return new w.sf(le,ie)}static#e=this.\u0275fac=function(H){return new(H||jt)};static#t=this.\u0275prov=d.jDH({token:jt,factory:jt.\u0275fac})}return jt})();class pe{static#e=this.NOOP=new Fe}class at{}const nn=1e3,sn="ng-enter",tn="ng-leave",xt="ng-trigger",zt=".ng-trigger",$t="ng-animating",vn=".ng-animating";function Nn(jt){if("number"==typeof jt)return jt;const de=jt.match(/^(-?[\.\d]+)(m?s)/);return!de||de.length<2?0:Ni(parseFloat(de[1]),de[2])}function Ni(jt,de){return"s"===de?jt*nn:jt}function Sn(jt,de,De){return jt.hasOwnProperty("duration")?jt:function Gn(jt,de,De){let le,ie=0,ze="";if("string"==typeof jt){const Ct=jt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ct)return de.push(C()),{duration:0,delay:0,easing:""};le=Ni(parseFloat(Ct[1]),Ct[2]);const wn=Ct[3];null!=wn&&(ie=Ni(parseFloat(wn),Ct[4]));const Pn=Ct[5];Pn&&(ze=Pn)}else le=jt;if(!De){let Ct=!1,wn=de.length;le<0&&(de.push(function S(){return new d.wOt(3100,!1)}()),Ct=!0),ie<0&&(de.push(function I(){return new d.wOt(3101,!1)}()),Ct=!0),Ct&&de.splice(wn,0,C())}return{duration:le,delay:ie,easing:ze}}(jt,de,De)}function pt(jt,de,De){de.forEach((H,le)=>{const ie=Te(le);De&&!De.has(le)&&De.set(le,jt.style[ie]),jt.style[ie]=H})}function $e(jt,de){de.forEach((De,H)=>{const le=Te(H);jt.style[le]=""})}function We(jt){return Array.isArray(jt)?1==jt.length?jt[0]:(0,w.K2)(jt):jt}const gt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zt(jt){let de=[];if("string"==typeof jt){let De;for(;De=gt.exec(jt);)de.push(De[1]);gt.lastIndex=0}return de}function gn(jt,de,De){const H=`${jt}`,le=H.replace(gt,(ie,ze)=>{let Ct=de[ze];return null==Ct&&(De.push(function y(jt){return new d.wOt(3003,!1)}()),Ct=""),Ct.toString()});return le==H?jt:le}const lt=/-+([a-z0-9])/g;function Te(jt){return jt.replace(lt,(...de)=>de[1].toUpperCase())}function Ft(jt,de,De){switch(de.type){case w.If.Trigger:return jt.visitTrigger(de,De);case w.If.State:return jt.visitState(de,De);case w.If.Transition:return jt.visitTransition(de,De);case w.If.Sequence:return jt.visitSequence(de,De);case w.If.Group:return jt.visitGroup(de,De);case w.If.Animate:return jt.visitAnimate(de,De);case w.If.Keyframes:return jt.visitKeyframes(de,De);case w.If.Style:return jt.visitStyle(de,De);case w.If.Reference:return jt.visitReference(de,De);case w.If.AnimateChild:return jt.visitAnimateChild(de,De);case w.If.AnimateRef:return jt.visitAnimateRef(de,De);case w.If.Query:return jt.visitQuery(de,De);case w.If.Stagger:return jt.visitStagger(de,De);default:throw function x(jt){return new d.wOt(3004,!1)}()}}function In(jt,de){return window.getComputedStyle(jt)[de]}const On=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ei extends at{normalizePropertyName(de,De){return Te(de)}normalizeStyleValue(de,De,H,le){let ie="";const ze=H.toString().trim();if(On.has(De)&&0!==H&&"0"!==H)if("number"==typeof H)ie="px";else{const Ct=H.match(/^[+-]?[\d\.]+([a-z]*)$/);Ct&&0==Ct[1].length&&le.push(function $(jt,de){return new d.wOt(3005,!1)}())}return ze+ie}}const ur="*";const _s=new Set(["true","1"]),Ur=new Set(["false","0"]);function ys(jt,de){const De=_s.has(jt)||Ur.has(jt),H=_s.has(de)||Ur.has(de);return(le,ie)=>{let ze=jt==ur||jt==le,Ct=de==ur||de==ie;return!ze&&De&&"boolean"==typeof le&&(ze=le?_s.has(jt):Ur.has(jt)),!Ct&&H&&"boolean"==typeof ie&&(Ct=ie?_s.has(de):Ur.has(de)),ze&&Ct}}const ss=new RegExp("s*:selfs*,?","g");function Yi(jt,de,De,H){return new cr(jt).build(de,De,H)}class cr{constructor(de){this._driver=de}build(de,De,H){const le=new Ge(De);return this._resetContextStyleTimingState(le),Ft(this,We(de),le)}_resetContextStyleTimingState(de){de.currentQuerySelector="",de.collectedStyles=new Map,de.collectedStyles.set("",new Map),de.currentTime=0}visitTrigger(de,De){let H=De.queryCount=0,le=De.depCount=0;const ie=[],ze=[];return"@"==de.name.charAt(0)&&De.errors.push(function R(){return new d.wOt(3006,!1)}()),de.definitions.forEach(Ct=>{if(this._resetContextStyleTimingState(De),Ct.type==w.If.State){const wn=Ct,Pn=wn.name;Pn.toString().split(/\s*,\s*/).forEach(Di=>{wn.name=Di,ie.push(this.visitState(wn,De))}),wn.name=Pn}else if(Ct.type==w.If.Transition){const wn=this.visitTransition(Ct,De);H+=wn.queryCount,le+=wn.depCount,ze.push(wn)}else De.errors.push(function O(){return new d.wOt(3007,!1)}())}),{type:w.If.Trigger,name:de.name,states:ie,transitions:ze,queryCount:H,depCount:le,options:null}}visitState(de,De){const H=this.visitStyle(de.styles,De),le=de.options&&de.options.params||null;if(H.containsDynamicStyles){const ie=new Set,ze=le||{};H.styles.forEach(Ct=>{Ct instanceof Map&&Ct.forEach(wn=>{Zt(wn).forEach(Pn=>{ze.hasOwnProperty(Pn)||ie.add(Pn)})})}),ie.size&&De.errors.push(function M(jt,de){return new d.wOt(3008,!1)}(0,ie.values()))}return{type:w.If.State,name:de.name,style:H,options:le?{params:le}:null}}visitTransition(de,De){De.queryCount=0,De.depCount=0;const H=Ft(this,We(de.animation),De),le=function or(jt,de){const De=[];return"string"==typeof jt?jt.split(/\s*,\s*/).forEach(H=>function Tr(jt,de,De){if(":"==jt[0]){const wn=function Hr(jt,de){switch(jt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(De,H)=>parseFloat(H)>parseFloat(De);case":decrement":return(De,H)=>parseFloat(H)<parseFloat(De);default:return de.push(function se(jt){return new d.wOt(3016,!1)}()),"* => *"}}(jt,De);if("function"==typeof wn)return void de.push(wn);jt=wn}const H=jt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==H||H.length<4)return De.push(function Y(jt){return new d.wOt(3015,!1)}()),de;const le=H[1],ie=H[2],ze=H[3];de.push(ys(le,ze)),"<"==ie[0]&&(le!=ur||ze!=ur)&&de.push(ys(ze,le))}(H,De,de)):De.push(jt),De}(de.expr,De.errors);return{type:w.If.Transition,matchers:le,animation:H,queryCount:De.queryCount,depCount:De.depCount,options:et(de.options)}}visitSequence(de,De){return{type:w.If.Sequence,steps:de.steps.map(H=>Ft(this,H,De)),options:et(de.options)}}visitGroup(de,De){const H=De.currentTime;let le=0;const ie=de.steps.map(ze=>{De.currentTime=H;const Ct=Ft(this,ze,De);return le=Math.max(le,De.currentTime),Ct});return De.currentTime=le,{type:w.If.Group,steps:ie,options:et(de.options)}}visitAnimate(de,De){const H=function ne(jt,de){if(jt.hasOwnProperty("duration"))return jt;if("number"==typeof jt)return He(Sn(jt,de).duration,0,"");const De=jt;if(De.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=He(0,0,"");return ie.dynamic=!0,ie.strValue=De,ie}const le=Sn(De,de);return He(le.duration,le.delay,le.easing)}(de.timings,De.errors);De.currentAnimateTimings=H;let le,ie=de.styles?de.styles:(0,w.iF)({});if(ie.type==w.If.Keyframes)le=this.visitKeyframes(ie,De);else{let ze=de.styles,Ct=!1;if(!ze){Ct=!0;const Pn={};H.easing&&(Pn.easing=H.easing),ze=(0,w.iF)(Pn)}De.currentTime+=H.duration+H.delay;const wn=this.visitStyle(ze,De);wn.isEmptyStep=Ct,le=wn}return De.currentAnimateTimings=null,{type:w.If.Animate,timings:H,style:le,options:null}}visitStyle(de,De){const H=this._makeStyleAst(de,De);return this._validateStyleAst(H,De),H}_makeStyleAst(de,De){const H=[],le=Array.isArray(de.styles)?de.styles:[de.styles];for(let Ct of le)"string"==typeof Ct?Ct===w.kp?H.push(Ct):De.errors.push(new d.wOt(3002,!1)):H.push(new Map(Object.entries(Ct)));let ie=!1,ze=null;return H.forEach(Ct=>{if(Ct instanceof Map&&(Ct.has("easing")&&(ze=Ct.get("easing"),Ct.delete("easing")),!ie))for(let wn of Ct.values())if(wn.toString().indexOf("{{")>=0){ie=!0;break}}),{type:w.If.Style,styles:H,easing:ze,offset:de.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(de,De){const H=De.currentAnimateTimings;let le=De.currentTime,ie=De.currentTime;H&&ie>0&&(ie-=H.duration+H.delay),de.styles.forEach(ze=>{"string"!=typeof ze&&ze.forEach((Ct,wn)=>{const Pn=De.collectedStyles.get(De.currentQuerySelector),Di=Pn.get(wn);let Rn=!0;Di&&(ie!=le&&ie>=Di.startTime&&le<=Di.endTime&&(De.errors.push(function F(jt,de,De,H,le){return new d.wOt(3010,!1)}()),Rn=!1),ie=Di.startTime),Rn&&Pn.set(wn,{startTime:ie,endTime:le}),De.options&&function Be(jt,de,De){const H=de.params||{},le=Zt(jt);le.length&&le.forEach(ie=>{H.hasOwnProperty(ie)||De.push(function E(jt){return new d.wOt(3001,!1)}())})}(Ct,De.options,De.errors)})})}visitKeyframes(de,De){const H={type:w.If.Keyframes,styles:[],options:null};if(!De.currentAnimateTimings)return De.errors.push(function J(){return new d.wOt(3011,!1)}()),H;let ie=0;const ze=[];let Ct=!1,wn=!1,Pn=0;const Di=de.steps.map(Dr=>{const Us=this._makeStyleAst(Dr,De);let Ns=null!=Us.offset?Us.offset:function Mt(jt){if("string"==typeof jt)return null;let de=null;if(Array.isArray(jt))jt.forEach(De=>{if(De instanceof Map&&De.has("offset")){const H=De;de=parseFloat(H.get("offset")),H.delete("offset")}});else if(jt instanceof Map&&jt.has("offset")){const De=jt;de=parseFloat(De.get("offset")),De.delete("offset")}return de}(Us.styles),Ks=0;return null!=Ns&&(ie++,Ks=Us.offset=Ns),wn=wn||Ks<0||Ks>1,Ct=Ct||Ks<Pn,Pn=Ks,ze.push(Ks),Us});wn&&De.errors.push(function ue(){return new d.wOt(3012,!1)}()),Ct&&De.errors.push(function ce(){return new d.wOt(3200,!1)}());const Rn=de.steps.length;let mr=0;ie>0&&ie<Rn?De.errors.push(function re(){return new d.wOt(3202,!1)}()):0==ie&&(mr=1/(Rn-1));const zr=Rn-1,hr=De.currentTime,Nr=De.currentAnimateTimings,qs=Nr.duration;return Di.forEach((Dr,Us)=>{const Ns=mr>0?Us==zr?1:mr*Us:ze[Us],Ks=Ns*qs;De.currentTime=hr+Nr.delay+Ks,Nr.duration=Ks,this._validateStyleAst(Dr,De),Dr.offset=Ns,H.styles.push(Dr)}),H}visitReference(de,De){return{type:w.If.Reference,animation:Ft(this,We(de.animation),De),options:et(de.options)}}visitAnimateChild(de,De){return De.depCount++,{type:w.If.AnimateChild,options:et(de.options)}}visitAnimateRef(de,De){return{type:w.If.AnimateRef,animation:this.visitReference(de.animation,De),options:et(de.options)}}visitQuery(de,De){const H=De.currentQuerySelector,le=de.options||{};De.queryCount++,De.currentQuery=de;const[ie,ze]=function ji(jt){const de=!!jt.split(/\s*,\s*/).find(De=>":self"==De);return de&&(jt=jt.replace(ss,"")),jt=jt.replace(/@\*/g,zt).replace(/@\w+/g,De=>zt+"-"+De.slice(1)).replace(/:animating/g,vn),[jt,de]}(de.selector);De.currentQuerySelector=H.length?H+" "+ie:ie,ft(De.collectedStyles,De.currentQuerySelector,new Map);const Ct=Ft(this,We(de.animation),De);return De.currentQuery=null,De.currentQuerySelector=H,{type:w.If.Query,selector:ie,limit:le.limit||0,optional:!!le.optional,includeSelf:ze,animation:Ct,originalSelector:de.selector,options:et(de.options)}}visitStagger(de,De){De.currentQuery||De.errors.push(function we(){return new d.wOt(3013,!1)}());const H="full"===de.timings?{duration:0,delay:0,easing:"full"}:Sn(de.timings,De.errors,!0);return{type:w.If.Stagger,animation:Ft(this,We(de.animation),De),timings:H,options:null}}}class Ge{constructor(de){this.errors=de,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function et(jt){return jt?(jt={...jt}).params&&(jt.params=function ii(jt){return jt?{...jt}:null}(jt.params)):jt={},jt}function He(jt,de,De){return{duration:jt,delay:de,easing:De}}function kt(jt,de,De,H,le,ie,ze=null,Ct=!1){return{type:1,element:jt,keyframes:de,preStyleProps:De,postStyleProps:H,duration:le,delay:ie,totalTime:le+ie,easing:ze,subTimeline:Ct}}class Bt{constructor(){this._map=new Map}get(de){return this._map.get(de)||[]}append(de,De){let H=this._map.get(de);H||this._map.set(de,H=[]),H.push(...De)}has(de){return this._map.has(de)}clear(){this._map.clear()}}const lr=new RegExp(":enter","g"),Lr=new RegExp(":leave","g");function Zr(jt,de,De,H,le,ie=new Map,ze=new Map,Ct,wn,Pn=[]){return(new ds).buildKeyframes(jt,de,De,H,le,ie,ze,Ct,wn,Pn)}class ds{buildKeyframes(de,De,H,le,ie,ze,Ct,wn,Pn,Di=[]){Pn=Pn||new Bt;const Rn=new Er(de,De,Pn,le,ie,Di,[]);Rn.options=wn;const mr=wn.delay?Nn(wn.delay):0;Rn.currentTimeline.delayNextStep(mr),Rn.currentTimeline.setStyles([ze],null,Rn.errors,wn),Ft(this,H,Rn);const zr=Rn.timelines.filter(hr=>hr.containsAnimation());if(zr.length&&Ct.size){let hr;for(let Nr=zr.length-1;Nr>=0;Nr--){const qs=zr[Nr];if(qs.element===De){hr=qs;break}}hr&&!hr.allowOnlyTimelineStyles()&&hr.setStyles([Ct],null,Rn.errors,wn)}return zr.length?zr.map(hr=>hr.buildKeyframes()):[kt(De,[],[],[],0,mr,"",!1)]}visitTrigger(de,De){}visitState(de,De){}visitTransition(de,De){}visitAnimateChild(de,De){const H=De.subInstructions.get(De.element);if(H){const le=De.createSubContext(de.options),ie=De.currentTimeline.currentTime,ze=this._visitSubInstructions(H,le,le.options);ie!=ze&&De.transformIntoNewTimeline(ze)}De.previousNode=de}visitAnimateRef(de,De){const H=De.createSubContext(de.options);H.transformIntoNewTimeline(),this._applyAnimationRefDelays([de.options,de.animation.options],De,H),this.visitReference(de.animation,H),De.transformIntoNewTimeline(H.currentTimeline.currentTime),De.previousNode=de}_applyAnimationRefDelays(de,De,H){for(const le of de){const ie=le?.delay;if(ie){const ze="number"==typeof ie?ie:Nn(gn(ie,le?.params??{},De.errors));H.delayNextStep(ze)}}}_visitSubInstructions(de,De,H){let ie=De.currentTimeline.currentTime;const ze=null!=H.duration?Nn(H.duration):null,Ct=null!=H.delay?Nn(H.delay):null;return 0!==ze&&de.forEach(wn=>{const Pn=De.appendInstructionToTimeline(wn,ze,Ct);ie=Math.max(ie,Pn.duration+Pn.delay)}),ie}visitReference(de,De){De.updateOptions(de.options,!0),Ft(this,de.animation,De),De.previousNode=de}visitSequence(de,De){const H=De.subContextCount;let le=De;const ie=de.options;if(ie&&(ie.params||ie.delay)&&(le=De.createSubContext(ie),le.transformIntoNewTimeline(),null!=ie.delay)){le.previousNode.type==w.If.Style&&(le.currentTimeline.snapshotCurrentStyles(),le.previousNode=Os);const ze=Nn(ie.delay);le.delayNextStep(ze)}de.steps.length&&(de.steps.forEach(ze=>Ft(this,ze,le)),le.currentTimeline.applyStylesToKeyframe(),le.subContextCount>H&&le.transformIntoNewTimeline()),De.previousNode=de}visitGroup(de,De){const H=[];let le=De.currentTimeline.currentTime;const ie=de.options&&de.options.delay?Nn(de.options.delay):0;de.steps.forEach(ze=>{const Ct=De.createSubContext(de.options);ie&&Ct.delayNextStep(ie),Ft(this,ze,Ct),le=Math.max(le,Ct.currentTimeline.currentTime),H.push(Ct.currentTimeline)}),H.forEach(ze=>De.currentTimeline.mergeTimelineCollectedStyles(ze)),De.transformIntoNewTimeline(le),De.previousNode=de}_visitTiming(de,De){if(de.dynamic){const H=de.strValue;return Sn(De.params?gn(H,De.params,De.errors):H,De.errors)}return{duration:de.duration,delay:de.delay,easing:de.easing}}visitAnimate(de,De){const H=De.currentAnimateTimings=this._visitTiming(de.timings,De),le=De.currentTimeline;H.delay&&(De.incrementTime(H.delay),le.snapshotCurrentStyles());const ie=de.style;ie.type==w.If.Keyframes?this.visitKeyframes(ie,De):(De.incrementTime(H.duration),this.visitStyle(ie,De),le.applyStylesToKeyframe()),De.currentAnimateTimings=null,De.previousNode=de}visitStyle(de,De){const H=De.currentTimeline,le=De.currentAnimateTimings;!le&&H.hasCurrentStyleProperties()&&H.forwardFrame();const ie=le&&le.easing||de.easing;de.isEmptyStep?H.applyEmptyStep(ie):H.setStyles(de.styles,ie,De.errors,De.options),De.previousNode=de}visitKeyframes(de,De){const H=De.currentAnimateTimings,le=De.currentTimeline.duration,ie=H.duration,Ct=De.createSubContext().currentTimeline;Ct.easing=H.easing,de.styles.forEach(wn=>{Ct.forwardTime((wn.offset||0)*ie),Ct.setStyles(wn.styles,wn.easing,De.errors,De.options),Ct.applyStylesToKeyframe()}),De.currentTimeline.mergeTimelineCollectedStyles(Ct),De.transformIntoNewTimeline(le+ie),De.previousNode=de}visitQuery(de,De){const H=De.currentTimeline.currentTime,le=de.options||{},ie=le.delay?Nn(le.delay):0;ie&&(De.previousNode.type===w.If.Style||0==H&&De.currentTimeline.hasCurrentStyleProperties())&&(De.currentTimeline.snapshotCurrentStyles(),De.previousNode=Os);let ze=H;const Ct=De.invokeQuery(de.selector,de.originalSelector,de.limit,de.includeSelf,!!le.optional,De.errors);De.currentQueryTotal=Ct.length;let wn=null;Ct.forEach((Pn,Di)=>{De.currentQueryIndex=Di;const Rn=De.createSubContext(de.options,Pn);ie&&Rn.delayNextStep(ie),Pn===De.element&&(wn=Rn.currentTimeline),Ft(this,de.animation,Rn),Rn.currentTimeline.applyStylesToKeyframe(),ze=Math.max(ze,Rn.currentTimeline.currentTime)}),De.currentQueryIndex=0,De.currentQueryTotal=0,De.transformIntoNewTimeline(ze),wn&&(De.currentTimeline.mergeTimelineCollectedStyles(wn),De.currentTimeline.snapshotCurrentStyles()),De.previousNode=de}visitStagger(de,De){const H=De.parentContext,le=De.currentTimeline,ie=de.timings,ze=Math.abs(ie.duration),Ct=ze*(De.currentQueryTotal-1);let wn=ze*De.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":wn=Ct-wn;break;case"full":wn=H.currentStaggerTime}const Di=De.currentTimeline;wn&&Di.delayNextStep(wn);const Rn=Di.currentTime;Ft(this,de.animation,De),De.previousNode=de,H.currentStaggerTime=le.currentTime-Rn+(le.startTime-H.currentTimeline.startTime)}}const Os={};class Er{constructor(de,De,H,le,ie,ze,Ct,wn){this._driver=de,this.element=De,this.subInstructions=H,this._enterClassName=le,this._leaveClassName=ie,this.errors=ze,this.timelines=Ct,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=wn||new Jr(this._driver,De,0),Ct.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(de,De){if(!de)return;const H=de;let le=this.options;null!=H.duration&&(le.duration=Nn(H.duration)),null!=H.delay&&(le.delay=Nn(H.delay));const ie=H.params;if(ie){let ze=le.params;ze||(ze=this.options.params={}),Object.keys(ie).forEach(Ct=>{(!De||!ze.hasOwnProperty(Ct))&&(ze[Ct]=gn(ie[Ct],ze,this.errors))})}}_copyOptions(){const de={};if(this.options){const De=this.options.params;if(De){const H=de.params={};Object.keys(De).forEach(le=>{H[le]=De[le]})}}return de}createSubContext(de=null,De,H){const le=De||this.element,ie=new Er(this._driver,le,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(le,H||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(de),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(de){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,de),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(de,De,H){const le={duration:De??de.duration,delay:this.currentTimeline.currentTime+(H??0)+de.delay,easing:""},ie=new Ss(this._driver,de.element,de.keyframes,de.preStyleProps,de.postStyleProps,le,de.stretchStartingKeyframe);return this.timelines.push(ie),le}incrementTime(de){this.currentTimeline.forwardTime(this.currentTimeline.duration+de)}delayNextStep(de){de>0&&this.currentTimeline.delayNextStep(de)}invokeQuery(de,De,H,le,ie,ze){let Ct=[];if(le&&Ct.push(this.element),de.length>0){de=(de=de.replace(lr,"."+this._enterClassName)).replace(Lr,"."+this._leaveClassName);let Pn=this._driver.query(this.element,de,1!=H);0!==H&&(Pn=H<0?Pn.slice(Pn.length+H,Pn.length):Pn.slice(0,H)),Ct.push(...Pn)}return!ie&&0==Ct.length&&ze.push(function j(jt){return new d.wOt(3014,!1)}()),Ct}}class Jr{constructor(de,De,H,le){this._driver=de,this.element=De,this.startTime=H,this._elementTimelineStylesLookup=le,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(De),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(De,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(de){const De=1===this._keyframes.size&&this._pendingStyles.size;this.duration||De?(this.forwardTime(this.currentTime+de),De&&this.snapshotCurrentStyles()):this.startTime+=de}fork(de,De){return this.applyStylesToKeyframe(),new Jr(this._driver,de,De||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(de){this.applyStylesToKeyframe(),this.duration=de,this._loadKeyframe()}_updateStyle(de,De){this._localTimelineStyles.set(de,De),this._globalTimelineStyles.set(de,De),this._styleSummary.set(de,{time:this.currentTime,value:De})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(de){de&&this._previousKeyframe.set("easing",de);for(let[De,H]of this._globalTimelineStyles)this._backFill.set(De,H||w.kp),this._currentKeyframe.set(De,w.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(de,De,H,le){De&&this._previousKeyframe.set("easing",De);const ie=le&&le.params||{},ze=function Vr(jt,de){const De=new Map;let H;return jt.forEach(le=>{if("*"===le){H??=de.keys();for(let ie of H)De.set(ie,w.kp)}else for(let[ie,ze]of le)De.set(ie,ze)}),De}(de,this._globalTimelineStyles);for(let[Ct,wn]of ze){const Pn=gn(wn,ie,H);this._pendingStyles.set(Ct,Pn),this._localTimelineStyles.has(Ct)||this._backFill.set(Ct,this._globalTimelineStyles.get(Ct)??w.kp),this._updateStyle(Ct,Pn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((de,De)=>{this._currentKeyframe.set(De,de)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((de,De)=>{this._currentKeyframe.has(De)||this._currentKeyframe.set(De,de)}))}snapshotCurrentStyles(){for(let[de,De]of this._localTimelineStyles)this._pendingStyles.set(de,De),this._updateStyle(de,De)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const de=[];for(let De in this._currentKeyframe)de.push(De);return de}mergeTimelineCollectedStyles(de){de._styleSummary.forEach((De,H)=>{const le=this._styleSummary.get(H);(!le||De.time>le.time)&&this._updateStyle(H,De.value)})}buildKeyframes(){this.applyStylesToKeyframe();const de=new Set,De=new Set,H=1===this._keyframes.size&&0===this.duration;let le=[];this._keyframes.forEach((Ct,wn)=>{const Pn=new Map([...this._backFill,...Ct]);Pn.forEach((Di,Rn)=>{Di===w.FX?de.add(Rn):Di===w.kp&&De.add(Rn)}),H||Pn.set("offset",wn/this.duration),le.push(Pn)});const ie=[...de.values()],ze=[...De.values()];if(H){const Ct=le[0],wn=new Map(Ct);Ct.set("offset",0),wn.set("offset",1),le=[Ct,wn]}return kt(this.element,le,ie,ze,this.duration,this.startTime,this.easing,!1)}}class Ss extends Jr{constructor(de,De,H,le,ie,ze,Ct=!1){super(de,De,ze.delay),this.keyframes=H,this.preStyleProps=le,this.postStyleProps=ie,this._stretchStartingKeyframe=Ct,this.timings={duration:ze.duration,delay:ze.delay,easing:ze.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let de=this.keyframes,{delay:De,duration:H,easing:le}=this.timings;if(this._stretchStartingKeyframe&&De){const ie=[],ze=H+De,Ct=De/ze,wn=new Map(de[0]);wn.set("offset",0),ie.push(wn);const Pn=new Map(de[0]);Pn.set("offset",Jo(Ct)),ie.push(Pn);const Di=de.length-1;for(let Rn=1;Rn<=Di;Rn++){let mr=new Map(de[Rn]);const zr=mr.get("offset");mr.set("offset",Jo((De+zr*H)/ze)),ie.push(mr)}H=ze,De=0,le="",de=ie}return kt(this.element,de,this.preStyleProps,this.postStyleProps,H,De,le,!0)}}function Jo(jt,de=3){const De=Math.pow(10,de-1);return Math.round(jt*De)/De}function Io(jt,de,De,H,le,ie,ze,Ct,wn,Pn,Di,Rn,mr){return{type:0,element:jt,triggerName:de,isRemovalTransition:le,fromState:De,fromStyles:ie,toState:H,toStyles:ze,timelines:Ct,queriedElements:wn,preStyleProps:Pn,postStyleProps:Di,totalTime:Rn,errors:mr}}const Ho={};class No{constructor(de,De,H){this._triggerName=de,this.ast=De,this._stateStyles=H}match(de,De,H,le){return function Ga(jt,de,De,H,le){return jt.some(ie=>ie(de,De,H,le))}(this.ast.matchers,de,De,H,le)}buildStyles(de,De,H){let le=this._stateStyles.get("*");return void 0!==de&&(le=this._stateStyles.get(de?.toString())||le),le?le.buildStyles(De,H):new Map}build(de,De,H,le,ie,ze,Ct,wn,Pn,Di){const Rn=[],mr=this.ast.options&&this.ast.options.params||Ho,hr=this.buildStyles(H,Ct&&Ct.params||Ho,Rn),Nr=wn&&wn.params||Ho,qs=this.buildStyles(le,Nr,Rn),Dr=new Set,Us=new Map,Ns=new Map,Ks="void"===le,xa={params:Ka(Nr,mr),delay:this.ast.options?.delay},oa=Di?[]:Zr(de,De,this.ast.animation,ie,ze,hr,qs,xa,Pn,Rn);let P=0;return oa.forEach(Et=>{P=Math.max(Et.duration+Et.delay,P)}),Rn.length?Io(De,this._triggerName,H,le,Ks,hr,qs,[],[],Us,Ns,P,Rn):(oa.forEach(Et=>{const Kt=Et.element,ln=ft(Us,Kt,new Set);Et.preStyleProps.forEach(Tn=>ln.add(Tn));const en=ft(Ns,Kt,new Set);Et.postStyleProps.forEach(Tn=>en.add(Tn)),Kt!==De&&Dr.add(Kt)}),Io(De,this._triggerName,H,le,Ks,hr,qs,oa,[...Dr.values()],Us,Ns,P))}}function Ka(jt,de){const De={...de};return Object.entries(jt).forEach(([H,le])=>{null!=le&&(De[H]=le)}),De}class _a{constructor(de,De,H){this.styles=de,this.defaultParams=De,this.normalizer=H}buildStyles(de,De){const H=new Map,le=Ka(de,this.defaultParams);return this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ze,Ct)=>{ze&&(ze=gn(ze,le,De));const wn=this.normalizer.normalizePropertyName(Ct,De);ze=this.normalizer.normalizeStyleValue(Ct,wn,ze,De),H.set(Ct,ze)})}),H}}class yl{constructor(de,De,H){this.name=de,this.ast=De,this._normalizer=H,this.transitionFactories=[],this.states=new Map,De.states.forEach(le=>{this.states.set(le.name,new _a(le.style,le.options&&le.options.params||{},H))}),Oa(this.states,"true","1"),Oa(this.states,"false","0"),De.transitions.forEach(le=>{this.transitionFactories.push(new No(de,le,this.states))}),this.fallbackTransition=function kl(jt,de,De){return new No(jt,{type:w.If.Transition,animation:{type:w.If.Sequence,steps:[],options:null},matchers:[(ze,Ct)=>!0],options:null,queryCount:0,depCount:0},de)}(de,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(de,De,H,le){return this.transitionFactories.find(ze=>ze.match(de,De,H,le))||null}matchStyles(de,De,H){return this.fallbackTransition.buildStyles(de,De,H)}}function Oa(jt,de,De){jt.has(de)?jt.has(De)||jt.set(De,jt.get(de)):jt.has(De)&&jt.set(de,jt.get(De))}const ya=new Bt;class Ra{constructor(de,De,H){this.bodyNode=de,this._driver=De,this._normalizer=H,this._animations=new Map,this._playersById=new Map,this.players=[]}register(de,De){const H=[],ie=Yi(this._driver,De,H,[]);if(H.length)throw function Xe(jt){return new d.wOt(3503,!1)}();this._animations.set(de,ie)}_buildPlayer(de,De,H){const le=de.element,ie=qt(this._normalizer,de.keyframes,De,H);return this._driver.animate(le,ie,de.duration,de.delay,de.easing,[],!0)}create(de,De,H={}){const le=[],ie=this._animations.get(de);let ze;const Ct=new Map;if(ie?(ze=Zr(this._driver,De,ie,sn,tn,new Map,new Map,H,ya,le),ze.forEach(Di=>{const Rn=ft(Ct,Di.element,new Map);Di.postStyleProps.forEach(mr=>Rn.set(mr,null))})):(le.push(function yt(){return new d.wOt(3300,!1)}()),ze=[]),le.length)throw function Je(jt){return new d.wOt(3504,!1)}();Ct.forEach((Di,Rn)=>{Di.forEach((mr,zr)=>{Di.set(zr,this._driver.computeStyle(Rn,zr,w.kp))})});const Pn=Se(ze.map(Di=>{const Rn=Ct.get(Di.element);return this._buildPlayer(Di,new Map,Rn)}));return this._playersById.set(de,Pn),Pn.onDestroy(()=>this.destroy(de)),this.players.push(Pn),Pn}destroy(de){const De=this._getPlayer(de);De.destroy(),this._playersById.delete(de);const H=this.players.indexOf(De);H>=0&&this.players.splice(H,1)}_getPlayer(de){const De=this._playersById.get(de);if(!De)throw function je(jt){return new d.wOt(3301,!1)}();return De}listen(de,De,H,le){const ie=Ot(De,"","","");return Vt(this._getPlayer(de),H,ie,le),()=>{}}command(de,De,H,le){if("register"==H)return void this.register(de,le[0]);if("create"==H)return void this.create(de,De,le[0]||{});const ie=this._getPlayer(de);switch(H){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(le[0]));break;case"destroy":this.destroy(de)}}}const fc="ng-animate-queued",Bl="ng-animate-disabled",Hs=[],Ql={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ta={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gs="__ng_removed";class oo{get params(){return this.options.params}constructor(de,De=""){this.namespaceId=De;const H=de&&de.hasOwnProperty("value");if(this.value=function Go(jt){return jt??null}(H?de.value:de),H){const{value:ie,...ze}=de;this.options=ze}else this.options={};this.options.params||(this.options.params={})}absorbOptions(de){const De=de.params;if(De){const H=this.options.params;Object.keys(De).forEach(le=>{null==H[le]&&(H[le]=De[le])})}}}const va="void",Po=new oo(va);class rl{constructor(de,De,H){this.id=de,this.hostElement=De,this._engine=H,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+de,po(De,this._hostClassName)}listen(de,De,H,le){if(!this._triggers.has(De))throw function X(jt,de){return new d.wOt(3302,!1)}();if(null==H||0==H.length)throw function oe(jt){return new d.wOt(3303,!1)}();if(!function ba(jt){return"start"==jt||"done"==jt}(H))throw function _e(jt,de){return new d.wOt(3400,!1)}();const ie=ft(this._elementListeners,de,[]),ze={name:De,phase:H,callback:le};ie.push(ze);const Ct=ft(this._engine.statesByElement,de,new Map);return Ct.has(De)||(po(de,xt),po(de,xt+"-"+De),Ct.set(De,Po)),()=>{this._engine.afterFlush(()=>{const wn=ie.indexOf(ze);wn>=0&&ie.splice(wn,1),this._triggers.has(De)||Ct.delete(De)})}}register(de,De){return!this._triggers.has(de)&&(this._triggers.set(de,De),!0)}_getTrigger(de){const De=this._triggers.get(de);if(!De)throw function ve(jt){return new d.wOt(3401,!1)}();return De}trigger(de,De,H,le=!0){const ie=this._getTrigger(De),ze=new wo(this.id,De,de);let Ct=this._engine.statesByElement.get(de);Ct||(po(de,xt),po(de,xt+"-"+De),this._engine.statesByElement.set(de,Ct=new Map));let wn=Ct.get(De);const Pn=new oo(H,this.id);if(!(H&&H.hasOwnProperty("value"))&&wn&&Pn.absorbOptions(wn.options),Ct.set(De,Pn),wn||(wn=Po),Pn.value!==va&&wn.value===Pn.value){if(!function Ao(jt,de){const De=Object.keys(jt),H=Object.keys(de);if(De.length!=H.length)return!1;for(let le=0;le<De.length;le++){const ie=De[le];if(!de.hasOwnProperty(ie)||jt[ie]!==de[ie])return!1}return!0}(wn.params,Pn.params)){const Nr=[],qs=ie.matchStyles(wn.value,wn.params,Nr),Dr=ie.matchStyles(Pn.value,Pn.params,Nr);Nr.length?this._engine.reportError(Nr):this._engine.afterFlush(()=>{$e(de,qs),pt(de,Dr)})}return}const mr=ft(this._engine.playersByElement,de,[]);mr.forEach(Nr=>{Nr.namespaceId==this.id&&Nr.triggerName==De&&Nr.queued&&Nr.destroy()});let zr=ie.matchTransition(wn.value,Pn.value,de,Pn.params),hr=!1;if(!zr){if(!le)return;zr=ie.fallbackTransition,hr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:de,triggerName:De,transition:zr,fromState:wn,toState:Pn,player:ze,isFallbackTransition:hr}),hr||(po(de,fc),ze.onStart(()=>{Xa(de,fc)})),ze.onDone(()=>{let Nr=this.players.indexOf(ze);Nr>=0&&this.players.splice(Nr,1);const qs=this._engine.playersByElement.get(de);if(qs){let Dr=qs.indexOf(ze);Dr>=0&&qs.splice(Dr,1)}}),this.players.push(ze),mr.push(ze),ze}deregister(de){this._triggers.delete(de),this._engine.statesByElement.forEach(De=>De.delete(de)),this._elementListeners.forEach((De,H)=>{this._elementListeners.set(H,De.filter(le=>le.name!=de))})}clearElementCache(de){this._engine.statesByElement.delete(de),this._elementListeners.delete(de);const De=this._engine.playersByElement.get(de);De&&(De.forEach(H=>H.destroy()),this._engine.playersByElement.delete(de))}_signalRemovalForInnerTriggers(de,De){const H=this._engine.driver.query(de,zt,!0);H.forEach(le=>{if(le[Gs])return;const ie=this._engine.fetchNamespacesByElement(le);ie.size?ie.forEach(ze=>ze.triggerLeaveAnimation(le,De,!1,!0)):this.clearElementCache(le)}),this._engine.afterFlushAnimationsDone(()=>H.forEach(le=>this.clearElementCache(le)))}triggerLeaveAnimation(de,De,H,le){const ie=this._engine.statesByElement.get(de),ze=new Map;if(ie){const Ct=[];if(ie.forEach((wn,Pn)=>{if(ze.set(Pn,wn.value),this._triggers.has(Pn)){const Di=this.trigger(de,Pn,va,le);Di&&Ct.push(Di)}}),Ct.length)return this._engine.markElementAsRemoved(this.id,de,!0,De,ze),H&&Se(Ct).onDone(()=>this._engine.processLeaveNode(de)),!0}return!1}prepareLeaveAnimationListeners(de){const De=this._elementListeners.get(de),H=this._engine.statesByElement.get(de);if(De&&H){const le=new Set;De.forEach(ie=>{const ze=ie.name;if(le.has(ze))return;le.add(ze);const wn=this._triggers.get(ze).fallbackTransition,Pn=H.get(ze)||Po,Di=new oo(va),Rn=new wo(this.id,ze,de);this._engine.totalQueuedPlayers++,this._queue.push({element:de,triggerName:ze,transition:wn,fromState:Pn,toState:Di,player:Rn,isFallbackTransition:!0})})}}removeNode(de,De){const H=this._engine;if(de.childElementCount&&this._signalRemovalForInnerTriggers(de,De),this.triggerLeaveAnimation(de,De,!0))return;let le=!1;if(H.totalAnimations){const ie=H.players.length?H.playersByQueriedElement.get(de):[];if(ie&&ie.length)le=!0;else{let ze=de;for(;ze=ze.parentNode;)if(H.statesByElement.get(ze)){le=!0;break}}}if(this.prepareLeaveAnimationListeners(de),le)H.markElementAsRemoved(this.id,de,!1,De);else{const ie=de[Gs];(!ie||ie===Ql)&&(H.afterFlush(()=>this.clearElementCache(de)),H.destroyInnerAnimations(de),H._onRemovalComplete(de,De))}}insertNode(de,De){po(de,this._hostClassName)}drainQueuedTransitions(de){const De=[];return this._queue.forEach(H=>{const le=H.player;if(le.destroyed)return;const ie=H.element,ze=this._elementListeners.get(ie);ze&&ze.forEach(Ct=>{if(Ct.name==H.triggerName){const wn=Ot(ie,H.triggerName,H.fromState.value,H.toState.value);wn._data=de,Vt(H.player,Ct.phase,wn,Ct.callback)}}),le.markedForDestroy?this._engine.afterFlush(()=>{le.destroy()}):De.push(H)}),this._queue=[],De.sort((H,le)=>{const ie=H.transition.ast.depCount,ze=le.transition.ast.depCount;return 0==ie||0==ze?ie-ze:this._engine.driver.containsElement(H.element,le.element)?1:-1})}destroy(de){this.players.forEach(De=>De.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,de)}}class bo{_onRemovalComplete(de,De){this.onRemovalComplete(de,De)}constructor(de,De,H){this.bodyNode=de,this.driver=De,this._normalizer=H,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(le,ie)=>{}}get queuedPlayers(){const de=[];return this._namespaceList.forEach(De=>{De.players.forEach(H=>{H.queued&&de.push(H)})}),de}createNamespace(de,De){const H=new rl(de,De,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,De)?this._balanceNamespaceList(H,De):(this.newHostElements.set(De,H),this.collectEnterElement(De)),this._namespaceLookup[de]=H}_balanceNamespaceList(de,De){const H=this._namespaceList,le=this.namespacesByHostElement;if(H.length-1>=0){let ze=!1,Ct=this.driver.getParentElement(De);for(;Ct;){const wn=le.get(Ct);if(wn){const Pn=H.indexOf(wn);H.splice(Pn+1,0,de),ze=!0;break}Ct=this.driver.getParentElement(Ct)}ze||H.unshift(de)}else H.push(de);return le.set(De,de),de}register(de,De){let H=this._namespaceLookup[de];return H||(H=this.createNamespace(de,De)),H}registerTrigger(de,De,H){let le=this._namespaceLookup[de];le&&le.register(De,H)&&this.totalAnimations++}destroy(de,De){de&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const H=this._fetchNamespace(de);this.namespacesByHostElement.delete(H.hostElement);const le=this._namespaceList.indexOf(H);le>=0&&this._namespaceList.splice(le,1),H.destroy(De),delete this._namespaceLookup[de]}))}_fetchNamespace(de){return this._namespaceLookup[de]}fetchNamespacesByElement(de){const De=new Set,H=this.statesByElement.get(de);if(H)for(let le of H.values())if(le.namespaceId){const ie=this._fetchNamespace(le.namespaceId);ie&&De.add(ie)}return De}trigger(de,De,H,le){if(Il(De)){const ie=this._fetchNamespace(de);if(ie)return ie.trigger(De,H,le),!0}return!1}insertNode(de,De,H,le){if(!Il(De))return;const ie=De[Gs];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const ze=this.collectedLeaveElements.indexOf(De);ze>=0&&this.collectedLeaveElements.splice(ze,1)}if(de){const ze=this._fetchNamespace(de);ze&&ze.insertNode(De,H)}le&&this.collectEnterElement(De)}collectEnterElement(de){this.collectedEnterElements.push(de)}markElementAsDisabled(de,De){De?this.disabledNodes.has(de)||(this.disabledNodes.add(de),po(de,Bl)):this.disabledNodes.has(de)&&(this.disabledNodes.delete(de),Xa(de,Bl))}removeNode(de,De,H){if(Il(De)){const le=de?this._fetchNamespace(de):null;le?le.removeNode(De,H):this.markElementAsRemoved(de,De,!1,H);const ie=this.namespacesByHostElement.get(De);ie&&ie.id!==de&&ie.removeNode(De,H)}else this._onRemovalComplete(De,H)}markElementAsRemoved(de,De,H,le,ie){this.collectedLeaveElements.push(De),De[Gs]={namespaceId:de,setForRemoval:le,hasAnimation:H,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(de,De,H,le,ie){return Il(De)?this._fetchNamespace(de).listen(De,H,le,ie):()=>{}}_buildInstruction(de,De,H,le,ie){return de.transition.build(this.driver,de.element,de.fromState.value,de.toState.value,H,le,de.fromState.options,de.toState.options,De,ie)}destroyInnerAnimations(de){let De=this.driver.query(de,zt,!0);De.forEach(H=>this.destroyActiveAnimationsForElement(H)),0!=this.playersByQueriedElement.size&&(De=this.driver.query(de,vn,!0),De.forEach(H=>this.finishActiveQueriedAnimationOnElement(H)))}destroyActiveAnimationsForElement(de){const De=this.playersByElement.get(de);De&&De.forEach(H=>{H.queued?H.markedForDestroy=!0:H.destroy()})}finishActiveQueriedAnimationOnElement(de){const De=this.playersByQueriedElement.get(de);De&&De.forEach(H=>H.finish())}whenRenderingDone(){return new Promise(de=>{if(this.players.length)return Se(this.players).onDone(()=>de());de()})}processLeaveNode(de){const De=de[Gs];if(De&&De.setForRemoval){if(de[Gs]=Ql,De.namespaceId){this.destroyInnerAnimations(de);const H=this._fetchNamespace(De.namespaceId);H&&H.clearElementCache(de)}this._onRemovalComplete(de,De.setForRemoval)}de.classList?.contains(Bl)&&this.markElementAsDisabled(de,!1),this.driver.query(de,".ng-animate-disabled",!0).forEach(H=>{this.markElementAsDisabled(H,!1)})}flush(de=-1){let De=[];if(this.newHostElements.size&&(this.newHostElements.forEach((H,le)=>this._balanceNamespaceList(H,le)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let H=0;H<this.collectedEnterElements.length;H++)po(this.collectedEnterElements[H],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const H=[];try{De=this._flushAnimations(H,de)}finally{for(let le=0;le<H.length;le++)H[le]()}}else for(let H=0;H<this.collectedLeaveElements.length;H++)this.processLeaveNode(this.collectedLeaveElements[H]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(H=>H()),this._flushFns=[],this._whenQuietFns.length){const H=this._whenQuietFns;this._whenQuietFns=[],De.length?Se(De).onDone(()=>{H.forEach(le=>le())}):H.forEach(le=>le())}}reportError(de){throw function Pe(jt){return new d.wOt(3402,!1)}()}_flushAnimations(de,De){const H=new Bt,le=[],ie=new Map,ze=[],Ct=new Map,wn=new Map,Pn=new Map,Di=new Set;this.disabledNodes.forEach(zn=>{Di.add(zn);const fi=this.driver.query(zn,".ng-animate-queued",!0);for(let Jn=0;Jn<fi.length;Jn++)Di.add(fi[Jn])});const Rn=this.bodyNode,mr=Array.from(this.statesByElement.keys()),zr=na(mr,this.collectedEnterElements),hr=new Map;let Nr=0;zr.forEach((zn,fi)=>{const Jn=sn+Nr++;hr.set(fi,Jn),zn.forEach(ki=>po(ki,Jn))});const qs=[],Dr=new Set,Us=new Set;for(let zn=0;zn<this.collectedLeaveElements.length;zn++){const fi=this.collectedLeaveElements[zn],Jn=fi[Gs];Jn&&Jn.setForRemoval&&(qs.push(fi),Dr.add(fi),Jn.hasAnimation?this.driver.query(fi,".ng-star-inserted",!0).forEach(ki=>Dr.add(ki)):Us.add(fi))}const Ns=new Map,Ks=na(mr,Array.from(Dr));Ks.forEach((zn,fi)=>{const Jn=tn+Nr++;Ns.set(fi,Jn),zn.forEach(ki=>po(ki,Jn))}),de.push(()=>{zr.forEach((zn,fi)=>{const Jn=hr.get(fi);zn.forEach(ki=>Xa(ki,Jn))}),Ks.forEach((zn,fi)=>{const Jn=Ns.get(fi);zn.forEach(ki=>Xa(ki,Jn))}),qs.forEach(zn=>{this.processLeaveNode(zn)})});const xa=[],oa=[];for(let zn=this._namespaceList.length-1;zn>=0;zn--)this._namespaceList[zn].drainQueuedTransitions(De).forEach(Jn=>{const ki=Jn.player,tr=Jn.element;if(xa.push(ki),this.collectedEnterElements.length){const Mo=tr[Gs];if(Mo&&Mo.setForMove){if(Mo.previousTriggersValues&&Mo.previousTriggersValues.has(Jn.triggerName)){const Yo=Mo.previousTriggersValues.get(Jn.triggerName),Qs=this.statesByElement.get(Jn.element);if(Qs&&Qs.has(Jn.triggerName)){const bl=Qs.get(Jn.triggerName);bl.value=Yo,Qs.set(Jn.triggerName,bl)}}return void ki.destroy()}}const Br=!Rn||!this.driver.containsElement(Rn,tr),os=Ns.get(tr),zs=hr.get(tr),Gr=this._buildInstruction(Jn,H,zs,os,Br);if(Gr.errors&&Gr.errors.length)return void oa.push(Gr);if(Br)return ki.onStart(()=>$e(tr,Gr.fromStyles)),ki.onDestroy(()=>pt(tr,Gr.toStyles)),void le.push(ki);if(Jn.isFallbackTransition)return ki.onStart(()=>$e(tr,Gr.fromStyles)),ki.onDestroy(()=>pt(tr,Gr.toStyles)),void le.push(ki);const ns=[];Gr.timelines.forEach(Mo=>{Mo.stretchStartingKeyframe=!0,this.disabledNodes.has(Mo.element)||ns.push(Mo)}),Gr.timelines=ns,H.append(tr,Gr.timelines),ze.push({instruction:Gr,player:ki,element:tr}),Gr.queriedElements.forEach(Mo=>ft(Ct,Mo,[]).push(ki)),Gr.preStyleProps.forEach((Mo,Yo)=>{if(Mo.size){let Qs=wn.get(Yo);Qs||wn.set(Yo,Qs=new Set),Mo.forEach((bl,aa)=>Qs.add(aa))}}),Gr.postStyleProps.forEach((Mo,Yo)=>{let Qs=Pn.get(Yo);Qs||Pn.set(Yo,Qs=new Set),Mo.forEach((bl,aa)=>Qs.add(aa))})});if(oa.length){const zn=[];oa.forEach(fi=>{zn.push(function Qe(jt,de){return new d.wOt(3505,!1)}())}),xa.forEach(fi=>fi.destroy()),this.reportError(zn)}const P=new Map,Et=new Map;ze.forEach(zn=>{const fi=zn.element;H.has(fi)&&(Et.set(fi,fi),this._beforeAnimationBuild(zn.player.namespaceId,zn.instruction,P))}),le.forEach(zn=>{const fi=zn.element;this._getPreviousPlayers(fi,!1,zn.namespaceId,zn.triggerName,null).forEach(ki=>{ft(P,fi,[]).push(ki),ki.destroy()})});const Kt=qs.filter(zn=>mo(zn,wn,Pn)),ln=new Map;vs(ln,this.driver,Us,Pn,w.kp).forEach(zn=>{mo(zn,wn,Pn)&&Kt.push(zn)});const Tn=new Map;zr.forEach((zn,fi)=>{vs(Tn,this.driver,new Set(zn),wn,w.FX)}),Kt.forEach(zn=>{const fi=ln.get(zn),Jn=Tn.get(zn);ln.set(zn,new Map([...fi?.entries()??[],...Jn?.entries()??[]]))});const an=[],Fn=[],qn={};ze.forEach(zn=>{const{element:fi,player:Jn,instruction:ki}=zn;if(H.has(fi)){if(Di.has(fi))return Jn.onDestroy(()=>pt(fi,ki.toStyles)),Jn.disabled=!0,Jn.overrideTotalTime(ki.totalTime),void le.push(Jn);let tr=qn;if(Et.size>1){let os=fi;const zs=[];for(;os=os.parentNode;){const Gr=Et.get(os);if(Gr){tr=Gr;break}zs.push(os)}zs.forEach(Gr=>Et.set(Gr,tr))}const Br=this._buildAnimation(Jn.namespaceId,ki,P,ie,Tn,ln);if(Jn.setRealPlayer(Br),tr===qn)an.push(Jn);else{const os=this.playersByElement.get(tr);os&&os.length&&(Jn.parentPlayer=Se(os)),le.push(Jn)}}else $e(fi,ki.fromStyles),Jn.onDestroy(()=>pt(fi,ki.toStyles)),Fn.push(Jn),Di.has(fi)&&le.push(Jn)}),Fn.forEach(zn=>{const fi=ie.get(zn.element);if(fi&&fi.length){const Jn=Se(fi);zn.setRealPlayer(Jn)}}),le.forEach(zn=>{zn.parentPlayer?zn.syncPlayerEvents(zn.parentPlayer):zn.destroy()});for(let zn=0;zn<qs.length;zn++){const fi=qs[zn],Jn=fi[Gs];if(Xa(fi,tn),Jn&&Jn.hasAnimation)continue;let ki=[];if(Ct.size){let Br=Ct.get(fi);Br&&Br.length&&ki.push(...Br);let os=this.driver.query(fi,vn,!0);for(let zs=0;zs<os.length;zs++){let Gr=Ct.get(os[zs]);Gr&&Gr.length&&ki.push(...Gr)}}const tr=ki.filter(Br=>!Br.destroyed);tr.length?Ya(this,fi,tr):this.processLeaveNode(fi)}return qs.length=0,an.forEach(zn=>{this.players.push(zn),zn.onDone(()=>{zn.destroy();const fi=this.players.indexOf(zn);this.players.splice(fi,1)}),zn.play()}),an}afterFlush(de){this._flushFns.push(de)}afterFlushAnimationsDone(de){this._whenQuietFns.push(de)}_getPreviousPlayers(de,De,H,le,ie){let ze=[];if(De){const Ct=this.playersByQueriedElement.get(de);Ct&&(ze=Ct)}else{const Ct=this.playersByElement.get(de);if(Ct){const wn=!ie||ie==va;Ct.forEach(Pn=>{Pn.queued||!wn&&Pn.triggerName!=le||ze.push(Pn)})}}return(H||le)&&(ze=ze.filter(Ct=>!(H&&H!=Ct.namespaceId||le&&le!=Ct.triggerName))),ze}_beforeAnimationBuild(de,De,H){const ie=De.element,ze=De.isRemovalTransition?void 0:de,Ct=De.isRemovalTransition?void 0:De.triggerName;for(const wn of De.timelines){const Pn=wn.element,Di=Pn!==ie,Rn=ft(H,Pn,[]);this._getPreviousPlayers(Pn,Di,ze,Ct,De.toState).forEach(zr=>{const hr=zr.getRealPlayer();hr.beforeDestroy&&hr.beforeDestroy(),zr.destroy(),Rn.push(zr)})}$e(ie,De.fromStyles)}_buildAnimation(de,De,H,le,ie,ze){const Ct=De.triggerName,wn=De.element,Pn=[],Di=new Set,Rn=new Set,mr=De.timelines.map(hr=>{const Nr=hr.element;Di.add(Nr);const qs=Nr[Gs];if(qs&&qs.removedBeforeQueried)return new w.sf(hr.duration,hr.delay);const Dr=Nr!==wn,Us=function sl(jt){const de=[];return Oi(jt,de),de}((H.get(Nr)||Hs).map(P=>P.getRealPlayer())).filter(P=>!!P.element&&P.element===Nr),Ns=ie.get(Nr),Ks=ze.get(Nr),xa=qt(this._normalizer,hr.keyframes,Ns,Ks),oa=this._buildPlayer(hr,xa,Us);if(hr.subTimeline&&le&&Rn.add(Nr),Dr){const P=new wo(de,Ct,Nr);P.setRealPlayer(oa),Pn.push(P)}return oa});Pn.forEach(hr=>{ft(this.playersByQueriedElement,hr.element,[]).push(hr),hr.onDone(()=>function Pa(jt,de,De){let H=jt.get(de);if(H){if(H.length){const le=H.indexOf(De);H.splice(le,1)}0==H.length&&jt.delete(de)}return H}(this.playersByQueriedElement,hr.element,hr))}),Di.forEach(hr=>po(hr,$t));const zr=Se(mr);return zr.onDestroy(()=>{Di.forEach(hr=>Xa(hr,$t)),pt(wn,De.toStyles)}),Rn.forEach(hr=>{ft(le,hr,[]).push(zr)}),zr}_buildPlayer(de,De,H){return De.length>0?this.driver.animate(de.element,De,de.duration,de.delay,de.easing,H):new w.sf(de.duration,de.delay)}}class wo{constructor(de,De,H){this.namespaceId=de,this.triggerName=De,this.element=H,this._player=new w.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(de){this._containsRealPlayer||(this._player=de,this._queuedCallbacks.forEach((De,H)=>{De.forEach(le=>Vt(de,H,void 0,le))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(de.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(de){this.totalTime=de}syncPlayerEvents(de){const De=this._player;De.triggerCallback&&de.onStart(()=>De.triggerCallback("start")),de.onDone(()=>this.finish()),de.onDestroy(()=>this.destroy())}_queueEvent(de,De){ft(this._queuedCallbacks,de,[]).push(De)}onDone(de){this.queued&&this._queueEvent("done",de),this._player.onDone(de)}onStart(de){this.queued&&this._queueEvent("start",de),this._player.onStart(de)}onDestroy(de){this.queued&&this._queueEvent("destroy",de),this._player.onDestroy(de)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(de){this.queued||this._player.setPosition(de)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(de){const De=this._player;De.triggerCallback&&De.triggerCallback(de)}}function Il(jt){return jt&&1===jt.nodeType}function Ar(jt,de){const De=jt.style.display;return jt.style.display=de??"none",De}function vs(jt,de,De,H,le){const ie=[];De.forEach(wn=>ie.push(Ar(wn)));const ze=[];H.forEach((wn,Pn)=>{const Di=new Map;wn.forEach(Rn=>{const mr=de.computeStyle(Pn,Rn,le);Di.set(Rn,mr),(!mr||0==mr.length)&&(Pn[Gs]=ta,ze.push(Pn))}),jt.set(Pn,Di)});let Ct=0;return De.forEach(wn=>Ar(wn,ie[Ct++])),ze}function na(jt,de){const De=new Map;if(jt.forEach(Ct=>De.set(Ct,[])),0==de.length)return De;const le=new Set(de),ie=new Map;function ze(Ct){if(!Ct)return 1;let wn=ie.get(Ct);if(wn)return wn;const Pn=Ct.parentNode;return wn=De.has(Pn)?Pn:le.has(Pn)?1:ze(Pn),ie.set(Ct,wn),wn}return de.forEach(Ct=>{const wn=ze(Ct);1!==wn&&De.get(wn).push(Ct)}),De}function po(jt,de){jt.classList?.add(de)}function Xa(jt,de){jt.classList?.remove(de)}function Ya(jt,de,De){Se(De).onDone(()=>jt.processLeaveNode(de))}function Oi(jt,de){for(let De=0;De<jt.length;De++){const H=jt[De];H instanceof w.ui?Oi(H.players,de):de.push(H)}}function mo(jt,de,De){const H=De.get(jt);if(!H)return!1;let le=de.get(jt);return le?H.forEach(ie=>le.add(ie)):de.set(jt,H),De.delete(jt),!0}class Fo{constructor(de,De,H){this._driver=De,this._normalizer=H,this._triggerCache={},this.onRemovalComplete=(le,ie)=>{},this._transitionEngine=new bo(de.body,De,H),this._timelineEngine=new Ra(de.body,De,H),this._transitionEngine.onRemovalComplete=(le,ie)=>this.onRemovalComplete(le,ie)}registerTrigger(de,De,H,le,ie){const ze=de+"-"+le;let Ct=this._triggerCache[ze];if(!Ct){const wn=[],Di=Yi(this._driver,ie,wn,[]);if(wn.length)throw function Q(jt,de){return new d.wOt(3404,!1)}();Ct=function ea(jt,de,De){return new yl(jt,de,De)}(le,Di,this._normalizer),this._triggerCache[ze]=Ct}this._transitionEngine.registerTrigger(De,le,Ct)}register(de,De){this._transitionEngine.register(de,De)}destroy(de,De){this._transitionEngine.destroy(de,De)}onInsert(de,De,H,le){this._transitionEngine.insertNode(de,De,H,le)}onRemove(de,De,H){this._transitionEngine.removeNode(de,De,H)}disableAnimations(de,De){this._transitionEngine.markElementAsDisabled(de,De)}process(de,De,H,le){if("@"==H.charAt(0)){const[ie,ze]=Re(H);this._timelineEngine.command(ie,De,ze,le)}else this._transitionEngine.trigger(de,De,H,le)}listen(de,De,H,le,ie){if("@"==H.charAt(0)){const[ze,Ct]=Re(H);return this._timelineEngine.listen(ze,De,Ct,ie)}return this._transitionEngine.listen(de,De,H,le,ie)}flush(de=-1){this._transitionEngine.flush(de)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(de){this._transitionEngine.afterFlushAnimationsDone(de)}}class jo{static#e=this.initialStylesByElement=new WeakMap;constructor(de,De,H){this._element=de,this._startStyles=De,this._endStyles=H,this._state=0;let le=jo.initialStylesByElement.get(de);le||jo.initialStylesByElement.set(de,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pt(this._element,this._initialStyles),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(jo.initialStylesByElement.delete(this._element),this._startStyles&&($e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($e(this._element,this._endStyles),this._endStyles=null),pt(this._element,this._initialStyles),this._state=3)}}function Ys(jt){let de=null;return jt.forEach((De,H)=>{(function Ko(jt){return"display"===jt||"position"===jt})(H)&&(de=de||new Map,de.set(H,De))}),de}class ia{constructor(de,De,H,le){this.element=de,this.keyframes=De,this.options=H,this._specialStyles=le,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=H.duration,this._delay=H.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const de=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,de,this.options),this._finalKeyframe=de.length?de[de.length-1]:new Map;const De=()=>this._onFinish();this.domPlayer.addEventListener("finish",De),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",De)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(de){const De=[];return de.forEach(H=>{De.push(Object.fromEntries(H))}),De}_triggerWebAnimation(de,De,H){return de.animate(this._convertKeyframesToObject(De),H)}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(de=>de()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}setPosition(de){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=de*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const de=new Map;this.hasStarted()&&this._finalKeyframe.forEach((H,le)=>{"offset"!==le&&de.set(le,this._finished?H:In(this.element,le))}),this.currentSnapshot=de}triggerCallback(de){const De="start"===de?this._onStartFns:this._onDoneFns;De.forEach(H=>H()),De.length=0}}class Fa{validateStyleProperty(de){return!0}validateAnimatableStyleProperty(de){return!0}containsElement(de,De){return ct(de,De)}getParentElement(de){return vt(de)}query(de,De,H){return ut(de,De,H)}computeStyle(de,De,H){return In(de,De)}animate(de,De,H,le,ie,ze=[]){const wn={duration:H,delay:le,fill:0==le?"both":"forwards"};ie&&(wn.easing=ie);const Pn=new Map,Di=ze.filter(zr=>zr instanceof ia);(function Le(jt,de){return 0===jt||0===de})(H,le)&&Di.forEach(zr=>{zr.currentSnapshot.forEach((hr,Nr)=>Pn.set(Nr,hr))});let Rn=function En(jt){return jt.length?jt[0]instanceof Map?jt:jt.map(de=>new Map(Object.entries(de))):[]}(De).map(zr=>new Map(zr));Rn=function bt(jt,de,De){if(De.size&&de.length){let H=de[0],le=[];if(De.forEach((ie,ze)=>{H.has(ze)||le.push(ze),H.set(ze,ie)}),le.length)for(let ie=1;ie<de.length;ie++){let ze=de[ie];le.forEach(Ct=>ze.set(Ct,In(jt,Ct)))}}return de}(de,Rn,Pn);const mr=function Zl(jt,de){let De=null,H=null;return Array.isArray(de)&&de.length?(De=Ys(de[0]),de.length>1&&(H=Ys(de[de.length-1]))):de instanceof Map&&(De=Ys(de)),De||H?new jo(jt,De,H):null}(de,Rn);return new ia(de,Rn,wn,mr)}}const ol="@.disabled";class vl{constructor(de,De,H,le){this.namespaceId=de,this.delegate=De,this.engine=H,this._onDestroy=le,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(de){this.delegate.destroyNode?.(de)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(de,De){return this.delegate.createElement(de,De)}createComment(de){return this.delegate.createComment(de)}createText(de){return this.delegate.createText(de)}appendChild(de,De){this.delegate.appendChild(de,De),this.engine.onInsert(this.namespaceId,De,de,!1)}insertBefore(de,De,H,le=!0){this.delegate.insertBefore(de,De,H),this.engine.onInsert(this.namespaceId,De,de,le)}removeChild(de,De,H){this.engine.onRemove(this.namespaceId,De,this.delegate)}selectRootElement(de,De){return this.delegate.selectRootElement(de,De)}parentNode(de){return this.delegate.parentNode(de)}nextSibling(de){return this.delegate.nextSibling(de)}setAttribute(de,De,H,le){this.delegate.setAttribute(de,De,H,le)}removeAttribute(de,De,H){this.delegate.removeAttribute(de,De,H)}addClass(de,De){this.delegate.addClass(de,De)}removeClass(de,De){this.delegate.removeClass(de,De)}setStyle(de,De,H,le){this.delegate.setStyle(de,De,H,le)}removeStyle(de,De,H){this.delegate.removeStyle(de,De,H)}setProperty(de,De,H){"@"==De.charAt(0)&&De==ol?this.disableAnimations(de,!!H):this.delegate.setProperty(de,De,H)}setValue(de,De){this.delegate.setValue(de,De)}listen(de,De,H){return this.delegate.listen(de,De,H)}disableAnimations(de,De){this.engine.disableAnimations(de,De)}}class Rs extends vl{constructor(de,De,H,le,ie){super(De,H,le,ie),this.factory=de,this.namespaceId=De}setProperty(de,De,H){"@"==De.charAt(0)?"."==De.charAt(1)&&De==ol?this.disableAnimations(de,H=void 0===H||!!H):this.engine.process(this.namespaceId,de,De.slice(1),H):this.delegate.setProperty(de,De,H)}listen(de,De,H){if("@"==De.charAt(0)){const le=function al(jt){switch(jt){case"body":return document.body;case"document":return document;case"window":return window;default:return jt}}(de);let ie=De.slice(1),ze="";return"@"!=ie.charAt(0)&&([ie,ze]=function ra(jt){const de=jt.indexOf(".");return[jt.substring(0,de),jt.slice(de+1)]}(ie)),this.engine.listen(this.namespaceId,le,ie,ze,Ct=>{this.factory.scheduleListenerCallback(Ct._data||-1,H,Ct)})}return this.delegate.listen(de,De,H)}}class es{constructor(de,De,H){this.delegate=de,this.engine=De,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,De.onRemovalComplete=(le,ie)=>{const ze=ie?.parentNode(le);ze&&ie.removeChild(ze,le)}}createRenderer(de,De){const le=this.delegate.createRenderer(de,De);if(!de||!De?.data?.animation){const Pn=this._rendererCache;let Di=Pn.get(le);return Di||(Di=new vl("",le,this.engine,()=>Pn.delete(le)),Pn.set(le,Di)),Di}const ie=De.id,ze=De.id+"-"+this._currentId;this._currentId++,this.engine.register(ze,de);const Ct=Pn=>{Array.isArray(Pn)?Pn.forEach(Ct):this.engine.registerTrigger(ie,ze,de,Pn.name,Pn)};return De.data.animation.forEach(Ct),new Rs(this,ze,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(de,De,H){if(de>=0&&de<this._microtaskId)return void this._zone.run(()=>De(H));const le=this._animationCallbacksBuffer;0==le.length&&queueMicrotask(()=>{this._zone.run(()=>{le.forEach(ie=>{const[ze,Ct]=ie;ze(Ct)}),this._animationCallbacksBuffer=[]})}),le.push([De,H])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var qa=_(316);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const Xo=[{provide:at,useFactory:function Ea(){return new ei}},{provide:Fo,useClass:(()=>{class jt extends Fo{constructor(De,H,le){super(De,H,le)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(H){return new(H||jt)(d.KVO(qa.qQ),d.KVO(pe),d.KVO(at))};static#t=this.\u0275prov=d.jDH({token:jt,factory:jt.\u0275fac})}return jt})()},{provide:d._9s,useFactory:function sa(jt,de,De){return new es(jt,de,De)},deps:[A.B7,Fo,d.SKi]}],ll=[{provide:pe,useFactory:()=>new Fa},{provide:d.bc$,useValue:"BrowserAnimations"},...Xo],pr=[{provide:pe,useClass:Fe},{provide:d.bc$,useValue:"NoopAnimations"},...Xo];let ks=(()=>{class jt{static withConfig(De){return{ngModule:jt,providers:De.disableAnimations?pr:ll}}static#e=this.\u0275fac=function(H){return new(H||jt)};static#t=this.\u0275mod=d.$C({type:jt});static#n=this.\u0275inj=d.G2t({providers:ll,imports:[A.Bb]})}return jt})()},436:(dn,Ne,_)=>{"use strict";_.d(Ne,{B7:()=>se,Bb:()=>It,hE:()=>Nt,sG:()=>ft,up:()=>xt});var d=_(316),A=_(7404);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class w extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class D extends w{static makeCurrent(){(0,d.ZD)(new D)}onAndCancel(We,Be,gt){return We.addEventListener(Be,gt),()=>{We.removeEventListener(Be,gt)}}dispatchEvent(We,Be){We.dispatchEvent(Be)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,Be){return(Be=Be||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,Be){return"window"===Be?window:"document"===Be?We:"body"===Be?We.body:null}getBaseHref(We){const Be=function S(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==Be?null:function I($e){return new URL($e,document.baseURI).pathname}(Be)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,d._b)(document.cookie,We)}}let C=null,y=(()=>{class $e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(gt){return new(gt||$e)};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();const x=new A.nKC("");let $=(()=>{class $e{constructor(Be,gt){this._zone=gt,this._eventNameToPlugin=new Map,Be.forEach(Zt=>{Zt.manager=this}),this._plugins=Be.slice().reverse()}addEventListener(Be,gt,Zt){return this._findPluginFor(gt).addEventListener(Be,gt,Zt)}getZone(){return this._zone}_findPluginFor(Be){let gt=this._eventNameToPlugin.get(Be);if(gt)return gt;if(gt=this._plugins.find(gn=>gn.supports(Be)),!gt)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set(Be,gt),gt}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(x),A.KVO(A.SKi))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();class R{constructor(We){this._doc=We}}const O="ng-app-id";let M=(()=>{class $e{constructor(Be,gt,Zt,gn={}){this.doc=Be,this.appId=gt,this.nonce=Zt,this.platformId=gn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(gn),this.resetHostNodes()}addStyles(Be){for(const gt of Be)1===this.changeUsageCount(gt,1)&&this.onStyleAdded(gt)}removeStyles(Be){for(const gt of Be)this.changeUsageCount(gt,-1)<=0&&this.onStyleRemoved(gt)}ngOnDestroy(){const Be=this.styleNodesInDOM;Be&&(Be.forEach(gt=>gt.remove()),Be.clear());for(const gt of this.getAllStyles())this.onStyleRemoved(gt);this.resetHostNodes()}addHost(Be){this.hostNodes.add(Be);for(const gt of this.getAllStyles())this.addStyleToHost(Be,gt)}removeHost(Be){this.hostNodes.delete(Be)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Be){for(const gt of this.hostNodes)this.addStyleToHost(gt,Be)}onStyleRemoved(Be){const gt=this.styleRef;gt.get(Be)?.elements?.forEach(Zt=>Zt.remove()),gt.delete(Be)}collectServerRenderedStyles(){const Be=this.doc.head?.querySelectorAll(`style[${O}="${this.appId}"]`);if(Be?.length){const gt=new Map;return Be.forEach(Zt=>{null!=Zt.textContent&&gt.set(Zt.textContent,Zt)}),gt}return null}changeUsageCount(Be,gt){const Zt=this.styleRef;if(Zt.has(Be)){const gn=Zt.get(Be);return gn.usage+=gt,gn.usage}return Zt.set(Be,{usage:gt,elements:[]}),gt}getStyleElement(Be,gt){const Zt=this.styleNodesInDOM,gn=Zt?.get(gt);if(gn?.parentNode===Be)return Zt.delete(gt),gn.removeAttribute(O),gn;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=gt,this.platformIsServer&&lt.setAttribute(O,this.appId),Be.appendChild(lt),lt}}addStyleToHost(Be,gt){const Zt=this.getStyleElement(Be,gt),gn=this.styleRef,lt=gn.get(gt)?.elements;lt?lt.push(Zt):gn.set(gt,{elements:[Zt],usage:1})}resetHostNodes(){const Be=this.hostNodes;Be.clear(),Be.add(this.doc.head)}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();const L={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},z=/%COMP%/g,F="%COMP%",J=`_nghost-${F}`,ue=`_ngcontent-${F}`,re=new A.nKC("",{providedIn:"root",factory:()=>!0});function Y($e,We){return We.map(Be=>Be.replace(z,$e))}let se=(()=>{class $e{constructor(Be,gt,Zt,gn,lt,Te,rt,Le=null){this.eventManager=Be,this.sharedStylesHost=gt,this.appId=Zt,this.removeStylesOnCompDestroy=gn,this.doc=lt,this.platformId=Te,this.ngZone=rt,this.nonce=Le,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Te),this.defaultRenderer=new W(Be,lt,rt,this.platformIsServer)}createRenderer(Be,gt){if(!Be||!gt)return this.defaultRenderer;this.platformIsServer&&gt.encapsulation===A.gXe.ShadowDom&&(gt={...gt,encapsulation:A.gXe.Emulated});const Zt=this.getOrCreateRenderer(Be,gt);return Zt instanceof Je?Zt.applyToHost(Be):Zt instanceof yt&&Zt.applyStyles(),Zt}getOrCreateRenderer(Be,gt){const Zt=this.rendererByCompId;let gn=Zt.get(gt.id);if(!gn){const lt=this.doc,Te=this.ngZone,rt=this.eventManager,Le=this.sharedStylesHost,bt=this.removeStylesOnCompDestroy,Ft=this.platformIsServer;switch(gt.encapsulation){case A.gXe.Emulated:gn=new Je(rt,Le,gt,this.appId,bt,lt,Te,Ft);break;case A.gXe.ShadowDom:return new Xe(rt,Le,Be,gt,lt,Te,this.nonce,Ft);default:gn=new yt(rt,Le,gt,bt,lt,Te,Ft)}Zt.set(gt.id,gn)}return gn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO($),A.KVO(M),A.KVO(A.sZ2),A.KVO(re),A.KVO(d.qQ),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();class W{constructor(We,Be,gt,Zt){this.eventManager=We,this.doc=Be,this.ngZone=gt,this.platformIsServer=Zt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(We,Be){return Be?this.doc.createElementNS(L[Be]||Be,We):this.doc.createElement(We)}createComment(We){return this.doc.createComment(We)}createText(We){return this.doc.createTextNode(We)}appendChild(We,Be){(Me(We)?We.content:We).appendChild(Be)}insertBefore(We,Be,gt){We&&(Me(We)?We.content:We).insertBefore(Be,gt)}removeChild(We,Be){We&&We.removeChild(Be)}selectRootElement(We,Be){let gt="string"==typeof We?this.doc.querySelector(We):We;if(!gt)throw new A.wOt(-5104,!1);return Be||(gt.textContent=""),gt}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,Be,gt,Zt){if(Zt){Be=Zt+":"+Be;const gn=L[Zt];gn?We.setAttributeNS(gn,Be,gt):We.setAttribute(Be,gt)}else We.setAttribute(Be,gt)}removeAttribute(We,Be,gt){if(gt){const Zt=L[gt];Zt?We.removeAttributeNS(Zt,Be):We.removeAttribute(`${gt}:${Be}`)}else We.removeAttribute(Be)}addClass(We,Be){We.classList.add(Be)}removeClass(We,Be){We.classList.remove(Be)}setStyle(We,Be,gt,Zt){Zt&(A.czy.DashCase|A.czy.Important)?We.style.setProperty(Be,gt,Zt&A.czy.Important?"important":""):We.style[Be]=gt}removeStyle(We,Be,gt){gt&A.czy.DashCase?We.style.removeProperty(Be):We.style[Be]=""}setProperty(We,Be,gt){null!=We&&(We[Be]=gt)}setValue(We,Be){We.nodeValue=Be}listen(We,Be,gt){if("string"==typeof We&&!(We=(0,d.QT)().getGlobalEventTarget(this.doc,We)))throw new Error(`Unsupported event target ${We} for event ${Be}`);return this.eventManager.addEventListener(We,Be,this.decoratePreventDefault(gt))}decoratePreventDefault(We){return Be=>{if("__ngUnwrap__"===Be)return We;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>We(Be)):We(Be))&&Be.preventDefault()}}}function Me($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class Xe extends W{constructor(We,Be,gt,Zt,gn,lt,Te,rt){super(We,gn,lt,rt),this.sharedStylesHost=Be,this.hostEl=gt,this.shadowRoot=gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Le=Y(Zt.id,Zt.styles);for(const bt of Le){const Ft=document.createElement("style");Te&&Ft.setAttribute("nonce",Te),Ft.textContent=bt,this.shadowRoot.appendChild(Ft)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}appendChild(We,Be){return super.appendChild(this.nodeOrShadowRoot(We),Be)}insertBefore(We,Be,gt){return super.insertBefore(this.nodeOrShadowRoot(We),Be,gt)}removeChild(We,Be){return super.removeChild(this.nodeOrShadowRoot(We),Be)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yt extends W{constructor(We,Be,gt,Zt,gn,lt,Te,rt){super(We,gn,lt,Te),this.sharedStylesHost=Be,this.removeStylesOnCompDestroy=Zt,this.styles=rt?Y(rt,gt.styles):gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Je extends yt{constructor(We,Be,gt,Zt,gn,lt,Te,rt){const Le=Zt+"-"+gt.id;super(We,Be,gt,gn,lt,Te,rt,Le),this.contentAttr=function we($e){return ue.replace(z,$e)}(Le),this.hostAttr=function j($e){return J.replace(z,$e)}(Le)}applyToHost(We){this.applyStyles(),this.setAttribute(We,this.hostAttr,"")}createElement(We,Be){const gt=super.createElement(We,Be);return super.setAttribute(gt,this.contentAttr,""),gt}}let je=(()=>{class $e extends R{constructor(Be){super(Be)}supports(Be){return!0}addEventListener(Be,gt,Zt){return Be.addEventListener(gt,Zt,!1),()=>this.removeEventListener(Be,gt,Zt)}removeEventListener(Be,gt,Zt){return Be.removeEventListener(gt,Zt)}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})(),X=(()=>{class $e extends R{constructor(Be){super(Be),this.delegate=(0,A.WQX)(A.zAP,{optional:!0})}supports(Be){return!!this.delegate&&this.delegate.supports(Be)}addEventListener(Be,gt,Zt){return this.delegate.addEventListener(Be,gt,Zt)}removeEventListener(Be,gt,Zt){return this.delegate.removeEventListener(Be,gt,Zt)}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();const oe=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Pe=(()=>{class $e extends R{constructor(Be){super(Be)}supports(Be){return null!=$e.parseEventName(Be)}addEventListener(Be,gt,Zt){const gn=$e.parseEventName(gt),lt=$e.eventCallback(gn.fullKey,Zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(Be,gn.domEventName,lt))}static parseEventName(Be){const gt=Be.toLowerCase().split("."),Zt=gt.shift();if(0===gt.length||"keydown"!==Zt&&"keyup"!==Zt)return null;const gn=$e._normalizeKey(gt.pop());let lt="",Te=gt.indexOf("code");if(Te>-1&&(gt.splice(Te,1),lt="code."),oe.forEach(Le=>{const bt=gt.indexOf(Le);bt>-1&&(gt.splice(bt,1),lt+=Le+".")}),lt+=gn,0!=gt.length||0===gn.length)return null;const rt={};return rt.domEventName=Zt,rt.fullKey=lt,rt}static matchEventFullKeyCode(Be,gt){let Zt=_e[Be.key]||Be.key,gn="";return gt.indexOf("code.")>-1&&(Zt=Be.code,gn="code."),!(null==Zt||!Zt)&&(Zt=Zt.toLowerCase()," "===Zt?Zt="space":"."===Zt&&(Zt="dot"),oe.forEach(lt=>{lt!==Zt&&(0,ve[lt])(Be)&&(gn+=lt+".")}),gn+=Zt,gn===gt)}static eventCallback(Be,gt,Zt){return gn=>{$e.matchEventFullKeyCode(gn,Be)&&Zt.runGuarded(()=>gt(gn))}}static _normalizeKey(Be){return"esc"===Be?"escape":Be}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac})}return $e})();const ft=(0,A.oH4)(A.fpN,"browser",[{provide:A.Agw,useValue:d.AJ},{provide:A.PLl,useValue:function qt(){D.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Tt(){return(0,A.TL$)(document),document},deps:[]}]),Re=new A.nKC(""),Ye=[{provide:A.e01,useClass:class E{addToWindow(We){A.JZv.getAngularTestability=(gt,Zt=!0)=>{const gn=We.findTestabilityInTree(gt,Zt);if(null==gn)throw new A.wOt(5103,!1);return gn},A.JZv.getAllAngularTestabilities=()=>We.getAllTestabilities(),A.JZv.getAllAngularRootElements=()=>We.getAllRootElements(),A.JZv.frameworkStabilizers||(A.JZv.frameworkStabilizers=[]),A.JZv.frameworkStabilizers.push(gt=>{const Zt=A.JZv.getAllAngularTestabilities();let gn=Zt.length;const lt=function(){gn--,0==gn&&gt()};Zt.forEach(Te=>{Te.whenStable(lt)})})}findTestabilityInTree(We,Be,gt){return null==Be?null:We.getTestability(Be)??(gt?(0,d.QT)().isShadowRoot(Be)?this.findTestabilityInTree(We,Be.host,!0):this.findTestabilityInTree(We,Be.parentElement,!0):null)}},deps:[]},{provide:A.WHO,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]},{provide:A.NYb,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]}],vt=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function Vt(){return new A.zcH},deps:[]},{provide:x,useClass:je,multi:!0,deps:[d.qQ,A.SKi,A.Agw]},{provide:x,useClass:Pe,multi:!0,deps:[d.qQ]},{provide:x,useClass:X,multi:!0},se,M,$,{provide:A._9s,useExisting:se},{provide:d.N0,useClass:y,deps:[]},[]];let It=(()=>{class $e{constructor(Be){}static withServerTransition(Be){return{ngModule:$e,providers:[{provide:A.sZ2,useValue:Be.appId}]}}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(Re,12))};static#t=this.\u0275mod=A.$C({type:$e});static#n=this.\u0275inj=A.G2t({providers:[...vt,...Ye],imports:[d.MD,A.Hbi]})}return $e})(),Nt=(()=>{class $e{constructor(Be){this._doc=Be}getTitle(){return this._doc.title}setTitle(Be){this._doc.title=Be||""}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),xt=(()=>{class $e{static#e=this.\u0275fac=function(gt){return new(gt||$e)};static#t=this.\u0275prov=A.jDH({token:$e,factory:function(gt){let Zt=null;return Zt=gt?new(gt||$e):A.KVO(zt),Zt},providedIn:"root"})}return $e})(),zt=(()=>{class $e extends xt{constructor(Be){super(),this._doc=Be}sanitize(Be,gt){if(null==gt)return null;switch(Be){case A.WPN.NONE:return gt;case A.WPN.HTML:return(0,A.ZF7)(gt,"HTML")?(0,A.rcV)(gt):(0,A.h9k)(this._doc,String(gt)).toString();case A.WPN.STYLE:return(0,A.ZF7)(gt,"Style")?(0,A.rcV)(gt):gt;case A.WPN.SCRIPT:if((0,A.ZF7)(gt,"Script"))return(0,A.rcV)(gt);throw new A.wOt(5200,!1);case A.WPN.URL:return(0,A.ZF7)(gt,"URL")?(0,A.rcV)(gt):(0,A.$MX)(String(gt));case A.WPN.RESOURCE_URL:if((0,A.ZF7)(gt,"ResourceURL"))return(0,A.rcV)(gt);throw new A.wOt(5201,!1);default:throw new A.wOt(5202,!1)}}bypassSecurityTrustHtml(Be){return(0,A.Kcf)(Be)}bypassSecurityTrustStyle(Be){return(0,A.cWb)(Be)}bypassSecurityTrustScript(Be){return(0,A.UyX)(Be)}bypassSecurityTrustUrl(Be){return(0,A.osQ)(Be)}bypassSecurityTrustResourceUrl(Be){return(0,A.e5t)(Be)}static#e=this.\u0275fac=function(gt){return new(gt||$e)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})()},9805:(dn,Ne,_)=>{"use strict";_.d(Ne,{nX:()=>ba,j5:()=>Zr,wF:()=>lr,L6:()=>Os,Z:()=>Li,gx:()=>Vr,Ix:()=>$o,iI:()=>Eh,n3:()=>Ao});var d=_(7404),A=_(6899),w=_(2677),D=_(1536),C=_(521),S=_(2175),I=_(5363),E=_(6933),y=_(6965),x=_(782),$=_(6651),R=_(4380),O=_(1810),M=_(3119),L=_(2672),z=_(316),F=_(5443),J=_(1963),ue=_(3602),ce=_(9273),re=_(8627),we=_(3107),j=_(7871),Y=_(9003),se=_(6e3),W=_(9314),Ce=_(8097);class Me{constructor(Ie,he,Ae=!1){this.accumulator=Ie,this.seed=he,this.hasSeed=Ae}call(Ie,he){return he.subscribe(new Xe(Ie,this.accumulator,this.seed,this.hasSeed))}}class Xe extends Ce.v{constructor(Ie,he,Ae,ht){super(Ie),this.accumulator=he,this._seed=Ae,this.hasSeed=ht,this.index=0}get seed(){return this._seed}set seed(Ie){this.hasSeed=!0,this._seed=Ie}_next(Ie){if(this.hasSeed)return this._tryNext(Ie);this.seed=Ie,this.destination.next(Ie)}_tryNext(Ie){const he=this.index++;let Ae;try{Ae=this.accumulator(this.seed,Ie,he)}catch(ht){this.destination.error(ht)}this.seed=Ae,this.destination.next(Ae)}}var yt=_(4702),Je=_(5741);function je(K){return function(he){return 0===K?(0,R.I)():he.lift(new X(K))}}class X{constructor(Ie){if(this.total=Ie,this.total<0)throw new Je.k}call(Ie,he){return he.subscribe(new oe(Ie,this.total))}}class oe extends Ce.v{constructor(Ie,he){super(Ie),this.total=he,this.ring=new Array,this.count=0}_next(Ie){const he=this.ring,Ae=this.total,ht=this.count++;he.length<Ae?he.push(Ie):he[ht%Ae]=Ie}_complete(){const Ie=this.destination;let he=this.count;if(he>0){const Ae=this.count>=this.total?this.total:this.count,ht=this.ring;for(let Lt=0;Lt<Ae;Lt++){const cn=he++%Ae;Ie.next(ht[cn])}}Ie.complete()}}var _e=_(3505),ve=_(5980);class Qe{constructor(Ie){this.value=Ie}call(Ie,he){return he.subscribe(new Pt(Ie,this.value))}}class Pt extends Ce.v{constructor(Ie,he){super(Ie),this.value=he}_next(Ie){this.destination.next(this.value)}}var Se=_(9863),qt=_(3261),Vt=_(7464),Tt=_(9450),Ot=_(436);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const ft="primary",Re=Symbol("RouteTitle");class Ye{constructor(Ie){this.params=Ie||{}}has(Ie){return Object.prototype.hasOwnProperty.call(this.params,Ie)}get(Ie){if(this.has(Ie)){const he=this.params[Ie];return Array.isArray(he)?he[0]:he}return null}getAll(Ie){if(this.has(Ie)){const he=this.params[Ie];return Array.isArray(he)?he:[he]}return[]}get keys(){return Object.keys(this.params)}}function vt(K){return new Ye(K)}function It(K,Ie,he){const Ae=he.path.split("/");if(Ae.length>K.length||"full"===he.pathMatch&&(Ie.hasChildren()||Ae.length<K.length))return null;const ht={};for(let Lt=0;Lt<Ae.length;Lt++){const cn=Ae[Lt],Hn=K[Lt];if(":"===cn[0])ht[cn.substring(1)]=Hn;else if(cn!==Hn.path)return null}return{consumed:K.slice(0,Ae.length),posParams:ht}}function st(K,Ie){const he=K?Nt(K):void 0,Ae=Ie?Nt(Ie):void 0;if(!he||!Ae||he.length!=Ae.length)return!1;let ht;for(let Lt=0;Lt<he.length;Lt++)if(ht=he[Lt],!Ut(K[ht],Ie[ht]))return!1;return!0}function Nt(K){return[...Object.keys(K),...Object.getOwnPropertySymbols(K)]}function Ut(K,Ie){if(Array.isArray(K)&&Array.isArray(Ie)){if(K.length!==Ie.length)return!1;const he=[...K].sort(),Ae=[...Ie].sort();return he.every((ht,Lt)=>Ae[Lt]===ht)}return K===Ie}function wt(K){return K.length>0?K[K.length-1]:null}function ct(K){return(0,A.A)(K)?K:(0,d.jNT)(K)?(0,w.H)(Promise.resolve(K)):(0,D.of)(K)}const ut={exact:function at(K,Ie,he){if(!$t(K.segments,Ie.segments)||!vi(K.segments,Ie.segments,he)||K.numberOfChildren!==Ie.numberOfChildren)return!1;for(const Ae in Ie.children)if(!K.children[Ae]||!at(K.children[Ae],Ie.children[Ae],he))return!1;return!0},subset:nn},Z={exact:function pe(K,Ie){return st(K,Ie)},subset:function Gt(K,Ie){return Object.keys(Ie).length<=Object.keys(K).length&&Object.keys(Ie).every(he=>Ut(K[he],Ie[he]))},ignored:()=>!0};function Fe(K,Ie,he){return ut[he.paths](K.root,Ie.root,he.matrixParams)&&Z[he.queryParams](K.queryParams,Ie.queryParams)&&!("exact"===he.fragment&&K.fragment!==Ie.fragment)}function nn(K,Ie,he){return Wn(K,Ie,Ie.segments,he)}function Wn(K,Ie,he,Ae){if(K.segments.length>he.length){const ht=K.segments.slice(0,he.length);return!(!$t(ht,he)||Ie.hasChildren()||!vi(ht,he,Ae))}if(K.segments.length===he.length){if(!$t(K.segments,he)||!vi(K.segments,he,Ae))return!1;for(const ht in Ie.children)if(!K.children[ht]||!nn(K.children[ht],Ie.children[ht],Ae))return!1;return!0}{const ht=he.slice(0,K.segments.length),Lt=he.slice(K.segments.length);return!!($t(K.segments,ht)&&vi(K.segments,ht,Ae)&&K.children[ft])&&Wn(K.children[ft],Ie,Lt,Ae)}}function vi(K,Ie,he){return Ie.every((Ae,ht)=>Z[he](K[ht].parameters,Ae.parameters))}class sn{constructor(Ie=new tn([],{}),he={},Ae=null){this.root=Ie,this.queryParams=he,this.fragment=Ae}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return Sn.serialize(this)}}class tn{constructor(Ie,he){this.segments=Ie,this.children=he,this.parent=null,Object.values(he).forEach(Ae=>Ae.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class xt{constructor(Ie,he){this.path=Ie,this.parameters=he}get parameterMap(){return this._parameterMap??=vt(this.parameters),this._parameterMap}toString(){return Zt(this)}}function $t(K,Ie){return K.length===Ie.length&&K.every((he,Ae)=>he.path===Ie[Ae].path)}let Nn=(()=>{class K{static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:()=>new Ni,providedIn:"root"})}return K})();class Ni{parse(Ie){const he=new pi(Ie);return new sn(he.parseRootSegment(),he.parseQueryParams(),he.parseFragment())}serialize(Ie){const he=`/${En(Ie.root,!0)}`,Ae=function lt(K){const Ie=Object.entries(K).map(([he,Ae])=>Array.isArray(Ae)?Ae.map(ht=>`${pt(he)}=${pt(ht)}`).join("&"):`${pt(he)}=${pt(Ae)}`).filter(he=>he);return Ie.length?`?${Ie.join("&")}`:""}(Ie.queryParams);return`${he}${Ae}${"string"==typeof Ie.fragment?`#${function $e(K){return encodeURI(K)}(Ie.fragment)}`:""}`}}const Sn=new Ni;function Gn(K){return K.segments.map(Ie=>Zt(Ie)).join("/")}function En(K,Ie){if(!K.hasChildren())return Gn(K);if(Ie){const he=K.children[ft]?En(K.children[ft],!1):"",Ae=[];return Object.entries(K.children).forEach(([ht,Lt])=>{ht!==ft&&Ae.push(`${ht}:${En(Lt,!1)}`)}),Ae.length>0?`${he}(${Ae.join("//")})`:he}{const he=function vn(K,Ie){let he=[];return Object.entries(K.children).forEach(([Ae,ht])=>{Ae===ft&&(he=he.concat(Ie(ht,Ae)))}),Object.entries(K.children).forEach(([Ae,ht])=>{Ae!==ft&&(he=he.concat(Ie(ht,Ae)))}),he}(K,(Ae,ht)=>ht===ft?[En(K.children[ft],!1)]:[`${ht}:${En(Ae,!1)}`]);return 1===Object.keys(K.children).length&&null!=K.children[ft]?`${Gn(K)}/${he[0]}`:`${Gn(K)}/(${he.join("//")})`}}function Kn(K){return encodeURIComponent(K).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pt(K){return Kn(K).replace(/%3B/gi,";")}function We(K){return Kn(K).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Be(K){return decodeURIComponent(K)}function gt(K){return Be(K.replace(/\+/g,"%20"))}function Zt(K){return`${We(K.path)}${function gn(K){return Object.entries(K).map(([Ie,he])=>`;${We(Ie)}=${We(he)}`).join("")}(K.parameters)}`}const Te=/^[^\/()?;#]+/;function rt(K){const Ie=K.match(Te);return Ie?Ie[0]:""}const Le=/^[^\/()?;=#]+/,Ft=/^[^=?&#]+/,On=/^[^&#]+/;class pi{constructor(Ie){this.url=Ie,this.remaining=Ie}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const Ie={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ie)}while(this.consumeOptional("&"));return Ie}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ie=[];for(this.peekStartsWith("(")||Ie.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ie.push(this.parseSegment());let he={};this.peekStartsWith("/(")&&(this.capture("/"),he=this.parseParens(!0));let Ae={};return this.peekStartsWith("(")&&(Ae=this.parseParens(!1)),(Ie.length>0||Object.keys(he).length>0)&&(Ae[ft]=new tn(Ie,he)),Ae}parseSegment(){const Ie=rt(this.remaining);if(""===Ie&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(Ie),new xt(Be(Ie),this.parseMatrixParams())}parseMatrixParams(){const Ie={};for(;this.consumeOptional(";");)this.parseParam(Ie);return Ie}parseParam(Ie){const he=function bt(K){const Ie=K.match(Le);return Ie?Ie[0]:""}(this.remaining);if(!he)return;this.capture(he);let Ae="";if(this.consumeOptional("=")){const ht=rt(this.remaining);ht&&(Ae=ht,this.capture(Ae))}Ie[Be(he)]=Be(Ae)}parseQueryParam(Ie){const he=function In(K){const Ie=K.match(Ft);return Ie?Ie[0]:""}(this.remaining);if(!he)return;this.capture(he);let Ae="";if(this.consumeOptional("=")){const cn=function ei(K){const Ie=K.match(On);return Ie?Ie[0]:""}(this.remaining);cn&&(Ae=cn,this.capture(Ae))}const ht=gt(he),Lt=gt(Ae);if(Ie.hasOwnProperty(ht)){let cn=Ie[ht];Array.isArray(cn)||(cn=[cn],Ie[ht]=cn),cn.push(Lt)}else Ie[ht]=Lt}parseParens(Ie){const he={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ae=rt(this.remaining),ht=this.remaining[Ae.length];if("/"!==ht&&")"!==ht&&";"!==ht)throw new d.wOt(4010,!1);let Lt;Ae.indexOf(":")>-1?(Lt=Ae.slice(0,Ae.indexOf(":")),this.capture(Lt),this.capture(":")):Ie&&(Lt=ft);const cn=this.parseChildren();he[Lt]=1===Object.keys(cn).length?cn[ft]:new tn([],cn),this.consumeOptional("//")}return he}peekStartsWith(Ie){return this.remaining.startsWith(Ie)}consumeOptional(Ie){return!!this.peekStartsWith(Ie)&&(this.remaining=this.remaining.substring(Ie.length),!0)}capture(Ie){if(!this.consumeOptional(Ie))throw new d.wOt(4011,!1)}}function zi(K){return K.segments.length>0?new tn([],{[ft]:K}):K}function Ci(K){const Ie={};for(const[Ae,ht]of Object.entries(K.children)){const Lt=Ci(ht);if(Ae===ft&&0===Lt.segments.length&&Lt.hasChildren())for(const[cn,Hn]of Object.entries(Lt.children))Ie[cn]=Hn;else(Lt.segments.length>0||Lt.hasChildren())&&(Ie[Ae]=Lt)}return function Gi(K){if(1===K.numberOfChildren&&K.children[ft]){const Ie=K.children[ft];return new tn(K.segments.concat(Ie.segments),Ie.children)}return K}(new tn(K.segments,Ie))}function Qn(K){return K instanceof sn}function ur(K){let Ie;const ht=zi(function he(Lt){const cn={};for(const An of Lt.children){const ci=he(An);cn[An.outlet]=ci}const Hn=new tn(Lt.url,cn);return Lt===K&&(Ie=Hn),Hn}(K.root));return Ie??ht}function or(K,Ie,he,Ae){let ht=K;for(;ht.parent;)ht=ht.parent;if(0===Ie.length)return _s(ht,ht,ht,he,Ae);const Lt=function Cs(K){if("string"==typeof K[0]&&1===K.length&&"/"===K[0])return new ys(!0,0,K);let Ie=0,he=!1;const Ae=K.reduce((ht,Lt,cn)=>{if("object"==typeof Lt&&null!=Lt){if(Lt.outlets){const Hn={};return Object.entries(Lt.outlets).forEach(([An,ci])=>{Hn[An]="string"==typeof ci?ci.split("/"):ci}),[...ht,{outlets:Hn}]}if(Lt.segmentPath)return[...ht,Lt.segmentPath]}return"string"!=typeof Lt?[...ht,Lt]:0===cn?(Lt.split("/").forEach((Hn,An)=>{0==An&&"."===Hn||(0==An&&""===Hn?he=!0:".."===Hn?Ie++:""!=Hn&&ht.push(Hn))}),ht):[...ht,Lt]},[]);return new ys(he,Ie,Ae)}(Ie);if(Lt.toRoot())return _s(ht,ht,new tn([],{}),he,Ae);const cn=function Yi(K,Ie,he){if(K.isAbsolute)return new ss(Ie,!0,0);if(!he)return new ss(Ie,!1,NaN);if(null===he.parent)return new ss(he,!0,0);const Ae=Tr(K.commands[0])?0:1;return function ar(K,Ie,he){let Ae=K,ht=Ie,Lt=he;for(;Lt>ht;){if(Lt-=ht,Ae=Ae.parent,!Ae)throw new d.wOt(4005,!1);ht=Ae.segments.length}return new ss(Ae,!1,ht-Lt)}(he,he.segments.length-1+Ae,K.numberOfDoubleDots)}(Lt,ht,K),Hn=cn.processChildren?ii(cn.segmentGroup,cn.index,Lt.commands):ji(cn.segmentGroup,cn.index,Lt.commands);return _s(ht,cn.segmentGroup,Hn,he,Ae)}function Tr(K){return"object"==typeof K&&null!=K&&!K.outlets&&!K.segmentPath}function Hr(K){return"object"==typeof K&&null!=K&&K.outlets}function _s(K,Ie,he,Ae,ht){let cn,Lt={};Ae&&Object.entries(Ae).forEach(([An,ci])=>{Lt[An]=Array.isArray(ci)?ci.map(rr=>`${rr}`):`${ci}`}),cn=K===Ie?he:Ur(K,Ie,he);const Hn=zi(Ci(cn));return new sn(Hn,Lt,ht)}function Ur(K,Ie,he){const Ae={};return Object.entries(K.children).forEach(([ht,Lt])=>{Ae[ht]=Lt===Ie?he:Ur(Lt,Ie,he)}),new tn(K.segments,Ae)}class ys{constructor(Ie,he,Ae){if(this.isAbsolute=Ie,this.numberOfDoubleDots=he,this.commands=Ae,Ie&&Ae.length>0&&Tr(Ae[0]))throw new d.wOt(4003,!1);const ht=Ae.find(Hr);if(ht&&ht!==wt(Ae))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(Ie,he,Ae){this.segmentGroup=Ie,this.processChildren=he,this.index=Ae}}function ji(K,Ie,he){if(K??=new tn([],{}),0===K.segments.length&&K.hasChildren())return ii(K,Ie,he);const Ae=function Ge(K,Ie,he){let Ae=0,ht=Ie;const Lt={match:!1,pathIndex:0,commandIndex:0};for(;ht<K.segments.length;){if(Ae>=he.length)return Lt;const cn=K.segments[ht],Hn=he[Ae];if(Hr(Hn))break;const An=`${Hn}`,ci=Ae<he.length-1?he[Ae+1]:null;if(ht>0&&void 0===An)break;if(An&&ci&&"object"==typeof ci&&void 0===ci.outlets){if(!He(An,ci,cn))return Lt;Ae+=2}else{if(!He(An,{},cn))return Lt;Ae++}ht++}return{match:!0,pathIndex:ht,commandIndex:Ae}}(K,Ie,he),ht=he.slice(Ae.commandIndex);if(Ae.match&&Ae.pathIndex<K.segments.length){const Lt=new tn(K.segments.slice(0,Ae.pathIndex),{});return Lt.children[ft]=new tn(K.segments.slice(Ae.pathIndex),K.children),ii(Lt,0,ht)}return Ae.match&&0===ht.length?new tn(K.segments,{}):Ae.match&&!K.hasChildren()?Mt(K,Ie,he):Ae.match?ii(K,0,ht):Mt(K,Ie,he)}function ii(K,Ie,he){if(0===he.length)return new tn(K.segments,{});{const Ae=function cr(K){return Hr(K[0])?K[0].outlets:{[ft]:K}}(he),ht={};if(Object.keys(Ae).some(Lt=>Lt!==ft)&&K.children[ft]&&1===K.numberOfChildren&&0===K.children[ft].segments.length){const Lt=ii(K.children[ft],Ie,he);return new tn(K.segments,Lt.children)}return Object.entries(Ae).forEach(([Lt,cn])=>{"string"==typeof cn&&(cn=[cn]),null!==cn&&(ht[Lt]=ji(K.children[Lt],Ie,cn))}),Object.entries(K.children).forEach(([Lt,cn])=>{void 0===Ae[Lt]&&(ht[Lt]=cn)}),new tn(K.segments,ht)}}function Mt(K,Ie,he){const Ae=K.segments.slice(0,Ie);let ht=0;for(;ht<he.length;){const Lt=he[ht];if(Hr(Lt)){const An=ne(Lt.outlets);return new tn(Ae,An)}if(0===ht&&Tr(he[0])){Ae.push(new xt(K.segments[Ie].path,et(he[0]))),ht++;continue}const cn=Hr(Lt)?Lt.outlets[ft]:`${Lt}`,Hn=ht<he.length-1?he[ht+1]:null;cn&&Hn&&Tr(Hn)?(Ae.push(new xt(cn,et(Hn))),ht+=2):(Ae.push(new xt(cn,{})),ht++)}return new tn(Ae,{})}function ne(K){const Ie={};return Object.entries(K).forEach(([he,Ae])=>{"string"==typeof Ae&&(Ae=[Ae]),null!==Ae&&(Ie[he]=Mt(new tn([],{}),0,Ae))}),Ie}function et(K){const Ie={};return Object.entries(K).forEach(([he,Ae])=>Ie[he]=`${Ae}`),Ie}function He(K,Ie,he){return K==he.path&&st(Ie,he.parameters)}const kt="imperative";var Bt=function(K){return K[K.NavigationStart=0]="NavigationStart",K[K.NavigationEnd=1]="NavigationEnd",K[K.NavigationCancel=2]="NavigationCancel",K[K.NavigationError=3]="NavigationError",K[K.RoutesRecognized=4]="RoutesRecognized",K[K.ResolveStart=5]="ResolveStart",K[K.ResolveEnd=6]="ResolveEnd",K[K.GuardsCheckStart=7]="GuardsCheckStart",K[K.GuardsCheckEnd=8]="GuardsCheckEnd",K[K.RouteConfigLoadStart=9]="RouteConfigLoadStart",K[K.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",K[K.ChildActivationStart=11]="ChildActivationStart",K[K.ChildActivationEnd=12]="ChildActivationEnd",K[K.ActivationStart=13]="ActivationStart",K[K.ActivationEnd=14]="ActivationEnd",K[K.Scroll=15]="Scroll",K[K.NavigationSkipped=16]="NavigationSkipped",K}(Bt||{});class Zn{constructor(Ie,he){this.id=Ie,this.url=he}}class Li extends Zn{constructor(Ie,he,Ae="imperative",ht=null){super(Ie,he),this.type=Bt.NavigationStart,this.navigationTrigger=Ae,this.restoredState=ht}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lr extends Zn{constructor(Ie,he,Ae){super(Ie,he),this.urlAfterRedirects=Ae,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var kr=function(K){return K[K.Redirect=0]="Redirect",K[K.SupersededByNewNavigation=1]="SupersededByNewNavigation",K[K.NoDataFromResolver=2]="NoDataFromResolver",K[K.GuardRejected=3]="GuardRejected",K}(kr||{}),Lr=function(K){return K[K.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",K[K.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",K}(Lr||{});class Zr extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.reason=Ae,this.code=ht,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.reason=Ae,this.code=ht,this.type=Bt.NavigationSkipped}}class Os extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.error=Ae,this.target=ht,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Er extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.urlAfterRedirects=Ae,this.state=ht,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.urlAfterRedirects=Ae,this.state=ht,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends Zn{constructor(Ie,he,Ae,ht,Lt){super(Ie,he),this.urlAfterRedirects=Ae,this.state=ht,this.shouldActivate=Lt,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jo extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.urlAfterRedirects=Ae,this.state=ht,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends Zn{constructor(Ie,he,Ae,ht){super(Ie,he),this.urlAfterRedirects=Ae,this.state=ht,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io{constructor(Ie){this.route=Ie,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ho{constructor(Ie){this.route=Ie,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class No{constructor(Ie){this.snapshot=Ie,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tl{constructor(Ie){this.snapshot=Ie,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(Ie){this.snapshot=Ie,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ka{constructor(Ie){this.snapshot=Ie,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _a{constructor(Ie,he,Ae){this.routerEvent=Ie,this.position=he,this.anchor=Ae,this.type=Bt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ea{}class yl{constructor(Ie,he){this.url=Ie,this.navigationBehaviorOptions=he}}function Hs(K){return K.outlet||ft}function ta(K){if(!K)return null;if(K.routeConfig?._injector)return K.routeConfig._injector;for(let Ie=K.parent;Ie;Ie=Ie.parent){const he=Ie.routeConfig;if(he?._loadedInjector)return he._loadedInjector;if(he?._injector)return he._injector}return null}class Gs{get injector(){return ta(this.route?.snapshot)??this.rootInjector}set injector(Ie){}constructor(Ie){this.rootInjector=Ie,this.outlet=null,this.route=null,this.children=new oo(this.rootInjector),this.attachRef=null}}let oo=(()=>{class K{constructor(he){this.rootInjector=he,this.contexts=new Map}onChildOutletCreated(he,Ae){const ht=this.getOrCreateContext(he);ht.outlet=Ae,this.contexts.set(he,ht)}onChildOutletDestroyed(he){const Ae=this.getContext(he);Ae&&(Ae.outlet=null,Ae.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let Ae=this.getContext(he);return Ae||(Ae=new Gs(this.rootInjector),this.contexts.set(he,Ae)),Ae}getContext(he){return this.contexts.get(he)||null}static#e=this.\u0275fac=function(Ae){return new(Ae||K)(d.KVO(d.uvJ))};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();class va{constructor(Ie){this._root=Ie}get root(){return this._root.value}parent(Ie){const he=this.pathFromRoot(Ie);return he.length>1?he[he.length-2]:null}children(Ie){const he=Po(Ie,this._root);return he?he.children.map(Ae=>Ae.value):[]}firstChild(Ie){const he=Po(Ie,this._root);return he&&he.children.length>0?he.children[0].value:null}siblings(Ie){const he=rl(Ie,this._root);return he.length<2?[]:he[he.length-2].children.map(ht=>ht.value).filter(ht=>ht!==Ie)}pathFromRoot(Ie){return rl(Ie,this._root).map(he=>he.value)}}function Po(K,Ie){if(K===Ie.value)return Ie;for(const he of Ie.children){const Ae=Po(K,he);if(Ae)return Ae}return null}function rl(K,Ie){if(K===Ie.value)return[Ie];for(const he of Ie.children){const Ae=rl(K,he);if(Ae.length)return Ae.unshift(Ie),Ae}return[]}class bo{constructor(Ie,he){this.value=Ie,this.children=he}toString(){return`TreeNode(${this.value})`}}function wo(K){const Ie={};return K&&K.children.forEach(he=>Ie[he.value.outlet]=he),Ie}class Pa extends va{constructor(Ie,he){super(Ie),this.snapshot=he,po(this,Ie)}toString(){return this.snapshot.toString()}}function Go(K){const Ie=function Il(K){const Lt=new vs([],{},{},"",{},ft,K,null,{});return new na("",new bo(Lt,[]))}(K),he=new C.t([new xt("",{})]),Ae=new C.t({}),ht=new C.t({}),Lt=new C.t({}),cn=new C.t(""),Hn=new ba(he,Ae,Lt,cn,ht,ft,K,Ie.root);return Hn.snapshot=Ie.root,new Pa(new bo(Hn,[]),Ie)}class ba{constructor(Ie,he,Ae,ht,Lt,cn,Hn,An){this.urlSubject=Ie,this.paramsSubject=he,this.queryParamsSubject=Ae,this.fragmentSubject=ht,this.dataSubject=Lt,this.outlet=cn,this.component=Hn,this._futureSnapshot=An,this.title=this.dataSubject?.pipe((0,F.T)(ci=>ci[Re]))??(0,D.of)(void 0),this.url=Ie,this.params=he,this.queryParams=Ae,this.fragment=ht,this.data=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,F.T)(Ie=>vt(Ie))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,F.T)(Ie=>vt(Ie))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(K,Ie,he="emptyOnly"){let Ae;const{routeConfig:ht}=K;return Ae=null===Ie||"always"!==he&&""!==ht?.path&&(Ie.component||Ie.routeConfig?.loadComponent)?{params:{...K.params},data:{...K.data},resolve:{...K.data,...K._resolvedData??{}}}:{params:{...Ie.params,...K.params},data:{...Ie.data,...K.data},resolve:{...K.data,...Ie.data,...ht?.data,...K._resolvedData}},ht&&Oi(ht)&&(Ae.resolve[Re]=ht.title),Ae}class vs{get title(){return this.data?.[Re]}constructor(Ie,he,Ae,ht,Lt,cn,Hn,An,ci){this.url=Ie,this.params=he,this.queryParams=Ae,this.fragment=ht,this.data=Lt,this.outlet=cn,this.component=Hn,this.routeConfig=An,this._resolve=ci}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ae=>Ae.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class na extends va{constructor(Ie,he){super(he),this.url=Ie,po(this,he)}toString(){return Xa(this._root)}}function po(K,Ie){Ie.value._routerState=K,Ie.children.forEach(he=>po(K,he))}function Xa(K){const Ie=K.children.length>0?` { ${K.children.map(Xa).join(", ")} } `:"";return`${K.value}${Ie}`}function Ya(K){if(K.snapshot){const Ie=K.snapshot,he=K._futureSnapshot;K.snapshot=he,st(Ie.queryParams,he.queryParams)||K.queryParamsSubject.next(he.queryParams),Ie.fragment!==he.fragment&&K.fragmentSubject.next(he.fragment),st(Ie.params,he.params)||K.paramsSubject.next(he.params),function ot(K,Ie){if(K.length!==Ie.length)return!1;for(let he=0;he<K.length;++he)if(!st(K[he],Ie[he]))return!1;return!0}(Ie.url,he.url)||K.urlSubject.next(he.url),st(Ie.data,he.data)||K.dataSubject.next(he.data)}else K.snapshot=K._futureSnapshot,K.dataSubject.next(K._futureSnapshot.data)}function sl(K,Ie){const he=st(K.params,Ie.params)&&function zt(K,Ie){return $t(K,Ie)&&K.every((he,Ae)=>st(he.parameters,Ie[Ae].parameters))}(K.url,Ie.url);return he&&!(!K.parent!=!Ie.parent)&&(!K.parent||sl(K.parent,Ie.parent))}function Oi(K){return"string"==typeof K.title||null===K.title}let Ao=(()=>{class K{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(oo),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(Fo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:Ae,previousValue:ht}=he.name;if(Ae)return;this.isTrackedInParentContexts(ht)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ht)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){return this.parentContexts.getContext(he)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);he?.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,Ae){this.activated=he,this._activatedRoute=Ae,this.location.insert(he.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,Ae){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=he;const ht=this.location,cn=he.snapshot.component,Hn=this.parentContexts.getOrCreateContext(this.name).children,An=new mo(he,Hn,ht.injector);this.activated=ht.createComponent(cn,{index:ht.length,injector:An,environmentInjector:Ae}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275dir=d.FsC({type:K,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}return K})();class mo{__ngOutletInjector(Ie){return new mo(this.route,this.childContexts,Ie)}constructor(Ie,he,Ae){this.route=Ie,this.childContexts=he,this.parent=Ae}get(Ie,he){return Ie===ba?this.route:Ie===oo?this.childContexts:this.parent.get(Ie,he)}}const Fo=new d.nKC("");let Zl=(()=>{class K{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){this.outletDataSubscriptions.get(he)?.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:Ae}=he,ht=(0,S.zV)([Ae.queryParams,Ae.params,Ae.data]).pipe((0,J.n)(([Lt,cn,Hn],An)=>(Hn={...Lt,...cn,...Hn},0===An?(0,D.of)(Hn):Promise.resolve(Hn)))).subscribe(Lt=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==Ae||null===Ae.component)return void this.unsubscribeFromRouteData(he);const cn=(0,d.HJs)(Ae.component);if(cn)for(const{templateName:Hn}of cn.inputs)he.activatedComponentRef.setInput(Hn,Lt[Hn]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,ht)}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac})}return K})();function Ys(K,Ie,he){if(he&&K.shouldReuseRoute(Ie.value,he.value.snapshot)){const Ae=he.value;Ae._futureSnapshot=Ie.value;const ht=function Ko(K,Ie,he){return Ie.children.map(Ae=>{for(const ht of he.children)if(K.shouldReuseRoute(Ae.value,ht.value.snapshot))return Ys(K,Ae,ht);return Ys(K,Ae)})}(K,Ie,he);return new bo(Ae,ht)}{if(K.shouldAttach(Ie.value)){const Lt=K.retrieve(Ie.value);if(null!==Lt){const cn=Lt.route;return cn.value._futureSnapshot=Ie.value,cn.children=Ie.children.map(Hn=>Ys(K,Hn)),cn}}const Ae=function ia(K){return new ba(new C.t(K.url),new C.t(K.params),new C.t(K.queryParams),new C.t(K.fragment),new C.t(K.data),K.outlet,K.component,K)}(Ie.value),ht=Ie.children.map(Lt=>Ys(K,Lt));return new bo(Ae,ht)}}class Fa{constructor(Ie,he){this.redirectTo=Ie,this.navigationBehaviorOptions=he}}const wa="ngNavigationCancelingError";function Lo(K,Ie){const{redirectTo:he,navigationBehaviorOptions:Ae}=Qn(Ie)?{redirectTo:Ie,navigationBehaviorOptions:void 0}:Ie,ht=La(!1,kr.Redirect);return ht.url=he,ht.navigationBehaviorOptions=Ae,ht}function La(K,Ie){const he=new Error(`NavigationCancelingError: ${K||""}`);return he[wa]=!0,he.cancellationCode=Ie,he}function vl(K){return!!K&&K[wa]}class ra{constructor(Ie,he,Ae,ht,Lt){this.routeReuseStrategy=Ie,this.futureState=he,this.currState=Ae,this.forwardEvent=ht,this.inputBindingEnabled=Lt}activate(Ie){const he=this.futureState._root,Ae=this.currState?this.currState._root:null;this.deactivateChildRoutes(he,Ae,Ie),Ya(this.futureState.root),this.activateChildRoutes(he,Ae,Ie)}deactivateChildRoutes(Ie,he,Ae){const ht=wo(he);Ie.children.forEach(Lt=>{const cn=Lt.value.outlet;this.deactivateRoutes(Lt,ht[cn],Ae),delete ht[cn]}),Object.values(ht).forEach(Lt=>{this.deactivateRouteAndItsChildren(Lt,Ae)})}deactivateRoutes(Ie,he,Ae){const ht=Ie.value,Lt=he?he.value:null;if(ht===Lt)if(ht.component){const cn=Ae.getContext(ht.outlet);cn&&this.deactivateChildRoutes(Ie,he,cn.children)}else this.deactivateChildRoutes(Ie,he,Ae);else Lt&&this.deactivateRouteAndItsChildren(he,Ae)}deactivateRouteAndItsChildren(Ie,he){Ie.value.component&&this.routeReuseStrategy.shouldDetach(Ie.value.snapshot)?this.detachAndStoreRouteSubtree(Ie,he):this.deactivateRouteAndOutlet(Ie,he)}detachAndStoreRouteSubtree(Ie,he){const Ae=he.getContext(Ie.value.outlet),ht=Ae&&Ie.value.component?Ae.children:he,Lt=wo(Ie);for(const cn of Object.values(Lt))this.deactivateRouteAndItsChildren(cn,ht);if(Ae&&Ae.outlet){const cn=Ae.outlet.detach(),Hn=Ae.children.onOutletDeactivated();this.routeReuseStrategy.store(Ie.value.snapshot,{componentRef:cn,route:Ie,contexts:Hn})}}deactivateRouteAndOutlet(Ie,he){const Ae=he.getContext(Ie.value.outlet),ht=Ae&&Ie.value.component?Ae.children:he,Lt=wo(Ie);for(const cn of Object.values(Lt))this.deactivateRouteAndItsChildren(cn,ht);Ae&&(Ae.outlet&&(Ae.outlet.deactivate(),Ae.children.onOutletDeactivated()),Ae.attachRef=null,Ae.route=null)}activateChildRoutes(Ie,he,Ae){const ht=wo(he);Ie.children.forEach(Lt=>{this.activateRoutes(Lt,ht[Lt.value.outlet],Ae),this.forwardEvent(new Ka(Lt.value.snapshot))}),Ie.children.length&&this.forwardEvent(new Tl(Ie.value.snapshot))}activateRoutes(Ie,he,Ae){const ht=Ie.value,Lt=he?he.value:null;if(Ya(ht),ht===Lt)if(ht.component){const cn=Ae.getOrCreateContext(ht.outlet);this.activateChildRoutes(Ie,he,cn.children)}else this.activateChildRoutes(Ie,he,Ae);else if(ht.component){const cn=Ae.getOrCreateContext(ht.outlet);if(this.routeReuseStrategy.shouldAttach(ht.snapshot)){const Hn=this.routeReuseStrategy.retrieve(ht.snapshot);this.routeReuseStrategy.store(ht.snapshot,null),cn.children.onOutletReAttached(Hn.contexts),cn.attachRef=Hn.componentRef,cn.route=Hn.route.value,cn.outlet&&cn.outlet.attach(Hn.componentRef,Hn.route.value),Ya(Hn.route.value),this.activateChildRoutes(Ie,null,cn.children)}else cn.attachRef=null,cn.route=ht,cn.outlet&&cn.outlet.activateWith(ht,cn.injector),this.activateChildRoutes(Ie,null,cn.children)}else this.activateChildRoutes(Ie,null,Ae)}}class es{constructor(Ie){this.path=Ie,this.route=this.path[this.path.length-1]}}class qa{constructor(Ie,he){this.component=Ie,this.route=he}}function ao(K,Ie,he){const Ae=K._root;return Xo(Ae,Ie?Ie._root:null,he,[Ae.value])}function sa(K,Ie){const he=Symbol(),Ae=Ie.get(K,he);return Ae===he?"function"!=typeof K||(0,d.LfX)(K)?Ie.get(K):K:Ae}function Xo(K,Ie,he,Ae,ht={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=wo(Ie);return K.children.forEach(cn=>{(function ll(K,Ie,he,Ae,ht={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=K.value,cn=Ie?Ie.value:null,Hn=he?he.getContext(K.value.outlet):null;if(cn&&Lt.routeConfig===cn.routeConfig){const An=function pr(K,Ie,he){if("function"==typeof he)return he(K,Ie);switch(he){case"pathParamsChange":return!$t(K.url,Ie.url);case"pathParamsOrQueryParamsChange":return!$t(K.url,Ie.url)||!st(K.queryParams,Ie.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sl(K,Ie)||!st(K.queryParams,Ie.queryParams);default:return!sl(K,Ie)}}(cn,Lt,Lt.routeConfig.runGuardsAndResolvers);An?ht.canActivateChecks.push(new es(Ae)):(Lt.data=cn.data,Lt._resolvedData=cn._resolvedData),Xo(K,Ie,Lt.component?Hn?Hn.children:null:he,Ae,ht),An&&Hn&&Hn.outlet&&Hn.outlet.isActivated&&ht.canDeactivateChecks.push(new qa(Hn.outlet.component,cn))}else cn&&ks(Ie,Hn,ht),ht.canActivateChecks.push(new es(Ae)),Xo(K,null,Lt.component?Hn?Hn.children:null:he,Ae,ht)})(cn,Lt[cn.value.outlet],he,Ae.concat([cn.value]),ht),delete Lt[cn.value.outlet]}),Object.entries(Lt).forEach(([cn,Hn])=>ks(Hn,he.getContext(cn),ht)),ht}function ks(K,Ie,he){const Ae=wo(K),ht=K.value;Object.entries(Ae).forEach(([Lt,cn])=>{ks(cn,ht.component?Ie?Ie.children.getContext(Lt):null:Ie,he)}),he.canDeactivateChecks.push(new qa(ht.component&&Ie&&Ie.outlet&&Ie.outlet.isActivated?Ie.outlet.component:null,ht))}function lo(K){return"function"==typeof K}function le(K){return K instanceof I.G||"EmptyError"===K?.name}const ie=Symbol("INITIAL_VALUE");function ze(){return(0,J.n)(K=>(0,S.zV)(K.map(Ie=>Ie.pipe((0,ue.s)(1),(0,ce.Z)(ie)))).pipe((0,F.T)(Ie=>{for(const he of Ie)if(!0!==he){if(he===ie)return ie;if(!1===he||Ct(he))return he}return!0}),(0,re.p)(Ie=>Ie!==ie),(0,ue.s)(1)))}function Ct(K){return Qn(K)||K instanceof Fa}function Dr(K){return(0,x.F)((0,se.M)(Ie=>{if("boolean"!=typeof Ie)throw Lo(0,Ie)}),(0,F.T)(Ie=>!0===Ie))}class Ns{constructor(Ie){this.segmentGroup=Ie||null}}class Ks extends Error{constructor(Ie){super(),this.urlTree=Ie}}function xa(K){return(0,$.$)(new Ns(K))}class Kt{constructor(Ie,he){this.urlSerializer=Ie,this.urlTree=he}lineralizeSegments(Ie,he){let Ae=[],ht=he.root;for(;;){if(Ae=Ae.concat(ht.segments),0===ht.numberOfChildren)return(0,D.of)(Ae);if(ht.numberOfChildren>1||!ht.children[ft])return(0,$.$)(new d.wOt(4e3,!1));ht=ht.children[ft]}}applyRedirectCommands(Ie,he,Ae,ht,Lt){if("string"!=typeof he){const Hn=he,{queryParams:An,fragment:ci,routeConfig:rr,url:yr,outlet:Pr,params:Oo,data:fl,title:Ml}=ht,Ul=(0,d.N4e)(Lt,()=>Hn({params:Oo,data:fl,queryParams:An,fragment:ci,routeConfig:rr,url:yr,outlet:Pr,title:Ml}));if(Ul instanceof sn)throw new Ks(Ul);he=Ul}const cn=this.applyRedirectCreateUrlTree(he,this.urlSerializer.parse(he),Ie,Ae);if("/"===he[0])throw new Ks(cn);return cn}applyRedirectCreateUrlTree(Ie,he,Ae,ht){const Lt=this.createSegmentGroup(Ie,he.root,Ae,ht);return new sn(Lt,this.createQueryParams(he.queryParams,this.urlTree.queryParams),he.fragment)}createQueryParams(Ie,he){const Ae={};return Object.entries(Ie).forEach(([ht,Lt])=>{if("string"==typeof Lt&&":"===Lt[0]){const Hn=Lt.substring(1);Ae[ht]=he[Hn]}else Ae[ht]=Lt}),Ae}createSegmentGroup(Ie,he,Ae,ht){const Lt=this.createSegments(Ie,he.segments,Ae,ht);let cn={};return Object.entries(he.children).forEach(([Hn,An])=>{cn[Hn]=this.createSegmentGroup(Ie,An,Ae,ht)}),new tn(Lt,cn)}createSegments(Ie,he,Ae,ht){return he.map(Lt=>":"===Lt.path[0]?this.findPosParam(Ie,Lt,ht):this.findOrReturn(Lt,Ae))}findPosParam(Ie,he,Ae){const ht=Ae[he.path.substring(1)];if(!ht)throw new d.wOt(4001,!1);return ht}findOrReturn(Ie,he){let Ae=0;for(const ht of he){if(ht.path===Ie.path)return he.splice(Ae),ht;Ae++}return Ie}}const ln={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function en(K,Ie,he,Ae,ht){const Lt=Tn(K,Ie,he);return Lt.matched?(Ae=function Oa(K,Ie){return K.providers&&!K._injector&&(K._injector=(0,d.Ol2)(K.providers,Ie,`Route: ${K.path}`)),K._injector??Ie}(Ie,Ae),function Us(K,Ie,he,Ae){const ht=Ie.canMatch;if(!ht||0===ht.length)return(0,D.of)(!0);const Lt=ht.map(cn=>{const Hn=sa(cn,K);return ct(function H(K){return K&&lo(K.canMatch)}(Hn)?Hn.canMatch(Ie,he):(0,d.N4e)(K,()=>Hn(Ie,he)))});return(0,D.of)(Lt).pipe(ze(),Dr())}(Ae,Ie,he).pipe((0,F.T)(cn=>!0===cn?Lt:{...ln}))):(0,D.of)(Lt)}function Tn(K,Ie,he){if("**"===Ie.path)return function an(K){return{matched:!0,parameters:K.length>0?wt(K).parameters:{},consumedSegments:K,remainingSegments:[],positionalParamSegments:{}}}(he);if(""===Ie.path)return"full"===Ie.pathMatch&&(K.hasChildren()||he.length>0)?{...ln}:{matched:!0,consumedSegments:[],remainingSegments:he,parameters:{},positionalParamSegments:{}};const ht=(Ie.matcher||It)(he,K,Ie);if(!ht)return{...ln};const Lt={};Object.entries(ht.posParams??{}).forEach(([Hn,An])=>{Lt[Hn]=An.path});const cn=ht.consumed.length>0?{...Lt,...ht.consumed[ht.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:ht.consumed,remainingSegments:he.slice(ht.consumed.length),parameters:cn,positionalParamSegments:ht.posParams??{}}}function Fn(K,Ie,he,Ae){return he.length>0&&function fi(K,Ie,he){return he.some(Ae=>ki(K,Ie,Ae)&&Hs(Ae)!==ft)}(K,he,Ae)?{segmentGroup:new tn(Ie,zn(Ae,new tn(he,K.children))),slicedSegments:[]}:0===he.length&&function Jn(K,Ie,he){return he.some(Ae=>ki(K,Ie,Ae))}(K,he,Ae)?{segmentGroup:new tn(K.segments,qn(K,he,Ae,K.children)),slicedSegments:he}:{segmentGroup:new tn(K.segments,K.children),slicedSegments:he}}function qn(K,Ie,he,Ae){const ht={};for(const Lt of he)if(ki(K,Ie,Lt)&&!Ae[Hs(Lt)]){const cn=new tn([],{});ht[Hs(Lt)]=cn}return{...Ae,...ht}}function zn(K,Ie){const he={};he[ft]=Ie;for(const Ae of K)if(""===Ae.path&&Hs(Ae)!==ft){const ht=new tn([],{});he[Hs(Ae)]=ht}return he}function ki(K,Ie,he){return(!(K.hasChildren()||Ie.length>0)||"full"!==he.pathMatch)&&""===he.path}class os{}class ns{constructor(Ie,he,Ae,ht,Lt,cn,Hn){this.injector=Ie,this.configLoader=he,this.rootComponentType=Ae,this.config=ht,this.urlTree=Lt,this.paramsInheritanceStrategy=cn,this.urlSerializer=Hn,this.applyRedirects=new Kt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ie){return new d.wOt(4002,`'${Ie.segmentGroup}'`)}recognize(){const Ie=Fn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ie).pipe((0,F.T)(({children:he,rootSnapshot:Ae})=>{const ht=new bo(Ae,he),Lt=new na("",ht),cn=function Ki(K,Ie,he=null,Ae=null){return or(ur(K),Ie,he,Ae)}(Ae,[],this.urlTree.queryParams,this.urlTree.fragment);return cn.queryParams=this.urlTree.queryParams,Lt.url=this.urlSerializer.serialize(cn),{state:Lt,tree:cn}}))}match(Ie){const he=new vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ie,ft,he).pipe((0,F.T)(Ae=>({children:Ae,rootSnapshot:he})),(0,W.W)(Ae=>{if(Ae instanceof Ks)return this.urlTree=Ae.urlTree,this.match(Ae.urlTree.root);throw Ae instanceof Ns?this.noMatchError(Ae):Ae}))}processSegmentGroup(Ie,he,Ae,ht,Lt){return 0===Ae.segments.length&&Ae.hasChildren()?this.processChildren(Ie,he,Ae,Lt):this.processSegment(Ie,he,Ae,Ae.segments,ht,!0,Lt).pipe((0,F.T)(cn=>cn instanceof bo?[cn]:[]))}processChildren(Ie,he,Ae,ht){const Lt=[];for(const cn of Object.keys(Ae.children))"primary"===cn?Lt.unshift(cn):Lt.push(cn);return(0,w.H)(Lt).pipe((0,Y.H)(cn=>{const Hn=Ae.children[cn],An=function Ql(K,Ie){const he=K.filter(Ae=>Hs(Ae)===Ie);return he.push(...K.filter(Ae=>Hs(Ae)!==Ie)),he}(he,cn);return this.processSegmentGroup(Ie,An,Hn,cn,ht)}),function Q(K,Ie){let he=!1;return arguments.length>=2&&(he=!0),function(ht){return ht.lift(new Me(K,Ie,he))}}((cn,Hn)=>(cn.push(...Hn),cn)),(0,yt.U)(null),function Pe(K,Ie){const he=arguments.length>=2;return Ae=>Ae.pipe(K?(0,re.p)((ht,Lt)=>K(ht,Lt,Ae)):ve.D,je(1),he?(0,yt.U)(Ie):(0,_e.v)(()=>new I.G))}(),(0,we.ZZ)(cn=>{if(null===cn)return xa(Ae);const Hn=Yo(cn);return function Jl(K){K.sort((Ie,he)=>Ie.value.outlet===ft?-1:he.value.outlet===ft?1:Ie.value.outlet.localeCompare(he.value.outlet))}(Hn),(0,D.of)(Hn)}))}processSegment(Ie,he,Ae,ht,Lt,cn,Hn){return(0,w.H)(he).pipe((0,Y.H)(An=>this.processSegmentAgainstRoute(An._injector??Ie,he,An,Ae,ht,Lt,cn,Hn).pipe((0,W.W)(ci=>{if(ci instanceof Ns)return(0,D.of)(null);throw ci}))),(0,j.$)(An=>!!An),(0,W.W)(An=>{if(le(An))return function Br(K,Ie,he){return 0===Ie.length&&!K.children[he]}(Ae,ht,Lt)?(0,D.of)(new os):xa(Ae);throw An}))}processSegmentAgainstRoute(Ie,he,Ae,ht,Lt,cn,Hn,An){return function tr(K,Ie,he,Ae){return!!(Hs(K)===Ae||Ae!==ft&&ki(Ie,he,K))&&Tn(Ie,K,he).matched}(Ae,ht,Lt,cn)?void 0===Ae.redirectTo?this.matchSegmentAgainstRoute(Ie,ht,Ae,Lt,cn,An):this.allowRedirects&&Hn?this.expandSegmentAgainstRouteUsingRedirect(Ie,ht,he,Ae,Lt,cn,An):xa(ht):xa(ht)}expandSegmentAgainstRouteUsingRedirect(Ie,he,Ae,ht,Lt,cn,Hn){const{matched:An,parameters:ci,consumedSegments:rr,positionalParamSegments:yr,remainingSegments:Pr}=Tn(he,ht,Lt);if(!An)return xa(he);"string"==typeof ht.redirectTo&&"/"===ht.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Oo=new vs(Lt,ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bl(ht),Hs(ht),ht.component??ht._loadedComponent??null,ht,aa(ht)),fl=Ar(Oo,Hn,this.paramsInheritanceStrategy);Oo.params=Object.freeze(fl.params),Oo.data=Object.freeze(fl.data);const Ml=this.applyRedirects.applyRedirectCommands(rr,ht.redirectTo,yr,Oo,Ie);return this.applyRedirects.lineralizeSegments(ht,Ml).pipe((0,we.ZZ)(Ul=>this.processSegment(Ie,Ae,he,Ul.concat(Pr),cn,!1,Hn)))}matchSegmentAgainstRoute(Ie,he,Ae,ht,Lt,cn){const Hn=en(he,Ae,ht,Ie);return"**"===Ae.path&&(he.children={}),Hn.pipe((0,J.n)(An=>An.matched?this.getChildConfig(Ie=Ae._injector??Ie,Ae,ht).pipe((0,J.n)(({routes:ci})=>{const rr=Ae._loadedInjector??Ie,{parameters:yr,consumedSegments:Pr,remainingSegments:Oo}=An,fl=new vs(Pr,yr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bl(Ae),Hs(Ae),Ae.component??Ae._loadedComponent??null,Ae,aa(Ae)),Ml=Ar(fl,cn,this.paramsInheritanceStrategy);fl.params=Object.freeze(Ml.params),fl.data=Object.freeze(Ml.data);const{segmentGroup:Ul,slicedSegments:kd}=Fn(he,Pr,Oo,ci);if(0===kd.length&&Ul.hasChildren())return this.processChildren(rr,ci,Ul,fl).pipe((0,F.T)(iu=>new bo(fl,iu)));if(0===ci.length&&0===kd.length)return(0,D.of)(new bo(fl,[]));const Sh=Hs(Ae)===Lt;return this.processSegment(rr,ci,Ul,kd,Sh?ft:Lt,!0,fl).pipe((0,F.T)(iu=>new bo(fl,iu instanceof bo?[iu]:[])))})):xa(he)))}getChildConfig(Ie,he,Ae){return he.children?(0,D.of)({routes:he.children,injector:Ie}):he.loadChildren?void 0!==he._loadedRoutes?(0,D.of)({routes:he._loadedRoutes,injector:he._loadedInjector}):function qs(K,Ie,he,Ae){const ht=Ie.canLoad;if(void 0===ht||0===ht.length)return(0,D.of)(!0);const Lt=ht.map(cn=>{const Hn=sa(cn,K);return ct(function Vs(K){return K&&lo(K.canLoad)}(Hn)?Hn.canLoad(Ie,he):(0,d.N4e)(K,()=>Hn(Ie,he)))});return(0,D.of)(Lt).pipe(ze(),Dr())}(Ie,he,Ae).pipe((0,we.ZZ)(ht=>ht?this.configLoader.loadChildren(Ie,he).pipe((0,se.M)(Lt=>{he._loadedRoutes=Lt.routes,he._loadedInjector=Lt.injector})):function Et(K){return(0,$.$)(La(!1,kr.GuardRejected))}())):(0,D.of)({routes:[],injector:Ie})}}function Mo(K){const Ie=K.value.routeConfig;return Ie&&""===Ie.path}function Yo(K){const Ie=[],he=new Set;for(const Ae of K){if(!Mo(Ae)){Ie.push(Ae);continue}const ht=Ie.find(Lt=>Ae.value.routeConfig===Lt.value.routeConfig);void 0!==ht?(ht.children.push(...Ae.children),he.add(ht)):Ie.push(Ae)}for(const Ae of he){const ht=Yo(Ae.children);Ie.push(new bo(Ae.value,ht))}return Ie.filter(Ae=>!he.has(Ae))}function bl(K){return K.data||{}}function aa(K){return K.resolve||{}}function Ps(K){const Ie=K.children.map(he=>Ps(he)).flat();return[K,...Ie]}function Ba(K){return(0,J.n)(Ie=>{const he=K(Ie);return he?(0,w.H)(he).pipe((0,F.T)(()=>Ie)):(0,D.of)(Ie)})}let _u=(()=>{class K{buildTitle(he){let Ae,ht=he.root;for(;void 0!==ht;)Ae=this.getResolvedTitleForRoute(ht)??Ae,ht=ht.children.find(Lt=>Lt.outlet===ft);return Ae}getResolvedTitleForRoute(he){return he.data[Re]}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:()=>(0,d.WQX)(fs),providedIn:"root"})}return K})(),fs=(()=>{class K extends _u{constructor(he){super(),this.title=he}updateTitle(he){const Ae=this.buildTitle(he);void 0!==Ae&&this.title.setTitle(Ae)}static#e=this.\u0275fac=function(Ae){return new(Ae||K)(d.KVO(Ot.hE))};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();const wl=new d.nKC("",{providedIn:"root",factory:()=>({})});let Wo=(()=>{class K{static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275cmp=d.VBU({type:K,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(Ae,ht){1&Ae&&d.nrm(0,"router-outlet")},dependencies:[Ao],encapsulation:2})}return K})();function co(K){const Ie=K.children&&K.children.map(co),he=Ie?{...K,children:Ie}:{...K};return!he.component&&!he.loadComponent&&(Ie||he.loadChildren)&&he.outlet&&he.outlet!==ft&&(he.component=Wo),he}const la=new d.nKC("");let Zd=(()=>{class K{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,D.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const Ae=ct(he.loadComponent()).pipe((0,F.T)(El),(0,se.M)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=Lt}),(0,Se.j)(()=>{this.componentLoaders.delete(he)})),ht=new O.G(Ae,()=>new M.B7).pipe((0,qt.B)());return this.componentLoaders.set(he,ht),ht}loadChildren(he,Ae){if(this.childrenLoaders.get(Ae))return this.childrenLoaders.get(Ae);if(Ae._loadedRoutes)return(0,D.of)({routes:Ae._loadedRoutes,injector:Ae._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ae);const Lt=function Mc(K,Ie,he,Ae){return ct(K.loadChildren()).pipe((0,F.T)(El),(0,we.ZZ)(ht=>ht instanceof d.Co$||Array.isArray(ht)?(0,D.of)(ht):(0,w.H)(Ie.compileModuleAsync(ht))),(0,F.T)(ht=>{Ae&&Ae(K);let Lt,cn,Hn=!1;return Array.isArray(ht)?(cn=ht,!0):(Lt=ht.create(he).injector,cn=Lt.get(la,[],{optional:!0,self:!0}).flat()),{routes:cn.map(co),injector:Lt}}))}(Ae,this.compiler,he,this.onLoadEndListener).pipe((0,Se.j)(()=>{this.childrenLoaders.delete(Ae)})),cn=new O.G(Lt,()=>new M.B7).pipe((0,qt.B)());return this.childrenLoaders.set(Ae,cn),cn}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function El(K){return function Oc(K){return K&&"object"==typeof K&&"default"in K}(K)?K.default:K}let Ee=(()=>{class K{static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:()=>(0,d.WQX)(Dt),providedIn:"root"})}return K})(),Dt=(()=>{class K{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,Ae){return he}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();const Ue=new d.nKC(""),_t=new d.nKC("");function on(K,Ie,he){const Ae=K.get(_t),ht=K.get(z.qQ);return K.get(d.SKi).runOutsideAngular(()=>{if(!ht.startViewTransition||Ae.skipNextTransition)return Ae.skipNextTransition=!1,new Promise(ci=>setTimeout(ci));let Lt;const cn=new Promise(ci=>{Lt=ci}),Hn=ht.startViewTransition(()=>(Lt(),function jn(K){return new Promise(Ie=>{(0,d.mal)({read:()=>setTimeout(Ie)},{injector:K})})}(K))),{onViewTransitionCreated:An}=Ae;return An&&(0,d.N4e)(K,()=>An({transition:Hn,from:Ie,to:he})),cn})}const li=new d.nKC("");let Ui=(()=>{class K{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new M.B7,this.transitionAbortSubject=new M.B7,this.configLoader=(0,d.WQX)(Zd),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Nn),this.rootContexts=(0,d.WQX)(oo),this.location=(0,d.WQX)(z.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Fo,{optional:!0}),this.titleStrategy=(0,d.WQX)(_u),this.options=(0,d.WQX)(wl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Ee),this.createViewTransition=(0,d.WQX)(Ue,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(li,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,D.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ht=>this.events.next(new Ho(ht)),this.configLoader.onLoadStartListener=ht=>this.events.next(new Io(ht))}complete(){this.transitions?.complete()}handleNavigationRequest(he){const Ae=++this.navigationId;this.transitions?.next({...this.transitions.value,...he,id:Ae})}setupNavigations(he,Ae,ht){return this.transitions=new C.t({id:0,currentUrlTree:Ae,currentRawUrl:Ae,extractedUrl:this.urlHandlingStrategy.extract(Ae),urlAfterRedirects:this.urlHandlingStrategy.extract(Ae),rawUrl:Ae,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:kt,restoredState:null,currentSnapshot:ht.snapshot,targetSnapshot:null,currentRouterState:ht,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,re.p)(Lt=>0!==Lt.id),(0,F.T)(Lt=>({...Lt,extractedUrl:this.urlHandlingStrategy.extract(Lt.rawUrl)})),(0,J.n)(Lt=>{let cn=!1,Hn=!1;return(0,D.of)(Lt).pipe((0,J.n)(An=>{if(this.navigationId>Lt.id)return this.cancelNavigationTransition(Lt,"",kr.SupersededByNewNavigation),R.w;this.currentTransition=Lt,this.currentNavigation={id:An.id,initialUrl:An.rawUrl,extractedUrl:An.extractedUrl,targetBrowserUrl:"string"==typeof An.extras.browserUrl?this.urlSerializer.parse(An.extras.browserUrl):An.extras.browserUrl,trigger:An.source,extras:An.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ci=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ci&&"reload"!==(An.extras.onSameUrlNavigation??he.onSameUrlNavigation)){const yr="";return this.events.next(new ds(An.id,this.urlSerializer.serialize(An.rawUrl),yr,Lr.IgnoredSameUrlNavigation)),An.resolve(!1),R.w}if(this.urlHandlingStrategy.shouldProcessUrl(An.rawUrl))return(0,D.of)(An).pipe((0,J.n)(yr=>{const Pr=this.transitions?.getValue();return this.events.next(new Li(yr.id,this.urlSerializer.serialize(yr.extractedUrl),yr.source,yr.restoredState)),Pr!==this.transitions?.getValue()?R.w:Promise.resolve(yr)}),function _r(K,Ie,he,Ae,ht,Lt){return(0,we.ZZ)(cn=>function zs(K,Ie,he,Ae,ht,Lt,cn="emptyOnly"){return new ns(K,Ie,he,Ae,ht,cn,Lt).recognize()}(K,Ie,he,Ae,cn.extractedUrl,ht,Lt).pipe((0,F.T)(({state:Hn,tree:An})=>({...cn,targetSnapshot:Hn,urlAfterRedirects:An}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,se.M)(yr=>{Lt.targetSnapshot=yr.targetSnapshot,Lt.urlAfterRedirects=yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yr.urlAfterRedirects};const Pr=new Er(yr.id,this.urlSerializer.serialize(yr.extractedUrl),this.urlSerializer.serialize(yr.urlAfterRedirects),yr.targetSnapshot);this.events.next(Pr)}));if(ci&&this.urlHandlingStrategy.shouldProcessUrl(An.currentRawUrl)){const{id:yr,extractedUrl:Pr,source:Oo,restoredState:fl,extras:Ml}=An,Ul=new Li(yr,this.urlSerializer.serialize(Pr),Oo,fl);this.events.next(Ul);const kd=Go(this.rootComponentType).snapshot;return this.currentTransition=Lt={...An,targetSnapshot:kd,urlAfterRedirects:Pr,extras:{...Ml,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Pr,(0,D.of)(Lt)}{const yr="";return this.events.next(new ds(An.id,this.urlSerializer.serialize(An.extractedUrl),yr,Lr.IgnoredByUrlHandlingStrategy)),An.resolve(!1),R.w}}),(0,se.M)(An=>{const ci=new Jr(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot);this.events.next(ci)}),(0,F.T)(An=>(this.currentTransition=Lt={...An,guards:ao(An.targetSnapshot,An.currentSnapshot,this.rootContexts)},Lt)),function wn(K,Ie){return(0,we.ZZ)(he=>{const{targetSnapshot:Ae,currentSnapshot:ht,guards:{canActivateChecks:Lt,canDeactivateChecks:cn}}=he;return 0===cn.length&&0===Lt.length?(0,D.of)({...he,guardsResult:!0}):function Pn(K,Ie,he,Ae){return(0,w.H)(K).pipe((0,we.ZZ)(ht=>function Nr(K,Ie,he,Ae,ht){const Lt=Ie&&Ie.routeConfig?Ie.routeConfig.canDeactivate:null;if(!Lt||0===Lt.length)return(0,D.of)(!0);const cn=Lt.map(Hn=>{const An=ta(Ie)??ht,ci=sa(Hn,An);return ct(function De(K){return K&&lo(K.canDeactivate)}(ci)?ci.canDeactivate(K,Ie,he,Ae):(0,d.N4e)(An,()=>ci(K,Ie,he,Ae))).pipe((0,j.$)())});return(0,D.of)(cn).pipe(ze())}(ht.component,ht.route,he,Ie,Ae)),(0,j.$)(ht=>!0!==ht,!0))}(cn,Ae,ht,K).pipe((0,we.ZZ)(Hn=>Hn&&function $a(K){return"boolean"==typeof K}(Hn)?function Di(K,Ie,he,Ae){return(0,w.H)(Ie).pipe((0,Y.H)(ht=>(0,E.x)(function mr(K,Ie){return null!==K&&Ie&&Ie(new No(K)),(0,D.of)(!0)}(ht.route.parent,Ae),function Rn(K,Ie){return null!==K&&Ie&&Ie(new Ga(K)),(0,D.of)(!0)}(ht.route,Ae),function hr(K,Ie,he){const Ae=Ie[Ie.length-1],Lt=Ie.slice(0,Ie.length-1).reverse().map(cn=>function Ea(K){const Ie=K.routeConfig?K.routeConfig.canActivateChild:null;return Ie&&0!==Ie.length?{node:K,guards:Ie}:null}(cn)).filter(cn=>null!==cn).map(cn=>(0,y.v)(()=>{const Hn=cn.guards.map(An=>{const ci=ta(cn.node)??he,rr=sa(An,ci);return ct(function de(K){return K&&lo(K.canActivateChild)}(rr)?rr.canActivateChild(Ae,K):(0,d.N4e)(ci,()=>rr(Ae,K))).pipe((0,j.$)())});return(0,D.of)(Hn).pipe(ze())}));return(0,D.of)(Lt).pipe(ze())}(K,ht.path,he),function zr(K,Ie,he){const Ae=Ie.routeConfig?Ie.routeConfig.canActivate:null;if(!Ae||0===Ae.length)return(0,D.of)(!0);const ht=Ae.map(Lt=>(0,y.v)(()=>{const cn=ta(Ie)??he,Hn=sa(Lt,cn);return ct(function jt(K){return K&&lo(K.canActivate)}(Hn)?Hn.canActivate(Ie,K):(0,d.N4e)(cn,()=>Hn(Ie,K))).pipe((0,j.$)())}));return(0,D.of)(ht).pipe(ze())}(K,ht.route,he))),(0,j.$)(ht=>!0!==ht,!0))}(Ae,Lt,K,Ie):(0,D.of)(Hn)),(0,F.T)(Hn=>({...he,guardsResult:Hn})))})}(this.environmentInjector,An=>this.events.next(An)),(0,se.M)(An=>{if(Lt.guardsResult=An.guardsResult,An.guardsResult&&"boolean"!=typeof An.guardsResult)throw Lo(0,An.guardsResult);const ci=new Ss(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects),An.targetSnapshot,!!An.guardsResult);this.events.next(ci)}),(0,re.p)(An=>!!An.guardsResult||(this.cancelNavigationTransition(An,"",kr.GuardRejected),!1)),Ba(An=>{if(An.guards.canActivateChecks.length)return(0,D.of)(An).pipe((0,se.M)(ci=>{const rr=new Jo(ci.id,this.urlSerializer.serialize(ci.extractedUrl),this.urlSerializer.serialize(ci.urlAfterRedirects),ci.targetSnapshot);this.events.next(rr)}),(0,J.n)(ci=>{let rr=!1;return(0,D.of)(ci).pipe(function as(K,Ie){return(0,we.ZZ)(he=>{const{targetSnapshot:Ae,guards:{canActivateChecks:ht}}=he;if(!ht.length)return(0,D.of)(he);const Lt=new Set(ht.map(An=>An.route)),cn=new Set;for(const An of Lt)if(!cn.has(An))for(const ci of Ps(An))cn.add(ci);let Hn=0;return(0,w.H)(cn).pipe((0,Y.H)(An=>Lt.has(An)?function Ac(K,Ie,he,Ae){const ht=K.routeConfig,Lt=K._resolve;return void 0!==ht?.title&&!Oi(ht)&&(Lt[Re]=ht.title),function gu(K,Ie,he,Ae){const ht=Nt(K);if(0===ht.length)return(0,D.of)({});const Lt={};return(0,w.H)(ht).pipe((0,we.ZZ)(cn=>function hs(K,Ie,he,Ae){const ht=ta(Ie)??Ae,Lt=sa(K,ht);return ct(Lt.resolve?Lt.resolve(Ie,he):(0,d.N4e)(ht,()=>Lt(Ie,he)))}(K[cn],Ie,he,Ae).pipe((0,j.$)(),(0,se.M)(Hn=>{if(Hn instanceof Fa)throw Lo(new Ni,Hn);Lt[cn]=Hn}))),je(1),function Ve(K){return Ie=>Ie.lift(new Qe(K))}(Lt),(0,W.W)(cn=>le(cn)?R.w:(0,$.$)(cn)))}(Lt,K,Ie,Ae).pipe((0,F.T)(cn=>(K._resolvedData=cn,K.data=Ar(K,K.parent,he).resolve,null)))}(An,Ae,K,Ie):(An.data=Ar(An,An.parent,K).resolve,(0,D.of)(void 0))),(0,se.M)(()=>Hn++),je(1),(0,we.ZZ)(An=>Hn===cn.size?(0,D.of)(he):R.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,se.M)({next:()=>rr=!0,complete:()=>{rr||this.cancelNavigationTransition(ci,"",kr.NoDataFromResolver)}}))}),(0,se.M)(ci=>{const rr=new Vr(ci.id,this.urlSerializer.serialize(ci.extractedUrl),this.urlSerializer.serialize(ci.urlAfterRedirects),ci.targetSnapshot);this.events.next(rr)}))}),Ba(An=>{const ci=rr=>{const yr=[];rr.routeConfig?.loadComponent&&!rr.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(rr.routeConfig).pipe((0,se.M)(Pr=>{rr.component=Pr}),(0,F.T)(()=>{})));for(const Pr of rr.children)yr.push(...ci(Pr));return yr};return(0,S.zV)(ci(An.targetSnapshot.root)).pipe((0,yt.U)(null),(0,ue.s)(1))}),Ba(()=>this.afterPreactivation()),(0,J.n)(()=>{const{currentSnapshot:An,targetSnapshot:ci}=Lt,rr=this.createViewTransition?.(this.environmentInjector,An.root,ci.root);return rr?(0,w.H)(rr).pipe((0,F.T)(()=>Lt)):(0,D.of)(Lt)}),(0,F.T)(An=>{const ci=function jo(K,Ie,he){const Ae=Ys(K,Ie._root,he?he._root:void 0);return new Pa(Ae,Ie)}(he.routeReuseStrategy,An.targetSnapshot,An.currentRouterState);return this.currentTransition=Lt={...An,targetRouterState:ci},this.currentNavigation.targetRouterState=ci,Lt}),(0,se.M)(()=>{this.events.next(new ea)}),((K,Ie,he,Ae)=>(0,F.T)(ht=>(new ra(Ie,ht.targetRouterState,ht.currentRouterState,he,Ae).activate(K),ht)))(this.rootContexts,he.routeReuseStrategy,An=>this.events.next(An),this.inputBindingEnabled),(0,ue.s)(1),(0,se.M)({next:An=>{cn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(An.id,this.urlSerializer.serialize(An.extractedUrl),this.urlSerializer.serialize(An.urlAfterRedirects))),this.titleStrategy?.updateTitle(An.targetRouterState.snapshot),An.resolve(!0)},complete:()=>{cn=!0}}),(0,Vt.Q)(this.transitionAbortSubject.pipe((0,se.M)(An=>{throw An}))),(0,Se.j)(()=>{!cn&&!Hn&&this.cancelNavigationTransition(Lt,"",kr.SupersededByNewNavigation),this.currentTransition?.id===Lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,W.W)(An=>{if(Hn=!0,vl(An))this.events.next(new Zr(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),An.message,An.cancellationCode)),function ol(K){return vl(K)&&Qn(K.url)}(An)?this.events.next(new yl(An.url,An.navigationBehaviorOptions)):Lt.resolve(!1);else{const ci=new Os(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),An,Lt.targetSnapshot??void 0);try{const rr=(0,d.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ci));if(rr instanceof Fa){const{message:yr,cancellationCode:Pr}=Lo(0,rr);this.events.next(new Zr(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),yr,Pr)),this.events.next(new yl(rr.redirectTo,rr.navigationBehaviorOptions))}else{this.events.next(ci);const yr=he.errorHandler(An);Lt.resolve(!!yr)}}catch(rr){this.options.resolveNavigationPromiseOnError?Lt.resolve(!1):Lt.reject(rr)}}return R.w}))}))}cancelNavigationTransition(he,Ae,ht){const Lt=new Zr(he.id,this.urlSerializer.serialize(he.extractedUrl),Ae,ht);this.events.next(Lt),he.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const he=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Ae=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return he.toString()!==Ae?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function Fs(K){return K!==kt}let Yr=(()=>{class K{static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:()=>(0,d.WQX)(wi),providedIn:"root"})}return K})();class ts{shouldDetach(Ie){return!1}store(Ie,he){}shouldAttach(Ie){return!1}retrieve(Ie){return null}shouldReuseRoute(Ie,he){return Ie.routeConfig===he.routeConfig}}let wi=(()=>{class K extends ts{static#e=this.\u0275fac=(()=>{let he;return function(ht){return(he||(he=d.xGo(K)))(ht||K)}})();static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),eo=(()=>{class K{static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:()=>(0,d.WQX)(js),providedIn:"root"})}return K})(),js=(()=>{class K extends eo{constructor(){super(...arguments),this.location=(0,d.WQX)(z.aZ),this.urlSerializer=(0,d.WQX)(Nn),this.options=(0,d.WQX)(wl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Ee),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new sn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Go(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(Ae=>{"popstate"===Ae.type&&he(Ae.url,Ae.state)})}handleRouterEvent(he,Ae){if(he instanceof Li)this.stateMemento=this.createStateMemento();else if(he instanceof ds)this.rawUrlTree=Ae.initialUrl;else if(he instanceof Er){if("eager"===this.urlUpdateStrategy&&!Ae.extras.skipLocationChange){const ht=this.urlHandlingStrategy.merge(Ae.finalUrl,Ae.initialUrl);this.setBrowserUrl(Ae.targetBrowserUrl??ht,Ae)}}else he instanceof ea?(this.currentUrlTree=Ae.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.finalUrl,Ae.initialUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Ae.extras.skipLocationChange&&this.setBrowserUrl(Ae.targetBrowserUrl??this.rawUrlTree,Ae)):he instanceof Zr&&(he.code===kr.GuardRejected||he.code===kr.NoDataFromResolver)?this.restoreHistory(Ae):he instanceof Os?this.restoreHistory(Ae,!0):he instanceof lr&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,Ae){const ht=he instanceof sn?this.urlSerializer.serialize(he):he;if(this.location.isCurrentPathEqualTo(ht)||Ae.extras.replaceUrl){const cn={...Ae.extras.state,...this.generateNgRouterState(Ae.id,this.browserPageId)};this.location.replaceState(ht,"",cn)}else{const Lt={...Ae.extras.state,...this.generateNgRouterState(Ae.id,this.browserPageId+1)};this.location.go(ht,"",Lt)}}restoreHistory(he,Ae=!1){if("computed"===this.canceledNavigationResolution){const Lt=this.currentPageId-this.browserPageId;0!==Lt?this.location.historyGo(Lt):this.currentUrlTree===he.finalUrl&&0===Lt&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ae&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,he.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,Ae){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:Ae}:{navigationId:he}}static#e=this.\u0275fac=(()=>{let he;return function(ht){return(he||(he=d.xGo(K)))(ht||K)}})();static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();var uo=function(K){return K[K.COMPLETE=0]="COMPLETE",K[K.FAILED=1]="FAILED",K[K.REDIRECTING=2]="REDIRECTING",K}(uo||{});function Vl(K,Ie){K.events.pipe((0,re.p)(he=>he instanceof lr||he instanceof Zr||he instanceof Os||he instanceof ds),(0,F.T)(he=>he instanceof lr||he instanceof ds?uo.COMPLETE:he instanceof Zr&&(he.code===kr.Redirect||he.code===kr.SupersededByNewNavigation)?uo.REDIRECTING:uo.FAILED),(0,re.p)(he=>he!==uo.REDIRECTING),(0,ue.s)(1)).subscribe(()=>{Ie()})}function xl(K){throw K}const Rc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $o=(()=>{class K{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(eo),this.options=(0,d.WQX)(wl,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(Ui),this.urlSerializer=(0,d.WQX)(Nn),this.location=(0,d.WQX)(z.aZ),this.urlHandlingStrategy=(0,d.WQX)(Ee),this._events=new M.B7,this.errorHandler=this.options.errorHandler||xl,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(la,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(Fo,{optional:!0}),this.eventsSubscription=new L.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(Ae=>{try{const ht=this.navigationTransitions.currentTransition,Lt=this.navigationTransitions.currentNavigation;if(null!==ht&&null!==Lt)if(this.stateManager.handleRouterEvent(Ae,Lt),Ae instanceof Zr&&Ae.code!==kr.Redirect&&Ae.code!==kr.SupersededByNewNavigation)this.navigated=!0;else if(Ae instanceof lr)this.navigated=!0;else if(Ae instanceof yl){const cn=Ae.navigationBehaviorOptions,Hn=this.urlHandlingStrategy.merge(Ae.url,ht.currentRawUrl),An={browserUrl:ht.extras.browserUrl,info:ht.extras.info,skipLocationChange:ht.extras.skipLocationChange,replaceUrl:ht.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Fs(ht.source),...cn};this.scheduleNavigation(Hn,kt,null,An,{resolve:ht.resolve,reject:ht.reject,promise:ht.promise})}(function cl(K){return!(K instanceof ea||K instanceof yl)})(Ae)&&this._events.next(Ae)}catch(ht){this.navigationTransitions.transitionAbortSubject.next(ht)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((he,Ae)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(he,"popstate",Ae)},0)})}navigateToSyncWithBrowser(he,Ae,ht){const Lt={replaceUrl:!0},cn=ht?.navigationId?ht:null;if(ht){const An={...ht};delete An.navigationId,delete An.\u0275routerPageId,0!==Object.keys(An).length&&(Lt.state=An)}const Hn=this.parseUrl(he);this.scheduleNavigation(Hn,Ae,cn,Lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(co),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,Ae={}){const{relativeTo:ht,queryParams:Lt,fragment:cn,queryParamsHandling:Hn,preserveFragment:An}=Ae,ci=An?this.currentUrlTree.fragment:cn;let yr,rr=null;switch(Hn){case"merge":rr={...this.currentUrlTree.queryParams,...Lt};break;case"preserve":rr=this.currentUrlTree.queryParams;break;default:rr=Lt||null}null!==rr&&(rr=this.removeEmptyProps(rr));try{yr=ur(ht?ht.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||"/"!==he[0][0])&&(he=[]),yr=this.currentUrlTree.root}return or(yr,he,rr,ci??null)}navigateByUrl(he,Ae={skipLocationChange:!1}){const ht=Qn(he)?he:this.parseUrl(he),Lt=this.urlHandlingStrategy.merge(ht,this.rawUrlTree);return this.scheduleNavigation(Lt,kt,null,Ae)}navigate(he,Ae={skipLocationChange:!1}){return function Bo(K){for(let Ie=0;Ie<K.length;Ie++)if(null==K[Ie])throw new d.wOt(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,Ae),Ae)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,Ae){let ht;if(ht=!0===Ae?{...Rc}:!1===Ae?{...pc}:Ae,Qn(he))return Fe(this.currentUrlTree,he,ht);const Lt=this.parseUrl(he);return Fe(this.currentUrlTree,Lt,ht)}removeEmptyProps(he){return Object.entries(he).reduce((Ae,[ht,Lt])=>(null!=Lt&&(Ae[ht]=Lt),Ae),{})}scheduleNavigation(he,Ae,ht,Lt,cn){if(this.disposed)return Promise.resolve(!1);let Hn,An,ci;cn?(Hn=cn.resolve,An=cn.reject,ci=cn.promise):ci=new Promise((yr,Pr)=>{Hn=yr,An=Pr});const rr=this.pendingTasks.add();return Vl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(rr))}),this.navigationTransitions.handleNavigationRequest({source:Ae,restoredState:ht,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:Lt,resolve:Hn,reject:An,promise:ci,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ci.catch(yr=>Promise.reject(yr))}static#e=this.\u0275fac=function(Ae){return new(Ae||K)};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();class ul{}let Wu=(()=>{class K{constructor(he,Ae,ht,Lt,cn){this.router=he,this.injector=ht,this.preloadingStrategy=Lt,this.loader=cn}setUpPreloading(){this.subscription=this.router.events.pipe((0,re.p)(he=>he instanceof lr),(0,Y.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Ae){const ht=[];for(const Lt of Ae){Lt.providers&&!Lt._injector&&(Lt._injector=(0,d.Ol2)(Lt.providers,he,`Route: ${Lt.path}`));const cn=Lt._injector??he,Hn=Lt._loadedInjector??cn;(Lt.loadChildren&&!Lt._loadedRoutes&&void 0===Lt.canLoad||Lt.loadComponent&&!Lt._loadedComponent)&&ht.push(this.preloadConfig(cn,Lt)),(Lt.children||Lt._loadedRoutes)&&ht.push(this.processRoutes(Hn,Lt.children??Lt._loadedRoutes))}return(0,w.H)(ht).pipe((0,Tt.U)())}preloadConfig(he,Ae){return this.preloadingStrategy.preload(Ae,()=>{let ht;ht=Ae.loadChildren&&void 0===Ae.canLoad?this.loader.loadChildren(he,Ae):(0,D.of)(null);const Lt=ht.pipe((0,we.ZZ)(cn=>null===cn?(0,D.of)(void 0):(Ae._loadedRoutes=cn.routes,Ae._loadedInjector=cn.injector,this.processRoutes(cn.injector??he,cn.routes))));if(Ae.loadComponent&&!Ae._loadedComponent){const cn=this.loader.loadComponent(Ae);return(0,w.H)([Lt,cn]).pipe((0,Tt.U)())}return Lt})}static#e=this.\u0275fac=function(Ae){return new(Ae||K)(d.KVO($o),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(ul),d.KVO(Zd))};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();const Vo=new d.nKC("");let tc=(()=>{class K{constructor(he,Ae,ht,Lt,cn={}){this.urlSerializer=he,this.transitions=Ae,this.viewportScroller=ht,this.zone=Lt,this.options=cn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},cn.scrollPositionRestoration||="disabled",cn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof lr?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof ds&&he.code===Lr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof _a&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Ae){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _a(he,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ae))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ae){d.QTQ()};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac})}return K})();function Nc(K,Ie){return{\u0275kind:K,\u0275providers:Ie}}function Jd(){const K=(0,d.WQX)(d.zZn);return Ie=>{const he=K.get(d.o8S);if(Ie!==he.components[0])return;const Ae=K.get($o),ht=K.get(Va);1===K.get(jr)&&Ae.initialNavigation(),K.get(Eo,null,d.$GK.Optional)?.setUpPreloading(),K.get(Vo,null,d.$GK.Optional)?.init(),Ae.resetRootComponentType(he.componentTypes[0]),ht.closed||(ht.next(),ht.complete(),ht.unsubscribe())}}const Va=new d.nKC("",{factory:()=>new M.B7}),jr=new d.nKC("",{providedIn:"root",factory:()=>1}),Eo=new d.nKC("");function ic(K){return Nc(0,[{provide:Eo,useExisting:Wu},{provide:ul,useExisting:K}])}function Td(K){return Nc(9,[{provide:Ue,useValue:on},{provide:_t,useValue:{skipNextTransition:!!K?.skipInitialTransition,...K}}])}const jc=new d.nKC("ROUTER_FORROOT_GUARD"),Mu=[z.aZ,{provide:Nn,useClass:Ni},$o,oo,{provide:ba,useFactory:function yu(K){return K.routerState.root},deps:[$o]},Zd,[]];let Eh=(()=>{class K{constructor(he){}static forRoot(he,Ae){return{ngModule:K,providers:[Mu,[],{provide:la,multi:!0,useValue:he},{provide:jc,useFactory:Wc,deps:[[$o,new d.Xx1,new d.kdw]]},{provide:wl,useValue:Ae||{}},Ae?.useHash?{provide:z.hb,useClass:z.fw}:{provide:z.hb,useClass:z.Sm},{provide:Vo,useFactory:()=>{const K=(0,d.WQX)(z.Xr),Ie=(0,d.WQX)(d.SKi),he=(0,d.WQX)(wl),Ae=(0,d.WQX)(Ui),ht=(0,d.WQX)(Nn);return he.scrollOffset&&K.setOffset(he.scrollOffset),new tc(ht,Ae,K,Ie,he)}},Ae?.preloadingStrategy?ic(Ae.preloadingStrategy).\u0275providers:[],Ae?.initialNavigation?hl(Ae):[],Ae?.bindToComponentInputs?Nc(8,[Zl,{provide:Fo,useExisting:Zl}]).\u0275providers:[],Ae?.enableViewTransitions?Td().\u0275providers:[],[{provide:So,useFactory:Jd},{provide:d.iLQ,multi:!0,useExisting:So}]]}}static forChild(he){return{ngModule:K,providers:[{provide:la,multi:!0,useValue:he}]}}static#e=this.\u0275fac=function(Ae){return new(Ae||K)(d.KVO(jc,8))};static#t=this.\u0275mod=d.$C({type:K});static#n=this.\u0275inj=d.G2t({})}return K})();function Wc(K){return"guarded"}function hl(K){return["disabled"===K.initialNavigation?Nc(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const Ie=(0,d.WQX)($o);return()=>{Ie.setUpLocationChangeListener()}}},{provide:jr,useValue:2}]).\u0275providers:[],"enabledBlocking"===K.initialNavigation?Nc(2,[{provide:jr,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:Ie=>{const he=Ie.get(z.hj,Promise.resolve());return()=>he.then(()=>new Promise(Ae=>{const ht=Ie.get($o),Lt=Ie.get(Va);Vl(ht,()=>{Ae(!0)}),Ie.get(Ui).afterPreactivation=()=>(Ae(!0),Lt.closed?(0,D.of)(void 0):Lt),ht.initialNavigation()}))}}]).\u0275providers:[]]}const So=new d.nKC("")},8620:(dn,Ne,_)=>{"use strict";_.d(Ne,{WJ:()=>_e,EI:()=>Q});var d=_(7404),A=_(316),w=_(6965),D=_(6651),C=_(7557),S=_(1536),I=_(6933),E=_(3119),y=_(434),x=_(8986);const $=new y.c(x.l);var O=_(7405),M=_(5443),L=_(8627),z=_(1963),F=_(1810);function J(ve,Pe){return function(Qe){let Pt;if(Pt="function"==typeof ve?ve:function(){return ve},"function"==typeof Pe)return Qe.lift(new ue(Pt,Pe));const Se=Object.create(Qe,F.f);return Se.source=Qe,Se.subjectFactory=Pt,Se}}class ue{constructor(Pe,Ve){this.subjectFactory=Pe,this.selector=Ve}call(Pe,Ve){const{selector:Qe}=this,Pt=this.subjectFactory(),Se=Qe(Pt).subscribe(Pe);return Se.add(Ve.subscribe(Pt)),Se}}var re=_(3602),we=_(6e3),j=_(9277);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const Y="Service workers are disabled or not supported by this browser";class W{constructor(Pe){if(this.serviceWorker=Pe,Pe){const Qe=(0,C.R)(Pe,"controllerchange").pipe((0,M.T)(()=>Pe.controller)),Pt=(0,w.v)(()=>(0,S.of)(Pe.controller)),Se=(0,I.x)(Pt,Qe);this.worker=Se.pipe((0,L.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,z.n)(()=>Pe.getRegistration()));const Ot=(0,C.R)(Pe,"message").pipe((0,M.T)(ft=>ft.data)).pipe((0,L.p)(ft=>ft&&ft.type)).pipe(function ce(ve){return ve?J(()=>new E.B7,ve):J(new E.B7)}());Ot.connect(),this.events=Ot}else this.worker=this.events=this.registration=function se(ve){return(0,w.v)(()=>(0,D.$)(new Error(ve)))}(Y)}postMessage(Pe,Ve){return this.worker.pipe((0,re.s)(1),(0,we.M)(Qe=>{Qe.postMessage({action:Pe,...Ve})})).toPromise().then(()=>{})}postMessageWithOperation(Pe,Ve,Qe){const Pt=this.waitForOperationCompleted(Qe),Se=this.postMessage(Pe,Ve);return Promise.all([Se,Pt]).then(([,qt])=>qt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Pe){let Ve;return Ve="string"==typeof Pe?Qe=>Qe.type===Pe:Qe=>Pe.includes(Qe.type),this.events.pipe((0,L.p)(Ve))}nextEventOfType(Pe){return this.eventsOfType(Pe).pipe((0,re.s)(1))}waitForOperationCompleted(Pe){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,L.p)(Ve=>Ve.nonce===Pe),(0,re.s)(1),(0,M.T)(Ve=>{if(void 0!==Ve.result)return Ve.result;throw new Error(Ve.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ce=(()=>{class ve{get isEnabled(){return this.sw.isEnabled}constructor(Ve){if(this.sw=Ve,this.pushManager=null,this.subscriptionChanges=new E.B7,!Ve.isEnabled)return this.messages=$,this.notificationClicks=$,void(this.subscription=$);this.messages=this.sw.eventsOfType("PUSH").pipe((0,M.T)(Pt=>Pt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,M.T)(Pt=>Pt.data)),this.pushManager=this.sw.registration.pipe((0,M.T)(Pt=>Pt.pushManager));const Qe=this.pushManager.pipe((0,z.n)(Pt=>Pt.getSubscription()));this.subscription=(0,O.h)(Qe,this.subscriptionChanges)}requestSubscription(Ve){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Y));const Qe={userVisibleOnly:!0};let Pt=this.decodeBase64(Ve.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Se=new Uint8Array(new ArrayBuffer(Pt.length));for(let qt=0;qt<Pt.length;qt++)Se[qt]=Pt.charCodeAt(qt);return Qe.applicationServerKey=Se,this.pushManager.pipe((0,z.n)(qt=>qt.subscribe(Qe)),(0,re.s)(1)).toPromise().then(qt=>(this.subscriptionChanges.next(qt),qt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,re.s)(1),(0,z.n)(Qe=>{if(null===Qe)throw new Error("Not subscribed to push notifications.");return Qe.unsubscribe().then(Pt=>{if(!Pt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Y))}decodeBase64(Ve){return atob(Ve)}static#e=this.\u0275fac=function(Qe){return new(Qe||ve)(d.KVO(W))};static#t=this.\u0275prov=d.jDH({token:ve,factory:ve.\u0275fac})}return ve})(),Q=(()=>{class ve{get isEnabled(){return this.sw.isEnabled}constructor(Ve){if(this.sw=Ve,!Ve.isEnabled)return this.versionUpdates=$,void(this.unrecoverable=$);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Y));const Ve=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ve},Ve)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Y));const Ve=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ve},Ve)}static#e=this.\u0275fac=function(Qe){return new(Qe||ve)(d.KVO(W))};static#t=this.\u0275prov=d.jDH({token:ve,factory:ve.\u0275fac})}return ve})();
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Me=new d.nKC("");function Xe(ve,Pe,Ve,Qe){return()=>{if(!(0,A.UE)(Qe)||!("serviceWorker"in navigator)||!1===Ve.enabled)return;const Pt=ve.get(d.SKi),Se=ve.get(d.o8S);let qt;if(Pt.runOutsideAngular(()=>{const Vt=navigator.serviceWorker,Tt=()=>Vt.controller?.postMessage({action:"INITIALIZE"});Vt.addEventListener("controllerchange",Tt),Se.onDestroy(()=>{Vt.removeEventListener("controllerchange",Tt)})}),"function"==typeof Ve.registrationStrategy)qt=Ve.registrationStrategy();else{const[Vt,...Tt]=(Ve.registrationStrategy||"registerWhenStable:30000").split(":");switch(Vt){case"registerImmediately":qt=(0,S.of)(null);break;case"registerWithDelay":qt=yt(+Tt[0]||0);break;case"registerWhenStable":qt=Tt[0]?(0,O.h)(Je(ve),yt(+Tt[0])):Je(ve);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ve.registrationStrategy}`)}}Pt.runOutsideAngular(()=>qt.pipe((0,re.s)(1)).subscribe(()=>navigator.serviceWorker.register(Pe,{scope:Ve.scope}).catch(Vt=>console.error("Service worker registration failed with:",Vt))))}}function yt(ve){return(0,S.of)(null).pipe((0,j.c)(ve))}function Je(ve){return ve.get(d.o8S).isStable.pipe((0,L.p)(Ve=>Ve))}function je(ve,Pe){return new W((0,A.UE)(Pe)&&!1!==ve.enabled?navigator.serviceWorker:void 0)}class X{}function oe(ve,Pe={}){return(0,d.EmA)([Ce,Q,{provide:Me,useValue:ve},{provide:X,useValue:Pe},{provide:W,useFactory:je,deps:[X,d.Agw]},{provide:d.hnV,useFactory:Xe,deps:[d.zZn,Me,X,d.Agw],multi:!0}])}let _e=(()=>{class ve{static register(Ve,Qe={}){return{ngModule:ve,providers:[oe(Ve,Qe)]}}static#e=this.\u0275fac=function(Qe){return new(Qe||ve)};static#t=this.\u0275mod=d.$C({type:ve});static#n=this.\u0275inj=d.G2t({providers:[Ce,Q]})}return ve})()},597:(dn,Ne,_)=>{"use strict";_.d(Ne,{D9:()=>yt,Wr:()=>R,c$:()=>Me,h:()=>Je});var d=_(7404),A=_(1536),w=_(6899),D=_(8757),C=_(6933),S=_(6965),I=_(3602),E=_(7841),y=_(5443),x=_(9003),$=_(1963);class R{}let O=(()=>{class je extends R{getTranslation(oe){return(0,A.of)({})}}return je.\u0275fac=(()=>{let X;return function(_e){return(X||(X=d.xGo(je)))(_e||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class M{}let L=(()=>{class je{handle(oe){return oe.key}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();function z(je,X){if(je===X)return!0;if(null===je||null===X)return!1;if(je!=je&&X!=X)return!0;let ve,Pe,Ve,oe=typeof je;if(oe==typeof X&&"object"==oe){if(!Array.isArray(je)){if(Array.isArray(X))return!1;for(Pe in Ve=Object.create(null),je){if(!z(je[Pe],X[Pe]))return!1;Ve[Pe]=!0}for(Pe in X)if(!(Pe in Ve)&&typeof X[Pe]<"u")return!1;return!0}if(!Array.isArray(X))return!1;if((ve=je.length)==X.length){for(Pe=0;Pe<ve;Pe++)if(!z(je[Pe],X[Pe]))return!1;return!0}}return!1}function F(je){return typeof je<"u"&&null!==je}function J(je){return je&&"object"==typeof je&&!Array.isArray(je)}function ue(je,X){let oe=Object.assign({},je);return J(je)&&J(X)&&Object.keys(X).forEach(_e=>{J(X[_e])?_e in je?oe[_e]=ue(je[_e],X[_e]):Object.assign(oe,{[_e]:X[_e]}):Object.assign(oe,{[_e]:X[_e]})}),oe}class ce{}let re=(()=>{class je extends ce{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(oe,_e){let ve;return ve="string"==typeof oe?this.interpolateString(oe,_e):"function"==typeof oe?this.interpolateFunction(oe,_e):oe,ve}getValue(oe,_e){let ve="string"==typeof _e?_e.split("."):[_e];_e="";do{_e+=ve.shift(),!F(oe)||!F(oe[_e])||"object"!=typeof oe[_e]&&ve.length?ve.length?_e+=".":oe=void 0:(oe=oe[_e],_e="")}while(ve.length);return oe}interpolateFunction(oe,_e){return oe(_e)}interpolateString(oe,_e){return _e?oe.replace(this.templateMatcher,(ve,Pe)=>{let Ve=this.getValue(_e,Pe);return F(Ve)?Ve:ve}):oe}}return je.\u0275fac=(()=>{let X;return function(_e){return(X||(X=d.xGo(je)))(_e||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class we{}let j=(()=>{class je extends we{compile(oe,_e){return oe}compileTranslations(oe,_e){return oe}}return je.\u0275fac=(()=>{let X;return function(_e){return(X||(X=d.xGo(je)))(_e||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class Y{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new d.bkB,this.onLangChange=new d.bkB,this.onDefaultLangChange=new d.bkB}}const se=new d.nKC("USE_STORE"),W=new d.nKC("USE_DEFAULT_LANG"),Ce=new d.nKC("DEFAULT_LANGUAGE"),Q=new d.nKC("USE_EXTEND");let Me=(()=>{class je{constructor(oe,_e,ve,Pe,Ve,Qe=!0,Pt=!1,Se=!1,qt){this.store=oe,this.currentLoader=_e,this.compiler=ve,this.parser=Pe,this.missingTranslationHandler=Ve,this.useDefaultLang=Qe,this.isolate=Pt,this.extend=Se,this.pending=!1,this._onTranslationChange=new d.bkB,this._onLangChange=new d.bkB,this._onDefaultLangChange=new d.bkB,this._langs=[],this._translations={},this._translationRequests={},qt&&this.setDefaultLang(qt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(oe){this.isolate?this._defaultLang=oe:this.store.defaultLang=oe}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(oe){this.isolate?this._currentLang=oe:this.store.currentLang=oe}get langs(){return this.isolate?this._langs:this.store.langs}set langs(oe){this.isolate?this._langs=oe:this.store.langs=oe}get translations(){return this.isolate?this._translations:this.store.translations}set translations(oe){this.isolate?this._translations=oe:this.store.translations=oe}setDefaultLang(oe){if(oe===this.defaultLang)return;let _e=this.retrieveTranslations(oe);typeof _e<"u"?(null==this.defaultLang&&(this.defaultLang=oe),_e.pipe((0,I.s)(1)).subscribe(ve=>{this.changeDefaultLang(oe)})):this.changeDefaultLang(oe)}getDefaultLang(){return this.defaultLang}use(oe){if(oe===this.currentLang)return(0,A.of)(this.translations[oe]);let _e=this.retrieveTranslations(oe);return typeof _e<"u"?(this.currentLang||(this.currentLang=oe),_e.pipe((0,I.s)(1)).subscribe(ve=>{this.changeLang(oe)}),_e):(this.changeLang(oe),(0,A.of)(this.translations[oe]))}retrieveTranslations(oe){let _e;return(typeof this.translations[oe]>"u"||this.extend)&&(this._translationRequests[oe]=this._translationRequests[oe]||this.getTranslation(oe),_e=this._translationRequests[oe]),_e}getTranslation(oe){this.pending=!0;const _e=this.currentLoader.getTranslation(oe).pipe((0,E.t)(1),(0,I.s)(1));return this.loadingTranslations=_e.pipe((0,y.T)(ve=>this.compiler.compileTranslations(ve,oe)),(0,E.t)(1),(0,I.s)(1)),this.loadingTranslations.subscribe({next:ve=>{this.translations[oe]=this.extend&&this.translations[oe]?{...ve,...this.translations[oe]}:ve,this.updateLangs(),this.pending=!1},error:ve=>{this.pending=!1}}),_e}setTranslation(oe,_e,ve=!1){_e=this.compiler.compileTranslations(_e,oe),this.translations[oe]=(ve||this.extend)&&this.translations[oe]?ue(this.translations[oe],_e):_e,this.updateLangs(),this.onTranslationChange.emit({lang:oe,translations:this.translations[oe]})}getLangs(){return this.langs}addLangs(oe){oe.forEach(_e=>{-1===this.langs.indexOf(_e)&&this.langs.push(_e)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(oe,_e,ve){let Pe;if(_e instanceof Array){let Ve={},Qe=!1;for(let Pt of _e)Ve[Pt]=this.getParsedResult(oe,Pt,ve),(0,w.A)(Ve[Pt])&&(Qe=!0);if(Qe){const Pt=_e.map(Se=>(0,w.A)(Ve[Se])?Ve[Se]:(0,A.of)(Ve[Se]));return(0,D.p)(Pt).pipe((0,y.T)(Se=>{let qt={};return Se.forEach((Vt,Tt)=>{qt[_e[Tt]]=Vt}),qt}))}return Ve}if(oe&&(Pe=this.parser.interpolate(this.parser.getValue(oe,_e),ve)),typeof Pe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Pe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],_e),ve)),typeof Pe>"u"){let Ve={key:_e,translateService:this};typeof ve<"u"&&(Ve.interpolateParams=ve),Pe=this.missingTranslationHandler.handle(Ve)}return typeof Pe<"u"?Pe:_e}get(oe,_e){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,x.H)(ve=>(ve=this.getParsedResult(ve,oe,_e),(0,w.A)(ve)?ve:(0,A.of)(ve))));{let ve=this.getParsedResult(this.translations[this.currentLang],oe,_e);return(0,w.A)(ve)?ve:(0,A.of)(ve)}}getStreamOnTranslationChange(oe,_e){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');return(0,C.x)((0,S.v)(()=>this.get(oe,_e)),this.onTranslationChange.pipe((0,$.n)(ve=>{const Pe=this.getParsedResult(ve.translations,oe,_e);return"function"==typeof Pe.subscribe?Pe:(0,A.of)(Pe)})))}stream(oe,_e){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');return(0,C.x)((0,S.v)(()=>this.get(oe,_e)),this.onLangChange.pipe((0,$.n)(ve=>{const Pe=this.getParsedResult(ve.translations,oe,_e);return(0,w.A)(Pe)?Pe:(0,A.of)(Pe)})))}instant(oe,_e){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');let ve=this.getParsedResult(this.translations[this.currentLang],oe,_e);if((0,w.A)(ve)){if(oe instanceof Array){let Pe={};return oe.forEach((Ve,Qe)=>{Pe[oe[Qe]]=oe[Qe]}),Pe}return oe}return ve}set(oe,_e,ve=this.currentLang){this.translations[ve][oe]=this.compiler.compile(_e,ve),this.updateLangs(),this.onTranslationChange.emit({lang:ve,translations:this.translations[ve]})}changeLang(oe){this.currentLang=oe,this.onLangChange.emit({lang:oe,translations:this.translations[oe]}),null==this.defaultLang&&this.changeDefaultLang(oe)}changeDefaultLang(oe){this.defaultLang=oe,this.onDefaultLangChange.emit({lang:oe,translations:this.translations[oe]})}reloadLang(oe){return this.resetLang(oe),this.getTranslation(oe)}resetLang(oe){this._translationRequests[oe]=void 0,this.translations[oe]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let oe=window.navigator.languages?window.navigator.languages[0]:null;return oe=oe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof oe>"u"?void 0:(-1!==oe.indexOf("-")&&(oe=oe.split("-")[0]),-1!==oe.indexOf("_")&&(oe=oe.split("_")[0]),oe)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let oe=window.navigator.languages?window.navigator.languages[0]:null;return oe=oe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,oe}}return je.\u0275fac=function(oe){return new(oe||je)(d.KVO(Y),d.KVO(R),d.KVO(we),d.KVO(ce),d.KVO(M),d.KVO(W),d.KVO(se),d.KVO(Q),d.KVO(Ce))},je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})(),yt=(()=>{class je{constructor(oe,_e){this.translate=oe,this._ref=_e,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(oe,_e,ve){let Pe=Ve=>{this.value=void 0!==Ve?Ve:oe,this.lastKey=oe,this._ref.markForCheck()};if(ve){let Ve=this.translate.getParsedResult(ve,oe,_e);(0,w.A)(Ve.subscribe)?Ve.subscribe(Pe):Pe(Ve)}this.translate.get(oe,_e).subscribe(Pe)}transform(oe,..._e){if(!oe||!oe.length)return oe;if(z(oe,this.lastKey)&&z(_e,this.lastParams))return this.value;let ve;if(F(_e[0])&&_e.length)if("string"==typeof _e[0]&&_e[0].length){let Pe=_e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ve=JSON.parse(Pe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${_e[0]}`)}}else"object"==typeof _e[0]&&!Array.isArray(_e[0])&&(ve=_e[0]);return this.lastKey=oe,this.lastParams=_e,this.updateValue(oe,ve),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Pe=>{this.lastKey&&Pe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(oe,ve,Pe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Pe=>{this.lastKey&&(this.lastKey=null,this.updateValue(oe,ve,Pe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(oe,ve))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return je.\u0275fac=function(oe){return new(oe||je)(d.rXU(Me,16),d.rXU(d.gRc,16))},je.\u0275pipe=d.EJ8({name:"translate",type:je,pure:!1}),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})(),Je=(()=>{class je{static forRoot(oe={}){return{ngModule:je,providers:[oe.loader||{provide:R,useClass:O},oe.compiler||{provide:we,useClass:j},oe.parser||{provide:ce,useClass:re},oe.missingTranslationHandler||{provide:M,useClass:L},Y,{provide:se,useValue:oe.isolate},{provide:W,useValue:oe.useDefaultLang},{provide:Q,useValue:oe.extend},{provide:Ce,useValue:oe.defaultLanguage},Me]}}static forChild(oe={}){return{ngModule:je,providers:[oe.loader||{provide:R,useClass:O},oe.compiler||{provide:we,useClass:j},oe.parser||{provide:ce,useClass:re},oe.missingTranslationHandler||{provide:M,useClass:L},{provide:se,useValue:oe.isolate},{provide:W,useValue:oe.useDefaultLang},{provide:Q,useValue:oe.extend},{provide:Ce,useValue:oe.defaultLanguage},Me]}}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275mod=d.$C({type:je}),je.\u0275inj=d.G2t({}),je})()},5101:(dn,Ne,_)=>{"use strict";_.d(Ne,{s:()=>d});class d{constructor(w,D="/assets/i18n/",C=".json"){this.http=w,this.prefix=D,this.suffix=C}getTranslation(w){return this.http.get(`${this.prefix}${w}${this.suffix}`)}}},3803:(dn,Ne,_)=>{"use strict";_.d(Ne,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},4820:(dn,Ne,_)=>{"use strict";_.d(Ne,{qd:()=>S,wg:()=>y,y7:()=>I});var d=_(774),A=_(1205),w=_(3803),D=_(524);const C={};function S(x){const $=C[x];if($)return $;let R=D.j[x];if((0,d.a3)(R))return C[x]=R.bind(D.j);const O=D.j.document;if(O&&"function"==typeof O.createElement)try{const M=O.createElement("iframe");M.hidden=!0,O.head.appendChild(M);const L=M.contentWindow;L&&L[x]&&(R=L[x]),O.head.removeChild(M)}catch(M){w.T&&A.vF.warn(`Could not create sandbox iframe for ${x} check, bailing to window.${x}: `,M)}return R&&(C[x]=R.bind(D.j))}function I(x){C[x]=void 0}function y(...x){return S("setTimeout")(...x)}},8283:(dn,Ne,_)=>{"use strict";_.d(Ne,{i:()=>y});var d=_(5027),A=_(7593),w=_(1582),D=_(524);const C=1e3;let S,I,E;function y(L){(0,d.s5)("dom",L),(0,d.AS)("dom",x)}function x(){if(!D.j.document)return;const L=d.aj.bind(null,"dom"),z=O(L,!0);D.j.document.addEventListener("click",z,!1),D.j.document.addEventListener("keypress",z,!1),["EventTarget","Node"].forEach(F=>{const J=D.j[F]&&D.j[F].prototype;!J||!J.hasOwnProperty||!J.hasOwnProperty("addEventListener")||((0,A.GS)(J,"addEventListener",function(ue){return function(ce,re,we){if("click"===ce||"keypress"==ce)try{const j=this,Y=j.__sentry_instrumentation_handlers__=j.__sentry_instrumentation_handlers__||{},se=Y[ce]=Y[ce]||{refCount:0};if(!se.handler){const W=O(L);se.handler=W,ue.call(this,ce,W,we)}se.refCount++}catch{}return ue.call(this,ce,re,we)}}),(0,A.GS)(J,"removeEventListener",function(ue){return function(ce,re,we){if("click"===ce||"keypress"==ce)try{const j=this,Y=j.__sentry_instrumentation_handlers__||{},se=Y[ce];se&&(se.refCount--,se.refCount<=0&&(ue.call(this,ce,se.handler,we),se.handler=void 0,delete Y[ce]),0===Object.keys(Y).length&&delete j.__sentry_instrumentation_handlers__)}catch{}return ue.call(this,ce,re,we)}}))})}function O(L,z=!1){return F=>{if(!F||F._sentryCaptured)return;const J=function M(L){try{return L.target}catch{return null}}(F);if(function R(L,z){return!("keypress"!==L||z&&z.tagName&&("INPUT"===z.tagName||"TEXTAREA"===z.tagName||z.isContentEditable))}(F.type,J))return;(0,A.my)(F,"_sentryCaptured",!0),J&&!J._sentryId&&(0,A.my)(J,"_sentryId",(0,w.eJ)());const ue="keypress"===F.type?"input":F.type;(function $(L){if(L.type!==I)return!1;try{if(!L.target||L.target._sentryId!==E)return!1}catch{}return!0})(F)||(L({event:F,name:ue,global:z}),I=F.type,E=J?J._sentryId:void 0),clearTimeout(S),S=D.j.setTimeout(()=>{E=void 0,I=void 0},C)}}},1100:(dn,Ne,_)=>{"use strict";_.d(Ne,{_:()=>E});var d=_(5027);const w=_(2031).O;var C=_(7593),S=_(524);let I;function E(x){const $="history";(0,d.s5)($,x),(0,d.AS)($,y)}function y(){if(!function D(){const x=w.chrome;return!(x&&x.app&&x.app.runtime||!("history"in w)||!w.history.pushState||!w.history.replaceState)}())return;const x=S.j.onpopstate;function $(R){return function(...O){const M=O.length>2?O[2]:void 0;if(M){const L=I,z=String(M);I=z,(0,d.aj)("history",{from:L,to:z})}return R.apply(this,O)}}S.j.onpopstate=function(...R){const O=S.j.location.href,M=I;if(I=O,(0,d.aj)("history",{from:M,to:O}),x)try{return x.apply(this,R)}catch{}},(0,C.GS)(S.j.history,"pushState",$),(0,C.GS)(S.j.history,"replaceState",$)}},4097:(dn,Ne,_)=>{"use strict";_.d(Ne,{Er:()=>S,Mn:()=>I});var d=_(5027),A=_(7593),w=_(8423),D=_(1362),C=_(524);const S="__sentry_xhr_v3__";function I(x){(0,d.s5)("xhr",x),(0,d.AS)("xhr",E)}function E(){if(!C.j.XMLHttpRequest)return;const x=XMLHttpRequest.prototype;(0,A.GS)(x,"open",function($){return function(...R){const O=1e3*(0,w.zf)(),M=(0,D.Kg)(R[0])?R[0].toUpperCase():void 0,L=function y(x){if((0,D.Kg)(x))return x;try{return x.toString()}catch{}}(R[1]);if(!M||!L)return $.apply(this,R);this[S]={method:M,url:L,request_headers:{}},"POST"===M&&L.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const z=()=>{const F=this[S];if(F&&4===this.readyState){try{F.status_code=this.status}catch{}const J={endTimestamp:1e3*(0,w.zf)(),startTimestamp:O,xhr:this};(0,d.aj)("xhr",J)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,A.GS)(this,"onreadystatechange",function(F){return function(...J){return z(),F.apply(this,J)}}):this.addEventListener("readystatechange",z),(0,A.GS)(this,"setRequestHeader",function(F){return function(...J){const[ue,ce]=J,re=this[S];return re&&(0,D.Kg)(ue)&&(0,D.Kg)(ce)&&(re.request_headers[ue.toLowerCase()]=ce),F.apply(this,J)}}),$.apply(this,R)}}),(0,A.GS)(x,"send",function($){return function(...R){const O=this[S];if(!O)return $.apply(this,R);void 0!==R[0]&&(O.body=R[0]);const M={startTimestamp:1e3*(0,w.zf)(),xhr:this};return(0,d.aj)("xhr",M),$.apply(this,R)}})}},3963:(dn,Ne,_)=>{"use strict";_.d(Ne,{a9:()=>It,T5:()=>st,hT:()=>Ut,Pt:()=>ot,wv:()=>wt,YG:()=>Nt,tC:()=>sn});var d=_(1205),A=_(3439),w=_(3803);const C=(tn,xt,zt,$t)=>{let vn,Nn;return Ni=>{xt.value>=0&&(Ni||$t)&&(Nn=xt.value-(vn||0),(Nn||void 0===vn)&&(vn=xt.value,xt.delta=Nn,xt.rating=((tn,xt)=>tn>xt[1]?"poor":tn>xt[0]?"needs-improvement":"good")(xt.value,zt),tn(xt)))}};var S=_(524),E=_(242);const y=()=>{const tn=(0,E.z)();return tn&&tn.activationStart||0},x=(tn,xt)=>{const zt=(0,E.z)();let $t="navigate";return zt&&(S.j.document&&S.j.document.prerendering||y()>0?$t="prerender":S.j.document&&S.j.document.wasDiscarded?$t="restore":zt.type&&($t=zt.type.replace(/_/g,"-"))),{name:tn,value:typeof xt>"u"?-1:xt,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:$t}},$=(tn,xt,zt)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(tn)){const $t=new PerformanceObserver(vn=>{Promise.resolve().then(()=>{xt(vn.getEntries())})});return $t.observe(Object.assign({type:tn,buffered:!0},zt||{})),$t}}catch{}},R=tn=>{const xt=zt=>{("pagehide"===zt.type||S.j.document&&"hidden"===S.j.document.visibilityState)&&tn(zt)};S.j.document&&(addEventListener("visibilitychange",xt,!0),addEventListener("pagehide",xt,!0))},O=tn=>{let xt=!1;return zt=>{xt||(tn(zt),xt=!0)}};var M=_(9056);const L=tn=>{S.j.document&&S.j.document.prerendering?addEventListener("prerenderingchange",()=>tn(),!0):tn()},z=[1800,3e3],J=[.1,.25],ue=(tn,xt={})=>{((tn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("FCP");let vn;const Ni=$("paint",Sn=>{Sn.forEach(Gn=>{"first-contentful-paint"===Gn.name&&(Ni.disconnect(),Gn.startTime<zt.firstHiddenTime&&($t.value=Math.max(Gn.startTime-y(),0),$t.entries.push(Gn),vn(!0)))})});Ni&&(vn=C(tn,$t,z,xt.reportAllChanges))})})(O(()=>{const zt=x("CLS",0);let $t,vn=0,Nn=[];const Ni=Gn=>{Gn.forEach(En=>{if(!En.hadRecentInput){const Kn=Nn[0],pt=Nn[Nn.length-1];vn&&Kn&&pt&&En.startTime-pt.startTime<1e3&&En.startTime-Kn.startTime<5e3?(vn+=En.value,Nn.push(En)):(vn=En.value,Nn=[En])}}),vn>zt.value&&(zt.value=vn,zt.entries=Nn,$t())},Sn=$("layout-shift",Ni);Sn&&($t=C(tn,zt,J,xt.reportAllChanges),R(()=>{Ni(Sn.takeRecords()),$t(!0)}),setTimeout($t,0))}))},ce=[100,300],re=(tn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("FID");let vn;const Nn=Gn=>{Gn.startTime<zt.firstHiddenTime&&($t.value=Gn.processingStart-Gn.startTime,$t.entries.push(Gn),vn(!0))},Ni=Gn=>{Gn.forEach(Nn)},Sn=$("first-input",Ni);vn=C(tn,$t,ce,xt.reportAllChanges),Sn&&R(O(()=>{Ni(Sn.takeRecords()),Sn.disconnect()}))})};let we=0,j=1/0,Y=0;const se=tn=>{tn.forEach(xt=>{xt.interactionId&&(j=Math.min(j,xt.interactionId),Y=Math.max(Y,xt.interactionId),we=Y?(Y-j)/7+1:0)})};let W;const Me=[200,500],yt=()=>(W?we:performance.interactionCount||0)-0,je=[],X={},oe=tn=>{const xt=je[je.length-1],zt=X[tn.interactionId];if(zt||je.length<10||xt&&tn.duration>xt.latency){if(zt)zt.entries.push(tn),zt.latency=Math.max(zt.latency,tn.duration);else{const $t={id:tn.interactionId,latency:tn.duration,entries:[tn]};X[$t.id]=$t,je.push($t)}je.sort(($t,vn)=>vn.latency-$t.latency),je.splice(10).forEach($t=>{delete X[$t.id]})}},ve=(tn,xt={})=>{L(()=>{"interactionCount"in performance||W||(W=$("event",se,{type:"event",buffered:!0,durationThreshold:0}));const zt=x("INP");let $t;const vn=Ni=>{Ni.forEach(Gn=>{Gn.interactionId&&oe(Gn),"first-input"===Gn.entryType&&!je.some(Kn=>Kn.entries.some(pt=>Gn.duration===pt.duration&&Gn.startTime===pt.startTime))&&oe(Gn)});const Sn=(()=>{const tn=Math.min(je.length-1,Math.floor(yt()/50));return je[tn]})();Sn&&Sn.latency!==zt.value&&(zt.value=Sn.latency,zt.entries=Sn.entries,$t())},Nn=$("event",vn,{durationThreshold:null!=xt.durationThreshold?xt.durationThreshold:40});$t=C(tn,zt,Me,xt.reportAllChanges),Nn&&("PerformanceEventTiming"in S.j&&"interactionId"in PerformanceEventTiming.prototype&&Nn.observe({type:"first-input",buffered:!0}),R(()=>{vn(Nn.takeRecords()),zt.value<0&&yt()>0&&(zt.value=0,zt.entries=[]),$t(!0)}))})},Pe=[2500,4e3],Ve={},Qe=(tn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("LCP");let vn;const Nn=Sn=>{const Gn=Sn[Sn.length-1];Gn&&Gn.startTime<zt.firstHiddenTime&&($t.value=Math.max(Gn.startTime-y(),0),$t.entries=[Gn],vn())},Ni=$("largest-contentful-paint",Nn);if(Ni){vn=C(tn,$t,Pe,xt.reportAllChanges);const Sn=O(()=>{Ve[$t.id]||(Nn(Ni.takeRecords()),Ni.disconnect(),Ve[$t.id]=!0,vn(!0))});["keydown","click"].forEach(Gn=>{S.j.document&&addEventListener(Gn,()=>setTimeout(Sn,0),!0)}),R(Sn)}})},Pt=[800,1800],Se=tn=>{S.j.document&&S.j.document.prerendering?L(()=>Se(tn)):S.j.document&&"complete"!==S.j.document.readyState?addEventListener("load",()=>Se(tn),!0):setTimeout(tn,0)},qt=(tn,xt={})=>{const zt=x("TTFB"),$t=C(tn,zt,Pt,xt.reportAllChanges);Se(()=>{const vn=(0,E.z)();if(vn){const Nn=vn.responseStart;if(Nn<=0||Nn>performance.now())return;zt.value=Math.max(Nn-y(),0),zt.entries=[vn],$t(!0)}})},Vt={},Tt={};let Ot,ft,Re,Ye,vt;function It(tn,xt=!1){return Gt("cls",tn,ut,Ot,xt)}function ot(tn,xt=!1){return Gt("lcp",tn,Fe,Re,xt)}function st(tn){return Gt("fid",tn,Z,ft)}function Nt(tn){return Gt("ttfb",tn,pe,Ye)}function Ut(tn){return Gt("inp",tn,at,vt)}function wt(tn,xt){return Wn(tn,xt),Tt[tn]||(function nn(tn){const xt={};"event"===tn&&(xt.durationThreshold=0),$(tn,zt=>{ct(tn,{entries:zt})},xt)}(tn),Tt[tn]=!0),vi(tn,xt)}function ct(tn,xt){const zt=Vt[tn];if(zt&&zt.length)for(const $t of zt)try{$t(xt)}catch(vn){w.T&&d.vF.error(`Error while triggering instrumentation handler.\nType: ${tn}\nName: ${(0,A.qQ)($t)}\nError:`,vn)}}function ut(){return ue(tn=>{ct("cls",{metric:tn}),Ot=tn},{reportAllChanges:!0})}function Z(){return re(tn=>{ct("fid",{metric:tn}),ft=tn})}function Fe(){return Qe(tn=>{ct("lcp",{metric:tn}),Re=tn},{reportAllChanges:!0})}function pe(){return qt(tn=>{ct("ttfb",{metric:tn}),Ye=tn})}function at(){return ve(tn=>{ct("inp",{metric:tn}),vt=tn})}function Gt(tn,xt,zt,$t,vn=!1){let Nn;return Wn(tn,xt),Tt[tn]||(Nn=zt(),Tt[tn]=!0),$t&&xt({metric:$t}),vi(tn,xt,vn?Nn:void 0)}function Wn(tn,xt){Vt[tn]=Vt[tn]||[],Vt[tn].push(xt)}function vi(tn,xt,zt){return()=>{zt&&zt();const $t=Vt[tn];if(!$t)return;const vn=$t.indexOf(xt);-1!==vn&&$t.splice(vn,1)}}function sn(tn){return"duration"in tn}},242:(dn,Ne,_)=>{"use strict";_.d(Ne,{z:()=>A});var d=_(524);const A=()=>d.j.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},9056:(dn,Ne,_)=>{"use strict";_.d(Ne,{N:()=>S});var d=_(524);let A=-1;const D=I=>{"hidden"===d.j.document.visibilityState&&A>-1&&(A="visibilitychange"===I.type?I.timeStamp:0,removeEventListener("visibilitychange",D,!0),removeEventListener("prerenderingchange",D,!0))},S=()=>(d.j.document&&A<0&&(A="hidden"!==d.j.document.visibilityState||d.j.document.prerendering?1/0:0,addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)),{get firstHiddenTime(){return A}})},524:(dn,Ne,_)=>{"use strict";_.d(Ne,{j:()=>A});const A=_(2031).O},2480:(dn,Ne,_)=>{"use strict";_.d(Ne,{w:()=>Rl});var d=_(9204);function w(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}var D=_(7376),C=_(2849);function y(k){return"/"===k[k.length-1]?k.slice(0,-1):k}var x=_(1229),$=_(1995),R=_(8165),O=_(4541),M=_(4707),L=_(2031),z=_(6362),F=_(7593),J=_(4440),ue=_(8423),ce=_(1205),re=_(1582),we=_(6851),j=_(7138),Y=_(5612),se=_(1857),W=_(679);function Xe(){return typeof window<"u"&&(!function Ce(){return!(0,W.Z)()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function yt(){return void 0!==L.O.process&&"renderer"===L.O.process.type}())}var Je=_(4820),je=_(3963),X=_(4097),oe=_(8283),_e=_(1100);const ve=L.O,Pe="sentryReplaySession",Ve="replay_event",Qe="Unable to send Replay",Ot=5e3,ft=3,Re=15e4,ot=2e7;function wt(k,V){return k??V()}function ct(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}var ut=function(k){return k[k.Document=0]="Document",k[k.DocumentType=1]="DocumentType",k[k.Element=2]="Element",k[k.Text=3]="Text",k[k.CDATA=4]="CDATA",k[k.Comment=5]="Comment",k}(ut||{});function Fe(k){const V=ct([k,"optionalAccess",fe=>fe.host]);return ct([V,"optionalAccess",fe=>fe.shadowRoot])===k}function pe(k){return"[object ShadowRoot]"===Object.prototype.toString.call(k)}function nn(k){try{const V=k.rules||k.cssRules;return V?function at(k){return k.includes(" background-clip: text;")&&!k.includes(" -webkit-background-clip: text;")&&(k=k.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),k}(Array.from(V,Wn).join("")):null}catch{return null}}function Wn(k){let V;if(function sn(k){return"styleSheet"in k}(k))try{V=nn(k.styleSheet)||function Gt(k){const{cssText:V}=k;if(V.split('"').length<3)return V;const fe=["@import",`url(${JSON.stringify(k.href)})`];return""===k.layerName?fe.push("layer"):k.layerName&&fe.push(`layer(${k.layerName})`),k.supportsText&&fe.push(`supports(${k.supportsText})`),k.media.length&&fe.push(k.media.mediaText),fe.join(" ")+";"}(k)}catch{}else if(function tn(k){return"selectorText"in k}(k)&&k.selectorText.includes(":"))return function vi(k){return k.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(k.cssText);return V||k.cssText}class xt{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(V){return V?wt(ct([this,"access",qe=>qe.getMeta,"call",qe=>qe(V),"optionalAccess",qe=>qe.id]),()=>-1):-1}getNode(V){return this.idNodeMap.get(V)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(V){return this.nodeMetaMap.get(V)||null}removeNodeFromMap(V){const fe=this.getId(V);this.idNodeMap.delete(fe),V.childNodes&&V.childNodes.forEach(qe=>this.removeNodeFromMap(qe))}has(V){return this.idNodeMap.has(V)}hasNode(V){return this.nodeMetaMap.has(V)}add(V,fe){this.idNodeMap.set(fe.id,V),this.nodeMetaMap.set(V,fe)}replace(V,fe){const qe=this.getNode(V);if(qe){const At=this.nodeMetaMap.get(qe);At&&this.nodeMetaMap.set(fe,At)}this.idNodeMap.set(V,fe)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function $t({maskInputOptions:k,tagName:V,type:fe}){return"OPTION"===V&&(V="SELECT"),!!(k[V.toLowerCase()]||fe&&k[fe]||"password"===fe||"INPUT"===V&&!fe&&k.text)}function vn({isMasked:k,element:V,value:fe,maskInputFn:qe}){let At=fe||"";return k?(qe&&(At=qe(At,V)),"*".repeat(At.length)):At}function Nn(k){return k.toLowerCase()}function Ni(k){return k.toUpperCase()}const Sn="__rrweb_original__";function En(k){const V=k.type;return k.hasAttribute("data-rr-is-password")?"password":V?Nn(V):null}function Kn(k,V,fe){return"INPUT"!==V||"radio"!==fe&&"checkbox"!==fe?k.value:k.getAttribute("value")||""}function pt(k,V){let fe;try{fe=new URL(k,wt(V,()=>window.location.href))}catch{return null}return wt(ct([fe.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",Yt=>Yt[1]]),()=>null)}const $e={};function We(k){const V=$e[k];if(V)return V;const fe=window.document;let qe=window[k];if(fe&&"function"==typeof fe.createElement)try{const At=fe.createElement("iframe");At.hidden=!0,fe.head.appendChild(At);const Yt=At.contentWindow;Yt&&Yt[k]&&(qe=Yt[k]),fe.head.removeChild(At)}catch{}return $e[k]=qe.bind(window)}function Be(...k){return We("setTimeout")(...k)}function gt(...k){return We("clearTimeout")(...k)}let Zt=1;const gn=new RegExp("[^a-z0-9-_:]"),lt=-2;function Te(){return Zt++}let bt,Ft;const In=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,On=/^(?:[a-z+]+:)?\/\//i,ei=/^www\..*/i,pi=/^(data:)([^,]*),(.*)/i;function zi(k,V){return(k||"").replace(In,(fe,qe,At,Yt,_n,Bn)=>{const Cn=At||_n||Bn,Xn=qe||Yt||"";if(!Cn)return fe;if(On.test(Cn)||ei.test(Cn))return`url(${Xn}${Cn}${Xn})`;if(pi.test(Cn))return`url(${Xn}${Cn}${Xn})`;if("/"===Cn[0])return`url(${Xn}${function Le(k){let V="";return V=k.indexOf("//")>-1?k.split("/").slice(0,3).join("/"):k.split("/")[0],V=V.split("?")[0],V}(V)+Cn}${Xn})`;const mi=V.split("/"),hi=Cn.split("/");mi.pop();for(const xi of hi)"."!==xi&&(".."===xi?mi.pop():mi.push(xi));return`url(${Xn}${mi.join("/")}${Xn})`})}const Ci=/^[^ \t\n\r\u000c]+/,Gi=/^[, \t\n\r\u000c]+/;function Ki(k,V){if(!V||""===V.trim())return V;const fe=k.createElement("a");return fe.href=V,fe.href}function ur(k){return!("svg"!==k.tagName&&!k.ownerSVGElement)}function or(){const k=document.createElement("a");return k.href="",k.href}function Tr(k,V,fe,qe,At,Yt){return qe&&("src"===fe||"href"===fe&&("use"!==V||"#"!==qe[0])||"xlink:href"===fe&&"#"!==qe[0]||"background"===fe&&("table"===V||"td"===V||"th"===V)?Ki(k,qe):"srcset"===fe?function Qn(k,V){if(""===V.trim())return V;let fe=0;function qe(Yt){let _n;const Bn=Yt.exec(V.substring(fe));return Bn?(_n=Bn[0],fe+=_n.length,_n):""}const At=[];for(;qe(Gi),!(fe>=V.length);){let Yt=qe(Ci);if(","===Yt.slice(-1))Yt=Ki(k,Yt.substring(0,Yt.length-1)),At.push(Yt);else{let _n="";Yt=Ki(k,Yt);let Bn=!1;for(;;){const Cn=V.charAt(fe);if(""===Cn){At.push((Yt+_n).trim());break}if(Bn)")"===Cn&&(Bn=!1);else{if(","===Cn){fe+=1,At.push((Yt+_n).trim());break}"("===Cn&&(Bn=!0)}_n+=Cn,fe+=1}}}return At.join(", ")}(k,qe):"style"===fe?zi(qe,or()):"object"===V&&"data"===fe?Ki(k,qe):"function"==typeof Yt?Yt(fe,qe,At):qe)}function Hr(k,V,fe){return("video"===k||"audio"===k)&&"autoplay"===V}function ys(k,V,fe=1/0,qe=0){return!k||k.nodeType!==k.ELEMENT_NODE||qe>fe?-1:V(k)?qe:ys(k.parentNode,V,fe,qe+1)}function Cs(k,V){return fe=>{const qe=fe;if(null===qe)return!1;try{if(k)if("string"==typeof k){if(qe.matches(`.${k}`))return!0}else if(function Ur(k,V){for(let fe=k.classList.length;fe--;)if(V.test(k.classList[fe]))return!0;return!1}(qe,k))return!0;return!(!V||!qe.matches(V))}catch{return!1}}}function ss(k,V,fe,qe,At,Yt){try{const _n=k.nodeType===k.ELEMENT_NODE?k:k.parentElement;if(null===_n)return!1;if("INPUT"===_n.tagName){const Xn=_n.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(Xn))return!0}let Bn=-1,Cn=-1;if(Yt){if(Cn=ys(_n,Cs(qe,At)),Cn<0)return!0;Bn=ys(_n,Cs(V,fe),Cn>=0?Cn:1/0)}else{if(Bn=ys(_n,Cs(V,fe)),Bn<0)return!1;Cn=ys(_n,Cs(qe,At),Bn>=0?Bn:1/0)}return Bn>=0?!(Cn>=0)||Bn<=Cn:!(Cn>=0||!Yt)}catch{}return!!Yt}function Mt(k){return null==k?"":k.toLowerCase()}function et(k,V){const{doc:fe,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Bn,maskTextClass:Cn,unmaskTextClass:Xn,maskTextSelector:mi,unmaskTextSelector:hi,skipChild:xi=!1,inlineStylesheet:Si=!0,maskInputOptions:Un={},maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOMOptions:Wr,dataURLOptions:xs={},inlineImages:Ls=!1,recordCanvas:qr=!1,onSerialize:xr,onIframeLoad:dr,iframeLoadTimeout:Xi=5e3,onStylesheetLoad:ca,stylesheetLoadTimeout:Cr=5e3,keepIframeSrcFn:ls=(()=>!1),newlyAddedElement:cs=!1}=V;let{preserveWhiteSpace:qo=!0}=V;const Qo=function cr(k,V){const{doc:fe,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Bn,maskAttributeFn:Cn,maskTextClass:Xn,unmaskTextClass:mi,maskTextSelector:hi,unmaskTextSelector:xi,inlineStylesheet:Si,maskInputOptions:Un={},maskTextFn:_i,maskInputFn:nr,dataURLOptions:er={},inlineImages:Wr,recordCanvas:xs,keepIframeSrcFn:Ls,newlyAddedElement:qr=!1}=V,xr=function ji(k,V){if(!V.hasNode(k))return;const fe=V.getId(k);return 1===fe?void 0:fe}(fe,qe);switch(k.nodeType){case k.DOCUMENT_NODE:return"CSS1Compat"!==k.compatMode?{type:ut.Document,childNodes:[],compatMode:k.compatMode}:{type:ut.Document,childNodes:[]};case k.DOCUMENT_TYPE_NODE:return{type:ut.DocumentType,name:k.name,publicId:k.publicId,systemId:k.systemId,rootId:xr};case k.ELEMENT_NODE:return function Ge(k,V){const{doc:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,inlineStylesheet:_n,maskInputOptions:Bn={},maskAttributeFn:Cn,maskInputFn:Xn,dataURLOptions:mi={},inlineImages:hi,recordCanvas:xi,keepIframeSrcFn:Si,newlyAddedElement:Un=!1,rootId:_i,maskTextClass:er,unmaskTextClass:Wr,maskTextSelector:xs,unmaskTextSelector:Ls}=V,qr=function _s(k,V,fe,qe){try{if(qe&&k.matches(qe))return!1;if("string"==typeof V){if(k.classList.contains(V))return!0}else for(let At=k.classList.length;At--;)if(V.test(k.classList[At]))return!0;if(fe)return k.matches(fe)}catch{}return!1}(k,qe,At,Yt),xr=function rt(k){if(k instanceof HTMLFormElement)return"form";const V=Nn(k.tagName);return gn.test(V)?"div":V}(k);let dr={};const Xi=k.attributes.length;for(let Cr=0;Cr<Xi;Cr++){const ls=k.attributes[Cr];ls.name&&!Hr(xr,ls.name)&&(dr[ls.name]=Tr(fe,xr,Nn(ls.name),ls.value,k,Cn))}if("link"===xr&&_n){const Cr=Array.from(fe.styleSheets).find(cs=>cs.href===k.href);let ls=null;Cr&&(ls=nn(Cr)),ls&&(delete dr.rel,delete dr.href,dr._cssText=zi(ls,Cr.href))}if("style"===xr&&k.sheet&&!(k.innerText||k.textContent||"").trim().length){const Cr=nn(k.sheet);Cr&&(dr._cssText=zi(Cr,or()))}if("input"===xr||"textarea"===xr||"select"===xr||"option"===xr){const Cr=k,ls=En(Cr),cs=Kn(Cr,Ni(xr),ls),qo=Cr.checked;if("submit"!==ls&&"button"!==ls&&cs){const Qo=ss(Cr,er,xs,Wr,Ls,$t({type:ls,tagName:Ni(xr),maskInputOptions:Bn}));dr.value=vn({isMasked:Qo,element:Cr,value:cs,maskInputFn:Xn})}qo&&(dr.checked=qo)}if("option"===xr&&(k.selected&&!Bn.select?dr.selected=!0:delete dr.selected),"canvas"===xr&&xi)if("2d"===k.__context)(function Gn(k){const V=k.getContext("2d");if(!V)return!0;for(let qe=0;qe<k.width;qe+=50)for(let At=0;At<k.height;At+=50){const Yt=V.getImageData;if(new Uint32Array((Sn in Yt?Yt[Sn]:Yt).call(V,qe,At,Math.min(50,k.width-qe),Math.min(50,k.height-At)).data.buffer).some(Cn=>0!==Cn))return!1}return!0})(k)||(dr.rr_dataURL=k.toDataURL(mi.type,mi.quality));else if(!("__context"in k)){const Cr=k.toDataURL(mi.type,mi.quality),ls=document.createElement("canvas");ls.width=k.width,ls.height=k.height,Cr!==ls.toDataURL(mi.type,mi.quality)&&(dr.rr_dataURL=Cr)}if("img"===xr&&hi){bt||(bt=fe.createElement("canvas"),Ft=bt.getContext("2d"));const Cr=k,ls=Cr.crossOrigin;Cr.crossOrigin="anonymous";const cs=()=>{Cr.removeEventListener("load",cs);try{bt.width=Cr.naturalWidth,bt.height=Cr.naturalHeight,Ft.drawImage(Cr,0,0),dr.rr_dataURL=bt.toDataURL(mi.type,mi.quality)}catch(qo){console.warn(`Cannot inline img src=${Cr.currentSrc}! Error: ${qo}`)}ls?dr.crossOrigin=ls:Cr.removeAttribute("crossorigin")};Cr.complete&&0!==Cr.naturalWidth?cs():Cr.addEventListener("load",cs)}if(("audio"===xr||"video"===xr)&&(dr.rr_mediaState=k.paused?"paused":"played",dr.rr_mediaCurrentTime=k.currentTime),Un||(k.scrollLeft&&(dr.rr_scrollLeft=k.scrollLeft),k.scrollTop&&(dr.rr_scrollTop=k.scrollTop)),qr){const{width:Cr,height:ls}=k.getBoundingClientRect();dr={class:dr.class,rr_width:`${Cr}px`,rr_height:`${ls}px`}}let ca;"iframe"===xr&&!Si(dr.src)&&(!qr&&!k.contentDocument&&(dr.rr_src=dr.src),delete dr.src);try{customElements.get(xr)&&(ca=!0)}catch{}return{type:ut.Element,tagName:xr,attributes:dr,childNodes:[],isSVG:ur(k)||void 0,needBlock:qr,rootId:_i,isCustom:ca}}(k,{doc:fe,blockClass:At,blockSelector:Yt,unblockSelector:_n,inlineStylesheet:Si,maskAttributeFn:Cn,maskInputOptions:Un,maskInputFn:nr,dataURLOptions:er,inlineImages:Wr,recordCanvas:xs,keepIframeSrcFn:Ls,newlyAddedElement:qr,rootId:xr,maskAllText:Bn,maskTextClass:Xn,unmaskTextClass:mi,maskTextSelector:hi,unmaskTextSelector:xi});case k.TEXT_NODE:return function ii(k,V){const{maskAllText:fe,maskTextClass:qe,unmaskTextClass:At,maskTextSelector:Yt,unmaskTextSelector:_n,maskTextFn:Bn,maskInputOptions:Cn,maskInputFn:Xn,rootId:mi}=V,hi=k.parentNode&&k.parentNode.tagName;let xi=k.textContent;const Si="STYLE"===hi||void 0,Un="SCRIPT"===hi||void 0,_i="TEXTAREA"===hi||void 0;if(Si&&xi){try{k.nextSibling||k.previousSibling||ct([k,"access",er=>er.parentNode,"access",er=>er.sheet,"optionalAccess",er=>er.cssRules])&&(xi=nn(k.parentNode.sheet))}catch(er){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${er}`,k)}xi=zi(xi,or())}Un&&(xi="SCRIPT_PLACEHOLDER");const nr=ss(k,qe,Yt,At,_n,fe);return!Si&&!Un&&!_i&&xi&&nr&&(xi=Bn?Bn(xi,k.parentElement):xi.replace(/[\S]/g,"*")),_i&&xi&&(Cn.textarea||nr)&&(xi=Xn?Xn(xi,k.parentNode):xi.replace(/[\S]/g,"*")),"OPTION"===hi&&xi&&(xi=vn({isMasked:ss(k,qe,Yt,At,_n,$t({type:null,tagName:hi,maskInputOptions:Cn})),element:k,value:xi,maskInputFn:Xn})),{type:ut.Text,textContent:xi||"",isStyle:Si,rootId:mi}}(k,{maskAllText:Bn,maskTextClass:Xn,unmaskTextClass:mi,maskTextSelector:hi,unmaskTextSelector:xi,maskTextFn:_i,maskInputOptions:Un,maskInputFn:nr,rootId:xr});case k.CDATA_SECTION_NODE:return{type:ut.CDATA,textContent:"",rootId:xr};case k.COMMENT_NODE:return{type:ut.Comment,textContent:k.textContent||"",rootId:xr};default:return!1}}(k,{doc:fe,mirror:qe,blockClass:At,blockSelector:Yt,maskAllText:Bn,unblockSelector:_n,maskTextClass:Cn,unmaskTextClass:Xn,maskTextSelector:mi,unmaskTextSelector:hi,inlineStylesheet:Si,maskInputOptions:Un,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,dataURLOptions:xs,inlineImages:Ls,recordCanvas:qr,keepIframeSrcFn:ls,newlyAddedElement:cs});if(!Qo)return console.warn(k,"not serialized"),null;let Qa;Qa=qe.hasNode(k)?qe.getId(k):function ne(k,V){if(V.comment&&k.type===ut.Comment)return!0;if(k.type===ut.Element){if(V.script&&("script"===k.tagName||"link"===k.tagName&&("preload"===k.attributes.rel||"modulepreload"===k.attributes.rel)&&"script"===k.attributes.as||"link"===k.tagName&&"prefetch"===k.attributes.rel&&"string"==typeof k.attributes.href&&"js"===pt(k.attributes.href)))return!0;if(V.headFavicon&&("link"===k.tagName&&"shortcut icon"===k.attributes.rel||"meta"===k.tagName&&(Mt(k.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Mt(k.attributes.name)||"icon"===Mt(k.attributes.rel)||"apple-touch-icon"===Mt(k.attributes.rel)||"shortcut icon"===Mt(k.attributes.rel))))return!0;if("meta"===k.tagName){if(V.headMetaDescKeywords&&Mt(k.attributes.name).match(/^description|keywords$/))return!0;if(V.headMetaSocial&&(Mt(k.attributes.property).match(/^(og|twitter|fb):/)||Mt(k.attributes.name).match(/^(og|twitter):/)||"pinterest"===Mt(k.attributes.name)))return!0;if(V.headMetaRobots&&("robots"===Mt(k.attributes.name)||"googlebot"===Mt(k.attributes.name)||"bingbot"===Mt(k.attributes.name)))return!0;if(V.headMetaHttpEquiv&&void 0!==k.attributes["http-equiv"])return!0;if(V.headMetaAuthorship&&("author"===Mt(k.attributes.name)||"generator"===Mt(k.attributes.name)||"framework"===Mt(k.attributes.name)||"publisher"===Mt(k.attributes.name)||"progid"===Mt(k.attributes.name)||Mt(k.attributes.property).match(/^article:/)||Mt(k.attributes.property).match(/^product:/)))return!0;if(V.headMetaVerification&&("google-site-verification"===Mt(k.attributes.name)||"yandex-verification"===Mt(k.attributes.name)||"csrf-token"===Mt(k.attributes.name)||"p:domain_verify"===Mt(k.attributes.name)||"verify-v1"===Mt(k.attributes.name)||"verification"===Mt(k.attributes.name)||"shopify-checkout-api-token"===Mt(k.attributes.name)))return!0}}return!1}(Qo,Wr)||!qo&&Qo.type===ut.Text&&!Qo.isStyle&&!Qo.textContent.replace(/^\s+|\s+$/gm,"").length?lt:Te();const Ds=Object.assign(Qo,{id:Qa});if(qe.add(k,Ds),Qa===lt)return null;xr&&xr(k);let Kc=!xi;if(Ds.type===ut.Element){Kc=Kc&&!Ds.needBlock,delete Ds.needBlock;const Do=k.shadowRoot;Do&&pe(Do)&&(Ds.isShadowHost=!0)}if((Ds.type===ut.Document||Ds.type===ut.Element)&&Kc){Wr.headWhitespace&&Ds.type===ut.Element&&"head"===Ds.tagName&&(qo=!1);const Do={doc:fe,mirror:qe,blockClass:At,blockSelector:Yt,maskAllText:Bn,unblockSelector:_n,maskTextClass:Cn,unmaskTextClass:Xn,maskTextSelector:mi,unmaskTextSelector:hi,skipChild:xi,inlineStylesheet:Si,maskInputOptions:Un,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOMOptions:Wr,dataURLOptions:xs,inlineImages:Ls,recordCanvas:qr,preserveWhiteSpace:qo,onSerialize:xr,onIframeLoad:dr,iframeLoadTimeout:Xi,onStylesheetLoad:ca,stylesheetLoadTimeout:Cr,keepIframeSrcFn:ls};for(const vc of Array.from(k.childNodes)){const Da=et(vc,Do);Da&&Ds.childNodes.push(Da)}if(function Z(k){return k.nodeType===k.ELEMENT_NODE}(k)&&k.shadowRoot)for(const vc of Array.from(k.shadowRoot.childNodes)){const Da=et(vc,Do);Da&&(pe(k.shadowRoot)&&(Da.isShadow=!0),Ds.childNodes.push(Da))}}return k.parentNode&&Fe(k.parentNode)&&pe(k.parentNode)&&(Ds.isShadow=!0),Ds.type===ut.Element&&"iframe"===Ds.tagName&&function Yi(k,V,fe){const qe=k.contentWindow;if(!qe)return;let Yt,At=!1;try{Yt=qe.document.readyState}catch{return}if("complete"!==Yt){const Bn=Be(()=>{At||(V(),At=!0)},fe);return void k.addEventListener("load",()=>{gt(Bn),At=!0,V()})}const _n="about:blank";if(qe.location.href!==_n||k.src===_n||""===k.src)return Be(V,0),k.addEventListener("load",V);k.addEventListener("load",V)}(k,()=>{const Do=k.contentDocument;if(Do&&dr){const vc=et(Do,{doc:Do,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Bn,maskTextClass:Cn,unmaskTextClass:Xn,maskTextSelector:mi,unmaskTextSelector:hi,skipChild:!1,inlineStylesheet:Si,maskInputOptions:Un,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOMOptions:Wr,dataURLOptions:xs,inlineImages:Ls,recordCanvas:qr,preserveWhiteSpace:qo,onSerialize:xr,onIframeLoad:dr,iframeLoadTimeout:Xi,onStylesheetLoad:ca,stylesheetLoadTimeout:Cr,keepIframeSrcFn:ls});vc&&dr(k,vc)}},Xi),Ds.type===ut.Element&&"link"===Ds.tagName&&"string"==typeof Ds.attributes.rel&&("stylesheet"===Ds.attributes.rel||"preload"===Ds.attributes.rel&&"string"==typeof Ds.attributes.href&&"css"===pt(Ds.attributes.href))&&function ar(k,V,fe){let At,qe=!1;try{At=k.sheet}catch{return}if(At)return;const Yt=Be(()=>{qe||(V(),qe=!0)},fe);k.addEventListener("load",()=>{gt(Yt),qe=!0,V()})}(k,()=>{if(ca){const Do=et(k,{doc:fe,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Bn,maskTextClass:Cn,unmaskTextClass:Xn,maskTextSelector:mi,unmaskTextSelector:hi,skipChild:!1,inlineStylesheet:Si,maskInputOptions:Un,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOMOptions:Wr,dataURLOptions:xs,inlineImages:Ls,recordCanvas:qr,preserveWhiteSpace:qo,onSerialize:xr,onIframeLoad:dr,iframeLoadTimeout:Xi,onStylesheetLoad:ca,stylesheetLoadTimeout:Cr,keepIframeSrcFn:ls});Do&&ca(k,Do)}},Cr),Ds}function kt(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}function Bt(k,V,fe=document){const qe={capture:!0,passive:!0};return fe.addEventListener(k,V,qe),()=>fe.removeEventListener(k,V,qe)}const Zn="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Li={map:{},getId:()=>(console.error(Zn),-1),getNode:()=>(console.error(Zn),null),removeNodeFromMap(){console.error(Zn)},has:()=>(console.error(Zn),!1),reset(){console.error(Zn)}};function lr(k,V,fe={}){let qe=null,At=0;return function(...Yt){const _n=Date.now();!At&&!1===fe.leading&&(At=_n);const Bn=V-(_n-At),Cn=this;Bn<=0||Bn>V?(qe&&(function Bl(...k){Ra("clearTimeout")(...k)}(qe),qe=null),At=_n,k.apply(Cn,Yt)):!qe&&!1!==fe.trailing&&(qe=Na(()=>{At=!1===fe.leading?0:Date.now(),qe=null,k.apply(Cn,Yt)},Bn))}}function kr(k,V,fe,qe,At=window){const Yt=At.Object.getOwnPropertyDescriptor(k,V);return At.Object.defineProperty(k,V,qe?fe:{set(_n){Na(()=>{fe.set.call(this,_n)},0),Yt&&Yt.set&&Yt.set.call(this,_n)}}),()=>kr(k,V,Yt||{},!0)}function Lr(k,V,fe){try{if(!(V in k))return()=>{};const qe=k[V],At=fe(qe);return"function"==typeof At&&(At.prototype=At.prototype||{},Object.defineProperties(At,{__rrweb_original__:{enumerable:!1,value:qe}})),k[V]=At,()=>{k[V]=qe}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(Li=new Proxy(Li,{get:(k,V,fe)=>("map"===V&&console.error(Zn),Reflect.get(k,V,fe))}));let Zr=Date.now;function ds(k){const V=k.document;return{left:V.scrollingElement?V.scrollingElement.scrollLeft:void 0!==k.pageXOffset?k.pageXOffset:kt([V,"optionalAccess",fe=>fe.documentElement,"access",fe=>fe.scrollLeft])||kt([V,"optionalAccess",fe=>fe.body,"optionalAccess",fe=>fe.parentElement,"optionalAccess",fe=>fe.scrollLeft])||kt([V,"optionalAccess",fe=>fe.body,"optionalAccess",fe=>fe.scrollLeft])||0,top:V.scrollingElement?V.scrollingElement.scrollTop:void 0!==k.pageYOffset?k.pageYOffset:kt([V,"optionalAccess",fe=>fe.documentElement,"access",fe=>fe.scrollTop])||kt([V,"optionalAccess",fe=>fe.body,"optionalAccess",fe=>fe.parentElement,"optionalAccess",fe=>fe.scrollTop])||kt([V,"optionalAccess",fe=>fe.body,"optionalAccess",fe=>fe.scrollTop])||0}}function Os(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Er(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Jr(k){return k?k.nodeType===k.ELEMENT_NODE?k:k.parentElement:null}function Ss(k,V,fe,qe,At){if(!k)return!1;const Yt=Jr(k);if(!Yt)return!1;const _n=Cs(V,fe);if(!At){const Xn=qe&&Yt.matches(qe);return _n(Yt)&&!Xn}const Bn=ys(Yt,_n);let Cn=-1;return!(Bn<0)&&(qe&&(Cn=ys(Yt,Cs(null,qe))),Bn>-1&&Cn<0||Bn<Cn)}function Vr(k,V){return V.getId(k)===lt}function Io(k,V){if(Fe(k))return!1;const fe=V.getId(k);return!V.has(fe)||(!k.parentNode||k.parentNode.nodeType!==k.DOCUMENT_NODE)&&(!k.parentNode||Io(k.parentNode,V))}function Ho(k){return!!k.changedTouches}function Tl(k,V){return!("IFRAME"!==k.nodeName||!V.getMeta(k))}function Ga(k,V){return!("LINK"!==k.nodeName||k.nodeType!==k.ELEMENT_NODE||!k.getAttribute||"stylesheet"!==k.getAttribute("rel")||!V.getMeta(k))}function Ka(k){return!!kt([k,"optionalAccess",V=>V.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(Zr=()=>(new Date).getTime());class _a{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(V){return function A(k,V){return k??V()}(this.styleIDMap.get(V),()=>-1)}has(V){return this.styleIDMap.has(V)}add(V,fe){if(this.has(V))return this.getId(V);let qe;return qe=void 0===fe?this.id++:fe,this.styleIDMap.set(V,qe),this.idStyleMap.set(qe,V),qe}getStyle(V){return this.idStyleMap.get(V)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ea(k){let V=null;return kt([k,"access",fe=>fe.getRootNode,"optionalCall",fe=>fe(),"optionalAccess",fe=>fe.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&k.getRootNode().host&&(V=k.getRootNode().host),V}function Oa(k){const V=k.ownerDocument;return!!V&&(V.contains(k)||function kl(k){const V=k.ownerDocument;if(!V)return!1;const fe=function yl(k){let fe,V=k;for(;fe=ea(V);)V=fe;return V}(k);return V.contains(fe)}(k))}const ya={};function Ra(k){const V=ya[k];if(V)return V;const fe=window.document;let qe=window[k];if(fe&&"function"==typeof fe.createElement)try{const At=fe.createElement("iframe");At.hidden=!0,fe.head.appendChild(At);const Yt=At.contentWindow;Yt&&Yt[k]&&(qe=Yt[k]),fe.head.removeChild(At)}catch{}return ya[k]=qe.bind(window)}function Na(...k){return Ra("setTimeout")(...k)}var $r=(k=>(k[k.DomContentLoaded=0]="DomContentLoaded",k[k.Load=1]="Load",k[k.FullSnapshot=2]="FullSnapshot",k[k.IncrementalSnapshot=3]="IncrementalSnapshot",k[k.Meta=4]="Meta",k[k.Custom=5]="Custom",k[k.Plugin=6]="Plugin",k))($r||{}),Rr=(k=>(k[k.Mutation=0]="Mutation",k[k.MouseMove=1]="MouseMove",k[k.MouseInteraction=2]="MouseInteraction",k[k.Scroll=3]="Scroll",k[k.ViewportResize=4]="ViewportResize",k[k.Input=5]="Input",k[k.TouchMove=6]="TouchMove",k[k.MediaInteraction=7]="MediaInteraction",k[k.StyleSheetRule=8]="StyleSheetRule",k[k.CanvasMutation=9]="CanvasMutation",k[k.Font=10]="Font",k[k.Log=11]="Log",k[k.Drag=12]="Drag",k[k.StyleDeclaration=13]="StyleDeclaration",k[k.Selection=14]="Selection",k[k.AdoptedStyleSheet=15]="AdoptedStyleSheet",k[k.CustomElement=16]="CustomElement",k))(Rr||{}),so=(k=>(k[k.MouseUp=0]="MouseUp",k[k.MouseDown=1]="MouseDown",k[k.Click=2]="Click",k[k.ContextMenu=3]="ContextMenu",k[k.DblClick=4]="DblClick",k[k.Focus=5]="Focus",k[k.Blur=6]="Blur",k[k.TouchStart=7]="TouchStart",k[k.TouchMove_Departed=8]="TouchMove_Departed",k[k.TouchEnd=9]="TouchEnd",k[k.TouchCancel=10]="TouchCancel",k))(so||{}),Hs=(k=>(k[k.Mouse=0]="Mouse",k[k.Pen=1]="Pen",k[k.Touch=2]="Touch",k))(Hs||{});function Ql(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}function ta(k){return"__ln"in k}class Gs{constructor(){this.length=0,this.head=null,this.tail=null}get(V){if(V>=this.length)throw new Error("Position outside of list range");let fe=this.head;for(let qe=0;qe<V;qe++)fe=Ql([fe,"optionalAccess",At=>At.next])||null;return fe}addNode(V){const fe={value:V,previous:null,next:null};if(V.__ln=fe,V.previousSibling&&ta(V.previousSibling)){const qe=V.previousSibling.__ln.next;fe.next=qe,fe.previous=V.previousSibling.__ln,V.previousSibling.__ln.next=fe,qe&&(qe.previous=fe)}else if(V.nextSibling&&ta(V.nextSibling)&&V.nextSibling.__ln.previous){const qe=V.nextSibling.__ln.previous;fe.previous=qe,fe.next=V.nextSibling.__ln,V.nextSibling.__ln.previous=fe,qe&&(qe.next=fe)}else this.head&&(this.head.previous=fe),fe.next=this.head,this.head=fe;null===fe.next&&(this.tail=fe),this.length++}removeNode(V){const fe=V.__ln;this.head&&(fe.previous?(fe.previous.next=fe.next,fe.next?fe.next.previous=fe.previous:this.tail=fe.previous):(this.head=fe.next,this.head?this.head.previous=null:this.tail=null),V.__ln&&delete V.__ln,this.length--)}}const oo=(k,V)=>`${k}@${V}`;class va{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=V=>{V.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const V=[],fe=new Set,qe=new Gs,At=Cn=>{let Xn=Cn,mi=lt;for(;mi===lt;)Xn=Xn&&Xn.nextSibling,mi=Xn&&this.mirror.getId(Xn);return mi},Yt=Cn=>{if(!Cn.parentNode||!Oa(Cn))return;const Xn=Fe(Cn.parentNode)?this.mirror.getId(ea(Cn)):this.mirror.getId(Cn.parentNode),mi=At(Cn);if(-1===Xn||-1===mi)return qe.addNode(Cn);const hi=et(Cn,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:xi=>{Tl(xi,this.mirror)&&this.iframeManager.addIframe(xi),Ga(xi,this.mirror)&&this.stylesheetManager.trackLinkElement(xi),Ka(Cn)&&this.shadowDomManager.addShadowRoot(Cn.shadowRoot,this.doc)},onIframeLoad:(xi,Si)=>{this.iframeManager.attachIframe(xi,Si),xi.contentWindow&&this.canvasManager.addWindow(xi.contentWindow),this.shadowDomManager.observeAttachShadow(xi)},onStylesheetLoad:(xi,Si)=>{this.stylesheetManager.attachLinkElement(xi,Si)}});hi&&(V.push({parentId:Xn,nextId:mi,node:hi}),fe.add(hi.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const Cn of this.movedSet)rl(this.removes,Cn,this.mirror)&&!this.movedSet.has(Cn.parentNode)||Yt(Cn);for(const Cn of this.addedSet)!wo(this.droppedSet,Cn)&&!rl(this.removes,Cn,this.mirror)||wo(this.movedSet,Cn)?Yt(Cn):this.droppedSet.add(Cn);let _n=null;for(;qe.length;){let Cn=null;if(_n){const Xn=this.mirror.getId(_n.value.parentNode),mi=At(_n.value);-1!==Xn&&-1!==mi&&(Cn=_n)}if(!Cn){let Xn=qe.tail;for(;Xn;){const mi=Xn;if(Xn=Xn.previous,mi){const hi=this.mirror.getId(mi.value.parentNode);if(-1===At(mi.value))continue;if(-1!==hi){Cn=mi;break}{const Si=mi.value;if(Si.parentNode&&Si.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(Si.parentNode.host)){Cn=mi;break}}}}}if(!Cn){for(;qe.head;)qe.removeNode(qe.head.value);break}_n=Cn.previous,qe.removeNode(Cn.value),Yt(Cn.value)}const Bn={texts:this.texts.map(Cn=>({id:this.mirror.getId(Cn.node),value:Cn.value})).filter(Cn=>!fe.has(Cn.id)).filter(Cn=>this.mirror.has(Cn.id)),attributes:this.attributes.map(Cn=>{const{attributes:Xn}=Cn;if("string"==typeof Xn.style){const mi=JSON.stringify(Cn.styleDiff),hi=JSON.stringify(Cn._unchangedStyles);mi.length<Xn.style.length&&(mi+hi).split("var(").length===Xn.style.split("var(").length&&(Xn.style=Cn.styleDiff)}return{id:this.mirror.getId(Cn.node),attributes:Xn}}).filter(Cn=>!fe.has(Cn.id)).filter(Cn=>this.mirror.has(Cn.id)),removes:this.removes,adds:V};!Bn.texts.length&&!Bn.attributes.length&&!Bn.removes.length&&!Bn.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(Bn))},this.processMutation=V=>{if(!Vr(V.target,this.mirror))switch(V.type){case"characterData":{const fe=V.target.textContent;!Ss(V.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&fe!==V.oldValue&&this.texts.push({value:ss(V.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&fe?this.maskTextFn?this.maskTextFn(fe,Jr(V.target)):fe.replace(/[\S]/g,"*"):fe,node:V.target});break}case"attributes":{const fe=V.target;let qe=V.attributeName,At=V.target.getAttribute(qe);if("value"===qe){const _n=En(fe),Bn=fe.tagName;At=Kn(fe,Bn,_n);const Cn=$t({maskInputOptions:this.maskInputOptions,tagName:Bn,type:_n});At=vn({isMasked:ss(V.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,Cn),element:fe,value:At,maskInputFn:this.maskInputFn})}if(Ss(V.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||At===V.oldValue)return;let Yt=this.attributeMap.get(V.target);if("IFRAME"===fe.tagName&&"src"===qe&&!this.keepIframeSrcFn(At)){if(fe.contentDocument)return;qe="rr_src"}if(Yt||(Yt={node:V.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Yt),this.attributeMap.set(V.target,Yt)),"type"===qe&&"INPUT"===fe.tagName&&"password"===(V.oldValue||"").toLowerCase()&&fe.setAttribute("data-rr-is-password","true"),!Hr(fe.tagName,qe)&&(Yt.attributes[qe]=Tr(this.doc,Nn(fe.tagName),Nn(qe),At,fe,this.maskAttributeFn),"style"===qe)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const _n=this.unattachedDoc.createElement("span");V.oldValue&&_n.setAttribute("style",V.oldValue);for(const Bn of Array.from(fe.style)){const Cn=fe.style.getPropertyValue(Bn),Xn=fe.style.getPropertyPriority(Bn);Cn!==_n.style.getPropertyValue(Bn)||Xn!==_n.style.getPropertyPriority(Bn)?Yt.styleDiff[Bn]=""===Xn?Cn:[Cn,Xn]:Yt._unchangedStyles[Bn]=[Cn,Xn]}for(const Bn of Array.from(_n.style))""===fe.style.getPropertyValue(Bn)&&(Yt.styleDiff[Bn]=!1)}break}case"childList":if(Ss(V.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;V.addedNodes.forEach(fe=>this.genAdds(fe,V.target)),V.removedNodes.forEach(fe=>{const qe=this.mirror.getId(fe),At=Fe(V.target)?this.mirror.getId(V.target.host):this.mirror.getId(V.target);Ss(V.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Vr(fe,this.mirror)||!function Jo(k,V){return-1!==V.getId(k)}(fe,this.mirror)||(this.addedSet.has(fe)?(Po(this.addedSet,fe),this.droppedSet.add(fe)):this.addedSet.has(V.target)&&-1===qe||Io(V.target,this.mirror)||(this.movedSet.has(fe)&&this.movedMap[oo(qe,At)]?Po(this.movedSet,fe):this.removes.push({parentId:At,id:qe,isShadow:!(!Fe(V.target)||!pe(V.target))||void 0})),this.mapRemoves.push(fe))})}},this.genAdds=(V,fe)=>{if(!this.processedNodeManager.inOtherBuffer(V,this)&&!this.addedSet.has(V)&&!this.movedSet.has(V)){if(this.mirror.hasNode(V)){if(Vr(V,this.mirror))return;this.movedSet.add(V);let qe=null;fe&&this.mirror.hasNode(fe)&&(qe=this.mirror.getId(fe)),qe&&-1!==qe&&(this.movedMap[oo(this.mirror.getId(V),qe)]=!0)}else this.addedSet.add(V),this.droppedSet.delete(V);Ss(V,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(V.childNodes.forEach(qe=>this.genAdds(qe)),Ka(V)&&V.shadowRoot.childNodes.forEach(qe=>{this.processedNodeManager.add(qe,this),this.genAdds(qe,V)}))}}}init(V){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(fe=>{this[fe]=V[fe]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Po(k,V){k.delete(V),V.childNodes.forEach(fe=>Po(k,fe))}function rl(k,V,fe){return 0!==k.length&&bo(k,V,fe)}function bo(k,V,fe){const{parentNode:qe}=V;if(!qe)return!1;const At=fe.getId(qe);return!!k.some(Yt=>Yt.id===At)||bo(k,qe,fe)}function wo(k,V){return 0!==k.size&&Pa(k,V)}function Pa(k,V){const{parentNode:fe}=V;return!!fe&&(!!k.has(fe)||Pa(k,fe))}let Go;const Ar=k=>Go?(...fe)=>{try{return k(...fe)}catch(qe){if(Go&&!0===Go(qe))return()=>{};throw qe}}:k;function vs(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}const na=[];function po(k){try{if("composedPath"in k){const V=k.composedPath();if(V.length)return V[0]}else if("path"in k&&k.path.length)return k.path[0]}catch{}return k&&k.target}function Xa(k,V){const fe=new va;na.push(fe),fe.init(k);let qe=window.MutationObserver||window.__rrMutationObserver;const At=vs([window,"optionalAccess",_n=>_n.Zone,"optionalAccess",_n=>_n.__symbol__,"optionalCall",_n=>_n("MutationObserver")]);At&&window[At]&&(qe=window[At]);const Yt=new qe(Ar(_n=>{k.onMutation&&!1===k.onMutation(_n)||fe.processMutations.bind(fe)(_n)}));return Yt.observe(V,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),Yt}function Oi({scrollCb:k,doc:V,mirror:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,sampling:_n}){return Bt("scroll",Ar(lr(Ar(Cn=>{const Xn=po(Cn);if(!Xn||Ss(Xn,qe,At,Yt,!0))return;const mi=fe.getId(Xn);if(Xn===V&&V.defaultView){const hi=ds(V.defaultView);k({id:mi,x:hi.left,y:hi.top})}else k({id:mi,x:Xn.scrollLeft,y:Xn.scrollTop})}),_n.scroll||100)),V)}const mo=["INPUT","TEXTAREA","SELECT"],Fo=new WeakMap;function Zl({inputCb:k,doc:V,mirror:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,ignoreClass:_n,ignoreSelector:Bn,maskInputOptions:Cn,maskInputFn:Xn,sampling:mi,userTriggeredOnInput:hi,maskTextClass:xi,unmaskTextClass:Si,maskTextSelector:Un,unmaskTextSelector:_i}){function nr(dr){let Xi=po(dr);const ca=dr.isTrusted,Cr=Xi&&Ni(Xi.tagName);if("OPTION"===Cr&&(Xi=Xi.parentElement),!Xi||!Cr||mo.indexOf(Cr)<0||Ss(Xi,qe,At,Yt,!0))return;const ls=Xi;if(ls.classList.contains(_n)||Bn&&ls.matches(Bn))return;const cs=En(Xi);let qo=Kn(ls,Cr,cs),Qo=!1;const Qa=$t({maskInputOptions:Cn,tagName:Cr,type:cs}),Ds=ss(Xi,xi,Un,Si,_i,Qa);("radio"===cs||"checkbox"===cs)&&(Qo=Xi.checked),qo=vn({isMasked:Ds,element:Xi,value:qo,maskInputFn:Xn}),er(Xi,hi?{text:qo,isChecked:Qo,userTriggered:ca}:{text:qo,isChecked:Qo});const Kc=Xi.name;"radio"===cs&&Kc&&Qo&&V.querySelectorAll(`input[type="radio"][name="${Kc}"]`).forEach(Do=>{if(Do!==Xi){const vc=vn({isMasked:Ds,element:Do,value:Kn(Do,Cr,cs),maskInputFn:Xn});er(Do,hi?{text:vc,isChecked:!Qo,userTriggered:!1}:{text:vc,isChecked:!Qo})}})}function er(dr,Xi){const ca=Fo.get(dr);if(!ca||ca.text!==Xi.text||ca.isChecked!==Xi.isChecked){Fo.set(dr,Xi);const Cr=fe.getId(dr);Ar(k)({...Xi,id:Cr})}}const xs=("last"===mi.input?["change"]:["input","change"]).map(dr=>Bt(dr,Ar(nr),V)),Ls=V.defaultView;if(!Ls)return()=>{xs.forEach(dr=>dr())};const qr=Ls.Object.getOwnPropertyDescriptor(Ls.HTMLInputElement.prototype,"value");return qr&&qr.set&&xs.push(...[[Ls.HTMLInputElement.prototype,"value"],[Ls.HTMLInputElement.prototype,"checked"],[Ls.HTMLSelectElement.prototype,"value"],[Ls.HTMLTextAreaElement.prototype,"value"],[Ls.HTMLSelectElement.prototype,"selectedIndex"],[Ls.HTMLOptionElement.prototype,"selected"]].map(dr=>kr(dr[0],dr[1],{set(){Ar(nr)({target:this,isTrusted:!1})}},!1,Ls))),Ar(()=>{xs.forEach(dr=>dr())})}function jo(k){return function fe(qe,At){if(Rs("CSSGroupingRule")&&qe.parentRule instanceof CSSGroupingRule||Rs("CSSMediaRule")&&qe.parentRule instanceof CSSMediaRule||Rs("CSSSupportsRule")&&qe.parentRule instanceof CSSSupportsRule||Rs("CSSConditionRule")&&qe.parentRule instanceof CSSConditionRule){const _n=Array.from(qe.parentRule.cssRules).indexOf(qe);At.unshift(_n)}else if(qe.parentStyleSheet){const _n=Array.from(qe.parentStyleSheet.cssRules).indexOf(qe);At.unshift(_n)}return At}(k,[])}function Ys(k,V,fe){let qe,At;return k?(k.ownerNode?qe=V.getId(k.ownerNode):At=fe.getId(k),{styleId:At,id:qe}):{}}function ia({mirror:k,stylesheetManager:V},fe){let qe=null;qe=k.getId("#document"===fe.nodeName?fe:fe.host);const At=vs("#document"===fe.nodeName?[fe,"access",_n=>_n.defaultView,"optionalAccess",_n=>_n.Document]:[fe,"access",_n=>_n.ownerDocument,"optionalAccess",_n=>_n.defaultView,"optionalAccess",_n=>_n.ShadowRoot]),Yt=vs([At,"optionalAccess",_n=>_n.prototype])?Object.getOwnPropertyDescriptor(vs([At,"optionalAccess",_n=>_n.prototype]),"adoptedStyleSheets"):void 0;return null!==qe&&-1!==qe&&At&&Yt?(Object.defineProperty(fe,"adoptedStyleSheets",{configurable:Yt.configurable,enumerable:Yt.enumerable,get(){return vs([Yt,"access",_n=>_n.get,"optionalAccess",_n=>_n.call,"call",_n=>_n(this)])},set(_n){const Bn=vs([Yt,"access",Cn=>Cn.set,"optionalAccess",Cn=>Cn.call,"call",Cn=>Cn(this,_n)]);if(null!==qe&&-1!==qe)try{V.adoptStyleSheets(_n,qe)}catch{}return Bn}}),Ar(()=>{Object.defineProperty(fe,"adoptedStyleSheets",{configurable:Yt.configurable,enumerable:Yt.enumerable,get:Yt.get,set:Yt.set})})):()=>{}}function vl(k,V={}){const fe=k.doc.defaultView;if(!fe)return()=>{};let qe;k.recordDOM&&(qe=Xa(k,k.doc));const At=function Ya({mousemoveCb:k,sampling:V,doc:fe,mirror:qe}){if(!1===V.mousemove)return()=>{};const At="number"==typeof V.mousemove?V.mousemove:50,Yt="number"==typeof V.mousemoveCallback?V.mousemoveCallback:500;let Bn,_n=[];const Cn=lr(Ar(hi=>{const xi=Date.now()-Bn;k(_n.map(Si=>(Si.timeOffset-=xi,Si)),hi),_n=[],Bn=null}),Yt),Xn=Ar(lr(Ar(hi=>{const xi=po(hi),{clientX:Si,clientY:Un}=Ho(hi)?hi.changedTouches[0]:hi;Bn||(Bn=Zr()),_n.push({x:Si,y:Un,id:qe.getId(xi),timeOffset:Zr()-Bn}),Cn(typeof DragEvent<"u"&&hi instanceof DragEvent?Rr.Drag:hi instanceof MouseEvent?Rr.MouseMove:Rr.TouchMove)}),At,{trailing:!1})),mi=[Bt("mousemove",Xn,fe),Bt("touchmove",Xn,fe),Bt("drag",Xn,fe)];return Ar(()=>{mi.forEach(hi=>hi())})}(k),Yt=function sl({mouseInteractionCb:k,doc:V,mirror:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,sampling:_n}){if(!1===_n.mouseInteraction)return()=>{};const Bn=!0===_n.mouseInteraction||void 0===_n.mouseInteraction?{}:_n.mouseInteraction,Cn=[];let Xn=null;return Object.keys(so).filter(hi=>Number.isNaN(Number(hi))&&!hi.endsWith("_Departed")&&!1!==Bn[hi]).forEach(hi=>{let xi=Nn(hi);const Si=(hi=>xi=>{const Si=po(xi);if(Ss(Si,qe,At,Yt,!0))return;let Un=null,_i=hi;if("pointerType"in xi){switch(xi.pointerType){case"mouse":Un=Hs.Mouse;break;case"touch":Un=Hs.Touch;break;case"pen":Un=Hs.Pen}Un===Hs.Touch&&(so[hi]===so.MouseDown?_i="TouchStart":so[hi]===so.MouseUp&&(_i="TouchEnd"))}else Ho(xi)&&(Un=Hs.Touch);null!==Un?(Xn=Un,(_i.startsWith("Touch")&&Un===Hs.Touch||_i.startsWith("Mouse")&&Un===Hs.Mouse)&&(Un=null)):so[hi]===so.Click&&(Un=Xn,Xn=null);const nr=Ho(xi)?xi.changedTouches[0]:xi;if(!nr)return;const er=fe.getId(Si),{clientX:Wr,clientY:xs}=nr;Ar(k)({type:so[_i],id:er,x:Wr,y:xs,...null!==Un&&{pointerType:Un}})})(hi);if(window.PointerEvent)switch(so[hi]){case so.MouseDown:case so.MouseUp:xi=xi.replace("mouse","pointer");break;case so.TouchStart:case so.TouchEnd:return}Cn.push(Bt(xi,Si,V))}),Ar(()=>{Cn.forEach(hi=>hi())})}(k),_n=Oi(k),Bn=function Ao({viewportResizeCb:k},{win:V}){let fe=-1,qe=-1;return Bt("resize",Ar(lr(Ar(()=>{const Yt=Os(),_n=Er();(fe!==Yt||qe!==_n)&&(k({width:Number(_n),height:Number(Yt)}),fe=Yt,qe=_n)}),200)),V)}(k,{win:fe}),Cn=Zl(k),Xn=function wa({mediaInteractionCb:k,blockClass:V,blockSelector:fe,unblockSelector:qe,mirror:At,sampling:Yt,doc:_n}){const Bn=Ar(Xn=>lr(Ar(mi=>{const hi=po(mi);if(!hi||Ss(hi,V,fe,qe,!0))return;const{currentTime:xi,volume:Si,muted:Un,playbackRate:_i}=hi;k({type:Xn,id:At.getId(hi),currentTime:xi,volume:Si,muted:Un,playbackRate:_i})}),Yt.media||500)),Cn=[Bt("play",Bn(0),_n),Bt("pause",Bn(1),_n),Bt("seeked",Bn(2),_n),Bt("volumechange",Bn(3),_n),Bt("ratechange",Bn(4),_n)];return Ar(()=>{Cn.forEach(Xn=>Xn())})}(k);let mi=()=>{},hi=()=>{},xi=()=>{},Si=()=>{};k.recordDOM&&(mi=function Ko({styleSheetRuleCb:k,mirror:V,stylesheetManager:fe},{win:qe}){if(!qe.CSSStyleSheet||!qe.CSSStyleSheet.prototype)return()=>{};const At=qe.CSSStyleSheet.prototype.insertRule;qe.CSSStyleSheet.prototype.insertRule=new Proxy(At,{apply:Ar((mi,hi,xi)=>{const[Si,Un]=xi,{id:_i,styleId:nr}=Ys(hi,V,fe.styleMirror);return(_i&&-1!==_i||nr&&-1!==nr)&&k({id:_i,styleId:nr,adds:[{rule:Si,index:Un}]}),mi.apply(hi,xi)})});const Yt=qe.CSSStyleSheet.prototype.deleteRule;let _n,Bn;qe.CSSStyleSheet.prototype.deleteRule=new Proxy(Yt,{apply:Ar((mi,hi,xi)=>{const[Si]=xi,{id:Un,styleId:_i}=Ys(hi,V,fe.styleMirror);return(Un&&-1!==Un||_i&&-1!==_i)&&k({id:Un,styleId:_i,removes:[{index:Si}]}),mi.apply(hi,xi)})}),qe.CSSStyleSheet.prototype.replace&&(_n=qe.CSSStyleSheet.prototype.replace,qe.CSSStyleSheet.prototype.replace=new Proxy(_n,{apply:Ar((mi,hi,xi)=>{const[Si]=xi,{id:Un,styleId:_i}=Ys(hi,V,fe.styleMirror);return(Un&&-1!==Un||_i&&-1!==_i)&&k({id:Un,styleId:_i,replace:Si}),mi.apply(hi,xi)})})),qe.CSSStyleSheet.prototype.replaceSync&&(Bn=qe.CSSStyleSheet.prototype.replaceSync,qe.CSSStyleSheet.prototype.replaceSync=new Proxy(Bn,{apply:Ar((mi,hi,xi)=>{const[Si]=xi,{id:Un,styleId:_i}=Ys(hi,V,fe.styleMirror);return(Un&&-1!==Un||_i&&-1!==_i)&&k({id:Un,styleId:_i,replaceSync:Si}),mi.apply(hi,xi)})}));const Cn={};al("CSSGroupingRule")?Cn.CSSGroupingRule=qe.CSSGroupingRule:(al("CSSMediaRule")&&(Cn.CSSMediaRule=qe.CSSMediaRule),al("CSSConditionRule")&&(Cn.CSSConditionRule=qe.CSSConditionRule),al("CSSSupportsRule")&&(Cn.CSSSupportsRule=qe.CSSSupportsRule));const Xn={};return Object.entries(Cn).forEach(([mi,hi])=>{Xn[mi]={insertRule:hi.prototype.insertRule,deleteRule:hi.prototype.deleteRule},hi.prototype.insertRule=new Proxy(Xn[mi].insertRule,{apply:Ar((xi,Si,Un)=>{const[_i,nr]=Un,{id:er,styleId:Wr}=Ys(Si.parentStyleSheet,V,fe.styleMirror);return(er&&-1!==er||Wr&&-1!==Wr)&&k({id:er,styleId:Wr,adds:[{rule:_i,index:[...jo(Si),nr||0]}]}),xi.apply(Si,Un)})}),hi.prototype.deleteRule=new Proxy(Xn[mi].deleteRule,{apply:Ar((xi,Si,Un)=>{const[_i]=Un,{id:nr,styleId:er}=Ys(Si.parentStyleSheet,V,fe.styleMirror);return(nr&&-1!==nr||er&&-1!==er)&&k({id:nr,styleId:er,removes:[{index:[...jo(Si),_i]}]}),xi.apply(Si,Un)})})}),Ar(()=>{qe.CSSStyleSheet.prototype.insertRule=At,qe.CSSStyleSheet.prototype.deleteRule=Yt,_n&&(qe.CSSStyleSheet.prototype.replace=_n),Bn&&(qe.CSSStyleSheet.prototype.replaceSync=Bn),Object.entries(Cn).forEach(([mi,hi])=>{hi.prototype.insertRule=Xn[mi].insertRule,hi.prototype.deleteRule=Xn[mi].deleteRule})})}(k,{win:fe}),hi=ia(k,k.doc),xi=function Fa({styleDeclarationCb:k,mirror:V,ignoreCSSAttributes:fe,stylesheetManager:qe},{win:At}){const Yt=At.CSSStyleDeclaration.prototype.setProperty;At.CSSStyleDeclaration.prototype.setProperty=new Proxy(Yt,{apply:Ar((Bn,Cn,Xn)=>{const[mi,hi,xi]=Xn;if(fe.has(mi))return Yt.apply(Cn,[mi,hi,xi]);const{id:Si,styleId:Un}=Ys(vs([Cn,"access",_i=>_i.parentRule,"optionalAccess",_i=>_i.parentStyleSheet]),V,qe.styleMirror);return(Si&&-1!==Si||Un&&-1!==Un)&&k({id:Si,styleId:Un,set:{property:mi,value:hi,priority:xi},index:jo(Cn.parentRule)}),Bn.apply(Cn,Xn)})});const _n=At.CSSStyleDeclaration.prototype.removeProperty;return At.CSSStyleDeclaration.prototype.removeProperty=new Proxy(_n,{apply:Ar((Bn,Cn,Xn)=>{const[mi]=Xn;if(fe.has(mi))return _n.apply(Cn,[mi]);const{id:hi,styleId:xi}=Ys(vs([Cn,"access",Si=>Si.parentRule,"optionalAccess",Si=>Si.parentStyleSheet]),V,qe.styleMirror);return(hi&&-1!==hi||xi&&-1!==xi)&&k({id:hi,styleId:xi,remove:{property:mi},index:jo(Cn.parentRule)}),Bn.apply(Cn,Xn)})}),Ar(()=>{At.CSSStyleDeclaration.prototype.setProperty=Yt,At.CSSStyleDeclaration.prototype.removeProperty=_n})}(k,{win:fe}),k.collectFonts&&(Si=function Lo({fontCb:k,doc:V}){const fe=V.defaultView;if(!fe)return()=>{};const qe=[],At=new WeakMap,Yt=fe.FontFace;fe.FontFace=function(Cn,Xn,mi){const hi=new Yt(Cn,Xn,mi);return At.set(hi,{family:Cn,buffer:"string"!=typeof Xn,descriptors:mi,fontSource:"string"==typeof Xn?Xn:JSON.stringify(Array.from(new Uint8Array(Xn)))}),hi};const _n=Lr(V.fonts,"add",function(Bn){return function(Cn){return Na(Ar(()=>{const Xn=At.get(Cn);Xn&&(k(Xn),At.delete(Cn))}),0),Bn.apply(this,[Cn])}});return qe.push(()=>{fe.FontFace=Yt}),qe.push(_n),Ar(()=>{qe.forEach(Bn=>Bn())})}(k)));const Un=function La(k){const{doc:V,mirror:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,selectionCb:_n}=k;let Bn=!0;const Cn=Ar(()=>{const Xn=V.getSelection();if(!Xn||Bn&&vs([Xn,"optionalAccess",xi=>xi.isCollapsed]))return;Bn=Xn.isCollapsed||!1;const mi=[],hi=Xn.rangeCount||0;for(let xi=0;xi<hi;xi++){const Si=Xn.getRangeAt(xi),{startContainer:Un,startOffset:_i,endContainer:nr,endOffset:er}=Si;Ss(Un,qe,At,Yt,!0)||Ss(nr,qe,At,Yt,!0)||mi.push({start:fe.getId(Un),startOffset:_i,end:fe.getId(nr),endOffset:er})}_n({ranges:mi})});return Cn(),Bt("selectionchange",Cn)}(k),_i=function ol({doc:k,customElementCb:V}){const fe=k.defaultView;return fe&&fe.customElements?Lr(fe.customElements,"define",function(At){return function(Yt,_n,Bn){try{V({define:{name:Yt}})}catch{}return At.apply(this,[Yt,_n,Bn])}}):()=>{}}(k),nr=[];for(const er of k.plugins)nr.push(er.observer(er.callback,fe,er.options));return Ar(()=>{na.forEach(er=>er.reset()),vs([qe,"optionalAccess",er=>er.disconnect,"call",er=>er()]),At(),Yt(),_n(),Bn(),Cn(),Xn(),mi(),hi(),xi(),Si(),Un(),_i(),nr.forEach(er=>er())})}function Rs(k){return typeof window[k]<"u"}function al(k){return!!(typeof window[k]<"u"&&window[k].prototype&&"insertRule"in window[k].prototype&&"deleteRule"in window[k].prototype)}class ra{constructor(V){this.generateIdFn=V,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(V,fe,qe,At){const Yt=qe||this.getIdToRemoteIdMap(V),_n=At||this.getRemoteIdToIdMap(V);let Bn=Yt.get(fe);return Bn||(Bn=this.generateIdFn(),Yt.set(fe,Bn),_n.set(Bn,fe)),Bn}getIds(V,fe){const qe=this.getIdToRemoteIdMap(V),At=this.getRemoteIdToIdMap(V);return fe.map(Yt=>this.getId(V,Yt,qe,At))}getRemoteId(V,fe,qe){const At=qe||this.getRemoteIdToIdMap(V);return"number"!=typeof fe?fe:At.get(fe)||-1}getRemoteIds(V,fe){const qe=this.getRemoteIdToIdMap(V);return fe.map(At=>this.getRemoteId(V,At,qe))}reset(V){if(!V)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(V),this.iframeRemoteIdToIdMap.delete(V)}getIdToRemoteIdMap(V){let fe=this.iframeIdToRemoteIdMap.get(V);return fe||(fe=new Map,this.iframeIdToRemoteIdMap.set(V,fe)),fe}getRemoteIdToIdMap(V){let fe=this.iframeRemoteIdToIdMap.get(V);return fe||(fe=new Map,this.iframeRemoteIdToIdMap.set(V,fe)),fe}}function es(k){let V,fe=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==fe)return;"access"===At||"optionalAccess"===At?(V=fe,fe=Yt(fe)):("call"===At||"optionalCall"===At)&&(fe=Yt((..._n)=>fe.call(V,..._n)),V=void 0)}return fe}class qa{constructor(){this.crossOriginIframeMirror=new ra(Te),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ao{constructor(V){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ra(Te),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=V.mutationCb,this.wrappedEmit=V.wrappedEmit,this.stylesheetManager=V.stylesheetManager,this.recordCrossOriginIframes=V.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ra(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=V.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(V){this.iframes.set(V,!0),V.contentWindow&&this.crossOriginIframeMap.set(V.contentWindow,V)}addLoadListener(V){this.loadListener=V}attachIframe(V,fe){this.mutationCb({adds:[{parentId:this.mirror.getId(V),nextId:null,node:fe}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),es([this,"access",qe=>qe.loadListener,"optionalCall",qe=>qe(V)]),V.contentDocument&&V.contentDocument.adoptedStyleSheets&&V.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(V.contentDocument.adoptedStyleSheets,this.mirror.getId(V.contentDocument))}handleMessage(V){const fe=V;if("rrweb"!==fe.data.type||fe.origin!==fe.data.origin||!V.source)return;const At=this.crossOriginIframeMap.get(V.source);if(!At)return;const Yt=this.transformCrossOriginEvent(At,fe.data.event);Yt&&this.wrappedEmit(Yt,fe.data.isCheckout)}transformCrossOriginEvent(V,fe){switch(fe.type){case $r.FullSnapshot:{this.crossOriginIframeMirror.reset(V),this.crossOriginIframeStyleMirror.reset(V),this.replaceIdOnNode(fe.data.node,V);const qe=fe.data.node.id;return this.crossOriginIframeRootIdMap.set(V,qe),this.patchRootIdOnNode(fe.data.node,qe),{timestamp:fe.timestamp,type:$r.IncrementalSnapshot,data:{source:Rr.Mutation,adds:[{parentId:this.mirror.getId(V),nextId:null,node:fe.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case $r.Meta:case $r.Load:case $r.DomContentLoaded:return!1;case $r.Plugin:return fe;case $r.Custom:return this.replaceIds(fe.data.payload,V,["id","parentId","previousId","nextId"]),fe;case $r.IncrementalSnapshot:switch(fe.data.source){case Rr.Mutation:return fe.data.adds.forEach(qe=>{this.replaceIds(qe,V,["parentId","nextId","previousId"]),this.replaceIdOnNode(qe.node,V);const At=this.crossOriginIframeRootIdMap.get(V);At&&this.patchRootIdOnNode(qe.node,At)}),fe.data.removes.forEach(qe=>{this.replaceIds(qe,V,["parentId","id"])}),fe.data.attributes.forEach(qe=>{this.replaceIds(qe,V,["id"])}),fe.data.texts.forEach(qe=>{this.replaceIds(qe,V,["id"])}),fe;case Rr.Drag:case Rr.TouchMove:case Rr.MouseMove:return fe.data.positions.forEach(qe=>{this.replaceIds(qe,V,["id"])}),fe;case Rr.ViewportResize:return!1;case Rr.MediaInteraction:case Rr.MouseInteraction:case Rr.Scroll:case Rr.CanvasMutation:case Rr.Input:return this.replaceIds(fe.data,V,["id"]),fe;case Rr.StyleSheetRule:case Rr.StyleDeclaration:return this.replaceIds(fe.data,V,["id"]),this.replaceStyleIds(fe.data,V,["styleId"]),fe;case Rr.Font:return fe;case Rr.Selection:return fe.data.ranges.forEach(qe=>{this.replaceIds(qe,V,["start","end"])}),fe;case Rr.AdoptedStyleSheet:return this.replaceIds(fe.data,V,["id"]),this.replaceStyleIds(fe.data,V,["styleIds"]),es([fe,"access",qe=>qe.data,"access",qe=>qe.styles,"optionalAccess",qe=>qe.forEach,"call",qe=>qe(At=>{this.replaceStyleIds(At,V,["styleId"])})]),fe}}return!1}replace(V,fe,qe,At){for(const Yt of At)!Array.isArray(fe[Yt])&&"number"!=typeof fe[Yt]||(fe[Yt]=Array.isArray(fe[Yt])?V.getIds(qe,fe[Yt]):V.getId(qe,fe[Yt]));return fe}replaceIds(V,fe,qe){return this.replace(this.crossOriginIframeMirror,V,fe,qe)}replaceStyleIds(V,fe,qe){return this.replace(this.crossOriginIframeStyleMirror,V,fe,qe)}replaceIdOnNode(V,fe){this.replaceIds(V,fe,["id","rootId"]),"childNodes"in V&&V.childNodes.forEach(qe=>{this.replaceIdOnNode(qe,fe)})}patchRootIdOnNode(V,fe){V.type!==ut.Document&&!V.rootId&&(V.rootId=fe),"childNodes"in V&&V.childNodes.forEach(qe=>{this.patchRootIdOnNode(qe,fe)})}}class Ea{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class sa{constructor(V){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=V.mutationCb,this.scrollCb=V.scrollCb,this.bypassOptions=V.bypassOptions,this.mirror=V.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(V,fe){if(!pe(V)||this.shadowDoms.has(V))return;this.shadowDoms.add(V),this.bypassOptions.canvasManager.addShadowRoot(V);const qe=Xa({...this.bypassOptions,doc:fe,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},V);this.restoreHandlers.push(()=>qe.disconnect()),this.restoreHandlers.push(Oi({...this.bypassOptions,scrollCb:this.scrollCb,doc:V,mirror:this.mirror})),Na(()=>{V.adoptedStyleSheets&&V.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(V.adoptedStyleSheets,this.mirror.getId(V.host)),this.restoreHandlers.push(ia({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},V))},0)}observeAttachShadow(V){!V.contentWindow||!V.contentDocument||this.patchAttachShadow(V.contentWindow.Element,V.contentDocument)}patchAttachShadow(V,fe){const qe=this;this.restoreHandlers.push(Lr(V.prototype,"attachShadow",function(At){return function(Yt){const _n=At.call(this,Yt);return this.shadowRoot&&Oa(this)&&qe.addShadowRoot(this.shadowRoot,fe),_n}}))}reset(){this.restoreHandlers.forEach(V=>{try{V()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Xo{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ll{constructor(V){this.trackedLinkElements=new WeakSet,this.styleMirror=new _a,this.mutationCb=V.mutationCb,this.adoptedStyleSheetCb=V.adoptedStyleSheetCb}attachLinkElement(V,fe){"_cssText"in fe.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:fe.id,attributes:fe.attributes}]}),this.trackLinkElement(V)}trackLinkElement(V){this.trackedLinkElements.has(V)||(this.trackedLinkElements.add(V),this.trackStylesheetInLinkElement(V))}adoptStyleSheets(V,fe){if(0===V.length)return;const qe={id:fe,styleIds:[]},At=[];for(const Yt of V){let _n;this.styleMirror.has(Yt)?_n=this.styleMirror.getId(Yt):(_n=this.styleMirror.add(Yt),At.push({styleId:_n,rules:Array.from(Yt.rules||CSSRule,(Bn,Cn)=>({rule:Wn(Bn),index:Cn}))})),qe.styleIds.push(_n)}At.length>0&&(qe.styles=At),this.adoptedStyleSheetCb(qe)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(V){}}class pr{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function fc(...k){Ra("requestAnimationFrame")(...k)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(V,fe){const qe=this.nodeMap.get(V);return qe&&Array.from(qe).some(At=>At!==fe)}add(V,fe){this.nodeMap.set(V,(this.nodeMap.get(V)||new Set).add(fe))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let ks,lo;try{if(2!==Array.from([1],k=>2*k)[0]){const k=document.createElement("iframe");document.body.appendChild(k),Array.from=w([k,"access",V=>V.contentWindow,"optionalAccess",V=>V.Array,"access",V=>V.from])||Array.from,document.body.removeChild(k)}}catch(k){console.debug("Unable to override Array.from",k)}const $a=function zt(){return new xt}();function Vs(k={}){const{emit:V,checkoutEveryNms:fe,checkoutEveryNth:qe,blockClass:At="rr-block",blockSelector:Yt=null,unblockSelector:_n=null,ignoreClass:Bn="rr-ignore",ignoreSelector:Cn=null,maskAllText:Xn=!1,maskTextClass:mi="rr-mask",unmaskTextClass:hi=null,maskTextSelector:xi=null,unmaskTextSelector:Si=null,inlineStylesheet:Un=!0,maskAllInputs:_i,maskInputOptions:nr,slimDOMOptions:er,maskAttributeFn:Wr,maskInputFn:xs,maskTextFn:Ls,maxCanvasSize:qr=null,packFn:xr,sampling:dr={},dataURLOptions:Xi={},mousemoveWait:ca,recordDOM:Cr=!0,recordCanvas:ls=!1,recordCrossOriginIframes:cs=!1,recordAfter:qo=("DOMContentLoaded"===k.recordAfter?k.recordAfter:"load"),userTriggeredOnInput:Qo=!1,collectFonts:Qa=!1,inlineImages:Ds=!1,plugins:Kc,keepIframeSrcFn:Do=(()=>!1),ignoreCSSAttributes:vc=new Set([]),errorHandler:Da,onMutation:Sr,getCanvasManager:Id}=k;!function Il(k){Go=k}(Da);const th=!cs||window.parent===window;let ou=!1;if(!th)try{window.parent.document&&(ou=!1)}catch{ou=!0}if(th&&!V)throw new Error("emit function is required");void 0!==ca&&void 0===dr.mousemove&&(dr.mousemove=ca),$a.reset();const Th=!0===_i?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==nr?nr:{},xo=!0===er||"all"===er?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===er,headMetaDescKeywords:"all"===er}:er||{};!function No(k=window){"NodeList"in k&&!k.NodeList.prototype.forEach&&(k.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in k&&!k.DOMTokenList.prototype.forEach&&(k.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...V)=>{let fe=V[0];if(!(0 in V))throw new TypeError("1 argument is required");do{if(this===fe)return!0}while(fe=fe&&fe.parentNode);return!1})}();let Ua,Ad=0;const Sl=no=>{for(const Fl of Kc||[])Fl.eventProcessor&&(no=Fl.eventProcessor(no));return xr&&!ou&&(no=xr(no)),no};ks=(no,Fl)=>{const Qr=no;if(Qr.timestamp=Zr(),w([na,"access",Ta=>Ta[0],"optionalAccess",Ta=>Ta.isFrozen,"call",Ta=>Ta()])&&Qr.type!==$r.FullSnapshot&&!(Qr.type===$r.IncrementalSnapshot&&Qr.data.source===Rr.Mutation)&&na.forEach(Ta=>Ta.unfreeze()),th)w([V,"optionalCall",Ta=>Ta(Sl(Qr),Fl)]);else if(ou){const Ta={type:"rrweb",event:Sl(Qr),origin:window.location.origin,isCheckout:Fl};window.parent.postMessage(Ta,"*")}if(Qr.type===$r.FullSnapshot)Ua=Qr,Ad=0;else if(Qr.type===$r.IncrementalSnapshot){if(Qr.data.source===Rr.Mutation&&Qr.data.isAttachIframe)return;Ad++,(qe&&Ad>=qe||fe&&Ua&&Qr.timestamp-Ua.timestamp>fe)&&yd(!0)}};const Nl=no=>{ks({type:$r.IncrementalSnapshot,data:{source:Rr.Mutation,...no}})},Md=no=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.Scroll,...no}}),Pl=no=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.CanvasMutation,...no}}),ua=new ll({mutationCb:Nl,adoptedStyleSheetCb:no=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.AdoptedStyleSheet,...no}})}),Ou="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new qa:new ao({mirror:$a,mutationCb:Nl,stylesheetManager:ua,recordCrossOriginIframes:cs,wrappedEmit:ks});for(const no of Kc||[])no.getMirror&&no.getMirror({nodeMirror:$a,crossOriginIframeMirror:Ou.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ou.crossOriginIframeStyleMirror});const _d=new pr,kh=function de(k,V){try{return k?k(V):new Xo}catch{return console.warn("Unable to initialize CanvasManager"),new Xo}}(Id,{mirror:$a,win:window,mutationCb:no=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.CanvasMutation,...no}}),recordCanvas:ls,blockClass:At,blockSelector:Yt,unblockSelector:_n,maxCanvasSize:qr,sampling:dr.canvas,dataURLOptions:Xi,errorHandler:Da}),Xu="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ea:new sa({mutationCb:Nl,scrollCb:Md,bypassOptions:{onMutation:Sr,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Xn,maskTextClass:mi,unmaskTextClass:hi,maskTextSelector:xi,unmaskTextSelector:Si,inlineStylesheet:Un,maskInputOptions:Th,dataURLOptions:Xi,maskAttributeFn:Wr,maskTextFn:Ls,maskInputFn:xs,recordCanvas:ls,inlineImages:Ds,sampling:dr,slimDOMOptions:xo,iframeManager:Ou,stylesheetManager:ua,canvasManager:kh,keepIframeSrcFn:Do,processedNodeManager:_d},mirror:$a}),yd=(no=!1)=>{if(!Cr)return;ks({type:$r.Meta,data:{href:window.location.href,width:Er(),height:Os()}},no),ua.reset(),Xu.init(),na.forEach(Qr=>Qr.lock());const Fl=function He(k,V){const{mirror:fe=new xt,blockClass:qe="rr-block",blockSelector:At=null,unblockSelector:Yt=null,maskAllText:_n=!1,maskTextClass:Bn="rr-mask",unmaskTextClass:Cn=null,maskTextSelector:Xn=null,unmaskTextSelector:mi=null,inlineStylesheet:hi=!0,inlineImages:xi=!1,recordCanvas:Si=!1,maskAllInputs:Un=!1,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOM:Wr=!1,dataURLOptions:xs,preserveWhiteSpace:Ls,onSerialize:qr,onIframeLoad:xr,iframeLoadTimeout:dr,onStylesheetLoad:Xi,stylesheetLoadTimeout:ca,keepIframeSrcFn:Cr=(()=>!1)}=V||{};return et(k,{doc:k,mirror:fe,blockClass:qe,blockSelector:At,unblockSelector:Yt,maskAllText:_n,maskTextClass:Bn,unmaskTextClass:Cn,maskTextSelector:Xn,unmaskTextSelector:mi,skipChild:!1,inlineStylesheet:hi,maskInputOptions:!0===Un?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===Un?{}:Un,maskAttributeFn:_i,maskTextFn:nr,maskInputFn:er,slimDOMOptions:!0===Wr||"all"===Wr?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===Wr,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===Wr?{}:Wr,dataURLOptions:xs,inlineImages:xi,recordCanvas:Si,preserveWhiteSpace:Ls,onSerialize:qr,onIframeLoad:xr,iframeLoadTimeout:dr,onStylesheetLoad:Xi,stylesheetLoadTimeout:ca,keepIframeSrcFn:Cr,newlyAddedElement:!1})}(document,{mirror:$a,blockClass:At,blockSelector:Yt,unblockSelector:_n,maskAllText:Xn,maskTextClass:mi,unmaskTextClass:hi,maskTextSelector:xi,unmaskTextSelector:Si,inlineStylesheet:Un,maskAllInputs:Th,maskAttributeFn:Wr,maskInputFn:xs,maskTextFn:Ls,slimDOM:xo,dataURLOptions:Xi,recordCanvas:ls,inlineImages:Ds,onSerialize:Qr=>{Tl(Qr,$a)&&Ou.addIframe(Qr),Ga(Qr,$a)&&ua.trackLinkElement(Qr),Ka(Qr)&&Xu.addShadowRoot(Qr.shadowRoot,document)},onIframeLoad:(Qr,Ta)=>{Ou.attachIframe(Qr,Ta),Qr.contentWindow&&kh.addWindow(Qr.contentWindow),Xu.observeAttachShadow(Qr)},onStylesheetLoad:(Qr,Ta)=>{ua.attachLinkElement(Qr,Ta)},keepIframeSrcFn:Do});if(!Fl)return console.warn("Failed to snapshot the document");ks({type:$r.FullSnapshot,data:{node:Fl,initialOffset:ds(window)}}),na.forEach(Qr=>Qr.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ua.adoptStyleSheets(document.adoptedStyleSheets,$a.getId(document))};lo=yd;try{const no=[],Fl=Ta=>Ar(vl)({onMutation:Sr,mutationCb:Nl,mousemoveCb:(Fr,jl)=>ks({type:$r.IncrementalSnapshot,data:{source:jl,positions:Fr}}),mouseInteractionCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.MouseInteraction,...Fr}}),scrollCb:Md,viewportResizeCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.ViewportResize,...Fr}}),inputCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.Input,...Fr}}),mediaInteractionCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.MediaInteraction,...Fr}}),styleSheetRuleCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.StyleSheetRule,...Fr}}),styleDeclarationCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.StyleDeclaration,...Fr}}),canvasMutationCb:Pl,fontCb:Fr=>ks({type:$r.IncrementalSnapshot,data:{source:Rr.Font,...Fr}}),selectionCb:Fr=>{ks({type:$r.IncrementalSnapshot,data:{source:Rr.Selection,...Fr}})},customElementCb:Fr=>{ks({type:$r.IncrementalSnapshot,data:{source:Rr.CustomElement,...Fr}})},blockClass:At,ignoreClass:Bn,ignoreSelector:Cn,maskAllText:Xn,maskTextClass:mi,unmaskTextClass:hi,maskTextSelector:xi,unmaskTextSelector:Si,maskInputOptions:Th,inlineStylesheet:Un,sampling:dr,recordDOM:Cr,recordCanvas:ls,inlineImages:Ds,userTriggeredOnInput:Qo,collectFonts:Qa,doc:Ta,maskAttributeFn:Wr,maskInputFn:xs,maskTextFn:Ls,keepIframeSrcFn:Do,blockSelector:Yt,unblockSelector:_n,slimDOMOptions:xo,dataURLOptions:Xi,mirror:$a,iframeManager:Ou,stylesheetManager:ua,shadowDomManager:Xu,processedNodeManager:_d,canvasManager:kh,ignoreCSSAttributes:vc,plugins:w([Kc,"optionalAccess",Fr=>Fr.filter,"call",Fr=>Fr(jl=>jl.observer),"optionalAccess",Fr=>Fr.map,"call",Fr=>Fr(jl=>({observer:jl.observer,options:jl.options,callback:wu=>ks({type:$r.Plugin,data:{plugin:jl.name,payload:wu}})}))])||[]},{});Ou.addLoadListener(Ta=>{try{no.push(Fl(Ta.contentDocument))}catch(Fr){console.warn(Fr)}});const Qr=()=>{yd(),no.push(Fl(document))};return"interactive"===document.readyState||"complete"===document.readyState?Qr():(no.push(Bt("DOMContentLoaded",()=>{ks({type:$r.DomContentLoaded,data:{}}),"DOMContentLoaded"===qo&&Qr()})),no.push(Bt("load",()=>{ks({type:$r.Load,data:{}}),"load"===qo&&Qr()},window))),()=>{no.forEach(Ta=>Ta()),_d.destroy(),lo=void 0,function ba(){Go=void 0}()}}catch(no){console.warn(no)}}Vs.mirror=$a,Vs.takeFullSnapshot=function jt(k){if(!lo)throw new Error("please take full snapshot after start recording");lo(k)};const De=3;function le(k){return k>9999999999?k:1e3*k}function ie(k){return k>9999999999?k/1e3:k}function ze(k,V){"sentry.transaction"!==V.category&&(["ui.click","ui.input"].includes(V.category)?k.triggerUserActivity():k.checkAndHandleExpiredSession(),k.addUpdate(()=>(k.throttledAddEvent({type:$r.Custom,timestamp:1e3*(V.timestamp||0),data:{tag:"breadcrumb",payload:(0,z.S8)(V,10,1e3)}}),"console"===V.category)))}const Ct="button,a";function wn(k){return k.closest(Ct)||k}function Pn(k){const V=Di(k);return V&&V instanceof Element?wn(V):V}function Di(k){return function Rn(k){return"object"==typeof k&&!!k&&"target"in k}(k)?k.target:k}let mr;class qs{constructor(V,fe,qe=ze){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=fe.timeout/1e3,this._threshold=fe.threshold/1e3,this._scollTimeout=fe.scrollTimeout/1e3,this._replay=V,this._ignoreSelector=fe.ignoreSelector,this._addBreadcrumbEvent=qe}addListeners(){const V=function zr(k){return mr||(mr=[],function hr(){(0,F.GS)(ve,"open",function(k){return function(...V){if(mr)try{mr.forEach(fe=>fe())}catch{}return k.apply(ve,V)}})}()),mr.push(k),()=>{const V=mr?mr.indexOf(k):-1;V>-1&&mr.splice(V,1)}}(()=>{this._lastMutation=Ks()});this._teardown=()=>{V(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(V,fe){if(function Us(k,V){return!!(!Dr.includes(k.tagName)||"INPUT"===k.tagName&&!["submit","button"].includes(k.getAttribute("type")||"")||"A"===k.tagName&&(k.hasAttribute("download")||k.hasAttribute("target")&&"_self"!==k.getAttribute("target"))||V&&k.matches(V))}(fe,this._ignoreSelector)||!function Ns(k){return!(!k.data||"number"!=typeof k.data.nodeId||!k.timestamp)}(V))return;const qe={timestamp:ie(V.timestamp),clickBreadcrumb:V,clickCount:0,node:fe};this._clicks.some(At=>At.node===qe.node&&Math.abs(At.timestamp-qe.timestamp)<1)||(this._clicks.push(qe),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(V=Date.now()){this._lastMutation=ie(V)}registerScroll(V=Date.now()){this._lastScroll=ie(V)}registerClick(V){const fe=wn(V);this._handleMultiClick(fe)}_handleMultiClick(V){this._getClicks(V).forEach(fe=>{fe.clickCount++})}_getClicks(V){return this._clicks.filter(fe=>fe.node===V)}_checkClicks(){const V=[],fe=Ks();this._clicks.forEach(qe=>{!qe.mutationAfter&&this._lastMutation&&(qe.mutationAfter=qe.timestamp<=this._lastMutation?this._lastMutation-qe.timestamp:void 0),!qe.scrollAfter&&this._lastScroll&&(qe.scrollAfter=qe.timestamp<=this._lastScroll?this._lastScroll-qe.timestamp:void 0),qe.timestamp+this._timeout<=fe&&V.push(qe)});for(const qe of V){const At=this._clicks.indexOf(qe);At>-1&&(this._generateBreadcrumbs(qe),this._clicks.splice(At,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(V){const fe=this._replay,Yt=!(V.scrollAfter&&V.scrollAfter<=this._scollTimeout||V.mutationAfter&&V.mutationAfter<=this._threshold),{clickCount:_n,clickBreadcrumb:Bn}=V;if(Yt){const Cn=1e3*Math.min(V.mutationAfter||this._timeout,this._timeout),Xn=Cn<1e3*this._timeout?"mutation":"timeout",mi={type:"default",message:Bn.message,timestamp:Bn.timestamp,category:"ui.slowClickDetected",data:{...Bn.data,url:ve.location.href,route:fe.getCurrentRoute(),timeAfterClickMs:Cn,endReason:Xn,clickCount:_n||1}};this._addBreadcrumbEvent(fe,mi)}else if(_n>1){const Cn={type:"default",message:Bn.message,timestamp:Bn.timestamp,category:"ui.multiClick",data:{...Bn.data,url:ve.location.href,route:fe.getCurrentRoute(),clickCount:_n,metric:!0}};this._addBreadcrumbEvent(fe,Cn)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=(0,Je.wg)(()=>this._checkClicks(),1e3)}}const Dr=["A","BUTTON","INPUT"];function Ks(){return Date.now()/1e3}function Et(k){return{timestamp:Date.now()/1e3,type:"default",...k}}var Kt=function(k){return k[k.Document=0]="Document",k[k.DocumentType=1]="DocumentType",k[k.Element=2]="Element",k[k.Text=3]="Text",k[k.CDATA=4]="CDATA",k[k.Comment=5]="Comment",k}(Kt||{});const ln=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function en(k){const V={};!k["data-sentry-component"]&&k["data-sentry-element"]&&(k["data-sentry-component"]=k["data-sentry-element"]);for(const fe in k)if(ln.has(fe)){let qe=fe;("data-testid"===fe||"data-test-id"===fe)&&(qe="testId"),V[qe]=k[fe]}return V}function an(k,V){const fe=Vs.mirror.getId(k),qe=fe&&Vs.mirror.getNode(fe),At=qe&&Vs.mirror.getMeta(qe),Yt=At&&function zn(k){return k.type===Kt.Element}(At)?At:null;return{message:V,data:Yt?{nodeId:fe,node:{id:fe,tagName:Yt.tagName,textContent:Array.from(Yt.childNodes).map(_n=>_n.type===Kt.Text&&_n.textContent).filter(Boolean).map(_n=>_n.trim()).join(""),attributes:en(Yt.attributes)}}:{}}}const tr={resource:function Mo(k){const{entryType:V,initiatorType:fe,name:qe,responseEnd:At,startTime:Yt,decodedBodySize:_n,encodedBodySize:Bn,responseStatus:Cn,transferSize:Xn}=k;return["fetch","xmlhttprequest"].includes(fe)?null:{type:`${V}.${fe}`,start:Gr(Yt),end:Gr(At),name:qe,data:{size:Xn,statusCode:Cn,decodedBodySize:_n,encodedBodySize:Bn}}},paint:function ns(k){const{duration:V,entryType:fe,name:qe,startTime:At}=k,Yt=Gr(At);return{type:fe,name:qe,start:Yt,end:Yt+V,data:void 0}},navigation:function Jl(k){const{entryType:V,name:fe,decodedBodySize:qe,duration:At,domComplete:Yt,encodedBodySize:_n,domContentLoadedEventStart:Bn,domContentLoadedEventEnd:Cn,domInteractive:Xn,loadEventStart:mi,loadEventEnd:hi,redirectCount:xi,startTime:Si,transferSize:Un,type:_i}=k;return 0===At?null:{type:`${V}.${_i}`,start:Gr(Si),end:Gr(Yt),name:fe,data:{size:Un,decodedBodySize:qe,encodedBodySize:_n,duration:At,domInteractive:Xn,domContentLoadedEventStart:Bn,domContentLoadedEventEnd:Cn,loadEventStart:mi,loadEventEnd:hi,domComplete:Yt,redirectCount:xi}}}};function Br(k,V){return({metric:fe})=>{V.replayPerformanceEntries.push(k(fe))}}function zs(k){const V=tr[k.entryType];return V?V(k):null}function Gr(k){return((ue.k3||ve.performance.timeOrigin)+k)/1e3}function Yo(k){const V=k.entries[k.entries.length-1];return _r(k,"largest-contentful-paint",V?V.element:void 0)}function Qs(k){const V=k.entries[0];return _r(k,"cumulative-layout-shift",V&&V.sources&&V.sources[0]?V.sources[0].node:void 0)}function bl(k){const V=k.entries[k.entries.length-1];return _r(k,"first-input-delay",V?V.target:void 0)}function aa(k){const V=k.entries[k.entries.length-1];return _r(k,"interaction-to-next-paint",V?V.target:void 0)}function _r(k,V,fe){const qe=k.value,At=k.rating,Yt=Gr(qe);return{type:"web-vital",name:V,start:Yt,end:Yt,data:{value:qe,size:qe,rating:At,nodeId:fe?Vs.mirror.getId(fe):void 0}}}const Ps=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function hs(k,V){Ps&&(ce.vF.info(k),V&&_u(k))}function Ba(k,V){Ps&&(ce.vF.info(k),V&&(0,Je.wg)(()=>{_u(k)},0))}function _u(k){(0,D.Z)({category:"console",data:{logger:"replay"},level:"info",message:k},{level:"info"})}class fs extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ot}.`)}}class wl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(V){var fe=this;return(0,d.A)(function*(){const qe=JSON.stringify(V).length;if(fe._totalSize+=qe,fe._totalSize>ot)throw new fs;fe.events.push(V)})()}finish(){return new Promise(V=>{const fe=this.events;this.clear(),V(JSON.stringify(fe))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const V=this.events.map(fe=>fe.timestamp).sort()[0];return V?le(V):null}}class Wo{constructor(V){this._worker=V,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((V,fe)=>{this._worker.addEventListener("message",({data:qe})=>{qe.success?V():fe()},{once:!0}),this._worker.addEventListener("error",qe=>{fe(qe)},{once:!0})})),this._ensureReadyPromise}destroy(){hs("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(V,fe){const qe=this._getAndIncrementId();return new Promise((At,Yt)=>{const _n=({data:Bn})=>{const Cn=Bn;if(Cn.method===V&&Cn.id===qe){if(this._worker.removeEventListener("message",_n),!Cn.success)return Ps&&ce.vF.error("[Replay]",Cn.response),void Yt(new Error("Error in compression worker"));At(Cn.response)}};this._worker.addEventListener("message",_n),this._worker.postMessage({id:qe,method:V,arg:fe})})}_getAndIncrementId(){return this._id++}}class co{constructor(V){this._worker=new Wo(V),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(V){const fe=le(V.timestamp);(!this._earliestTimestamp||fe<this._earliestTimestamp)&&(this._earliestTimestamp=fe);const qe=JSON.stringify(V);return this._totalSize+=qe.length,this._totalSize>ot?Promise.reject(new fs):this._sendEventToWorker(qe)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,V=>{Ps&&ce.vF.warn('[Replay] Sending "clear" message to worker failed',V)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(V){return this._worker.postMessage("addEvent",V)}_finishRequest(){var V=this;return(0,d.A)(function*(){const fe=yield V._worker.postMessage("finish");return V._earliestTimestamp=null,V._totalSize=0,fe})()}}class la{constructor(V){this._fallback=new wl,this._compression=new co(V),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(V){this._used.hasCheckout=V}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(V){return this._used.addEvent(V)}finish(){var V=this;return(0,d.A)(function*(){return yield V.ensureWorkerIsLoaded(),V._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var V=this;return(0,d.A)(function*(){try{yield V._compression.ensureReady()}catch{return void hs("[Replay] Failed to load the compression worker, falling back to simple buffer")}yield V._switchToCompressionWorker()})()}_switchToCompressionWorker(){var V=this;return(0,d.A)(function*(){const{events:fe,hasCheckout:qe}=V._fallback,At=[];for(const Yt of fe)At.push(V._compression.addEvent(Yt));V._compression.hasCheckout=qe,V._used=V._compression;try{yield Promise.all(At)}catch(Yt){Ps&&ce.vF.warn("[Replay] Failed to add events when switching buffers.",Yt)}})()}}function El(){try{return"sessionStorage"in ve&&!!ve.sessionStorage}catch{return!1}}function Ue(k){return void 0!==k&&Math.random()<k}function _t(k){const V=Date.now();return{id:k.id||(0,re.eJ)(),started:k.started||V,lastActivity:k.lastActivity||V,segmentId:k.segmentId||0,sampled:k.sampled,previousSessionId:k.previousSessionId}}function on(k){if(El())try{ve.sessionStorage.setItem(Pe,JSON.stringify(k))}catch{}}function li({sessionSampleRate:k,allowBuffering:V,stickySession:fe=!1},{previousSessionId:qe}={}){const At=function jn(k,V){return Ue(k)?"session":!!V&&"buffer"}(k,V),Yt=_t({sampled:At,previousSessionId:qe});return fe&&on(Yt),Yt}function Fs(k,V,fe=+new Date){return null===k||void 0===V||V<0||0!==V&&k+V<=fe}function Yr(k,{maxReplayDuration:V,sessionIdleExpire:fe,targetTime:qe=Date.now()}){return Fs(k.started,V,qe)||Fs(k.lastActivity,fe,qe)}function ts(k,{sessionIdleExpire:V,maxReplayDuration:fe}){return!(!Yr(k,{sessionIdleExpire:V,maxReplayDuration:fe})||"buffer"===k.sampled&&0===k.segmentId)}function wi({traceInternals:k,sessionIdleExpire:V,maxReplayDuration:fe,previousSessionId:qe},At){const Yt=At.stickySession&&function Ui(k){if(!El())return null;try{const V=ve.sessionStorage.getItem(Pe);if(!V)return null;const fe=JSON.parse(V);return Ba("[Replay] Loading existing session",k),_t(fe)}catch{return null}}(k);return Yt?ts(Yt,{sessionIdleExpire:V,maxReplayDuration:fe})?(Ba("[Replay] Session in sessionStorage is expired, creating new one..."),li(At,{previousSessionId:Yt.id})):Yt:(Ba("[Replay] Creating new session",k),li(At,{previousSessionId:qe}))}function js(k,V,fe){return!!Rc(k,V)&&(Vl(k,V,fe),!0)}function Vl(k,V,fe){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.A)(function*(k,V,fe){if(!k.eventBuffer)return null;try{fe&&"buffer"===k.recordingMode&&k.eventBuffer.clear(),fe&&(k.eventBuffer.hasCheckout=!0);const At=function pc(k,V){try{if("function"==typeof V&&function eo(k){return k.type===$r.Custom}(k))return V(k)}catch(fe){return Ps&&ce.vF.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",fe),null}return k}(V,k.getOptions().beforeAddRecordingEvent);return At?yield k.eventBuffer.addEvent(At):void 0}catch(qe){const At=qe&&qe instanceof fs?"addEventSizeExceeded":"addEvent";Ps&&ce.vF.error(qe),yield k.stop({reason:At});const Yt=(0,C.KU)();Yt&&Yt.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function Rc(k,V){if(!k.eventBuffer||k.isPaused()||!k.isEnabled())return!1;const fe=le(V.timestamp);return!(fe+k.timeouts.sessionIdlePause<Date.now()||fe>k.getContext().initialTimestamp+k.getOptions().maxReplayDuration&&(Ba(`[Replay] Skipping event with timestamp ${fe} because it is after maxReplayDuration`,k.getOptions()._experiments.traceInternals),1))}function $o(k){return!k.type}function Bo(k){return"transaction"===k.type}function Zc(k){return"feedback"===k.type}function yu(k){return!!k.category}function eu(k,V){return V.map(({type:fe,start:qe,end:At,name:Yt,data:_n})=>{const Bn=k.throttledAddEvent({type:$r.Custom,timestamp:qe,data:{tag:"performanceSpan",payload:{op:fe,description:Yt,startTimestamp:qe,endTimestamp:At,data:_n}}});return"string"==typeof Bn?Promise.resolve(null):Bn})}function gc(k,V){k.isEnabled()&&null!==V&&(function jr(k,V){return(!Ps||!k.getOptions()._experiments.traceInternals)&&function S(k,V){const fe=V&&V.getDsn(),qe=V&&V.getOptions().tunnel;return function E(k,V){return!!V&&k.includes(V.host)}(k,fe)||function I(k,V){return!!V&&y(k)===y(V)}(k,qe)}(V,(0,C.KU)())}(k,V.name)||k.addUpdate(()=>(eu(k,[V]),!0)))}function nc(k){if(!k)return;const V=new TextEncoder;try{if("string"==typeof k)return V.encode(k).length;if(k instanceof URLSearchParams)return V.encode(k.toString()).length;if(k instanceof FormData){const fe=Td(k);return V.encode(fe).length}if(k instanceof Blob)return k.size;if(k instanceof ArrayBuffer)return k.byteLength}catch{}}function zc(k){if(!k)return;const V=parseInt(k,10);return isNaN(V)?void 0:V}function Eo(k){try{if("string"==typeof k)return[k];if(k instanceof URLSearchParams)return[k.toString()];if(k instanceof FormData)return[Td(k)];if(!k)return[void 0]}catch{return Ps&&ce.vF.warn("[Replay] Failed to serialize body",k),[void 0,"BODY_PARSE_ERROR"]}return Ps&&ce.vF.info("[Replay] Skipping network body because of body type",k),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ic(k,V){if(!k)return{headers:{},size:void 0,_meta:{warnings:[V]}};const fe={...k._meta};return fe.warnings=[...fe.warnings||[],V],k._meta=fe,k}function vu(k,V){if(!V)return null;const{startTimestamp:fe,endTimestamp:qe,url:At,method:Yt,statusCode:_n,request:Bn,response:Cn}=V;return{type:k,start:fe/1e3,end:qe/1e3,name:At,data:(0,F.Ce)({method:Yt,statusCode:_n,request:Bn,response:Cn})}}function Pc(k){return{headers:{},size:k,_meta:{warnings:["URL_SKIPPED"]}}}function Au(k,V,fe){if(!V&&0===Object.keys(k).length)return;if(!V)return{headers:k};if(!fe)return{headers:k,size:V};const qe={headers:k,size:V},{body:At,warnings:Yt}=function wh(k){if(!k||"string"!=typeof k)return{body:k};const V=k.length>Re,fe=function jc(k){const V=k[0],fe=k[k.length-1];return"["===V&&"]"===fe||"{"===V&&"}"===fe}(k);if(V){const qe=k.slice(0,Re);return fe?{body:qe,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${qe}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(fe)try{return{body:JSON.parse(k)}}catch{}return{body:k}}(fe);return qe.body=At,Yt&&Yt.length>0&&(qe._meta={warnings:Yt}),qe}function gd(k,V){return Object.entries(k).reduce((fe,[qe,At])=>{const Yt=qe.toLowerCase();return V.includes(Yt)&&k[qe]&&(fe[Yt]=At),fe},{})}function Td(k){return new URLSearchParams(k).toString()}function Mu(k,V){const fe=function Eh(k,V=ve.document.baseURI){if(k.startsWith("http://")||k.startsWith("https://")||k.startsWith(ve.location.origin))return k;const fe=new URL(k,V);if(fe.origin!==new URL(V).origin)return k;const qe=fe.href;return!k.endsWith("/")&&qe.endsWith("/")?qe.slice(0,-1):qe}(k);return(0,we.Xr)(fe,V)}function Al(){return Al=(0,d.A)(function*(k,V,fe){try{const qe=yield function Wc(k,V,fe){return hl.apply(this,arguments)}(k,V,fe),At=vu("resource.fetch",qe);gc(fe.replay,At)}catch(qe){Ps&&ce.vF.error("[Replay] Failed to capture fetch breadcrumb",qe)}}),Al.apply(this,arguments)}function hl(){return hl=(0,d.A)(function*(k,V,fe){const qe=Date.now(),{startTimestamp:At=qe,endTimestamp:Yt=qe}=V,{url:_n,method:Bn,status_code:Cn=0,request_body_size:Xn,response_body_size:mi}=k.data,hi=Mu(_n,fe.networkDetailAllowUrls)&&!Mu(_n,fe.networkDetailDenyUrls),xi=hi?function So({networkCaptureBodies:k,networkRequestHeaders:V},fe,qe){const At=fe?function K(k,V){return 1===k.length&&"string"!=typeof k[0]?Ie(k[0],V):2===k.length?Ie(k[1],V):{}}(fe,V):{};if(!k)return Au(At,qe,void 0);const Yt=Ch(fe),[_n,Bn]=Eo(Yt),Cn=Au(At,qe,_n);return Bn?ic(Cn,Bn):Cn}(fe,V.input,Xn):Pc(Xn),Si=yield function _c(k,V,fe,qe){return tu.apply(this,arguments)}(hi,fe,V.response,mi);return{startTimestamp:At,endTimestamp:Yt,url:_n,method:Bn,statusCode:Cn,request:xi,response:Si}}),hl.apply(this,arguments)}function tu(){return tu=(0,d.A)(function*(k,{networkCaptureBodies:V,networkResponseHeaders:fe},qe,At){if(!k&&void 0!==At)return Pc(At);const Yt=qe?to(qe.headers,fe):{};if(!qe||!V&&void 0!==At)return Au(Yt,At,void 0);const[_n,Bn]=yield function Gu(k){return eh.apply(this,arguments)}(qe),Cn=function nu(k,{networkCaptureBodies:V,responseBodySize:fe,captureDetails:qe,headers:At}){try{const Yt=k&&k.length&&void 0===fe?nc(k):fe;return qe?Au(At,Yt,V?k:void 0):Pc(Yt)}catch(Yt){return Ps&&ce.vF.warn("[Replay] Failed to serialize response body",Yt),Au(At,fe,void 0)}}(_n,{networkCaptureBodies:V,responseBodySize:At,captureDetails:k,headers:Yt});return Bn?ic(Cn,Bn):Cn}),tu.apply(this,arguments)}function eh(){return(eh=(0,d.A)(function*(k){const V=function he(k){try{return k.clone()}catch(V){Ps&&ce.vF.warn("[Replay] Failed to clone response body",V)}}(k);if(!V)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Ae(V)]}catch(fe){return Ps&&ce.vF.warn("[Replay] Failed to get text body from response",fe),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function Ch(k=[]){if(2===k.length&&"object"==typeof k[1])return k[1].body}function to(k,V){const fe={};return V.forEach(qe=>{k.get(qe)&&(fe[qe]=k.get(qe))}),fe}function Ie(k,V){if(!k)return{};const fe=k.headers;return fe?fe instanceof Headers?to(fe,V):Array.isArray(fe)?{}:gd(fe,V):{}}function Ae(k){return new Promise((V,fe)=>{const qe=(0,Je.wg)(()=>fe(new Error("Timeout while trying to read response body")),500);(function ht(k){return Lt.apply(this,arguments)})(k).then(At=>V(At),At=>fe(At)).finally(()=>clearTimeout(qe))})}function Lt(){return(Lt=(0,d.A)(function*(k){return yield k.text()})).apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(k,V,fe){try{const qe=function ci(k,V,fe){const qe=Date.now(),{startTimestamp:At=qe,endTimestamp:Yt=qe,input:_n,xhr:Bn}=V,{url:Cn,method:Xn,status_code:mi=0,request_body_size:hi,response_body_size:xi}=k.data;if(!Cn)return null;if(!Bn||!Mu(Cn,fe.networkDetailAllowUrls)||Mu(Cn,fe.networkDetailDenyUrls))return{startTimestamp:At,endTimestamp:Yt,url:Cn,method:Xn,statusCode:mi,request:Pc(hi),response:Pc(xi)};const Si=Bn[X.Er],Un=Si?gd(Si.request_headers,fe.networkRequestHeaders):{},_i=gd(function rr(k){const V=k.getAllResponseHeaders();return V?V.split("\r\n").reduce((fe,qe)=>{const[At,Yt]=qe.split(": ");return Yt&&(fe[At.toLowerCase()]=Yt),fe},{}):{}}(Bn),fe.networkResponseHeaders),[nr,er]=fe.networkCaptureBodies?Eo(_n):[void 0],[Wr,xs]=fe.networkCaptureBodies?function yr(k){const V=[];try{return[k.responseText]}catch(fe){V.push(fe)}try{return function Pr(k,V){try{if("string"==typeof k)return[k];if(k instanceof Document)return[k.body.outerHTML];if("json"===V&&k&&"object"==typeof k)return[JSON.stringify(k)];if(!k)return[void 0]}catch{return Ps&&ce.vF.warn("[Replay] Failed to serialize body",k),[void 0,"BODY_PARSE_ERROR"]}return Ps&&ce.vF.info("[Replay] Skipping network body because of body type",k),[void 0,"UNPARSEABLE_BODY_TYPE"]}(k.response,k.responseType)}catch(fe){V.push(fe)}return Ps&&ce.vF.warn("[Replay] Failed to get xhr response body",...V),[void 0]}(Bn):[void 0],Ls=Au(Un,hi,nr),qr=Au(_i,xi,Wr);return{startTimestamp:At,endTimestamp:Yt,url:Cn,method:Xn,statusCode:mi,request:er?ic(Ls,er):Ls,response:xs?ic(qr,xs):qr}}(k,V,fe),At=vu("resource.xhr",qe);gc(fe.replay,At)}catch(qe){Ps&&ce.vF.error("[Replay] Failed to capture xhr breadcrumb",qe)}})).apply(this,arguments)}function fl(k){const V=(0,C.KU)();try{const{networkDetailAllowUrls:fe,networkDetailDenyUrls:qe,networkCaptureBodies:At,networkRequestHeaders:Yt,networkResponseHeaders:_n}=k.getOptions(),Bn={replay:k,networkDetailAllowUrls:fe,networkDetailDenyUrls:qe,networkCaptureBodies:At,networkRequestHeaders:Yt,networkResponseHeaders:_n};V&&V.on("beforeAddBreadcrumb",(Cn,Xn)=>function Ml(k,V,fe){if(V.data)try{(function Ul(k){return"xhr"===k.category})(V)&&function Sh(k){return k&&k.xhr}(fe)&&(function An(k,V){const{xhr:fe,input:qe}=V;if(!fe)return;const At=nc(qe),Yt=fe.getResponseHeader("content-length")?zc(fe.getResponseHeader("content-length")):function Oo(k,V){try{return nc("json"===V&&k&&"object"==typeof k?JSON.stringify(k):k)}catch{return}}(fe.response,fe.responseType);void 0!==At&&(k.data.request_body_size=At),void 0!==Yt&&(k.data.response_body_size=Yt)}(V,fe),function cn(k,V,fe){Hn.apply(this,arguments)}(V,fe,k)),function kd(k){return"fetch"===k.category}(V)&&function iu(k){return k&&k.response}(fe)&&(function Hu(k,V){const{input:fe,response:qe}=V,Yt=nc(fe?Ch(fe):void 0),_n=qe?zc(qe.headers.get("content-length")):void 0;void 0!==Yt&&(k.data.request_body_size=Yt),void 0!==_n&&(k.data.response_body_size=_n)}(V,fe),function xh(k,V,fe){Al.apply(this,arguments)}(V,fe,k))}catch{Ps&&ce.vF.warn("Error when enriching network breadcrumb")}}(Bn,Cn,Xn))}catch{}}function Ke(){return(Ke=(0,d.A)(function*(k){try{return Promise.all(eu(k,[Oe(ve.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function Oe(k){const{jsHeapSizeLimit:V,totalJSHeapSize:fe,usedJSHeapSize:qe}=k,At=Date.now()/1e3;return{type:"memory",name:"memory",start:At,end:At,data:{memory:{jsHeapSizeLimit:V,totalJSHeapSize:fe,usedJSHeapSize:qe}}}}function Jt(k){let V=!1;return(fe,qe)=>{if(!k.checkAndHandleExpiredSession())return void(Ps&&ce.vF.warn("[Replay] Received replay event after session expired."));const At=qe||!V;V=!0,k.clickDetector&&function xa(k,V){try{if(!function oa(k){return k.type===De}(V))return;const{source:fe}=V.data;if(fe===Rr.Mutation&&k.registerMutation(V.timestamp),fe===Rr.Scroll&&k.registerScroll(V.timestamp),function P(k){return k.data.source===Rr.MouseInteraction}(V)){const{type:qe,id:At}=V.data,Yt=Vs.mirror.getNode(At);Yt instanceof HTMLElement&&qe===so.Click&&k.registerClick(Yt)}}catch{}}(k.clickDetector,fe),k.addUpdate(()=>{if("buffer"===k.recordingMode&&At&&k.setInitialState(),!js(k,fe,At))return!0;if(!At)return!1;if(function Mn(k,V){!V||!k.session||0!==k.session.segmentId||js(k,function hn(k){const V=k.getOptions();return{type:$r.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:k.isRecordingCanvas(),sessionSampleRate:V.sessionSampleRate,errorSampleRate:V.errorSampleRate,useCompressionOption:V.useCompression,blockAllMedia:V.blockAllMedia,maskAllText:V.maskAllText,maskAllInputs:V.maskAllInputs,useCompression:!!k.eventBuffer&&"worker"===k.eventBuffer.type,networkDetailHasUrls:V.networkDetailAllowUrls.length>0,networkCaptureBodies:V.networkCaptureBodies,networkRequestHasHeaders:V.networkRequestHeaders.length>0,networkResponseHasHeaders:V.networkResponseHeaders.length>0}}}}(k),!1)}(k,At),k.session&&k.session.previousSessionId)return!0;if("buffer"===k.recordingMode&&k.session&&k.eventBuffer){const Yt=k.eventBuffer.getEarliestTimestamp();Yt&&(hs(`[Replay] Updating session start time to earliest event in buffer to ${new Date(Yt)}`,k.getOptions()._experiments.traceInternals),k.session.started=Yt,k.getOptions().stickySession&&on(k.session))}return"session"===k.recordingMode&&k.flush(),!0})}}function Vi(){return(Vi=(0,d.A)(function*({client:k,scope:V,replayId:fe,event:qe}){const Yt={event_id:fe,integrations:"object"!=typeof k._integrations||null===k._integrations||Array.isArray(k._integrations)?void 0:Object.keys(k._integrations)};k.emit("preprocessEvent",qe,Yt);const _n=yield(0,$.mG)(k.getOptions(),qe,Yt,V,k,(0,C.rm)());if(!_n)return null;_n.platform=_n.platform||"javascript";const Bn=k.getSdkMetadata(),{name:Cn,version:Xn}=Bn&&Bn.sdk||{};return _n.sdk={..._n.sdk,name:Cn||"sentry.javascript.unknown",version:Xn||"0.0.0"},_n})).apply(this,arguments)}function ps(){return ps=(0,d.A)(function*({recordingData:k,replayId:V,segmentId:fe,eventContext:qe,timestamp:At,session:Yt}){const _n=function Ii({recordingData:k,headers:V}){let fe;const qe=`${JSON.stringify(V)}\n`;if("string"==typeof k)fe=`${qe}${k}`;else{const Yt=(new TextEncoder).encode(qe);fe=new Uint8Array(Yt.length+k.length),fe.set(Yt),fe.set(k,Yt.length)}return fe}({recordingData:k,headers:{segment_id:fe}}),{urls:Bn,errorIds:Cn,traceIds:Xn,initialTimestamp:mi}=qe,hi=(0,C.KU)(),xi=(0,C.o5)(),Si=hi&&hi.getTransport(),Un=hi&&hi.getDsn();if(!(hi&&Si&&Un&&Yt.sampled))return(0,Y.XW)({});const _i={type:Ve,replay_start_timestamp:mi/1e3,timestamp:At/1e3,error_ids:Cn,trace_ids:Xn,urls:Bn,replay_id:V,segment_id:fe,replay_type:Yt.sampled},nr=yield function Ei(k){return Vi.apply(this,arguments)}({scope:xi,client:hi,replayId:V,event:_i});if(!nr)return hi.recordDroppedEvent("event_processor","replay",_i),hs("An event processor returned `null`, will not send event."),(0,Y.XW)({});delete nr.sdkProcessingMetadata;const er=function di(k,V,fe,qe){return(0,j.h4)((0,j.n2)(k,(0,j.Cj)(k),qe,fe),[[{type:"replay_event"},k],[{type:"replay_recording",length:"string"==typeof V?(new TextEncoder).encode(V).length:V.length},V]])}(nr,_n,Un,hi.getOptions().tunnel);let Wr;try{Wr=yield Si.send(er)}catch(Ls){const qr=new Error(Qe);try{qr.cause=Ls}catch{}throw qr}if("number"==typeof Wr.statusCode&&(Wr.statusCode<200||Wr.statusCode>=300))throw new Rt(Wr.statusCode);const xs=(0,se.wq)({},Wr);if((0,se.Jz)(xs,"replay"))throw new Es(xs);return Wr}),ps.apply(this,arguments)}class Rt extends Error{constructor(V){super(`Transport returned status code ${V}`)}}class Es extends Error{constructor(V){super("Rate limit hit"),this.rateLimits=V}}function Ol(k){return fn.apply(this,arguments)}function fn(){return fn=(0,d.A)(function*(k,V={count:0,interval:Ot}){const{recordingData:fe,options:qe}=k;if(fe.length)try{return yield function Kr(k){return ps.apply(this,arguments)}(k),!0}catch(At){if(At instanceof Rt||At instanceof Es)throw At;if((0,x.o)("Replays",{_retryCount:V.count}),Ps&&qe._experiments&&qe._experiments.captureExceptions&&(0,x.Cp)(At),V.count>=ft){const Yt=new Error(`${Qe} - max retries exceeded`);try{Yt.cause=At}catch{}throw Yt}return V.interval*=++V.count,new Promise((Yt,_n)=>{(0,Je.wg)((0,d.A)(function*(){try{yield Ol(k,V),Yt(!0)}catch(Bn){_n(Bn)}}),V.interval)})}}),fn.apply(this,arguments)}const Sa="__THROTTLED";class Js{constructor({options:V,recordingOptions:fe}){Js.prototype.__init.call(this),Js.prototype.__init2.call(this),Js.prototype.__init3.call(this),Js.prototype.__init4.call(this),Js.prototype.__init5.call(this),Js.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=fe,this._options=V,this._debouncedFlush=function Wt(k,V,fe){let qe,At,Yt;const _n=fe&&fe.maxWait?Math.max(fe.maxWait,V):0;function Bn(){return Cn(),qe=k(),qe}function Cn(){void 0!==At&&clearTimeout(At),void 0!==Yt&&clearTimeout(Yt),At=Yt=void 0}function mi(){return At&&clearTimeout(At),At=(0,Je.wg)(Bn,V),_n&&void 0===Yt&&(Yt=(0,Je.wg)(Bn,_n)),qe}return mi.cancel=Cn,mi.flush=function Xn(){return void 0!==At||void 0!==Yt?Bn():qe},mi}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function Ro(k,V,fe){const qe=new Map;let _n=!1;return(...Bn)=>{const Cn=Math.floor(Date.now()/1e3);if((Bn=>{const Cn=Bn-fe;qe.forEach((Xn,mi)=>{mi<Cn&&qe.delete(mi)})})(Cn),[...qe.values()].reduce((Bn,Cn)=>Bn+Cn,0)>=V){const mi=_n;return _n=!0,mi?"__SKIPPED":Sa}_n=!1;const Xn=qe.get(Cn)||0;return qe.set(Cn,Xn+1),k(...Bn)}}((_n,Bn)=>function uo(k,V,fe){return Rc(k,V)?Vl(k,V,fe):Promise.resolve(null)}(this,_n,Bn),300,5);const{slowClickTimeout:qe,slowClickIgnoreSelectors:At}=this.getOptions(),Yt=qe?{threshold:Math.min(3e3,qe),timeout:qe,scrollTimeout:300,ignoreSelector:At?At.join(","):""}:void 0;Yt&&(this.clickDetector=new qs(this,Yt))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(V){const{errorSampleRate:fe,sessionSampleRate:qe}=this._options,At=fe<=0&&qe<=0;if(this._requiresManualStart=At,!At){if(this._initializeSessionForSampling(V),!this.session)return void this._handleException(new Error("Unable to initialize and create session"));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Ba(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Ps&&ce.vF.info("[Replay] Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Ps&&ce.vF.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));Ba("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const V=wi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=V,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Ps&&ce.vF.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));Ba("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const V=wi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=V,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const V=this._canvas;this._stopRecording=Vs({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Jt(this),onMutation:this._onMutationHandler,...V?{recordCanvas:V.recordCanvas,getCanvasManager:V.getCanvasManager,sampling:V.sampling,dataURLOptions:V.dataURLOptions}:{}})}catch(V){this._handleException(V)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(V){return this._handleException(V),!1}}stop({forceFlush:V=!1,reason:fe}={}){var qe=this;return(0,d.A)(function*(){if(qe._isEnabled){qe._isEnabled=!1;try{hs("[Replay] Stopping Replay"+(fe?` triggered by ${fe}`:""),qe._options._experiments.traceInternals),qe._removeListeners(),qe.stopRecording(),qe._debouncedFlush.cancel(),V&&(yield qe._flush({force:!0})),qe.eventBuffer&&qe.eventBuffer.destroy(),qe.eventBuffer=null,function Ee(k){(function Dt(){if(El())try{ve.sessionStorage.removeItem(Pe)}catch{}})(),k.session=void 0}(qe)}catch(At){qe._handleException(At)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),hs("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),hs("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush({continueRecording:V=!0}={}){var fe=this;return(0,d.A)(function*(){if("session"===fe.recordingMode)return fe.flushImmediate();const qe=Date.now();hs("[Replay] Converting buffer to session",fe._options._experiments.traceInternals),yield fe.flushImmediate();const At=fe.stopRecording();!V||!At||"session"!==fe.recordingMode&&(fe.recordingMode="session",fe.session&&(fe._updateUserActivity(qe),fe._updateSessionActivity(qe),fe._maybeSaveSession()),fe.startRecording())})()}addUpdate(V){const fe=V();"buffer"!==this.recordingMode&&!0!==fe&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Fs(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const fe=`${ve.location.origin}${ve.location.pathname}${ve.location.hash}${ve.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=fe,this._context.initialTimestamp=Date.now(),this._context.urls.push(fe)}throttledAddEvent(V,fe){const qe=this._throttledAddEvent(V,fe);if(qe===Sa){const At=Et({category:"replay.throttled"});this.addUpdate(()=>!js(this,{type:5,timestamp:At.timestamp||0,data:{tag:"breadcrumb",payload:At,metric:!0}}))}return qe}getCurrentRoute(){const V=this.lastActiveSpan||(0,R.Bk)(),fe=V&&(0,R.zU)(V),At=(fe&&(0,R.et)(fe).data||{})[O.i_];if(fe&&At&&["route","custom"].includes(At))return(0,R.et)(fe).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function Zd({useCompression:k,workerUrl:V}){if(k&&window.Worker){const fe=function Mc(k){try{const V=k||function Oc(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function gu(){const k=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(k)}():""}();if(!V)return;hs("[Replay] Using compression worker"+(k?` from ${k}`:""));const fe=new Worker(V);return new la(fe)}catch{hs("[Replay] Failed to create compression worker")}}(V);if(fe)return fe}return hs("[Replay] Using simple buffer"),new wl}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(V){Ps&&ce.vF.error("[Replay]",V),Ps&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,x.Cp)(V)}_initializeSessionForSampling(V){const qe=wi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:V},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=qe}_checkSession(){if(!this.session)return!1;const V=this.session;return!ts(V,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(V),!1)}_refreshSession(V){var fe=this;return(0,d.A)(function*(){fe._isEnabled&&(yield fe.stop({reason:"refresh session"}),fe.initializeSampling(V.id))})()}_addListeners(){try{ve.document.addEventListener("visibilitychange",this._handleVisibilityChange),ve.addEventListener("blur",this._handleWindowBlur),ve.addEventListener("focus",this._handleWindowFocus),ve.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function xe(k){const V=(0,C.KU)();(0,oe.i)((k=>V=>{if(!k.isEnabled())return;const fe=function Fn(k){const{target:V,message:fe}=function qn(k){const V="click"===k.name;let fe,qe=null;try{qe=V?Pn(k.event):Di(k.event),fe=(0,J.Hd)(qe,{maxStringLength:200})||"<unknown>"}catch{fe="<unknown>"}return{target:qe,message:fe}}(k);return Et({category:`ui.${k.name}`,...an(V,fe)})}(V);if(!fe)return;const qe="click"===V.name,At=qe?V.event:void 0;qe&&k.clickDetector&&At&&At.target&&!At.altKey&&!At.metaKey&&!At.ctrlKey&&!At.shiftKey&&function Nr(k,V,fe){k.handleClick(V,fe)}(k.clickDetector,fe,Pn(V.event)),ze(k,fe)})(k)),(0,_e._)(function Va(k){return V=>{if(!k.isEnabled())return;const fe=function Jd(k){const{from:V,to:fe}=k,qe=Date.now()/1e3;return{type:"navigation.push",start:qe,end:qe,name:fe,data:{previous:V}}}(V);null!==fe&&(k.getContext().urls.push(fe.name),k.triggerUserActivity(),k.addUpdate(()=>(eu(k,[fe]),!1)))}}(k)),function Wu(k){const V=(0,C.KU)();V&&V.on("beforeAddBreadcrumb",fe=>function Vo(k,V){if(!k.isEnabled()||!yu(V))return;const fe=function tc(k){return!yu(k)||["fetch","xhr","sentry.event","sentry.transaction"].includes(k.category)||k.category.startsWith("ui.")?null:"console"===k.category?function tf(k){const V=k.data&&k.data.arguments;if(!Array.isArray(V)||0===V.length)return Et(k);let fe=!1;const qe=V.map(At=>{if(!At)return At;if("string"==typeof At)return At.length>5e3?(fe=!0,`${At.slice(0,5e3)}\u2026`):At;if("object"==typeof At)try{const Yt=(0,z.S8)(At,7);return JSON.stringify(Yt).length>5e3?(fe=!0,`${JSON.stringify(Yt,null,2).slice(0,5e3)}\u2026`):Yt}catch{}return At});return Et({...k,data:{...k.data,arguments:qe,...fe?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(k):Et(k)}(V);fe&&ze(k,fe)}(k,fe))}(k),fl(k);const fe=function Jc(k){return Object.assign((V,fe)=>k.isEnabled()?function cl(k){return"replay_event"===k.type}(V)?(delete V.breadcrumbs,V):($o(V)||Bo(V)||Zc(V))&&k.checkAndHandleExpiredSession()?Zc(V)?(k.flush(),V.contexts.feedback.replay_id=k.getSessionId(),function dl(k,V){k.triggerUserActivity(),k.addUpdate(()=>!V.timestamp||(k.throttledAddEvent({type:$r.Custom,timestamp:1e3*V.timestamp,data:{tag:"breadcrumb",payload:{timestamp:V.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:V.event_id}}}}),!1))}(k,V),V):function Nc(k,V){return!(k.type||!k.exception||!k.exception.values||!k.exception.values.length||!V.originalException||!V.originalException.__rrweb__)}(V,fe)&&!k.getOptions()._experiments.captureExceptions?(Ps&&ce.vF.log("[Replay] Ignoring error from rrweb internals",V),null):((function Ca(k,V){return!("buffer"!==k.recordingMode||V.message===Qe||!V.exception||V.type)&&Ue(k.getOptions().errorSampleRate)}(k,V)||"session"===k.recordingMode)&&(V.tags={...V.tags,replayId:k.getSessionId()}),V):V:V,{id:"Replay"})}(k);(0,x.SA)(fe),V&&(V.on("beforeSendEvent",function mc(k){return V=>{!k.isEnabled()||!$o(V)||function Zs(k,V){const fe=V.exception&&V.exception.values&&V.exception.values[0]&&V.exception.values[0].value;"string"==typeof fe&&(fe.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||fe.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&ze(k,Et({category:"replay.hydrate-error",data:{url:(0,J.$N)()}}))}(k,V)}}(k)),V.on("afterSendEvent",function ec(k){return(V,fe)=>{if(!k.isEnabled()||!$o(V)&&!Bo(V))return;const qe=fe&&fe.statusCode;if(!(!qe||qe<200||qe>=300)){if(Bo(V))return void function Cl(k,V){const fe=k.getContext();V.contexts&&V.contexts.trace&&V.contexts.trace.trace_id&&fe.traceIds.size<100&&fe.traceIds.add(V.contexts.trace.trace_id)}(k,V);!function ul(k,V){const fe=k.getContext();if(V.event_id&&fe.errorIds.size<100&&fe.errorIds.add(V.event_id),"buffer"!==k.recordingMode||!V.tags||!V.tags.replayId)return;const{beforeErrorSampling:qe}=k.getOptions();"function"==typeof qe&&!qe(V)||(0,Je.wg)(()=>{k.sendBufferedReplayOrFlush()})}(k,V)}}}(k)),V.on("createDsc",qe=>{const At=k.getSessionId();At&&k.isEnabled()&&"session"===k.recordingMode&&k.checkAndHandleExpiredSession()&&(qe.replay_id=At)}),V.on("spanStart",qe=>{k.lastActiveSpan=qe}),V.on("spanEnd",qe=>{k.lastActiveSpan=qe}),V.on("beforeSendFeedback",(qe,At)=>{const Yt=k.getSessionId();At&&At.includeReplay&&k.isEnabled()&&Yt&&qe.contexts&&qe.contexts.feedback&&(qe.contexts.feedback.replay_id=Yt)}))}(this),this._hasInitializedCoreListeners=!0)}catch(V){this._handleException(V)}this._performanceCleanupCallback=function as(k){function V(At){k.performanceEntries.includes(At)||k.performanceEntries.push(At)}function fe({entries:At}){At.forEach(V)}const qe=[];return["navigation","paint","resource"].forEach(At=>{qe.push((0,je.wv)(At,fe))}),qe.push((0,je.Pt)(Br(Yo,k)),(0,je.a9)(Br(Qs,k)),(0,je.T5)(Br(bl,k)),(0,je.hT)(Br(aa,k))),()=>{qe.forEach(At=>At())}}(this)}_removeListeners(){try{ve.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ve.removeEventListener("blur",this._handleWindowBlur),ve.removeEventListener("focus",this._handleWindowFocus),ve.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(V){this._handleException(V)}}__init(){this._handleVisibilityChange=()=>{"visible"===ve.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const V=Et({category:"ui.blur"});this._doChangeToBackgroundTasks(V)}}__init3(){this._handleWindowFocus=()=>{const V=Et({category:"ui.focus"});this._doChangeToForegroundTasks(V)}}__init4(){this._handleKeyboardEvent=V=>{!function fi(k,V){if(!k.isEnabled())return;k.updateUserActivity();const fe=function Jn(k){const{metaKey:V,shiftKey:fe,ctrlKey:qe,altKey:At,key:Yt,target:_n}=k;if(!_n||function ki(k){return"INPUT"===k.tagName||"TEXTAREA"===k.tagName||k.isContentEditable}(_n)||!Yt)return null;if(!(V||qe||At)&&1===Yt.length)return null;const Xn=(0,J.Hd)(_n,{maxStringLength:200})||"<unknown>";return Et({category:"ui.keyDown",message:Xn,data:{...an(_n,Xn).data,metaKey:V,shiftKey:fe,ctrlKey:qe,altKey:At,key:Yt}})}(V);fe&&ze(k,fe)}(this,V)}}_doChangeToBackgroundTasks(V){!this.session||Yr(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(V&&this._createCustomBreadcrumb(V),this.conditionalFlush())}_doChangeToForegroundTasks(V){this.session&&(this.checkAndHandleExpiredSession()?V&&this._createCustomBreadcrumb(V):hs("[Replay] Document has become active, but session has expired"))}_updateUserActivity(V=Date.now()){this._lastActivity=V}_updateSessionActivity(V=Date.now()){this.session&&(this.session.lastActivity=V,this._maybeSaveSession())}_createCustomBreadcrumb(V){this.addUpdate(()=>{this.throttledAddEvent({type:$r.Custom,timestamp:V.timestamp||0,data:{tag:"breadcrumb",payload:V}})})}_addPerformanceEntries(){const V=function os(k){return k.map(zs).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(eu(this,V))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:V,eventBuffer:fe}=this;if(!V||!fe||this._requiresManualStart||V.segmentId)return;const qe=fe.getEarliestTimestamp();qe&&qe<this._context.initialTimestamp&&(this._context.initialTimestamp=qe)}_popEventContext(){const V={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),V}_runFlush(){var V=this;return(0,d.A)(function*(){const fe=V.getSessionId();if(V.session&&V.eventBuffer&&fe){if(yield V._addPerformanceEntries(),V.eventBuffer&&V.eventBuffer.hasEvents&&(yield function ge(k){return Ke.apply(this,arguments)}(V),V.eventBuffer&&fe===V.getSessionId()))try{V._updateInitialTimestampFromEventBuffer();const qe=Date.now();if(qe-V._context.initialTimestamp>V._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const At=V._popEventContext(),Yt=V.session.segmentId++;V._maybeSaveSession();const _n=yield V.eventBuffer.finish();yield Ol({replayId:fe,recordingData:_n,segmentId:Yt,eventContext:At,session:V.session,options:V.getOptions(),timestamp:qe})}catch(qe){V._handleException(qe),V.stop({reason:"sendReplay"});const At=(0,C.KU)();At&&At.recordDroppedEvent("send_error","replay")}}else Ps&&ce.vF.error("[Replay] No session or eventBuffer found to flush.")})()}__init5(){var V=this;this._flush=(0,d.A)(function*({force:fe=!1}={}){if(!V._isEnabled&&!fe)return;if(!V.checkAndHandleExpiredSession())return void(Ps&&ce.vF.error("[Replay] Attempting to finish replay event after session expired."));if(!V.session)return;const qe=V.session.started,Yt=Date.now()-qe;V._debouncedFlush.cancel();const _n=Yt<V._options.minReplayDuration;if(_n||Yt>V._options.maxReplayDuration+5e3)return hs(`[Replay] Session duration (${Math.floor(Yt/1e3)}s) is too ${_n?"short":"long"}, not sending replay.`,V._options._experiments.traceInternals),void(_n&&V._debouncedFlush());const Cn=V.eventBuffer;if(Cn&&0===V.session.segmentId&&!Cn.hasCheckout&&hs("[Replay] Flushing initial segment without checkout.",V._options._experiments.traceInternals),!V._flushLock)return V._flushLock=V._runFlush(),yield V._flushLock,void(V._flushLock=void 0);try{yield V._flushLock}catch(Xn){Ps&&ce.vF.error(Xn)}finally{V._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&on(this.session)}__init6(){this._onMutationHandler=V=>{const fe=V.length,qe=this._options.mutationLimit,Yt=qe&&fe>qe;if(fe>this._options.mutationBreadcrumbLimit||Yt){const _n=Et({category:"replay.mutations",data:{count:fe,limit:Yt}});this._createCustomBreadcrumb(_n)}return!Yt||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Mr(k,V){return[...k,...V].join(",")}const Hc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',yc=["content-length","content-type","accept"];let su=!1;const Rl=k=>new Ku(k);class Ku{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:V=5e3,flushMaxDelay:fe=5500,minReplayDuration:qe=4999,maxReplayDuration:At=36e5,stickySession:Yt=!0,useCompression:_n=!0,workerUrl:Bn,_experiments:Cn={},maskAllText:Xn=!0,maskAllInputs:mi=!0,blockAllMedia:hi=!0,mutationBreadcrumbLimit:xi=750,mutationLimit:Si=1e4,slowClickTimeout:Un=7e3,slowClickIgnoreSelectors:_i=[],networkDetailAllowUrls:nr=[],networkDetailDenyUrls:er=[],networkCaptureBodies:Wr=!0,networkRequestHeaders:xs=[],networkResponseHeaders:Ls=[],mask:qr=[],maskAttributes:xr=["title","placeholder"],unmask:dr=[],block:Xi=[],unblock:ca=[],ignore:Cr=[],maskFn:ls,beforeAddRecordingEvent:cs,beforeErrorSampling:qo}={}){this.name=Ku.id;const Qo=function Is({mask:k,unmask:V,block:fe,unblock:qe,ignore:At}){return{maskTextSelector:Mr(k,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Mr(V,[]),blockSelector:Mr(fe,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:Mr(qe,[]),ignoreSelector:Mr(At,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:qr,unmask:dr,block:Xi,unblock:ca,ignore:Cr});if(this._recordingOptions={maskAllInputs:mi,maskAllText:Xn,maskInputOptions:{password:!0},maskTextFn:ls,maskInputFn:ls,maskAttributeFn:(Qa,Ds,Kc)=>function ru({el:k,key:V,maskAttributes:fe,maskAllText:qe,privacyOptions:At,value:Yt}){return!qe||At.unmaskTextSelector&&k.matches(At.unmaskTextSelector)?Yt:fe.includes(V)||"value"===V&&"INPUT"===k.tagName&&["submit","button"].includes(k.getAttribute("type")||"")?Yt.replace(/[\S]/g,"*"):Yt}({maskAttributes:xr,maskAllText:Xn,privacyOptions:Qo,key:Qa,value:Ds,el:Kc}),...Qo,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Qa=>{try{Qa.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:V,flushMaxDelay:fe,minReplayDuration:Math.min(qe,15e3),maxReplayDuration:Math.min(At,36e5),stickySession:Yt,useCompression:_n,workerUrl:Bn,blockAllMedia:hi,maskAllInputs:mi,maskAllText:Xn,mutationBreadcrumbLimit:xi,mutationLimit:Si,slowClickTimeout:Un,slowClickIgnoreSelectors:_i,networkDetailAllowUrls:nr,networkDetailDenyUrls:er,networkCaptureBodies:Wr,networkRequestHeaders:Gc(xs),networkResponseHeaders:Gc(Ls),beforeAddRecordingEvent:cs,beforeErrorSampling:qo,_experiments:Cn},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Hc}`:Hc),this._isInitialized&&Xe())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return su}set _isInitialized(V){su=V}afterAllSetup(V){!Xe()||this._replay||(this._setup(V),this._initialize(V))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(V){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(V):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(V){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(V),this._replay.initializeSampling())}_setup(V){const fe=function zl(k,V){const fe=V.getOptions(),qe={sessionSampleRate:0,errorSampleRate:0,...(0,F.Ce)(k)},At=(0,M.i)(fe.replaysSessionSampleRate),Yt=(0,M.i)(fe.replaysOnErrorSampleRate);return null==At&&null==Yt&&(0,ce.pq)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=At&&(qe.sessionSampleRate=At),null!=Yt&&(qe.errorSampleRate=Yt),qe}(this._initialOptions,V);this._replay=new Js({options:fe,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(V){try{const fe=V.getIntegrationByName("ReplayCanvas");if(!fe)return;this._replay._canvas=fe.getOptions()}catch{}}}function Gc(k){return[...yc,...k.map(V=>V.toLowerCase())]}Ku.__initStatic()},8933:(dn,Ne,_)=>{"use strict";_.d(Ne,{jP:()=>Oo,dp:()=>yr,JF:()=>cn,Ts:()=>Ch});var d=_(1229),A=_(2849),w=_(1205),D=_(1582),C=_(6851),S=_(1772);const I=[];function y(xe){const ge=xe.defaultIntegrations||[],Ke=xe.integrations;let Oe;ge.forEach(hn=>{hn.isDefaultInstance=!0}),Oe=Array.isArray(Ke)?[...ge,...Ke]:"function"==typeof Ke?(0,D.k9)(Ke(ge)):ge;const Wt=function E(xe){const ge={};return xe.forEach(Ke=>{const{name:Oe}=Ke,Wt=ge[Oe];Wt&&!Wt.isDefaultInstance&&Ke.isDefaultInstance||(ge[Oe]=Ke)}),Object.values(ge)}(Oe),Jt=Wt.findIndex(hn=>"Debug"===hn.name);if(Jt>-1){const[hn]=Wt.splice(Jt,1);Wt.push(hn)}return Wt}function $(xe,ge){for(const Ke of ge)Ke&&Ke.afterAllSetup&&Ke.afterAllSetup(xe)}function R(xe,ge,Ke){if(Ke[ge.name])S.T&&w.vF.log(`Integration skipped because it was already installed: ${ge.name}`);else{if(Ke[ge.name]=ge,-1===I.indexOf(ge.name)&&"function"==typeof ge.setupOnce&&(ge.setupOnce(),I.push(ge.name)),ge.setup&&"function"==typeof ge.setup&&ge.setup(xe),"function"==typeof ge.preprocessEvent){const Oe=ge.preprocessEvent.bind(ge);xe.on("preprocessEvent",(Wt,Jt)=>Oe(Wt,Jt,xe))}if("function"==typeof ge.processEvent){const Oe=ge.processEvent.bind(ge),Wt=Object.assign((Jt,hn)=>Oe(Jt,hn,xe),{id:ge.name});xe.addEventProcessor(Wt)}S.T&&w.vF.log(`Integration installed: ${ge.name}`)}}const L=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],J=(xe={})=>({name:"InboundFilters",processEvent(ge,Ke,Oe){const Wt=Oe.getOptions(),Jt=function ue(xe={},ge={}){return{allowUrls:[...xe.allowUrls||[],...ge.allowUrls||[]],denyUrls:[...xe.denyUrls||[],...ge.denyUrls||[]],ignoreErrors:[...xe.ignoreErrors||[],...ge.ignoreErrors||[],...xe.disableErrorDefaults?[]:L],ignoreTransactions:[...xe.ignoreTransactions||[],...ge.ignoreTransactions||[]],ignoreInternal:void 0===xe.ignoreInternal||xe.ignoreInternal}}(xe,Wt);return function ce(xe,ge){return ge.ignoreInternal&&function W(xe){try{return"SentryError"===xe.exception.values[0].type}catch{}return!1}(xe)?(S.T&&w.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,D.$X)(xe)}`),!0):function re(xe,ge){return!(xe.type||!ge||!ge.length)&&function se(xe){const ge=[];let Ke;xe.message&&ge.push(xe.message);try{Ke=xe.exception.values[xe.exception.values.length-1]}catch{}return Ke&&Ke.value&&(ge.push(Ke.value),Ke.type&&ge.push(`${Ke.type}: ${Ke.value}`)),ge}(xe).some(Ke=>(0,C.Xr)(Ke,ge))}(xe,ge.ignoreErrors)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,D.$X)(xe)}`),!0):function Me(xe){return!(xe.type||!xe.exception||!xe.exception.values||0===xe.exception.values.length||xe.message||xe.exception.values.some(ge=>ge.stacktrace||ge.type&&"Error"!==ge.type||ge.value))}(xe)?(S.T&&w.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${(0,D.$X)(xe)}`),!0):function we(xe,ge){if("transaction"!==xe.type||!ge||!ge.length)return!1;const Ke=xe.transaction;return!!Ke&&(0,C.Xr)(Ke,ge)}(xe,ge.ignoreTransactions)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,D.$X)(xe)}`),!0):function j(xe,ge){if(!ge||!ge.length)return!1;const Ke=Q(xe);return!!Ke&&(0,C.Xr)(Ke,ge)}(xe,ge.denyUrls)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,D.$X)(xe)}.\nUrl: ${Q(xe)}`),!0):!function Y(xe,ge){if(!ge||!ge.length)return!0;const Ke=Q(xe);return!Ke||(0,C.Xr)(Ke,ge)}(xe,ge.allowUrls)&&(S.T&&w.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,D.$X)(xe)}.\nUrl: ${Q(xe)}`),!0)}(ge,Jt)?null:ge}});function Q(xe){try{let ge;try{ge=xe.exception.values[0].stacktrace.frames}catch{}return ge?function Ce(xe=[]){for(let ge=xe.length-1;ge>=0;ge--){const Ke=xe[ge];if(Ke&&"<anonymous>"!==Ke.filename&&"[native code]"!==Ke.filename)return Ke.filename||null}return null}(ge):null}catch{return S.T&&w.vF.error(`Cannot extract url for event ${(0,D.$X)(xe)}`),null}}var Xe=_(7593);let yt;const je=new WeakMap,oe=()=>({name:"FunctionToString",setupOnce(){yt=Function.prototype.toString;try{Function.prototype.toString=function(...xe){const ge=(0,Xe.sp)(this),Ke=je.has((0,A.KU)())&&void 0!==ge?ge:this;return yt.apply(Ke,xe)}}catch{}},setup(xe){je.set(xe,!0)}});var _e=_(3439);const Ve=()=>{let xe;return{name:"Dedupe",processEvent(ge){if(ge.type)return ge;try{if(function Qe(xe,ge){return!(!ge||!function Pt(xe,ge){const Ke=xe.message,Oe=ge.message;return!(!Ke&&!Oe||Ke&&!Oe||!Ke&&Oe||Ke!==Oe||!Vt(xe,ge)||!qt(xe,ge))}(xe,ge)&&!function Se(xe,ge){const Ke=Tt(ge),Oe=Tt(xe);return!!(Ke&&Oe&&Ke.type===Oe.type&&Ke.value===Oe.value&&Vt(xe,ge)&&qt(xe,ge))}(xe,ge))}(ge,xe))return S.T&&w.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return xe=ge}}};function qt(xe,ge){let Ke=(0,_e.RV)(xe),Oe=(0,_e.RV)(ge);if(!Ke&&!Oe)return!0;if(Ke&&!Oe||!Ke&&Oe||Oe.length!==Ke.length)return!1;for(let Wt=0;Wt<Oe.length;Wt++){const Jt=Oe[Wt],hn=Ke[Wt];if(Jt.filename!==hn.filename||Jt.lineno!==hn.lineno||Jt.colno!==hn.colno||Jt.function!==hn.function)return!1}return!0}function Vt(xe,ge){let Ke=xe.fingerprint,Oe=ge.fingerprint;if(!Ke&&!Oe)return!0;if(Ke&&!Oe||!Ke&&Oe)return!1;try{return Ke.join("")===Oe.join("")}catch{return!1}}function Tt(xe){return xe.exception&&xe.exception.values&&xe.exception.values[0]}var Re=_(3977);function vt(xe){return`${xe.protocol?`${xe.protocol}:`:""}//${xe.host}${xe.port?`:${xe.port}`:""}${xe.path?`/${xe.path}`:""}/api/`}var Ut=_(774),wt=_(1100),ct=_(1362),ut=_(5612),Z=_(7138);class Fe extends Error{constructor(ge,Ke="warn"){super(ge),this.message=ge,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Ke}}var pe=_(8423),Gt=_(8492),nn=_(8165),xt=_(898),zt=_(4707),$t=_(1995);const vn="Not capturing exception because it's already been captured.";class Nn{constructor(ge){if(this._options=ge,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],ge.dsn?this._dsn=(0,Re.AD)(ge.dsn):S.T&&w.vF.warn("No DSN provided, client will not send events."),this._dsn){const Ke=function st(xe,ge,Ke){return ge||`${function It(xe){return`${vt(xe)}${xe.projectId}/envelope/`}(xe)}?${function ot(xe,ge){return(0,Xe.u4)({sentry_key:xe.publicKey,sentry_version:"7",...ge&&{sentry_client:`${ge.name}/${ge.version}`}})}(xe,Ke)}`}(this._dsn,ge.tunnel,ge._metadata?ge._metadata.sdk:void 0);this._transport=ge.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...ge.transportOptions,url:Ke})}}captureException(ge,Ke,Oe){const Wt=(0,D.eJ)();if((0,D.GR)(ge))return S.T&&w.vF.log(vn),Wt;const Jt={event_id:Wt,...Ke};return this._process(this.eventFromException(ge,Jt).then(hn=>this._captureEvent(hn,Jt,Oe))),Jt.event_id}captureMessage(ge,Ke,Oe,Wt){const Jt={event_id:(0,D.eJ)(),...Oe},hn=(0,ct.NF)(ge)?ge:String(ge),Mn=(0,ct.sO)(ge)?this.eventFromMessage(hn,Ke,Jt):this.eventFromException(ge,Jt);return this._process(Mn.then(di=>this._captureEvent(di,Jt,Wt))),Jt.event_id}captureEvent(ge,Ke,Oe){const Wt=(0,D.eJ)();if(Ke&&Ke.originalException&&(0,D.GR)(Ke.originalException))return S.T&&w.vF.log(vn),Wt;const Jt={event_id:Wt,...Ke};return this._process(this._captureEvent(ge,Jt,(ge.sdkProcessingMetadata||{}).capturedSpanScope||Oe)),Jt.event_id}captureSession(ge){"string"!=typeof ge.release?S.T&&w.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(ge),(0,xt.qO)(ge,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(ge){const Ke=this._transport;return Ke?(this.emit("flush"),this._isClientDoneProcessing(ge).then(Oe=>Ke.flush(ge).then(Wt=>Oe&&Wt))):(0,ut.XW)(!0)}close(ge){return this.flush(ge).then(Ke=>(this.getOptions().enabled=!1,this.emit("close"),Ke))}getEventProcessors(){return this._eventProcessors}addEventProcessor(ge){this._eventProcessors.push(ge)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(ge){return this._integrations[ge]}addIntegration(ge){const Ke=this._integrations[ge.name];R(this,ge,this._integrations),Ke||$(this,[ge])}sendEvent(ge,Ke={}){this.emit("beforeSendEvent",ge,Ke);let Oe=function sn(xe,ge,Ke,Oe){const Wt=(0,Z.Cj)(Ke),Jt=xe.type&&"replay_event"!==xe.type?xe.type:"event";!function Wn(xe,ge){ge&&(xe.sdk=xe.sdk||{},xe.sdk.name=xe.sdk.name||ge.name,xe.sdk.version=xe.sdk.version||ge.version,xe.sdk.integrations=[...xe.sdk.integrations||[],...ge.integrations||[]],xe.sdk.packages=[...xe.sdk.packages||[],...ge.packages||[]])}(xe,Ke&&Ke.sdk);const hn=(0,Z.n2)(xe,Wt,Oe,ge);return delete xe.sdkProcessingMetadata,(0,Z.h4)(hn,[[{type:Jt},xe]])}(ge,this._dsn,this._options._metadata,this._options.tunnel);for(const Jt of Ke.attachments||[])Oe=(0,Z.W3)(Oe,(0,Z.bm)(Jt));const Wt=this.sendEnvelope(Oe);Wt&&Wt.then(Jt=>this.emit("afterSendEvent",ge,Jt),null)}sendSession(ge){const Ke=function vi(xe,ge,Ke,Oe){const Wt=(0,Z.Cj)(Ke),Jt={sent_at:(new Date).toISOString(),...Wt&&{sdk:Wt},...!!Oe&&ge&&{dsn:(0,Re.SB)(ge)}},hn="aggregates"in xe?[{type:"sessions"},xe]:[{type:"session"},xe.toJSON()];return(0,Z.h4)(Jt,[hn])}(ge,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(Ke)}recordDroppedEvent(ge,Ke,Oe){if(this._options.sendClientReports){const Wt=`${ge}:${Ke}`;S.T&&w.vF.log(`Adding outcome: "${Wt}"`),this._outcomes[Wt]=(this._outcomes[Wt]||0)+1}}on(ge,Ke){const Oe=this._hooks[ge]=this._hooks[ge]||[];return Oe.push(Ke),()=>{const Wt=Oe.indexOf(Ke);Wt>-1&&Oe.splice(Wt,1)}}emit(ge,...Ke){const Oe=this._hooks[ge];Oe&&Oe.forEach(Wt=>Wt(...Ke))}sendEnvelope(ge){return this.emit("beforeEnvelope",ge),this._isEnabled()&&this._transport?this._transport.send(ge).then(null,Ke=>(S.T&&w.vF.error("Error while sending event:",Ke),Ke)):(S.T&&w.vF.error("Transport disabled"),(0,ut.XW)({}))}_setupIntegrations(){const{integrations:ge}=this._options;this._integrations=function x(xe,ge){const Ke={};return ge.forEach(Oe=>{Oe&&R(xe,Oe,Ke)}),Ke}(this,ge),$(this,ge)}_updateSessionFromEvent(ge,Ke){let Oe=!1,Wt=!1;const Jt=Ke.exception&&Ke.exception.values;if(Jt){Wt=!0;for(const di of Jt){const Ii=di.mechanism;if(Ii&&!1===Ii.handled){Oe=!0;break}}}const hn="ok"===ge.status;(hn&&0===ge.errors||hn&&Oe)&&((0,xt.qO)(ge,{...Oe&&{status:"crashed"},errors:ge.errors||Number(Wt||Oe)}),this.captureSession(ge))}_isClientDoneProcessing(ge){return new ut.T2(Ke=>{let Oe=0;const Jt=setInterval(()=>{0==this._numProcessing?(clearInterval(Jt),Ke(!0)):(Oe+=1,ge&&Oe>=ge&&(clearInterval(Jt),Ke(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(ge,Ke,Oe,Wt=(0,A.rm)()){const Jt=this.getOptions(),hn=Object.keys(this._integrations);return!Ke.integrations&&hn.length>0&&(Ke.integrations=hn),this.emit("preprocessEvent",ge,Ke),ge.type||Wt.setLastEventId(ge.event_id||Ke.event_id),(0,$t.mG)(Jt,ge,Ke,Oe,this,Wt).then(Mn=>{if(null===Mn)return Mn;const di={...Wt.getPropagationContext(),...Oe?Oe.getPropagationContext():void 0};if((!Mn.contexts||!Mn.contexts.trace)&&di){const{traceId:Ei,spanId:Vi,parentSpanId:Kr,dsc:ps}=di;Mn.contexts={trace:(0,Xe.Ce)({trace_id:Ei,span_id:Vi,parent_span_id:Kr}),...Mn.contexts};const Rt=ps||(0,Gt.lF)(Ei,this);Mn.sdkProcessingMetadata={dynamicSamplingContext:Rt,...Mn.sdkProcessingMetadata}}return Mn})}_captureEvent(ge,Ke={},Oe){return this._processEvent(ge,Ke,Oe).then(Wt=>Wt.event_id,Wt=>{if(S.T){const Jt=Wt;"log"===Jt.logLevel?w.vF.log(Jt.message):w.vF.warn(Jt)}})}_processEvent(ge,Ke,Oe){const Wt=this.getOptions(),{sampleRate:Jt}=Wt,hn=En(ge),Mn=Gn(ge),di=ge.type||"error",Ii=`before send for type \`${di}\``,Ei=typeof Jt>"u"?void 0:(0,zt.i)(Jt);if(Mn&&"number"==typeof Ei&&Math.random()>Ei)return this.recordDroppedEvent("sample_rate","error",ge),(0,ut.xg)(new Fe(`Discarding event because it's not included in the random sample (sampling rate = ${Jt})`,"log"));const Vi="replay_event"===di?"replay":di;return this._prepareEvent(ge,Ke,Oe,(ge.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(Rt=>{if(null===Rt)throw this.recordDroppedEvent("event_processor",Vi,ge),new Fe("An event processor returned `null`, will not send event.","log");if(Ke.data&&!0===Ke.data.__sentry__)return Rt;const Ol=function Sn(xe,ge,Ke,Oe){const{beforeSend:Wt,beforeSendTransaction:Jt,beforeSendSpan:hn}=ge;if(Gn(Ke)&&Wt)return Wt(Ke,Oe);if(En(Ke)){if(Ke.spans&&hn){const Mn=[];for(const di of Ke.spans){const Ii=hn(di);Ii?Mn.push(Ii):xe.recordDroppedEvent("before_send","span")}Ke.spans=Mn}if(Jt)return Jt(Ke,Oe)}return Ke}(this,Wt,Rt,Ke);return function Ni(xe,ge){const Ke=`${ge} must return \`null\` or a valid event.`;if((0,ct.Qg)(xe))return xe.then(Oe=>{if(!(0,ct.Qd)(Oe)&&null!==Oe)throw new Fe(Ke);return Oe},Oe=>{throw new Fe(`${ge} rejected with ${Oe}`)});if(!(0,ct.Qd)(xe)&&null!==xe)throw new Fe(Ke);return xe}(Ol,Ii)}).then(Rt=>{if(null===Rt)throw this.recordDroppedEvent("before_send",Vi,ge),En(ge)&&(this._outcomes.span=(this._outcomes.span||0)+(1+(ge.spans||[]).length)),new Fe(`${Ii} returned \`null\`, will not send event.`,"log");const Es=Oe&&Oe.getSession();!hn&&Es&&this._updateSessionFromEvent(Es,Rt);const Ol=Rt.transaction_info;if(hn&&Ol&&Rt.transaction!==ge.transaction){const fn="custom";Rt.transaction_info={...Ol,source:fn}}return this.sendEvent(Rt,Ke),Rt}).then(null,Rt=>{throw Rt instanceof Fe?Rt:(this.captureException(Rt,{data:{__sentry__:!0},originalException:Rt}),new Fe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${Rt}`))})}_process(ge){this._numProcessing++,ge.then(Ke=>(this._numProcessing--,Ke),Ke=>(this._numProcessing--,Ke))}_clearOutcomes(){const ge=this._outcomes;return this._outcomes={},Object.entries(ge).map(([Ke,Oe])=>{const[Wt,Jt]=Ke.split(":");return{reason:Wt,category:Jt,quantity:Oe}})}_flushOutcomes(){S.T&&w.vF.log("Flushing outcomes...");const ge=this._clearOutcomes();if(0===ge.length)return void(S.T&&w.vF.log("No outcomes to send"));if(!this._dsn)return void(S.T&&w.vF.log("No dsn provided, will not send outcomes"));S.T&&w.vF.log("Sending outcomes:",ge);const Ke=function at(xe,ge,Ke){const Oe=[{type:"client_report"},{timestamp:Ke||(0,pe.lu)(),discarded_events:xe}];return(0,Z.h4)(ge?{dsn:ge}:{},[Oe])}(ge,this._options.tunnel&&(0,Re.SB)(this._dsn));this.sendEnvelope(Ke)}}function Gn(xe){return void 0===xe.type}function En(xe){return"transaction"===xe.type}var Kn=_(3408);function pt(xe,ge,Ke=[ge],Oe="npm"){const Wt=xe._metadata||{};Wt.sdk||(Wt.sdk={name:`sentry.javascript.${ge}`,packages:Ke.map(Jt=>({name:`${Oe}:@sentry/${Jt}`,version:Kn.M})),version:Kn.M}),xe._metadata=Wt}var $e=_(679);const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Be=_(6362);function gt(xe,ge){const Ke=lt(xe,ge),Oe={type:ge&&ge.name,value:bt(ge)};return Ke.length&&(Oe.stacktrace={frames:Ke}),void 0===Oe.type&&""===Oe.value&&(Oe.value="Unrecoverable error caught"),Oe}function gn(xe,ge){return{exception:{values:[gt(xe,ge)]}}}function lt(xe,ge){const Ke=ge.stacktrace||ge.stack||"",Oe=function rt(xe){return xe&&Te.test(xe.message)?1:0}(ge),Wt=function Le(xe){return"number"==typeof xe.framesToPop?xe.framesToPop:0}(ge);try{return xe(Ke,Oe,Wt)}catch{}return[]}const Te=/Minified React error #\d+;/i;function bt(xe){const ge=xe&&xe.message;return ge?ge.error&&"string"==typeof ge.error.message?ge.error.message:ge:"No error message"}function On(xe,ge,Ke,Oe,Wt){let Jt;if((0,ct.T2)(ge)&&ge.error)return gn(xe,ge.error);if((0,ct.BD)(ge)||(0,ct.W6)(ge)){const hn=ge;if("stack"in ge)Jt=gn(xe,ge);else{const Mn=hn.name||((0,ct.BD)(hn)?"DOMError":"DOMException"),di=hn.message?`${Mn}: ${hn.message}`:Mn;Jt=ei(xe,di,Ke,Oe),(0,D.gO)(Jt,di)}return"code"in hn&&(Jt.tags={...Jt.tags,"DOMException.code":`${hn.code}`}),Jt}return(0,ct.bJ)(ge)?gn(xe,ge):(0,ct.Qd)(ge)||(0,ct.xH)(ge)?(Jt=function Zt(xe,ge,Ke,Oe){const Wt=(0,A.KU)(),Jt=Wt&&Wt.getOptions().normalizeDepth,hn=function Ci(xe){for(const ge in xe)if(Object.prototype.hasOwnProperty.call(xe,ge)){const Ke=xe[ge];if(Ke instanceof Error)return Ke}}(ge),Mn={__serialized__:(0,Be.cd)(ge,Jt)};if(hn)return{exception:{values:[gt(xe,hn)]},extra:Mn};const di={exception:{values:[{type:(0,ct.xH)(ge)?ge.constructor.name:Oe?"UnhandledRejection":"Error",value:pi(ge,{isUnhandledRejection:Oe})}]},extra:Mn};if(Ke){const Ii=lt(xe,Ke);Ii.length&&(di.exception.values[0].stacktrace={frames:Ii})}return di}(xe,ge,Ke,Wt),(0,D.M6)(Jt,{synthetic:!0}),Jt):(Jt=ei(xe,ge,Ke,Oe),(0,D.gO)(Jt,`${ge}`,void 0),(0,D.M6)(Jt,{synthetic:!0}),Jt)}function ei(xe,ge,Ke,Oe){const Wt={};if(Oe&&Ke){const Jt=lt(xe,Ke);Jt.length&&(Wt.exception={values:[{value:ge,stacktrace:{frames:Jt}}]})}if((0,ct.NF)(ge)){const{__sentry_template_string__:Jt,__sentry_template_values__:hn}=ge;return Wt.logentry={message:Jt,params:hn},Wt}return Wt.message=ge,Wt}function pi(xe,{isUnhandledRejection:ge}){const Ke=(0,Xe.HF)(xe),Oe=ge?"promise rejection":"exception";return(0,ct.T2)(xe)?`Event \`ErrorEvent\` captured as ${Oe} with message \`${xe.message}\``:(0,ct.xH)(xe)?`Event \`${function zi(xe){try{const ge=Object.getPrototypeOf(xe);return ge?ge.constructor.name:void 0}catch{}}(xe)}\` (type=${xe.type}) captured as ${Oe}`:`Object captured as ${Oe} with keys: ${Ke}`}var Gi=_(2031);const Qn=Gi.O;let Ki=0;function ur(){return Ki>0}function Tr(xe,ge={},Ke){if("function"!=typeof xe)return xe;try{const Wt=xe.__sentry_wrapped__;if(Wt)return Wt;if((0,Xe.sp)(xe))return xe}catch{return xe}const Oe=function(){const Wt=Array.prototype.slice.call(arguments);try{Ke&&"function"==typeof Ke&&Ke.apply(this,arguments);const Jt=Wt.map(hn=>Tr(hn,ge));return xe.apply(this,Jt)}catch(Jt){throw function or(){Ki++,setTimeout(()=>{Ki--})}(),(0,A.v4)(hn=>{hn.addEventProcessor(Mn=>(ge.mechanism&&((0,D.gO)(Mn,void 0,void 0),(0,D.M6)(Mn,ge.mechanism)),Mn.extra={...Mn.extra,arguments:Wt},Mn)),(0,d.Cp)(Jt)}),Jt}};try{for(const Wt in xe)Object.prototype.hasOwnProperty.call(xe,Wt)&&(Oe[Wt]=xe[Wt])}catch{}(0,Xe.pO)(Oe,xe),(0,Xe.my)(xe,"__sentry_wrapped__",Oe);try{Object.getOwnPropertyDescriptor(Oe,"name").configurable&&Object.defineProperty(Oe,"name",{get:()=>xe.name})}catch{}return Oe}class Ur extends Nn{constructor(ge){const Ke={parentSpanIsAlwaysRootSpan:!0,...ge};pt(Ke,"browser",["browser"],Qn.SENTRY_SDK_SOURCE||(0,$e.e)()),super(Ke),Ke.sendClientReports&&Qn.document&&Qn.document.addEventListener("visibilitychange",()=>{"hidden"===Qn.document.visibilityState&&this._flushOutcomes()})}eventFromException(ge,Ke){return function Ft(xe,ge,Ke,Oe){const Jt=On(xe,ge,Ke&&Ke.syntheticException||void 0,Oe);return(0,D.M6)(Jt),Jt.level="error",Ke&&Ke.event_id&&(Jt.event_id=Ke.event_id),(0,ut.XW)(Jt)}(this._options.stackParser,ge,Ke,this._options.attachStacktrace)}eventFromMessage(ge,Ke="info",Oe){return function In(xe,ge,Ke="info",Oe,Wt){const hn=ei(xe,ge,Oe&&Oe.syntheticException||void 0,Wt);return hn.level=Ke,Oe&&Oe.event_id&&(hn.event_id=Oe.event_id),(0,ut.XW)(hn)}(this._options.stackParser,ge,Ke,Oe,this._options.attachStacktrace)}captureUserFeedback(ge){if(!this._isEnabled())return void(We&&w.vF.warn("SDK not enabled, will not capture user feedback."));const Ke=function Hr(xe,{metadata:ge,tunnel:Ke,dsn:Oe}){const Wt={event_id:xe.event_id,sent_at:(new Date).toISOString(),...ge&&ge.sdk&&{sdk:{name:ge.sdk.name,version:ge.sdk.version}},...!!Ke&&!!Oe&&{dsn:(0,Re.SB)(Oe)}},Jt=function _s(xe){return[{type:"user_report"},xe]}(xe);return(0,Z.h4)(Wt,[Jt])}(ge,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(Ke)}_prepareEvent(ge,Ke,Oe){return ge.platform=ge.platform||"javascript",super._prepareEvent(ge,Ke,Oe)}}var ys=_(8283),Cs=_(4097),ss=_(7376),Yi=_(5027);function cr(){"console"in Gi.O&&w.Ow.forEach(function(xe){xe in Gi.O.console&&(0,Xe.GS)(Gi.O.console,xe,function(ge){return w.Z9[xe]=ge,function(...Ke){(0,Yi.aj)("console",{args:Ke,level:xe});const Wt=w.Z9[xe];Wt&&Wt.apply(Gi.O.console,Ke)}})})}function ji(xe){(0,Yi.s5)("fetch",xe),(0,Yi.AS)("fetch",ii)}function ii(){(0,Ut.m7)()&&(0,Xe.GS)(Gi.O,"fetch",function(xe){return function(...ge){const{method:Ke,url:Oe}=function ne(xe){if(0===xe.length)return{method:"GET",url:""};if(2===xe.length){const[Ke,Oe]=xe;return{url:Mt(Ke),method:Ge(Oe,"method")?String(Oe.method).toUpperCase():"GET"}}const ge=xe[0];return{url:Mt(ge),method:Ge(ge,"method")?String(ge.method).toUpperCase():"GET"}}(ge),Wt={args:ge,fetchData:{method:Ke,url:Oe},startTimestamp:1e3*(0,pe.zf)()};(0,Yi.aj)("fetch",{...Wt});const Jt=(new Error).stack;return xe.apply(Gi.O,ge).then(hn=>{const Mn={...Wt,endTimestamp:1e3*(0,pe.zf)(),response:hn};return(0,Yi.aj)("fetch",Mn),hn},hn=>{const Mn={...Wt,endTimestamp:1e3*(0,pe.zf)(),error:hn};throw(0,Yi.aj)("fetch",Mn),(0,ct.bJ)(hn)&&void 0===hn.stack&&(hn.stack=Jt,(0,Xe.my)(hn,"framesToPop",1)),hn})}})}function Ge(xe,ge){return!!xe&&"object"==typeof xe&&!!xe[ge]}function Mt(xe){return"string"==typeof xe?xe:xe?Ge(xe,"url")?xe.url:xe.toString?xe.toString():"":""}var et=_(4440);const He=["fatal","error","warning","log","info","debug"];function kt(xe){return"warn"===xe?"warning":He.includes(xe)?xe:"log"}function Bt(xe){if(!xe)return{};const ge=xe.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!ge)return{};const Ke=ge[6]||"",Oe=ge[8]||"";return{host:ge[4],path:ge[5],protocol:ge[2],search:Ke,hash:Oe,relative:ge[5]+Ke+Oe}}const ds=(xe={})=>{const ge={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...xe};return{name:"Breadcrumbs",setup(Ke){ge.console&&function ar(xe){const ge="console";(0,Yi.s5)(ge,xe),(0,Yi.AS)(ge,cr)}(function Jr(xe){return function(Ke){if((0,A.KU)()!==xe)return;const Oe={category:"console",data:{arguments:Ke.args,logger:"console"},level:kt(Ke.level),message:(0,C.gt)(Ke.args," ")};if("assert"===Ke.level){if(!1!==Ke.args[0])return;Oe.message=`Assertion failed: ${(0,C.gt)(Ke.args.slice(1)," ")||"console.assert"}`,Oe.data.arguments=Ke.args.slice(1)}(0,ss.Z)(Oe,{input:Ke.args,level:Ke.level})}}(Ke)),ge.dom&&(0,ys.i)(function Er(xe,ge){return function(Oe){if((0,A.KU)()!==xe)return;let Wt,Jt,hn="object"==typeof ge?ge.serializeAttribute:void 0,Mn="object"==typeof ge&&"number"==typeof ge.maxStringLength?ge.maxStringLength:void 0;Mn&&Mn>1024&&(We&&w.vF.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${Mn} was configured. Sentry will use 1024 instead.`),Mn=1024),"string"==typeof hn&&(hn=[hn]);try{const Ii=Oe.event,Ei=function Io(xe){return!!xe&&!!xe.target}(Ii)?Ii.target:Ii;Wt=(0,et.Hd)(Ei,{keyAttrs:hn,maxStringLength:Mn}),Jt=(0,et.xE)(Ei)}catch{Wt="<unknown>"}if(0===Wt.length)return;const di={category:`ui.${Oe.name}`,message:Wt};Jt&&(di.data={"ui.component_name":Jt}),(0,ss.Z)(di,{event:Oe.event,name:Oe.name,global:Oe.global})}}(Ke,ge.dom)),ge.xhr&&(0,Cs.Mn)(function Ss(xe){return function(Ke){if((0,A.KU)()!==xe)return;const{startTimestamp:Oe,endTimestamp:Wt}=Ke,Jt=Ke.xhr[Cs.Er];if(!Oe||!Wt||!Jt)return;const{method:hn,url:Mn,status_code:di,body:Ii}=Jt;(0,ss.Z)({category:"xhr",data:{method:hn,url:Mn,status_code:di},type:"http"},{xhr:Ke.xhr,input:Ii,startTimestamp:Oe,endTimestamp:Wt})}}(Ke)),ge.fetch&&ji(function Jo(xe){return function(Ke){if((0,A.KU)()!==xe)return;const{startTimestamp:Oe,endTimestamp:Wt}=Ke;if(Wt&&(!Ke.fetchData.url.match(/sentry_key/)||"POST"!==Ke.fetchData.method))if(Ke.error)(0,ss.Z)({category:"fetch",data:Ke.fetchData,level:"error",type:"http"},{data:Ke.error,input:Ke.args,startTimestamp:Oe,endTimestamp:Wt});else{const Jt=Ke.response,hn={...Ke.fetchData,status_code:Jt&&Jt.status};(0,ss.Z)({category:"fetch",data:hn,type:"http"},{input:Ke.args,response:Jt,startTimestamp:Oe,endTimestamp:Wt})}}}(Ke)),ge.history&&(0,wt._)(function Vr(xe){return function(Ke){if((0,A.KU)()!==xe)return;let Oe=Ke.from,Wt=Ke.to;const Jt=Bt(Qn.location.href);let hn=Oe?Bt(Oe):void 0;const Mn=Bt(Wt);(!hn||!hn.path)&&(hn=Jt),Jt.protocol===Mn.protocol&&Jt.host===Mn.host&&(Wt=Mn.relative),Jt.protocol===hn.protocol&&Jt.host===hn.host&&(Oe=hn.relative),(0,ss.Z)({category:"navigation",data:{from:Oe,to:Wt}})}}(Ke)),ge.sentry&&Ke.on("beforeSendEvent",function Os(xe){return function(Ke){(0,A.KU)()===xe&&(0,ss.Z)({category:"sentry."+("transaction"===Ke.type?"transaction":"event"),event_id:Ke.event_id,level:Ke.level,message:(0,D.$X)(Ke)},{event:Ke})}}(Ke))}}},Ho=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ga=(xe={})=>{const ge={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...xe};return{name:"BrowserApiErrors",setupOnce(){ge.setTimeout&&(0,Xe.GS)(Qn,"setTimeout",Ka),ge.setInterval&&(0,Xe.GS)(Qn,"setInterval",Ka),ge.requestAnimationFrame&&(0,Xe.GS)(Qn,"requestAnimationFrame",_a),ge.XMLHttpRequest&&"XMLHttpRequest"in Qn&&(0,Xe.GS)(XMLHttpRequest.prototype,"send",ea);const Ke=ge.eventTarget;Ke&&(Array.isArray(Ke)?Ke:Ho).forEach(yl)}}};function Ka(xe){return function(...ge){return ge[0]=Tr(ge[0],{mechanism:{data:{function:(0,_e.qQ)(xe)},handled:!1,type:"instrument"}}),xe.apply(this,ge)}}function _a(xe){return function(ge){return xe.apply(this,[Tr(ge,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,_e.qQ)(xe)},handled:!1,type:"instrument"}})])}}function ea(xe){return function(...ge){const Ke=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(Wt=>{Wt in Ke&&"function"==typeof Ke[Wt]&&(0,Xe.GS)(Ke,Wt,function(Jt){const hn={mechanism:{data:{function:Wt,handler:(0,_e.qQ)(Jt)},handled:!1,type:"instrument"}},Mn=(0,Xe.sp)(Jt);return Mn&&(hn.mechanism.data.handler=(0,_e.qQ)(Mn)),Tr(Jt,hn)})}),xe.apply(this,ge)}}function yl(xe){const Ke=Qn[xe]&&Qn[xe].prototype;!Ke||!Ke.hasOwnProperty||!Ke.hasOwnProperty("addEventListener")||((0,Xe.GS)(Ke,"addEventListener",function(Oe){return function(Wt,Jt,hn){try{"function"==typeof Jt.handleEvent&&(Jt.handleEvent=Tr(Jt.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,_e.qQ)(Jt),target:xe},handled:!1,type:"instrument"}}))}catch{}return Oe.apply(this,[Wt,Tr(Jt,{mechanism:{data:{function:"addEventListener",handler:(0,_e.qQ)(Jt),target:xe},handled:!1,type:"instrument"}}),hn])}}),(0,Xe.GS)(Ke,"removeEventListener",function(Oe){return function(Wt,Jt,hn){const Mn=Jt;try{const di=Mn&&Mn.__sentry_wrapped__;di&&Oe.call(this,Wt,di,hn)}catch{}return Oe.call(this,Wt,Mn,hn)}}))}let kl=null;function Oa(xe){(0,Yi.s5)("error",xe),(0,Yi.AS)("error",ya)}function ya(){kl=Gi.O.onerror,Gi.O.onerror=function(xe,ge,Ke,Oe,Wt){return(0,Yi.aj)("error",{column:Oe,error:Wt,line:Ke,msg:xe,url:ge}),!(!kl||kl.__SENTRY_LOADER__)&&kl.apply(this,arguments)},Gi.O.onerror.__SENTRY_INSTRUMENTED__=!0}let Ra=null;function fc(xe){const ge="unhandledrejection";(0,Yi.s5)(ge,xe),(0,Yi.AS)(ge,Na)}function Na(){Ra=Gi.O.onunhandledrejection,Gi.O.onunhandledrejection=function(xe){return(0,Yi.aj)("unhandledrejection",xe),!(Ra&&!Ra.__SENTRY_LOADER__)||Ra.apply(this,arguments)},Gi.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Rr=(xe={})=>{const ge={onerror:!0,onunhandledrejection:!0,...xe};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(Ke){ge.onerror&&(function so(xe){Oa(ge=>{const{stackParser:Ke,attachStacktrace:Oe}=va();if((0,A.KU)()!==xe||ur())return;const{msg:Wt,url:Jt,line:hn,column:Mn,error:di}=ge,Ii=function Gs(xe,ge,Ke,Oe){const Wt=xe.exception=xe.exception||{},Jt=Wt.values=Wt.values||[],hn=Jt[0]=Jt[0]||{},Mn=hn.stacktrace=hn.stacktrace||{},di=Mn.frames=Mn.frames||[],Ii=isNaN(parseInt(Oe,10))?void 0:Oe,Ei=isNaN(parseInt(Ke,10))?void 0:Ke,Vi=(0,ct.Kg)(ge)&&ge.length>0?ge:(0,et.$N)();return 0===di.length&&di.push({colno:Ii,filename:Vi,function:_e.yF,in_app:!0,lineno:Ei}),xe}(On(Ke,di||Wt,void 0,Oe,!1),Jt,hn,Mn);Ii.level="error",(0,d.r)(Ii,{originalException:di,mechanism:{handled:!1,type:"onerror"}})})}(Ke),oo("onerror")),ge.onunhandledrejection&&(function Hs(xe){fc(ge=>{const{stackParser:Ke,attachStacktrace:Oe}=va();if((0,A.KU)()!==xe||ur())return;const Wt=function Ql(xe){if((0,ct.sO)(xe))return xe;try{if("reason"in xe)return xe.reason;if("detail"in xe&&"reason"in xe.detail)return xe.detail.reason}catch{}return xe}(ge),Jt=(0,ct.sO)(Wt)?function ta(xe){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(xe)}`}]}}}(Wt):On(Ke,Wt,void 0,Oe,!0);Jt.level="error",(0,d.r)(Jt,{originalException:Wt,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(Ke),oo("onunhandledrejection"))}}};function oo(xe){We&&w.vF.log(`Global Handler attached: ${xe}`)}function va(){const xe=(0,A.KU)();return xe&&xe.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Po=()=>({name:"HttpContext",preprocessEvent(xe){if(!Qn.navigator&&!Qn.location&&!Qn.document)return;const ge=xe.request&&xe.request.url||Qn.location&&Qn.location.href,{referrer:Ke}=Qn.document||{},{userAgent:Oe}=Qn.navigator||{},Wt={...xe.request&&xe.request.headers,...Ke&&{Referer:Ke},...Oe&&{"User-Agent":Oe}},Jt={...xe.request,...ge&&{url:ge},headers:Wt};xe.request=Jt}});function rl(xe,ge,Ke=250,Oe,Wt,Jt,hn){if(!(Jt.exception&&Jt.exception.values&&hn&&(0,ct.tH)(hn.originalException,Error)))return;const Mn=Jt.exception.values.length>0?Jt.exception.values[Jt.exception.values.length-1]:void 0;Mn&&(Jt.exception.values=function Go(xe,ge){return xe.map(Ke=>(Ke.value&&(Ke.value=(0,C.xv)(Ke.value,ge)),Ke))}(bo(xe,ge,Wt,hn.originalException,Oe,Jt.exception.values,Mn,0),Ke))}function bo(xe,ge,Ke,Oe,Wt,Jt,hn,Mn){if(Jt.length>=Ke+1)return Jt;let di=[...Jt];if((0,ct.tH)(Oe[Wt],Error)){wo(hn,Mn);const Ii=xe(ge,Oe[Wt]),Ei=di.length;Pa(Ii,Wt,Ei,Mn),di=bo(xe,ge,Ke,Oe[Wt],Wt,[Ii,...di],Ii,Ei)}return Array.isArray(Oe.errors)&&Oe.errors.forEach((Ii,Ei)=>{if((0,ct.tH)(Ii,Error)){wo(hn,Mn);const Vi=xe(ge,Ii),Kr=di.length;Pa(Vi,`errors[${Ei}]`,Kr,Mn),di=bo(xe,ge,Ke,Ii,Wt,[Vi,...di],Vi,Kr)}}),di}function wo(xe,ge){xe.mechanism=xe.mechanism||{type:"generic",handled:!0},xe.mechanism={...xe.mechanism,..."AggregateError"===xe.type&&{is_exception_group:!0},exception_id:ge}}function Pa(xe,ge,Ke,Oe){xe.mechanism=xe.mechanism||{type:"generic",handled:!0},xe.mechanism={...xe.mechanism,type:"chained",source:ge,exception_id:Ke,parent_id:Oe}}const na=(xe={})=>{const ge=xe.limit||5,Ke=xe.key||"cause";return{name:"LinkedErrors",preprocessEvent(Oe,Wt,Jt){const hn=Jt.getOptions();rl(gt,hn.stackParser,hn.maxValueLength,Ke,ge,Oe,Wt)}}};function Ao(xe,ge,Ke,Oe){const Wt={filename:xe,function:"<anonymous>"===ge?_e.yF:ge,in_app:!0};return void 0!==Ke&&(Wt.lineno=Ke),void 0!==Oe&&(Wt.colno=Oe),Wt}const mo=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Fo=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ia=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ea=(0,_e.gd)([30,xe=>{const ge=mo.exec(xe);if(ge){const[,Oe,Wt,Jt]=ge;return Ao(Oe,_e.yF,+Wt,+Jt)}const Ke=Fo.exec(xe);if(Ke){if(Ke[2]&&0===Ke[2].indexOf("eval")){const hn=Zl.exec(Ke[2]);hn&&(Ke[2]=hn[1],Ke[3]=hn[2],Ke[4]=hn[3])}const[Wt,Jt]=sa(Ke[1]||_e.yF,Ke[2]);return Ao(Jt,Wt,Ke[3]?+Ke[3]:void 0,Ke[4]?+Ke[4]:void 0)}}],[50,xe=>{const ge=Ko.exec(xe);if(ge){if(ge[3]&&ge[3].indexOf(" > eval")>-1){const Jt=ia.exec(ge[3]);Jt&&(ge[1]=ge[1]||"eval",ge[3]=Jt[1],ge[4]=Jt[2],ge[5]="")}let Oe=ge[3],Wt=ge[1]||_e.yF;return[Wt,Oe]=sa(Wt,Oe),Ao(Oe,Wt,ge[4]?+ge[4]:void 0,ge[5]?+ge[5]:void 0)}}]),sa=(xe,ge)=>{const Ke=-1!==xe.indexOf("safari-extension"),Oe=-1!==xe.indexOf("safari-web-extension");return Ke||Oe?[-1!==xe.indexOf("@")?xe.split("@")[0]:_e.yF,Ke?`safari-extension:${ge}`:`safari-web-extension:${ge}`]:[xe,ge]};var Xo=_(4820);var pr=_(1857);const ks=64;function $a(xe,ge){if("event"===ge||"transaction"===ge)return Array.isArray(xe)?xe[1]:void 0}function Vs(xe,ge=(0,Xo.qd)("fetch")){let Ke=0,Oe=0;return function lo(xe,ge,Ke=function ll(xe){const ge=[];function Oe(hn){return ge.splice(ge.indexOf(hn),1)[0]||Promise.resolve(void 0)}return{$:ge,add:function Wt(hn){if(!function Ke(){return void 0===xe||ge.length<xe}())return(0,ut.xg)(new Fe("Not adding Promise because buffer limit was reached."));const Mn=hn();return-1===ge.indexOf(Mn)&&ge.push(Mn),Mn.then(()=>Oe(Mn)).then(null,()=>Oe(Mn).then(null,()=>{})),Mn},drain:function Jt(hn){return new ut.T2((Mn,di)=>{let Ii=ge.length;if(!Ii)return Mn(!0);const Ei=setTimeout(()=>{hn&&hn>0&&Mn(!1)},hn);ge.forEach(Vi=>{(0,ut.XW)(Vi).then(()=>{--Ii||(clearTimeout(Ei),Mn(!0))},di)})})}}}(xe.bufferSize||ks)){let Oe={};return{send:function Jt(hn){const Mn=[];if((0,Z.yH)(hn,(Vi,Kr)=>{const ps=(0,Z.zk)(Kr);if((0,pr.Jz)(Oe,ps)){const Rt=$a(Vi,Kr);xe.recordDroppedEvent("ratelimit_backoff",ps,Rt)}else Mn.push(Vi)}),0===Mn.length)return(0,ut.XW)({});const di=(0,Z.h4)(hn[0],Mn),Ii=Vi=>{(0,Z.yH)(di,(Kr,ps)=>{const Rt=$a(Kr,ps);xe.recordDroppedEvent(Vi,(0,Z.zk)(ps),Rt)})};return Ke.add(()=>ge({body:(0,Z.bN)(di)}).then(Vi=>(void 0!==Vi.statusCode&&(Vi.statusCode<200||Vi.statusCode>=300)&&S.T&&w.vF.warn(`Sentry responded with status code ${Vi.statusCode} to sent event.`),Oe=(0,pr.wq)(Oe,Vi),Vi),Vi=>{throw Ii("network_error"),Vi})).then(Vi=>Vi,Vi=>{if(Vi instanceof Fe)return S.T&&w.vF.error("Skipped sending event because buffer is full."),Ii("queue_overflow"),(0,ut.XW)({});throw Vi})},flush:hn=>Ke.drain(hn)}}(xe,function Wt(Jt){const hn=Jt.body.length;Ke+=hn,Oe++;const Mn={body:Jt.body,method:"POST",referrerPolicy:"origin",headers:xe.headers,keepalive:Ke<=6e4&&Oe<15,...xe.fetchOptions};if(!ge)return(0,Xo.y7)("fetch"),(0,ut.xg)("No fetch implementation available");try{return ge(xe.url,Mn).then(di=>(Ke-=hn,Oe--,{statusCode:di.status,headers:{"x-sentry-rate-limits":di.headers.get("X-Sentry-Rate-Limits"),"retry-after":di.headers.get("Retry-After")}}))}catch(di){return(0,Xo.y7)("fetch"),Ke-=hn,Oe--,(0,ut.xg)(di)}})}function H(xe={}){const ge=function de(xe={}){return{defaultIntegrations:[J(),oe(),Ga(),ds(),Rr(),na(),Ve(),Po()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Qn.SENTRY_RELEASE&&Qn.SENTRY_RELEASE.id?Qn.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...xe}}(xe);if(function De(){const xe=Qn,Ke=xe[xe.chrome?"chrome":"browser"],Oe=Ke&&Ke.runtime&&Ke.runtime.id,Wt=Qn.location&&Qn.location.href||"",hn=!!Oe&&Qn===Qn.top&&["chrome-extension:","moz-extension:","ms-browser-extension:"].some(di=>Wt.startsWith(`${di}//`));return!(!Oe||hn||typeof xe.nw<"u")}())return void(0,w.pq)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});We&&((0,Ut.vm)()||w.vF.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const Ke={...ge,stackParser:(0,_e.vk)(ge.stackParser||Ea),integrations:y(ge),transport:ge.transport||Vs},Oe=function Ot(xe,ge){!0===ge.debug&&(S.T?w.vF.enable():(0,w.pq)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,A.o5)().update(ge.initialScope);const Oe=new xe(ge);return function ft(xe){(0,A.o5)().setClient(xe)}(Oe),Oe.init(),Oe}(Ur,Ke);return ge.autoSessionTracking&&function Ct(){typeof Qn.document>"u"?We&&w.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):((0,d.J0)({ignoreDuration:!0}),(0,d.J5)(),(0,wt._)(({from:xe,to:ge})=>{void 0!==xe&&xe!==ge&&((0,d.J0)({ignoreDuration:!0}),(0,d.J5)())}))}(),Oe}function le(xe={}){if(!Qn.document)return void(We&&w.vF.error("Global document not defined in showReportDialog call"));const ge=(0,A.o5)(),Ke=ge.getClient(),Oe=Ke&&Ke.getDsn();if(!Oe)return void(We&&w.vF.error("DSN not configured for showReportDialog call"));if(ge&&(xe.user={...ge.getUser(),...xe.user}),!xe.eventId){const Mn=(0,d.Q)();Mn&&(xe.eventId=Mn)}const Wt=Qn.document.createElement("script");Wt.async=!0,Wt.crossOrigin="anonymous",Wt.src=function Nt(xe,ge){const Ke=(0,Re.AD)(xe);if(!Ke)return"";const Oe=`${vt(Ke)}embed/error-page/`;let Wt=`dsn=${(0,Re.SB)(Ke)}`;for(const Jt in ge)if("dsn"!==Jt&&"onClose"!==Jt)if("user"===Jt){const hn=ge.user;if(!hn)continue;hn.name&&(Wt+=`&name=${encodeURIComponent(hn.name)}`),hn.email&&(Wt+=`&email=${encodeURIComponent(hn.email)}`)}else Wt+=`&${encodeURIComponent(Jt)}=${encodeURIComponent(ge[Jt])}`;return`${Oe}?${Wt}`}(Oe,xe),xe.onLoad&&(Wt.onload=xe.onLoad);const{onClose:Jt}=xe;if(Jt){const Mn=di=>{if("__sentry_reportdialog_closed__"===di.data)try{Jt()}finally{Qn.removeEventListener("message",Mn)}};Qn.addEventListener("message",Mn)}const hn=Qn.document.head||Qn.document.body;hn?hn.appendChild(Wt):We&&w.vF.error("Not injecting report dialog. No injection point found in HTML")}var Pn=_(2150),Di=_(9868),Rn=_(4541);function mr(xe){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const ge=xe||function zr(){const xe=(0,A.KU)();return xe&&xe.getOptions()}();return!!ge&&(ge.enableTracing||"tracesSampleRate"in ge||"tracesSampler"in ge)}var hr=_(2855);class Us{constructor(ge={}){this._traceId=ge.traceId||(0,D.eJ)(),this._spanId=ge.spanId||(0,D.eJ)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:nn.CC}}end(ge){}setAttribute(ge,Ke){return this}setAttributes(ge){return this}setStatus(ge){return this}updateName(ge){return this}isRecording(){return!1}addEvent(ge,Ke,Oe){return this}addLink(ge){return this}addLinks(ge){return this}recordException(ge,Ke){}}var Ns=_(3395);function xa(xe){if(!xe||0===xe.length)return;const ge={};return xe.forEach(Ke=>{const Oe=Ke.attributes||{},Wt=Oe[Rn.Sn],Jt=Oe[Rn.xc];"string"==typeof Wt&&"number"==typeof Jt&&(ge[Ke.name]={value:Jt,unit:Wt})}),ge}const oa="_sentryScope",P="_sentryIsolationScope";function Kt(xe){return{scope:xe[oa],isolationScope:xe[P]}}class en{constructor(ge={}){this._traceId=ge.traceId||(0,D.eJ)(),this._spanId=ge.spanId||(0,D.eJ)().substring(16),this._startTime=ge.startTimestamp||(0,pe.zf)(),this._attributes={},this.setAttributes({[Rn.JD]:"manual",[Rn.uT]:ge.op,...ge.attributes}),this._name=ge.name,ge.parentSpanId&&(this._parentSpanId=ge.parentSpanId),"sampled"in ge&&(this._sampled=ge.sampled),ge.endTimestamp&&(this._endTime=ge.endTimestamp),this._events=[],this._isStandaloneSpan=ge.isStandalone,this._endTime&&this._onSpanEnded()}addLink(ge){return this}addLinks(ge){return this}recordException(ge,Ke){}spanContext(){const{_spanId:ge,_traceId:Ke,_sampled:Oe}=this;return{spanId:ge,traceId:Ke,traceFlags:Oe?nn.aO:nn.CC}}setAttribute(ge,Ke){return void 0===Ke?delete this._attributes[ge]:this._attributes[ge]=Ke,this}setAttributes(ge){return Object.keys(ge).forEach(Ke=>this.setAttribute(Ke,ge[Ke])),this}updateStartTime(ge){this._startTime=(0,nn.cI)(ge)}setStatus(ge){return this._status=ge,this}updateName(ge){return this._name=ge,this}end(ge){this._endTime||(this._endTime=(0,nn.cI)(ge),function qs(xe){if(!S.T)return;const{description:ge="< unknown name >",op:Ke="< unknown op >"}=(0,nn.et)(xe),{spanId:Oe}=xe.spanContext(),Jt=(0,nn.zU)(xe)===xe;w.vF.log(`[Tracing] Finishing "${Ke}" ${Jt?"root ":""}span "${ge}" with ID ${Oe}`)}(this),this._onSpanEnded())}getSpanJSON(){return(0,Xe.Ce)({data:this._attributes,description:this._name,op:this._attributes[Rn.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,nn.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Rn.JD],_metrics_summary:(0,Ns.g)(this),profile_id:this._attributes[Rn.E1],exclusive_time:this._attributes[Rn.jG],measurements:xa(this._events),is_segment:this._isStandaloneSpan&&(0,nn.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,nn.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(ge,Ke,Oe){S.T&&w.vF.log("[Tracing] Adding an event to span:",ge);const Wt=Tn(Ke)?Ke:Oe||(0,pe.zf)(),Jt=Tn(Ke)?{}:Ke||{},hn={name:ge,time:(0,nn.cI)(Wt),attributes:Jt};return this._events.push(hn),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const ge=(0,A.KU)();if(ge&&ge.emit("spanEnd",this),!this._isStandaloneSpan&&this!==(0,nn.zU)(this))return;if(this._isStandaloneSpan)return void(this._sampled?function qn(xe){const ge=(0,A.KU)();if(!ge)return;const Ke=xe[1];if(!Ke||0===Ke.length)return void ge.recordDroppedEvent("before_send","span");const Oe=ge.getTransport();Oe&&Oe.send(xe).then(null,Wt=>{S.T&&w.vF.error("Error while sending span:",Wt)})}(function tn(xe,ge){const Oe=(0,Gt.k1)(xe[0]),Wt=ge&&ge.getDsn(),Jt=ge&&ge.getOptions().tunnel,hn={sent_at:(new Date).toISOString(),...function Ke(Ei){return!!Ei.trace_id&&!!Ei.public_key}(Oe)&&{trace:Oe},...!!Jt&&Wt&&{dsn:(0,Re.SB)(Wt)}},Mn=ge&&ge.getOptions().beforeSendSpan,di=Mn?Ei=>Mn((0,nn.et)(Ei)):Ei=>(0,nn.et)(Ei),Ii=[];for(const Ei of xe){const Vi=di(Ei);Vi&&Ii.push((0,Z.y5)(Vi))}return(0,Z.h4)(hn,Ii)}([this],ge)):(S.T&&w.vF.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),ge&&ge.recordDroppedEvent("sample_rate","span")));const Oe=this._convertSpanToTransaction();Oe&&(Kt(this).scope||(0,A.o5)()).captureEvent(Oe)}_convertSpanToTransaction(){if(!an((0,nn.et)(this)))return;this._name||(S.T&&w.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:ge,isolationScope:Ke}=Kt(this),Wt=(ge||(0,A.o5)()).getClient()||(0,A.KU)();if(!0!==this._sampled)return S.T&&w.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(Wt&&Wt.recordDroppedEvent("sample_rate","transaction"));const hn=(0,nn.xO)(this).filter(Vi=>Vi!==this&&!function Fn(xe){return xe instanceof en&&xe.isStandaloneSpan()}(Vi)).map(Vi=>(0,nn.et)(Vi)).filter(an),Mn=this._attributes[Rn.i_],di={contexts:{trace:(0,nn.Ck)(this)},spans:hn.length>1e3?hn.sort((Vi,Kr)=>Vi.start_timestamp-Kr.start_timestamp).slice(0,1e3):hn,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:ge,capturedSpanIsolationScope:Ke,...(0,Xe.Ce)({dynamicSamplingContext:(0,Gt.k1)(this)})},_metrics_summary:(0,Ns.g)(this),...Mn&&{transaction_info:{source:Mn}}},Ii=xa(this._events);return Ii&&Object.keys(Ii).length&&(S.T&&w.vF.log("[Measurements] Adding measurements to transaction event",JSON.stringify(Ii,void 0,2)),di.measurements=Ii),di}}function Tn(xe){return xe&&"number"==typeof xe||xe instanceof Date||Array.isArray(xe)}function an(xe){return!!(xe.start_timestamp&&xe.timestamp&&xe.span_id&&xe.trace_id)}const zn="__SENTRY_SUPPRESS_TRACING__";function ki(xe){const ge=Jl();if(ge.startInactiveSpan)return ge.startInactiveSpan(xe);const Ke=function ns(xe){const Ke={isStandalone:(xe.experimental||{}).standalone,...xe};if(xe.startTime){const Oe={...Ke};return Oe.startTimestamp=(0,nn.cI)(xe.startTime),delete Oe.startTime,Oe}return Ke}(xe),{forceTransaction:Oe,parentSpan:Wt}=xe;return(xe.scope?hn=>(0,A.v4)(xe.scope,hn):void 0!==Wt?hn=>Br(Wt,hn):hn=>hn())(()=>{const hn=(0,A.o5)(),Mn=function Qs(xe){const ge=(0,hr.f)(xe);if(!ge)return;const Ke=(0,A.KU)();return(Ke?Ke.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,nn.zU)(ge):ge}(hn);return xe.onlyIfParent&&!Mn?new Us:function Gr({parentSpan:xe,spanArguments:ge,forceTransaction:Ke,scope:Oe}){if(!mr())return new Us;const Wt=(0,A.rm)();let Jt;if(xe&&!Ke)Jt=function Yo(xe,ge,Ke){const{spanId:Oe,traceId:Wt}=xe.spanContext(),Jt=!ge.getScopeData().sdkProcessingMetadata[zn]&&(0,nn.pK)(xe),hn=Jt?new en({...Ke,parentSpanId:Oe,traceId:Wt,sampled:Jt}):new Us({traceId:Wt});(0,nn.Hu)(xe,hn);const Mn=(0,A.KU)();return Mn&&(Mn.emit("spanStart",hn),Ke.endTimestamp&&Mn.emit("spanEnd",hn)),hn}(xe,Oe,ge),(0,nn.Hu)(xe,Jt);else if(xe){const hn=(0,Gt.k1)(xe),{traceId:Mn,spanId:di}=xe.spanContext(),Ii=(0,nn.pK)(xe);Jt=Mo({traceId:Mn,parentSpanId:di,...ge},Oe,Ii),(0,Gt.LZ)(Jt,hn)}else{const{traceId:hn,dsc:Mn,parentSpanId:di,sampled:Ii}={...Wt.getPropagationContext(),...Oe.getPropagationContext()};Jt=Mo({traceId:hn,parentSpanId:di,...ge},Oe,Ii),Mn&&(0,Gt.LZ)(Jt,Mn)}return function Nr(xe){if(!S.T)return;const{description:ge="< unknown name >",op:Ke="< unknown op >",parent_span_id:Oe}=(0,nn.et)(xe),{spanId:Wt}=xe.spanContext(),Jt=(0,nn.pK)(xe),hn=(0,nn.zU)(xe),Mn=hn===xe,di=`[Tracing] Starting ${Jt?"sampled":"unsampled"} ${Mn?"root ":""}span`,Ii=[`op: ${Ke}`,`name: ${ge}`,`ID: ${Wt}`];if(Oe&&Ii.push(`parent ID: ${Oe}`),!Mn){const{op:Ei,description:Vi}=(0,nn.et)(hn);Ii.push(`root ID: ${hn.spanContext().spanId}`),Ei&&Ii.push(`root op: ${Ei}`),Vi&&Ii.push(`root description: ${Vi}`)}w.vF.log(`${di}\n  ${Ii.join("\n  ")}`)}(Jt),function Et(xe,ge,Ke){xe&&((0,Xe.my)(xe,P,Ke),(0,Xe.my)(xe,oa,ge))}(Jt,Oe,Wt),Jt}({parentSpan:Mn,spanArguments:Ke,forceTransaction:Oe,scope:hn})})}function Br(xe,ge){const Ke=Jl();return Ke.withActiveSpan?Ke.withActiveSpan(xe,ge):(0,A.v4)(Oe=>((0,hr.r)(Oe,xe||void 0),ge(Oe)))}function Jl(){const xe=(0,Pn.E)();return(0,Di.h)(xe)}function Mo(xe,ge,Ke){const Oe=(0,A.KU)(),Wt=Oe&&Oe.getOptions()||{},{name:Jt="",attributes:hn}=xe,[Mn,di]=ge.getScopeData().sdkProcessingMetadata[zn]?[!1]:function Dr(xe,ge){if(!mr(xe))return[!1];let Ke;Ke="function"==typeof xe.tracesSampler?xe.tracesSampler(ge):void 0!==ge.parentSampled?ge.parentSampled:typeof xe.tracesSampleRate<"u"?xe.tracesSampleRate:1;const Oe=(0,zt.i)(Ke);return void 0===Oe?(S.T&&w.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):Oe?Math.random()<Oe?[!0,Oe]:(S.T&&w.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(Ke)})`),[!1,Oe]):(S.T&&w.vF.log("[Tracing] Discarding transaction because "+("function"==typeof xe.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,Oe])}(Wt,{name:Jt,parentSampled:Ke,attributes:hn,transactionContext:{name:Jt,parentSampled:Ke}}),Ii=new en({...xe,attributes:{[Rn.i_]:"custom",...xe.attributes},sampled:Mn});return void 0!==di&&Ii.setAttribute(Rn.sy,di),Oe&&Oe.emit("spanStart",Ii),Ii}var aa=_(3803),_r=_(524),as=_(3963);function Ps(xe){return"number"==typeof xe&&isFinite(xe)}function Ac(xe,ge,Ke,{...Oe}){const Wt=(0,nn.et)(xe).start_timestamp;return Wt&&Wt>ge&&"function"==typeof xe.updateStartTime&&xe.updateStartTime(ge),Br(xe,()=>{const Jt=ki({startTime:ge,...Oe});return Jt&&Jt.end(Ke),Jt})}function gu(){return _r.j&&_r.j.addEventListener&&_r.j.performance}function hs(xe){return xe/1e3}var Ba=_(242),_u=_(9056);const fs=2147483647;let co,la,wl=0,Wo={};function Ui(xe,ge,Ke,Oe,Wt,Jt){const hn=Jt?ge[Jt]:ge[`${Ke}End`],Mn=ge[`${Ke}Start`];!Mn||!hn||Ac(xe,Oe+hs(Mn),Oe+hs(hn),{op:"browser",name:Wt||Ke,attributes:{[Rn.JD]:"auto.ui.browser.metrics"}})}function eo(xe,ge,Ke,Oe){const Wt=ge[Ke];null!=Wt&&Wt<fs&&(xe[Oe]=Wt)}const uo=[],Vl=new Map;const Rc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var Bo=_(5989);const cl={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function mc(xe,ge={}){const Ke=new Map;let Wt,Oe=!1,Jt="externalFinish",hn=!ge.disableAutoFinish;const Mn=[],{idleTimeout:di=cl.idleTimeout,finalTimeout:Ii=cl.finalTimeout,childSpanTimeout:Ei=cl.childSpanTimeout,beforeSpanEnd:Vi}=ge,Kr=(0,A.KU)();if(!Kr||!mr())return new Us;const ps=(0,A.o5)(),Rt=(0,nn.Bk)(),Es=function Zs(xe){const ge=ki(xe);return(0,hr.r)((0,A.o5)(),ge),S.T&&w.vF.log("[Tracing] Started span is an idle span"),ge}(xe);function Ol(){Wt&&(clearTimeout(Wt),Wt=void 0)}function fn(Mr){Ol(),Wt=setTimeout(()=>{!Oe&&0===Ke.size&&hn&&(Jt="idleTimeout",Es.end(Mr))},di)}function Sa(Mr){Wt=setTimeout(()=>{!Oe&&hn&&(Jt="heartbeatFailed",Es.end(Mr))},Ei)}function Js(Mr){Oe=!0,Ke.clear(),Mn.forEach(Rl=>Rl()),(0,hr.r)(ps,Rt);const Is=(0,nn.et)(Es),{start_timestamp:ru}=Is;if(!ru)return;(Is.data||{})[Rn.fs]||Es.setAttribute(Rn.fs,Jt),w.vF.log(`[Tracing] Idle span "${Is.op}" finished`);const yc=(0,nn.xO)(Es).filter(Rl=>Rl!==Es);let su=0;yc.forEach(Rl=>{Rl.isRecording()&&(Rl.setStatus({code:Bo.TJ,message:"cancelled"}),Rl.end(Mr),S.T&&w.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Rl,void 0,2)));const Ku=(0,nn.et)(Rl),{timestamp:zl=0,start_timestamp:Gc=0}=Ku,Dh=Gc<=Mr,V=zl-Gc<=(Ii+di)/1e3;if(S.T){const fe=JSON.stringify(Rl,void 0,2);Dh?V||w.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",fe):w.vF.log("[Tracing] Discarding span since it happened after idle span was finished",fe)}(!V||!Dh)&&((0,nn.VS)(Es,Rl),su++)}),su>0&&Es.setAttribute("sentry.idle_span_discarded_spans",su)}return Es.end=new Proxy(Es.end,{apply(Mr,Is,ru){Vi&&Vi(Es);const[Hc,...yc]=ru,su=Hc||(0,pe.zf)(),Rl=(0,nn.cI)(su),Ku=(0,nn.xO)(Es).filter(V=>V!==Es);if(!Ku.length)return Js(Rl),Reflect.apply(Mr,Is,[Rl,...yc]);const zl=Ku.map(V=>(0,nn.et)(V).timestamp).filter(V=>!!V),Gc=zl.length?Math.max(...zl):void 0,Dh=(0,nn.et)(Es).start_timestamp,k=Math.min(Dh?Dh+Ii/1e3:1/0,Math.max(Dh||-1/0,Math.min(Rl,Gc||1/0)));return Js(k),Reflect.apply(Mr,Is,[k,...yc])}}),Mn.push(Kr.on("spanStart",Mr=>{Oe||Mr===Es||(0,nn.et)(Mr).timestamp||(0,nn.xO)(Es).includes(Mr)&&function go(Mr){Ol(),Ke.set(Mr,!0),Sa((0,pe.zf)()+Ei/1e3)}(Mr.spanContext().spanId)})),Mn.push(Kr.on("spanEnd",Mr=>{Oe||function Ro(Mr){Ke.has(Mr)&&Ke.delete(Mr),0===Ke.size&&fn((0,pe.zf)()+di/1e3)}(Mr.spanContext().spanId)})),Mn.push(Kr.on("idleSpanEnableAutoFinish",Mr=>{Mr===Es&&(hn=!0,fn(),Ke.size&&Sa())})),ge.disableAutoFinish||fn(),setTimeout(()=>{Oe||(Es.setStatus({code:Bo.TJ,message:"deadline_exceeded"}),Jt="finalTimeout",Es.end())},Ii),Es}let Wu=!1;function tc(){const xe=(0,nn.Bk)(),ge=xe&&(0,nn.zU)(xe);if(ge){const Ke="internal_error";S.T&&w.vF.log(`[Tracing] Root span: ${Ke} -> Global error occured`),ge.setStatus({code:Bo.TJ,message:Ke})}}tc.tag="sentry_tracingErrorCallback";var tf=_(3902),yu=_(1475),dl=_(6570);const Va={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function jr(xe){const{traceFetch:ge,traceXHR:Ke,shouldCreateSpanForRequest:Oe,enableHTTPTimings:Wt,tracePropagationTargets:Jt}={traceFetch:Va.traceFetch,traceXHR:Va.traceXHR,...xe},hn="function"==typeof Oe?Oe:Ii=>!0,Mn=Ii=>function vu(xe,ge){const Ke=Qn.location&&Qn.location.href;if(Ke){let Oe,Wt;try{Oe=new URL(xe,Ke),Wt=new URL(Ke).origin}catch{return!1}const Jt=Oe.origin===Wt;return ge?(0,C.Xr)(Oe.toString(),ge)||Jt&&(0,C.Xr)(Oe.pathname,ge):Jt}{const Oe=!!xe.match(/^\/(?!\/)/);return ge?(0,C.Xr)(xe,ge):Oe}}(Ii,Jt),di={};ge&&ji(Ii=>{const Ei=function Ca(xe,ge,Ke,Oe,Wt="auto.http.browser"){if(!xe.fetchData)return;const Jt=mr()&&ge(xe.fetchData.url);if(xe.endTimestamp&&Jt){const Rt=xe.fetchData.__span;if(!Rt)return;const Es=Oe[Rt];return void(Es&&(function Jd(xe,ge){if(ge.response){(0,Bo.N8)(xe,ge.response.status);const Ke=ge.response&&ge.response.headers&&ge.response.headers.get("content-length");if(Ke){const Oe=parseInt(Ke);Oe>0&&xe.setAttribute("http.response_content_length",Oe)}}else ge.error&&xe.setStatus({code:Bo.TJ,message:"internal_error"});xe.end()}(Es,xe),delete Oe[Rt]))}const hn=(0,A.o5)(),Mn=(0,A.KU)(),{method:di,url:Ii}=xe.fetchData,Ei=function eu(xe){try{return new URL(xe).href}catch{return}}(Ii),Vi=Ei?Bt(Ei).host:void 0,Kr=!!(0,nn.Bk)(),ps=Jt&&Kr?ki({name:`${di} ${Ii}`,attributes:{url:Ii,type:"fetch","http.method":di,"http.url":Ei,"server.address":Vi,[Rn.JD]:Wt,[Rn.uT]:"http.client"}}):new Us;if(xe.fetchData.__span=ps.spanContext().spanId,Oe[ps.spanContext().spanId]=ps,Ke(xe.fetchData.url)&&Mn){const Rt=xe.args[0];xe.args[1]=xe.args[1]||{};const Es=xe.args[1];Es.headers=function Jc(xe,ge,Ke,Oe,Wt){const Jt=(0,A.rm)(),{traceId:hn,spanId:Mn,sampled:di,dsc:Ii}={...Jt.getPropagationContext(),...Ke.getPropagationContext()},Ei=Wt?(0,nn.Qh)(Wt):(0,tf.TC)(hn,Mn,di),Vi=(0,dl.De)(Ii||(Wt?(0,Gt.k1)(Wt):(0,Gt.lF)(hn,ge))),Kr=Oe.headers||(typeof Request<"u"&&(0,ct.tH)(xe,Request)?xe.headers:void 0);if(Kr){if(typeof Headers<"u"&&(0,ct.tH)(Kr,Headers)){const ps=new Headers(Kr);return ps.append("sentry-trace",Ei),Vi&&ps.append(dl.hF,Vi),ps}if(Array.isArray(Kr)){const ps=[...Kr,["sentry-trace",Ei]];return Vi&&ps.push([dl.hF,Vi]),ps}{const ps="baggage"in Kr?Kr.baggage:void 0,Rt=[];return Array.isArray(ps)?Rt.push(...ps):ps&&Rt.push(ps),Vi&&Rt.push(Vi),{...Kr,"sentry-trace":Ei,baggage:Rt.length>0?Rt.join(","):void 0}}}return{"sentry-trace":Ei,baggage:Vi}}(Rt,Mn,hn,Es,mr()&&Kr?ps:void 0)}return ps}(Ii,hn,Mn,di);if(Ei){const Vi=Td(Ii.fetchData.url),Kr=Vi?Bt(Vi).host:void 0;Ei.setAttributes({"http.url":Vi,"server.address":Kr})}Wt&&Ei&&nc(Ei)}),Ke&&(0,Cs.Mn)(Ii=>{const Ei=function Pc(xe,ge,Ke,Oe){const Wt=xe.xhr,Jt=Wt&&Wt[Cs.Er];if(!Wt||Wt.__sentry_own_request__||!Jt)return;const hn=mr()&&ge(Jt.url);if(xe.endTimestamp&&hn){const Kr=Wt.__sentry_xhr_span_id__;if(!Kr)return;const ps=Oe[Kr];return void(ps&&void 0!==Jt.status_code&&((0,Bo.N8)(ps,Jt.status_code),ps.end(),delete Oe[Kr]))}const Mn=Td(Jt.url),di=Mn?Bt(Mn).host:void 0,Ii=!!(0,nn.Bk)(),Ei=hn&&Ii?ki({name:`${Jt.method} ${Jt.url}`,attributes:{type:"xhr","http.method":Jt.method,"http.url":Mn,url:Jt.url,"server.address":di,[Rn.JD]:"auto.http.browser",[Rn.uT]:"http.client"}}):new Us;Wt.__sentry_xhr_span_id__=Ei.spanContext().spanId,Oe[Wt.__sentry_xhr_span_id__]=Ei;const Vi=(0,A.KU)();return Wt.setRequestHeader&&Ke(Jt.url)&&Vi&&function Au(xe,ge,Ke){const Oe=(0,A.o5)(),Wt=(0,A.rm)(),{traceId:Jt,spanId:hn,sampled:Mn,dsc:di}={...Wt.getPropagationContext(),...Oe.getPropagationContext()};!function gd(xe,ge,Ke){try{xe.setRequestHeader("sentry-trace",ge),Ke&&xe.setRequestHeader(dl.hF,Ke)}catch{}}(xe,Ke&&mr()?(0,nn.Qh)(Ke):(0,tf.TC)(Jt,hn,Mn),(0,dl.De)(di||(Ke?(0,Gt.k1)(Ke):(0,Gt.lF)(Jt,ge))))}(Wt,Vi,mr()&&Ii?Ei:void 0),Ei}(Ii,hn,Mn,di);Wt&&Ei&&nc(Ei)})}function nc(xe){const{url:ge}=(0,nn.et)(xe).data||{};if(!ge||"string"!=typeof ge)return;const Ke=(0,as.wv)("resource",({entries:Oe})=>{Oe.forEach(Wt=>{(function gc(xe){return"resource"===xe.entryType&&"initiatorType"in xe&&"string"==typeof xe.nextHopProtocol&&("fetch"===xe.initiatorType||"xmlhttprequest"===xe.initiatorType)})(Wt)&&Wt.name.endsWith(ge)&&(function ic(xe){const{name:ge,version:Ke}=function zc(xe){let ge="unknown",Ke="unknown",Oe="";for(const Wt of xe){if("/"===Wt){[ge,Ke]=xe.split("/");break}if(!isNaN(Number(Wt))){ge="h"===Oe?"http":Oe,Ke=xe.split(Oe)[1];break}Oe+=Wt}return Oe===xe&&(ge=Oe),{name:ge,version:Ke}}(xe.nextHopProtocol),Oe=[];return Oe.push(["network.protocol.version",Ke],["network.protocol.name",ge]),pe.k3?[...Oe,["http.request.redirect_start",Eo(xe.redirectStart)],["http.request.fetch_start",Eo(xe.fetchStart)],["http.request.domain_lookup_start",Eo(xe.domainLookupStart)],["http.request.domain_lookup_end",Eo(xe.domainLookupEnd)],["http.request.connect_start",Eo(xe.connectStart)],["http.request.secure_connection_start",Eo(xe.secureConnectionStart)],["http.request.connection_end",Eo(xe.connectEnd)],["http.request.request_start",Eo(xe.requestStart)],["http.request.response_start",Eo(xe.responseStart)],["http.request.response_end",Eo(xe.responseEnd)]]:Oe}(Wt).forEach(hn=>xe.setAttribute(...hn)),setTimeout(Ke))})})}function Eo(xe=0){return((pe.k3||performance.timeOrigin)+xe)/1e3}function Td(xe){try{return new URL(xe,Qn.location.origin).href}catch{return}}const jc={...cl,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...Va},Mu=(xe={})=>{!function Vo(){Wu||(Wu=!0,Oa(tc),fc(tc))}();const{enableInp:ge,enableLongTask:Ke,enableLongAnimationFrame:Oe,_experiments:{enableInteractions:Wt},beforeStartSpan:Jt,idleTimeout:hn,finalTimeout:Mn,childSpanTimeout:di,markBackgroundSpan:Ii,traceFetch:Ei,traceXHR:Vi,shouldCreateSpanForRequest:Kr,enableHTTPTimings:ps,instrumentPageLoad:Rt,instrumentNavigation:Es}={...jc,...xe},Ol=function Zd(){const xe=gu();if(xe&&pe.k3){xe.mark&&_r.j.performance.mark("sentry-tracing-init");const ge=function Ue(){return(0,as.T5)(({metric:xe})=>{const ge=xe.entries[xe.entries.length-1];if(!ge)return;const Ke=hs(pe.k3),Oe=hs(ge.startTime);aa.T&&w.vF.log("[Measurements] Adding FID"),Wo.fid={value:xe.value,unit:"millisecond"},Wo["mark.fid"]={value:Ke+Oe,unit:"second"}})}(),Ke=function Ee(){return(0,as.a9)(({metric:xe})=>{const ge=xe.entries[xe.entries.length-1];ge&&(aa.T&&w.vF.log("[Measurements] Adding CLS"),Wo.cls={value:xe.value,unit:""},la=ge)},!0)}(),Oe=function Dt(){return(0,as.Pt)(({metric:xe})=>{const ge=xe.entries[xe.entries.length-1];ge&&(aa.T&&w.vF.log("[Measurements] Adding LCP"),Wo.lcp={value:xe.value,unit:"millisecond"},co=ge)},!0)}(),Wt=function _t(){return(0,as.YG)(({metric:xe})=>{xe.entries[xe.entries.length-1]&&(aa.T&&w.vF.log("[Measurements] Adding TTFB"),Wo.ttfb={value:xe.value,unit:"millisecond"})})}();return()=>{ge(),Ke(),Oe(),Wt()}}return()=>{}}();ge&&function xl(){if(gu()&&pe.k3){const ge=function pc(){return(0,as.hT)(({metric:xe})=>{const ge=(0,A.KU)();if(!ge||null==xe.value)return;const Ke=xe.entries.find(Mr=>Mr.duration===xe.value&&Rc[Mr.name]);if(!Ke)return;const{interactionId:Oe}=Ke,Wt=Rc[Ke.name],Jt=ge.getOptions(),hn=hs(pe.k3+Ke.startTime),Mn=hs(xe.value),di=(0,A.o5)(),Ii=(0,nn.Bk)(),Ei=Ii?(0,nn.zU)(Ii):void 0,Kr=(null!=Oe?Vl.get(Oe):void 0)||Ei,ps=Kr?(0,nn.et)(Kr).description:di.getScopeData().transactionName,Rt=di.getUser(),Es=ge.getIntegrationByName("Replay"),Ol=Es&&Es.getReplayId(),fn=void 0!==Rt?Rt.email||Rt.id||Rt.ip_address:void 0;let Sa;try{Sa=di.getScopeData().contexts.profile.profile_id}catch{}const Js=ki({name:(0,et.Hd)(Ke.target),op:`ui.interaction.${Wt}`,attributes:(0,Xe.Ce)({release:Jt.release,environment:Jt.environment,transaction:ps,[Rn.jG]:xe.value,[Rn.JD]:"auto.http.browser.inp",user:fn||void 0,profile_id:Sa||void 0,replay_id:Ol||void 0,"user_agent.original":_r.j.navigator&&_r.j.navigator.userAgent}),startTime:hn,experimental:{standalone:!0}});Js.addEvent("inp",{[Rn.Sn]:"millisecond",[Rn.xc]:xe.value}),Js.end(hn+Mn)})}();return()=>{ge()}}return()=>{}}(),Oe&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function Oc(){new PerformanceObserver(ge=>{for(const Ke of ge.getEntries()){if(!(0,nn.Bk)()||!Ke.scripts[0])return;const Oe=hs(pe.k3+Ke.startTime),Wt=hs(Ke.duration),Jt={[Rn.JD]:"auto.ui.browser.metrics"},hn=Ke.scripts[0];if(hn){const{invoker:di,invokerType:Ii,sourceURL:Ei,sourceFunctionName:Vi,sourceCharPosition:Kr}=hn;Jt["browser.script.invoker"]=di,Jt["browser.script.invoker_type"]=Ii,Ei&&(Jt["code.filepath"]=Ei),Vi&&(Jt["code.function"]=Vi),-1!==Kr&&(Jt["browser.script.source_char_position"]=Kr)}const Mn=ki({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:Oe,attributes:Jt});Mn&&Mn.end(Oe+Wt)}}).observe({type:"long-animation-frame",buffered:!0})}():Ke&&function Mc(){(0,as.wv)("longtask",({entries:xe})=>{for(const ge of xe){if(!(0,nn.Bk)())return;const Ke=hs(pe.k3+ge.startTime),Oe=hs(ge.duration),Wt=ki({name:"Main UI thread blocked",op:"ui.long-task",startTime:Ke,attributes:{[Rn.JD]:"auto.ui.browser.metrics"}});Wt&&Wt.end(Ke+Oe)}})}(),Wt&&function El(){(0,as.wv)("event",({entries:xe})=>{for(const ge of xe){if(!(0,nn.Bk)())return;if("click"===ge.name){const Ke=hs(pe.k3+ge.startTime),Oe=hs(ge.duration),Wt={name:(0,et.Hd)(ge.target),op:`ui.interaction.${ge.name}`,startTime:Ke,attributes:{[Rn.JD]:"auto.ui.browser.metrics"}},Jt=(0,et.xE)(ge.target);Jt&&(Wt.attributes["ui.component_name"]=Jt);const hn=ki(Wt);hn&&hn.end(Ke+Oe)}}})}();const fn={name:void 0,source:void 0};function Sa(go,Ro){const Js="pageload"===Ro.op,Mr=Jt?Jt(Ro):Ro,Is=Mr.attributes||{};Ro.name!==Mr.name&&(Is[Rn.i_]="custom",Mr.attributes=Is),fn.name=Mr.name,fn.source=Is[Rn.i_];const ru=mc(Mr,{idleTimeout:hn,finalTimeout:Mn,childSpanTimeout:di,disableAutoFinish:Js,beforeSpanEnd:yc=>{Ol(),function on(xe){const ge=gu();if(!ge||!_r.j.performance.getEntries||!pe.k3)return;aa.T&&w.vF.log("[Tracing] Adding & adjusting spans using Performance API");const Ke=hs(pe.k3),Oe=ge.getEntries(),{op:Wt,start_timestamp:Jt}=(0,nn.et)(xe);if(Oe.slice(wl).forEach(hn=>{const Mn=hs(hn.startTime),di=hs(Math.max(0,hn.duration));if(!("navigation"===Wt&&Jt&&Ke+Mn<Jt))switch(hn.entryType){case"navigation":!function li(xe,ge,Ke){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(Oe=>{Ui(xe,ge,Oe,Ke)}),Ui(xe,ge,"secureConnection",Ke,"TLS/SSL","connectEnd"),Ui(xe,ge,"fetch",Ke,"cache","domainLookupStart"),Ui(xe,ge,"domainLookup",Ke,"DNS"),function Fs(xe,ge,Ke){const Oe=Ke+hs(ge.requestStart),Wt=Ke+hs(ge.responseEnd),Jt=Ke+hs(ge.responseStart);ge.responseEnd&&(Ac(xe,Oe,Wt,{op:"browser",name:"request",attributes:{[Rn.JD]:"auto.ui.browser.metrics"}}),Ac(xe,Jt,Wt,{op:"browser",name:"response",attributes:{[Rn.JD]:"auto.ui.browser.metrics"}}))}(xe,ge,Ke)}(xe,hn,Ke);break;case"mark":case"paint":case"measure":{!function jn(xe,ge,Ke,Oe,Wt){const Jt=(0,Ba.z)(),hn=hs(Jt?Jt.requestStart:0),Mn=Wt+Math.max(Ke,hn),di=Wt+Ke,Ii=di+Oe,Ei={[Rn.JD]:"auto.resource.browser.metrics"};Mn!==di&&(Ei["sentry.browser.measure_happened_before_request"]=!0,Ei["sentry.browser.measure_start_time"]=Mn),Ac(xe,Mn,Ii,{name:ge.name,op:ge.entryType,attributes:Ei})}(xe,hn,Mn,di,Ke);const Ii=(0,_u.N)(),Ei=hn.startTime<Ii.firstHiddenTime;"first-paint"===hn.name&&Ei&&(aa.T&&w.vF.log("[Measurements] Adding FP"),Wo.fp={value:hn.startTime,unit:"millisecond"}),"first-contentful-paint"===hn.name&&Ei&&(aa.T&&w.vF.log("[Measurements] Adding FCP"),Wo.fcp={value:hn.startTime,unit:"millisecond"});break}case"resource":!function Yr(xe,ge,Ke,Oe,Wt,Jt){if("xmlhttprequest"===ge.initiatorType||"fetch"===ge.initiatorType)return;const hn=Bt(Ke),Mn={[Rn.JD]:"auto.resource.browser.metrics"};eo(Mn,ge,"transferSize","http.response_transfer_size"),eo(Mn,ge,"encodedBodySize","http.response_content_length"),eo(Mn,ge,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in ge&&(Mn["resource.render_blocking_status"]=ge.renderBlockingStatus),hn.protocol&&(Mn["url.scheme"]=hn.protocol.split(":").pop()),hn.host&&(Mn["server.address"]=hn.host),Mn["url.same_origin"]=Ke.includes(_r.j.location.origin);const di=Jt+Oe;Ac(xe,di,di+Wt,{name:Ke.replace(_r.j.location.origin,""),op:ge.initiatorType?`resource.${ge.initiatorType}`:"resource.other",attributes:Mn})}(xe,hn,hn.name,Mn,di,Ke)}}),wl=Math.max(Oe.length-1,0),function ts(xe){const ge=_r.j.navigator;if(!ge)return;const Ke=ge.connection;Ke&&(Ke.effectiveType&&xe.setAttribute("effectiveConnectionType",Ke.effectiveType),Ke.type&&xe.setAttribute("connectionType",Ke.type),Ps(Ke.rtt)&&(Wo["connection.rtt"]={value:Ke.rtt,unit:"millisecond"})),Ps(ge.deviceMemory)&&xe.setAttribute("deviceMemory",`${ge.deviceMemory} GB`),Ps(ge.hardwareConcurrency)&&xe.setAttribute("hardwareConcurrency",String(ge.hardwareConcurrency))}(xe),"pageload"===Wt){(function js(xe){const ge=(0,Ba.z)();if(!ge)return;const{responseStart:Ke,requestStart:Oe}=ge;Oe<=Ke&&(aa.T&&w.vF.log("[Measurements] Adding TTFB Request Time"),xe["ttfb.requestTime"]={value:Ke-Oe,unit:"millisecond"})})(Wo),["fcp","fp","lcp"].forEach(Mn=>{const di=Wo[Mn];if(!di||!Jt||Ke>=Jt)return;const Ii=di.value,Ei=Ke+hs(Ii),Vi=Math.abs(1e3*(Ei-Jt));aa.T&&w.vF.log(`[Measurements] Normalized ${Mn} from ${Ii} to ${Vi} (${Vi-Ii})`),di.value=Vi});const hn=Wo["mark.fid"];hn&&Wo.fid&&(Ac(xe,hn.value,hn.value+hs(Wo.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Rn.JD]:"auto.ui.browser.metrics"}}),delete Wo["mark.fid"]),"fcp"in Wo||delete Wo.cls,Object.entries(Wo).forEach(([Mn,di])=>{!function Ks(xe,ge,Ke){const Oe=(0,nn.Bk)(),Wt=Oe&&(0,nn.zU)(Oe);Wt&&Wt.addEvent(xe,{[Rn.xc]:ge,[Rn.Sn]:Ke})}(Mn,di.value,di.unit)}),function wi(xe){co&&(aa.T&&w.vF.log("[Measurements] Adding LCP Data"),co.element&&xe.setAttribute("lcp.element",(0,et.Hd)(co.element)),co.id&&xe.setAttribute("lcp.id",co.id),co.url&&xe.setAttribute("lcp.url",co.url.trim().slice(0,200)),xe.setAttribute("lcp.size",co.size)),la&&la.sources&&(aa.T&&w.vF.log("[Measurements] Adding CLS Data"),la.sources.forEach((ge,Ke)=>xe.setAttribute(`cls.source.${Ke+1}`,(0,et.Hd)(ge.node))))}(xe)}co=void 0,la=void 0,Wo={}}(yc)}});function Hc(){["interactive","complete"].includes(Qn.document.readyState)&&go.emit("idleSpanEnableAutoFinish",ru)}return Js&&Qn.document&&(Qn.document.addEventListener("readystatechange",()=>{Hc()}),Hc()),ru}return{name:"BrowserTracing",afterAllSetup(go){let Ro,Js=Qn.location&&Qn.location.href;go.on("startNavigationSpan",Mr=>{(0,A.KU)()===go&&(Ro&&!(0,nn.et)(Ro).timestamp&&(We&&w.vF.log(`[Tracing] Finishing current root span with op: ${(0,nn.et)(Ro).op}`),Ro.end()),Ro=Sa(go,{op:"navigation",...Mr}))}),go.on("startPageLoadSpan",(Mr,Is={})=>{if((0,A.KU)()!==go)return;Ro&&!(0,nn.et)(Ro).timestamp&&(We&&w.vF.log(`[Tracing] Finishing current root span with op: ${(0,nn.et)(Ro).op}`),Ro.end());const ru=Is.sentryTrace||Al("sentry-trace"),Hc=Is.baggage||Al("baggage"),yc=(0,tf.kM)(ru,Hc);(0,A.o5)().setPropagationContext(yc),Ro=Sa(go,{op:"pageload",...Mr})}),go.on("spanEnd",Mr=>{const Is=(0,nn.et)(Mr).op;if(Mr!==(0,nn.zU)(Mr)||"navigation"!==Is&&"pageload"!==Is)return;const ru=(0,A.o5)(),Hc=ru.getPropagationContext();ru.setPropagationContext({...Hc,sampled:void 0!==Hc.sampled?Hc.sampled:(0,nn.pK)(Mr),dsc:Hc.dsc||(0,Gt.k1)(Mr)})}),Qn.location&&(Rt&&function Eh(xe,ge,Ke){xe.emit("startPageLoadSpan",ge,Ke),(0,A.o5)().setTransactionName(ge.name);const Oe=(0,nn.Bk)();Oe&&(0,nn.et)(Oe)}(go,{name:Qn.location.pathname,startTime:pe.k3?pe.k3/1e3:void 0,attributes:{[Rn.i_]:"url",[Rn.JD]:"auto.pageload.browser"}}),Es&&(0,wt._)(({to:Mr,from:Is})=>{void 0===Is&&Js&&-1!==Js.indexOf(Mr)?Js=void 0:Is!==Mr&&(Js=void 0,xh(go,{name:Qn.location.pathname,attributes:{[Rn.i_]:"url",[Rn.JD]:"auto.navigation.browser"}}))})),Ii&&function Nc(){Qn&&Qn.document?Qn.document.addEventListener("visibilitychange",()=>{const xe=(0,nn.Bk)();if(!xe)return;const ge=(0,nn.zU)(xe);if(Qn.document.hidden&&ge){const Ke="cancelled",{op:Oe,status:Wt}=(0,nn.et)(ge);We&&w.vF.log(`[Tracing] Transaction: ${Ke} -> since tab moved to the background, op: ${Oe}`),Wt||ge.setStatus({code:Bo.TJ,message:Ke}),ge.setAttribute("sentry.cancellation_reason","document.hidden"),ge.end()}}):We&&w.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),Wt&&function Hu(xe,ge,Ke,Oe){let Wt;Qn.document&&addEventListener("click",()=>{const hn="ui.action.click",Mn=(0,nn.Bk)(),di=Mn&&(0,nn.zU)(Mn);if(di){const Ii=(0,nn.et)(di).op;if(["navigation","pageload"].includes(Ii))return void(We&&w.vF.warn(`[Tracing] Did not create ${hn} span because a pageload or navigation span is in progress.`))}Wt&&(Wt.setAttribute(Rn.fs,"interactionInterrupted"),Wt.end(),Wt=void 0),Oe.name?Wt=mc({name:Oe.name,op:hn,attributes:{[Rn.i_]:Oe.source||"url"}},{idleTimeout:xe,finalTimeout:ge,childSpanTimeout:Ke}):We&&w.vF.warn(`[Tracing] Did not create ${hn} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(hn,Mn,di,fn),ge&&function $o(xe){const ge=({entries:Ke})=>{const Oe=(0,nn.Bk)(),Wt=Oe&&(0,nn.zU)(Oe);Ke.forEach(Jt=>{if(!(0,as.tC)(Jt)||!Wt)return;const hn=Jt.interactionId;if(null!=hn&&!Vl.has(hn)){if(uo.length>10){const Mn=uo.shift();Vl.delete(Mn)}uo.push(hn),Vl.set(hn,Wt)}})};(0,as.wv)("event",ge),(0,as.wv)("first-input",ge)}(),jr({traceFetch:Ei,traceXHR:Vi,tracePropagationTargets:go.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:Kr,enableHTTPTimings:ps})}}};function xh(xe,ge){(0,A.rm)().setPropagationContext((0,yu.J)()),(0,A.o5)().setPropagationContext((0,yu.J)()),xe.emit("startNavigationSpan",ge),(0,A.o5)().setTransactionName(ge.name);const Ke=(0,nn.Bk)();return"navigation"===(Ke&&(0,nn.et)(Ke).op)?Ke:void 0}function Al(xe){const ge=(0,et.NX)(`meta[name=${xe}]`);return ge?ge.getAttribute("content"):void 0}var Wc=_(7404),hl=_(6443),So=_(9805),_c=_(2672),tu=_(8627),nu=_(6e3);const Gu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ch(xe){const ge={defaultIntegrations:[J(),oe(),ds(),Rr(),na(),Ve(),Po()],...xe};return pt(ge,"angular"),function to(){const ge=Wc.xvI&&Wc.xvI.major?parseInt(Wc.xvI.major,10):void 0;ge&&(ge<14&&Gu&&w.vF.warn(`This Sentry SDK does not officially support Angular ${ge}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),(0,d.o)("angular",{version:ge}))}(),H(ge)}const K=typeof Zone<"u"&&Zone.root&&Zone.root.run;function Ie(xe){return K?Zone.root.run(xe):xe()}function ht(xe){if(xe instanceof Error)return!0;if(null===xe||"object"!=typeof xe)return!1;const ge=xe;return(0,ct.Kg)(ge.name)&&(0,ct.Kg)(ge.message)&&(void 0===ge.stack||(0,ct.Kg)(ge.stack))}let rr,Lt=(()=>{class xe{constructor(Ke){this._options={logErrors:!0,...Ke}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(Ke){const Oe=this._extractError(Ke)||"Handled unknown error",Wt=Ie(()=>d.Cp(Oe,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(Oe),this._options.showDialog){const Jt=A.KU();Jt&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=Jt.on("afterSendEvent",hn=>{!hn.type&&hn.event_id&&Ie(()=>{le({...this._options.dialogOptions,eventId:hn.event_id})})}):Jt||Ie(()=>{le({...this._options.dialogOptions,eventId:Wt})})}}_extractError(Ke){if(this._options.extractor){const Oe=this._defaultExtractor.bind(this);return this._options.extractor(Ke,Oe)}return this._defaultExtractor(Ke)}_defaultExtractor(Ke){const Oe=function he(xe){return xe&&xe.ngOriginalError?xe.ngOriginalError:xe}(Ke);return Oe instanceof hl.yz?function Ae(xe){return ht(xe.error)?xe.error:typeof ErrorEvent<"u"&&xe.error instanceof ErrorEvent&&xe.error.message?xe.error.message:"string"==typeof xe.error?`Server returned code ${xe.status} with body "${xe.error}"`:xe.message}(Oe):"string"==typeof Oe||ht(Oe)?Oe:null}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(Wc.KVO("errorHandlerOptions"))},xe.\u0275prov=Wc.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function cn(xe){return new Lt(xe)}function yr(xe={}){return!1!==xe.instrumentNavigation&&(rr=!0),Mu({...xe,instrumentNavigation:!1})}let Oo=(()=>{class xe{constructor(Ke){this._router=Ke,this.navStart$=this._router.events.pipe((0,tu.p)(Oe=>Oe instanceof So.Z),(0,nu.M)(Oe=>{if(!rr)return void(Gu&&w.vF.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const Wt=(0,A.KU)(),Jt=function Zn(xe){return xe.split(/[?#]/,1)[0]}(Oe.url);return Wt?(this._isPageloadOngoing()?this._pageloadOngoing=!1:Ie(()=>{xh(Wt,{name:Jt,attributes:{[Rn.JD]:"auto.navigation.angular",[Rn.i_]:"url"}})}),void(this._routingSpan=Ie(()=>ki({name:`${Oe.url}`,op:"ui.angular.routing",attributes:{[Rn.JD]:"auto.ui.angular",[Rn.i_]:"url",url:Jt,...Oe.navigationTrigger&&{navigationTrigger:Oe.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,tu.p)(Oe=>Oe instanceof So.gx),(0,nu.M)(Oe=>{const Wt=function iu(xe){const ge=[];let Ke=xe&&xe.firstChild;for(;Ke;){const Wt=Ke&&Ke.routeConfig&&Ke.routeConfig.path;if(null==Wt)break;ge.push(Wt),Ke=Ke.firstChild}const Oe=ge.filter(Wt=>Wt).join("/");return Oe?`/${Oe}/`:"/"}(Oe.state.root);Wt&&(0,A.o5)().setTransactionName(Wt);const Jt=(0,nn.Bk)();!function Pr(xe,ge){const Ke=ge&&(0,nn.et)(ge).data||{};ge&&"url"===Ke[Rn.i_]&&(ge.updateName(xe),ge.setAttribute(Rn.i_,"route"),ge.setAttribute(Rn.JD,`auto.${(0,nn.et)(ge).op}.angular`))}(Wt,Jt&&(0,nn.zU)(Jt))})),this.navEnd$=this._router.events.pipe((0,tu.p)(Oe=>Oe instanceof So.wF||Oe instanceof So.j5||Oe instanceof So.L6),(0,nu.M)(()=>{this._routingSpan&&(Ie(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new _c.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const Ke=(0,nn.Bk)();if(!Ke)return this._pageloadOngoing=!1,!1;const Oe=(0,nn.zU)(Ke);return this._pageloadOngoing="pageload"===(0,nn.et)(Oe).op,this._pageloadOngoing}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(Wc.KVO(So.Ix))},xe.\u0275prov=Wc.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})()},9868:(dn,Ne,_)=>{"use strict";_.d(Ne,{h:()=>M});var d=_(2150),A=_(1362),w=_(2031),D=_(1174);class I{constructor(z,F){let J,ue;J=z||new D.H,ue=F||new D.H,this._stack=[{scope:J}],this._isolationScope=ue}withScope(z){const F=this._pushScope();let J;try{J=z(F)}catch(ue){throw this._popScope(),ue}return(0,A.Qg)(J)?J.then(ue=>(this._popScope(),ue),ue=>{throw this._popScope(),ue}):(this._popScope(),J)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const z=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:z}),z}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function E(){const L=(0,d.E)(),z=(0,d.S)(L);return z.stack=z.stack||new I(function C(){return(0,w.B)("defaultCurrentScope",()=>new D.H)}(),function S(){return(0,w.B)("defaultIsolationScope",()=>new D.H)}())}function y(L){return E().withScope(L)}function x(L,z){const F=E();return F.withScope(()=>(F.getStackTop().scope=L,z(L)))}function $(L){return E().withScope(()=>L(E().getIsolationScope()))}function M(L){const z=(0,d.S)(L);return z.acs?z.acs:function R(){return{withIsolationScope:$,withScope:y,withSetScope:x,withSetIsolationScope:(L,z)=>$(z),getCurrentScope:()=>E().getScope(),getIsolationScope:()=>E().getIsolationScope()}}()}},7376:(dn,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>C});var d=_(8423),A=_(1205),w=_(2849);const D=100;function C(S,I){const E=(0,w.KU)(),y=(0,w.rm)();if(!E)return;const{beforeBreadcrumb:x=null,maxBreadcrumbs:$=D}=E.getOptions();if($<=0)return;const O={timestamp:(0,d.lu)(),...S},M=x?(0,A.pq)(()=>x(O,I)):O;null!==M&&(E.emit&&E.emit("beforeAddBreadcrumb",M,I),y.addBreadcrumb(M,$))}},2150:(dn,Ne,_)=>{"use strict";_.d(Ne,{E:()=>w,S:()=>D});var d=_(2031),A=_(3408);function w(){return D(d.O),d.O}function D(C){const S=C.__SENTRY__=C.__SENTRY__||{};return S.version=S.version||A.M,S[A.M]=S[A.M]||{}}},7063:(dn,Ne,_)=>{"use strict";_.d(Ne,{U:()=>d});const d="production"},2849:(dn,Ne,_)=>{"use strict";_.d(Ne,{KU:()=>x,m6:()=>I,o5:()=>C,rm:()=>S,v4:()=>E});var d=_(2031),A=_(9868),w=_(2150),D=_(1174);function C(){const $=(0,w.E)();return(0,A.h)($).getCurrentScope()}function S(){const $=(0,w.E)();return(0,A.h)($).getIsolationScope()}function I(){return(0,d.B)("globalScope",()=>new D.H)}function E(...$){const R=(0,w.E)(),O=(0,A.h)(R);if(2===$.length){const[M,L]=$;return M?O.withSetScope(M,L):O.withScope(L)}return O.withScope($[0])}function x(){return C().getClient()}},1772:(dn,Ne,_)=>{"use strict";_.d(Ne,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},1229:(dn,Ne,_)=>{"use strict";_.d(Ne,{Cp:()=>S,J0:()=>se,J5:()=>Q,Q:()=>L,SA:()=>Y,o:()=>y,r:()=>E});var d=_(2031),A=_(7063),w=_(2849),D=_(898),C=_(1995);function S(Me,Xe){return(0,w.o5)().captureException(Me,(0,C.li)(Xe))}function E(Me,Xe){return(0,w.o5)().captureEvent(Me,Xe)}function y(Me,Xe){(0,w.rm)().setContext(Me,Xe)}function L(){return(0,w.rm)().lastEventId()}function Y(Me){(0,w.rm)().addEventProcessor(Me)}function se(Me){const Xe=(0,w.KU)(),yt=(0,w.rm)(),Je=(0,w.o5)(),{release:je,environment:X=A.U}=Xe&&Xe.getOptions()||{},{userAgent:oe}=d.O.navigator||{},_e=(0,D.fj)({release:je,environment:X,user:Je.getUser()||yt.getUser(),...oe&&{userAgent:oe},...Me}),ve=yt.getSession();return ve&&"ok"===ve.status&&(0,D.qO)(ve,{status:"exited"}),W(),yt.setSession(_e),Je.setSession(_e),_e}function W(){const Me=(0,w.rm)(),Xe=(0,w.o5)(),yt=Xe.getSession()||Me.getSession();yt&&(0,D.Vu)(yt),Ce(),Me.setSession(),Xe.setSession()}function Ce(){const Me=(0,w.rm)(),Xe=(0,w.o5)(),yt=(0,w.KU)(),Je=Xe.getSession()||Me.getSession();Je&&yt&&yt.captureSession(Je)}function Q(Me=!1){Me?W():Ce()}},3395:(dn,Ne,_)=>{"use strict";_.d(Ne,{g:()=>w});var d=_(7593);const A="_sentryMetrics";function w(C){const S=C[A];if(!S)return;const I={};for(const[,[E,y]]of S)(I[E]||(I[E]=[])).push((0,d.Ce)(y));return I}},1174:(dn,Ne,_)=>{"use strict";_.d(Ne,{H:()=>x});var d=_(1475),A=_(1362),w=_(8423),D=_(1582),C=_(1205),S=_(898),I=_(2855);class y{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,d.J)()}clone(){const R=new y;return R._breadcrumbs=[...this._breadcrumbs],R._tags={...this._tags},R._extra={...this._extra},R._contexts={...this._contexts},R._user=this._user,R._level=this._level,R._session=this._session,R._transactionName=this._transactionName,R._fingerprint=this._fingerprint,R._eventProcessors=[...this._eventProcessors],R._requestSession=this._requestSession,R._attachments=[...this._attachments],R._sdkProcessingMetadata={...this._sdkProcessingMetadata},R._propagationContext={...this._propagationContext},R._client=this._client,R._lastEventId=this._lastEventId,(0,I.r)(R,(0,I.f)(this)),R}setClient(R){this._client=R}setLastEventId(R){this._lastEventId=R}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(R){this._scopeListeners.push(R)}addEventProcessor(R){return this._eventProcessors.push(R),this}setUser(R){return this._user=R||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,S.qO)(this._session,{user:R}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(R){return this._requestSession=R,this}setTags(R){return this._tags={...this._tags,...R},this._notifyScopeListeners(),this}setTag(R,O){return this._tags={...this._tags,[R]:O},this._notifyScopeListeners(),this}setExtras(R){return this._extra={...this._extra,...R},this._notifyScopeListeners(),this}setExtra(R,O){return this._extra={...this._extra,[R]:O},this._notifyScopeListeners(),this}setFingerprint(R){return this._fingerprint=R,this._notifyScopeListeners(),this}setLevel(R){return this._level=R,this._notifyScopeListeners(),this}setTransactionName(R){return this._transactionName=R,this._notifyScopeListeners(),this}setContext(R,O){return null===O?delete this._contexts[R]:this._contexts[R]=O,this._notifyScopeListeners(),this}setSession(R){return R?this._session=R:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(R){if(!R)return this;const O="function"==typeof R?R(this):R,[M,L]=O instanceof x?[O.getScopeData(),O.getRequestSession()]:(0,A.Qd)(O)?[R,R.requestSession]:[],{tags:z,extra:F,user:J,contexts:ue,level:ce,fingerprint:re=[],propagationContext:we}=M||{};return this._tags={...this._tags,...z},this._extra={...this._extra,...F},this._contexts={...this._contexts,...ue},J&&Object.keys(J).length&&(this._user=J),ce&&(this._level=ce),re.length&&(this._fingerprint=re),we&&(this._propagationContext=we),L&&(this._requestSession=L),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,I.r)(this,void 0),this._attachments=[],this._propagationContext=(0,d.J)(),this._notifyScopeListeners(),this}addBreadcrumb(R,O){const M="number"==typeof O?O:100;if(M<=0)return this;const L={timestamp:(0,w.lu)(),...R},z=this._breadcrumbs;return z.push(L),this._breadcrumbs=z.length>M?z.slice(-M):z,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(R){return this._attachments.push(R),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,I.f)(this)}}setSDKProcessingMetadata(R){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...R},this}setPropagationContext(R){return this._propagationContext=R,this}getPropagationContext(){return this._propagationContext}captureException(R,O){const M=O&&O.event_id?O.event_id:(0,D.eJ)();if(!this._client)return C.vF.warn("No client configured on scope - will not capture exception!"),M;const L=new Error("Sentry syntheticException");return this._client.captureException(R,{originalException:R,syntheticException:L,...O,event_id:M},this),M}captureMessage(R,O,M){const L=M&&M.event_id?M.event_id:(0,D.eJ)();if(!this._client)return C.vF.warn("No client configured on scope - will not capture message!"),L;const z=new Error(R);return this._client.captureMessage(R,O,{originalException:R,syntheticException:z,...M,event_id:L},this),L}captureEvent(R,O){const M=O&&O.event_id?O.event_id:(0,D.eJ)();return this._client?(this._client.captureEvent(R,{...O,event_id:M},this),M):(C.vF.warn("No client configured on scope - will not capture event!"),M)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(R=>{R(this)}),this._notifyingListeners=!1)}}const x=y},4541:(dn,Ne,_)=>{"use strict";_.d(Ne,{E1:()=>E,JD:()=>D,Sn:()=>S,fs:()=>C,i_:()=>d,jG:()=>y,sy:()=>A,uT:()=>w,xc:()=>I});const d="sentry.source",A="sentry.sample_rate",w="sentry.op",D="sentry.origin",C="sentry.idle_span_finish_reason",S="sentry.measurement_unit",I="sentry.measurement_value",E="sentry.profile_id",y="sentry.exclusive_time"},898:(dn,Ne,_)=>{"use strict";_.d(Ne,{Vu:()=>S,fj:()=>D,qO:()=>C});var d=_(8423),A=_(1582),w=_(7593);function D(E){const y=(0,d.zf)(),x={sid:(0,A.eJ)(),init:!0,timestamp:y,started:y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function I(E){return(0,w.Ce)({sid:`${E.sid}`,init:E.init,started:new Date(1e3*E.started).toISOString(),timestamp:new Date(1e3*E.timestamp).toISOString(),status:E.status,errors:E.errors,did:"number"==typeof E.did||"string"==typeof E.did?`${E.did}`:void 0,duration:E.duration,abnormal_mechanism:E.abnormal_mechanism,attrs:{release:E.release,environment:E.environment,ip_address:E.ipAddress,user_agent:E.userAgent}})}(x)};return E&&C(x,E),x}function C(E,y={}){if(y.user&&(!E.ipAddress&&y.user.ip_address&&(E.ipAddress=y.user.ip_address),!E.did&&!y.did&&(E.did=y.user.id||y.user.email||y.user.username)),E.timestamp=y.timestamp||(0,d.zf)(),y.abnormal_mechanism&&(E.abnormal_mechanism=y.abnormal_mechanism),y.ignoreDuration&&(E.ignoreDuration=y.ignoreDuration),y.sid&&(E.sid=32===y.sid.length?y.sid:(0,A.eJ)()),void 0!==y.init&&(E.init=y.init),!E.did&&y.did&&(E.did=`${y.did}`),"number"==typeof y.started&&(E.started=y.started),E.ignoreDuration)E.duration=void 0;else if("number"==typeof y.duration)E.duration=y.duration;else{const x=E.timestamp-E.started;E.duration=x>=0?x:0}y.release&&(E.release=y.release),y.environment&&(E.environment=y.environment),!E.ipAddress&&y.ipAddress&&(E.ipAddress=y.ipAddress),!E.userAgent&&y.userAgent&&(E.userAgent=y.userAgent),"number"==typeof y.errors&&(E.errors=y.errors),y.status&&(E.status=y.status)}function S(E,y){let x={};y?x={status:y}:"ok"===E.status&&(x={status:"exited"}),C(E,x)}},8492:(dn,Ne,_)=>{"use strict";_.d(Ne,{LZ:()=>E,k1:()=>x,lF:()=>y});var d=_(7593),A=_(6570),w=_(7063),D=_(2849),C=_(4541),S=_(8165);const I="_frozenDsc";function E(R,O){(0,d.my)(R,I,O)}function y(R,O){const M=O.getOptions(),{publicKey:L}=O.getDsn()||{},z=(0,d.Ce)({environment:M.environment||w.U,release:M.release,public_key:L,trace_id:R});return O.emit("createDsc",z),z}function x(R){const O=(0,D.KU)();if(!O)return{};const M=y((0,S.et)(R).trace_id||"",O),L=(0,S.zU)(R),z=L[I];if(z)return z;const F=L.spanContext().traceState,J=F&&F.get("sentry.dsc"),ue=J&&(0,A.yD)(J);if(ue)return ue;const ce=(0,S.et)(L),re=ce.data||{},we=re[C.sy];null!=we&&(M.sample_rate=`${we}`);const Y=ce.description;return"url"!==re[C.i_]&&Y&&(M.transaction=Y),M.sampled=String((0,S.pK)(L)),O.emit("createDsc",M,L),M}},5989:(dn,Ne,_)=>{"use strict";_.d(Ne,{F3:()=>A,N8:()=>C,TJ:()=>w,a3:()=>d});const d=0,A=1,w=2;function C(S,I){S.setAttribute("http.response.status_code",I);const E=function D(S){if(S<400&&S>=100)return{code:A};if(S>=400&&S<500)switch(S){case 401:return{code:w,message:"unauthenticated"};case 403:return{code:w,message:"permission_denied"};case 404:return{code:w,message:"not_found"};case 409:return{code:w,message:"already_exists"};case 413:return{code:w,message:"failed_precondition"};case 429:return{code:w,message:"resource_exhausted"};case 499:return{code:w,message:"cancelled"};default:return{code:w,message:"invalid_argument"}}if(S>=500&&S<600)switch(S){case 501:return{code:w,message:"unimplemented"};case 503:return{code:w,message:"unavailable"};case 504:return{code:w,message:"deadline_exceeded"};default:return{code:w,message:"internal_error"}}return{code:w,message:"unknown_error"}}(I);"unknown_error"!==E.message&&S.setStatus(E)}},4707:(dn,Ne,_)=>{"use strict";_.d(Ne,{i:()=>w});var d=_(1205),A=_(1772);function w(D){if("boolean"==typeof D)return Number(D);const C="string"==typeof D?parseFloat(D):D;if(!("number"!=typeof C||isNaN(C)||C<0||C>1))return C;A.T&&d.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(D)} of type ${JSON.stringify(typeof D)}.`)}},1995:(dn,Ne,_)=>{"use strict";_.d(Ne,{li:()=>je,mG:()=>se});var d=_(1582),A=_(8423),w=_(6851),D=_(2031),C=_(6362),S=_(7063),I=_(2849),E=_(5612),y=_(1205),x=_(1362),$=_(1772);function R(ve,Pe,Ve,Qe=0){return new E.T2((Pt,Se)=>{const qt=ve[Qe];if(null===Pe||"function"!=typeof qt)Pt(Pe);else{const Vt=qt({...Pe},Ve);$.T&&qt.id&&null===Vt&&y.vF.log(`Event processor "${qt.id}" dropped event`),(0,x.Qg)(Vt)?Vt.then(Tt=>R(ve,Tt,Ve,Qe+1).then(Pt)).then(null,Se):R(ve,Vt,Ve,Qe+1).then(Pt).then(null,Se)}})}var O=_(1174),M=_(7593),L=_(8492),z=_(8165);function J(ve,Pe){const{extra:Ve,tags:Qe,user:Pt,contexts:Se,level:qt,sdkProcessingMetadata:Vt,breadcrumbs:Tt,fingerprint:Ot,eventProcessors:ft,attachments:Re,propagationContext:Ye,transactionName:vt,span:It}=Pe;ue(ve,"extra",Ve),ue(ve,"tags",Qe),ue(ve,"user",Pt),ue(ve,"contexts",Se),ue(ve,"sdkProcessingMetadata",Vt),qt&&(ve.level=qt),vt&&(ve.transactionName=vt),It&&(ve.span=It),Tt.length&&(ve.breadcrumbs=[...ve.breadcrumbs,...Tt]),Ot.length&&(ve.fingerprint=[...ve.fingerprint,...Ot]),ft.length&&(ve.eventProcessors=[...ve.eventProcessors,...ft]),Re.length&&(ve.attachments=[...ve.attachments,...Re]),ve.propagationContext={...ve.propagationContext,...Ye}}function ue(ve,Pe,Ve){if(Ve&&Object.keys(Ve).length){ve[Pe]={...ve[Pe]};for(const Qe in Ve)Object.prototype.hasOwnProperty.call(Ve,Qe)&&(ve[Pe][Qe]=Ve[Qe])}}function se(ve,Pe,Ve,Qe,Pt,Se){const{normalizeDepth:qt=3,normalizeMaxBreadth:Vt=1e3}=ve,Tt={...Pe,event_id:Pe.event_id||Ve.event_id||(0,d.eJ)(),timestamp:Pe.timestamp||(0,A.lu)()},Ot=Ve.integrations||ve.integrations.map(st=>st.name);(function W(ve,Pe){const{environment:Ve,release:Qe,dist:Pt,maxValueLength:Se=250}=Pe;"environment"in ve||(ve.environment="environment"in Pe?Ve:S.U),void 0===ve.release&&void 0!==Qe&&(ve.release=Qe),void 0===ve.dist&&void 0!==Pt&&(ve.dist=Pt),ve.message&&(ve.message=(0,w.xv)(ve.message,Se));const qt=ve.exception&&ve.exception.values&&ve.exception.values[0];qt&&qt.value&&(qt.value=(0,w.xv)(qt.value,Se));const Vt=ve.request;Vt&&Vt.url&&(Vt.url=(0,w.xv)(Vt.url,Se))})(Tt,ve),function Xe(ve,Pe){Pe.length>0&&(ve.sdk=ve.sdk||{},ve.sdk.integrations=[...ve.sdk.integrations||[],...Pe])}(Tt,Ot),Pt&&Pt.emit("applyFrameMetadata",Pe),void 0===Pe.type&&function Q(ve,Pe){const Ve=D.O._sentryDebugIds;if(!Ve)return;let Qe;const Pt=Ce.get(Pe);Pt?Qe=Pt:(Qe=new Map,Ce.set(Pe,Qe));const Se=Object.entries(Ve).reduce((qt,[Vt,Tt])=>{let Ot;const ft=Qe.get(Vt);ft?Ot=ft:(Ot=Pe(Vt),Qe.set(Vt,Ot));for(let Re=Ot.length-1;Re>=0;Re--){const Ye=Ot[Re];if(Ye.filename){qt[Ye.filename]=Tt;break}}return qt},{});try{ve.exception.values.forEach(qt=>{qt.stacktrace.frames.forEach(Vt=>{Vt.filename&&(Vt.debug_id=Se[Vt.filename])})})}catch{}}(Tt,ve.stackParser);const ft=function Je(ve,Pe){if(!Pe)return ve;const Ve=ve?ve.clone():new O.H;return Ve.update(Pe),Ve}(Qe,Ve.captureContext);Ve.mechanism&&(0,d.M6)(Tt,Ve.mechanism);const Re=Pt?Pt.getEventProcessors():[],Ye=(0,I.m6)().getScopeData();Se&&J(Ye,Se.getScopeData()),ft&&J(Ye,ft.getScopeData());const vt=[...Ve.attachments||[],...Ye.attachments];return vt.length&&(Ve.attachments=vt),function F(ve,Pe){const{fingerprint:Ve,span:Qe,breadcrumbs:Pt,sdkProcessingMetadata:Se}=Pe;(function ce(ve,Pe){const{extra:Ve,tags:Qe,user:Pt,contexts:Se,level:qt,transactionName:Vt}=Pe,Tt=(0,M.Ce)(Ve);Tt&&Object.keys(Tt).length&&(ve.extra={...Tt,...ve.extra});const Ot=(0,M.Ce)(Qe);Ot&&Object.keys(Ot).length&&(ve.tags={...Ot,...ve.tags});const ft=(0,M.Ce)(Pt);ft&&Object.keys(ft).length&&(ve.user={...ft,...ve.user});const Re=(0,M.Ce)(Se);Re&&Object.keys(Re).length&&(ve.contexts={...Re,...ve.contexts}),qt&&(ve.level=qt),Vt&&"transaction"!==ve.type&&(ve.transaction=Vt)})(ve,Pe),Qe&&function j(ve,Pe){ve.contexts={trace:(0,z.kX)(Pe),...ve.contexts},ve.sdkProcessingMetadata={dynamicSamplingContext:(0,L.k1)(Pe),...ve.sdkProcessingMetadata};const Ve=(0,z.zU)(Pe),Qe=(0,z.et)(Ve).description;Qe&&!ve.transaction&&"transaction"===ve.type&&(ve.transaction=Qe)}(ve,Qe),function Y(ve,Pe){ve.fingerprint=ve.fingerprint?(0,d.k9)(ve.fingerprint):[],Pe&&(ve.fingerprint=ve.fingerprint.concat(Pe)),ve.fingerprint&&!ve.fingerprint.length&&delete ve.fingerprint}(ve,Ve),function re(ve,Pe){const Ve=[...ve.breadcrumbs||[],...Pe];ve.breadcrumbs=Ve.length?Ve:void 0}(ve,Pt),function we(ve,Pe){ve.sdkProcessingMetadata={...ve.sdkProcessingMetadata,...Pe}}(ve,Se)}(Tt,Ye),R([...Re,...Ye.eventProcessors],Tt,Ve).then(st=>(st&&function Me(ve){const Pe={};try{ve.exception.values.forEach(Qe=>{Qe.stacktrace.frames.forEach(Pt=>{Pt.debug_id&&(Pt.abs_path?Pe[Pt.abs_path]=Pt.debug_id:Pt.filename&&(Pe[Pt.filename]=Pt.debug_id),delete Pt.debug_id)})})}catch{}if(0===Object.keys(Pe).length)return;ve.debug_meta=ve.debug_meta||{},ve.debug_meta.images=ve.debug_meta.images||[];const Ve=ve.debug_meta.images;Object.entries(Pe).forEach(([Qe,Pt])=>{Ve.push({type:"sourcemap",code_file:Qe,debug_id:Pt})})}(st),"number"==typeof qt&&qt>0?function yt(ve,Pe,Ve){if(!ve)return null;const Qe={...ve,...ve.breadcrumbs&&{breadcrumbs:ve.breadcrumbs.map(Pt=>({...Pt,...Pt.data&&{data:(0,C.S8)(Pt.data,Pe,Ve)}}))},...ve.user&&{user:(0,C.S8)(ve.user,Pe,Ve)},...ve.contexts&&{contexts:(0,C.S8)(ve.contexts,Pe,Ve)},...ve.extra&&{extra:(0,C.S8)(ve.extra,Pe,Ve)}};return ve.contexts&&ve.contexts.trace&&Qe.contexts&&(Qe.contexts.trace=ve.contexts.trace,ve.contexts.trace.data&&(Qe.contexts.trace.data=(0,C.S8)(ve.contexts.trace.data,Pe,Ve))),ve.spans&&(Qe.spans=ve.spans.map(Pt=>({...Pt,...Pt.data&&{data:(0,C.S8)(Pt.data,Pe,Ve)}}))),Qe}(st,qt,Vt):st))}const Ce=new WeakMap;function je(ve){if(ve)return function X(ve){return ve instanceof O.H||"function"==typeof ve}(ve)||function _e(ve){return Object.keys(ve).some(Pe=>oe.includes(Pe))}(ve)?{captureContext:ve}:ve}const oe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2855:(dn,Ne,_)=>{"use strict";_.d(Ne,{f:()=>D,r:()=>w});var d=_(7593);const A="_sentrySpan";function w(C,S){S?(0,d.my)(C,A,S):delete C[A]}function D(C){return C[A]}},8165:(dn,Ne,_)=>{"use strict";_.d(Ne,{Bk:()=>Me,CC:()=>$,Ck:()=>O,Hu:()=>se,Qh:()=>L,VS:()=>W,aO:()=>R,cI:()=>z,et:()=>J,kX:()=>M,pK:()=>re,xO:()=>Ce,yW:()=>we,zU:()=>Q});var d=_(7593),A=_(3902),w=_(8423),D=_(9868),C=_(2150),S=_(2849),I=_(3395),E=_(4541),y=_(5989),x=_(2855);const $=0,R=1;function O(yt){const{spanId:Je,traceId:je}=yt.spanContext(),{data:X,op:oe,parent_span_id:_e,status:ve,origin:Pe}=J(yt);return(0,d.Ce)({parent_span_id:_e,span_id:Je,trace_id:je,data:X,op:oe,status:ve,origin:Pe})}function M(yt){const{spanId:Je,traceId:je}=yt.spanContext(),{parent_span_id:X}=J(yt);return(0,d.Ce)({parent_span_id:X,span_id:Je,trace_id:je})}function L(yt){const{traceId:Je,spanId:je}=yt.spanContext(),X=re(yt);return(0,A.TC)(Je,je,X)}function z(yt){return"number"==typeof yt?F(yt):Array.isArray(yt)?yt[0]+yt[1]/1e9:yt instanceof Date?F(yt.getTime()):(0,w.zf)()}function F(yt){return yt>9999999999?yt/1e3:yt}function J(yt){if(function ce(yt){return"function"==typeof yt.getSpanJSON}(yt))return yt.getSpanJSON();try{const{spanId:Je,traceId:je}=yt.spanContext();if(function ue(yt){return!!(yt.attributes&&yt.startTime&&yt.name&&yt.endTime&&yt.status)}(yt)){const{attributes:X,startTime:oe,name:_e,endTime:ve,parentSpanId:Pe,status:Ve}=yt;return(0,d.Ce)({span_id:Je,trace_id:je,data:X,description:_e,parent_span_id:Pe,start_timestamp:z(oe),timestamp:z(ve)||void 0,status:we(Ve),op:X[E.uT],origin:X[E.JD],_metrics_summary:(0,I.g)(yt)})}return{span_id:Je,trace_id:je}}catch{return{}}}function re(yt){const{traceFlags:Je}=yt.spanContext();return Je===R}function we(yt){if(yt&&yt.code!==y.a3)return yt.code===y.F3?"ok":yt.message||"unknown_error"}const j="_sentryChildSpans",Y="_sentryRootSpan";function se(yt,Je){(0,d.my)(Je,Y,yt[Y]||yt),yt[j]?yt[j].add(Je):(0,d.my)(yt,j,new Set([Je]))}function W(yt,Je){yt[j]&&yt[j].delete(Je)}function Ce(yt){const Je=new Set;return function je(X){if(!Je.has(X)&&re(X)){Je.add(X);const oe=X[j]?Array.from(X[j]):[];for(const _e of oe)je(_e)}}(yt),Array.from(Je)}function Q(yt){return yt[Y]||yt}function Me(){const yt=(0,C.E)(),Je=(0,D.h)(yt);return Je.getActiveSpan?Je.getActiveSpan():(0,x.f)((0,S.o5)())}},6570:(dn,Ne,_)=>{"use strict";_.d(Ne,{De:()=>y,hF:()=>D,yD:()=>E});var d=_(3506),A=_(1362),w=_(1205);const D="baggage",C="sentry-",S=/^sentry-/,I=8192;function E(O){const M=function x(O){if(O&&((0,A.Kg)(O)||Array.isArray(O)))return Array.isArray(O)?O.reduce((M,L)=>{const z=$(L);return Object.entries(z).forEach(([F,J])=>{M[F]=J}),M},{}):$(O)}(O);if(!M)return;const L=Object.entries(M).reduce((z,[F,J])=>(F.match(S)&&(z[F.slice(C.length)]=J),z),{});return Object.keys(L).length>0?L:void 0}function y(O){if(O)return function R(O){if(0!==Object.keys(O).length)return Object.entries(O).reduce((M,[L,z],F)=>{const J=`${encodeURIComponent(L)}=${encodeURIComponent(z)}`,ue=0===F?J:`${M},${J}`;return ue.length>I?(d.T&&w.vF.warn(`Not adding key: ${L} with val: ${z} to baggage header due to exceeding baggage size limits.`),M):ue},"")}(Object.entries(O).reduce((L,[z,F])=>(F&&(L[`${C}${z}`]=F),L),{}))}function $(O){return O.split(",").map(M=>M.split("=").map(L=>decodeURIComponent(L.trim()))).reduce((M,[L,z])=>(L&&z&&(M[L]=z),M),{})}},4440:(dn,Ne,_)=>{"use strict";_.d(Ne,{$N:()=>I,Hd:()=>C,NX:()=>E,xE:()=>y});var d=_(1362);const w=_(2031).O,D=80;function C(x,$={}){if(!x)return"<unknown>";try{let R=x;const O=5,M=[];let L=0,z=0;const F=" > ",J=F.length;let ue;const ce=Array.isArray($)?$:$.keyAttrs,re=!Array.isArray($)&&$.maxStringLength||D;for(;R&&L++<O&&(ue=S(R,ce),!("html"===ue||L>1&&z+M.length*J+ue.length>=re));)M.push(ue),z+=ue.length,R=R.parentNode;return M.reverse().join(F)}catch{return"<unknown>"}}function S(x,$){const R=x,O=[];if(!R||!R.tagName)return"";if(w.HTMLElement&&R instanceof HTMLElement&&R.dataset){if(R.dataset.sentryComponent)return R.dataset.sentryComponent;if(R.dataset.sentryElement)return R.dataset.sentryElement}O.push(R.tagName.toLowerCase());const M=$&&$.length?$.filter(z=>R.getAttribute(z)).map(z=>[z,R.getAttribute(z)]):null;if(M&&M.length)M.forEach(z=>{O.push(`[${z[0]}="${z[1]}"]`)});else{R.id&&O.push(`#${R.id}`);const z=R.className;if(z&&(0,d.Kg)(z)){const F=z.split(/\s+/);for(const J of F)O.push(`.${J}`)}}const L=["aria-label","type","name","title","alt"];for(const z of L){const F=R.getAttribute(z);F&&O.push(`[${z}="${F}"]`)}return O.join("")}function I(){try{return w.document.location.href}catch{return""}}function E(x){return w.document&&w.document.querySelector?w.document.querySelector(x):null}function y(x){if(!w.HTMLElement)return null;let $=x;for(let O=0;O<5;O++){if(!$)return null;if($ instanceof HTMLElement){if($.dataset.sentryComponent)return $.dataset.sentryComponent;if($.dataset.sentryElement)return $.dataset.sentryElement}$=$.parentNode}return null}},3506:(dn,Ne,_)=>{"use strict";_.d(Ne,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},3977:(dn,Ne,_)=>{"use strict";_.d(Ne,{AD:()=>y,SB:()=>C});var d=_(3506),A=_(1205);const w=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function C(x,$=!1){const{host:R,path:O,pass:M,port:L,projectId:z,protocol:F,publicKey:J}=x;return`${F}://${J}${$&&M?`:${M}`:""}@${R}${L?`:${L}`:""}/${O&&`${O}/`}${z}`}function I(x){return{protocol:x.protocol,publicKey:x.publicKey||"",pass:x.pass||"",host:x.host,port:x.port||"",path:x.path||"",projectId:x.projectId}}function y(x){const $="string"==typeof x?function S(x){const $=w.exec(x);if(!$)return void(0,A.pq)(()=>{console.error(`Invalid Sentry Dsn: ${x}`)});const[R,O,M="",L="",z="",F=""]=$.slice(1);let J="",ue=F;const ce=ue.split("/");if(ce.length>1&&(J=ce.slice(0,-1).join("/"),ue=ce.pop()),ue){const re=ue.match(/^\d+/);re&&(ue=re[0])}return I({host:L,pass:M,path:J,projectId:ue,port:z,protocol:R,publicKey:O})}(x):I(x);if($&&function E(x){if(!d.T)return!0;const{port:$,projectId:R,protocol:O}=x;return!(["protocol","publicKey","host","projectId"].find(z=>!x[z]&&(A.vF.error(`Invalid Sentry Dsn: ${z} missing`),!0))||(R.match(/^\d+$/)?function D(x){return"http"===x||"https"===x}(O)?$&&isNaN(parseInt($,10))&&(A.vF.error(`Invalid Sentry Dsn: Invalid port ${$}`),1):(A.vF.error(`Invalid Sentry Dsn: Invalid protocol ${O}`),1):(A.vF.error(`Invalid Sentry Dsn: Invalid projectId ${R}`),1)))}($))return $}},679:(dn,Ne,_)=>{"use strict";function d(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function A(){return"npm"}_.d(Ne,{Z:()=>d,e:()=>A})},7138:(dn,Ne,_)=>{"use strict";_.d(Ne,{Cj:()=>J,W3:()=>S,bN:()=>$,bm:()=>L,h4:()=>C,n2:()=>ue,y5:()=>M,yH:()=>I,zk:()=>F});var d=_(3977),A=_(6362),w=_(7593),D=_(2031);function C(ce,re=[]){return[ce,re]}function S(ce,re){const[we,j]=ce;return[we,[...j,re]]}function I(ce,re){const we=ce[1];for(const j of we)if(re(j,j[0].type))return!0;return!1}function y(ce){return D.O.__SENTRY__&&D.O.__SENTRY__.encodePolyfill?D.O.__SENTRY__.encodePolyfill(ce):(new TextEncoder).encode(ce)}function $(ce){const[re,we]=ce;let j=JSON.stringify(re);function Y(se){"string"==typeof j?j="string"==typeof se?j+se:[y(j),se]:j.push("string"==typeof se?y(se):se)}for(const se of we){const[W,Ce]=se;if(Y(`\n${JSON.stringify(W)}\n`),"string"==typeof Ce||Ce instanceof Uint8Array)Y(Ce);else{let Q;try{Q=JSON.stringify(Ce)}catch{Q=JSON.stringify((0,A.S8)(Ce))}Y(Q)}}return"string"==typeof j?j:function R(ce){const re=ce.reduce((Y,se)=>Y+se.length,0),we=new Uint8Array(re);let j=0;for(const Y of ce)we.set(Y,j),j+=Y.length;return we}(j)}function M(ce){return[{type:"span"},ce]}function L(ce){const re="string"==typeof ce.data?y(ce.data):ce.data;return[(0,w.Ce)({type:"attachment",length:re.length,filename:ce.filename,content_type:ce.contentType,attachment_type:ce.attachmentType}),re]}const z={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function F(ce){return z[ce]}function J(ce){if(!ce||!ce.sdk)return;const{name:re,version:we}=ce.sdk;return{name:re,version:we}}function ue(ce,re,we,j){const Y=ce.sdkProcessingMetadata&&ce.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:ce.event_id,sent_at:(new Date).toISOString(),...re&&{sdk:re},...!!we&&j&&{dsn:(0,d.SB)(j)},...Y&&{trace:(0,w.Ce)({...Y})}}}},5027:(dn,Ne,_)=>{"use strict";_.d(Ne,{AS:()=>E,aj:()=>y,s5:()=>S});var d=_(3506),A=_(1205),w=_(3439);const D={},C={};function S(x,$){D[x]=D[x]||[],D[x].push($)}function E(x,$){C[x]||($(),C[x]=!0)}function y(x,$){const R=x&&D[x];if(R)for(const O of R)try{O($)}catch(M){d.T&&A.vF.error(`Error while triggering instrumentation handler.\nType: ${x}\nName: ${(0,w.qQ)(O)}\nError:`,M)}}},1362:(dn,Ne,_)=>{"use strict";_.d(Ne,{BD:()=>C,Kg:()=>I,L2:()=>F,NF:()=>E,Qd:()=>x,Qg:()=>M,T2:()=>D,W6:()=>S,bJ:()=>A,gd:()=>O,mE:()=>L,sO:()=>y,tH:()=>z,vq:()=>R,xH:()=>$});const d=Object.prototype.toString;function A(J){switch(d.call(J)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return z(J,Error)}}function w(J,ue){return d.call(J)===`[object ${ue}]`}function D(J){return w(J,"ErrorEvent")}function C(J){return w(J,"DOMError")}function S(J){return w(J,"DOMException")}function I(J){return w(J,"String")}function E(J){return"object"==typeof J&&null!==J&&"__sentry_template_string__"in J&&"__sentry_template_values__"in J}function y(J){return null===J||E(J)||"object"!=typeof J&&"function"!=typeof J}function x(J){return w(J,"Object")}function $(J){return typeof Event<"u"&&z(J,Event)}function R(J){return typeof Element<"u"&&z(J,Element)}function O(J){return w(J,"RegExp")}function M(J){return!(!J||!J.then||"function"!=typeof J.then)}function L(J){return x(J)&&"nativeEvent"in J&&"preventDefault"in J&&"stopPropagation"in J}function z(J,ue){try{return J instanceof ue}catch{return!1}}function F(J){return!("object"!=typeof J||null===J||!J.__isVue&&!J._isVue)}},1205:(dn,Ne,_)=>{"use strict";_.d(Ne,{Ow:()=>D,Z9:()=>C,pq:()=>S,vF:()=>E});var d=_(3506),A=_(2031);const D=["debug","info","warn","error","log","assert","trace"],C={};function S(y){if(!("console"in A.O))return y();const x=A.O.console,$={},R=Object.keys(C);R.forEach(O=>{const M=C[O];$[O]=x[O],x[O]=M});try{return y()}finally{R.forEach(O=>{x[O]=$[O]})}}const E=function I(){let y=!1;const x={enable:()=>{y=!0},disable:()=>{y=!1},isEnabled:()=>y};return D.forEach(d.T?$=>{x[$]=(...R)=>{y&&S(()=>{A.O.console[$](`Sentry Logger [${$}]:`,...R)})}}:$=>{x[$]=()=>{}}),x}()},1582:(dn,Ne,_)=>{"use strict";_.d(Ne,{$X:()=>C,GR:()=>R,M6:()=>I,eJ:()=>w,gO:()=>S,k9:()=>O});var d=_(7593),A=_(2031);function w(){const M=A.O,L=M.crypto||M.msCrypto;let z=()=>16*Math.random();try{if(L&&L.randomUUID)return L.randomUUID().replace(/-/g,"");L&&L.getRandomValues&&(z=()=>{const F=new Uint8Array(1);return L.getRandomValues(F),F[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,F=>(F^(15&z())>>F/4).toString(16))}function D(M){return M.exception&&M.exception.values?M.exception.values[0]:void 0}function C(M){const{message:L,event_id:z}=M;if(L)return L;const F=D(M);return F?F.type&&F.value?`${F.type}: ${F.value}`:F.type||F.value||z||"<unknown>":z||"<unknown>"}function S(M,L,z){const F=M.exception=M.exception||{},J=F.values=F.values||[],ue=J[0]=J[0]||{};ue.value||(ue.value=L||""),ue.type||(ue.type=z||"Error")}function I(M,L){const z=D(M);if(!z)return;const J=z.mechanism;if(z.mechanism={type:"generic",handled:!0,...J,...L},L&&"data"in L){const ue={...J&&J.data,...L.data};z.mechanism.data=ue}}function R(M){if(M&&M.__sentry_captured__)return!0;try{(0,d.my)(M,"__sentry_captured__",!0)}catch{}return!1}function O(M){return Array.isArray(M)?M:[M]}},6362:(dn,Ne,_)=>{"use strict";_.d(Ne,{S8:()=>C,cd:()=>S});var d=_(1362),w=_(7593),D=_(3439);function C(O,M=100,L=1/0){try{return I("",O,M,L)}catch(z){return{ERROR:`**non-serializable** (${z})`}}}function S(O,M=3,L=102400){const z=C(O,M);return function $(O){return function x(O){return~-encodeURI(O).split(/%..|./).length}(JSON.stringify(O))}(z)>L?S(O,M-1,L):z}function I(O,M,L=1/0,z=1/0,F=function A(){const O="function"==typeof WeakSet,M=O?new WeakSet:[];return[function L(F){if(O)return!!M.has(F)||(M.add(F),!1);for(let J=0;J<M.length;J++)if(M[J]===F)return!0;return M.push(F),!1},function z(F){if(O)M.delete(F);else for(let J=0;J<M.length;J++)if(M[J]===F){M.splice(J,1);break}}]}()){const[J,ue]=F;if(null==M||["number","boolean","string"].includes(typeof M)&&!Number.isNaN(M))return M;const ce=function E(O,M){try{if("domain"===O&&M&&"object"==typeof M&&M._events)return"[Domain]";if("domainEmitter"===O)return"[DomainEmitter]";if(typeof global<"u"&&M===global)return"[Global]";if(typeof window<"u"&&M===window)return"[Window]";if(typeof document<"u"&&M===document)return"[Document]";if((0,d.L2)(M))return"[VueViewModel]";if((0,d.mE)(M))return"[SyntheticEvent]";if("number"==typeof M&&M!=M)return"[NaN]";if("function"==typeof M)return`[Function: ${(0,D.qQ)(M)}]`;if("symbol"==typeof M)return`[${String(M)}]`;if("bigint"==typeof M)return`[BigInt: ${String(M)}]`;const L=function y(O){const M=Object.getPrototypeOf(O);return M?M.constructor.name:"null prototype"}(M);return/^HTML(\w*)Element$/.test(L)?`[HTMLElement: ${L}]`:`[object ${L}]`}catch(L){return`**non-serializable** (${L})`}}(O,M);if(!ce.startsWith("[object "))return ce;if(M.__sentry_skip_normalization__)return M;const re="number"==typeof M.__sentry_override_normalization_depth__?M.__sentry_override_normalization_depth__:L;if(0===re)return ce.replace("object ","");if(J(M))return"[Circular ~]";const we=M;if(we&&"function"==typeof we.toJSON)try{return I("",we.toJSON(),re-1,z,F)}catch{}const j=Array.isArray(M)?[]:{};let Y=0;const se=(0,w.W4)(M);for(const W in se)if(Object.prototype.hasOwnProperty.call(se,W)){if(Y>=z){j[W]="[MaxProperties ~]";break}j[W]=I(W,se[W],re-1,z,F),Y++}return ue(M),j}},7593:(dn,Ne,_)=>{"use strict";_.d(Ne,{Ce:()=>L,GS:()=>S,HF:()=>M,W4:()=>$,my:()=>I,pO:()=>E,sp:()=>y,u4:()=>x});var d=_(4440),A=_(3506),w=_(1362),D=_(1205),C=_(6851);function S(ue,ce,re){if(!(ce in ue))return;const we=ue[ce],j=re(we);"function"==typeof j&&E(j,we),ue[ce]=j}function I(ue,ce,re){try{Object.defineProperty(ue,ce,{value:re,writable:!0,configurable:!0})}catch{A.T&&D.vF.log(`Failed to add non-enumerable property "${ce}" to object`,ue)}}function E(ue,ce){try{ue.prototype=ce.prototype=ce.prototype||{},I(ue,"__sentry_original__",ce)}catch{}}function y(ue){return ue.__sentry_original__}function x(ue){return Object.keys(ue).map(ce=>`${encodeURIComponent(ce)}=${encodeURIComponent(ue[ce])}`).join("&")}function $(ue){if((0,w.bJ)(ue))return{message:ue.message,name:ue.name,stack:ue.stack,...O(ue)};if((0,w.xH)(ue)){const ce={type:ue.type,target:R(ue.target),currentTarget:R(ue.currentTarget),...O(ue)};return typeof CustomEvent<"u"&&(0,w.tH)(ue,CustomEvent)&&(ce.detail=ue.detail),ce}return ue}function R(ue){try{return(0,w.vq)(ue)?(0,d.Hd)(ue):Object.prototype.toString.call(ue)}catch{return"<unknown>"}}function O(ue){if("object"==typeof ue&&null!==ue){const ce={};for(const re in ue)Object.prototype.hasOwnProperty.call(ue,re)&&(ce[re]=ue[re]);return ce}return{}}function M(ue,ce=40){const re=Object.keys($(ue));re.sort();const we=re[0];if(!we)return"[object has no keys]";if(we.length>=ce)return(0,C.xv)(we,ce);for(let j=re.length;j>0;j--){const Y=re.slice(0,j).join(", ");if(!(Y.length>ce))return j===re.length?Y:(0,C.xv)(Y,ce)}return""}function L(ue){return z(ue,new Map)}function z(ue,ce){if(function F(ue){if(!(0,w.Qd)(ue))return!1;try{const ce=Object.getPrototypeOf(ue).constructor.name;return!ce||"Object"===ce}catch{return!0}}(ue)){const re=ce.get(ue);if(void 0!==re)return re;const we={};ce.set(ue,we);for(const j of Object.keys(ue))typeof ue[j]<"u"&&(we[j]=z(ue[j],ce));return we}if(Array.isArray(ue)){const re=ce.get(ue);if(void 0!==re)return re;const we=[];return ce.set(ue,we),ue.forEach(j=>{we.push(z(j,ce))}),we}return ue}},1475:(dn,Ne,_)=>{"use strict";_.d(Ne,{J:()=>A});var d=_(1582);function A(){return{traceId:(0,d.eJ)(),spanId:(0,d.eJ)().substring(16)}}},1857:(dn,Ne,_)=>{"use strict";_.d(Ne,{Jz:()=>D,wq:()=>C});const d=6e4;function D(S,I,E=Date.now()){return function w(S,I){return S[I]||S.all||0}(S,I)>E}function C(S,{statusCode:I,headers:E},y=Date.now()){const x={...S},$=E&&E["x-sentry-rate-limits"],R=E&&E["retry-after"];if($)for(const O of $.trim().split(",")){const[M,L,,,z]=O.split(":",5),F=parseInt(M,10),J=1e3*(isNaN(F)?60:F);if(L)for(const ue of L.split(";"))"metric_bucket"===ue?(!z||z.split(";").includes("custom"))&&(x[ue]=y+J):x[ue]=y+J;else x.all=y+J}else R?x.all=y+function A(S,I=Date.now()){const E=parseInt(`${S}`,10);if(!isNaN(E))return 1e3*E;const y=Date.parse(`${S}`);return isNaN(y)?d:y-I}(R,y):429===I&&(x.all=y+6e4);return x}},3439:(dn,Ne,_)=>{"use strict";_.d(Ne,{RV:()=>$,gd:()=>C,qQ:()=>x,vk:()=>S,yF:()=>A});const d=50,A="?",w=/\(error: (.*)\)/,D=/captureMessage|captureException/;function C(...R){const O=R.sort((M,L)=>M[0]-L[0]).map(M=>M[1]);return(M,L=0,z=0)=>{const F=[],J=M.split("\n");for(let ue=L;ue<J.length;ue++){const ce=J[ue];if(ce.length>1024)continue;const re=w.test(ce)?ce.replace(w,"$1"):ce;if(!re.match(/\S*Error: /)){for(const we of O){const j=we(re);if(j){F.push(j);break}}if(F.length>=d+z)break}}return function I(R){if(!R.length)return[];const O=Array.from(R);return/sentryWrapped/.test(E(O).function||"")&&O.pop(),O.reverse(),D.test(E(O).function||"")&&(O.pop(),D.test(E(O).function||"")&&O.pop()),O.slice(0,d).map(M=>({...M,filename:M.filename||E(O).filename,function:M.function||A}))}(F.slice(z))}}function S(R){return Array.isArray(R)?C(...R):R}function E(R){return R[R.length-1]||{}}const y="<anonymous>";function x(R){try{return R&&"function"==typeof R&&R.name||y}catch{return y}}function $(R){const O=R.exception;if(O){const M=[];try{return O.values.forEach(L=>{L.stacktrace.frames&&M.push(...L.stacktrace.frames)}),M}catch{return}}}},6851:(dn,Ne,_)=>{"use strict";_.d(Ne,{Xr:()=>S,gt:()=>D,xv:()=>A});var d=_(1362);function A(I,E=0){return"string"!=typeof I||0===E||I.length<=E?I:`${I.slice(0,E)}...`}function D(I,E){if(!Array.isArray(I))return"";const y=[];for(let x=0;x<I.length;x++){const $=I[x];try{(0,d.L2)($)?y.push("[VueViewModel]"):y.push(String($))}catch{y.push("[value cannot be serialized]")}}return y.join(E)}function S(I,E=[],y=!1){return E.some(x=>function C(I,E,y=!1){return!!(0,d.Kg)(I)&&((0,d.gd)(E)?E.test(I):!!(0,d.Kg)(E)&&(y?I===E:I.includes(E)))}(I,x,y))}},774:(dn,Ne,_)=>{"use strict";_.d(Ne,{a3:()=>y,m7:()=>x,vm:()=>E});var d=_(3506),A=_(1205);const D=_(2031).O;function E(){if(!("fetch"in D))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function y(O){return O&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(O.toString())}function x(){if("string"==typeof EdgeRuntime)return!0;if(!E())return!1;if(y(D.fetch))return!0;let O=!1;const M=D.document;if(M&&"function"==typeof M.createElement)try{const L=M.createElement("iframe");L.hidden=!0,M.head.appendChild(L),L.contentWindow&&L.contentWindow.fetch&&(O=y(L.contentWindow.fetch)),M.head.removeChild(L)}catch(L){d.T&&A.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",L)}return O}},5612:(dn,Ne,_)=>{"use strict";_.d(Ne,{T2:()=>C,XW:()=>w,xg:()=>D});var A,S,d=_(1362);function w(S){return new C(I=>{I(S)})}function D(S){return new C((I,E)=>{E(S)})}(S=A||(A={}))[S.PENDING=0]="PENDING",S[S.RESOLVED=1]="RESOLVED",S[S.REJECTED=2]="REJECTED";class C{constructor(I){C.prototype.__init.call(this),C.prototype.__init2.call(this),C.prototype.__init3.call(this),C.prototype.__init4.call(this),this._state=A.PENDING,this._handlers=[];try{I(this._resolve,this._reject)}catch(E){this._reject(E)}}then(I,E){return new C((y,x)=>{this._handlers.push([!1,$=>{if(I)try{y(I($))}catch(R){x(R)}else y($)},$=>{if(E)try{y(E($))}catch(R){x(R)}else x($)}]),this._executeHandlers()})}catch(I){return this.then(E=>E,I)}finally(I){return new C((E,y)=>{let x,$;return this.then(R=>{$=!1,x=R,I&&I()},R=>{$=!0,x=R,I&&I()}).then(()=>{$?y(x):E(x)})})}__init(){this._resolve=I=>{this._setResult(A.RESOLVED,I)}}__init2(){this._reject=I=>{this._setResult(A.REJECTED,I)}}__init3(){this._setResult=(I,E)=>{if(this._state===A.PENDING){if((0,d.Qg)(E))return void E.then(this._resolve,this._reject);this._state=I,this._value=E,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===A.PENDING)return;const I=this._handlers.slice();this._handlers=[],I.forEach(E=>{E[0]||(this._state===A.RESOLVED&&E[1](this._value),this._state===A.REJECTED&&E[2](this._value),E[0]=!0)})}}}},8423:(dn,Ne,_)=>{"use strict";_.d(Ne,{k3:()=>I,lu:()=>w,zf:()=>C});var d=_(2031);const A=1e3;function w(){return Date.now()/A}const C=function D(){const{performance:E}=d.O;if(!E||!E.now)return w;const y=Date.now()-E.now(),x=null==E.timeOrigin?y:E.timeOrigin;return()=>(x+E.now())/A}();let S;const I=(()=>{const{performance:E}=d.O;if(!E||!E.now)return void(S="none");const y=36e5,x=E.now(),$=Date.now(),R=E.timeOrigin?Math.abs(E.timeOrigin+x-$):y,O=R<y,M=E.timing&&E.timing.navigationStart,z="number"==typeof M?Math.abs(M+x-$):y;return O||z<y?R<=z?(S="timeOrigin",E.timeOrigin):(S="navigationStart",M):(S="dateNow",$)})()},3902:(dn,Ne,_)=>{"use strict";_.d(Ne,{TC:()=>S,kM:()=>C});var d=_(6570),A=_(1582);const w=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function C(I,E){const y=function D(I){if(!I)return;const E=I.match(w);if(!E)return;let y;return"1"===E[3]?y=!0:"0"===E[3]&&(y=!1),{traceId:E[1],parentSampled:y,parentSpanId:E[2]}}(I),x=(0,d.yD)(E),{traceId:$,parentSpanId:R,parentSampled:O}=y||{};return y?{traceId:$||(0,A.eJ)(),parentSpanId:R||(0,A.eJ)().substring(16),spanId:(0,A.eJ)().substring(16),sampled:O,dsc:x||{}}:{traceId:$||(0,A.eJ)(),spanId:(0,A.eJ)().substring(16)}}function S(I=(0,A.eJ)(),E=(0,A.eJ)().substring(16),y){let x="";return void 0!==y&&(x=y?"-1":"-0"),`${I}-${E}${x}`}},3408:(dn,Ne,_)=>{"use strict";_.d(Ne,{M:()=>d});const d="8.20.0"},2031:(dn,Ne,_)=>{"use strict";_.d(Ne,{B:()=>w,O:()=>A});var d=_(3408);const A=globalThis;function w(D,C,S){const I=S||A,E=I.__SENTRY__=I.__SENTRY__||{},y=E[d.M]=E[d.M]||{};return y[D]||(y[D]=C())}},2789:(dn,Ne,_)=>{"use strict";_.d(Ne,{Zn:()=>ot});const S={year:0,month:1,day:2,hour:3,minute:4,second:5},y={};function $(st,Nt,Ut,wt,ct,ut,Z){const Fe=new Date(0);return Fe.setUTCFullYear(st,Nt,Ut),Fe.setUTCHours(wt,ct,ut,Z),Fe}const R=36e5,O=6e4,M={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function F(st,Nt){const Ut=function C(st,Nt){const Ut=function x(st){if(!y[st]){const Nt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));y[st]="06/25/2014, 00:00:00"===Nt||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===Nt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:st,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:st,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return y[st]}(Nt);return"formatToParts"in Ut?function I(st,Nt){try{const Ut=st.formatToParts(Nt),wt=[];for(let ct=0;ct<Ut.length;ct++){const ut=S[Ut[ct].type];void 0!==ut&&(wt[ut]=parseInt(Ut[ct].value,10))}return wt}catch(Ut){if(Ut instanceof RangeError)return[NaN];throw Ut}}(Ut,st):function E(st,Nt){const Ut=st.format(Nt),wt=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Ut);return[parseInt(wt[3],10),parseInt(wt[1],10),parseInt(wt[2],10),parseInt(wt[4],10),parseInt(wt[5],10),parseInt(wt[6],10)]}(Ut,st)}(st,Nt),wt=$(Ut[0],Ut[1]-1,Ut[2],Ut[3]%24,Ut[4],Ut[5],0).getTime();let ct=st.getTime();const ut=ct%1e3;return ct-=ut>=0?ut:1e3+ut,wt-ct}function ue(st,Nt){return-23<=st&&st<=23&&(null==Nt||0<=Nt&&Nt<=59)}const ce={};function ot(st,Nt){return-function L(st,Nt,Ut){if(!st)return 0;let ct,ut,wt=M.timezoneZ.exec(st);if(wt)return 0;if(wt=M.timezoneHH.exec(st),wt)return ct=parseInt(wt[1],10),ue(ct)?-ct*R:NaN;if(wt=M.timezoneHHMM.exec(st),wt){ct=parseInt(wt[2],10);const Z=parseInt(wt[3],10);return ue(ct,Z)?(ut=Math.abs(ct)*R+Z*O,"+"===wt[1]?-ut:ut):NaN}if(function re(st){if(ce[st])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:st}),ce[st]=!0,!0}catch{return!1}}(st)){Nt=new Date(Nt||Date.now());const Z=Ut?Nt:function z(st){return $(st.getFullYear(),st.getMonth(),st.getDate(),st.getHours(),st.getMinutes(),st.getSeconds(),st.getMilliseconds())}(Nt),Fe=F(Z,st);return-(Ut?Fe:function J(st,Nt,Ut){let ct=st.getTime()-Nt;const ut=F(new Date(ct),Ut);if(Nt===ut)return Nt;ct-=ut-Nt;const Z=F(new Date(ct),Ut);return ut===Z?ut:Math.max(ut,Z)}(Nt,Fe,st))}return NaN}(st,Nt)}},9857:(dn,Ne,_)=>{"use strict";_.d(Ne,{q:()=>A});let d={};function A(){return d}},5225:(dn,Ne,_)=>{"use strict";function d(A){return w=>{const C=(A?Math[A]:Math.trunc)(w);return 0===C?0:C}}_.d(Ne,{u:()=>d})},8889:(dn,Ne,_)=>{"use strict";_.d(Ne,{G:()=>A});var d=_(8700);function A(w){const D=(0,d.a)(w),C=new Date(Date.UTC(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()));return C.setUTCFullYear(D.getFullYear()),+w-+C}},1299:(dn,Ne,_)=>{"use strict";_.d(Ne,{W:()=>C});var d=_(8797),A=_(6337),w=_(6814),D=_(8700);function C(I,E){const{years:y=0,months:x=0,weeks:$=0,days:R=0,hours:O=0,minutes:M=0,seconds:L=0}=E,z=(0,D.a)(I),F=x||y?(0,A.P)(z,x+12*y):z,J=R||$?(0,d.f)(F,R+7*$):F,re=1e3*(L+60*(M+60*O));return(0,w.w)(I,J.getTime()+re)}},8797:(dn,Ne,_)=>{"use strict";_.d(Ne,{f:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=(0,d.a)(C);return isNaN(S)?(0,A.w)(C,NaN):(S&&I.setDate(I.getDate()+S),I)}},9533:(dn,Ne,_)=>{"use strict";_.d(Ne,{L:()=>w});var d=_(1962),A=_(7870);function w(C,S){return(0,d.A)(C,S*A.s0)}},1962:(dn,Ne,_)=>{"use strict";_.d(Ne,{A:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=+(0,d.a)(C);return(0,A.w)(C,I+S)}},9675:(dn,Ne,_)=>{"use strict";_.d(Ne,{z:()=>w});var d=_(1962),A=_(7870);function w(C,S){return(0,d.A)(C,S*A.Cg)}},6337:(dn,Ne,_)=>{"use strict";_.d(Ne,{P:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=(0,d.a)(C);if(isNaN(S))return(0,A.w)(C,NaN);if(!S)return I;const E=I.getDate(),y=(0,A.w)(C,I.getTime());return y.setMonth(I.getMonth()+S+1,0),E>=y.getDate()?y:(I.setFullYear(y.getFullYear(),y.getMonth(),E),I)}},5859:(dn,Ne,_)=>{"use strict";_.d(Ne,{p:()=>A});var d=_(1962);function A(D,C){return(0,d.A)(D,1e3*C)}},6243:(dn,Ne,_)=>{"use strict";_.d(Ne,{J:()=>A});var d=_(8797);function A(D,C){return(0,d.f)(D,7*C)}},4938:(dn,Ne,_)=>{"use strict";_.d(Ne,{e:()=>A});var d=_(6337);function A(D,C){return(0,d.P)(D,12*C)}},7870:(dn,Ne,_)=>{"use strict";_.d(Ne,{Cg:()=>I,F6:()=>R,Nw:()=>$,my:()=>C,s0:()=>E,w4:()=>S}),Math.pow(10,8);const C=6048e5,S=864e5,I=6e4,E=36e5,$=43200,R=1440},6814:(dn,Ne,_)=>{"use strict";function d(w,D){return w instanceof Date?new w.constructor(D):new Date(D)}_.d(Ne,{w:()=>d})},6248:(dn,Ne,_)=>{"use strict";_.d(Ne,{m:()=>D});var d=_(7870),A=_(3240),w=_(8889);function D(S,I){const E=(0,A.o)(S),y=(0,A.o)(I),x=+E-(0,w.G)(E),$=+y-(0,w.G)(y);return Math.round((x-$)/d.w4)}},1246:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>w});var d=_(6248),A=_(8700);function w(S,I){const E=(0,A.a)(S),y=(0,A.a)(I),x=D(E,y),$=Math.abs((0,d.m)(E,y));E.setDate(E.getDate()-x*$);const O=x*($-+(D(E,y)===-x));return 0===O?0:O}function D(S,I){const E=S.getFullYear()-I.getFullYear()||S.getMonth()-I.getMonth()||S.getDate()-I.getDate()||S.getHours()-I.getHours()||S.getMinutes()-I.getMinutes()||S.getSeconds()-I.getSeconds()||S.getMilliseconds()-I.getMilliseconds();return E<0?-1:E>0?1:E}},5213:(dn,Ne,_)=>{"use strict";_.d(Ne,{b:()=>A});var d=_(8700);function A(D,C){return+(0,d.a)(D)-+(0,d.a)(C)}},1874:(dn,Ne,_)=>{"use strict";_.d(Ne,{o:()=>D});var d=_(5225),A=_(7870),w=_(5213);function D(S,I,E){const y=(0,w.b)(S,I)/A.Cg;return(0,d.u)(E?.roundingMethod)(y)}},6441:(dn,Ne,_)=>{"use strict";_.d(Ne,{D:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setHours(23,59,59,999),C}},5469:(dn,Ne,_)=>{"use strict";_.d(Ne,{V:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setSeconds(59,999),C}},2730:(dn,Ne,_)=>{"use strict";_.d(Ne,{GP:()=>st});var d=_(4994),A=_(9857),w=_(6248),D=_(8700),C=_(6814);var x=_(7870),$=_(610);function R(wt){return(0,$.k)(wt,{weekStartsOn:1})}function M(wt){const ct=(0,D.a)(wt),ut=ct.getFullYear(),Z=(0,C.w)(wt,0);Z.setFullYear(ut+1,0,4),Z.setHours(0,0,0,0);const Fe=R(Z),pe=(0,C.w)(wt,0);pe.setFullYear(ut,0,4),pe.setHours(0,0,0,0);const at=R(pe);return ct.getTime()>=Fe.getTime()?ut+1:ct.getTime()>=at.getTime()?ut:ut-1}function ce(wt,ct){const ut=(0,D.a)(wt),Z=ut.getFullYear(),Fe=(0,A.q)(),pe=ct?.firstWeekContainsDate??ct?.locale?.options?.firstWeekContainsDate??Fe.firstWeekContainsDate??Fe.locale?.options?.firstWeekContainsDate??1,at=(0,C.w)(wt,0);at.setFullYear(Z+1,0,pe),at.setHours(0,0,0,0);const Gt=(0,$.k)(at,ct),nn=(0,C.w)(wt,0);nn.setFullYear(Z,0,pe),nn.setHours(0,0,0,0);const Wn=(0,$.k)(nn,ct);return ut.getTime()>=Gt.getTime()?Z+1:ut.getTime()>=Wn.getTime()?Z:Z-1}function W(wt,ct){return(wt<0?"-":"")+Math.abs(wt).toString().padStart(ct,"0")}const Ce={y(wt,ct){const ut=wt.getFullYear(),Z=ut>0?ut:1-ut;return W("yy"===ct?Z%100:Z,ct.length)},M(wt,ct){const ut=wt.getMonth();return"M"===ct?String(ut+1):W(ut+1,2)},d:(wt,ct)=>W(wt.getDate(),ct.length),a(wt,ct){const ut=wt.getHours()/12>=1?"pm":"am";switch(ct){case"a":case"aa":return ut.toUpperCase();case"aaa":return ut;case"aaaaa":return ut[0];default:return"am"===ut?"a.m.":"p.m."}},h:(wt,ct)=>W(wt.getHours()%12||12,ct.length),H:(wt,ct)=>W(wt.getHours(),ct.length),m:(wt,ct)=>W(wt.getMinutes(),ct.length),s:(wt,ct)=>W(wt.getSeconds(),ct.length),S(wt,ct){const ut=ct.length,Z=wt.getMilliseconds();return W(Math.trunc(Z*Math.pow(10,ut-3)),ct.length)}},Me={G:function(wt,ct,ut){const Z=wt.getFullYear()>0?1:0;switch(ct){case"G":case"GG":case"GGG":return ut.era(Z,{width:"abbreviated"});case"GGGGG":return ut.era(Z,{width:"narrow"});default:return ut.era(Z,{width:"wide"})}},y:function(wt,ct,ut){if("yo"===ct){const Z=wt.getFullYear();return ut.ordinalNumber(Z>0?Z:1-Z,{unit:"year"})}return Ce.y(wt,ct)},Y:function(wt,ct,ut,Z){const Fe=ce(wt,Z),pe=Fe>0?Fe:1-Fe;return"YY"===ct?W(pe%100,2):"Yo"===ct?ut.ordinalNumber(pe,{unit:"year"}):W(pe,ct.length)},R:function(wt,ct){return W(M(wt),ct.length)},u:function(wt,ct){return W(wt.getFullYear(),ct.length)},Q:function(wt,ct,ut){const Z=Math.ceil((wt.getMonth()+1)/3);switch(ct){case"Q":return String(Z);case"QQ":return W(Z,2);case"Qo":return ut.ordinalNumber(Z,{unit:"quarter"});case"QQQ":return ut.quarter(Z,{width:"abbreviated",context:"formatting"});case"QQQQQ":return ut.quarter(Z,{width:"narrow",context:"formatting"});default:return ut.quarter(Z,{width:"wide",context:"formatting"})}},q:function(wt,ct,ut){const Z=Math.ceil((wt.getMonth()+1)/3);switch(ct){case"q":return String(Z);case"qq":return W(Z,2);case"qo":return ut.ordinalNumber(Z,{unit:"quarter"});case"qqq":return ut.quarter(Z,{width:"abbreviated",context:"standalone"});case"qqqqq":return ut.quarter(Z,{width:"narrow",context:"standalone"});default:return ut.quarter(Z,{width:"wide",context:"standalone"})}},M:function(wt,ct,ut){const Z=wt.getMonth();switch(ct){case"M":case"MM":return Ce.M(wt,ct);case"Mo":return ut.ordinalNumber(Z+1,{unit:"month"});case"MMM":return ut.month(Z,{width:"abbreviated",context:"formatting"});case"MMMMM":return ut.month(Z,{width:"narrow",context:"formatting"});default:return ut.month(Z,{width:"wide",context:"formatting"})}},L:function(wt,ct,ut){const Z=wt.getMonth();switch(ct){case"L":return String(Z+1);case"LL":return W(Z+1,2);case"Lo":return ut.ordinalNumber(Z+1,{unit:"month"});case"LLL":return ut.month(Z,{width:"abbreviated",context:"standalone"});case"LLLLL":return ut.month(Z,{width:"narrow",context:"standalone"});default:return ut.month(Z,{width:"wide",context:"standalone"})}},w:function(wt,ct,ut,Z){const Fe=function Y(wt,ct){const ut=(0,D.a)(wt),Z=+(0,$.k)(ut,ct)-+function we(wt,ct){const ut=(0,A.q)(),Z=ct?.firstWeekContainsDate??ct?.locale?.options?.firstWeekContainsDate??ut.firstWeekContainsDate??ut.locale?.options?.firstWeekContainsDate??1,Fe=ce(wt,ct),pe=(0,C.w)(wt,0);return pe.setFullYear(Fe,0,Z),pe.setHours(0,0,0,0),(0,$.k)(pe,ct)}(ut,ct);return Math.round(Z/x.my)+1}(wt,Z);return"wo"===ct?ut.ordinalNumber(Fe,{unit:"week"}):W(Fe,ct.length)},I:function(wt,ct,ut){const Z=function J(wt){const ct=(0,D.a)(wt),ut=+R(ct)-+function z(wt){const ct=M(wt),ut=(0,C.w)(wt,0);return ut.setFullYear(ct,0,4),ut.setHours(0,0,0,0),R(ut)}(ct);return Math.round(ut/x.my)+1}(wt);return"Io"===ct?ut.ordinalNumber(Z,{unit:"week"}):W(Z,ct.length)},d:function(wt,ct,ut){return"do"===ct?ut.ordinalNumber(wt.getDate(),{unit:"date"}):Ce.d(wt,ct)},D:function(wt,ct,ut){const Z=function E(wt){const ct=(0,D.a)(wt);return(0,w.m)(ct,function S(wt){const ct=(0,D.a)(wt),ut=(0,C.w)(wt,0);return ut.setFullYear(ct.getFullYear(),0,1),ut.setHours(0,0,0,0),ut}(ct))+1}(wt);return"Do"===ct?ut.ordinalNumber(Z,{unit:"dayOfYear"}):W(Z,ct.length)},E:function(wt,ct,ut){const Z=wt.getDay();switch(ct){case"E":case"EE":case"EEE":return ut.day(Z,{width:"abbreviated",context:"formatting"});case"EEEEE":return ut.day(Z,{width:"narrow",context:"formatting"});case"EEEEEE":return ut.day(Z,{width:"short",context:"formatting"});default:return ut.day(Z,{width:"wide",context:"formatting"})}},e:function(wt,ct,ut,Z){const Fe=wt.getDay(),pe=(Fe-Z.weekStartsOn+8)%7||7;switch(ct){case"e":return String(pe);case"ee":return W(pe,2);case"eo":return ut.ordinalNumber(pe,{unit:"day"});case"eee":return ut.day(Fe,{width:"abbreviated",context:"formatting"});case"eeeee":return ut.day(Fe,{width:"narrow",context:"formatting"});case"eeeeee":return ut.day(Fe,{width:"short",context:"formatting"});default:return ut.day(Fe,{width:"wide",context:"formatting"})}},c:function(wt,ct,ut,Z){const Fe=wt.getDay(),pe=(Fe-Z.weekStartsOn+8)%7||7;switch(ct){case"c":return String(pe);case"cc":return W(pe,ct.length);case"co":return ut.ordinalNumber(pe,{unit:"day"});case"ccc":return ut.day(Fe,{width:"abbreviated",context:"standalone"});case"ccccc":return ut.day(Fe,{width:"narrow",context:"standalone"});case"cccccc":return ut.day(Fe,{width:"short",context:"standalone"});default:return ut.day(Fe,{width:"wide",context:"standalone"})}},i:function(wt,ct,ut){const Z=wt.getDay(),Fe=0===Z?7:Z;switch(ct){case"i":return String(Fe);case"ii":return W(Fe,ct.length);case"io":return ut.ordinalNumber(Fe,{unit:"day"});case"iii":return ut.day(Z,{width:"abbreviated",context:"formatting"});case"iiiii":return ut.day(Z,{width:"narrow",context:"formatting"});case"iiiiii":return ut.day(Z,{width:"short",context:"formatting"});default:return ut.day(Z,{width:"wide",context:"formatting"})}},a:function(wt,ct,ut){const Fe=wt.getHours()/12>=1?"pm":"am";switch(ct){case"a":case"aa":return ut.dayPeriod(Fe,{width:"abbreviated",context:"formatting"});case"aaa":return ut.dayPeriod(Fe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return ut.dayPeriod(Fe,{width:"narrow",context:"formatting"});default:return ut.dayPeriod(Fe,{width:"wide",context:"formatting"})}},b:function(wt,ct,ut){const Z=wt.getHours();let Fe;switch(Fe=12===Z?"noon":0===Z?"midnight":Z/12>=1?"pm":"am",ct){case"b":case"bb":return ut.dayPeriod(Fe,{width:"abbreviated",context:"formatting"});case"bbb":return ut.dayPeriod(Fe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return ut.dayPeriod(Fe,{width:"narrow",context:"formatting"});default:return ut.dayPeriod(Fe,{width:"wide",context:"formatting"})}},B:function(wt,ct,ut){const Z=wt.getHours();let Fe;switch(Fe=Z>=17?"evening":Z>=12?"afternoon":Z>=4?"morning":"night",ct){case"B":case"BB":case"BBB":return ut.dayPeriod(Fe,{width:"abbreviated",context:"formatting"});case"BBBBB":return ut.dayPeriod(Fe,{width:"narrow",context:"formatting"});default:return ut.dayPeriod(Fe,{width:"wide",context:"formatting"})}},h:function(wt,ct,ut){if("ho"===ct){let Z=wt.getHours()%12;return 0===Z&&(Z=12),ut.ordinalNumber(Z,{unit:"hour"})}return Ce.h(wt,ct)},H:function(wt,ct,ut){return"Ho"===ct?ut.ordinalNumber(wt.getHours(),{unit:"hour"}):Ce.H(wt,ct)},K:function(wt,ct,ut){const Z=wt.getHours()%12;return"Ko"===ct?ut.ordinalNumber(Z,{unit:"hour"}):W(Z,ct.length)},k:function(wt,ct,ut){let Z=wt.getHours();return 0===Z&&(Z=24),"ko"===ct?ut.ordinalNumber(Z,{unit:"hour"}):W(Z,ct.length)},m:function(wt,ct,ut){return"mo"===ct?ut.ordinalNumber(wt.getMinutes(),{unit:"minute"}):Ce.m(wt,ct)},s:function(wt,ct,ut){return"so"===ct?ut.ordinalNumber(wt.getSeconds(),{unit:"second"}):Ce.s(wt,ct)},S:function(wt,ct){return Ce.S(wt,ct)},X:function(wt,ct,ut){const Z=wt.getTimezoneOffset();if(0===Z)return"Z";switch(ct){case"X":return yt(Z);case"XXXX":case"XX":return Je(Z);default:return Je(Z,":")}},x:function(wt,ct,ut){const Z=wt.getTimezoneOffset();switch(ct){case"x":return yt(Z);case"xxxx":case"xx":return Je(Z);default:return Je(Z,":")}},O:function(wt,ct,ut){const Z=wt.getTimezoneOffset();switch(ct){case"O":case"OO":case"OOO":return"GMT"+Xe(Z,":");default:return"GMT"+Je(Z,":")}},z:function(wt,ct,ut){const Z=wt.getTimezoneOffset();switch(ct){case"z":case"zz":case"zzz":return"GMT"+Xe(Z,":");default:return"GMT"+Je(Z,":")}},t:function(wt,ct,ut){return W(Math.trunc(wt.getTime()/1e3),ct.length)},T:function(wt,ct,ut){return W(wt.getTime(),ct.length)}};function Xe(wt,ct=""){const ut=wt>0?"-":"+",Z=Math.abs(wt),Fe=Math.trunc(Z/60),pe=Z%60;return 0===pe?ut+String(Fe):ut+String(Fe)+ct+W(pe,2)}function yt(wt,ct){return wt%60==0?(wt>0?"-":"+")+W(Math.abs(wt)/60,2):Je(wt,ct)}function Je(wt,ct=""){const ut=wt>0?"-":"+",Z=Math.abs(wt);return ut+W(Math.trunc(Z/60),2)+ct+W(Z%60,2)}const je=(wt,ct)=>{switch(wt){case"P":return ct.date({width:"short"});case"PP":return ct.date({width:"medium"});case"PPP":return ct.date({width:"long"});default:return ct.date({width:"full"})}},X=(wt,ct)=>{switch(wt){case"p":return ct.time({width:"short"});case"pp":return ct.time({width:"medium"});case"ppp":return ct.time({width:"long"});default:return ct.time({width:"full"})}},_e={p:X,P:(wt,ct)=>{const ut=wt.match(/(P+)(p+)?/)||[],Z=ut[1],Fe=ut[2];if(!Fe)return je(wt,ct);let pe;switch(Z){case"P":pe=ct.dateTime({width:"short"});break;case"PP":pe=ct.dateTime({width:"medium"});break;case"PPP":pe=ct.dateTime({width:"long"});break;default:pe=ct.dateTime({width:"full"})}return pe.replace("{{date}}",je(Z,ct)).replace("{{time}}",X(Fe,ct))}},ve=/^D+$/,Pe=/^Y+$/,Ve=["D","DD","YY","YYYY"];const Re=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vt=/^'([^]*?)'?$/,It=/''/g,ot=/[a-zA-Z]/;function st(wt,ct,ut){const Z=(0,A.q)(),Fe=ut?.locale??Z.locale??d.c,pe=ut?.firstWeekContainsDate??ut?.locale?.options?.firstWeekContainsDate??Z.firstWeekContainsDate??Z.locale?.options?.firstWeekContainsDate??1,at=ut?.weekStartsOn??ut?.locale?.options?.weekStartsOn??Z.weekStartsOn??Z.locale?.options?.weekStartsOn??0,Gt=(0,D.a)(wt);if(!function Ot(wt){if(!function Vt(wt){return wt instanceof Date||"object"==typeof wt&&"[object Date]"===Object.prototype.toString.call(wt)}(wt)&&"number"!=typeof wt)return!1;const ct=(0,D.a)(wt);return!isNaN(Number(ct))}(Gt))throw new RangeError("Invalid time value");let nn=ct.match(Ye).map(vi=>{const sn=vi[0];return"p"===sn||"P"===sn?(0,_e[sn])(vi,Fe.formatLong):vi}).join("").match(Re).map(vi=>{if("''"===vi)return{isToken:!1,value:"'"};const sn=vi[0];if("'"===sn)return{isToken:!1,value:Nt(vi)};if(Me[sn])return{isToken:!0,value:vi};if(sn.match(ot))throw new RangeError("Format string contains an unescaped latin alphabet character `"+sn+"`");return{isToken:!1,value:vi}});Fe.localize.preprocessor&&(nn=Fe.localize.preprocessor(Gt,nn));const Wn={firstWeekContainsDate:pe,weekStartsOn:at,locale:Fe};return nn.map(vi=>{if(!vi.isToken)return vi.value;const sn=vi.value;return(!ut?.useAdditionalWeekYearTokens&&function Pt(wt){return Pe.test(wt)}(sn)||!ut?.useAdditionalDayOfYearTokens&&function Qe(wt){return ve.test(wt)}(sn))&&function Se(wt,ct,ut){const Z=function qt(wt,ct,ut){const Z="Y"===wt[0]?"years":"days of the month";return`Use \`${wt.toLowerCase()}\` instead of \`${wt}\` (in \`${ct}\`) for formatting ${Z} to the input \`${ut}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(wt,ct,ut);if(console.warn(Z),Ve.includes(wt))throw new RangeError(Z)}(sn,ct,String(wt)),(0,Me[sn[0]])(Gt,sn,Fe.localize,Wn)}).join("")}function Nt(wt){const ct=wt.match(vt);return ct?ct[1].replace(It,"'"):wt}},2439:(dn,Ne,_)=>{"use strict";_.d(Ne,{m:()=>W});var d=_(6814),D=_(8700);function C(Q,Me){const Xe=(0,D.a)(Q),yt=(0,D.a)(Me),Je=Xe.getTime()-yt.getTime();return Je<0?-1:Je>0?1:Je}var I=_(7870),x=_(6441);function L(Q,Me){const Xe=(0,D.a)(Q),yt=(0,D.a)(Me),Je=C(Xe,yt),je=Math.abs(function E(Q,Me){const Xe=(0,D.a)(Q),yt=(0,D.a)(Me);return 12*(Xe.getFullYear()-yt.getFullYear())+(Xe.getMonth()-yt.getMonth())}(Xe,yt));let X;if(je<1)X=0;else{1===Xe.getMonth()&&Xe.getDate()>27&&Xe.setDate(30),Xe.setMonth(Xe.getMonth()-Je*je);let oe=C(Xe,yt)===-Je;(function O(Q){const Me=(0,D.a)(Q);return+(0,x.D)(Me)==+function $(Q){const Me=(0,D.a)(Q),Xe=Me.getMonth();return Me.setFullYear(Me.getFullYear(),Xe+1,0),Me.setHours(23,59,59,999),Me}(Me)})((0,D.a)(Q))&&1===je&&1===C(Q,yt)&&(oe=!1),X=Je*(je-Number(oe))}return 0===X?0:X}var F=_(5225),J=_(5213),re=_(4994),we=_(9857),j=_(8889);function W(Q,Me){return function Y(Q,Me,Xe){const yt=(0,we.q)(),Je=Xe?.locale??yt.locale??re.c,X=C(Q,Me);if(isNaN(X))throw new RangeError("Invalid time value");const oe=Object.assign({},Xe,{addSuffix:Xe?.addSuffix,comparison:X});let _e,ve;X>0?(_e=(0,D.a)(Me),ve=(0,D.a)(Q)):(_e=(0,D.a)(Q),ve=(0,D.a)(Me));const Pe=function ue(Q,Me,Xe){const yt=(0,J.b)(Q,Me)/1e3;return(0,F.u)(Xe?.roundingMethod)(yt)}(ve,_e),Ve=((0,j.G)(ve)-(0,j.G)(_e))/1e3,Qe=Math.round((Pe-Ve)/60);let Pt;if(Qe<2)return Xe?.includeSeconds?Pe<5?Je.formatDistance("lessThanXSeconds",5,oe):Pe<10?Je.formatDistance("lessThanXSeconds",10,oe):Pe<20?Je.formatDistance("lessThanXSeconds",20,oe):Pe<40?Je.formatDistance("halfAMinute",0,oe):Je.formatDistance(Pe<60?"lessThanXMinutes":"xMinutes",1,oe):0===Qe?Je.formatDistance("lessThanXMinutes",1,oe):Je.formatDistance("xMinutes",Qe,oe);if(Qe<45)return Je.formatDistance("xMinutes",Qe,oe);if(Qe<90)return Je.formatDistance("aboutXHours",1,oe);if(Qe<I.F6){const Se=Math.round(Qe/60);return Je.formatDistance("aboutXHours",Se,oe)}if(Qe<2520)return Je.formatDistance("xDays",1,oe);if(Qe<I.Nw){const Se=Math.round(Qe/I.F6);return Je.formatDistance("xDays",Se,oe)}if(Qe<2*I.Nw)return Pt=Math.round(Qe/I.Nw),Je.formatDistance("aboutXMonths",Pt,oe);if(Pt=L(ve,_e),Pt<12){const Se=Math.round(Qe/I.Nw);return Je.formatDistance("xMonths",Se,oe)}{const Se=Pt%12,qt=Math.trunc(Pt/12);return Se<3?Je.formatDistance("aboutXYears",qt,oe):Se<9?Je.formatDistance("overXYears",qt,oe):Je.formatDistance("almostXYears",qt+1,oe)}}(Q,function A(Q){return(0,d.w)(Q,Date.now())}(Q),Me)}},9134:(dn,Ne,_)=>{"use strict";_.d(Ne,{a:()=>D});var d=_(4994),A=_(9857);const w=["years","months","weeks","days","hours","minutes","seconds"];function D(S,I){const E=(0,A.q)(),y=I?.locale??E.locale??d.c,x=I?.format??w,$=I?.zero??!1,R=I?.delimiter??" ";return y.formatDistance?x.reduce((M,L)=>{const z=`x${L.replace(/(^.)/,J=>J.toUpperCase())}`,F=S[L];return void 0!==F&&($||S[L])?M.concat(y.formatDistance(z,F)):M},[]).join(R):""}},2890:(dn,Ne,_)=>{"use strict";_.d(Ne,{S:()=>A});var d=_(8700);function A(D){return(0,d.a)(1e3*D)}},9908:(dn,Ne,_)=>{"use strict";_.d(Ne,{_:()=>A});var d=_(8700);function A(D){return Math.trunc(+(0,d.a)(D)/1e3)}},1543:(dn,Ne,_)=>{"use strict";_.d(Ne,{d:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D),I=(0,d.a)(C);return S.getTime()>I.getTime()}},5882:(dn,Ne,_)=>{"use strict";_.d(Ne,{Y:()=>A});var d=_(8700);function A(D,C){return+(0,d.a)(D)<+(0,d.a)(C)}},1257:(dn,Ne,_)=>{"use strict";_.d(Ne,{r:()=>A});var d=_(3240);function A(D,C){return+(0,d.o)(D)==+(0,d.o)(C)}},1997:(dn,Ne,_)=>{"use strict";_.d(Ne,{H:()=>A});var d=_(3206);function A(D,C){return+(0,d.c)(D)==+(0,d.c)(C)}},9681:(dn,Ne,_)=>{"use strict";_.d(Ne,{t:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D),I=(0,d.a)(C);return S.getFullYear()===I.getFullYear()&&S.getMonth()===I.getMonth()}},4994:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>_e});const d={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function w(Pe){return(Ve={})=>{const Qe=Ve.width?String(Ve.width):Pe.defaultWidth;return Pe.formats[Qe]||Pe.formats[Pe.defaultWidth]}}const I={date:w({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:w({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:w({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},E={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function x(Pe){return(Ve,Qe)=>{let Se;if("formatting"===(Qe?.context?String(Qe.context):"standalone")&&Pe.formattingValues){const Vt=Pe.defaultFormattingWidth||Pe.defaultWidth,Tt=Qe?.width?String(Qe.width):Vt;Se=Pe.formattingValues[Tt]||Pe.formattingValues[Vt]}else{const Vt=Pe.defaultWidth,Tt=Qe?.width?String(Qe.width):Pe.defaultWidth;Se=Pe.values[Tt]||Pe.values[Vt]}return Se[Pe.argumentCallback?Pe.argumentCallback(Ve):Ve]}}function ue(Pe){return(Ve,Qe={})=>{const Pt=Qe.width,qt=Ve.match(Pt&&Pe.matchPatterns[Pt]||Pe.matchPatterns[Pe.defaultMatchWidth]);if(!qt)return null;const Vt=qt[0],Tt=Pt&&Pe.parsePatterns[Pt]||Pe.parsePatterns[Pe.defaultParseWidth],Ot=Array.isArray(Tt)?function re(Pe,Ve){for(let Qe=0;Qe<Pe.length;Qe++)if(Ve(Pe[Qe]))return Qe}(Tt,Ye=>Ye.test(Vt)):function ce(Pe,Ve){for(const Qe in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Qe)&&Ve(Pe[Qe]))return Qe}(Tt,Ye=>Ye.test(Vt));let ft;return ft=Pe.valueCallback?Pe.valueCallback(Ot):Ot,ft=Qe.valueCallback?Qe.valueCallback(ft):ft,{value:ft,rest:Ve.slice(Vt.length)}}}const _e={code:"en-US",formatDistance:(Pe,Ve,Qe)=>{let Pt;const Se=d[Pe];return Pt="string"==typeof Se?Se:1===Ve?Se.one:Se.other.replace("{{count}}",Ve.toString()),Qe?.addSuffix?Qe.comparison&&Qe.comparison>0?"in "+Pt:Pt+" ago":Pt},formatLong:I,formatRelative:(Pe,Ve,Qe,Pt)=>E[Pe],localize:{ordinalNumber:(Pe,Ve)=>{const Qe=Number(Pe),Pt=Qe%100;if(Pt>20||Pt<10)switch(Pt%10){case 1:return Qe+"st";case 2:return Qe+"nd";case 3:return Qe+"rd"}return Qe+"th"},era:x({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:x({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:Pe=>Pe-1}),month:x({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:x({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:x({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function we(Pe){return(Ve,Qe={})=>{const Pt=Ve.match(Pe.matchPattern);if(!Pt)return null;const Se=Pt[0],qt=Ve.match(Pe.parsePattern);if(!qt)return null;let Vt=Pe.valueCallback?Pe.valueCallback(qt[0]):qt[0];return Vt=Qe.valueCallback?Qe.valueCallback(Vt):Vt,{value:Vt,rest:Ve.slice(Se.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:Pe=>parseInt(Pe,10)}),era:ue({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ue({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:Pe=>Pe+1}),month:ue({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ue({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ue({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},5647:(dn,Ne,_)=>{"use strict";_.d(Ne,{X:()=>D});var d=_(5225),A=_(6814),w=_(8700);function D(S,I){const E=I?.nearestTo??1;if(E<1||E>30)return(0,A.w)(S,NaN);const y=(0,w.a)(S),x=y.getSeconds()/60,$=y.getMilliseconds()/1e3/60,R=y.getMinutes()+x+$,L=(0,d.u)(I?.roundingMethod??"round")(R/E)*E,z=(0,A.w)(S,y);return z.setMinutes(L,0,0),z}},7177:(dn,Ne,_)=>{"use strict";_.d(Ne,{h:()=>D});var d=_(6814),A=_(1598),w=_(8700);function D(S,I){let E=(0,w.a)(S);return isNaN(+E)?(0,d.w)(S,NaN):(null!=I.year&&E.setFullYear(I.year),null!=I.month&&(E=(0,A.Z)(E,I.month)),null!=I.date&&E.setDate(I.date),null!=I.hours&&E.setHours(I.hours),null!=I.minutes&&E.setMinutes(I.minutes),null!=I.seconds&&E.setSeconds(I.seconds),null!=I.milliseconds&&E.setMilliseconds(I.milliseconds),E)}},3330:(dn,Ne,_)=>{"use strict";_.d(Ne,{a:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D);return S.setHours(C),S}},7052:(dn,Ne,_)=>{"use strict";_.d(Ne,{g:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D);return S.setMinutes(C),S}},1598:(dn,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>C});var d=_(6814),A=_(8700);function C(I,E){const y=(0,A.a)(I),x=y.getFullYear(),$=y.getDate(),R=(0,d.w)(I,0);R.setFullYear(x,E,15),R.setHours(0,0,0,0);const O=function w(I){const E=(0,A.a)(I),y=E.getFullYear(),x=E.getMonth(),$=(0,d.w)(I,0);return $.setFullYear(y,x+1,0),$.setHours(0,0,0,0),$.getDate()}(R);return y.setMonth(E,Math.min($,O)),y}},3240:(dn,Ne,_)=>{"use strict";_.d(Ne,{o:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setHours(0,0,0,0),C}},3206:(dn,Ne,_)=>{"use strict";_.d(Ne,{c:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setSeconds(0,0),C}},452:(dn,Ne,_)=>{"use strict";_.d(Ne,{w:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setDate(1),C.setHours(0,0,0,0),C}},610:(dn,Ne,_)=>{"use strict";_.d(Ne,{k:()=>w});var d=_(8700),A=_(9857);function w(C,S){const I=(0,A.q)(),E=S?.weekStartsOn??S?.locale?.options?.weekStartsOn??I.weekStartsOn??I.locale?.options?.weekStartsOn??0,y=(0,d.a)(C),x=y.getDay(),$=(x<E?7:0)+x-E;return y.setDate(y.getDate()-$),y.setHours(0,0,0,0),y}},2786:(dn,Ne,_)=>{"use strict";_.d(Ne,{e:()=>A});var d=_(8797);function A(D,C){return(0,d.f)(D,-C)}},8848:(dn,Ne,_)=>{"use strict";_.d(Ne,{O:()=>A});var d=_(9533);function A(D,C){return(0,d.L)(D,-C)}},6926:(dn,Ne,_)=>{"use strict";_.d(Ne,{Y:()=>A});var d=_(9675);function A(D,C){return(0,d.z)(D,-C)}},4206:(dn,Ne,_)=>{"use strict";_.d(Ne,{W:()=>A});var d=_(5859);function A(D,C){return(0,d.p)(D,-C)}},8700:(dn,Ne,_)=>{"use strict";function d(w){const D=Object.prototype.toString.call(w);return w instanceof Date||"object"==typeof w&&"[object Date]"===D?new w.constructor(+w):"number"==typeof w||"[object Number]"===D||"string"==typeof w||"[object String]"===D?new Date(w):new Date(NaN)}_.d(Ne,{a:()=>d})},3388:(dn,Ne,_)=>{"use strict";
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function d(P){return typeof P>"u"||null===P}_.d(Ne,{Hh:()=>zr});var O={isNothing:d,isObject:function A(P){return"object"==typeof P&&null!==P},toArray:function w(P){return Array.isArray(P)?P:d(P)?[]:[P]},repeat:function C(P,Et){var ln,Kt="";for(ln=0;ln<Et;ln+=1)Kt+=P;return Kt},isNegativeZero:function S(P){return 0===P&&Number.NEGATIVE_INFINITY===1/P},extend:function D(P,Et){var Kt,ln,en,Tn;if(Et)for(Kt=0,ln=(Tn=Object.keys(Et)).length;Kt<ln;Kt+=1)P[en=Tn[Kt]]=Et[en];return P}};function M(P,Et){var Kt="",ln=P.reason||"(unknown reason)";return P.mark?(P.mark.name&&(Kt+='in "'+P.mark.name+'" '),Kt+="("+(P.mark.line+1)+":"+(P.mark.column+1)+")",!Et&&P.mark.snippet&&(Kt+="\n\n"+P.mark.snippet),ln+" "+Kt):ln}function L(P,Et){Error.call(this),this.name="YAMLException",this.reason=P,this.mark=Et,this.message=M(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(L.prototype=Object.create(Error.prototype)).constructor=L,L.prototype.toString=function(Et){return this.name+": "+M(this,Et)};var z=L;function F(P,Et,Kt,ln,en){var Tn="",an="",Fn=Math.floor(en/2)-1;return ln-Et>Fn&&(Et=ln-Fn+(Tn=" ... ").length),Kt-ln>Fn&&(Kt=ln+Fn-(an=" ...").length),{str:Tn+P.slice(Et,Kt).replace(/\t/g,"\u2192")+an,pos:ln-Et+Tn.length}}function J(P,Et){return O.repeat(" ",Et-P.length)+P}var ce=function ue(P,Et){if(Et=Object.create(Et||null),!P.buffer)return null;Et.maxLength||(Et.maxLength=79),"number"!=typeof Et.indent&&(Et.indent=1),"number"!=typeof Et.linesBefore&&(Et.linesBefore=3),"number"!=typeof Et.linesAfter&&(Et.linesAfter=2);for(var Tn,Kt=/\r?\n|\r|\0/g,ln=[0],en=[],an=-1;Tn=Kt.exec(P.buffer);)en.push(Tn.index),ln.push(Tn.index+Tn[0].length),P.position<=Tn.index&&an<0&&(an=ln.length-2);an<0&&(an=ln.length-1);var qn,zn,Fn="",fi=Math.min(P.line+Et.linesAfter,en.length).toString().length,Jn=Et.maxLength-(Et.indent+fi+3);for(qn=1;qn<=Et.linesBefore&&!(an-qn<0);qn++)zn=F(P.buffer,ln[an-qn],en[an-qn],P.position-(ln[an]-ln[an-qn]),Jn),Fn=O.repeat(" ",Et.indent)+J((P.line-qn+1).toString(),fi)+" | "+zn.str+"\n"+Fn;for(zn=F(P.buffer,ln[an],en[an],P.position,Jn),Fn+=O.repeat(" ",Et.indent)+J((P.line+1).toString(),fi)+" | "+zn.str+"\n",Fn+=O.repeat("-",Et.indent+fi+3+zn.pos)+"^\n",qn=1;qn<=Et.linesAfter&&!(an+qn>=en.length);qn++)zn=F(P.buffer,ln[an+qn],en[an+qn],P.position-(ln[an]-ln[an+qn]),Jn),Fn+=O.repeat(" ",Et.indent)+J((P.line+qn+1).toString(),fi)+" | "+zn.str+"\n";return Fn.replace(/\n$/,"")},re=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],we=["scalar","sequence","mapping"],se=function Y(P,Et){if(Et=Et||{},Object.keys(Et).forEach(function(Kt){if(-1===re.indexOf(Kt))throw new z('Unknown option "'+Kt+'" is met in definition of "'+P+'" YAML type.')}),this.options=Et,this.tag=P,this.kind=Et.kind||null,this.resolve=Et.resolve||function(){return!0},this.construct=Et.construct||function(Kt){return Kt},this.instanceOf=Et.instanceOf||null,this.predicate=Et.predicate||null,this.represent=Et.represent||null,this.representName=Et.representName||null,this.defaultStyle=Et.defaultStyle||null,this.multi=Et.multi||!1,this.styleAliases=function j(P){var Et={};return null!==P&&Object.keys(P).forEach(function(Kt){P[Kt].forEach(function(ln){Et[String(ln)]=Kt})}),Et}(Et.styleAliases||null),-1===we.indexOf(this.kind))throw new z('Unknown kind "'+this.kind+'" is specified for "'+P+'" YAML type.')};function W(P,Et){var Kt=[];return P[Et].forEach(function(ln){var en=Kt.length;Kt.forEach(function(Tn,an){Tn.tag===ln.tag&&Tn.kind===ln.kind&&Tn.multi===ln.multi&&(en=an)}),Kt[en]=ln}),Kt}function Q(P){return this.extend(P)}Q.prototype.extend=function(Et){var Kt=[],ln=[];if(Et instanceof se)ln.push(Et);else if(Array.isArray(Et))ln=ln.concat(Et);else{if(!Et||!Array.isArray(Et.implicit)&&!Array.isArray(Et.explicit))throw new z("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Et.implicit&&(Kt=Kt.concat(Et.implicit)),Et.explicit&&(ln=ln.concat(Et.explicit))}Kt.forEach(function(Tn){if(!(Tn instanceof se))throw new z("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(Tn.loadKind&&"scalar"!==Tn.loadKind)throw new z("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(Tn.multi)throw new z("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),ln.forEach(function(Tn){if(!(Tn instanceof se))throw new z("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var en=Object.create(Q.prototype);return en.implicit=(this.implicit||[]).concat(Kt),en.explicit=(this.explicit||[]).concat(ln),en.compiledImplicit=W(en,"implicit"),en.compiledExplicit=W(en,"explicit"),en.compiledTypeMap=function Ce(){var Et,Kt,P={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function ln(en){en.multi?(P.multi[en.kind].push(en),P.multi.fallback.push(en)):P[en.kind][en.tag]=P.fallback[en.tag]=en}for(Et=0,Kt=arguments.length;Et<Kt;Et+=1)arguments[Et].forEach(ln);return P}(en.compiledImplicit,en.compiledExplicit),en};var je=new Q({explicit:[new se("tag:yaml.org,2002:str",{kind:"scalar",construct:function(P){return null!==P?P:""}}),new se("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(P){return null!==P?P:[]}}),new se("tag:yaml.org,2002:map",{kind:"mapping",construct:function(P){return null!==P?P:{}}})]}),ve=new se("tag:yaml.org,2002:null",{kind:"scalar",resolve:function X(P){if(null===P)return!0;var Et=P.length;return 1===Et&&"~"===P||4===Et&&("null"===P||"Null"===P||"NULL"===P)},construct:function oe(){return null},predicate:function _e(P){return null===P},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Pt=new se("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Pe(P){if(null===P)return!1;var Et=P.length;return 4===Et&&("true"===P||"True"===P||"TRUE"===P)||5===Et&&("false"===P||"False"===P||"FALSE"===P)},construct:function Ve(P){return"true"===P||"True"===P||"TRUE"===P},predicate:function Qe(P){return"[object Boolean]"===Object.prototype.toString.call(P)},represent:{lowercase:function(P){return P?"true":"false"},uppercase:function(P){return P?"TRUE":"FALSE"},camelcase:function(P){return P?"True":"False"}},defaultStyle:"lowercase"});function Se(P){return 48<=P&&P<=57||65<=P&&P<=70||97<=P&&P<=102}function qt(P){return 48<=P&&P<=55}function Vt(P){return 48<=P&&P<=57}var Re=new se("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Tt(P){if(null===P)return!1;var en,Et=P.length,Kt=0,ln=!1;if(!Et)return!1;if(("-"===(en=P[Kt])||"+"===en)&&(en=P[++Kt]),"0"===en){if(Kt+1===Et)return!0;if("b"===(en=P[++Kt])){for(Kt++;Kt<Et;Kt++)if("_"!==(en=P[Kt])){if("0"!==en&&"1"!==en)return!1;ln=!0}return ln&&"_"!==en}if("x"===en){for(Kt++;Kt<Et;Kt++)if("_"!==(en=P[Kt])){if(!Se(P.charCodeAt(Kt)))return!1;ln=!0}return ln&&"_"!==en}if("o"===en){for(Kt++;Kt<Et;Kt++)if("_"!==(en=P[Kt])){if(!qt(P.charCodeAt(Kt)))return!1;ln=!0}return ln&&"_"!==en}}if("_"===en)return!1;for(;Kt<Et;Kt++)if("_"!==(en=P[Kt])){if(!Vt(P.charCodeAt(Kt)))return!1;ln=!0}return!(!ln||"_"===en)},construct:function Ot(P){var ln,Et=P,Kt=1;if(-1!==Et.indexOf("_")&&(Et=Et.replace(/_/g,"")),("-"===(ln=Et[0])||"+"===ln)&&("-"===ln&&(Kt=-1),ln=(Et=Et.slice(1))[0]),"0"===Et)return 0;if("0"===ln){if("b"===Et[1])return Kt*parseInt(Et.slice(2),2);if("x"===Et[1])return Kt*parseInt(Et.slice(2),16);if("o"===Et[1])return Kt*parseInt(Et.slice(2),8)}return Kt*parseInt(Et,10)},predicate:function ft(P){return"[object Number]"===Object.prototype.toString.call(P)&&P%1==0&&!O.isNegativeZero(P)},represent:{binary:function(P){return P>=0?"0b"+P.toString(2):"-0b"+P.toString(2).slice(1)},octal:function(P){return P>=0?"0o"+P.toString(8):"-0o"+P.toString(8).slice(1)},decimal:function(P){return P.toString(10)},hexadecimal:function(P){return P>=0?"0x"+P.toString(16).toUpperCase():"-0x"+P.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ye=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),ot=/^[-+]?[0-9]+e/,Ut=new se("tag:yaml.org,2002:float",{kind:"scalar",resolve:function vt(P){return!(null===P||!Ye.test(P)||"_"===P[P.length-1])},construct:function It(P){var Et,Kt;return Kt="-"===(Et=P.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(Et[0])>=0&&(Et=Et.slice(1)),".inf"===Et?1===Kt?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===Et?NaN:Kt*parseFloat(Et,10)},predicate:function Nt(P){return"[object Number]"===Object.prototype.toString.call(P)&&(P%1!=0||O.isNegativeZero(P))},represent:function st(P,Et){var Kt;if(isNaN(P))switch(Et){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===P)switch(Et){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===P)switch(Et){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(O.isNegativeZero(P))return"-0.0";return Kt=P.toString(10),ot.test(Kt)?Kt.replace("e",".e"):Kt},defaultStyle:"lowercase"}),ct=je.extend({implicit:[ve,Pt,Re,Ut]}),ut=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Z=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Gt=new se("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function Fe(P){return null!==P&&(null!==ut.exec(P)||null!==Z.exec(P))},construct:function pe(P){var Et,Kt,ln,en,Tn,an,Fn,ki,qn=0,zn=null;if(null===(Et=ut.exec(P))&&(Et=Z.exec(P)),null===Et)throw new Error("Date resolve error");if(Kt=+Et[1],ln=+Et[2]-1,en=+Et[3],!Et[4])return new Date(Date.UTC(Kt,ln,en));if(Tn=+Et[4],an=+Et[5],Fn=+Et[6],Et[7]){for(qn=Et[7].slice(0,3);qn.length<3;)qn+="0";qn=+qn}return Et[9]&&(zn=6e4*(60*+Et[10]+ +(Et[11]||0)),"-"===Et[9]&&(zn=-zn)),ki=new Date(Date.UTC(Kt,ln,en,Tn,an,Fn,qn)),zn&&ki.setTime(ki.getTime()-zn),ki},instanceOf:Date,represent:function at(P){return P.toISOString()}}),Wn=new se("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function nn(P){return"<<"===P||null===P}}),vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",$t=new se("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function sn(P){if(null===P)return!1;var Et,Kt,ln=0,en=P.length,Tn=vi;for(Kt=0;Kt<en;Kt++)if(!((Et=Tn.indexOf(P.charAt(Kt)))>64)){if(Et<0)return!1;ln+=6}return ln%8==0},construct:function tn(P){var Et,Kt,ln=P.replace(/[\r\n=]/g,""),en=ln.length,Tn=vi,an=0,Fn=[];for(Et=0;Et<en;Et++)Et%4==0&&Et&&(Fn.push(an>>16&255),Fn.push(an>>8&255),Fn.push(255&an)),an=an<<6|Tn.indexOf(ln.charAt(Et));return 0==(Kt=en%4*6)?(Fn.push(an>>16&255),Fn.push(an>>8&255),Fn.push(255&an)):18===Kt?(Fn.push(an>>10&255),Fn.push(an>>2&255)):12===Kt&&Fn.push(an>>4&255),new Uint8Array(Fn)},predicate:function zt(P){return"[object Uint8Array]"===Object.prototype.toString.call(P)},represent:function xt(P){var ln,en,Et="",Kt=0,Tn=P.length,an=vi;for(ln=0;ln<Tn;ln++)ln%3==0&&ln&&(Et+=an[Kt>>18&63],Et+=an[Kt>>12&63],Et+=an[Kt>>6&63],Et+=an[63&Kt]),Kt=(Kt<<8)+P[ln];return 0==(en=Tn%3)?(Et+=an[Kt>>18&63],Et+=an[Kt>>12&63],Et+=an[Kt>>6&63],Et+=an[63&Kt]):2===en?(Et+=an[Kt>>10&63],Et+=an[Kt>>4&63],Et+=an[Kt<<2&63],Et+=an[64]):1===en&&(Et+=an[Kt>>2&63],Et+=an[Kt<<4&63],Et+=an[64],Et+=an[64]),Et}}),vn=Object.prototype.hasOwnProperty,Nn=Object.prototype.toString,Gn=new se("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function Ni(P){if(null===P)return!0;var Kt,ln,en,Tn,an,Et=[],Fn=P;for(Kt=0,ln=Fn.length;Kt<ln;Kt+=1){if(an=!1,"[object Object]"!==Nn.call(en=Fn[Kt]))return!1;for(Tn in en)if(vn.call(en,Tn)){if(an)return!1;an=!0}if(!an)return!1;if(-1!==Et.indexOf(Tn))return!1;Et.push(Tn)}return!0},construct:function Sn(P){return null!==P?P:[]}}),En=Object.prototype.toString,$e=new se("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Kn(P){if(null===P)return!0;var Et,Kt,ln,en,Tn,an=P;for(Tn=new Array(an.length),Et=0,Kt=an.length;Et<Kt;Et+=1){if("[object Object]"!==En.call(ln=an[Et])||1!==(en=Object.keys(ln)).length)return!1;Tn[Et]=[en[0],ln[en[0]]]}return!0},construct:function pt(P){if(null===P)return[];var Et,Kt,ln,en,Tn,an=P;for(Tn=new Array(an.length),Et=0,Kt=an.length;Et<Kt;Et+=1)ln=an[Et],en=Object.keys(ln),Tn[Et]=[en[0],ln[en[0]]];return Tn}}),We=Object.prototype.hasOwnProperty,Zt=new se("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Be(P){if(null===P)return!0;var Et,Kt=P;for(Et in Kt)if(We.call(Kt,Et)&&null!==Kt[Et])return!1;return!0},construct:function gt(P){return null!==P?P:{}}}),gn=ct.extend({implicit:[Gt,Wn],explicit:[$t,Gn,$e,Zt]}),lt=Object.prototype.hasOwnProperty,Te=1,rt=2,Le=3,bt=4,Ft=1,In=2,On=3,ei=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,pi=/[\x85\u2028\u2029]/,zi=/[,\[\]\{\}]/,Ci=/^(?:!|!!|![a-z\-]+!)$/i,Gi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Qn(P){return Object.prototype.toString.call(P)}function Ki(P){return 10===P||13===P}function ur(P){return 9===P||32===P}function or(P){return 9===P||32===P||10===P||13===P}function Tr(P){return 44===P||91===P||93===P||123===P||125===P}function Hr(P){var Et;return 48<=P&&P<=57?P-48:97<=(Et=32|P)&&Et<=102?Et-97+10:-1}function _s(P){return 120===P?2:117===P?4:85===P?8:0}function Ur(P){return 48<=P&&P<=57?P-48:-1}function ys(P){return 48===P?"\0":97===P?"\x07":98===P?"\b":116===P||9===P?"\t":110===P?"\n":118===P?"\v":102===P?"\f":114===P?"\r":101===P?"\x1b":32===P?" ":34===P?'"':47===P?"/":92===P?"\\":78===P?"\x85":95===P?"\xa0":76===P?"\u2028":80===P?"\u2029":""}function Cs(P){return P<=65535?String.fromCharCode(P):String.fromCharCode(55296+(P-65536>>10),56320+(P-65536&1023))}for(var ss=new Array(256),Yi=new Array(256),ar=0;ar<256;ar++)ss[ar]=ys(ar)?1:0,Yi[ar]=ys(ar);function cr(P,Et){this.input=P,this.filename=Et.filename||null,this.schema=Et.schema||gn,this.onWarning=Et.onWarning||null,this.legacy=Et.legacy||!1,this.json=Et.json||!1,this.listener=Et.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=P.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ji(P,Et){var Kt={name:P.filename,buffer:P.input.slice(0,-1),position:P.position,line:P.line,column:P.position-P.lineStart};return Kt.snippet=ce(Kt),new z(Et,Kt)}function ii(P,Et){throw ji(P,Et)}function Ge(P,Et){P.onWarning&&P.onWarning.call(null,ji(P,Et))}var Mt={YAML:function(Et,Kt,ln){var en,Tn,an;null!==Et.version&&ii(Et,"duplication of %YAML directive"),1!==ln.length&&ii(Et,"YAML directive accepts exactly one argument"),null===(en=/^([0-9]+)\.([0-9]+)$/.exec(ln[0]))&&ii(Et,"ill-formed argument of the YAML directive"),Tn=parseInt(en[1],10),an=parseInt(en[2],10),1!==Tn&&ii(Et,"unacceptable YAML version of the document"),Et.version=ln[0],Et.checkLineBreaks=an<2,1!==an&&2!==an&&Ge(Et,"unsupported YAML version of the document")},TAG:function(Et,Kt,ln){var en,Tn;2!==ln.length&&ii(Et,"TAG directive accepts exactly two arguments"),Tn=ln[1],Ci.test(en=ln[0])||ii(Et,"ill-formed tag handle (first argument) of the TAG directive"),lt.call(Et.tagMap,en)&&ii(Et,'there is a previously declared suffix for "'+en+'" tag handle'),Gi.test(Tn)||ii(Et,"ill-formed tag prefix (second argument) of the TAG directive");try{Tn=decodeURIComponent(Tn)}catch{ii(Et,"tag prefix is malformed: "+Tn)}Et.tagMap[en]=Tn}};function ne(P,Et,Kt,ln){var en,Tn,an,Fn;if(Et<Kt){if(Fn=P.input.slice(Et,Kt),ln)for(en=0,Tn=Fn.length;en<Tn;en+=1)9===(an=Fn.charCodeAt(en))||32<=an&&an<=1114111||ii(P,"expected valid JSON character");else ei.test(Fn)&&ii(P,"the stream contains non-printable characters");P.result+=Fn}}function et(P,Et,Kt,ln){var en,Tn,an,Fn;for(O.isObject(Kt)||ii(P,"cannot merge mappings; the provided source object is unacceptable"),an=0,Fn=(en=Object.keys(Kt)).length;an<Fn;an+=1)lt.call(Et,Tn=en[an])||(Et[Tn]=Kt[Tn],ln[Tn]=!0)}function He(P,Et,Kt,ln,en,Tn,an,Fn,qn){var zn,fi;if(Array.isArray(en))for(zn=0,fi=(en=Array.prototype.slice.call(en)).length;zn<fi;zn+=1)Array.isArray(en[zn])&&ii(P,"nested arrays are not supported inside keys"),"object"==typeof en&&"[object Object]"===Qn(en[zn])&&(en[zn]="[object Object]");if("object"==typeof en&&"[object Object]"===Qn(en)&&(en="[object Object]"),en=String(en),null===Et&&(Et={}),"tag:yaml.org,2002:merge"===ln)if(Array.isArray(Tn))for(zn=0,fi=Tn.length;zn<fi;zn+=1)et(P,Et,Tn[zn],Kt);else et(P,Et,Tn,Kt);else!P.json&&!lt.call(Kt,en)&&lt.call(Et,en)&&(P.line=an||P.line,P.lineStart=Fn||P.lineStart,P.position=qn||P.position,ii(P,"duplicated mapping key")),"__proto__"===en?Object.defineProperty(Et,en,{configurable:!0,enumerable:!0,writable:!0,value:Tn}):Et[en]=Tn,delete Kt[en];return Et}function kt(P){var Et;10===(Et=P.input.charCodeAt(P.position))?P.position++:13===Et?(P.position++,10===P.input.charCodeAt(P.position)&&P.position++):ii(P,"a line break is expected"),P.line+=1,P.lineStart=P.position,P.firstTabInLine=-1}function Bt(P,Et,Kt){for(var ln=0,en=P.input.charCodeAt(P.position);0!==en;){for(;ur(en);)9===en&&-1===P.firstTabInLine&&(P.firstTabInLine=P.position),en=P.input.charCodeAt(++P.position);if(Et&&35===en)do{en=P.input.charCodeAt(++P.position)}while(10!==en&&13!==en&&0!==en);if(!Ki(en))break;for(kt(P),en=P.input.charCodeAt(P.position),ln++,P.lineIndent=0;32===en;)P.lineIndent++,en=P.input.charCodeAt(++P.position)}return-1!==Kt&&0!==ln&&P.lineIndent<Kt&&Ge(P,"deficient indentation"),ln}function Zn(P){var Kt,Et=P.position;return!(45!==(Kt=P.input.charCodeAt(Et))&&46!==Kt||Kt!==P.input.charCodeAt(Et+1)||Kt!==P.input.charCodeAt(Et+2)||(Et+=3,Kt=P.input.charCodeAt(Et),0!==Kt&&!or(Kt)))}function Li(P,Et){1===Et?P.result+=" ":Et>1&&(P.result+=O.repeat("\n",Et-1))}function Os(P,Et){var Kt,qn,ln=P.tag,en=P.anchor,Tn=[],Fn=!1;if(-1!==P.firstTabInLine)return!1;for(null!==P.anchor&&(P.anchorMap[P.anchor]=Tn),qn=P.input.charCodeAt(P.position);0!==qn&&(-1!==P.firstTabInLine&&(P.position=P.firstTabInLine,ii(P,"tab characters must not be used in indentation")),45===qn&&or(P.input.charCodeAt(P.position+1)));)if(Fn=!0,P.position++,Bt(P,!0,-1)&&P.lineIndent<=Et)Tn.push(null),qn=P.input.charCodeAt(P.position);else if(Kt=P.line,Vr(P,Et,Le,!1,!0),Tn.push(P.result),Bt(P,!0,-1),qn=P.input.charCodeAt(P.position),(P.line===Kt||P.lineIndent>Et)&&0!==qn)ii(P,"bad indentation of a sequence entry");else if(P.lineIndent<Et)break;return!!Fn&&(P.tag=ln,P.anchor=en,P.kind="sequence",P.result=Tn,!0)}function Jr(P){var Et,en,Tn,an,Kt=!1,ln=!1;if(33!==(an=P.input.charCodeAt(P.position)))return!1;if(null!==P.tag&&ii(P,"duplication of a tag property"),60===(an=P.input.charCodeAt(++P.position))?(Kt=!0,an=P.input.charCodeAt(++P.position)):33===an?(ln=!0,en="!!",an=P.input.charCodeAt(++P.position)):en="!",Et=P.position,Kt){do{an=P.input.charCodeAt(++P.position)}while(0!==an&&62!==an);P.position<P.length?(Tn=P.input.slice(Et,P.position),an=P.input.charCodeAt(++P.position)):ii(P,"unexpected end of the stream within a verbatim tag")}else{for(;0!==an&&!or(an);)33===an&&(ln?ii(P,"tag suffix cannot contain exclamation marks"):(en=P.input.slice(Et-1,P.position+1),Ci.test(en)||ii(P,"named tag handle cannot contain such characters"),ln=!0,Et=P.position+1)),an=P.input.charCodeAt(++P.position);Tn=P.input.slice(Et,P.position),zi.test(Tn)&&ii(P,"tag suffix cannot contain flow indicator characters")}Tn&&!Gi.test(Tn)&&ii(P,"tag name cannot contain such characters: "+Tn);try{Tn=decodeURIComponent(Tn)}catch{ii(P,"tag name is malformed: "+Tn)}return Kt?P.tag=Tn:lt.call(P.tagMap,en)?P.tag=P.tagMap[en]+Tn:"!"===en?P.tag="!"+Tn:"!!"===en?P.tag="tag:yaml.org,2002:"+Tn:ii(P,'undeclared tag handle "'+en+'"'),!0}function Ss(P){var Et,Kt;if(38!==(Kt=P.input.charCodeAt(P.position)))return!1;for(null!==P.anchor&&ii(P,"duplication of an anchor property"),Kt=P.input.charCodeAt(++P.position),Et=P.position;0!==Kt&&!or(Kt)&&!Tr(Kt);)Kt=P.input.charCodeAt(++P.position);return P.position===Et&&ii(P,"name of an anchor node must contain at least one character"),P.anchor=P.input.slice(Et,P.position),!0}function Vr(P,Et,Kt,ln,en){var Tn,an,Fn,Jn,ki,tr,Br,os,zs,qn=1,zn=!1,fi=!1;if(null!==P.listener&&P.listener("open",P),P.tag=null,P.anchor=null,P.kind=null,P.result=null,Tn=an=Fn=bt===Kt||Le===Kt,ln&&Bt(P,!0,-1)&&(zn=!0,P.lineIndent>Et?qn=1:P.lineIndent===Et?qn=0:P.lineIndent<Et&&(qn=-1)),1===qn)for(;Jr(P)||Ss(P);)Bt(P,!0,-1)?(zn=!0,Fn=Tn,P.lineIndent>Et?qn=1:P.lineIndent===Et?qn=0:P.lineIndent<Et&&(qn=-1)):Fn=!1;if(Fn&&(Fn=zn||en),(1===qn||bt===Kt)&&(os=Te===Kt||rt===Kt?Et:Et+1,zs=P.position-P.lineStart,1===qn?Fn&&(Os(P,zs)||function Er(P,Et,Kt){var ln,en,Tn,an,Fn,qn,ns,zn=P.tag,fi=P.anchor,Jn={},ki=Object.create(null),tr=null,Br=null,os=null,zs=!1,Gr=!1;if(-1!==P.firstTabInLine)return!1;for(null!==P.anchor&&(P.anchorMap[P.anchor]=Jn),ns=P.input.charCodeAt(P.position);0!==ns;){if(!zs&&-1!==P.firstTabInLine&&(P.position=P.firstTabInLine,ii(P,"tab characters must not be used in indentation")),ln=P.input.charCodeAt(P.position+1),Tn=P.line,63!==ns&&58!==ns||!or(ln)){if(an=P.line,Fn=P.lineStart,qn=P.position,!Vr(P,Kt,rt,!1,!0))break;if(P.line===Tn){for(ns=P.input.charCodeAt(P.position);ur(ns);)ns=P.input.charCodeAt(++P.position);if(58===ns)or(ns=P.input.charCodeAt(++P.position))||ii(P,"a whitespace character is expected after the key-value separator within a block mapping"),zs&&(He(P,Jn,ki,tr,Br,null,an,Fn,qn),tr=Br=os=null),Gr=!0,zs=!1,en=!1,tr=P.tag,Br=P.result;else{if(!Gr)return P.tag=zn,P.anchor=fi,!0;ii(P,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Gr)return P.tag=zn,P.anchor=fi,!0;ii(P,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===ns?(zs&&(He(P,Jn,ki,tr,Br,null,an,Fn,qn),tr=Br=os=null),Gr=!0,zs=!0,en=!0):zs?(zs=!1,en=!0):ii(P,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),P.position+=1,ns=ln;if((P.line===Tn||P.lineIndent>Et)&&(zs&&(an=P.line,Fn=P.lineStart,qn=P.position),Vr(P,Et,bt,!0,en)&&(zs?Br=P.result:os=P.result),zs||(He(P,Jn,ki,tr,Br,os,an,Fn,qn),tr=Br=os=null),Bt(P,!0,-1),ns=P.input.charCodeAt(P.position)),(P.line===Tn||P.lineIndent>Et)&&0!==ns)ii(P,"bad indentation of a mapping entry");else if(P.lineIndent<Et)break}return zs&&He(P,Jn,ki,tr,Br,null,an,Fn,qn),Gr&&(P.tag=zn,P.anchor=fi,P.kind="mapping",P.result=Jn),Gr}(P,zs,os))||function Zr(P,Et){var ln,en,Tn,Fn,fi,Jn,ki,tr,os,zs,Gr,ns,Kt=!0,an=P.tag,qn=P.anchor,Br=Object.create(null);if(91===(ns=P.input.charCodeAt(P.position)))fi=93,tr=!1,Fn=[];else{if(123!==ns)return!1;fi=125,tr=!0,Fn={}}for(null!==P.anchor&&(P.anchorMap[P.anchor]=Fn),ns=P.input.charCodeAt(++P.position);0!==ns;){if(Bt(P,!0,Et),(ns=P.input.charCodeAt(P.position))===fi)return P.position++,P.tag=an,P.anchor=qn,P.kind=tr?"mapping":"sequence",P.result=Fn,!0;Kt?44===ns&&ii(P,"expected the node content, but found ','"):ii(P,"missed comma between flow collection entries"),Gr=null,Jn=ki=!1,63===ns&&or(P.input.charCodeAt(P.position+1))&&(Jn=ki=!0,P.position++,Bt(P,!0,Et)),ln=P.line,en=P.lineStart,Tn=P.position,Vr(P,Et,Te,!1,!0),zs=P.tag,os=P.result,Bt(P,!0,Et),ns=P.input.charCodeAt(P.position),(ki||P.line===ln)&&58===ns&&(Jn=!0,ns=P.input.charCodeAt(++P.position),Bt(P,!0,Et),Vr(P,Et,Te,!1,!0),Gr=P.result),tr?He(P,Fn,Br,zs,os,Gr,ln,en,Tn):Fn.push(Jn?He(P,null,Br,zs,os,Gr,ln,en,Tn):os),Bt(P,!0,Et),44===(ns=P.input.charCodeAt(P.position))?(Kt=!0,ns=P.input.charCodeAt(++P.position)):Kt=!1}ii(P,"unexpected end of the stream within a flow collection")}(P,os)?fi=!0:(an&&function ds(P,Et){var Kt,ln,fi,Jn,en=Ft,Tn=!1,an=!1,Fn=Et,qn=0,zn=!1;if(124===(Jn=P.input.charCodeAt(P.position)))ln=!1;else{if(62!==Jn)return!1;ln=!0}for(P.kind="scalar",P.result="";0!==Jn;)if(43===(Jn=P.input.charCodeAt(++P.position))||45===Jn)Ft===en?en=43===Jn?On:In:ii(P,"repeat of a chomping mode identifier");else{if(!((fi=Ur(Jn))>=0))break;0===fi?ii(P,"bad explicit indentation width of a block scalar; it cannot be less than one"):an?ii(P,"repeat of an indentation width identifier"):(Fn=Et+fi-1,an=!0)}if(ur(Jn)){do{Jn=P.input.charCodeAt(++P.position)}while(ur(Jn));if(35===Jn)do{Jn=P.input.charCodeAt(++P.position)}while(!Ki(Jn)&&0!==Jn)}for(;0!==Jn;){for(kt(P),P.lineIndent=0,Jn=P.input.charCodeAt(P.position);(!an||P.lineIndent<Fn)&&32===Jn;)P.lineIndent++,Jn=P.input.charCodeAt(++P.position);if(!an&&P.lineIndent>Fn&&(Fn=P.lineIndent),Ki(Jn))qn++;else{if(P.lineIndent<Fn){en===On?P.result+=O.repeat("\n",Tn?1+qn:qn):en===Ft&&Tn&&(P.result+="\n");break}for(ln?ur(Jn)?(zn=!0,P.result+=O.repeat("\n",Tn?1+qn:qn)):zn?(zn=!1,P.result+=O.repeat("\n",qn+1)):0===qn?Tn&&(P.result+=" "):P.result+=O.repeat("\n",qn):P.result+=O.repeat("\n",Tn?1+qn:qn),Tn=!0,an=!0,qn=0,Kt=P.position;!Ki(Jn)&&0!==Jn;)Jn=P.input.charCodeAt(++P.position);ne(P,Kt,P.position,!1)}}return!0}(P,os)||function kr(P,Et){var Kt,ln,en;if(39!==(Kt=P.input.charCodeAt(P.position)))return!1;for(P.kind="scalar",P.result="",P.position++,ln=en=P.position;0!==(Kt=P.input.charCodeAt(P.position));)if(39===Kt){if(ne(P,ln,P.position,!0),39!==(Kt=P.input.charCodeAt(++P.position)))return!0;ln=P.position,P.position++,en=P.position}else Ki(Kt)?(ne(P,ln,en,!0),Li(P,Bt(P,!1,Et)),ln=en=P.position):P.position===P.lineStart&&Zn(P)?ii(P,"unexpected end of the document within a single quoted scalar"):(P.position++,en=P.position);ii(P,"unexpected end of the stream within a single quoted scalar")}(P,os)||function Lr(P,Et){var Kt,ln,en,Tn,an,Fn;if(34!==(Fn=P.input.charCodeAt(P.position)))return!1;for(P.kind="scalar",P.result="",P.position++,Kt=ln=P.position;0!==(Fn=P.input.charCodeAt(P.position));){if(34===Fn)return ne(P,Kt,P.position,!0),P.position++,!0;if(92===Fn){if(ne(P,Kt,P.position,!0),Ki(Fn=P.input.charCodeAt(++P.position)))Bt(P,!1,Et);else if(Fn<256&&ss[Fn])P.result+=Yi[Fn],P.position++;else if((an=_s(Fn))>0){for(en=an,Tn=0;en>0;en--)(an=Hr(Fn=P.input.charCodeAt(++P.position)))>=0?Tn=(Tn<<4)+an:ii(P,"expected hexadecimal character");P.result+=Cs(Tn),P.position++}else ii(P,"unknown escape sequence");Kt=ln=P.position}else Ki(Fn)?(ne(P,Kt,ln,!0),Li(P,Bt(P,!1,Et)),Kt=ln=P.position):P.position===P.lineStart&&Zn(P)?ii(P,"unexpected end of the document within a double quoted scalar"):(P.position++,ln=P.position)}ii(P,"unexpected end of the stream within a double quoted scalar")}(P,os)?fi=!0:function Jo(P){var Et,Kt,ln;if(42!==(ln=P.input.charCodeAt(P.position)))return!1;for(ln=P.input.charCodeAt(++P.position),Et=P.position;0!==ln&&!or(ln)&&!Tr(ln);)ln=P.input.charCodeAt(++P.position);return P.position===Et&&ii(P,"name of an alias node must contain at least one character"),Kt=P.input.slice(Et,P.position),lt.call(P.anchorMap,Kt)||ii(P,'unidentified alias "'+Kt+'"'),P.result=P.anchorMap[Kt],Bt(P,!0,-1),!0}(P)?(fi=!0,(null!==P.tag||null!==P.anchor)&&ii(P,"alias node should not have any properties")):function lr(P,Et,Kt){var en,Tn,an,Fn,qn,zn,fi,tr,Jn=P.kind,ki=P.result;if(or(tr=P.input.charCodeAt(P.position))||Tr(tr)||35===tr||38===tr||42===tr||33===tr||124===tr||62===tr||39===tr||34===tr||37===tr||64===tr||96===tr||(63===tr||45===tr)&&(or(en=P.input.charCodeAt(P.position+1))||Kt&&Tr(en)))return!1;for(P.kind="scalar",P.result="",Tn=an=P.position,Fn=!1;0!==tr;){if(58===tr){if(or(en=P.input.charCodeAt(P.position+1))||Kt&&Tr(en))break}else if(35===tr){if(or(P.input.charCodeAt(P.position-1)))break}else{if(P.position===P.lineStart&&Zn(P)||Kt&&Tr(tr))break;if(Ki(tr)){if(qn=P.line,zn=P.lineStart,fi=P.lineIndent,Bt(P,!1,-1),P.lineIndent>=Et){Fn=!0,tr=P.input.charCodeAt(P.position);continue}P.position=an,P.line=qn,P.lineStart=zn,P.lineIndent=fi;break}}Fn&&(ne(P,Tn,an,!1),Li(P,P.line-qn),Tn=an=P.position,Fn=!1),ur(tr)||(an=P.position+1),tr=P.input.charCodeAt(++P.position)}return ne(P,Tn,an,!1),!!P.result||(P.kind=Jn,P.result=ki,!1)}(P,os,Te===Kt)&&(fi=!0,null===P.tag&&(P.tag="?")),null!==P.anchor&&(P.anchorMap[P.anchor]=P.result)):0===qn&&(fi=Fn&&Os(P,zs))),null===P.tag)null!==P.anchor&&(P.anchorMap[P.anchor]=P.result);else if("?"===P.tag){for(null!==P.result&&"scalar"!==P.kind&&ii(P,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+P.kind+'"'),Jn=0,ki=P.implicitTypes.length;Jn<ki;Jn+=1)if((Br=P.implicitTypes[Jn]).resolve(P.result)){P.result=Br.construct(P.result),P.tag=Br.tag,null!==P.anchor&&(P.anchorMap[P.anchor]=P.result);break}}else if("!"!==P.tag){if(lt.call(P.typeMap[P.kind||"fallback"],P.tag))Br=P.typeMap[P.kind||"fallback"][P.tag];else for(Br=null,Jn=0,ki=(tr=P.typeMap.multi[P.kind||"fallback"]).length;Jn<ki;Jn+=1)if(P.tag.slice(0,tr[Jn].tag.length)===tr[Jn].tag){Br=tr[Jn];break}Br||ii(P,"unknown tag !<"+P.tag+">"),null!==P.result&&Br.kind!==P.kind&&ii(P,"unacceptable node kind for !<"+P.tag+'> tag; it should be "'+Br.kind+'", not "'+P.kind+'"'),Br.resolve(P.result,P.tag)?(P.result=Br.construct(P.result,P.tag),null!==P.anchor&&(P.anchorMap[P.anchor]=P.result)):ii(P,"cannot resolve a node with !<"+P.tag+"> explicit tag")}return null!==P.listener&&P.listener("close",P),null!==P.tag||null!==P.anchor||fi}function Io(P){var Kt,ln,en,an,Et=P.position,Tn=!1;for(P.version=null,P.checkLineBreaks=P.legacy,P.tagMap=Object.create(null),P.anchorMap=Object.create(null);0!==(an=P.input.charCodeAt(P.position))&&(Bt(P,!0,-1),an=P.input.charCodeAt(P.position),!(P.lineIndent>0||37!==an));){for(Tn=!0,an=P.input.charCodeAt(++P.position),Kt=P.position;0!==an&&!or(an);)an=P.input.charCodeAt(++P.position);for(en=[],(ln=P.input.slice(Kt,P.position)).length<1&&ii(P,"directive name must not be less than one character in length");0!==an;){for(;ur(an);)an=P.input.charCodeAt(++P.position);if(35===an){do{an=P.input.charCodeAt(++P.position)}while(0!==an&&!Ki(an));break}if(Ki(an))break;for(Kt=P.position;0!==an&&!or(an);)an=P.input.charCodeAt(++P.position);en.push(P.input.slice(Kt,P.position))}0!==an&&kt(P),lt.call(Mt,ln)?Mt[ln](P,ln,en):Ge(P,'unknown document directive "'+ln+'"')}Bt(P,!0,-1),0===P.lineIndent&&45===P.input.charCodeAt(P.position)&&45===P.input.charCodeAt(P.position+1)&&45===P.input.charCodeAt(P.position+2)?(P.position+=3,Bt(P,!0,-1)):Tn&&ii(P,"directives end mark is expected"),Vr(P,P.lineIndent-1,bt,!1,!0),Bt(P,!0,-1),P.checkLineBreaks&&pi.test(P.input.slice(Et,P.position))&&Ge(P,"non-ASCII line breaks are interpreted as content"),P.documents.push(P.result),P.position===P.lineStart&&Zn(P)?46===P.input.charCodeAt(P.position)&&(P.position+=3,Bt(P,!0,-1)):P.position<P.length-1&&ii(P,"end of the stream or a document separator is expected")}function Ho(P,Et){Et=Et||{},0!==(P=String(P)).length&&(10!==P.charCodeAt(P.length-1)&&13!==P.charCodeAt(P.length-1)&&(P+="\n"),65279===P.charCodeAt(0)&&(P=P.slice(1)));var Kt=new cr(P,Et),ln=P.indexOf("\0");for(-1!==ln&&(Kt.position=ln,ii(Kt,"null byte is not allowed in input")),Kt.input+="\0";32===Kt.input.charCodeAt(Kt.position);)Kt.lineIndent+=1,Kt.position+=1;for(;Kt.position<Kt.length-1;)Io(Kt);return Kt.documents}function ze(P,Et){return function(){throw new Error("Function yaml."+P+" is removed in js-yaml 4. Use yaml."+Et+" instead, which is now safe by default.")}}var zr=function Tl(P,Et){var Kt=Ho(P,Et);if(0!==Kt.length){if(1===Kt.length)return Kt[0];throw new z("expected a single document in the stream, but found more")}};ze("safeLoad","load"),ze("safeLoadAll","loadAll"),ze("safeDump","dump")},997:(dn,Ne,_)=>{"use strict";_.d(Ne,{qg:()=>Be,xI:()=>Gn});let A={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function w(gn){A=gn}const D=/[&<>"']/,C=new RegExp(D.source,"g"),S=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,I=new RegExp(S.source,"g"),E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=gn=>E[gn];function x(gn,lt){if(lt){if(D.test(gn))return gn.replace(C,y)}else if(S.test(gn))return gn.replace(I,y);return gn}const $=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,O=/(^|[^\[])\^/g;function M(gn,lt){let Te="string"==typeof gn?gn:gn.source;lt=lt||"";const rt={replace:(Le,bt)=>{let Ft="string"==typeof bt?bt:bt.source;return Ft=Ft.replace(O,"$1"),Te=Te.replace(Le,Ft),rt},getRegex:()=>new RegExp(Te,lt)};return rt}function L(gn){try{gn=encodeURI(gn).replace(/%25/g,"%")}catch{return null}return gn}const z={exec:()=>null};function F(gn,lt){const rt=gn.replace(/\|/g,(bt,Ft,In)=>{let On=!1,ei=Ft;for(;--ei>=0&&"\\"===In[ei];)On=!On;return On?"|":" |"}).split(/ \|/);let Le=0;if(rt[0].trim()||rt.shift(),rt.length>0&&!rt[rt.length-1].trim()&&rt.pop(),lt)if(rt.length>lt)rt.splice(lt);else for(;rt.length<lt;)rt.push("");for(;Le<rt.length;Le++)rt[Le]=rt[Le].trim().replace(/\\\|/g,"|");return rt}function J(gn,lt,Te){const rt=gn.length;if(0===rt)return"";let Le=0;for(;Le<rt;){const bt=gn.charAt(rt-Le-1);if(bt!==lt||Te){if(bt===lt||!Te)break;Le++}else Le++}return gn.slice(0,rt-Le)}function ce(gn,lt,Te,rt){const Le=lt.href,bt=lt.title?x(lt.title):null,Ft=gn[1].replace(/\\([\[\]])/g,"$1");if("!"!==gn[0].charAt(0)){rt.state.inLink=!0;const In={type:"link",raw:Te,href:Le,title:bt,text:Ft,tokens:rt.inlineTokens(Ft)};return rt.state.inLink=!1,In}return{type:"image",raw:Te,href:Le,title:bt,text:x(Ft)}}class we{options;rules;lexer;constructor(lt){this.options=lt||A}space(lt){const Te=this.rules.block.newline.exec(lt);if(Te&&Te[0].length>0)return{type:"space",raw:Te[0]}}code(lt){const Te=this.rules.block.code.exec(lt);if(Te){const rt=Te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Te[0],codeBlockStyle:"indented",text:this.options.pedantic?rt:J(rt,"\n")}}}fences(lt){const Te=this.rules.block.fences.exec(lt);if(Te){const rt=Te[0],Le=function re(gn,lt){const Te=gn.match(/^(\s+)(?:```)/);if(null===Te)return lt;const rt=Te[1];return lt.split("\n").map(Le=>{const bt=Le.match(/^\s+/);if(null===bt)return Le;const[Ft]=bt;return Ft.length>=rt.length?Le.slice(rt.length):Le}).join("\n")}(rt,Te[3]||"");return{type:"code",raw:rt,lang:Te[2]?Te[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Te[2],text:Le}}}heading(lt){const Te=this.rules.block.heading.exec(lt);if(Te){let rt=Te[2].trim();if(/#$/.test(rt)){const Le=J(rt,"#");(this.options.pedantic||!Le||/ $/.test(Le))&&(rt=Le.trim())}return{type:"heading",raw:Te[0],depth:Te[1].length,text:rt,tokens:this.lexer.inline(rt)}}}hr(lt){const Te=this.rules.block.hr.exec(lt);if(Te)return{type:"hr",raw:J(Te[0],"\n")}}blockquote(lt){const Te=this.rules.block.blockquote.exec(lt);if(Te){let rt=J(Te[0],"\n").split("\n"),Le="",bt="";const Ft=[];for(;rt.length>0;){let In=!1;const On=[];let ei;for(ei=0;ei<rt.length;ei++)if(/^ {0,3}>/.test(rt[ei]))On.push(rt[ei]),In=!0;else{if(In)break;On.push(rt[ei])}rt=rt.slice(ei);const pi=On.join("\n"),zi=pi.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Le=Le?`${Le}\n${pi}`:pi,bt=bt?`${bt}\n${zi}`:zi;const Ci=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(zi,Ft,!0),this.lexer.state.top=Ci,0===rt.length)break;const Gi=Ft[Ft.length-1];if("code"===Gi?.type)break;if("blockquote"===Gi?.type){const Qn=Gi,Ki=Qn.raw+"\n"+rt.join("\n"),ur=this.blockquote(Ki);Ft[Ft.length-1]=ur,Le=Le.substring(0,Le.length-Qn.raw.length)+ur.raw,bt=bt.substring(0,bt.length-Qn.text.length)+ur.text;break}if("list"!==Gi?.type);else{const Qn=Gi,Ki=Qn.raw+"\n"+rt.join("\n"),ur=this.list(Ki);Ft[Ft.length-1]=ur,Le=Le.substring(0,Le.length-Gi.raw.length)+ur.raw,bt=bt.substring(0,bt.length-Qn.raw.length)+ur.raw,rt=Ki.substring(Ft[Ft.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:Le,tokens:Ft,text:bt}}}list(lt){let Te=this.rules.block.list.exec(lt);if(Te){let rt=Te[1].trim();const Le=rt.length>1,bt={type:"list",raw:"",ordered:Le,start:Le?+rt.slice(0,-1):"",loose:!1,items:[]};rt=Le?`\\d{1,9}\\${rt.slice(-1)}`:`\\${rt}`,this.options.pedantic&&(rt=Le?rt:"[*+-]");const Ft=new RegExp(`^( {0,3}${rt})((?:[\t ][^\\n]*)?(?:\\n|$))`);let In=!1;for(;lt;){let On=!1,ei="",pi="";if(!(Te=Ft.exec(lt))||this.rules.block.hr.test(lt))break;ei=Te[0],lt=lt.substring(ei.length);let zi=Te[2].split("\n",1)[0].replace(/^\t+/,or=>" ".repeat(3*or.length)),Ci=lt.split("\n",1)[0],Gi=!zi.trim(),Qn=0;if(this.options.pedantic?(Qn=2,pi=zi.trimStart()):Gi?Qn=Te[1].length+1:(Qn=Te[2].search(/[^ ]/),Qn=Qn>4?1:Qn,pi=zi.slice(Qn),Qn+=Te[1].length),Gi&&/^ *$/.test(Ci)&&(ei+=Ci+"\n",lt=lt.substring(Ci.length+1),On=!0),!On){const or=new RegExp(`^ {0,${Math.min(3,Qn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Tr=new RegExp(`^ {0,${Math.min(3,Qn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Hr=new RegExp(`^ {0,${Math.min(3,Qn-1)}}(?:\`\`\`|~~~)`),_s=new RegExp(`^ {0,${Math.min(3,Qn-1)}}#`);for(;lt;){const Ur=lt.split("\n",1)[0];if(Ci=Ur,this.options.pedantic&&(Ci=Ci.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Hr.test(Ci)||_s.test(Ci)||or.test(Ci)||Tr.test(lt))break;if(Ci.search(/[^ ]/)>=Qn||!Ci.trim())pi+="\n"+Ci.slice(Qn);else{if(Gi||zi.search(/[^ ]/)>=4||Hr.test(zi)||_s.test(zi)||Tr.test(zi))break;pi+="\n"+Ci}!Gi&&!Ci.trim()&&(Gi=!0),ei+=Ur+"\n",lt=lt.substring(Ur.length+1),zi=Ci.slice(Qn)}}bt.loose||(In?bt.loose=!0:/\n *\n *$/.test(ei)&&(In=!0));let ur,Ki=null;this.options.gfm&&(Ki=/^\[[ xX]\] /.exec(pi),Ki&&(ur="[ ] "!==Ki[0],pi=pi.replace(/^\[[ xX]\] +/,""))),bt.items.push({type:"list_item",raw:ei,task:!!Ki,checked:ur,loose:!1,text:pi,tokens:[]}),bt.raw+=ei}bt.items[bt.items.length-1].raw=bt.items[bt.items.length-1].raw.trimEnd(),bt.items[bt.items.length-1].text=bt.items[bt.items.length-1].text.trimEnd(),bt.raw=bt.raw.trimEnd();for(let On=0;On<bt.items.length;On++)if(this.lexer.state.top=!1,bt.items[On].tokens=this.lexer.blockTokens(bt.items[On].text,[]),!bt.loose){const ei=bt.items[On].tokens.filter(zi=>"space"===zi.type),pi=ei.length>0&&ei.some(zi=>/\n.*\n/.test(zi.raw));bt.loose=pi}if(bt.loose)for(let On=0;On<bt.items.length;On++)bt.items[On].loose=!0;return bt}}html(lt){const Te=this.rules.block.html.exec(lt);if(Te)return{type:"html",block:!0,raw:Te[0],pre:"pre"===Te[1]||"script"===Te[1]||"style"===Te[1],text:Te[0]}}def(lt){const Te=this.rules.block.def.exec(lt);if(Te){const rt=Te[1].toLowerCase().replace(/\s+/g," "),Le=Te[2]?Te[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",bt=Te[3]?Te[3].substring(1,Te[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Te[3];return{type:"def",tag:rt,raw:Te[0],href:Le,title:bt}}}table(lt){const Te=this.rules.block.table.exec(lt);if(!Te||!/[:|]/.test(Te[2]))return;const rt=F(Te[1]),Le=Te[2].replace(/^\||\| *$/g,"").split("|"),bt=Te[3]&&Te[3].trim()?Te[3].replace(/\n[ \t]*$/,"").split("\n"):[],Ft={type:"table",raw:Te[0],header:[],align:[],rows:[]};if(rt.length===Le.length){for(const In of Le)/^ *-+: *$/.test(In)?Ft.align.push("right"):/^ *:-+: *$/.test(In)?Ft.align.push("center"):/^ *:-+ *$/.test(In)?Ft.align.push("left"):Ft.align.push(null);for(let In=0;In<rt.length;In++)Ft.header.push({text:rt[In],tokens:this.lexer.inline(rt[In]),header:!0,align:Ft.align[In]});for(const In of bt)Ft.rows.push(F(In,Ft.header.length).map((On,ei)=>({text:On,tokens:this.lexer.inline(On),header:!1,align:Ft.align[ei]})));return Ft}}lheading(lt){const Te=this.rules.block.lheading.exec(lt);if(Te)return{type:"heading",raw:Te[0],depth:"="===Te[2].charAt(0)?1:2,text:Te[1],tokens:this.lexer.inline(Te[1])}}paragraph(lt){const Te=this.rules.block.paragraph.exec(lt);if(Te){const rt="\n"===Te[1].charAt(Te[1].length-1)?Te[1].slice(0,-1):Te[1];return{type:"paragraph",raw:Te[0],text:rt,tokens:this.lexer.inline(rt)}}}text(lt){const Te=this.rules.block.text.exec(lt);if(Te)return{type:"text",raw:Te[0],text:Te[0],tokens:this.lexer.inline(Te[0])}}escape(lt){const Te=this.rules.inline.escape.exec(lt);if(Te)return{type:"escape",raw:Te[0],text:x(Te[1])}}tag(lt){const Te=this.rules.inline.tag.exec(lt);if(Te)return!this.lexer.state.inLink&&/^<a /i.test(Te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Te[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Te[0]}}link(lt){const Te=this.rules.inline.link.exec(lt);if(Te){const rt=Te[2].trim();if(!this.options.pedantic&&/^</.test(rt)){if(!/>$/.test(rt))return;const Ft=J(rt.slice(0,-1),"\\");if((rt.length-Ft.length)%2==0)return}else{const Ft=function ue(gn,lt){if(-1===gn.indexOf(lt[1]))return-1;let Te=0;for(let rt=0;rt<gn.length;rt++)if("\\"===gn[rt])rt++;else if(gn[rt]===lt[0])Te++;else if(gn[rt]===lt[1]&&(Te--,Te<0))return rt;return-1}(Te[2],"()");if(Ft>-1){const On=(0===Te[0].indexOf("!")?5:4)+Te[1].length+Ft;Te[2]=Te[2].substring(0,Ft),Te[0]=Te[0].substring(0,On).trim(),Te[3]=""}}let Le=Te[2],bt="";if(this.options.pedantic){const Ft=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Le);Ft&&(Le=Ft[1],bt=Ft[3])}else bt=Te[3]?Te[3].slice(1,-1):"";return Le=Le.trim(),/^</.test(Le)&&(Le=this.options.pedantic&&!/>$/.test(rt)?Le.slice(1):Le.slice(1,-1)),ce(Te,{href:Le&&Le.replace(this.rules.inline.anyPunctuation,"$1"),title:bt&&bt.replace(this.rules.inline.anyPunctuation,"$1")},Te[0],this.lexer)}}reflink(lt,Te){let rt;if((rt=this.rules.inline.reflink.exec(lt))||(rt=this.rules.inline.nolink.exec(lt))){const bt=Te[(rt[2]||rt[1]).replace(/\s+/g," ").toLowerCase()];if(!bt){const Ft=rt[0].charAt(0);return{type:"text",raw:Ft,text:Ft}}return ce(rt,bt,rt[0],this.lexer)}}emStrong(lt,Te,rt=""){let Le=this.rules.inline.emStrongLDelim.exec(lt);if(!(!Le||Le[3]&&rt.match(/[\p{L}\p{N}]/u))&&(!Le[1]&&!Le[2]||!rt||this.rules.inline.punctuation.exec(rt))){const Ft=[...Le[0]].length-1;let In,On,ei=Ft,pi=0;const zi="*"===Le[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(zi.lastIndex=0,Te=Te.slice(-1*lt.length+Ft);null!=(Le=zi.exec(Te));){if(In=Le[1]||Le[2]||Le[3]||Le[4]||Le[5]||Le[6],!In)continue;if(On=[...In].length,Le[3]||Le[4]){ei+=On;continue}if((Le[5]||Le[6])&&Ft%3&&!((Ft+On)%3)){pi+=On;continue}if(ei-=On,ei>0)continue;On=Math.min(On,On+ei+pi);const Ci=[...Le[0]][0].length,Gi=lt.slice(0,Ft+Le.index+Ci+On);if(Math.min(Ft,On)%2){const Ki=Gi.slice(1,-1);return{type:"em",raw:Gi,text:Ki,tokens:this.lexer.inlineTokens(Ki)}}const Qn=Gi.slice(2,-2);return{type:"strong",raw:Gi,text:Qn,tokens:this.lexer.inlineTokens(Qn)}}}}codespan(lt){const Te=this.rules.inline.code.exec(lt);if(Te){let rt=Te[2].replace(/\n/g," ");const Le=/[^ ]/.test(rt),bt=/^ /.test(rt)&&/ $/.test(rt);return Le&&bt&&(rt=rt.substring(1,rt.length-1)),rt=x(rt,!0),{type:"codespan",raw:Te[0],text:rt}}}br(lt){const Te=this.rules.inline.br.exec(lt);if(Te)return{type:"br",raw:Te[0]}}del(lt){const Te=this.rules.inline.del.exec(lt);if(Te)return{type:"del",raw:Te[0],text:Te[2],tokens:this.lexer.inlineTokens(Te[2])}}autolink(lt){const Te=this.rules.inline.autolink.exec(lt);if(Te){let rt,Le;return"@"===Te[2]?(rt=x(Te[1]),Le="mailto:"+rt):(rt=x(Te[1]),Le=rt),{type:"link",raw:Te[0],text:rt,href:Le,tokens:[{type:"text",raw:rt,text:rt}]}}}url(lt){let Te;if(Te=this.rules.inline.url.exec(lt)){let rt,Le;if("@"===Te[2])rt=x(Te[0]),Le="mailto:"+rt;else{let bt;do{bt=Te[0],Te[0]=this.rules.inline._backpedal.exec(Te[0])?.[0]??""}while(bt!==Te[0]);rt=x(Te[0]),Le="www."===Te[1]?"http://"+Te[0]:Te[0]}return{type:"link",raw:Te[0],text:rt,href:Le,tokens:[{type:"text",raw:rt,text:rt}]}}}inlineText(lt){const Te=this.rules.inline.text.exec(lt);if(Te){let rt;return rt=this.lexer.state.inRawBlock?Te[0]:x(Te[0]),{type:"text",raw:Te[0],text:rt}}}}const W=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Q=/(?:[*+-]|\d{1,9}[.)])/,Me=M(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Q).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Xe=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Je=/(?!\s*\])(?:\\.|[^\[\]\\])+/,je=M(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Je).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),X=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Q).getRegex(),oe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_e=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ve=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_e).replace("tag",oe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Pe=M(Xe).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex(),Qe={blockquote:M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Pe).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:je,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:W,html:ve,lheading:Me,list:X,newline:/^(?: *(?:\n|$))+/,paragraph:Pe,table:z,text:/^[^\n]+/},Pt=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex(),Se={...Qe,table:Pt,paragraph:M(Xe).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Pt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex()},qt={...Qe,html:M("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_e).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:z,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(Xe).replace("hr",W).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Me).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ot=/^( {2,}|\\)\n(?!\s*$)/,Re="\\p{P}\\p{S}",Ye=M(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Re).getRegex(),It=M(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Re).getRegex(),ot=M("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Re).getRegex(),st=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Re).getRegex(),Nt=M(/\\([punct])/,"gu").replace(/punct/g,Re).getRegex(),Ut=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wt=M(_e).replace("(?:--\x3e|$)","--\x3e").getRegex(),ct=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ut=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Z=M(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ut).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fe=M(/^!?\[(label)\]\[(ref)\]/).replace("label",ut).replace("ref",Je).getRegex(),pe=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",Je).getRegex(),Gt={_backpedal:z,anyPunctuation:Nt,autolink:Ut,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Ot,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:z,emStrongLDelim:It,emStrongRDelimAst:ot,emStrongRDelimUnd:st,escape:Vt,link:Z,nolink:pe,punctuation:Ye,reflink:Fe,reflinkSearch:M("reflink|nolink(?!\\()","g").replace("reflink",Fe).replace("nolink",pe).getRegex(),tag:ct,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:z},nn={...Gt,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",ut).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ut).getRegex()},Wn={...Gt,escape:M(Vt).replace("])","~|])").getRegex(),url:M(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vi={...Wn,br:M(Ot).replace("{2,}","*").getRegex(),text:M(Wn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},sn={normal:Qe,gfm:Se,pedantic:qt},tn={normal:Gt,gfm:Wn,breaks:vi,pedantic:nn};class xt{tokens;options;state;tokenizer;inlineQueue;constructor(lt){this.tokens=[],this.tokens.links=Object.create(null),this.options=lt||A,this.options.tokenizer=this.options.tokenizer||new we,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Te={block:sn.normal,inline:tn.normal};this.options.pedantic?(Te.block=sn.pedantic,Te.inline=tn.pedantic):this.options.gfm&&(Te.block=sn.gfm,Te.inline=this.options.breaks?tn.breaks:tn.gfm),this.tokenizer.rules=Te}static get rules(){return{block:sn,inline:tn}}static lex(lt,Te){return new xt(Te).lex(lt)}static lexInline(lt,Te){return new xt(Te).inlineTokens(lt)}lex(lt){lt=lt.replace(/\r\n|\r/g,"\n"),this.blockTokens(lt,this.tokens);for(let Te=0;Te<this.inlineQueue.length;Te++){const rt=this.inlineQueue[Te];this.inlineTokens(rt.src,rt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(lt,Te=[],rt=!1){let Le,bt,Ft;for(lt=this.options.pedantic?lt.replace(/\t/g,"    ").replace(/^ +$/gm,""):lt.replace(/^( *)(\t+)/gm,(In,On,ei)=>On+"    ".repeat(ei.length));lt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(In=>!!(Le=In.call({lexer:this},lt,Te))&&(lt=lt.substring(Le.raw.length),Te.push(Le),!0)))){if(Le=this.tokenizer.space(lt)){lt=lt.substring(Le.raw.length),1===Le.raw.length&&Te.length>0?Te[Te.length-1].raw+="\n":Te.push(Le);continue}if(Le=this.tokenizer.code(lt)){lt=lt.substring(Le.raw.length),bt=Te[Te.length-1],!bt||"paragraph"!==bt.type&&"text"!==bt.type?Te.push(Le):(bt.raw+="\n"+Le.raw,bt.text+="\n"+Le.text,this.inlineQueue[this.inlineQueue.length-1].src=bt.text);continue}if(Le=this.tokenizer.fences(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.heading(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.hr(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.blockquote(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.list(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.html(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.def(lt)){lt=lt.substring(Le.raw.length),bt=Te[Te.length-1],!bt||"paragraph"!==bt.type&&"text"!==bt.type?this.tokens.links[Le.tag]||(this.tokens.links[Le.tag]={href:Le.href,title:Le.title}):(bt.raw+="\n"+Le.raw,bt.text+="\n"+Le.raw,this.inlineQueue[this.inlineQueue.length-1].src=bt.text);continue}if(Le=this.tokenizer.table(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Le=this.tokenizer.lheading(lt)){lt=lt.substring(Le.raw.length),Te.push(Le);continue}if(Ft=lt,this.options.extensions&&this.options.extensions.startBlock){let In=1/0;const On=lt.slice(1);let ei;this.options.extensions.startBlock.forEach(pi=>{ei=pi.call({lexer:this},On),"number"==typeof ei&&ei>=0&&(In=Math.min(In,ei))}),In<1/0&&In>=0&&(Ft=lt.substring(0,In+1))}if(this.state.top&&(Le=this.tokenizer.paragraph(Ft))){bt=Te[Te.length-1],rt&&"paragraph"===bt?.type?(bt.raw+="\n"+Le.raw,bt.text+="\n"+Le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bt.text):Te.push(Le),rt=Ft.length!==lt.length,lt=lt.substring(Le.raw.length);continue}if(Le=this.tokenizer.text(lt)){lt=lt.substring(Le.raw.length),bt=Te[Te.length-1],bt&&"text"===bt.type?(bt.raw+="\n"+Le.raw,bt.text+="\n"+Le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bt.text):Te.push(Le);continue}if(lt){const In="Infinite loop on byte: "+lt.charCodeAt(0);if(this.options.silent){console.error(In);break}throw new Error(In)}}return this.state.top=!0,Te}inline(lt,Te=[]){return this.inlineQueue.push({src:lt,tokens:Te}),Te}inlineTokens(lt,Te=[]){let rt,Le,bt,In,On,ei,Ft=lt;if(this.tokens.links){const pi=Object.keys(this.tokens.links);if(pi.length>0)for(;null!=(In=this.tokenizer.rules.inline.reflinkSearch.exec(Ft));)pi.includes(In[0].slice(In[0].lastIndexOf("[")+1,-1))&&(Ft=Ft.slice(0,In.index)+"["+"a".repeat(In[0].length-2)+"]"+Ft.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(In=this.tokenizer.rules.inline.blockSkip.exec(Ft));)Ft=Ft.slice(0,In.index)+"["+"a".repeat(In[0].length-2)+"]"+Ft.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(In=this.tokenizer.rules.inline.anyPunctuation.exec(Ft));)Ft=Ft.slice(0,In.index)+"++"+Ft.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;lt;)if(On||(ei=""),On=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(pi=>!!(rt=pi.call({lexer:this},lt,Te))&&(lt=lt.substring(rt.raw.length),Te.push(rt),!0)))){if(rt=this.tokenizer.escape(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.tag(lt)){lt=lt.substring(rt.raw.length),Le=Te[Te.length-1],Le&&"text"===rt.type&&"text"===Le.type?(Le.raw+=rt.raw,Le.text+=rt.text):Te.push(rt);continue}if(rt=this.tokenizer.link(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.reflink(lt,this.tokens.links)){lt=lt.substring(rt.raw.length),Le=Te[Te.length-1],Le&&"text"===rt.type&&"text"===Le.type?(Le.raw+=rt.raw,Le.text+=rt.text):Te.push(rt);continue}if(rt=this.tokenizer.emStrong(lt,Ft,ei)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.codespan(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.br(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.del(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(rt=this.tokenizer.autolink(lt)){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(!this.state.inLink&&(rt=this.tokenizer.url(lt))){lt=lt.substring(rt.raw.length),Te.push(rt);continue}if(bt=lt,this.options.extensions&&this.options.extensions.startInline){let pi=1/0;const zi=lt.slice(1);let Ci;this.options.extensions.startInline.forEach(Gi=>{Ci=Gi.call({lexer:this},zi),"number"==typeof Ci&&Ci>=0&&(pi=Math.min(pi,Ci))}),pi<1/0&&pi>=0&&(bt=lt.substring(0,pi+1))}if(rt=this.tokenizer.inlineText(bt)){lt=lt.substring(rt.raw.length),"_"!==rt.raw.slice(-1)&&(ei=rt.raw.slice(-1)),On=!0,Le=Te[Te.length-1],Le&&"text"===Le.type?(Le.raw+=rt.raw,Le.text+=rt.text):Te.push(rt);continue}if(lt){const pi="Infinite loop on byte: "+lt.charCodeAt(0);if(this.options.silent){console.error(pi);break}throw new Error(pi)}}return Te}}class zt{options;parser;constructor(lt){this.options=lt||A}space(lt){return""}code({text:lt,lang:Te,escaped:rt}){const Le=(Te||"").match(/^\S*/)?.[0],bt=lt.replace(/\n$/,"")+"\n";return Le?'<pre><code class="language-'+x(Le)+'">'+(rt?bt:x(bt,!0))+"</code></pre>\n":"<pre><code>"+(rt?bt:x(bt,!0))+"</code></pre>\n"}blockquote({tokens:lt}){return`<blockquote>\n${this.parser.parse(lt)}</blockquote>\n`}html({text:lt}){return lt}heading({tokens:lt,depth:Te}){return`<h${Te}>${this.parser.parseInline(lt)}</h${Te}>\n`}hr(lt){return"<hr>\n"}list(lt){const Te=lt.ordered,rt=lt.start;let Le="";for(let In=0;In<lt.items.length;In++)Le+=this.listitem(lt.items[In]);const bt=Te?"ol":"ul";return"<"+bt+(Te&&1!==rt?' start="'+rt+'"':"")+">\n"+Le+"</"+bt+">\n"}listitem(lt){let Te="";if(lt.task){const rt=this.checkbox({checked:!!lt.checked});lt.loose?lt.tokens.length>0&&"paragraph"===lt.tokens[0].type?(lt.tokens[0].text=rt+" "+lt.tokens[0].text,lt.tokens[0].tokens&&lt.tokens[0].tokens.length>0&&"text"===lt.tokens[0].tokens[0].type&&(lt.tokens[0].tokens[0].text=rt+" "+lt.tokens[0].tokens[0].text)):lt.tokens.unshift({type:"text",raw:rt+" ",text:rt+" "}):Te+=rt+" "}return Te+=this.parser.parse(lt.tokens,!!lt.loose),`<li>${Te}</li>\n`}checkbox({checked:lt}){return"<input "+(lt?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:lt}){return`<p>${this.parser.parseInline(lt)}</p>\n`}table(lt){let Te="",rt="";for(let bt=0;bt<lt.header.length;bt++)rt+=this.tablecell(lt.header[bt]);Te+=this.tablerow({text:rt});let Le="";for(let bt=0;bt<lt.rows.length;bt++){const Ft=lt.rows[bt];rt="";for(let In=0;In<Ft.length;In++)rt+=this.tablecell(Ft[In]);Le+=this.tablerow({text:rt})}return Le&&(Le=`<tbody>${Le}</tbody>`),"<table>\n<thead>\n"+Te+"</thead>\n"+Le+"</table>\n"}tablerow({text:lt}){return`<tr>\n${lt}</tr>\n`}tablecell(lt){const Te=this.parser.parseInline(lt.tokens),rt=lt.header?"th":"td";return(lt.align?`<${rt} align="${lt.align}">`:`<${rt}>`)+Te+`</${rt}>\n`}strong({tokens:lt}){return`<strong>${this.parser.parseInline(lt)}</strong>`}em({tokens:lt}){return`<em>${this.parser.parseInline(lt)}</em>`}codespan({text:lt}){return`<code>${lt}</code>`}br(lt){return"<br>"}del({tokens:lt}){return`<del>${this.parser.parseInline(lt)}</del>`}link({href:lt,title:Te,tokens:rt}){const Le=this.parser.parseInline(rt),bt=L(lt);if(null===bt)return Le;let Ft='<a href="'+(lt=bt)+'"';return Te&&(Ft+=' title="'+Te+'"'),Ft+=">"+Le+"</a>",Ft}image({href:lt,title:Te,text:rt}){const Le=L(lt);if(null===Le)return rt;let bt=`<img src="${lt=Le}" alt="${rt}"`;return Te&&(bt+=` title="${Te}"`),bt+=">",bt}text(lt){return"tokens"in lt&&lt.tokens?this.parser.parseInline(lt.tokens):lt.text}}class $t{strong({text:lt}){return lt}em({text:lt}){return lt}codespan({text:lt}){return lt}del({text:lt}){return lt}html({text:lt}){return lt}text({text:lt}){return lt}link({text:lt}){return""+lt}image({text:lt}){return""+lt}br(){return""}}class vn{options;renderer;textRenderer;constructor(lt){this.options=lt||A,this.options.renderer=this.options.renderer||new zt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $t}static parse(lt,Te){return new vn(Te).parse(lt)}static parseInline(lt,Te){return new vn(Te).parseInline(lt)}parse(lt,Te=!0){let rt="";for(let Le=0;Le<lt.length;Le++){const bt=lt[Le];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[bt.type]){const In=bt,On=this.options.extensions.renderers[In.type].call({parser:this},In);if(!1!==On||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(In.type)){rt+=On||"";continue}}const Ft=bt;switch(Ft.type){case"space":rt+=this.renderer.space(Ft);continue;case"hr":rt+=this.renderer.hr(Ft);continue;case"heading":rt+=this.renderer.heading(Ft);continue;case"code":rt+=this.renderer.code(Ft);continue;case"table":rt+=this.renderer.table(Ft);continue;case"blockquote":rt+=this.renderer.blockquote(Ft);continue;case"list":rt+=this.renderer.list(Ft);continue;case"html":rt+=this.renderer.html(Ft);continue;case"paragraph":rt+=this.renderer.paragraph(Ft);continue;case"text":{let In=Ft,On=this.renderer.text(In);for(;Le+1<lt.length&&"text"===lt[Le+1].type;)In=lt[++Le],On+="\n"+this.renderer.text(In);rt+=Te?this.renderer.paragraph({type:"paragraph",raw:On,text:On,tokens:[{type:"text",raw:On,text:On}]}):On;continue}default:{const In='Token with "'+Ft.type+'" type was not found.';if(this.options.silent)return console.error(In),"";throw new Error(In)}}}return rt}parseInline(lt,Te){Te=Te||this.renderer;let rt="";for(let Le=0;Le<lt.length;Le++){const bt=lt[Le];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[bt.type]){const In=this.options.extensions.renderers[bt.type].call({parser:this},bt);if(!1!==In||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(bt.type)){rt+=In||"";continue}}const Ft=bt;switch(Ft.type){case"escape":case"text":rt+=Te.text(Ft);break;case"html":rt+=Te.html(Ft);break;case"link":rt+=Te.link(Ft);break;case"image":rt+=Te.image(Ft);break;case"strong":rt+=Te.strong(Ft);break;case"em":rt+=Te.em(Ft);break;case"codespan":rt+=Te.codespan(Ft);break;case"br":rt+=Te.br(Ft);break;case"del":rt+=Te.del(Ft);break;default:{const In='Token with "'+Ft.type+'" type was not found.';if(this.options.silent)return console.error(In),"";throw new Error(In)}}}return rt}}class Nn{options;constructor(lt){this.options=lt||A}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(lt){return lt}postprocess(lt){return lt}processAllTokens(lt){return lt}}const Sn=new class Ni{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(xt.lex,vn.parse);parseInline=this.#t(xt.lexInline,vn.parseInline);Parser=vn;Renderer=zt;TextRenderer=$t;Lexer=xt;Tokenizer=we;Hooks=Nn;constructor(...lt){this.use(...lt)}walkTokens(lt,Te){let rt=[];for(const Le of lt)switch(rt=rt.concat(Te.call(this,Le)),Le.type){case"table":{const bt=Le;for(const Ft of bt.header)rt=rt.concat(this.walkTokens(Ft.tokens,Te));for(const Ft of bt.rows)for(const In of Ft)rt=rt.concat(this.walkTokens(In.tokens,Te));break}case"list":rt=rt.concat(this.walkTokens(Le.items,Te));break;default:{const bt=Le;this.defaults.extensions?.childTokens?.[bt.type]?this.defaults.extensions.childTokens[bt.type].forEach(Ft=>{const In=bt[Ft].flat(1/0);rt=rt.concat(this.walkTokens(In,Te))}):bt.tokens&&(rt=rt.concat(this.walkTokens(bt.tokens,Te)))}}return rt}use(...lt){const Te=this.defaults.extensions||{renderers:{},childTokens:{}};return lt.forEach(rt=>{const Le={...rt};if(Le.async=this.defaults.async||Le.async||!1,rt.extensions&&(rt.extensions.forEach(bt=>{if(!bt.name)throw new Error("extension name required");if("renderer"in bt){const Ft=Te.renderers[bt.name];Te.renderers[bt.name]=Ft?function(...In){let On=bt.renderer.apply(this,In);return!1===On&&(On=Ft.apply(this,In)),On}:bt.renderer}if("tokenizer"in bt){if(!bt.level||"block"!==bt.level&&"inline"!==bt.level)throw new Error("extension level must be 'block' or 'inline'");const Ft=Te[bt.level];Ft?Ft.unshift(bt.tokenizer):Te[bt.level]=[bt.tokenizer],bt.start&&("block"===bt.level?Te.startBlock?Te.startBlock.push(bt.start):Te.startBlock=[bt.start]:"inline"===bt.level&&(Te.startInline?Te.startInline.push(bt.start):Te.startInline=[bt.start]))}"childTokens"in bt&&bt.childTokens&&(Te.childTokens[bt.name]=bt.childTokens)}),Le.extensions=Te),rt.renderer){const bt=this.defaults.renderer||new zt(this.defaults);for(const Ft in rt.renderer){if(!(Ft in bt))throw new Error(`renderer '${Ft}' does not exist`);if(["options","parser"].includes(Ft))continue;const In=Ft;let On=rt.renderer[In];const ei=bt[In];bt[In]=(...pi)=>{rt.useNewRenderer||(On=this.#e(On,In,bt));let zi=On.apply(bt,pi);return!1===zi&&(zi=ei.apply(bt,pi)),zi||""}}Le.renderer=bt}if(rt.tokenizer){const bt=this.defaults.tokenizer||new we(this.defaults);for(const Ft in rt.tokenizer){if(!(Ft in bt))throw new Error(`tokenizer '${Ft}' does not exist`);if(["options","rules","lexer"].includes(Ft))continue;const On=rt.tokenizer[Ft],ei=bt[Ft];bt[Ft]=(...pi)=>{let zi=On.apply(bt,pi);return!1===zi&&(zi=ei.apply(bt,pi)),zi}}Le.tokenizer=bt}if(rt.hooks){const bt=this.defaults.hooks||new Nn;for(const Ft in rt.hooks){if(!(Ft in bt))throw new Error(`hook '${Ft}' does not exist`);if("options"===Ft)continue;const On=rt.hooks[Ft],ei=bt[Ft];bt[Ft]=Nn.passThroughHooks.has(Ft)?pi=>{if(this.defaults.async)return Promise.resolve(On.call(bt,pi)).then(Ci=>ei.call(bt,Ci));const zi=On.call(bt,pi);return ei.call(bt,zi)}:(...pi)=>{let zi=On.apply(bt,pi);return!1===zi&&(zi=ei.apply(bt,pi)),zi}}Le.hooks=bt}if(rt.walkTokens){const bt=this.defaults.walkTokens,Ft=rt.walkTokens;Le.walkTokens=function(In){let On=[];return On.push(Ft.call(this,In)),bt&&(On=On.concat(bt.call(this,In))),On}}this.defaults={...this.defaults,...Le}}),this}#e(lt,Te,rt){switch(Te){case"heading":return function(Le){return Le.type&&Le.type===Te?lt.call(this,rt.parser.parseInline(Le.tokens),Le.depth,function R(gn){return gn.replace($,(lt,Te)=>"colon"===(Te=Te.toLowerCase())?":":"#"===Te.charAt(0)?"x"===Te.charAt(1)?String.fromCharCode(parseInt(Te.substring(2),16)):String.fromCharCode(+Te.substring(1)):"")}(rt.parser.parseInline(Le.tokens,rt.parser.textRenderer))):lt.apply(this,arguments)};case"code":return function(Le){return Le.type&&Le.type===Te?lt.call(this,Le.text,Le.lang,!!Le.escaped):lt.apply(this,arguments)};case"table":return function(Le){if(!Le.type||Le.type!==Te)return lt.apply(this,arguments);let bt="",Ft="";for(let On=0;On<Le.header.length;On++)Ft+=this.tablecell({text:Le.header[On].text,tokens:Le.header[On].tokens,header:!0,align:Le.align[On]});bt+=this.tablerow({text:Ft});let In="";for(let On=0;On<Le.rows.length;On++){const ei=Le.rows[On];Ft="";for(let pi=0;pi<ei.length;pi++)Ft+=this.tablecell({text:ei[pi].text,tokens:ei[pi].tokens,header:!1,align:Le.align[pi]});In+=this.tablerow({text:Ft})}return lt.call(this,bt,In)};case"blockquote":return function(Le){if(!Le.type||Le.type!==Te)return lt.apply(this,arguments);const bt=this.parser.parse(Le.tokens);return lt.call(this,bt)};case"list":return function(Le){if(!Le.type||Le.type!==Te)return lt.apply(this,arguments);const bt=Le.ordered,Ft=Le.start,In=Le.loose;let On="";for(let ei=0;ei<Le.items.length;ei++){const pi=Le.items[ei],zi=pi.checked,Ci=pi.task;let Gi="";if(pi.task){const Qn=this.checkbox({checked:!!zi});In?pi.tokens.length>0&&"paragraph"===pi.tokens[0].type?(pi.tokens[0].text=Qn+" "+pi.tokens[0].text,pi.tokens[0].tokens&&pi.tokens[0].tokens.length>0&&"text"===pi.tokens[0].tokens[0].type&&(pi.tokens[0].tokens[0].text=Qn+" "+pi.tokens[0].tokens[0].text)):pi.tokens.unshift({type:"text",text:Qn+" "}):Gi+=Qn+" "}Gi+=this.parser.parse(pi.tokens,In),On+=this.listitem({type:"list_item",raw:Gi,text:Gi,task:Ci,checked:!!zi,loose:In,tokens:pi.tokens})}return lt.call(this,On,bt,Ft)};case"html":return function(Le){return Le.type&&Le.type===Te?lt.call(this,Le.text,Le.block):lt.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(Le){return Le.type&&Le.type===Te?lt.call(this,this.parser.parseInline(Le.tokens)):lt.apply(this,arguments)};case"escape":case"codespan":case"text":return function(Le){return Le.type&&Le.type===Te?lt.call(this,Le.text):lt.apply(this,arguments)};case"link":return function(Le){return Le.type&&Le.type===Te?lt.call(this,Le.href,Le.title,this.parser.parseInline(Le.tokens)):lt.apply(this,arguments)};case"image":return function(Le){return Le.type&&Le.type===Te?lt.call(this,Le.href,Le.title,Le.text):lt.apply(this,arguments)}}return lt}setOptions(lt){return this.defaults={...this.defaults,...lt},this}lexer(lt,Te){return xt.lex(lt,Te??this.defaults)}parser(lt,Te){return vn.parse(lt,Te??this.defaults)}#t(lt,Te){return(rt,Le)=>{const bt={...Le},Ft={...this.defaults,...bt};!0===this.defaults.async&&!1===bt.async&&(Ft.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),Ft.async=!0);const In=this.#n(!!Ft.silent,!!Ft.async);if(typeof rt>"u"||null===rt)return In(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof rt)return In(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(rt)+", string expected"));if(Ft.hooks&&(Ft.hooks.options=Ft),Ft.async)return Promise.resolve(Ft.hooks?Ft.hooks.preprocess(rt):rt).then(On=>lt(On,Ft)).then(On=>Ft.hooks?Ft.hooks.processAllTokens(On):On).then(On=>Ft.walkTokens?Promise.all(this.walkTokens(On,Ft.walkTokens)).then(()=>On):On).then(On=>Te(On,Ft)).then(On=>Ft.hooks?Ft.hooks.postprocess(On):On).catch(In);try{Ft.hooks&&(rt=Ft.hooks.preprocess(rt));let On=lt(rt,Ft);Ft.hooks&&(On=Ft.hooks.processAllTokens(On)),Ft.walkTokens&&this.walkTokens(On,Ft.walkTokens);let ei=Te(On,Ft);return Ft.hooks&&(ei=Ft.hooks.postprocess(ei)),ei}catch(On){return In(On)}}}#n(lt,Te){return rt=>{if(rt.message+="\nPlease report this to https://github.com/markedjs/marked.",lt){const Le="<p>An error occurred:</p><pre>"+x(rt.message+"",!0)+"</pre>";return Te?Promise.resolve(Le):Le}if(Te)return Promise.reject(rt);throw rt}}};function Gn(gn,lt){return Sn.parse(gn,lt)}Gn.options=Gn.setOptions=function(gn){return Sn.setOptions(gn),w(Gn.defaults=Sn.defaults),Gn},Gn.getDefaults=function d(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Gn.defaults=A,Gn.use=function(...gn){return Sn.use(...gn),w(Gn.defaults=Sn.defaults),Gn},Gn.walkTokens=function(gn,lt){return Sn.walkTokens(gn,lt)},Gn.parseInline=Sn.parseInline,Gn.Parser=vn,Gn.parser=vn.parse,Gn.Renderer=zt,Gn.TextRenderer=$t,Gn.Lexer=xt,Gn.lexer=xt.lex,Gn.Tokenizer=we,Gn.Hooks=Nn,Gn.parse=Gn;const Be=Gn},9204:(dn,Ne,_)=>{"use strict";function d(w,D,C,S,I,E,y){try{var x=w[E](y),$=x.value}catch(R){return void C(R)}x.done?D($):Promise.resolve($).then(S,I)}function A(w){return function(){var D=this,C=arguments;return new Promise(function(S,I){var E=w.apply(D,C);function y($){d(E,S,I,y,x,"next",$)}function x($){d(E,S,I,y,x,"throw",$)}y(void 0)})}}_.d(Ne,{A:()=>A})}}]);
//# sourceMappingURL=vendor.js.map