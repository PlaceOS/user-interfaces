"use strict";(self.webpackChunkvisitor_kiosk=self.webpackChunkvisitor_kiosk||[]).push([["apps_visitor-kiosk_src_app_explore_explore_module_ts"],{5303:(xo,ue,g)=>{g.r(ue),g.d(ue,{AppExploreModule:()=>vo});var E=g(4666),B=g(959),Z=g(2508),me=g(3689),ge=g(3773),e=g(9676),D=g(207),Ye=g(4218),_e=g(8971);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const Ne=["input"],je=function(n){return{enterDuration:n}},Qe=["*"],Re=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */let $e=0;const Ge={provide:Z.JU,useExisting:(0,e.Gpc)(()=>he),multi:!0};class Ve{constructor(r,t){this.source=r,this.checked=t}}const Xe=(0,D.sb)((0,D.pj)((0,D.Kr)((0,D.Id)(class{constructor(n){this._elementRef=n}}))));let Ke=(()=>{class n extends Xe{constructor(t,s,o,i,c,p,_){super(t),this._focusMonitor=s,this._changeDetectorRef=o,this.defaults=c,this._onChange=u=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(i)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId=`${_}${++$e}`}get required(){return this._required}set required(t){this._required=(0,_e.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,_e.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._focused=!0:t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.qOj]}),n})(),he=(()=>{class n extends Ke{constructor(t,s,o,i,c,p){super(t,s,o,i,c,p,"mat-slide-toggle-")}_createChangeEvent(t){return new Ve(this,t)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}focus(t,s){s?this._focusMonitor.focusVia(this._inputElement,s,t):this._inputElement.nativeElement.focus(t)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Ye.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(Re),e.Y36(e.QbO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,s){if(1&t&&e.Gf(Ne,5),2&t){let o;e.iGM(o=e.CRH())&&(s._inputElement=o.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,s){2&t&&(e.Ikx("id",s.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.ekj("mat-checked",s.checked)("mat-disabled",s.disabled)("mat-slide-toggle-label-before","before"==s.labelPosition)("_mat-animation-noopable",s._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e._Bn([Ge]),e.qOj],ngContentSelectors:Qe,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,s){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.NdJ("change",function(i){return s._onChangeEvent(i)})("click",function(i){return s._onInputClick(i)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()()(),e.TgZ(9,"span",9,10),e.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),e.TgZ(11,"span",11),e._uU(12,"\xa0"),e.qZA(),e.Hsn(13),e.qZA()()),2&t){const o=e.MAs(1),i=e.MAs(10);e.uIk("for",s.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),e.xp6(1),e.Q6J("id",s.inputId)("required",s.required)("tabIndex",s.tabIndex)("checked",s.checked)("disabled",s.disabled),e.uIk("name",s.name)("aria-checked",s.checked)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby),e.xp6(4),e.Q6J("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,je,s._noopAnimations?0:150))}},dependencies:[D.wG,ge.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[fe,D.si,D.BQ,ge.Q8,fe,D.BQ]}),n})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var tt=g(5895),ot=g(7520),st=g(4957),O=g(1670),C=g(9112),Q=g(5670),R=g(565),q=g(3690),S=g(4505),se=g(4139),Y=g(7716),V=g(9095),U=g(6942),K=g(7418),H=g(9128),$=g(823),nt=g(9151),ne=g(656),be=g(73);let N=(()=>{class n extends C.KG{constructor(t,s,o){super(),this._org=t,this._spaces=s,this._settings=o,this._level=new S.X(null),this._positions=new S.X({zoom:1,center:{x:.5,y:.5}}),this._styles=new S.X({}),this._features=new S.X({}),this._actions=new S.X({}),this._labels=new S.X({}),this._options=new S.X({disable:["zones","devices"]}),this._message=new S.X(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=this._level.pipe((0,V.w)(i=>(0,q.vIL)({zone_id:i?.id,limit:50}).pipe((0,U.U)(({data:c})=>c.map(p=>new ne.T(p))),(0,K.K)(c=>(0,se.of)([])))),(0,H.d)(1)),this.map_url=this._level.pipe((0,U.U)(i=>(i?i.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,Y.aj)([this._features,this._options]).pipe((0,$.b)(200),(0,U.U)(([i,c])=>{let p=[];for(const _ in i)c.disable?.includes(_)||c.disable_features?.includes(_)||(p=p.concat(i[_]));return p})),this.map_actions=(0,Y.aj)([this._actions,this._options]).pipe((0,$.b)(200),(0,U.U)(([i,c])=>{let p=[];for(const _ in i)c.disable?.includes(_)||c.disable_actions?.includes(_)||(p=p.concat(i[_]));return p})),this.map_labels=(0,Y.aj)([this._labels,this._options]).pipe((0,$.b)(200),(0,U.U)(([i,c])=>{let p=[];for(const _ in i)c.disable?.includes(_)||c.disable_labels?.includes(_)||(p=p.concat(i[_]));return p})),this.map_styles=(0,Y.aj)([this._styles,this._options]).pipe((0,$.b)(200),(0,U.U)(([i,c])=>{let p={text:{display:"none"}};for(const _ in i)c.disable?.includes(_)||c.disable_styles?.includes(_)||(p={...p,...i[_]});return c.disable?.includes("zones")&&(p["#zones"]={display:"none"},p["#Zones"]={display:"none"}),p})),this.options=this._options.asObservable(),this.init()}get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}init(){var t=this;return(0,O.Z)(function*(){yield t._org.initialised.pipe((0,Q.P)(s=>s)).toPromise(),t._org.active_building.pipe((0,nt.h)(s=>!!s)).subscribe(s=>{const o=t._level.getValue(),i=t._org.levelsForBuilding(s);!i.find(p=>o?.id===p.id)&&i.length&&t.setLevel(i[0].id),t._settings.get("app.explore.disable_actions")&&t.setOptions({disable_actions:t._settings.get("app.explore.disable_actions")}),t._settings.get("app.explore.disable_labels")&&t.setOptions({disable_labels:t._settings.get("app.explore.disable_labels")}),t._settings.get("app.explore.disable_features")&&t.setOptions({disable_features:t._settings.get("app.explore.disable_features")}),t._settings.get("app.explore.disable_styles")&&t.setOptions({disable_styles:t._settings.get("app.explore.disable_styles")})})})()}setOptions(t){const s=this._options.getValue(),o=(0,C.Tw)([...t.disable||s.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...t,disable:o})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this.setPositions(1,{x:.5,y:.5})}setLevel(t){const s=this._org.levelWithID([t]);s&&this._level.next(s)}setStyles(t,s){const o=this._styles.getValue();o[t]=s,this._styles.next(o)}setFeatures(t,s){const o=this._features.getValue();o[t]=s,this._features.next(o)}setActions(t,s){const o=this._actions.getValue();o[t]=s,this._actions.next(o)}setLabels(t,s){const o=this._labels.getValue();o[t]=s,this._labels.next(o)}setPositions(t,s){this._positions.next({zoom:t,center:s})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.w),e.LFG(be.s),e.LFG(C.gb))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ie=g(5074),it=g(7371);function at(n,r){if(1&n&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.display_name||t.name," ")}}function lt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",3)(1,"mat-select",4),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.setBuilding(o))}),e.ALo(2,"async"),e.YNc(3,at,2,2,"mat-option",5),e.ALo(4,"async"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",e.lcZ(2,2,t.building)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,t.buildings))}}function rt(n,r){if(1&n&&(e.TgZ(0,"mat-option",6),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.display_name||t.name," ")}}function ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",7),e.ALo(1,"async"),e.TgZ(2,"mat-select",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.setLevel(o))}),e.ALo(3,"async"),e.YNc(4,rt,2,2,"mat-option",5),e.ALo(5,"async"),e.qZA()()}if(2&n){const t=e.oxw();let s;e.uIk("has-bld",(null==(s=e.lcZ(1,3,t.buildings))?null:s.length)>1),e.xp6(2),e.Q6J("ngModel",e.lcZ(3,5,t.level)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,7,t.levels))}}let ve=(()=>{class n extends C.KG{constructor(t,s,o,i){super(),this._org=t,this._state=s,this._router=o,this._route=i,this.buildings=this._org.building_list,this.building=this._org.active_building,this.levels=this._org.active_levels,this.level=this._state.level,this.setLevel=c=>{this._state.setFeatures("_located",[]),this.timeout("set_level",()=>this._router.navigate([],{relativeTo:this._route,queryParams:{zone:c.id}}),201)},this.setBuilding=c=>this._org.building=c}ngOnInit(){var t=this;return(0,O.Z)(function*(){yield t._org.initialised.pipe((0,Q.P)(s=>s)).toPromise(),t.subscription("route.query",t._route.queryParamMap.subscribe(s=>s.has("zone")?t._state.setLevel(s.get("zone")):""))})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.w),e.Y36(N),e.Y36(B.F0),e.Y36(B.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-map-controls"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"flex","space-x-2"],["overlay","","buildings","","class","flex-1","has-bld","true","appearance","outline",4,"ngIf"],["overlay","","levels","","class","flex-1","appearance","outline",4,"ngIf"],["overlay","","buildings","","has-bld","true","appearance","outline",1,"flex-1"],["placeholder","Select Building...",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["overlay","","levels","","appearance","outline",1,"flex-1"],["placeholder","Select Level...",3,"ngModel","ngModelChange"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,lt,5,6,"mat-form-field",1),e.ALo(2,"async"),e.YNc(3,ct,6,9,"mat-form-field",2),e.ALo(4,"async"),e.qZA()),2&t){let o,i;e.xp6(1),e.Q6J("ngIf",(null==(o=e.lcZ(2,2,s.buildings))?null:o.length)>1),e.xp6(2),e.Q6J("ngIf",null==(i=e.lcZ(4,4,s.levels))?null:i.length)}},dependencies:[E.sg,E.O5,D.ey,ie.KE,it.gD,Z.JJ,Z.On,E.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{min-width:12rem;height:3.5rem}mat-form-field[has-bld=true][_ngcontent-%COMP%]{max-width:calc(50vw - 2.5rem)}[full][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:calc(50% - 2.5rem)}\n/*# sourceMappingURL=explore-map-control.component.ts-angular-inline--40.css.map*/"]}),n})();var pt=g(3910),xe=g(4653),ae=g(4702),dt=g(3159),ye=g(6198),ut=g(8296),mt=g(3902),Ce=g(719),W=g(9136),le=g(3970);function gt(n,r){if(1&n&&e._UZ(0,"img",16),2&n){const t=e.oxw(2);e.Q6J("src",t.space.images[0],e.LSH)}}function _t(n,r){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.available_until," ")}}function ht(n,r){if(1&n&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2,"Capacity: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE("",t.space.capacity," ",1===t.space.capacity?"person":"people"," ")}}function ft(n,r){if(1&n&&(e.TgZ(0,"li",21),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function bt(n,r){if(1&n&&(e.TgZ(0,"ul",19),e.YNc(1,ft,2,1,"li",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.space.features)}}function vt(n,r){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",5)(3,"div",6),e.YNc(4,gt,1,1,"img",7),e._UZ(5,"div",8),e.qZA(),e.TgZ(6,"div",9)(7,"div",10),e._uU(8),e.qZA(),e.YNc(9,_t,2,1,"div",11),e.qZA(),e.TgZ(10,"div",12)(11,"h4",13),e._uU(12),e.qZA(),e.YNc(13,ht,4,2,"div",14),e.YNc(14,bt,2,1,"ul",15),e.qZA()()()),2&n){const t=e.oxw();e.ekj("-translate-x-full","end"===t.x_pos)("-translate-y-full","bottom"===t.y_pos),e.Q6J("id",null==t.space?null:t.space.id),e.xp6(4),e.Q6J("ngIf",t.space.images[0]),e.xp6(3),e.Tol("capitalize rounded p-1 px-2 text-light border border-white shadow "+t.status),e.xp6(1),e.hij(" ",t.status," "),e.xp6(1),e.Q6J("ngIf","not-bookable"!==t.status),e.xp6(3),e.hij(" ",t.space.display_name||t.space.name," "),e.xp6(1),e.Q6J("ngIf",t.space.capacity>=0),e.xp6(1),e.Q6J("ngIf",(null==t.space.features?null:t.space.features.length)>0&&t.show_features)}}let Te=(()=>{class n{constructor(t,s,o){this._details=t,this._settings=s,this._element=o,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}get show_features(){return!this._settings.get("app.spaces.hide_features")}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const t=this._element.nativeElement.getBoundingClientRect();this.x_pos=t.x<document.body.clientWidth/2?"start":"end",this.y_pos=t.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W.u),e.Y36(Ce.g),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-space-info"]],decls:4,vars:6,consts:[["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","mouseenter"],["tooltip",""],["space_tooltip",""],["name","space-info",1,"absolute","rounded","bg-white","dark:bg-neutral-800","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","h-32","overflow-hidden","bg-black/20","flex","items-center","justify-center","relative"],["class","object-cover min-h-full min-w-full",3,"src",4,"ngIf"],[1,"absolute","inset-0","bg-black/30"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],[1,"object-cover","min-h-full","min-w-full",3,"src"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-gray-200 dark:bg-neutral-600 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-gray-200","dark:bg-neutral-600","font-medium"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return s.updateOffset()}),e.qZA(),e.YNc(2,vt,15,13,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("content",o)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0),e.uIk("id",(null==s.space?null:s.space.map_id)||(null==s.space?null:s.space.id))}},dependencies:[E.sg,E.O5,le.X],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}\n/*# sourceMappingURL=explore-space-info.component.ts-angular-inline--41.css.map*/"]}),n})();var z=g(1484),ke=g(8943),G=g(5306),ee=g(4522),xt=g(1267),Ze=g(1708),we=g(1022);function yt(n,r){1&n&&(e.TgZ(0,"button",4)(1,"app-icon"),e._uU(2,"close"),e.qZA()())}function Ct(n,r){if(1&n&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2,"Date:"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",e.xi3(5,1,null==t.form.controls.date?null:t.form.controls.date.value,"medium")," ")}}function Tt(n,r){if(1&n&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2,"Duration:"),e.qZA(),e._UZ(3,"a-duration-field",17),e.qZA()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("time",t.form.value.date)("max",t.max_duration)}}function kt(n,r){if(1&n&&(e.TgZ(0,"main",8)(1,"div",9)(2,"label",10),e._uU(3,"Title"),e.TgZ(4,"span"),e._uU(5,"*"),e.qZA(),e._uU(6,":"),e.qZA(),e.TgZ(7,"mat-form-field",11),e._UZ(8,"input",12),e.TgZ(9,"mat-error"),e._uU(10,"Booking title is required"),e.qZA()()(),e.TgZ(11,"div",9)(12,"label"),e._uU(13,"Space:"),e.qZA(),e.TgZ(14,"div",13),e._uU(15),e.qZA()(),e.TgZ(16,"div",14),e.YNc(17,Ct,6,4,"div",15),e.YNc(18,Tt,4,2,"div",15),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.form),e.xp6(15),e.hij(" ",(null==t.form.controls.resources||null==t.form.controls.resources.value[0]?null:t.form.controls.resources.value[0].display_name)||(null==t.form.controls.resources||null==t.form.controls.resources.value[0]?null:t.form.controls.resources.value[0].name)," "),e.xp6(2),e.Q6J("ngIf",t.form.controls.date),e.xp6(1),e.Q6J("ngIf",t.form.controls.duration)}}function Zt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,kt,19,4,"main",5),e.TgZ(2,"footer",6)(3,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._uU(4,"Save"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form)}}function wt(n,r){if(1&n&&(e.TgZ(0,"div",18),e._UZ(1,"mat-spinner",19),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("diameter",48),e.xp6(2),e.Oqu(e.lcZ(4,2,t.loading))}}let Ee=(()=>{class n{constructor(t,s,o,i){this._data=t,this._settings=s,this._event_form=o,this._dialog_ref=i,this.loading=this._event_form.loading}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,C.ar)().email,organiser:(0,C.ar)()})}save(){var t=this;return(0,O.Z)(function*(){yield t._event_form.postForm(),t._dialog_ref.close()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(C.gb),e.Y36(ke.M),e.Y36(z.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:[[1,"flex-1"],["mat-icon-button","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["load_state",""],["mat-icon-button","","mat-dialog-close",""],["class","p-4",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-gray-200"],["mat-button","",3,"click"],[1,"p-4",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder","Booking Title"],["name","space",1,"sm:mt-4","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col",4,"ngIf"],[1,"sm:mt-4","mb-4"],["formControlName","duration",3,"time","max"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]],template:function(t,s){if(1&t&&(e.TgZ(0,"header")(1,"h2"),e._uU(2,"New Booking"),e.qZA(),e._UZ(3,"div",0),e.YNc(4,yt,3,0,"button",1),e.ALo(5,"async"),e.qZA(),e.YNc(6,Zt,5,1,"ng-container",2),e.ALo(7,"async"),e.YNc(8,wt,5,4,"ng-template",null,3,e.W1O)),2&t){const o=e.MAs(9);e.xp6(4),e.Q6J("ngIf",!e.lcZ(5,3,s.loading)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(7,5,s.loading))("ngIfElse",o)}},dependencies:[E.O5,G.o,ie.TO,ie.KE,ee.lW,z.ZT,xt.Nt,Ze.Ou,Z.Fj,Z.JJ,Z.JL,Z.sg,Z.u,we.B,E.Ov,E.uU],styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}\n/*# sourceMappingURL=explore-booking-modal.component.ts-angular-inline--42.css.map*/"]}),n})();function w(n){var r=this;n="object"==typeof n?n:{},r.revision=3,r.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},r.toTable=n.toTable,r.domElement=r.toTable?document.createElement("div"):document.createElement("canvas"),r.url=n.url||"",r.size=n.size||280,r.qrc=!1,r.colorLight=n.colorLight||"#fff",r.colorDark=n.colorDark||"#000",r.ecclevel=n.ecclevel||1,r.noBorder=n.noBorder,r.borderSize=n.borderSize||4;var t,s,o,i,c,p,_,u=[],y=[],h=[],A=[],k=[],M=[],T=function(f,a){var l;f>a&&(l=f,f=a,a=l),l=a,l*=a,l+=a,l>>=1,A[l+=f]=1},J=function(f,a){var l;for(h[f+o*a]=1,l=-2;l<2;l++)h[f+l+o*(a-2)]=1,h[f-2+o*(a+l+1)]=1,h[f+2+o*(a+l)]=1,h[f+l+1+o*(a+2)]=1;for(l=0;l<2;l++)T(f-1,a+l),T(f+1,a-l),T(f-l,a-1),T(f+l,a+1)},F=function(f){for(;f>=255;)f=((f-=255)>>8)+(255&f);return f},I=function(f,a,l,d){var m,v,b,x=w.gexp,j=w.glog;for(m=0;m<d;m++)u[l+m]=0;for(m=0;m<a;m++){if(255!=(b=j[u[f+m]^u[l]]))for(v=1;v<d;v++)u[l+v-1]=u[l+v]^x[F(b+M[d-v])];else for(v=l;v<l+d;v++)u[v]=u[v+1];u[l+d-1]=255==b?0:x[F(b+M[0])]}},P=function(f,a){var l;return f>a&&(l=f,f=a,a=l),l=a,l+=a*a,l>>=1,A[l+=f]},te=function(f){var a,l,d,m;switch(f){case 0:for(l=0;l<o;l++)for(a=0;a<o;a++)a+l&1||P(a,l)||(h[a+l*o]^=1);break;case 1:for(l=0;l<o;l++)for(a=0;a<o;a++)1&l||P(a,l)||(h[a+l*o]^=1);break;case 2:for(l=0;l<o;l++)for(d=0,a=0;a<o;a++,d++)3==d&&(d=0),d||P(a,l)||(h[a+l*o]^=1);break;case 3:for(m=0,l=0;l<o;l++,m++)for(3==m&&(m=0),d=m,a=0;a<o;a++,d++)3==d&&(d=0),d||P(a,l)||(h[a+l*o]^=1);break;case 4:for(l=0;l<o;l++)for(d=0,m=l>>1&1,a=0;a<o;a++,d++)3==d&&(d=0,m=!m),m||P(a,l)||(h[a+l*o]^=1);break;case 5:for(m=0,l=0;l<o;l++,m++)for(3==m&&(m=0),d=0,a=0;a<o;a++,d++)3==d&&(d=0),(a&l&1)+!(!d|!m)||P(a,l)||(h[a+l*o]^=1);break;case 6:for(m=0,l=0;l<o;l++,m++)for(3==m&&(m=0),d=0,a=0;a<o;a++,d++)3==d&&(d=0),(a&l&1)+(d&&d==m)&1||P(a,l)||(h[a+l*o]^=1);break;case 7:for(m=0,l=0;l<o;l++,m++)for(3==m&&(m=0),d=0,a=0;a<o;a++,d++)3==d&&(d=0),(d&&d==m)+(a+l&1)&1||P(a,l)||(h[a+l*o]^=1)}},L=function(f){var a,l=0;for(a=0;a<=f;a++)k[a]>=5&&(l+=w.N1+k[a]-5);for(a=3;a<f-1;a+=2)k[a-2]==k[a+2]&&k[a+2]==k[a-1]&&k[a-1]==k[a+1]&&3*k[a-1]==k[a]&&(0==k[a-3]||a+3>f||3*k[a-3]>=4*k[a]||3*k[a+3]>=4*k[a])&&(l+=w.N3);return l},X=function(){var f,a,l,d,m,v=0,b=0;for(a=0;a<o-1;a++)for(f=0;f<o-1;f++)(h[f+o*a]&&h[f+1+o*a]&&h[f+o*(a+1)]&&h[f+1+o*(a+1)]||!(h[f+o*a]||h[f+1+o*a]||h[f+o*(a+1)]||h[f+1+o*(a+1)]))&&(v+=w.N2);for(a=0;a<o;a++){for(k[0]=0,l=d=f=0;f<o;f++)(m=h[f+o*a])==d?k[l]++:k[++l]=1,b+=(d=m)?1:-1;v+=L(l)}b<0&&(b=-b);var x=b,j=0;for(x+=x<<2,x<<=1;x>o*o;)x-=o*o,j++;for(v+=j*w.N4,f=0;f<o;f++){for(k[0]=0,l=d=a=0;a<o;a++)(m=h[f+o*a])==d?k[l]++:k[++l]=1,d=m;v+=L(l)}return v};r.genframe=function(f){var a,l,d,m,v,b,x,j,oe=w.eccblocks,Be=w.gexp,de=w.glog;m=f.length,s=0;do{if(s++,d=4*(t-1)+16*(s-1),i=oe[d++],c=oe[d++],p=oe[d++],_=oe[d],m<=(d=p*(i+c)+c-3+(s<=9)))break}while(s<40);for(o=17+4*s,v=p+(p+_)*(i+c)+c,m=0;m<v;m++)y[m]=0;for(u=f.slice(0),m=0;m<o*o;m++)h[m]=0;for(m=0;m<(o*(o+1)+1)/2;m++)A[m]=0;for(m=0;m<3;m++){for(d=0,l=0,1==m&&(d=o-7),2==m&&(l=o-7),h[l+3+o*(d+3)]=1,a=0;a<6;a++)h[l+a+o*d]=1,h[l+o*(d+a+1)]=1,h[l+6+o*(d+a)]=1,h[l+a+1+o*(d+6)]=1;for(a=1;a<5;a++)T(l+a,d+1),T(l+1,d+a+1),T(l+5,d+a),T(l+a+1,d+5);for(a=2;a<4;a++)h[l+a+o*(d+2)]=1,h[l+2+o*(d+a+1)]=1,h[l+4+o*(d+a)]=1,h[l+a+1+o*(d+4)]=1}if(s>1)for(m=w.adelta[s],l=o-7;;){for(a=o-7;a>m-3&&(J(a,l),!(a<m));)a-=m;if(l<=m+9)break;J(6,l-=m),J(l,6)}for(h[8+o*(o-8)]=1,l=0;l<7;l++)T(7,l),T(o-8,l),T(7,l+o-7);for(a=0;a<8;a++)T(a,7),T(a+o-8,7),T(a,o-8);for(a=0;a<9;a++)T(a,8);for(a=0;a<8;a++)T(a+o-8,8),T(8,a);for(l=0;l<7;l++)T(8,l+o-7);for(a=0;a<o-14;a++)1&a?(T(8+a,6),T(6,8+a)):(h[8+a+6*o]=1,h[6+o*(8+a)]=1);if(s>6)for(m=w.vpat[s-7],d=17,a=0;a<6;a++)for(l=0;l<3;l++,d--)1&(d>11?s>>d-12:m>>d)?(h[5-a+o*(2-l+o-11)]=1,h[2-l+o-11+o*(5-a)]=1):(T(5-a,2-l+o-11),T(2-l+o-11,5-a));for(l=0;l<o;l++)for(a=0;a<=l;a++)h[a+o*l]&&T(a,l);for(v=u.length,b=0;b<v;b++)y[b]=u.charCodeAt(b);if(u=y.slice(0),v>=(a=p*(i+c)+c)-2&&(v=a-2,s>9&&v--),b=v,s>9){for(u[b+2]=0,u[b+3]=0;b--;)u[b+3]|=255&(m=u[b])<<4,u[b+2]=m>>4;u[2]|=255&v<<4,u[1]=v>>4,u[0]=64|v>>12}else{for(u[b+1]=0,u[b+2]=0;b--;)u[b+2]|=255&(m=u[b])<<4,u[b+1]=m>>4;u[1]|=255&v<<4,u[0]=64|v>>4}for(b=v+3-(s<10);b<a;)u[b++]=236,u[b++]=17;for(M[0]=1,b=0;b<_;b++){for(M[b+1]=1,x=b;x>0;x--)M[x]=M[x]?M[x-1]^Be[F(de[M[x]]+b)]:M[x-1];M[0]=Be[F(de[M[0]]+b)]}for(b=0;b<=_;b++)M[b]=de[M[b]];for(d=a,l=0,b=0;b<i;b++)I(l,p,d,_),l+=p,d+=_;for(b=0;b<c;b++)I(l,p+1,d,_),l+=p+1,d+=_;for(l=0,b=0;b<p;b++){for(x=0;x<i;x++)y[l++]=u[b+x*p];for(x=0;x<c;x++)y[l++]=u[i*p+b+x*(p+1)]}for(x=0;x<c;x++)y[l++]=u[i*p+b+x*(p+1)];for(b=0;b<_;b++)for(x=0;x<i+c;x++)y[l++]=u[a+b+x*_];for(u=y,a=l=o-1,d=v=1,j=(p+_)*(i+c)+c,b=0;b<j;b++)for(m=u[b],x=0;x<8;x++,m<<=1){128&m&&(h[a+o*l]=1);do{v?a--:(a++,d?0!=l?l--:(d=!d,6==(a-=2)&&(a--,l=9)):l!=o-1?l++:(d=!d,6==(a-=2)&&(a--,l-=8))),v=!v}while(P(a,l))}for(u=h.slice(0),m=0,l=3e4,d=0;d<8&&(te(d),(a=X())<l&&(l=a,m=d),7!=m);d++)h=u.slice(0);for(m!=d&&te(m),l=w.fmtword[m+(t-1<<3)],d=0;d<8;d++,l>>=1)1&l&&(h[o-1-d+8*o]=1,d<6?h[8+o*d]=1:h[8+o*(d+1)]=1);for(d=0;d<7;d++,l>>=1)1&l&&(h[8+o*(o-7+d)]=1,d?h[6-d+8*o]=1:h[7+8*o]=1);return h},r.init=function(){t=r.ecclevel;var f=r.genframe(r.url);r.toTable?r.tableWrite(f,o):r.canvasWrite(f,o)},r.init()}w.prototype={canvasWrite:function(n,r){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(n,r);var t=this.size,s=this.qrc;s.lineWidth=1;var o=t;o/=r+10,o=Math.round(o-.5);var i=4;this.noBorder?(s.canvas.width=s.canvas.height=o*r,i=0):s.canvas.width=s.canvas.height=t,s.clearRect(0,0,t,t),s.fillStyle=this.colorLight,s.fillRect(0,0,o*(r+8),o*(r+8)),s.fillStyle=this.colorDark;for(var c=0;c<r;c++)for(var p=0;p<r;p++)n[p*r+c]&&s.fillRect(o*(i+c),o*(i+p),o,o)},tableWrite:function(n,r){var t=this,s=Math.round(this.size/r-3.5)+"px",o=r+(t.noBorder?0:2*t.borderSize),i=t.borderSize,c="width:"+s+";height:"+s+";",p=t.colorLight,_=t.colorDark,u=document.createElement("table");u.style.cssText="border:0;border-collapse:collapse;";for(var y,h=document.createElement("tr"),A=document.createElement("td"),k=function(){return A.cloneNode()},M=function(){var L=k();return L.style.cssText=c+"background:"+p,L},T=function(L){for(var X=L.firstChild,f=0;f<i;f++)L.insertBefore(M(),X),L.appendChild(M())},J=0;J<r;J++){var F=h.cloneNode();u.appendChild(F);for(var I=0;I<r;I++)if(1===n[J*r+I]){var P=(y=void 0,(y=k()).style.cssText=c+"background:"+_,y);F.appendChild(P)}else{var te=M();F.appendChild(te)}t.noBorder||T(F)}t.noBorder||function(L){for(var X=L.firstChild,f=0;f<t.borderSize;f++){for(var a=h.cloneNode(),l=0;l<o;l++){var d=M();a.appendChild(d)}L.appendChild(a),L.insertBefore(a.cloneNode(!0),X)}}(u),t.domElement.innerHTML="",t.domElement.appendChild(u)},getContext:function(n){return n.getContext&&n.getContext("2d")?n.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(n){if(this.qrc){var r=this.imageTypes[n];if(!r)throw new Error(n+" is not a valid image type ");var t=new Image;return t.src=this.domElement.toDataURL(r),t}}},w.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],w.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],w.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],w.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],w.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],w.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],w.N1=3,w.N2=3,w.N3=40,w.N4=10;let Me=(()=>{class n{constructor(t,s){this._data=t,this._settings=s,this.space=this._data.space,this.qr_code=function Et(n,r="#fff0",t="#000"){return new w({url:n||"Hello",size:360,colorLight:r,colorDark:t,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI),e.Y36(Ce.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:[[1,"truncate"],[1,"flex-1"],["mat-icon-button","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]],template:function(t,s){1&t&&(e.TgZ(0,"header")(1,"h2",0),e._uU(2),e.qZA(),e._UZ(3,"div",1),e.TgZ(4,"button",2)(5,"app-icon"),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"main",3),e._UZ(8,"img",4),e.qZA()),2&t&&(e.xp6(2),e.hij("Book - ",null==s.space?null:s.space.name,""),e.xp6(6),e.Q6J("src",s.qr_code,e.LSH))},dependencies:[G.o,ee.lW,z.ZT]}),n})();const re={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let Se=(()=>{class n extends C.KG{constructor(t,s,o,i){super(),this._state=t,this._settings=s,this._event_form=o,this._dialog=i,this._bookings={},this._statuses={},this._bind=this._state.spaces.pipe((0,U.U)(c=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this._statuses={},c?.length){for(const p of c){const _=(0,q.rTZ)(p.id,"Bookings");let u=_.binding("bookings");this.subscription(`b-${p.id}`,u.listen().subscribe(y=>this.handleBookingsChange(c,p,y))),this.subscription(`b-bind-${p.id}`,u.bind()),u=_.binding("status"),this.subscription(`s-${p.id}`,u.listen().subscribe(y=>this.handleStatusChange(c,p,y))),this.subscription(`s-bind-${p.id}`,u.bind())}this.updateActions(c),this.updateHoverElements(c)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(t){return"busy"!==this._statuses[t.id]&&t.bookable?(this._event_form.newForm(),this._event_form.form.patchValue({host:(0,C.ar)()?.email,resources:[t]}),this._settings.get("app.events.booking_unavailable")?this._event_form.openEventLinkModal():void this._dialog.open(this._settings.get("app.explore.show_booking_qr")?Me:Ee,{data:{space:t}})):(0,ut.cB)(`${t.display_name||t.name} is unavailable at the current time`)}handleBookingsChange(t,s,o){!o||(this._bookings[s.id]=o.map(i=>new mt.y(i)),this.timeout("update_hover_els",()=>this.updateHoverElements(t),100))}handleStatusChange(t,s,o){this._statuses[s.id]=s.bookable?o||"free":"not-bookable",this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this.updateStatus(t),this.updateHoverElements(t)},100)}updateStatus(t){const s={},o=this._settings.get("app.explore.colors")||{};for(const i of t){const c=this._statuses[i.id]||"not-bookable";s[`#${i.map_id}`]={fill:o[`space-${c}`]||o[`${c}`]||re[`${c}`],opacity:.6}}this._state.setStyles("spaces",s)}updateHoverElements(t){const s=[];for(const o of t)s.push({location:o.map_id,track_id:`${o.map_id}-info-hover`,full_size:!0,no_scale:!0,content:Te,data:{space:new ne.T(o),events:this._bookings[o.id],status:this._statuses[o.id]}});this._state.setFeatures("spaces",s)}updateActions(t){const s=[];for(const o of t)s.push({id:o.map_id,action:"click",callback:()=>this.bookSpace(o)}),s.push({id:o.map_id,action:"touchend",callback:()=>this.bookSpace(o)});this._state.setActions("spaces",s)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N),e.LFG(C.gb),e.LFG(ke.M),e.LFG(z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var St=g(9627);let Ae=(()=>{class n extends C.KG{constructor(t,s,o){super(),this._state=t,this._org=s,this._settings=o,this._statuses={},this._labels={},this._location={},this._capacity={},this._draw={},this._points={},this._bind=this._state.level.pipe((0,U.U)(i=>{if(!i)return;this._statuses={};let c=this._org.binding("area_management");if(!c)return;const p=(0,q.rTZ)(c,"AreaManagement").binding(`${i.id}:areas`);this.subscription("zones",p.listen().subscribe(_=>this.parseData(_))),this.subscription("binding",p.bind())})),this.init()}init(){var t=this;return(0,O.Z)(function*(){yield t._org.initialised.pipe((0,Q.P)(o=>o)).toPromise();const s=yield Promise.all(t._org.levels.map(o=>(0,q.rlq)(o.id,"map_regions").toPromise()));for(const o of s){const i=o?.details?.areas;if(i)for(const c of i){const{capacity:p,hide_label:_,label_location:u,draw_polygon:y}=c.properties||{},{coordinates:h}=c.geometry||{};t._capacity[c.id]=p||100,t._location[c.id]=!1===_?u||(h?.length?Oe(h):null):null,t._draw[c.id]=!!y,t._points[c.id]=h||[]}}t.updateStatus(),t.subscription("bind",t._bind.subscribe())})()}parseData(t){const s=t?.value||[],o=[];for(const i of s){const c=i.count/(this._capacity[i.area_id]||100);if(this._statuses[i.area_id]=c<.4?"free":c<.75?"pending":"busy",!this._location[i.area_id])continue;let p="";i.count&&(p+=`${i.count||0} User Device${1===i.count?"":"s"}\n`),i.temperature&&(p+=`Temperature: ${i.temperature} \u02daC\n`),i.people_count>0&&(p+=`${i.people_count_sum} ${1===i.people_count_sum?"Person":"People"}\n`),i.humidity&&(p+=`Humidity: ${i.humidity}%\n`),i.queue_size&&(p+=`Queue Size: ${i.queue_size}%\n`),i.counter&&(p+=`Count: ${i.counter}\n`),this._labels[i.area_id]={location:this._location[i.area_id],content:p,z_index:100},o.push(this._labels[i.area_id])}this._state.setLabels("zones",o),this.updateStatus()}updateStatus(){const t={},s=[],o=this._settings.get("app.explore.colors")||{};for(const i in this._statuses){const c=o[`zone-${this._statuses[i]}`]||o[`${this._statuses[i]}`]||re[`${this._statuses[i]}`];this._draw[i]?s.push({location:Oe(this._points[i]),content:St.i,data:{color:c,points:this._points[i]},z_index:10}):t[`#${i}`]={fill:c,opacity:.6}}this._state.setFeatures("zones",s),this._state.setStyles("zones",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N),e.LFG(R.w),e.LFG(C.gb))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Oe(n){const r=(n||[]).reduce((t,[s,o])=>({x_min:s<t.x_min?s:t.x_min,x_max:s>t.x_max?s:t.x_max,y_min:o<t.y_min?o:t.y_min,y_max:o>t.y_max?o:t.y_max}),{x_min:100,x_max:-100,y_min:100,y_max:-100});return{x:r.x_min+(r.x_max-r.x_min)/2,y:r.y_min+(r.y_max-r.y_min)/2}}var Ie=g(1810),At=g(9377),Ue=g(3200),Ot=g(312),It=g(8929),Ut=g(354),Lt=g(9502),Ft=g(2306),Dt=g(7303);const Pt=function(){return{standalone:!0}};function qt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"main",5)(1,"div",6)(2,"div",7)(3,"label"),e._uU(4,"Date"),e.qZA(),e.TgZ(5,"a-date-field",8),e._uU(6," Date and time must be in the future "),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",9)(9,"label"),e._uU(10,"Start Time"),e.qZA(),e.TgZ(11,"a-time-field",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.form.patchValue({date:o}))}),e.qZA()(),e.TgZ(12,"div",9)(13,"label"),e._uU(14,"End Time"),e.qZA(),e._UZ(15,"a-duration-field",11),e.qZA()()()}if(2&n){const t=e.oxw();let s;e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("to",t.book_until),e.xp6(6),e.Q6J("ngModel",t.form.value.date)("ngModelOptions",e.DdM(8,Pt)),e.xp6(4),e.Q6J("time",null==(s=t.form.get("date"))?null:s.value)("max",720)("min",60)("step",60)}}let Le=(()=>{class n{constructor(t){this._data=t,this.form=new Z.cw({date:new Z.NI(this._data.date),duration:new Z.NI(this._data.duration)}),this.book_until=this._data.until}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["set-datetime-modal"]],decls:10,vars:2,consts:[["classs","flex items-center justify-between"],["mat-icon-button","","mat-dialog-close",""],["class","w-[24rem] pt-4",3,"formGroup",4,"ngIf"],[1,"w-full","p-2","border-t","border-gray-200","flex","items-center","justify-center"],["mat-button","",1,"w-32",3,"mat-dialog-close"],[1,"w-[24rem]","pt-4",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","space-x-0","sm:space-x-2","w-[640px]","max-w-[calc(100%-2rem)]","mx-auto"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4"],["formControlName","date",3,"to"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/3"],[3,"ngModel","ngModelOptions","ngModelChange"],["formControlName","duration",3,"time","max","min","step"]],template:function(t,s){1&t&&(e.TgZ(0,"header",0)(1,"h2"),e._uU(2,"Set date and time"),e.qZA(),e.TgZ(3,"button",1)(4,"app-icon"),e._uU(5,"close"),e.qZA()()(),e.YNc(6,qt,16,9,"main",2),e.TgZ(7,"footer",3)(8,"button",4),e._uU(9,"Continue"),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngIf",s.form),e.xp6(2),e.Q6J("mat-dialog-close",s.form.value))},dependencies:[E.O5,G.o,ee.lW,z.ZT,Z.JJ,Z.JL,Z.On,Z.sg,Z.u,Ft.Q,we.B,Dt.N]}),n})();function zt(n,r){if(1&n&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.user)}}function Jt(n,r){if(1&n&&(e.TgZ(0,"p",9),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",e.xi3(2,2,t.start,"shortTime")," \u2013 ",e.xi3(3,5,t.end,"shortTime")," ")}}function Bt(n,r){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.TgZ(2,"div",4)(3,"h4",5),e._uU(4),e.qZA(),e.YNc(5,zt,2,1,"p",6),e.YNc(6,Jt,4,8,"p",7),e.qZA()()),2&n){const t=e.oxw();e.Tol("absolute rounded bg-white dark:bg-neutral-800 p-4 top-0 left-0 shadow pointer-events-none "+t.x_pos+" "+t.y_pos),e.Q6J("id",t.map_id),e.xp6(4),e.Oqu(t.name||t.map_id||t.id),e.xp6(1),e.Q6J("ngIf",t.user),e.xp6(1),e.Q6J("ngIf",t.start)}}let Fe=(()=>{class n{constructor(t,s){this._details=t,this._element=s,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end}ngOnInit(t=0){t>10||setTimeout(()=>{const s=this._element.nativeElement.parentElement?.parentElement;if(!s)return this.ngOnInit(++t);const o_y=parseInt(s.style.top,10)/100,o_x=parseInt(s.style.left,10)/100;this.y_pos=o_y>=.5?"bottom":"top",this.x_pos=o_x>=.5?"right":"left"},200)}get available_until(){return""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W.u),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-desk-info"]],decls:3,vars:7,consts:[["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover"],["desk_tooltip",""],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(t,s){if(1&t&&(e._UZ(0,"div",0),e.YNc(1,Bt,7,6,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("content",o)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0),e.uIk("id",s.id)("map_id",s.map_id)}},dependencies:[E.O5,le.X,E.uU],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}\n/*# sourceMappingURL=explore-desk-info.component.ts-angular-inline--45.css.map*/"]}),n})();var Yt=g(8305),Nt=g(8987);const jt=["explore-device-info",""];function Qt(n,r){if(1&n&&(e.TgZ(0,"p",15)(1,"label"),e._uU(2,"Manufacturer:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.manufacturer," ")}}function Rt(n,r){if(1&n&&(e.TgZ(0,"p",16)(1,"label"),e._uU(2,"OS:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.os," ")}}function $t(n,r){if(1&n&&(e.TgZ(0,"p",17)(1,"label"),e._uU(2,"SSID:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.ssid," ")}}function Gt(n,r){if(1&n&&(e.TgZ(0,"p",18)(1,"label"),e._uU(2,"Username:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",(null==t.user?null:t.user.name)||(null==t.user?null:t.user.username)||t.username," ")}}function Vt(n,r){if(1&n&&(e.TgZ(0,"p",19)(1,"label"),e._uU(2,"Type:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.user.type," ")}}function Xt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("mouseleave",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.close())}),e._UZ(1,"div",7),e.TgZ(2,"div",8)(3,"p",9)(4,"label"),e._uU(5,"MAC:"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"p")(8,"label"),e._uU(9,"Accuracy:"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"p")(12,"label"),e._uU(13,"Last Seen:"),e.qZA(),e._uU(14),e.qZA(),e.YNc(15,Qt,4,1,"p",10),e.YNc(16,Rt,4,1,"p",11),e.YNc(17,$t,4,1,"p",12),e.YNc(18,Gt,4,1,"p",13),e.YNc(19,Vt,4,1,"p",14),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.mac,""),e.xp6(4),e.hij(" ",t.variance,"m"),e.xp6(4),e.hij(" ",t.last_seen,""),e.xp6(1),e.Q6J("ngIf",t.manufacturer&&!t.hide_fields.includes("manufacturer")),e.xp6(1),e.Q6J("ngIf",t.os&&!t.hide_fields.includes("os")),e.xp6(1),e.Q6J("ngIf",t.ssid&&!t.hide_fields.includes("ssid")),e.xp6(1),e.Q6J("ngIf",t.username&&!t.hide_fields.includes("username")),e.xp6(1),e.Q6J("ngIf",t.user&&!t.hide_fields.includes("user"))}}const Kt=[];let De=(()=>{class n extends C.KG{constructor(t,s,o){super(),this._details=t,this._settings=s,this._element=o,this.username="",this.user=this._details.user,this.mac=this._details.mac,this.manufacturer=this._details.manufacturer,this.os=this._details.os,this.ssid=this._details.ssid,this.variance=this._details.variance?.toFixed(2),this.bg_color=this._details.bg_color||this.distance_color,this.zoom=1}get hide_fields(){return this._settings.get("app.explore.hide_device_fields")||Kt}get last_seen(){return(0,Yt.Z)(1e3*(this._details.last_seen||0),{addSuffix:!0})}get diameter(){return 100*this._details.variance*this.zoom}get distance(){return Math.abs((0,Nt.Z)(1e3*(this._details.last_seen||0),new Date))}get distance_color(){return this.distance<10?"#43a047":this.distance<20?"#ffb300":"#e53935"}ngOnInit(t=0){t>10||setTimeout(()=>{const s=this._element.nativeElement.parentElement?.parentElement;if(!s)return this.ngOnInit(++t);const o_y=parseInt(s.style.top,10)/100,o_x=parseInt(s.style.left,10)/100;this.y_pos=o_y>=.5?"bottom":"top",this.x_pos=o_x>=.5?"end":"start",this.subscription("zoom",this._details.zoom$.subscribe(i=>this.zoom=i))},200)}loadUser(){var t=this;return(0,O.Z)(function*(){if(t.username)return;const s=(0,q.rTZ)(t._details.system,"LocationServices");if(!s)return;t.username="Loading...";const o=yield s.execute("check_ownership_of",[t.mac]).catch(i=>null);t.username=o&&o.assigned_to?o.assigned_to:""})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W.u),e.Y36(C.gb),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","explore-device-info",""]],features:[e.qOj],attrs:jt,decls:7,vars:9,consts:[["name","radius",1,"radius","absolute","center","bg-blue-600","bg-opacity-25","border-8","border-dashed","border-blue-600","rounded-full"],["shadow","",1,"absolute","center","bg-black/40","h-8","w-8","rounded-full"],["name","dot",1,"h-3","w-3","absolute","center","rounded-full","shadow","border-2","border-white"],["dot",""],["customTooltip","",1,"absolute","inset-0","pointer-events-auto",3,"content","backdrop","xPosition","yPosition","hover","mouseenter"],["device_tooltip",""],["name","device-info",1,"w-64","rounded","bg-white","dark:bg-neutral-800","p-4","top-0","left-0","shadow","pointer-events-none","mx-2",3,"mouseleave"],[1,"arrow"],[1,"details"],[1,"break-words"],["type","",4,"ngIf"],["os","",4,"ngIf"],["ssid","",4,"ngIf"],["username","",4,"ngIf"],["user","",4,"ngIf"],["type",""],["os",""],["ssid",""],["username",""],["user",""]],template:function(t,s){if(1&t&&(e._UZ(0,"div",0)(1,"div",1)(2,"div",2,3),e.TgZ(4,"div",4),e.NdJ("mouseenter",function(){return s.loadUser()}),e.qZA(),e.YNc(5,Xt,20,8,"ng-template",null,5,e.W1O)),2&t){const o=e.MAs(6);e.Akn("height: "+s.diameter+"%; width: "+s.diameter+"%;"),e.xp6(2),e.Udp("background-color",s.bg_color),e.xp6(2),e.Q6J("content",o)("backdrop",!1)("xPosition",s.x_pos)("yPosition",s.y_pos)("hover",!0)}},dependencies:[E.O5,le.X],styles:["[_nghost-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > [name=dot][_ngcontent-%COMP%]{background-color:#616161}[_nghost-%COMP%]:hover > [name=radius][_ngcontent-%COMP%]{opacity:1}[name=radius][_ngcontent-%COMP%]{opacity:0;transition:opacity .2s;pointer-events:none}\n/*# sourceMappingURL=explore-device-info.component.ts-angular-inline--46.css.map*/"]}),n})(),Pe=(()=>{class n extends C.KG{constructor(t,s,o,i,c){super(),this._state=t,this._org=s,this._settings=o,this._bookings=i,this._dialog=c,this._in_use=new S.X([]),this._options=new S.X({}),this._presence=new S.X([]),this._signs_of_life=new S.X([]),this._statuses={},this._users={},this._poll=new S.X(0),this._checked_in=new S.X([]),this._desk_bookings=(0,Y.aj)([this._state.level,this._poll]).pipe((0,V.w)(([p])=>(0,Ut.F2)({period_start:(0,Ie.Z)((0,At.Z)(new Date)),period_end:(0,Ie.Z)((0,Ue.Z)(new Date)),type:"desk",zones:p.id})),(0,H.d)(1)),this.desk_list=this._state.level.pipe((0,V.w)(p=>(0,q.rlq)(p.id,"desks").pipe((0,U.U)(_=>(_.details instanceof Array?_.details:[]).map(u=>new Lt.n({...u,zone:p}))))),(0,K.K)(p=>[]),(0,H.d)(1)),this._bind=this._state.level.pipe((0,U.U)(p=>{if(this._statuses={},this.unsubWith("lvl"),!p)return;const _=this._org.binding("area_management");if(!_)return;let u=(0,q.rTZ)(_,"AreaManagement").binding(p.id);this.subscription("lvl-in_use",u.listen().subscribe(y=>this.processBindingChange(y||{},_))),this.subscription("lvl-in_use_bind",u.bind())})),this._state_change=(0,Y.aj)([this.desk_list,this._in_use,this._presence,this._checked_in,this._signs_of_life,this._options]).pipe((0,U.U)(([p,_,u,y,h])=>{this._statuses={};for(const{id:A,bookable:k}of p){const M=_.some(I=>A===I),T=u.some(I=>A===I),J=h.some(I=>A===I),F=y.some(I=>A===I);this._statuses[A]=k?M||T||F?T||F?"busy":"pending":J?"signs-of-life":"free":"not-bookable"}this.processDesks(p)})),this.init()}init(){var t=this;return(0,O.Z)(function*(){yield t._org.initialised.pipe((0,Q.P)(s=>s)).toPromise(),t.setOptions({enable_booking:!1!==t._settings.get("app.desks.enable_maps")}),t.subscription("bind",t._bind.subscribe()),t.subscription("changes",t._state_change.subscribe()),t.subscription("desks",t.desk_list.subscribe(s=>t.processDesks(s)))})()}startPolling(t=1e4){return this.subscription("desks_in_use_bookings",this._desk_bookings.subscribe(s=>{const o=s.filter(i=>!(i.rejected||i.deleted||"ended"===i.extension_data.current_state));this._in_use.next(o.map(i=>i.asset_id)),this._checked_in.next(o.filter(i=>i.checked_in).map(i=>i.asset_id))})),this.interval("poll",()=>this._poll.next((new Date).valueOf()),t),()=>this.stopPolling()}stopPolling(){this.clearInterval("poll")}setOptions(t){this._options.next({...this._options.getValue(),...t})}processBindingChange({value:t},s){const o=(t||[]).filter(c=>!["desk","booking"].includes(c.location)),i=(t||[]).filter(c=>"desk"===c.location||"booking"===c.location&&"desk"===c.type);this._presence.next(i.filter(c=>c.at_location).map(c=>c.map_id||c.asset_id)),this._signs_of_life.next(i.filter(c=>c.signs_of_life).map(c=>c.map_id||c.asset_id)),this.processDevices(o,s),this.timeout("update",()=>this.updateStatus(),100)}updateStatus(){const t={},s=this._settings.get("app.explore.colors")||{};for(const o in this._statuses)!this._statuses[o]||(t[`#${o}`]={fill:s[`desk-${this._statuses[o]}`]||s[`${this._statuses[o]}`]||re[`${this._statuses[o]}`]});this._state.setStyles("desks",t)}processDevices(t,s){const o=[];for(const i of t){const c=i.x/i.map_width,p=i.y/i.map_height;o.push({location:{x:i.coordinates_from?.includes("right")?1-c:c,y:i.coordinates_from?.includes("bottom")?1-p:p},content:De,z_index:20,data:{...i,system:s}})}this._state.setFeatures("devices",o)}processDesks(t){var s=this;const o=[],i=[],c=this._options.getValue();for(const p of t){if(o.push({location:p.id,content:Fe,full_size:!0,no_scale:!0,data:{id:p.map_id||p.id,map_id:p.name,name:p.name||p.map_id,user:this._users[p.map_id]||p.staff_name,status:this._statuses[p.map_id]},z_index:20}),!p.bookable)continue;const _=function(){var u=(0,O.Z)(function*(){s._bookings.newForm(),s._bookings.setOptions({type:"desk"});const{date:y,duration:h}=yield s._setBookingTime(s._bookings.form.value.date,s._bookings.form.value.duration);s._bookings.form.patchValue({asset_id:p.id,asset_name:p.name,date:y,duration:h,map_id:p?.map_id||p?.id,description:p.name,user:c.host||(0,C.ar)(),booking_type:"desk",zones:p.zone?[p.zone?.parent_id,p.zone?.id]:[]}),yield s._bookings.confirmPost(),s._users[p.map_id]=(c.host||(0,C.ar)())?.name,(0,C.t5)(`Successfull booked desk ${p.name||p.id}`)});return function(){return u.apply(this,arguments)}}();i.push({id:p.id,action:"click",callback:_}),i.push({id:p.id,action:"touchend",callback:_})}this._state.setActions("desks",this._options.getValue().enable_booking?i:[]),this._state.setFeatures("desks",o),this.timeout("update",()=>this.updateStatus(),100)}_setBookingTime(t,s){var o=this;return(0,O.Z)(function*(){if(o._settings.get("app.desks.allow_time_changes")){const i=(0,Ue.Z)((0,Ot.Z)(Date.now(),o._settings.get("app.desks.available_period")||90)),p=yield o._dialog.open(Le,{data:{date:t,duration:s,until:i}}).afterClosed().toPromise();if(!p)throw"User cancelled";t=p.date,s=p.duration}return{date:t,duration:s}})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N),e.LFG(R.w),e.LFG(C.gb),e.LFG(It.f),e.LFG(z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._state=t,this.zoomIn=()=>this._state.setPositions(Math.min(10,1.2*this._state.positions.zoom),this._state.positions.center),this.zoomOut=()=>this._state.setPositions(Math.max(1,this._state.positions.zoom*(1/1.2)),this._state.positions.center),this.reset=()=>this._state.setPositions(1,{x:.5,y:.5})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-zoom-controls"]],decls:9,vars:0,consts:[["z-in","","mat-icon-button","",1,"bg-white","dark:bg-neutral-800",3,"click"],["z-out","","mat-icon-button","",1,"bg-white","dark:bg-neutral-800",3,"click"],["reset","","mat-icon-button","",1,"bg-white","dark:bg-neutral-800",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return s.zoomIn()}),e.TgZ(1,"app-icon"),e._uU(2,"add"),e.qZA()(),e.TgZ(3,"button",1),e.NdJ("click",function(){return s.zoomOut()}),e.TgZ(4,"app-icon"),e._uU(5,"remove"),e.qZA()(),e.TgZ(6,"button",2),e.NdJ("click",function(){return s.reset()}),e.TgZ(7,"app-icon"),e._uU(8,"autorenew"),e.qZA()())},dependencies:[G.o,ee.lW],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border:1px solid #9998;border-radius:0}button[_ngcontent-%COMP%]:first-child{border-radius:.25rem .25rem 0 0;border-bottom:none}button[_ngcontent-%COMP%]:last-child{border-radius:0 0 .25rem .25rem;border-top:none}\n/*# sourceMappingURL=explore-zoom-control.component.ts-angular-inline--49.css.map*/"]}),n})();function Ht(n,r){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"div",10),e.TgZ(2,"div",11),e._uU(3),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Udp("background-color",t[1]),e.xp6(2),e.Oqu(t[0])}}function Wt(n,r){if(1&n&&(e.TgZ(0,"div",7)(1,"h3",8),e._uU(2,"Legend"),e.qZA(),e.YNc(3,Ht,4,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.legend)}}const eo=[];let ze=(()=>{class n extends C.KG{constructor(t,s,o,i,c,p,_,u,y,h){super(),this._state=t,this._s=s,this._desks=o,this._zones=i,this._route=c,this._router=p,this._spaces=_,this._org=u,this._settings=y,this._space_pipe=h,this.url=this._state.map_url,this.styles=this._state.map_styles,this.positions=this._state.map_positions,this.features=this._state.map_features,this.actions=this._state.map_actions,this.labels=this._state.map_labels,this.options=this._state.options,this.message=this._state.message,this.setOptions=A=>this._state.setOptions(A)}toggleZones(t){var s=this;return(0,O.Z)(function*(){const o=yield s.options.pipe((0,pt.q)(1)).toPromise(),i=t?o.disable?.filter(c=>"zones"!==c&&"devices"!==c)||[]:(0,C.Tw)([...o.disable||[],"zones","devices"]);s.setOptions({disable:i})})()}get show_legend(){return!!this._settings.get("app.explore.show_legend")}get legend(){return this._settings.get("app.explore.legend")||eo}ngOnInit(){var t=this;return(0,O.Z)(function*(){t._state.reset(),yield t._spaces.initialised.pipe((0,Q.P)(s=>s)).toPromise(),t.toggleZones(!1),t.subscription("desks",t._desks.startPolling()),t.subscription("route.query",t._route.queryParamMap.subscribe(function(){var s=(0,O.Z)(function*(o){if(o.has("level")&&t._state.setLevel(o.get("level")),t._state.setFeatures("_located",[]),o.has("space"))t.locateSpace(o.get("space"));else if(o.has("user")){let i=t._settings.value("last_search");if((!i||o.get("user")!==i.email)&&(i=null,i=yield(0,xe.w0)(o.get("user")).toPromise()),!i)return(0,C.cB)(`Unable to user details for ${o.get("user")}`);t.locateUser(i instanceof Array?i[0]:i).catch(c=>{(0,C.cB)(`Unable to locate ${o.get("user")}`),t._router.navigate([],{relativeTo:t._route,queryParams:{}})})}else o.has("locate")?t._locateFeature(o.get("locate"),o.get("name")):t.timeout("update_location",()=>{t._state.setFeatures("_located",[])})});return function(o){return s.apply(this,arguments)}}()))})()}_locateFeature(t,s=""){const o=t.includes(","),i=t.split(","),c={track_id:`locate-${t}`,location:o?{x:parseFloat(i[0]),y:parseFloat(i[1])}:t,content:ae.q,z_index:99,data:{message:s}};this.timeout("update_location",()=>this._state.setFeatures("_located",[c]))}locateSpace(t){var s=this;return(0,O.Z)(function*(){const o=yield s._space_pipe.transform(t);if(!o)return;s._state.setLevel(s._org.levelWithID(o.zones)?.id);const i={track_id:`locate-${o.id}`,location:o.map_id,content:ae.q,z_index:99,data:{message:`${o.display_name||o.name} is here`}};s.timeout("update_location",()=>s._state.setFeatures("_located",[i]))})()}locateUser(t){var s=this;return(0,O.Z)(function*(){let o=s._org.binding("location_services");if(!o)return;"string"==typeof o&&(o={system_id:o,module:"LocationServices"});const c=(yield(0,q.rTZ)(o.system_id,o.module).execute("locate_user",[t.email,t.username||t.id])).map(y=>new xe.Y(y));if(c.sort((y,h)=>o.priority.indexOf(y.type)-o.priority.indexOf(h.type)),!c?.length)throw"No locations for the given user";s._state.setLevel(s._org.levelWithID([c[0]?.level])?.id);const p=c[0].position,{coordinates_from:_}=c[0],u={track_id:`locate-${t.id}`,location:"wireless"===c[0].type?{x:_?.includes("right")?1-p.x:p.x,y:_?.includes("bottom")?1-p.y:p.y}:p,content:"wireless"===c[0].type?dt.n:ae.q,z_index:99,data:{message:`${t.name} is here`,radius:c[0].variance,last_seen:c[0].last_seen}};s.timeout("update_location",()=>{s._state.setFeatures("_located",[u])})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N),e.Y36(Se),e.Y36(Pe),e.Y36(Ae),e.Y36(B.gz),e.Y36(B.F0),e.Y36(be.s),e.Y36(R.w),e.Y36(C.gb),e.Y36(ye.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["explore-map-view"]],features:[e._Bn([Se,Pe,Ae,ye.X]),e.qOj],decls:17,vars:25,consts:[[3,"src","zoom","center","styles","features","actions","labels"],[1,"absolute","bottom-2","right-2"],["controls","",1,"absolute","top-2","left-2","bg-white","dark:bg-neutral-800","border","border-gray-200","dark:border-neutral-500","rounded","p-2","space-y-2"],[1,"flex","items-center","space-x-2"],["name","zones",1,"ml-2",3,"ngModel","ngModelChange"],["for","zones",1,"mb-0"],["legend","","class","absolute bottom-2 left-2 p-2 rounded bg-white dark:bg-neutral-800 border border-gray-300",4,"ngIf"],["legend","",1,"absolute","bottom-2","left-2","p-2","rounded","bg-white","dark:bg-neutral-800","border","border-gray-300"],[1,"mb-2","font-medium"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","border","border-gray-400"],[1,"text-sm"]],template:function(t,s){if(1&t&&(e._UZ(0,"i-map",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e._UZ(8,"explore-zoom-controls",1),e.TgZ(9,"div",2),e._UZ(10,"explore-map-controls"),e.TgZ(11,"div",3)(12,"mat-slide-toggle",4),e.NdJ("ngModelChange",function(i){return s.toggleZones(i)}),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"label",5),e._uU(15,"Zones"),e.qZA()()(),e.YNc(16,Wt,4,1,"div",6)),2&t){let o,i,c;e.Q6J("src",e.lcZ(1,9,s.url))("zoom",null==(o=e.lcZ(2,11,s.positions))?null:o.zoom)("center",null==(i=e.lcZ(3,13,s.positions))?null:i.center)("styles",e.lcZ(4,15,s.styles))("features",e.lcZ(5,17,s.features))("actions",e.lcZ(6,19,s.actions))("labels",e.lcZ(7,21,s.labels)),e.xp6(12),e.Q6J("ngModel",!(null!=(c=e.lcZ(13,23,s.options))&&null!=c.disable&&c.disable.includes("zones"))),e.xp6(4),e.Q6J("ngIf",s.show_legend&&s.legend.length)}},dependencies:[E.sg,E.O5,W.p,Z.JJ,Z.On,he,ve,qe,E.Ov],styles:["[_nghost-%COMP%]{height:100%;width:100%}[zones][_ngcontent-%COMP%]{top:3.5rem}\n/*# sourceMappingURL=explore-map-view.component.ts-angular-inline--47.css.map*/"]}),n})();g(8759),g(9012),g(4618),g(8550);let co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[E.ez,me.Kk,Z.u5,Z.UX,et,tt.U8,ot.eL,st.W]}),n})();var po=g(8215),uo=g(6221),mo=g(3925);function go(n,r){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Udp("background-color",t.colour),e.ekj("dark",t.dark),e.xp6(1),e.hij(" ",t.name," ")}}function _o(n,r){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-icon",11),e.TgZ(2,"div",12),e._uU(3),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("icon",t.icon),e.xp6(2),e.hij(" ",t.name," ")}}let ho=(()=>{class n{constructor(){this.colours=[{id:"in-use",name:"In Use",colour:"#C52A1A",dark:!0},{id:"available",name:"Available",colour:"#22992E",dark:!0},{id:"not-bookable",name:"Not Bookable",colour:"#7D7D7D",dark:!0},{id:"collab",name:"Collaborative",colour:"#FED769"},{id:"focus",name:"Focus",colour:"#F5A478"}],this.icon_list=[{id:"",name:"Lifts Up/Down",icon:{type:"img",src:"assets/img/lift.svg"}},{id:"",name:"Fire Extinguisher",icon:{type:"img",src:"assets/img/fireExt.svg"}},{id:"",name:"First Aid & AED",icon:{type:"img",src:"assets/img/aid.svg"}},{id:"",name:"Cafe/Service",icon:{type:"img",src:"assets/img/Cafe.svg"}},{id:"",name:"Mail/Noticeboard",icon:{type:"img",src:"assets/img/mail.svg"}},{id:"",name:"Restrooms M/F",icon:{type:"img",src:"assets/img/Restrooms.svg"}},{id:"",name:"Map Kiosk",icon:{type:"img",src:"assets/img/kiosk.svg"}},{id:"",name:"Screen",icon:{type:"img",src:"assets/img/Screen.svg"}},{id:"",name:"Projector",icon:{type:"img",src:"assets/img/Projector.svg"}},{id:"",name:"Showers",icon:{type:"img",src:"assets/img/shower.svg"}},{id:"",name:"Chairs",icon:{type:"img",src:"assets/img/chair.svg"}},{id:"",name:"Chairs",icon:{type:"img",src:"assets/img/chair2.svg"}},{id:"",name:"Chairs/Couch",icon:{type:"img",src:"assets/img/couch.svg"}},{id:"",name:"Chairs/Couch",icon:{type:"img",src:"assets/img/couch2.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table1.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table2.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table3.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table4.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table5.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table6.svg"}},{id:"",name:"Tables",icon:{type:"img",src:"assets/img/Table7.svg"}},{id:"",name:"Funzone Games",icon:{type:"img",src:"assets/img/Tennis.svg"}},{id:"",name:"Concierge Pods",icon:{type:"img",src:"assets/img/Pod.svg"}},{id:"",name:"Phone Booths",icon:{type:"img",src:"assets/img/booth.svg"}}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["a-footer-legend"]],decls:12,vars:4,consts:[[1,"relative","bg-white","shadow","w-full"],[1,"absolute","top-0","left-1/2","transform","-translate-y-full","-translate-x-1/2","px-2","pt-2","overflow-hidden"],["matRipple","",1,"flex","items-center","justify-center","bg-white","shadow","rounded-t","w-32","h-8","border-none","text-black",3,"click"],[1,"flex","items-center","px-2","py-1","text-xl"],[1,"flex-1"],[1,"flex","items-center","justify-center","p-2","border","border-gray-100","space-x-2"],["class","colour px-4 py-2 rounded shadow flex-1 text-center",3,"dark","background-color",4,"ngFor","ngForOf"],["icon-legend","",1,"flex","justify-center","flex-wrap","h-0","w-full","border","border-gray-100","overflow-auto","max-h-[25vh]"],["class","flex flex-col items-center justify-center h-[12.4vw] w-[12.4vw] text-[2vw] border border-gray-100 flex-grow",4,"ngFor","ngForOf"],[1,"colour","px-4","py-2","rounded","shadow","flex-1","text-center"],[1,"flex","flex-col","items-center","justify-center","h-[12.4vw]","w-[12.4vw]","text-[2vw]","border","border-gray-100","flex-grow"],[1,"text-[3em]",3,"icon"],[1,"text-[0.625em]","font-normal"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return s.show=!s.show}),e.TgZ(3,"app-icon"),e._uU(4,"keyboard_arrow_up"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4),e._uU(7,"Keys"),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,go,2,5,"div",6),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,_o,4,2,"div",8),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",s.colours),e.xp6(1),e.ekj("show",s.show),e.xp6(1),e.Q6J("ngForOf",s.icon_list))},dependencies:[E.sg,G.o,D.wG],styles:["[_nghost-%COMP%]{width:100%;z-index:10;font-size:1.25em}.colour.dark[_ngcontent-%COMP%]{color:#fff}[icon-legend][_ngcontent-%COMP%]{transition:height .2s}[icon-legend].show[_ngcontent-%COMP%]{height:37.5vw!important}\n/*# sourceMappingURL=footer-legend.component.ts-angular-inline--51.css.map*/"]}),n})(),Je=(()=>{class n extends C.KG{constructor(t,s,o,i,c){super(),this._org=t,this._settings=s,this._state=o,this._router=i,this._dialog=c,this.reset_delay=180,this.onMouse=()=>this.timeout("reset",()=>this.resetKiosk(),1e3*this.reset_delay),this.onTouch=()=>this.timeout("reset",()=>this.resetKiosk(),1e3*this.reset_delay)}ngOnInit(){this._settings.title="Explore",this.reset_delay=this._settings.get("app.inactivity_timeout_secs")||180;const t=localStorage?.getItem("KIOSK.level");t?(this._state.setLevel(t),this.onMouse()):this._router.navigate(["/bootstrap"])}get emergency_phone(){const t=localStorage.getItem("KIOSK.level"),s=this._org.levelWithID([t]);if(!s)return;const o=this._org.buildings.find(i=>i.id===s.parent_id);return o?o.phone_numbers.emergency||"":void 0}resetKiosk(){(0,C.cM)("EXPLORE","Refreshing kiosk..."),document.activeElement?.blur&&document.activeElement?.blur();const t=localStorage.getItem("KIOSK.level");this._state.setPositions(1,{x:.5,y:.5}),t&&this._state.setLevel(t),this._dialog.closeAll(),this._settings.post("KIOSK.reset",Date.now())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(uo.w7),e.Y36(C.gb),e.Y36(N),e.Y36(B.F0),e.Y36(z.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-explore"]],hostBindings:function(t,s){1&t&&e.NdJ("mousedown",function(){return s.onMouse()},!1,e.Jf7)("touchstart",function(){return s.onTouch()},!1,e.Jf7)},features:[e.qOj],decls:6,vars:0,consts:[[1,"flex","flex-1","w-full","relative"],[1,"flex","w-full"]],template:function(t,s){1&t&&(e.TgZ(0,"header"),e._UZ(1,"a-topbar-header"),e.qZA(),e.TgZ(2,"main",0),e._UZ(3,"explore-map-view"),e.qZA(),e.TgZ(4,"footer",1),e._UZ(5,"a-footer-legend"),e.qZA())},dependencies:[mo.B,ze,ho],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;display:flex;flex-direction:column}\n/*# sourceMappingURL=explore.component.ts-angular-inline--50.css.map*/"]}),n})();var fo=g(2487);const bo=[{path:"",component:Je},{path:":search_type",component:Je}];let vo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[E.ez,B.Bz.forChild(bo),me.Kk,po.YR,fo.q,Z.u5,co]}),n})()}}]);
//# sourceMappingURL=apps_visitor-kiosk_src_app_explore_explore_module_ts.js.map