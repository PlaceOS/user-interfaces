(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([[792],{4003:(Ot,ve,s)=>{"use strict";s.d(ve,{H:()=>O});var e=s(3953),n=s(1168),d=s(1406),h=s(906),g=s(3601),b=s(5705),E=s(9255),_=s(7926),u=s(9824),I=s(2544),k=s(4903),y=s(2357),x=s(2037),M=s(177);const B=["overlay"],K=()=>[];function P(W,U){if(1&W&&(e.j41(0,"div",15)(1,"span"),e.EFF(2),e.k0s()()),2&W){const $=e.XpG().$implicit;e.R7$(2),e.JRh($.short)}}function j(W,U){if(1&W&&(e.j41(0,"div",13),e.DNE(1,P,3,1,"div",14),e.k0s()),2&W){const $=U.$implicit;e.R7$(),e.Y8G("ngIf",$.hour)}}function S(W,U){if(1&W){const $=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){const ie=e.eBV($).$implicit,me=e.XpG();return e.Njj(me.setTime(ie))}),e.nrm(1,"div",17),e.k0s()}if(2&W){const $=U.$implicit;e.AVh("unavailable",$.unavailable),e.R7$(),e.AVh("hour",$.hour)("divider",$.divider)}}function w(W,U){if(1&W&&e.nrm(0,"div",18),2&W){const $=e.XpG();e.xc7("left",$.vertical?"":100*$.model.today+"%")("top",$.vertical?100*$.model.today+"%":"")}}function m(W,U){if(1&W){const $=e.RV6();e.j41(0,"div",19)(1,"div",20),e.bIt("mousedown",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("start"))})("touchstart",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("start"))}),e.k0s(),e.j41(2,"div",21),e.bIt("mousedown",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("start"))})("touchstart",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("start"))}),e.k0s(),e.j41(3,"div",22),e.bIt("mousedown",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("end"))})("touchstart",function(){e.eBV($);const ie=e.XpG();return e.Njj(ie.setMove("end"))}),e.k0s()()}if(2&W){const $=e.XpG();e.xc7("left",$.vertical?"":100*$.model.start_time+"%")("top",$.vertical?100*$.model.start_time+"%":"")("width",$.vertical?"":100*$.model.duration+"%")("height",$.vertical?100*$.model.duration+"%":"")}}function v(W,U){if(1&W){const $=e.RV6();e.j41(0,"div",26),e.bIt("click",function(){e.eBV($);const ie=e.XpG().$implicit;return e.Njj(ie.remove())}),e.j41(1,"i",27),e.EFF(2,"close"),e.k0s()()}}function A(W,U){if(1&W&&(e.j41(0,"div",29)(1,"div",24),e.EFF(2),e.k0s()()),2&W){const $=U.$implicit,te=e.XpG(3);e.xc7("width",te.vertical?"":$.duration/5*100+"%")("height",te.vertical?$.duration/5*100+"%":""),e.R7$(2),e.JRh($.text)}}function L(W,U){if(1&W&&(e.j41(0,"div",13),e.DNE(1,A,3,5,"div",28),e.k0s()),2&W){const $=U.$implicit;e.R7$(),e.Y8G("ngForOf",$.events)}}function G(W,U){if(1&W&&(e.j41(0,"div",23)(1,"div",3)(2,"div",24),e.EFF(3),e.k0s(),e.DNE(4,v,3,0,"div",25),e.k0s(),e.j41(5,"div",4),e.DNE(6,L,2,1,"div",5),e.k0s()()),2&W){const $=U.$implicit;e.AVh("divider",$.divider),e.R7$(3),e.JRh($.name),e.R7$(),e.Y8G("ngIf",$.remove),e.R7$(2),e.Y8G("ngForOf",$.blocks)}}let O=(()=>{class W extends n.Tv{constructor(){super(...arguments),this.date=Date.now(),this.duration=30,this.can_select=!0,this.dateChange=new e.bkB,this.durationChange=new e.bkB,this.groupsChange=new e.bkB,this.vertical=!1,this.model={}}ngOnInit(){this.model.start=(0,d.h)(this.date,{hours:6,minutes:30}),this.model.end=(0,d.h)(this.date,{hours:21,minutes:30}),this.generateBlocks(),this.updateTime(),this.interval("timer",()=>this.updateTime(),6e4);const $=Date.now(),te=(0,h.f)((0,g.o)($),1).valueOf();this.timeout("update_date",()=>{this.updateStartEnd(),this.interval("update_date",()=>this.updateStartEnd(),864e5)},Math.floor((0,b.O)(te,$)))}ngOnChanges($){$.groups&&this.processGroups(),($.date||$.duration)&&this.updateStartEnd()}updateStartEnd(){this.model.start=(0,d.h)(this.date,{hours:6,minutes:30}),this.model.end=(0,d.h)(this.date,{hours:21,minutes:30}),this.updatePeriod(),this.updateTime()}generateBlocks(){const te=this.model.end,ie=[];for(let me=this.model.start;me.isBefore(te);me=me.add(5,"m"))ie.push({id:me.format("HH:mm"),display:me.format("hh:00 a"),short:me.format("hh a"),hour:0===me.minute(),divider:me.minute()%30==0});this.model.blocks=ie}processGroups(){this.timeout("process",()=>{this.model.groups=[];const $=this.model.start,te=this.model.end;for(const ie of this.groups||[]){const me=[];for(let Y=$;(0,E.Y)(Y,te);Y=(0,_.z)(Y,5).valueOf()){const F=(0,_.z)(Y,5);let N=[];ie.events&&(N=ie.events.filter(J=>{const ae=(0,d.h)(this.date,{hours:Math.floor(J.start),minutes:Math.floor(60*J.start%60)});return((0,u.d)(ae,Y)||(0,I.H)(ae,Y))&&(0,E.Y)(ae,F)})),me.push({id:Y.format("HH:mm"),events:N})}this.model.groups.push({...ie,blocks:me})}this.checkInUseBlocks()},20)}checkInUseBlocks(){if(!this.model.blocks)return;const $=this.model.blocks.map(te=>({...te,unavailable:!1}));for(const te of this.model.groups)for(const ie of te.events||[]){const me=this.hoursToDate(ie.start),Y=(0,_.z)(me,ie.duration);for(let F=me;(0,E.Y)(F,Y);F=(0,_.z)(F,5).valueOf()){const N=(0,k.GP)(F,"HH:mm"),J=$.find(ae=>ae.id===N);J&&(J.unavailable=!0)}}this.model.blocks=$}hoursToDate($){let te=(0,d.h)((0,g.o)(Date.now()),{hours:Math.floor($),minutes:Math.floor(60*$%60)});return te=(0,d.h)(te,{minutes:5*Math.floor(te.getMinutes()/5)}),te.valueOf()}timeToDate($){const te=$.split(":");let ie=(0,d.h)((0,g.o)(Date.now()),{hours:+te[0],minutes:+te[1]});return ie=(0,d.h)(ie,{minutes:5*Math.floor(ie.getMinutes()/5)}),ie.valueOf()}updatePeriod(){const $=(0,y.c)(this.date),te=(0,x.o)(this.model.end,this.model.start)/60;this.model.start_time=(0,x.o)($,this.model.start)/60/te,this.model.duration=this.duration/60/te}updateTime(){const $=(0,y.c)(Date.now()),te=(0,x.o)(this.model.end,this.model.start)/60;this.model.today=(0,x.o)($,this.model.start)/60/te}resetMove(){this.model.move=""}setMove($){this.model.move=$}setTime($){if(!$)return;const te=$.id.split(":"),ie=(0,d.h)(this.date,{hours:+te[0],minutes:+te[1]});this.date=ie.valueOf(),this.dateChange.emit(this.date),this.updatePeriod()}move($){this.timeout("move",()=>{if(this.model.move&&this.content){const te={x:$.touches&&$.touches.length>0&&$.touches[0].clientX||$.clientX,y:$.touches&&$.touches.length>0&&$.touches[0].clientY||$.clientY},ie=this.content.nativeElement.getBoundingClientRect(),F=this.vertical?(te.y-ie.top)/ie.height:(te.x-ie.left)/ie.width,N=this.model.start.hour()+this.model.start.minute()/60,ae=this.model.end.hour()+this.model.end.minute()/60-N,_e=15,xe=Math.ceil((ae*F+N)*(60/_e))/(60/_e);if("end"===this.model.move){let Fe=this.date;const Ae=(0,d.h)(this.date,{hours:Math.floor(xe),minutes:Math.floor(60*xe%60)});if((0,I.H)(Ae,Fe)||(0,E.Y)(Ae,Fe))Fe=(0,_.z)(Ae,-this.duration).valueOf();else{const Ye=Math.floor((0,x.o)(Ae,Fe));this.duration=Math.max(60,Ye||_e),this.durationChange.emit(this.duration)}}else if("start"===this.model.move){const Fe=(0,d.h)(this.date,{hours:Math.floor(xe),minutes:Math.floor(60*xe%60)});this.date=Fe.valueOf()}this.dateChange.emit(this.date),this.updatePeriod()}},10)}static#e=this.\u0275fac=(()=>{let $;return function(ie){return($||($=e.xGo(W)))(ie||W)}})();static#t=this.\u0275cmp=e.VBU({type:W,selectors:[["event-timeline"]],viewQuery:function(te,ie){if(1&te&&e.GBs(B,5),2&te){let me;e.mGM(me=e.lsd())&&(ie.content=me.first)}},inputs:{groups:"groups",date:"date",duration:"duration",can_select:"can_select",klass:"klass"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.Vt3,e.OA$],decls:15,vars:10,consts:[["overlay",""],[1,"times",3,"mouseup","touchend"],[1,"row","divider"],[1,"header"],[1,"line"],["class","mini-block",4,"ngFor","ngForOf"],[1,"content"],[1,"overlay","row"],[1,"line",3,"mousemove","touchmove"],["class","mini-block",3,"unavailable","click",4,"ngFor","ngForOf"],["class","current-time",3,"left","top",4,"ngIf"],["class","selected-time",3,"left","top","width","height",4,"ngIf"],["class","row",3,"divider",4,"ngFor","ngForOf"],[1,"mini-block"],["class","time",4,"ngIf"],[1,"time"],[1,"mini-block",3,"click"],[1,"bar"],[1,"current-time"],[1,"selected-time"],[1,"inner",3,"mousedown","touchstart"],[1,"knob","start",3,"mousedown","touchstart"],[1,"knob","end",3,"mousedown","touchstart"],[1,"row"],[1,"text"],["class","icon",3,"click",4,"ngIf"],[1,"icon",3,"click"],[1,"material-icons"],["class","item",3,"width","height",4,"ngFor","ngForOf"],[1,"item"]],template:function(te,ie){if(1&te){const me=e.RV6();e.j41(0,"div")(1,"div",1),e.bIt("mouseup",function(){return e.eBV(me),e.Njj(ie.resetMove())},!1,e.tSv)("touchend",function(){return e.eBV(me),e.Njj(ie.resetMove())},!1,e.tSv),e.j41(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.DNE(5,j,2,1,"div",5),e.k0s()()(),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",3),e.j41(9,"div",8,0),e.bIt("mousemove",function(F){return e.eBV(me),e.Njj(ie.move(F))})("touchmove",function(F){return e.eBV(me),e.Njj(ie.move(F))}),e.DNE(11,S,2,6,"div",9)(12,w,1,4,"div",10)(13,m,4,8,"div",11),e.k0s()(),e.DNE(14,G,7,5,"div",12),e.k0s()()}2&te&&(e.HbH("event-timeline"+(ie.klass?" "+ie.klass:"")),e.R7$(5),e.Y8G("ngForOf",ie.model.blocks||e.lJ4(7,K)),e.R7$(6),e.Y8G("ngForOf",ie.model.blocks||e.lJ4(8,K)),e.R7$(),e.Y8G("ngIf",ie.model.today>0),e.R7$(),e.Y8G("ngIf",ie.can_select),e.R7$(),e.Y8G("ngForOf",ie.model.groups||e.lJ4(9,K)))},dependencies:[M.Sq,M.bT],styles:["[_nghost-%COMP%]{height:100%;width:100%}.times[_ngcontent-%COMP%]{position:sticky;top:0;left:0;overflow:auto;border:1px solid #ccc}.content[_ngcontent-%COMP%]{position:relative;overflow:auto;border:1px solid #ccc;border-top:none}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-top:1px solid #ccc}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-child{border-top:none}.content[_ngcontent-%COMP%]   .ovrelay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{overflow:auto}.row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;min-width:100%;min-height:2.5em;z-index:0}.row.divider[_ngcontent-%COMP%]{background-color:#f0f0f0;z-index:2}.overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;pointer-events:none;background:none;border:none;z-index:1}.overlay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{pointer-events:auto}.overlay[_ngcontent-%COMP%]   .mini-block.unavailable[_ngcontent-%COMP%]{background-color:#0000000d}.overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]:first-child{opacity:0}.overlay[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%}.overlay[_ngcontent-%COMP%]   .bar.hour[_ngcontent-%COMP%]{border-left-style:solid}.overlay[_ngcontent-%COMP%]   .bar.divider[_ngcontent-%COMP%]{border-left:1px dashed rgba(0,0,0,.05)}.line[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1;min-width:10em;height:100%;overflow:hidden;pointer-events:none}.time[_ngcontent-%COMP%]{position:absolute;left:0;bottom:.5em;transform:translate(-50%);display:flex;align-items:center;white-space:nowrap}.header[_ngcontent-%COMP%]{position:sticky;display:flex;align-items:center;top:0;left:0;bottom:0;width:10em;border-right:1px solid #ccc;min-height:2.5em}.header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:.5em}.vertical[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;min-width:0;min-height:100%}.vertical[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{min-height:4px;min-width:2.5em}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]{inset:auto 0;border:none;border-top:2px solid var(--s);border-bottom:2px solid var(--s);pointer-events:auto}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:0;left:1em;transform:translateY(calc(-50% - 1px));cursor:ns-resize}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 1em 0 auto;transform:translateY(calc(50% + 1px))}.vertical[_ngcontent-%COMP%]   .curent-time[_ngcontent-%COMP%]{inset:auto 0;width:auto;height:2px;background-color:var(--s)}.mini-block[_ngcontent-%COMP%]{position:relative;min-width:4px;min-height:2.5em;height:100%;flex:1}.item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff;position:absolute;top:0;left:0;bottom:0;background-color:rgba(var(--s),.54);border:1px solid rgba(255,255,255,.87)}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1.2em;width:1.2em}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:1em;max-width:1em}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;background-color:rgba(var(--s),.2);border-left:2px solid var(--s);border-right:2px solid var(--s);pointer-events:auto}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;cursor:grab}.selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:1em;left:0;height:12px;width:12px;border-radius:100%;background-color:var(--s);transform:translate(calc(-50% - 1px));box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;cursor:ew-resize}.selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 0 1em auto;transform:translate(calc(50% + 1px))}.current-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background-color:var(--primary-dark)}"]})}return W})()},895:(Ot,ve,s)=>{"use strict";s.d(ve,{e:()=>O});var e=s(1168),n=s(3953),d=s(177),h=s(2091),g=s(9434),b=s(6600),E=s(1007);const _=()=>["/book","meeting"],u=()=>["/book","spaces"],I=()=>["/book","new-desks"],k=()=>["/book","desks"],y=()=>["/book","new-parking"],x=()=>["/book","visitor"],M=()=>["/your-bookings"],B=()=>["/schedule"],K=W=>[W],P=()=>["/explore"];function j(W,U){if(1&W&&(n.j41(0,"a",18)(1,"div",19)(2,"app-icon",20),n.EFF(3,"meeting_room"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"meeting_room"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,1),n.k0s()()),2&W){const $=n.XpG(2);n.Y8G("routerLink",$.new_features?n.lJ4(1,_):n.lJ4(2,u))}}function S(W,U){if(1&W&&(n.j41(0,"a",23)(1,"div",19)(2,"app-icon",20),n.EFF(3,"desk"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"desk"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,2),n.k0s()()),2&W){const $=n.XpG(2);n.Y8G("routerLink",$.new_features?n.lJ4(1,I):n.lJ4(2,k))}}function w(W,U){1&W&&(n.j41(0,"a",24)(1,"div",19)(2,"app-icon",20),n.EFF(3,"directions_car"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"directions_car"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,3),n.k0s()()),2&W&&n.Y8G("routerLink",n.lJ4(1,y))}function m(W,U){1&W&&(n.j41(0,"a",25)(1,"div",19)(2,"app-icon",20),n.EFF(3,"person_add"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"person_add"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,4),n.k0s()()),2&W&&n.Y8G("routerLink",n.lJ4(1,x))}function v(W,U){if(1&W&&(n.j41(0,"a",26)(1,"div",19)(2,"app-icon",20),n.EFF(3,"today"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"today"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,5),n.k0s()()),2&W){const $=n.XpG(2);n.Y8G("routerLink",$.new_features?n.lJ4(1,M):n.lJ4(2,B))}}function A(W,U){if(1&W){const $=n.RV6();n.j41(0,"div",10),n.bIt("click",function(){n.eBV($);const ie=n.XpG();return n.Njj(ie.show_book_items=!1)}),n.nrm(1,"div",11),n.j41(2,"div",12),n.DNE(3,j,8,3,"a",13)(4,S,8,3,"a",14)(5,w,8,2,"a",15)(6,m,8,2,"a",16)(7,v,8,3,"a",17),n.k0s()()}if(2&W){const $=n.XpG();n.BMQ("dark",$.dark_mode),n.R7$(3),n.Y8G("ngIf",$.features.includes("spaces")),n.R7$(),n.Y8G("ngIf",$.features.includes("desks")),n.R7$(),n.Y8G("ngIf",$.features.includes("parking")),n.R7$(),n.Y8G("ngIf",$.features.includes("visitor-invite")),n.R7$(),n.Y8G("ngIf",$.features.includes("schedule"))}}function L(W,U){if(1&W){const $=n.RV6();n.j41(0,"div",27)(1,"a",28)(2,"app-icon",29),n.EFF(3,"home"),n.k0s(),n.j41(4,"app-icon",30),n.EFF(5,"home"),n.k0s(),n.j41(6,"span",31),n.pXf(7,6),n.k0s()(),n.j41(8,"button",32),n.bIt("click",function(){n.eBV($);const ie=n.XpG();return n.Njj(ie.show_book_items=!ie.show_book_items)}),n.j41(9,"app-icon",33),n.EFF(10),n.k0s()(),n.j41(11,"a",34)(12,"app-icon",29),n.EFF(13,"place"),n.k0s(),n.j41(14,"app-icon",30),n.EFF(15,"place"),n.k0s(),n.j41(16,"span",31),n.pXf(17,7),n.k0s()(),n.j41(18,"div",35),n.nrm(19,"div",36),n.k0s()()}if(2&W){const $=n.XpG();n.BMQ("dark",$.dark_mode),n.R7$(),n.Y8G("routerLink",n.eq3(10,K,$.default_page)),n.R7$(7),n.AVh("bg-secondary",$.show_book_items)("text-white",$.show_book_items)("bg-base-200",!$.show_book_items),n.R7$(2),n.JRh($.show_book_items?"close":"add"),n.R7$(),n.Y8G("routerLink",n.lJ4(12,P))}}function G(W,U){1&W&&(n.j41(0,"div",27),n.nrm(1,"top-menu"),n.k0s())}let O=(()=>{class W{get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get features(){return this._settings.get("app.features")||[]}get new_features(){return!!this._settings.get("app.new_features")}get dark_mode(){return!!this._settings.get("dark_mode")}constructor($){this._settings=$,this.show_book_items=!1}static#e=this.\u0275fac=function(te){return new(te||W)(n.rXU(e.h$))};static#t=this.\u0275cmp=n.VBU({type:W,selectors:[["footer-menu"]],decls:4,vars:3,consts:()=>{let $,te,ie,me,Y,F,N;return $=$localize`:␟a5fe7eda1ba37d634cc5c1dbce2a7bff7eb1dec5␟6490748841654176702:Book Meeting`,te=$localize`:␟59d710613ed33fdb662fd7ee88c4de696e139289␟8276275930819312928:Book Desk`,ie=$localize`:␟6e9db23d216950394505312f93b287dde96b0990␟6055616164538866874:Book Car Space`,me=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,Y=$localize`:␟cb6378e0658b04a6da5f440c47dbeb7f71584e72␟8703365535684640863:Your Bookings`,F=$localize`:␟92eee6be6de0b11c924e3ab27db30257159c0a7c␟2821179408673282599:Home`,N=$localize`:␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,[["simple_state",""],$,te,ie,me,Y,F,N,["class","fixed z-20 inset-0 bottom-16 text-white",3,"click",4,"ngIf"],["class","flex items-center justify-center bg-base-100 border-t border-base-200 shadow relative h-16 w-full sm:hidden z-40",4,"ngIf","ngIfElse"],[1,"fixed","z-20","inset-0","bottom-16","text-white",3,"click"],[1,"absolute","inset-0","bg-black","opacity-50"],[1,"absolute","inset-x-0","bottom-0","flex","flex-wrap","items-end","justify-center","p-4"],["name","footer-nav-meeting","matRipple","","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-desks","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-parking","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-visitor-invite","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-my-day","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3  m-2",3,"routerLink",4,"ngIf"],["name","footer-nav-meeting","matRipple","","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],[1,"bg-base-100","text-base-content","rounded-full","h-12","w-12","text-2xl","flex","items-center","justify-center"],["filled",""],["outline","","className","material-icons-outlined",1,"text-neutral"],[1,"text-xs"],["matRipple","","name","footer-nav-desks","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-parking","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","text-base","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-visitor-invite","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-my-day","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","text-base","w-1/3","m-2",3,"routerLink"],[1,"flex","items-center","justify-center","bg-base-100","border-t","border-base-200","shadow","relative","h-16","w-full","sm:hidden","z-40"],["matRipple","","name","footer-nav-home","routerLinkActive","text-secondary active",1,"flex","flex-col","items-center","justify-center","relative","flex-1",3,"routerLink"],["filled","",1,"text-2xl"],["outline","","className","material-icons-outlined",1,"text-2xl","!m-0"],[1,"text-sm"],["matRipple","",1,"flex","items-center","justify-center","w-12","h-12","mb-4","rounded-full","z-10",3,"click"],[1,"text-2xl"],["matRipple","","routerLinkActive","text-secondary active",1,"flex","flex-col","items-center","justify-center","relative","flex-1",3,"routerLink"],[1,"overflow-hidden","absolute","top-0","left-1/2","-translate-x-1/2","-translate-y-full","w-24","h-2"],[1,"w-16","h-16","rounded-full","bg-base-100","shadow","mx-auto","border-t","border-base-200"]]},template:function(te,ie){if(1&te&&n.DNE(0,A,8,6,"div",8)(1,L,20,13,"div",9)(2,G,2,0,"ng-template",null,0,n.C5r),2&te){const me=n.sdS(3);n.Y8G("ngIf",ie.show_book_items),n.R7$(),n.Y8G("ngIf",ie.features.length>3)("ngIfElse",me)}},dependencies:[d.bT,h.Wk,h.wQ,g.R,b.r6,E.C],styles:["a.active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--s)!important}a.active[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]:not(.active)   [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   [outline][_ngcontent-%COMP%]{display:none}"]})}return W})()},3028:(Ot,ve,s)=>{"use strict";s.d(ve,{f:()=>A});var e=s(1168),n=s(1864),d=s(3953),h=s(177),g=s(2091),b=s(9417),E=s(9434),_=s(6600),u=s(9183);const I=["input"],k=(L,G,O,W,U)=>({"w-[32rem]":L,"w-px":G,"opacity-100":O,"opacity-0":W,"pointer-events-none":U}),y=()=>["/explore"],x=L=>({space:L}),M=L=>({user:L}),B=(L,G,O)=>({locate:L,name:G,zone:O});function K(L,G){1&L&&d.nrm(0,"mat-spinner",11),2&L&&d.Y8G("diameter",32)}function P(L,G){1&L&&(d.j41(0,"div",15),d.pXf(1,2),d.k0s())}function j(L,G){if(1&L&&(d.j41(0,"a",17)(1,"div",18)(2,"div",19),d.EFF(3),d.k0s(),d.j41(4,"div",20),d.EFF(5),d.k0s()(),d.j41(6,"div",21),d.EFF(7),d.k0s()()),2&L){const O=G.$implicit;d.Y8G("routerLink",d.lJ4(5,y))("queryParams","space"===O.type?d.eq3(6,x,O.id):"user"===O.type||O.is_role?d.eq3(8,M,O.id):d.sMw(10,B,O.id,O.name,O.zone)),d.R7$(3),d.SpI(" ",O.name," "),d.R7$(2),d.SpI(" ",O.description," "),d.R7$(2),d.SpI(" ",O.type," ")}}function S(L,G){if(1&L&&(d.qex(0),d.DNE(1,j,8,14,"a",16),d.nI1(2,"async"),d.nI1(3,"slice"),d.bVm()),2&L){const O=d.XpG(2);d.R7$(),d.Y8G("ngForOf",d.brH(3,3,d.bMT(2,1,O.results),0,20))}}function w(L,G){if(1&L&&(d.j41(0,"div",12),d.DNE(1,P,2,0,"div",13),d.nI1(2,"async"),d.DNE(3,S,4,7,"ng-container",14),d.nI1(4,"async"),d.k0s()),2&L){let O;const W=d.XpG(),U=d.sdS(13);d.Y8G("ngClass",d.s1E(8,k,W.show,!W.show,W.show,!W.show,!W.show)),d.R7$(),d.Y8G("ngIf",!(null!=(O=d.bMT(2,4,W.results))&&O.length)&&W.filter_str)("ngIfElse",U),d.R7$(2),d.Y8G("ngIf",!d.bMT(4,6,W.loading)&&W.filter_str)}}function m(L,G){1&L&&(d.j41(0,"div",15),d.pXf(1,3),d.k0s())}function v(L,G){if(1&L&&(d.DNE(0,m,2,0,"div",22),d.nI1(1,"async")),2&L){let O;const W=d.XpG();d.Y8G("ngIf",!(null!=(O=d.bMT(1,1,W.results))&&O.length))}}let A=(()=>{class L extends e.Tv{constructor(O){super(),this._service=O,this.results=this._service.search_results,this.loading=this._service.loading,this.show=!1,this.filter_str="",this.setFilter=W=>W instanceof Object?this.filter_str="":this._service.setFilter(W)}showInput(){this.show=!0,this._input_el.nativeElement.focus(),this.clearTimeout("close")}hideInput(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=function(W){return new(W||L)(d.rXU(n.Xm))};static#t=this.\u0275cmp=d.VBU({type:L,selectors:[["global-search"]],viewQuery:function(W,U){if(1&W&&d.GBs(I,5),2&W){let $;d.mGM($=d.lsd())&&(U._input_el=$.first)}},features:[d.Vt3],decls:14,vars:12,consts:()=>{let O,W;return O=$localize`:␟868d77dc4a964d6ed72a5a17df93c700ed77012a␟7546564659170523657: No matches found. `,W=$localize`:␟7a9f8c3d66e397b8bc1a089e3c3a5ed2db5fdb17␟7365185463219571764: Start typing to search... `,[["input",""],["empty_state",""],O,W,[1,"h-full","w-12","relative"],["icon","","name","global-search","matRipple","",1,"h-10","w-10","rounded-full","bg-base-200",3,"click"],[1,"text-2xl"],["search","",1,"flex","items-center","absolute","top-1/2","right-2","-translate-y-1/2","max-w-[calc(100vw-4rem)]","bg-base-100","shadow","h-12","px-2","rounded-[24px]","space-x-2","border-2","border-neutral","z-50",3,"click","ngClass"],["placeholder","Search for people or spaces...",1,"flex-1","w-1/2","py-2","outline-none",3,"ngModelChange","blur","ngModel"],[3,"diameter",4,"ngIf"],["search","","class","flex flex-col items-center absolute bottom-0 right-2 translate-y-[calc(100%-1rem)] max-w-[calc(100vw-4rem)] max-h-[40vh] bg-base-100 shadow rounded-b pt-4 overflow-auto border border-base-200",3,"ngClass",4,"ngIf"],[3,"diameter"],["search","",1,"flex","flex-col","items-center","absolute","bottom-0","right-2","translate-y-[calc(100%-1rem)]","max-w-[calc(100vw-4rem)]","max-h-[40vh]","bg-base-100","shadow","rounded-b","pt-4","overflow-auto","border","border-base-200",3,"ngClass"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf","ngIfElse"],[4,"ngIf"],["empty","",1,"p-4","w-full","text-center","opacity-60"],["matRipple","","class","w-full h-14 min-h-14 flex items-center leading-tight px-4 py-2 hover:bg-base-200",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["matRipple","",1,"w-full","h-14","min-h-14","flex","items-center","leading-tight","px-4","py-2","hover:bg-base-200",3,"routerLink","queryParams"],[1,"flex-1","overflow-hidden"],[1,"truncate","w-full"],[1,"text-xs","opacity-60"],[1,"text-xs","font-medium","p-2","capitalize","text-white","bg-secondary","text-secondary-content","rounded"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf"]]},template:function(W,U){if(1&W){const $=d.RV6();d.j41(0,"div",4)(1,"button",5),d.bIt("click",function(){return d.eBV($),d.Njj(U.showInput())}),d.j41(2,"app-icon",6),d.EFF(3,"search"),d.k0s()(),d.j41(4,"div",7),d.bIt("click",function(){return d.eBV($),d.Njj(U.showInput())}),d.j41(5,"app-icon",6),d.EFF(6,"search"),d.k0s(),d.j41(7,"input",8,0),d.mxI("ngModelChange",function(ie){return d.eBV($),d.DH7(U.filter_str,ie)||(U.filter_str=ie),d.Njj(ie)}),d.bIt("ngModelChange",function(ie){return d.eBV($),d.Njj(U.setFilter(ie))})("blur",function(){return d.eBV($),d.Njj(U.hideInput())}),d.k0s(),d.DNE(9,K,1,1,"mat-spinner",9),d.nI1(10,"async"),d.k0s(),d.DNE(11,w,5,14,"div",10),d.k0s(),d.DNE(12,v,2,3,"ng-template",null,1,d.C5r)}2&W&&(d.R7$(4),d.Y8G("ngClass",d.s1E(6,k,U.show,!U.show,U.show,!U.show,!U.show)),d.R7$(3),d.R50("ngModel",U.filter_str),d.R7$(2),d.Y8G("ngIf",d.bMT(10,4,U.loading)),d.R7$(2),d.Y8G("ngIf",U.filter_str))},dependencies:[h.YU,h.Sq,h.bT,g.Wk,b.me,b.BC,b.vS,E.R,_.r6,u.LG,h.Jj,h.P9],styles:["[search][_ngcontent-%COMP%]{transition:width .2s,opacity .2s}"]})}return L})()},5927:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>nt});var e=s(177),n=s(9417),d=s(850),h=s(8834),g=s(2091),b=s(4351),E=s(3046),_=s(8113),u=s(7915),I=s(2168),k=s(4006),y=s(3719),x=s(9631),M=s(2798),B=s(9183),K=s(5272),P=s(3953),j=s(1168),S=s(2596),w=s(6299),m=s(6600);const v=["input"];function A(Ze,qt){if(1&Ze&&P.nrm(0,"img",27),2&Ze){const Vt=P.XpG();P.Y8G("src","assets/icons/"+Vt.card_type+".svg",P.B4B)}}function L(Ze,qt){if(1&Ze&&(P.j41(0,"mat-option",28),P.EFF(1),P.k0s()),2&Ze){const Vt=qt.$implicit;P.Y8G("value",Vt[0]),P.R7$(),P.Lme(" ",Vt[1]," (",Vt[0],") ")}}function G(Ze,qt){if(1&Ze&&(P.j41(0,"mat-option",28),P.EFF(1),P.k0s()),2&Ze){const Vt=qt.$implicit;P.Y8G("value",Vt),P.R7$(),P.JRh(Vt)}}const O={card_number:"                ",cardholder:"",cvv:""},W=new e.vh("en-us","");let U=(()=>{class Ze extends j.Tv{constructor(){super(...arguments),this.details=new n.gE({card_number:new n.MJ(Array(16).fill("X").join()),cardholder:new n.MJ(""),exp_month:new n.MJ(""),exp_year:new n.MJ(""),cvv:new n.MJ("",[n.k0.minLength(3),n.k0.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((Vt,dn)=>[W.transform((0,S.Z)(Date.now(),dn),"MM"),W.transform((0,S.Z)(Date.now(),dn),"MMM")]),this.years=Array(12).fill(0).map((Vt,dn)=>W.transform((0,w.e)(Date.now(),dn),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=Vt=>this._onChange=Vt,this.registerOnTouched=Vt=>this._onTouch=Vt,this.setDisabledState=Vt=>this.disabled=Vt}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const Vt=this.details.value?.card_number||"";return Vt.startsWith("3")?"amex":Vt.startsWith("4")?"visa":Vt.startsWith("5")?"mastercard":""}get card_display(){let Vt=this.details.value?.card_number||"";return this.card_focused&&(Vt=Vt.substring(0,this._index)+"\u2bd0"+Vt.substring(this._index+1)),this.is_amex?`${Vt.substring(0,4)}-${Vt.substring(4,10)}-${Vt.substring(10)}`:`${Vt.substring(0,4)}-${Vt.substring(4,8)}-${Vt.substring(8,12)}-${Vt.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(Vt=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(Vt){if(!Vt||!this.card_focused)return;const dn=this._index;if(dn<0||dn>16)return;let xn=this.details.value.card_number;if((Vt.code.startsWith("Digit")||Vt.code.startsWith("Numpad"))&&dn<(this.is_amex?15:16))xn=xn.substring(0,dn)+Vt.key+xn.substring(dn+1),this.details.patchValue({card_number:xn}),this._focusChange(dn,1);else if("Backspace"===Vt.code&&dn>0){let Wn=this.details.value.card_number;Wn=Wn.substring(0,dn)+" "+Wn.substring(dn+1),this.details.patchValue({card_number:Wn}),this._focusChange(dn,-1)}else"ArrowLeft"===Vt.code?this._focusChange(dn,-1):"ArrowRight"===Vt.code&&" "!==xn[dn]&&this._focusChange(dn,1)}_focusChange(Vt,dn){this._index=Math.min(16,Math.max(0,Vt+dn))}setValue(Vt){this._onChange&&this._onChange(Vt)}writeValue(Vt){this.details.patchValue(Vt||O)}static#e=this.\u0275fac=(()=>{let Vt;return function(xn){return(Vt||(Vt=P.xGo(Ze)))(xn||Ze)}})();static#t=this.\u0275cmp=P.VBU({type:Ze,selectors:[["card-input-field"]],viewQuery:function(dn,xn){if(1&dn&&P.GBs(v,7),2&dn){let Wn;P.mGM(Wn=P.lsd())&&(xn._input_el=Wn.first)}},features:[P.Jv_([{provide:n.kq,useExisting:(0,P.Rfq)(()=>Ze),multi:!0}]),P.Vt3],decls:41,vars:6,consts:()=>{let Vt,dn,xn,Wn,Xn,ti,Ii;return Vt=$localize`:␟c51ae86488666fc691751bf76d88811b37505c00␟1085309836704157602:Card Number`,dn=$localize`:␟cc927e92ada1f250e8c5ea7884d0b1294be56635␟4148395957159016439:Name on Card`,xn=$localize`:␟6402e768a1ac6a5f86edf0daccf05b3d9d63f465␟598947732489453783:Cardholder name is required`,Wn=$localize`:␟48b5a0234304bd29aeaab8f2793b8245517a7102␟7043163776563263056:Expiry Month`,Xn=$localize`:␟28b0c8359cc099ef3dcaddac4c1357d45751ac9d␟1539914853150581191:Expiry month is required`,ti=$localize`:␟84a41ff903da0de49f3172fef0d0528701065d6e␟6698859483517525075:Expiry year is required`,Ii=$localize`:␟11a0ab2762b4af425c3d20aa211a751e4785e04e␟203544573091191988:Invalid security code`,[["input",""],Vt,dn,xn,Wn,Xn,ti,Ii,[3,"keyup","formGroup"],[1,"flex","flex-col"],["for","card-number"],["tabindex","0",1,"border","border-base-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-base-200","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"keydown","value"],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],["placeholder","YYYY","formControlName","exp_year"],["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],[1,"h-8",3,"src"],[3,"value"]]},template:function(dn,xn){if(1&dn){const Wn=P.RV6();P.j41(0,"form",8),P.bIt("keyup",function(ti){return P.eBV(Wn),P.Njj(xn.onInput(ti))},!1,P.tSv),P.j41(1,"div",9)(2,"label",10),P.pXf(3,1),P.k0s(),P.j41(4,"div",11),P.bIt("focus",function(){return P.eBV(Wn),P.Njj(xn.focusInput())}),P.j41(5,"pre",12),P.EFF(6),P.k0s(),P.j41(7,"input",13,0),P.bIt("keydown",function(){return P.eBV(Wn),P.Njj(!1)}),P.k0s(),P.DNE(9,A,1,1,"img",14),P.k0s()(),P.j41(10,"div",15)(11,"label",16),P.pXf(12,2),P.k0s(),P.j41(13,"mat-form-field",17),P.nrm(14,"input",18),P.j41(15,"mat-error"),P.pXf(16,3),P.k0s()()(),P.j41(17,"div",19)(18,"div",20)(19,"label",16),P.pXf(20,4),P.k0s(),P.j41(21,"mat-form-field",17)(22,"mat-select",21),P.DNE(23,L,2,3,"mat-option",22),P.k0s(),P.j41(24,"mat-error"),P.pXf(25,5),P.k0s()()(),P.j41(26,"div",20)(27,"label",16),P.EFF(28,"Expiry Year"),P.k0s(),P.j41(29,"mat-form-field",17)(30,"mat-select",23),P.DNE(31,G,2,2,"mat-option",22),P.k0s(),P.j41(32,"mat-error"),P.pXf(33,6),P.k0s()()(),P.j41(34,"div",9)(35,"label",24),P.EFF(36,"CVV"),P.k0s(),P.j41(37,"mat-form-field",25),P.nrm(38,"input",26),P.j41(39,"mat-error"),P.pXf(40,7),P.k0s()()()()()}2&dn&&(P.Y8G("formGroup",xn.details),P.R7$(6),P.JRh(xn.card_display),P.R7$(),P.Y8G("value",null==xn.details.value.card_number?null:xn.details.value.card_number.trim()),P.R7$(2),P.Y8G("ngIf",xn.card_type),P.R7$(14),P.Y8G("ngForOf",xn.months),P.R7$(8),P.Y8G("ngForOf",xn.years))},dependencies:[e.Sq,e.bT,n.qT,n.me,n.BC,n.cb,n.tU,n.j4,n.JD,y.rl,y.TL,x.fg,M.VO,m.wT],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]})}return Ze})(),te=(()=>{class Ze{static#e=this.\u0275fac=function(dn){return new(dn||Ze)};static#t=this.\u0275mod=P.$C({type:Ze});static#n=this.\u0275inj=P.G2t({imports:[e.MD,n.YN,n.X1,y.RG,x.fS,k.hM,h.Hl,M.Ve,B.D6]})}return Ze})();P.wjB(K.$,[e.bT,n.BC,n.vS,k.tx,B.LG,U],[e.Jj,e.oe,e.vh]),s(4525);var me=s(7236),Y=s(5416),F=s(6471),N=s(9115),J=s(2765),ae=s(6850),_e=s(4823),xe=s(5951),Fe=s(7575);let pe=(()=>{class Ze{static#e=this.\u0275fac=function(dn){return new(dn||Ze)};static#t=this.\u0275mod=P.$C({type:Ze});static#n=this.\u0275inj=P.G2t({})}return Ze})();var he=s(6939);s(9969);let bt=(()=>{class Ze{static#e=this.\u0275fac=function(dn){return new(dn||Ze)};static#t=this.\u0275mod=P.$C({type:Ze});static#n=this.\u0275inj=P.G2t({imports:[m.yE,pe,he.jc]})}return Ze})();var Yt=s(9888);let Fn=(()=>{class Ze{static#e=this.\u0275fac=function(dn){return new(dn||Ze)};static#t=this.\u0275mod=P.$C({type:Ze});static#n=this.\u0275inj=P.G2t({imports:[Yt.Pd,m.yE,m.yE]})}return Ze})();var $n=s(3881),Ht=s(450);s(3028),s(7434),s(3476),s(1413),s(8e3),s(4003),s(6469),s(1007),s(895);const Mt=[h.Hl,Y._T,k.hM,y.RG,x.fS,B.D6,Fe.PO,d.jL,M.Ve,F.YN,m.pZ,N.Cn,J.g7,bt,ae.RI,Fn,_e.uc,xe.Wk,Ht.mV,$n.Ez];let nt=(()=>{class Ze{static#e=this.\u0275fac=function(dn){return new(dn||Ze)};static#t=this.\u0275mod=P.$C({type:Ze});static#n=this.\u0275inj=P.G2t({imports:[e.MD,g.iI.forChild([]),n.YN,n.X1,b.hI,E.cQ,_.jX,u.SG,I.lx,te,Mt,b.hI,E.cQ,_.jX,u.SG,I.lx,me.s1,te,h.Hl,Y._T,k.hM,y.RG,x.fS,B.D6,Fe.PO,d.jL,M.Ve,F.YN,m.pZ,N.Cn,J.g7,bt,ae.RI,Fn,_e.uc,xe.Wk,Ht.mV,$n.Ez]})}return Ze})()},1007:(Ot,ve,s)=>{"use strict";s.d(ve,{C:()=>j});var e=s(1168),n=s(2185),d=s(3953),h=s(2091),g=s(177),b=s(9434),E=s(9115),_=s(6600),u=s(4823);const I=["menuContainer"],k=S=>[S];function y(S,w){if(1&S&&(d.j41(0,"span",11),d.EFF(1),d.k0s()),2&S){const m=d.XpG(2).$implicit;d.R7$(),d.JRh(m.name)}}function x(S,w){if(1&S&&(d.j41(0,"a",6)(1,"app-icon",7),d.EFF(2),d.k0s(),d.j41(3,"app-icon",8),d.EFF(4),d.k0s(),d.DNE(5,y,2,1,"span",9),d.nrm(6,"div",10),d.k0s()),2&S){const m=d.XpG().$implicit,v=d.XpG();d.Y8G("name","nav-"+m.id)("routerLink",d.eq3(6,k,m.route))("matTooltip",m.name),d.R7$(2),d.JRh(m.icon),d.R7$(2),d.SpI(" ",m.icon," "),d.R7$(),d.Y8G("ngIf",!v.hide_text)}}function M(S,w){if(1&S&&(d.qex(0),d.DNE(1,x,7,8,"a",5),d.bVm()),2&S){const m=w.$implicit,v=d.XpG();d.R7$(),d.Y8G("ngIf",v.features.includes(m.id)||"home"===m.id)}}function B(S,w){if(1&S&&(d.j41(0,"div",12)(1,"button",13)(2,"app-icon"),d.EFF(3,"menu"),d.k0s()()()),2&S){d.XpG();const m=d.sdS(5);d.R7$(),d.Y8G("matMenuTriggerFor",m)}}function K(S,w){if(1&S&&(d.j41(0,"a",15)(1,"div",16)(2,"app-icon",7),d.EFF(3),d.k0s(),d.j41(4,"app-icon",8),d.EFF(5),d.k0s(),d.j41(6,"div",11),d.EFF(7),d.k0s()()()),2&S){const m=d.XpG().$implicit;d.Y8G("routerLink",m.route),d.R7$(3),d.JRh(m.icon),d.R7$(2),d.SpI(" ",m.icon," "),d.R7$(2),d.JRh(m.name)}}function P(S,w){if(1&S&&(d.qex(0),d.DNE(1,K,8,4,"a",14),d.bVm()),2&S){const m=w.$implicit,v=d.XpG();d.R7$(),d.Y8G("ngIf",v.features.includes(m.id)||"home"===m.id)}}let j=(()=>{class S extends e.Tv{get feature_list(){return this._settings.get("app.features")||[]}get features(){const m=this.feature_list,v=this._settings.get("app.feature_groups")||{},A=(0,e.Ny)().groups;return m.filter(L=>!v[L]?.length||v[L].find(G=>A.includes(G)))}get is_admin(){const m=(0,e.Ny)().groups;return m.includes("placeos_admin")||m.includes("placeos_support")}get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get new_features(){return!!this._settings.get("app.new_features")}get type(){const m=this._router.url;return m.includes(this.default_page)?"home":m.includes("book/spaces")?"spaces":m.includes("book/desks")?"desks":m.includes("book/locker")?"lockers":m.includes("book/parking")?"parking":m.includes("explore")?"explore":m.includes("schedule")?"schedule":""}constructor(m,v,A,L){super(),this._element=m,this._settings=v,this._org=A,this._router=L,this.buildings=this._org.building_list,this.building=this._org.active_building,this.previous_size=9999,this.checking=!1,this.mobile_menu=!1,this.hide_text=!1,this.setBuilding=G=>this._org.building=G,this.routes=[{id:"home",route:this.default_page,icon:"home",name:"Home"},{id:"spaces",route:"/book/meeting",icon:"meeting_room",name:"Book Room"},{id:"desks",route:"/book/new-desks",icon:"desk",name:"Book Desk"},{id:"lockers",route:"/book/locker",icon:"lock",name:"Book Locker"},{id:"parking",route:"/book/new-parking",icon:"directions_car",name:"Book Car Space"},{id:"visitor-invite",route:"/book/visitor",icon:"person",name:"Invite Visitors"},{id:"explore",route:"/explore",icon:"place",name:"Spaces"},{id:"schedule",route:"/your-bookings",icon:"event",name:"Your Bookings"},{id:"group-events",route:"/group-events",icon:"local_activity",name:"Events"}]}ngOnInit(){this.checking=!0,this.subscription("building",this._org.active_building.subscribe(()=>this.timeout("check_route",()=>this._checkRoute())))}ngAfterViewInit(){this.timeout("check_menu",()=>this.checkMenu())}_checkRoute(){this.type&&"home"!==this.type&&!this.features.includes(this.type)&&this._router.navigate(["/"])}checkMenu(){const m=this.menu.nativeElement?.offsetWidth||0,v=this._element.nativeElement.parentElement.offsetWidth;if(this.checking=!1,m>v&&!this.hide_text)return this.hide_text=!0,this.timeout("check_menu",()=>this.checkMenu(),20),this.checking=!0,void(this.previous_size=v);this.hide_text&&(this.mobile_menu=m>v),v>this.previous_size&&this.hide_text&&(this.hide_text=!1,this.timeout("check_menu",()=>this.checkMenu(),20),this.checking=!0),this.previous_size=v}static#e=this.\u0275fac=function(v){return new(v||S)(d.rXU(d.aKT),d.rXU(e.h$),d.rXU(n.yb),d.rXU(h.Ix))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["top-menu"]],viewQuery:function(v,A){if(1&v&&d.GBs(I,5),2&v){let L;d.mGM(L=d.lsd())&&(A.menu=L.first)}},features:[d.Vt3],decls:7,vars:7,consts:[["menuContainer",""],["menu","matMenu"],["menu","",1,"flex","items-center","justify-center","h-full","w-full","overflow-hidden","text-base-content","min-w-full",3,"resize"],[4,"ngFor","ngForOf"],["class","absolute inset-y-0 left-0 -right-16 flex items-center justify-end",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-secondary active","matTooltipPosition","below",3,"name","routerLink","matTooltip",4,"ngIf"],["matRipple","","routerLinkActive","text-secondary active","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"name","routerLink","matTooltip"],["filled","",1,"text-xl"],["outline","","className","material-icons-outlined",1,"text-xl","!m-0"],["class","truncate",4,"ngIf"],["bar","",1,"absolute","bottom-0","inset-x-0","h-0.5","bg-secondary"],[1,"truncate"],[1,"absolute","inset-y-0","left-0","-right-16","flex","items-center","justify-end"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLinkActive","text-secondary active",3,"routerLink",4,"ngIf"],["mat-menu-item","","routerLinkActive","text-secondary active",3,"routerLink"],[1,"flex","items-center","space-x-2"]],template:function(v,A){if(1&v){const L=d.RV6();d.j41(0,"div",2,0),d.bIt("resize",function(){return d.eBV(L),d.Njj(A.checkMenu())},!1,d.tSv),d.DNE(2,M,2,1,"ng-container",3),d.k0s(),d.DNE(3,B,4,1,"div",4),d.j41(4,"mat-menu",null,1),d.DNE(6,P,2,1,"ng-container",3),d.k0s()}2&v&&(d.AVh("opacity-0",A.mobile_menu||A.checking)("!h-0",A.mobile_menu),d.R7$(2),d.Y8G("ngForOf",A.routes),d.R7$(),d.Y8G("ngIf",A.mobile_menu),d.R7$(3),d.Y8G("ngForOf",A.routes))},dependencies:[g.Sq,g.bT,h.Wk,h.wQ,b.R,E.kk,E.fb,E.Cp,_.r6,u.oV],styles:["[menu][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:3.5rem;flex-shrink:1}[bar][_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%] > [bar][_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:not([mat-menu-item]):not(.active){opacity:.6}a[_ngcontent-%COMP%]:not([mat-menu-item]):not(.active):hover{border-radius:.5rem;margin-top:.25rem;margin-bottom:.25rem;height:3rem;background-color:var(--b2);opacity:.4}a[_ngcontent-%COMP%]:not(.active)   [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   [outline][_ngcontent-%COMP%]{display:none}"]})}return S})()},7434:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>K});var e=s(1168),n=s(4351),d=s(3953),h=s(177),g=s(2091),b=s(9434),E=s(2238),_=s(6600),u=s(3028),I=s(1007);const k=()=>["/-"];function y(P,j){if(1&P&&d.nrm(0,"img",8),2&P){const S=d.XpG();d.AVh("hidden",S.title),d.Y8G("src",S.logo.src,d.B4B)}}function x(P,j){if(1&P&&(d.j41(0,"span"),d.EFF(1),d.k0s()),2&P){const S=d.XpG();d.R7$(),d.JRh(S.title)}}function M(P,j){1&P&&d.nrm(0,"global-search")}const B=[];let K=(()=>{class P{get logo(){return"dark"===this._settings.get("theme")?this._settings.get("app.logo_dark"):this._settings.get("app.logo_light")}get title(){return this._settings.value("page_title")}get search(){return!1!==this._settings.get("app.general.search")}get new_features(){return!!this._settings.get("app.new_features")}get user(){return(0,e.Ny)()}get features(){return this._settings.get("app.features")||B}constructor(S){this._settings=S,this.user_controls=n.NV}static#e=this.\u0275fac=function(w){return new(w||P)(d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:P,selectors:[["topbar"]],decls:11,vars:6,consts:[["topbar","",1,"flex","items-center","justify-between","h-[3.5rem]","bg-base-100","border-b","border-base-200","z-50","shadow","relative"],["name","nav-logo",1,"p-2","h-full","flex","items-center","w-48",3,"routerLink"],["class","h-10 sm:block",3,"hidden","src",4,"ngIf"],[4,"ngIf"],[1,"flex-1","items-center","justify-center","h-full","w-1/2","hidden","sm:flex","relative"],[1,"w-48","flex","items-center","justify-end"],["icon","","matRipple","","avatar","","name","user-controls","customTooltip","",1,"h-10","w-10","rounded-full","mr-2","bg-base-200","flex","items-center","justify-center",3,"content"],[1,"text-2xl"],[1,"h-10","sm:block",3,"src"]],template:function(w,m){1&w&&(d.j41(0,"div",0)(1,"a",1),d.DNE(2,y,1,3,"img",2)(3,x,2,1,"span",3),d.k0s(),d.j41(4,"div",4),d.nrm(5,"top-menu"),d.k0s(),d.j41(6,"div",5),d.DNE(7,M,1,0,"global-search",3),d.j41(8,"button",6)(9,"app-icon",7),d.EFF(10,"person"),d.k0s()()()()),2&w&&(d.R7$(),d.Y8G("routerLink",d.lJ4(5,k)),d.R7$(),d.Y8G("ngIf",m.logo),d.R7$(),d.Y8G("ngIf",m.title),d.R7$(4),d.Y8G("ngIf",m.search),d.R7$(),d.Y8G("content",m.user_controls))},dependencies:[h.bT,g.Wk,b.R,E.I,_.r6,u.f,I.C],styles:[".flex-3[_ngcontent-%COMP%]{flex:3 3 0%}"]})}return P})()},6469:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>S});var e=s(3953),n=s(3601),d=s(4512),h=s(9255),g=s(2357),b=s(7926),E=s(4903),_=s(2659),u=s(1406),I=s(2544),k=s(2037),y=s(1168),x=s(177);const M=["block"],B=["time"];function K(w,m){if(1&w&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&w){const v=e.XpG().$implicit;e.R7$(),e.JRh(v.display)}}function P(w,m){if(1&w&&(e.j41(0,"div",12),e.DNE(1,K,2,1,"div",13),e.k0s()),2&w){const v=m.$implicit;e.R7$(),e.Y8G("ngIf",v.hour)}}function j(w,m){if(1&w&&e.nrm(0,"div",12),2&w){const v=m.$implicit;e.AVh("shown-block",v.show)("hour",v.hour)("disabled",v.disabled)("unavailable",v.unavailable)}}let S=(()=>{class w extends y.Tv{constructor(){super(...arguments),this.offset={x:0,y:0},this.dateChange=new e.bkB,this.durationChange=new e.bkB,this.groupsChange=new e.bkB}ngOnInit(){this.generateBlocks()}ngOnChanges(v){v.groups&&this.checkInUseBlocks(),(v.date||v.duration)&&this.updateStartEnd()}get timeline_start(){return(0,n.o)(this.date).valueOf()}get timeline_end(){return(0,d.D)(this.date).valueOf()}generateBlocks(){this.blocks=[];const v=this.timeline_start,A=this.timeline_end,L=Date.now();for(let G=v;(0,h.Y)((0,g.c)(G),(0,g.c)(A));G=(0,b.z)(G,5).valueOf()){const O=new Date(G).getMinutes();this.blocks.push({id:(0,E.GP)(G,"HH:mm"),display:(0,E.GP)(G,"HH:mm"),hour:0===O,show:O%30==0,disabled:(0,h.Y)(G,L)})}this.checkInUseBlocks()}get display(){const v=this.date,A=(0,b.z)(this.date,this.duration),L=(0,_.a)({minutes:this.duration});return`${(0,E.GP)(v,"hh:mm A")} - ${(0,E.GP)(A,"hh:mm A")} (${L})`}move(v){this.timeout("move",()=>{if(this.active_move&&this.block){const A={x:v.touches&&v.touches.length>0&&v.touches[0].clientX||v.clientX,y:v.touches&&v.touches.length>0&&v.touches[0].clientY||v.clientY},L="bottom"===this.active_move?{x:0,y:0}:this.offset,G=this.block.nativeElement.getBoundingClientRect(),U=(A.y-L.y-G.top)/G.height,$=new Date(this.timeline_start),te=$.getHours()+$.getMinutes()/60,ie=new Date(this.timeline_end),Y=ie.getHours()+ie.getMinutes()/60-te,F=15,N=Math.ceil((Y*U+te)*(60/F))/(60/F);if("bottom"===this.active_move){let J=this.date;const ae=(0,u.h)(this.date,{hours:Math.floor(N),minutes:Math.floor(60*N%60)});if((0,I.H)(ae,J)||(0,h.Y)(ae,J))J=(0,b.z)(ae,-this.duration).valueOf(),this.date=J.valueOf();else{const _e=Math.floor((0,k.o)(ae,J));this.duration=Math.max(60,_e||F),this.durationChange.emit(this.duration)}}else if("top"===this.active_move){const J=(0,u.h)(this.date,{hours:Math.floor(N),minutes:Math.floor(60*N%60)});this.date=J.valueOf()}this.dateChange.emit(this.date),this.updateStartEnd()}},10)}setMove(v){this.active_move=v}checkInUseBlocks(){if(!this.blocks||!this.groups)return;const v=this.blocks.map(A=>({...A,unavailable:!1}));for(const A of this.groups)for(const L of A.events||[]){const G=this.hoursToDate(L.start),O=(0,b.z)(G,L.duration);for(let W=G;(0,h.Y)(W,O);W=(0,b.z)(W,5).valueOf()){const U=(0,E.GP)(W,"HH:mm"),$=v.find(te=>te.id===U);$&&($.unavailable=!0)}}this.blocks=v}hoursToDate(v){let A=(0,u.h)((0,n.o)(Date.now()),{hours:Math.floor(v),minutes:Math.floor(60*v%60)});return A=(0,u.h)(A,{minutes:5*Math.floor(A.getMinutes()/5)}),A.valueOf()}updateStartEnd(){this.updatePeriod()}resetMove(){this.active_move=""}updatePeriod(){const v=(0,g.c)(this.date),A=(0,k.o)(this.timeline_end,this.timeline_start)/60;this.active_start=(0,k.o)(v,this.timeline_start)/60/A,this.active_length=this.duration/60/A}static#e=this.\u0275fac=(()=>{let v;return function(L){return(v||(v=e.xGo(w)))(L||w)}})();static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["vertical-timeline"]],viewQuery:function(A,L){if(1&A&&(e.GBs(M,5),e.GBs(B,5)),2&A){let G;e.mGM(G=e.lsd())&&(L.block=G.first),e.mGM(G=e.lsd())&&(L.time=G.first)}},inputs:{date:"date",duration:"duration",groups:"groups"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.Vt3,e.OA$],decls:13,vars:7,consts:[["block",""],["time",""],[1,"timeline",3,"mouseup","touchend"],[1,"content",3,"mousemove","touchmove"],[1,"timeblocks"],["class","blk",4,"ngFor","ngForOf"],[1,"eventblocks"],["class","blk",3,"shown-block","hour","disabled","unavailable",4,"ngFor","ngForOf"],[1,"selected-time"],[1,"inner",3,"mousedown","touchstart"],[1,"handle","top",3,"mousedown","touchstart"],[1,"handle","bottom",3,"mousedown","touchstart"],[1,"blk"],["class","text",4,"ngIf"],[1,"text"]],template:function(A,L){if(1&A){const G=e.RV6();e.j41(0,"div",2),e.bIt("mouseup",function(){return e.eBV(G),e.Njj(L.resetMove())},!1,e.tSv)("touchend",function(){return e.eBV(G),e.Njj(L.resetMove())},!1,e.tSv),e.j41(1,"div",3),e.bIt("mousemove",function(W){return e.eBV(G),e.Njj(L.move(W))})("touchmove",function(W){return e.eBV(G),e.Njj(L.move(W))}),e.j41(2,"div",4),e.DNE(3,P,2,1,"div",5),e.k0s(),e.j41(4,"div",6,0),e.DNE(6,j,1,8,"div",7),e.j41(7,"div",8,1)(9,"div",9),e.bIt("mousedown",function(){return e.eBV(G),e.Njj(L.setMove("top"))})("touchstart",function(){return e.eBV(G),e.Njj(L.setMove("top"))}),e.EFF(10),e.k0s(),e.j41(11,"div",10),e.bIt("mousedown",function(){return e.eBV(G),e.Njj(L.setMove("top"))})("touchstart",function(){return e.eBV(G),e.Njj(L.setMove("top"))}),e.k0s(),e.j41(12,"div",11),e.bIt("mousedown",function(){return e.eBV(G),e.Njj(L.setMove("bottom"))})("touchstart",function(){return e.eBV(G),e.Njj(L.setMove("bottom"))}),e.k0s()()()()()}2&A&&(e.R7$(3),e.Y8G("ngForOf",L.blocks),e.R7$(3),e.Y8G("ngForOf",L.blocks),e.R7$(),e.xc7("top",100*L.active_start+"%")("height",100*L.active_length+"%"),e.R7$(3),e.SpI(" ",L.display," "))},dependencies:[x.Sq,x.bT],styles:[".timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:1em;display:flex;align-items:center;justify-content:center;overflow:auto}.timeline[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;margin:auto;width:100%}.timeblocks[_ngcontent-%COMP%], .eventblocks[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.timeblocks[_ngcontent-%COMP%]{width:3em}.eventblocks[_ngcontent-%COMP%]{position:relative;flex:1;border:1px solid #ccc;width:50%;overflow:hidden}.eventblocks[_ngcontent-%COMP%]   .blk[_ngcontent-%COMP%]{position:relative}.blk[_ngcontent-%COMP%]{position:relative;min-height:.3em;flex:1;width:100%}.blk.shown-block[_ngcontent-%COMP%]{border-top:1px dashed #ccc}.blk.shown-block.hour[_ngcontent-%COMP%]{border-top:1px solid #ccc}.blk.shown-block[_ngcontent-%COMP%]:first-child{border:none}.blk[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:0;right:.5em;transform:translateY(-50%)}.blk.unavailable[_ngcontent-%COMP%]{background-color:rgba(var(--error),.1);pointer-events:none}.blk.disabled[_ngcontent-%COMP%]{background-color:#0000000d;pointer-events:none}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;border:2px solid var(--s);background-color:var(--s);color:#fff;z-index:100;touch-action:none;transition:top .1s,height .1s}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;padding:.25em 1em}.selected-time[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{position:absolute;height:1em;width:1em;border-radius:100%;background-color:var(--s);box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f}.selected-time[_ngcontent-%COMP%]   .handle.top[_ngcontent-%COMP%]{top:0;right:1em;transform:translateY(-50%)}.selected-time[_ngcontent-%COMP%]   .handle.bottom[_ngcontent-%COMP%]{bottom:0;left:1em;transform:translateY(50%)}"]})}return w})()},7949:(Ot,ve,s)=>{"use strict";var e=s(345),n=s(3953),d=s(9969);function g(a){return new n.wOt(3e3,!1)}function Ye(a){switch(a.length){case 0:return new d.sf;case 1:return a[0];default:return new d.ui(a)}}function qe(a,r,l=new Map,p=new Map){const T=[],X=[];let re=-1,Ce=null;if(r.forEach(Le=>{const at=Le.get("offset"),Ft=at==re,Ut=Ft&&Ce||new Map;Le.forEach((fn,Cn)=>{let En=Cn,Nn=fn;if("offset"!==Cn)switch(En=a.normalizePropertyName(En,T),Nn){case d.FX:Nn=l.get(Cn);break;case d.kp:Nn=p.get(Cn);break;default:Nn=a.normalizeStyleValue(Cn,En,Nn,T)}Ut.set(En,Nn)}),Ft||X.push(Ut),Ce=Ut,re=at}),T.length)throw function $(){return new n.wOt(3502,!1)}();return X}function Ne(a,r,l,p){switch(r){case"start":a.onStart(()=>p(l&&Me(l,"start",a)));break;case"done":a.onDone(()=>p(l&&Me(l,"done",a)));break;case"destroy":a.onDestroy(()=>p(l&&Me(l,"destroy",a)))}}function Me(a,r,l){const X=pe(a.element,a.triggerName,a.fromState,a.toState,r||a.phaseName,l.totalTime??a.totalTime,!!l.disabled),re=a._data;return null!=re&&(X._data=re),X}function pe(a,r,l,p,T="",X=0,re){return{element:a,triggerName:r,fromState:l,toState:p,phaseName:T,totalTime:X,disabled:!!re}}function he(a,r,l){let p=a.get(r);return p||a.set(r,p=l),p}function le(a){const r=a.indexOf(":");return[a.substring(1,r),a.slice(r+1)]}const Ee=typeof document>"u"?null:document.documentElement;function Xe(a){const r=a.parentNode||a.host||null;return r===Ee?null:r}let dt=null,Ct=!1;function rn(a,r){for(;r;){if(r===a)return!0;r=Xe(r)}return!1}function $t(a,r,l){if(l)return Array.from(a.querySelectorAll(r));const p=a.querySelector(r);return p?[p]:[]}let Ie=(()=>{class a{validateStyleProperty(l){return function Qt(a){dt||(dt=function In(){return typeof document<"u"?document.body:null}()||{},Ct=!!dt.style&&"WebkitAppearance"in dt.style);let r=!0;return dt.style&&!function xt(a){return"ebkit"==a.substring(1,6)}(a)&&(r=a in dt.style,!r&&Ct&&(r="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in dt.style)),r}(l)}containsElement(l,p){return rn(l,p)}getParentElement(l){return Xe(l)}query(l,p,T){return $t(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,X,re,Ce=[],Le){return new d.sf(T,X)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})();class se{static#e=this.NOOP=new Ie}class fe{}const It=1e3,Pt="ng-enter",an="ng-leave",Et="ng-trigger",bt=".ng-trigger",Yt="ng-animating",Xt=".ng-animating";function nn(a){if("number"==typeof a)return a;const r=a.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:yn(parseFloat(r[1]),r[2])}function yn(a,r){return"s"===r?a*It:a}function Mn(a,r,l){return a.hasOwnProperty("duration")?a:function Ln(a,r,l){let T,X=0,re="";if("string"==typeof a){const Ce=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return r.push(g()),{duration:0,delay:0,easing:""};T=yn(parseFloat(Ce[1]),Ce[2]);const Le=Ce[3];null!=Le&&(X=yn(parseFloat(Le),Ce[4]));const at=Ce[5];at&&(re=at)}else T=a;if(!l){let Ce=!1,Le=r.length;T<0&&(r.push(function b(){return new n.wOt(3100,!1)}()),Ce=!0),X<0&&(r.push(function E(){return new n.wOt(3101,!1)}()),Ce=!0),Ce&&r.splice(Le,0,g())}return{duration:T,delay:X,easing:re}}(a,r,l)}function Ht(a,r,l){r.forEach((p,T)=>{const X=Pe(T);l&&!l.has(T)&&l.set(T,a.style[X]),a.style[X]=p})}function ze(a,r){r.forEach((l,p)=>{const T=Pe(p);a.style[T]=""})}function Bt(a){return Array.isArray(a)?1==a.length?a[0]:(0,d.K2)(a):a}const Ge=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tt(a){let r=[];if("string"==typeof a){let l;for(;l=Ge.exec(a);)r.push(l[1]);Ge.lastIndex=0}return r}function Wt(a,r,l){const p=`${a}`,T=p.replace(Ge,(X,re)=>{let Ce=r[re];return null==Ce&&(l.push(function u(){return new n.wOt(3003,!1)}()),Ce=""),Ce.toString()});return T==p?a:T}const We=/-+([a-z0-9])/g;function Pe(a){return a.replace(We,(...r)=>r[1].toUpperCase())}function Qe(a,r,l){switch(r.type){case d.If.Trigger:return a.visitTrigger(r,l);case d.If.State:return a.visitState(r,l);case d.If.Transition:return a.visitTransition(r,l);case d.If.Sequence:return a.visitSequence(r,l);case d.If.Group:return a.visitGroup(r,l);case d.If.Animate:return a.visitAnimate(r,l);case d.If.Keyframes:return a.visitKeyframes(r,l);case d.If.Style:return a.visitStyle(r,l);case d.If.Reference:return a.visitReference(r,l);case d.If.AnimateChild:return a.visitAnimateChild(r,l);case d.If.AnimateRef:return a.visitAnimateRef(r,l);case d.If.Query:return a.visitQuery(r,l);case d.If.Stagger:return a.visitStagger(r,l);default:throw function I(){return new n.wOt(3004,!1)}()}}function vt(a,r){return window.getComputedStyle(a)[r]}const et=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Re extends fe{normalizePropertyName(r,l){return Pe(r)}normalizeStyleValue(r,l,p,T){let X="";const re=p.toString().trim();if(et.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)X="px";else{const Ce=p.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&T.push(function k(){return new n.wOt(3005,!1)}())}return re+X}}const xn="*";const Ii=new Set(["true","1"]),yi=new Set(["false","0"]);function ss(a,r){const l=Ii.has(a)||yi.has(a),p=Ii.has(r)||yi.has(r);return(T,X)=>{let re=a==xn||a==T,Ce=r==xn||r==X;return!re&&l&&"boolean"==typeof T&&(re=T?Ii.has(a):yi.has(a)),!Ce&&p&&"boolean"==typeof X&&(Ce=X?Ii.has(r):yi.has(r)),re&&Ce}}const $i=new RegExp("s*:selfs*,?","g");function mn(a,r,l,p){return new pt(a).build(r,l,p)}class pt{constructor(r){this._driver=r}build(r,l,p){const T=new st(l);return this._resetContextStyleTimingState(T),Qe(this,Bt(r),T)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,l){let p=l.queryCount=0,T=l.depCount=0;const X=[],re=[];return"@"==r.name.charAt(0)&&l.errors.push(function y(){return new n.wOt(3006,!1)}()),r.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(l),Ce.type==d.If.State){const Le=Ce,at=Le.name;at.toString().split(/\s*,\s*/).forEach(Ft=>{Le.name=Ft,X.push(this.visitState(Le,l))}),Le.name=at}else if(Ce.type==d.If.Transition){const Le=this.visitTransition(Ce,l);p+=Le.queryCount,T+=Le.depCount,re.push(Le)}else l.errors.push(function x(){return new n.wOt(3007,!1)}())}),{type:d.If.Trigger,name:r.name,states:X,transitions:re,queryCount:p,depCount:T,options:null}}visitState(r,l){const p=this.visitStyle(r.styles,l),T=r.options&&r.options.params||null;if(p.containsDynamicStyles){const X=new Set,re=T||{};p.styles.forEach(Ce=>{Ce instanceof Map&&Ce.forEach(Le=>{Tt(Le).forEach(at=>{re.hasOwnProperty(at)||X.add(at)})})}),X.size&&l.errors.push(function M(){return new n.wOt(3008,!1)}(0,X.values()))}return{type:d.If.State,name:r.name,style:p,options:T?{params:T}:null}}visitTransition(r,l){l.queryCount=0,l.depCount=0;const p=Qe(this,Bt(r.animation),l),T=function Wn(a,r){const l=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(p=>function Xn(a,r,l){if(":"==a[0]){const Le=function ti(a,r){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return r.push(function G(){return new n.wOt(3016,!1)}()),"* => *"}}(a,l);if("function"==typeof Le)return void r.push(Le);a=Le}const p=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function L(){return new n.wOt(3015,!1)}()),r;const T=p[1],X=p[2],re=p[3];r.push(ss(T,re)),"<"==X[0]&&(T!=xn||re!=xn)&&r.push(ss(re,T))}(p,l,r)):l.push(a),l}(r.expr,l.errors);return{type:d.If.Transition,matchers:T,animation:p,queryCount:l.queryCount,depCount:l.depCount,options:Se(r.options)}}visitSequence(r,l){return{type:d.If.Sequence,steps:r.steps.map(p=>Qe(this,p,l)),options:Se(r.options)}}visitGroup(r,l){const p=l.currentTime;let T=0;const X=r.steps.map(re=>{l.currentTime=p;const Ce=Qe(this,re,l);return T=Math.max(T,l.currentTime),Ce});return l.currentTime=T,{type:d.If.Group,steps:X,options:Se(r.options)}}visitAnimate(r,l){const p=function Gt(a,r){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return At(Mn(a,r).duration,0,"");const l=a;if(l.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=At(0,0,"");return X.dynamic=!0,X.strValue=l,X}const T=Mn(l,r);return At(T.duration,T.delay,T.easing)}(r.timings,l.errors);l.currentAnimateTimings=p;let T,X=r.styles?r.styles:(0,d.iF)({});if(X.type==d.If.Keyframes)T=this.visitKeyframes(X,l);else{let re=r.styles,Ce=!1;if(!re){Ce=!0;const at={};p.easing&&(at.easing=p.easing),re=(0,d.iF)(at)}l.currentTime+=p.duration+p.delay;const Le=this.visitStyle(re,l);Le.isEmptyStep=Ce,T=Le}return l.currentAnimateTimings=null,{type:d.If.Animate,timings:p,style:T,options:null}}visitStyle(r,l){const p=this._makeStyleAst(r,l);return this._validateStyleAst(p,l),p}_makeStyleAst(r,l){const p=[],T=Array.isArray(r.styles)?r.styles:[r.styles];for(let Ce of T)"string"==typeof Ce?Ce===d.kp?p.push(Ce):l.errors.push(new n.wOt(3002,!1)):p.push(new Map(Object.entries(Ce)));let X=!1,re=null;return p.forEach(Ce=>{if(Ce instanceof Map&&(Ce.has("easing")&&(re=Ce.get("easing"),Ce.delete("easing")),!X))for(let Le of Ce.values())if(Le.toString().indexOf("{{")>=0){X=!0;break}}),{type:d.If.Style,styles:p,easing:re,offset:r.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(r,l){const p=l.currentAnimateTimings;let T=l.currentTime,X=l.currentTime;p&&X>0&&(X-=p.duration+p.delay),r.styles.forEach(re=>{"string"!=typeof re&&re.forEach((Ce,Le)=>{const at=l.collectedStyles.get(l.currentQuerySelector),Ft=at.get(Le);let Ut=!0;Ft&&(X!=T&&X>=Ft.startTime&&T<=Ft.endTime&&(l.errors.push(function P(){return new n.wOt(3010,!1)}()),Ut=!1),X=Ft.startTime),Ut&&at.set(Le,{startTime:X,endTime:T}),l.options&&function Te(a,r,l){const p=r.params||{},T=Tt(a);T.length&&T.forEach(X=>{p.hasOwnProperty(X)||l.push(function _(){return new n.wOt(3001,!1)}())})}(Ce,l.options,l.errors)})})}visitKeyframes(r,l){const p={type:d.If.Keyframes,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function j(){return new n.wOt(3011,!1)}()),p;let X=0;const re=[];let Ce=!1,Le=!1,at=0;const Ft=r.steps.map(hi=>{const Ai=this._makeStyleAst(hi,l);let Qi=null!=Ai.offset?Ai.offset:function it(a){if("string"==typeof a)return null;let r=null;if(Array.isArray(a))a.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;r=parseFloat(p.get("offset")),p.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const l=a;r=parseFloat(l.get("offset")),l.delete("offset")}return r}(Ai.styles),Li=0;return null!=Qi&&(X++,Li=Ai.offset=Qi),Le=Le||Li<0||Li>1,Ce=Ce||Li<at,at=Li,re.push(Li),Ai});Le&&l.errors.push(function S(){return new n.wOt(3012,!1)}()),Ce&&l.errors.push(function w(){return new n.wOt(3200,!1)}());const Ut=r.steps.length;let fn=0;X>0&&X<Ut?l.errors.push(function m(){return new n.wOt(3202,!1)}()):0==X&&(fn=1/(Ut-1));const Cn=Ut-1,En=l.currentTime,Nn=l.currentAnimateTimings,ui=Nn.duration;return Ft.forEach((hi,Ai)=>{const Qi=fn>0?Ai==Cn?1:fn*Ai:re[Ai],Li=Qi*ui;l.currentTime=En+Nn.delay+Li,Nn.duration=Li,this._validateStyleAst(hi,l),hi.offset=Qi,p.styles.push(hi)}),p}visitReference(r,l){return{type:d.If.Reference,animation:Qe(this,Bt(r.animation),l),options:Se(r.options)}}visitAnimateChild(r,l){return l.depCount++,{type:d.If.AnimateChild,options:Se(r.options)}}visitAnimateRef(r,l){return{type:d.If.AnimateRef,animation:this.visitReference(r.animation,l),options:Se(r.options)}}visitQuery(r,l){const p=l.currentQuerySelector,T=r.options||{};l.queryCount++,l.currentQuery=r;const[X,re]=function St(a){const r=!!a.split(/\s*,\s*/).find(l=>":self"==l);return r&&(a=a.replace($i,"")),a=a.replace(/@\*/g,bt).replace(/@\w+/g,l=>bt+"-"+l.slice(1)).replace(/:animating/g,Xt),[a,r]}(r.selector);l.currentQuerySelector=p.length?p+" "+X:X,he(l.collectedStyles,l.currentQuerySelector,new Map);const Ce=Qe(this,Bt(r.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:d.If.Query,selector:X,limit:T.limit||0,optional:!!T.optional,includeSelf:re,animation:Ce,originalSelector:r.selector,options:Se(r.options)}}visitStagger(r,l){l.currentQuery||l.errors.push(function v(){return new n.wOt(3013,!1)}());const p="full"===r.timings?{duration:0,delay:0,easing:"full"}:Mn(r.timings,l.errors,!0);return{type:d.If.Stagger,animation:Qe(this,Bt(r.animation),l),timings:p,options:null}}}class st{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Se(a){return a?(a={...a}).params&&(a.params=function bn(a){return a?{...a}:null}(a.params)):a={},a}function At(a,r,l){return{duration:a,delay:r,easing:l}}function ne(a,r,l,p,T,X,re=null,Ce=!1){return{type:1,element:a,keyframes:r,preStyleProps:l,postStyleProps:p,duration:T,delay:X,totalTime:T+X,easing:re,subTimeline:Ce}}class ke{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,l){let p=this._map.get(r);p||this._map.set(r,p=[]),p.push(...l)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const hn=new RegExp(":enter","g"),ai=new RegExp(":leave","g");function Ei(a,r,l,p,T,X=new Map,re=new Map,Ce,Le,at=[]){return(new es).buildKeyframes(a,r,l,p,T,X,re,Ce,Le,at)}class es{buildKeyframes(r,l,p,T,X,re,Ce,Le,at,Ft=[]){at=at||new ke;const Ut=new zi(r,l,at,T,X,Ft,[]);Ut.options=Le;const fn=Le.delay?nn(Le.delay):0;Ut.currentTimeline.delayNextStep(fn),Ut.currentTimeline.setStyles([re],null,Ut.errors,Le),Qe(this,p,Ut);const Cn=Ut.timelines.filter(En=>En.containsAnimation());if(Cn.length&&Ce.size){let En;for(let Nn=Cn.length-1;Nn>=0;Nn--){const ui=Cn[Nn];if(ui.element===l){En=ui;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([Ce],null,Ut.errors,Le)}return Cn.length?Cn.map(En=>En.buildKeyframes()):[ne(l,[],[],[],0,fn,"",!1)]}visitTrigger(r,l){}visitState(r,l){}visitTransition(r,l){}visitAnimateChild(r,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(r.options),X=l.currentTimeline.currentTime,re=this._visitSubInstructions(p,T,T.options);X!=re&&l.transformIntoNewTimeline(re)}l.previousNode=r}visitAnimateRef(r,l){const p=l.createSubContext(r.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],l,p),this.visitReference(r.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=r}_applyAnimationRefDelays(r,l,p){for(const T of r){const X=T?.delay;if(X){const re="number"==typeof X?X:nn(Wt(X,T?.params??{},l.errors));p.delayNextStep(re)}}}_visitSubInstructions(r,l,p){let X=l.currentTimeline.currentTime;const re=null!=p.duration?nn(p.duration):null,Ce=null!=p.delay?nn(p.delay):null;return 0!==re&&r.forEach(Le=>{const at=l.appendInstructionToTimeline(Le,re,Ce);X=Math.max(X,at.duration+at.delay)}),X}visitReference(r,l){l.updateOptions(r.options,!0),Qe(this,r.animation,l),l.previousNode=r}visitSequence(r,l){const p=l.subContextCount;let T=l;const X=r.options;if(X&&(X.params||X.delay)&&(T=l.createSubContext(X),T.transformIntoNewTimeline(),null!=X.delay)){T.previousNode.type==d.If.Style&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Wi);const re=nn(X.delay);T.delayNextStep(re)}r.steps.length&&(r.steps.forEach(re=>Qe(this,re,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=r}visitGroup(r,l){const p=[];let T=l.currentTimeline.currentTime;const X=r.options&&r.options.delay?nn(r.options.delay):0;r.steps.forEach(re=>{const Ce=l.createSubContext(r.options);X&&Ce.delayNextStep(X),Qe(this,re,Ce),T=Math.max(T,Ce.currentTimeline.currentTime),p.push(Ce.currentTimeline)}),p.forEach(re=>l.currentTimeline.mergeTimelineCollectedStyles(re)),l.transformIntoNewTimeline(T),l.previousNode=r}_visitTiming(r,l){if(r.dynamic){const p=r.strValue;return Mn(l.params?Wt(p,l.params,l.errors):p,l.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,l){const p=l.currentAnimateTimings=this._visitTiming(r.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const X=r.style;X.type==d.If.Keyframes?this.visitKeyframes(X,l):(l.incrementTime(p.duration),this.visitStyle(X,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=r}visitStyle(r,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const X=T&&T.easing||r.easing;r.isEmptyStep?p.applyEmptyStep(X):p.setStyles(r.styles,X,l.errors,l.options),l.previousNode=r}visitKeyframes(r,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,X=p.duration,Ce=l.createSubContext().currentTimeline;Ce.easing=p.easing,r.styles.forEach(Le=>{Ce.forwardTime((Le.offset||0)*X),Ce.setStyles(Le.styles,Le.easing,l.errors,l.options),Ce.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(Ce),l.transformIntoNewTimeline(T+X),l.previousNode=r}visitQuery(r,l){const p=l.currentTimeline.currentTime,T=r.options||{},X=T.delay?nn(T.delay):0;X&&(l.previousNode.type===d.If.Style||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Wi);let re=p;const Ce=l.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=Ce.length;let Le=null;Ce.forEach((at,Ft)=>{l.currentQueryIndex=Ft;const Ut=l.createSubContext(r.options,at);X&&Ut.delayNextStep(X),at===l.element&&(Le=Ut.currentTimeline),Qe(this,r.animation,Ut),Ut.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Ut.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(re),Le&&(l.currentTimeline.mergeTimelineCollectedStyles(Le),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=r}visitStagger(r,l){const p=l.parentContext,T=l.currentTimeline,X=r.timings,re=Math.abs(X.duration),Ce=re*(l.currentQueryTotal-1);let Le=re*l.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":Le=Ce-Le;break;case"full":Le=p.currentStaggerTime}const Ft=l.currentTimeline;Le&&Ft.delayNextStep(Le);const Ut=Ft.currentTime;Qe(this,r.animation,l),l.previousNode=r,p.currentStaggerTime=T.currentTime-Ut+(T.startTime-p.currentTimeline.startTime)}}const Wi={};class zi{constructor(r,l,p,T,X,re,Ce,Le){this._driver=r,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=X,this.errors=re,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new Ji(this._driver,l,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,l){if(!r)return;const p=r;let T=this.options;null!=p.duration&&(T.duration=nn(p.duration)),null!=p.delay&&(T.delay=nn(p.delay));const X=p.params;if(X){let re=T.params;re||(re=this.options.params={}),Object.keys(X).forEach(Ce=>{(!l||!re.hasOwnProperty(Ce))&&(re[Ce]=Wt(X[Ce],re,this.errors))})}}_copyOptions(){const r={};if(this.options){const l=this.options.params;if(l){const p=r.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return r}createSubContext(r=null,l,p){const T=l||this.element,X=new zi(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(r),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(r){return this.previousNode=Wi,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,l,p){const T={duration:l??r.duration,delay:this.currentTimeline.currentTime+(p??0)+r.delay,easing:""},X=new Qn(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,T,r.stretchStartingKeyframe);return this.timelines.push(X),T}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,l,p,T,X,re){let Ce=[];if(T&&Ce.push(this.element),r.length>0){r=(r=r.replace(hn,"."+this._enterClassName)).replace(ai,"."+this._leaveClassName);let at=this._driver.query(this.element,r,1!=p);0!==p&&(at=p<0?at.slice(at.length+p,at.length):at.slice(0,p)),Ce.push(...at)}return!X&&0==Ce.length&&re.push(function A(){return new n.wOt(3014,!1)}()),Ce}}class Ji{constructor(r,l,p,T){this._driver=r,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+r),l&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,l){return this.applyStylesToKeyframe(),new Ji(this._driver,r,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,l){this._localTimelineStyles.set(r,l),this._globalTimelineStyles.set(r,l),this._styleSummary.set(r,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||d.kp),this._currentKeyframe.set(l,d.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,l,p,T){l&&this._previousKeyframe.set("easing",l);const X=T&&T.params||{},re=function Gi(a,r){const l=new Map;let p;return a.forEach(T=>{if("*"===T){p??=r.keys();for(let X of p)l.set(X,d.kp)}else for(let[X,re]of T)l.set(X,re)}),l}(r,this._globalTimelineStyles);for(let[Ce,Le]of re){const at=Wt(Le,X,p);this._pendingStyles.set(Ce,at),this._localTimelineStyles.has(Ce)||this._backFill.set(Ce,this._globalTimelineStyles.get(Ce)??d.kp),this._updateStyle(Ce,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,l)=>{this._currentKeyframe.set(l,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,r)}))}snapshotCurrentStyles(){for(let[r,l]of this._localTimelineStyles)this._pendingStyles.set(r,l),this._updateStyle(r,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let l in this._currentKeyframe)r.push(l);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((Ce,Le)=>{const at=new Map([...this._backFill,...Ce]);at.forEach((Ft,Ut)=>{Ft===d.FX?r.add(Ut):Ft===d.kp&&l.add(Ut)}),p||at.set("offset",Le/this.duration),T.push(at)});const X=[...r.values()],re=[...l.values()];if(p){const Ce=T[0],Le=new Map(Ce);Ce.set("offset",0),Le.set("offset",1),T=[Ce,Le]}return ne(this.element,T,X,re,this.duration,this.startTime,this.easing,!1)}}class Qn extends Ji{constructor(r,l,p,T,X,re,Ce=!1){super(r,l,re.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=X,this._stretchStartingKeyframe=Ce,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const X=[],re=p+l,Ce=l/re,Le=new Map(r[0]);Le.set("offset",0),X.push(Le);const at=new Map(r[0]);at.set("offset",Js(Ce)),X.push(at);const Ft=r.length-1;for(let Ut=1;Ut<=Ft;Ut++){let fn=new Map(r[Ut]);const Cn=fn.get("offset");fn.set("offset",Js((l+Cn*p)/re)),X.push(fn)}p=re,l=0,T="",r=X}return ne(this.element,r,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function Js(a,r=3){const l=Math.pow(10,r-1);return Math.round(a*l)/l}function mo(a,r,l,p,T,X,re,Ce,Le,at,Ft,Ut,fn){return{type:0,element:a,triggerName:r,isRemovalTransition:T,fromState:l,fromStyles:X,toState:p,toStyles:re,timelines:Ce,queriedElements:Le,preStyleProps:at,postStyleProps:Ft,totalTime:Ut,errors:fn}}const ho={};class io{constructor(r,l,p){this._triggerName=r,this.ast=l,this._stateStyles=p}match(r,l,p,T){return function Ts(a,r,l,p,T){return a.some(X=>X(r,l,p,T))}(this.ast.matchers,r,l,p,T)}buildStyles(r,l,p){let T=this._stateStyles.get("*");return void 0!==r&&(T=this._stateStyles.get(r?.toString())||T),T?T.buildStyles(l,p):new Map}build(r,l,p,T,X,re,Ce,Le,at,Ft){const Ut=[],fn=this.ast.options&&this.ast.options.params||ho,En=this.buildStyles(p,Ce&&Ce.params||ho,Ut),Nn=Le&&Le.params||ho,ui=this.buildStyles(T,Nn,Ut),hi=new Set,Ai=new Map,Qi=new Map,Li="void"===T,cs={params:Tr(Nn,fn),delay:this.ast.options?.delay},mi=Ft?[]:Ei(r,l,this.ast.animation,X,re,En,ui,cs,at,Ut);let qn=0;return mi.forEach(wi=>{qn=Math.max(wi.duration+wi.delay,qn)}),Ut.length?mo(l,this._triggerName,p,T,Li,En,ui,[],[],Ai,Qi,qn,Ut):(mi.forEach(wi=>{const Ns=wi.element,Di=he(Ai,Ns,new Set);wi.preStyleProps.forEach(hs=>Di.add(hs));const ts=he(Qi,Ns,new Set);wi.postStyleProps.forEach(hs=>ts.add(hs)),Ns!==l&&hi.add(Ns)}),mo(l,this._triggerName,p,T,Li,En,ui,mi,[...hi.values()],Ai,Qi,qn))}}function Tr(a,r){const l={...r};return Object.entries(a).forEach(([p,T])=>{null!=T&&(l[p]=T)}),l}class tr{constructor(r,l,p){this.styles=r,this.defaultParams=l,this.normalizer=p}buildStyles(r,l){const p=new Map,T=Tr(r,this.defaultParams);return this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((re,Ce)=>{re&&(re=Wt(re,T,l));const Le=this.normalizer.normalizePropertyName(Ce,l);re=this.normalizer.normalizeStyleValue(Ce,Le,re,l),p.set(Ce,re)})}),p}}class nr{constructor(r,l,p){this.name=r,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new tr(T.style,T.options&&T.options.params||{},p))}),Dr(this.states,"true","1"),Dr(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new io(r,T,this.states))}),this.fallbackTransition=function pr(a,r){return new io(a,{type:d.If.Transition,animation:{type:d.If.Sequence,steps:[],options:null},matchers:[(re,Ce)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,l,p,T){return this.transitionFactories.find(re=>re.match(r,l,p,T))||null}matchStyles(r,l,p){return this.fallbackTransition.buildStyles(r,l,p)}}function Dr(a,r,l){a.has(r)?a.has(l)||a.set(l,a.get(r)):a.has(l)&&a.set(r,a.get(l))}const qr=new ke;class Nr{constructor(r,l,p){this.bodyNode=r,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,l){const p=[],X=mn(this._driver,l,p,[]);if(p.length)throw function te(){return new n.wOt(3503,!1)}();this._animations.set(r,X)}_buildPlayer(r,l,p){const T=r.element,X=qe(this._normalizer,r.keyframes,l,p);return this._driver.animate(T,X,r.duration,r.delay,r.easing,[],!0)}create(r,l,p={}){const T=[],X=this._animations.get(r);let re;const Ce=new Map;if(X?(re=Ei(this._driver,l,X,Pt,an,new Map,new Map,p,qr,T),re.forEach(Ft=>{const Ut=he(Ce,Ft.element,new Map);Ft.postStyleProps.forEach(fn=>Ut.set(fn,null))})):(T.push(function ie(){return new n.wOt(3300,!1)}()),re=[]),T.length)throw function me(){return new n.wOt(3504,!1)}();Ce.forEach((Ft,Ut)=>{Ft.forEach((fn,Cn)=>{Ft.set(Cn,this._driver.computeStyle(Ut,Cn,d.kp))})});const at=Ye(re.map(Ft=>{const Ut=Ce.get(Ft.element);return this._buildPlayer(Ft,new Map,Ut)}));return this._playersById.set(r,at),at.onDestroy(()=>this.destroy(r)),this.players.push(at),at}destroy(r){const l=this._getPlayer(r);l.destroy(),this._playersById.delete(r);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(r){const l=this._playersById.get(r);if(!l)throw function Y(){return new n.wOt(3301,!1)}();return l}listen(r,l,p,T){const X=pe(l,"","","");return Ne(this._getPlayer(r),p,X,T),()=>{}}command(r,l,p,T){if("register"==p)return void this.register(r,T[0]);if("create"==p)return void this.create(r,l,T[0]||{});const X=this._getPlayer(r);switch(p){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(r)}}}const ea="ng-animate-queued",Br="ng-animate-disabled",_o=[],ta={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ir={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ve="__ng_removed";class jt{get params(){return this.options.params}constructor(r,l=""){this.namespaceId=l;const p=r&&r.hasOwnProperty("value");if(this.value=function Ks(a){return a??null}(p?r.value:r),p){const{value:X,...re}=r;this.options=re}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const l=r.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const un="void",kn=new jt(un);class Bi{constructor(r,l,p){this.id=r,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ws(l,this._hostClassName)}listen(r,l,p,T){if(!this._triggers.has(l))throw function F(){return new n.wOt(3302,!1)}();if(null==p||0==p.length)throw function N(){return new n.wOt(3303,!1)}();if(!function $s(a){return"start"==a||"done"==a}(p))throw function J(){return new n.wOt(3400,!1)}();const X=he(this._elementListeners,r,[]),re={name:l,phase:p,callback:T};X.push(re);const Ce=he(this._engine.statesByElement,r,new Map);return Ce.has(l)||(ws(r,Et),ws(r,Et+"-"+l),Ce.set(l,kn)),()=>{this._engine.afterFlush(()=>{const Le=X.indexOf(re);Le>=0&&X.splice(Le,1),this._triggers.has(l)||Ce.delete(l)})}}register(r,l){return!this._triggers.has(r)&&(this._triggers.set(r,l),!0)}_getTrigger(r){const l=this._triggers.get(r);if(!l)throw function ae(){return new n.wOt(3401,!1)}();return l}trigger(r,l,p,T=!0){const X=this._getTrigger(l),re=new Ki(this.id,l,r);let Ce=this._engine.statesByElement.get(r);Ce||(ws(r,Et),ws(r,Et+"-"+l),this._engine.statesByElement.set(r,Ce=new Map));let Le=Ce.get(l);const at=new jt(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Le&&at.absorbOptions(Le.options),Ce.set(l,at),Le||(Le=kn),at.value!==un&&Le.value===at.value){if(!function xo(a,r){const l=Object.keys(a),p=Object.keys(r);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const X=l[T];if(!r.hasOwnProperty(X)||a[X]!==r[X])return!1}return!0}(Le.params,at.params)){const Nn=[],ui=X.matchStyles(Le.value,Le.params,Nn),hi=X.matchStyles(at.value,at.params,Nn);Nn.length?this._engine.reportError(Nn):this._engine.afterFlush(()=>{ze(r,ui),Ht(r,hi)})}return}const fn=he(this._engine.playersByElement,r,[]);fn.forEach(Nn=>{Nn.namespaceId==this.id&&Nn.triggerName==l&&Nn.queued&&Nn.destroy()});let Cn=X.matchTransition(Le.value,at.value,r,at.params),En=!1;if(!Cn){if(!T)return;Cn=X.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:l,transition:Cn,fromState:Le,toState:at,player:re,isFallbackTransition:En}),En||(ws(r,ea),re.onStart(()=>{Po(r,ea)})),re.onDone(()=>{let Nn=this.players.indexOf(re);Nn>=0&&this.players.splice(Nn,1);const ui=this._engine.playersByElement.get(r);if(ui){let hi=ui.indexOf(re);hi>=0&&ui.splice(hi,1)}}),this.players.push(re),fn.push(re),re}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(l=>l.delete(r)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const l=this._engine.playersByElement.get(r);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,l){const p=this._engine.driver.query(r,bt,!0);p.forEach(T=>{if(T[Ve])return;const X=this._engine.fetchNamespacesByElement(T);X.size?X.forEach(re=>re.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(r,l,p,T){const X=this._engine.statesByElement.get(r),re=new Map;if(X){const Ce=[];if(X.forEach((Le,at)=>{if(re.set(at,Le.value),this._triggers.has(at)){const Ft=this.trigger(r,at,un,T);Ft&&Ce.push(Ft)}}),Ce.length)return this._engine.markElementAsRemoved(this.id,r,!0,l,re),p&&Ye(Ce).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const l=this._elementListeners.get(r),p=this._engine.statesByElement.get(r);if(l&&p){const T=new Set;l.forEach(X=>{const re=X.name;if(T.has(re))return;T.add(re);const Le=this._triggers.get(re).fallbackTransition,at=p.get(re)||kn,Ft=new jt(un),Ut=new Ki(this.id,re,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:re,transition:Le,fromState:at,toState:Ft,player:Ut,isFallbackTransition:!0})})}}removeNode(r,l){const p=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,l),this.triggerLeaveAnimation(r,l,!0))return;let T=!1;if(p.totalAnimations){const X=p.players.length?p.playersByQueriedElement.get(r):[];if(X&&X.length)T=!0;else{let re=r;for(;re=re.parentNode;)if(p.statesByElement.get(re)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(r),T)p.markElementAsRemoved(this.id,r,!1,l);else{const X=r[Ve];(!X||X===ta)&&(p.afterFlush(()=>this.clearElementCache(r)),p.destroyInnerAnimations(r),p._onRemovalComplete(r,l))}}insertNode(r,l){ws(r,this._hostClassName)}drainQueuedTransitions(r){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const X=p.element,re=this._elementListeners.get(X);re&&re.forEach(Ce=>{if(Ce.name==p.triggerName){const Le=pe(X,p.triggerName,p.fromState.value,p.toState.value);Le._data=r,Ne(p.player,Ce.phase,Le,Ce.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const X=p.transition.ast.depCount,re=T.transition.ast.depCount;return 0==X||0==re?X-re:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(r){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class vi{_onRemovalComplete(r,l){this.onRemovalComplete(r,l)}constructor(r,l,p){this.bodyNode=r,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,X)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&r.push(p)})}),r}createNamespace(r,l){const p=new Bi(r,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[r]=p}_balanceNamespaceList(r,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let re=!1,Ce=this.driver.getParentElement(l);for(;Ce;){const Le=T.get(Ce);if(Le){const at=p.indexOf(Le);p.splice(at+1,0,r),re=!0;break}Ce=this.driver.getParentElement(Ce)}re||p.unshift(r)}else p.push(r);return T.set(l,r),r}register(r,l){let p=this._namespaceLookup[r];return p||(p=this.createNamespace(r,l)),p}registerTrigger(r,l,p){let T=this._namespaceLookup[r];T&&T.register(l,p)&&this.totalAnimations++}destroy(r,l){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(r);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const l=new Set,p=this.statesByElement.get(r);if(p)for(let T of p.values())if(T.namespaceId){const X=this._fetchNamespace(T.namespaceId);X&&l.add(X)}return l}trigger(r,l,p,T){if(vs(l)){const X=this._fetchNamespace(r);if(X)return X.trigger(l,p,T),!0}return!1}insertNode(r,l,p,T){if(!vs(l))return;const X=l[Ve];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const re=this.collectedLeaveElements.indexOf(l);re>=0&&this.collectedLeaveElements.splice(re,1)}if(r){const re=this._fetchNamespace(r);re&&re.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,l){l?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ws(r,Br)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Po(r,Br))}removeNode(r,l,p){if(vs(l)){const T=r?this._fetchNamespace(r):null;T?T.removeNode(l,p):this.markElementAsRemoved(r,l,!1,p);const X=this.namespacesByHostElement.get(l);X&&X.id!==r&&X.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(r,l,p,T,X){this.collectedLeaveElements.push(l),l[Ve]={namespaceId:r,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:X}}listen(r,l,p,T,X){return vs(l)?this._fetchNamespace(r).listen(l,p,T,X):()=>{}}_buildInstruction(r,l,p,T,X){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,p,T,r.fromState.options,r.toState.options,l,X)}destroyInnerAnimations(r){let l=this.driver.query(r,bt,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(r,Xt,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(r){const l=this.playersByElement.get(r);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(r){const l=this.playersByQueriedElement.get(r);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Ye(this.players).onDone(()=>r());r()})}processLeaveNode(r){const l=r[Ve];if(l&&l.setForRemoval){if(r[Ve]=ta,l.namespaceId){this.destroyInnerAnimations(r);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(r)}this._onRemovalComplete(r,l.setForRemoval)}r.classList?.contains(Br)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(r=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)ws(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,r)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?Ye(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(r){throw function _e(){return new n.wOt(3402,!1)}()}_flushAnimations(r,l){const p=new ke,T=[],X=new Map,re=[],Ce=new Map,Le=new Map,at=new Map,Ft=new Set;this.disabledNodes.forEach(si=>{Ft.add(si);const xi=this.driver.query(si,".ng-animate-queued",!0);for(let Mi=0;Mi<xi.length;Mi++)Ft.add(xi[Mi])});const Ut=this.bodyNode,fn=Array.from(this.statesByElement.keys()),Cn=qs(fn,this.collectedEnterElements),En=new Map;let Nn=0;Cn.forEach((si,xi)=>{const Mi=Pt+Nn++;En.set(xi,Mi),si.forEach(gs=>ws(gs,Mi))});const ui=[],hi=new Set,Ai=new Set;for(let si=0;si<this.collectedLeaveElements.length;si++){const xi=this.collectedLeaveElements[si],Mi=xi[Ve];Mi&&Mi.setForRemoval&&(ui.push(xi),hi.add(xi),Mi.hasAnimation?this.driver.query(xi,".ng-star-inserted",!0).forEach(gs=>hi.add(gs)):Ai.add(xi))}const Qi=new Map,Li=qs(fn,Array.from(hi));Li.forEach((si,xi)=>{const Mi=an+Nn++;Qi.set(xi,Mi),si.forEach(gs=>ws(gs,Mi))}),r.push(()=>{Cn.forEach((si,xi)=>{const Mi=En.get(xi);si.forEach(gs=>Po(gs,Mi))}),Li.forEach((si,xi)=>{const Mi=Qi.get(xi);si.forEach(gs=>Po(gs,Mi))}),ui.forEach(si=>{this.processLeaveNode(si)})});const cs=[],mi=[];for(let si=this._namespaceList.length-1;si>=0;si--)this._namespaceList[si].drainQueuedTransitions(l).forEach(Mi=>{const gs=Mi.player,Bo=Mi.element;if(cs.push(gs),this.collectedEnterElements.length){const da=Bo[Ve];if(da&&da.setForMove){if(da.previousTriggersValues&&da.previousTriggersValues.has(Mi.triggerName)){const hd=da.previousTriggersValues.get(Mi.triggerName),wl=this.statesByElement.get(Mi.element);if(wl&&wl.has(Mi.triggerName)){const bu=wl.get(Mi.triggerName);bu.value=hd,wl.set(Mi.triggerName,bu)}}return void gs.destroy()}}const mc=!Ut||!this.driver.containsElement(Ut,Bo),Al=Qi.get(Bo),Uc=En.get(Bo),$o=this._buildInstruction(Mi,p,Uc,Al,mc);if($o.errors&&$o.errors.length)return void mi.push($o);if(mc)return gs.onStart(()=>ze(Bo,$o.fromStyles)),gs.onDestroy(()=>Ht(Bo,$o.toStyles)),void T.push(gs);if(Mi.isFallbackTransition)return gs.onStart(()=>ze(Bo,$o.fromStyles)),gs.onDestroy(()=>Ht(Bo,$o.toStyles)),void T.push(gs);const zp=[];$o.timelines.forEach(da=>{da.stretchStartingKeyframe=!0,this.disabledNodes.has(da.element)||zp.push(da)}),$o.timelines=zp,p.append(Bo,$o.timelines),re.push({instruction:$o,player:gs,element:Bo}),$o.queriedElements.forEach(da=>he(Ce,da,[]).push(gs)),$o.preStyleProps.forEach((da,hd)=>{if(da.size){let wl=Le.get(hd);wl||Le.set(hd,wl=new Set),da.forEach((bu,M_)=>wl.add(M_))}}),$o.postStyleProps.forEach((da,hd)=>{let wl=at.get(hd);wl||at.set(hd,wl=new Set),da.forEach((bu,M_)=>wl.add(M_))})});if(mi.length){const si=[];mi.forEach(xi=>{si.push(function Fe(){return new n.wOt(3505,!1)}())}),cs.forEach(xi=>xi.destroy()),this.reportError(si)}const qn=new Map,wi=new Map;re.forEach(si=>{const xi=si.element;p.has(xi)&&(wi.set(xi,xi),this._beforeAnimationBuild(si.player.namespaceId,si.instruction,qn))}),T.forEach(si=>{const xi=si.element;this._getPreviousPlayers(xi,!1,si.namespaceId,si.triggerName,null).forEach(gs=>{he(qn,xi,[]).push(gs),gs.destroy()})});const Ns=ui.filter(si=>vo(si,Le,at)),Di=new Map;Ws(Di,this.driver,Ai,at,d.kp).forEach(si=>{vo(si,Le,at)&&Ns.push(si)});const hs=new Map;Cn.forEach((si,xi)=>{Ws(hs,this.driver,new Set(si),Le,d.FX)}),Ns.forEach(si=>{const xi=Di.get(si),Mi=hs.get(si);Di.set(si,new Map([...xi?.entries()??[],...Mi?.entries()??[]]))});const To=[],Oo=[],Zr={};re.forEach(si=>{const{element:xi,player:Mi,instruction:gs}=si;if(p.has(xi)){if(Ft.has(xi))return Mi.onDestroy(()=>Ht(xi,gs.toStyles)),Mi.disabled=!0,Mi.overrideTotalTime(gs.totalTime),void T.push(Mi);let Bo=Zr;if(wi.size>1){let Al=xi;const Uc=[];for(;Al=Al.parentNode;){const $o=wi.get(Al);if($o){Bo=$o;break}Uc.push(Al)}Uc.forEach($o=>wi.set($o,Bo))}const mc=this._buildAnimation(Mi.namespaceId,gs,qn,X,hs,Di);if(Mi.setRealPlayer(mc),Bo===Zr)To.push(Mi);else{const Al=this.playersByElement.get(Bo);Al&&Al.length&&(Mi.parentPlayer=Ye(Al)),T.push(Mi)}}else ze(xi,gs.fromStyles),Mi.onDestroy(()=>Ht(xi,gs.toStyles)),Oo.push(Mi),Ft.has(xi)&&T.push(Mi)}),Oo.forEach(si=>{const xi=X.get(si.element);if(xi&&xi.length){const Mi=Ye(xi);si.setRealPlayer(Mi)}}),T.forEach(si=>{si.parentPlayer?si.syncPlayerEvents(si.parentPlayer):si.destroy()});for(let si=0;si<ui.length;si++){const xi=ui[si],Mi=xi[Ve];if(Po(xi,an),Mi&&Mi.hasAnimation)continue;let gs=[];if(Ce.size){let mc=Ce.get(xi);mc&&mc.length&&gs.push(...mc);let Al=this.driver.query(xi,Xt,!0);for(let Uc=0;Uc<Al.length;Uc++){let $o=Ce.get(Al[Uc]);$o&&$o.length&&gs.push(...$o)}}const Bo=gs.filter(mc=>!mc.destroyed);Bo.length?Lo(this,xi,Bo):this.processLeaveNode(xi)}return ui.length=0,To.forEach(si=>{this.players.push(si),si.onDone(()=>{si.destroy();const xi=this.players.indexOf(si);this.players.splice(xi,1)}),si.play()}),To}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,l,p,T,X){let re=[];if(l){const Ce=this.playersByQueriedElement.get(r);Ce&&(re=Ce)}else{const Ce=this.playersByElement.get(r);if(Ce){const Le=!X||X==un;Ce.forEach(at=>{at.queued||!Le&&at.triggerName!=T||re.push(at)})}}return(p||T)&&(re=re.filter(Ce=>!(p&&p!=Ce.namespaceId||T&&T!=Ce.triggerName))),re}_beforeAnimationBuild(r,l,p){const X=l.element,re=l.isRemovalTransition?void 0:r,Ce=l.isRemovalTransition?void 0:l.triggerName;for(const Le of l.timelines){const at=Le.element,Ft=at!==X,Ut=he(p,at,[]);this._getPreviousPlayers(at,Ft,re,Ce,l.toState).forEach(Cn=>{const En=Cn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),Cn.destroy(),Ut.push(Cn)})}ze(X,l.fromStyles)}_buildAnimation(r,l,p,T,X,re){const Ce=l.triggerName,Le=l.element,at=[],Ft=new Set,Ut=new Set,fn=l.timelines.map(En=>{const Nn=En.element;Ft.add(Nn);const ui=Nn[Ve];if(ui&&ui.removedBeforeQueried)return new d.sf(En.duration,En.delay);const hi=Nn!==Le,Ai=function Co(a){const r=[];return ri(a,r),r}((p.get(Nn)||_o).map(qn=>qn.getRealPlayer())).filter(qn=>!!qn.element&&qn.element===Nn),Qi=X.get(Nn),Li=re.get(Nn),cs=qe(this._normalizer,En.keyframes,Qi,Li),mi=this._buildPlayer(En,cs,Ai);if(En.subTimeline&&T&&Ut.add(Nn),hi){const qn=new Ki(r,Ce,Nn);qn.setRealPlayer(mi),at.push(qn)}return mi});at.forEach(En=>{he(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function ji(a,r,l){let p=a.get(r);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&a.delete(r)}return p}(this.playersByQueriedElement,En.element,En))}),Ft.forEach(En=>ws(En,Yt));const Cn=Ye(fn);return Cn.onDestroy(()=>{Ft.forEach(En=>Po(En,Yt)),Ht(Le,l.toStyles)}),Ut.forEach(En=>{he(T,En,[]).push(Cn)}),Cn}_buildPlayer(r,l,p){return l.length>0?this.driver.animate(r.element,l,r.duration,r.delay,r.easing,p):new d.sf(r.duration,r.delay)}}class Ki{constructor(r,l,p){this.namespaceId=r,this.triggerName=l,this.element=p,this._player=new d.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>Ne(r,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const l=this._player;l.triggerCallback&&r.onStart(()=>l.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,l){he(this._queuedCallbacks,r,[]).push(l)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const l=this._player;l.triggerCallback&&l.triggerCallback(r)}}function vs(a){return a&&1===a.nodeType}function go(a,r){const l=a.style.display;return a.style.display=r??"none",l}function Ws(a,r,l,p,T){const X=[];l.forEach(Le=>X.push(go(Le)));const re=[];p.forEach((Le,at)=>{const Ft=new Map;Le.forEach(Ut=>{const fn=r.computeStyle(at,Ut,T);Ft.set(Ut,fn),(!fn||0==fn.length)&&(at[Ve]=ir,re.push(at))}),a.set(at,Ft)});let Ce=0;return l.forEach(Le=>go(Le,X[Ce++])),re}function qs(a,r){const l=new Map;if(a.forEach(Ce=>l.set(Ce,[])),0==r.length)return l;const T=new Set(r),X=new Map;function re(Ce){if(!Ce)return 1;let Le=X.get(Ce);if(Le)return Le;const at=Ce.parentNode;return Le=l.has(at)?at:T.has(at)?1:re(at),X.set(Ce,Le),Le}return r.forEach(Ce=>{const Le=re(Ce);1!==Le&&l.get(Le).push(Ce)}),l}function ws(a,r){a.classList?.add(r)}function Po(a,r){a.classList?.remove(r)}function Lo(a,r,l){Ye(l).onDone(()=>a.processLeaveNode(r))}function ri(a,r){for(let l=0;l<a.length;l++){const p=a[l];p instanceof d.ui?ri(p.players,r):r.push(p)}}function vo(a,r,l){const p=l.get(a);if(!p)return!1;let T=r.get(a);return T?p.forEach(X=>T.add(X)):r.set(a,p),l.delete(a),!0}class na{constructor(r,l,p){this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,X)=>{},this._transitionEngine=new vi(r.body,l,p),this._timelineEngine=new Nr(r.body,l,p),this._transitionEngine.onRemovalComplete=(T,X)=>this.onRemovalComplete(T,X)}registerTrigger(r,l,p,T,X){const re=r+"-"+T;let Ce=this._triggerCache[re];if(!Ce){const Le=[],Ft=mn(this._driver,X,Le,[]);if(Le.length)throw function U(){return new n.wOt(3404,!1)}();Ce=function Zs(a,r,l){return new nr(a,r,l)}(T,Ft,this._normalizer),this._triggerCache[re]=Ce}this._transitionEngine.registerTrigger(l,T,Ce)}register(r,l){this._transitionEngine.register(r,l)}destroy(r,l){this._transitionEngine.destroy(r,l)}onInsert(r,l,p,T){this._transitionEngine.insertNode(r,l,p,T)}onRemove(r,l,p){this._transitionEngine.removeNode(r,l,p)}disableAnimations(r,l){this._transitionEngine.markElementAsDisabled(r,l)}process(r,l,p,T){if("@"==p.charAt(0)){const[X,re]=le(p);this._timelineEngine.command(X,l,re,T)}else this._transitionEngine.trigger(r,l,p,T)}listen(r,l,p,T,X){if("@"==p.charAt(0)){const[re,Ce]=le(p);return this._timelineEngine.listen(re,l,Ce,X)}return this._transitionEngine.listen(r,l,p,T,X)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}class ia{static#e=this.initialStylesByElement=new WeakMap;constructor(r,l,p){this._element=r,this._startStyles=l,this._endStyles=p,this._state=0;let T=ia.initialStylesByElement.get(r);T||ia.initialStylesByElement.set(r,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ht(this._element,this._initialStyles),this._endStyles&&(Ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ia.initialStylesByElement.delete(this._element),this._startStyles&&(ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ze(this._element,this._endStyles),this._endStyles=null),Ht(this._element,this._initialStyles),this._state=3)}}function zo(a){let r=null;return a.forEach((l,p)=>{(function Ir(a){return"display"===a||"position"===a})(p)&&(r=r||new Map,r.set(p,l))}),r}class jr{constructor(r,l,p,T){this.element=r,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const l=[];return r.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(r,l,p){return r.animate(this._convertKeyframesToObject(l),p)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&r.set(T,this._finished?p:vt(this.element,T))}),this.currentSnapshot=r}triggerCallback(r){const l="start"===r?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class jo{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,l){return rn(r,l)}getParentElement(r){return Xe(r)}query(r,l,p){return $t(r,l,p)}computeStyle(r,l,p){return vt(r,l)}animate(r,l,p,T,X,re=[]){const Le={duration:p,delay:T,fill:0==T?"both":"forwards"};X&&(Le.easing=X);const at=new Map,Ft=re.filter(Cn=>Cn instanceof jr);(function De(a,r){return 0===a||0===r})(p,T)&&Ft.forEach(Cn=>{Cn.currentSnapshot.forEach((En,Nn)=>at.set(Nn,En))});let Ut=function Fn(a){return a.length?a[0]instanceof Map?a:a.map(r=>new Map(Object.entries(r))):[]}(l).map(Cn=>new Map(Cn));Ut=function rt(a,r,l){if(l.size&&r.length){let p=r[0],T=[];if(l.forEach((X,re)=>{p.has(re)||T.push(re),p.set(re,X)}),T.length)for(let X=1;X<r.length;X++){let re=r[X];T.forEach(Ce=>re.set(Ce,vt(a,Ce)))}}return r}(r,Ut,at);const fn=function Da(a,r){let l=null,p=null;return Array.isArray(r)&&r.length?(l=zo(r[0]),r.length>1&&(p=zo(r[r.length-1]))):r instanceof Map&&(l=zo(r)),l||p?new ia(a,l,p):null}(r,Ut);return new jr(r,Ut,Le,fn)}}const fr="@.disabled";class kl{constructor(r,l,p,T){this.namespaceId=r,this.delegate=l,this.engine=p,this._onDestroy=T,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,l){return this.delegate.createElement(r,l)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,l){this.delegate.appendChild(r,l),this.engine.onInsert(this.namespaceId,l,r,!1)}insertBefore(r,l,p,T=!0){this.delegate.insertBefore(r,l,p),this.engine.onInsert(this.namespaceId,l,r,T)}removeChild(r,l,p){this.parentNode(l)&&this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(r,l){return this.delegate.selectRootElement(r,l)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,l,p,T){this.delegate.setAttribute(r,l,p,T)}removeAttribute(r,l,p){this.delegate.removeAttribute(r,l,p)}addClass(r,l){this.delegate.addClass(r,l)}removeClass(r,l){this.delegate.removeClass(r,l)}setStyle(r,l,p,T){this.delegate.setStyle(r,l,p,T)}removeStyle(r,l,p){this.delegate.removeStyle(r,l,p)}setProperty(r,l,p){"@"==l.charAt(0)&&l==fr?this.disableAnimations(r,!!p):this.delegate.setProperty(r,l,p)}setValue(r,l){this.delegate.setValue(r,l)}listen(r,l,p){return this.delegate.listen(r,l,p)}disableAnimations(r,l){this.engine.disableAnimations(r,l)}}class bo extends kl{constructor(r,l,p,T,X){super(l,p,T,X),this.factory=r,this.namespaceId=l}setProperty(r,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==fr?this.disableAnimations(r,p=void 0===p||!!p):this.engine.process(this.namespaceId,r,l.slice(1),p):this.delegate.setProperty(r,l,p)}listen(r,l,p){if("@"==l.charAt(0)){const T=function bc(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(r);let X=l.slice(1),re="";return"@"!=X.charAt(0)&&([X,re]=function Pl(a){const r=a.indexOf(".");return[a.substring(0,r),a.slice(r+1)]}(X)),this.engine.listen(this.namespaceId,T,X,re,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,p,Ce)})}return this.delegate.listen(r,l,p)}}class us{constructor(r,l,p){this.delegate=r,this.engine=l,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,l.onRemovalComplete=(T,X)=>{X?.removeChild(null,T)}}createRenderer(r,l){const T=this.delegate.createRenderer(r,l);if(!r||!l?.data?.animation){const at=this._rendererCache;let Ft=at.get(T);return Ft||(Ft=new kl("",T,this.engine,()=>at.delete(T)),at.set(T,Ft)),Ft}const X=l.id,re=l.id+"-"+this._currentId;this._currentId++,this.engine.register(re,r);const Ce=at=>{Array.isArray(at)?at.forEach(Ce):this.engine.registerTrigger(X,re,r,at.name,at)};return l.data.animation.forEach(Ce),new bo(this,re,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,l,p){if(r>=0&&r<this._microtaskId)return void this._zone.run(()=>l(p));const T=this._animationCallbacksBuffer;0==T.length&&queueMicrotask(()=>{this._zone.run(()=>{T.forEach(X=>{const[re,Ce]=X;re(Ce)}),this._animationCallbacksBuffer=[]})}),T.push([l,p])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Uo=s(177);const Xo=[{provide:fe,useFactory:function Ia(){return new Re}},{provide:na,useClass:(()=>{class a extends na{constructor(l,p,T){super(l,p,T)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(p){return new(p||a)(n.KVO(Uo.qQ),n.KVO(se),n.KVO(fe))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})()},{provide:n._9s,useFactory:function Na(a,r,l){return new us(a,r,l)},deps:[e.B7,na,n.SKi]}],sr=[{provide:se,useFactory:()=>new jo},{provide:n.bc$,useValue:"BrowserAnimations"},...Xo],Ui=[{provide:se,useClass:Ie},{provide:n.bc$,useValue:"NoopAnimations"},...Xo];let ha=(()=>{class a{static withConfig(l){return{ngModule:a,providers:l.disableAnimations?Ui:sr}}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({providers:sr,imports:[e.Bb]})}return a})();var Jo=s(9417),_s=s(2091),Ll=s(9418),tt=s(4526),ct=s(3586),we=s(4421),kt=s(1639),pn=s(5286),Fi=s(5817),ps=s(8803);const zs=new Fi.c(ps.l);var Sa=s(4670),Ec=s(4787),Fl=s(5006),qa=s(8728),ic=s(9090),js=s(4725);function xs(a,r){return function(p){let T;if(T="function"==typeof a?a:function(){return a},"function"==typeof r)return p.lift(new Sr(T,r));const X=Object.create(p,js.f);return X.source=p,X.subjectFactory=T,X}}class Sr{constructor(r,l){this.subjectFactory=r,this.selector=l}call(r,l){const{selector:p}=this,T=this.subjectFactory(),X=p(T).subscribe(r);return X.add(l.subscribe(T)),X}}var _a=s(9493),el=s(8841),yc=s(8002);const Or="Service workers are disabled or not supported by this browser";class xr{constructor(r){if(this.serviceWorker=r,r){const p=(0,ct.R)(r,"controllerchange").pipe((0,Fl.T)(()=>r.controller)),T=(0,Ll.v)(()=>(0,we.of)(r.controller)),X=(0,kt.x)(T,p);this.worker=X.pipe((0,qa.p)(Ft=>!!Ft)),this.registration=this.worker.pipe((0,ic.n)(()=>r.getRegistration()));const at=(0,ct.R)(r,"message").pipe((0,Fl.T)(Ft=>Ft.data)).pipe((0,qa.p)(Ft=>Ft&&Ft.type)).pipe(function Oa(a){return a?xs(()=>new pn.B7,a):xs(new pn.B7)}());at.connect(),this.events=at}else this.worker=this.events=this.registration=function Ba(a){return(0,Ll.v)(()=>(0,tt.$)(new Error(a)))}(Or)}postMessage(r,l){return this.worker.pipe((0,_a.s)(1),(0,el.M)(p=>{p.postMessage({action:r,...l})})).toPromise().then(()=>{})}postMessageWithOperation(r,l,p){const T=this.waitForOperationCompleted(p),X=this.postMessage(r,l);return Promise.all([X,T]).then(([,re])=>re)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(r){let l;return l="string"==typeof r?p=>p.type===r:p=>r.includes(p.type),this.events.pipe((0,qa.p)(l))}nextEventOfType(r){return this.eventsOfType(r).pipe((0,_a.s)(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,qa.p)(l=>l.nonce===r),(0,_a.s)(1),(0,Fl.T)(l=>{if(void 0!==l.result)return l.result;throw new Error(l.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Nl=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,this.pushManager=null,this.subscriptionChanges=new pn.B7,!l.isEnabled)return this.messages=zs,this.notificationClicks=zs,void(this.subscription=zs);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Fl.T)(T=>T.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Fl.T)(T=>T.data)),this.pushManager=this.sw.registration.pipe((0,Fl.T)(T=>T.pushManager));const p=this.pushManager.pipe((0,ic.n)(T=>T.getSubscription()));this.subscription=(0,Sa.h)(p,this.subscriptionChanges)}requestSubscription(l){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Or));const p={userVisibleOnly:!0};let T=this.decodeBase64(l.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),X=new Uint8Array(new ArrayBuffer(T.length));for(let re=0;re<T.length;re++)X[re]=T.charCodeAt(re);return p.applicationServerKey=X,this.pushManager.pipe((0,ic.n)(re=>re.subscribe(p)),(0,_a.s)(1)).toPromise().then(re=>(this.subscriptionChanges.next(re),re))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,_a.s)(1),(0,ic.n)(p=>{if(null===p)throw new Error("Not subscribed to push notifications.");return p.unsubscribe().then(T=>{if(!T)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Or))}decodeBase64(l){return atob(l)}static#e=this.\u0275fac=function(p){return new(p||a)(n.KVO(xr))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})(),pa=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,!l.isEnabled)return this.versionUpdates=zs,void(this.unrecoverable=zs);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Or));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:l},l)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Or));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:l},l)}static#e=this.\u0275fac=function(p){return new(p||a)(n.KVO(xr))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})();const Hi=new n.nKC("");function sc(a,r,l,p){return()=>{if(!(0,Uo.UE)(p)||!("serviceWorker"in navigator)||!1===l.enabled)return;const T=a.get(n.SKi),X=a.get(n.o8S);let re;if(T.runOutsideAngular(()=>{const Ce=navigator.serviceWorker,Le=()=>Ce.controller?.postMessage({action:"INITIALIZE"});Ce.addEventListener("controllerchange",Le),X.onDestroy(()=>{Ce.removeEventListener("controllerchange",Le)})}),"function"==typeof l.registrationStrategy)re=l.registrationStrategy();else{const[Ce,...Le]=(l.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ce){case"registerImmediately":re=(0,we.of)(null);break;case"registerWithDelay":re=$a(+Le[0]||0);break;case"registerWhenStable":const at=(0,Ec.H)(a.get(n.o8S).whenStable());re=Le[0]?(0,Sa.h)(at,$a(+Le[0])):at;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${l.registrationStrategy}`)}}T.runOutsideAngular(()=>re.pipe((0,_a.s)(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:l.scope}).catch(Ce=>console.error("Service worker registration failed with:",Ce))))}}function $a(a){return(0,we.of)(null).pipe((0,yc.c)(a))}function mr(a,r){return new xr((0,Uo.UE)(r)&&!1!==a.enabled?navigator.serviceWorker:void 0)}class sa{}function oc(a,r={}){return(0,n.EmA)([Nl,pa,{provide:Hi,useValue:a},{provide:sa,useValue:r},{provide:xr,useFactory:mr,deps:[sa,n.Agw]},{provide:n.hnV,useFactory:sc,deps:[n.zZn,Hi,sa,n.Agw],multi:!0}])}let gl=(()=>{class a{static register(l,p={}){return{ngModule:a,providers:[oc(l,p)]}}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({providers:[Nl,pa]})}return a})();var tl=s(5416),ja=s(6600),Kc=s(1626),rc=s(1780);class _d{constructor(r,l="/assets/i18n/",p=".json"){this.http=r,this.prefix=l,this.suffix=p}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}}var Rs=s(467),Bl=s(4046),gr=s(1038),H=s(3368),mt=s(1168),_t=s(9420),Nt=s(8026),Rt=s(4129);const en="8.28.0",tn=globalThis;function On(a,r,l){const p=l||tn,T=p.__SENTRY__=p.__SENTRY__||{},X=T[en]=T[en]||{};return X[a]||(X[a]=r())}const Pn="production";function Zn(){return Si(tn),tn}function Si(a){const r=a.__SENTRY__=a.__SENTRY__||{};return r.version=r.version||en,r[en]=r[en]||{}}const li=Object.prototype.toString;function ei(a){switch(li.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Rn(a,Error)}}function Ri(a,r){return li.call(a)===`[object ${r}]`}function Ds(a){return Ri(a,"ErrorEvent")}function Zi(a){return Ri(a,"DOMError")}function Ro(a){return Ri(a,"String")}function bs(a){return"object"==typeof a&&null!==a&&"__sentry_template_string__"in a&&"__sentry_template_values__"in a}function vl(a){return null===a||bs(a)||"object"!=typeof a&&"function"!=typeof a}function fa(a){return Ri(a,"Object")}function ge(a){return typeof Event<"u"&&Rn(a,Event)}function ft(a){return!(!a||!a.then||"function"!=typeof a.then)}function Rn(a,r){try{return a instanceof r}catch{return!1}}function Un(a){return!("object"!=typeof a||null===a||!a.__isVue&&!a._isVue)}const fi=tn,Eo=80;function Xi(a,r={}){if(!a)return"<unknown>";try{let l=a;const p=5,T=[];let X=0,re=0;const Ce=" > ",Le=Ce.length;let at;const Ft=Array.isArray(r)?r:r.keyAttrs,Ut=!Array.isArray(r)&&r.maxStringLength||Eo;for(;l&&X++<p&&(at=Ys(l,Ft),!("html"===at||X>1&&re+T.length*Le+at.length>=Ut));)T.push(at),re+=at.length,l=l.parentNode;return T.reverse().join(Ce)}catch{return"<unknown>"}}function Ys(a,r){const l=a,p=[];if(!l||!l.tagName)return"";if(fi.HTMLElement&&l instanceof HTMLElement&&l.dataset){if(l.dataset.sentryComponent)return l.dataset.sentryComponent;if(l.dataset.sentryElement)return l.dataset.sentryElement}p.push(l.tagName.toLowerCase());const T=r&&r.length?r.filter(re=>l.getAttribute(re)).map(re=>[re,l.getAttribute(re)]):null;if(T&&T.length)T.forEach(re=>{p.push(`[${re[0]}="${re[1]}"]`)});else{l.id&&p.push(`#${l.id}`);const re=l.className;if(re&&Ro(re)){const Ce=re.split(/\s+/);for(const Le of Ce)p.push(`.${Le}`)}}const X=["aria-label","type","name","title","alt"];for(const re of X){const Ce=l.getAttribute(re);Ce&&p.push(`[${re}="${Ce}"]`)}return p.join("")}function Jn(){try{return fi.document.location.href}catch{return""}}function Cs(a){if(!fi.HTMLElement)return null;let r=a;for(let p=0;p<5;p++){if(!r)return null;if(r instanceof HTMLElement){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}r=r.parentNode}return null}const ro=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ma=["debug","info","warn","error","log","assert","trace"],nl={};function Mo(a){if(!("console"in tn))return a();const r=tn.console,l={},p=Object.keys(nl);p.forEach(T=>{const X=nl[T];l[T]=r[T],r[T]=X});try{return a()}finally{p.forEach(T=>{r[T]=l[T]})}}const ni=function Ua(){let a=!1;const r={enable:()=>{a=!0},disable:()=>{a=!1},isEnabled:()=>a};return ma.forEach(ro?l=>{r[l]=(...p)=>{a&&Mo(()=>{tn.console[l](`Sentry Logger [${l}]:`,...p)})}}:l=>{r[l]=()=>{}}),r}();function or(a,r=0){return"string"!=typeof a||0===r||a.length<=r?a:`${a.slice(0,r)}...`}function ac(a,r){if(!Array.isArray(a))return"";const l=[];for(let p=0;p<a.length;p++){const T=a[p];try{Un(T)?l.push("[VueViewModel]"):l.push(String(T))}catch{l.push("[value cannot be serialized]")}}return l.join(r)}function bi(a,r=[],l=!1){return r.some(p=>function $l(a,r,l=!1){return!!Ro(a)&&(function Be(a){return Ri(a,"RegExp")}(r)?r.test(a):!!Ro(r)&&(l?a===r:a.includes(r)))}(a,p,l))}function yo(a,r,l){if(!(r in a))return;const p=a[r],T=l(p);"function"==typeof T&&il(T,p),a[r]=T}function vr(a,r,l){try{Object.defineProperty(a,r,{value:l,writable:!0,configurable:!0})}catch{ro&&ni.log(`Failed to add non-enumerable property "${r}" to object`,a)}}function il(a,r){try{a.prototype=r.prototype=r.prototype||{},vr(a,"__sentry_original__",r)}catch{}}function Vr(a){return a.__sentry_original__}function Eh(a){if(ei(a))return{message:a.message,name:a.name,stack:a.stack,...Iu(a)};if(ge(a)){const r={type:a.type,target:Vo(a.target),currentTarget:Vo(a.currentTarget),...Iu(a)};return typeof CustomEvent<"u"&&Rn(a,CustomEvent)&&(r.detail=a.detail),r}return a}function Vo(a){try{return function yt(a){return typeof Element<"u"&&Rn(a,Element)}(a)?Xi(a):Object.prototype.toString.call(a)}catch{return"<unknown>"}}function Iu(a){if("object"==typeof a&&null!==a){const r={};for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l]);return r}return{}}function ao(a){return Cc(a,new Map)}function Cc(a,r){if(function Go(a){if(!fa(a))return!1;try{const r=Object.getPrototypeOf(a).constructor.name;return!r||"Object"===r}catch{return!0}}(a)){const l=r.get(a);if(void 0!==l)return l;const p={};r.set(a,p);for(const T of Object.keys(a))typeof a[T]<"u"&&(p[T]=Cc(a[T],r));return p}if(Array.isArray(a)){const l=r.get(a);if(void 0!==l)return l;const p=[];return r.set(a,p),a.forEach(T=>{p.push(Cc(T,r))}),p}return a}function Ps(){const r=tn.crypto||tn.msCrypto;let l=()=>16*Math.random();try{if(r&&r.randomUUID)return r.randomUUID().replace(/-/g,"");r&&r.getRandomValues&&(l=()=>{const p=new Uint8Array(1);return r.getRandomValues(p),p[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,p=>(p^(15&l())>>p/4).toString(16))}function Bs(a){return a.exception&&a.exception.values?a.exception.values[0]:void 0}function Rr(a){const{message:r,event_id:l}=a;if(r)return r;const p=Bs(a);return p?p.type&&p.value?`${p.type}: ${p.value}`:p.type||p.value||l||"<unknown>":l||"<unknown>"}function br(a,r,l){const p=a.exception=a.exception||{},T=p.values=p.values||[],X=T[0]=T[0]||{};X.value||(X.value=r||""),X.type||(X.type=l||"Error")}function lc(a,r){const l=Bs(a);if(!l)return;const T=l.mechanism;if(l.mechanism={type:"generic",handled:!0,...T,...r},r&&"data"in r){const X={...T&&T.data,...r.data};l.mechanism.data=X}}function yh(a){if(a&&a.__sentry_captured__)return!0;try{vr(a,"__sentry_captured__",!0)}catch{}return!1}function jl(a){return Array.isArray(a)?a:[a]}function Su(){return{traceId:Ps(),spanId:Ps().substring(16)}}const Wc=1e3;function ga(){return Date.now()/Wc}const Zo=function D_(){const{performance:a}=tn;if(!a||!a.now)return ga;const r=Date.now()-a.now(),l=null==a.timeOrigin?r:a.timeOrigin;return()=>(l+a.now())/Wc}();let zc;const Kr=(()=>{const{performance:a}=tn;if(!a||!a.now)return void(zc="none");const r=36e5,l=a.now(),p=Date.now(),T=a.timeOrigin?Math.abs(a.timeOrigin+l-p):r,X=T<r,re=a.timing&&a.timing.navigationStart,Le="number"==typeof re?Math.abs(re+l-p):r;return X||Le<r?T<=Le?(zc="timeOrigin",a.timeOrigin):(zc="navigationStart",re):(zc="dateNow",p)})();function sl(a,r={}){if(r.user&&(!a.ipAddress&&r.user.ip_address&&(a.ipAddress=r.user.ip_address),!a.did&&!r.did&&(a.did=r.user.id||r.user.email||r.user.username)),a.timestamp=r.timestamp||Zo(),r.abnormal_mechanism&&(a.abnormal_mechanism=r.abnormal_mechanism),r.ignoreDuration&&(a.ignoreDuration=r.ignoreDuration),r.sid&&(a.sid=32===r.sid.length?r.sid:Ps()),void 0!==r.init&&(a.init=r.init),!a.did&&r.did&&(a.did=`${r.did}`),"number"==typeof r.started&&(a.started=r.started),a.ignoreDuration)a.duration=void 0;else if("number"==typeof r.duration)a.duration=r.duration;else{const l=a.timestamp-a.started;a.duration=l>=0?l:0}r.release&&(a.release=r.release),r.environment&&(a.environment=r.environment),!a.ipAddress&&r.ipAddress&&(a.ipAddress=r.ipAddress),!a.userAgent&&r.userAgent&&(a.userAgent=r.userAgent),"number"==typeof r.errors&&(a.errors=r.errors),r.status&&(a.status=r.status)}const Ou="_sentrySpan";function Ul(a,r){r?vr(a,Ou,r):delete a[Ou]}function Ch(a){return a[Ou]}class El{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Su()}clone(){const r=new El;return r._breadcrumbs=[...this._breadcrumbs],r._tags={...this._tags},r._extra={...this._extra},r._contexts={...this._contexts},r._user=this._user,r._level=this._level,r._session=this._session,r._transactionName=this._transactionName,r._fingerprint=this._fingerprint,r._eventProcessors=[...this._eventProcessors],r._requestSession=this._requestSession,r._attachments=[...this._attachments],r._sdkProcessingMetadata={...this._sdkProcessingMetadata},r._propagationContext={...this._propagationContext},r._client=this._client,r._lastEventId=this._lastEventId,Ul(r,Ch(this)),r}setClient(r){this._client=r}setLastEventId(r){this._lastEventId=r}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(r){this._scopeListeners.push(r)}addEventProcessor(r){return this._eventProcessors.push(r),this}setUser(r){return this._user=r||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&sl(this._session,{user:r}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(r){return this._requestSession=r,this}setTags(r){return this._tags={...this._tags,...r},this._notifyScopeListeners(),this}setTag(r,l){return this._tags={...this._tags,[r]:l},this._notifyScopeListeners(),this}setExtras(r){return this._extra={...this._extra,...r},this._notifyScopeListeners(),this}setExtra(r,l){return this._extra={...this._extra,[r]:l},this._notifyScopeListeners(),this}setFingerprint(r){return this._fingerprint=r,this._notifyScopeListeners(),this}setLevel(r){return this._level=r,this._notifyScopeListeners(),this}setTransactionName(r){return this._transactionName=r,this._notifyScopeListeners(),this}setContext(r,l){return null===l?delete this._contexts[r]:this._contexts[r]=l,this._notifyScopeListeners(),this}setSession(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(r){if(!r)return this;const l="function"==typeof r?r(this):r,[p,T]=l instanceof Ga?[l.getScopeData(),l.getRequestSession()]:fa(l)?[r,r.requestSession]:[],{tags:X,extra:re,user:Ce,contexts:Le,level:at,fingerprint:Ft=[],propagationContext:Ut}=p||{};return this._tags={...this._tags,...X},this._extra={...this._extra,...re},this._contexts={...this._contexts,...Le},Ce&&Object.keys(Ce).length&&(this._user=Ce),at&&(this._level=at),Ft.length&&(this._fingerprint=Ft),Ut&&(this._propagationContext=Ut),T&&(this._requestSession=T),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ul(this,void 0),this._attachments=[],this._propagationContext=Su(),this._notifyScopeListeners(),this}addBreadcrumb(r,l){const p="number"==typeof l?l:100;if(p<=0)return this;const T={timestamp:ga(),...r},X=this._breadcrumbs;return X.push(T),this._breadcrumbs=X.length>p?X.slice(-p):X,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(r){return this._attachments.push(r),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ch(this)}}setSDKProcessingMetadata(r){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...r},this}setPropagationContext(r){return this._propagationContext=r,this}getPropagationContext(){return this._propagationContext}captureException(r,l){const p=l&&l.event_id?l.event_id:Ps();if(!this._client)return ni.warn("No client configured on scope - will not capture exception!"),p;const T=new Error("Sentry syntheticException");return this._client.captureException(r,{originalException:r,syntheticException:T,...l,event_id:p},this),p}captureMessage(r,l,p){const T=p&&p.event_id?p.event_id:Ps();if(!this._client)return ni.warn("No client configured on scope - will not capture message!"),T;const X=new Error(r);return this._client.captureMessage(r,l,{originalException:r,syntheticException:X,...p,event_id:T},this),T}captureEvent(r,l){const p=l&&l.event_id?l.event_id:Ps();return this._client?(this._client.captureEvent(r,{...l,event_id:p},this),p):(ni.warn("No client configured on scope - will not capture event!"),p)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(r=>{r(this)}),this._notifyingListeners=!1)}}const Ga=El;class de{constructor(r,l){let p,T;p=r||new Ga,T=l||new Ga,this._stack=[{scope:p}],this._isolationScope=T}withScope(r){const l=this._pushScope();let p;try{p=r(l)}catch(T){throw this._popScope(),T}return ft(p)?p.then(T=>(this._popScope(),T),T=>{throw this._popScope(),T}):(this._popScope(),p)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const r=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:r}),r}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function Oe(){const r=Si(Zn());return r.stack=r.stack||new de(function ce(){return On("defaultCurrentScope",()=>new Ga)}(),function ye(){return On("defaultIsolationScope",()=>new Ga)}())}function ut(a){return Oe().withScope(a)}function Lt(a,r){const l=Oe();return l.withScope(()=>(l.getStackTop().scope=a,r(a)))}function Zt(a){return Oe().withScope(()=>a(Oe().getIsolationScope()))}function ci(a){const r=Si(a);return r.acs?r.acs:function wn(){return{withIsolationScope:Zt,withScope:ut,withSetScope:Lt,withSetIsolationScope:(a,r)=>Zt(r),getCurrentScope:()=>Oe().getScope(),getIsolationScope:()=>Oe().getIsolationScope()}}()}function Kn(){return ci(Zn()).getCurrentScope()}function Ci(){return ci(Zn()).getIsolationScope()}function rr(...a){const l=ci(Zn());if(2===a.length){const[p,T]=a;return p?l.withSetScope(p,T):l.withScope(T)}return l.withScope(a[0])}function os(){return Kn().getClient()}const Vl=50,yl="?",Xc=/\(error: (.*)\)/,Vd=/captureMessage|captureException/;function Jp(...a){const r=a.sort((l,p)=>l[0]-p[0]).map(l=>l[1]);return(l,p=0,T=0)=>{const X=[],re=l.split("\n");for(let Ce=p;Ce<re.length;Ce++){const Le=re[Ce];if(Le.length>1024)continue;const at=Xc.test(Le)?Le.replace(Xc,"$1"):Le;if(!at.match(/\S*Error: /)){for(const Ft of r){const Ut=Ft(at);if(Ut){X.push(Ut);break}}if(X.length>=Vl+T)break}}return function Zp(a){if(!a.length)return[];const r=Array.from(a);return/sentryWrapped/.test(Tc(r).function||"")&&r.pop(),r.reverse(),Vd.test(Tc(r).function||"")&&(r.pop(),Vd.test(Tc(r).function||"")&&r.pop()),r.slice(0,Vl).map(l=>({...l,filename:l.filename||Tc(r).filename,function:l.function||yl}))}(X.slice(T))}}function Th(a){return Array.isArray(a)?Jp(...a):a}function Tc(a){return a[a.length-1]||{}}const qp="<anonymous>";function Gl(a){try{return a&&"function"==typeof a&&a.name||qp}catch{return qp}}function ef(a){const r=a.exception;if(r){const l=[];try{return r.values.forEach(p=>{p.stacktrace.frames&&l.push(...p.stacktrace.frames)}),l}catch{return}}}function ol(a,r=100,l=1/0){try{return Hc("",a,r,l)}catch(p){return{ERROR:`**non-serializable** (${p})`}}}function Dc(a,r=3,l=102400){const p=ol(a,r);return function Dh(a){return function S_(a){return~-encodeURI(a).split(/%..|./).length}(JSON.stringify(a))}(p)>l?Dc(a,r-1,l):p}function Hc(a,r,l=1/0,p=1/0,T=function Ka(){const a="function"==typeof WeakSet,r=a?new WeakSet:[];return[function l(T){if(a)return!!r.has(T)||(r.add(T),!1);for(let X=0;X<r.length;X++)if(r[X]===T)return!0;return r.push(T),!1},function p(T){if(a)r.delete(T);else for(let X=0;X<r.length;X++)if(r[X]===T){r.splice(X,1);break}}]}()){const[X,re]=T;if(null==r||["number","boolean","string"].includes(typeof r)&&!Number.isNaN(r))return r;const Ce=function Yc(a,r){try{if("domain"===a&&r&&"object"==typeof r&&r._events)return"[Domain]";if("domainEmitter"===a)return"[DomainEmitter]";if(typeof global<"u"&&r===global)return"[Global]";if(typeof window<"u"&&r===window)return"[Window]";if(typeof document<"u"&&r===document)return"[Document]";if(Un(r))return"[VueViewModel]";if(function sn(a){return fa(a)&&"nativeEvent"in a&&"preventDefault"in a&&"stopPropagation"in a}(r))return"[SyntheticEvent]";if("number"==typeof r&&r!=r)return"[NaN]";if("function"==typeof r)return`[Function: ${Gl(r)}]`;if("symbol"==typeof r)return`[${String(r)}]`;if("bigint"==typeof r)return`[BigInt: ${String(r)}]`;const l=function Sm(a){const r=Object.getPrototypeOf(a);return r?r.constructor.name:"null prototype"}(r);return/^HTML(\w*)Element$/.test(l)?`[HTMLElement: ${l}]`:`[object ${l}]`}catch(l){return`**non-serializable** (${l})`}}(a,r);if(!Ce.startsWith("[object "))return Ce;if(r.__sentry_skip_normalization__)return r;const Le="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:l;if(0===Le)return Ce.replace("object ","");if(X(r))return"[Circular ~]";const at=r;if(at&&"function"==typeof at.toJSON)try{return Hc("",at.toJSON(),Le-1,p,T)}catch{}const Ft=Array.isArray(r)?[]:{};let Ut=0;const fn=Eh(r);for(const Cn in fn)if(Object.prototype.hasOwnProperty.call(fn,Cn)){if(Ut>=p){Ft[Cn]="[MaxProperties ~]";break}Ft[Cn]=Hc(Cn,fn[Cn],Le-1,p,T),Ut++}return re(r),Ft}var Kl,a;function xa(a){return new Wr(r=>{r(a)})}function va(a){return new Wr((r,l)=>{l(a)})}(a=Kl||(Kl={}))[a.PENDING=0]="PENDING",a[a.RESOLVED=1]="RESOLVED",a[a.REJECTED=2]="REJECTED";class Wr{constructor(r){Wr.prototype.__init.call(this),Wr.prototype.__init2.call(this),Wr.prototype.__init3.call(this),Wr.prototype.__init4.call(this),this._state=Kl.PENDING,this._handlers=[];try{r(this._resolve,this._reject)}catch(l){this._reject(l)}}then(r,l){return new Wr((p,T)=>{this._handlers.push([!1,X=>{if(r)try{p(r(X))}catch(re){T(re)}else p(X)},X=>{if(l)try{p(l(X))}catch(re){T(re)}else T(X)}]),this._executeHandlers()})}catch(r){return this.then(l=>l,r)}finally(r){return new Wr((l,p)=>{let T,X;return this.then(re=>{X=!1,T=re,r&&r()},re=>{X=!0,T=re,r&&r()}).then(()=>{X?p(T):l(T)})})}__init(){this._resolve=r=>{this._setResult(Kl.RESOLVED,r)}}__init2(){this._reject=r=>{this._setResult(Kl.REJECTED,r)}}__init3(){this._setResult=(r,l)=>{if(this._state===Kl.PENDING){if(ft(l))return void l.then(this._resolve,this._reject);this._state=r,this._value=l,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Kl.PENDING)return;const r=this._handlers.slice();this._handlers=[],r.forEach(l=>{l[0]||(this._state===Kl.RESOLVED&&l[1](this._value),this._state===Kl.REJECTED&&l[2](this._value),l[0]=!0)})}}}const fs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Wl(a,r,l,p=0){return new Wr((T,X)=>{const re=a[p];if(null===r||"function"!=typeof re)T(r);else{const Ce=re({...r},l);fs&&re.id&&null===Ce&&ni.log(`Event processor "${re.id}" dropped event`),ft(Ce)?Ce.then(Le=>Wl(a,Le,l,p+1).then(T)).then(null,X):Wl(a,Ce,l,p+1).then(T).then(null,X)}})}const Qc="baggage",Gd="sentry-",md=/^sentry-/,O_=8192;function x_(a){const r=function Sh(a){if(a&&(Ro(a)||Array.isArray(a)))return Array.isArray(a)?a.reduce((r,l)=>{const p=Ic(l);return Object.entries(p).forEach(([T,X])=>{r[T]=X}),r},{}):Ic(a)}(a);if(!r)return;const l=Object.entries(r).reduce((p,[T,X])=>(T.match(md)&&(p[T.slice(Gd.length)]=X),p),{});return Object.keys(l).length>0?l:void 0}function Ih(a){if(a)return function gd(a){if(0!==Object.keys(a).length)return Object.entries(a).reduce((r,[l,p],T)=>{const X=`${encodeURIComponent(l)}=${encodeURIComponent(p)}`,re=0===T?X:`${r},${X}`;return re.length>O_?(ro&&ni.warn(`Not adding key: ${l} with val: ${p} to baggage header due to exceeding baggage size limits.`),r):re},"")}(Object.entries(a).reduce((l,[p,T])=>(T&&(l[`${Gd}${p}`]=T),l),{}))}function Ic(a){return a.split(",").map(r=>r.split("=").map(l=>decodeURIComponent(l.trim()))).reduce((r,[l,p])=>(l&&p&&(r[l]=p),r),{})}const oa="sentry.source",Sc="sentry.sample_rate",Jc="sentry.op",ar="sentry.origin",lr="sentry.idle_span_finish_reason",xu="sentry.measurement_unit",Oh="sentry.measurement_value",Oc="sentry.exclusive_time",xm=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cc(a=Ps(),r=Ps().substring(16),l){let p="";return void 0!==l&&(p=l?"-1":"-0"),`${a}-${r}${p}`}const Ao="_sentryMetrics";function oi(a){const r=a[Ao];if(!r)return;const l={};for(const[,[p,T]]of r)(l[p]||(l[p]=[])).push(ao(T));return l}const cr=0,rl=1,Ss=2;function vd(a,r){a.setAttribute("http.response.status_code",r);const l=function Ar(a){if(a<400&&a>=100)return{code:rl};if(a>=400&&a<500)switch(a){case 401:return{code:Ss,message:"unauthenticated"};case 403:return{code:Ss,message:"permission_denied"};case 404:return{code:Ss,message:"not_found"};case 409:return{code:Ss,message:"already_exists"};case 413:return{code:Ss,message:"failed_precondition"};case 429:return{code:Ss,message:"resource_exhausted"};case 499:return{code:Ss,message:"cancelled"};default:return{code:Ss,message:"invalid_argument"}}if(a>=500&&a<600)switch(a){case 501:return{code:Ss,message:"unimplemented"};case 503:return{code:Ss,message:"unavailable"};case 504:return{code:Ss,message:"deadline_exceeded"};default:return{code:Ss,message:"internal_error"}}return{code:Ss,message:"unknown_error"}}(r);"unknown_error"!==l.message&&a.setStatus(l)}const dr=1;function dc(a){const{spanId:r,traceId:l}=a.spanContext(),{data:p,op:T,parent_span_id:X,status:re,origin:Ce}=ki(a);return ao({parent_span_id:X,span_id:r,trace_id:l,data:p,op:T,status:re,origin:Ce})}function rs(a){const{spanId:r,traceId:l}=a.spanContext(),{parent_span_id:p}=ki(a);return ao({parent_span_id:p,span_id:r,trace_id:l})}function Wd(a){const{traceId:r,spanId:l}=a.spanContext();return cc(r,l,Ra(a))}function qc(a){return"number"==typeof a?bd(a):Array.isArray(a)?a[0]+a[1]/1e9:a instanceof Date?bd(a.getTime()):Zo()}function bd(a){return a>9999999999?a/1e3:a}function ki(a){if(function zd(a){return"function"==typeof a.getSpanJSON}(a))return a.getSpanJSON();try{const{spanId:r,traceId:l}=a.spanContext();if(function Ed(a){return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(a)){const{attributes:p,startTime:T,name:X,endTime:re,parentSpanId:Ce,status:Le}=a;return ao({span_id:r,trace_id:l,data:p,description:X,parent_span_id:Ce,start_timestamp:qc(T),timestamp:qc(re)||void 0,status:yd(Le),op:p[Jc],origin:p[ar],_metrics_summary:oi(a)})}return{span_id:r,trace_id:l}}catch{return{}}}function Ra(a){const{traceFlags:r}=a.spanContext();return r===dr}function yd(a){if(a&&a.code!==cr)return a.code===rl?"ok":a.message||"unknown_error"}const ed="_sentryChildSpans",Aa="_sentryRootSpan";function Ru(a,r){vr(r,Aa,a[Aa]||a),a[ed]?a[ed].add(r):vr(a,ed,new Set([r]))}function Pi(a){const r=new Set;return function l(p){if(!r.has(p)&&Ra(p)){r.add(p);const T=p[ed]?Array.from(p[ed]):[];for(const X of T)l(X)}}(a),Array.from(r)}function ur(a){return a[Aa]||a}function Ho(){const r=ci(Zn());return r.getActiveSpan?r.getActiveSpan():Ch(Kn())}const Au="_frozenDsc";function Cd(a,r){vr(a,Au,r)}function Ko(a,r){const l=r.getOptions(),{publicKey:p}=r.getDsn()||{},T=ao({environment:l.environment||Pn,release:l.release,public_key:p,trace_id:a});return r.emit("createDsc",T),T}function Ml(a){const r=os();if(!r)return{};const l=Ko(ki(a).trace_id||"",r),p=ur(a),T=p[Au];if(T)return T;const X=p.spanContext().traceState,re=X&&X.get("sentry.dsc"),Ce=re&&x_(re);if(Ce)return Ce;const Le=ki(p),at=Le.data||{},Ft=at[Sc];null!=Ft&&(l.sample_rate=`${Ft}`);const fn=Le.description;return"url"!==at[oa]&&fn&&(l.transaction=fn),l.sampled=String(Ra(p)),r.emit("createDsc",l,p),l}function Rh(a,r){const{extra:l,tags:p,user:T,contexts:X,level:re,sdkProcessingMetadata:Ce,breadcrumbs:Le,fingerprint:at,eventProcessors:Ft,attachments:Ut,propagationContext:fn,transactionName:Cn,span:En}=r;zl(a,"extra",l),zl(a,"tags",p),zl(a,"user",T),zl(a,"contexts",X),zl(a,"sdkProcessingMetadata",Ce),re&&(a.level=re),Cn&&(a.transactionName=Cn),En&&(a.span=En),Le.length&&(a.breadcrumbs=[...a.breadcrumbs,...Le]),at.length&&(a.fingerprint=[...a.fingerprint,...at]),Ft.length&&(a.eventProcessors=[...a.eventProcessors,...Ft]),Ut.length&&(a.attachments=[...a.attachments,...Ut]),a.propagationContext={...a.propagationContext,...fn}}function zl(a,r,l){if(l&&Object.keys(l).length){a[r]={...a[r]};for(const p in l)Object.prototype.hasOwnProperty.call(l,p)&&(a[r][p]=l[p])}}function ku(a,r,l,p,T,X){const{normalizeDepth:re=3,normalizeMaxBreadth:Ce=1e3}=a,Le={...r,event_id:r.event_id||l.event_id||Ps(),timestamp:r.timestamp||ga()},at=l.integrations||a.integrations.map(ui=>ui.name);(function nf(a,r){const{environment:l,release:p,dist:T,maxValueLength:X=250}=r;"environment"in a||(a.environment="environment"in r?l:Pn),void 0===a.release&&void 0!==p&&(a.release=p),void 0===a.dist&&void 0!==T&&(a.dist=T),a.message&&(a.message=or(a.message,X));const re=a.exception&&a.exception.values&&a.exception.values[0];re&&re.value&&(re.value=or(re.value,X));const Ce=a.request;Ce&&Ce.url&&(Ce.url=or(Ce.url,X))})(Le,a),function sf(a,r){r.length>0&&(a.sdk=a.sdk||{},a.sdk.integrations=[...a.sdk.integrations||[],...r])}(Le,at),T&&T.emit("applyFrameMetadata",r),void 0===r.type&&function xc(a,r){const l=tn._sentryDebugIds;if(!l)return;let p;const T=Pu.get(r);T?p=T:(p=new Map,Pu.set(r,p));const X=Object.entries(l).reduce((re,[Ce,Le])=>{let at;const Ft=p.get(Ce);Ft?at=Ft:(at=r(Ce),p.set(Ce,at));for(let Ut=at.length-1;Ut>=0;Ut--){const fn=at[Ut];if(fn.filename){re[fn.filename]=Le;break}}return re},{});try{a.exception.values.forEach(re=>{re.stacktrace.frames.forEach(Ce=>{Ce.filename&&(Ce.debug_id=X[Ce.filename])})})}catch{}}(Le,a.stackParser);const Ft=function Td(a,r){if(!r)return a;const l=a?a.clone():new Ga;return l.update(r),l}(p,l.captureContext);l.mechanism&&lc(Le,l.mechanism);const Ut=T?T.getEventProcessors():[],fn=function Ms(){return On("globalScope",()=>new Ga)}().getScopeData();X&&Rh(fn,X.getScopeData()),Ft&&Rh(fn,Ft.getScopeData());const Cn=[...l.attachments||[],...fn.attachments];return Cn.length&&(l.attachments=Cn),function Xr(a,r){const{fingerprint:l,span:p,breadcrumbs:T,sdkProcessingMetadata:X}=r;(function wu(a,r){const{extra:l,tags:p,user:T,contexts:X,level:re,transactionName:Ce}=r,Le=ao(l);Le&&Object.keys(Le).length&&(a.extra={...Le,...a.extra});const at=ao(p);at&&Object.keys(at).length&&(a.tags={...at,...a.tags});const Ft=ao(T);Ft&&Object.keys(Ft).length&&(a.user={...Ft,...a.user});const Ut=ao(X);Ut&&Object.keys(Ut).length&&(a.contexts={...Ut,...a.contexts}),re&&(a.level=re),Ce&&"transaction"!==a.type&&(a.transaction=Ce)})(a,r),p&&function Xd(a,r){a.contexts={trace:rs(r),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:Ml(r),...a.sdkProcessingMetadata};const p=ki(ur(r)).description;p&&!a.transaction&&"transaction"===a.type&&(a.transaction=p)}(a,p),function Am(a,r){a.fingerprint=a.fingerprint?jl(a.fingerprint):[],r&&(a.fingerprint=a.fingerprint.concat(r)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(a,l),function qo(a,r){const l=[...a.breadcrumbs||[],...r];a.breadcrumbs=l.length?l:void 0}(a,T),function Md(a,r){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...r}}(a,X)}(Le,fn),Wl([...Ut,...fn.eventProcessors],Le,l).then(ui=>(ui&&function Hr(a){const r={};try{a.exception.values.forEach(p=>{p.stacktrace.frames.forEach(T=>{T.debug_id&&(T.abs_path?r[T.abs_path]=T.debug_id:T.filename&&(r[T.filename]=T.debug_id),delete T.debug_id)})})}catch{}if(0===Object.keys(r).length)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];const l=a.debug_meta.images;Object.entries(r).forEach(([p,T])=>{l.push({type:"sourcemap",code_file:p,debug_id:T})})}(ui),"number"==typeof re&&re>0?function wr(a,r,l){if(!a)return null;const p={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(T=>({...T,...T.data&&{data:ol(T.data,r,l)}}))},...a.user&&{user:ol(a.user,r,l)},...a.contexts&&{contexts:ol(a.contexts,r,l)},...a.extra&&{extra:ol(a.extra,r,l)}};return a.contexts&&a.contexts.trace&&p.contexts&&(p.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(p.contexts.trace.data=ol(a.contexts.trace.data,r,l))),a.spans&&(p.spans=a.spans.map(T=>({...T,...T.data&&{data:ol(T.data,r,l)}}))),p}(ui,re,Ce):ui))}const Pu=new WeakMap;const Rc=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Lu(a,r){return Kn().captureException(a,function Xl(a){if(a)return function Ah(a){return a instanceof Ga||"function"==typeof a}(a)||function R_(a){return Object.keys(a).some(r=>Rc.includes(r))}(a)?{captureContext:a}:a}(r))}function Fu(a,r){return Kn().captureEvent(a,r)}function Ac(a,r){Ci().setContext(a,r)}function Lh(a){const r=os(),l=Ci(),p=Kn(),{release:T,environment:X=Pn}=r&&r.getOptions()||{},{userAgent:re}=tn.navigator||{},Ce=function Ud(a){const r=Zo(),l={sid:Ps(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function I_(a){return ao({sid:`${a.sid}`,init:a.init,started:new Date(1e3*a.started).toISOString(),timestamp:new Date(1e3*a.timestamp).toISOString(),status:a.status,errors:a.errors,did:"number"==typeof a.did||"string"==typeof a.did?`${a.did}`:void 0,duration:a.duration,abnormal_mechanism:a.abnormal_mechanism,attrs:{release:a.release,environment:a.environment,ip_address:a.ipAddress,user_agent:a.userAgent}})}(l)};return a&&sl(l,a),l}({release:T,environment:X,user:p.getUser()||l.getUser(),...re&&{userAgent:re},...a}),Le=l.getSession();return Le&&"ok"===Le.status&&sl(Le,{status:"exited"}),td(),l.setSession(Ce),p.setSession(Ce),Ce}function td(){const a=Ci(),r=Kn(),l=r.getSession()||a.getSession();l&&function fo(a,r){let l={};r?l={status:r}:"ok"===a.status&&(l={status:"exited"}),sl(a,l)}(l),al(),a.setSession(),r.setSession()}function al(){const a=Ci(),r=Kn(),l=os(),p=r.getSession()||a.getSession();p&&l&&l.captureSession(p)}function wc(a=!1){a?td():al()}const Fh=[];function Qd(a){const r=a.defaultIntegrations||[],l=a.integrations;let p;r.forEach(re=>{re.isDefaultInstance=!0}),p=Array.isArray(l)?[...r,...l]:"function"==typeof l?jl(l(r)):r;const T=function Qs(a){const r={};return a.forEach(l=>{const{name:p}=l,T=r[p];T&&!T.isDefaultInstance&&l.isDefaultInstance||(r[p]=l)}),Object.values(r)}(p),X=T.findIndex(re=>"Debug"===re.name);if(X>-1){const[re]=T.splice(X,1);T.push(re)}return T}function Er(a,r){for(const l of r)l&&l.afterAllSetup&&l.afterAllSetup(a)}function Dd(a,r,l){if(l[r.name])fs&&ni.log(`Integration skipped because it was already installed: ${r.name}`);else{if(l[r.name]=r,-1===Fh.indexOf(r.name)&&"function"==typeof r.setupOnce&&(r.setupOnce(),Fh.push(r.name)),r.setup&&"function"==typeof r.setup&&r.setup(a),"function"==typeof r.preprocessEvent){const p=r.preprocessEvent.bind(r);a.on("preprocessEvent",(T,X)=>p(T,X,a))}if("function"==typeof r.processEvent){const p=r.processEvent.bind(r),T=Object.assign((X,re)=>p(X,re,a),{id:r.name});a.addEventProcessor(T)}fs&&ni.log(`Integration installed: ${r.name}`)}}const za=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],w_=(a={})=>({name:"InboundFilters",processEvent(r,l,p){const T=p.getOptions(),X=function Yo(a={},r={}){return{allowUrls:[...a.allowUrls||[],...r.allowUrls||[]],denyUrls:[...a.denyUrls||[],...r.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...r.ignoreErrors||[],...a.disableErrorDefaults?[]:za],ignoreTransactions:[...a.ignoreTransactions||[],...r.ignoreTransactions||[]],ignoreInternal:void 0===a.ignoreInternal||a.ignoreInternal}}(a,T);return function k_(a,r){return r.ignoreInternal&&function Q(a){try{return"SentryError"===a.exception.values[0].type}catch{}return!1}(a)?(fs&&ni.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Rr(a)}`),!0):function Bh(a,r){return!(a.type||!r||!r.length)&&function Uu(a){const r=[];let l;a.message&&r.push(a.message);try{l=a.exception.values[a.exception.values.length-1]}catch{}return l&&l.value&&(r.push(l.value),l.type&&r.push(`${l.type}: ${l.value}`)),r}(a).some(l=>bi(l,r))}(a,r.ignoreErrors)?(fs&&ni.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Rr(a)}`),!0):function lt(a){return!(a.type||!a.exception||!a.exception.values||0===a.exception.values.length||a.message||a.exception.values.some(r=>r.stacktrace||r.type&&"Error"!==r.type||r.value))}(a)?(fs&&ni.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Rr(a)}`),!0):function P_(a,r){if("transaction"!==a.type||!r||!r.length)return!1;const l=a.transaction;return!!l&&bi(l,r)}(a,r.ignoreTransactions)?(fs&&ni.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Rr(a)}`),!0):function Id(a,r){if(!r||!r.length)return!1;const l=$e(a);return!!l&&bi(l,r)}(a,r.denyUrls)?(fs&&ni.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Rr(a)}.\nUrl: ${$e(a)}`),!0):!function $h(a,r){if(!r||!r.length)return!0;const l=$e(a);return!l||bi(l,r)}(a,r.allowUrls)&&(fs&&ni.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Rr(a)}.\nUrl: ${$e(a)}`),!0)}(r,X)?null:r}});function $e(a){try{let r;try{r=a.exception.values[0].stacktrace.frames}catch{}return r?function ee(a=[]){for(let r=a.length-1;r>=0;r--){const l=a[r];if(l&&"<anonymous>"!==l.filename&&"[native code]"!==l.filename)return l.filename||null}return null}(r):null}catch{return fs&&ni.error(`Cannot extract url for event ${Rr(a)}`),null}}let Jt;const An=new WeakMap,Oi=()=>({name:"FunctionToString",setupOnce(){Jt=Function.prototype.toString;try{Function.prototype.toString=function(...a){const r=Vr(this),l=An.has(os())&&void 0!==r?r:this;return Jt.apply(l,a)}}catch{}},setup(a){An.set(a,!0)}}),Us=()=>{let a;return{name:"Dedupe",processEvent(r){if(r.type)return r;try{if(function Vs(a,r){return!(!r||!function eo(a,r){const l=a.message,p=r.message;return!(!l&&!p||l&&!p||!l&&p||l!==p||!Hl(a,r)||!wa(a,r))}(a,r)&&!function yr(a,r){const l=Pc(r),p=Pc(a);return!!(l&&p&&l.type===p.type&&l.value===p.value&&Hl(a,r)&&wa(a,r))}(a,r))}(r,a))return fs&&ni.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return a=r}}};function wa(a,r){let l=ef(a),p=ef(r);if(!l&&!p)return!0;if(l&&!p||!l&&p||p.length!==l.length)return!1;for(let T=0;T<p.length;T++){const X=p[T],re=l[T];if(X.filename!==re.filename||X.lineno!==re.lineno||X.colno!==re.colno||X.function!==re.function)return!1}return!0}function Hl(a,r){let l=a.fingerprint,p=r.fingerprint;if(!l&&!p)return!0;if(l&&!p||!l&&p)return!1;try{return l.join("")===p.join("")}catch{return!1}}function Pc(a){return a.exception&&a.exception.values&&a.exception.values[0]}const Lm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function to(a,r=!1){const{host:l,path:p,pass:T,port:X,projectId:re,protocol:Ce,publicKey:Le}=a;return`${Ce}://${Le}${r&&T?`:${T}`:""}@${l}${X?`:${X}`:""}/${p&&`${p}/`}${re}`}function Zd(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function L_(a){const r="string"==typeof a?function cf(a){const r=Lm.exec(a);if(!r)return void Mo(()=>{console.error(`Invalid Sentry Dsn: ${a}`)});const[l,p,T="",X="",re="",Ce=""]=r.slice(1);let Le="",at=Ce;const Ft=at.split("/");if(Ft.length>1&&(Le=Ft.slice(0,-1).join("/"),at=Ft.pop()),at){const Ut=at.match(/^\d+/);Ut&&(at=Ut[0])}return Zd({host:X,pass:T,path:Le,projectId:at,port:re,protocol:l,publicKey:p})}(a):Zd(a);if(r&&function ll(a){if(!ro)return!0;const{port:r,projectId:l,protocol:p}=a;return!(["protocol","publicKey","host","projectId"].find(re=>!a[re]&&(ni.error(`Invalid Sentry Dsn: ${re} missing`),!0))||(l.match(/^\d+$/)?function Fm(a){return"http"===a||"https"===a}(p)?r&&isNaN(parseInt(r,10))&&(ni.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ni.error(`Invalid Sentry Dsn: Invalid protocol ${p}`),1):(ni.error(`Invalid Sentry Dsn: Invalid projectId ${l}`),1)))}(r))return r}const F_="7";function df(a){return`${a.protocol?`${a.protocol}:`:""}//${a.host}${a.port?`:${a.port}`:""}${a.path?`/${a.path}`:""}/api/`}function Nm(a,r,l){return r||`${function yb(a){return`${df(a)}${a.projectId}/envelope/`}(a)}?${function Yv(a,r){return function Du(a){return Object.keys(a).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(a[r])}`).join("&")}({sentry_key:a.publicKey,sentry_version:F_,...r&&{sentry_client:`${r.name}/${r.version}`}})}(a,l)}`}const qd=tn;function Pa(){if(!("fetch"in qd))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Lc(a){return a&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}const ba={},jh={};function Cr(a,r){ba[a]=ba[a]||[],ba[a].push(r)}function cl(a,r){jh[a]||(r(),jh[a]=!0)}function Ql(a,r){const l=a&&ba[a];if(l)for(const p of l)try{p(r)}catch(T){ro&&ni.error(`Error while triggering instrumentation handler.\nType: ${a}\nName: ${Gl(p)}\nError:`,T)}}const N_=tn,ls=tn;let eu;function Vu(a){const r="history";Cr(r,a),cl(r,B_)}function B_(){if(!function Uh(){const a=N_.chrome;return!(a&&a.app&&a.app.runtime||!("history"in N_)||!N_.history.pushState||!N_.history.replaceState)}())return;const a=ls.onpopstate;function r(l){return function(...p){const T=p.length>2?p[2]:void 0;if(T){const X=eu,re=String(T);eu=re,Ql("history",{from:X,to:re})}return l.apply(this,p)}}ls.onpopstate=function(...l){const p=ls.location.href,T=eu;if(eu=p,Ql("history",{from:T,to:p}),a)try{return a.apply(this,l)}catch{}},yo(ls.history,"pushState",r),yo(ls.history,"replaceState",r)}function Xa(a,r=[]){return[a,r]}function uf(a,r){const[l,p]=a;return[l,[...p,r]]}function ra(a,r){const l=a[1];for(const p of l)if(r(p,p[0].type))return!0;return!1}function di(a){return tn.__SENTRY__&&tn.__SENTRY__.encodePolyfill?tn.__SENTRY__.encodePolyfill(a):(new TextEncoder).encode(a)}function tu(a){const[r,l]=a;let p=JSON.stringify(r);function T(X){"string"==typeof p?p="string"==typeof X?p+X:[di(p),X]:p.push("string"==typeof X?di(X):X)}for(const X of l){const[re,Ce]=X;if(T(`\n${JSON.stringify(re)}\n`),"string"==typeof Ce||Ce instanceof Uint8Array)T(Ce);else{let Le;try{Le=JSON.stringify(Ce)}catch{Le=JSON.stringify(ol(Ce))}T(Le)}}return"string"==typeof p?p:function jm(a){const r=a.reduce((T,X)=>T+X.length,0),l=new Uint8Array(r);let p=0;for(const T of a)l.set(T,p),p+=T.length;return l}(p)}function Vm(a){return[{type:"span"},a]}function Gm(a){const r="string"==typeof a.data?di(a.data):a.data;return[ao({type:"attachment",length:r.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),r]}const Gh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function La(a){return Gh[a]}function nu(a){if(!a||!a.sdk)return;const{name:r,version:l}=a.sdk;return{name:r,version:l}}function Kh(a,r,l,p){const T=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!l&&p&&{dsn:to(p)},...T&&{trace:ao({...T})}}}class Ha extends Error{constructor(r,l="warn"){super(r),this.message=r,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=l}}function aa(a){if("boolean"==typeof a)return Number(a);const r="string"==typeof a?parseFloat(a):a;if(!("number"!=typeof r||isNaN(r)||r<0||r>1))return r;fs&&ni.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`)}const nd="Not capturing exception because it's already been captured.";class Jv{constructor(r){if(this._options=r,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],r.dsn?this._dsn=L_(r.dsn):fs&&ni.warn("No DSN provided, client will not send events."),this._dsn){const l=Nm(this._dsn,r.tunnel,r._metadata?r._metadata.sdk:void 0);this._transport=r.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...r.transportOptions,url:l})}}captureException(r,l,p){const T=Ps();if(yh(r))return fs&&ni.log(nd),T;const X={event_id:T,...l};return this._process(this.eventFromException(r,X).then(re=>this._captureEvent(re,X,p))),X.event_id}captureMessage(r,l,p,T){const X={event_id:Ps(),...p},re=bs(r)?r:String(r),Ce=vl(r)?this.eventFromMessage(re,l,X):this.eventFromException(r,X);return this._process(Ce.then(Le=>this._captureEvent(Le,X,T))),X.event_id}captureEvent(r,l,p){const T=Ps();if(l&&l.originalException&&yh(l.originalException))return fs&&ni.log(nd),T;const X={event_id:T,...l};return this._process(this._captureEvent(r,X,(r.sdkProcessingMetadata||{}).capturedSpanScope||p)),X.event_id}captureSession(r){"string"!=typeof r.release?fs&&ni.warn("Discarded session because of missing or non-string release"):(this.sendSession(r),sl(r,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(r){const l=this._transport;return l?(this.emit("flush"),this._isClientDoneProcessing(r).then(p=>l.flush(r).then(T=>p&&T))):xa(!0)}close(r){return this.flush(r).then(l=>(this.getOptions().enabled=!1,this.emit("close"),l))}getEventProcessors(){return this._eventProcessors}addEventProcessor(r){this._eventProcessors.push(r)}init(){(this._isEnabled()||this._options.integrations.some(({name:r})=>r.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(r){return this._integrations[r]}addIntegration(r){const l=this._integrations[r.name];Dd(this,r,this._integrations),l||Er(this,[r])}sendEvent(r,l={}){this.emit("beforeSendEvent",r,l);let p=function Wm(a,r,l,p){const T=nu(l),X=a.type&&"replay_event"!==a.type?a.type:"event";!function j_(a,r){r&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||r.name,a.sdk.version=a.sdk.version||r.version,a.sdk.integrations=[...a.sdk.integrations||[],...r.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...r.packages||[]])}(a,l&&l.sdk);const re=Kh(a,T,p,r);return delete a.sdkProcessingMetadata,Xa(re,[[{type:X},a]])}(r,this._dsn,this._options._metadata,this._options.tunnel);for(const X of l.attachments||[])p=uf(p,Gm(X));const T=this.sendEnvelope(p);T&&T.then(X=>this.emit("afterSendEvent",r,X),null)}sendSession(r){const l=function Km(a,r,l,p){const T=nu(l);return Xa({sent_at:(new Date).toISOString(),...T&&{sdk:T},...!!p&&r&&{dsn:to(r)}},["aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()]])}(r,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(l)}recordDroppedEvent(r,l,p){if(this._options.sendClientReports){const T="number"==typeof p?p:1,X=`${r}:${l}`;fs&&ni.log(`Recording outcome: "${X}"${T>1?` (${T} times)`:""}`),this._outcomes[X]=(this._outcomes[X]||0)+T}}on(r,l){const p=this._hooks[r]=this._hooks[r]||[];return p.push(l),()=>{const T=p.indexOf(l);T>-1&&p.splice(T,1)}}emit(r,...l){const p=this._hooks[r];p&&p.forEach(T=>T(...l))}sendEnvelope(r){return this.emit("beforeEnvelope",r),this._isEnabled()&&this._transport?this._transport.send(r).then(null,l=>(fs&&ni.error("Error while sending event:",l),l)):(fs&&ni.error("Transport disabled"),xa({}))}_setupIntegrations(){const{integrations:r}=this._options;this._integrations=function Jd(a,r){const l={};return r.forEach(p=>{p&&Dd(a,p,l)}),l}(this,r),Er(this,r)}_updateSessionFromEvent(r,l){let p=!1,T=!1;const X=l.exception&&l.exception.values;if(X){T=!0;for(const Le of X){const at=Le.mechanism;if(at&&!1===at.handled){p=!0;break}}}const re="ok"===r.status;(re&&0===r.errors||re&&p)&&(sl(r,{...p&&{status:"crashed"},errors:r.errors||Number(T||p)}),this.captureSession(r))}_isClientDoneProcessing(r){return new Wr(l=>{let p=0;const X=setInterval(()=>{0==this._numProcessing?(clearInterval(X),l(!0)):(p+=1,r&&p>=r&&(clearInterval(X),l(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(r,l,p,T=Ci()){const X=this.getOptions(),re=Object.keys(this._integrations);return!l.integrations&&re.length>0&&(l.integrations=re),this.emit("preprocessEvent",r,l),r.type||T.setLastEventId(r.event_id||l.event_id),ku(X,r,l,p,this,T).then(Ce=>{if(null===Ce)return Ce;const Le={...T.getPropagationContext(),...p?p.getPropagationContext():void 0};if((!Ce.contexts||!Ce.contexts.trace)&&Le){const{traceId:Ft,spanId:Ut,parentSpanId:fn,dsc:Cn}=Le;Ce.contexts={trace:ao({trace_id:Ft,span_id:Ut,parent_span_id:fn}),...Ce.contexts};const En=Cn||Ko(Ft,this);Ce.sdkProcessingMetadata={dynamicSamplingContext:En,...Ce.sdkProcessingMetadata}}return Ce})}_captureEvent(r,l={},p){return this._processEvent(r,l,p).then(T=>T.event_id,T=>{if(fs){const X=T;"log"===X.logLevel?ni.log(X.message):ni.warn(X)}})}_processEvent(r,l,p){const T=this.getOptions(),{sampleRate:X}=T,re=Zv(r),Ce=Xm(r),Le=r.type||"error",at=`before send for type \`${Le}\``,Ft=typeof X>"u"?void 0:aa(X);if(Ce&&"number"==typeof Ft&&Math.random()>Ft)return this.recordDroppedEvent("sample_rate","error",r),va(new Ha(`Discarding event because it's not included in the random sample (sampling rate = ${X})`,"log"));const Ut="replay_event"===Le?"replay":Le;return this._prepareEvent(r,l,p,(r.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(En=>{if(null===En)throw this.recordDroppedEvent("event_processor",Ut,r),new Ha("An event processor returned `null`, will not send event.","log");if(l.data&&!0===l.data.__sentry__)return En;const ui=function zm(a,r,l,p){const{beforeSend:T,beforeSendTransaction:X,beforeSendSpan:re}=r;if(Xm(l)&&T)return T(l,p);if(Zv(l)){if(l.spans&&re){const Ce=[];for(const Le of l.spans){const at=re(Le);at?Ce.push(at):a.recordDroppedEvent("before_send","span")}l.spans=Ce}if(X)return l.spans&&(l.sdkProcessingMetadata={...l.sdkProcessingMetadata,spanCountBeforeProcessing:l.spans.length}),X(l,p)}return l}(this,T,En,l);return function zh(a,r){const l=`${r} must return \`null\` or a valid event.`;if(ft(a))return a.then(p=>{if(!fa(p)&&null!==p)throw new Ha(l);return p},p=>{throw new Ha(`${r} rejected with ${p}`)});if(!fa(a)&&null!==a)throw new Ha(l);return a}(ui,at)}).then(En=>{if(null===En)throw this.recordDroppedEvent("before_send",Ut,r),re&&this.recordDroppedEvent("before_send","span",1+(r.spans||[]).length),new Ha(`${at} returned \`null\`, will not send event.`,"log");const Nn=p&&p.getSession();if(!re&&Nn&&this._updateSessionFromEvent(Nn,En),re){const Qi=(En.sdkProcessingMetadata&&En.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(En.spans?En.spans.length:0);Qi>0&&this.recordDroppedEvent("before_send","span",Qi)}const ui=En.transaction_info;if(re&&ui&&En.transaction!==r.transaction){const hi="custom";En.transaction_info={...ui,source:hi}}return this.sendEvent(En,l),En}).then(null,En=>{throw En instanceof Ha?En:(this.captureException(En,{data:{__sentry__:!0},originalException:En}),new Ha(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${En}`))})}_process(r){this._numProcessing++,r.then(l=>(this._numProcessing--,l),l=>(this._numProcessing--,l))}_clearOutcomes(){const r=this._outcomes;return this._outcomes={},Object.entries(r).map(([l,p])=>{const[T,X]=l.split(":");return{reason:T,category:X,quantity:p}})}_flushOutcomes(){fs&&ni.log("Flushing outcomes...");const r=this._clearOutcomes();if(0===r.length)return void(fs&&ni.log("No outcomes to send"));if(!this._dsn)return void(fs&&ni.log("No dsn provided, will not send outcomes"));fs&&ni.log("Sending outcomes:",r);const l=function Wh(a,r,l){return Xa(r?{dsn:r}:{},[[{type:"client_report"},{timestamp:l||ga(),discarded_events:a}]])}(r,this._options.tunnel&&to(this._dsn));this.sendEnvelope(l)}}function Xm(a){return void 0===a.type}function Zv(a){return"transaction"===a.type}function U_(a,r,l=[r],p="npm"){const T=a._metadata||{};T.sdk||(T.sdk={name:`sentry.javascript.${r}`,packages:l.map(X=>({name:`${p}:@sentry/${X}`,version:en})),version:en}),a._metadata=T}const er=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Gu(a,r){const l=iu(a,r),p={type:r&&r.name,value:Xh(r)};return l.length&&(p.stacktrace={frames:l}),void 0===p.type&&""===p.value&&(p.value="Unrecoverable error caught"),p}function _f(a,r){return{exception:{values:[Gu(a,r)]}}}function iu(a,r){const l=r.stacktrace||r.stack||"",p=function Hm(a){return a&&qv.test(a.message)?1:0}(r),T=function G_(a){return"number"==typeof a.framesToPop?a.framesToPop:0}(r);try{return a(l,p,T)}catch{}return[]}const qv=/Minified React error #\d+;/i;function Xh(a){const r=a&&a.message;return r?r.error&&"string"==typeof r.error.message?r.error.message:r:"No error message"}function K_(a,r,l,p,T){let X;if(Ds(r)&&r.error)return _f(a,r.error);if(Zi(r)||function so(a){return Ri(a,"DOMException")}(r)){const re=r;if("stack"in r)X=_f(a,r);else{const Ce=re.name||(Zi(re)?"DOMError":"DOMException"),Le=re.message?`${Ce}: ${re.message}`:Ce;X=dl(a,Le,l,p),br(X,Le)}return"code"in re&&(X.tags={...X.tags,"DOMException.code":`${re.code}`}),X}return ei(r)?_f(a,r):fa(r)||ge(r)?(X=function V_(a,r,l,p){const T=os(),X=T&&T.getOptions().normalizeDepth,re=function Dl(a){for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)){const l=a[r];if(l instanceof Error)return l}}(r),Ce={__serialized__:Dc(r,X)};if(re)return{exception:{values:[Gu(a,re)]},extra:Ce};const Le={exception:{values:[{type:ge(r)?r.constructor.name:p?"UnhandledRejection":"Error",value:Ym(r,{isUnhandledRejection:p})}]},extra:Ce};if(l){const at=iu(a,l);at.length&&(Le.exception.values[0].stacktrace={frames:at})}return Le}(a,r,l,T),lc(X,{synthetic:!0}),X):(X=dl(a,r,l,p),br(X,`${r}`,void 0),lc(X,{synthetic:!0}),X)}function dl(a,r,l,p){const T={};if(p&&l){const X=iu(a,l);X.length&&(T.exception={values:[{value:r,stacktrace:{frames:X}}]})}if(bs(r)){const{__sentry_template_string__:X,__sentry_template_values__:re}=r;return T.logentry={message:X,params:re},T}return T.message=r,T}function Ym(a,{isUnhandledRejection:r}){const l=function Va(a,r=40){const l=Object.keys(Eh(a));l.sort();const p=l[0];if(!p)return"[object has no keys]";if(p.length>=r)return or(p,r);for(let T=l.length;T>0;T--){const X=l.slice(0,T).join(", ");if(!(X.length>r))return T===l.length?X:or(X,r)}return""}(a),p=r?"promise rejection":"exception";return Ds(a)?`Event \`ErrorEvent\` captured as ${p} with message \`${a.message}\``:ge(a)?`Event \`${function W_(a){try{const r=Object.getPrototypeOf(a);return r?r.constructor.name:void 0}catch{}}(a)}\` (type=${a.type}) captured as ${p}`:`Object captured as ${p} with keys: ${l}`}const Vi=tn;let su=0;function z_(){return su>0}function Od(a,r={},l){if("function"!=typeof a)return a;try{const T=a.__sentry_wrapped__;if(T)return T;if(Vr(a))return a}catch{return a}const p=function(){const T=Array.prototype.slice.call(arguments);try{l&&"function"==typeof l&&l.apply(this,arguments);const X=T.map(re=>Od(re,r));return a.apply(this,X)}catch(X){throw function ou(){su++,setTimeout(()=>{su--})}(),rr(re=>{re.addEventProcessor(Ce=>(r.mechanism&&(br(Ce,void 0,void 0),lc(Ce,r.mechanism)),Ce.extra={...Ce.extra,arguments:T},Ce)),Lu(X)}),X}};try{for(const T in a)Object.prototype.hasOwnProperty.call(a,T)&&(p[T]=a[T])}catch{}il(p,a),vr(a,"__sentry_wrapped__",p);try{Object.getOwnPropertyDescriptor(p,"name").configurable&&Object.defineProperty(p,"name",{get:()=>a.name})}catch{}return p}class X_ extends Jv{constructor(r){const l={parentSpanIsAlwaysRootSpan:!0,...r};U_(l,"browser",["browser"],Vi.SENTRY_SDK_SOURCE||"npm"),super(l),l.sendClientReports&&Vi.document&&Vi.document.addEventListener("visibilitychange",()=>{"hidden"===Vi.document.visibilityState&&this._flushOutcomes()})}eventFromException(r,l){return function Hh(a,r,l,p){const X=K_(a,r,l&&l.syntheticException||void 0,p);return lc(X),X.level="error",l&&l.event_id&&(X.event_id=l.event_id),xa(X)}(this._options.stackParser,r,l,this._options.attachStacktrace)}eventFromMessage(r,l="info",p){return function zn(a,r,l="info",p,T){const re=dl(a,r,p&&p.syntheticException||void 0,T);return re.level=l,p&&p.event_id&&(re.event_id=p.event_id),xa(re)}(this._options.stackParser,r,l,p,this._options.attachStacktrace)}captureUserFeedback(r){if(!this._isEnabled())return void(er&&ni.warn("SDK not enabled, will not capture user feedback."));const l=function pf(a,{metadata:r,tunnel:l,dsn:p}){const T={event_id:a.event_id,sent_at:(new Date).toISOString(),...r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}},...!!l&&!!p&&{dsn:to(p)}},X=function Qm(a){return[{type:"user_report"},a]}(a);return Xa(T,[X])}(r,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(l)}_prepareEvent(r,l,p){return r.platform=r.platform||"javascript",super._prepareEvent(r,l,p)}}const e0=1e3;let ru,id,H_;function Y_(a){Cr("dom",a),cl("dom",ff)}function ff(){if(!ls.document)return;const a=Ql.bind(null,"dom"),r=kr(a,!0);ls.document.addEventListener("click",r,!1),ls.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(l=>{const p=ls[l]&&ls[l].prototype;!p||!p.hasOwnProperty||!p.hasOwnProperty("addEventListener")||(yo(p,"addEventListener",function(T){return function(X,re,Ce){if("click"===X||"keypress"==X)try{const Le=this,at=Le.__sentry_instrumentation_handlers__=Le.__sentry_instrumentation_handlers__||{},Ft=at[X]=at[X]||{refCount:0};if(!Ft.handler){const Ut=kr(a);Ft.handler=Ut,T.call(this,X,Ut,Ce)}Ft.refCount++}catch{}return T.call(this,X,re,Ce)}}),yo(p,"removeEventListener",function(T){return function(X,re,Ce){if("click"===X||"keypress"==X)try{const Le=this,at=Le.__sentry_instrumentation_handlers__||{},Ft=at[X];Ft&&(Ft.refCount--,Ft.refCount<=0&&(T.call(this,X,Ft.handler,Ce),Ft.handler=void 0,delete at[X]),0===Object.keys(at).length&&delete Le.__sentry_instrumentation_handlers__)}catch{}return T.call(this,X,re,Ce)}}))})}function kr(a,r=!1){return l=>{if(!l||l._sentryCaptured)return;const p=function mf(a){try{return a.target}catch{return null}}(l);if(function xd(a,r){return!("keypress"!==a||r&&r.tagName&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable))}(l.type,p))return;vr(l,"_sentryCaptured",!0),p&&!p._sentryId&&vr(p,"_sentryId",Ps());const T="keypress"===l.type?"input":l.type;(function Ku(a){if(a.type!==id)return!1;try{if(!a.target||a.target._sentryId!==H_)return!1}catch{}return!0})(l)||(a({event:l,name:T,global:r}),id=l.type,H_=p?p._sentryId:void 0),clearTimeout(ru),ru=ls.setTimeout(()=>{H_=void 0,id=void 0},e0)}}const ul="__sentry_xhr_v3__";function la(a){Cr("xhr",a),cl("xhr",t0)}function t0(){if(!ls.XMLHttpRequest)return;const a=XMLHttpRequest.prototype;a.open=new Proxy(a.open,{apply(r,l,p){const T=1e3*Zo(),X=Ro(p[0])?p[0].toUpperCase():void 0,re=function Q_(a){if(Ro(a))return a;try{return a.toString()}catch{}}(p[1]);if(!X||!re)return r.apply(l,p);l[ul]={method:X,url:re,request_headers:{}},"POST"===X&&re.match(/sentry_key/)&&(l.__sentry_own_request__=!0);const Ce=()=>{const Le=l[ul];if(Le&&4===l.readyState){try{Le.status_code=l.status}catch{}Ql("xhr",{endTimestamp:1e3*Zo(),startTimestamp:T,xhr:l})}};return"onreadystatechange"in l&&"function"==typeof l.onreadystatechange?l.onreadystatechange=new Proxy(l.onreadystatechange,{apply:(Le,at,Ft)=>(Ce(),Le.apply(at,Ft))}):l.addEventListener("readystatechange",Ce),l.setRequestHeader=new Proxy(l.setRequestHeader,{apply(Le,at,Ft){const[Ut,fn]=Ft,Cn=at[ul];return Cn&&Ro(Ut)&&Ro(fn)&&(Cn.request_headers[Ut.toLowerCase()]=fn),Le.apply(at,Ft)}}),r.apply(l,p)}}),a.send=new Proxy(a.send,{apply(r,l,p){const T=l[ul];return T?(void 0!==p[0]&&(T.body=p[0]),Ql("xhr",{startTimestamp:1e3*Zo(),xhr:l}),r.apply(l,p)):r.apply(l,p)}})}const Yh=100;function sd(a,r){const l=os(),p=Ci();if(!l)return;const{beforeBreadcrumb:T=null,maxBreadcrumbs:X=Yh}=l.getOptions();if(X<=0)return;const Ce={timestamp:ga(),...a},Le=T?Mo(()=>T(Ce,r)):Ce;null!==Le&&(l.emit&&l.emit("beforeAddBreadcrumb",Le,r),p.addBreadcrumb(Le,X))}function J_(){"console"in tn&&ma.forEach(function(a){a in tn.console&&yo(tn.console,a,function(r){return nl[a]=r,function(...l){Ql("console",{args:l,level:a});const T=nl[a];T&&T.apply(tn.console,l)}})})}function Wu(a,r){const l="fetch";Cr(l,a),cl(l,()=>vf(void 0,r))}function vf(a,r=!1){r&&!function Sd(){if("string"==typeof EdgeRuntime)return!0;if(!Pa())return!1;if(Lc(qd.fetch))return!0;let a=!1;const r=qd.document;if(r&&"function"==typeof r.createElement)try{const l=r.createElement("iframe");l.hidden=!0,r.head.appendChild(l),l.contentWindow&&l.contentWindow.fetch&&(a=Lc(l.contentWindow.fetch)),r.head.removeChild(l)}catch(l){ro&&ni.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return a}()||yo(tn,"fetch",function(l){return function(...p){const{method:T,url:X}=function tg(a){if(0===a.length)return{method:"GET",url:""};if(2===a.length){const[l,p]=a;return{url:eg(l),method:au(p,"method")?String(p.method).toUpperCase():"GET"}}const r=a[0];return{url:eg(r),method:au(r,"method")?String(r.method).toUpperCase():"GET"}}(p),re={args:p,fetchData:{method:T,url:X},startTimestamp:1e3*Zo()};a||Ql("fetch",{...re});const Ce=(new Error).stack;return l.apply(tn,p).then(function(){var Le=(0,Rs.A)(function*(at){return a?a(at):Ql("fetch",{...re,endTimestamp:1e3*Zo(),response:at}),at});return function(at){return Le.apply(this,arguments)}}(),Le=>{throw Ql("fetch",{...re,endTimestamp:1e3*Zo(),error:Le}),ei(Le)&&void 0===Le.stack&&(Le.stack=Ce,vr(Le,"framesToPop",1)),Le})}})}function Z_(){return Z_=(0,Rs.A)(function*(a,r){if(a&&a.body&&a.body.getReader){let p=function(X){return T.apply(this,arguments)},T=function(){return T=(0,Rs.A)(function*({done:X}){if(X)return Promise.resolve();try{const re=yield Promise.race([l.read(),new Promise(Ce=>{setTimeout(()=>{Ce({done:!0})},5e3)})]);yield p(re)}catch{}}),T.apply(this,arguments)};const l=a.body.getReader();return l.read().then(p).then(r).catch(()=>{})}}),Z_.apply(this,arguments)}function qm(a){return bf.apply(this,arguments)}function bf(){return bf=(0,Rs.A)(function*(a){let r;try{r=a.clone()}catch{return}yield function Zm(a,r){return Z_.apply(this,arguments)}(r,()=>{Ql("fetch-body-resolved",{endTimestamp:1e3*Zo(),response:a})})}),bf.apply(this,arguments)}function au(a,r){return!!a&&"object"==typeof a&&!!a[r]}function eg(a){return"string"==typeof a?a:a?au(a,"url")?a.url:a.toString?a.toString():"":""}const Ef=["fatal","error","warning","log","info","debug"];function q_(a){return"warn"===a?"warning":Ef.includes(a)?a:"log"}function od(a){if(!a)return{};const r=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};const l=r[6]||"",p=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],search:l,hash:p,relative:r[5]+l+p}}const ep=(a={})=>{const r={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...a};return{name:"Breadcrumbs",setup(l){r.console&&function gf(a){const r="console";Cr(r,a),cl(r,J_)}(function s0(a){return function(l){if(os()!==a)return;const p={category:"console",data:{arguments:l.args,logger:"console"},level:q_(l.level),message:ac(l.args," ")};if("assert"===l.level){if(!1!==l.args[0])return;p.message=`Assertion failed: ${ac(l.args.slice(1)," ")||"console.assert"}`,p.data.arguments=l.args.slice(1)}sd(p,{input:l.args,level:l.level})}}(l)),r.dom&&Y_(function Qh(a,r){return function(p){if(os()!==a)return;let T,X,re="object"==typeof r?r.serializeAttribute:void 0,Ce="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;Ce&&Ce>1024&&(er&&ni.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${Ce} was configured. Sentry will use 1024 instead.`),Ce=1024),"string"==typeof re&&(re=[re]);try{const at=p.event,Ft=function r0(a){return!!a&&!!a.target}(at)?at.target:at;T=Xi(Ft,{keyAttrs:re,maxStringLength:Ce}),X=Cs(Ft)}catch{T="<unknown>"}if(0===T.length)return;const Le={category:`ui.${p.name}`,message:T};X&&(Le.data={"ui.component_name":X}),sd(Le,{event:p.event,name:p.name,global:p.global})}}(l,r.dom)),r.xhr&&la(function o0(a){return function(l){if(os()!==a)return;const{startTimestamp:p,endTimestamp:T}=l,X=l.xhr[ul];if(!p||!T||!X)return;const{method:re,url:Ce,status_code:Le,body:at}=X;sd({category:"xhr",data:{method:re,url:Ce,status_code:Le},type:"http"},{xhr:l.xhr,input:at,startTimestamp:p,endTimestamp:T})}}(l)),r.fetch&&Wu(function lu(a){return function(l){if(os()!==a)return;const{startTimestamp:p,endTimestamp:T}=l;if(T&&(!l.fetchData.url.match(/sentry_key/)||"POST"!==l.fetchData.method))if(l.error)sd({category:"fetch",data:l.fetchData,level:"error",type:"http"},{data:l.error,input:l.args,startTimestamp:p,endTimestamp:T});else{const X=l.response;sd({category:"fetch",data:{...l.fetchData,status_code:X&&X.status},type:"http"},{input:l.args,response:X,startTimestamp:p,endTimestamp:T})}}}(l)),r.history&&Vu(function Ib(a){return function(l){if(os()!==a)return;let p=l.from,T=l.to;const X=od(Vi.location.href);let re=p?od(p):void 0;const Ce=od(T);(!re||!re.path)&&(re=X),X.protocol===Ce.protocol&&X.host===Ce.host&&(T=Ce.relative),X.protocol===re.protocol&&X.host===re.host&&(p=re.relative),sd({category:"navigation",data:{from:p,to:T}})}}(l)),r.sentry&&l.on("beforeSendEvent",function ig(a){return function(l){os()===a&&sd({category:"sentry."+("transaction"===l.type?"transaction":"event"),event_id:l.event_id,level:l.level,message:Rr(l)},{event:l})}}(l))}}},Fc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],sg=(a={})=>{const r={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...a};return{name:"BrowserApiErrors",setupOnce(){r.setTimeout&&yo(Vi,"setTimeout",a0),r.setInterval&&yo(Vi,"setInterval",a0),r.requestAnimationFrame&&yo(Vi,"requestAnimationFrame",Cf),r.XMLHttpRequest&&"XMLHttpRequest"in Vi&&yo(XMLHttpRequest.prototype,"send",np);const l=r.eventTarget;l&&(Array.isArray(l)?l:Fc).forEach(og)}}};function a0(a){return function(...r){return r[0]=Od(r[0],{mechanism:{data:{function:Gl(a)},handled:!1,type:"instrument"}}),a.apply(this,r)}}function Cf(a){return function(r){return a.apply(this,[Od(r,{mechanism:{data:{function:"requestAnimationFrame",handler:Gl(a)},handled:!1,type:"instrument"}})])}}function np(a){return function(...r){const l=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(T=>{T in l&&"function"==typeof l[T]&&yo(l,T,function(X){const re={mechanism:{data:{function:T,handler:Gl(X)},handled:!1,type:"instrument"}},Ce=Vr(X);return Ce&&(re.mechanism.data.handler=Gl(Ce)),Od(X,re)})}),a.apply(this,r)}}function og(a){const l=Vi[a]&&Vi[a].prototype;!l||!l.hasOwnProperty||!l.hasOwnProperty("addEventListener")||(yo(l,"addEventListener",function(p){return function(T,X,re){try{"function"==typeof X.handleEvent&&(X.handleEvent=Od(X.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Gl(X),target:a},handled:!1,type:"instrument"}}))}catch{}return p.apply(this,[T,Od(X,{mechanism:{data:{function:"addEventListener",handler:Gl(X),target:a},handled:!1,type:"instrument"}}),re])}}),yo(l,"removeEventListener",function(p){return function(T,X,re){const Ce=X;try{const Le=Ce&&Ce.__sentry_wrapped__;Le&&p.call(this,T,Le,re)}catch{}return p.call(this,T,Ce,re)}}))}let wo=null;function Rd(a){const r="error";Cr(r,a),cl(r,cu)}function cu(){wo=tn.onerror,tn.onerror=function(a,r,l,p,T){return Ql("error",{column:p,error:T,line:l,msg:a,url:r}),!(!wo||wo.__SENTRY_LOADER__)&&wo.apply(this,arguments)},tn.onerror.__SENTRY_INSTRUMENTED__=!0}let hc=null;function rg(a){const r="unhandledrejection";Cr(r,a),cl(r,zu)}function zu(){hc=tn.onunhandledrejection,tn.onunhandledrejection=function(a){return Ql("unhandledrejection",a),!(hc&&!hc.__SENTRY_LOADER__)||hc.apply(this,arguments)},tn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Xu=(a={})=>{const r={onerror:!0,onunhandledrejection:!0,...a};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(l){r.onerror&&(function l0(a){Rd(r=>{const{stackParser:l,attachStacktrace:p}=Df();if(os()!==a||z_())return;const{msg:T,url:X,line:re,column:Ce,error:Le}=r,at=function rd(a,r,l,p){const T=a.exception=a.exception||{},X=T.values=T.values||[],re=X[0]=X[0]||{},Ce=re.stacktrace=re.stacktrace||{},Le=Ce.frames=Ce.frames||[],at=isNaN(parseInt(p,10))?void 0:p,Ft=isNaN(parseInt(l,10))?void 0:l,Ut=Ro(r)&&r.length>0?r:Jn();return 0===Le.length&&Le.push({colno:at,filename:Ut,function:yl,in_app:!0,lineno:Ft}),a}(K_(l,Le||T,void 0,p,!1),X,re,Ce);at.level="error",Fu(at,{originalException:Le,mechanism:{handled:!1,type:"onerror"}})})}(l),lg("onerror")),r.onunhandledrejection&&(function c0(a){rg(r=>{const{stackParser:l,attachStacktrace:p}=Df();if(os()!==a||z_())return;const T=function ag(a){if(vl(a))return a;try{if("reason"in a)return a.reason;if("detail"in a&&"reason"in a.detail)return a.detail.reason}catch{}return a}(r),X=vl(T)?function d0(a){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}}(T):K_(l,T,void 0,p,!0);X.level="error",Fu(X,{originalException:T,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(l),lg("onunhandledrejection"))}}};function lg(a){er&&ni.log(`Global Handler attached: ${a}`)}function Df(){const a=os();return a&&a.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const cg=()=>({name:"HttpContext",preprocessEvent(a){if(!Vi.navigator&&!Vi.location&&!Vi.document)return;const r=a.request&&a.request.url||Vi.location&&Vi.location.href,{referrer:l}=Vi.document||{},{userAgent:p}=Vi.navigator||{},T={...a.request&&a.request.headers,...l&&{Referer:l},...p&&{"User-Agent":p}},X={...a.request,...r&&{url:r},headers:T};a.request=X}});function Ob(a,r,l=250,p,T,X,re){if(!(X.exception&&X.exception.values&&re&&Rn(re.originalException,Error)))return;const Ce=X.exception.values.length>0?X.exception.values[X.exception.values.length-1]:void 0;Ce&&(X.exception.values=function ug(a,r){return a.map(l=>(l.value&&(l.value=or(l.value,r)),l))}(dg(a,r,T,re.originalException,p,X.exception.values,Ce,0),l))}function dg(a,r,l,p,T,X,re,Ce){if(X.length>=l+1)return X;let Le=[...X];if(Rn(p[T],Error)){u0(re,Ce);const at=a(r,p[T]),Ft=Le.length;h0(at,T,Ft,Ce),Le=dg(a,r,l,p[T],T,[at,...Le],at,Ft)}return Array.isArray(p.errors)&&p.errors.forEach((at,Ft)=>{if(Rn(at,Error)){u0(re,Ce);const Ut=a(r,at),fn=Le.length;h0(Ut,`errors[${Ft}]`,fn,Ce),Le=dg(a,r,l,at,T,[Ut,...Le],Ut,fn)}}),Le}function u0(a,r){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,..."AggregateError"===a.type&&{is_exception_group:!0},exception_id:r}}function h0(a,r,l,p){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,type:"chained",source:r,exception_id:l,parent_id:p}}const Zh=(a={})=>{const r=a.limit||5,l=a.key||"cause";return{name:"LinkedErrors",preprocessEvent(p,T,X){const re=X.getOptions();Ob(Gu,re.stackParser,re.maxValueLength,l,r,p,T)}}};function Nc(a,r,l,p){const T={filename:a,function:"<anonymous>"===r?yl:r,in_app:!0};return void 0!==l&&(T.lineno=l),void 0!==p&&(T.colno=p),T}const _g=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Sf=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,p0=/\((\S*)(?::(\d+))(?::(\d+))\)/,m0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Of=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,E0=Jp([30,a=>{const r=_g.exec(a);if(r){const[,p,T,X]=r;return Nc(p,yl,+T,+X)}const l=Sf.exec(a);if(l){if(l[2]&&0===l[2].indexOf("eval")){const re=p0.exec(l[2]);re&&(l[2]=re[1],l[3]=re[2],l[4]=re[3])}const[T,X]=gg(l[1]||yl,l[2]);return Nc(X,T,l[3]?+l[3]:void 0,l[4]?+l[4]:void 0)}}],[50,a=>{const r=m0.exec(a);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){const X=Of.exec(r[3]);X&&(r[1]=r[1]||"eval",r[3]=X[1],r[4]=X[2],r[5]="")}let p=r[3],T=r[1]||yl;return[T,p]=gg(T,p),Nc(p,T,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}}]),gg=(a,r)=>{const l=-1!==a.indexOf("safari-extension"),p=-1!==a.indexOf("safari-web-extension");return l||p?[-1!==a.indexOf("@")?a.split("@")[0]:yl,l?`safari-extension:${r}`:`safari-web-extension:${r}`]:[a,r]},Il=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,op={};function xf(a){const r=op[a];if(r)return r;let l=ls[a];if(Lc(l))return op[a]=l.bind(ls);const p=ls.document;if(p&&"function"==typeof p.createElement)try{const T=p.createElement("iframe");T.hidden=!0,p.head.appendChild(T);const X=T.contentWindow;X&&X[a]&&(l=X[a]),p.head.removeChild(T)}catch(T){Il&&ni.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,T)}return l&&(op[a]=l.bind(ls))}function vg(a){op[a]=void 0}function Yu(...a){return xf("setTimeout")(...a)}const y0=6e4;function rp(a,r,l=Date.now()){return function Rf(a,r){return a[r]||a.all||0}(a,r)>l}function Af(a,{statusCode:r,headers:l},p=Date.now()){const T={...a},X=l&&l["x-sentry-rate-limits"],re=l&&l["retry-after"];if(X)for(const Ce of X.trim().split(",")){const[Le,at,,,Ft]=Ce.split(":",5),Ut=parseInt(Le,10),fn=1e3*(isNaN(Ut)?60:Ut);if(at)for(const Cn of at.split(";"))"metric_bucket"===Cn?(!Ft||Ft.split(";").includes("custom"))&&(T[Cn]=p+fn):T[Cn]=p+fn;else T.all=p+fn}else re?T.all=p+function Eg(a,r=Date.now()){const l=parseInt(`${a}`,10);if(!isNaN(l))return 1e3*l;const p=Date.parse(`${a}`);return isNaN(p)?y0:p-r}(re,p):429===r&&(T.all=p+6e4);return T}const Qu=64;function _l(a,r){if("event"===r||"transaction"===r)return Array.isArray(a)?a[1]:void 0}function ap(a,r=xf("fetch")){let l=0,p=0;return function Ju(a,r,l=function bg(a){const r=[];function p(re){return r.splice(r.indexOf(re),1)[0]||Promise.resolve(void 0)}return{$:r,add:function T(re){if(!function l(){return void 0===a||r.length<a}())return va(new Ha("Not adding Promise because buffer limit was reached."));const Ce=re();return-1===r.indexOf(Ce)&&r.push(Ce),Ce.then(()=>p(Ce)).then(null,()=>p(Ce).then(null,()=>{})),Ce},drain:function X(re){return new Wr((Ce,Le)=>{let at=r.length;if(!at)return Ce(!0);const Ft=setTimeout(()=>{re&&re>0&&Ce(!1)},re);r.forEach(Ut=>{xa(Ut).then(()=>{--at||(clearTimeout(Ft),Ce(!0))},Le)})})}}}(a.bufferSize||Qu)){let p={};return{send:function X(re){const Ce=[];if(ra(re,(Ut,fn)=>{const Cn=La(fn);if(rp(p,Cn)){const En=_l(Ut,fn);a.recordDroppedEvent("ratelimit_backoff",Cn,En)}else Ce.push(Ut)}),0===Ce.length)return xa({});const Le=Xa(re[0],Ce),at=Ut=>{ra(Le,(fn,Cn)=>{const En=_l(fn,Cn);a.recordDroppedEvent(Ut,La(Cn),En)})};return l.add(()=>r({body:tu(Le)}).then(Ut=>(void 0!==Ut.statusCode&&(Ut.statusCode<200||Ut.statusCode>=300)&&fs&&ni.warn(`Sentry responded with status code ${Ut.statusCode} to sent event.`),p=Af(p,Ut),Ut),Ut=>{throw at("network_error"),Ut})).then(Ut=>Ut,Ut=>{if(Ut instanceof Ha)return fs&&ni.error("Skipped sending event because buffer is full."),at("queue_overflow"),xa({});throw Ut})},flush:re=>l.drain(re)}}(a,function T(X){const re=X.body.length;l+=re,p++;const Ce={body:X.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:l<=6e4&&p<15,...a.fetchOptions};if(!r)return vg("fetch"),va("No fetch implementation available");try{return r(a.url,Ce).then(Le=>(l-=re,p--,{statusCode:Le.status,headers:{"x-sentry-rate-limits":Le.headers.get("X-Sentry-Rate-Limits"),"retry-after":Le.headers.get("Retry-After")}}))}catch(Le){return vg("fetch"),l-=re,p--,va(Le)}})}function Ad(a={}){const r=function yg(a={}){const r={defaultIntegrations:[w_(),Oi(),sg(),ep(),Xu(),Zh(),Us(),cg()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Vi.SENTRY_RELEASE&&Vi.SENTRY_RELEASE.id?Vi.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==a.defaultIntegrations&&delete a.defaultIntegrations,{...r,...a}}(a);if(function ad(){const a=typeof Vi.window<"u"&&Vi;if(!a)return!1;const l=a[a.chrome?"chrome":"browser"],p=l&&l.runtime&&l.runtime.id,T=Vi.location&&Vi.location.href||"",re=!!p&&Vi===Vi.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(Le=>T.startsWith(`${Le}//`));return!(!p||re||typeof a.nw<"u")}())return void Mo(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});er&&(Pa()||ni.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const l={...r,stackParser:Th(r.stackParser||E0),integrations:Qd(r),transport:r.transport||ap},p=function jn(a,r){!0===r.debug&&(fs?ni.enable():Mo(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Kn().update(r.initialScope);const p=new a(r);return function ks(a){Kn().setClient(a)}(p),p.init(),p}(X_,l);return r.autoSessionTracking&&function M0(){typeof Vi.document>"u"?er&&ni.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(Lh({ignoreDuration:!0}),wc(),Vu(({from:a,to:r})=>{void 0!==a&&a!==r&&(Lh({ignoreDuration:!0}),wc())}))}(),p}function wd(a={}){if(!Vi.document)return void(er&&ni.error("Global document not defined in showReportDialog call"));const r=Kn(),l=r.getClient(),p=l&&l.getDsn();if(!p)return void(er&&ni.error("DSN not configured for showReportDialog call"));if(r&&(a.user={...r.getUser(),...a.user}),!a.eventId){const Ce=function A_(){return Ci().lastEventId()}();Ce&&(a.eventId=Ce)}const T=Vi.document.createElement("script");T.async=!0,T.crossOrigin="anonymous",T.src=function Bm(a,r){const l=L_(a);if(!l)return"";const p=`${df(l)}embed/error-page/`;let T=`dsn=${to(l)}`;for(const X in r)if("dsn"!==X&&"onClose"!==X)if("user"===X){const re=r.user;if(!re)continue;re.name&&(T+=`&name=${encodeURIComponent(re.name)}`),re.email&&(T+=`&email=${encodeURIComponent(re.email)}`)}else T+=`&${encodeURIComponent(X)}=${encodeURIComponent(r[X])}`;return`${p}?${T}`}(p,a),a.onLoad&&(T.onload=a.onLoad);const{onClose:X}=a;if(X){const Ce=Le=>{if("__sentry_reportdialog_closed__"===Le.data)try{X()}finally{Vi.removeEventListener("message",Ce)}};Vi.addEventListener("message",Ce)}const re=Vi.document.head||Vi.document.body;re?re.appendChild(T):er&&ni.error("Not injecting report dialog. No injection point found in HTML")}function ld(a){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const r=os(),l=a||r&&r.getOptions();return!!l&&(l.enableTracing||"tracesSampleRate"in l||"tracesSampler"in l)}class Sl{constructor(r={}){this._traceId=r.traceId||Ps(),this._spanId=r.spanId||Ps().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(r){}setAttribute(r,l){return this}setAttributes(r){return this}setStatus(r){return this}updateName(r){return this}isRecording(){return!1}addEvent(r,l,p){return this}addLink(r){return this}addLinks(r){return this}recordException(r,l){}}function Mg(a){if(!a||0===a.length)return;const r={};return a.forEach(l=>{const p=l.attributes||{},T=p[xu],X=p[Oh];"string"==typeof T&&"number"==typeof X&&(r[l.name]={value:X,unit:T})}),r}const Pf="_sentryScope",i_="_sentryIsolationScope";function Tg(a){return{scope:a[Pf],isolationScope:a[i_]}}class Lf{constructor(r={}){this._traceId=r.traceId||Ps(),this._spanId=r.spanId||Ps().substring(16),this._startTime=r.startTimestamp||Zo(),this._attributes={},this.setAttributes({[ar]:"manual",[Jc]:r.op,...r.attributes}),this._name=r.name,r.parentSpanId&&(this._parentSpanId=r.parentSpanId),"sampled"in r&&(this._sampled=r.sampled),r.endTimestamp&&(this._endTime=r.endTimestamp),this._events=[],this._isStandaloneSpan=r.isStandalone,this._endTime&&this._onSpanEnded()}addLink(r){return this}addLinks(r){return this}recordException(r,l){}spanContext(){const{_spanId:r,_traceId:l,_sampled:p}=this;return{spanId:r,traceId:l,traceFlags:p?dr:0}}setAttribute(r,l){return void 0===l?delete this._attributes[r]:this._attributes[r]=l,this}setAttributes(r){return Object.keys(r).forEach(l=>this.setAttribute(l,r[l])),this}updateStartTime(r){this._startTime=qc(r)}setStatus(r){return this._status=r,this}updateName(r){return this._name=r,this}end(r){this._endTime||(this._endTime=qc(r),function lp(a){if(!fs)return;const{description:r="< unknown name >",op:l="< unknown op >"}=ki(a),{spanId:p}=a.spanContext(),X=ur(a)===a;ni.log(`[Tracing] Finishing "${l}" ${X?"root ":""}span "${r}" with ID ${p}`)}(this),this._onSpanEnded())}getSpanJSON(){return ao({data:this._attributes,description:this._name,op:this._attributes[Jc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:yd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ar],_metrics_summary:oi(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Oc],measurements:Mg(this._events),is_segment:this._isStandaloneSpan&&ur(this)===this||void 0,segment_id:this._isStandaloneSpan?ur(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(r,l,p){fs&&ni.log("[Tracing] Adding an event to span:",r);const T=Ff(l)?l:p||Zo(),X=Ff(l)?{}:l||{},re={name:r,time:qc(T),attributes:X};return this._events.push(re),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const r=os();if(r&&r.emit("spanEnd",this),!this._isStandaloneSpan&&this!==ur(this))return;if(this._isStandaloneSpan)return void(this._sampled?function Nf(a){const r=os();if(!r)return;const l=a[1];if(!l||0===l.length)return void r.recordDroppedEvent("before_send","span");const p=r.getTransport();p&&p.send(a).then(null,T=>{fs&&ni.error("Error while sending span:",T)})}(function Cb(a,r){const p=Ml(a[0]),T=r&&r.getDsn(),X=r&&r.getOptions().tunnel,re={sent_at:(new Date).toISOString(),...function l(Ft){return!!Ft.trace_id&&!!Ft.public_key}(p)&&{trace:p},...!!X&&T&&{dsn:to(T)}},Ce=r&&r.getOptions().beforeSendSpan,Le=Ce?Ft=>Ce(ki(Ft)):Ft=>ki(Ft),at=[];for(const Ft of a){const Ut=Le(Ft);Ut&&at.push(Vm(Ut))}return Xa(re,at)}([this],r)):(fs&&ni.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","span")));const p=this._convertSpanToTransaction();p&&(Tg(this).scope||Kn()).captureEvent(p)}_convertSpanToTransaction(){if(!Rb(ki(this)))return;this._name||(fs&&ni.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:r,isolationScope:l}=Tg(this),T=(r||Kn()).getClient()||os();if(!0!==this._sampled)return fs&&ni.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(T&&T.recordDroppedEvent("sample_rate","transaction"));const re=Pi(this).filter(Ut=>Ut!==this&&!function VC(a){return a instanceof Lf&&a.isStandaloneSpan()}(Ut)).map(Ut=>ki(Ut)).filter(Rb),Ce=this._attributes[oa],Le={contexts:{trace:dc(this)},spans:re.length>1e3?re.sort((Ut,fn)=>Ut.start_timestamp-fn.start_timestamp).slice(0,1e3):re,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:r,capturedSpanIsolationScope:l,...ao({dynamicSamplingContext:Ml(this)})},_metrics_summary:oi(this),...Ce&&{transaction_info:{source:Ce}}},at=Mg(this._events);return at&&Object.keys(at).length&&(fs&&ni.log("[Measurements] Adding measurements to transaction event",JSON.stringify(at,void 0,2)),Le.measurements=at),Le}}function Ff(a){return a&&"number"==typeof a||a instanceof Date||Array.isArray(a)}function Rb(a){return!!(a.start_timestamp&&a.timestamp&&a.span_id&&a.trace_id)}const Ig="__SENTRY_SUPPRESS_TRACING__";function Ol(a){const r=uu();if(r.startInactiveSpan)return r.startInactiveSpan(a);const l=function dp(a){const l={isStandalone:(a.experimental||{}).standalone,...a};if(a.startTime){const p={...l};return p.startTimestamp=qc(a.startTime),delete p.startTime,p}return l}(a),{forceTransaction:p,parentSpan:T}=a;return(a.scope?re=>rr(a.scope,re):void 0!==T?re=>s_(T,re):re=>re())(()=>{const re=Kn(),Ce=function S0(a){const r=Ch(a);if(!r)return;const l=os();return(l?l.getOptions():{}).parentSpanIsAlwaysRootSpan?ur(r):r}(re);return a.onlyIfParent&&!Ce?new Sl:function du({parentSpan:a,spanArguments:r,forceTransaction:l,scope:p}){if(!ld())return new Sl;const T=Ci();let X;if(a&&!l)X=function xg(a,r,l){const{spanId:p,traceId:T}=a.spanContext(),X=!r.getScopeData().sdkProcessingMetadata[Ig]&&Ra(a),re=X?new Lf({...l,parentSpanId:p,traceId:T,sampled:X}):new Sl({traceId:T});Ru(a,re);const Ce=os();return Ce&&(Ce.emit("spanStart",re),l.endTimestamp&&Ce.emit("spanEnd",re)),re}(a,p,r),Ru(a,X);else if(a){const re=Ml(a),{traceId:Ce,spanId:Le}=a.spanContext(),at=Ra(a);X=o_({traceId:Ce,parentSpanId:Le,...r},p,at),Cd(X,re)}else{const{traceId:re,dsc:Ce,parentSpanId:Le,sampled:at}={...T.getPropagationContext(),...p.getPropagationContext()};X=o_({traceId:re,parentSpanId:Le,...r},p,at),Ce&&Cd(X,Ce)}return function kf(a){if(!fs)return;const{description:r="< unknown name >",op:l="< unknown op >",parent_span_id:p}=ki(a),{spanId:T}=a.spanContext(),X=Ra(a),re=ur(a),Ce=re===a,Le=`[Tracing] Starting ${X?"sampled":"unsampled"} ${Ce?"root ":""}span`,at=[`op: ${l}`,`name: ${r}`,`ID: ${T}`];if(p&&at.push(`parent ID: ${p}`),!Ce){const{op:Ft,description:Ut}=ki(re);at.push(`root ID: ${re.spanContext().spanId}`),Ft&&at.push(`root op: ${Ft}`),Ut&&at.push(`root description: ${Ut}`)}ni.log(`${Le}\n  ${at.join("\n  ")}`)}(X),function xb(a,r,l){a&&(vr(a,i_,l),vr(a,Pf,r))}(X,p,T),X}({parentSpan:Ce,spanArguments:l,forceTransaction:p,scope:re})})}function s_(a,r){const l=uu();return l.withActiveSpan?l.withActiveSpan(a,r):rr(p=>(Ul(p,a||void 0),r(p)))}function uu(){return ci(Zn())}function o_(a,r,l){const p=os(),T=p&&p.getOptions()||{},{name:X="",attributes:re}=a,[Ce,Le]=r.getScopeData().sdkProcessingMetadata[Ig]?[!1]:function T0(a,r){if(!ld(a))return[!1];let l;l="function"==typeof a.tracesSampler?a.tracesSampler(r):void 0!==r.parentSampled?r.parentSampled:typeof a.tracesSampleRate<"u"?a.tracesSampleRate:1;const p=aa(l);return void 0===p?(fs&&ni.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):p?Math.random()<p?[!0,p]:(fs&&ni.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(l)})`),[!1,p]):(fs&&ni.log("[Tracing] Discarding transaction because "+("function"==typeof a.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,p])}(T,{name:X,parentSampled:l,attributes:re,transactionContext:{name:X,parentSampled:l}}),at=new Lf({...a,attributes:{[oa]:"custom",...a.attributes},sampled:Ce});return void 0!==Le&&at.setAttribute(Sc,Le),p&&p.emit("spanStart",at),at}function Ca(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}const Zu=(a,r,l,p)=>{let T,X;return re=>{r.value>=0&&(re||p)&&(X=r.value-(T||0),(X||void 0===T)&&(T=r.value,r.delta=X,r.rating=((a,r)=>a>r[1]?"poor":a>r[0]?"needs-improvement":"good")(r.value,l),a(r)))}},up=()=>ls.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],r_=()=>{const a=up();return a&&a.activationStart||0},_c=(a,r)=>{const l=up();let p="navigate";return l&&(ls.document&&ls.document.prerendering||r_()>0?p="prerender":ls.document&&ls.document.wasDiscarded?p="restore":l.type&&(p=l.type.replace(/_/g,"-"))),{name:a,value:typeof r>"u"?-1:r,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:p}},hu=(a,r,l)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(a)){const p=new PerformanceObserver(T=>{Promise.resolve().then(()=>{r(T.getEntries())})});return p.observe(Object.assign({type:a,buffered:!0},l||{})),p}}catch{}},qu=a=>{const r=l=>{("pagehide"===l.type||ls.document&&"hidden"===ls.document.visibilityState)&&a(l)};ls.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))},kd=a=>{let r=!1;return l=>{r||(a(l),r=!0)}};let eh=-1;const hp=a=>{"hidden"===ls.document.visibilityState&&eh>-1&&(eh="visibilitychange"===a.type?a.timeStamp:0,removeEventListener("visibilitychange",hp,!0),removeEventListener("prerenderingchange",hp,!0))},jf=()=>(ls.document&&eh<0&&(eh="hidden"!==ls.document.visibilityState||ls.document.prerendering?1/0:0,addEventListener("visibilitychange",hp,!0),addEventListener("prerenderingchange",hp,!0)),{get firstHiddenTime(){return eh}}),Bc=a=>{ls.document&&ls.document.prerendering?addEventListener("prerenderingchange",()=>a(),!0):a()},x0=[1800,3e3],pp=[.1,.25],Rg=(a,r={})=>{((a,r={})=>{Bc(()=>{const l=jf(),p=_c("FCP");let T;const re=hu("paint",Ce=>{Ce.forEach(Le=>{"first-contentful-paint"===Le.name&&(re.disconnect(),Le.startTime<l.firstHiddenTime&&(p.value=Math.max(Le.startTime-r_(),0),p.entries.push(Le),T(!0)))})});re&&(T=Zu(a,p,x0,r.reportAllChanges))})})(kd(()=>{const l=_c("CLS",0);let p,T=0,X=[];const re=Le=>{Le.forEach(at=>{if(!at.hadRecentInput){const Ft=X[0],Ut=X[X.length-1];T&&Ft&&Ut&&at.startTime-Ut.startTime<1e3&&at.startTime-Ft.startTime<5e3?(T+=at.value,X.push(at)):(T=at.value,X=[at])}}),T>l.value&&(l.value=T,l.entries=X,p())},Ce=hu("layout-shift",re);Ce&&(p=Zu(a,l,pp,r.reportAllChanges),qu(()=>{re(Ce.takeRecords()),p(!0)}),setTimeout(p,0))}))},R0=[100,300],Ag=(a,r={})=>{Bc(()=>{const l=jf(),p=_c("FID");let T;const X=Le=>{Le.startTime<l.firstHiddenTime&&(p.value=Le.processingStart-Le.startTime,p.entries.push(Le),T(!0))},re=Le=>{Le.forEach(X)},Ce=hu("first-input",re);T=Zu(a,p,R0,r.reportAllChanges),Ce&&qu(kd(()=>{re(Ce.takeRecords()),Ce.disconnect()}))})};let fp=0,mp=1/0,pl=0;const Uf=a=>{a.forEach(r=>{r.interactionId&&(mp=Math.min(mp,r.interactionId),pl=Math.max(pl,r.interactionId),fp=pl?(pl-mp)/7+1:0)})};let nh;const kg=[200,500],gp=()=>(nh?fp:performance.interactionCount||0)-0,xl=[],l_={},_u=a=>{const r=xl[xl.length-1],l=l_[a.interactionId];if(l||xl.length<10||r&&a.duration>r.latency){if(l)l.entries.push(a),l.latency=Math.max(l.latency,a.duration);else{const p={id:a.interactionId,latency:a.duration,entries:[a]};l_[p.id]=p,xl.push(p)}xl.sort((p,T)=>T.latency-p.latency),xl.splice(10).forEach(p=>{delete l_[p.id]})}},w0=(a,r={})=>{Bc(()=>{"interactionCount"in performance||nh||(nh=hu("event",Uf,{type:"event",buffered:!0,durationThreshold:0}));const l=_c("INP");let p;const T=re=>{re.forEach(Le=>{Le.interactionId&&_u(Le),"first-input"===Le.entryType&&!xl.some(Ft=>Ft.entries.some(Ut=>Le.duration===Ut.duration&&Le.startTime===Ut.startTime))&&_u(Le)});const Ce=(()=>{const a=Math.min(xl.length-1,Math.floor(gp()/50));return xl[a]})();Ce&&Ce.latency!==l.value&&(l.value=Ce.latency,l.entries=Ce.entries,p())},X=hu("event",T,{durationThreshold:null!=r.durationThreshold?r.durationThreshold:40});p=Zu(a,l,kg,r.reportAllChanges),X&&("PerformanceEventTiming"in ls&&"interactionId"in PerformanceEventTiming.prototype&&X.observe({type:"first-input",buffered:!0}),qu(()=>{T(X.takeRecords()),l.value<0&&gp()>0&&(l.value=0,l.entries=[]),p(!0)}))})},kb=[2500,4e3],Z={},R=(a,r={})=>{Bc(()=>{const l=jf(),p=_c("LCP");let T;const X=Ce=>{const Le=Ce[Ce.length-1];Le&&Le.startTime<l.firstHiddenTime&&(p.value=Math.max(Le.startTime-r_(),0),p.entries=[Le],T())},re=hu("largest-contentful-paint",X);if(re){T=Zu(a,p,kb,r.reportAllChanges);const Ce=kd(()=>{Z[p.id]||(X(re.takeRecords()),re.disconnect(),Z[p.id]=!0,T(!0))});["keydown","click"].forEach(Le=>{ls.document&&addEventListener(Le,()=>setTimeout(Ce,0),!0)}),qu(Ce)}})},D=[800,1800],z=a=>{ls.document&&ls.document.prerendering?Bc(()=>z(a)):ls.document&&"complete"!==ls.document.readyState?addEventListener("load",()=>z(a),!0):setTimeout(a,0)},ue=(a,r={})=>{const l=_c("TTFB"),p=Zu(a,l,D,r.reportAllChanges);z(()=>{const T=up();if(T){const X=T.responseStart;if(X<=0||X>performance.now())return;l.value=Math.max(X-r_(),0),l.entries=[T],p(!0)}})},je={},ot={};let wt,cn,Sn,Hn,_i;function Ti(a,r=!1){return sh("cls",a,Gf,wt,r)}function ns(a,r=!1){return sh("lcp",a,bp,Sn,r)}function ds(a){return sh("fid",a,vp,cn)}function co(a){return sh("inp",a,KC,_i)}function qi(a,r){return Ep(a,r),ot[a]||(function pu(a){const r={};"event"===a&&(r.durationThreshold=0),hu(a,l=>{Wo(a,{entries:l})},r)}(a),ot[a]=!0),k0(a,r)}function Wo(a,r){const l=je[a];if(l&&l.length)for(const p of l)try{p(r)}catch(T){Il&&ni.error(`Error while triggering instrumentation handler.\nType: ${a}\nName: ${Gl(p)}\nError:`,T)}}function Gf(){return Rg(a=>{Wo("cls",{metric:a}),wt=a},{reportAllChanges:!0})}function vp(){return Ag(a=>{Wo("fid",{metric:a}),cn=a})}function bp(){return R(a=>{Wo("lcp",{metric:a}),Sn=a},{reportAllChanges:!0})}function GC(){return ue(a=>{Wo("ttfb",{metric:a}),Hn=a})}function KC(){return w0(a=>{Wo("inp",{metric:a}),_i=a})}function sh(a,r,l,p,T=!1){let X;return Ep(a,r),ot[a]||(X=l(),ot[a]=!0),p&&r({metric:p}),k0(a,r,T?X:void 0)}function Ep(a,r){je[a]=je[a]||[],je[a].push(r)}function k0(a,r,l){return()=>{l&&l();const p=je[a];if(!p)return;const T=p.indexOf(r);-1!==T&&p.splice(T,1)}}function Pg(a){return"number"==typeof a&&isFinite(a)}function Kf(a,r,l,{...p}){const T=ki(a).start_timestamp;return T&&T>r&&"function"==typeof a.updateStartTime&&a.updateStartTime(r),s_(a,()=>{const X=Ol({startTime:r,...p});return X&&X.end(l),X})}function WC(a){const r=os();if(!r)return;const{name:l,transaction:p,attributes:T,startTime:X}=a,{release:re,environment:Ce}=r.getOptions(),Le=r.getIntegrationByName("Replay"),at=Le&&Le.getReplayId(),Ft=Kn(),Ut=Ft.getUser(),fn=void 0!==Ut?Ut.email||Ut.id||Ut.ip_address:void 0;let Cn;try{Cn=Ft.getScopeData().contexts.profile.profile_id}catch{}return Ol({name:l,attributes:{release:re,environment:Ce,user:fn||void 0,profile_id:Cn||void 0,replay_id:at||void 0,transaction:p,"user_agent.original":ls.navigator&&ls.navigator.userAgent,...T},startTime:X,experimental:{standalone:!0}})}function Lb(){return ls&&ls.addEventListener&&ls.performance}function hr(a){return a/1e3}const Fb=2147483647;let Pd,Wf,Nb=0,Ya={};function zC({recordClsStandaloneSpans:a}){const r=Lb();if(r&&Kr){r.mark&&ls.performance.mark("sentry-tracing-init");const l=function Lg(){return ds(({metric:a})=>{const r=a.entries[a.entries.length-1];if(!r)return;const l=hr(Kr),p=hr(r.startTime);Il&&ni.log("[Measurements] Adding FID"),Ya.fid={value:a.value,unit:"millisecond"},Ya["mark.fid"]={value:l+p,unit:"second"}})}(),p=function jb(){return ns(({metric:a})=>{const r=a.entries[a.entries.length-1];r&&(Il&&ni.log("[Measurements] Adding LCP"),Ya.lcp={value:a.value,unit:"millisecond"},Pd=r)},!0)}(),T=function Ub(){return function Ls(a){return sh("ttfb",a,GC,Hn)}(({metric:a})=>{a.entries[a.entries.length-1]&&(Il&&ni.log("[Measurements] Adding TTFB"),Ya.ttfb={value:a.value,unit:"millisecond"})})}(),X=a?function P0(){let r,l,a=0;if(!function YD(){try{return Ca([PerformanceObserver,"access",a=>a.supportedEntryTypes,"optionalAccess",a=>a.includes,"call",a=>a("layout-shift")])}catch{return!1}}())return;let p=!1;function T(){p||(p=!0,l&&function HD(a,r,l){Il&&ni.log(`Sending CLS span (${a})`);const p=hr(Kr)+(Ca([r,"optionalAccess",at=>at.startTime])||0),T=hr(Ca([r,"optionalAccess",at=>at.duration])||0),X=Kn().getScopeData().transactionName,Le=WC({name:r?Xi(Ca([r,"access",at=>at.sources,"access",at=>at[0],"optionalAccess",at=>at.node])):"Layout shift",transaction:X,attributes:ao({[ar]:"auto.http.browser.cls",[Jc]:"ui.webvital.cls",[Oc]:Ca([r,"optionalAccess",at=>at.duration])||0,"sentry.pageload.span_id":l}),startTime:p});Ca([Le,"optionalAccess",at=>at.addEvent,"call",at=>at("cls",{[xu]:"",[Oh]:a})]),Ca([Le,"optionalAccess",at=>at.end,"call",at=>at(p+T)])}(a,r,l),X())}const X=Ti(({metric:re})=>{const Ce=re.entries[re.entries.length-1];Ce&&(a=re.value,r=Ce)},!0);qu(()=>{T()}),setTimeout(()=>{const Ce=Ca([os(),"optionalAccess",Ut=>Ut.on,"call",Ut=>Ut("startNavigationSpan",()=>{T(),Ce&&Ce()})]),Le=Ho(),at=Le&&ur(Le),Ft=at&&ki(at);Ft&&"pageload"===Ft.op&&(l=at.spanContext().spanId)},0)}():function HC(){return Ti(({metric:a})=>{const r=a.entries[a.entries.length-1];r&&(Il&&ni.log(`[Measurements] Adding CLS ${a.value}`),Ya.cls={value:a.value,unit:""},Wf=r)},!0)}();return()=>{l(),p(),T(),X&&X()}}return()=>{}}function zf(a,r,l,p,T,X){const re=X?r[X]:r[`${l}End`],Ce=r[`${l}Start`];!Ce||!re||Kf(a,p+hr(Ce),p+hr(re),{op:"browser",name:T||l,attributes:{[ar]:"auto.ui.browser.metrics"}})}function N0(a,r,l,p){const T=r[l];null!=T&&T<Fb&&(a[p]=T)}const B0=[],Xf=new Map;const qC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},Fg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function Kb(a,r={}){const l=new Map;let T,p=!1,X="externalFinish",re=!r.disableAutoFinish;const Ce=[],{idleTimeout:Le=Fg.idleTimeout,finalTimeout:at=Fg.finalTimeout,childSpanTimeout:Ft=Fg.childSpanTimeout,beforeSpanEnd:Ut}=r,fn=os();if(!fn||!ld())return new Sl;const Cn=Kn(),En=Ho(),Nn=function sM(a){const r=Ol(a);return Ul(Kn(),r),fs&&ni.log("[Tracing] Started span is an idle span"),r}(a);function ui(){T&&(clearTimeout(T),T=void 0)}function hi(mi){ui(),T=setTimeout(()=>{!p&&0===l.size&&re&&(X="idleTimeout",Nn.end(mi))},Le)}function Ai(mi){T=setTimeout(()=>{!p&&re&&(X="heartbeatFailed",Nn.end(mi))},Ft)}function cs(mi){p=!0,l.clear(),Ce.forEach(hs=>hs()),Ul(Cn,En);const qn=ki(Nn),{start_timestamp:wi}=qn;if(!wi)return;(qn.data||{})[lr]||Nn.setAttribute(lr,X),ni.log(`[Tracing] Idle span "${qn.op}" finished`);const Di=Pi(Nn).filter(hs=>hs!==Nn);let ts=0;Di.forEach(hs=>{hs.isRecording()&&(hs.setStatus({code:Ss,message:"cancelled"}),hs.end(mi),fs&&ni.log("[Tracing] Cancelling span since span ended early",JSON.stringify(hs,void 0,2)));const To=ki(hs),{timestamp:Oo=0,start_timestamp:Zr=0}=To,si=Zr<=mi,Mi=Oo-Zr<=(at+Le)/1e3;if(fs){const gs=JSON.stringify(hs,void 0,2);si?Mi||ni.log("[Tracing] Discarding span since it finished after idle span final timeout",gs):ni.log("[Tracing] Discarding span since it happened after idle span was finished",gs)}(!Mi||!si)&&(function Cl(a,r){a[ed]&&a[ed].delete(r)}(Nn,hs),ts++)}),ts>0&&Nn.setAttribute("sentry.idle_span_discarded_spans",ts)}return Nn.end=new Proxy(Nn.end,{apply(mi,qn,wi){Ut&&Ut(Nn);const[Ns,...Di]=wi,hs=qc(Ns||Zo()),To=Pi(Nn).filter(Mi=>Mi!==Nn);if(!To.length)return cs(hs),Reflect.apply(mi,qn,[hs,...Di]);const Oo=To.map(Mi=>ki(Mi).timestamp).filter(Mi=>!!Mi),Zr=Oo.length?Math.max(...Oo):void 0,si=ki(Nn).start_timestamp,xi=Math.min(si?si+at/1e3:1/0,Math.max(si||-1/0,Math.min(hs,Zr||1/0)));return cs(xi),Reflect.apply(mi,qn,[xi,...Di])}}),Ce.push(fn.on("spanStart",mi=>{p||mi===Nn||ki(mi).timestamp||Pi(Nn).includes(mi)&&function Qi(mi){ui(),l.set(mi,!0),Ai(Zo()+Ft/1e3)}(mi.spanContext().spanId)})),Ce.push(fn.on("spanEnd",mi=>{p||function Li(mi){l.has(mi)&&l.delete(mi),0===l.size&&hi(Zo()+Le/1e3)}(mi.spanContext().spanId)})),Ce.push(fn.on("idleSpanEnableAutoFinish",mi=>{mi===Nn&&(re=!0,hi(),l.size&&Ai())})),r.disableAutoFinish||hi(),setTimeout(()=>{p||(Nn.setStatus({code:Ss,message:"deadline_exceeded"}),X="finalTimeout",Nn.end())},at),Nn}let Wb=!1;function Yf(){const a=Ho(),r=a&&ur(a);if(r){const l="internal_error";fs&&ni.log(`[Tracing] Root span: ${l} -> Global error occured`),r.setStatus({code:Ss,message:l})}}Yf.tag="sentry_tracingErrorCallback";const rM=new WeakMap,zb=new Map,Xb={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function aM(a,r){const{traceFetch:l,traceXHR:p,shouldCreateSpanForRequest:T,enableHTTPTimings:X,tracePropagationTargets:re}={traceFetch:Xb.traceFetch,traceXHR:Xb.traceXHR,...r},Ce="function"==typeof T?T:Ft=>!0,Le=Ft=>function Qb(a,r){const l=Vi.location&&Vi.location.href;if(l){let p,T;try{p=new URL(a,l),T=new URL(l).origin}catch{return!1}const X=p.origin===T;return r?bi(p.toString(),r)||X&&bi(p.pathname,r):X}{const p=!!a.match(/^\/(?!\/)/);return r?bi(a,r):p}}(Ft,re),at={};l&&(a.addEventProcessor(Ft=>("transaction"===Ft.type&&Ft.spans&&Ft.spans.forEach(Ut=>{if("http.client"===Ut.op){const fn=zb.get(Ut.span_id);fn&&(Ut.timestamp=fn/1e3,zb.delete(Ut.span_id))}}),Ft)),function Jm(a){const r="fetch-body-resolved";Cr(r,a),cl(r,()=>vf(qm))}(Ft=>{if(Ft.response){const Ut=rM.get(Ft.response);Ut&&Ft.endTimestamp&&zb.set(Ut,Ft.endTimestamp)}}),Wu(Ft=>{const Ut=function ZD(a,r,l,p,T="auto.http.browser"){if(!a.fetchData)return;const X=ld()&&r(a.fetchData.url);if(a.endTimestamp&&X){const En=a.fetchData.__span;if(!En)return;const Nn=p[En];return void(Nn&&(function eI(a,r){if(r.response){vd(a,r.response.status);const l=r.response&&r.response.headers&&r.response.headers.get("content-length");if(l){const p=parseInt(l);p>0&&a.setAttribute("http.response_content_length",p)}}else r.error&&a.setStatus({code:Ss,message:"internal_error"});a.end()}(Nn,a),delete p[En]))}const re=Kn(),Ce=os(),{method:Le,url:at}=a.fetchData,Ft=function qD(a){try{return new URL(a).href}catch{return}}(at),Ut=Ft?od(Ft).host:void 0,fn=!!Ho(),Cn=X&&fn?Ol({name:`${Le} ${at}`,attributes:{url:at,type:"fetch","http.method":Le,"http.url":Ft,"server.address":Ut,[ar]:T,[Jc]:"http.client"}}):new Sl;if(a.fetchData.__span=Cn.spanContext().spanId,p[Cn.spanContext().spanId]=Cn,l(a.fetchData.url)&&Ce){const En=a.args[0];a.args[1]=a.args[1]||{};const Nn=a.args[1];Nn.headers=function $0(a,r,l,p,T){const X=Ci(),{traceId:re,spanId:Ce,sampled:Le,dsc:at}={...X.getPropagationContext(),...l.getPropagationContext()},Ft=T?Wd(T):cc(re,Ce,Le),Ut=Ih(at||(T?Ml(T):Ko(re,r))),fn=p.headers||(typeof Request<"u"&&Rn(a,Request)?a.headers:void 0);if(fn){if(typeof Headers<"u"&&Rn(fn,Headers)){const Cn=new Headers(fn);return Cn.append("sentry-trace",Ft),Ut&&Cn.append(Qc,Ut),Cn}if(Array.isArray(fn)){const Cn=[...fn,["sentry-trace",Ft]];return Ut&&Cn.push([Qc,Ut]),Cn}{const Cn="baggage"in fn?fn.baggage:void 0,En=[];return Array.isArray(Cn)?En.push(...Cn):Cn&&En.push(Cn),Ut&&En.push(Ut),{...fn,"sentry-trace":Ft,baggage:En.length>0?En.join(","):void 0}}}return{"sentry-trace":Ft,baggage:Ut}}(En,Ce,re,Nn,ld()&&fn?Cn:void 0)}return Cn}(Ft,Ce,Le,at);if(Ft.response&&Ft.fetchData.__span&&rM.set(Ft.response,Ft.fetchData.__span),Ut){const fn=Jl(Ft.fetchData.url),Cn=fn?od(fn).host:void 0;Ut.setAttributes({"http.url":fn,"server.address":Cn})}X&&Ut&&Qf(Ut)})),p&&la(Ft=>{const Ut=function lM(a,r,l,p){const T=a.xhr,X=T&&T[ul];if(!T||T.__sentry_own_request__||!X)return;const re=ld()&&r(X.url);if(a.endTimestamp&&re){const fn=T.__sentry_xhr_span_id__;if(!fn)return;const Cn=p[fn];return void(Cn&&void 0!==X.status_code&&(vd(Cn,X.status_code),Cn.end(),delete p[fn]))}const Ce=Jl(X.url),Le=Ce?od(Ce).host:void 0,at=!!Ho(),Ft=re&&at?Ol({name:`${X.method} ${X.url}`,attributes:{type:"xhr","http.method":X.method,"http.url":Ce,url:X.url,"server.address":Le,[ar]:"auto.http.browser",[Jc]:"http.client"}}):new Sl;T.__sentry_xhr_span_id__=Ft.spanContext().spanId,p[T.__sentry_xhr_span_id__]=Ft;const Ut=os();return T.setRequestHeader&&l(X.url)&&Ut&&function Jb(a,r,l){const p=Kn(),T=Ci(),{traceId:X,spanId:re,sampled:Ce,dsc:Le}={...T.getPropagationContext(),...p.getPropagationContext()};!function yp(a,r,l){try{a.setRequestHeader("sentry-trace",r),l&&a.setRequestHeader(Qc,l)}catch{}}(a,l&&ld()?Wd(l):cc(X,re,Ce),Ih(Le||(l?Ml(l):Ko(X,r))))}(T,Ut,ld()&&at?Ft:void 0),Ft}(Ft,Ce,Le,at);X&&Ut&&Qf(Ut)})}function Qf(a){const{url:r}=ki(a).data||{};if(!r||"string"!=typeof r)return;const l=qi("resource",({entries:p})=>{p.forEach(T=>{(function Ng(a){return"resource"===a.entryType&&"initiatorType"in a&&"string"==typeof a.nextHopProtocol&&("fetch"===a.initiatorType||"xmlhttprequest"===a.initiatorType)})(T)&&T.name.endsWith(r)&&(function Yb(a){const{name:r,version:l}=function Hb(a){let r="unknown",l="unknown",p="";for(const T of a){if("/"===T){[r,l]=a.split("/");break}if(!isNaN(Number(T))){r="h"===p?"http":p,l=a.split(p)[1];break}p+=T}return p===a&&(r=p),{name:r,version:l}}(a.nextHopProtocol),p=[];return p.push(["network.protocol.version",l],["network.protocol.name",r]),Kr?[...p,["http.request.redirect_start",cd(a.redirectStart)],["http.request.fetch_start",cd(a.fetchStart)],["http.request.domain_lookup_start",cd(a.domainLookupStart)],["http.request.domain_lookup_end",cd(a.domainLookupEnd)],["http.request.connect_start",cd(a.connectStart)],["http.request.secure_connection_start",cd(a.secureConnectionStart)],["http.request.connection_end",cd(a.connectEnd)],["http.request.request_start",cd(a.requestStart)],["http.request.response_start",cd(a.responseStart)],["http.request.response_end",cd(a.responseEnd)]]:p}(T).forEach(re=>a.setAttribute(...re)),setTimeout(l))})})}function cd(a=0){return((Kr||performance.timeOrigin)+a)/1e3}function Jl(a){try{return new URL(a,Vi.location.origin).href}catch{return}}const Zb={...Fg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Xb},tI=(a={})=>{!function oM(){Wb||(Wb=!0,Rd(Yf),rg(Yf))}();const{enableInp:r,enableLongTask:l,enableLongAnimationFrame:p,_experiments:{enableInteractions:T,enableStandaloneClsSpans:X},beforeStartSpan:re,idleTimeout:Ce,finalTimeout:Le,childSpanTimeout:at,markBackgroundSpan:Ft,traceFetch:Ut,traceXHR:fn,shouldCreateSpanForRequest:Cn,enableHTTPTimings:En,instrumentPageLoad:Nn,instrumentNavigation:ui}={...Zb,...a},hi=zC({recordClsStandaloneSpans:X||!1});r&&function QD(){if(Lb()&&Kr){const r=function Hf(){return co(({metric:a})=>{if(null==a.value)return;const r=a.entries.find(En=>En.duration===a.value&&qC[En.name]);if(!r)return;const{interactionId:l}=r,p=qC[r.name],T=hr(Kr+r.startTime),X=hr(a.value),re=Ho(),Ce=re?ur(re):void 0,at=(null!=l?Xf.get(l):void 0)||Ce,Ft=at?ki(at).description:Kn().getScopeData().transactionName,Cn=WC({name:Xi(r.target),transaction:Ft,attributes:ao({[ar]:"auto.http.browser.inp",[Jc]:`ui.interaction.${p}`,[Oc]:r.duration}),startTime:T});Ca([Cn,"optionalAccess",En=>En.addEvent,"call",En=>En("inp",{[xu]:"millisecond",[Oh]:a.value})]),Ca([Cn,"optionalAccess",En=>En.end,"call",En=>En(T+X)])})}();return()=>{r()}}return()=>{}}(),p&&tn.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function $b(){new PerformanceObserver(r=>{if(Ho())for(const l of r.getEntries()){if(!l.scripts[0])continue;const p=hr(Kr+l.startTime),T=hr(l.duration),X={[ar]:"auto.ui.browser.metrics"},re=l.scripts[0],{invoker:Ce,invokerType:Le,sourceURL:at,sourceFunctionName:Ft,sourceCharPosition:Ut}=re;X["browser.script.invoker"]=Ce,X["browser.script.invoker_type"]=Le,at&&(X["code.filepath"]=at),Ft&&(X["code.function"]=Ft),-1!==Ut&&(X["browser.script.source_char_position"]=Ut);const fn=Ol({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:p,attributes:X});fn&&fn.end(p+T)}}).observe({type:"long-animation-frame",buffered:!0})}():l&&function Bb(){qi("longtask",({entries:a})=>{if(Ho())for(const r of a){const l=hr(Kr+r.startTime),p=hr(r.duration),T=Ol({name:"Main UI thread blocked",op:"ui.long-task",startTime:l,attributes:{[ar]:"auto.ui.browser.metrics"}});T&&T.end(l+p)}})}(),T&&function XC(){qi("event",({entries:a})=>{if(Ho())for(const r of a)if("click"===r.name){const l=hr(Kr+r.startTime),p=hr(r.duration),T={name:Xi(r.target),op:`ui.interaction.${r.name}`,startTime:l,attributes:{[ar]:"auto.ui.browser.metrics"}},X=Cs(r.target);X&&(T.attributes["ui.component_name"]=X);const re=Ol(T);re&&re.end(l+p)}})}();const Ai={name:void 0,source:void 0};function Qi(Li,cs){const mi="pageload"===cs.op,qn=re?re(cs):cs,wi=qn.attributes||{};cs.name!==qn.name&&(wi[oa]="custom",qn.attributes=wi),Ai.name=qn.name,Ai.source=wi[oa];const Ns=Kb(qn,{idleTimeout:Ce,finalTimeout:Le,childSpanTimeout:at,disableAutoFinish:mi,beforeSpanEnd:ts=>{hi(),function L0(a,r){const l=Lb();if(!l||!ls.performance.getEntries||!Kr)return;Il&&ni.log("[Tracing] Adding & adjusting spans using Performance API");const p=hr(Kr),T=l.getEntries(),{op:X,start_timestamp:re}=ki(a);if(T.slice(Nb).forEach(Ce=>{const Le=hr(Ce.startTime),at=hr(Math.max(0,Ce.duration));if(!("navigation"===X&&re&&p+Le<re))switch(Ce.entryType){case"navigation":!function c_(a,r,l){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(p=>{zf(a,r,p,l)}),zf(a,r,"secureConnection",l,"TLS/SSL","connectEnd"),zf(a,r,"fetch",l,"cache","domainLookupStart"),zf(a,r,"domainLookup",l,"DNS"),function QC(a,r,l){const p=l+hr(r.requestStart),T=l+hr(r.responseEnd),X=l+hr(r.responseStart);r.responseEnd&&(Kf(a,p,T,{op:"browser",name:"request",attributes:{[ar]:"auto.ui.browser.metrics"}}),Kf(a,X,T,{op:"browser",name:"response",attributes:{[ar]:"auto.ui.browser.metrics"}}))}(a,r,l)}(a,Ce,p);break;case"mark":case"paint":case"measure":{!function YC(a,r,l,p,T){const X=up(),re=hr(X?X.requestStart:0),Ce=T+Math.max(l,re),Le=T+l,at=Le+p,Ft={[ar]:"auto.resource.browser.metrics"};Ce!==Le&&(Ft["sentry.browser.measure_happened_before_request"]=!0,Ft["sentry.browser.measure_start_time"]=Ce),Kf(a,Ce,at,{name:r.name,op:r.entryType,attributes:Ft})}(a,Ce,Le,at,p);const Ft=jf(),Ut=Ce.startTime<Ft.firstHiddenTime;"first-paint"===Ce.name&&Ut&&(Il&&ni.log("[Measurements] Adding FP"),Ya.fp={value:Ce.startTime,unit:"millisecond"}),"first-contentful-paint"===Ce.name&&Ut&&(Il&&ni.log("[Measurements] Adding FCP"),Ya.fcp={value:Ce.startTime,unit:"millisecond"});break}case"resource":!function F0(a,r,l,p,T,X){if("xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType)return;const re=od(l),Ce={[ar]:"auto.resource.browser.metrics"};N0(Ce,r,"transferSize","http.response_transfer_size"),N0(Ce,r,"encodedBodySize","http.response_content_length"),N0(Ce,r,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in r&&(Ce["resource.render_blocking_status"]=r.renderBlockingStatus),re.protocol&&(Ce["url.scheme"]=re.protocol.split(":").pop()),re.host&&(Ce["server.address"]=re.host),Ce["url.same_origin"]=l.includes(ls.location.origin);const Le=X+p;Kf(a,Le,Le+T,{name:l.replace(ls.location.origin,""),op:r.initiatorType?`resource.${r.initiatorType}`:"resource.other",attributes:Ce})}(a,Ce,Ce.name,Le,at,p)}}),Nb=Math.max(T.length-1,0),function Vb(a){const r=ls.navigator;if(!r)return;const l=r.connection;l&&(l.effectiveType&&a.setAttribute("effectiveConnectionType",l.effectiveType),l.type&&a.setAttribute("connectionType",l.type),Pg(l.rtt)&&(Ya["connection.rtt"]={value:l.rtt,unit:"millisecond"})),Pg(r.deviceMemory)&&a.setAttribute("deviceMemory",`${r.deviceMemory} GB`),Pg(r.hardwareConcurrency)&&a.setAttribute("hardwareConcurrency",String(r.hardwareConcurrency))}(a),"pageload"===X){!function ZC(a){const r=up();if(!r)return;const{responseStart:l,requestStart:p}=r;p<=l&&(Il&&ni.log("[Measurements] Adding TTFB Request Time"),a["ttfb.requestTime"]={value:l-p,unit:"millisecond"})}(Ya);const Ce=Ya["mark.fid"];Ce&&Ya.fid&&(Kf(a,Ce.value,Ce.value+hr(Ya.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ar]:"auto.ui.browser.metrics"}}),delete Ya["mark.fid"]),(!("fcp"in Ya)||!r.recordClsOnPageloadSpan)&&delete Ya.cls,Object.entries(Ya).forEach(([Le,at])=>{!function cp(a,r,l){const p=Ho(),T=p&&ur(p);T&&T.addEvent(a,{[Oh]:r,[xu]:l})}(Le,at.value,at.unit)}),a.setAttribute("performance.timeOrigin",p),function JC(a){Pd&&(Il&&ni.log("[Measurements] Adding LCP Data"),Pd.element&&a.setAttribute("lcp.element",Xi(Pd.element)),Pd.id&&a.setAttribute("lcp.id",Pd.id),Pd.url&&a.setAttribute("lcp.url",Pd.url.trim().slice(0,200)),a.setAttribute("lcp.size",Pd.size)),Wf&&Wf.sources&&(Il&&ni.log("[Measurements] Adding CLS Data"),Wf.sources.forEach((r,l)=>a.setAttribute(`cls.source.${l+1}`,Xi(r.node))))}(a)}Pd=void 0,Wf=void 0,Ya={}}(ts,{recordClsOnPageloadSpan:!X})}});function Di(){["interactive","complete"].includes(Vi.document.readyState)&&Li.emit("idleSpanEnableAutoFinish",Ns)}return mi&&Vi.document&&(Vi.document.addEventListener("readystatechange",()=>{Di()}),Di()),Ns}return{name:"BrowserTracing",afterAllSetup(Li){let cs,mi=Vi.location&&Vi.location.href;Li.on("startNavigationSpan",qn=>{os()===Li&&(cs&&!ki(cs).timestamp&&(er&&ni.log(`[Tracing] Finishing current root span with op: ${ki(cs).op}`),cs.end()),cs=Qi(Li,{op:"navigation",...qn}))}),Li.on("startPageLoadSpan",(qn,wi={})=>{if(os()!==Li)return;cs&&!ki(cs).timestamp&&(er&&ni.log(`[Tracing] Finishing current root span with op: ${ki(cs).op}`),cs.end());const ts=function Zc(a,r){const l=function Rm(a){if(!a)return;const r=a.match(xm);if(!r)return;let l;return"1"===r[3]?l=!0:"0"===r[3]&&(l=!1),{traceId:r[1],parentSampled:l,parentSpanId:r[2]}}(a),p=x_(r),{traceId:T,parentSpanId:X,parentSampled:re}=l||{};return l?{traceId:T||Ps(),parentSpanId:X||Ps().substring(16),spanId:Ps().substring(16),sampled:re,dsc:p||{}}:{traceId:T||Ps(),spanId:Ps().substring(16)}}(wi.sentryTrace||uM("sentry-trace"),wi.baggage||uM("baggage"));Kn().setPropagationContext(ts),cs=Qi(Li,{op:"pageload",...qn})}),Li.on("spanEnd",qn=>{const wi=ki(qn).op;if(qn!==ur(qn)||"navigation"!==wi&&"pageload"!==wi)return;const Ns=Kn(),Di=Ns.getPropagationContext();Ns.setPropagationContext({...Di,sampled:void 0!==Di.sampled?Di.sampled:Ra(qn),dsc:Di.dsc||Ml(qn)})}),Vi.location&&(Nn&&function cM(a,r,l){a.emit("startPageLoadSpan",r,l),Kn().setTransactionName(r.name);const p=Ho();p&&ki(p)}(Li,{name:Vi.location.pathname,startTime:Kr?Kr/1e3:void 0,attributes:{[oa]:"url",[ar]:"auto.pageload.browser"}}),ui&&Vu(({to:qn,from:wi})=>{void 0===wi&&mi&&-1!==mi.indexOf(qn)?mi=void 0:wi!==qn&&(mi=void 0,dM(Li,{name:Vi.location.pathname,attributes:{[oa]:"url",[ar]:"auto.navigation.browser"}}))})),Ft&&function JD(){Vi&&Vi.document?Vi.document.addEventListener("visibilitychange",()=>{const a=Ho();if(!a)return;const r=ur(a);if(Vi.document.hidden&&r){const l="cancelled",{op:p,status:T}=ki(r);er&&ni.log(`[Tracing] Transaction: ${l} -> since tab moved to the background, op: ${p}`),T||r.setStatus({code:Ss,message:l}),r.setAttribute("sentry.cancellation_reason","document.hidden"),r.end()}}):er&&ni.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),T&&function qb(a,r,l,p){let T;Vi.document&&addEventListener("click",()=>{const re="ui.action.click",Ce=Ho(),Le=Ce&&ur(Ce);if(Le){const at=ki(Le).op;if(["navigation","pageload"].includes(at))return void(er&&ni.warn(`[Tracing] Did not create ${re} span because a pageload or navigation span is in progress.`))}T&&(T.setAttribute(lr,"interactionInterrupted"),T.end(),T=void 0),p.name?T=Kb({name:p.name,op:re,attributes:{[oa]:p.source||"url"}},{idleTimeout:a,finalTimeout:r,childSpanTimeout:l}):er&&ni.warn(`[Tracing] Did not create ${re} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(Ce,Le,at,Ai),r&&function eM(){const r=({entries:l})=>{const p=Ho(),T=p&&ur(p);l.forEach(X=>{if(!function Pb(a){return"duration"in a}(X)||!T)return;const re=X.interactionId;if(null!=re&&!Xf.has(re)){if(B0.length>10){const Ce=B0.shift();Xf.delete(Ce)}B0.push(re),Xf.set(re,T)}})};qi("event",r),qi("first-input",r)}(),aM(Li,{traceFetch:Ut,traceXHR:fn,tracePropagationTargets:Li.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:Cn,enableHTTPTimings:En})}}};function dM(a,r){Ci().setPropagationContext(Su()),Kn().setPropagationContext(Su()),a.emit("startNavigationSpan",r),Kn().setTransactionName(r.name);const l=Ho();return"navigation"===(l&&ki(l).op)?l:void 0}function uM(a){const r=function Is(a){return fi.document&&fi.document.querySelector?fi.document.querySelector(a):null}(`meta[name=${a}]`);return r?r.getAttribute("content"):void 0}var eE=s(4337);const hM=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;const _M=typeof Zone<"u"&&Zone.root&&Zone.root.run;function Zl(a){return _M?Zone.root.run(a):a()}function $g(a){if(a instanceof Error)return!0;if(null===a||"object"!=typeof a)return!1;const r=a;return Ro(r.name)&&Ro(r.message)&&(void 0===r.stack||Ro(r.stack))}let iE,jg=(()=>{class a{constructor(l){this._options={logErrors:!0,...l}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(l){const p=this._extractError(l)||"Handled unknown error",T=Zl(()=>Lu(p,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(p),this._options.showDialog){const X=os();X&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=X.on("afterSendEvent",re=>{!re.type&&re.event_id&&Zl(()=>{wd({...this._options.dialogOptions,eventId:re.event_id})})}):X||Zl(()=>{wd({...this._options.dialogOptions,eventId:T})})}}_extractError(l){if(this._options.extractor){const p=this._defaultExtractor.bind(this);return this._options.extractor(l,p)}return this._defaultExtractor(l)}_defaultExtractor(l){const p=function V0(a){return a&&a.ngOriginalError?a.ngOriginalError:a}(l);return p instanceof Kc.yz?function tE(a){return $g(a.error)?a.error:typeof ErrorEvent<"u"&&a.error instanceof ErrorEvent&&a.error.message?a.error.message:"string"==typeof a.error?`Server returned code ${a.status} with body "${a.error}"`:a.message}(p):"string"==typeof p||$g(p)?p:null}}return a.\u0275fac=function(l){return new(l||a)(n.KVO("errorHandlerOptions"))},a.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function pM(a){return new jg(a)}function sE(a={}){return!1!==a.instrumentNavigation&&(iE=!0),tI({...a,instrumentNavigation:!1})}let Cp=(()=>{class a{constructor(l){this._router=l,this.navStart$=this._router.events.pipe((0,qa.p)(p=>p instanceof _s.Z),(0,el.M)(p=>{if(!iE)return void(hM&&ni.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const T=os(),X=function Ea(a){return a.split(/[?#]/,1)[0]}(p.url);return T?(this._isPageloadOngoing()?this._pageloadOngoing=!1:Zl(()=>{dM(T,{name:X,attributes:{[ar]:"auto.navigation.angular",[oa]:"url"}})}),void(this._routingSpan=Zl(()=>Ol({name:`${p.url}`,op:"ui.angular.routing",attributes:{[ar]:"auto.ui.angular",[oa]:"url",url:X,...p.navigationTrigger&&{navigationTrigger:p.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,qa.p)(p=>p instanceof _s.gx),(0,el.M)(p=>{const T=function aE(a){const r=[];let l=a&&a.firstChild;for(;l;){const T=l&&l.routeConfig&&l.routeConfig.path;if(null==T)break;r.push(T),l=l.firstChild}const p=r.filter(T=>T).join("/");return p?`/${p}/`:"/"}(p.state.root);T&&Kn().setTransactionName(T);const X=Ho();!function G0(a,r){const l=r&&ki(r).data||{};r&&"url"===l[oa]&&(r.updateName(a),r.setAttribute(oa,"route"),r.setAttribute(ar,`auto.${ki(r).op}.angular`))}(T,X&&ur(X))})),this.navEnd$=this._router.events.pipe((0,qa.p)(p=>p instanceof _s.wF||p instanceof _s.j5||p instanceof _s.L6),(0,el.M)(()=>{this._routingSpan&&(Zl(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new eE.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const l=Ho();if(!l)return this._pageloadOngoing=!1,!1;const p=ur(l);return this._pageloadOngoing="pageload"===ki(p).op,this._pageloadOngoing}}return a.\u0275fac=function(l){return new(l||a)(n.KVO(_s.Ix))},a.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function dE(a){return"/"===a[a.length-1]?a.slice(0,-1):a}function Vg(){return typeof window<"u"&&(!function uE(){return!function Mb(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function hE(){return void 0!==tn.process&&"renderer"===tn.process.type}())}const ko=tn,fu="sentryReplaySession",_E="replay_event",Jf="Unable to send Replay",fE=5e3,bM=3,mE=15e4,Kg=5e3,Es=2e7;function Wg(a,r){return a??r()}function Mp(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}var Fa=function(a){return a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment",a}(Fa||{});function dd(a){const r=Mp([a,"optionalAccess",l=>l.host]);return Mp([r,"optionalAccess",l=>l.shadowRoot])===a}function h_(a){return"[object ShadowRoot]"===Object.prototype.toString.call(a)}function Tp(a){try{const r=a.rules||a.cssRules;return r?function qf(a){return a.includes(" background-clip: text;")&&!a.includes(" -webkit-background-clip: text;")&&(a=a.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),a}(Array.from(r,Xg).join("")):null}catch{return null}}function Xg(a){let r;if(function CE(a){return"styleSheet"in a}(a))try{r=Tp(a.styleSheet)||function yE(a){const{cssText:r}=a;if(r.split('"').length<3)return r;const l=["@import",`url(${JSON.stringify(a.href)})`];return""===a.layerName?l.push("layer"):a.layerName&&l.push(`layer(${a.layerName})`),a.supportsText&&l.push(`supports(${a.supportsText})`),a.media.length&&l.push(a.media.mediaText),l.join(" ")+";"}(a)}catch{}else if(function H0(a){return"selectorText"in a}(a)&&a.selectorText.includes(":"))return function X0(a){return a.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(a.cssText);return r||a.cssText}class ME{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(r){return r?Wg(Mp([this,"access",p=>p.getMeta,"call",p=>p(r),"optionalAccess",p=>p.id]),()=>-1):-1}getNode(r){return this.idNodeMap.get(r)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(r){return this.nodeMetaMap.get(r)||null}removeNodeFromMap(r){const l=this.getId(r);this.idNodeMap.delete(l),r.childNodes&&r.childNodes.forEach(p=>this.removeNodeFromMap(p))}has(r){return this.idNodeMap.has(r)}hasNode(r){return this.nodeMetaMap.has(r)}add(r,l){this.idNodeMap.set(l.id,r),this.nodeMetaMap.set(r,l)}replace(r,l){const p=this.getNode(r);if(p){const T=this.nodeMetaMap.get(p);T&&this.nodeMetaMap.set(l,T)}this.idNodeMap.set(r,l)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Hg({maskInputOptions:a,tagName:r,type:l}){return"OPTION"===r&&(r="SELECT"),!!(a[r.toLowerCase()]||l&&a[l]||"password"===l||"INPUT"===r&&!l&&a.text)}function Dp({isMasked:a,element:r,value:l,maskInputFn:p}){let T=l||"";return a?(p&&(T=p(T,r)),"*".repeat(T.length)):T}function Ip(a){return a.toLowerCase()}function Y0(a){return a.toUpperCase()}const TE="__rrweb_original__";function Yg(a){const r=a.type;return a.hasAttribute("data-rr-is-password")?"password":r?Ip(r):null}function em(a,r,l){return"INPUT"!==r||"radio"!==l&&"checkbox"!==l?a.value:a.getAttribute("value")||""}function DE(a,r){let l;try{l=new URL(a,Wg(r,()=>window.location.href))}catch{return null}return Wg(Mp([l.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",X=>X[1]]),()=>null)}const IE={};function Rl(a){const r=IE[a];if(r)return r;const l=window.document;let p=window[a];if(l&&"function"==typeof l.createElement)try{const T=l.createElement("iframe");T.hidden=!0,l.head.appendChild(T);const X=T.contentWindow;X&&X[a]&&(p=X[a]),l.head.removeChild(T)}catch{}return IE[a]=p.bind(window)}function Q0(...a){return Rl("setTimeout")(...a)}function SE(...a){return Rl("clearTimeout")(...a)}let sI=1;const J0=new RegExp("[^a-z0-9-_:]"),Sp=-2;function Z0(){return sI++}let __,OE;const TM=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,q0=/^(?:[a-z+]+:)?\/\//i,DM=/^www\..*/i,IM=/^(data:)([^,]*),(.*)/i;function Qg(a,r){return(a||"").replace(TM,(l,p,T,X,re,Ce)=>{const Le=T||re||Ce,at=p||X||"";if(!Le)return l;if(q0.test(Le)||DM.test(Le))return`url(${at}${Le}${at})`;if(IM.test(Le))return`url(${at}${Le}${at})`;if("/"===Le[0])return`url(${at}${function MM(a){let r="";return r=a.indexOf("//")>-1?a.split("/").slice(0,3).join("/"):a.split("/")[0],r=r.split("?")[0],r}(r)+Le}${at})`;const Ft=r.split("/"),Ut=Le.split("/");Ft.pop();for(const fn of Ut)"."!==fn&&(".."===fn?Ft.pop():Ft.push(fn));return`url(${at}${Ft.join("/")}${at})`})}const SM=/^[^ \t\n\r\u000c]+/,OM=/^[, \t\n\r\u000c]+/;function oh(a,r){if(!r||""===r.trim())return r;const l=a.createElement("a");return l.href=r,l.href}function xM(a){return!("svg"!==a.tagName&&!a.ownerSVGElement)}function e1(){const a=document.createElement("a");return a.href="",a.href}function t1(a,r,l,p,T,X){return p&&("src"===l||"href"===l&&("use"!==r||"#"!==p[0])||"xlink:href"===l&&"#"!==p[0]||"background"===l&&("table"===r||"td"===r||"th"===r)?oh(a,p):"srcset"===l?function Ld(a,r){if(""===r.trim())return r;let l=0;function p(X){let re;const Ce=X.exec(r.substring(l));return Ce?(re=Ce[0],l+=re.length,re):""}const T=[];for(;p(OM),!(l>=r.length);){let X=p(SM);if(","===X.slice(-1))X=oh(a,X.substring(0,X.length-1)),T.push(X);else{let re="";X=oh(a,X);let Ce=!1;for(;;){const Le=r.charAt(l);if(""===Le){T.push((X+re).trim());break}if(Ce)")"===Le&&(Ce=!1);else{if(","===Le){l+=1,T.push((X+re).trim());break}"("===Le&&(Ce=!0)}re+=Le,l+=1}}}return T.join(", ")}(a,p):"style"===l?Qg(p,e1()):"object"===r&&"data"===l?oh(a,p):"function"==typeof X?X(l,p,T):p)}function n1(a,r,l){return("video"===a||"audio"===a)&&"autoplay"===r}function Op(a,r,l=1/0,p=0){return!a||a.nodeType!==a.ELEMENT_NODE||p>l?-1:r(a)?p:Op(a.parentNode,r,l,p+1)}function p_(a,r){return l=>{const p=l;if(null===p)return!1;try{if(a)if("string"==typeof a){if(p.matches(`.${a}`))return!0}else if(function s1(a,r){for(let l=a.classList.length;l--;)if(r.test(a.classList[l]))return!0;return!1}(p,a))return!0;return!(!r||!p.matches(r))}catch{return!1}}}function f_(a,r,l,p,T,X){try{const re=a.nodeType===a.ELEMENT_NODE?a:a.parentElement;if(null===re)return!1;if("INPUT"===re.tagName){const at=re.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(at))return!0}let Ce=-1,Le=-1;if(X){if(Le=Op(re,p_(p,T)),Le<0)return!0;Ce=Op(re,p_(r,l),Le>=0?Le:1/0)}else{if(Ce=Op(re,p_(r,l)),Ce<0)return!1;Le=Op(re,p_(p,T),Ce>=0?Ce:1/0)}return Ce>=0?!(Le>=0)||Ce<=Le:!(Le>=0||!X)}catch{}return!!X}function No(a){return null==a?"":a.toLowerCase()}function ud(a,r){const{doc:l,mirror:p,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:Ce,maskTextClass:Le,unmaskTextClass:at,maskTextSelector:Ft,unmaskTextSelector:Ut,skipChild:fn=!1,inlineStylesheet:Cn=!0,maskInputOptions:En={},maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOMOptions:Ai,dataURLOptions:Qi={},inlineImages:Li=!1,recordCanvas:cs=!1,onSerialize:mi,onIframeLoad:qn,iframeLoadTimeout:wi=5e3,onStylesheetLoad:Ns,stylesheetLoadTimeout:Di=5e3,keepIframeSrcFn:ts=()=>!1,newlyAddedElement:hs=!1}=r;let{preserveWhiteSpace:To=!0}=r;const Oo=function o1(a,r){const{doc:l,mirror:p,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:Ce,maskAttributeFn:Le,maskTextClass:at,unmaskTextClass:Ft,maskTextSelector:Ut,unmaskTextSelector:fn,inlineStylesheet:Cn,maskInputOptions:En={},maskTextFn:Nn,maskInputFn:ui,dataURLOptions:hi={},inlineImages:Ai,recordCanvas:Qi,keepIframeSrcFn:Li,newlyAddedElement:cs=!1}=r,mi=function mu(a,r){if(!r.hasNode(a))return;const l=r.getId(a);return 1===l?void 0:l}(l,p);switch(a.nodeType){case a.DOCUMENT_NODE:return"CSS1Compat"!==a.compatMode?{type:Fa.Document,childNodes:[],compatMode:a.compatMode}:{type:Fa.Document,childNodes:[]};case a.DOCUMENT_TYPE_NODE:return{type:Fa.DocumentType,name:a.name,publicId:a.publicId,systemId:a.systemId,rootId:mi};case a.ELEMENT_NODE:return function AM(a,r){const{doc:l,blockClass:p,blockSelector:T,unblockSelector:X,inlineStylesheet:re,maskInputOptions:Ce={},maskAttributeFn:Le,maskInputFn:at,dataURLOptions:Ft={},inlineImages:Ut,recordCanvas:fn,keepIframeSrcFn:Cn,newlyAddedElement:En=!1,rootId:Nn,maskTextClass:hi,unmaskTextClass:Ai,maskTextSelector:Qi,unmaskTextSelector:Li}=r,cs=function Jg(a,r,l,p){try{if(p&&a.matches(p))return!1;if("string"==typeof r){if(a.classList.contains(r))return!0}else for(let T=a.classList.length;T--;)if(r.test(a.classList[T]))return!0;if(l)return a.matches(l)}catch{}return!1}(a,p,T,X),mi=function CM(a){if(a instanceof HTMLFormElement)return"form";const r=Ip(a.tagName);return J0.test(r)?"div":r}(a);let qn={};const wi=a.attributes.length;for(let Di=0;Di<wi;Di++){const ts=a.attributes[Di];ts.name&&!n1(mi,ts.name)&&(qn[ts.name]=t1(l,mi,Ip(ts.name),ts.value,a,Le))}if("link"===mi&&re){const Di=Array.from(l.styleSheets).find(hs=>hs.href===a.href);let ts=null;Di&&(ts=Tp(Di)),ts&&(delete qn.rel,delete qn.href,qn._cssText=Qg(ts,Di.href))}if("style"===mi&&a.sheet&&!(a.innerText||a.textContent||"").trim().length){const Di=Tp(a.sheet);Di&&(qn._cssText=Qg(Di,e1()))}if("input"===mi||"textarea"===mi||"select"===mi||"option"===mi){const Di=a,ts=Yg(Di),hs=em(Di,Y0(mi),ts),To=Di.checked;if("submit"!==ts&&"button"!==ts&&hs){const Oo=f_(Di,hi,Qi,Ai,Li,Hg({type:ts,tagName:Y0(mi),maskInputOptions:Ce}));qn.value=Dp({isMasked:Oo,element:Di,value:hs,maskInputFn:at})}To&&(qn.checked=To)}if("option"===mi&&(a.selected&&!Ce.select?qn.selected=!0:delete qn.selected),"canvas"===mi&&fn)if("2d"===a.__context)(function yM(a){const r=a.getContext("2d");if(!r)return!0;for(let p=0;p<a.width;p+=50)for(let T=0;T<a.height;T+=50){const X=r.getImageData;if(new Uint32Array((TE in X?X[TE]:X).call(r,p,T,Math.min(50,a.width-p),Math.min(50,a.height-T)).data.buffer).some(Le=>0!==Le))return!1}return!0})(a)||(qn.rr_dataURL=a.toDataURL(Ft.type,Ft.quality));else if(!("__context"in a)){const Di=a.toDataURL(Ft.type,Ft.quality),ts=document.createElement("canvas");ts.width=a.width,ts.height=a.height,Di!==ts.toDataURL(Ft.type,Ft.quality)&&(qn.rr_dataURL=Di)}if("img"===mi&&Ut){__||(__=l.createElement("canvas"),OE=__.getContext("2d"));const Di=a,ts=Di.crossOrigin;Di.crossOrigin="anonymous";const hs=()=>{Di.removeEventListener("load",hs);try{__.width=Di.naturalWidth,__.height=Di.naturalHeight,OE.drawImage(Di,0,0),qn.rr_dataURL=__.toDataURL(Ft.type,Ft.quality)}catch(To){console.warn(`Cannot inline img src=${Di.currentSrc}! Error: ${To}`)}ts?qn.crossOrigin=ts:Di.removeAttribute("crossorigin")};Di.complete&&0!==Di.naturalWidth?hs():Di.addEventListener("load",hs)}if(("audio"===mi||"video"===mi)&&(qn.rr_mediaState=a.paused?"paused":"played",qn.rr_mediaCurrentTime=a.currentTime),En||(a.scrollLeft&&(qn.rr_scrollLeft=a.scrollLeft),a.scrollTop&&(qn.rr_scrollTop=a.scrollTop)),cs){const{width:Di,height:ts}=a.getBoundingClientRect();qn={class:qn.class,rr_width:`${Di}px`,rr_height:`${ts}px`}}let Ns;"iframe"===mi&&!Cn(qn.src)&&(!cs&&!a.contentDocument&&(qn.rr_src=qn.src),delete qn.src);try{customElements.get(mi)&&(Ns=!0)}catch{}return{type:Fa.Element,tagName:mi,attributes:qn,childNodes:[],isSVG:xM(a)||void 0,needBlock:cs,rootId:Nn,isCustom:Ns}}(a,{doc:l,blockClass:T,blockSelector:X,unblockSelector:re,inlineStylesheet:Cn,maskAttributeFn:Le,maskInputOptions:En,maskInputFn:ui,dataURLOptions:hi,inlineImages:Ai,recordCanvas:Qi,keepIframeSrcFn:Li,newlyAddedElement:cs,rootId:mi,maskAllText:Ce,maskTextClass:at,unmaskTextClass:Ft,maskTextSelector:Ut,unmaskTextSelector:fn});case a.TEXT_NODE:return function RM(a,r){const{maskAllText:l,maskTextClass:p,unmaskTextClass:T,maskTextSelector:X,unmaskTextSelector:re,maskTextFn:Ce,maskInputOptions:Le,maskInputFn:at,rootId:Ft}=r,Ut=a.parentNode&&a.parentNode.tagName;let fn=a.textContent;const Cn="STYLE"===Ut||void 0,En="SCRIPT"===Ut||void 0,Nn="TEXTAREA"===Ut||void 0;if(Cn&&fn){try{a.nextSibling||a.previousSibling||Mp([a,"access",hi=>hi.parentNode,"access",hi=>hi.sheet,"optionalAccess",hi=>hi.cssRules])&&(fn=Tp(a.parentNode.sheet))}catch(hi){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${hi}`,a)}fn=Qg(fn,e1())}En&&(fn="SCRIPT_PLACEHOLDER");const ui=f_(a,p,X,T,re,l);return!Cn&&!En&&!Nn&&fn&&ui&&(fn=Ce?Ce(fn,a.parentElement):fn.replace(/[\S]/g,"*")),Nn&&fn&&(Le.textarea||ui)&&(fn=at?at(fn,a.parentNode):fn.replace(/[\S]/g,"*")),"OPTION"===Ut&&fn&&(fn=Dp({isMasked:f_(a,p,X,T,re,Hg({type:null,tagName:Ut,maskInputOptions:Le})),element:a,value:fn,maskInputFn:at})),{type:Fa.Text,textContent:fn||"",isStyle:Cn,rootId:Ft}}(a,{maskAllText:Ce,maskTextClass:at,unmaskTextClass:Ft,maskTextSelector:Ut,unmaskTextSelector:fn,maskTextFn:Nn,maskInputOptions:En,maskInputFn:ui,rootId:mi});case a.CDATA_SECTION_NODE:return{type:Fa.CDATA,textContent:"",rootId:mi};case a.COMMENT_NODE:return{type:Fa.Comment,textContent:a.textContent||"",rootId:mi};default:return!1}}(a,{doc:l,mirror:p,blockClass:T,blockSelector:X,maskAllText:Ce,unblockSelector:re,maskTextClass:Le,unmaskTextClass:at,maskTextSelector:Ft,unmaskTextSelector:Ut,inlineStylesheet:Cn,maskInputOptions:En,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,dataURLOptions:Qi,inlineImages:Li,recordCanvas:cs,keepIframeSrcFn:ts,newlyAddedElement:hs});if(!Oo)return console.warn(a,"not serialized"),null;let Zr;Zr=p.hasNode(a)?p.getId(a):function wM(a,r){if(r.comment&&a.type===Fa.Comment)return!0;if(a.type===Fa.Element){if(r.script&&("script"===a.tagName||"link"===a.tagName&&("preload"===a.attributes.rel||"modulepreload"===a.attributes.rel)&&"script"===a.attributes.as||"link"===a.tagName&&"prefetch"===a.attributes.rel&&"string"==typeof a.attributes.href&&"js"===DE(a.attributes.href)))return!0;if(r.headFavicon&&("link"===a.tagName&&"shortcut icon"===a.attributes.rel||"meta"===a.tagName&&(No(a.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===No(a.attributes.name)||"icon"===No(a.attributes.rel)||"apple-touch-icon"===No(a.attributes.rel)||"shortcut icon"===No(a.attributes.rel))))return!0;if("meta"===a.tagName){if(r.headMetaDescKeywords&&No(a.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(No(a.attributes.property).match(/^(og|twitter|fb):/)||No(a.attributes.name).match(/^(og|twitter):/)||"pinterest"===No(a.attributes.name)))return!0;if(r.headMetaRobots&&("robots"===No(a.attributes.name)||"googlebot"===No(a.attributes.name)||"bingbot"===No(a.attributes.name)))return!0;if(r.headMetaHttpEquiv&&void 0!==a.attributes["http-equiv"])return!0;if(r.headMetaAuthorship&&("author"===No(a.attributes.name)||"generator"===No(a.attributes.name)||"framework"===No(a.attributes.name)||"publisher"===No(a.attributes.name)||"progid"===No(a.attributes.name)||No(a.attributes.property).match(/^article:/)||No(a.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&("google-site-verification"===No(a.attributes.name)||"yandex-verification"===No(a.attributes.name)||"csrf-token"===No(a.attributes.name)||"p:domain_verify"===No(a.attributes.name)||"verify-v1"===No(a.attributes.name)||"verification"===No(a.attributes.name)||"shopify-checkout-api-token"===No(a.attributes.name)))return!0}}return!1}(Oo,Ai)||!To&&Oo.type===Fa.Text&&!Oo.isStyle&&!Oo.textContent.replace(/^\s+|\s+$/gm,"").length?Sp:Z0();const si=Object.assign(Oo,{id:Zr});if(p.add(a,si),Zr===Sp)return null;mi&&mi(a);let xi=!fn;if(si.type===Fa.Element){xi=xi&&!si.needBlock,delete si.needBlock;const Mi=a.shadowRoot;Mi&&h_(Mi)&&(si.isShadowHost=!0)}if((si.type===Fa.Document||si.type===Fa.Element)&&xi){Ai.headWhitespace&&si.type===Fa.Element&&"head"===si.tagName&&(To=!1);const Mi={doc:l,mirror:p,blockClass:T,blockSelector:X,maskAllText:Ce,unblockSelector:re,maskTextClass:Le,unmaskTextClass:at,maskTextSelector:Ft,unmaskTextSelector:Ut,skipChild:fn,inlineStylesheet:Cn,maskInputOptions:En,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOMOptions:Ai,dataURLOptions:Qi,inlineImages:Li,recordCanvas:cs,preserveWhiteSpace:To,onSerialize:mi,onIframeLoad:qn,iframeLoadTimeout:wi,onStylesheetLoad:Ns,stylesheetLoadTimeout:Di,keepIframeSrcFn:ts};for(const gs of Array.from(a.childNodes)){const Bo=ud(gs,Mi);Bo&&si.childNodes.push(Bo)}if(function zg(a){return a.nodeType===a.ELEMENT_NODE}(a)&&a.shadowRoot)for(const gs of Array.from(a.shadowRoot.childNodes)){const Bo=ud(gs,Mi);Bo&&(h_(a.shadowRoot)&&(Bo.isShadow=!0),si.childNodes.push(Bo))}}return a.parentNode&&dd(a.parentNode)&&h_(a.parentNode)&&(si.isShadow=!0),si.type===Fa.Element&&"iframe"===si.tagName&&function xE(a,r,l){const p=a.contentWindow;if(!p)return;let X,T=!1;try{X=p.document.readyState}catch{return}if("complete"!==X){const Ce=Q0(()=>{T||(r(),T=!0)},l);return void a.addEventListener("load",()=>{SE(Ce),T=!0,r()})}const re="about:blank";if(p.location.href!==re||a.src===re||""===a.src)return Q0(r,0),a.addEventListener("load",r);a.addEventListener("load",r)}(a,()=>{const Mi=a.contentDocument;if(Mi&&qn){const gs=ud(Mi,{doc:Mi,mirror:p,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:Ce,maskTextClass:Le,unmaskTextClass:at,maskTextSelector:Ft,unmaskTextSelector:Ut,skipChild:!1,inlineStylesheet:Cn,maskInputOptions:En,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOMOptions:Ai,dataURLOptions:Qi,inlineImages:Li,recordCanvas:cs,preserveWhiteSpace:To,onSerialize:mi,onIframeLoad:qn,iframeLoadTimeout:wi,onStylesheetLoad:Ns,stylesheetLoadTimeout:Di,keepIframeSrcFn:ts});gs&&qn(a,gs)}},wi),si.type===Fa.Element&&"link"===si.tagName&&"string"==typeof si.attributes.rel&&("stylesheet"===si.attributes.rel||"preload"===si.attributes.rel&&"string"==typeof si.attributes.href&&"css"===DE(si.attributes.href))&&function Zg(a,r,l){let T,p=!1;try{T=a.sheet}catch{return}if(T)return;const X=Q0(()=>{p||(r(),p=!0)},l);a.addEventListener("load",()=>{SE(X),p=!0,r()})}(a,()=>{if(Ns){const Mi=ud(a,{doc:l,mirror:p,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:Ce,maskTextClass:Le,unmaskTextClass:at,maskTextSelector:Ft,unmaskTextSelector:Ut,skipChild:!1,inlineStylesheet:Cn,maskInputOptions:En,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOMOptions:Ai,dataURLOptions:Qi,inlineImages:Li,recordCanvas:cs,preserveWhiteSpace:To,onSerialize:mi,onIframeLoad:qn,iframeLoadTimeout:wi,onStylesheetLoad:Ns,stylesheetLoadTimeout:Di,keepIframeSrcFn:ts});Mi&&Ns(a,Mi)}},Di),si}function ql(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}function ca(a,r,l=document){const p={capture:!0,passive:!0};return l.addEventListener(a,r,p),()=>l.removeEventListener(a,r,p)}const rh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let xp={map:{},getId:()=>(console.error(rh),-1),getNode:()=>(console.error(rh),null),removeNodeFromMap(){console.error(rh)},has:()=>(console.error(rh),!1),reset(){console.error(rh)}};function Rp(a,r,l={}){let p=null,T=0;return function(...X){const re=Date.now();!T&&!1===l.leading&&(T=re);const Ce=r-(re-T),Le=this;Ce<=0||Ce>r?(p&&(function iv(...a){d1("clearTimeout")(...a)}(p),p=null),T=re,a.apply(Le,X)):!p&&!1!==l.trailing&&(p=nv(()=>{T=!1===l.leading?0:Date.now(),p=null,a.apply(Le,X)},Ce))}}function r1(a,r,l,p,T=window){const X=T.Object.getOwnPropertyDescriptor(a,r);return T.Object.defineProperty(a,r,p?l:{set(re){nv(()=>{l.set.call(this,re)},0),X&&X.set&&X.set.call(this,re)}}),()=>r1(a,r,X||{},!0)}function a1(a,r,l){try{if(!(r in a))return()=>{};const p=a[r],T=l(p);return"function"==typeof T&&(T.prototype=T.prototype||{},Object.defineProperties(T,{__rrweb_original__:{enumerable:!1,value:p}})),a[r]=T,()=>{a[r]=p}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(xp=new Proxy(xp,{get:(a,r,l)=>("map"===r&&console.error(rh),Reflect.get(a,r,l))}));let qg=Date.now;function AE(a){const r=a.document;return{left:r.scrollingElement?r.scrollingElement.scrollLeft:void 0!==a.pageXOffset?a.pageXOffset:ql([r,"optionalAccess",l=>l.documentElement,"access",l=>l.scrollLeft])||ql([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.parentElement,"optionalAccess",l=>l.scrollLeft])||ql([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.scrollLeft])||0,top:r.scrollingElement?r.scrollingElement.scrollTop:void 0!==a.pageYOffset?a.pageYOffset:ql([r,"optionalAccess",l=>l.documentElement,"access",l=>l.scrollTop])||ql([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.parentElement,"optionalAccess",l=>l.scrollTop])||ql([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.scrollTop])||0}}function wE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function kE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function PE(a){return a?a.nodeType===a.ELEMENT_NODE?a:a.parentElement:null}function ec(a,r,l,p,T){if(!a)return!1;const X=PE(a);if(!X)return!1;const re=p_(r,l);if(!T){const at=p&&X.matches(p);return re(X)&&!at}const Ce=Op(X,re);let Le=-1;return!(Ce<0)&&(p&&(Le=Op(X,p_(null,p))),Ce>-1&&Le<0||Ce<Le)}function Ap(a,r){return r.getId(a)===Sp}function LE(a,r){if(dd(a))return!1;const l=r.getId(a);return!r.has(l)||(!a.parentNode||a.parentNode.nodeType!==a.DOCUMENT_NODE)&&(!a.parentNode||LE(a.parentNode,r))}function ev(a){return!!a.changedTouches}function l1(a,r){return!("IFRAME"!==a.nodeName||!r.getMeta(a))}function FE(a,r){return!("LINK"!==a.nodeName||a.nodeType!==a.ELEMENT_NODE||!a.getAttribute||"stylesheet"!==a.getAttribute("rel")||!r.getMeta(a))}function c1(a){return!!ql([a,"optionalAccess",r=>r.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(qg=()=>(new Date).getTime());class NE{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(r){return function d_(a,r){return a??r()}(this.styleIDMap.get(r),()=>-1)}has(r){return this.styleIDMap.has(r)}add(r,l){if(this.has(r))return this.getId(r);let p;return p=void 0===l?this.id++:l,this.styleIDMap.set(r,p),this.idStyleMap.set(p,r),p}getStyle(r){return this.idStyleMap.get(r)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function tv(a){let r=null;return ql([a,"access",l=>l.getRootNode,"optionalCall",l=>l(),"optionalAccess",l=>l.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&a.getRootNode().host&&(r=a.getRootNode().host),r}function wp(a){const r=a.ownerDocument;return!!r&&(r.contains(a)||function tm(a){const r=a.ownerDocument;if(!r)return!1;const l=function BE(a){let l,r=a;for(;l=tv(r);)r=l;return r}(a);return r.contains(l)}(a))}const kp={};function d1(a){const r=kp[a];if(r)return r;const l=window.document;let p=window[a];if(l&&"function"==typeof l.createElement)try{const T=l.createElement("iframe");T.hidden=!0,l.head.appendChild(T);const X=T.contentWindow;X&&X[a]&&(p=X[a]),l.head.removeChild(T)}catch{}return kp[a]=p.bind(window)}function nv(...a){return d1("setTimeout")(...a)}var Fs=(a=>(a[a.DomContentLoaded=0]="DomContentLoaded",a[a.Load=1]="Load",a[a.FullSnapshot=2]="FullSnapshot",a[a.IncrementalSnapshot=3]="IncrementalSnapshot",a[a.Meta=4]="Meta",a[a.Custom=5]="Custom",a[a.Plugin=6]="Plugin",a))(Fs||{}),Os=(a=>(a[a.Mutation=0]="Mutation",a[a.MouseMove=1]="MouseMove",a[a.MouseInteraction=2]="MouseInteraction",a[a.Scroll=3]="Scroll",a[a.ViewportResize=4]="ViewportResize",a[a.Input=5]="Input",a[a.TouchMove=6]="TouchMove",a[a.MediaInteraction=7]="MediaInteraction",a[a.StyleSheetRule=8]="StyleSheetRule",a[a.CanvasMutation=9]="CanvasMutation",a[a.Font=10]="Font",a[a.Log=11]="Log",a[a.Drag=12]="Drag",a[a.StyleDeclaration=13]="StyleDeclaration",a[a.Selection=14]="Selection",a[a.AdoptedStyleSheet=15]="AdoptedStyleSheet",a[a.CustomElement=16]="CustomElement",a))(Os||{}),tc=(a=>(a[a.MouseUp=0]="MouseUp",a[a.MouseDown=1]="MouseDown",a[a.Click=2]="Click",a[a.ContextMenu=3]="ContextMenu",a[a.DblClick=4]="DblClick",a[a.Focus=5]="Focus",a[a.Blur=6]="Blur",a[a.TouchStart=7]="TouchStart",a[a.TouchMove_Departed=8]="TouchMove_Departed",a[a.TouchEnd=9]="TouchEnd",a[a.TouchCancel=10]="TouchCancel",a))(tc||{}),ah=(a=>(a[a.Mouse=0]="Mouse",a[a.Pen=1]="Pen",a[a.Touch=2]="Touch",a))(ah||{});function FM(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}function $E(a){return"__ln"in a}class oI{constructor(){this.length=0,this.head=null,this.tail=null}get(r){if(r>=this.length)throw new Error("Position outside of list range");let l=this.head;for(let p=0;p<r;p++)l=FM([l,"optionalAccess",T=>T.next])||null;return l}addNode(r){const l={value:r,previous:null,next:null};if(r.__ln=l,r.previousSibling&&$E(r.previousSibling)){const p=r.previousSibling.__ln.next;l.next=p,l.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=l,p&&(p.previous=l)}else if(r.nextSibling&&$E(r.nextSibling)&&r.nextSibling.__ln.previous){const p=r.nextSibling.__ln.previous;l.previous=p,l.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=l,p&&(p.next=l)}else this.head&&(this.head.previous=l),l.next=this.head,this.head=l;null===l.next&&(this.tail=l),this.length++}removeNode(r){const l=r.__ln;this.head&&(l.previous?(l.previous.next=l.next,l.next?l.next.previous=l.previous:this.tail=l.previous):(this.head=l.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)}}const jE=(a,r)=>`${a}@${r}`;class rI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=r=>{r.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const r=[],l=new Set,p=new oI,T=Le=>{let at=Le,Ft=Sp;for(;Ft===Sp;)at=at&&at.nextSibling,Ft=at&&this.mirror.getId(at);return Ft},X=Le=>{if(!Le.parentNode||!wp(Le))return;const at=dd(Le.parentNode)?this.mirror.getId(tv(Le)):this.mirror.getId(Le.parentNode),Ft=T(Le);if(-1===at||-1===Ft)return p.addNode(Le);const Ut=ud(Le,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:fn=>{l1(fn,this.mirror)&&!ec(fn,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(fn),FE(fn,this.mirror)&&this.stylesheetManager.trackLinkElement(fn),c1(Le)&&this.shadowDomManager.addShadowRoot(Le.shadowRoot,this.doc)},onIframeLoad:(fn,Cn)=>{ec(fn,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(fn,Cn),fn.contentWindow&&this.canvasManager.addWindow(fn.contentWindow),this.shadowDomManager.observeAttachShadow(fn))},onStylesheetLoad:(fn,Cn)=>{this.stylesheetManager.attachLinkElement(fn,Cn)}});Ut&&(r.push({parentId:at,nextId:Ft,node:Ut}),l.add(Ut.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const Le of this.movedSet)UE(this.removes,Le,this.mirror)&&!this.movedSet.has(Le.parentNode)||X(Le);for(const Le of this.addedSet)!sv(this.droppedSet,Le)&&!UE(this.removes,Le,this.mirror)||sv(this.movedSet,Le)?X(Le):this.droppedSet.add(Le);let re=null;for(;p.length;){let Le=null;if(re){const at=this.mirror.getId(re.value.parentNode),Ft=T(re.value);-1!==at&&-1!==Ft&&(Le=re)}if(!Le){let at=p.tail;for(;at;){const Ft=at;if(at=at.previous,Ft){const Ut=this.mirror.getId(Ft.value.parentNode);if(-1===T(Ft.value))continue;if(-1!==Ut){Le=Ft;break}{const Cn=Ft.value;if(Cn.parentNode&&Cn.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(Cn.parentNode.host)){Le=Ft;break}}}}}if(!Le){for(;p.head;)p.removeNode(p.head.value);break}re=Le.previous,p.removeNode(Le.value),X(Le.value)}const Ce={texts:this.texts.map(Le=>({id:this.mirror.getId(Le.node),value:Le.value})).filter(Le=>!l.has(Le.id)).filter(Le=>this.mirror.has(Le.id)),attributes:this.attributes.map(Le=>{const{attributes:at}=Le;if("string"==typeof at.style){const Ft=JSON.stringify(Le.styleDiff),Ut=JSON.stringify(Le._unchangedStyles);Ft.length<at.style.length&&(Ft+Ut).split("var(").length===at.style.split("var(").length&&(at.style=Le.styleDiff)}return{id:this.mirror.getId(Le.node),attributes:at}}).filter(Le=>!l.has(Le.id)).filter(Le=>this.mirror.has(Le.id)),removes:this.removes,adds:r};!Ce.texts.length&&!Ce.attributes.length&&!Ce.removes.length&&!Ce.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(Ce))},this.processMutation=r=>{if(!Ap(r.target,this.mirror))switch(r.type){case"characterData":{const l=r.target.textContent;!ec(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&l!==r.oldValue&&this.texts.push({value:f_(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&l?this.maskTextFn?this.maskTextFn(l,PE(r.target)):l.replace(/[\S]/g,"*"):l,node:r.target});break}case"attributes":{const l=r.target;let p=r.attributeName,T=r.target.getAttribute(p);if("value"===p){const re=Yg(l),Ce=l.tagName;T=em(l,Ce,re);const Le=Hg({maskInputOptions:this.maskInputOptions,tagName:Ce,type:re});T=Dp({isMasked:f_(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,Le),element:l,value:T,maskInputFn:this.maskInputFn})}if(ec(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||T===r.oldValue)return;let X=this.attributeMap.get(r.target);if("IFRAME"===l.tagName&&"src"===p&&!this.keepIframeSrcFn(T)){if(l.contentDocument)return;p="rr_src"}if(X||(X={node:r.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(X),this.attributeMap.set(r.target,X)),"type"===p&&"INPUT"===l.tagName&&"password"===(r.oldValue||"").toLowerCase()&&l.setAttribute("data-rr-is-password","true"),!n1(l.tagName,p)&&(X.attributes[p]=t1(this.doc,Ip(l.tagName),Ip(p),T,l,this.maskAttributeFn),"style"===p)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const re=this.unattachedDoc.createElement("span");r.oldValue&&re.setAttribute("style",r.oldValue);for(const Ce of Array.from(l.style)){const Le=l.style.getPropertyValue(Ce),at=l.style.getPropertyPriority(Ce);Le!==re.style.getPropertyValue(Ce)||at!==re.style.getPropertyPriority(Ce)?X.styleDiff[Ce]=""===at?Le:[Le,at]:X._unchangedStyles[Ce]=[Le,at]}for(const Ce of Array.from(re.style))""===l.style.getPropertyValue(Ce)&&(X.styleDiff[Ce]=!1)}break}case"childList":if(ec(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;r.addedNodes.forEach(l=>this.genAdds(l,r.target)),r.removedNodes.forEach(l=>{const p=this.mirror.getId(l),T=dd(r.target)?this.mirror.getId(r.target.host):this.mirror.getId(r.target);ec(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ap(l,this.mirror)||!function kM(a,r){return-1!==r.getId(a)}(l,this.mirror)||(this.addedSet.has(l)?(u1(this.addedSet,l),this.droppedSet.add(l)):this.addedSet.has(r.target)&&-1===p||LE(r.target,this.mirror)||(this.movedSet.has(l)&&this.movedMap[jE(p,T)]?u1(this.movedSet,l):this.removes.push({parentId:T,id:p,isShadow:!(!dd(r.target)||!h_(r.target))||void 0})),this.mapRemoves.push(l))})}},this.genAdds=(r,l)=>{if(!this.processedNodeManager.inOtherBuffer(r,this)&&!this.addedSet.has(r)&&!this.movedSet.has(r)){if(this.mirror.hasNode(r)){if(Ap(r,this.mirror))return;this.movedSet.add(r);let p=null;l&&this.mirror.hasNode(l)&&(p=this.mirror.getId(l)),p&&-1!==p&&(this.movedMap[jE(this.mirror.getId(r),p)]=!0)}else this.addedSet.add(r),this.droppedSet.delete(r);ec(r,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(r.childNodes.forEach(p=>this.genAdds(p)),c1(r)&&r.shadowRoot.childNodes.forEach(p=>{this.processedNodeManager.add(p,this),this.genAdds(p,r)}))}}}init(r){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(l=>{this[l]=r[l]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function u1(a,r){a.delete(r),r.childNodes.forEach(l=>u1(a,l))}function UE(a,r,l){return 0!==a.length&&VE(a,r,l)}function VE(a,r,l){const{parentNode:p}=r;if(!p)return!1;const T=l.getId(p);return!!a.some(X=>X.id===T)||VE(a,p,l)}function sv(a,r){return 0!==a.size&&Pp(a,r)}function Pp(a,r){const{parentNode:l}=r;return!!l&&(!!a.has(l)||Pp(a,l))}let m_;const Xs=a=>m_?(...l)=>{try{return a(...l)}catch(p){if(m_&&!0===m_(p))return()=>{};throw p}}:a;function $c(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}const Lp=[];function gu(a){try{if("composedPath"in a){const r=a.composedPath();if(r.length)return r[0]}else if("path"in a&&a.path.length)return a.path[0]}catch{}return a&&a.target}function h1(a,r){const l=new rI;Lp.push(l),l.init(a);let p=window.MutationObserver||window.__rrMutationObserver;const T=$c([window,"optionalAccess",re=>re.Zone,"optionalAccess",re=>re.__symbol__,"optionalCall",re=>re("MutationObserver")]);T&&window[T]&&(p=window[T]);const X=new p(Xs(re=>{a.onMutation&&!1===a.onMutation(re)||l.processMutations.bind(l)(re)}));return X.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),X}function _1({scrollCb:a,doc:r,mirror:l,blockClass:p,blockSelector:T,unblockSelector:X,sampling:re}){return ca("scroll",Xs(Rp(Xs(Le=>{const at=gu(Le);if(!at||ec(at,p,T,X,!0))return;const Ft=l.getId(at);if(at===r&&r.defaultView){const Ut=AE(r.defaultView);a({id:Ft,x:Ut.left,y:Ut.top})}else a({id:Ft,x:at.scrollLeft,y:at.scrollTop})}),re.scroll||100)),r)}const BM=["INPUT","TEXTAREA","SELECT"],zE=new WeakMap;function nm({inputCb:a,doc:r,mirror:l,blockClass:p,blockSelector:T,unblockSelector:X,ignoreClass:re,ignoreSelector:Ce,maskInputOptions:Le,maskInputFn:at,sampling:Ft,userTriggeredOnInput:Ut,maskTextClass:fn,unmaskTextClass:Cn,maskTextSelector:En,unmaskTextSelector:Nn}){function ui(qn){let wi=gu(qn);const Ns=qn.isTrusted,Di=wi&&Y0(wi.tagName);if("OPTION"===Di&&(wi=wi.parentElement),!wi||!Di||BM.indexOf(Di)<0||ec(wi,p,T,X,!0))return;const ts=wi;if(ts.classList.contains(re)||Ce&&ts.matches(Ce))return;const hs=Yg(wi);let To=em(ts,Di,hs),Oo=!1;const Zr=Hg({maskInputOptions:Le,tagName:Di,type:hs}),si=f_(wi,fn,En,Cn,Nn,Zr);("radio"===hs||"checkbox"===hs)&&(Oo=wi.checked),To=Dp({isMasked:si,element:wi,value:To,maskInputFn:at}),hi(wi,Ut?{text:To,isChecked:Oo,userTriggered:Ns}:{text:To,isChecked:Oo});const xi=wi.name;"radio"===hs&&xi&&Oo&&r.querySelectorAll(`input[type="radio"][name="${xi}"]`).forEach(Mi=>{if(Mi!==wi){const gs=Dp({isMasked:si,element:Mi,value:em(Mi,Di,hs),maskInputFn:at});hi(Mi,Ut?{text:gs,isChecked:!Oo,userTriggered:!1}:{text:gs,isChecked:!Oo})}})}function hi(qn,wi){const Ns=zE.get(qn);if(!Ns||Ns.text!==wi.text||Ns.isChecked!==wi.isChecked){zE.set(qn,wi);const Di=l.getId(qn);Xs(a)({...wi,id:Di})}}const Qi=("last"===Ft.input?["change"]:["input","change"]).map(qn=>ca(qn,Xs(ui),r)),Li=r.defaultView;if(!Li)return()=>{Qi.forEach(qn=>qn())};const cs=Li.Object.getOwnPropertyDescriptor(Li.HTMLInputElement.prototype,"value");return cs&&cs.set&&Qi.push(...[[Li.HTMLInputElement.prototype,"value"],[Li.HTMLInputElement.prototype,"checked"],[Li.HTMLSelectElement.prototype,"value"],[Li.HTMLTextAreaElement.prototype,"value"],[Li.HTMLSelectElement.prototype,"selectedIndex"],[Li.HTMLOptionElement.prototype,"selected"]].map(qn=>r1(qn[0],qn[1],{set(){Xs(ui)({target:this,isTrusted:!1})}},!1,Li))),Xs(()=>{Qi.forEach(qn=>qn())})}function rv(a){return function l(p,T){if(g_("CSSGroupingRule")&&p.parentRule instanceof CSSGroupingRule||g_("CSSMediaRule")&&p.parentRule instanceof CSSMediaRule||g_("CSSSupportsRule")&&p.parentRule instanceof CSSSupportsRule||g_("CSSConditionRule")&&p.parentRule instanceof CSSConditionRule){const re=Array.from(p.parentRule.cssRules).indexOf(p);T.unshift(re)}else if(p.parentStyleSheet){const re=Array.from(p.parentStyleSheet.cssRules).indexOf(p);T.unshift(re)}return T}(a,[])}function lh(a,r,l){let p,T;return a?(a.ownerNode?p=r.getId(a.ownerNode):T=l.getId(a),{styleId:T,id:p}):{}}function im({mirror:a,stylesheetManager:r},l){let p=null;p=a.getId("#document"===l.nodeName?l:l.host);const T=$c("#document"===l.nodeName?[l,"access",re=>re.defaultView,"optionalAccess",re=>re.Document]:[l,"access",re=>re.ownerDocument,"optionalAccess",re=>re.defaultView,"optionalAccess",re=>re.ShadowRoot]),X=$c([T,"optionalAccess",re=>re.prototype])?Object.getOwnPropertyDescriptor($c([T,"optionalAccess",re=>re.prototype]),"adoptedStyleSheets"):void 0;return null!==p&&-1!==p&&T&&X?(Object.defineProperty(l,"adoptedStyleSheets",{configurable:X.configurable,enumerable:X.enumerable,get(){return $c([X,"access",re=>re.get,"optionalAccess",re=>re.call,"call",re=>re(this)])},set(re){const Ce=$c([X,"access",Le=>Le.set,"optionalAccess",Le=>Le.call,"call",Le=>Le(this,re)]);if(null!==p&&-1!==p)try{r.adoptStyleSheets(re,p)}catch{}return Ce}}),Xs(()=>{Object.defineProperty(l,"adoptedStyleSheets",{configurable:X.configurable,enumerable:X.enumerable,get:X.get,set:X.set})})):()=>{}}function p1(a,r={}){const l=a.doc.defaultView;if(!l)return()=>{};let p;a.recordDOM&&(p=h1(a,a.doc));const T=function KE({mousemoveCb:a,sampling:r,doc:l,mirror:p}){if(!1===r.mousemove)return()=>{};const T="number"==typeof r.mousemove?r.mousemove:50,X="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500;let Ce,re=[];const Le=Rp(Xs(Ut=>{const fn=Date.now()-Ce;a(re.map(Cn=>(Cn.timeOffset-=fn,Cn)),Ut),re=[],Ce=null}),X),at=Xs(Rp(Xs(Ut=>{const fn=gu(Ut),{clientX:Cn,clientY:En}=ev(Ut)?Ut.changedTouches[0]:Ut;Ce||(Ce=qg()),re.push({x:Cn,y:En,id:p.getId(fn),timeOffset:qg()-Ce}),Le(typeof DragEvent<"u"&&Ut instanceof DragEvent?Os.Drag:Ut instanceof MouseEvent?Os.MouseMove:Os.TouchMove)}),T,{trailing:!1})),Ft=[ca("mousemove",at,l),ca("touchmove",at,l),ca("drag",at,l)];return Xs(()=>{Ft.forEach(Ut=>Ut())})}(a),X=function WE({mouseInteractionCb:a,doc:r,mirror:l,blockClass:p,blockSelector:T,unblockSelector:X,sampling:re}){if(!1===re.mouseInteraction)return()=>{};const Ce=!0===re.mouseInteraction||void 0===re.mouseInteraction?{}:re.mouseInteraction,Le=[];let at=null;return Object.keys(tc).filter(Ut=>Number.isNaN(Number(Ut))&&!Ut.endsWith("_Departed")&&!1!==Ce[Ut]).forEach(Ut=>{let fn=Ip(Ut);const Cn=(Ut=>fn=>{const Cn=gu(fn);if(ec(Cn,p,T,X,!0))return;let En=null,Nn=Ut;if("pointerType"in fn){switch(fn.pointerType){case"mouse":En=ah.Mouse;break;case"touch":En=ah.Touch;break;case"pen":En=ah.Pen}En===ah.Touch&&(tc[Ut]===tc.MouseDown?Nn="TouchStart":tc[Ut]===tc.MouseUp&&(Nn="TouchEnd"))}else ev(fn)&&(En=ah.Touch);null!==En?(at=En,(Nn.startsWith("Touch")&&En===ah.Touch||Nn.startsWith("Mouse")&&En===ah.Mouse)&&(En=null)):tc[Ut]===tc.Click&&(En=at,at=null);const ui=ev(fn)?fn.changedTouches[0]:fn;if(!ui)return;const hi=l.getId(Cn),{clientX:Ai,clientY:Qi}=ui;Xs(a)({type:tc[Nn],id:hi,x:Ai,y:Qi,...null!==En&&{pointerType:En}})})(Ut);if(window.PointerEvent)switch(tc[Ut]){case tc.MouseDown:case tc.MouseUp:fn=fn.replace("mouse","pointer");break;case tc.TouchStart:case tc.TouchEnd:return}Le.push(ca(fn,Cn,r))}),Xs(()=>{Le.forEach(Ut=>Ut())})}(a),re=_1(a),Ce=function NM({viewportResizeCb:a},{win:r}){let l=-1,p=-1;return ca("resize",Xs(Rp(Xs(()=>{const X=wE(),re=kE();(l!==X||p!==re)&&(a({width:Number(re),height:Number(X)}),l=X,p=re)}),200)),r)}(a,{win:l}),Le=nm(a),at=function HE({mediaInteractionCb:a,blockClass:r,blockSelector:l,unblockSelector:p,mirror:T,sampling:X,doc:re}){const Ce=Xs(at=>Rp(Xs(Ft=>{const Ut=gu(Ft);if(!Ut||ec(Ut,r,l,p,!0))return;const{currentTime:fn,volume:Cn,muted:En,playbackRate:Nn}=Ut;a({type:at,id:T.getId(Ut),currentTime:fn,volume:Cn,muted:En,playbackRate:Nn})}),X.media||500)),Le=[ca("play",Ce(0),re),ca("pause",Ce(1),re),ca("seeked",Ce(2),re),ca("volumechange",Ce(3),re),ca("ratechange",Ce(4),re)];return Xs(()=>{Le.forEach(at=>at())})}(a);let Ft=()=>{},Ut=()=>{},fn=()=>{},Cn=()=>{};a.recordDOM&&(Ft=function $M({styleSheetRuleCb:a,mirror:r,stylesheetManager:l},{win:p}){if(!p.CSSStyleSheet||!p.CSSStyleSheet.prototype)return()=>{};const T=p.CSSStyleSheet.prototype.insertRule;p.CSSStyleSheet.prototype.insertRule=new Proxy(T,{apply:Xs((Ft,Ut,fn)=>{const[Cn,En]=fn,{id:Nn,styleId:ui}=lh(Ut,r,l.styleMirror);return(Nn&&-1!==Nn||ui&&-1!==ui)&&a({id:Nn,styleId:ui,adds:[{rule:Cn,index:En}]}),Ft.apply(Ut,fn)})});const X=p.CSSStyleSheet.prototype.deleteRule;let re,Ce;p.CSSStyleSheet.prototype.deleteRule=new Proxy(X,{apply:Xs((Ft,Ut,fn)=>{const[Cn]=fn,{id:En,styleId:Nn}=lh(Ut,r,l.styleMirror);return(En&&-1!==En||Nn&&-1!==Nn)&&a({id:En,styleId:Nn,removes:[{index:Cn}]}),Ft.apply(Ut,fn)})}),p.CSSStyleSheet.prototype.replace&&(re=p.CSSStyleSheet.prototype.replace,p.CSSStyleSheet.prototype.replace=new Proxy(re,{apply:Xs((Ft,Ut,fn)=>{const[Cn]=fn,{id:En,styleId:Nn}=lh(Ut,r,l.styleMirror);return(En&&-1!==En||Nn&&-1!==Nn)&&a({id:En,styleId:Nn,replace:Cn}),Ft.apply(Ut,fn)})})),p.CSSStyleSheet.prototype.replaceSync&&(Ce=p.CSSStyleSheet.prototype.replaceSync,p.CSSStyleSheet.prototype.replaceSync=new Proxy(Ce,{apply:Xs((Ft,Ut,fn)=>{const[Cn]=fn,{id:En,styleId:Nn}=lh(Ut,r,l.styleMirror);return(En&&-1!==En||Nn&&-1!==Nn)&&a({id:En,styleId:Nn,replaceSync:Cn}),Ft.apply(Ut,fn)})}));const Le={};av("CSSGroupingRule")?Le.CSSGroupingRule=p.CSSGroupingRule:(av("CSSMediaRule")&&(Le.CSSMediaRule=p.CSSMediaRule),av("CSSConditionRule")&&(Le.CSSConditionRule=p.CSSConditionRule),av("CSSSupportsRule")&&(Le.CSSSupportsRule=p.CSSSupportsRule));const at={};return Object.entries(Le).forEach(([Ft,Ut])=>{at[Ft]={insertRule:Ut.prototype.insertRule,deleteRule:Ut.prototype.deleteRule},Ut.prototype.insertRule=new Proxy(at[Ft].insertRule,{apply:Xs((fn,Cn,En)=>{const[Nn,ui]=En,{id:hi,styleId:Ai}=lh(Cn.parentStyleSheet,r,l.styleMirror);return(hi&&-1!==hi||Ai&&-1!==Ai)&&a({id:hi,styleId:Ai,adds:[{rule:Nn,index:[...rv(Cn),ui||0]}]}),fn.apply(Cn,En)})}),Ut.prototype.deleteRule=new Proxy(at[Ft].deleteRule,{apply:Xs((fn,Cn,En)=>{const[Nn]=En,{id:ui,styleId:hi}=lh(Cn.parentStyleSheet,r,l.styleMirror);return(ui&&-1!==ui||hi&&-1!==hi)&&a({id:ui,styleId:hi,removes:[{index:[...rv(Cn),Nn]}]}),fn.apply(Cn,En)})})}),Xs(()=>{p.CSSStyleSheet.prototype.insertRule=T,p.CSSStyleSheet.prototype.deleteRule=X,re&&(p.CSSStyleSheet.prototype.replace=re),Ce&&(p.CSSStyleSheet.prototype.replaceSync=Ce),Object.entries(Le).forEach(([Ft,Ut])=>{Ut.prototype.insertRule=at[Ft].insertRule,Ut.prototype.deleteRule=at[Ft].deleteRule})})}(a,{win:l}),Ut=im(a,a.doc),fn=function XE({styleDeclarationCb:a,mirror:r,ignoreCSSAttributes:l,stylesheetManager:p},{win:T}){const X=T.CSSStyleDeclaration.prototype.setProperty;T.CSSStyleDeclaration.prototype.setProperty=new Proxy(X,{apply:Xs((Ce,Le,at)=>{const[Ft,Ut,fn]=at;if(l.has(Ft))return X.apply(Le,[Ft,Ut,fn]);const{id:Cn,styleId:En}=lh($c([Le,"access",Nn=>Nn.parentRule,"optionalAccess",Nn=>Nn.parentStyleSheet]),r,p.styleMirror);return(Cn&&-1!==Cn||En&&-1!==En)&&a({id:Cn,styleId:En,set:{property:Ft,value:Ut,priority:fn},index:rv(Le.parentRule)}),Ce.apply(Le,at)})});const re=T.CSSStyleDeclaration.prototype.removeProperty;return T.CSSStyleDeclaration.prototype.removeProperty=new Proxy(re,{apply:Xs((Ce,Le,at)=>{const[Ft]=at;if(l.has(Ft))return re.apply(Le,[Ft]);const{id:Ut,styleId:fn}=lh($c([Le,"access",Cn=>Cn.parentRule,"optionalAccess",Cn=>Cn.parentStyleSheet]),r,p.styleMirror);return(Ut&&-1!==Ut||fn&&-1!==fn)&&a({id:Ut,styleId:fn,remove:{property:Ft},index:rv(Le.parentRule)}),Ce.apply(Le,at)})}),Xs(()=>{T.CSSStyleDeclaration.prototype.setProperty=X,T.CSSStyleDeclaration.prototype.removeProperty=re})}(a,{win:l}),a.collectFonts&&(Cn=function YE({fontCb:a,doc:r}){const l=r.defaultView;if(!l)return()=>{};const p=[],T=new WeakMap,X=l.FontFace;l.FontFace=function(Le,at,Ft){const Ut=new X(Le,at,Ft);return T.set(Ut,{family:Le,buffer:"string"!=typeof at,descriptors:Ft,fontSource:"string"==typeof at?at:JSON.stringify(Array.from(new Uint8Array(at)))}),Ut};const re=a1(r.fonts,"add",function(Ce){return function(Le){return nv(Xs(()=>{const at=T.get(Le);at&&(a(at),T.delete(Le))}),0),Ce.apply(this,[Le])}});return p.push(()=>{l.FontFace=X}),p.push(re),Xs(()=>{p.forEach(Ce=>Ce())})}(a)));const En=function jM(a){const{doc:r,mirror:l,blockClass:p,blockSelector:T,unblockSelector:X,selectionCb:re}=a;let Ce=!0;const Le=Xs(()=>{const at=r.getSelection();if(!at||Ce&&$c([at,"optionalAccess",fn=>fn.isCollapsed]))return;Ce=at.isCollapsed||!1;const Ft=[],Ut=at.rangeCount||0;for(let fn=0;fn<Ut;fn++){const Cn=at.getRangeAt(fn),{startContainer:En,startOffset:Nn,endContainer:ui,endOffset:hi}=Cn;ec(En,p,T,X,!0)||ec(ui,p,T,X,!0)||Ft.push({start:l.getId(En),startOffset:Nn,end:l.getId(ui),endOffset:hi})}re({ranges:Ft})});return Le(),ca("selectionchange",Le)}(a),Nn=function QE({doc:a,customElementCb:r}){const l=a.defaultView;return l&&l.customElements?a1(l.customElements,"define",function(T){return function(X,re,Ce){try{r({define:{name:X}})}catch{}return T.apply(this,[X,re,Ce])}}):()=>{}}(a),ui=[];for(const hi of a.plugins)ui.push(hi.observer(hi.callback,l,hi.options));return Xs(()=>{Lp.forEach(hi=>hi.reset()),$c([p,"optionalAccess",hi=>hi.disconnect,"call",hi=>hi()]),T(),X(),re(),Ce(),Le(),at(),Ft(),Ut(),fn(),Cn(),En(),Nn(),ui.forEach(hi=>hi())})}function g_(a){return typeof window[a]<"u"}function av(a){return!!(typeof window[a]<"u"&&window[a].prototype&&"insertRule"in window[a].prototype&&"deleteRule"in window[a].prototype)}class f1{constructor(r){this.generateIdFn=r,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(r,l,p,T){const X=p||this.getIdToRemoteIdMap(r),re=T||this.getRemoteIdToIdMap(r);let Ce=X.get(l);return Ce||(Ce=this.generateIdFn(),X.set(l,Ce),re.set(Ce,l)),Ce}getIds(r,l){const p=this.getIdToRemoteIdMap(r),T=this.getRemoteIdToIdMap(r);return l.map(X=>this.getId(r,X,p,T))}getRemoteId(r,l,p){const T=p||this.getRemoteIdToIdMap(r);return"number"!=typeof l?l:T.get(l)||-1}getRemoteIds(r,l){const p=this.getRemoteIdToIdMap(r);return l.map(T=>this.getRemoteId(r,T,p))}reset(r){if(!r)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)}getIdToRemoteIdMap(r){let l=this.iframeIdToRemoteIdMap.get(r);return l||(l=new Map,this.iframeIdToRemoteIdMap.set(r,l)),l}getRemoteIdToIdMap(r){let l=this.iframeRemoteIdToIdMap.get(r);return l||(l=new Map,this.iframeRemoteIdToIdMap.set(r,l)),l}}function JE(a){let r,l=a[0],p=1;for(;p<a.length;){const T=a[p],X=a[p+1];if(p+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=X(l)):("call"===T||"optionalCall"===T)&&(l=X((...re)=>l.call(r,...re)),r=void 0)}return l}class UM{constructor(){this.crossOriginIframeMirror=new f1(Z0),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class VM{constructor(r){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new f1(Z0),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new f1(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)}addLoadListener(r){this.loadListener=r}attachIframe(r,l){this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:l}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),JE([this,"access",p=>p.loadListener,"optionalCall",p=>p(r)]),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))}handleMessage(r){const l=r;if("rrweb"!==l.data.type||l.origin!==l.data.origin||!r.source)return;const T=this.crossOriginIframeMap.get(r.source);if(!T)return;const X=this.transformCrossOriginEvent(T,l.data.event);X&&this.wrappedEmit(X,l.data.isCheckout)}transformCrossOriginEvent(r,l){switch(l.type){case Fs.FullSnapshot:{this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(l.data.node,r);const p=l.data.node.id;return this.crossOriginIframeRootIdMap.set(r,p),this.patchRootIdOnNode(l.data.node,p),{timestamp:l.timestamp,type:Fs.IncrementalSnapshot,data:{source:Os.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:l.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Fs.Meta:case Fs.Load:case Fs.DomContentLoaded:return!1;case Fs.Plugin:return l;case Fs.Custom:return this.replaceIds(l.data.payload,r,["id","parentId","previousId","nextId"]),l;case Fs.IncrementalSnapshot:switch(l.data.source){case Os.Mutation:return l.data.adds.forEach(p=>{this.replaceIds(p,r,["parentId","nextId","previousId"]),this.replaceIdOnNode(p.node,r);const T=this.crossOriginIframeRootIdMap.get(r);T&&this.patchRootIdOnNode(p.node,T)}),l.data.removes.forEach(p=>{this.replaceIds(p,r,["parentId","id"])}),l.data.attributes.forEach(p=>{this.replaceIds(p,r,["id"])}),l.data.texts.forEach(p=>{this.replaceIds(p,r,["id"])}),l;case Os.Drag:case Os.TouchMove:case Os.MouseMove:return l.data.positions.forEach(p=>{this.replaceIds(p,r,["id"])}),l;case Os.ViewportResize:return!1;case Os.MediaInteraction:case Os.MouseInteraction:case Os.Scroll:case Os.CanvasMutation:case Os.Input:return this.replaceIds(l.data,r,["id"]),l;case Os.StyleSheetRule:case Os.StyleDeclaration:return this.replaceIds(l.data,r,["id"]),this.replaceStyleIds(l.data,r,["styleId"]),l;case Os.Font:return l;case Os.Selection:return l.data.ranges.forEach(p=>{this.replaceIds(p,r,["start","end"])}),l;case Os.AdoptedStyleSheet:return this.replaceIds(l.data,r,["id"]),this.replaceStyleIds(l.data,r,["styleIds"]),JE([l,"access",p=>p.data,"access",p=>p.styles,"optionalAccess",p=>p.forEach,"call",p=>p(T=>{this.replaceStyleIds(T,r,["styleId"])})]),l}}return!1}replace(r,l,p,T){for(const X of T)!Array.isArray(l[X])&&"number"!=typeof l[X]||(l[X]=Array.isArray(l[X])?r.getIds(p,l[X]):r.getId(p,l[X]));return l}replaceIds(r,l,p){return this.replace(this.crossOriginIframeMirror,r,l,p)}replaceStyleIds(r,l,p){return this.replace(this.crossOriginIframeStyleMirror,r,l,p)}replaceIdOnNode(r,l){this.replaceIds(r,l,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(p=>{this.replaceIdOnNode(p,l)})}patchRootIdOnNode(r,l){r.type!==Fa.Document&&!r.rootId&&(r.rootId=l),"childNodes"in r&&r.childNodes.forEach(p=>{this.patchRootIdOnNode(p,l)})}}class GM{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class m1{constructor(r){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(r,l){if(!h_(r)||this.shadowDoms.has(r))return;this.shadowDoms.add(r),this.bypassOptions.canvasManager.addShadowRoot(r);const p=h1({...this.bypassOptions,doc:l,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},r);this.restoreHandlers.push(()=>p.disconnect()),this.restoreHandlers.push(_1({...this.bypassOptions,scrollCb:this.scrollCb,doc:r,mirror:this.mirror})),nv(()=>{r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r.host)),this.restoreHandlers.push(im({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},r))},0)}observeAttachShadow(r){!r.contentWindow||!r.contentDocument||this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)}patchAttachShadow(r,l){const p=this;this.restoreHandlers.push(a1(r.prototype,"attachShadow",function(T){return function(X){const re=T.call(this,X);return this.shadowRoot&&wp(this)&&p.addShadowRoot(this.shadowRoot,l),re}}))}reset(){this.restoreHandlers.forEach(r=>{try{r()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Fp{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ZE{constructor(r){this.trackedLinkElements=new WeakSet,this.styleMirror=new NE,this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}attachLinkElement(r,l){"_cssText"in l.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:l.id,attributes:l.attributes}]}),this.trackLinkElement(r)}trackLinkElement(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))}adoptStyleSheets(r,l){if(0===r.length)return;const p={id:l,styleIds:[]},T=[];for(const X of r){let re;this.styleMirror.has(X)?re=this.styleMirror.getId(X):(re=this.styleMirror.add(X),T.push({styleId:re,rules:Array.from(X.rules||CSSRule,(Ce,Le)=>({rule:Xg(Ce),index:Le}))})),p.styleIds.push(re)}T.length>0&&(p.styles=T),this.adoptedStyleSheetCb(p)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(r){}}class qE{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function LM(...a){d1("requestAnimationFrame")(...a)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(r,l){const p=this.nodeMap.get(r);return p&&Array.from(p).some(T=>T!==l)}add(r,l){this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(l))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Pr,ch;try{if(2!==Array.from([1],a=>2*a)[0]){const a=document.createElement("iframe");document.body.appendChild(a),Array.from=Ca([a,"access",r=>r.contentWindow,"optionalAccess",r=>r.Array,"access",r=>r.from])||Array.from,document.body.removeChild(a)}}catch(a){console.debug("Unable to override Array.from",a)}const nc=function EM(){return new ME}();function dh(a={}){const{emit:r,checkoutEveryNms:l,checkoutEveryNth:p,blockClass:T="rr-block",blockSelector:X=null,unblockSelector:re=null,ignoreClass:Ce="rr-ignore",ignoreSelector:Le=null,maskAllText:at=!1,maskTextClass:Ft="rr-mask",unmaskTextClass:Ut=null,maskTextSelector:fn=null,unmaskTextSelector:Cn=null,inlineStylesheet:En=!0,maskAllInputs:Nn,maskInputOptions:ui,slimDOMOptions:hi,maskAttributeFn:Ai,maskInputFn:Qi,maskTextFn:Li,maxCanvasSize:cs=null,packFn:mi,sampling:qn={},dataURLOptions:wi={},mousemoveWait:Ns,recordDOM:Di=!0,recordCanvas:ts=!1,recordCrossOriginIframes:hs=!1,recordAfter:To=("DOMContentLoaded"===a.recordAfter?a.recordAfter:"load"),userTriggeredOnInput:Oo=!1,collectFonts:Zr=!1,inlineImages:si=!1,plugins:xi,keepIframeSrcFn:Mi=()=>!1,ignoreCSSAttributes:gs=new Set([]),errorHandler:Bo,onMutation:mc,getCanvasManager:Al}=a;!function ov(a){m_=a}(Bo);const Uc=!hs||window.parent===window;let $o=!1;if(!Uc)try{window.parent.document&&($o=!1)}catch{$o=!0}if(Uc&&!r)throw new Error("emit function is required");void 0!==Ns&&void 0===qn.mousemove&&(qn.mousemove=Ns),nc.reset();const zp=!0===Nn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==ui?ui:{},Cm=!0===hi||"all"===hi?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===hi,headMetaDescKeywords:"all"===hi}:hi||{};!function PM(a=window){"NodeList"in a&&!a.NodeList.prototype.forEach&&(a.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in a&&!a.DOMTokenList.prototype.forEach&&(a.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...r)=>{let l=r[0];if(!(0 in r))throw new TypeError("1 argument is required");do{if(this===l)return!0}while(l=l&&l.parentNode);return!1})}();let da,hd=0;const wl=oo=>{for(const gc of xi||[])gc.eventProcessor&&(oo=gc.eventProcessor(oo));return mi&&!$o&&(oo=mi(oo)),oo};Pr=(oo,gc)=>{const Gs=oo;if(Gs.timestamp=qg(),Ca([Lp,"access",_r=>_r[0],"optionalAccess",_r=>_r.isFrozen,"call",_r=>_r()])&&Gs.type!==Fs.FullSnapshot&&!(Gs.type===Fs.IncrementalSnapshot&&Gs.data.source===Os.Mutation)&&Lp.forEach(_r=>_r.unfreeze()),Uc)Ca([r,"optionalCall",_r=>_r(wl(Gs),gc)]);else if($o){const _r={type:"rrweb",event:wl(Gs),origin:window.location.origin,isCheckout:gc};window.parent.postMessage(_r,"*")}if(Gs.type===Fs.FullSnapshot)da=Gs,hd=0;else if(Gs.type===Fs.IncrementalSnapshot){if(Gs.data.source===Os.Mutation&&Gs.data.isAttachIframe)return;hd++,(p&&hd>=p||l&&da&&Gs.timestamp-da.timestamp>l)&&wv(!0)}};const bu=oo=>{Pr({type:Fs.IncrementalSnapshot,data:{source:Os.Mutation,...oo}})},M_=oo=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.Scroll,...oo}}),lC=oo=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.CanvasMutation,...oo}}),Eu=new ZE({mutationCb:bu,adoptedStyleSheetCb:oo=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.AdoptedStyleSheet,...oo}})}),T_="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new UM:new VM({mirror:nc,mutationCb:bu,stylesheetManager:Eu,recordCrossOriginIframes:hs,wrappedEmit:Pr});for(const oo of xi||[])oo.getMirror&&oo.getMirror({nodeMirror:nc,crossOriginIframeMirror:T_.crossOriginIframeMirror,crossOriginIframeStyleMirror:T_.crossOriginIframeStyleMirror});const Av=new qE,ob=function ey(a,r){try{return a?a(r):new Fp}catch{return console.warn("Unable to initialize CanvasManager"),new Fp}}(Al,{mirror:nc,win:window,mutationCb:oo=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.CanvasMutation,...oo}}),recordCanvas:ts,blockClass:T,blockSelector:X,unblockSelector:re,maxCanvasSize:cs,sampling:qn.canvas,dataURLOptions:wi,errorHandler:Bo}),Mm="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new GM:new m1({mutationCb:bu,scrollCb:M_,bypassOptions:{onMutation:mc,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:at,maskTextClass:Ft,unmaskTextClass:Ut,maskTextSelector:fn,unmaskTextSelector:Cn,inlineStylesheet:En,maskInputOptions:zp,dataURLOptions:wi,maskAttributeFn:Ai,maskTextFn:Li,maskInputFn:Qi,recordCanvas:ts,inlineImages:si,sampling:qn,slimDOMOptions:Cm,iframeManager:T_,stylesheetManager:Eu,canvasManager:ob,keepIframeSrcFn:Mi,processedNodeManager:Av},mirror:nc}),wv=(oo=!1)=>{if(!Di)return;Pr({type:Fs.Meta,data:{href:window.location.href,width:kE(),height:wE()}},oo),Eu.reset(),Mm.init(),Lp.forEach(Gs=>Gs.lock());const gc=function RE(a,r){const{mirror:l=new ME,blockClass:p="rr-block",blockSelector:T=null,unblockSelector:X=null,maskAllText:re=!1,maskTextClass:Ce="rr-mask",unmaskTextClass:Le=null,maskTextSelector:at=null,unmaskTextSelector:Ft=null,inlineStylesheet:Ut=!0,inlineImages:fn=!1,recordCanvas:Cn=!1,maskAllInputs:En=!1,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOM:Ai=!1,dataURLOptions:Qi,preserveWhiteSpace:Li,onSerialize:cs,onIframeLoad:mi,iframeLoadTimeout:qn,onStylesheetLoad:wi,stylesheetLoadTimeout:Ns,keepIframeSrcFn:Di=()=>!1}=r||{};return ud(a,{doc:a,mirror:l,blockClass:p,blockSelector:T,unblockSelector:X,maskAllText:re,maskTextClass:Ce,unmaskTextClass:Le,maskTextSelector:at,unmaskTextSelector:Ft,skipChild:!1,inlineStylesheet:Ut,maskInputOptions:!0===En?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===En?{}:En,maskAttributeFn:Nn,maskTextFn:ui,maskInputFn:hi,slimDOMOptions:!0===Ai||"all"===Ai?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===Ai,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===Ai?{}:Ai,dataURLOptions:Qi,inlineImages:fn,recordCanvas:Cn,preserveWhiteSpace:Li,onSerialize:cs,onIframeLoad:mi,iframeLoadTimeout:qn,onStylesheetLoad:wi,stylesheetLoadTimeout:Ns,keepIframeSrcFn:Di,newlyAddedElement:!1})}(document,{mirror:nc,blockClass:T,blockSelector:X,unblockSelector:re,maskAllText:at,maskTextClass:Ft,unmaskTextClass:Ut,maskTextSelector:fn,unmaskTextSelector:Cn,inlineStylesheet:En,maskAllInputs:zp,maskAttributeFn:Ai,maskInputFn:Qi,maskTextFn:Li,slimDOM:Cm,dataURLOptions:wi,recordCanvas:ts,inlineImages:si,onSerialize:Gs=>{l1(Gs,nc)&&T_.addIframe(Gs),FE(Gs,nc)&&Eu.trackLinkElement(Gs),c1(Gs)&&Mm.addShadowRoot(Gs.shadowRoot,document)},onIframeLoad:(Gs,_r)=>{T_.attachIframe(Gs,_r),Gs.contentWindow&&ob.addWindow(Gs.contentWindow),Mm.observeAttachShadow(Gs)},onStylesheetLoad:(Gs,_r)=>{Eu.attachLinkElement(Gs,_r)},keepIframeSrcFn:Mi});if(!gc)return console.warn("Failed to snapshot the document");Pr({type:Fs.FullSnapshot,data:{node:gc,initialOffset:AE(window)}}),Lp.forEach(Gs=>Gs.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Eu.adoptStyleSheets(document.adoptedStyleSheets,nc.getId(document))};ch=wv;try{const oo=[],gc=_r=>Xs(p1)({onMutation:mc,mutationCb:bu,mousemoveCb:(no,yu)=>Pr({type:Fs.IncrementalSnapshot,data:{source:yu,positions:no}}),mouseInteractionCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.MouseInteraction,...no}}),scrollCb:M_,viewportResizeCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.ViewportResize,...no}}),inputCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.Input,...no}}),mediaInteractionCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.MediaInteraction,...no}}),styleSheetRuleCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.StyleSheetRule,...no}}),styleDeclarationCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.StyleDeclaration,...no}}),canvasMutationCb:lC,fontCb:no=>Pr({type:Fs.IncrementalSnapshot,data:{source:Os.Font,...no}}),selectionCb:no=>{Pr({type:Fs.IncrementalSnapshot,data:{source:Os.Selection,...no}})},customElementCb:no=>{Pr({type:Fs.IncrementalSnapshot,data:{source:Os.CustomElement,...no}})},blockClass:T,ignoreClass:Ce,ignoreSelector:Le,maskAllText:at,maskTextClass:Ft,unmaskTextClass:Ut,maskTextSelector:fn,unmaskTextSelector:Cn,maskInputOptions:zp,inlineStylesheet:En,sampling:qn,recordDOM:Di,recordCanvas:ts,inlineImages:si,userTriggeredOnInput:Oo,collectFonts:Zr,doc:_r,maskAttributeFn:Ai,maskInputFn:Qi,maskTextFn:Li,keepIframeSrcFn:Mi,blockSelector:X,unblockSelector:re,slimDOMOptions:Cm,dataURLOptions:wi,mirror:nc,iframeManager:T_,stylesheetManager:Eu,shadowDomManager:Mm,processedNodeManager:Av,canvasManager:ob,ignoreCSSAttributes:gs,plugins:Ca([xi,"optionalAccess",no=>no.filter,"call",no=>no(yu=>yu.observer),"optionalAccess",no=>no.map,"call",no=>no(yu=>({observer:yu.observer,options:yu.options,callback:Xp=>Pr({type:Fs.Plugin,data:{plugin:yu.name,payload:Xp}})}))])||[]},{});T_.addLoadListener(_r=>{try{oo.push(gc(_r.contentDocument))}catch(no){console.warn(no)}});const Gs=()=>{wv(),oo.push(gc(document))};return"interactive"===document.readyState||"complete"===document.readyState?Gs():(oo.push(ca("DOMContentLoaded",()=>{Pr({type:Fs.DomContentLoaded,data:{}}),"DOMContentLoaded"===To&&Gs()})),oo.push(ca("load",()=>{Pr({type:Fs.Load,data:{}}),"load"===To&&Gs()},window))),()=>{oo.forEach(_r=>_r()),Av.destroy(),ch=void 0,function GE(){m_=void 0}()}}catch(oo){console.warn(oo)}}dh.mirror=nc,dh.takeFullSnapshot=function KM(a){if(!ch)throw new Error("please take full snapshot after start recording");ch(a)};const is=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ty=["info","warn","error","log"],sm="[Replay] ";function g1(a,r="info"){sd({category:"console",data:{logger:"replay"},level:r,message:`${sm}${a}`},{level:r})}const ms=function ny(){let a=!1,r=!1;const l={exception:()=>{},infoTick:()=>{},setConfig:p=>{a=p.captureExceptions,r=p.traceInternals}};return is?(ty.forEach(p=>{l[p]=(...T)=>{ni[p](sm,...T),r&&g1(T[0])}}),l.exception=(p,...T)=>{l.error&&l.error(...T),ni.error(sm,p),a?Lu(p):r&&g1(p)},l.infoTick=(...p)=>{ni.info(sm,...p),r&&setTimeout(()=>g1(p[0]),0)}):ty.forEach(p=>{l[p]=()=>{}}),l}(),iy=3;function b1(a){return a>9999999999?a:1e3*a}function E1(a){return a>9999999999?a/1e3:a}function om(a,r){"sentry.transaction"!==r.category&&(["ui.click","ui.input"].includes(r.category)?a.triggerUserActivity():a.checkAndHandleExpiredSession(),a.addUpdate(()=>(a.throttledAddEvent({type:Fs.Custom,timestamp:1e3*(r.timestamp||0),data:{tag:"breadcrumb",payload:ol(r,10,1e3)}}),"console"===r.category)))}const WM="button,a";function sy(a){return a.closest(WM)||a}function oy(a){const r=lv(a);return r&&r instanceof Element?sy(r):r}function lv(a){return function zM(a){return"object"==typeof a&&!!a&&"target"in a}(a)?a.target:a}let uh;const rm=new Set([Os.Mutation,Os.StyleSheetRule,Os.StyleDeclaration,Os.AdoptedStyleSheet,Os.CanvasMutation,Os.Selection,Os.MediaInteraction]);class C1{constructor(r,l,p=om){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=l.timeout/1e3,this._threshold=l.threshold/1e3,this._scollTimeout=l.scrollTimeout/1e3,this._replay=r,this._ignoreSelector=l.ignoreSelector,this._addBreadcrumbEvent=p}addListeners(){const r=function XM(a){return uh||(uh=[],function v_(){yo(ko,"open",function(a){return function(...r){if(uh)try{uh.forEach(l=>l())}catch{}return a.apply(ko,r)}})}()),uh.push(a),()=>{const r=uh?uh.indexOf(a):-1;r>-1&&uh.splice(r,1)}}(()=>{this._lastMutation=ay()});this._teardown=()=>{r(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(r,l){if(function Np(a,r){return!!(!HM.includes(a.tagName)||"INPUT"===a.tagName&&!["submit","button"].includes(a.getAttribute("type")||"")||"A"===a.tagName&&(a.hasAttribute("download")||a.hasAttribute("target")&&"_self"!==a.getAttribute("target"))||r&&a.matches(r))}(l,this._ignoreSelector)||!function ry(a){return!(!a.data||"number"!=typeof a.data.nodeId||!a.timestamp)}(r))return;const p={timestamp:E1(r.timestamp),clickBreadcrumb:r,clickCount:0,node:l};this._clicks.some(T=>T.node===p.node&&Math.abs(T.timestamp-p.timestamp)<1)||(this._clicks.push(p),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(r=Date.now()){this._lastMutation=E1(r)}registerScroll(r=Date.now()){this._lastScroll=E1(r)}registerClick(r){const l=sy(r);this._handleMultiClick(l)}_handleMultiClick(r){this._getClicks(r).forEach(l=>{l.clickCount++})}_getClicks(r){return this._clicks.filter(l=>l.node===r)}_checkClicks(){const r=[],l=ay();this._clicks.forEach(p=>{!p.mutationAfter&&this._lastMutation&&(p.mutationAfter=p.timestamp<=this._lastMutation?this._lastMutation-p.timestamp:void 0),!p.scrollAfter&&this._lastScroll&&(p.scrollAfter=p.timestamp<=this._lastScroll?this._lastScroll-p.timestamp:void 0),p.timestamp+this._timeout<=l&&r.push(p)});for(const p of r){const T=this._clicks.indexOf(p);T>-1&&(this._generateBreadcrumbs(p),this._clicks.splice(T,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(r){const l=this._replay,X=!(r.scrollAfter&&r.scrollAfter<=this._scollTimeout||r.mutationAfter&&r.mutationAfter<=this._threshold),{clickCount:re,clickBreadcrumb:Ce}=r;if(X){const Le=1e3*Math.min(r.mutationAfter||this._timeout,this._timeout),at=Le<1e3*this._timeout?"mutation":"timeout",Ft={type:"default",message:Ce.message,timestamp:Ce.timestamp,category:"ui.slowClickDetected",data:{...Ce.data,url:ko.location.href,route:l.getCurrentRoute(),timeAfterClickMs:Le,endReason:at,clickCount:re||1}};this._addBreadcrumbEvent(l,Ft)}else if(re>1){const Le={type:"default",message:Ce.message,timestamp:Ce.timestamp,category:"ui.multiClick",data:{...Ce.data,url:ko.location.href,route:l.getCurrentRoute(),clickCount:re,metric:!0}};this._addBreadcrumbEvent(l,Le)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Yu(()=>this._checkClicks(),1e3)}}const HM=["A","BUTTON","INPUT"];function ay(){return Date.now()/1e3}function Fd(a){return{timestamp:Date.now()/1e3,type:"default",...a}}var cv=function(a){return a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment",a}(cv||{});const ZM=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ly(a){const r={};!a["data-sentry-component"]&&a["data-sentry-element"]&&(a["data-sentry-component"]=a["data-sentry-element"]);for(const l in a)if(ZM.has(l)){let p=l;("data-testid"===l||"data-test-id"===l)&&(p="testId"),r[p]=a[l]}return r}function cy(a,r){const l=dh.mirror.getId(a),p=l&&dh.mirror.getNode(l),T=p&&dh.mirror.getMeta(p),X=T&&function eT(a){return a.type===cv.Element}(T)?T:null;return{message:r,data:X?{nodeId:l,node:{id:l,tagName:X.tagName,textContent:Array.from(X.childNodes).map(re=>re.type===cv.Text&&re.textContent).filter(Boolean).map(re=>re.trim()).join(""),attributes:ly(X.attributes)}}:{}}}const am={resource:function _y(a){const{entryType:r,initiatorType:l,name:p,responseEnd:T,startTime:X,decodedBodySize:re,encodedBodySize:Ce,responseStatus:Le,transferSize:at}=a;return["fetch","xmlhttprequest"].includes(l)?null:{type:`${r}.${l}`,start:$p(X),end:$p(T),name:p,data:{size:at,statusCode:Le,decodedBodySize:re,encodedBodySize:Ce}}},paint:function hy(a){const{duration:r,entryType:l,name:p,startTime:T}=a,X=$p(T);return{type:l,name:p,start:X,end:X+r,data:void 0}},navigation:function nT(a){const{entryType:r,name:l,decodedBodySize:p,duration:T,domComplete:X,encodedBodySize:re,domContentLoadedEventStart:Ce,domContentLoadedEventEnd:Le,domInteractive:at,loadEventStart:Ft,loadEventEnd:Ut,redirectCount:fn,startTime:Cn,transferSize:En,type:Nn}=a;return 0===T?null:{type:`${r}.${Nn}`,start:$p(Cn),end:$p(X),name:l,data:{size:En,decodedBodySize:p,encodedBodySize:re,duration:T,domInteractive:at,domContentLoadedEventStart:Ce,domContentLoadedEventEnd:Le,loadEventStart:Ft,loadEventEnd:Ut,domComplete:X,redirectCount:fn}}}};function M1(a,r){return({metric:l})=>{r.replayPerformanceEntries.push(a(l))}}function T1(a){const r=am[a.entryType];return r?r(a):null}function $p(a){return((Kr||ko.performance.timeOrigin)+a)/1e3}function aI(a){const r=a.entries[a.entries.length-1];return uv(a,"largest-contentful-paint",r&&r.element?[r.element]:void 0)}function iT(a){return void 0!==a.sources}function lm(a){const r=[],l=[];for(const p of a.entries)if(iT(p)){const T=[];for(const X of p.sources)if(X.node){l.push(X.node);const re=dh.mirror.getId(X.node);re&&T.push(re)}r.push({value:p.value,nodeIds:T})}return uv(a,"cumulative-layout-shift",l,r)}function D1(a){const r=a.entries[a.entries.length-1];return uv(a,"first-input-delay",r&&r.target?[r.target]:void 0)}function sT(a){const r=a.entries[a.entries.length-1];return uv(a,"interaction-to-next-paint",r&&r.target?[r.target]:void 0)}function uv(a,r,l,p){const T=a.value,X=a.rating,re=$p(T);return{type:"web-vital",name:r,start:re,end:re,data:{value:T,size:T,rating:X,nodeIds:l?l.map(Le=>dh.mirror.getId(Le)):void 0,attributions:p}}}class jp extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Es}.`)}}class S1{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(r){var l=this;return(0,Rs.A)(function*(){const p=JSON.stringify(r).length;if(l._totalSize+=p,l._totalSize>Es)throw new jp;l.events.push(r)})()}finish(){return new Promise(r=>{const l=this.events;this.clear(),r(JSON.stringify(l))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const r=this.events.map(l=>l.timestamp).sort()[0];return r?b1(r):null}}class cm{constructor(r){this._worker=r,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((r,l)=>{this._worker.addEventListener("message",({data:p})=>{p.success?r():l()},{once:!0}),this._worker.addEventListener("error",p=>{l(p)},{once:!0})})),this._ensureReadyPromise}destroy(){is&&ms.info("Destroying compression worker"),this._worker.terminate()}postMessage(r,l){const p=this._getAndIncrementId();return new Promise((T,X)=>{const re=({data:Ce})=>{const Le=Ce;if(Le.method===r&&Le.id===p){if(this._worker.removeEventListener("message",re),!Le.success)return is&&ms.error("Error in compression worker: ",Le.response),void X(new Error("Error in compression worker"));T(Le.response)}};this._worker.addEventListener("message",re),this._worker.postMessage({id:p,method:r,arg:l})})}_getAndIncrementId(){return this._id++}}class rT{constructor(r){this._worker=new cm(r),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(r){const l=b1(r.timestamp);(!this._earliestTimestamp||l<this._earliestTimestamp)&&(this._earliestTimestamp=l);const p=JSON.stringify(r);return this._totalSize+=p.length,this._totalSize>Es?Promise.reject(new jp):this._sendEventToWorker(p)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,r=>{is&&ms.exception(r,'Sending "clear" message to worker failed',r)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(r){return this._worker.postMessage("addEvent",r)}_finishRequest(){var r=this;return(0,Rs.A)(function*(){const l=yield r._worker.postMessage("finish");return r._earliestTimestamp=null,r._totalSize=0,l})()}}class aT{constructor(r){this._fallback=new S1,this._compression=new rT(r),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(r){this._used.hasCheckout=r}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(r){return this._used.addEvent(r)}finish(){var r=this;return(0,Rs.A)(function*(){return yield r.ensureWorkerIsLoaded(),r._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var r=this;return(0,Rs.A)(function*(){try{yield r._compression.ensureReady()}catch(l){return void(is&&ms.exception(l,"Failed to load the compression worker, falling back to simple buffer"))}yield r._switchToCompressionWorker()})()}_switchToCompressionWorker(){var r=this;return(0,Rs.A)(function*(){const{events:l,hasCheckout:p}=r._fallback,T=[];for(const X of l)T.push(r._compression.addEvent(X));r._compression.hasCheckout=p,r._used=r._compression;try{yield Promise.all(T)}catch(X){is&&ms.exception(X,"Failed to add events when switching buffers.")}})()}}function E_(){try{return"sessionStorage"in ko&&!!ko.sessionStorage}catch{return!1}}function x1(a){return void 0!==a&&Math.random()<a}function R1(a){const r=Date.now();return{id:a.id||Ps(),started:a.started||r,lastActivity:a.lastActivity||r,segmentId:a.segmentId||0,sampled:a.sampled,previousSessionId:a.previousSessionId}}function A1(a){if(E_())try{ko.sessionStorage.setItem(fu,JSON.stringify(a))}catch{}}function fy({sessionSampleRate:a,allowBuffering:r,stickySession:l=!1},{previousSessionId:p}={}){const T=function dm(a,r){return x1(a)?"session":!!r&&"buffer"}(a,r),X=R1({sampled:T,previousSessionId:p});return l&&A1(X),X}function w1(a,r,l=+new Date){return null===a||void 0===r||r<0||0!==r&&a+r<=l}function my(a,{maxReplayDuration:r,sessionIdleExpire:l,targetTime:p=Date.now()}){return w1(a.started,r,p)||w1(a.lastActivity,l,p)}function gy(a,{sessionIdleExpire:r,maxReplayDuration:l}){return!(!my(a,{sessionIdleExpire:r,maxReplayDuration:l})||"buffer"===a.sampled&&0===a.segmentId)}function k1({sessionIdleExpire:a,maxReplayDuration:r,previousSessionId:l},p){const T=p.stickySession&&function lT(){if(!E_())return null;try{const a=ko.sessionStorage.getItem(fu);if(!a)return null;const r=JSON.parse(a);return is&&ms.infoTick("Loading existing session"),R1(r)}catch{return null}}();return T?gy(T,{sessionIdleExpire:a,maxReplayDuration:r})?(is&&ms.infoTick("Session in sessionStorage is expired, creating new one..."),fy(p,{previousSessionId:T.id})):T:(is&&ms.infoTick("Creating new session"),fy(p,{previousSessionId:l}))}function P1(a,r,l){return!!F1(a,r)&&(vy(a,r,l),!0)}function vy(a,r,l){return L1.apply(this,arguments)}function L1(){return(L1=(0,Rs.A)(function*(a,r,l){if(!a.eventBuffer)return null;try{l&&"buffer"===a.recordingMode&&a.eventBuffer.clear(),l&&(a.eventBuffer.hasCheckout=!0);const T=function by(a,r){try{if("function"==typeof r&&function cT(a){return a.type===Fs.Custom}(a))return r(a)}catch(l){return is&&ms.exception(l,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return a}(r,a.getOptions().beforeAddRecordingEvent);return T?yield a.eventBuffer.addEvent(T):void 0}catch(p){const T=p&&p instanceof jp?"addEventSizeExceeded":"addEvent";a.handleException(p),yield a.stop({reason:T});const X=os();X&&X.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function F1(a,r){if(!a.eventBuffer||a.isPaused()||!a.isEnabled())return!1;const l=b1(r.timestamp);return!(l+a.timeouts.sessionIdlePause<Date.now()||l>a.getContext().initialTimestamp+a.getOptions().maxReplayDuration&&(is&&ms.infoTick(`Skipping event with timestamp ${l} because it is after maxReplayDuration`),1))}function um(a){return!a.type}function pv(a){return"transaction"===a.type}function N1(a){return"feedback"===a.type}function fv(a){return!!a.category}function mv(a,r){return r.map(({type:l,start:p,end:T,name:X,data:re})=>{const Ce=a.throttledAddEvent({type:Fs.Custom,timestamp:p,data:{tag:"performanceSpan",payload:{op:l,description:X,startTimestamp:p,endTimestamp:T,data:re}}});return"string"==typeof Ce?Promise.resolve(null):Ce})}function K1(a,r){a.isEnabled()&&null!==r&&(function G1(a,r){return(!is||!a.getOptions()._experiments.traceInternals)&&function lE(a,r){const l=r&&r.getDsn(),p=r&&r.getOptions().tunnel;return function W0(a,r){return!!r&&a.includes(r.host)}(a,l)||function cE(a,r){return!!r&&dE(a)===dE(r)}(a,p)}(r,os())}(a,r.name)||a.addUpdate(()=>(mv(a,[r]),!0)))}function hm(a){if(!a)return;const r=new TextEncoder;try{if("string"==typeof a)return r.encode(a).length;if(a instanceof URLSearchParams)return r.encode(a.toString()).length;if(a instanceof FormData){const l=fl(a);return r.encode(l).length}if(a instanceof Blob)return a.size;if(a instanceof ArrayBuffer)return a.byteLength}catch{}}function W1(a){if(!a)return;const r=parseInt(a,10);return isNaN(r)?void 0:r}function Ty(a){try{if("string"==typeof a)return[a];if(a instanceof URLSearchParams)return[a.toString()];if(a instanceof FormData)return[fl(a)];if(!a)return[void 0]}catch(r){return is&&ms.exception(r,"Failed to serialize body",a),[void 0,"BODY_PARSE_ERROR"]}return is&&ms.info("Skipping network body because of body type",a),[void 0,"UNPARSEABLE_BODY_TYPE"]}function _m(a,r){if(!a)return{headers:{},size:void 0,_meta:{warnings:[r]}};const l={...a._meta};return l.warnings=[...l.warnings||[],r],a._meta=l,a}function Dy(a,r){if(!r)return null;const{startTimestamp:l,endTimestamp:p,url:T,method:X,statusCode:re,request:Ce,response:Le}=r;return{type:a,start:l/1e3,end:p/1e3,name:T,data:ao({method:X,statusCode:re,request:Ce,response:Le})}}function y_(a){return{headers:{},size:a,_meta:{warnings:["URL_SKIPPED"]}}}function vu(a,r,l){if(!r&&0===Object.keys(a).length)return;if(!r)return{headers:a};if(!l)return{headers:a,size:r};const p={headers:a,size:r},{body:T,warnings:X}=function z1(a){if(!a||"string"!=typeof a)return{body:a};const r=a.length>mE,l=function cI(a){const r=a[0],l=a[a.length-1];return"["===r&&"]"===l||"{"===r&&"}"===l}(a);if(r){const p=a.slice(0,mE);return l?{body:p,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${p}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(l)try{return{body:JSON.parse(a)}}catch{}return{body:a}}(l);return p.body=T,X&&X.length>0&&(p._meta={warnings:X}),p}function gv(a,r){return Object.entries(a).reduce((l,[p,T])=>{const X=p.toLowerCase();return r.includes(X)&&a[p]&&(l[X]=T),l},{})}function fl(a){return new URLSearchParams(a).toString()}function X1(a,r){const l=function Iy(a,r=ko.document.baseURI){if(a.startsWith("http://")||a.startsWith("https://")||a.startsWith(ko.location.origin))return a;const l=new URL(a,r);if(l.origin!==new URL(r).origin)return a;const p=l.href;return!a.endsWith("/")&&p.endsWith("/")?p.slice(0,-1):p}(a);return bi(l,r)}function vv(){return vv=(0,Rs.A)(function*(a,r,l){try{const p=yield function Oy(a,r,l){return bv.apply(this,arguments)}(a,r,l),T=Dy("resource.fetch",p);K1(l.replay,T)}catch(p){is&&ms.exception(p,"Failed to capture fetch breadcrumb")}}),vv.apply(this,arguments)}function bv(){return bv=(0,Rs.A)(function*(a,r,l){const p=Date.now(),{startTimestamp:T=p,endTimestamp:X=p}=r,{url:re,method:Ce,status_code:Le=0,request_body_size:at,response_body_size:Ft}=a.data,Ut=X1(re,l.networkDetailAllowUrls)&&!X1(re,l.networkDetailDenyUrls),fn=Ut?function xy({networkCaptureBodies:a,networkRequestHeaders:r},l,p){const T=l?function vT(a,r){return 1===a.length&&"string"!=typeof a[0]?wy(a[0],r):2===a.length?wy(a[1],r):{}}(l,r):{};if(!a)return vu(T,p,void 0);const X=gT(l),[re,Ce]=Ty(X),Le=vu(T,p,re);return Ce?_m(Le,Ce):Le}(l,r.input,at):y_(at),Cn=yield function Ry(a,r,l,p){return Y1.apply(this,arguments)}(Ut,l,r.response,Ft);return{startTimestamp:T,endTimestamp:X,url:re,method:Ce,statusCode:Le,request:fn,response:Cn}}),bv.apply(this,arguments)}function Y1(){return Y1=(0,Rs.A)(function*(a,{networkCaptureBodies:r,networkResponseHeaders:l},p,T){if(!a&&void 0!==T)return y_(T);const X=p?Q1(p.headers,l):{};if(!p||!r&&void 0!==T)return vu(X,T,void 0);const[re,Ce]=yield function uI(a){return Ay.apply(this,arguments)}(p),Le=function dI(a,{networkCaptureBodies:r,responseBodySize:l,captureDetails:p,headers:T}){try{const X=a&&a.length&&void 0===l?hm(a):l;return p?vu(T,X,r?a:void 0):y_(X)}catch(X){return is&&ms.exception(X,"Failed to serialize response body"),vu(T,l,void 0)}}(re,{networkCaptureBodies:r,responseBodySize:T,captureDetails:a,headers:X});return Ce?_m(Le,Ce):Le}),Y1.apply(this,arguments)}function Ay(){return(Ay=(0,Rs.A)(function*(a){const r=function hI(a){try{return a.clone()}catch(r){is&&ms.exception(r,"Failed to clone response body")}}(a);if(!r)return[void 0,"BODY_PARSE_ERROR"];try{return[yield ky(r)]}catch(l){return is&&ms.exception(l,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function gT(a=[]){if(2===a.length&&"object"==typeof a[1])return a[1].body}function Q1(a,r){const l={};return r.forEach(p=>{a.get(p)&&(l[p]=a.get(p))}),l}function wy(a,r){if(!a)return{};const l=a.headers;return l?l instanceof Headers?Q1(l,r):Array.isArray(l)?{}:gv(l,r):{}}function ky(a){return new Promise((r,l)=>{const p=Yu(()=>l(new Error("Timeout while trying to read response body")),500);(function Py(a){return Ly.apply(this,arguments)})(a).then(T=>r(T),T=>l(T)).finally(()=>clearTimeout(p))})}function Ly(){return(Ly=(0,Rs.A)(function*(a){return yield a.text()})).apply(this,arguments)}function Fy(){return(Fy=(0,Rs.A)(function*(a,r,l){try{const p=function fI(a,r,l){const p=Date.now(),{startTimestamp:T=p,endTimestamp:X=p,input:re,xhr:Ce}=r,{url:Le,method:at,status_code:Ft=0,request_body_size:Ut,response_body_size:fn}=a.data;if(!Le)return null;if(!Ce||!X1(Le,l.networkDetailAllowUrls)||X1(Le,l.networkDetailDenyUrls))return{startTimestamp:T,endTimestamp:X,url:Le,method:at,statusCode:Ft,request:y_(Ut),response:y_(fn)};const Cn=Ce[ul],En=Cn?gv(Cn.request_headers,l.networkRequestHeaders):{},Nn=gv(function mI(a){const r=a.getAllResponseHeaders();return r?r.split("\r\n").reduce((l,p)=>{const[T,X]=p.split(": ");return X&&(l[T.toLowerCase()]=X),l},{}):{}}(Ce),l.networkResponseHeaders),[ui,hi]=l.networkCaptureBodies?Ty(re):[void 0],[Ai,Qi]=l.networkCaptureBodies?function gI(a){const r=[];try{return[a.responseText]}catch(l){r.push(l)}try{return function vI(a,r){try{if("string"==typeof a)return[a];if(a instanceof Document)return[a.body.outerHTML];if("json"===r&&a&&"object"==typeof a)return[JSON.stringify(a)];if(!a)return[void 0]}catch(l){return is&&ms.exception(l,"Failed to serialize body",a),[void 0,"BODY_PARSE_ERROR"]}return is&&ms.info("Skipping network body because of body type",a),[void 0,"UNPARSEABLE_BODY_TYPE"]}(a.response,a.responseType)}catch(l){r.push(l)}return is&&ms.warn("Failed to get xhr response body",...r),[void 0]}(Ce):[void 0],Li=vu(En,Ut,ui),cs=vu(Nn,fn,Ai);return{startTimestamp:T,endTimestamp:X,url:Le,method:at,statusCode:Ft,request:hi?_m(Li,hi):Li,response:Qi?_m(cs,Qi):cs}}(a,r,l),T=Dy("resource.xhr",p);K1(l.replay,T)}catch(p){is&&ms.exception(p,"Failed to capture xhr breadcrumb")}})).apply(this,arguments)}function bT(a){const r=os();try{const{networkDetailAllowUrls:l,networkDetailDenyUrls:p,networkCaptureBodies:T,networkRequestHeaders:X,networkResponseHeaders:re}=a.getOptions(),Ce={replay:a,networkDetailAllowUrls:l,networkDetailDenyUrls:p,networkCaptureBodies:T,networkRequestHeaders:X,networkResponseHeaders:re};r&&r.on("beforeAddBreadcrumb",(Le,at)=>function Up(a,r,l){if(r.data)try{(function pm(a){return"xhr"===a.category})(r)&&function EI(a){return a&&a.xhr}(l)&&(function pI(a,r){const{xhr:l,input:p}=r;if(!l)return;const T=hm(p),X=l.getResponseHeader("content-length")?W1(l.getResponseHeader("content-length")):function bI(a,r){try{return hm("json"===r&&a&&"object"==typeof a?JSON.stringify(a):a)}catch{return}}(l.response,l.responseType);void 0!==T&&(a.data.request_body_size=T),void 0!==X&&(a.data.response_body_size=X)}(r,l),function _I(a,r,l){Fy.apply(this,arguments)}(r,l,a)),function ET(a){return"fetch"===a.category}(r)&&function Ny(a){return a&&a.response}(l)&&(function H1(a,r){const{input:l,response:p}=r,X=hm(l?gT(l):void 0),re=p?W1(p.headers.get("content-length")):void 0;void 0!==X&&(a.data.request_body_size=X),void 0!==re&&(a.data.response_body_size=re)}(r,l),function Sy(a,r,l){vv.apply(this,arguments)}(r,l,a))}catch(p){is&&ms.exception(p,"Error when enriching network breadcrumb")}}(Ce,Le,at))}catch{}}function yT(a){const r=os();Y_((a=>r=>{if(!a.isEnabled())return;const l=function qM(a){const{target:r,message:l}=function dy(a){const r="click"===a.name;let l,p=null;try{p=r?oy(a.event):lv(a.event),l=Xi(p,{maxStringLength:200})||"<unknown>"}catch{l="<unknown>"}return{target:p,message:l}}(a);return Fd({category:`ui.${a.name}`,...cy(r,l)})}(r);if(!l)return;const p="click"===r.name,T=p?r.event:void 0;p&&a.clickDetector&&T&&T.target&&!T.altKey&&!T.metaKey&&!T.ctrlKey&&!T.shiftKey&&function y1(a,r,l){a.handleClick(r,l)}(a.clickDetector,l,oy(r.event)),om(a,l)})(a)),Vu(function V1(a){return r=>{if(!a.isEnabled())return;const l=function My(a){const{from:r,to:l}=a,p=Date.now()/1e3;return{type:"navigation.push",start:p,end:p,name:l,data:{previous:r}}}(r);null!==l&&(a.getContext().urls.push(l.name),a.triggerUserActivity(),a.addUpdate(()=>(mv(a,[l]),!1)))}}(a)),function _T(a){const r=os();r&&r.on("beforeAddBreadcrumb",l=>function $1(a,r){if(!a.isEnabled()||!fv(r))return;const l=function j1(a){return!fv(a)||["fetch","xhr","sentry.event","sentry.transaction"].includes(a.category)||a.category.startsWith("ui.")?null:"console"===a.category?function Cy(a){const r=a.data&&a.data.arguments;if(!Array.isArray(r)||0===r.length)return Fd(a);let l=!1;const p=r.map(T=>{if(!T)return T;if("string"==typeof T)return T.length>Kg?(l=!0,`${T.slice(0,Kg)}\u2026`):T;if("object"==typeof T)try{const X=ol(T,7);return JSON.stringify(X).length>Kg?(l=!0,`${JSON.stringify(X,null,2).slice(0,Kg)}\u2026`):X}catch{}return T});return Fd({...a,data:{...a.data,arguments:p,...l?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(a):Fd(a)}(r);l&&om(a,l)}(a,l))}(a),bT(a),function Pm(a){Ci().addEventProcessor(a)}(function mT(a){return Object.assign((r,l)=>a.isEnabled()?function dT(a){return"replay_event"===a.type}(r)?(delete r.breadcrumbs,r):(um(r)||pv(r)||N1(r))&&a.checkAndHandleExpiredSession()?N1(r)?(a.flush(),r.contexts.feedback.replay_id=a.getSessionId(),function pT(a,r){a.triggerUserActivity(),a.addUpdate(()=>!r.timestamp||(a.throttledAddEvent({type:Fs.Custom,timestamp:1e3*r.timestamp,data:{tag:"breadcrumb",payload:{timestamp:r.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:r.event_id}}}}),!1))}(a,r),r):function U1(a,r){return!(a.type||!a.exception||!a.exception.values||!a.exception.values.length||!r.originalException||!r.originalException.__rrweb__)}(r,l)&&!a.getOptions()._experiments.captureExceptions?(is&&ms.log("Ignoring error from rrweb internals",r),null):((function fT(a,r){return!("buffer"!==a.recordingMode||r.message===Jf||!r.exception||r.type)&&x1(a.getOptions().errorSampleRate)}(a,r)||"session"===a.recordingMode)&&(r.tags={...r.tags,replayId:a.getSessionId()}),r):r:r,{id:"Replay"})}(a)),r&&(r.on("beforeSendEvent",function uT(a){return r=>{!a.isEnabled()||!um(r)||function hT(a,r){const l=r.exception&&r.exception.values&&r.exception.values[0]&&r.exception.values[0].value;"string"==typeof l&&(l.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||l.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&om(a,Fd({category:"replay.hydrate-error",data:{url:Jn()}}))}(a,r)}}(a)),r.on("afterSendEvent",function B1(a){return(r,l)=>{if(!a.isEnabled()||!um(r)&&!pv(r))return;const p=l&&l.statusCode;if(!(!p||p<200||p>=300)){if(pv(r))return void function Ey(a,r){const l=a.getContext();r.contexts&&r.contexts.trace&&r.contexts.trace.trace_id&&l.traceIds.size<100&&l.traceIds.add(r.contexts.trace.trace_id)}(a,r);!function yy(a,r){const l=a.getContext();if(r.event_id&&l.errorIds.size<100&&l.errorIds.add(r.event_id),"buffer"!==a.recordingMode||!r.tags||!r.tags.replayId)return;const{beforeErrorSampling:p}=a.getOptions();"function"==typeof p&&!p(r)||Yu(()=>{a.sendBufferedReplayOrFlush()})}(a,r)}}}(a)),r.on("createDsc",p=>{const T=a.getSessionId();T&&a.isEnabled()&&"session"===a.recordingMode&&a.checkAndHandleExpiredSession()&&(p.replay_id=T)}),r.on("spanStart",p=>{a.lastActiveSpan=p}),r.on("spanEnd",p=>{a.lastActiveSpan=p}),r.on("beforeSendFeedback",(p,T)=>{const X=a.getSessionId();T&&T.includeReplay&&a.isEnabled()&&X&&p.contexts&&p.contexts.feedback&&(p.contexts.feedback.replay_id=X)}))}function J1(){return(J1=(0,Rs.A)(function*(a){try{return Promise.all(mv(a,[CT(ko.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function CT(a){const{jsHeapSizeLimit:r,totalJSHeapSize:l,usedJSHeapSize:p}=a,T=Date.now()/1e3;return{type:"memory",name:"memory",start:T,end:T,data:{memory:{jsHeapSizeLimit:r,totalJSHeapSize:l,usedJSHeapSize:p}}}}function Ev(a){let r=!1;return(l,p)=>{if(!a.checkAndHandleExpiredSession())return void(is&&ms.warn("Received replay event after session expired."));const T=p||!r;r=!0,a.clickDetector&&function YM(a,r){try{if(!function QM(a){return a.type===iy}(r))return;const{source:l}=r.data;if(rm.has(l)&&a.registerMutation(r.timestamp),l===Os.Scroll&&a.registerScroll(r.timestamp),function JM(a){return a.data.source===Os.MouseInteraction}(r)){const{type:p,id:T}=r.data,X=dh.mirror.getNode(T);X instanceof HTMLElement&&p===tc.Click&&a.registerClick(X)}}catch{}}(a.clickDetector,l),a.addUpdate(()=>{if("buffer"===a.recordingMode&&T&&a.setInitialState(),!P1(a,l,T))return!0;if(!T)return!1;if(function TT(a,r){!r||!a.session||0!==a.session.segmentId||P1(a,function By(a){const r=a.getOptions();return{type:Fs.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:a.isRecordingCanvas(),sessionSampleRate:r.sessionSampleRate,errorSampleRate:r.errorSampleRate,useCompressionOption:r.useCompression,blockAllMedia:r.blockAllMedia,maskAllText:r.maskAllText,maskAllInputs:r.maskAllInputs,useCompression:!!a.eventBuffer&&"worker"===a.eventBuffer.type,networkDetailHasUrls:r.networkDetailAllowUrls.length>0,networkCaptureBodies:r.networkCaptureBodies,networkRequestHasHeaders:r.networkRequestHeaders.length>0,networkResponseHasHeaders:r.networkResponseHeaders.length>0}}}}(a),!1)}(a,T),a.session&&a.session.previousSessionId)return!0;if("buffer"===a.recordingMode&&a.session&&a.eventBuffer){const X=a.eventBuffer.getEarliestTimestamp();X&&(is&&ms.info(`Updating session start time to earliest event in buffer to ${new Date(X)}`),a.session.started=X,a.getOptions().stickySession&&A1(a.session))}return"session"===a.recordingMode&&a.flush(),!0})}}function Uy(){return(Uy=(0,Rs.A)(function*({client:a,scope:r,replayId:l,event:p}){const X={event_id:l,integrations:"object"!=typeof a._integrations||null===a._integrations||Array.isArray(a._integrations)?void 0:Object.keys(a._integrations)};a.emit("preprocessEvent",p,X);const re=yield ku(a.getOptions(),p,X,r,a,Ci());if(!re)return null;re.platform=re.platform||"javascript";const Ce=a.getSdkMetadata(),{name:Le,version:at}=Ce&&Ce.sdk||{};return re.sdk={...re.sdk,name:Le||"sentry.javascript.unknown",version:at||"0.0.0"},re})).apply(this,arguments)}function yv(){return yv=(0,Rs.A)(function*({recordingData:a,replayId:r,segmentId:l,eventContext:p,timestamp:T,session:X}){const re=function CI({recordingData:a,headers:r}){let l;const p=`${JSON.stringify(r)}\n`;if("string"==typeof a)l=`${p}${a}`;else{const X=(new TextEncoder).encode(p);l=new Uint8Array(X.length+a.length),l.set(X),l.set(a,X.length)}return l}({recordingData:a,headers:{segment_id:l}}),{urls:Ce,errorIds:Le,traceIds:at,initialTimestamp:Ft}=p,Ut=os(),fn=Kn(),Cn=Ut&&Ut.getTransport(),En=Ut&&Ut.getDsn();if(!(Ut&&Cn&&En&&X.sampled))return xa({});const Nn={type:_E,replay_start_timestamp:Ft/1e3,timestamp:T/1e3,error_ids:Le,trace_ids:at,urls:Ce,replay_id:r,segment_id:l,replay_type:X.sampled},ui=yield function jy(a){return Uy.apply(this,arguments)}({scope:fn,client:Ut,replayId:r,event:Nn});if(!ui)return Ut.recordDroppedEvent("event_processor","replay",Nn),is&&ms.info("An event processor returned `null`, will not send event."),xa({});delete ui.sdkProcessingMetadata;const hi=function $y(a,r,l,p){return Xa(Kh(a,nu(a),p,l),[[{type:"replay_event"},a],[{type:"replay_recording",length:"string"==typeof r?(new TextEncoder).encode(r).length:r.length},r]])}(ui,re,En,Ut.getOptions().tunnel);let Ai;try{Ai=yield Cn.send(hi)}catch(Li){const cs=new Error(Jf);try{cs.cause=Li}catch{}throw cs}if("number"==typeof Ai.statusCode&&(Ai.statusCode<200||Ai.statusCode>=300))throw new Cv(Ai.statusCode);const Qi=Af({},Ai);if(rp(Qi,"replay"))throw new Vy(Qi);return Ai}),yv.apply(this,arguments)}class Cv extends Error{constructor(r){super(`Transport returned status code ${r}`)}}class Vy extends Error{constructor(r){super("Rate limit hit"),this.rateLimits=r}}function Gy(a){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Rs.A)(function*(a,r={count:0,interval:fE}){const{recordingData:l,options:p}=a;if(l.length)try{return yield function DT(a){return yv.apply(this,arguments)}(a),!0}catch(T){if(T instanceof Cv||T instanceof Vy)throw T;if(Ac("Replays",{_retryCount:r.count}),is&&p._experiments&&p._experiments.captureExceptions&&Lu(T),r.count>=bM){const X=new Error(`${Jf} - max retries exceeded`);try{X.cause=T}catch{}throw X}return r.interval*=++r.count,new Promise((X,re)=>{Yu((0,Rs.A)(function*(){try{yield Gy(a,r),X(!0)}catch(Ce){re(Ce)}}),r.interval)})}}),Vp.apply(this,arguments)}const Ky="__THROTTLED";class ph{constructor({options:r,recordingOptions:l}){ph.prototype.__init.call(this),ph.prototype.__init2.call(this),ph.prototype.__init3.call(this),ph.prototype.__init4.call(this),ph.prototype.__init5.call(this),ph.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=l,this._options=r,this._debouncedFlush=function MT(a,r,l){let p,T,X;const re=l&&l.maxWait?Math.max(l.maxWait,r):0;function Ce(){return Le(),p=a(),p}function Le(){void 0!==T&&clearTimeout(T),void 0!==X&&clearTimeout(X),T=X=void 0}function Ft(){return T&&clearTimeout(T),T=Yu(Ce,r),re&&void 0===X&&(X=Yu(Ce,re)),p}return Ft.cancel=Le,Ft.flush=function at(){return void 0!==T||void 0!==X?Ce():p},Ft}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function ST(a,r,l){const p=new Map;let re=!1;return(...Ce)=>{const Le=Math.floor(Date.now()/1e3);if((Ce=>{const Le=Ce-l;p.forEach((at,Ft)=>{Ft<Le&&p.delete(Ft)})})(Le),[...p.values()].reduce((Ce,Le)=>Ce+Le,0)>=r){const Ft=re;return re=!0,Ft?"__SKIPPED":Ky}re=!1;const at=p.get(Le)||0;return p.set(Le,at+1),a(...Ce)}}((re,Ce)=>function _v(a,r,l){return F1(a,r)?vy(a,r,l):Promise.resolve(null)}(this,re,Ce),300,5);const{slowClickTimeout:p,slowClickIgnoreSelectors:T}=this.getOptions(),X=p?{threshold:Math.min(3e3,p),timeout:p,scrollTimeout:300,ignoreSelector:T?T.join(","):""}:void 0;if(X&&(this.clickDetector=new C1(this,X)),is){const re=r._experiments;ms.setConfig({captureExceptions:!!re.captureExceptions,traceInternals:!!re.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(r){is&&ms.exception(r)}initializeSampling(r){const{errorSampleRate:l,sessionSampleRate:p}=this._options,T=l<=0&&p<=0;if(this._requiresManualStart=T,!T){if(this._initializeSessionForSampling(r),!this.session)return void(is&&ms.exception(new Error("Unable to initialize and create session")));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",is&&ms.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(is&&ms.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(is&&ms.info("Buffering is in progress, call `flush()` to save the replay"));is&&ms.infoTick("Starting replay in session mode"),this._updateUserActivity();const r=k1({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=r,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(is&&ms.info("Buffering is in progress, call `flush()` to save the replay"));is&&ms.infoTick("Starting replay in buffer mode");const r=k1({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=r,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const r=this._canvas;this._stopRecording=dh({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Ev(this),onMutation:this._onMutationHandler,...r?{recordCanvas:r.recordCanvas,getCanvasManager:r.getCanvasManager,sampling:r.sampling,dataURLOptions:r.dataURLOptions}:{}})}catch(r){this.handleException(r)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(r){return this.handleException(r),!1}}stop({forceFlush:r=!1,reason:l}={}){var p=this;return(0,Rs.A)(function*(){if(p._isEnabled){p._isEnabled=!1;try{is&&ms.info("Stopping Replay"+(l?` triggered by ${l}`:"")),p._removeListeners(),p.stopRecording(),p._debouncedFlush.cancel(),r&&(yield p._flush({force:!0})),p.eventBuffer&&p.eventBuffer.destroy(),p.eventBuffer=null,function lI(a){(function hv(){if(E_())try{ko.sessionStorage.removeItem(fu)}catch{}})(),a.session=void 0}(p)}catch(T){p.handleException(T)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),is&&ms.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),is&&ms.info("Resuming replay"))}sendBufferedReplayOrFlush({continueRecording:r=!0}={}){var l=this;return(0,Rs.A)(function*(){if("session"===l.recordingMode)return l.flushImmediate();const p=Date.now();is&&ms.info("Converting buffer to session"),yield l.flushImmediate();const T=l.stopRecording();!r||!T||"session"!==l.recordingMode&&(l.recordingMode="session",l.session&&(l._updateUserActivity(p),l._updateSessionActivity(p),l._maybeSaveSession()),l.startRecording())})()}addUpdate(r){const l=r();"buffer"!==this.recordingMode&&!0!==l&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&w1(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const l=`${ko.location.origin}${ko.location.pathname}${ko.location.hash}${ko.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=l,this._context.initialTimestamp=Date.now(),this._context.urls.push(l)}throttledAddEvent(r,l){const p=this._throttledAddEvent(r,l);if(p===Ky){const T=Fd({category:"replay.throttled"});this.addUpdate(()=>!P1(this,{type:5,timestamp:T.timestamp||0,data:{tag:"breadcrumb",payload:T,metric:!0}}))}return p}getCurrentRoute(){const r=this.lastActiveSpan||Ho(),l=r&&ur(r),T=(l&&ki(l).data||{})[oa];if(l&&T&&["route","custom"].includes(T))return ki(l).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function O1({useCompression:a,workerUrl:r}){if(a&&window.Worker){const l=function py(a){try{const r=a||function _h(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function hh(){const a=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(a)}():""}();if(!r)return;is&&ms.info("Using compression worker"+(a?` from ${a}`:""));const l=new Worker(r);return new aT(l)}catch(r){is&&ms.exception(r,"Failed to create compression worker")}}(r);if(l)return l}return is&&ms.info("Using simple buffer"),new S1}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(r){const p=k1({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:r},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=p}_checkSession(){if(!this.session)return!1;const r=this.session;return!gy(r,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(r),!1)}_refreshSession(r){var l=this;return(0,Rs.A)(function*(){l._isEnabled&&(yield l.stop({reason:"refresh session"}),l.initializeSampling(r.id))})()}_addListeners(){try{ko.document.addEventListener("visibilitychange",this._handleVisibilityChange),ko.addEventListener("blur",this._handleWindowBlur),ko.addEventListener("focus",this._handleWindowFocus),ko.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(yT(this),this._hasInitializedCoreListeners=!0)}catch(r){this.handleException(r)}this._performanceCleanupCallback=function oT(a){function r(T){a.performanceEntries.includes(T)||a.performanceEntries.push(T)}function l({entries:T}){T.forEach(r)}const p=[];return["navigation","paint","resource"].forEach(T=>{p.push(qi(T,l))}),p.push(ns(M1(aI,a)),Ti(M1(lm,a)),ds(M1(D1,a)),co(M1(sT,a))),()=>{p.forEach(T=>T())}}(this)}_removeListeners(){try{ko.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ko.removeEventListener("blur",this._handleWindowBlur),ko.removeEventListener("focus",this._handleWindowFocus),ko.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(r){this.handleException(r)}}__init(){this._handleVisibilityChange=()=>{"visible"===ko.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const r=Fd({category:"ui.blur"});this._doChangeToBackgroundTasks(r)}}__init3(){this._handleWindowFocus=()=>{const r=Fd({category:"ui.focus"});this._doChangeToForegroundTasks(r)}}__init4(){this._handleKeyboardEvent=r=>{!function tT(a,r){if(!a.isEnabled())return;a.updateUserActivity();const l=function b_(a){const{metaKey:r,shiftKey:l,ctrlKey:p,altKey:T,key:X,target:re}=a;if(!re||function Bp(a){return"INPUT"===a.tagName||"TEXTAREA"===a.tagName||a.isContentEditable}(re)||!X)return null;if(!(r||p||T)&&1===X.length)return null;const at=Xi(re,{maxStringLength:200})||"<unknown>";return Fd({category:"ui.keyDown",message:at,data:{...cy(re,at).data,metaKey:r,shiftKey:l,ctrlKey:p,altKey:T,key:X}})}(r);l&&om(a,l)}(this,r)}}_doChangeToBackgroundTasks(r){!this.session||my(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(r&&this._createCustomBreadcrumb(r),this.conditionalFlush())}_doChangeToForegroundTasks(r){this.session&&(this.checkAndHandleExpiredSession()?r&&this._createCustomBreadcrumb(r):is&&ms.info("Document has become active, but session has expired"))}_updateUserActivity(r=Date.now()){this._lastActivity=r}_updateSessionActivity(r=Date.now()){this.session&&(this.session.lastActivity=r,this._maybeSaveSession())}_createCustomBreadcrumb(r){this.addUpdate(()=>{this.throttledAddEvent({type:Fs.Custom,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r}})})}_addPerformanceEntries(){const r=function uy(a){return a.map(T1).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(mv(this,r))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:r,eventBuffer:l}=this;if(!r||!l||this._requiresManualStart||r.segmentId)return;const p=l.getEarliestTimestamp();p&&p<this._context.initialTimestamp&&(this._context.initialTimestamp=p)}_popEventContext(){const r={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),r}_runFlush(){var r=this;return(0,Rs.A)(function*(){const l=r.getSessionId();if(r.session&&r.eventBuffer&&l){if(yield r._addPerformanceEntries(),r.eventBuffer&&r.eventBuffer.hasEvents&&(yield function yI(a){return J1.apply(this,arguments)}(r),r.eventBuffer&&l===r.getSessionId()))try{r._updateInitialTimestampFromEventBuffer();const p=Date.now();if(p-r._context.initialTimestamp>r._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const T=r._popEventContext(),X=r.session.segmentId++;r._maybeSaveSession();const re=yield r.eventBuffer.finish();yield Gy({replayId:l,recordingData:re,segmentId:X,eventContext:T,session:r.session,options:r.getOptions(),timestamp:p})}catch(p){r.handleException(p),r.stop({reason:"sendReplay"});const T=os();T&&T.recordDroppedEvent("send_error","replay")}}else is&&ms.error("No session or eventBuffer found to flush.")})()}__init5(){var r=this;this._flush=(0,Rs.A)(function*({force:l=!1}={}){if(!r._isEnabled&&!l)return;if(!r.checkAndHandleExpiredSession())return void(is&&ms.error("Attempting to finish replay event after session expired."));if(!r.session)return;const p=r.session.started,X=Date.now()-p;r._debouncedFlush.cancel();const re=X<r._options.minReplayDuration;if(re||X>r._options.maxReplayDuration+5e3)return is&&ms.info(`Session duration (${Math.floor(X/1e3)}s) is too ${re?"short":"long"}, not sending replay.`),void(re&&r._debouncedFlush());const Le=r.eventBuffer;if(Le&&0===r.session.segmentId&&!Le.hasCheckout&&is&&ms.info("Flushing initial segment without checkout."),!r._flushLock)return r._flushLock=r._runFlush(),yield r._flushLock,void(r._flushLock=void 0);try{yield r._flushLock}catch(at){is&&ms.error(at)}finally{r._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&A1(this.session)}__init6(){this._onMutationHandler=r=>{const l=r.length,p=this._options.mutationLimit,X=p&&l>p;if(l>this._options.mutationBreadcrumbLimit||X){const re=Fd({category:"replay.mutations",data:{count:l,limit:X}});this._createCustomBreadcrumb(re)}return!X||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function fm(a,r){return[...a,...r].join(",")}const Z1='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',zy=["content-length","content-type","accept"];let Xy=!1;const MI=a=>new mm(a);class mm{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:r=5e3,flushMaxDelay:l=5500,minReplayDuration:p=4999,maxReplayDuration:T=36e5,stickySession:X=!0,useCompression:re=!0,workerUrl:Ce,_experiments:Le={},maskAllText:at=!0,maskAllInputs:Ft=!0,blockAllMedia:Ut=!0,mutationBreadcrumbLimit:fn=750,mutationLimit:Cn=1e4,slowClickTimeout:En=7e3,slowClickIgnoreSelectors:Nn=[],networkDetailAllowUrls:ui=[],networkDetailDenyUrls:hi=[],networkCaptureBodies:Ai=!0,networkRequestHeaders:Qi=[],networkResponseHeaders:Li=[],mask:cs=[],maskAttributes:mi=["title","placeholder"],unmask:qn=[],block:wi=[],unblock:Ns=[],ignore:Di=[],maskFn:ts,beforeAddRecordingEvent:hs,beforeErrorSampling:To}={}){this.name=mm.id;const Oo=function OT({mask:a,unmask:r,block:l,unblock:p,ignore:T}){return{maskTextSelector:fm(a,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:fm(r,[]),blockSelector:fm(l,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:fm(p,[]),ignoreSelector:fm(T,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:cs,unmask:qn,block:wi,unblock:Ns,ignore:Di});if(this._recordingOptions={maskAllInputs:Ft,maskAllText:at,maskInputOptions:{password:!0},maskTextFn:ts,maskInputFn:ts,maskAttributeFn:(Zr,si,xi)=>function Wy({el:a,key:r,maskAttributes:l,maskAllText:p,privacyOptions:T,value:X}){return!p||T.unmaskTextSelector&&a.matches(T.unmaskTextSelector)?X:l.includes(r)||"value"===r&&"INPUT"===a.tagName&&["submit","button"].includes(a.getAttribute("type")||"")?X.replace(/[\S]/g,"*"):X}({maskAttributes:mi,maskAllText:at,privacyOptions:Oo,key:Zr,value:si,el:xi}),...Oo,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Zr=>{try{Zr.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:r,flushMaxDelay:l,minReplayDuration:Math.min(p,15e3),maxReplayDuration:Math.min(T,36e5),stickySession:X,useCompression:re,workerUrl:Ce,blockAllMedia:Ut,maskAllInputs:Ft,maskAllText:at,mutationBreadcrumbLimit:fn,mutationLimit:Cn,slowClickTimeout:En,slowClickIgnoreSelectors:Nn,networkDetailAllowUrls:ui,networkDetailDenyUrls:hi,networkCaptureBodies:Ai,networkRequestHeaders:fh(Qi),networkResponseHeaders:fh(Li),beforeAddRecordingEvent:hs,beforeErrorSampling:To,_experiments:Le},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Z1}`:Z1),this._isInitialized&&Vg())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Xy}set _isInitialized(r){Xy=r}afterAllSetup(r){!Vg()||this._replay||(this._setup(r),this._initialize(r))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(r){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(r):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(r){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(r),this._replay.initializeSampling())}_setup(r){const l=function Hy(a,r){const l=r.getOptions(),p={sessionSampleRate:0,errorSampleRate:0,...ao(a)},T=aa(l.replaysSessionSampleRate),X=aa(l.replaysOnErrorSampleRate);return null==T&&null==X&&Mo(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=T&&(p.sessionSampleRate=T),null!=X&&(p.errorSampleRate=X),p}(this._initialOptions,r);this._replay=new ph({options:l,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(r){try{const l=r.getIntegrationByName("ReplayCanvas");if(!l)return;this._replay._canvas=l.getOptions()}catch{}}}function fh(a){return[...zy,...a.map(r=>r.toLowerCase())]}mm.__initStatic();const RT={};var Mv=s(285),q1=s(6511),eb=s(3801),AT=s(4921),Yy=s(785),tb=s(8482),wT=s(7080);function TI(a,r){1&a&&n.nrm(0,"global-chat")}function Tv(a,r){1&a&&n.nrm(0,"debug-console")}const Qy=location.search;window.global=window;let nb=(()=>{class a extends mt.Tv{get debug(){return window.debug&&!0===this._settings.get("app.allow_debugging")}get has_chat(){return this._settings.get("app.chat.enabled")}constructor(l,p,T,X,re,Ce,Le,at,Ft,Ut,fn){super(),this._analytics=l,this._settings=p,this._org=T,this._cache=X,this._snackbar=re,this._hotkey=Ce,this._clipboard=Le,this._route=at,this._router=Ft,this._maps=Ut,this._translate=fn}ngOnInit(){var l=this;return(0,Rs.A)(function*(){(0,mt.Rm)("APP","MOCKS:",RT),l._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),l._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{l._settings.saveUserSetting("dark_mode",!l._settings.get("dark_mode")),(0,mt.VX)("Toggled dark mode.")}),l._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{l._clipboard.copy(`${(0,gr.ShT)()}|${(0,gr.Be_)()}`),(0,mt.VX)("Successfully copied token.")}),l._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(T=>l._pasteToken(T))}),window.pasteToken=T=>l._pasteToken(T),l._route.queryParamMap.subscribe(T=>{if(T.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),T.has("lang")){const X=T.get("lang");l._translate?.use(X),localStorage.setItem("PLACEOS.locale",X)}T.has("x-api-key")&&(0,gr.BCG)(T.get("x-api-key"))}),(0,mt.To)(l._snackbar),yield l._settings.initialised.pipe((0,Bl.$)(T=>T)).toPromise(),(0,mt.Xf)(l._settings.get("app.short_name"));const p=l._settings.get("composer")||{};if(p.mock=!!l._settings.get("mock")||location.origin.includes("demo.place.tech"),Qy){const T=(0,gr.omv)(Qy.substring(1));l._router.navigate([],{relativeTo:l._route,queryParams:T})}yield(0,mt.jJ)(p).catch(T=>console.error(T)),yield l._org.initialised.pipe((0,Bl.$)(T=>T)).toPromise(),(0,mt.WQ)(l._cache),p.local_login||l.timeout("wait_for_user",()=>l.onInitError(),3e4),yield mt.U5.pipe((0,Bl.$)(T=>!!T)).toPromise(),l.clearTimeout("wait_for_user"),l._initLocale(),(0,Rt.Z4)(l._settings.get("app.general.internal_user_domain")||`@${(0,mt.Ny)()?.email?.split("@")[1]}`),l._initAnalytics(),function kT(a,r=.1){a&&function j0(a){const r={defaultIntegrations:[w_(),Oi(),ep(),Xu(),Zh(),Us(),cg()],...a};return U_(r,"angular"),function U0(){const r=n.xvI&&n.xvI.major?parseInt(n.xvI.major,10):void 0;r&&(r<14&&hM&&ni.warn(`This Sentry SDK does not officially support Angular ${r}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),Ac("angular",{version:r}))}(),Ad(r)}({dsn:a,integrations:[sE(),MI({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/[a-zA-Z0-9_\-]*\.[a-zA-Z0-9]*\/api/,/^https:\/\/[a-zA-Z0-9_\-]*\.placeos\.run*\/api/],replaysSessionSampleRate:r,replaysOnErrorSampleRate:1})}(l._settings.get("app.sentry_dsn"));try{const T=(0,gr.ShT)();(0,mt.HQ)()&&(0,q1.sM)("x-api-key"===T?{"x-api-key":(0,gr.Kz4)()}:{Authorization:`Bearer ${T}`}),l._settings.get("app.has_uploads")&&l.timeout("init_uploads",()=>{(0,Mv.yd)({auto_start:!0,token:(0,gr.ShT)(),endpoint:"/api/engine/v2/uploads",worker_url:"assets/md5_worker.js",providers:[Mv.LJ,Mv.Y9,Mv.yF,Mv.xB]})}),(0,gr.vWy)()&&(l.interval("auto-update-version",()=>l._checkReload(),15e3),yield(0,mt.Hh)())}catch{}})()}onInitError(){(0,gr.TMs)()||(0,mt.Ny)()?.is_logged_in||((0,gr.XTx)(),location.reload())}_initAnalytics(){const l=this._settings.get("app.analytics.tracking_id");l&&(this._analytics.init(l),this._analytics.load(l),this._analytics.setUser((0,mt.Ny)().id))}_initLocale(){try{let l=localStorage.getItem("PLACEOS.locale");const p=this._settings.get("app.locales")||[];if(this._translate?.addLangs(p.map(T=>T.id)),l)this._translate?.use(l);else{const T=navigator.languages;for(const X of T)if(l=p.find(re=>re.id===X),l||(l=p.find(re=>X.includes(re.id))),l){this._translate?.use(X),localStorage.setItem("PLACEOS.locale",X);break}}}catch{}}_pasteToken(l){const p=l.split("|"),T=(0,gr.L2z)();localStorage.setItem(`${T}_access_token`,`${p[0]}`),localStorage.setItem(`${T}_refresh_token`,`${p[1]}`),localStorage.setItem(`${T}_expires_at`,`${(0,H.L)(new Date,6).valueOf()}`),(0,mt.VX)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)}_checkReload(){(0,mt.tU)()&&(location.reload(),this.timeout("reload",()=>location.href=`${location.origin}${location.pathname}`))}static#e=this.\u0275fac=function(p){return new(p||a)(n.rXU(mt.p),n.rXU(mt.h$),n.rXU(Nt.y),n.rXU(pa),n.rXU(tl.UG),n.rXU(mt.dr),n.rXU(eb.B0),n.rXU(_s.nX),n.rXU(_s.Ix),n.rXU(_t._),n.rXU(rc.c$,8))};static#t=this.\u0275cmp=n.VBU({type:a,selectors:[["app-root"]],features:[n.Vt3],decls:6,vars:2,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(p,T){1&p&&(n.nrm(0,"global-banner"),n.j41(1,"div",0),n.nrm(2,"router-outlet"),n.k0s(),n.DNE(3,TI,1,0,"global-chat",1),n.nrm(4,"global-loading"),n.DNE(5,Tv,1,0,"debug-console",1)),2&p&&(n.R7$(3),n.Y8G("ngIf",T.has_chat),n.R7$(2),n.Y8G("ngIf",T.debug))},dependencies:[Uo.bT,_s.n3,AT.h,Yy.p,tb.O,wT.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]})}return a})();var Yr=s(4351);const Nd=[{path:"-",component:Yr.KO},{path:"unauthorised",component:Yr.z},{path:"misconfigured",component:Yr.J3},{path:"dashboard",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>Promise.all([s.e(76),s.e(640)]).then(s.bind(s,4640)).then(a=>a.DashboardModule)},{path:"landing",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>Promise.all([s.e(76),s.e(883)]).then(s.bind(s,5883)).then(a=>a.AppLandingModule)},{path:"book",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>s.e(964).then(s.bind(s,5964)).then(a=>a.BookModule)},{path:"explore",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>s.e(291).then(s.bind(s,1291)).then(a=>a.ExploreModule)},{path:"control",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>s.e(376).then(s.bind(s,7376)).then(a=>a.ControlModule)},{path:"directory",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>s.e(274).then(s.bind(s,2274)).then(a=>a.DirectoryModule)},{path:"your-bookings",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>Promise.all([s.e(76),s.e(677)]).then(s.bind(s,6677)).then(a=>a.AppScheduleModule)},{path:"schedule",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>Promise.all([s.e(76),s.e(671)]).then(s.bind(s,1671)).then(a=>a.AppScheduleModule)},{path:"group-events",canActivate:[Yr.hO],canLoad:[Yr.hO],loadChildren:()=>s.e(535).then(s.bind(s,4535)).then(a=>a.GroupEventsModule)},{path:"**",redirectTo:"-",pathMatch:"full"}];let gm=(()=>{class a{static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({imports:[_s.iI.forRoot(Nd,{useHash:!0,paramsInheritanceStrategy:"always"}),_s.iI]})}return a})();s(4006),s(9434),s(3719),s(2798),s(9183),s(9608),s(9928),s(3020),s(5987),s(3601),s(4512),s(1406),s(9255),s(8113),s(6469),s(4003),s(8834);var mh=s(5927);let fc=(()=>{class a{static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({imports:[Uo.MD,Jo.YN,Jo.X1,mh.p]})}return a})();var jT=s(7915);function UT(a){return new _d(a,"./assets/locale/",".json")}let sb=(()=>{class a{static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=n.$C({type:a,bootstrap:[nb]});static#n=this.\u0275inj=n.G2t({providers:[{provide:n.zcH,useValue:pM({showDialog:!1})},{provide:Cp,deps:[_s.Ix]},{provide:n.hnV,useFactory:()=>()=>{},deps:[Cp],multi:!0},(0,Kc.$R)((0,Kc.Sx)())],imports:[e.Bb,ha,gm,gl.register("ngsw-worker.js",{enabled:true}),Jo.YN,fc,mh.p,ja.WX,tl._T,jT.SG,rc.h.forRoot({defaultLanguage:"en",loader:{provide:rc.Wr,useFactory:UT,deps:[Kc.Qq]}})]})}return a})();(0,n.SmG)(),e.sG().bootstrapModule(sb).catch(a=>console.error(a))},7236:(Ot,ve,s)=>{"use strict";s.d(ve,{s1:()=>B,en:()=>P.en});var e=s(177),n=s(4351),d=s(3046),h=s(9417),y=(s(7471),s(8751),s(4358),s(6041),s(7807),s(8228),s(3618),s(3953));let B=(()=>{class j{static#e=this.\u0275fac=function(m){return new(m||j)};static#t=this.\u0275mod=y.$C({type:j});static#n=this.\u0275inj=y.G2t({imports:[e.MD,d.cQ,h.YN,h.X1,n.hI]})}return j})();s(2615);var P=s(5204)},8228:(Ot,ve,s)=>{"use strict";s.d(ve,{i:()=>k,r:()=>I});var e=s(467),b=s(5204),E=s(3953);const _=[],u=new class h{constructor(x){this.images=[],Object.assign(this,x)}};function I(y){for(const x of y)_.find(({id:M})=>M===x.id)||_.push(x)}let k=(()=>{class y{transform(M){return(0,e.A)(function*(){if(!M)return u;let B=_.find(({id:P})=>P===M);if(B)return B;const K=yield(0,b.RF)(M).toPromise().catch(P=>null);return K?(B={...K},_.push(B),B):u})()}updateAssetGroupList(M){I(M)}static#e=this.\u0275fac=function(B){return new(B||y)};static#t=this.\u0275pipe=E.EJ8({name:"assetgroup",type:y,pure:!0})}return y})()},3618:(Ot,ve,s)=>{"use strict";s.d(ve,{Q:()=>S});var e=s(3953),n=s(9417),d=s(4233),h=s(7471),g=s(6088),b=s(3747),E=s(1168),_=s(4512),u=s(3601),I=s(4006),k=s(177),y=s(9434),x=s(6600),M=s(4823);function B(w,m){if(1&w&&(e.j41(0,"div",15)(1,"app-icon"),e.EFF(2,"priority_high"),e.k0s()()),2&w){const v=e.XpG().$implicit,A=e.XpG();e.Y8G("matTooltip",A.err_tooltip(v))}}function K(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.k0s(),e.j41(3,"div",18),e.EFF(4),e.k0s(),e.j41(5,"button",19),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG().$implicit,O=e.XpG();return e.Njj(O.removeRequestItem(G,L))}),e.j41(6,"app-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",20),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG(2);return e.Njj(G.toggleFavourite(L))}),e.j41(9,"app-icon"),e.EFF(10),e.k0s()()()}if(2&w){const v=m.$implicit,A=e.XpG(2);e.R7$(2),e.SpI(" ",v.name||"Item"," "),e.R7$(2),e.SpI(" x",v.quantity," "),e.R7$(4),e.AVh("text-blue-400",A.favorites.includes(v.id)),e.Y8G("matTooltip",A.favorites.includes(v.id)?"Remove from favourites":"Add to favourites"),e.R7$(2),e.JRh(A.favorites.includes(v.id)?"favorite":"favorite_border")}}function P(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div"),e.EFF(5),e.nI1(6,"date"),e.nI1(7,"date"),e.k0s(),e.DNE(8,B,3,1,"div",8),e.k0s()(),e.j41(9,"button",9),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.duplicateRequest(L))}),e.j41(10,"app-icon"),e.EFF(11,"content_copy"),e.k0s()(),e.j41(12,"button",10),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.editRequest(L))}),e.j41(13,"app-icon"),e.EFF(14,"edit"),e.k0s()(),e.j41(15,"button",11),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.removeRequest(L))}),e.j41(16,"app-icon"),e.EFF(17,"delete"),e.k0s()(),e.j41(18,"button",12),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.show_request[L.id]=!G.show_request[L.id])}),e.j41(19,"app-icon"),e.EFF(20),e.k0s()()(),e.j41(21,"div",13),e.DNE(22,K,11,6,"div",14),e.k0s()()}if(2&w){const v=m.$implicit,A=e.XpG();e.AVh("border-error",A.end_time<v.deliver_at)("border-base-300",A.end_time>=v.deliver_at),e.R7$(5),e.Lme(" Request for ",e.i5U(6,11,v.deliver_at_time,"mediumDate")," at ",e.i5U(7,14,v.deliver_at_time,A.time_format)," "),e.R7$(3),e.Y8G("ngIf",A.end_time<=v.deliver_at||A.rejected_ids.includes(v.id)||v.conflict),e.R7$(10),e.Y8G("matTooltip",A.show_request[v.id]?"Hide order items":"Show order items"),e.R7$(2),e.SpI(" ",A.show_request[v.id]?"expand_less":"expand_more"," "),e.R7$(),e.Y8G("@show",A.show_request[v.id]?"show":"hide"),e.R7$(),e.Y8G("ngForOf",v.items)}}const j=[];let S=(()=>{class w{err_tooltip(v){return this.rejected_ids.includes(v.id)||v.conflict?"Some of the items are not available for the selected date and time.":"Delivery time is outside of the event time.\nThis order will be ignored."}get favorites(){return this._settings.get("favourite_assets")||j}get end_time(){const v=(this.options.date||Date.now())+60*(this.options.duration||30)*1e3;return this.options.all_day?(0,_.D)(v).valueOf():v}get time_format(){return this._settings.time_format||"shortTime"}constructor(v,A,L){this._settings=v,this._dialog=A,this._state=L,this.options={},this.rejected_ids=[],this.asset_requests=[],this.disabled=!1,this.show_request={},this.selected=[],this.registerOnChange=G=>this._onChange=G,this.registerOnTouched=G=>this._onTouch=G,this.setDisabledState=G=>this.disabled=G}ngOnChanges(v){v.options&&(this.asset_requests=(this.asset_requests||[]).map(A=>new b.Y({...A,event:this.options})),this._state.setOptions({date:this.options.date,duration:this.options.duration}))}setValue(v){this.asset_requests=v,this._onChange&&this._onChange(this.asset_requests)}writeValue(v){this.asset_requests=(v||[]).map(A=>new b.Y({...A,event:this.options,state:A.state}))}editRequest(v=new b.Y){const A=this.asset_requests.filter(O=>O.id!==v.id),L={};for(const O of A)for(const W of O.items)L[W.id]=(L[W.id]||0)+W?.quantity||0;const G=this._dialog.open(h.f,{data:{items:v.items,details:{...this.options,date:this.options.all_day?(0,u.o)(this.options.date).valueOf():this.options.date,duration:this.options.all_day?Math.max(1440,this.options.duration):this.options.duration},exact_time:!!v.deliver_time,offset:v.deliver_offset,offset_day:v.deliver_day_offset,requested:L}});G.afterClosed().subscribe(O=>{const W=this.asset_requests.filter(te=>te.id!==v.id);if(!O?.length)return;for(const te of O)if(te.assets?.length){const ie=[];te.item_ids=new Array(te.quantity).fill(0).map(me=>{let Y="";for(;(!Y||ie.includes(Y))&&0<te.assets.length;)Y=te.assets[(0,E.HO)(te.assets.length)].id;return ie.push(Y),Y})}const U=new Date(this.options.date),$=new b.Y({...v,conflict:!1,_changed:v._changed||v.items.find(te=>O.find(ie=>ie.id===te.id)?.quantity!==te.quantity),items:O.map(te=>({...te})),event:this.options,deliver_offset:G.componentInstance.offset,deliver_time:G.componentInstance.exact_time?U.getHours()+U.getMinutes()/60:null,deliver_day_offset:G.componentInstance.offset_day||0});for(const te of $.items)if(W.reduce((me,Y)=>me+(Y.items.find(F=>F.id===te.id)?.quantity||0),0)+te.quantity>te.assets.length)return void(0,E.UG)(`Not enough assets available to meet request [${te.name}].\n                        Another request for this asset has been made in this meeting.`,void 0,void 0,{duration:5e3});$.item_count<=0||this.setValue([...W,$])})}removeRequest(v){const A=this.asset_requests.filter(L=>L.id!==v.id);this.setValue(A)}duplicateRequest(v){const A=new b.Y({...v,id:`order-${(0,E.DU)(8)}`});this.setValue([...this.asset_requests,A])}removeRequestItem(v,A){const L=new b.Y({...v,items:v.items.filter(O=>O.id!==A.id)}),G=this.asset_requests.filter(O=>O.id!==v.id);this.setValue(L.items.length>0?[...G,L]:G)}toggleFavourite(v){const A=this.favorites;A.includes(v.id)?this._settings.saveUserSetting("favourite_assets",A.filter(G=>G!==v.id)):this._settings.saveUserSetting("favourite_assets",[...A,v.id])}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(d.h),e.rXU(I.bZ),e.rXU(g.R))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["asset-list-field"]],inputs:{options:"options",rejected_ids:"rejected_ids"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>w),multi:!0}]),e.OA$],decls:8,vars:2,consts:[["list","",1,"space-y-2"],["request","","class","border shadow bg-base-100 rounded-xl overflow-hidden",3,"border-error","border-base-300",4,"ngFor","ngForOf"],["btn","","matRipple","","add-space","",1,"w-full","inverse","mt-2",3,"click","disabled"],[1,"flex","items-center","justify-center","space-x-2"],["request","",1,"border","shadow","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-4"],[1,"flex-1"],[1,"flex","items-center","space-x-4"],["class","flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content",3,"matTooltip",4,"ngIf"],["icon","","matRipple","","matTooltip","Duplicate Request",3,"click"],["icon","","matRipple","","matTooltip","Edit Request",3,"click"],["icon","","matRipple","","matTooltip","Remove Request",1,"text-error",3,"click"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-4 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","h-6","w-6","rounded-full","bg-error","text-error-content",3,"matTooltip"],[1,"flex","items-center","px-4","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],["icon","","matRipple","","matTooltip","Remove Request Item",1,"text-error",3,"click"],["icon","","matRipple","","name","toggle-catering-item-favourite",3,"click","matTooltip"]],template:function(A,L){1&A&&(e.j41(0,"div",0),e.DNE(1,P,23,17,"div",1),e.k0s(),e.j41(2,"button",2),e.bIt("click",function(){return L.editRequest()}),e.j41(3,"div",3)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.EFF(7,"Add Asset"),e.k0s()()()),2&A&&(e.R7$(),e.Y8G("ngForOf",L.asset_requests),e.R7$(),e.Y8G("disabled",L.disabled))},dependencies:[k.Sq,k.bT,y.R,x.r6,M.oV,k.vh],data:{animation:[E.Ft]}})}return w})()},3747:(Ot,ve,s)=>{"use strict";s.d(ve,{Y:()=>_});var e=s(1168),n=s(1406),d=s(906),h=s(3601),g=s(7926),b=s(2357);function E(u){let I=u.event?.date||u._time;return u.deliver_time&&(I=(0,n.h)(I,{hours:Math.floor(u.deliver_time),minutes:u.deliver_time%1*60}).valueOf()),(u.deliver_day_offset>0||u.event?.all_day)&&(I=(0,d.f)((0,h.o)(I),u.deliver_day_offset).valueOf()),(0,g.z)(I,u.deliver_offset).valueOf()}class _{get deliver_at(){return E(this)}get status(){return this._status}set status(I){this._status=I,this[`${this.event_id}_status`]=I}constructor(I={}){this.conflict=!1,this._changed=!1,this._time=(0,b.c)(Date.now()).valueOf(),this.id=I.id||`order-${(0,e.HO)(9999999,1e6)}`,this.event_id=I.event_id||I.parent_id||"",this.items=I.items||I.asset_ids?.map(y=>({id:y,quantity:1}))||[],this.item_count=this.items.reduce((y,x)=>y+x.quantity,0),this._status=I[`${this.event_id}_status`]||I.status||(I.extension_data||{})[`${this.event_id}_status`]||I.extension_data?.status||"in_storage",this.event=I.event||I||null;const k=this.event?.linked_bookings?.find(y=>y.extension_data.request_id===this.id);this._booking=k||I.booking||null,this._changed=!!I._changed||!k,this.notes=I.notes||I.description||"",this.deliver_time=I.deliver_time||I.extension_data?.deliver_time||void 0,this.deliver_offset=I.deliver_offset||I.extension_data?.deliver_offset||0,this.deliver_day_offset=I.deliver_day_offset||I.extension_data?.deliver_day_offset||0,this.deliver_at_time=E(this),this.conflict=!!I.conflict,this.ref_id=`${this.deliver_at_time}|${this.items.map(y=>`${y.id}:${y.quantity}`).join("|")}`}toJSON(){const I={...this};return delete I.event,delete I._changed,delete I._status,delete I._time,delete I.deliver_at_time,delete I.deliver_at,I.items=I.items.map(k=>({id:k.id,category_id:k.category_id,quantity:k.quantity,name:k.name,item_ids:k.item_ids})),I}}},8751:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>I});var e=s(3953),n=s(177),d=s(5507),h=s(9417),g=s(9434),b=s(5277),E=s(6600);function _(k,y){if(1&k){const x=e.RV6();e.qex(0),e.j41(1,"section",2),e.nrm(2,"image-carousel",3),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",5),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",6)(10,"section",7)(11,"div")(12,"h2",8),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15),e.k0s()(),e.j41(16,"a-counter",9),e.mxI("ngModelChange",function(B){e.eBV(x);const K=e.XpG();return e.DH7(K.item.quantity,B)||(K.item.quantity=B),e.Njj(B)}),e.bIt("ngModelChange",function(B){e.eBV(x);const K=e.XpG();return e.Njj(K.countChange.emit(B))}),e.k0s()(),e.nrm(17,"hr"),e.j41(18,"section",10)(19,"h2",11),e.EFF(20,"Details"),e.k0s(),e.j41(21,"div",12)(22,"p"),e.EFF(23),e.k0s()()()(),e.j41(24,"div",13)(25,"button",14),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return B.active=!B.active,e.Njj(B.activeChange.emit(B.active))}),e.j41(26,"div",15)(27,"app-icon",16),e.EFF(28),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()()()(),e.bVm()}if(2&k){const x=e.XpG();e.R7$(2),e.Y8G("images",x.item.images),e.R7$(4),e.AVh("text-info-content",x.fav)("!bg-info",x.fav),e.R7$(2),e.SpI(" ",x.fav?"favorite":"favorite_border"," "),e.R7$(5),e.SpI(" ",x.item.name," "),e.R7$(2),e.SpI(" ",(null!=x.item.available?x.item.available:null==x.item.assets?null:x.item.assets.length)||0," Available "),e.R7$(),e.R50("ngModel",x.item.quantity),e.Y8G("min",1)("max",(null!=x.item.available?x.item.available:null==x.item.assets?null:x.item.assets.length)||1),e.R7$(7),e.JRh(x.item.description||"No description"),e.R7$(2),e.AVh("inverse",x.active),e.R7$(3),e.SpI(" ",x.active?"remove":"add"," "),e.R7$(2),e.SpI(" ",x.active?"Remove this asset":"Add this asset"," ")}}function u(k,y){1&k&&(e.j41(0,"div",17)(1,"p",18),e.EFF(2," Select an asset to view it's details "),e.k0s()())}let I=(()=>{class k{constructor(){this.active=!1,this.fav=!1,this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.countChange=new e.bkB,this.close=new e.bkB}ngOnInit(){this.item&&!this.item.quantity&&(this.item.quantity=1)}ngOnChanges(x){x.item&&this.item&&(this.item.quantity||(this.item.quantity=1))}static#e=this.\u0275fac=function(M){return new(M||k)};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["asset-details"]],inputs:{item:"item",active:"active",fav:"fav"},outputs:{toggleFav:"toggleFav",activeChange:"activeChange",countChange:"countChange",close:"close"},features:[e.OA$],decls:3,vars:2,consts:[["empty_state",""],[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","h-64","sm:h-40","bg-base-200"],[1,"absolute","inset-0",3,"images"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0","flex","items-center","justify-between"],[1,"text-xl","font-medium","mb-2","mt-4"],[3,"ngModelChange","ngModel","min","max"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","select","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]],template:function(M,B){if(1&M&&e.DNE(0,_,31,16,"ng-container",1)(1,u,3,0,"ng-template",null,0,e.C5r),2&M){const K=e.sdS(2);e.Y8G("ngIf",B.item)("ngIfElse",K)}},dependencies:[n.bT,d.s,h.BC,h.vS,g.R,b.H,E.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return k})()},6041:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>n});var e=s(3953);let n=(()=>{class d{static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["asset-filters-display"]],decls:0,vars:0,template:function(b,E){}})}return d})()},4358:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>G});var e=s(3953),n=s(6088),d=s(1168),h=s(3601),g=s(906),b=s(4512),E=s(7926),_=s(2037),u=s(177),I=s(3476),k=s(9417),y=s(9434),x=s(6600),M=s(3719),B=s(2798),K=s(9631),P=s(4823),j=s(2765);function S(O,W){1&O&&(e.j41(0,"h3",11),e.pXf(1,0),e.k0s())}function w(O,W){if(1&O&&(e.j41(0,"mat-option",18),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&O){const U=W.$implicit;e.Y8G("value",U.id),e.R7$(),e.SpI(" ",e.i5U(2,2,U.value,"mediumDate")," ")}}function m(O,W){if(1&O){const U=e.RV6();e.qex(0),e.j41(1,"label"),e.EFF(2,"Deliver Date:"),e.k0s(),e.j41(3,"mat-form-field",15)(4,"mat-select",16),e.mxI("ngModelChange",function(te){e.eBV(U);const ie=e.XpG(2);return e.DH7(ie.offset_day,te)||(ie.offset_day=te),e.Njj(te)}),e.bIt("ngModelChange",function(te){e.eBV(U);const ie=e.XpG(2);return e.Njj(ie.offset_dayChange.next(te))}),e.DNE(5,w,3,5,"mat-option",17),e.k0s()(),e.bVm()}if(2&O){const U=e.XpG(2);e.R7$(4),e.R50("ngModel",U.offset_day),e.R7$(),e.Y8G("ngForOf",U.day_options)}}function v(O,W){if(1&O){const U=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",12),e.mxI("ngModelChange",function(te){e.eBV(U);const ie=e.XpG();return e.DH7(ie.at_time,te)||(ie.at_time=te),e.Njj(te)}),e.bIt("ngModelChange",function(te){e.eBV(U);const ie=e.XpG();return e.Njj(ie.at_timeChange.next(te))}),e.EFF(2," Exact Time "),e.k0s(),e.DNE(3,m,6,2,"ng-container",13),e.j41(4,"label"),e.EFF(5,"Deliver After:"),e.k0s(),e.j41(6,"a-duration-field",14),e.nI1(7,"async"),e.mxI("ngModelChange",function(te){e.eBV(U);const ie=e.XpG();return e.DH7(ie.offset,te)||(ie.offset=te),e.Njj(te)}),e.bIt("ngModelChange",function(te){e.eBV(U);const ie=e.XpG();return e.Njj(ie.offsetChange.next(te))}),e.k0s()()}if(2&O){let U;const $=e.XpG();e.R7$(),e.R50("ngModel",$.at_time),e.Y8G("matTooltip",$.exact_tooltip),e.R7$(2),e.Y8G("ngIf",$.day_options.length>1),e.R7$(3),e.R50("ngModel",$.offset),e.Y8G("time",$.offset_day>0?$.start_of_date:null==(U=e.bMT(7,9,$.options))?null:U.date)("step",$.step_interval)("min",$.min_offset)("max",$.max_offset-1)("use_24hr",$.use_24hr)}}function A(O,W){1&O&&(e.j41(0,"h3",19),e.pXf(1,1),e.k0s())}function L(O,W){if(1&O){const U=e.RV6();e.j41(0,"mat-checkbox",16),e.nI1(1,"async"),e.bIt("ngModelChange",function(){const te=e.eBV(U).$implicit,ie=e.XpG();return e.Njj(ie.toggleCategory(te.id))}),e.EFF(2),e.k0s()}if(2&O){const U=W.$implicit,$=e.XpG();e.Y8G("ngModel",e.bMT(1,3,$.category)===U.id),e.BMQ("name",U),e.R7$(2),e.SpI(" ",U.name," ")}}let G=(()=>{class O extends d.Tv{get start_of_date(){return(0,h.o)((0,g.f)(this._state.getOptions().date,this.offset_day)).valueOf()}get min_offset(){return this.offset_day>0?0:this._min_offset}get step_interval(){return this._settings.get("app.assets.step_interval")||5}get max_offset(){const U=Math.min((0,b.D)((0,g.f)(this._state.getOptions().date,this.offset_day)).valueOf(),(0,E.z)(this._state.getOptions().date,this._state.getOptions().duration).valueOf()),$=(0,_.o)(U,this._state.getOptions().date);return Math.min($,Math.min(1439,this._max_offset))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(U,$){super(),this._state=U,this._settings=$,this.search=!1,this.at_time=!1,this.at_timeChange=new e.bkB,this.offset=0,this.offsetChange=new e.bkB,this.offset_day=0,this.offset_dayChange=new e.bkB,this._min_offset=0,this._max_offset=60,this.search_value=this._state.search,this.category=this._state.category,this.categories=this._state.category_list,this.options=this._state.options,this.exact_tooltip="Deliver at exactly specified time. \nNote that changes to the booking will not be \nreflected in the order if this is set.",this.day_options=[],this.setSearch=te=>this._state.setSearch(te),this.toggleCategory=te=>this._state.toggleCategory(te)}ngOnInit(){this._min_offset=Math.max(this._settings.get("app.assets.min_offset"),0),this.subscription("filters",this._state.options.subscribe(()=>{this._max_offset=Math.max(15,(this._state.getOptions().duration||60)-this._settings.get("app.assets.end_offset")),this._updateDayOptions()})),this._updateDayOptions()}_updateDayOptions(){const{date:U,duration:$}=this._state.getOptions();if($<=1440)return this.day_options=[];let te=(0,h.o)(U),ie=0;const me=(0,b.D)((0,E.z)(U,$)).valueOf(),Y=[];for(;te.valueOf()<=me;)Y.push({id:ie,value:te.valueOf()}),te=(0,g.f)(te,1),ie++;this.day_options=Y}static#e=this.\u0275fac=function($){return new($||O)(e.rXU(n.R),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["asset-filters"]],inputs:{search:"search",at_time:"at_time",offset:"offset",offset_day:"offset_day"},outputs:{at_timeChange:"at_timeChange",offsetChange:"offsetChange",offset_dayChange:"offset_dayChange"},features:[e.Vt3],decls:12,vars:15,consts:()=>{let U,$;return U=$localize`:␟07b96192315617e1c3c3f020fed4749eafda31eb␟637156553417356107: Options `,$=$localize`:␟24300e769843b029b0346b3ea18e51e4e97a3502␟3888583854485349732: Catergories `,[U,$,[1,"px-4","mt-3","mb-2"],["appearance","outline",1,"w-full","h-14"],["matPrefix","",1,"text-xl"],["matInput","","placeholder","Search menu...",3,"ngModelChange","ngModel"],["class","hidden sm:block font-medium px-2 py-2",4,"ngIf"],["class","flex flex-col px-2",4,"ngIf"],["class","hidden sm:block font-medium px-2 py-4",4,"ngIf"],[1,"flex","flex-col","px-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"hidden","sm:block","font-medium","px-2","py-2"],[3,"ngModelChange","ngModel","matTooltip"],[4,"ngIf"],[3,"ngModelChange","ngModel","time","step","min","max","use_24hr"],["appearance","outline",1,"w-full","no-subscript","mb-4"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"hidden","sm:block","font-medium","px-2","py-4"]]},template:function($,te){1&$&&(e.j41(0,"div",2)(1,"mat-form-field",3)(2,"app-icon",4),e.EFF(3,"search"),e.k0s(),e.j41(4,"input",5),e.nI1(5,"async"),e.bIt("ngModelChange",function(me){return te.setSearch(me)}),e.k0s()()(),e.DNE(6,S,2,0,"h3",6)(7,v,8,11,"div",7)(8,A,2,0,"h3",8),e.j41(9,"div",9),e.DNE(10,L,3,5,"mat-checkbox",10),e.nI1(11,"async"),e.k0s()),2&$&&(e.AVh("sm:hidden",!te.search),e.R7$(4),e.Y8G("ngModel",e.bMT(5,11,te.search_value)),e.R7$(2),e.Y8G("ngIf",!te.search),e.R7$(),e.Y8G("ngIf",!te.search),e.R7$(),e.Y8G("ngIf",!te.search),e.R7$(),e.AVh("sm:hidden",te.search)("sm:pt-1",!te.search),e.R7$(),e.Y8G("ngForOf",e.bMT(11,13,te.categories)))},dependencies:[u.Sq,u.bT,I.y,k.me,k.BC,k.vS,y.R,x.wT,M.rl,M.JW,B.VO,K.fg,P.oV,j.So,u.Jj,u.vh],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:16rem}"]})}return O})()},7807:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>S});var e=s(3953),n=s(6088),d=s(9928),h=s(9714),g=s(5006),b=s(177),E=s(9434),_=s(3208),u=s(6600),I=s(9183);function k(w,m){if(1&w&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2),e.k0s()()),2&w){const v=e.XpG().$implicit;e.R7$(2),e.SpI(" ",v.quantity||1," ")}}function y(w,m){if(1&w&&e.nrm(0,"img",22),2&w){const v=e.XpG().$implicit;e.Y8G("source",v.images[0])}}function x(w,m){1&w&&e.nrm(0,"img",23)}function M(w,m){if(1&w){const v=e.RV6();e.j41(0,"li",10)(1,"button",11),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG(3);return e.Njj(G.selectAsset(L))}),e.j41(2,"div",12),e.DNE(3,k,3,1,"div",13)(4,y,1,1,"img",14)(5,x,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",15)(8,"div",16)(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div",17),e.EFF(12),e.k0s()(),e.j41(13,"div",18)(14,"p"),e.EFF(15),e.k0s()()()(),e.j41(16,"button",19),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG(3);return e.Njj(G.toggleFav.emit(L))}),e.j41(17,"app-icon"),e.EFF(18),e.k0s()()()}if(2&w){const v=m.$implicit,A=e.sdS(6),L=e.XpG(3);e.R7$(3),e.Y8G("ngIf",L.selected.includes(v.id)),e.R7$(),e.Y8G("ngIf",null==v.images?null:v.images.length)("ngIfElse",A),e.R7$(6),e.JRh(v.name||"Asset"),e.R7$(2),e.SpI(" ",v.category," "),e.R7$(3),e.SpI(" ",v.available||(null==v.assets?null:v.assets.length)||"0"," Available "),e.R7$(),e.AVh("text-info",L.isFavourite(v.id)),e.R7$(2),e.JRh(L.isFavourite(v.id)?"favorite":"favorite_border")}}function B(w,m){if(1&w&&(e.j41(0,"ul",8),e.DNE(1,M,19,9,"li",9),e.nI1(2,"async"),e.k0s()),2&w){const v=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,v.assets))}}function K(w,m){if(1&w&&(e.qex(0),e.DNE(1,B,3,3,"ul",7),e.nI1(2,"async"),e.bVm()),2&w){let v;const A=e.XpG(),L=e.sdS(9);e.R7$(),e.Y8G("ngIf",null==(v=e.bMT(2,2,A.assets))?null:v.length)("ngIfElse",L)}}function P(w,m){1&w&&(e.j41(0,"div",24)(1,"p",25),e.EFF(2," No available assets for selected time and/or filters "),e.k0s()())}function j(w,m){1&w&&(e.j41(0,"div",26),e.nrm(1,"mat-spinner",27),e.j41(2,"p",28),e.EFF(3,"Finding available assets..."),e.k0s()()),2&w&&(e.R7$(),e.Y8G("diameter",32))}let S=(()=>{class w{constructor(v){this._asset_state=v,this.selected="",this.favorites=[],this.selected_items=[],this.requested={},this.toggleFav=new e.bkB,this.onSelect=new e.bkB,this._requested_items=new d.t({}),this.counts=new d.t({}),this.loading=this._asset_state.loading,this.assets=(0,h.zV)([this.counts,this._asset_state.filtered_assets,this._requested_items]).pipe((0,g.T)(([A,L,G])=>{for(const O of L){O.quantity=A[O.id]||0;const W=this.selected_items.find(U=>U.id===O.id);W&&(W.assets=O.assets),void 0!==G[O.id]&&(O.available=Math.max((O.assets?.length||0)-G[O.id],0))}return L.filter(O=>null!=O.available&&O.available>0||null==O.available&&O.assets?.length>0)}))}ngOnChanges(v){if(v.selected_items&&this.selected_items?.length){const A={};for(const L of this.selected_items)A[L.id]=L.quantity;this.counts.next(A)}v.requested&&this._requested_items.next(this.requested)}isFavourite(v){return this.favorites.includes(v)}selectAsset(v){this.onSelect.emit(v)}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(n.R))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["asset-list"]],inputs:{selected:"selected",favorites:"favorites",selected_items:"selected_items",requested:"requested"},outputs:{toggleFav:"toggleFav",onSelect:"onSelect"},features:[e.OA$],decls:12,vars:7,consts:[["empty_state",""],["load_state",""],["placeholder",""],[1,"w-full","h-full","overflow-auto","py-2","bg-base-200"],[1,"font-bold","px-2"],["count","",1,"text-sm","opacity-60","mb-4","px-2"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2 p-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","p-2"],["asset","","matRipple","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",4,"ngFor","ngForOf"],["asset","","matRipple","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["select","",1,"w-full","h-full","flex","items-center","pr-10",3,"click"],[1,"relative","w-16","h-16","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center","overflow-hidden","border","border-base-200"],["class","absolute top-1 left-1 border border-base-300 bg-base-200 rounded-full h-6 w-6 flex items-center justify-center",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","text-left","flex-1"],[1,"font-medium","flex","items-center","justify-between"],[1,"opacity-60","text-xs"],[1,"flex","items-center","text-sm","space-x-2"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-base-300","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center"],[1,"text-xs"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/asset-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]],template:function(A,L){if(1&A&&(e.j41(0,"div",3)(1,"h3",4),e.EFF(2,"Results"),e.k0s(),e.j41(3,"p",5),e.EFF(4),e.nI1(5,"async"),e.k0s(),e.DNE(6,K,3,4,"ng-container",6),e.nI1(7,"async"),e.k0s(),e.DNE(8,P,3,0,"ng-template",null,0,e.C5r)(10,j,4,1,"ng-template",null,1,e.C5r)),2&A){let G;const O=e.sdS(11);e.R7$(4),e.SpI(" ",(null==(G=e.bMT(5,3,L.assets))?null:G.length)||0," result(s) found "),e.R7$(2),e.Y8G("ngIf",!e.bMT(7,5,L.loading))("ngIfElse",O)}},dependencies:[b.Sq,b.bT,E.R,_.U,u.r6,I.LG,b.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return w})()},7471:(Ot,ve,s)=>{"use strict";s.d(ve,{f:()=>M});var e=s(4006),n=s(1168),d=s(6088),h=s(3953),g=s(177),b=s(9434),E=s(6600),_=s(8751),u=s(4358),I=s(6041),k=s(7807);function y(B,K){if(1&B){const P=h.RV6();h.j41(0,"button",21),h.bIt("click",function(){h.eBV(P);const S=h.XpG();return h.Njj(S.displayed=null)}),h.EFF(1," Back "),h.k0s()}}const x=[];let M=(()=>{class B{get favorites(){return this._settings.get("favourite_assets")||x}get selected_ids(){return this.selected.map(P=>P.id).join(",")}get count(){return this.selected.reduce((P,j)=>P+j.quantity,0)}isSelected(P){return P&&this.selected_ids.includes(P)}constructor(P,j,S){this._settings=P,this._state=j,this._data=S,this.displayed=null,this.selected=[...this._data.items||[]],this.exact_time=this._data.exact_time??!1,this.requested=this._data.requested;const{duration:w}=this._data.details;this._state.setOptions(this._data.details),this.offset=Math.min(Math.max(this._settings.get("app.assets.min_offset"),this._data.offset||0),(w||60)-this._settings.get("app.assets.end_offset")),this.offset_day=this._data.offset_day||0}setSelected(P,j){const S=this.selected.filter(w=>w.id!==P.id);j&&S.push(P),this.selected=[...S]}updateSelectedCount(P){if(!this.displayed)return;const j=this.selected.find(S=>S.id===this.displayed.id);j&&(j.quantity=P,j.assets=this.displayed.assets)}toggleFavourite(P){const j=this.favorites;j.includes(P.id)?this._settings.saveUserSetting("favourite_assets",j.filter(w=>w!==P.id)):this._settings.saveUserSetting("favourite_assets",[...j,P.id])}static#e=this.\u0275fac=function(j){return new(j||B)(h.rXU(n.h$),h.rXU(d.R),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:B,selectors:[["asset-select-modal"]],decls:33,vars:25,consts:[[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"h-full","hidden","sm:block",3,"at_timeChange","offsetChange","offset_dayChange","at_time","offset","offset_day"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:min-w-[20rem]","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200"],[1,"flex-1","h-1/2","w-full","overflow-hidden",3,"toggleFav","onSelect","selected","favorites","selected_items","requested"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","bg-base-100","z-20",3,"activeChange","countChange","toggleFav","close","item","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200"],["btn","","matRipple","","back-btn","","class","inverse sm:hidden w-full sm:w-auto",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-auto","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],["btn","","matRipple","","back-btn","",1,"inverse","sm:hidden","w-full","sm:w-auto",3,"click"]],template:function(j,S){1&j&&(h.j41(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.EFF(6,"Add Assets"),h.k0s()(),h.j41(7,"main",3)(8,"div",4)(9,"asset-filters",5),h.mxI("at_timeChange",function(m){return h.DH7(S.exact_time,m)||(S.exact_time=m),m})("offsetChange",function(m){return h.DH7(S.offset,m)||(S.offset=m),m})("offset_dayChange",function(m){return h.DH7(S.offset_day,m)||(S.offset_day=m),m}),h.k0s()(),h.j41(10,"div",6),h.nrm(11,"asset-filters-display",7),h.j41(12,"asset-list",8),h.bIt("toggleFav",function(m){return S.toggleFavourite(m)})("onSelect",function(m){return S.displayed=m}),h.k0s()(),h.j41(13,"asset-details",9),h.bIt("activeChange",function(m){return S.setSelected(S.displayed,m)})("countChange",function(m){return S.updateSelectedCount(m)})("toggleFav",function(){return S.toggleFavourite(S.displayed)})("close",function(){return S.displayed=null}),h.k0s()(),h.j41(14,"footer",10),h.DNE(15,y,2,0,"button",11),h.j41(16,"button",12),h.EFF(17," View List "),h.k0s()(),h.j41(18,"footer",13)(19,"button",14)(20,"div",15)(21,"app-icon",16),h.EFF(22,"arrow_back"),h.k0s(),h.j41(23,"div",17),h.EFF(24,"Back to form"),h.k0s()()(),h.j41(25,"p",18),h.EFF(26),h.k0s(),h.j41(27,"button",19),h.bIt("click",function(){return S.setSelected(S.displayed,!S.isSelected(null==S.displayed?null:S.displayed.id))}),h.j41(28,"div",15)(29,"app-icon",16),h.EFF(30),h.k0s(),h.j41(31,"div",20),h.EFF(32),h.k0s()()()()()),2&j&&(h.R7$(9),h.R50("at_time",S.exact_time)("offset",S.offset)("offset_day",S.offset_day),h.R7$(3),h.Y8G("selected",S.selected_ids)("favorites",S.favorites)("selected_items",S.selected)("requested",S.requested),h.R7$(),h.AVh("hidden",!S.displayed)("inset-0",S.displayed),h.Y8G("item",S.displayed)("active",S.selected_ids.includes((null==S.displayed?null:S.displayed.id)||""))("fav",!!S.displayed&&S.favorites.includes((null==S.displayed?null:S.displayed.id)||"")),h.R7$(2),h.Y8G("ngIf",S.displayed),h.R7$(),h.AVh("mb-2",S.displayed),h.Y8G("mat-dialog-close",S.selected),h.R7$(3),h.Y8G("mat-dialog-close",S.selected),h.R7$(7),h.SpI("",S.count," asset(s) added"),h.R7$(),h.AVh("inverse",S.isSelected(null==S.displayed?null:S.displayed.id)),h.Y8G("disabled",!S.displayed),h.R7$(3),h.SpI(" ",S.isSelected(null==S.displayed?null:S.displayed.id)?"remove":"add"," "),h.R7$(2),h.SpI(" ",S.isSelected(null==S.displayed?null:S.displayed.id)?"Remove from Booking":"Add to booking"," "))},dependencies:[g.bT,b.R,E.r6,e.tx,_.o,u.F,I.t,k.I]})}return B})()},6088:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>L});var e=s(9928),n=s(9714),d=s(4421),h=s(8728),g=s(3020),b=s(9090),E=s(8841),_=s(8712),u=s(3921),I=s(5006),k=s(5204),y=s(5645),x=s(5987),M=s(3601),B=s(4512),K=s(2357),P=s(350),j=s(7926),S=s(8228),w=s(2185),m=s(2615),v=s(1038),A=s(3953);let L=(()=>{class G{constructor(W){this._org=W,this._options=new e.t({date:Date.now()}),this._search=new e.t(""),this._category=new e.t([]),this._loading=new e.t(""),this.search=this._search.asObservable(),this.category=this._category.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.rules=(0,n.zV)([this._options,this._org.active_building]).pipe((0,h.p)(([U,$])=>!!$),(0,g.B)(300),(0,b.n)(([U,$])=>(this._loading.next(this._loading.getValue()+"[Rules]"),(0,m.$z)($.id||U.zone||""))),(0,E.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Rules\]/g,""))),(0,_.t)(1)),this.asset_list=(0,d.of)(0).pipe((0,b.n)(()=>(this._loading.next(this._loading.getValue()+"[Assets]"),(0,k._B)())),(0,E.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Assets\]/g,""))),(0,_.t)(1)),this.asset_bookings=this._options.pipe((0,g.B)(300),(0,b.n)(({zone:U,date:$})=>(this._loading.next(this._loading.getValue()+"[Bookings]"),(0,y.tj)({zones:U||"",period_start:(0,x._)((0,M.o)($)),period_end:(0,x._)((0,B.D)($)),type:"asset-request"}))),(0,E.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Bookings\]/g,""))),(0,_.t)(1)),this.available_groups=(0,n.zV)([this._options,this._org.active_building]).pipe((0,g.B)(300),(0,b.n)(([{zone:U,date:$,duration:te,ignore:ie},me])=>(0,k.LZ)({zones:me.id||U||"",period_start:(0,x._)((0,K.c)($)),period_end:(0,x._)((0,P.V)((0,j.z)($,te||30))),type:"asset-request",rejected:!1},ie).pipe((0,u.W)(()=>(0,d.of)([])))),(0,I.T)(U=>U.sort(($,te)=>$.name.localeCompare(te.name))),(0,E.M)(U=>(0,S.r)(U)),(0,_.t)(1)),this.category_list=this._org.active_building.pipe((0,b.n)(U=>(0,k.vt)({zone_id:U.id})),(0,I.T)(U=>U.sort(($,te)=>$.name.localeCompare(te.name))),(0,_.t)(1)),this.filtered_assets=(0,n.zV)([this._search,this._category,this.available_groups,this.rules]).pipe((0,I.T)(([U,$,te,ie])=>{const me=U.toLowerCase();return te.filter(F=>F.assets?.length&&(!$.length||$.includes(F.category_id))&&(F.name.toLowerCase().includes(me)||F.description.toLowerCase().includes(me))&&(0,m.WH)(F,ie,this._options.getValue()))}),(0,_.t)(1)),this.settings=(0,n.zV)([this._org.active_building]).pipe((0,h.p)(([U])=>!!U),(0,b.n)(([U])=>(0,v.bpY)(U.id,"assets-settings").pipe((0,u.W)($=>(0,d.of)({})))),(0,I.T)(U=>U.details||{}),(0,_.t)(1)),this.disabled_rooms=this.settings.pipe((0,I.T)(U=>U.disabled_rooms||[]))}setSearch(W){this._search.next(`${W}`)}toggleCategory(W){const U=this._category.getValue();U.includes(W)?this._category.next(U.filter($=>$!==W)):this._category.next([...U,W])}getOptions(){return this._options.getValue()}setOptions(W){this._options.next({...this._options.value,...W})}static#e=this.\u0275fac=function(U){return new(U||G)(A.KVO(w.yb))};static#t=this.\u0275prov=A.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},2615:(Ot,ve,s)=>{"use strict";s.d(ve,{$z:()=>B,WH:()=>K});var e=s(1168),n=s(9255),d=s(3901),h=s(9824),g=s(5611),b=s(5006),E=s(3921),_=s(1038),u=s(4421);const M={};function B(P,j=!1){return P?((!M[P]||j)&&(M[P]=(0,_.bpY)(P,"assets_config").pipe((0,b.T)(S=>S.details instanceof Array?S.details:[]),(0,E.W)(S=>(0,u.of)([])))),M[P]):(0,u.of)([])}function K(P,j,S){const w=Date.now(),m=new Date(S.date),v=L=>P.name===L.name||P.category.name.includes(L.name)||S.resources.some(G=>G.zones.includes(L.name))||S.space?.zones.includes(L.name)||"*"===L.name,A=L=>L.rules.reduce((G,O)=>{switch(O[0]){case"is_before":return G+((0,n.Y)(w,(0,d.O)(m,O[1]))?1:0);case"within_hours":return G+((0,h.d)(w,(0,d.O)(m,O[1]))?1:0);case"after_hour":return G+((0,h.d)(m,(0,g.a)(m,O[1]))?1:0);case"before_hour":return G+((0,n.Y)(m,(0,g.a)(m,O[1]))?1:0);case"min_length":return G+(S.duration>=(0,e.II)(O[1])?1:0);case"max_length":return G+(S.duration<=(0,e.II)(O[1])?1:0);case"visitor_type":return G+(S.ext("visitor_type")===O[1]?1:0);default:return G+1}},0);for(const L of j)if(v(L)&&A(L)<L.rules.length)return!1;return!0}},5204:(Ot,ve,s)=>{"use strict";s.d(ve,{LZ:()=>dt,RF:()=>ie,_B:()=>Y,en:()=>In,vt:()=>S});var e=s(467),n=s(1038),d=s(8385),h=s(5006),g=s(9090),b=s(8841),E=s(4421),_=s(696),u=s(9714),I=s(5987),k=s(3601),y=s(4512),x=s(7926),M=s(5645),B=s(3857),K=s(1168),P=s(3747);const j="/api/engine/v2";function S($t={}){const q=(0,d.z)($t);return(0,n.JtY)(`${j}/asset_categories${q?"?"+q:""}`).pipe((0,h.T)(Ie=>Ie))}const O=new Map;function W($t={}){const q=(0,d.z)($t);return O.has($t.zones)?(0,E.of)(O.get($t.zones)):(0,n.JtY)(`${j}/asset_types${q?"?"+q:""}`).pipe((0,h.T)(Ie=>Ie),(0,g.n)(Ie=>(0,_.p)(Ie.map(se=>Y({limit:200,...$t,type_id:se.id}).pipe((0,h.T)(fe=>({...se,assets:fe})))))),(0,b.M)(Ie=>{O.set($t.zones,Ie),setTimeout(()=>O.delete($t.zones),3e5)}))}function ie($t){return(0,n.JtY)(`${j}/asset_types/${$t}`).pipe((0,h.T)(q=>q))}function Y($t={}){const q=(0,d.z)($t);return(0,n.JtY)(`${j}/assets${q?"?"+q:""}`).pipe((0,h.T)(Ie=>Ie))}function dt($t,q){return $t.type="asset-request",(0,u.zV)([W($t),(0,M.tj)($t)]).pipe((0,h.T)(([Ie,se])=>(se=se.filter(fe=>"declined"!==fe.status&&"cancelled"!==fe.status),Ie.map(fe=>({...fe,assets:fe.assets.filter(Ke=>q?.includes(Ke.id)||!se.find(It=>!q.includes(It.id)&&(It.asset_id===Ke.id||It.asset_ids?.includes(Ke.id))))})))))}function In($t,q){return rn.apply(this,arguments)}function rn(){return(rn=(0,e.A)(function*({id:$t,ical_uid:q,from_booking:Ie},{date:se,duration:fe,all_day:Ke,host:It,location_name:Kt,location_id:vn,zones:Pt,reset_state:an},Et=[],bt=!1){const Yt=yield(0,M.tj)({period_start:(0,I._)(Ke?(0,k.o)(se):se),period_end:(0,I._)(Ke?(0,y.D)((0,x.z)(se,fe)):(0,x.z)(se,fe)),type:"asset-request",zones:Pt.join(",")}).toPromise(),Xt=$t&&q?yield(0,M.tj)({period_start:(0,I._)((0,k.o)(se)),period_end:(0,I._)((0,y.D)(se)),type:"asset-request",email:It,event_id:Ie?"":$t,booking_id:Ie?$t:"",ical_uid:q}).toPromise():[],nn=Xt.map(Te=>[Te.id,new P.Y(Te.extension_data.request)]);Et?.forEach(Te=>Te.conflict=!1);let yn=bt?Et.map(Te=>Te.id):function _n($t,q){if((!$t||$t?.length<=0)&&q?.length)return[];if(!q)return[];const se=[];for(const fe of $t){const Ke=q.find(It=>It.id===fe.id);(!Ke||Ke.ref_id!==fe.ref_id)&&se.push(fe.id)}return se}(Et,nn.map(([Te,Ge])=>Ge),an);if(an){const Te=Xt.filter(Ge=>Ge.approved||Ge.rejected);yn=(0,K.Am)([...yn,...Te.map(Ge=>Ge.extension_data.request_id)])}const Mn=nn.filter(([Te,Ge])=>!yn.includes(Ge.id)),Ln=nn.filter(([Te,{id:Ge}])=>yn.includes(Ge)),Fn=Et.filter(({id:Te})=>yn.includes(Te)),$n=Yt.filter(Te=>!Te.rejected&&(!Xt.find(Ge=>Ge.id===Te.id)||Mn.find(([Ge])=>Te.event_id===Ge)));let Ht=(0,K.Bq)($n.map(Te=>Te.asset_ids));for(const[Te,Ge]of Mn)Ht=[...Ht,...(0,K.Bq)(Ge.items.map(Tt=>Tt.item_ids))];const ze=yield dt({period_start:(0,I._)(Ke?(0,k.o)(se):se),period_end:(0,I._)(Ke?(0,y.D)((0,x.z)(se,fe)):(0,x.z)(se,fe)),type:"asset-request"},Xt.map(Te=>Te.id)).toPromise(),Bt=Fn.map(Te=>{let Ge=(0,K.Bq)(Te.items.map(({id:We,item_ids:Pe,quantity:Ue})=>{const De=ze.find(Qe=>Qe.id===We)?.assets;if(!De)return Pe;const rt=[];return new Array(Ue).fill(0).map((Qe,vt)=>{const et=Ht.includes(Pe[vt])||rt.includes(Pe[vt])||!Pe[vt]?De?.find(({id:Re})=>!Ht.includes(Re)&&!rt.includes(Re))?.id:Pe[vt];if(!et)throw Te.conflict=!0,"Unable to find available asset for request";return rt.push(et),et})}));const Tt=Xt.find(We=>We.asset_ids.find(Pe=>Te.items?.find(Ue=>Ue.item_ids.includes(Pe))));Ht=[...Ht,...Ge];const Wt={type:"asset-request",booking_type:"asset-request",date:se,duration:fe,all_day:Ke,description:Kt,user_email:It,asset_id:Ge[0],asset_ids:Ge,asset_name:Te.items.map(We=>We.name).join(", "),title:Te.items.map(We=>We.name).join(", "),approved:!an&&Tt?.approved&&!Te._changed,rejected:!an&&Tt?.rejected&&!Te._changed,extension_data:{parent_id:$t,request_id:Te.id,location_id:vn,request:new P.Y({...Te,event:null})},zones:Pt||[]};return Ie&&(Wt.parent_id=$t),(0,M.sH)(new B.Qr(Wt),{ical_uid:q,event_id:Ie?"":$t})});return(0,e.A)(function*(){yield Promise.all(Ln.map(([Te])=>(0,M.UN)(Te).toPromise())),yield Promise.all(Bt.map(Te=>Te.toPromise()))})})).apply(this,arguments)}},7915:(Ot,ve,s)=>{"use strict";s.d(ve,{Qr:()=>d.Qr,nx:()=>n.n,oZ:()=>j,ZM:()=>v.Z,$H:()=>S.$,wu:()=>A.w,SG:()=>e.S,Z$:()=>g.Z$,eW:()=>g.eW,Jm:()=>h.Jm,tj:()=>g.tj,vB:()=>g.vB,UN:()=>g.UN,DO:()=>g.DO});var e=s(8742),n=s(8379),d=s(3857),h=s(7141),g=s(5645),b=s(467),E=s(1168),_=s(5987),u=s(3601),I=s(4512),k=s(4046),y=s(5006),x=s(8026),M=s(3367),B=s(7254),K=s(3953),P=s(4006);let j=(()=>{class L{constructor(O,W){this._org=O,this._dialog=W,this.can_set_date=!0,this.error_on_host=!0}bookDesk({desks:O,host:W,reason:U,attendees:$,date:te}){var ie=this;return(0,b.A)(function*(){if(ie.error_on_host&&!W)return(0,E.UG)("You need to select a host to book a desk.");W=W||(0,E.Ny)(),U=U||"";const me=ie._org.levelWithID(O[0].zone instanceof Array?O[0].zone:[O[0].zone?.id]);let Y=ie._dialog.open(B.b),F=yield Promise.race([Y.componentInstance.event.pipe((0,k.$)(_e=>"done"===_e.reason)).toPromise(),Y.afterClosed().pipe((0,y.T)(_e=>null)).toPromise()]);if(!F||(Y.close(),Y=ie._dialog.open(M.I,{data:{host:W,desks:O,date:te?new Date(te):new Date,reason:U,level:me,can_set_date:ie.can_set_date}}),F=yield Promise.race([Y.componentInstance.event.pipe((0,k.$)(_e=>"done"===_e.reason)).toPromise(),Y.afterClosed().pipe((0,y.T)(_e=>null)).toPromise()]),!F))return;if(te=Y.componentInstance.date||te,U=Y.componentInstance.reason||U,!(W=Y.componentInstance.host||W))return Y.close(),(0,E.UG)("You need to select a host to book a desk. ");if(Y.componentInstance.loading="Checking for existing desk bookings...",(yield(0,g.tj)({type:"desk",period_start:(0,_._)((0,u.o)(te||new Date)),period_end:(0,_._)((0,I.D)(te||new Date))}).toPromise()).filter(_e=>_e.user_email.toLowerCase()===W.email.toLowerCase())?.length)return Y.close(),(0,E.UG)("You currently already have a desk booked for the selected date.");Y.componentInstance.loading="Booking desk...";const ae=[W,...$||[]];return yield Promise.all([O.map((_e,xe)=>ie.makeDeskBooking(_e,W,te.valueOf()||(new Date).valueOf(),U,ae[xe]))]),(0,E.VX)("Successfully booked desk"),Y.close(),!0})()}makeDeskBooking(O,W,U,$,te=null){var ie=this;return(0,b.A)(function*(){const me=`${O.zone?.name}-${O.id}`,Y=ie._org.levelWithID(O.zone instanceof Array?O.zone:[O.zone?.id]),F=O.zone?.id?[O.zone?.id,Y?.parent_id]:[Y?.parent_id],N={booking_start:(0,_._)((0,u.o)(U)),user_id:te?.id||W.id,user_name:te?.name||W.name,user_email:te?.email||W.email,booking_end:Math.floor((0,I.D)(U).valueOf()/1e3),asset_id:O.id,asset_name:O.name,title:$,description:me,zones:F,booking_type:"desk",extension_data:{map_id:O?.map_id||O?.id,groups:O.groups,for_user:te?.email}};return(0,g.X0)(N).toPromise()})()}static#e=this.\u0275fac=function(W){return new(W||L)(K.KVO(x.y),K.KVO(P.bZ))};static#t=this.\u0275prov=K.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();var S=s(8796),v=(s(1781),s(7547),s(7642)),A=s(1593)},7547:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>te});var e=s(3953),n=s(1168),d=s(5818),h=s(4903),g=s(7926),b=s(2659),E=s(5006),u=(s(3857),s(1781)),I=s(5354),k=s(8026),y=s(1593),x=s(5713),M=s(4006),B=s(2091),K=s(177),P=s(9434),j=s(907);const S=()=>["./"],w=ie=>({booking:ie});function m(ie,me){if(1&ie&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&ie){const Y=e.XpG(2);e.R7$(),e.SpI("",Y.day,",\xa0")}}function v(ie,me){if(1&ie&&(e.j41(0,"h4",3),e.DNE(1,m,2,1,"span",4),e.EFF(2),e.nI1(3,"date"),e.j41(4,"span",5),e.EFF(5),e.nI1(6,"date"),e.k0s()()),2&ie){const Y=e.XpG();e.R7$(),e.Y8G("ngIf",Y.show_day),e.R7$(),e.SpI(" ",e.i5U(3,3,null==Y.booking?null:Y.booking.date,Y.time_format)," "),e.R7$(3),e.SpI("(",e.i5U(6,6,null==Y.booking?null:Y.booking.date,"z"),")")}}function A(ie,me){if(1&ie&&(e.j41(0,"app-icon"),e.EFF(1),e.k0s()),2&ie){const Y=e.XpG(2);e.R7$(),e.JRh(Y.type)}}function L(ie,me){if(1&ie&&(e.j41(0,"div",19)(1,"app-icon"),e.EFF(2,"place"),e.k0s(),e.j41(3,"div",20),e.EFF(4),e.k0s()()),2&ie){const Y=e.XpG(2);e.R7$(4),e.JRh(Y.location)}}function G(ie,me){1&ie&&(e.j41(0,"div",21),e.EFF(1," Associate "),e.k0s())}function O(ie,me){1&ie&&(e.j41(0,"div",21),e.EFF(1," Event "),e.k0s())}function W(ie,me){if(1&ie&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&ie){const Y=e.XpG(2);e.R7$(),e.SpI(" ","declined"!==Y.booking.status?"RESERVED":"RELEASED"," ")}}function U(ie,me){if(1&ie){const Y=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(Y);const N=e.XpG();return e.Njj(N.viewDetails())}),e.j41(1,"div",8)(2,"h4",9),e.EFF(3),e.k0s(),e.j41(4,"div",10)(5,"status-pill",11),e.EFF(6),e.k0s()(),e.j41(7,"div",12)(8,"div",13),e.DNE(9,A,2,1,"app-icon",14),e.j41(10,"div",15),e.EFF(11),e.k0s()(),e.DNE(12,L,5,1,"div",16),e.k0s(),e.j41(13,"app-icon",17),e.EFF(14," chevron_right "),e.k0s(),e.DNE(15,G,2,0,"div",18)(16,O,2,0,"div",18)(17,W,2,1,"div",18),e.nI1(18,"async"),e.k0s()()}if(2&ie){const Y=e.XpG(),F=e.sdS(3);e.Y8G("routerLink",e.lJ4(14,S))("queryParams",e.eq3(15,w,null==Y.booking?null:Y.booking.id)),e.R7$(3),e.JRh(null==Y.booking?null:Y.booking.title),e.R7$(2),e.Y8G("status",Y.status),e.R7$(),e.JRh(Y.period),e.R7$(3),e.Y8G("ngIf","desk"!==Y.type)("ngIfElse",F),e.R7$(2),e.SpI(" ",Y.raw_description||(null==Y.booking?null:Y.booking.asset_name)||(null==Y.booking?null:Y.booking.asset_id)," "),e.R7$(),e.Y8G("ngIf",Y.location),e.R7$(3),e.Y8G("ngIf",!Y.for_current_user&&"group-event"!==(null==Y.booking?null:Y.booking.booking_type)),e.R7$(),e.Y8G("ngIf","group-event"===(null==Y.booking?null:Y.booking.booking_type)),e.R7$(),e.Y8G("ngIf",e.bMT(18,12,Y.is_reserved_parking_space))}}function $(ie,me){1&ie&&e.nrm(0,"img",22)}let te=(()=>{class ie extends I.T{get for_current_user(){return this.booking?.user_email.toLowerCase()===(0,n.Ny)()?.email.toLowerCase()}get time_format(){return this._settings.time_format}get status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status||"cancelled"===this.booking?.status?"error":"warning"}constructor(Y,F,N,J,ae){super(),this._dialog=Y,this._route=F,this._org=N,this._settings=J,this._parking=ae,this.show_day=!1,this.edit=new e.bkB,this.remove=new e.bkB,this.end=new e.bkB,this.raw_description="",this.is_reserved_parking_space=this._parking.assigned_space.pipe((0,E.T)(_e=>"parking"===this.booking.booking_type&&_e&&this.booking.asset_id===_e.id))}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(Y=>Y.has("booking")&&this.booking?.id===Y.get("event")?this.viewDetails():""))}ngOnChanges(Y){Y.booking&&(this.raw_description=this.removeHtmlTags(this.booking?.description))}get type(){return"desk"===this.booking?.type?"desk":"parking"===this.booking?.type?"drive_eta":"book"}get day(){const Y=this.booking?.date||Date.now();return`${(0,d.r)(Date.now(),Y)?"Today":(0,h.GP)(Y,"EEEE")}`}get location(){const Y=this._org.levelWithID(this.booking?.zones||[]);return`${Y?.display_name||Y?.name||""}`}get period(){if(this.booking?.is_all_day)return"All Day";const Y=this.booking?.date||Date.now(),F=this.booking?.duration||60,N=(0,g.z)(Y,F),J=(0,b.a)({hours:Math.floor(F/60),minutes:F%60}).replace(" hour","hr").replace(" minute","min");return`${(0,h.GP)(Y,this.time_format)} - ${(0,h.GP)(N,this.time_format)} (${J})`}removeHtmlTags(Y){return(new DOMParser).parseFromString(Y,"text/html").body.textContent||""}viewDetails(){this.booking&&this.timeout("open",()=>{const N=this._dialog.open("group-event"===this.booking.booking_type?x.E:u.W,{data:"group-event"===this.booking.booking_type?{booking:this.booking,concierge:!1}:this.booking});this.subscription("edit",N.componentInstance.edit?.subscribe(()=>this.edit.emit())),this.subscription("remove",N.componentInstance.remove?.subscribe(()=>this.remove.emit())),this.subscription("end",N.componentInstance.end?.subscribe(()=>this.end.emit()))})}static#e=this.\u0275fac=function(F){return new(F||ie)(e.rXU(M.bZ),e.rXU(B.nX),e.rXU(k.y),e.rXU(n.h$),e.rXU(y.w))};static#t=this.\u0275cmp=e.VBU({type:ie,selectors:[["booking-card"]],inputs:{booking:"booking",show_day:"show_day"},outputs:{edit:"edit",remove:"remove",end:"end"},features:[e.Vt3,e.OA$],decls:4,vars:2,consts:[["desk_icon",""],["class","mb-2 flex items-center",4,"ngIf"],["name","view-booking-details","class","w-full cursor-pointer overflow-hidden relative",3,"routerLink","queryParams","click",4,"ngIf"],[1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-booking-details",1,"w-full","cursor-pointer","overflow-hidden","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4","max-w-[33%]"],[4,"ngIf","ngIfElse"],[1,"mx-2","truncate","flex-1","w-1/2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute top-2 right-2 bg-warning/50 rounded-xl px-2 py-1 text-xs",4,"ngIf"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"absolute","top-2","right-2","bg-warning/50","rounded-xl","px-2","py-1","text-xs"],["src","assets/icons/desk-outline.svg",1,"w-5","h-5"]],template:function(F,N){1&F&&e.DNE(0,v,7,9,"h4",1)(1,U,19,17,"a",2)(2,$,1,0,"ng-template",null,0,e.C5r),2&F&&(e.Y8G("ngIf",N.booking),e.R7$(),e.Y8G("ngIf",N.booking))},dependencies:[K.bT,P.R,j.F,K.Jj,K.vh],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative}"]})}return ie})()},1781:(Ot,ve,s)=>{"use strict";s.d(ve,{W:()=>_e});var e=s(467),n=s(3953),d=s(4006),h=s(1168),g=s(7926),b=s(2659),E=s(4903),_=s(620),u=s(1865),I=s(8026),y=(s(3857),s(5645)),x=s(7904),M=s(177),B=s(9183),K=s(9434),P=s(4918),j=s(5277),S=s(907),w=s(9115),m=s(6600),v=s(4823);const A=()=>({disable_pan:!0,disable_zoom:!0});function L(xe,Fe){1&xe&&n.nrm(0,"div",27)}function G(xe,Fe){if(1&xe&&(n.j41(0,"div",28),n.nrm(1,"image-carousel",29),n.k0s()),2&xe){const Ae=n.XpG();n.R7$(),n.Y8G("images",null==Ae.booking||null==Ae.booking.extension_data?null:Ae.booking.extension_data.images)}}function O(xe,Fe){if(1&xe&&(n.j41(0,"div",35)(1,"app-icon"),n.EFF(2),n.k0s(),n.j41(3,"div",36),n.EFF(4),n.k0s()()),2&xe){const Ae=n.XpG(3);n.R7$(2),n.JRh(Ae.booking.checked_in?"done":"arrow_back"),n.R7$(2),n.SpI(" ",Ae.booking.checked_in?"Checked in":"Check in"," ")}}function W(xe,Fe){1&xe&&n.nrm(0,"mat-spinner",37),2&xe&&n.Y8G("diameter",32)}function U(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"button",33),n.bIt("click",function(){n.eBV(Ae);const qe=n.XpG(2);return n.Njj(qe.toggleCheckedIn())}),n.DNE(1,O,5,2,"div",34)(2,W,1,1,"ng-template",null,1,n.C5r),n.k0s()}if(2&xe){const Ae=n.sdS(3),Ye=n.XpG(2);n.AVh("bg-success",Ye.booking.checked_in)("text-success-content",Ye.booking.checked_in),n.Y8G("disabled",Ye.checking_in),n.R7$(),n.Y8G("ngIf",!Ye.checking_in)("ngIfElse",Ae)}}function $(xe,Fe){if(1&xe&&(n.j41(0,"div",30),n.DNE(1,U,4,7,"button",31),n.j41(2,"button",32)(3,"app-icon"),n.EFF(4,"more_horiz"),n.k0s()()()),2&xe){const Ae=n.XpG(),Ye=n.sdS(43);n.R7$(),n.Y8G("ngIf",!(Ae.booking.checked_out_at||Ae.checked_out||Ae.auto_checkin||"upcoming"!==Ae.booking.state&&"in_progress"!==Ae.booking.state||"declined"===Ae.booking.status)),n.R7$(),n.Y8G("matMenuTriggerFor",Ye)}}function te(xe,Fe){if(1&xe&&(n.j41(0,"div",51)(1,"div",52)(2,"span",45),n.EFF(3),n.k0s()(),n.j41(4,"div",53),n.EFF(5),n.k0s()()),2&xe){const Ae=Fe.$implicit;n.R7$(3),n.JRh(Ae.name||"Item"),n.R7$(2),n.SpI(" x",Ae.quantity," ")}}function ie(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"div",42)(1,"button",43),n.bIt("click",function(){const qe=n.eBV(Ae).$implicit,Ne=n.XpG(2);return n.Njj(Ne.show_request[qe.id]=!Ne.show_request[qe.id])}),n.j41(2,"div",44)(3,"div",45),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",46)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"app-icon",48),n.EFF(11),n.k0s()()(),n.j41(12,"div",49),n.DNE(13,te,6,2,"div",50),n.k0s()()}if(2&xe){const Ae=Fe.$implicit,Ye=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,Ae.deliver_at,"MMM d, "+Ye.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===Ae.state)("text-success-content","approved"===Ae.state)("bg-warning","approved"!==Ae.state&&"rejected"!==Ae.state)("text-warning-content","approved"!==Ae.state&&"rejected"!==Ae.state)("bg-error","rejected"===Ae.state)("text-error-content","rejected"===Ae.state),n.Y8G("matTooltip",Ae.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===Ae.state?"done":"rejected"===Ae.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",Ye.show_request[Ae.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",Ye.show_request[Ae.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Ae.items)}}function me(xe,Fe){if(1&xe&&(n.qex(0),n.j41(1,"div",38)(2,"h3",39),n.pXf(3,3),n.k0s(),n.j41(4,"div",40),n.DNE(5,ie,14,21,"div",41),n.k0s()(),n.bVm()),2&xe){const Ae=n.XpG();n.R7$(3),n.uP7((null==Ae.booking.valid_assets?null:Ae.booking.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",Ae.booking.valid_assets)}}function Y(xe,Fe){if(1&xe&&(n.qex(0),n.nrm(1,"interactive-map",54),n.bVm()),2&xe){const Ae=n.XpG();n.R7$(),n.Y8G("src",null==Ae.level?null:Ae.level.map_id)("features",Ae.features)("options",n.lJ4(3,A))}}function F(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"button",55),n.bIt("click",function(){n.eBV(Ae);const qe=n.XpG();return n.Njj(qe.edit.emit())}),n.j41(1,"div",56)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,4),n.k0s()()()}}function N(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Ae);const qe=n.XpG();return n.Njj(qe.setDeskHeight())}),n.j41(1,"div",56)(2,"app-icon",58),n.EFF(3," height "),n.k0s(),n.j41(4,"div"),n.pXf(5,5),n.k0s()()()}}function J(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Ae);const qe=n.XpG();return n.Njj(qe.remove.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,6),n.k0s()()()}}function ae(xe,Fe){if(1&xe){const Ae=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(Ae);const qe=n.XpG();return n.Njj(qe.end.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,7),n.k0s()()()}}let _e=(()=>{class xe{get level(){return this._org.levelWithID(this.booking?.zones||[])}get building(){const Ae=this._org.buildings.find(Ye=>(this.booking?.zones||[]).includes(Ye.id));if(this._settings.get("app.use_region")){const Ye=this._org.regions.find(qe=>(this.booking?.zones||[]).includes(qe.id)||qe.id===Ae?.parent_id);if(Ye)return Ye}return Ae}get can_edit(){return"visitor"!==this.booking.booking_type&&"parking"!==this.booking.booking_type}get auto_checkin(){return this._settings.get(`app.${this.booking?.type||"bookings"}.auto_checkin`)}get is_checked_in(){return this.booking.checked_in}get desk_height_enabled(){return"desk"===this.booking?.type&&this._settings.get("app.desks.height_enabled")}get is_in_progress(){const Ae=Date.now(),Ye=1e3*this.booking?.booking_start,qe=1e3*this.booking?.booking_end;return this.booking?.all_day?Ye<=Ae:Ye<=Ae&&Ae<=qe}get time_format(){return this._settings.time_format}get booking_status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status?"error":"warning"}constructor(Ae,Ye,qe,Ne){this._booking=Ae,this._settings=Ye,this._org=qe,this._dialog=Ne,this.edit=new n.bkB,this.remove=new n.bkB,this.end=new n.bkB,this.booking=this._booking,this.hide_map=!1,this.show_request={},this.checked_out=!1,this.checking_in=!1,this.features=[{location:this.booking?.extension_data?.map_id||this.booking?.asset_id,content:u.V}],this.has_assets=!!this.booking?.valid_assets.length,console.log("Valid assets:",this.booking?.valid_assets)}get period(){if(this.booking?.is_all_day)return"All Day";const Ae=this.booking?.date||Date.now(),Ye=this.booking?.duration||60,qe=(0,g.z)(Ae,Ye),Ne=(0,b.a)({hours:Math.floor(Ye/60),minutes:Ye%60}).replace(" hour","hr").replace(" minute","min");return`${(0,E.GP)(Ae,this.time_format)} - ${(0,E.GP)(qe,this.time_format)} (${Ne})`}toggleCheckedIn(){var Ae=this;return(0,e.A)(function*(){Ae.checking_in=!0;const Ye=Ae.booking;yield(Ye.instance?(0,y.eW)(Ye.id,Ye.instance,!Ae.booking.checked_in):(0,y.Z$)(Ae.booking.id,!Ae.booking.checked_in)).toPromise().catch(Ne=>{throw(0,h.UG)("Error checking in booking"),Ae.checking_in=!1,Ne}),Ae.booking.checked_in=!Ae.booking.checked_in,Ae.checked_out=!Ae.booking.checked_in,(0,h.VX)("Successfully "+(Ae.booking.checked_in?"checked in":"ended booking")),Ae.checking_in=!1})()}status(Ae){const Ye=this.booking.linked_bookings.find(qe=>qe.asset_id===Ae);return Ye.status?Ye.status:Ye?Ye.approved?"approved":Ye.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(_.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:{id:this._booking.asset_id,name:this._booking.asset_name,map_id:this._booking.extension_data.map_id||this.booking.asset_id,level:this.level}}}).afterClosed().subscribe(()=>this.hide_map=!1)}setDeskHeight(){this._dialog.open(x.R,{data:{id:this.booking.asset_ids[0]||this.booking.asset_id}})}static#e=this.\u0275fac=function(Ye){return new(Ye||xe)(n.rXU(d.Vh),n.rXU(h.h$),n.rXU(I.y),n.rXU(d.bZ))};static#t=this.\u0275cmp=n.VBU({type:xe,selectors:[["booking-details-modal"]],outputs:{edit:"edit",remove:"remove",end:"end"},decls:48,vars:23,consts:()=>{let Ae,Ye,qe,Ne,Me,pe;return Ae=$localize`:␟2c8ce65c566300dc9063f69c615fda2e3a6b896a␟2102851380219026584: Details `,Ye=$localize`:␟9e3da900d415898c8ff7b522c5eecccfe4de018e␟31749697777503671: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,qe=$localize`:␟53f264e5fad94a425174c18cf299eeac7482f258␟1612171114840935381:Edit booking`,Ne=$localize`:␟35729dbbde462f39a391c9abc24a3f79eebfba7a␟7190557592686051728:Set Desk Height`,Me=$localize`:␟55883ef2b67c24d30f999a5ade421493fdc9e14a␟1139994899162365077:Delete booking`,pe=$localize`:␟2f3dfd27ad1999e91bb66ad271f967d6e543956f␟834898868131691573:End booking`,[["menu","matMenu"],["loading_state",""],Ae,Ye,qe,Ne,Me,pe,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[4]","min-w-1/3","sm:w-[16rem]"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["map","",1,"mt-4","sm:my-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","m-2","flex-grow-[3]","min-w-1/3","w-[calc(100%-1rem)]","p-2","sm:w-[16rem]",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-2","bg-neutral","text-white"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10 border-none",3,"bg-success","text-success-content","disabled","click",4,"ngIf"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-12","w-12",3,"matMenuTriggerFor"],["btn","","matRipple","",1,"flex-1","h-10","border-none",3,"click","disabled"],["class","flex items-center space-x-2 justify-center",4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],[1,"mx-auto",3,"diameter"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","py-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"text-sm"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"pointer-events-none",3,"src","features","options"],["mat-menu-item","","mat-dialog-close","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click"],["className","material-symbols-rounded"],[1,"text-error"]]},template:function(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"div",8)(1,"div",9),n.DNE(2,L,1,0,"div",10)(3,G,2,1,"div",11),n.j41(4,"h3",12),n.EFF(5),n.k0s(),n.j41(6,"div",13)(7,"div",14)(8,"status-pill",15),n.EFF(9),n.k0s()(),n.DNE(10,$,5,2,"div",16),n.k0s()(),n.j41(11,"div",17)(12,"div",18)(13,"h3",19),n.pXf(14,2),n.k0s(),n.j41(15,"div",20)(16,"app-icon"),n.EFF(17,"event"),n.k0s(),n.j41(18,"div"),n.EFF(19),n.nI1(20,"date"),n.k0s()(),n.j41(21,"div",20)(22,"app-icon"),n.EFF(23,"schedule"),n.k0s(),n.j41(24,"div"),n.EFF(25),n.k0s()(),n.j41(26,"div",20)(27,"app-icon"),n.EFF(28,"map"),n.k0s(),n.j41(29,"div"),n.EFF(30),n.k0s()(),n.j41(31,"div",20)(32,"app-icon"),n.EFF(33,"place"),n.k0s(),n.j41(34,"div"),n.EFF(35),n.k0s()()(),n.DNE(36,me,6,2,"ng-container",21),n.j41(37,"button",22),n.bIt("click",function(){return n.eBV(Ne),n.Njj(qe.viewLocation())}),n.DNE(38,Y,2,4,"ng-container",21),n.k0s()(),n.j41(39,"button",23)(40,"app-icon"),n.EFF(41,"close"),n.k0s()()(),n.j41(42,"mat-menu",24,0),n.DNE(44,F,6,0,"button",25)(45,N,6,0,"button",26)(46,J,6,0,"button",26)(47,ae,6,0,"button",26),n.k0s()}2&Ye&&(n.R7$(2),n.Y8G("ngIf",!(null!=qe.booking&&null!=qe.booking.extension_data&&null!=qe.booking.extension_data.images&&qe.booking.extension_data.images.length)),n.R7$(),n.Y8G("ngIf",null==qe.booking||null==qe.booking.extension_data||null==qe.booking.extension_data.images?null:qe.booking.extension_data.images.length),n.R7$(),n.AVh("pt-4",!(null!=qe.booking&&null!=qe.booking.extension_data&&qe.booking.extension_data.images)),n.R7$(),n.SpI(" ",qe.booking.title," "),n.R7$(3),n.Y8G("status",qe.booking_status),n.R7$(),n.SpI(" ",qe.period," "),n.R7$(),n.Y8G("ngIf",!qe.booking.is_done),n.R7$(9),n.JRh(n.i5U(20,20,qe.booking.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(qe.period),n.R7$(5),n.Lme(" ",(null==qe.level?null:qe.level.display_name)||(null==qe.level?null:qe.level.name),", ",qe.booking.asset_name||qe.booking.asset_id," "),n.R7$(5),n.Lme(" ",(null==qe.building?null:qe.building.display_name)||(null==qe.building?null:qe.building.name)," ",null!=qe.building&&qe.building.address?", "+qe.building.address:""," "),n.R7$(),n.Y8G("ngIf",qe.has_assets),n.R7$(2),n.Y8G("ngIf",!qe.hide_map),n.R7$(6),n.Y8G("ngIf",qe.can_edit),n.R7$(),n.Y8G("ngIf",qe.is_checked_in&&qe.desk_height_enabled),n.R7$(),n.Y8G("ngIf",!qe.is_in_progress),n.R7$(),n.Y8G("ngIf",qe.is_in_progress))},dependencies:[M.Sq,M.bT,d.tx,B.LG,K.R,P.S,j.H,S.F,w.kk,w.fb,w.Cp,m.r6,v.oV,M.vh],data:{animation:[h.Ft]}})}return xe})()},8379:(Ot,ve,s)=>{"use strict";s.d(ve,{n:()=>ae});var e=s(467),n=s(2091),d=s(1168),h=s(1038),g=s(3601),b=s(5987),E=s(7926),_=s(4903),u=s(9928),I=s(9714),k=s(4421),y=s(4670),x=s(6651),M=s(696),B=s(8712),K=s(1713),P=s(3020),j=s(9090),S=s(8841),w=s(5006),m=s(8728),v=s(3921),A=s(4046),L=s(9493),G=s(8026),O=s(3857),W=s(7141),U=s(5645),$=s(7254),te=s(4525),ie=s(4089),me=s(5204),Y=s(6088),F=s(3953),N=s(4006);const J=["desk","parking","locker","catering"];let ae=(()=>{class _e extends d.Tv{get view(){return this._view.getValue()}get booking(){return this._booking.getValue()}resourceUserName(Fe){return this._resource_use[Fe]}newForm(Fe=new O.Qr({all_day:this._settings.get("app.bookings.all_day_default")})){this.form.reset(),this.form.patchValue((0,h.jv5)({...Fe,...Fe.extension_data},[null,void 0,""])),this.subscription("form_change",this.form.valueChanges.subscribe(()=>{const{date:Ae,duration:Ye}=this.form.getRawValue();this._assets.setOptions({date:Ae,duration:Ye}),this.storeForm()})),this.timeout("date",()=>{this.form.patchValue({date:Fe.date,duration:Fe.duration})}),this._booking.next(new O.Qr(Fe)),this._options.next({type:this._options.getValue().type})}constructor(Fe,Ae,Ye,qe,Ne,Me){super(),this._router=Fe,this._settings=Ae,this._org=Ye,this._dialog=qe,this._payments=Ne,this._assets=Me,this._view=new u.t("form"),this._options=new u.t({type:"desk"}),this._booking=new u.t(null),this._resource_use={},this._loading=new u.t(""),this.last_success=new O.Qr(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_booking")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.pipe((0,B.t)(1)),this.form=(0,W.Rr)(),this.resources=(0,I.zV)([this._org.active_building,this.options.pipe((0,K.w)("type"))]).pipe((0,P.B)(300),(0,j.n)(([pe,{type:he}])=>{if(!pe)return(0,k.of)([]);switch(he){case"desk":return this._loading.next("Loading desks..."),this.loadResourceList("desks");case"parking":return this._loading.next("Loading parking spaces..."),this.loadResourceList("parking-spaces");case"locker":return this._loading.next("Loading lockers..."),this.loadResourceList("lockers")}return(0,k.of)([])}),(0,S.M)(()=>this._loading.next("")),(0,B.t)(1)),this.features=this.resources.pipe((0,w.T)(pe=>{const he=[];for(const{features:le}of pe)le instanceof Array&&le.forEach(Ee=>he.push(Ee));return(0,d.Am)(he).sort((le,Ee)=>le.localeCompare(Ee))}),(0,B.t)(1)),this.booking_rules=(0,I.zV)([this._org.building_list,this._options]).pipe((0,j.n)(([pe,{type:he}])=>Promise.all(pe.map(le=>(0,h.bpY)(le.id,`${he}_booking_rules`).toPromise()))),(0,w.T)(pe=>{const he={};for(const le of pe)he[le.id]=le.details instanceof Array?le.details:[];return he}),(0,B.t)(1)),this.available_resources=(0,I.zV)([this.options,this.resources,this.booking_rules,(0,y.h)(this.form.get("date").valueChanges,(0,x.O)(1e3)),(0,y.h)(this.form.get("duration").valueChanges,(0,x.O)(1e3))]).pipe((0,m.p)(()=>this.form.getRawValue().date>0&&this.form.getRawValue().duration>0),(0,P.B)(500),(0,S.M)(([{type:pe}])=>this._loading.next(`Checking ${pe} availability...`)),(0,j.n)(([pe,he,le])=>{var{all_day:Ee,date:Xe,duration:xt,user:dt}=this.form.getRawValue();return Ee&&(Xe=(0,g.o)(Xe).valueOf(),xt=1439),(0,U.$F)({period_start:(0,b._)(Xe),period_end:(0,b._)((0,E.z)(Xe,xt)),type:pe.type,zones:pe.zone_id||(this._settings.get("app.use_region")?this._org.region?.id:this._org.building?.id)||this._org.organisation.id}).pipe((0,w.T)(Ct=>{const Qt=this.form.getRawValue().date;(0,E.z)(Qt,this.form.getRawValue().duration).valueOf(),this._resource_use={};for(const rn of Ct)this._resource_use[rn]=" ";const In=he.filter(rn=>!(0,d.RH)({date:Xe,duration:xt,resource:rn,host:dt||(0,d.Ny)()},le[rn.zone?.id]||le[rn.zone?.parent_id]||le[this._org.building.id]||[]).hidden&&(!rn.groups?.length||rn.groups.some(q=>(0,d.Ny)().groups.includes(q)))&&!1!==rn.bookable&&(!pe.features||pe.features?.every(q=>rn.features.includes(q)))&&(!pe.zone_id||pe.zone_id===rn.zone?.id||pe.zone_id===rn.zone?.parent_id)&&!Ct.includes(rn.id));return console.log("Resources:",he,In),In},(0,v.W)(Ct=>(0,k.of)([]))))}),(0,S.M)(pe=>this._loading.next("")),(0,B.t)(1)),this.grouped_availability=(0,I.zV)([this.options,this.available_resources]).pipe((0,w.T)(([pe,he])=>{const le=[],Ee=[...he].sort((xt,dt)=>xt.zone?.id?.localeCompare(dt.zone?.id)),Xe=pe.members?.length?pe.members:[(0,d.Ny)()];for(;Ee.length;){const xt=[];let dt=Ee.pop();for(;xt.length<Xe.length&&(!xt.length||xt.find(Ct=>Ct.zone?.id===dt.zone?.id));)xt.push(dt),dt=Ee.pop();xt.length<Xe.length||le.push(xt)}return le})),this.subscription("router.bookings",this._router.events.subscribe(pe=>{pe instanceof n.wF&&!pe.url.includes("book")&&!J.find(he=>pe.url.includes(he))&&this.clearForm()})),this._org.initialised.pipe((0,A.$)(pe=>pe)).subscribe(()=>this.setOptions({}))}setView(Fe){this._view.next(Fe)}setOptions(Fe){this._options.next({...this._options.getValue(),...Fe})}setFeature(Fe,Ae){if(!Fe?.length)return;const Ye=this._options.getValue()?.features||[];Ae&&!Ye.includes(Fe)&&Ye.push(Fe),!Ae&&Ye.includes(Fe)&&Ye.splice(Ye.findIndex(qe=>qe===Fe),1),this.setOptions({features:Ye})}resetForm(){if(!sessionStorage.getItem("PLACEOS.booking_form"))return this.newForm();const Fe=this._booking.getValue();this.form.reset({user:(0,d.Ny)(),booked_by:(0,d.Ny)()}),this.form.patchValue((0,h.jv5)({...Fe||{},...Fe?.extension_data||{}},[null,void 0,""])),this._options.next({type:this._options.getValue().type})}clearForm(){sessionStorage.removeItem("PLACEOS.booking_form"),sessionStorage.removeItem("PLACEOS.booking_form_options"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.booking_form",JSON.stringify({...this._booking.getValue(),...(0,h.jv5)(this.form.getRawValue()||{},[null,void 0,""])})),sessionStorage.setItem("PLACEOS.booking_form_filters",JSON.stringify(this._options.getValue()||{}))}loadForm(){this.form.reset({user:(0,d.Ny)(),booked_by:(0,d.Ny)()});const Fe=JSON.parse(sessionStorage.getItem("PLACEOS.booking_form")||"{}"),Ae=new O.Qr(Fe);this._booking.next(Ae);const Ye=(0,h.jv5)({...Fe,...Ae||{},...Ae?.extension_data||{}},[null,void 0,""]);this.form.patchValue(Ye),this.setOptions({...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form_filters")||"{}")})}clearOldState(){sessionStorage.removeItem("PLACEOS.last_booked_booking"),this.last_success=new O.Qr}openBookingLinkModal(Fe=!1){if(this.form.markAllAsTouched(),!this.form.valid&&!Fe)return;const Ae=new O.Qr({...this.booking,...this.form.getRawValue()});this._dialog.open(ie.g,{data:Ae})}confirmPost(){var Fe=this;return(0,e.A)(function*(){yield Fe.checkQuestions();const Ae=Fe._options.getValue(),Ye=Fe.form.getRawValue();let qe=`Would you like to book the ${Ae.type} ${Ye.asset_name} for ${(0,_.GP)(Ye.date,"dd MMM yyyy")}${Ye.duration<720?" at "+(0,_.GP)(Ye.date,"h:mm a"):""}`;Ae.group&&(qe=`${qe}.<br>You group members will be assigned desks nearby your selected desk.`);const Ne=yield(0,d.GE)({title:`Book ${Ae.type}`,content:qe,icon:{content:"event_available"}},Fe._dialog);if("done"!==Ne?.reason)throw"User cancelled";Ne.loading("Performing booking request..."),Ae.group?yield Fe.postFormForGroup().catch(Me=>{throw(0,d.UG)(JSON.stringify(Me)),Ne.close(),Me}):yield Fe.postForm().catch(Me=>{throw(0,d.UG)(JSON.stringify(Me)),Ne.close(),Me}),Ne.close()})()}postForm(Fe=!1){var Ae=this;return(0,e.A)(function*(){if(!Ae.form)throw"No form for booking";if(!Ae.form.valid)throw`Some form fields are invalid. [${(0,d.F7)(Ae.form).join(", ")}]`;Ae.form.patchValue({booking_type:Ae.form.getRawValue().booking_type||Ae._options.getValue().type});let Ye=Ae.form.getRawValue(),qe=Ae._booking.getValue()||new O.Qr;if(Fe||(yield Ae.checkResourceAvailable({...qe,...Ye,user_email:Ye.user?.email||Ye.user_email||(0,d.Ny)()?.email},Ae._options.getValue().type)),Ae._payments.payment_module){const xt=yield Ae._payments.makePayment({type:Ae._options.getValue().type,resource_name:Ye.asset_name,date:Ye.date,duration:Ye.duration,all_day:Ye.all_day});if(!xt?.success)return;Ye.extension_data={invoice:xt,invoice_id:xt.invoice_id}}!Ye.zones?.length&&Ae._booking.getValue().zones?.length&&(Ye.zones=Ae._booking.getValue().zones),Ae._loading.next("Saving booking"),delete Ye.booking_asset,Ye.all_day&&(Ye.date=(0,g.o)(Ye.date).valueOf(),Ye.duration=1439);const{event_id:Ne,parent_id:Me}=Ye;delete Ye.event_id,delete Ye.parent_id;const pe=Ye.resources||[],he=pe[0]?.zone?(0,d.Am)([Ae._org.organisation.id,Ae._org.region?.id,pe[0]?.zone?.parent_id,pe[0]?.zone?.id]):[Ae._org.organisation.id,Ae._org.region?.id],le=Ne?{ical_uid:Ye.ical_uid,event_id:Ne}:Me?{booking_id:Me}:{};qe.instance&&!Ye.update_master&&(le.instance=!0,le.start_time=qe.booking_start);const Ee=yield(0,U.X0)(new O.Qr({...Ae._options.getValue(),...Ye,description:Ye.asset_name||Ye.description,user_name:Ye.user?.name||Ye.user_name,user_email:Ye.user?.email||Ye.user_email,extension_data:{...Ye.extension_data||{},assets:Ye.assets.map(xt=>xt.toJSON()),group:Ye.group,phone:Ye.phone,department:Ye.user?.department||(0,d.Ny)()?.department},approved:!Ae._settings.get("app.bookings.no_approval"),zones:(0,d.Am)([...he,...Ye.zones||[]]).filter(xt=>xt)}),le).toPromise().catch(xt=>{throw Ae._loading.next(""),xt?.error||xt});if(Ye.assets?.length||qe.extension_data.assets?.length){const xt=yield(0,me.en)({...Ee,from_booking:!0},{date:Ye.date,duration:Ye.duration,all_day:Ye.all_day,host:Ye.booked_by_email,zones:(0,d.Am)([...he,...Ye.zones||[]]).filter(dt=>dt)},Ye.assets).catch(dt=>{throw console.error("Couldn't update asset requests",dt),409===dt?.status&&(0,d.UG)("Some assets are already booked for the selected time"),Ae._loading.next(""),dt?.error||dt});if(!xt)throw"Unable to validate asset requests";yield xt()}Ae._loading.next("");const{booking_type:Xe}=Ye;return Ae.clearForm(),Ae.form?.patchValue({booking_type:Xe}),Ae.last_success=Ee,sessionStorage.setItem("PLACEOS.last_booked_booking",JSON.stringify(Ee)),Ae.setView("success"),Ee})()}postFormForGroup(){var Fe=this;return(0,e.A)(function*(){const{members:Ae,group:Ye,type:qe}=Fe._options.getValue();if(!Ye)throw"No group available to book for";const Ne=Ae.filter(_n=>_n.email!==(0,d.Ny)().email);if(Ne.length<=0)throw"No members in your group to book for.";const Me=Fe.form.getRawValue(),pe=yield Fe.available_resources.pipe((0,L.s)(1)).toPromise(),he=pe.find(_n=>_n.id===Me.asset_id||_n.map_id===Me.asset_id),le=Fe._org.levelWithID([he.zone?.id]),Ee=[he,...yield Fe._getNearbyResources(le.map_id,Me.asset_id,pe,Ne.length)],Xe=(0,d.Am)([(0,d.Ny)(),...Ne],"email"),xt=yield Promise.all(Xe.map((_n,In)=>Fe.checkResourceAvailable({...Me,asset_id:Ee[In].map_id||Ee[In].id,user_email:_n.email},qe))),dt=Xe.filter((_n,In)=>!xt[In]),Ct=`${(0,d.Ny)().email}[${(0,_.GP)(Date.now(),"yyyy-MM-dd")}]`;let Qt="";for(let _n=0;_n<Xe.length;_n++){if(!xt[_n])continue;const In=Xe[_n],rn=Ee[_n];Fe.form.patchValue({...Me,parent_id:Qt,user:In,user_email:In.email,user_id:In.id,asset_id:rn?.id,asset_name:rn.name,description:rn.name,map_id:rn?.map_id||rn?.id,group:Ct,zones:(rn.zone?(0,d.Am)([Fe._org.organisation.id,Fe._org.region?.id,rn?.zone?.parent_id,rn?.zone?.id]):[Fe._org.organisation.id,Fe._org.region?.id]).filter(q=>q)});const $t=yield Fe.postForm(!0);$t.id&&!Qt&&(Qt=$t.id)}dt.length&&(0,d.WS)(`Some members of your group already have a desk booking. [${dt.map(_n=>_n.name||_n.email)?.join(", ")}]`)})()}checkQuestions(){var Fe=this;return(0,e.A)(function*(){if(!1!==Fe._settings.get("app.desks.ignore_questions"))return;const Ae=Fe._dialog.open($.b);if("done"!==(yield Promise.race([Ae.componentInstance.event.pipe((0,A.$)(Ne=>"done"===Ne.reason)).toPromise(),Ae.afterClosed().toPromise()]))?.reason)throw"User cancelled";const qe=Ae.componentInstance.form.getRawValue();for(const Ne in qe)if(qe[Ne])throw"User failed questionaire";Ae.close()})()}checkResourceAvailable({id:Fe,asset_id:Ae,date:Ye,duration:qe,user_email:Ne},Me){var pe=this;return(0,e.A)(function*(){if(!Ne)throw"No user was selected to book for";if("group-event"===Me)return!0;let le=(yield(0,U.tj)({period_start:(0,b._)(Ye),period_end:(0,b._)(Ye+60*qe*1e3),type:Me,email:Ne,limit:1e3}).toPromise()).filter(Xe=>"declined"!==Xe.status&&"cancelled"!==Xe.status&&!Xe.rejected);if(le.find(Xe=>Xe.asset_id===Ae&&Fe!==Xe.id))throw Ae.includes("@")?`${Ae} already has an invite for the selected time`:`${Ae} is not available at the selected time`;const Ee=pe._settings.get(`app.bookings.allowed_daily_${Me}_count`)??1;if(Ee>0&&le.filter(Xe=>Xe.user_email.toLowerCase()===(Ne||(0,d.Ny)()?.email).toLowerCase()&&Xe.id!==Fe).length>=Ee){const Xe=Ne===(0,d.Ny)()?.email;throw`${Xe?"You":Ne} already ${Xe?"have":"has"} a booking at the selected time`}return!0})()}loadResourceList(Fe){const Ae=this._settings.get("app.use_region"),Ye=Ne=>(Ne?.metadata[Fe]?.details instanceof Array?Ne.metadata[Fe]?.details:[]).map(Me=>"lockers"!==Fe?{...Me,id:Me.id||Me.map_id,zone:Ne.zone}:Me.lockers?.map(pe=>({...pe,bank_id:Me.id,zone:Ne.zone}))||[]),qe=Ae?this._org.building.parent_id:this._org.building.id;if(Ae){const Ne=this._org.building.parent_id,Me=this._org.buildings.filter(pe=>pe.parent_id===Ne);return(0,M.p)(Me.map(pe=>(0,h.WsZ)(pe.id,{name:Fe}).pipe((0,w.T)(he=>(0,d.Bq)(he.map(Ye)))))).pipe((0,w.T)(pe=>(0,d.Bq)(pe)))}return(0,h.WsZ)(qe,{name:Fe}).pipe((0,w.T)(Ne=>(0,d.Bq)(Ne.map(Ye))))}_getNearbyResources(Fe,Ae,Ye,qe){return(0,e.A)(function*(){const Ne=[];let Me=Ye.filter(pe=>pe.id!==Ae&&pe.map_id!==Ae);for(let pe=0;pe<qe;pe++){const he=yield(0,W.Jm)(Fe,Ae,Me.map(le=>le.map_id||le.id));he&&(Ne.push(Ye.find(le=>le.id===he||le.map_id===he)),Me=Me.filter(le=>le.id!==he&&le.map_id!==he))}return Ne})()}static#e=this.\u0275fac=function(Ae){return new(Ae||_e)(F.KVO(n.Ix),F.KVO(d.h$),F.KVO(G.y),F.KVO(N.bZ),F.KVO(te.h),F.KVO(Y.R))};static#t=this.\u0275prov=F.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},4089:(Ot,ve,s)=>{"use strict";s.d(ve,{g:()=>I});var e=s(4006),n=s(4233),d=s(4571),g=(s(3857),s(3953)),b=s(9434),E=s(6600),_=s(6781),u=s(4616);let I=(()=>{class k{constructor(x,M){this._event=x,this._settings=M,this.outlook_link=(0,d.gP)(this._event),this.google_link=(0,d.dB)(this._event),this.ical_link=(0,d._V)(this._event)}static#e=this.\u0275fac=function(M){return new(M||k)(g.rXU(e.Vh),g.rXU(n.h))};static#t=this.\u0275cmp=g.VBU({type:k,selectors:[["booking-link-modal"]],decls:22,vars:12,consts:()=>{let x,M,B;return x=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,M=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,B=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,[x,M,B,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["icon","","mat-dialog-close","",1,"absolute","top-2","right-0"]]},template:function(M,B){1&M&&(g.j41(0,"div",3),g.EFF(1,"Add event to your calendar"),g.k0s(),g.j41(2,"div",4)(3,"a",5),g.nI1(4,"sanitize"),g.nrm(5,"img",6),g.j41(6,"span"),g.pXf(7,0),g.k0s()(),g.j41(8,"a",5),g.nI1(9,"sanitize"),g.nrm(10,"img",7),g.j41(11,"span"),g.pXf(12,1),g.k0s()(),g.j41(13,"a",5),g.nI1(14,"safe"),g.j41(15,"app-icon",8),g.EFF(16,"download"),g.k0s(),g.j41(17,"span"),g.pXf(18,2),g.k0s()()(),g.j41(19,"button",9)(20,"app-icon"),g.EFF(21,"close"),g.k0s()()),2&M&&(g.R7$(3),g.Y8G("href",g.i5U(4,3,B.outlook_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(9,6,B.google_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(14,9,B.ical_link,"url"),g.B4B))},dependencies:[e.tx,b.R,E.r6,_.m,u.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return k})()},3857:(Ot,ve,s)=>{"use strict";s.d(ve,{Qr:()=>P});var e=s(1168),n=s(7926),d=s(5987),h=s(9548),g=s(2037),b=s(3601),E=s(4512),_=s(5818),u=s(3368),I=s(9824),k=s(9255),y=s(9015),x=s(3747);const M=["user","booked_by","resources","assets","members"];class P{get group(){return this.extension_data.group||""}get is_all_day(){return this.all_day||this.duration>=720}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const S=this.linked_bookings;return this._valid_asset_cache=(this.extension_data.assets||[]).map(w=>new x.Y({...w,event:this})).filter(w=>w.deliver_at<this.date_end).map(w=>{const m=S.find(v=>v.extension_data.request_id===w.id);return m&&(w.state=m.approved?"approved":m.rejected?"rejected":"pending"),w}),this._valid_cache_expiry=(0,n.z)(Date.now(),5).valueOf(),this._valid_asset_cache}constructor(S={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=S.id||"",this.parent_id=S.parent_id||"",this.asset_id=S.asset_id||"",this.asset_ids=S.asset_ids||[S.asset_id].filter(w=>w),this.asset_name=S.asset_name||S.extension_data?.asset_name||S.description||S.asset_id||"",this.zones=S.zones||[],this.booking_start=Math.floor(S.date/1e3)||S.booking_start||(0,d._)((0,h.X)((0,n.z)(Date.now(),5),{nearestTo:5})),this.booking_end=Math.floor(S.date/1e3)+60*S.duration||S.booking_end||(0,d._)((0,n.z)(1e3*this.booking_start,S.duration||60)),this.booking_type=S.booking_type||" ",this.type=S.type||S.booking_type||"booking",this.date=S.date||1e3*this.booking_start||Date.now(),this.duration=S.duration||Math.abs((0,g.o)(1e3*this.booking_start,1e3*this.booking_end))||60,this.date_end=1e3*this.booking_end||this.date+60*this.duration*1e3,this.timezone=S.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=S.user_email||"",this.user_id=S.user_id||"",this.user_name=S.user_name||"",this.title=S.title??(this.booking_type?`${(0,e.Zr)(this.booking_type)} Booking`.trim():""),this.description=S.description||"",this.checked_in=!!S.checked_in,this.rejected=!!S.rejected,this.approved=!!S.approved,this.deleted=!!S.deleted,this.booked_by_id=S.booked_by_id||"",this.booked_by_name=S.booked_by_name||"",this.booked_by_email=S.booked_by_email||"",this.approver_id=S.approver_id||"",this.approver_email=S.approver_email||"",this.approver_name=S.approver_name||"",this.extension_data=S.extension_data||{},this.access=!!S.extension_data?.access,this.event_id=S.event_id,this.permission=(S.permission||"PRIVATE").toUpperCase(),this.attendees=S.attendees||S.guests||S.members||[],this.tags=S.tags||S.extension_data?.tags||[],this.images=S.images||[],this.all_day=S.all_day||this.duration>=1440,this.induction=S.induction||void 0,this.all_day&&(this.date=(0,b.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-(this.duration%24*60==0?1:0)),this.date_end=(0,E.D)((0,n.z)(this.date,this.duration-1).valueOf()).getTime()),this.checked_out_at=S.checked_out_at,this.checked_in_at=S.checked_in_at,this.linked_event=S.linked_event||null,this.linked_bookings=S.linked_bookings||[],this.images=S.images||[],this.status=this.checked_out_at>0?"ended":this.rejected||this.deleted?"declined":this.approved?"approved":"tentative",this.process_state=S.process_state||"pending",this.recurrence_type=S.recurrence_type||"none",this.recurrence_days=S.recurrence_days,this.recurrence_nth_of_month=S.recurrence_nth_of_month,this.recurrence_interval=S.recurrence_interval,this.recurrence_end=S.recurrence_end,this.instance=S.instance;for(const w in S)!(w in this)&&!M.includes(w)&&S[w]&&(this.extension_data[w]=S[w]||this.extension_data[w]);this.extension_data.assets=(this.extension_data.assets||[]).map(w=>new x.Y({...w,event:this,date:this.date})),this.extension_data.tags=S.tags||[],this.extension_data.request&&(this.extension_data.request=new x.Y({...this.extension_data.request,event:this,date:this.date}))}toJSON(){const S={...this};return this.id||delete S.id,S.extension_data.assets=S.extension_data.assets.map(w=>new x.Y({...w,event:null})),S.extension_data.request&&(S.extension_data.request=new x.Y({...S.extension_data.request,event:null})),S.parent_id||delete S.parent_id,S.zones=S.zones.filter(w=>w),delete S.date,delete S.duration,(0,e.Xm)(S),S}get location(){return this.extension_data?.location||this.description}get is_today(){return(0,_.r)(this.date,new Date)}get is_done(){const S=new Date,w=this.all_day?(0,u.L)(this.date,24):(0,n.z)(this.date,this.duration),m=1e3*(this.checked_out_at||this.extension_data.checked_out_at||0);let v=w.getTime();return!!(m&&Date.now()>m)||(0,I.d)(S,new Date(v))}get state(){const S=new Date,w=this.date;return(0,k.Y)(S,(0,y.W)(w,{minutes:-15}))?"future":(0,k.Y)(S,w)?"upcoming":(0,k.Y)(S,(0,y.W)(w,{minutes:15}))?"started":(0,k.Y)(S,(0,y.W)(w,{minutes:this.duration}))?"in_progress":"done"}}},7141:(Ot,ve,s)=>{"use strict";s.d(ve,{Jm:()=>y,Rr:()=>k,s8:()=>M});var e=s(467),n=s(9417),d=s(1168),h=s(690),g=s(6511),b=s(3857),E=s(9548),_=s(7926),u=s(2037);function k(B=new b.Qr){const K=new n.gE({id:new n.MJ(B.id||""),parent_id:new n.MJ(B.parent_id||""),event_id:new n.MJ(B.event_id||""),ical_uid:new n.MJ(B.extension_data.ical_uid||""),date:new n.MJ(B.date,[n.k0.required]),date_end:new n.MJ(B.date_end),all_day:new n.MJ(B.all_day??!1),name:new n.MJ(B.extension_data.name||B.asset_name||""),duration:new n.MJ(B.duration,[h.k]),booking_type:new n.MJ(B.booking_type),zones:new n.MJ(B.zones),title:new n.MJ(B.title),description:new n.MJ(B.description),booking_asset:new n.MJ(null),resources:new n.MJ([]),company:new n.MJ(""),asset_id:new n.MJ(B.asset_id,[n.k0.required]),asset_name:new n.MJ(B.description),assets:new n.MJ(B.extension_data?.assets||[]),attendees:new n.MJ(B.attendees||[]),map_id:new n.MJ(B.extension_data?.map_id),featured:new n.MJ(B.extension_data?.featured||!1),user:new n.MJ((0,d.Ny)()),user_id:new n.MJ(B.user_id),group:new n.MJ(B.group),user_email:new n.MJ(B.user_email),user_name:new n.MJ(B.user_name),timezone:new n.MJ(B.timezone||""),booked_by:new n.MJ((0,d.Ny)()),booked_by_id:new n.MJ(B.booked_by_id),booked_by_email:new n.MJ(B.booked_by_email),secondary_resource:new n.MJ(B.extension_data?.other_asset_type||B.extension_data?.secondary_resource),location:new n.MJ(B.extension_data.location||""),attendance_type:new n.MJ(B.extension_data.attendance_type||"ANY"),phone:new n.MJ(B.extension_data.phone||""),permission:new n.MJ(B.permission||"PRIVATE"),images:new n.MJ(B.images||[]),tags:new n.MJ(B.tags||[]),plate_number:new n.MJ(B.extension_data.plate_number||""),recurrence_type:new n.MJ(B.recurrence_type||"none"),recurrence_days:new n.MJ(B.recurrence_days),recurrence_nth_of_month:new n.MJ(B.recurrence_nth_of_month),recurrence_interval:new n.MJ(B.recurrence_interval),recurrence_end:new n.MJ(B.recurrence_end),notes:new n.MJ(B.extension_data.notes||""),update_master:new n.MJ(!1),self_registered:new n.MJ(!1)});return K.valueChanges.subscribe(P=>{K.getRawValue().date<Date.now()&&K.value.id?K.get("date")?.disable({emitEvent:!1}):K.get("date")?.enable({emitEvent:!1})}),K.controls.user.valueChanges.subscribe(P=>{P&&K.patchValue({user:P,user_id:P?.id,user_email:P?.email,user_name:P?.name},{emitEvent:!1})}),d.U5.subscribe(P=>{P&&K.patchValue({booked_by:P,booked_by_id:P?.id,booked_by_email:P?.email,name:P?.name},{emitEvent:!1})}),K.controls.resources.valueChanges.subscribe(P=>function I(B,K){if(!K)return B.patchValue({asset_id:void 0});B.patchValue({asset_id:K.id,asset_name:K.name,map_id:K.map_id||K.id,description:K.name,zones:K.zone?[K.zone?.parent_id,K.zone?.id]:[],booking_asset:K},{emitEvent:!1})}(K,(P||[])[0])),K.controls.duration.valueChanges.subscribe(P=>{K.patchValue({date_end:(0,E.X)((0,_.z)(K.getRawValue().date,P),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),K.controls.date_end.valueChanges.subscribe(P=>{P<(0,_.z)(K.getRawValue().date,30).valueOf()?K.patchValue({date_end:(0,E.X)((0,_.z)(K.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):K.patchValue({duration:(0,u.o)(P,K.getRawValue().date)},{emitEvent:!1})}),K.controls.date.valueChanges.subscribe(P=>{K.patchValue({date_end:(0,E.X)((0,_.z)(P,K.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),P<Date.now()&&!K.value.id&&K.patchValue({date:(0,E.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),"started"===B.state&&K.get("date").disable(),K}function y(B,K){return x.apply(this,arguments)}function x(){return(x=(0,e.A)(function*(B,K,P=[]){const j=document.createElement("div");j.style.position="absolute",j.style.top="-9999px",j.style.width="1000px",j.style.height="1000px",document.body.appendChild(j);const S=yield(0,g.Rx)({url:B,element:j}),w=(0,g.tk)(S),m=("string"==typeof K?w.mappings[K]:K)||{x:.5,y:.5};let v=10,A="";for(const L of P){const{x:G,y:O}=w.mappings[L]||{x:2,y:2},W=Math.sqrt((G-m.x)*(G-m.x)+(O-m.y)*(O-m.y));W<v&&(v=W,A=L)}return document.body.removeChild(j),(0,g.b2)(S),A})).apply(this,arguments)}function M(B){return new b.Qr({id:B.id,user_email:B.host,asset_id:B.system?.id,asset_name:B.system?.display_name||B.system?.name,booking_type:"room",approved:"approved"===B.status,extension_data:{...B}})}},5645:(Ot,ve,s)=>{"use strict";s.d(ve,{$F:()=>M,DO:()=>P,Kq:()=>xe,UN:()=>A,X0:()=>v,Z$:()=>F,eW:()=>N,kX:()=>ae,sH:()=>j,tj:()=>x,vB:()=>W});var e=s(467),n=s(1038),d=s(4421),h=s(5006),g=s(3921),b=s(8385),E=s(3857),u=(s(3693),s(5987)),I=s(7926),k=s(1168);const y="/api/staff/v1/bookings";function x(Ae){const Ye=(0,b.z)(Ae);return(0,n.JtY)(`${y}${Ye?"?"+Ye:""}`).pipe((0,h.T)(qe=>qe.map(Ne=>new E.Qr(Ne))),(0,g.W)(qe=>(0,d.of)([])))}function M(Ae){const Ye=(0,b.z)(Ae);return(0,n.JtY)(`${y}/booked${Ye?"?"+Ye:""}`).pipe((0,h.T)(qe=>qe),(0,g.W)(qe=>(0,d.of)([])))}function P(Ae){return(0,n.JtY)(`${y}/${encodeURIComponent(Ae)}`).pipe((0,h.T)(Ye=>new E.Qr(Ye)))}function j(Ae,Ye){const qe=(0,b.z)(Ye);return(0,n.bEY)(`${y}${qe?"?"+qe:""}`,Ae).pipe((0,h.T)(Ne=>new E.Qr(Ne)))}const v=(Ae,Ye)=>{const qe=Ae.id;delete Ae.id;const Ne=Ye?.instance;return Ye&&delete Ye.instance,qe?Ne?function m(Ae,Ye,qe,Ne="patch"){return("patch"===Ne?n.F6F:n.yJg)(`${y}/${encodeURIComponent(Ae)}/instance/${Ye}`,qe).pipe((0,h.T)(Me=>new E.Qr(Me)))}(qe,Ae.instance,Ae):function S(Ae,Ye,qe="patch"){return("patch"===qe?n.F6F:n.yJg)(`${y}/${encodeURIComponent(Ae)}`,Ye).pipe((0,h.T)(Ne=>new E.Qr(Ne)))}(qe,Ae):j(Ae,Ye)};function A(Ae,Ye={}){return Ye.instance?function L(Ae,Ye){return(0,n.yHY)(`${y}/${encodeURIComponent(Ae)}/instance/${Ye}`,{response_type:"void"})}(Ae,Ye.start_time):(0,n.yHY)(`${y}/${encodeURIComponent(Ae)}`,{response_type:"void"})}function W(Ae){return(0,n.bEY)(`${y}/${encodeURIComponent(Ae)}/reject`,"").pipe((0,h.T)(Ye=>new E.Qr(Ye)))}function F(Ae,Ye){const qe=(0,b.z)({state:Ye});return(0,n.bEY)(`${y}/${encodeURIComponent(Ae)}/check_in?${qe}`,"").pipe((0,h.T)(Ne=>new E.Qr(Ne)),(0,g.W)(function(){var Ne=(0,e.A)(function*(Me){const pe=yield Me.json();throw pe.error||pe.message||pe});return function(Me){return Ne.apply(this,arguments)}}()))}function N(Ae,Ye,qe){const Ne=(0,b.z)({state:qe});return(0,n.bEY)(`${y}/${encodeURIComponent(Ae)}/check_in/${Ye}?${Ne}`,"").pipe((0,h.T)(Me=>new E.Qr(Me)),(0,g.W)(function(){var Me=(0,e.A)(function*(pe){const he=yield pe.json();throw he.error||he.message||he});return function(pe){return Me.apply(this,arguments)}}()))}function ae(Ae,Ye,qe,Ne,Me="room",pe=[0,0]){return x({type:Me,period_start:(0,u._)(Ye),period_end:(0,u._)((0,I.z)(Ye,qe))}).pipe((0,h.T)(he=>Ae.map(le=>!he.find(Ee=>Ee.asset_id===le&&(!Ne||Ne!==Ee.id)))))}function xe(Ae,Ye,qe){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,e.A)(function*(Ae,Ye,qe){const Ne=yield x({type:Ye,period_start:(0,u._)(Ae.date),period_end:(0,u._)((0,I.z)(Ae.date,Ae.duration))}).pipe((0,h.T)(pe=>pe.filter(he=>he.parent_id===Ae.id))).toPromise();yield Promise.all(Ne.map(pe=>A(pe.id).toPromise())),yield Promise.all(Ae.linked_bookings.filter(pe=>pe.booking_type===Ye).map(pe=>A(pe.id).toPromise()));const Me=Ae.system?.zones||(0,k.Am)((0,k.Bq)(Ae.resources.map(pe=>pe.zones)))||[];yield Promise.all(qe.map(pe=>{const he=Ne.find(le=>le.asset_ids.find(Ee=>pe.items?.find(Xe=>Xe.item_ids.includes(Ee))));return j(new E.Qr({type:Ye,booking_type:Ye,date:Ae.date,duration:Ae.duration,description:Ae.title,user_email:Ae.host,asset_id:pe.email,asset_name:pe.name,title:pe.name,attendees:[pe],approved:he?.approved&&!pe._changed,rejected:he?.rejected&&!pe._changed,extension_data:{parent_id:Ae.id,name:pe.name,location_id:Ae.location},zones:Me}),{ical_uid:Ae.ical_uid,event_id:Ae.id}).toPromise()}))})).apply(this,arguments)}},8742:(Ot,ve,s)=>{"use strict";s.d(ve,{S:()=>Xe});var e=s(177),n=s(9417),d=s(8834),h=s(2765),g=s(5084),b=s(4006),E=s(3719),_=s(9631),u=s(9183),I=s(5951),k=s(8765),y=s(8705),x=s(7758),M=s(827),B=s(3850),ae=(s(7547),s(1781),s(3367),s(7254),s(2280),s(4174),s(4365),s(3662),s(215),s(622),s(8874),s(6724),s(9138),s(9145),s(258),s(8559),s(8952),s(7642),s(4844),s(6416),s(4089),s(850)),_e=s(6600),Fe=(s(4854),s(4823)),le=(s(482),s(1511),s(2657),s(2394),s(647),s(8720),s(7904),s(3953));let Xe=(()=>{class xt{static#e=this.\u0275fac=function(Qt){return new(Qt||xt)};static#t=this.\u0275mod=le.$C({type:xt});static#n=this.\u0275inj=le.G2t({providers:[n.X1],imports:[e.MD,n.YN,n.X1,I.Wk,_.fS,E.RG,g.X6,d.Hl,b.hM,u.D6,h.g7,ae.jL,y.c,k.h,_e.pZ,Fe.uc,M.l,x.j,B.k]})}return xt})()},3367:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>S});var e=s(3953),n=s(4006),d=s(1168),h=s(177),g=s(9417),b=s(9631),E=s(3719),_=s(9183),u=s(9608),I=s(8e3),k=s(6600);function y(w,m){1&w&&(e.j41(0,"button",10)(1,"i",11),e.EFF(2,"close"),e.k0s()())}function x(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",20)(1,"label"),e.pXf(2,5),e.k0s(),e.j41(3,"a-user-search-field",21),e.mxI("ngModelChange",function(L){e.eBV(v);const G=e.XpG(2);return e.DH7(G.host,L)||(G.host=L),e.Njj(L)}),e.k0s()()}if(2&w){const v=e.XpG(2);e.R7$(3),e.R50("ngModel",v.host)}}function M(w,m){if(1&w&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&w){const v=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,v.date,"mediumDate")," ")}}function B(w,m){if(1&w){const v=e.RV6();e.j41(0,"a-date-field",22),e.mxI("ngModelChange",function(L){e.eBV(v);const G=e.XpG(2);return e.DH7(G.date,L)||(G.date=L),e.Njj(L)}),e.k0s()}if(2&w){const v=e.XpG(2);e.R50("ngModel",v.date)}}function K(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",23)(1,"label"),e.pXf(2,6),e.k0s(),e.j41(3,"mat-form-field",24)(4,"input",25),e.mxI("ngModelChange",function(L){e.eBV(v);const G=e.XpG(2);return e.DH7(G.reason,L)||(G.reason=L),e.Njj(L)}),e.k0s()()()}if(2&w){const v=e.XpG(2);e.R7$(4),e.R50("ngModel",v.reason)}}function P(w,m){if(1&w){const v=e.RV6();e.qex(0),e.j41(1,"main",12),e.DNE(2,x,4,1,"div",13),e.j41(3,"div",14)(4,"label"),e.pXf(5,2),e.k0s(),e.DNE(6,M,3,4,"div",15)(7,B,1,1,"a-date-field",16),e.k0s(),e.DNE(8,K,5,1,"div",17),e.j41(9,"p"),e.pXf(10,3),e.k0s()(),e.j41(11,"footer",18)(12,"button",19),e.bIt("click",function(){e.eBV(v);const L=e.XpG();return e.Njj(L.confirm())}),e.pXf(13,4),e.k0s()(),e.bVm()}if(2&w){const v=e.XpG();e.R7$(2),e.Y8G("ngIf",v.can_set_host),e.R7$(4),e.Y8G("ngIf",!v.can_set_date),e.R7$(),e.Y8G("ngIf",v.can_set_date),e.R7$(),e.Y8G("ngIf",!v.hide_reason),e.R7$(2),e.uP7(1===v.desks.length?"":"s")(v.desk_list)((null==v.level?null:v.level.display_name)||(null==v.level?null:v.level.name)),e.nnv(10)}}function j(w,m){if(1&w&&(e.j41(0,"main",26),e.nrm(1,"mat-spinner",27),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&w){const v=e.XpG();e.R7$(),e.Y8G("diameter",48),e.R7$(2),e.JRh(v.loading)}}let S=(()=>{class w{get desk_list(){return this.desks.map(v=>v.name).join(", ")}get hide_reason(){return!!this._settings.get("app.desks.hide_reason")}get can_set_host(){return!!this._settings.get("app.desks.can_book_for_others")}constructor(v,A){this._data=v,this._settings=A,this.event=new e.bkB,this.desks=this._data.desks||[],this.date=this._data.date,this.host=this._data.host,this.can_set_date=this._data.can_set_date,this.reason=this._data.reason,this.level=this._data.level}confirm(){this.loading="Requesting desk booking...",this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(n.Vh),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["desk-flow-confirm-modal-component"]],outputs:{event:"event"},decls:8,vars:3,consts:()=>{let v,A,L,G,O,W;return v=$localize`:␟d513554c23b779e029147a285f1f84f1479488fc␟1554073776118278895:Confirm Booking`,A=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,L=$localize`:␟5012a6a10d31e79f5865c2fc7f680b84a14accca␟4161419473863623687: Your desk${"\ufffd0\ufffd"}:INTERPOLATION: will be ${"\ufffd1\ufffd"}:INTERPOLATION_1: on ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,G=$localize`:␟68e710782ccb5398b3acb8844caf0b199da2c3da␟9178182467454450952:Confirm`,O=$localize`:␟fe22ca53e651df951dac25b67c17894b0980f767␟6641024648411549335:Host`,W=$localize`:␟4ba250869daa372b54d24fafc0ea934769ee4076␟4775550080689015987:Reason`,[["load_state",""],v,A,L,G,O,W,[1,"flex-1"],["icon","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","mat-dialog-close",""],[1,"material-icons"],[1,"p-4"],["host","","class","flex flex-col",4,"ngIf"],["date","",1,"mb-4"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["reason","","class","flex flex-col mb-4",4,"ngIf"],[1,"flex","items-center","justify-center","p-2"],["btn","","matRipple","",3,"click"],["host","",1,"flex","flex-col"],[1,"mb-4",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["reason","",1,"flex","flex-col","mb-4"],["appearance","outline"],["matInput","","placeholder","Reason",3,"ngModelChange","ngModel"],["load","",1,"flex","flex-col","p-12","items-center","justify-center"],[1,"mb-4",3,"diameter"]]},template:function(A,L){if(1&A&&(e.j41(0,"header")(1,"h2"),e.pXf(2,1),e.k0s(),e.nrm(3,"div",7),e.DNE(4,y,3,0,"button",8),e.k0s(),e.DNE(5,P,14,7,"ng-container",9)(6,j,4,2,"ng-template",null,0,e.C5r)),2&A){const G=e.sdS(7);e.R7$(4),e.Y8G("ngIf",!L.loading),e.R7$(),e.Y8G("ngIf",!L.loading)("ngIfElse",G)}},dependencies:[h.bT,g.me,g.BC,g.vS,b.fg,E.rl,n.tx,_.LG,u.G,I.$,k.r6,h.vh],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}"]})}return w})()},6416:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>S});var e=s(3953),n=s(9417),d=s(4233),h=s(622),g=s(4006),b=s(177),E=s(2765),_=s(9434),u=s(3208),I=s(6600);const k=()=>[],y=()=>({standalone:!0});function x(w,m){if(1&w){const v=e.RV6();e.j41(0,"mat-checkbox",27),e.bIt("ngModelChange",function(L){const G=e.eBV(v).$implicit,O=e.XpG(3);return e.Njj(O.setFeature(G,L))}),e.EFF(1),e.k0s()}if(2&w){const v=m.$implicit,A=e.XpG(3);e.Y8G("ngModel",(A.selected_features||e.lJ4(3,k)).includes(v))("ngModelOptions",e.lJ4(4,y)),e.R7$(),e.SpI(" ",v," ")}}function M(w,m){if(1&w&&(e.j41(0,"div",23)(1,"label",24),e.EFF(2,"Type"),e.k0s(),e.j41(3,"div",25),e.DNE(4,x,2,5,"mat-checkbox",26),e.k0s()()),2&w){const v=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",v.features)}}function B(w,m){if(1&w&&e.nrm(0,"img",28),2&w){const v=e.XpG().$implicit;e.Y8G("source",v.images[0])}}function K(w,m){1&w&&e.nrm(0,"img",29)}function P(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",10),e.DNE(1,M,5,1,"div",11),e.j41(2,"div",12),e.DNE(3,B,1,1,"img",13)(4,K,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(6,"div",14)(7,"div",15),e.EFF(8),e.k0s(),e.j41(9,"div",16)(10,"app-icon",17),e.EFF(11,"place"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()(),e.j41(14,"div",18)(15,"button",19),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.changeResources(L))}),e.j41(16,"div",20),e.PLo(17,2),e.nrm(18,"app-icon"),e.YFu(),e.k0s()(),e.j41(19,"button",21),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.removeResource(L))}),e.j41(20,"div",20),e.PLo(21,3),e.nrm(22,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(23,"button",22),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.toggleFavourite(L))}),e.j41(24,"app-icon"),e.EFF(25),e.k0s()()()}if(2&w){const v=m.$implicit,A=e.sdS(5),L=e.XpG();e.R7$(),e.Y8G("ngIf",null==L.features?null:L.features.length),e.R7$(2),e.Y8G("ngIf",null==v.images?null:v.images.length)("ngIfElse",A),e.R7$(5),e.SpI(" ",v.name||v.id||v.map_id||"Desk"," "),e.R7$(5),e.JRh((null==v.zone?null:v.zone.display_name)||(null==v.zone?null:v.zone.name)),e.R7$(10),e.AVh("text-blue-400",L.favorites.includes(null==v?null:v.id)),e.R7$(2),e.JRh(L.favorites.includes(null==v?null:v.id)?"favorite":"favorite_border")}}const j=[];let S=(()=>{class w{get favorites(){return this._settings.get(h.S)||j}constructor(v,A){this._settings=v,this._dialog=A,this.features=[],this.room_size=3,this.items=[],this.disabled=!1,this.selected_features=[],this.registerOnChange=L=>this._onChange=L,this.registerOnTouched=L=>this._onTouch=L,this.setDisabledState=L=>this.disabled=L}changeResources(){const v=this._dialog.open(h.O,{data:{items:this.items,options:{capacity:this.room_size}}});v.afterClosed().subscribe(A=>{A||(A=v.componentInstance.selected),this.setValue(A)})}removeResource(v){this.setValue(this.items.filter(A=>A.id!==v.id))}setValue(v){this.items=v,this._onChange&&this._onChange(this.items)}writeValue(v){this.items=v||[]}toggleFavourite(v){if(!v?.id)return;const A=this.favorites;A.includes(v.id)?this._settings.saveUserSetting(h.S,A.filter(G=>G!==v.id)):this._settings.saveUserSetting(h.S,[...A,v.id])}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(d.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["desk-list-field"]],inputs:{features:"features"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>w),multi:!0}])],decls:10,vars:1,consts:()=>{let v,A,L;return v=$localize`:␟76b072e559d819bff20d8a487e73f64b3afe4f86␟1087109089519255800:Add Desk`,A=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#18\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#18\ufffd"}:CLOSE_TAG_APP_ICON: Change `,L=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],v,A,L,["list","",1,"space-y-2"],["desk","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-desk",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["desk","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],["class","flex flex-col",4,"ngIf"],[1,"w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-desk",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-desk",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-desk-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"flex","flex-col"],["for","title"],["features","",1,"flex","items-center","flex-wrap","space-x-2"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","ngModelOptions"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"]]},template:function(A,L){1&A&&(e.j41(0,"div",4),e.DNE(1,P,26,8,"div",5),e.k0s(),e.j41(2,"button",6),e.bIt("click",function(){return L.changeResources()}),e.j41(3,"div",7)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",8),e.nrm(9,"div",9),e.k0s()),2&A&&(e.R7$(),e.Y8G("ngForOf",L.items))},dependencies:[b.Sq,b.bT,n.BC,n.vS,E.So,_.R,u.U,I.r6]})}return w})()},7254:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>I});var e=s(3953),n=s(9417),h=(s(1168),s(177)),g=s(5951),b=s(4006),E=s(6600);function _(k,y){if(1&k){const x=e.RV6();e.j41(0,"div",8)(1,"h2",9),e.pXf(2,1),e.k0s(),e.j41(3,"main",10)(4,"div",11)(5,"label"),e.PLo(6,2),e.nrm(7,"span"),e.YFu(),e.k0s(),e.j41(8,"mat-radio-group",12)(9,"mat-radio-button",13),e.EFF(10,"Yes"),e.k0s(),e.j41(11,"mat-radio-button",13),e.EFF(12,"No"),e.k0s()()(),e.j41(13,"div",11)(14,"label"),e.PLo(15,3),e.nrm(16,"span"),e.YFu(),e.k0s(),e.j41(17,"mat-radio-group",14)(18,"mat-radio-button",13),e.EFF(19,"Yes"),e.k0s(),e.j41(20,"mat-radio-button",13),e.EFF(21,"No"),e.k0s()()(),e.j41(22,"div",15)(23,"label"),e.PLo(24,4),e.nrm(25,"span"),e.YFu(),e.k0s(),e.j41(26,"mat-radio-group",16)(27,"mat-radio-button",13),e.EFF(28,"Yes"),e.k0s(),e.j41(29,"mat-radio-button",13),e.EFF(30,"No"),e.k0s()()()(),e.j41(31,"footer",17)(32,"button",18),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.submit())}),e.pXf(33,5),e.k0s()(),e.j41(34,"button",19)(35,"i",20),e.EFF(36,"close"),e.k0s()()()}if(2&k){const x=e.XpG();e.R7$(3),e.Y8G("formGroup",x.form),e.R7$(6),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(7),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(7),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1)}}function u(k,y){1&k&&(e.j41(0,"main",21)(1,"p",22),e.pXf(2,6),e.k0s(),e.j41(3,"button",19)(4,"i",20),e.EFF(5,"close"),e.k0s()()())}let I=(()=>{class k{constructor(){this.event=new e.bkB,this.form=new n.gE({travelled:new n.MJ(!1),unwell:new n.MJ(!1),contact:new n.MJ(!1)})}submit(){this.form.markAllAsTouched(),Object.keys(this.form.value).find(x=>!0===this.form.value[x]||"true"===this.form.value[x])?this.failure=!0:this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(M){return new(M||k)};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["desk-question-modal"]],outputs:{event:"event"},decls:3,vars:2,consts:()=>{let x,M,B,K,P,j;return x=$localize`:␟02006a13b8e6aacb7a6e15bafd8004ed529f5d81␟877348132538805077:COVID-19 Questionnaire`,M=$localize`:␟dad7efbd2320e5ea935aef911f18cbcb24690133␟1650520403092579087: Have you travelled overseas within the last 14 days?${"\ufffd#7\ufffd"}:START_TAG_SPAN:*${"\ufffd/#7\ufffd"}:CLOSE_TAG_SPAN:`,B=$localize`:␟cf50bf8de6c6db836da440c89a375631f7ba3fb0␟1182497320820036810: Are you unwell or experiencing any cold or flu-like symptoms?${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,K=$localize`:␟273153c91358de15d124ff2966859d9949080f4c␟737527639567676154: Have you had contact with anyone with suspected COVID-19?${"\ufffd#25\ufffd"}:START_TAG_SPAN:*${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,P=$localize`:␟71c77bb8cecdf11ec3eead24dd1ba506573fa9cd␟935187492052582731:Submit`,j=$localize`:␟17d62f424c2c025579e1ec0e3f5ad971f57681df␟4401678084033805848: Your request to work from the office has been rejected based on your response to the compulsory Covid-19 questions. Please feel free to submit a new request when circumstances change in a way that changes your answer to the questions. `,[["fail_state",""],x,M,B,K,P,j,["class","relative",4,"ngIf","ngIfElse"],[1,"relative"],[1,"p-4","text-xl"],[1,"p-4",3,"formGroup"],[1,"flex","flex-col","mb-4"],["formControlName","travelled",1,"space-x-2"],[3,"value"],["formControlName","unwell",1,"space-x-2"],[1,"flex","flex-col"],["formControlName","contact",1,"space-x-2"],[1,"flex","justify-center","items-center","p-2"],["btn","","matRipple","",3,"click"],["close","","icon","","matRipple","","mat-dialog-close",""],[1,"material-icons"],["failure","",1,"pt-8","relative"],[1,"p-4"]]},template:function(M,B){if(1&M&&e.DNE(0,_,37,7,"div",7)(1,u,6,0,"ng-template",null,0,e.C5r),2&M){const K=e.sdS(2);e.Y8G("ngIf",!B.failure)("ngIfElse",K)}},dependencies:[h.bT,n.BC,n.cb,n.j4,n.JD,g.VT,g._g,b.tx,E.r6],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}[close][_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}"]})}return k})()},2280:(Ot,ve,s)=>{"use strict";s.d(ve,{L:()=>K});var e=s(3953),n=s(1865),d=s(177),h=s(9434),g=s(4918),b=s(5277),E=s(6600);const _=()=>[],u=()=>({disable_pan:!0,disable_zoom:!0});function I(P,j){if(1&P&&e.nrm(0,"image-carousel",22),2&P){const S=e.XpG(2);e.Y8G("images",S.desk.images)}}function k(P,j){if(1&P&&(e.j41(0,"div",25)(1,"div",26),e.EFF(2),e.k0s()()),2&P){const S=j.$implicit;e.R7$(2),e.JRh(S)}}function y(P,j){if(1&P&&(e.j41(0,"section",23)(1,"h2",14),e.pXf(2,3),e.k0s(),e.DNE(3,k,3,1,"div",24),e.k0s()),2&P){const S=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",S.desk.features||e.lJ4(1,_))}}function x(P,j){if(1&P&&(e.j41(0,"section",27),e.nrm(1,"interactive-map",28),e.k0s()),2&P){const S=e.XpG(2);e.R7$(),e.Y8G("src",S.map_url)("focus",S.desk.map_id||S.desk.id)("features",S.features)("options",e.lJ4(4,u))}}function M(P,j){if(1&P){const S=e.RV6();e.qex(0),e.j41(1,"section",6),e.DNE(2,I,1,1,"image-carousel",7),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(S);const m=e.XpG();return e.Njj(m.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",9),e.bIt("click",function(){e.eBV(S);const m=e.XpG();return e.Njj(m.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",10)(10,"section",11)(11,"h2",12),e.EFF(12),e.k0s()(),e.j41(13,"section",13)(14,"h2",14),e.EFF(15,"Details"),e.k0s(),e.j41(16,"div",15)(17,"app-icon"),e.EFF(18,"person"),e.k0s(),e.j41(19,"p"),e.pXf(20,1),e.k0s()(),e.j41(21,"div",15)(22,"app-icon"),e.EFF(23,"desk"),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s()(),e.j41(26,"div",15)(27,"app-icon"),e.EFF(28,"place"),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()()(),e.DNE(31,y,4,2,"section",16)(32,x,2,5,"section",17),e.k0s(),e.j41(33,"div",18)(34,"button",19),e.bIt("click",function(){e.eBV(S);const m=e.XpG();return m.active=!m.active,e.Njj(m.activeChange.emit(m.active))}),e.j41(35,"div",20)(36,"app-icon",21),e.EFF(37),e.k0s(),e.j41(38,"p"),e.pXf(39,2),e.k0s()()()(),e.bVm()}if(2&P){const S=e.XpG();e.R7$(),e.AVh("sm:h-64",null==S.desk.images?null:S.desk.images.length)("h-40",null==S.desk.images?null:S.desk.images.length)("sm:h-0",!(null!=S.desk.images&&S.desk.images.length))("h-12",!(null!=S.desk.images&&S.desk.images.length))("!bg-transparent",!(null!=S.desk.images&&S.desk.images.length)),e.R7$(),e.Y8G("ngIf",null==S.desk.images?null:S.desk.images.length),e.R7$(4),e.AVh("text-info-content",S.fav)("!bg-info",S.fav),e.R7$(2),e.JRh(S.fav?"favorite":"favorite_border"),e.R7$(4),e.SpI(" ",S.desk.display_name||S.desk.name||S.desk.id," "),e.R7$(13),e.SpI(" ",S.desk.display_name||S.desk.name||S.desk.id," "),e.R7$(5),e.JRh((null==S.desk.zone?null:S.desk.zone.display_name)||(null==S.desk.zone?null:S.desk.zone.name)),e.R7$(),e.Y8G("ngIf",null==S.desk.features?null:S.desk.features.length),e.R7$(),e.Y8G("ngIf",!S.hide_map),e.R7$(2),e.AVh("inverse",S.active),e.R7$(3),e.JRh(S.active?"remove":"add"),e.R7$(2),e.uP7(S.active),e.nnv(39)}}function B(P,j){1&P&&(e.j41(0,"div",29)(1,"p",30),e.pXf(2,4),e.k0s()())}let K=(()=>{class P{constructor(){this.fav=!1,this.active=!1,this.hide_map=!1,this.close=new e.bkB,this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.map_url="",this.features=[]}ngOnChanges(S){S.desk&&this.desk&&this.updateFeature()}updateFeature(){this.map_url=this.desk.zone.map_id,this.features=[{location:this.desk.map_id||this.desk.id,content:n.V}]}static#e=this.\u0275fac=function(w){return new(w||P)};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["desk-details"]],inputs:{desk:"desk",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{close:"close",toggleFav:"toggleFav",activeChange:"activeChange"},features:[e.OA$],decls:3,vars:2,consts:()=>{let S,w,m,v,A;return S=$localize`:␟f3cd229363e020d7ceb13bb351bb87f86dda78ef␟6431414344811875961:Single desk`,w=$localize`:␟193cbdbbcae6ad83fa2f2ac8d7dcb6b41c384a89␟2952235329246771628:{VAR_SELECT, select, true {Remove from booking } false {Add to booking }}`,w=e.k04(w,{VAR_SELECT:"\ufffd0\ufffd"}),m=$localize`:␟fc6b8194e480db3111367487d3a97bdf5a6333a7␟5607930927273386767: ${w}:ICU: `,v=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,A=$localize`:␟c6efe811f5410838382ce9adb2636cb75d783ebc␟4621791550614740403: Select a desk to view it's details `,[["emptyState",""],S,m,v,A,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-300"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-desk-details",1,"absolute","top-2","left-2","bg-base-200","sm:hidden","text-base-content",3,"click"],["icon","","matRipple","","name","toggle-desk-favourite-details",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-[calc(100%-19.75rem)]","overflow-auto"],["actions","",1,"z-0","pb-2","border-b"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2","pb-2","border-b"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2 pb-2 border-b",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-desk-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2","pb-2","border-b"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(w,m){if(1&w&&e.DNE(0,M,40,25,"ng-container",5)(1,B,3,0,"ng-template",null,0,e.C5r),2&w){const v=e.sdS(2);e.Y8G("ngIf",m.desk)("ngIfElse",v)}},dependencies:[d.Sq,d.bT,h.R,g.S,b.H,E.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh;background:#fff}"]})}return P})()},4174:(Ot,ve,s)=>{"use strict";s.d(ve,{_:()=>B});var e=s(3953),n=s(1168),d=s(4365),h=s(8379),g=s(4512),b=s(6665),E=s(177),_=s(9434),u=s(6600);const I=()=>[];function k(K,P){if(1&K&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"date"),e.bVm()),2&K){const j=e.XpG();e.R7$(),e.Lme(" ",e.i5U(2,2,j.start,j.time_format)," \u2014 ",e.i5U(3,5,j.end,j.time_format)," ")}}function y(K,P){1&K&&(e.qex(0),e.EFF(1,"All Day"),e.bVm())}function x(K,P){if(1&K){const j=e.RV6();e.j41(0,"div",15)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){const w=e.eBV(j).$implicit,m=e.XpG();return e.Njj(m.setFeature(w,!1))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}if(2&K){const j=P.$implicit;e.R7$(2),e.JRh(j)}}function M(K,P){if(1&K){const j=e.RV6();e.j41(0,"div",17)(1,"span"),e.pXf(2,3),e.k0s(),e.j41(3,"button",18),e.bIt("click",function(){e.eBV(j);const w=e.XpG();return e.Njj(w.setOptions({show_fav:!1}))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}}let B=(()=>{class K extends n.Tv{get all_day(){return this._state.form.value.all_day}get start(){return this._state.form.value.date}get end(){const{date:j,duration:S,all_day:w}=this._state.form.value;return w?(0,g.D)(j):j+60*S*1e3}get time_format(){return this._settings.time_format}constructor(j,S,w){super(),this._bsheet=j,this._state=S,this._settings=w,this.view="list",this.viewChange=new e.bkB,this.options=this._state.options,this.setOptions=m=>this._state.setOptions(m),this.setFeature=(m,v)=>this._state.setFeature(m,v),this.editFilter=()=>this._bsheet.open(d.C)}static#e=this.\u0275fac=function(S){return new(S||K)(e.rXU(b.VK),e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:K,selectors:[["desk-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[e.Vt3],decls:19,vars:17,consts:()=>{let j,S,w,m;return j=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,S=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,w=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,m=$localize`:␟d6ad8326be48837fe776a268abc758d1c7ba4f05␟1305804744685886428:Favourites Only`,[j,S,w,m,["actions","",1,"sm:hidden","space-x-2","flex","flex-row","items-center","p-2"],["btn","","matRipple","","name","edit-desk-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-desk-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-desk-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","date",""],["filter-item","","time",""],[4,"ngIf"],["filter-item","","features","",4,"ngFor","ngForOf"],["filter-item","",4,"ngIf"],["filter-item","","features",""],["icon","","matRipple","","name","remove-desk-filter",1,"-mr-4",3,"click"],["filter-item",""],["icon","","matRipple","","name","remove-desk-favs-filter",1,"-mr-4",3,"click"]]},template:function(S,w){if(1&S&&(e.j41(0,"section",4)(1,"button",5),e.bIt("click",function(){return w.editFilter()}),e.pXf(2,0),e.k0s(),e.j41(3,"div",6)(4,"button",7),e.bIt("click",function(){return w.view="map",w.viewChange.emit(w.view)}),e.pXf(5,1),e.k0s(),e.j41(6,"button",8),e.bIt("click",function(){return w.view="list",w.viewChange.emit(w.view)}),e.pXf(7,2),e.k0s()()(),e.j41(8,"section",9)(9,"div",10),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"div",11),e.DNE(13,k,4,8,"ng-container",12)(14,y,2,0,"ng-container",12),e.k0s(),e.DNE(15,x,6,1,"div",13),e.nI1(16,"async"),e.DNE(17,M,6,0,"div",14),e.nI1(18,"async"),e.k0s()),2&S){let m,v;e.R7$(4),e.AVh("inverse","map"!==w.view),e.R7$(2),e.AVh("inverse","list"!==w.view),e.R7$(4),e.JRh(e.i5U(11,9,w.start,"mediumDate")),e.R7$(3),e.Y8G("ngIf",!w.all_day),e.R7$(),e.Y8G("ngIf",w.all_day),e.R7$(),e.Y8G("ngForOf",(null==(m=e.bMT(16,12,w.options))?null:m.features)||e.lJ4(16,I)),e.R7$(2),e.Y8G("ngIf",null==(v=e.bMT(18,14,w.options))?null:v.show_fav)}},dependencies:[E.Sq,E.bT,_.R,u.r6,E.Jj,E.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return K})()},4365:(Ot,ve,s)=>{"use strict";s.d(ve,{C:()=>ae});var e=s(1168),n=s(4512),d=s(906),h=s(8026),g=s(8379),b=s(5006),E=s(9714),_=s(3953),u=s(6665),I=s(177),k=s(9417),y=s(3719),x=s(2765),M=s(6600),B=s(9608),K=s(3476),P=s(1413),j=s(9434),S=s(2798),w=s(6062),m=s(1780);const v=()=>({standalone:!0}),A=()=>[];function L(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"button",33),_.bIt("click",function(){_.eBV(Fe);const Ye=_.XpG();return _.Njj(Ye.close())}),_.j41(1,"app-icon"),_.EFF(2,"keyboard_arrow_left"),_.k0s()()}}function G(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37),_.EFF(1),_.k0s()),2&_e){const Fe=xe.$implicit;_.Y8G("value",Fe),_.R7$(),_.SpI(" ",Fe.display_name||Fe.name," ")}}function O(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",35),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setRegion(Ye))}),_.DNE(2,G,2,2,"mat-option",36),_.nI1(3,"async"),_.k0s()()}if(2&_e){const Fe=_.XpG();_.R7$(),_.Y8G("ngModel",Fe.region)("ngModelOptions",_.lJ4(5,v)),_.R7$(),_.Y8G("ngForOf",_.bMT(3,3,Fe.regions))}}function W(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37),_.EFF(1),_.k0s()),2&_e){const Fe=xe.$implicit;_.Y8G("value",Fe),_.R7$(),_.SpI(" ",Fe.display_name||Fe.name," ")}}function U(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",38),_.nI1(2,"async"),_.nI1(3,"async"),_.nI1(4,"async"),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setBuilding(Ye))}),_.DNE(5,W,2,2,"mat-option",36),_.nI1(6,"async"),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(),_.Y8G("ngModel",_.bMT(2,4,Ae.building))("ngModelOptions",_.lJ4(12,v))("placeholder",(null==(Fe=_.bMT(3,6,Ae.building))?null:Fe.display_name)||(null==(Fe=_.bMT(4,8,Ae.building))?null:Fe.name)),_.R7$(4),_.Y8G("ngForOf",_.bMT(6,10,Ae.buildings))}}function $(_e,xe){if(1&_e&&(_.j41(0,"div",42),_.EFF(1),_.nI1(2,"building"),_.j41(3,"span",43),_.EFF(4," - "),_.k0s()()),2&_e){let Fe;const Ae=_.XpG().$implicit;_.R7$(),_.SpI(" ",null==(Fe=_.bMT(2,1,Ae.parent_id))?null:Fe.display_name," ")}}function te(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37)(1,"div",40),_.DNE(2,$,5,3,"div",41),_.j41(3,"div"),_.EFF(4),_.k0s()()()),2&_e){const Fe=xe.$implicit,Ae=_.XpG(2);_.Y8G("value",Fe.id),_.R7$(2),_.Y8G("ngIf",Ae.use_region),_.R7$(2),_.SpI(" ",Fe.display_name||Fe.name," ")}}function ie(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",39),_.nI1(2,"async"),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setOptions({zone_id:Ye}))}),_.DNE(3,te,5,3,"mat-option",36),_.nI1(4,"async"),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(),_.Y8G("ngModel",null==(Fe=_.bMT(2,3,Ae.options))?null:Fe.zone_id)("ngModelOptions",_.lJ4(7,v)),_.R7$(2),_.Y8G("ngForOf",_.bMT(4,5,Ae.levels))}}function me(_e,xe){1&_e&&(_.j41(0,"div",44)(1,"mat-checkbox",45),_.pXf(2,6),_.k0s()())}function Y(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",46)(1,"div",47)(2,"label"),_.pXf(3,7),_.k0s(),_.j41(4,"a-time-field",48),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.form.patchValue({date:Ye}))}),_.k0s()(),_.j41(5,"div",47)(6,"label"),_.pXf(7,8),_.k0s(),_.nrm(8,"a-duration-field",49),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(4),_.Y8G("ngModel",Ae.form.value.date)("ngModelOptions",_.lJ4(10,v))("use_24hr",Ae.use_24hr)("timezone",Ae.timezone),_.R7$(4),_.Y8G("time",null==(Fe=Ae.form.get("date"))?null:Fe.value)("max",600)("min",60)("step",60)("use_24hr",Ae.use_24hr)("timezone",Ae.timezone)}}function F(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",52)(1,"div",53),_.EFF(2),_.k0s(),_.j41(3,"mat-checkbox",54),_.nI1(4,"async"),_.bIt("ngModelChange",function(Ye){const qe=_.eBV(Fe).$implicit,Ne=_.XpG(2);return _.Njj(Ne.setFeature(qe,Ye))}),_.k0s()()}if(2&_e){let Fe;const Ae=xe.$implicit,Ye=_.XpG(2);_.R7$(2),_.JRh(Ae),_.R7$(),_.Y8G("ngModel",((null==(Fe=_.bMT(4,3,Ye.options))?null:Fe.features)||_.lJ4(5,A)).includes(Ae))("ngModelOptions",_.lJ4(6,v))}}function N(_e,xe){if(1&_e&&(_.j41(0,"section",50)(1,"h2",27),_.pXf(2,9),_.k0s(),_.DNE(3,F,5,7,"div",51),_.nI1(4,"async"),_.k0s()),2&_e){const Fe=_.XpG();_.R7$(3),_.Y8G("ngForOf",_.bMT(4,1,Fe.features))}}function J(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",55)(1,"button",56),_.bIt("click",function(){_.eBV(Fe);const Ye=_.XpG();return _.Njj(Ye.close())}),_.pXf(2,10),_.k0s()()}}let ae=(()=>{class _e{get building(){return this._org.building}set building(Fe){this._org.building=Fe}get region(){return this._org.region}set region(Fe){this._org.region=Fe}get allow_time_changes(){return!!this._settings.get("app.desks.allow_time_changes")}get allow_all_day(){return this.allow_time_changes&&!!this._settings.get("app.desks.allow_all_day")}get end_date(){return(0,n.D)((0,d.f)(Date.now(),this._settings.get("app.desks.available_period")||90))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return this._settings.get("app.use_region")}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}constructor(Fe,Ae,Ye,qe){this._bsheet_ref=Fe,this._state=Ae,this._org=Ye,this._settings=qe,this.can_close=!1,this.options=this._state.options,this.features=this._state.features,this.buildings=this._org.active_buildings,this.form=this._state.form,this.regions=this._org.region_list,this.levels=(0,E.zV)([this._org.active_region,this._org.active_building]).pipe((0,b.T)(([Ne,Me])=>(this.use_region?this._org.levelsForRegion(Ne):this._org.levelsForBuilding(Me)).filter(le=>!le.tags.includes("parking")).sort((le,Ee)=>le.parent_id.localeCompare(Ee.parent_id)||(le.display_name||"").localeCompare(Ee.display_name||"")))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Ne=>this._state.setOptions(Ne),this.setFeature=(Ne,Me)=>this._state.setFeature(Ne,Me),this.setLevel=Ne=>{},this.setRegion=Ne=>this._org.region=Ne,this.can_close=!!this._bsheet_ref}static#e=this.\u0275fac=function(Ae){return new(Ae||_e)(_.rXU(u.eN,8),_.rXU(g.n),_.rXU(h.y),_.rXU(e.h$))};static#t=this.\u0275cmp=_.VBU({type:_e,selectors:[["desk-filters"]],inputs:{hide_levels:"hide_levels"},decls:39,vars:34,consts:()=>{let Fe,Ae,Ye,qe,Ne,Me,pe,he,le,Ee,Xe,xt,dt;return Fe=$localize`:␟a42190bd19b1cc93828e70bd0ef7a119f4c22aca␟7734428352389083660:Desk Filters`,Ae=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Ye=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,qe=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,Ne=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Me=$localize`:␟cd942cf7297cb47f1a116efdedff1c8547c6ea3e␟5737771872454551963: ${"\ufffd0\ufffd"}:INTERPOLATION: `,pe=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,he=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,le=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,Ee=$localize`:␟7c0a71d337783e527c1c8e91e433b301c5b1d8a8␟4204880191779081093:Start Time`,Xe=$localize`:␟e1f10d9bf4d3c37490cd5bf82007444ae7af46b1␟3845185958891849368:End Time`,xt=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,dt=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[Fe,Ae,Ye,qe,Ne,Me,le,Ee,Xe,xt,dt,[1,"flex","rounded-t-md","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-desk-filters","class","sm:hidden",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]","sm:max-w-[30vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex-1","min-w-[256px]"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","timezone"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["class","space-y-2","features","",4,"ngIf"],["class","px-2 py-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-desk-filters",1,"sm:hidden",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",pe,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",he,3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr","timezone"],["formControlName","duration",3,"time","max","min","step","use_24hr","timezone"],["features","",1,"space-y-2"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","py-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-desk-filters",1,"w-full",3,"click"]]},template:function(Ae,Ye){if(1&Ae&&(_.j41(0,"div",11)(1,"div",12),_.DNE(2,L,3,0,"button",13),_.k0s(),_.j41(3,"h3",14),_.pXf(4,0),_.k0s(),_.nrm(5,"div",15),_.k0s(),_.j41(6,"form",16)(7,"section",17)(8,"h2",18),_.pXf(9,1),_.k0s(),_.j41(10,"div",19)(11,"label",20),_.pXf(12,2),_.k0s(),_.DNE(13,O,4,6,"mat-form-field",21),_.nI1(14,"async"),_.DNE(15,U,7,13,"mat-form-field",21),_.nI1(16,"async"),_.DNE(17,ie,5,8,"mat-form-field",21),_.k0s(),_.j41(18,"div",22)(19,"label"),_.pXf(20,3),_.k0s(),_.j41(21,"a-date-field",23),_.bIt("ngModelChange",function(Ne){return Ye.form.patchValue({date:Ne})}),_.EFF(22),_.nI1(23,"translate"),_.k0s()(),_.DNE(24,me,3,0,"div",24)(25,Y,9,11,"div",25),_.k0s(),_.j41(26,"section",26)(27,"h2",27),_.pXf(28,4),_.nI1(29,"translate"),_.k0s(),_.j41(30,"div",28)(31,"div",29),_.pXf(32,5),_.nI1(33,"translate"),_.k0s(),_.j41(34,"mat-checkbox",30),_.nI1(35,"async"),_.bIt("ngModelChange",function(Ne){return Ye.setOptions({show_fav:Ne})}),_.k0s()()(),_.DNE(36,N,5,3,"section",31),_.nI1(37,"async"),_.k0s(),_.DNE(38,J,3,0,"div",32)),2&Ae){let qe,Ne,Me,pe;_.R7$(2),_.Y8G("ngIf",Ye.can_close),_.R7$(4),_.Y8G("formGroup",Ye.form),_.R7$(7),_.Y8G("ngIf",Ye.use_region&&(null==(qe=_.bMT(14,18,Ye.regions))?null:qe.length)),_.R7$(2),_.Y8G("ngIf",!Ye.use_region&&(null==(Ne=_.bMT(16,20,Ye.buildings))?null:Ne.length)>1),_.R7$(2),_.Y8G("ngIf",!Ye.hide_levels),_.R7$(4),_.Y8G("ngModel",Ye.form.value.date)("ngModelOptions",_.lJ4(32,v))("to",Ye.end_date)("timezone",Ye.timezone),_.R7$(),_.SpI(" ",_.bMT(23,22,"FORM.DATE_ERROR")," "),_.R7$(2),_.Y8G("ngIf",Ye.allow_all_day),_.R7$(),_.Y8G("ngIf",!Ye.form.value.all_day),_.R7$(4),_.uP7(_.bMT(29,24,"COMMON.FAVOURITES")),_.nnv(28),_.R7$(4),_.uP7(_.bMT(33,26,"DESKS.SHOW_FAVOURITES")),_.nnv(32),_.R7$(),_.Y8G("ngModel",null==(Me=_.bMT(35,28,Ye.options))?null:Me.show_fav)("ngModelOptions",_.lJ4(33,v)),_.R7$(2),_.Y8G("ngIf",null==(pe=_.bMT(37,30,Ye.features))?null:pe.length),_.R7$(2),_.Y8G("ngIf",Ye.can_close)}},dependencies:[I.Sq,I.bT,k.qT,k.BC,k.cb,k.vS,k.j4,k.JD,y.rl,x.So,M.wT,B.G,K.y,P.t,j.R,S.VO,M.r6,I.Jj,w.b,m.D9],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return _e})()},3662:(Ot,ve,s)=>{"use strict";s.d(ve,{D:()=>j});var e=s(3953),n=s(9714),d=s(5006),h=s(8379),g=s(177),b=s(9183),E=s(9434),_=s(3208),u=s(6600);function I(S,w){1&S&&(e.j41(0,"div",22)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function k(S,w){if(1&S&&e.nrm(0,"img",23),2&S){const m=e.XpG().$implicit;e.Y8G("source",m.images[0])}}function y(S,w){1&S&&e.nrm(0,"img",24)}function x(S,w){if(1&S){const m=e.RV6();e.j41(0,"li",11)(1,"button",12),e.bIt("click",function(){const A=e.eBV(m).$implicit,L=e.XpG(3);return e.Njj(L.selectDesk(A))}),e.j41(2,"div",13),e.DNE(3,I,3,0,"div",14)(4,k,1,1,"img",15)(5,y,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",16)(8,"span",17),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"app-icon",19),e.EFF(12,"place"),e.k0s(),e.j41(13,"p",20),e.EFF(14),e.k0s()()()(),e.j41(15,"button",21),e.bIt("click",function(){const A=e.eBV(m).$implicit,L=e.XpG(3);return e.Njj(L.toggleFav.emit(A))}),e.j41(16,"app-icon"),e.EFF(17),e.k0s()()()}if(2&S){const m=w.$implicit,v=e.sdS(6),A=e.XpG(3);e.AVh("!border-info",A.active===m.id),e.R7$(3),e.Y8G("ngIf",A.selected.includes(m.id)),e.R7$(),e.Y8G("ngIf",null==m.images?null:m.images.length)("ngIfElse",v),e.R7$(5),e.SpI(" ",m.name||m.id||"Desk"," "),e.R7$(5),e.SpI(" ",(null==m.zone?null:m.zone.display_name)||(null==m.zone?null:m.zone.name)||"<No Level>"," "),e.R7$(),e.AVh("text-info",A.isFavourite(m.id)),e.R7$(2),e.JRh(A.isFavourite(m.id)?"favorite":"favorite_border")}}function M(S,w){if(1&S&&(e.j41(0,"ul",9),e.DNE(1,x,18,10,"li",10),e.nI1(2,"async"),e.k0s()),2&S){const m=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,m.desks))}}function B(S,w){if(1&S&&(e.qex(0),e.DNE(1,M,3,3,"ul",8),e.nI1(2,"async"),e.bVm()),2&S){let m;const v=e.XpG(),A=e.sdS(10);e.R7$(),e.Y8G("ngIf",null==(m=e.bMT(2,2,v.desks))?null:m.length)("ngIfElse",A)}}function K(S,w){1&S&&(e.j41(0,"div",25),e.nrm(1,"mat-spinner",26),e.j41(2,"p",27),e.EFF(3,"Finding available desks..."),e.k0s()()),2&S&&(e.R7$(),e.Y8G("diameter",32))}function P(S,w){1&S&&(e.j41(0,"div",28)(1,"p",29),e.EFF(2," No available desk for selected time and/or filters "),e.k0s()())}let j=(()=>{class S{constructor(m){this._state=m,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.desks=(0,n.zV)([this._state.options,this._state.available_resources]).pipe((0,d.T)(([{show_fav:v},A])=>A.filter(L=>!v||this.isFavourite(L.id)))),this.loading=this._state.loading}isFavourite(m){return this.favorites.includes(m)}selectDesk(m){this.onSelect.emit(m)}static#e=this.\u0275fac=function(v){return new(v||S)(e.rXU(h.n))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["desk-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let m,v;return m=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,v=$localize`:␟99a2ae2a83b9fba5f9d4547746782447904ccf7b␟1931205204318295377: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,[["load_state",""],["empty_state",""],["placeholder",""],m,v,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["desk","","class","relative rounded-lg w-full shadow border bg-base-100 border-base-200 overflow-hidden",3,"!border-info",4,"ngFor","ngForOf"],["desk","",1,"relative","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200","overflow-hidden"],["name","select-desk","matRipple","",1,"w-full","h-full","flex","p-2",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pt-2","flex-1","text-left"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"text-xs"],["icon","","matRipple","","name","toggle-desk-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(v,A){if(1&v&&(e.j41(0,"h3",5),e.pXf(1,3),e.k0s(),e.j41(2,"p",6),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,B,3,4,"ng-container",7),e.nI1(6,"async"),e.DNE(7,K,4,1,"ng-template",null,0,e.C5r)(9,P,3,0,"ng-template",null,1,e.C5r)),2&v){let L,G;const O=e.sdS(8);e.R7$(4),e.uP7((null==(L=e.bMT(4,3,A.desks))?null:L.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!(null!=(G=e.bMT(6,5,A.loading))&&G.length))("ngIfElse",O)}},dependencies:[g.Sq,g.bT,b.LG,E.R,_.U,u.r6,g.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;background:#0000000d;overflow-y:auto}"]})}return S})()},215:(Ot,ve,s)=>{"use strict";s.d(ve,{Z:()=>v});var e=s(3953),n=s(1168),d=s(5006),h=s(8379),g=s(9928),b=s(9714),E=s(5897),_=s(2882),u=s(2185),I=s(177),k=s(9417),y=s(3719),x=s(6600),M=s(4918),B=s(2798),K=s(6062);const P=()=>({controls:!0}),j=()=>({standalone:!0});function S(A,L){if(1&A&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"building"),e.j41(3,"span",11),e.EFF(4," - "),e.k0s()()),2&A){let G;const O=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==(G=e.bMT(2,1,O.parent_id))?null:G.display_name," ")}}function w(A,L){if(1&A&&(e.j41(0,"mat-option",7)(1,"div",8),e.DNE(2,S,5,3,"div",9),e.j41(3,"div"),e.EFF(4),e.k0s()()()),2&A){const G=L.$implicit,O=e.XpG(2);e.Y8G("value",G),e.R7$(2),e.Y8G("ngIf",O.use_region),e.R7$(2),e.SpI(" ",G.display_name||G.name," ")}}function m(A,L){if(1&A){const G=e.RV6();e.j41(0,"mat-form-field",4)(1,"mat-select",5),e.mxI("ngModelChange",function(W){e.eBV(G);const U=e.XpG();return e.DH7(U.level,W)||(U.level=W),e.Njj(W)}),e.bIt("ngModelChange",function(W){e.eBV(G);const U=e.XpG();return e.Njj(U.setOptions({zone_ids:[W.id]}))}),e.DNE(2,w,5,3,"mat-option",6),e.nI1(3,"async"),e.k0s()()}if(2&A){const G=e.XpG();e.R7$(),e.R50("ngModel",G.level),e.Y8G("ngModelOptions",e.lJ4(5,j)),e.R7$(),e.Y8G("ngForOf",e.bMT(3,3,G.levels))}}let v=(()=>{class A extends n.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(G,O,W){super(),this._state=G,this._settings=O,this._org=W,this.is_displayed=!1,this.active="",this.onSelect=new e.bkB,this.desks=this._state.available_resources,this.loading=this._state.loading,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._change=new g.t(0),this.levels=(0,b.zV)([this._org.active_region,this._org.active_building]).pipe((0,d.T)(([U,$])=>(this.use_region?this._org.levelsForRegion(U):this._org.levelsForBuilding($)).filter(me=>!me.tags.includes("parking")).sort((me,Y)=>me.parent_id.localeCompare(Y.parent_id)||(me.display_name||"").localeCompare(Y.display_name||"")))),this.setOptions=U=>this._state.setOptions(U),this.actions=this._state.available_resources.pipe((0,d.T)(U=>U.map($=>({id:$.map_id||$.id,action:["touchend","mouseup"],callback:()=>this.selectDesk($)})))),this.features=(0,b.zV)([this._state.resources,this._state.available_resources]).pipe((0,d.T)(([U])=>this._settings.get("app.desks.hide_user")?[]:U.map($=>({location:$.id,content:_.Y,full_size:!0,no_scale:!0,data:{id:$.map_id||$.id,map_id:$.name,name:$.name||$.map_id,user:this._state.resourceUserName($.id)},z_index:20})))),this.styles=(0,b.zV)([this._state.resources,this._state.available_resources,this._change]).pipe((0,d.T)(([U,$])=>U.reduce((te,ie)=>{const me=this._settings.get("app.explore.colors")||{},Y=this.active===ie.id?"active":$.find(F=>F.id===ie.id)?"free":this._state.resourceUserName(ie.id)?"busy":"not-bookable";return te[`#${ie.map_id||ie.id}`]={fill:"active"===Y?"#512DA8":me[`desk-${Y}`]||me[`${Y}`]||E.U[`${Y}`]},te},{})))}ngOnInit(){this.subscription("levels_update",this._state.options.subscribe(({zone_id:G})=>{const O=this._org.levelWithID([G]);O&&(this.level=O)}))}ngOnChanges(G){G.active&&this._change.next(Date.now())}selectDesk(G){this.onSelect.emit(G)}setLevel(G){this.setOptions({zone_id:G?.id});const O=this._org.buildings.find(W=>W.id===G?.parent_id);if(O){const[W,U]=O.location.split(",").map($=>parseFloat($));this.coordinates={latitude:W,longitude:U}}this.level=G}setZoom(G){this.zoom=Math.max(.5,Math.min(10,G))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(O){return new(O||A)(e.rXU(h.n),e.rXU(n.h$),e.rXU(u.yb))};static#t=this.\u0275cmp=e.VBU({type:A,selectors:[["desk-map"]],inputs:{is_displayed:"is_displayed",active:"active"},outputs:{onSelect:"onSelect"},features:[e.Vt3,e.OA$],decls:8,vars:17,consts:()=>{let G;return G=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["levels","","appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["levels","","appearance","outline",1,"w-full"],["name","location","placeholder",G,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(O,W){if(1&O&&(e.j41(0,"div",0),e.DNE(1,m,4,6,"mat-form-field",1),e.nI1(2,"async"),e.k0s(),e.j41(3,"div",2)(4,"interactive-map",3),e.nI1(5,"async"),e.nI1(6,"async"),e.nI1(7,"async"),e.mxI("zoomChange",function($){return e.DH7(W.zoom,$)||(W.zoom=$),$})("centerChange",function($){return e.DH7(W.center,$)||(W.center=$),$}),e.k0s()()),2&O){let U;e.R7$(),e.Y8G("ngIf",null==(U=e.bMT(2,8,W.levels))?null:U.length),e.R7$(3),e.Y8G("src",W.map_url),e.R50("zoom",W.zoom)("center",W.center),e.Y8G("styles",e.bMT(5,10,W.styles))("features",e.bMT(6,12,W.features))("actions",e.bMT(7,14,W.actions))("options",e.lJ4(16,P))}},dependencies:[I.Sq,I.bT,k.BC,k.vS,y.rl,x.wT,M.S,B.VO,I.Jj,K.b],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return A})()},622:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>P,S:()=>K});var e=s(4006),n=s(1168),d=s(8379),h=s(3953),g=s(177),b=s(9434),E=s(6600),_=s(2280),u=s(4365),I=s(4174),k=s(3662),y=s(215);function x(j,S){if(1&j){const w=h.RV6();h.j41(0,"desk-list",30),h.bIt("toggleFav",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.toggleFavourite(v))})("onSelect",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.displayed=v)}),h.k0s()}if(2&j){const w=h.XpG();h.Y8G("active",null==w.displayed?null:w.displayed.id)("selected",w.selected_ids)("favorites",w.favorites)}}function M(j,S){if(1&j){const w=h.RV6();h.j41(0,"button",31),h.bIt("click",function(){h.eBV(w);const v=h.XpG();return h.Njj(v.displayed=null)}),h.pXf(1,6),h.k0s()}}function B(j,S){if(1&j){const w=h.RV6();h.j41(0,"desk-map",32),h.bIt("onSelect",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.displayed=v)}),h.k0s()}if(2&j){const w=h.XpG();h.Y8G("is_displayed",!!w.displayed)("active",null==w.displayed?null:w.displayed.id)}}const K="favourite_desks";let P=(()=>{class j{get selected_ids(){return this.selected.map(w=>w.id).join(",")}get favorites(){return this._settings.get(K)||[]}constructor(w,m,v,A){this._dialog_ref=w,this._settings=m,this._event_form=v,this._data=A,this.selected=[],this.view="list",this.selected=[...A.items||[]],this._event_form.setOptions(A.options)}isSelected(w){return w&&this.selected_ids.includes(w)}setSelected(w,m){const v=this.selected.filter(A=>A.id!==w.id);m&&v.push(w),this.selected=v,!this._data.options.group&&m&&(this.displayed=null,setTimeout(()=>this._dialog_ref.close([w]),50))}toggleFavourite(w){const m=this.favorites;m.includes(w.id)?this._settings.saveUserSetting(K,m.filter(A=>A!==w.id)):this._settings.saveUserSetting(K,[...m,w.id])}static#e=this.\u0275fac=function(m){return new(m||j)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(d.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:j,selectors:[["desk-select-modal"]],decls:39,vars:27,consts:()=>{let w,m,v,A,L,G;return w=$localize`:␟4221741642af22ed8e17ee106c326def85e70c61␟1749010714240797250:Find Desk`,m=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,v=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,A=$localize`:␟f566e50852be3f327b040870cbf63b59ea3b8d8c␟3611851363359647609: ${"\ufffd0\ufffd"}:INTERPOLATION: desk(s) added `,L=$localize`:␟f45c34c7afdabef75762747a20f4113d65eb2312␟6426755559249487826: ${"\ufffd0\ufffd"}:INTERPOLATION: `,G=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],w,m,v,A,L,G,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","name","view-desk-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-desk-list",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex","items-center","divide-x","divide-base-200","h-[65vh]","w-[calc(100vw-4rem)]","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","desk","active","hide_map","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","desk-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-desks",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","desk-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-desk",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","desk-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","is_displayed","active"]]},template:function(m,v){if(1&m){const A=h.RV6();h.j41(0,"div",7)(1,"header",8)(2,"button",9)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s(),h.j41(7,"div",10)(8,"button",11),h.bIt("click",function(){return h.eBV(A),h.Njj(v.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",12),h.bIt("click",function(){return h.eBV(A),h.Njj(v.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",13),h.nrm(13,"desk-filters",14),h.j41(14,"div",15)(15,"desk-filters-display",16),h.mxI("viewChange",function(G){return h.eBV(A),h.DH7(v.view,G)||(v.view=G),h.Njj(G)}),h.k0s(),h.DNE(16,x,1,3,"desk-list",17),h.k0s(),h.j41(17,"desk-details",18),h.bIt("activeChange",function(G){return h.eBV(A),h.Njj(v.setSelected(v.displayed,G))})("toggleFav",function(){return h.eBV(A),h.Njj(v.toggleFavourite(v.displayed))})("close",function(){return h.eBV(A),h.Njj(v.displayed=null)}),h.k0s()(),h.j41(18,"footer",19),h.DNE(19,M,2,0,"button",20),h.j41(20,"button",21),h.pXf(21,2),h.k0s()(),h.j41(22,"footer",22)(23,"button",23)(24,"div",24)(25,"app-icon",25),h.EFF(26,"arrow_back"),h.k0s(),h.j41(27,"div",26),h.pXf(28,3),h.k0s()()(),h.j41(29,"p",27),h.pXf(30,4),h.k0s(),h.j41(31,"button",28),h.bIt("click",function(){return h.eBV(A),h.Njj(v.setSelected(v.displayed,!v.isSelected(null==v.displayed?null:v.displayed.id)))}),h.j41(32,"div",24)(33,"app-icon",25),h.EFF(34),h.k0s(),h.j41(35,"div",29),h.pXf(36,5),h.k0s()()()()(),h.DNE(37,B,1,2,"ng-template",null,0,h.C5r)}if(2&m){const A=h.sdS(38);h.R7$(8),h.AVh("inverse","map"!==v.view),h.R7$(2),h.AVh("inverse","list"!==v.view),h.R7$(3),h.Y8G("hide_levels","list"!==v.view),h.R7$(2),h.R50("view",v.view),h.R7$(),h.Y8G("ngIf","list"===v.view)("ngIfElse",A),h.R7$(),h.AVh("hidden",!v.displayed)("inset-0",v.displayed),h.Y8G("desk",v.displayed)("active",v.selected_ids.includes(null==v.displayed?null:v.displayed.id))("hide_map","map"===v.view)("fav",v.displayed&&v.favorites.includes(null==v.displayed?null:v.displayed.id)),h.R7$(2),h.Y8G("ngIf",v.displayed),h.R7$(),h.AVh("mb-2",v.displayed),h.Y8G("mat-dialog-close",v.selected),h.R7$(3),h.Y8G("mat-dialog-close",v.selected),h.R7$(7),h.uP7(v.selected.length),h.nnv(30),h.R7$(),h.AVh("inverse",v.isSelected(null==v.displayed?null:v.displayed.id)),h.Y8G("disabled",!v.displayed),h.R7$(3),h.JRh(v.isSelected(null==v.displayed?null:v.displayed.id)?"remove":"add"),h.R7$(2),h.uP7(v.isSelected(null==v.displayed?null:v.displayed.id)?"Remove from Booking":"Add to booking"),h.nnv(36)}},dependencies:[g.bT,e.tx,b.R,E.r6,_.L,u.C,I._,k.D,y.Z],encapsulation:2})}return j})()},7904:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>P});var e=s(467),n=s(4006),d=s(1168),h=s(2185),g=s(1038),b=s(3953),E=s(177),_=s(9417),u=s(3719),I=s(6600),k=s(9434),y=s(3051),x=s(2798),M=s(3881);function B(j,S){if(1&j){const w=b.RV6();b.j41(0,"div",4)(1,"div",5),b.pXf(2,1),b.k0s(),b.j41(3,"div",6),b.pXf(4,2),b.k0s(),b.j41(5,"div",7)(6,"label"),b.EFF(7,"Presets"),b.k0s(),b.j41(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10),b.mxI("ngModelChange",function(v){b.eBV(w);const A=b.XpG();return b.DH7(A.preset,v)||(A.preset=v),b.Njj(v)}),b.bIt("ngModelChange",function(v){b.eBV(w);const A=b.XpG();return b.Njj(A.setPreset(v))}),b.j41(11,"mat-option",11),b.EFF(12,"None"),b.k0s(),b.j41(13,"mat-option",12),b.EFF(14,"Standing"),b.k0s(),b.j41(15,"mat-option",13),b.EFF(16,"Seated"),b.k0s()()(),b.j41(17,"button",14),b.bIt("click",function(){b.eBV(w);const v=b.XpG();return b.Njj(v.edit_presets=!0)}),b.j41(18,"app-icon"),b.EFF(19,"edit"),b.k0s()()(),b.j41(20,"label"),b.EFF(21,"Current Height"),b.k0s(),b.j41(22,"div",15)(23,"mat-slider",16)(24,"input",17),b.mxI("ngModelChange",function(v){b.eBV(w);const A=b.XpG();return b.DH7(A.height,v)||(A.height=v),b.Njj(v)}),b.bIt("ngModelChange",function(){b.eBV(w);const v=b.XpG();return b.Njj(v.updatePreset(v.height))}),b.k0s()(),b.j41(25,"div",18),b.EFF(26),b.k0s()()(),b.j41(27,"button",19),b.bIt("click",function(){b.eBV(w);const v=b.XpG();return b.Njj(v.setDeskHeight())}),b.EFF(28," Apply Settings "),b.k0s(),b.j41(29,"button",20)(30,"app-icon"),b.EFF(31,"close"),b.k0s()()()}if(2&j){const w=b.XpG();b.R7$(10),b.R50("ngModel",w.preset),b.R7$(13),b.Y8G("displayWith",w.formatLabel),b.R7$(),b.R50("ngModel",w.height),b.R7$(2),b.SpI(" ",w.height.toFixed(1),"cm ")}}function K(j,S){if(1&j){const w=b.RV6();b.j41(0,"desk-height-presets",21),b.bIt("close",function(){b.eBV(w);const v=b.XpG();return b.Njj(v.edit_presets=!1)}),b.k0s()}2&j&&b.Y8G("show_close",!0)}let P=(()=>{class j{constructor(w,m,v,A){this._data=w,this._org=m,this._settings=v,this._dialog_ref=A,this.desk_id=this._data.id,this.edit_presets=!1,this.height=71}ngOnInit(){const w=this._settings.get("desk_sitting_height"),m=this._settings.get("desk_standing_height");!w&&!m&&(this.edit_presets=!0);const v=parseInt(localStorage.getItem("PLACEOS.last_desk_height"),10);this.height=v||w||71,this.height===w?this.preset="sitting":this.height===m&&(this.preset="standing")}updatePreset(w){const m=this._settings.get("desk_sitting_height")||71,v=this._settings.get("desk_standing_height")||102;this.preset=w===m?"sitting":w===v?"standing":null}setPreset(w){switch(w){case"standing":this.height=this._settings.get("desk_standing_height")||102;break;case"sitting":this.height=this._settings.get("desk_sitting_height")||71;break;default:this.height=70}}setDeskHeight(){var w=this;return(0,e.A)(function*(){const m=w._org.binding("desks");if(localStorage.setItem("PLACEOS.last_desk_height",`${w.height}`),!m)return w._dialog_ref.close();yield(0,g.f_4)(m,"DeskControl").execute("set_desk_height",[w.desk_id,w.height]).catch(A=>{throw(0,d.UG)("Error setting desk height."+A),A}),(0,d.VX)("Successfully set desk height"),w._dialog_ref.close()})()}formatLabel(w){return`${w.toFixed(1)}cm`}static#e=this.\u0275fac=function(m){return new(m||j)(b.rXU(n.Vh),b.rXU(h.yb),b.rXU(d.h$),b.rXU(n.CP))};static#t=this.\u0275cmp=b.VBU({type:j,selectors:[["desk-settings-modal"]],decls:3,vars:2,consts:()=>{let w,m;return w=$localize`:␟ec37a2ac1276a5f69d65d5ba86b2e98c41b201a9␟7032027191807032897:Desk Height`,m=$localize`:␟de53fc27bc96d3e69d6c7d9b0a19619db7cc1076␟8247461324425873330: Set your desk height for the best experience `,[["desk_height_tooltip",""],w,m,["class","relative p-4 bg-base-100 rounded shadow w-[20rem]",4,"ngIf","ngIfElse"],[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg"],[1,"text-xs","opacity-60","mb-4"],[1,"flex","flex-col","mt-2","mb-4"],[1,"flex","items-center","space-x-2","pb-4"],["appearance","outline",1,"no-subscript","flex-1","w-1/2"],["placeholder","No selected preset",3,"ngModelChange","ngModel"],["value",""],["value","standing"],["value","sitting"],["icon","","matRipple","",1,"rounded","h-12","w-12","bg-secondary","text-secondary-content",3,"click"],[1,"flex","items-center","space-x-2"],["min","60","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],["btn","","matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","right-0"],[3,"close","show_close"]]},template:function(m,v){if(1&m&&b.DNE(0,B,32,4,"div",3)(1,K,1,1,"ng-template",null,0,b.C5r),2&m){const A=b.sdS(2);b.Y8G("ngIf",!v.edit_presets)("ngIfElse",A)}},dependencies:[E.bT,_.me,_.BC,_.vS,u.rl,n.tx,I.wT,k.R,y.q,x.VO,I.r6,M.IV,M.OU],encapsulation:2})}return j})()},8874:(Ot,ve,s)=>{"use strict";s.d(ve,{j:()=>Ae});var e=s(467),n=s(3953),d=s(9417),h=s(4046),g=s(1168),b=s(9525),E=s(4217),_=s(8026),u=s(8379),I=s(3693),k=s(177),y=s(9631),x=s(3719),M=s(9183),B=s(850),K=s(6600),P=s(9608),j=s(3476),S=s(1413),w=s(840),m=s(8e3),v=s(2798),A=s(1780);const L=()=>({standalone:!0});function G(Ye,qe){if(1&Ye&&(n.j41(0,"mat-option",48),n.EFF(1),n.k0s()),2&Ye){const Ne=qe.$implicit;n.Y8G("value",Ne.id),n.R7$(),n.SpI(" ",Ne.display_name||Ne.name," ")}}function O(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"div",32)(1,"label",45),n.PLo(2,11),n.nrm(3,"span"),n.YFu(),n.k0s(),n.j41(4,"mat-form-field",43)(5,"mat-select",46),n.bIt("ngModelChange",function(pe){n.eBV(Ne);const he=n.XpG(4);return n.Njj(he.form.patchValue({zones:[pe]}))}),n.DNE(6,G,2,2,"mat-option",47),n.nI1(7,"async"),n.k0s()()()}if(2&Ye){const Ne=n.XpG(4);n.R7$(5),n.Y8G("ngModel",Ne.form.value.zones[0])("ngModelOptions",n.lJ4(5,L)),n.R7$(),n.Y8G("ngForOf",n.bMT(7,3,Ne.buildings))}}function W(Ye,qe){1&Ye&&(n.j41(0,"div",49)(1,"label",50),n.EFF(2),n.nI1(3,"translate"),n.j41(4,"span"),n.EFF(5,"*"),n.k0s()(),n.nrm(6,"a-user-search-field",51),n.k0s()),2&Ye&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"FORM.HOST"),""))}function U(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"mat-option",58),n.bIt("click",function(){const pe=n.eBV(Ne).$implicit,he=n.XpG(5);return n.Njj(he.setVisitor(pe))}),n.j41(1,"div",59)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",60),n.EFF(5),n.k0s()()()}if(2&Ye){const Ne=qe.$implicit;n.Y8G("value",Ne.name),n.R7$(3),n.JRh(Ne.name),n.R7$(2),n.Lme(" ",Ne.email," ",Ne.company?"| "+Ne.company:""," ")}}function $(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"mat-option",58),n.bIt("click",function(){const pe=n.eBV(Ne).$implicit,he=n.XpG(5);return n.Njj(he.setVisitor(pe))}),n.j41(1,"div",59)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",60),n.EFF(5),n.k0s()()()}if(2&Ye){const Ne=qe.$implicit;n.Y8G("value",Ne.email),n.R7$(3),n.JRh(Ne.name),n.R7$(2),n.Lme(" ",Ne.email," ",Ne.company?"| "+Ne.company:""," ")}}function te(Ye,qe){if(1&Ye){const Ne=n.RV6();n.qex(0),n.j41(1,"div",32)(2,"label",52),n.PLo(3,12),n.nrm(4,"span"),n.YFu(),n.k0s(),n.j41(5,"mat-form-field",43)(6,"input",53),n.bIt("focus",function(){n.eBV(Ne);const pe=n.XpG(4);return n.Njj(pe.filterVisitors(pe.form.value.asset_name))}),n.k0s()(),n.j41(7,"mat-autocomplete",null,3),n.DNE(9,U,6,4,"mat-option",54),n.k0s()(),n.j41(10,"div",32)(11,"label",55),n.PLo(12,13),n.nrm(13,"span"),n.YFu(),n.k0s(),n.j41(14,"mat-form-field",43)(15,"input",56),n.bIt("focus",function(){n.eBV(Ne);const pe=n.XpG(4);return n.Njj(pe.filterVisitors(pe.form.value.asset_id))}),n.k0s(),n.j41(16,"mat-error"),n.pXf(17,14),n.k0s()(),n.j41(18,"mat-autocomplete",null,4),n.DNE(20,$,6,4,"mat-option",54),n.k0s()(),n.j41(21,"div",32)(22,"label",52),n.pXf(23,15),n.k0s(),n.j41(24,"mat-form-field",43),n.nrm(25,"input",57),n.k0s()(),n.bVm()}if(2&Ye){const Ne=n.sdS(8),Me=n.sdS(19),pe=n.XpG(4);n.R7$(6),n.Y8G("matAutocomplete",Ne),n.R7$(3),n.Y8G("ngForOf",pe.filtered_visitors),n.R7$(6),n.Y8G("matAutocomplete",Me),n.R7$(5),n.Y8G("ngForOf",pe.filtered_visitors)}}function ie(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"form",30),n.DNE(1,O,8,6,"div",31),n.j41(2,"div",32)(3,"label",33),n.PLo(4,7),n.nrm(5,"span"),n.YFu(),n.k0s(),n.nrm(6,"a-date-field",34),n.k0s(),n.j41(7,"div",35)(8,"div",36)(9,"label",37),n.PLo(10,8),n.nrm(11,"span"),n.YFu(),n.k0s(),n.j41(12,"a-time-field",38),n.bIt("ngModelChange",function(pe){n.eBV(Ne);const he=n.XpG(3);return n.Njj(he.form.patchValue({date:pe}))}),n.k0s()(),n.j41(13,"div",36)(14,"label",39),n.PLo(15,9),n.nrm(16,"span"),n.YFu(),n.k0s(),n.nrm(17,"a-duration-field",40),n.k0s()(),n.DNE(18,W,7,3,"div",41)(19,te,26,4,"ng-container",22),n.j41(20,"div",32)(21,"label",42),n.pXf(22,10),n.k0s(),n.j41(23,"mat-form-field",43),n.nrm(24,"input",44),n.k0s()()()}if(2&Ye){const Ne=n.XpG(3),Me=n.sdS(6);n.Y8G("formGroup",Ne.form),n.R7$(),n.Y8G("ngIf",(null==Ne.buildings?null:Ne.buildings.length)>1),n.R7$(11),n.Y8G("ngModel",Ne.form.value.date)("ngModelOptions",n.lJ4(11,L))("disabled",Ne.form.value.all_day)("use_24hr",Ne.use_24hr),n.R7$(5),n.Y8G("time",Ne.form.value.date)("use_24hr",Ne.use_24hr),n.R7$(),n.Y8G("ngIf",Ne.can_book_for_others),n.R7$(),n.Y8G("ngIf",!Ne.multiple)("ngIfElse",Me)}}function me(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"div",24)(1,"div",25)(2,"h2",26),n.pXf(3,5),n.k0s()(),n.DNE(4,ie,25,12,"form",27),n.j41(5,"div",28)(6,"button",29),n.bIt("click",function(){n.eBV(Ne);const pe=n.XpG(2);return n.Njj(pe.sendInvite())}),n.pXf(7,6),n.k0s()()()}if(2&Ye){const Ne=n.XpG(2);n.R7$(4),n.Y8G("ngIf",Ne.form)}}function Y(Ye,qe){if(1&Ye&&(n.qex(0),n.DNE(1,me,8,1,"div",23),n.nI1(2,"async"),n.bVm()),2&Ye){const Ne=n.XpG(),Me=n.sdS(4);n.R7$(),n.Y8G("ngIf",!n.bMT(2,2,Ne.loading)&&!Ne.loading_many)("ngIfElse",Me)}}function F(Ye,qe){if(1&Ye&&(n.PLo(0,16,1),n.eu8(1),n.YFu()),2&Ye){const Ne=n.XpG(2);n.R7$(),n.uP7((null==Ne.last_success?null:Ne.last_success.asset_name)||(null==Ne.last_success?null:Ne.last_success.asset_id)),n.nnv(0)}}function N(Ye,qe){if(1&Ye&&(n.PLo(0,16,2),n.eu8(1),n.YFu()),2&Ye){const Ne=n.XpG(2);n.R7$(),n.uP7(Ne.last_count)(1==Ne.last_count?"":"s"),n.nnv(0)}}function J(Ye,qe){if(1&Ye&&(n.PLo(0,17,1),n.eu8(1),n.YFu()),2&Ye){const Ne=n.XpG(2);n.R7$(),n.uP7((null==Ne.last_success?null:Ne.last_success.asset_name)||(null==Ne.last_success?null:Ne.last_success.asset_id)),n.nnv(0)}}function ae(Ye,qe){if(1&Ye&&(n.PLo(0,17,2),n.eu8(1),n.YFu()),2&Ye){const Ne=n.XpG(2);n.R7$(),n.uP7(Ne.last_count)(1==Ne.last_count?"":"s"),n.nnv(0)}}function _e(Ye,qe){if(1&Ye){const Ne=n.RV6();n.j41(0,"div",61)(1,"div",62)(2,"h2",63),n.PLo(3,16),n.DNE(4,F,2,1,"ng-container",64)(5,N,2,2,"ng-container",64),n.YFu(),n.k0s(),n.nrm(6,"img",65),n.j41(7,"p"),n.PLo(8,17),n.j41(9,"i"),n.DNE(10,J,2,1,"ng-container",64)(11,ae,2,2,"ng-container",64),n.k0s(),n.nI1(12,"date"),n.nI1(13,"date"),n.YFu(),n.k0s()(),n.j41(14,"div",66)(15,"div",67)(16,"button",68),n.bIt("click",function(){n.eBV(Ne);const pe=n.XpG();return n.Njj(pe.onDone())}),n.pXf(17,18),n.k0s(),n.j41(18,"button",68),n.bIt("click",function(){n.eBV(Ne);const pe=n.XpG();return n.Njj(pe.sent=!1)}),n.pXf(19,19),n.k0s()()()()}if(2&Ye){const Ne=n.XpG();n.R7$(4),n.Y8G("ngIf",!Ne.multiple),n.R7$(),n.Y8G("ngIf",Ne.multiple),n.R7$(5),n.Y8G("ngIf",!Ne.multiple),n.R7$(),n.Y8G("ngIf",Ne.multiple),n.R7$(2),n.uP7((null==Ne.building?null:Ne.building.display_name)||(null==Ne.building?null:Ne.building.name))(n.i5U(12,7,null==Ne.last_success?null:Ne.last_success.date,"mediumDate"))(n.i5U(13,10,null==Ne.last_success?null:Ne.last_success.date,Ne.time_format)),n.nnv(8)}}function xe(Ye,qe){1&Ye&&(n.j41(0,"div",69),n.nrm(1,"mat-spinner",70),n.j41(2,"p"),n.pXf(3,20),n.k0s()()),2&Ye&&(n.R7$(),n.Y8G("diameter",32))}function Fe(Ye,qe){if(1&Ye&&(n.j41(0,"div",71)(1,"label",52),n.PLo(2,21),n.nrm(3,"span"),n.YFu(),n.k0s(),n.nrm(4,"a-user-list-field",72),n.k0s()),2&Ye){const Ne=n.XpG();n.Y8G("formGroup",Ne.form),n.R7$(4),n.Y8G("guests_only",!0)}}let Ae=(()=>{class Ye extends g.Tv{get multiple(){return this._settings.get("app.bookings.multiple_visitors")}get can_book_for_others(){return this._settings.get("app.bookings.can_book_for_others")}get building(){return this._settings.get("app.use_region")?this._org.region:this._org.building}get form(){return this._service.form}get time_format(){return this._settings.time_format}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(Ne,Me,pe){super(),this._service=Ne,this._settings=Me,this._org=pe,this.done=new n.bkB,this.sent=!1,this.loading=this._service.loading,this.loading_many=!1,this.buildings=this._org.active_buildings,this.last_success=this._service.last_success,this.last_count=0,this.visitors=[],this.filtered_visitors=[]}ngOnInit(){var Ne=this;return(0,e.A)(function*(){Ne.sent=!1,Ne._service.clearOldState(),yield Ne.initFormZone(),Ne.form.get("asset_id").setValidators([d.k0.required,d.k0.email]);const Me=Ne._settings.get("visitor-invitees")||[];for(const pe of Me){const[he,le,Ee]=pe.split("|");Ne.visitors.push({email:he,name:le,company:Ee})}Ne.filterVisitors(""),Ne.subscription("email",Ne.form.get("asset_id").valueChanges.subscribe(pe=>Ne.filterVisitors(pe))),Ne.subscription("name",Ne.form.get("asset_name").valueChanges.subscribe(pe=>Ne.filterVisitors(pe))),Ne.multiple&&Ne.form.patchValue({asset_id:"multiple@place.tech"})})()}setVisitor(Ne){this.form.patchValue({asset_id:Ne.email,asset_name:Ne.name,company:Ne.company,phone:Ne.phone})}filterVisitors(Ne){const Me=(Ne||"").toLowerCase();this.filtered_visitors=this.visitors.filter(({email:pe,name:he,company:le})=>pe.toLowerCase().includes(Me)||he.toLowerCase().includes(Me)||le.toLowerCase().includes(Me))}onDone(){this.done.emit(),this.sent=!1}sendInvite(){var Ne=this;return(0,e.A)(function*(){if(Ne.form.markAllAsTouched(),!Ne.form.valid||Ne.multiple&&!Ne.form.value.assets.length)return(0,b.UG)(`Some fields are invalid. [${(0,E.F7)(Ne.form).join(", ")||"visitors"}]`);(!Ne.form.value.user_email||!Ne.can_book_for_others)&&Ne.form.patchValue({user:(0,g.Ny)()});const{asset_id:Me,asset_name:pe,company:he}=Ne.form.value,Ee=`${Me}|${pe}|${he}`,Xe=Ne._settings.get("visitor-invitees")||[];Ne._settings.saveUserSetting("visitor-invitees",[...Xe.filter(xt=>!xt.includes(Me)),Ee]),yield Ne.multiple?Ne._bookForMany():Ne._bookForOne(),Ne.last_success=Ne._service.last_success,yield Ne.initFormZone(),Ne.sent=!0})()}initFormZone(){var Ne=this;return(0,e.A)(function*(){yield Ne._org.initialised.pipe((0,h.$)(Me=>Me)).toPromise(),Ne._service.setOptions({type:"visitor"}),Ne.form.patchValue({booking_type:"visitor",zones:[Ne._org.building?.id]}),Ne.multiple&&Ne.form.patchValue({asset_id:"multiple@place.tech"})})()}_bookForOne(){var Ne=this;return(0,e.A)(function*(){const Me=Ne.form.value;Ne.form.patchValue({name:Me.asset_name,attendees:[new I.KJ({name:Me.asset_name,email:Me.asset_id,organisation:Me.company,phone:Me.phone})]}),yield Ne._service.postForm().catch(pe=>{throw(0,b.UG)(pe),pe})})()}_bookForMany(){var Ne=this;return(0,e.A)(function*(){Ne.loading_many=!0;const Me=`grp-${(0,E.DU)(8)}`,pe=Ne.form.value,he=pe.assets;Ne.last_count=he.length;for(const le of he)le.email&&(Ne.form.patchValue({...pe,booking_type:"visitor",asset_id:le.email,asset_name:le.name,user:(0,g.Ny)(),description:Me,name:le.name,assets:[],attendees:[new I.KJ({name:le.name,email:le.email,organisation:le.company||le.organisation,phone:le.phone})]}),yield Ne._service.postForm().catch(Ee=>{throw(0,b.UG)(Ee),Ne.loading_many=!1,Ee}));Ne.loading_many=!1})()}static#e=this.\u0275fac=function(Me){return new(Me||Ye)(n.rXU(u.n),n.rXU(g.h$),n.rXU(_.y))};static#t=this.\u0275cmp=n.VBU({type:Ye,selectors:[["invite-visitor-form"]],outputs:{done:"done"},features:[n.Vt3],decls:7,vars:2,consts:()=>{let Ne,Me,pe,he,le,Ee,Xe,xt,dt,Ct,Qt,_n,In,rn,$t,q,Ie,se;return Ne=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,Me=$localize`:␟207022d8123aa7a8693ff4c53cd28fea3d5bdff2␟994966389368964414: Send Visitor Invite `,pe=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,he=$localize`:␟eac10bd97a4b6b06a0221c661de781836b7a1e1c␟145741817832495807: Start Time${"\ufffd#11\ufffd"}:START_TAG_SPAN:*${"\ufffd/#11\ufffd"}:CLOSE_TAG_SPAN:`,le=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,Ee=$localize`:␟8aaaa9966e2e05be99e9b239f3b257767366b8bf␟495507623260232513:Reason for visit`,Xe=$localize`:␟a2a7f73f9ff1df08f9f055ead8f1b25a91c060a3␟4333771954088602266:Select building`,xt=$localize`:␟299cead719c6fe6ad6f5fba06ac22e21f0c4acb2␟5685627853493098762: Building${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,dt=$localize`:␟cf671ca02377cd191d8b3c68c7befb5984469f16␟4464638374806874490:Visitor Name${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ct=$localize`:␟df470c6a7cce24cc7887968eabb3ee0c1bbd3f7c␟195607823904920605: Visitor Email${"\ufffd#13\ufffd"}:START_TAG_SPAN:*${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:`,Qt=$localize`:␟d025fcfed88fe09dce74563ddafbfefb47111f11␟5102326149417665173: A valid email is required `,_n=$localize`:␟6ef0619a37140118b9e640c6cc36ee4e9fb4372a␟1826215573205981970:Company`,In=$localize`:␟3813db8d52465bf6153aa3eab78e731607297455␟2924076986947727128: Visitor invite sent to ${"\ufffd*4:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: ${"\ufffd0:1\ufffd"}:INTERPOLATION: ${"[\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*5:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd*5:2\ufffd\ufffd#1:2\ufffd"}:START_TAG_NG_CONTAINER_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_1: visitor${"\ufffd1:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*5:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:`,In=n.k04(In),rn=$localize`:␟797ad60704f8979ef5951430ea9947b27782284b␟941544886358218249: Invite has been sent to ${"\ufffd#9\ufffd"}:START_ITALIC_TEXT:${"\ufffd*10:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: ${"\ufffd0:1\ufffd"}:INTERPOLATION: ${"[\ufffd/#1:1\ufffd\ufffd/*10:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*11:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd*11:2\ufffd\ufffd#1:2\ufffd"}:START_TAG_NG_CONTAINER_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_1: visitor${"\ufffd1:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/#1:1\ufffd\ufffd/*10:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*11:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd/#9\ufffd"}:CLOSE_ITALIC_TEXT: to attend ${"\ufffd0\ufffd"}:INTERPOLATION_3: from ${"\ufffd1\ufffd"}:INTERPOLATION_4: at ${"\ufffd2\ufffd"}:INTERPOLATION_5: `,rn=n.k04(rn),$t=$localize`:␟af6a082ad33b2635f588016703e454c8fb7f7e0f␟7858372686370953213: Great, thanks `,q=$localize`:␟63356c3f7d6177e1e29a68e272010f75eacb3c97␟3676425961094889121: Book Another Visitor `,Ie=$localize`:␟59c7bf21621b0422b39735ebc6af2ccb26d894e3␟6183159301460846057:Sending invitation...`,se=$localize`:␟6e457c162b83dc787ae4a7a9bda0ca1f3b021b6c␟5958588135415093025:Visitors${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,[["send_state",""],["load_state",""],["multi_state",""],["name_auto","matAutocomplete"],["email_auto","matAutocomplete"],Ne,Me,pe,he,le,Ee,xt,dt,Ct,Qt,_n,In,rn,$t,q,Ie,se,[4,"ngIf","ngIfElse"],["class","relative flex flex-col bg-base-100 overflow-auto max-h-full",4,"ngIf","ngIfElse"],[1,"relative","flex","flex-col","bg-base-100","overflow-auto","max-h-full"],[1,"w-full","border-b","border-base-200","sm:px-16","px-4","py-4"],[1,"text-2xl","font-medium"],["class","sm:px-16 px-4 py-4",3,"formGroup",4,"ngIf"],[1,"sticky","sm:px-16","px-4","py-4","border-t","bg-base-100","border-base-200","bottom-0"],["btn","","matRipple","","send","",1,"w-full","sm:w-auto",3,"click"],[1,"sm:px-16","px-4","py-4",3,"formGroup"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],["for","date"],["name","date","formControlName","date"],[1,"flex","items-center","space-x-2"],[1,"flex-1","flex","flex-col","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","disabled","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","use_24hr"],["class","w-full flex flex-col",4,"ngIf"],["for","reason"],["appearance","outline"],["name","reason","matInput","","formControlName","description","placeholder","e.g. Meeting Catchup"],["for","building"],["name","building","placeholder",Xe,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-full","flex","flex-col"],["for","host"],["name","host","formControlName","user",1,"mb-4"],["for","visitor-name"],["matInput","","name","visitor-name","formControlName","asset_name","placeholder","Name of the visitor",3,"focus","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["for","visitor-email"],["matInput","","name","visitor-email","type","email","formControlName","asset_id","placeholder","Email of the visitor",3,"focus","matAutocomplete"],["matInput","","name","company","formControlName","company","placeholder","Company of the visitor"],[3,"click","value"],[1,"flex","flex-col","leading-tight"],[1,"text-xs","opacity-60"],["sent","",1,"absolute","inset-0","bg-base-100","flex","flex-col","items-center","justify-center","text-center"],[1,"w-full","max-w-[32rem]","flex-1","h-1/2","space-y-2","m-8"],[1,"text-3xl"],[4,"ngIf"],["src","assets/icons/sent.svg",1,"mx-auto"],[1,"w-full","p-2","border-t","border-base-200"],[1,"mx-auto","flex","items-center","space-x-2","w-full","max-w-[32rem]"],["btn","","matRipple","",1,"flex-1",3,"click"],["loading","",1,"relative","flex","flex-col","items-center","justify-center","rounded","overflow-hidden","w-full","h-full","min-h-[18rem]"],[3,"diameter"],[1,"flex","flex-col",3,"formGroup"],["formControlName","assets",3,"guests_only"]]},template:function(Me,pe){if(1&Me&&n.DNE(0,Y,3,4,"ng-container",22)(1,_e,20,13,"ng-template",null,0,n.C5r)(3,xe,4,1,"ng-template",null,1,n.C5r)(5,Fe,5,2,"ng-template",null,2,n.C5r),2&Me){const he=n.sdS(2);n.Y8G("ngIf",!pe.sent)("ngIfElse",he)}},dependencies:[k.Sq,k.bT,d.qT,d.me,d.BC,d.cb,d.vS,d.j4,d.JD,y.fg,x.rl,x.TL,M.LG,B.$3,K.wT,B.pN,P.G,j.y,S.t,w.T,m.$,v.VO,K.r6,k.Jj,k.vh,A.D9]})}return Ye})()},4854:(Ot,ve,s)=>{"use strict";s.d(ve,{E:()=>u});var e=s(3953),n=s(1168),d=s(5897),h=s(177),g=s(6600),b=s(4823);const E=()=>[];function _(I,k){if(1&I){const y=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){const M=e.eBV(y).$implicit,B=e.XpG();return e.Njj(B.clicked.emit(M))}),e.nrm(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),e.j41(5,"div",8),e.EFF(6),e.k0s(),e.nrm(7,"div",9),e.k0s()}if(2&I){const y=k.$implicit,x=e.XpG();e.xc7("grid-column-start",y.position[0]+1)("grid-row-start",y.position[1]+1)("grid-column-end",y.position[0]+(y.size[0]+1))("background-color",x.status(y))("grid-row-end",y.position[1]+(y.size[1]+1)),e.AVh("opacity-60",x.selected&&x.selected!==y.id),e.Y8G("matTooltip",y.name)("disabled",!1===y.bookable),e.R7$(6),e.SpI(" ",y.name," ")}}let u=(()=>{class I{get columns(){let y=1;for(const x of this.bank?.lockers||[]){const M=x.position[0]+x.size[0];M>y&&(y=M)}return y}constructor(y){this._settings=y,this.bank_status={10:"busy",7:"pending"},this.selected="",this.clicked=new e.bkB}status(y){const x=this._settings.get("app.explore.colors")||{},M=this.bank_status[y.id]||"free";return x[`lockers-${M}`]||x[`${M}`]||d.U[`${M}`]}static#e=this.\u0275fac=function(x){return new(x||I)(e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["locker-grid"]],inputs:{bank:"bank",bank_status:"bank_status",selected:"selected"},outputs:{clicked:"clicked"},decls:4,vars:9,consts:[[1,"p-4","text-xl","font-medium"],[1,"flex-1","grid","gap-2","overflow-hidden","max-h-full","h-[75vh]","min-w-[60vw]","p-2"],["matRipple","","class","relative border border-base-200 rounded bg-teal-300 overflow-hidden",3,"opacity-60","grid-column-start","grid-row-start","grid-column-end","background-color","grid-row-end","matTooltip","disabled","click",4,"ngFor","ngForOf"],["matRipple","",1,"relative","border","border-base-200","rounded","bg-teal-300","overflow-hidden",3,"click","matTooltip","disabled"],["handle","",1,"absolute","top-1/2","-translate-y-1/2","left-2","w-1","h-6","bg-neutral","rounded"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-2","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-4","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-6","w-3/5","h-1","bg-neutral","rounded-t"],[1,"absolute","left-1/2","-translate-x-1/2","top-8","text-[0.6rem]","font-medium","text-black/60"],[1,"absolute","inset-0","hover:bg-neutral"]],template:function(x,M){1&x&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.DNE(3,_,8,15,"button",2),e.k0s()),2&x&&(e.R7$(),e.SpI(" ",null==M.bank?null:M.bank.name," "),e.R7$(),e.xc7("width",2.5*M.columns+"rem")("grid-template-columns","repeat("+M.columns+", 1fr)")("grid-template-rows","repeat("+(null==M.bank?null:M.bank.height)+", 1fr)"),e.R7$(),e.Y8G("ngForOf",(null==M.bank?null:M.bank.lockers)||e.lJ4(8,E)))},dependencies:[h.Sq,g.r6,b.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.75;background-color:#ccc!important}"]})}return I})()},1511:(Ot,ve,s)=>{"use strict";s.d(ve,{g:()=>w});var e=s(3953),n=s(9417),d=s(4233),h=s(482),g=s(4006),b=s(177),E=s(2765),_=s(9434),u=s(3208),I=s(6600);const k=()=>[],y=()=>({standalone:!0});function x(m,v){if(1&m){const A=e.RV6();e.j41(0,"mat-checkbox",28),e.bIt("ngModelChange",function(G){const O=e.eBV(A).$implicit,W=e.XpG(3);return e.Njj(W.setFeature(O,G))}),e.EFF(1),e.k0s()}if(2&m){const A=v.$implicit,L=e.XpG(3);e.Y8G("ngModel",(L.selected_features||e.lJ4(3,k)).includes(A))("ngModelOptions",e.lJ4(4,y)),e.R7$(),e.SpI(" ",A," ")}}function M(m,v){if(1&m&&(e.j41(0,"div",24)(1,"label",25),e.EFF(2,"Type"),e.k0s(),e.j41(3,"div",26),e.DNE(4,x,2,5,"mat-checkbox",27),e.k0s()()),2&m){const A=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",A.features)}}function B(m,v){if(1&m&&e.nrm(0,"img",29),2&m){const A=e.XpG().$implicit;e.Y8G("source",A.images[0])}}function K(m,v){1&m&&e.nrm(0,"img",30)}function P(m,v){1&m&&(e.j41(0,"div",16)(1,"app-icon",17),e.EFF(2,"accessible"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Disability Accessible"),e.k0s()())}function j(m,v){if(1&m){const A=e.RV6();e.j41(0,"div",10),e.DNE(1,M,5,1,"div",11),e.j41(2,"div",12),e.DNE(3,B,1,1,"img",13)(4,K,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(6,"div",14)(7,"div",15),e.EFF(8),e.k0s(),e.j41(9,"div",16)(10,"app-icon",17),e.EFF(11,"place"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()(),e.DNE(14,P,5,0,"div",18),e.j41(15,"div",19)(16,"button",20),e.bIt("click",function(){const G=e.eBV(A).$implicit,O=e.XpG();return e.Njj(O.changeResources(G))}),e.j41(17,"div",21),e.PLo(18,2),e.nrm(19,"app-icon"),e.YFu(),e.k0s()(),e.j41(20,"button",22),e.bIt("click",function(){const G=e.eBV(A).$implicit,O=e.XpG();return e.Njj(O.removeResource(G))}),e.j41(21,"div",21),e.PLo(22,3),e.nrm(23,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(24,"button",23),e.bIt("click",function(){e.eBV(A);const G=e.XpG();return e.Njj(G.toggleFavourite(G.asset))}),e.j41(25,"app-icon"),e.EFF(26),e.k0s()()()}if(2&m){const A=v.$implicit,L=e.sdS(5),G=e.XpG();e.R7$(),e.Y8G("ngIf",null==G.features?null:G.features.length),e.R7$(2),e.Y8G("ngIf",null==A.images?null:A.images.length)("ngIfElse",L),e.R7$(5),e.SpI(" ",A.name||"Locker"," "),e.R7$(5),e.JRh((null==A.zone?null:A.zone.display_name)||(null==A.zone?null:A.zone.name)),e.R7$(),e.Y8G("ngIf",A.accessible),e.R7$(10),e.AVh("text-blue-400",G.favorites.includes(null==G.asset?null:G.asset.id)),e.R7$(2),e.JRh(G.favorites.includes(null==G.asset?null:G.asset.id)?"favorite":"favorite_border")}}const S=[];let w=(()=>{class m{get favorites(){return this._settings.get(h.F)||S}constructor(A,L){this._settings=A,this._dialog=L,this.features=[],this.room_size=3,this.items=[],this.disabled=!1,this.selected_features=[],this.registerOnChange=G=>this._onChange=G,this.registerOnTouched=G=>this._onTouch=G,this.setDisabledState=G=>this.disabled=G}changeResources(){const A=this._dialog.open(h.P,{data:{items:this.items,options:{capacity:this.room_size}}});A.afterClosed().subscribe(L=>{L||(L=A.componentInstance.selected),this.setValue(L)})}removeResource(A){this.setValue(this.items.filter(L=>L.id!==A.id))}setValue(A){this.items=A,this._onChange&&this._onChange(this.items)}writeValue(A){this.items=A||[]}toggleFavourite(A){const L=this.favorites;L.includes(A.id)?this._settings.saveUserSetting(h.F,L.filter(O=>O!==A.id)):this._settings.saveUserSetting(h.F,[...L,A.id])}static#e=this.\u0275fac=function(L){return new(L||m)(e.rXU(d.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:m,selectors:[["locker-list-field"]],inputs:{features:"features"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>m),multi:!0}])],decls:10,vars:1,consts:()=>{let A,L,G;return A=$localize`:␟8b5f83031c9399ae009db8ff4c788e3f8ce20062␟6395293173369343552:Add Locker`,L=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#19\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#19\ufffd"}:CLOSE_TAG_APP_ICON: Change `,G=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#23\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#23\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],A,L,G,["list","",1,"space-y-2"],["locker","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-locker",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["locker","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],["class","flex flex-col",4,"ngIf"],[1,"w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500","text-base"],["class","flex items-center text-sm space-x-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-locker",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-locker",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-locker-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"flex","flex-col"],["for","title"],["features","",1,"flex","items-center","flex-wrap","space-x-2"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","ngModelOptions"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/locker-placeholder.svg",1,"m-auto"]]},template:function(L,G){1&L&&(e.j41(0,"div",4),e.DNE(1,j,27,9,"div",5),e.k0s(),e.j41(2,"button",6),e.bIt("click",function(){return G.changeResources()}),e.j41(3,"div",7)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",8),e.nrm(9,"div",9),e.k0s()),2&L&&(e.R7$(),e.Y8G("ngForOf",G.items))},dependencies:[b.Sq,b.bT,n.BC,n.vS,E.So,_.R,u.U,I.r6]})}return m})()},647:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>S});var e=s(3953),n=s(9714),d=s(5006),h=s(8379),g=s(8796),b=s(177),E=s(9183),_=s(9434),u=s(3208),I=s(6600);function k(w,m){1&w&&(e.j41(0,"div",22)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function y(w,m){if(1&w&&e.nrm(0,"img",23),2&w){const v=e.XpG().$implicit;e.Y8G("source",v.images[0])}}function x(w,m){1&w&&e.nrm(0,"img",24)}function M(w,m){if(1&w){const v=e.RV6();e.j41(0,"li",11)(1,"button",12),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG(3);return e.Njj(G.selectLockerBank(L))}),e.j41(2,"div",13),e.DNE(3,k,3,0,"div",14)(4,y,1,1,"img",15)(5,x,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",16)(8,"span",17),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"app-icon",19),e.EFF(12,"place"),e.k0s(),e.j41(13,"p",20),e.EFF(14),e.k0s()(),e.j41(15,"div",18)(16,"app-icon",19),e.EFF(17,"people"),e.k0s(),e.j41(18,"p",20),e.EFF(19),e.k0s()()()(),e.j41(20,"button",21),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG(3);return e.Njj(G.toggleFav.emit(L))}),e.j41(21,"app-icon"),e.EFF(22),e.k0s()()()}if(2&w){const v=m.$implicit,A=e.sdS(6),L=e.XpG(3);e.AVh("!border-blue-400",L.active===v.id),e.R7$(3),e.Y8G("ngIf",L.selected.includes(v.id)),e.R7$(),e.Y8G("ngIf",null==v.images?null:v.images.length)("ngIfElse",A),e.R7$(5),e.SpI(" ",v.name||v.id||"Locker_bank"," "),e.R7$(5),e.SpI(" ",(null==v.zone?null:v.zone.display_name)||(null==v.zone?null:v.zone.name)||"<No Level>"," "),e.R7$(5),e.Lme(" ",v.available||0," / ",v.lockers.length||1," Available "),e.R7$(),e.AVh("text-blue-400",L.isFavourite(v.id)),e.R7$(2),e.JRh(L.isFavourite(v.id)?"favorite":"favorite_border")}}function B(w,m){if(1&w&&(e.j41(0,"ul",9),e.DNE(1,M,23,12,"li",10),e.nI1(2,"async"),e.k0s()),2&w){const v=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,v.locker_banks))}}function K(w,m){if(1&w&&(e.qex(0),e.DNE(1,B,3,3,"ul",8),e.nI1(2,"async"),e.bVm()),2&w){let v;const A=e.XpG(),L=e.sdS(10);e.R7$(),e.Y8G("ngIf",null==(v=e.bMT(2,2,A.locker_banks))?null:v.length)("ngIfElse",L)}}function P(w,m){1&w&&(e.j41(0,"div",25),e.nrm(1,"mat-spinner",26),e.j41(2,"p",27),e.EFF(3,"Finding available locker banks..."),e.k0s()()),2&w&&(e.R7$(),e.Y8G("diameter",32))}function j(w,m){1&w&&(e.j41(0,"div",28)(1,"p",29),e.EFF(2," No available locker banks for selected time and/or filters "),e.k0s()())}let S=(()=>{class w{constructor(v,A){this._state=v,this._lockers=A,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.locker_banks=(0,n.zV)([this._state.options,this._state.available_resources,this._lockers.lockers_banks$]).pipe((0,d.T)(([{show_fav:L},G,O])=>O.filter(W=>(!L||this.isFavourite(W.id))&&G.find(U=>U.bank_id===W.id)).map(W=>({...W,available:G.filter(U=>U.bank_id===W.id).length,lockers:W.lockers.map(U=>({...U,zone:W.zone}))})))),this.loading=this._state.loading}isFavourite(v){return this.favorites.includes(v)}selectLockerBank(v){this.onSelect.emit(v)}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(h.n),e.rXU(g.$))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["locker-bank-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let v,A;return v=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,A=$localize`:␟5b237ca854e67fef69541b67dc32656a82b0972b␟8158044446606709450: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,[["load_state",""],["empty_state",""],["placeholder",""],v,A,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2 min-w-[50vh]",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","min-w-[50vh]"],["locker_bank","","class","relative rounded-lg w-full shadow border bg-base-100 border-base-200 overflow-hidden",3,"!border-blue-400",4,"ngFor","ngForOf"],["locker_bank","",1,"relative","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200","overflow-hidden"],["name","select-locker_bank","matRipple","",1,"w-full","h-full","flex","p-2",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pt-2","flex-1","text-left"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"text-xs"],["icon","","matRipple","","name","toggle-locker_bank-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/locker-placeholder.svg",1,"m-auto"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(A,L){if(1&A&&(e.j41(0,"h3",5),e.pXf(1,3),e.k0s(),e.j41(2,"p",6),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,K,3,4,"ng-container",7),e.nI1(6,"async"),e.DNE(7,P,4,1,"ng-template",null,0,e.C5r)(9,j,3,0,"ng-template",null,1,e.C5r)),2&A){let G,O;const W=e.sdS(8);e.R7$(4),e.uP7((null==(G=e.bMT(4,3,L.locker_banks))?null:G.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!(null!=(O=e.bMT(6,5,L.loading))&&O.length))("ngIfElse",W)}},dependencies:[b.Sq,b.bT,E.LG,_.R,u.U,I.r6,b.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;background:#0000000d;overflow-y:auto}"]})}return w})()},2394:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>x});var e=s(3953),n=s(1168),d=s(2657),h=s(8379),g=s(4512),b=s(6665),E=s(177),_=s(9434),u=s(6600);const I=()=>[];function k(M,B){if(1&M){const K=e.RV6();e.j41(0,"div",14)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"button",15),e.bIt("click",function(){const j=e.eBV(K).$implicit,S=e.XpG();return e.Njj(S.setFeature(j,!1))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}if(2&M){const K=B.$implicit;e.R7$(2),e.JRh(K)}}function y(M,B){if(1&M){const K=e.RV6();e.j41(0,"div",16)(1,"span"),e.pXf(2,3),e.k0s(),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(K);const j=e.XpG();return e.Njj(j.setOptions({show_fav:!1}))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}}let x=(()=>{class M extends n.Tv{get start(){return this._state.form.value.date}get end(){const{date:K,duration:P,all_day:j}=this._state.form.value;return j?(0,g.D)(K):K+60*P*1e3}get time_format(){return this._settings.time_format}constructor(K,P,j){super(),this._bsheet=K,this._state=P,this._settings=j,this.view="list",this.viewChange=new e.bkB,this.options=this._state.options,this.setOptions=S=>this._state.setOptions(S),this.setFeature=(S,w)=>this._state.setFeature(S,w),this.editFilter=()=>this._bsheet.open(d.x)}static#e=this.\u0275fac=function(P){return new(P||M)(e.rXU(b.VK),e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["locker-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[e.Vt3],decls:20,vars:23,consts:()=>{let K,P,j,S;return K=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,P=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,j=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,S=$localize`:␟d6ad8326be48837fe776a268abc758d1c7ba4f05␟1305804744685886428:Favourites Only`,[K,P,j,S,["actions","",1,"sm:hidden","space-x-2","flex","flex-row","items-center","p-2"],["btn","","matRipple","","name","edit-locker-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-locker-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-locker-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","date",""],["filter-item","","time",""],["filter-item","","features","",4,"ngFor","ngForOf"],["filter-item","",4,"ngIf"],["filter-item","","features",""],["icon","","matRipple","","name","remove-locker-filter",1,"-mr-4",3,"click"],["filter-item",""],["icon","","matRipple","","name","remove-locker-favs-filter",1,"-mr-4",3,"click"]]},template:function(P,j){if(1&P&&(e.j41(0,"section",4)(1,"button",5),e.bIt("click",function(){return j.editFilter()}),e.pXf(2,0),e.k0s(),e.j41(3,"div",6)(4,"button",7),e.bIt("click",function(){return j.view="map",j.viewChange.emit(j.view)}),e.pXf(5,1),e.k0s(),e.j41(6,"button",8),e.bIt("click",function(){return j.view="list",j.viewChange.emit(j.view)}),e.pXf(7,2),e.k0s()()(),e.j41(8,"section",9)(9,"div",10),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"div",11),e.EFF(13),e.nI1(14,"date"),e.nI1(15,"date"),e.k0s(),e.DNE(16,k,6,1,"div",12),e.nI1(17,"async"),e.DNE(18,y,6,0,"div",13),e.nI1(19,"async"),e.k0s()),2&P){let S,w;e.R7$(4),e.AVh("inverse","map"!==j.view),e.R7$(2),e.AVh("inverse","list"!==j.view),e.R7$(4),e.JRh(e.i5U(11,9,j.start,"mediumDate")),e.R7$(3),e.Lme(" ",e.i5U(14,12,j.start,j.time_format)," \u2014 ",e.i5U(15,15,j.end,j.time_format)," "),e.R7$(3),e.Y8G("ngForOf",(null==(S=e.bMT(17,18,j.options))?null:S.features)||e.lJ4(22,I)),e.R7$(2),e.Y8G("ngIf",null==(w=e.bMT(19,20,j.options))?null:w.show_fav)}},dependencies:[E.Sq,E.bT,_.R,u.r6,E.Jj,E.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return M})()},2657:(Ot,ve,s)=>{"use strict";s.d(ve,{x:()=>ae});var e=s(1168),n=s(4512),d=s(906),h=s(8026),g=s(8379),b=s(9714),E=s(5006),_=s(3953),u=s(6665),I=s(177),k=s(9417),y=s(3719),x=s(2765),M=s(6600),B=s(9608),K=s(3476),P=s(1413),j=s(9434),S=s(2798),w=s(6062),m=s(1780);const v=()=>({standalone:!0}),A=()=>[];function L(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"button",33),_.bIt("click",function(){_.eBV(Fe);const Ye=_.XpG();return _.Njj(Ye.close())}),_.j41(1,"app-icon"),_.EFF(2,"keyboard_arrow_left"),_.k0s()()}}function G(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37),_.EFF(1),_.k0s()),2&_e){const Fe=xe.$implicit;_.Y8G("value",Fe),_.R7$(),_.SpI(" ",Fe.display_name||Fe.name," ")}}function O(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",35),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setRegion(Ye))}),_.DNE(2,G,2,2,"mat-option",36),_.nI1(3,"async"),_.k0s()()}if(2&_e){const Fe=_.XpG();_.R7$(),_.Y8G("ngModel",Fe.region)("ngModelOptions",_.lJ4(5,v)),_.R7$(),_.Y8G("ngForOf",_.bMT(3,3,Fe.regions))}}function W(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37),_.EFF(1),_.k0s()),2&_e){const Fe=xe.$implicit;_.Y8G("value",Fe),_.R7$(),_.SpI(" ",Fe.display_name||Fe.name," ")}}function U(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",38),_.nI1(2,"async"),_.nI1(3,"async"),_.nI1(4,"async"),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setBuilding(Ye))}),_.DNE(5,W,2,2,"mat-option",36),_.nI1(6,"async"),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(),_.Y8G("ngModel",_.bMT(2,4,Ae.building))("ngModelOptions",_.lJ4(12,v))("placeholder",(null==(Fe=_.bMT(3,6,Ae.building))?null:Fe.display_name)||(null==(Fe=_.bMT(4,8,Ae.building))?null:Fe.name)),_.R7$(4),_.Y8G("ngForOf",_.bMT(6,10,Ae.buildings))}}function $(_e,xe){if(1&_e&&(_.j41(0,"div",42),_.EFF(1),_.nI1(2,"building"),_.j41(3,"span",43),_.EFF(4," - "),_.k0s()()),2&_e){let Fe;const Ae=_.XpG().$implicit;_.R7$(),_.SpI(" ",null==(Fe=_.bMT(2,1,Ae.parent_id))?null:Fe.display_name," ")}}function te(_e,xe){if(1&_e&&(_.j41(0,"mat-option",37)(1,"div",40),_.DNE(2,$,5,3,"div",41),_.j41(3,"div"),_.EFF(4),_.k0s()()()),2&_e){const Fe=xe.$implicit,Ae=_.XpG(2);_.Y8G("value",Fe.id),_.R7$(2),_.Y8G("ngIf",Ae.use_region),_.R7$(2),_.SpI(" ",Fe.display_name||Fe.name," ")}}function ie(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"mat-form-field",34)(1,"mat-select",39),_.nI1(2,"async"),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.setOptions({zone_id:Ye}))}),_.DNE(3,te,5,3,"mat-option",36),_.nI1(4,"async"),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(),_.Y8G("ngModel",null==(Fe=_.bMT(2,3,Ae.options))?null:Fe.zone_id)("ngModelOptions",_.lJ4(7,v)),_.R7$(2),_.Y8G("ngForOf",_.bMT(4,5,Ae.levels))}}function me(_e,xe){1&_e&&(_.j41(0,"div",44)(1,"mat-checkbox",45),_.pXf(2,6),_.k0s()())}function Y(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",46)(1,"div",47)(2,"label"),_.pXf(3,7),_.k0s(),_.j41(4,"a-time-field",48),_.bIt("ngModelChange",function(Ye){_.eBV(Fe);const qe=_.XpG();return _.Njj(qe.form.patchValue({date:Ye}))}),_.k0s()(),_.j41(5,"div",47)(6,"label"),_.pXf(7,8),_.k0s(),_.nrm(8,"a-duration-field",49),_.k0s()()}if(2&_e){let Fe;const Ae=_.XpG();_.R7$(4),_.Y8G("ngModel",Ae.form.value.date)("ngModelOptions",_.lJ4(8,v))("use_24hr",Ae.use_24hr),_.R7$(4),_.Y8G("time",null==(Fe=Ae.form.get("date"))?null:Fe.value)("max",600)("min",60)("step",60)("use_24hr",Ae.use_24hr)}}function F(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",52)(1,"div",53),_.EFF(2),_.k0s(),_.j41(3,"mat-checkbox",54),_.nI1(4,"async"),_.bIt("ngModelChange",function(Ye){const qe=_.eBV(Fe).$implicit,Ne=_.XpG(2);return _.Njj(Ne.setFeature(qe,Ye))}),_.k0s()()}if(2&_e){let Fe;const Ae=xe.$implicit,Ye=_.XpG(2);_.R7$(2),_.JRh(Ae),_.R7$(),_.Y8G("ngModel",((null==(Fe=_.bMT(4,3,Ye.options))?null:Fe.features)||_.lJ4(5,A)).includes(Ae))("ngModelOptions",_.lJ4(6,v))}}function N(_e,xe){if(1&_e&&(_.j41(0,"section",50)(1,"h2",27),_.pXf(2,9),_.k0s(),_.DNE(3,F,5,7,"div",51),_.nI1(4,"async"),_.k0s()),2&_e){const Fe=_.XpG();_.R7$(3),_.Y8G("ngForOf",_.bMT(4,1,Fe.features))}}function J(_e,xe){if(1&_e){const Fe=_.RV6();_.j41(0,"div",55)(1,"button",56),_.bIt("click",function(){_.eBV(Fe);const Ye=_.XpG();return _.Njj(Ye.close())}),_.pXf(2,10),_.k0s()()}}let ae=(()=>{class _e{get building(){return this._org.building}set building(Fe){this._org.building=Fe}get region(){return this._org.region}set region(Fe){this._org.region=Fe}get allow_time_changes(){return!!this._settings.get("app.lockers.allow_time_changes")}get allow_all_day(){return this.allow_time_changes&&!!this._settings.get("app.lockers.allow_all_day")}get end_date(){return(0,n.D)((0,d.f)(Date.now(),this._settings.get("app.lockers.available_period")||90))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return this._settings.get("app.use_region")}constructor(Fe,Ae,Ye,qe){this._bsheet_ref=Fe,this._state=Ae,this._org=Ye,this._settings=qe,this.can_close=!1,this.options=this._state.options,this.features=this._state.features,this.buildings=this._org.active_buildings,this.form=this._state.form,this.regions=this._org.region_list,this.levels=(0,b.zV)([this._org.active_region,this._org.active_building]).pipe((0,E.T)(([Ne,Me])=>(this.use_region?this._org.levelsForRegion(Ne):this._org.levelsForBuilding(Me)).filter(le=>!le.tags.includes("parking")).sort((le,Ee)=>le.parent_id.localeCompare(Ee.parent_id)||(le.display_name||"").localeCompare(Ee.display_name||"")))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Ne=>this._state.setOptions(Ne),this.setFeature=(Ne,Me)=>this._state.setFeature(Ne,Me),this.setLevel=Ne=>{},this.can_close=!!this._bsheet_ref}static#e=this.\u0275fac=function(Ae){return new(Ae||_e)(_.rXU(u.eN,8),_.rXU(g.n),_.rXU(h.y),_.rXU(e.h$))};static#t=this.\u0275cmp=_.VBU({type:_e,selectors:[["locker-filters"]],inputs:{hide_levels:"hide_levels"},decls:39,vars:30,consts:()=>{let Fe,Ae,Ye,qe,Ne,Me,pe,he,le,Ee,Xe,xt,dt;return Fe=$localize`:␟229669497e532a4055b24a971df68ec327b07e30␟2717350382225268503:Locker Filters`,Ae=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Ye=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,qe=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,Ne=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Me=$localize`:␟d73a29823cb90d2c49c4f6ee3dc0cbad14a63586␟7993989716494624155: ${"\ufffd0\ufffd"}:INTERPOLATION: `,pe=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,he=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,le=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,Ee=$localize`:␟7c0a71d337783e527c1c8e91e433b301c5b1d8a8␟4204880191779081093:Start Time`,Xe=$localize`:␟e1f10d9bf4d3c37490cd5bf82007444ae7af46b1␟3845185958891849368:End Time`,xt=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,dt=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[Fe,Ae,Ye,qe,Ne,Me,le,Ee,Xe,xt,dt,[1,"flex","rounded-t-md","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-locker-filters","class","sm:hidden",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]","sm:max-w-[30vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex-1","min-w-[256px]"],["name","date","formControlName","date",3,"to"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["class","space-y-2","features","",4,"ngIf"],["class","px-2 py-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-locker-filters",1,"sm:hidden",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",pe,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",he,3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["formControlName","duration",3,"time","max","min","step","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","py-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-locker-filters",1,"w-full",3,"click"]]},template:function(Ae,Ye){if(1&Ae&&(_.j41(0,"div",11)(1,"div",12),_.DNE(2,L,3,0,"button",13),_.k0s(),_.j41(3,"h3",14),_.pXf(4,0),_.k0s(),_.nrm(5,"div",15),_.k0s(),_.j41(6,"form",16)(7,"section",17)(8,"h2",18),_.pXf(9,1),_.k0s(),_.j41(10,"div",19)(11,"label",20),_.pXf(12,2),_.k0s(),_.DNE(13,O,4,6,"mat-form-field",21),_.nI1(14,"async"),_.DNE(15,U,7,13,"mat-form-field",21),_.nI1(16,"async"),_.DNE(17,ie,5,8,"mat-form-field",21),_.k0s(),_.j41(18,"div",22)(19,"label"),_.pXf(20,3),_.k0s(),_.j41(21,"a-date-field",23),_.EFF(22),_.nI1(23,"translate"),_.k0s()(),_.DNE(24,me,3,0,"div",24)(25,Y,9,9,"div",25),_.k0s(),_.j41(26,"section",26)(27,"h2",27),_.pXf(28,4),_.nI1(29,"translate"),_.k0s(),_.j41(30,"div",28)(31,"div",29),_.pXf(32,5),_.nI1(33,"translate"),_.k0s(),_.j41(34,"mat-checkbox",30),_.nI1(35,"async"),_.bIt("ngModelChange",function(Ne){return Ye.setOptions({show_fav:Ne})}),_.k0s()()(),_.DNE(36,N,5,3,"section",31),_.nI1(37,"async"),_.k0s(),_.DNE(38,J,3,0,"div",32)),2&Ae){let qe,Ne,Me,pe;_.R7$(2),_.Y8G("ngIf",Ye.can_close),_.R7$(4),_.Y8G("formGroup",Ye.form),_.R7$(7),_.Y8G("ngIf",Ye.use_region&&(null==(qe=_.bMT(14,15,Ye.regions))?null:qe.length)),_.R7$(2),_.Y8G("ngIf",!Ye.use_region&&(null==(Ne=_.bMT(16,17,Ye.buildings))?null:Ne.length)>1),_.R7$(2),_.Y8G("ngIf",!Ye.hide_levels),_.R7$(4),_.Y8G("to",Ye.end_date),_.R7$(),_.SpI(" ",_.bMT(23,19,"FORM.DATE_ERROR")," "),_.R7$(2),_.Y8G("ngIf",Ye.allow_all_day),_.R7$(),_.Y8G("ngIf",!Ye.form.value.all_day),_.R7$(4),_.uP7(_.bMT(29,21,"COMMON.FAVOURITES")),_.nnv(28),_.R7$(4),_.uP7(_.bMT(33,23,"LOCKERS.SHOW_FAVOURITES")),_.nnv(32),_.R7$(),_.Y8G("ngModel",null==(Me=_.bMT(35,25,Ye.options))?null:Me.show_fav)("ngModelOptions",_.lJ4(29,v)),_.R7$(2),_.Y8G("ngIf",null==(pe=_.bMT(37,27,Ye.features))?null:pe.length),_.R7$(2),_.Y8G("ngIf",Ye.can_close)}},dependencies:[I.Sq,I.bT,k.qT,k.BC,k.cb,k.vS,k.j4,k.JD,y.rl,x.So,M.wT,B.G,K.y,P.t,j.R,S.VO,M.r6,I.Jj,w.b,m.D9],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return _e})()},8720:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>P});var e=s(3953),n=s(1168),d=s(5006),h=s(8379),g=s(9714),b=s(5897),E=s(4810),_=s(177),u=s(9417),I=s(3719),k=s(6600),y=s(9434),x=s(4918),M=s(2798);const B=()=>({standalone:!0});function K(j,S){if(1&j&&(e.j41(0,"mat-option",10),e.EFF(1),e.k0s()),2&j){const w=S.$implicit;e.Y8G("value",w),e.R7$(),e.SpI(" ",w.display_name||w.name," ")}}let P=(()=>{class j extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(w,m){super(),this._state=w,this._settings=m,this.is_displayed=!1,this.onSelect=new e.bkB,this.lockers=this._state.available_resources,this.loading=this._state.loading,this.zoom=1,this.center={x:.5,y:.5},this.setOptions=v=>this._state.setOptions(v),this.levels=this._state.available_resources.pipe((0,d.T)(v=>(0,n.Am)(v.map(A=>A.zone),"id"))),this.actions=this._state.available_resources.pipe((0,d.T)(v=>v.map(A=>({id:A.map_id||A.id,action:["touchend","mouseup"],callback:()=>this.selectLocker(A)})))),this.features=this._state.resources.pipe((0,d.T)(v=>this._settings.get("app.lockers.hide_user")?[]:v.map(A=>({location:A.id,content:E.B,full_size:!0,no_scale:!0,data:{id:A.map_id||A.id,map_id:A.name,name:A.name||A.map_id,user:this._state.resourceUserName(A.id)},z_index:20})))),this.styles=(0,g.zV)([this._state.resources,this._state.available_resources]).pipe((0,d.T)(([v,A])=>v.reduce((L,G)=>{const O=this._settings.get("app.explore.colors")||{},W=A.find(U=>U.id===G.id)?"free":"busy";return L[`#${G.map_id||G.id}`]={fill:O[`locker-${W}`]||O[`${W}`]||b.U[`${W}`]},L},{})))}ngOnInit(){this.subscription("levels_update",this.levels.subscribe(w=>{w.find(m=>m.id===this.level?.id)||(this.level=w[0])}))}selectLocker(w){this.onSelect.emit(w)}setZoom(w){this.zoom=Math.max(.5,Math.min(10,w))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(m){return new(m||j)(e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:j,selectors:[["locker-map"]],inputs:{is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.Vt3],decls:21,vars:18,consts:[[3,"zoomChange","centerChange","src","zoom","center","features","styles","actions"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["zoom","",1,"absolute","bottom-2","right-2","rounded-lg","border","border-base-200","bg-base-100","flex","flex-col","overflow-hidden"],["zoom-in","","icon","","matRipple","",3,"click"],[1,"border-t","border-base-200","w-full"],["zoom-out","","icon","","matRipple","",3,"click"],["reset","","icon","","matRipple","",3,"click"],[3,"value"]],template:function(m,v){1&m&&(e.j41(0,"interactive-map",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.mxI("zoomChange",function(L){return e.DH7(v.zoom,L)||(v.zoom=L),L})("centerChange",function(L){return e.DH7(v.center,L)||(v.center=L),L}),e.k0s(),e.j41(4,"div",1)(5,"mat-form-field",2)(6,"mat-select",3),e.mxI("ngModelChange",function(L){return e.DH7(v.level,L)||(v.level=L),L}),e.DNE(7,K,2,2,"mat-option",4),e.nI1(8,"async"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return v.setZoom(1.1*v.zoom)}),e.j41(11,"app-icon"),e.EFF(12,"zoom_in"),e.k0s()(),e.nrm(13,"div",7),e.j41(14,"button",8),e.bIt("click",function(){return v.setZoom(v.zoom*(1/1.1))}),e.j41(15,"app-icon"),e.EFF(16,"zoom_out"),e.k0s()(),e.nrm(17,"div",7),e.j41(18,"button",9),e.bIt("click",function(){return v.resetMap()}),e.j41(19,"app-icon"),e.EFF(20,"refresh"),e.k0s()()()),2&m&&(e.Y8G("src",v.map_url),e.R50("zoom",v.zoom)("center",v.center),e.Y8G("features",e.bMT(1,9,v.features))("styles",e.bMT(2,11,v.styles))("actions",e.bMT(3,13,v.actions)),e.R7$(6),e.R50("ngModel",v.level),e.Y8G("ngModelOptions",e.lJ4(17,B)),e.R7$(),e.Y8G("ngForOf",e.bMT(8,15,v.levels)))},dependencies:[_.Sq,u.BC,u.vS,I.rl,k.wT,y.R,x.S,M.VO,k.r6,_.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return j})()},482:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>S,P:()=>w});var e=s(4006),n=s(1168),d=s(8379),h=s(3953),g=s(177),b=s(9434),E=s(6600),_=s(4854),u=s(2657),I=s(2394),k=s(647),y=s(8720);function x(m,v){if(1&m){const A=h.RV6();h.j41(0,"locker-bank-list",32),h.bIt("toggleFav",function(G){h.eBV(A);const O=h.XpG(2);return h.Njj(O.toggleFavourite(G))})("onSelect",function(G){h.eBV(A);const O=h.XpG(2);return h.Njj(O.bank=G)}),h.k0s()}if(2&m){const A=h.XpG(2);h.Y8G("active",null==A.displayed?null:A.displayed.id)("selected",A.selected_ids)("favorites",A.favorites)}}function M(m,v){if(1&m&&(h.qex(0),h.DNE(1,x,1,3,"locker-bank-list",31),h.bVm()),2&m){const A=h.XpG(),L=h.sdS(39);h.R7$(),h.Y8G("ngIf","list"===A.view)("ngIfElse",L)}}function B(m,v){if(1&m){const A=h.RV6();h.j41(0,"button",33),h.bIt("click",function(){h.eBV(A);const G=h.XpG();return h.Njj(G.displayed=null)}),h.pXf(1,7),h.k0s()}}function K(m,v){if(1&m){const A=h.RV6();h.j41(0,"button",34),h.bIt("click",function(){h.eBV(A);const G=h.XpG();return G.bank=null,h.Njj(G.displayed=null)}),h.EFF(1," Return "),h.k0s()}}function P(m,v){if(1&m){const A=h.RV6();h.j41(0,"locker-map",35),h.bIt("onSelect",function(G){h.eBV(A);const O=h.XpG();return h.Njj(O.displayed=G)}),h.k0s()}if(2&m){const A=h.XpG();h.Y8G("is_displayed",!!A.displayed)}}function j(m,v){if(1&m){const A=h.RV6();h.j41(0,"locker-grid",36),h.bIt("clicked",function(G){h.eBV(A);const O=h.XpG();return h.Njj(O.displayed=G)}),h.k0s()}if(2&m){const A=h.XpG();h.Y8G("bank",A.bank)("selected",null==A.displayed?null:A.displayed.id)}}const S="favourite_lockers";let w=(()=>{class m{get selected_ids(){return this.selected.map(A=>A.id).join(",")}get favorites(){return this._settings.get(S)||[]}constructor(A,L,G,O){this._dialog_ref=A,this._settings=L,this._event_form=G,this._data=O,this.selected=[],this.view="list",this.bank=null,this.selected=[...O.items||[]],this._event_form.setOptions(O.options)}isSelected(A){return A&&this.selected_ids.includes(A)}setSelected(A,L){const G=this.selected.filter(O=>O.id!==A.id);L&&G.push(A),this.selected=G,!this._data.options.group&&L&&this._dialog_ref.close([A])}toggleFavourite(A){const L=this.favorites;L.includes(A.id)?this._settings.saveUserSetting(S,L.filter(O=>O!==A.id)):this._settings.saveUserSetting(S,[...L,A.id])}static#e=this.\u0275fac=function(L){return new(L||m)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(d.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:m,selectors:[["locker-select-modal"]],decls:42,vars:20,consts:()=>{let A,L,G,O,W,U;return A=$localize`:␟a97cf1d9e290adb3e67030e67ae6cc914390a70d␟6506914875226692064:Find Locker`,L=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,G=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,O=$localize`:␟613a2ac6bcd89376b2b66c414f54a2120304f542␟3218631102043895117: ${"\ufffd0\ufffd"}:INTERPOLATION: locker(s) added `,W=$localize`:␟b175289321a7bd20ba6e53bafb26c0604ecec7e5␟7444538929505592211: ${"\ufffd0\ufffd"}:INTERPOLATION: `,U=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],["bank_view",""],A,L,G,O,W,U,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","name","view-locker-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-locker-list",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],[4,"ngIf","ngIfElse"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","locker-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-lockers",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","locker-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm","text-center"],["btn","","matRipple","","name","clear-bank","class","inverse mr-2 w-32",3,"click",4,"ngIf"],["btn","","matRipple","","name","toggle-locker",3,"click","disabled"],[1,"mr-1"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","locker-return",1,"inverse","sm:hidden","w-full",3,"click"],["btn","","matRipple","","name","clear-bank",1,"inverse","mr-2","w-32",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","is_displayed"],[1,"max-w-full","overflow-auto","flex-1","h-1/2","bg-base-200",3,"clicked","bank","selected"]]},template:function(L,G){if(1&L){const O=h.RV6();h.j41(0,"div",8)(1,"header",9)(2,"button",10)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,2),h.k0s(),h.j41(7,"div",11)(8,"button",12),h.bIt("click",function(){return h.eBV(O),h.Njj(G.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",13),h.bIt("click",function(){return h.eBV(O),h.Njj(G.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",14),h.nrm(13,"locker-filters",15),h.j41(14,"div",16)(15,"locker-filters-display",17),h.mxI("viewChange",function(U){return h.eBV(O),h.DH7(G.view,U)||(G.view=U),h.Njj(U)}),h.k0s(),h.DNE(16,M,2,2,"ng-container",18),h.k0s()(),h.j41(17,"footer",19),h.DNE(18,B,2,0,"button",20),h.j41(19,"button",21),h.pXf(20,3),h.k0s()(),h.j41(21,"footer",22)(22,"button",23)(23,"div",24)(24,"app-icon",25),h.EFF(25,"arrow_back"),h.k0s(),h.j41(26,"div",26),h.pXf(27,4),h.k0s()()(),h.j41(28,"p",27),h.pXf(29,5),h.k0s(),h.j41(30,"div",24),h.DNE(31,K,2,0,"button",28),h.j41(32,"button",29),h.bIt("click",function(){return h.eBV(O),h.Njj(G.setSelected(G.displayed,!G.isSelected(null==G.displayed?null:G.displayed.id)))}),h.j41(33,"div",24)(34,"app-icon",25),h.EFF(35),h.k0s(),h.j41(36,"div",30),h.pXf(37,6),h.k0s()()()()()(),h.DNE(38,P,1,1,"ng-template",null,0,h.C5r)(40,j,1,2,"ng-template",null,1,h.C5r)}if(2&L){const O=h.sdS(41);h.R7$(8),h.AVh("inverse","map"!==G.view),h.R7$(2),h.AVh("inverse","list"!==G.view),h.R7$(3),h.Y8G("hide_levels","list"!==G.view),h.R7$(2),h.R50("view",G.view),h.R7$(),h.Y8G("ngIf",!G.bank)("ngIfElse",O),h.R7$(2),h.Y8G("ngIf",G.displayed),h.R7$(),h.AVh("mb-2",G.displayed),h.Y8G("mat-dialog-close",G.selected),h.R7$(3),h.Y8G("mat-dialog-close",G.selected),h.R7$(7),h.uP7(G.selected.length),h.nnv(29),h.R7$(2),h.Y8G("ngIf",G.bank),h.R7$(),h.AVh("inverse",G.isSelected(null==G.displayed?null:G.displayed.id)),h.Y8G("disabled",!G.displayed),h.R7$(3),h.JRh(G.isSelected(null==G.displayed?null:G.displayed.id)?"remove":"add"),h.R7$(2),h.uP7(G.isSelected(null==G.displayed?null:G.displayed.id)?"Remove from Booking":"Add to booking"),h.nnv(37)}},dependencies:[g.bT,e.tx,b.R,E.r6,_.E,u.x,I.B,k.k,y.U],encapsulation:2})}return m})()},8796:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>M});var e=s(467),n=s(1168),d=s(1038),h=s(9928),g=s(9714),b=s(4421),E=s(8728),_=s(9090),u=s(3921),I=s(5006),k=s(8712),y=s(8026),x=s(3953);let M=(()=>{class B{setLevel(P){this._level.next(P)}constructor(P){this._org=P,this._level=new h.t(""),this._change=new h.t(0),this.lockers_banks$=(0,g.zV)([this._org.active_building,this._change]).pipe((0,E.p)(([j])=>!!j),(0,_.n)(([j])=>(0,d.WsZ)(j.id,{name:"lockers"}).pipe((0,u.W)(()=>(0,b.of)(new d.Pdm)))),(0,I.T)(j=>(0,n.Bq)(j.map(S=>S.metadata.lockers?.details instanceof Array?S.metadata.lockers?.details.map(w=>({...w,zone:S.zone})):[]))),(0,k.t)(1)),this.lockers$=this.lockers_banks$.pipe((0,I.T)(j=>{const S=[];for(const w of j)S.push(...w.lockers.map(m=>({...m,bank_id:w.id,map_id:w.map_id,level_id:w.zone.id})));return S})),this.filtered_lockers$=(0,g.zV)([this._level,this.lockers$]).pipe((0,I.T)(([j,S])=>S.filter(w=>(!j||w.level_id===j)&&w.bookable)))}saveLockers(P){var j=this;return(0,e.A)(function*(){yield(0,d.D58)(j._org.building.id,{name:"lockers",description:"",details:P}),j._change.next(Date.now())})()}static#e=this.\u0275fac=function(j){return new(j||B)(x.KVO(y.y))};static#t=this.\u0275prov=x.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},6724:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>x});var e=s(3953),n=s(4351),d=s(2185),h=s(177),g=s(9434),b=s(4918),E=s(5277),_=s(6600);const u=()=>({disable_pan:!0,disable_zoom:!0});function I(M,B){if(1&M&&e.nrm(0,"image-carousel",21),2&M){const K=e.XpG(2);e.Y8G("images",K.space.images)}}function k(M,B){if(1&M){const K=e.RV6();e.qex(0),e.j41(1,"section",5),e.DNE(2,I,1,1,"image-carousel",6),e.j41(3,"button",7),e.bIt("click",function(){e.eBV(K);const j=e.XpG();return e.Njj(j.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",8),e.bIt("click",function(){e.eBV(K);const j=e.XpG();return e.Njj(j.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",9)(10,"section",10)(11,"h2",11),e.EFF(12),e.k0s()(),e.nrm(13,"hr"),e.j41(14,"section",12)(15,"h2",13),e.pXf(16,1),e.k0s(),e.j41(17,"div",14)(18,"app-icon"),e.EFF(19,"people"),e.k0s(),e.j41(20,"p"),e.pXf(21,2),e.k0s()(),e.j41(22,"div",14)(23,"app-icon"),e.EFF(24,"meeting_room"),e.k0s(),e.j41(25,"p"),e.EFF(26),e.k0s()(),e.j41(27,"div",14)(28,"app-icon"),e.EFF(29,"place"),e.k0s(),e.j41(30,"p"),e.EFF(31),e.k0s()()(),e.nrm(32,"hr"),e.j41(33,"section",15),e.nrm(34,"interactive-map",16),e.k0s()(),e.j41(35,"div",17)(36,"button",18),e.bIt("click",function(){e.eBV(K);const j=e.XpG();return j.active=!j.active,e.Njj(j.activeChange.emit(j.active))}),e.j41(37,"div",19)(38,"app-icon",20),e.EFF(39),e.k0s(),e.j41(40,"p"),e.EFF(41),e.k0s()()()(),e.bVm()}if(2&M){const K=e.XpG();e.R7$(),e.AVh("sm:h-40",null==K.space.images?null:K.space.images.length)("h-64",null==K.space.images?null:K.space.images.length)("sm:h-0",!(null!=K.space.images&&K.space.images.length))("h-12",!(null!=K.space.images&&K.space.images.length))("!bg-transparent",!(null!=K.space.images&&K.space.images.length)),e.R7$(),e.Y8G("ngIf",null==K.space.images?null:K.space.images.length),e.R7$(4),e.AVh("text-info-content",K.fav)("!bg-info",K.fav),e.R7$(2),e.JRh(K.fav?"favorite":"favorite_border"),e.R7$(4),e.SpI(" ",K.space.display_name||K.space.name," "),e.R7$(9),e.uP7(K.space.capacity),e.nnv(21),e.R7$(5),e.SpI(" ",(null==K.level?null:K.level.display_name)||(null==K.level?null:K.level.name)," "),e.R7$(5),e.SpI(" ",(null==K.building?null:K.building.address)||(null==K.building?null:K.building.display_name)||(null==K.building?null:K.building.name)," "),e.R7$(3),e.Y8G("src",K.map_url)("focus",K.space.map_id)("features",K.features)("options",e.lJ4(28,u)),e.R7$(2),e.AVh("inverse",K.active),e.R7$(3),e.JRh(K.active?"remove":"add"),e.R7$(2),e.SpI(" ",K.active?"Remove this room":"Add this room"," ")}}function y(M,B){1&M&&(e.j41(0,"div",22)(1,"p",23),e.pXf(2,3),e.k0s()())}let x=(()=>{class M{get level(){return this._org.levelWithID([this.space?.zone.id])||this.space?.zone}get building(){return this._org.buildings.find(K=>this.space?.zone.id===K.id||this.space?.zone.parent_id===K.id)}constructor(K){this._org=K,this.fav=!1,this.active=!1,this.activeChange=new e.bkB,this.close=new e.bkB,this.toggleFav=new e.bkB,this.map_url="",this.features=[]}ngOnChanges(K){K.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:n.VT}]}static#e=this.\u0275fac=function(P){return new(P||M)(e.rXU(d.yb))};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["parking-space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[e.OA$],decls:3,vars:2,consts:()=>{let K,P,j;return K=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,P=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,j=$localize`:␟2d39d1ca65d735d7f800e458ce54af6a25652395␟7182911930527299079: Select a space to view it's details `,[["empty_state",""],K,P,j,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-200"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(P,j){if(1&P&&e.DNE(0,k,42,29,"ng-container",4)(1,y,3,0,"ng-template",null,0,e.C5r),2&P){const S=e.sdS(2);e.Y8G("ngIf",j.space)("ngIfElse",S)}},dependencies:[h.bT,g.R,b.S,E.H,_.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return M})()},9138:(Ot,ve,s)=>{"use strict";s.d(ve,{X:()=>M});var e=s(467),n=s(3953),d=s(1168),h=s(2185),g=s(9493),b=s(9145),E=s(8379),_=s(6665),u=s(177),I=s(9434),k=s(6600);function y(B,K){if(1&B&&(n.j41(0,"div",15),n.EFF(1),n.k0s()),2&B){const P=n.XpG();n.R7$(),n.SpI(" ",P.location," ")}}function x(B,K){if(1&B){const P=n.RV6();n.j41(0,"div",16)(1,"p"),n.EFF(2),n.k0s(),n.j41(3,"button",17),n.bIt("click",function(){const S=n.eBV(P).$implicit,w=n.XpG();return n.Njj(w.removeFeature(S))}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&B){const P=K.$implicit;n.R7$(2),n.JRh(P)}}let M=(()=>{class B extends d.Tv{get start(){return this._event_form.form.value.date}get end(){const{date:P,duration:j}=this._event_form.form.value;return P+60*j*1e3}get time_format(){return this._settings.time_format}constructor(P,j,S,w){super(),this._bsheet=P,this._event_form=j,this._org=S,this._settings=w,this.view="list",this.viewChange=new n.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(b.R)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_id:P})=>this._updateLocation([P])))}removeFeature(P){var j=this;return(0,e.A)(function*(){const S=yield j._event_form.options.pipe((0,g.s)(1)).toPromise();j._event_form.setOptions({...S,features:(S.features||[]).filter(w=>w!==P)})})()}_updateLocation(P=[]){const S=this._org.levelWithID(P)||this._org.building;this.location=S?.display_name||S?.name||""}static#e=this.\u0275fac=function(j){return new(j||B)(n.rXU(_.VK),n.rXU(E.n),n.rXU(h.yb),n.rXU(d.h$))};static#t=this.\u0275cmp=n.VBU({type:B,selectors:[["parking-space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[n.Vt3],decls:22,vars:23,consts:()=>{let P,j,S,w;return P=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,j=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,S=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,w=$localize`:␟e1bcafb95323d9492bfdfa190a129131e6255cdb␟7211304359187007121: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[P,j,S,w,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["matRipple","","filters","",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],["icon","","matRipple","",1,"-mr-4",3,"click"]]},template:function(j,S){if(1&j&&(n.j41(0,"section",4)(1,"button",5),n.bIt("click",function(){return S.editFilters()}),n.pXf(2,0),n.k0s(),n.j41(3,"div",6)(4,"button",7),n.bIt("click",function(){return S.view="map",S.viewChange.emit(S.view)}),n.pXf(5,1),n.k0s(),n.j41(6,"button",8),n.bIt("click",function(){return S.view="list",S.viewChange.emit(S.view)}),n.pXf(7,2),n.k0s()()(),n.j41(8,"section",9),n.DNE(9,y,2,1,"div",10),n.j41(10,"div",11),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"div",12),n.EFF(14),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s(),n.j41(17,"div",13),n.pXf(18,3),n.nI1(19,"async"),n.k0s(),n.DNE(20,x,6,1,"div",14),n.nI1(21,"async"),n.k0s()),2&j){let w,m;n.R7$(4),n.AVh("inverse","map"!==S.view),n.R7$(2),n.AVh("inverse","list"!==S.view),n.R7$(3),n.Y8G("ngIf",S.location),n.R7$(2),n.SpI(" ",n.i5U(12,10,S.start,"mediumDate")," "),n.R7$(3),n.Lme(" ",n.i5U(15,13,S.start,S.time_format)," \u2014 ",n.i5U(16,16,S.end,S.time_format)," "),n.R7$(5),n.uP7((null==(w=n.bMT(19,19,S.options))?null:w.capcaity)||2),n.nnv(18),n.R7$(),n.Y8G("ngForOf",null==(m=n.bMT(21,21,S.options))?null:m.features)}},dependencies:[u.Sq,u.bT,I.R,k.r6,u.Jj,u.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return B})()},9145:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>_e});var e=s(467),n=s(1168),d=s(2185),h=s(5006),g=s(9493),b=s(8379),E=s(4512),_=s(906),u=s(3953),I=s(6665),k=s(177),y=s(9417),x=s(3719),M=s(2765),B=s(6600),K=s(9608),P=s(3476),j=s(1413),S=s(9434),w=s(2798);const m=()=>({standalone:!0});function v(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"button",31),u.bIt("click",function(){u.eBV(Ae);const qe=u.XpG();return u.Njj(qe.close())}),u.j41(1,"app-icon"),u.EFF(2,"keyboard_arrow_left"),u.k0s()()}}function A(xe,Fe){if(1&xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&xe){const Ae=Fe.$implicit;u.Y8G("value",Ae),u.R7$(),u.SpI(" ",Ae.display_name||Ae.name," ")}}function L(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",34),u.nI1(2,"async"),u.nI1(3,"async"),u.nI1(4,"async"),u.bIt("ngModelChange",function(qe){u.eBV(Ae);const Ne=u.XpG(2);return u.Njj(Ne.setBuilding(qe))}),u.DNE(5,A,2,2,"mat-option",35),u.nI1(6,"async"),u.k0s()()}if(2&xe){let Ae;const Ye=u.XpG(2);u.R7$(),u.Y8G("ngModel",u.bMT(2,4,Ye.building))("ngModelOptions",u.lJ4(12,m))("placeholder",(null==(Ae=u.bMT(3,6,Ye.building))?null:Ae.display_name)||(null==(Ae=u.bMT(4,8,Ye.building))?null:Ae.name)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,10,Ye.buildings))}}function G(xe,Fe){if(1&xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&xe){const Ae=Fe.$implicit;u.Y8G("value",Ae.id),u.R7$(),u.SpI(" ",Ae.display_name||Ae.name," ")}}function O(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",37),u.nI1(2,"async"),u.bIt("ngModelChange",function(qe){u.eBV(Ae);const Ne=u.XpG(2);return u.Njj(Ne.setOptions({zone_id:qe}))}),u.DNE(3,G,2,2,"mat-option",35),u.nI1(4,"async"),u.k0s()()}if(2&xe){let Ae;const Ye=u.XpG(2);u.R7$(),u.Y8G("ngModel",null==(Ae=u.bMT(2,3,Ye.options))?null:Ae.zone_id)("ngModelOptions",u.lJ4(7,m)),u.R7$(2),u.Y8G("ngForOf",u.bMT(4,5,Ye.levels))}}function W(xe,Fe){if(1&xe&&(u.qex(0),u.DNE(1,L,7,13,"mat-form-field",32),u.nI1(2,"async"),u.DNE(3,O,5,8,"mat-form-field",32),u.bVm()),2&xe){let Ae;const Ye=u.XpG();u.R7$(),u.Y8G("ngIf",(null==(Ae=u.bMT(2,2,Ye.buildings))?null:Ae.length)>1),u.R7$(2),u.Y8G("ngIf",!Ye.hide_levels)}}function U(xe,Fe){if(1&xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&xe){const Ae=Fe.$implicit;u.Y8G("value",Ae),u.R7$(),u.SpI(" ",Ae.display_name||Ae.name," ")}}function $(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",38),u.bIt("ngModelChange",function(qe){u.eBV(Ae);const Ne=u.XpG(2);return u.Njj(Ne.setRegion(qe))}),u.DNE(2,U,2,2,"mat-option",35),u.nI1(3,"async"),u.k0s()()}if(2&xe){const Ae=u.XpG(2);u.R7$(),u.Y8G("ngModel",Ae.region)("ngModelOptions",u.lJ4(5,m)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,Ae.regions))}}function te(xe,Fe){if(1&xe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&xe){const Ae=Fe.$implicit;u.Y8G("value",Ae.id),u.R7$(),u.SpI(" ",Ae.display_name||Ae.name," ")}}function ie(xe,Fe){if(1&xe&&(u.j41(0,"mat-optgroup",41),u.DNE(1,te,2,2,"mat-option",35),u.k0s()),2&xe){const Ae=Fe.$implicit;u.Y8G("label",Ae.name),u.R7$(),u.Y8G("ngForOf",Ae.levels)}}function me(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",39),u.nI1(2,"async"),u.bIt("ngModelChange",function(qe){u.eBV(Ae);const Ne=u.XpG(2);return u.Njj(Ne.setOptions({zone_id:qe}))}),u.j41(3,"mat-option",36),u.EFF(4,"Any Level"),u.k0s(),u.DNE(5,ie,2,2,"mat-optgroup",40),u.nI1(6,"async"),u.k0s()()}if(2&xe){let Ae;const Ye=u.XpG(2);u.R7$(),u.Y8G("ngModel",null==(Ae=u.bMT(2,3,Ye.options))?null:Ae.zone_id)("ngModelOptions",u.lJ4(7,m)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,5,Ye.region_levels))}}function Y(xe,Fe){if(1&xe&&(u.qex(0),u.DNE(1,$,4,6,"mat-form-field",32),u.nI1(2,"async"),u.DNE(3,me,7,8,"mat-form-field",32),u.bVm()),2&xe){let Ae;const Ye=u.XpG();u.R7$(),u.Y8G("ngIf",null==(Ae=u.bMT(2,2,Ye.regions))?null:Ae.length),u.R7$(2),u.Y8G("ngIf",!Ye.hide_levels)}}function F(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"div",42)(1,"div",43)(2,"label",44),u.PLo(3,6),u.nrm(4,"span"),u.YFu(),u.k0s(),u.j41(5,"a-time-field",45),u.bIt("ngModelChange",function(qe){u.eBV(Ae);const Ne=u.XpG();return u.Njj(Ne.form.patchValue({date:qe}))}),u.k0s()(),u.j41(6,"div",43)(7,"label",46),u.PLo(8,7),u.nrm(9,"span"),u.YFu(),u.k0s(),u.nrm(10,"a-duration-field",47),u.k0s()()}if(2&xe){const Ae=u.XpG();u.R7$(5),u.Y8G("ngModel",Ae.form.value.date)("ngModelOptions",u.lJ4(6,m))("use_24hr",Ae.use_24hr),u.R7$(5),u.Y8G("time",null==Ae.form||null==Ae.form.value?null:Ae.form.value.date)("max",Ae.max_duration)("use_24hr",Ae.use_24hr)}}function N(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"div",26)(1,"div",50),u.EFF(2),u.k0s(),u.j41(3,"mat-checkbox",51),u.nI1(4,"async"),u.bIt("ngModelChange",function(qe){const Ne=u.eBV(Ae).$implicit,Me=u.XpG(2);return u.Njj(Me.toggleFeature(Ne,qe))}),u.k0s()()}if(2&xe){let Ae;const Ye=Fe.$implicit,qe=u.XpG(2);u.R7$(2),u.JRh(Ye),u.R7$(),u.Y8G("ngModel",null==(Ae=u.bMT(4,3,qe.options))||null==Ae.features?null:Ae.features.includes(Ye))("ngModelOptions",u.lJ4(5,m))}}function J(xe,Fe){if(1&xe&&(u.j41(0,"section",48)(1,"h2",17),u.pXf(2,8),u.k0s(),u.DNE(3,N,5,6,"div",49),u.nI1(4,"async"),u.k0s()),2&xe){const Ae=u.XpG();u.R7$(3),u.Y8G("ngForOf",u.bMT(4,1,Ae.features))}}function ae(xe,Fe){if(1&xe){const Ae=u.RV6();u.j41(0,"div",52)(1,"button",53),u.bIt("click",function(){u.eBV(Ae);const qe=u.XpG();return u.Njj(qe.close())}),u.pXf(2,9),u.k0s()()}}let _e=(()=>{class xe{setBuilding(Ae){this._org.building=Ae}get bld(){return this._org.building}get form(){return this._form.form}get end_date(){return(0,E.D)((0,_.f)(Date.now(),this._settings.get("app.parking.available_period")||7))}get max_duration(){return this._settings.get("app.events.max_duration")||480}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return!!this._settings.get("app.use_region")}constructor(Ae,Ye,qe,Ne){this._bsheet_ref=Ae,this._settings=Ye,this._form=qe,this._org=Ne,this.can_close=!1,this.options=this._form.options,this.levels=this._org.active_levels.pipe((0,h.T)(Me=>{for(const pe of Me){const he=this._org.buildings.find(le=>le.id===pe.parent_id);pe.bld=he?.display_name||he?.name||""}return Me.filter(pe=>pe.tags.includes("parking"))})),this.buildings=this._org.active_buildings,this.regions=this._org.region_list,this.region_levels=this._org.active_region.pipe((0,h.T)(Me=>this._org.buildings.filter(le=>!Me||le.parent_id===Me.id).map(le=>({id:le.id,name:le.display_name||le.name,levels:this._org.levels.filter(Ee=>Ee.parent_id===le.id&&Ee.tags.includes("parking"))})).filter(le=>le.levels.length))),this.features=this._form.features,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Me=>this._form.setOptions(Me),this.setRegion=Me=>this._org.region=Me,this.can_close=!!this._bsheet_ref}toggleFeature(Ae,Ye){var qe=this;return(0,e.A)(function*(){const{features:Ne}=yield qe.options.pipe((0,g.s)(1)).toPromise(),Me=(Ne||[]).filter(pe=>Ae!==pe);Ye&&Me.push(Ae),qe.setOptions({features:Me})})()}static#e=this.\u0275fac=function(Ye){return new(Ye||xe)(u.rXU(I.eN,8),u.rXU(n.h$),u.rXU(b.n),u.rXU(d.yb))};static#t=this.\u0275cmp=u.VBU({type:xe,selectors:[["parking-space-filters"]],inputs:{hide_levels:"hide_levels"},decls:33,vars:18,consts:()=>{let Ae,Ye,qe,Ne,Me,pe,he,le,Ee,Xe,xt,dt,Ct;return Ae=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,Ye=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,qe=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,Ne=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#18\ufffd"}:START_TAG_SPAN:*${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,Me=$localize`:␟62ab0c2bf8d16ce7baf2c8b1da2c561d99522256␟4158925728608139729:Favourites`,pe=$localize`:␟ac378c0b437746af89a84b4909ab5b83c5ff55a3␟165958440274527719: Only show favourite spaces `,he=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,le=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,Ee=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,Xe=$localize`:␟34a7595cdc15925514038224946986bfd90dc0ed␟3039786638368843634:Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,xt=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#9\ufffd"}:START_TAG_SPAN:*${"\ufffd/#9\ufffd"}:CLOSE_TAG_SPAN:`,dt=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,Ct=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[Ae,Ye,qe,Ne,Me,pe,Xe,xt,dt,Ct,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],[4,"ngIf"],[1,"flex-1","min-w-[256px]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","close","",3,"click"],["appearance","outline","class","w-full",4,"ngIf"],["appearance","outline",1,"w-full"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","location","placeholder",he,3,"ngModelChange","ngModel","ngModelOptions"],["name","region","placeholder",le,3,"ngModelChange","ngModel","ngModelOptions"],["name","location","placeholder",Ee,3,"ngModelChange","ngModel","ngModelOptions"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","close","",1,"w-full",3,"click"]]},template:function(Ye,qe){if(1&Ye&&(u.j41(0,"div",10)(1,"div",11),u.DNE(2,v,3,0,"button",12),u.k0s(),u.j41(3,"h3",13),u.pXf(4,0),u.k0s(),u.nrm(5,"div",14),u.k0s(),u.j41(6,"form",15)(7,"section",16)(8,"h2",17),u.pXf(9,1),u.k0s(),u.j41(10,"div",18)(11,"label",19),u.pXf(12,2),u.k0s(),u.DNE(13,W,4,4,"ng-container",20)(14,Y,4,4,"ng-container",20),u.k0s(),u.j41(15,"div",21)(16,"label",22),u.PLo(17,3),u.nrm(18,"span"),u.YFu(),u.k0s(),u.j41(19,"a-date-field",23),u.bIt("ngModelChange",function(Me){return qe.form.patchValue({date:Me})}),u.EFF(20," Date and time must be in the future "),u.k0s()(),u.DNE(21,F,11,7,"div",24),u.k0s(),u.j41(22,"section",25)(23,"h2",17),u.pXf(24,4),u.k0s(),u.j41(25,"div",26)(26,"div",27),u.pXf(27,5),u.k0s(),u.j41(28,"mat-checkbox",28),u.nI1(29,"async"),u.bIt("ngModelChange",function(Me){return qe.setOptions({show_fav:Me})}),u.k0s()()(),u.DNE(30,J,5,3,"section",29),u.nI1(31,"async"),u.k0s(),u.DNE(32,ae,3,0,"div",30)),2&Ye){let Ne,Me;u.R7$(2),u.Y8G("ngIf",qe.can_close),u.R7$(4),u.Y8G("formGroup",qe.form),u.R7$(7),u.Y8G("ngIf",!qe.use_region),u.R7$(),u.Y8G("ngIf",qe.use_region),u.R7$(5),u.Y8G("ngModel",qe.form.value.date)("ngModelOptions",u.lJ4(16,m))("to",qe.end_date),u.R7$(2),u.Y8G("ngIf",!1),u.R7$(7),u.Y8G("ngModel",null==(Ne=u.bMT(29,12,qe.options))?null:Ne.show_fav)("ngModelOptions",u.lJ4(17,m)),u.R7$(2),u.Y8G("ngIf",null==(Me=u.bMT(31,14,qe.features))?null:Me.length),u.R7$(2),u.Y8G("ngIf",qe.can_close)}},dependencies:[k.Sq,k.bT,y.qT,y.BC,y.cb,y.vS,y.j4,y.JD,x.rl,M.So,B.wT,B.D7,K.G,P.y,j.t,S.R,w.VO,B.r6,k.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return xe})()},258:(Ot,ve,s)=>{"use strict";s.d(ve,{w:()=>j});var e=s(3953),n=s(9714),d=s(5006),h=s(8379),g=s(177),b=s(9183),E=s(9434),_=s(3208),u=s(6600);function I(S,w){1&S&&(e.j41(0,"div",24)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function k(S,w){if(1&S&&e.nrm(0,"img",25),2&S){const m=e.XpG().$implicit;e.Y8G("source",m.images[0])}}function y(S,w){1&S&&e.nrm(0,"img",26)}function x(S,w){if(1&S){const m=e.RV6();e.j41(0,"li",14)(1,"button",15),e.bIt("click",function(){const A=e.eBV(m).$implicit,L=e.XpG(3);return e.Njj(L.selectSpace(A))}),e.j41(2,"div",16),e.DNE(3,I,3,0,"div",17)(4,k,1,1,"img",18)(5,y,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",19)(8,"div",20),e.EFF(9),e.k0s(),e.j41(10,"div",21)(11,"app-icon",22),e.EFF(12,"place"),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()(),e.j41(15,"div",21)(16,"app-icon",22),e.EFF(17,"people"),e.k0s(),e.j41(18,"p"),e.pXf(19,5),e.k0s()()()(),e.j41(20,"button",23),e.bIt("click",function(){const A=e.eBV(m).$implicit,L=e.XpG(3);return e.Njj(L.toggleFav.emit(A))}),e.j41(21,"app-icon"),e.EFF(22),e.k0s()()()}if(2&S){const m=w.$implicit,v=e.sdS(6),A=e.XpG(3);e.AVh("!border-info",A.active===m.id),e.R7$(3),e.Y8G("ngIf",A.selected.includes(m.id)),e.R7$(),e.Y8G("ngIf",null==m.images?null:m.images.length)("ngIfElse",v),e.R7$(5),e.SpI(" ",m.name||"Meeting Space"," "),e.R7$(5),e.SpI(" ",m.location||(null==m.level?null:m.level.display_name)||(null==m.level?null:m.level.name)||(null==m.zone?null:m.zone.display_name)||(null==m.zone?null:m.zone.name)," "),e.R7$(5),e.uP7(m.capacity<1?2:m.capacity),e.nnv(19),e.R7$(),e.AVh("text-info",A.isFavourite(m.id)),e.R7$(2),e.JRh(A.isFavourite(m.id)?"favorite":"favorite_border")}}function M(S,w){if(1&S&&(e.j41(0,"ul",12),e.DNE(1,x,23,11,"li",13),e.nI1(2,"async"),e.k0s()),2&S){const m=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,m.assets))}}function B(S,w){if(1&S&&(e.qex(0),e.DNE(1,M,3,3,"ul",11),e.nI1(2,"async"),e.bVm()),2&S){let m;const v=e.XpG(),A=e.sdS(8);e.R7$(),e.Y8G("ngIf",null==(m=e.bMT(2,2,v.assets))?null:m.length)("ngIfElse",A)}}function K(S,w){1&S&&(e.j41(0,"div",27)(1,"p",28),e.pXf(2,6),e.k0s()())}function P(S,w){1&S&&(e.j41(0,"div",29),e.nrm(1,"mat-spinner",30),e.j41(2,"p",31),e.pXf(3,7),e.k0s()()),2&S&&(e.R7$(),e.Y8G("diameter",32))}let j=(()=>{class S{constructor(m){this._form=m,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.assets=(0,n.zV)([this._form.options,this._form.available_resources]).pipe((0,d.T)(([{show_fav:v},A])=>A.filter(L=>!v||this.isFavourite(L.id)))),this.loading=this._form.loading}isFavourite(m){return this.favorites.includes(m)}selectSpace(m){this.onSelect.emit(m)}static#e=this.\u0275fac=function(v){return new(v||S)(e.rXU(h.n))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["parking-space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let m,v,A,L,G;return m=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,v=$localize`:␟dd662afda8b27e3c6818b705321ddcc36bd571c0␟4264834071624535187: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,A=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,L=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,G=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["placeholder",""],m,v,A,L,G,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(v,A){if(1&v&&(e.j41(0,"h3",8),e.pXf(1,3),e.k0s(),e.j41(2,"p",9),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,B,3,4,"ng-container",10),e.nI1(6,"async"),e.DNE(7,K,3,0,"ng-template",null,0,e.C5r)(9,P,4,1,"ng-template",null,1,e.C5r)),2&v){let L;const G=e.sdS(10);e.R7$(4),e.uP7((null==(L=e.bMT(4,3,A.assets))?null:L.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!e.bMT(6,5,A.loading))("ngIfElse",G)}},dependencies:[g.Sq,g.bT,b.LG,E.R,_.U,u.r6,g.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return S})()},8559:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>E});var e=s(4351),n=s(3953),d=s(177),h=s(9434);function g(_,u){1&_&&n.nrm(0,"div",16)}function b(_,u){1&_&&(n.j41(0,"app-icon",17),n.EFF(1," done "),n.k0s())}let E=(()=>{class _{get selected(){return!0===this._data.selected}constructor(I){this._data=I}static#e=this.\u0275fac=function(k){return new(k||_)(n.rXU(e.Nw))};static#t=this.\u0275cmp=n.VBU({type:_,selectors:[["parking-space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(k,y){1&k&&(n.j41(0,"div",0),n.qSk(),n.j41(1,"svg",1)(2,"g",2),n.nrm(3,"path",3),n.k0s(),n.j41(4,"defs")(5,"filter",4),n.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),n.k0s()()(),n.joV(),n.j41(14,"div",13),n.DNE(15,g,1,0,"div",14)(16,b,2,0,"app-icon",15),n.k0s()()),2&k&&(n.R7$(15),n.Y8G("ngIf",!y.selected),n.R7$(),n.Y8G("ngIf",y.selected))},dependencies:[d.bT,h.R],encapsulation:2})}return _})()},8952:(Ot,ve,s)=>{"use strict";s.d(ve,{S:()=>P});var e=s(3953),n=s(1168),d=s(8113),h=s(5006),g=s(3020),b=s(8559),E=s(9420),_=s(177),u=s(9417),I=s(3719),k=s(6600),y=s(4918),x=s(2798);const M=()=>({controls:!0});function B(j,S){if(1&j){const w=e.RV6();e.qex(0),e.j41(1,"interactive-map",5),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async"),e.mxI("zoomChange",function(v){e.eBV(w);const A=e.XpG();return e.DH7(A.zoom,v)||(A.zoom=v),e.Njj(v)})("centerChange",function(v){e.eBV(w);const A=e.XpG();return e.DH7(A.center,v)||(A.center=v),e.Njj(v)}),e.k0s(),e.bVm()}if(2&j){const w=e.XpG();e.R7$(),e.Y8G("src",w.map_url),e.R50("zoom",w.zoom)("center",w.center),e.Y8G("styles",e.bMT(2,7,w.styles))("features",e.bMT(3,9,w.features))("actions",e.bMT(4,11,w.actions))("options",e.lJ4(13,M))}}function K(j,S){if(1&j&&(e.j41(0,"mat-option",6),e.EFF(1),e.k0s()),2&j){const w=S.$implicit;e.Y8G("value",w),e.R7$(),e.SpI(" ",w.display_name||w.name," ")}}let P=(()=>{class j extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(w,m){super(),this._event_form=w,this._maps_people=m,this.selected=[],this.is_displayed=!1,this.onSelect=new e.bkB,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=v=>()=>this.onSelect.emit(v),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,h.T)(v=>(0,n.Am)(v.map(({level:A})=>A)))),this.features=this._event_form.available_spaces.pipe((0,g.B)(1e3),(0,h.T)(v=>v.map(A=>({location:A.map_id,content:b.G,data:{...A,selected:this.selected.includes(A.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,h.T)(v=>v.map(A=>({id:A.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(A)}))))}ngOnInit(){this.subscription("spaces",this._event_form.available_spaces.subscribe(w=>{!this.level&&w.length&&(this.level=w[0].level)}))}setLevel(w){this.level=w,this._maps_people.setCustomZone(w.parent_id)}setZoom(w){this.zoom=Math.max(.5,Math.min(10,w))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(m){return new(m||j)(e.rXU(d.Ws),e.rXU(E._))};static#t=this.\u0275cmp=e.VBU({type:j,selectors:[["parking-space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.Vt3],decls:6,vars:5,consts:[[4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],[3,"value"]],template:function(m,v){1&m&&(e.DNE(0,B,5,14,"ng-container",0),e.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),e.mxI("ngModelChange",function(L){return e.DH7(v.level,L)||(v.level=L),L}),e.bIt("ngModelChange",function(L){return v.setLevel(L)}),e.DNE(4,K,2,2,"mat-option",4),e.nI1(5,"async"),e.k0s()()()),2&m&&(e.Y8G("ngIf",v.is_displayed),e.R7$(3),e.R50("ngModel",v.level),e.R7$(),e.Y8G("ngForOf",e.bMT(5,3,v.levels)))},dependencies:[_.Sq,_.bT,u.BC,u.vS,I.rl,k.wT,y.S,x.VO,_.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return j})()},7642:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>P,Z:()=>K});var e=s(4006),n=s(1168),d=s(8379),h=s(3953),g=s(177),b=s(9434),E=s(6600),_=s(9145),u=s(9138),I=s(258),k=s(8952),y=s(6724);function x(j,S){if(1&j){const w=h.RV6();h.j41(0,"parking-space-list",26),h.bIt("toggleFav",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.toggleFavourite(v))})("onSelect",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.displayed=v)}),h.k0s()}if(2&j){const w=h.XpG();h.Y8G("active",null==w.displayed?null:w.displayed.id)("selected",w.selected_ids)("favorites",w.favorites)}}function M(j,S){if(1&j){const w=h.RV6();h.j41(0,"button",27),h.bIt("click",function(){h.eBV(w);const v=h.XpG();return h.Njj(v.displayed=null)}),h.pXf(1,5),h.k0s()}}function B(j,S){if(1&j){const w=h.RV6();h.j41(0,"parking-space-map",28),h.bIt("onSelect",function(v){h.eBV(w);const A=h.XpG();return h.Njj(A.displayed=v)}),h.k0s()}if(2&j){const w=h.XpG();h.Y8G("selected",w.selected_ids)("is_displayed",!!w.displayed)}}const K="favourite_parking_spaces";let P=(()=>{class j{get selected_ids(){return this.selected.map(w=>w.id).join(",")}get favorites(){return this._settings.get(K)||[]}constructor(w,m,v,A){this._dialog_ref=w,this._settings=m,this._event_form=v,this._data=A,this.selected=[],this.view="list",this.selected=[...A.spaces||[]],this._event_form.setOptions(A.options)}isSelected(w){return w&&this.selected_ids.includes(w)}setSelected(w,m){const v=this.selected.filter(A=>A.id!==w.id);m&&v.push(w),this.selected=v,!this._data.options.group&&m&&this._dialog_ref.close([w])}toggleFavourite(w){const m=this.favorites;m.includes(w.id)?this._settings.saveUserSetting(K,m.filter(A=>A!==w.id)):this._settings.saveUserSetting(K,[...m,w.id])}static#e=this.\u0275fac=function(m){return new(m||j)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(d.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:j,selectors:[["parking-space-select-modal"]],decls:34,vars:22,consts:()=>{let w,m,v,A,L;return w=$localize`:␟8db1ccf77dfb75785bcf8e9090ad65ea6ab69884␟6275162452894389177:Find Parking Space`,m=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,v=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,A=$localize`:␟f5e618f8255889ca7743db771c50b6181b8eb362␟7685760017883569970: ${"\ufffd0\ufffd"}:INTERPOLATION: bay(s) added `,L=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],w,m,v,A,L,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","space","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","return","",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed"]]},template:function(m,v){if(1&m){const A=h.RV6();h.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s()(),h.j41(7,"main",9),h.nrm(8,"parking-space-filters",10),h.j41(9,"div",11)(10,"parking-space-filters-display",12),h.mxI("viewChange",function(G){return h.eBV(A),h.DH7(v.view,G)||(v.view=G),h.Njj(G)}),h.k0s(),h.DNE(11,x,1,3,"parking-space-list",13),h.k0s(),h.j41(12,"parking-space-details",14),h.bIt("activeChange",function(G){return h.eBV(A),h.Njj(v.setSelected(v.displayed,G))})("toggleFav",function(){return h.eBV(A),h.Njj(v.toggleFavourite(v.displayed))})("close",function(){return h.eBV(A),h.Njj(v.displayed=null)}),h.k0s()(),h.j41(13,"footer",15),h.DNE(14,M,2,0,"button",16),h.j41(15,"button",17),h.pXf(16,2),h.k0s()(),h.j41(17,"footer",18)(18,"button",19)(19,"div",20)(20,"app-icon",21),h.EFF(21,"arrow_back"),h.k0s(),h.j41(22,"div",22),h.pXf(23,3),h.k0s()()(),h.j41(24,"p",23),h.pXf(25,4),h.k0s(),h.j41(26,"button",24),h.bIt("click",function(){return h.eBV(A),h.Njj(v.setSelected(v.displayed,!v.isSelected(null==v.displayed?null:v.displayed.id)))}),h.j41(27,"div",20)(28,"app-icon",21),h.EFF(29),h.k0s(),h.j41(30,"div",25),h.EFF(31),h.k0s()()()()(),h.DNE(32,B,1,2,"ng-template",null,0,h.C5r)}if(2&m){const A=h.sdS(33);h.R7$(8),h.Y8G("hide_levels","list"!==v.view),h.R7$(2),h.R50("view",v.view),h.R7$(),h.Y8G("ngIf","list"===v.view)("ngIfElse",A),h.R7$(),h.AVh("hidden",!v.displayed)("inset-0",v.displayed),h.Y8G("space",v.displayed)("active",v.selected_ids.includes(null==v.displayed?null:v.displayed.id))("fav",v.displayed&&v.favorites.includes(null==v.displayed?null:v.displayed.id)),h.R7$(2),h.Y8G("ngIf",v.displayed),h.R7$(),h.AVh("mb-2",v.displayed),h.Y8G("mat-dialog-close",v.selected),h.R7$(3),h.Y8G("mat-dialog-close",v.selected),h.R7$(7),h.uP7(v.selected.length),h.nnv(25),h.R7$(),h.AVh("inverse",v.isSelected(null==v.displayed?null:v.displayed.id)),h.Y8G("disabled",!v.displayed),h.R7$(3),h.JRh(v.isSelected(null==v.displayed?null:v.displayed.id)?"remove":"add"),h.R7$(2),h.SpI(" ",v.isSelected(null==v.displayed?null:v.displayed.id)?"Remove from Booking":"Add to booking"," ")}},dependencies:[g.bT,e.tx,b.R,E.r6,_.R,u.X,I.w,k.S,y.o]})}return j})()},4844:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>M});var e=s(3953),n=s(9417),d=s(4233),h=s(7642),g=s(4006),b=s(177),E=s(9434),_=s(3208),u=s(6600);function I(B,K){if(1&B&&e.nrm(0,"img",24),2&B){const P=e.XpG().$implicit;e.Y8G("source",P.images[0])}}function k(B,K){1&B&&e.nrm(0,"img",25)}function y(B,K){if(1&B){const P=e.RV6();e.j41(0,"div",12)(1,"div",13),e.DNE(2,I,1,1,"img",14)(3,k,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",15)(6,"div",16),e.EFF(7),e.k0s(),e.j41(8,"div",17)(9,"app-icon",18),e.EFF(10,"place"),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",17)(14,"app-icon",18),e.EFF(15,"people"),e.k0s(),e.j41(16,"p"),e.pXf(17,2),e.k0s()(),e.j41(18,"div",19)(19,"button",20),e.bIt("click",function(){const S=e.eBV(P).$implicit,w=e.XpG();return e.Njj(w.changeResources(S))}),e.j41(20,"div",21),e.PLo(21,3),e.nrm(22,"app-icon",9)(23,"div"),e.YFu(),e.k0s()(),e.j41(24,"button",22),e.bIt("click",function(){const S=e.eBV(P).$implicit,w=e.XpG();return e.Njj(w.removeResource(S))}),e.j41(25,"div",21),e.PLo(26,4),e.nrm(27,"app-icon",9)(28,"div"),e.YFu(),e.k0s()()()(),e.j41(29,"button",23),e.bIt("click",function(){e.eBV(P);const S=e.XpG();return e.Njj(S.toggleFavourite(S.asset))}),e.j41(30,"app-icon"),e.EFF(31),e.k0s()()()}if(2&B){const P=K.$implicit,j=e.sdS(4),S=e.XpG();e.R7$(2),e.Y8G("ngIf",null==P.images?null:P.images.length)("ngIfElse",j),e.R7$(5),e.SpI(" ",P.name||"Meeting Resource"," "),e.R7$(5),e.SpI(" ",P.location||(null==P.level?null:P.level.display_name)||(null==P.level?null:P.level.name)||(null==P.zone?null:P.zone.display_name)||(null==P.zone?null:P.zone.name)," "),e.R7$(5),e.uP7(P.capacity<1?2:P.capacity||1)(P.capacity<1?2:P.capacity||1),e.nnv(17),e.R7$(12),e.AVh("text-blue-400",S.favorites.includes(null==S.asset?null:S.asset.id)),e.R7$(2),e.JRh(S.favorites.includes(null==S.asset?null:S.asset.id)?"favorite":"favorite_border")}}const x=[];let M=(()=>{class B{get favorites(){return this._settings.get("favourite_spaces")||x}constructor(P,j){this._settings=P,this._dialog=j,this.disable_date=!1,this.room_size=3,this.spaces=[],this.disabled=!1,this.registerOnChange=S=>this._onChange=S,this.registerOnTouched=S=>this._onTouch=S,this.setDisabledState=S=>this.disabled=S}changeResources(){this._dialog.open(h.$,{data:{spaces:this.spaces,options:{capacity:this.room_size,disable_date:this.disable_date}}}).afterClosed().subscribe(j=>{j&&this.setValue(j)})}removeResource(P){this.setValue(this.spaces.filter(j=>j.id!==P.id))}setValue(P){this.spaces=P,this._onChange&&this._onChange(this.spaces)}writeValue(P){this.spaces=P||[]}toggleFavourite(P){const j=this.favorites;j.includes(P.id)?this._settings.saveUserSetting(h.Z,j.filter(w=>w!==P.id)):this._settings.saveUserSetting(h.Z,[...j,P.id])}static#e=this.\u0275fac=function(j){return new(j||B)(e.rXU(d.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:B,selectors:[["parking-space-list-field"]],inputs:{disable_date:"disable_date"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>B),multi:!0}])],decls:10,vars:1,consts:()=>{let P,j,S,w,m;return P=$localize`:␟45491a2ead2b592aec7b4d19300c0715230f334d␟1439078713747050312:Add Parking Resource`,j=$localize`:␟de78e9a461c1eabe0e350a345933557c629d0ed1␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,j=e.k04(j,{VAR_PLURAL:"\ufffd1\ufffd"}),S=$localize`:␟45802327683c8bd728df5113a59afcd09367e8e9␟259696738555613759: ${"\ufffd0\ufffd"}:INTERPOLATION: ${j}:ICU: `,w=$localize`:␟c5519f0af04771a54fd52f587819c2f86c19691a␟3410599700979759406:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON:${"\ufffd#23\ufffd"}:START_TAG_DIV:Change${"\ufffd/#23\ufffd"}:CLOSE_TAG_DIV:`,m=$localize`:␟00e1d7e28d4673ed2d4813ab8c6beb9d7e687e8f␟913695604792961336:${"\ufffd#27\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#27\ufffd"}:CLOSE_TAG_APP_ICON:${"\ufffd#28\ufffd"}:START_TAG_DIV:Remove${"\ufffd/#28\ufffd"}:CLOSE_TAG_DIV:`,[["placeholder",""],P,S,w,m,["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","add-space","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","edit-space","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","remove-space","",1,"clear",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"]]},template:function(j,S){1&j&&(e.j41(0,"div",5),e.DNE(1,y,32,9,"div",6),e.k0s(),e.j41(2,"button",7),e.bIt("click",function(){return S.changeResources()}),e.j41(3,"div",8)(4,"app-icon",9),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",10),e.nrm(9,"div",11),e.k0s()),2&j&&(e.R7$(),e.Y8G("ngForOf",S.spaces))},dependencies:[b.Sq,b.bT,E.R,_.U,u.r6]})}return B})()},1593:(Ot,ve,s)=>{"use strict";s.d(ve,{w:()=>S});var e=s(1168),n=s(2185),d=s(1038),h=s(9928),g=s(9714),b=s(696),E=s(4421),_=s(5006),u=s(8728),I=s(9090),k=s(8841),y=s(8712),x=s(3921),M=s(5645),B=s(5987),K=s(3601),P=s(4512),j=s(3953);let S=(()=>{class w extends e.Tv{constructor(v,A){super(),this._org=v,this._settings=A,this._loading=new h.t([]),this.loading=this._loading.asObservable(),this.levels=this._org.level_list.pipe((0,_.T)(L=>{if(!this._settings.get("app.use_region")){const G=this._org.buildingsForRegion(),O=G.map(U=>U.id),W=L.filter(U=>O.includes(U.parent_id)&&U.tags.includes("parking"));return W.map(U=>({...U,display_name:`${G.find($=>$.id===U.parent_id)?.display_name} - ${U.display_name}`})),W}return L.filter(G=>G.parent_id===this._org.building.id&&G.tags.includes("parking"))})),this.spaces=(0,g.zV)([this.levels]).pipe((0,u.p)(([L])=>!!L[0]?.id),(0,I.n)(([L])=>(this._loading.next([...this._loading.getValue(),"spaces"]),(0,b.p)(L.map(G=>(0,d.bpY)(G.id,"parking-spaces").pipe((0,_.T)(O=>(O.details instanceof Array?O.details:[]).map(W=>({...W,zone_id:G.id})))))))),(0,_.T)(L=>(0,e.Bq)(L)),(0,k.M)(()=>this._loading.next(this._loading.getValue().filter(L=>"spaces"!==L))),(0,y.t)(1)),this.users=(0,g.zV)([this._org.active_building]).pipe((0,u.p)(([L])=>!!L?.id),(0,I.n)(([L])=>(this._loading.next([...this._loading.getValue(),"users"]),(0,d.bpY)(L.id,"parking-users"))),(0,_.T)(L=>L.details instanceof Array?L.details:[]),(0,k.M)(()=>this._loading.next(this._loading.getValue().filter(L=>"users"!==L))),(0,y.t)(1)),this.assigned_space=this.spaces.pipe((0,_.T)(L=>L.find(G=>G.assigned_to?.toLowerCase()===(0,e.Ny)().email?.toLowerCase()))),this.user_details=this.users.pipe((0,_.T)(L=>L.find(G=>G.email?.toLowerCase()===(0,e.Ny)().email?.toLowerCase()))),this.deny_parking_access=this.user_details.pipe((0,_.T)(L=>!!L?.deny)),this.booked_space=(0,g.zV)([this._org.active_building,this.spaces]).pipe((0,_.T)(([L,G])=>(0,M.tj)({period_start:(0,B._)((0,K.o)(Date.now())),period_end:(0,B._)((0,P.D)(Date.now())),type:"parking"}).pipe((0,x.W)(()=>(0,E.of)([])),(0,_.T)(O=>O.map(W=>G.find(U=>U.id===W.asset_id)).filter(W=>!!W)))),(0,_.T)(L=>L[0]),(0,y.t)(1)),this.subscription("spaces",this.assigned_space.subscribe())}static#e=this.\u0275fac=function(A){return new(A||w)(j.KVO(n.yb),j.KVO(e.h$))};static#t=this.\u0275prov=j.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},6576:(Ot,ve,s)=>{"use strict";s.d(ve,{Sh:()=>u,CH:()=>_,Yj:()=>x,f6:()=>y});var e=s(1038),n=s(5006),d=s(1168),h=s(735),g=s(2037);class b{constructor(B={}){this.id=B.id||"",this.name=B.name||"",this.primary=!!B.primary,this.summary=B.summary||"",this.can_edit=!!B.can_edit,this.resource=new h.$(B.resource||B.system),this.availability=(B.availability||[]).map(({starts_at:K,ends_at:P,date:j,duration:S,status:w})=>({date:new Date(j||1e3*K).valueOf(),duration:S||(0,g.o)(1e3*P,1e3*K),status:w})),this.hidden=!!B.hidden}}const E="/api/staff/v1/calendars";function _(){return(0,e.JtY)(E).pipe((0,n.T)(M=>M.map(B=>new b(B))))}function u(M){const B=(0,d.zJ)(M);return(0,e.JtY)(`${E}/availability${B?"?"+B:""}`).pipe((0,n.T)(K=>K.map(P=>new b(P))))}const I=M=>(0,n.T)(B=>B.filter(K=>!!K.resource).map(K=>new h.$({...K.resource,level:M?.levelWithID(K.resource.zones),availability:K.availability})).filter(K=>K.bookable));function y(M){const B=(0,d.zJ)(M);return(0,e.JtY)(`${E}/free_busy${B?"?"+B:""}`).pipe((0,n.T)(K=>K))}function x(M,B){const K=(0,d.zJ)(M);return(0,e.JtY)(`${E}/free_busy${K?"?"+K:""}`).pipe((0,n.T)(P=>P.map(j=>new b(j))),I(B))}},5892:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>e});class e{get custom_id(){const d=this.option_list.map(h=>h.id).join("+");return`${this.id}[${d}]${this.in_order?"":"menu"}`}constructor(d={}){this.id=d.id||"",this.name=d.name||d.id||"",this.category=d.category||"",this.unit_price=d.unit_price||0,this.description=d.description||"",this.quantity=d.quantity||0,this.discount_cap=d.discount_cap||0,this.accept_points=!!d.accept_points,this.tags=d.tags||[],this.images=d.images||[],this.options=d.options||[];const h=this.options.some(g=>!0===g.active);this.option_list=(h?this.options.filter(g=>!0===g.active):d.option_list)||[],this.hide_for_zones=d.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(g=>g.unit_price||0).reduce((g,b)=>g+b,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(g=>g.id||"").sort((g,b)=>g.localeCompare(b)).join(",")||"",this.in_order=d.in_order??!1}}},5555:(Ot,ve,s)=>{"use strict";s.d(ve,{M:()=>u});var e=s(1168),n=s(5892),d=s(1406),h=s(906),g=s(3601),b=s(7926),E=s(2357);function _(I){let k=I.event?.date||I._time;return I.deliver_time&&(k=(0,d.h)(k,{hours:Math.floor(I.deliver_time),minutes:I.deliver_time%1*60}).valueOf()),(I.deliver_day_offset>0||I.event?.all_day)&&(k=(0,h.f)((0,g.o)(k),I.deliver_day_offset).valueOf()),(0,b.z)(k,I.deliver_offset).valueOf()}class u{get deliver_at(){return _(this)}get status(){return this._status}set status(k){this._status=k,this[`${this.event_id}_status`]=k}constructor(k={}){this._time=(0,E.c)(Date.now()).valueOf(),this.id=k.id||`order-${(0,e.HO)(9999999,1e6)}`,this.system_id=k.system_id||"",this.event_id=k.event_id||k.event?.id||"",this.items=(k.items||[]).map(y=>y instanceof n.T?y:new n.T(y)),this.item_count=this.items.reduce((y,x)=>y+x.quantity,0),this.total_cost=this.items.reduce((y,x)=>y+(x.total_cost||0),0),this.charge_code=k.charge_code||"",this.status=k[`${this.event_id}_status`]||k.status||"accepted",this.invoice_number=k.invoice_number||"",this.event=k.event||null,this.notes=k.notes||"",this.deliver_time=k.deliver_time||void 0,this.deliver_offset=k.deliver_offset||0,this.deliver_day_offset=k.deliver_day_offset||0,this.deliver_at_time=_(this)}}},1168:(Ot,ve,s)=>{"use strict";s.d(ve,{Ft:()=>k,Tv:()=>e.T,p:()=>n.p,dr:()=>d.d,mx:()=>Fe.mx,_e:()=>_._,h$:()=>h.h,CS:()=>Ht,MH:()=>Ie,xv:()=>E.x,gd:()=>M.gd,Zr:()=>M.Zr,a6:()=>M.a6,Ny:()=>U.Ny,U5:()=>U.U5,PE:()=>M.PE,XE:()=>nn,Bq:()=>M.Bq,qq:()=>L,F7:()=>M.F7,GF:()=>Fe.GF,tU:()=>j,HQ:()=>M.HQ,Rm:()=>M.Rm,UG:()=>B.UG,uA:()=>B.uA,VX:()=>B.VX,WS:()=>B.WS,GE:()=>M.GE,go:()=>M.go,HO:()=>M.HO,DU:()=>M.DU,mj:()=>U.VX,Xm:()=>M.Xm,Hh:()=>vt,RH:()=>yn,Xf:()=>M.Xf,To:()=>B.To,WQ:()=>S,jJ:()=>G,ej:()=>M.ej,II:()=>Yt,dH:()=>M.dH,zJ:()=>y.z,Am:()=>M.Am,QM:()=>N});var e=s(5354),n=s(3114),d=s(7643),h=s(4233),g=s(1038),E=s(3885),_=s(9420),u=s(9969);(0,u.hZ)("show",[(0,u.kY)(":enter",[(0,u.iF)({opacity:0,height:0}),(0,u.i0)(300,(0,u.iF)({opacity:1,height:"*"}))]),(0,u.kY)(":leave",[(0,u.iF)({opacity:1,height:"*"}),(0,u.i0)(300,(0,u.iF)({opacity:0,height:0}))])]);const k=(0,u.hZ)("show",[(0,u.wk)("show",(0,u.iF)({opacity:1,height:"*"})),(0,u.wk)("hide",(0,u.iF)({opacity:0,height:0,"pointer-events":"none"})),(0,u.kY)("show <=> hide",(0,u.i0)("200ms ease-in"))]);var y=s(8385),x=s(467),M=s(4217),B=s(9525);let K,P=!1;function j(){return P}function S(Re,Mt=3e5){Re.isEnabled&&(K&&clearInterval(K),K=setInterval(()=>{(0,M.Rm)("CACHE","Checking for updates..."),function m(Re){v.apply(this,arguments)}(Re)},Mt))}function v(){return(v=(0,x.A)(function*(Re){if(Re.isEnabled&&(yield Re.checkForUpdate())){if((0,M.Rm)("CACHE","Activating changes to the cache..."),!(yield Re.activateUpdate()))return;P=!0,(0,B.uA)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}var A=s(4903);function L(Re){let Mt=Re.pattern||"";return Mt=Mt.charAt(0).toUpperCase()+Mt.slice(1),Mt?`${Mt} until ${(0,A.GP)(new Date(Re.end),"do MMM yyyy")}`:"<No Recurrence>"}function G(Re){return O.apply(this,arguments)}function O(){return(O=(0,x.A)(function*(Re){const Mt=Re.protocol||location.protocol,nt=Re.domain||location.hostname,Ze=Re.port||location.port,qt=Re.use_domain?`${Mt}//${nt}:${Ze}`:location.origin,Vt=(location.pathname+"/").replace("//","/"),dn=Re.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),xn={auth_type:"auth_code",scope:"public",host:`${nt}${Ze?":"+Ze:""}`,auth_uri:`${qt}/auth/oauth/authorize`,token_uri:`${qt}/auth/oauth/token`,redirect_uri:`${location.origin}${Vt}oauth-resp.html`,handle_login:!Re.local_login,use_iframe:!0,mock:dn};return localStorage&&localStorage.setItem("mock",`${!!dn&&!location.href.includes("mock=false")}`),dn&&(0,B.uA)("Application in mock mode."),(0,g.mjH)(xn)})).apply(this,arguments)}s(3060);var U=s(6202);(0,M.Am)((0,M.Bq)([{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}].map(Re=>Re.utc))).sort();var ie=s(285),me=s(5817),Y=s(1604),F=s(2727);function N(Re,Mt=!0,nt="none"){return new me.c(Ze=>{const qt=new FileReader;qt.addEventListener("loadend",Vt=>{const xn=F.Ot(Vt.target.result,Re.type),Xn=(0,ie.Zn)([xn],{file_name:Re.name,permissions:nt,public:Mt})[0],ti={id:(0,M.HO)(999999999999),name:Re.name,progress:0,link:"",formatted_size:(0,ie.jG)(Re.size),size:Re.size,upload:Xn};Xn.status.pipe((0,Y.v)(Ii=>"complete"!==Ii.status,!0)).subscribe(Ii=>{Xn.access_url&&(ti.link=Mt?Xn.access_url:`${location.origin}/api/engine/v2/uploads/${encodeURIComponent(Xn.id)}/url`),ti.progress=Ii.progress,Ze.next(ti),"error"===Ii.status&&Ze.error({...ti,error:Ii.error}),"complete"===Ii.status&&Ze.complete()}),Ze.next(ti)}),qt.readAsArrayBuffer(Re)})}s(2185),s(686);var Fe=s(7619),Ae=s(9928),Ye=s(9714),qe=s(9601),Ne=s(762),Me=s(1080);s(3004);const he={leading:!0,trailing:!1};class dt{constructor(Mt,nt,Ze,qt){this.duration=Mt,this.scheduler=nt,this.leading=Ze,this.trailing=qt}call(Mt,nt){return nt.subscribe(new Ct(Mt,this.duration,this.scheduler,this.leading,this.trailing))}}class Ct extends Ne.v{constructor(Mt,nt,Ze,qt,Vt){super(Mt),this.duration=nt,this.scheduler=Ze,this.leading=qt,this.trailing=Vt,this._hasTrailingValue=!1,this._trailingValue=null}_next(Mt){this.throttled?this.trailing&&(this._trailingValue=Mt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Qt,this.duration,{subscriber:this})),this.leading?this.destination.next(Mt):this.trailing&&(this._trailingValue=Mt,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const Mt=this.throttled;Mt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),Mt.unsubscribe(),this.remove(Mt),this.throttled=null)}}function Qt(Re){const{subscriber:Mt}=Re;Mt.clearThrottle()}var _n=s(5006),In=s(4046),rn=s(8841),$t=s(3953);const q=["keypress","mousemove","touchmove","scroll","wheel"];let Ie=(()=>{class Re{constructor(){this._last_action=new Ae.t(Date.now()),this._update=nt=>this._onUserInteraction(),this._event_names=q,this.last_action=(0,Ye.zV)([this._last_action,(0,qe.Y)(1e3)]).pipe(function xt(Re,Mt=Me.b,nt=he){return Ze=>Ze.lift(new dt(Re,Mt,nt.leading,nt.trailing))}(300),(0,_n.T)(([nt])=>nt)),this.idle_time=this.last_action.pipe((0,_n.T)(nt=>Date.now()-nt))}_onUserInteraction(){this._last_action.next(Date.now())}idleFor(nt){const Ze=this.startListening();return this.idle_time.pipe((0,In.$)(qt=>qt>=nt),(0,rn.M)(()=>Ze()))}startListening(){this._last_action.next(Date.now());for(const nt of this._event_names)document.body.addEventListener(nt,this._update);return()=>this.stopListening()}stopListening(){for(const nt of this._event_names)document.body.removeEventListener(nt,this._update)}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)};static#t=this.\u0275prov=$t.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();var se=s(7926),fe=s(9255),Ke=s(9824);const Et={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},bt={auto_approve:!0,hidden:!1};function Yt(Re){const Mt=(Re||"").split(" ");return Mt.length>1?+Mt[0]*Et[Mt[1].toLowerCase()]:0}function Xt(Re,Mt=new Date){return(0,se.z)(Mt,Yt(Re))}function nn(Re,Mt,nt){return Re.filter(Ze=>!yn({...Mt,resource:Ze},nt)?.hidden)}function yn(Re,Mt){if(!(Mt instanceof Array))return bt;for(const nt of Mt)if(("*"===nt.zone||nt.zone===Re.resource.zone?.id||Re.resource.zones?.includes(nt.zone))&&Mn(Re,nt))return nt.rules;return bt}function Mn({date:Re,duration:Mt,host:nt,resource:Ze},qt){const Vt=new Date(Re);let dn=0;const{conditions:xn}=qt;return!xn||(xn.groups instanceof Array&&xn.groups.every(Wn=>nt?.groups?.includes(Wn))&&(dn+=1),xn.is_before&&(0,fe.Y)((0,se.z)(Re,Mt),Xt(xn.is_before))&&(dn+=1),xn.is_after&&(0,Ke.d)(Re,Xt(xn.is_after))&&(dn+=1),xn.min_length&&xn.min_length<=Mt&&(dn+=1),xn.is_between&&Vt.getHours()+Vt.getMinutes()/60>=xn.is_between[0]&&Vt.getHours()+Vt.getMinutes()/60<xn.is_between[1]&&(dn+=1),xn.is_period&&Re>=xn.is_period[0]&&Re<xn.is_period[1]&&(dn+=1),xn.max_length&&xn.max_length>=Mt&&(dn+=1),xn.resource_ids&&xn.resource_ids.includes(Ze.id)&&(dn+=1),xn.locations&&xn.locations.includes(Ze.name)&&(dn+=1),dn>=Object.keys(xn).length)}var Fn=s(6871),$n=s(4006);let Ht=(()=>{class Re{constructor(nt){this._dialog=nt,this._upload_list=new Ae.t([]),this.upload_list=this._upload_list.asObservable(),localStorage&&this._upload_list.next(JSON.parse(localStorage.getItem("BACKOFFICE.uploads")||"[]"))}clearList(){const nt=this._upload_list.getValue().filter(Ze=>Ze.progress<100&&!Ze.error);this._upload_list.next(nt)}uploadFileWithPermissions(nt){var Ze=this;return new Promise((qt,Vt)=>{this._dialog.open(Fn.U,{data:{file:nt}}).afterClosed().subscribe(function(){var xn=(0,x.A)(function*(Wn){if(Wn){const Xn=yield Ze.uploadFile(Wn.file,Wn.is_public,Wn.permissions).catch(ti=>{throw Vt(ti),ti});qt(Xn)}else Vt()});return function(Wn){return xn.apply(this,arguments)}}())})}uploadFile(nt,Ze=!0,qt="none"){return new Promise(Vt=>{let dn=!1;const xn=Wn=>{dn||(Vt(Wn.id),dn=!0),this._upload_list.next([...this._upload_list.getValue().filter(Xn=>Xn.id!==Wn.id),Wn])};N(nt,Ze,qt).subscribe(xn,xn,()=>this._updateUploadHistory())})}_updateUploadHistory(){const nt=this._upload_list.getValue().filter(Ze=>Ze.progress>=100);nt.forEach(Ze=>delete Ze.upload),localStorage&&localStorage.setItem("PLACEOS.uploads",JSON.stringify(nt))}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)($t.KVO($n.bZ))};static#t=this.\u0275prov=$t.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),Qe=null;function vt(){return et.apply(this,arguments)}function et(){return(et=(0,x.A)(function*(){Qe&&(yield Qe.release());try{Qe=yield navigator.wakeLock.request("screen")}catch(Re){throw Re}})).apply(this,arguments)}document.addEventListener("visibilitychange",(0,x.A)(function*(){null!==Qe&&"visible"===document.visibilityState&&(Qe=yield navigator.wakeLock.request("screen"))}))},8385:(Ot,ve,s)=>{"use strict";s.d(ve,{z:()=>n});const e=[void 0,null,""];function n(d){let h="";if(d)for(const g in d)g in d&&!e.includes(d[g])&&(h+=`${h?"&":""}${g}=${encodeURIComponent(d[g])}`);return h}},5354:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>h});var e=s(9928),n=s(4337),d=s(3953);let h=(()=>{class g{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new e.t(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const E in this._timers)E in this._timers&&this.clearTimeout(E);for(const E in this._intervals)E in this._intervals&&this.clearInterval(E);for(const E in this._subscriptions)E in this._subscriptions&&this.unsub(E)}timeout(E,_,u=300){if(!(E&&_&&_ instanceof Function))throw new Error(E?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(E),this._timers[E]=setTimeout(()=>{_(),delete this._timers[E]},u)}clearTimeout(E){this._timers[E]&&(clearTimeout(this._timers[E]),delete this._timers[E])}interval(E,_,u=300){if(!(E&&_&&_ instanceof Function))throw new Error(E?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(E),this._intervals[E]=setInterval(()=>_(),u)}clearInterval(E){this._intervals[E]&&(clearInterval(this._intervals[E]),delete this._intervals[E])}subscription(E,_){this.unsub(E),this._subscriptions[E]=_}hasSubscription(E){return this._subscriptions[E]instanceof n.y||!!this._subscriptions[E]}unsub(E){E in this._subscriptions&&(this._subscriptions[E]instanceof n.y?this._subscriptions[E].unsubscribe():this._subscriptions[E]&&this._subscriptions[E](),delete this._subscriptions[E])}unsubWith(E){const _=Object.keys(this._subscriptions).filter(u=>u.includes(E));for(const u of _)this.unsub(u)}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275prov=d.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},4571:(Ot,ve,s)=>{"use strict";s.d(ve,{_V:()=>I,dB:()=>k,gP:()=>y});var e=s(4903),n=s(2357),d=s(1406),h=s(7926),g=s(8385),b=s(7619),E=s(4217);function _(M){const B=(0,b.il)(M,"UTC");return`${(0,e.GP)(B,"yyyyMMdd")}T${(0,e.GP)(B,"HHmmss")}Z`}function u(M){return`${(0,e.GP)(M,"yyyyMMdd")}`}function I(M){const B=[],K=x(`${M.body||""}${M.id?"\n\n[ID|"+M.id+"]":""}`),P=x(`${M.location}`);B.push(["BEGIN","VCALENDAR"]),B.push(["VERSION","2.0"]),B.push(["BEGIN","VEVENT"]),B.push(["URL",`${M.meeting_url}`]),B.push(["DTSTART",`${new Date(M.all_day?(0,n.c)((0,d.h)(M.date,{hours:6,minutes:0})):M.date).toISOString()}`]),B.push(["DTEND",`${M.all_day?(0,n.c)((0,d.h)(M.date,{hours:18,minutes:0})).toISOString():(0,h.z)(M.date,M.duration??60).toISOString()}`]),B.push(["SUMMARY",`${M.title}`]),B.push(["DESCRIPTION",K]),B.push(["LOCATION",P]);const j=M.organiser?.name||M.host?.split("@")||M.user_name||"User";return B.push(["ORGANIZER",`CN=${j}:MAILTO:${M.host||M.user_email}`]),`data:text/calendar;charset=utf8,${B.map(([w,m])=>`${w}:${encodeURIComponent(m)}`).join("\n")}`}function k(M){const B=M.all_day?u:_,K={action:"TEMPLATE",text:M.title,details:`${M.body||""}${M.id?"\n\n[ID|"+M.id+"]":""}`,location:M.location,trp:!1,dates:`${B(M.date)}/${B((0,h.z)(M.date,M.duration??60))}`},P=(M.attendees||[]).map(S=>S.email||S),j=((M.resources?.length?M.resources:null)||[M.system]).map(S=>S?.email||S);return(P.length||j.length)&&(K.add=(0,E.Am)([...P,...j]).join()),`https://calendar.google.com/calendar/render?${(0,g.z)(K)}`}function y(M,B="office"){M.date||(M.date=Date.now());const K={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(M.date).toISOString(),enddt:(0,h.z)(M.date,M.duration??60).toISOString(),subject:M.title,body:`${M.body||""}${M.id?"\n\n[ID|"+M.id+"]":""}`,location:M.location,allday:M.all_day??!1};M.all_day&&delete K.enddt;const P=(M.attendees||[]).map(S=>S.email||S),j=((M.resources?.length?M.resources:null)||[M.system]).map(S=>S?.email||S);return(P.length||j.length)&&(K.to=(0,E.Am)([...P,...j]).join()),"office"===B?`https://outlook.office.com/calendar/0/action/compose?${(0,g.z)(K)}`:`https://outlook.live.com/calendar/0/action/compose?${(0,g.z)(K)}`}function x(M){return M.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},4217:(Ot,ve,s)=>{"use strict";s.d(ve,{Am:()=>I,Bq:()=>m,DU:()=>x,F7:()=>te,GE:()=>M,HO:()=>k,HQ:()=>F,PE:()=>S,Rm:()=>E,Xf:()=>b,Xm:()=>ie,Zr:()=>me,a6:()=>K,dH:()=>v,ej:()=>Ae,gd:()=>J,go:()=>_,st:()=>u});var e=s(467),n=s(9417),d=s(4046),h=s(841);let g="APP";function b(Me){g=Me}function E(Me,pe,he,le="debug",Ee=!1,Xe=g){if(!window.jest&&(window.debug||Ee)){const xt=["color: #E91E63","color: #3F51B5","color: default"];he?console[le](`%c[${Xe}]%c[${Me}] %c${pe}`,...xt,he):console[le](`%c[${Xe}]%c[${Me}] %c${pe}`,...xt)}}function _(Me,pe=2,he="0"){let le=`${Me}`;for(;le.length<pe;)le=`${he}${le}`;return le}function u(Me,pe){const he=Me[0];return pe&&he in pe?Me.length>1?u(Me.slice(1),pe[he]||{}):pe[he]:null}function I(Me=[],pe=""){const he=[];return Me.filter(le=>{const Ee=pe?le[pe]:le,Xe=he.includes(Ee);return Xe||he.push(Ee),!Xe})}function k(Me,pe=0){return Math.floor(Math.random()*(Me-pe))+pe}function x(Me,pe="abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"){let he="";for(let le=0;le<Me;le++)he+=pe[k(pe.length)];return he}function M(Me,pe){return B.apply(this,arguments)}function B(){return(B=(0,e.A)(function*(Me,pe){const he=pe.open(h.B,{...h.f,data:Me});return{...yield Promise.race([he.componentInstance.event.pipe((0,d.$)(le=>"done"===le.reason)).toPromise(),he.afterClosed().toPromise()]),loading:le=>he.componentInstance.loading=le,close:()=>he.close()}})).apply(this,arguments)}function K(Me,pe=","){const he=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let le=null;const Ee=[[]];for(;le=he.exec(Me);)le[1].length&&","!==le[1]&&Ee.push([]),Ee[Ee.length-1].push(le[2]?le[2]?.replace(new RegExp('""',"g"),'"'):le[3]);const Xe=Ee.splice(0,1)[0];return Ee.map(dt=>{const Ct={};for(let Qt=0;Qt<dt.length;Qt++){const _n=(Xe[Qt]||"").split(" ").join("_").toLowerCase();try{Ct[_n]=JSON.parse(dt[Qt]?.replace("|",","))}catch{Ct[_n]=dt[Qt]||""}("TRUE"===Ct[_n]||"FALSE"===Ct[_n])&&(Ct[_n]="TRUE"===Ct[_n])}return Ct})}function S(Me,pe){const he=document.createElement("a");he.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(pe)),he.setAttribute("download",Me),he.style.display="none",document.body.appendChild(he),he.click(),document.body.removeChild(he)}function m(Me){const pe=[...Me],he=[];for(;pe.length;){const le=pe.pop();Array.isArray(le)?pe.push(...le):he.push(le)}return he.reverse()}function v(Me,pe,he,le){return Me>=he&&Me<le||he>=Me&&he<pe||pe>he&&pe<=le||le>Me&&le<=pe}function te(Me,pe=""){let he=[];for(const le in Me.controls)Me.controls[le]instanceof n.gE?he=[...he,...te(Me.controls[le],`${le}.`)]:Me.controls[le].valid||he.push(`${pe}${le}`);return he}function ie(Me){for(const pe in Me)(null==Me[pe]||""===Me[pe])&&delete Me[pe]}function me(Me){return`${Me[0].toUpperCase()}${Me.substring(1)}`}function F(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function J(Me,pe,he,le){const Xe=ae(he-Me),xt=ae(le-pe);Me=ae(Me),he=ae(he);const dt=Math.sin(Xe/2)*Math.sin(Xe/2)+Math.sin(xt/2)*Math.sin(xt/2)*Math.cos(Me)*Math.cos(he);return 2*Math.atan2(Math.sqrt(dt),Math.sqrt(1-dt))*6371}function ae(Me){return Me*(Math.PI/180)}function _e(Me){return[parseInt(Me.slice(1,3),16),parseInt(Me.slice(3,5),16),parseInt(Me.slice(5,7),16)]}function Ae(Me,pe,he){const Xe=function xe(Me,pe,he){let Ee=Me[1]+(pe[1]-Me[1])*he,Xe=Me[2]+(pe[2]-Me[2])*he;return[Math.round(Me[0]+(pe[0]-Me[0])*he),Math.round(Ee),Math.round(Xe)]}(_e(Me),_e(pe),he);return function Fe(Me,pe,he){function le(Ee){const Xe=Ee.toString(16);return 1==Xe.length?"0"+Xe:Xe}return"#"+le(Me)+le(pe)+le(he)}(Xe[0],Xe[1],Xe[2])}!function O(Me){let pe=1779033703^Me.length;for(let he=0;he<Me.length;he++)pe=Math.imul(pe^Me.charCodeAt(he),3432918353),pe=pe<<13|pe>>>19;return function(){return pe=Math.imul(pe^pe>>>16,2246822507),pe=Math.imul(pe^pe>>>13,3266489909),(pe^=pe>>>16)>>>0}}("PlaceOS")()},3114:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>h});var e=s(4217),n=s(3953),d=s(345);let h=(()=>{class g{constructor(E){this.title=E,this.enabled=!0,this.app_name="GA_APP",this.timers={}}init(E=""){window.gtag||(window.dataLayer=window.dataLayer||[],function(_,u,I,k,y){_[k]=_[k]||[],_[k].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var x=u.getElementsByTagName(I)[0],M=u.createElement(I);M.async=!0,M.src="https://www.googletagmanager.com/gtm.js?id="+y,x.parentNode.insertBefore(M,x)}(window,document,"script","dataLayer",E),(0,e.Rm)("Analytics","Service","Injected Google Analytics into page")),this.service=window.gtag}push(E){window.dataLayer.push(E)}load(E){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");(0,e.Rm)("Analytics","Service",`Setup with tracking ID: ${E}`),this.page("")}setUser(E){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${E}`,()=>{(0,e.Rm)("Analytics","Service",`Set user ID: ${E}`),this.service("set","userId",E),this.event("authentication","user-id available")},100)}send(E,_){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`end|${E}`,()=>{this.push({..._,event:"event"})})}event(E,_,u,I){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${E}|${_}|${u}|${I}`,()=>{(0,e.Rm)("Analytics","Service",`Event: ${E}, ${_}${u?", "+u:""}${I?", "+I:""}`),this.push({event:"event",category:E,action:_,label:u})},100)}screen(E,_){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");E&&this.enabled&&this.timeout(`event|${E}|${_||this.app_name}`,()=>{(0,e.Rm)("Analytics","Service",`Screen: ${E}${_?", "+_:""}`),this.push({event:"screenview",appName:_||this.app_name,screenName:E})},100)}page(E,_=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=E||"/",this.timeout(`page|${E}`,()=>{(0,e.Rm)("Analytics","Service",`Page: ${E}`),this.push({event:"pageview",url:`${_?location.origin:""}${E}`})},100))}timing(E,_,u,I){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${E}|${_}|${u}|${I}`,()=>{(0,e.Rm)("Analytics","Service",`Timing: ${E}, ${_}, ${u}${I?", "+I:""}`),this.push({event:"timing",category:E,variable:_,value:u,label:I})},100)}timeout(E,_,u=300){this.timers[E]&&(clearTimeout(this.timers[E]),delete this.timers[E]),this.timers[E]=setTimeout(()=>{_ instanceof Function&&_(),delete this.timers[E]},u)}static#e=this.\u0275fac=function(_){return new(_||g)(n.KVO(d.hE))};static#t=this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7643:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>g});var e=s(9928),n=s(4217),d=s(3953);const h=["control","shift","alt","meta","os"];let g=(()=>{class b{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",_=>{const u=this.mapKey((_.code||"").toLowerCase());this.last_down!==u&&(this.keydown_states[u]||(this.keydown_states[u]=new e.t(null),this.keydown_observers[u]=this.keydown_states[u].asObservable()),this.keydown_states[u].next(++this.counter),this.combo_end.indexOf(u)>=0&&_.preventDefault(),this.last_down=u)}),window.addEventListener("keyup",_=>{const u=this.mapKey((_.code||"").toLowerCase());this.keydown_states[u]?.next(null),this.last_down===u&&(this.last_down=null)})}listen(_,u){const I=(_=_ instanceof Array?_:_.split("+")).map(k=>this.mapKey(k.toLowerCase()));if(I.length>0&&this.validCombination(I)){this.registered_combos.push(I);const k=I[I.length-1];return this.keydown_states[k]||(this.keydown_states[k]=new e.t(null),this.keydown_observers[k]=this.keydown_states[k].asObservable()),this.updateCombinationEndList(),this.keydown_observers[k].subscribe(y=>{if(y){const x=[];if(I.length>0){for(const B of I){const K=this.keydown_states[B];x.push(K&&K.getValue()||-1)}for(let B=0;B<I.length-1;B++)if(x[B]>x[B+1])return}x.reduce((B,K)=>B+(K>0?1:-1),0)>=I.length&&u()}})}return null}mapKey(_){return _.indexOf("alt")>=0||_.indexOf("shift")>=0||_.indexOf("control")>=0?_.replace("left","").replace("right",""):_}updateCombinationEndList(){for(const u of this.registered_combos)this.combo_end.push(u[u.length-1]);this.combo_end=(0,n.Am)([])}validCombination(_){let u=0;for(const I of _)h.indexOf(I)<0&&u++;return u>0}static#e=this.\u0275fac=function(u){return new(u||b)};static#t=this.\u0275prov=d.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},9420:(Ot,ve,s)=>{"use strict";s.d(ve,{_:()=>M,u:()=>x});var e=s(4233),n=s(2185),d=s(9928),h=s(9714),g=s(8728),b=s(3020),E=s(8841),_=s(5006),u=s(8712),I=s(5354),k=s(4217),y=s(3953),x=function(B){return B[B.GoogleMaps=0]="GoogleMaps",B[B.Mapbox=1]="Mapbox",B}(x||{});let M=(()=>{class B extends I.T{get map_keys(){return this._settings.get("app.maps_people.keys")||{}}get use_service(){return this._settings.get("app.maps_people.use_zones")||[]}get map_service(){return this._map_service.getValue()}get map_token(){return this._map_token.getValue()}get is_ready(){return this._ready.getValue()}constructor(P,j){super(),this._settings=P,this._org=j,this._map_service=new d.t(null),this._map_token=new d.t(""),this._ready=new d.t(!1),this._injected={},this._custom_zone=new d.t(""),this.available$=(0,h.zV)([this._org.active_building,this._custom_zone,this._org.initialised]).pipe((0,g.p)(([S])=>!!S),(0,b.B)(300),(0,E.M)(()=>this._injectMapsApiKeys()),(0,_.T)(([S,w])=>this.map_keys.mapsindoors&&(this.use_service.includes(w||S.id)||this.use_service.includes("*"))),(0,u.t)(1))}setCustomZone(P){this._custom_zone.next(P)}_injectMapsApiKeys(){(0,k.Rm)("MapsPeople","Initializing Maps API Keys"),this._ready.next(!1);const{mapsindoors:P,google:j,mapbox:S}=this.map_keys;if(P){if(P&&!this._injected.mapsindoors){const w=document.createElement("script");w.src=`https://app.mapsindoors.com/mapsindoors/js/sdk/4.35.0/mapsindoors-4.35.0.js.gz?apikey=${P}`,document.body.appendChild(w),this._injected.mapsindoors=!0}if(j&&S)return void(0,k.Rm)("MapsPeople","Both Google and Mapbox keys provided",void 0,"error");if(j&&!this._injected.google){const w=document.createElement("script");w.src=`https://maps.googleapis.com/maps/api/js?libraries=geometry&key=${j}`,document.body.appendChild(w),this._map_service.next(x.GoogleMaps),this._injected.google=!0}else if(S&&!this._injected.mapbox){const w=document.createElement("script");w.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",document.body.appendChild(w);const m=document.createElement("link");m.rel="stylesheet",m.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild(m),this._map_service.next(x.Mapbox),this._map_token.next(S),this._injected.mapbox=!0}(j||S)&&((0,k.Rm)("MapsPeople","Initialized Maps API Keys for "+(j?"Google Maps":"Mapbox")),this.timeout("ready",()=>this._ready.next(!0),300))}}static#e=this.\u0275fac=function(j){return new(j||B)(y.KVO(e.h),y.KVO(n.yb))};static#t=this.\u0275prov=y.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},9525:(Ot,ve,s)=>{"use strict";s.d(ve,{To:()=>d,UG:()=>b,VX:()=>g,WS:()=>E,uA:()=>_});let e,n=!1;function d(u,I=!1){e=u,n=I}function h(u,I,k="OK",y,x={}){if(!e)return!n&&console.warn("Snackbar service hasn't been initialised");const M=e.open(I,k,{panelClass:[u],duration:5e3,...x});k&&(y=y||(()=>M.dismiss()),M.onAction().subscribe(()=>y()))}function g(u,I,k,y={}){!n&&console.debug(u),"string"!=typeof u&&(u="Success"),h("success",u,I,k,y)}function b(u,I,k,y={}){!n&&console.debug(u),"string"!=typeof u&&(u=u?.error||u?.message||"An error occurred"),h("error",u,I,k,y)}function E(u,I,k,y={}){!n&&console.debug(u),h("warn",u,I,k,y)}function _(u,I,k,y={}){!n&&console.debug(u),h("info",u,I,k,y)}},686:(Ot,ve,s)=>{"use strict";s.d(ve,{V:()=>K});var e=s(467),n=s(1038),d=s(9928),h=s(5286),g=s(9714),b=s(4421),E=s(8712),_=s(8728),u=s(9090),I=s(5006),k=s(5354),y=s(4217),x=s(3953);function M(P,j,S){var w=P[j];return P[j]=(...m)=>{S(m),w.call(P,...m)},w}let B=localStorage.getItem("PLACEOS.DEVICE_ID")||`DEV-${(0,y.DU)(8)}`,K=(()=>{class P extends k.T{setMetadata(S){}constructor(){var S;super(),S=this,this._disable_handling=!1,this._system_id=new d.t(""),this._events=new h.B7,this._event_history=this._events.pipe((0,E.t)(2e4)),this._metadata=null,this._logging_bindings=this._system_id.pipe((0,_.p)(w=>!!w),(0,u.n)(w=>(0,g.zV)([(0,b.of)(w),this._bindTo(w,"enabled")])),(0,_.p)(([w,m])=>!!m),(0,I.T)(([w])=>this.subscription("post_events",this._event_history.subscribe(function(){var m=(0,e.A)(function*(v){S._disable_handling=!0,yield(0,n.f_4)(w,"Logger").execute("post_event",[v]).catch(),S._disable_handling=!1});return function(v){return m.apply(this,arguments)}}())))),this.history=this._event_history,localStorage.setItem("PLACEOS.DEVICE_ID",B),this._patchConsoleMethods(),this._logging_bindings.subscribe(),(0,y.Rm)("Logger","Remote logging initialised...")}setSystem(S){this._system_id.next(S)}_patchConsoleMethods(){const S=["log","debug","info","warn","error"];for(const w of S)M(console,w,(...m)=>this._handleEvent(w,m))}_handleEvent(S,w,m="console"){if(w.includes('"Logger"')||this._disable_handling)return;const v=[...w[0]];v[0]="string"==typeof v[0]?v[0].replace(/\%c/g,""):v[0],this._events.next({id:`${m}-${(0,y.HO)(9999999999)}`,device_id:B,type:m,subtype:S,timestamp:Date.now(),raw:w,data:v.filter(A=>"string"!=typeof A||!A.startsWith("color:")),metadata:this._metadata||null})}_bindTo(S,w,m="Logger"){const v=(0,n.f_4)(S,m).binding(w);return this.subscription(`bind:${w}`,v.bind()),v.listen()}static#e=this.\u0275fac=function(w){return new(w||P)};static#t=this.\u0275prov=x.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},4233:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>B});var e=s(467),n=s(9928),d=s(1038),h=s(5818),g=s(4903),b=s(4046),E=s(4217),_=s(3060),u=s(5354),I=s(3885),k=s(6202),y=s(3114),x=s(3953),M=s(345);let B=(()=>{class K extends u.T{set overrides(j){this._overrides.next(j),this._applyCssVariables()}listen(j){return this._observables[j]||(this._subjects[j]=new n.t(null),this._observables[j]=this._subjects[j].asObservable()),this._observables[j]}post(j,S){this._observables[j]||(this._subjects[j]=new n.t(null),this._observables[j]=this._subjects[j].asObservable()),this._subjects[j].next(S)}value(j){return this._observables[j]?this._subjects[j].getValue():null}get title(){return this._title.getTitle()}set title(j){this._title.setTitle(`${j} | ${this.get("app.name")||this._app_name}`),this.get("app.analytics.tracking_id")&&this._analytics?.send("pagename",{title:j})}constructor(j,S){super(),this._title=j,this._analytics=S,this._app_name="PlaceOS",this._overrides=new n.t([]),this._user_settings=new n.t({}),this._subjects={},this._observables={},this._pending_settings={};const w=new Date,m=new Date(I.x.time),v=(0,h.r)(w,m)?`Today at ${(0,g.GP)(m,"h:mma")}`:(0,g.GP)(m,"do MMM yyyy, h:mma");(0,E.Rm)("CORE",`${I.x.semver}`,null,"debug",!0),(0,E.Rm)("APP",`${I.x.hash} | Built: ${v}`,null,"debug",!0),this.init()}init(){var j=this;return(0,e.A)(function*(){j.get("debug")&&(window.debug=!0),j.get("app")?.name&&(j._app_name=j.get("app").name),j._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||j._app_name,(0,E.Xf)(j._app_name.split("-").join("_").toUpperCase()),(0,E.Rm)("Settings","Successfully loaded settings"),j._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=j),j.subscription("user_settings",j._user_settings.subscribe(m=>j._applyUserSettings(m)));const S=yield k.U5.pipe((0,b.$)(m=>!!m)).toPromise(),w=yield(0,d.bpY)(S.id,"settings").toPromise();j._user_settings.next(w.details||{}),j._initDarkMode(),j._applyTheme(),j._setFontSize()})()}get app_name(){return this._app_name}get time_format(){return this.get("app.use_24_hour_time")?"HH:mm":"h:mm a"}get(j){const S=j.split(".");if("app"!==S[0])return(0,E.st)(S,this._pending_settings)??(0,E.st)(S,this._user_settings.getValue())??(0,E.st)(S,_.a);const w=[...this._overrides.getValue()];for(const m of w){const v=(0,E.st)(S.slice(1),m);if(null!=v)return v}return(0,E.st)(S,_.a)}saveUserSetting(j,S){this._pending_settings[j]=S,"dark_mode"===j&&this.setTheme(S?"dark":""),"font_size"===j&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}overrideCssVariable(j,S,w=!1){let m=document.getElementById(`css-var-overrides+${j}`);m||(m=document.createElement("style"),m.id=`css-var-overrides+${j}`,document.head.appendChild(m)),m.innerText=`html, body { --${j}: ${S} ${w?"!important":""}}`}setTheme(j){this.get("theme")!==j&&(this.saveUserSetting("theme",j),this._applyTheme())}_applyCssVariables(){const j=this.get("app.css_variables")||{};let S="body { ";for(const m in j)S+=`--${m}: ${j[m]}; `;S+="}";let w=document.getElementById("css-var-overrides");w||(w=document.createElement("style"),w.id="css-var-overrides",document.head.appendChild(w)),w.innerText=S}_savePendingChanges(){var j=this;return(0,e.A)(function*(){const S=(0,k.Ny)();!S?.id||!Object.keys(j._pending_settings).length||(yield(0,d.D58)(S.id,{name:"settings",description:"",details:{...j._user_settings.getValue(),...j._pending_settings}}).toPromise(),j._user_settings.next({...j._user_settings.getValue(),...j._pending_settings}),j._pending_settings={})})()}_applyUserSettings(j){return(0,e.A)(function*(){})()}_setFontSize(){this.get("font_size")&&this.overrideCssVariable("font-size",`${this.get("font_size")}px`)}_applyTheme(){const j=this.get("theme"),S=document.body.classList.value.split(" ");for(const w of S)w.startsWith("theme-")&&document.body.classList.remove(w);j?document.body.classList.add(`theme-${j}`):document.body.classList.remove(`theme-${j}`)}_initDarkMode(){this.get("theme")}static#e=this.\u0275fac=function(S){return new(S||K)(x.KVO(M.hE),x.KVO(y.p,8))};static#t=this.\u0275prov=x.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},3060:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>u});const u={debug:!0,composer:{domain:"",route:"/staff",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Workplace",title:"Workplace Application",description:"PlaceOS Workplace UI written with Angular Framework",short_name:"STAFF",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},locales:[{id:"en",name:"English",flag:"\u{1f1e6}\u{1f1fa}"}],features:["spaces","desks","explore","parking","help","schedule","lockers","visitor-invite","group-events"],currency:"",default_route:"/landing",use_geolocation:!1,use_24_hour_time:!1,new_features:!0,can_deliver:!0,no_user_calendar:!1,basic_user_search:!1,no_maps:!0,general:{banner:{id:"2",type:"info",content:""},search:!0,dark_mode:!0},help:[{name:"About PlaceOS",link:"https://place.technology/resources",icon:{type:"icon",class:"material-icons",content:"dns"},background:"https://static1.squarespace.com/static/52142586e4b0c09536a144ad/5c8ed203a4222fa1927bbab3/5cb7cba66e9a7f63584b4d39/1555549341622/too-many-buttons.jpg?format=2500w"},{name:"General Enquiries",link:"mailto:equiries@place.technology?subject=Staff%20App%20Demo",icon:{type:"icon",class:"material-icons",content:"mail"},background:"assets/img/it-banner.jpg"},{name:"Contact PlaceOS",link:"https://place.technology/contact-1",icon:{type:"icon",class:"material-icons",content:"call"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569984759306-M6ZOKD64OG009U68MYUL/ke17ZwdGBToddI8pDm48kCX-V5vw-8h9IBXN10-_8XN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0p4Wyba38KfG317vYluk45_zZdtnDCZTLKcP2mivxmYi50xvY5saIGKMgOza9mH4XA/image-asset.jpeg?format=2500w"},{name:"About Us",link:"https://place.technology/",icon:{type:"icon",class:"material-icons",content:"business"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569985184499-QF839PTJ2EV30KIZF59X/ke17ZwdGBToddI8pDm48kLkXF2pIyv_F2eUT9F60jBl7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0iyqMbMesKd95J-X4EagrgU9L3Sa3U8cogeb0tjXbfawd0urKshkc5MgdBeJmALQKw/image-asset.jpeg?format=2500w"}],events:{multiple_spaces:!1,desk_start:9,can_book_for_others:!1,has_catering:!0,has_assets:!0,catering_enabled:"bld-01",allow_all_day:!0,hide_notes:!1,hide_attendees:!1,features_label:"",features_on_form:!1,booking_unavailable:!1,allow_externals:!0,allow_recurrence:!1},space_display:{show_images:!1},directory:{show_avatars:!0,min_search_length:3},explore:{colors:{"space-free":"#43a047","space-pending":"#ffb300","space-busy":"#e53935","space-not-bookable":"#ccc","space-unknown":"#000","zone-low":"#43a047","zone-medium":"#ffb300","zone-high":"#e53935"},can_select_building:!0,show_legend_group_names:!0,show_legend:!0,hide_zones:!0,use_zone_polygons:!1,show_simple_sensor_info:!1,show_presence_indicators:!1,legend:[["Available","#43a047"],["In Use","#e53935"],["Pending","#ffb300"],["Signs of Life","#1565c0"]]},bookings:{no_approval:!1,all_day_default:!1,allowed_daily_visitor_count:100,multiple_visitors:!0},desks:{can_book_lockers:!0,can_book_for_others:!0,allow_groups:!0,allow_time_changes:!0,allow_all_day:!0,auto_allocation:!1,show_calendar_links:!0,hide_map:!1},analytics:{enabled:!0,tracking_id:""},chat:{enabled:!1},hide_contacts:!1,schedule:{use_websocket:!1,legend:[{name:"Accepted",color:"#21A453"},{name:"Pending",color:"#ffbf1f"},{name:"Rejected",color:"#f44336"}]}}}},7619:(Ot,ve,s)=>{"use strict";s.d(ve,{mx:()=>_n,GF:()=>q,il:()=>In});var e=s(1113);const E={year:0,month:1,day:2,hour:3,minute:4,second:5},I={};function y(fe,Ke,It,Kt,vn,Pt,an){const Et=new Date(0);return Et.setUTCFullYear(fe,Ke,It),Et.setUTCHours(Kt,vn,Pt,an),Et}const x=36e5,M=6e4,B={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function j(fe,Ke){const It=function b(fe,Ke){const It=function k(fe){if(!I[fe]){const Ke=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));I[fe]="06/25/2014, 00:00:00"===Ke||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===Ke?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:fe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:fe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return I[fe]}(Ke);return"formatToParts"in It?function _(fe,Ke){try{const It=fe.formatToParts(Ke),Kt=[];for(let vn=0;vn<It.length;vn++){const Pt=E[It[vn].type];void 0!==Pt&&(Kt[Pt]=parseInt(It[vn].value,10))}return Kt}catch(It){if(It instanceof RangeError)return[NaN];throw It}}(It,fe):function u(fe,Ke){const It=fe.format(Ke),Kt=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(It);return[parseInt(Kt[3],10),parseInt(Kt[1],10),parseInt(Kt[2],10),parseInt(Kt[4],10),parseInt(Kt[5],10),parseInt(Kt[6],10)]}(It,fe)}(fe,Ke),Kt=y(It[0],It[1]-1,It[2],It[3]%24,It[4],It[5],0).getTime();let vn=fe.getTime();const Pt=vn%1e3;return vn-=Pt>=0?Pt:1e3+Pt,Kt-vn}function w(fe,Ke){return-23<=fe&&fe<=23&&(null==Ke||0<=Ke&&Ke<=59)}const m={};function Ct(fe,Ke){return-function K(fe,Ke,It){if(!fe)return 0;let vn,Pt,Kt=B.timezoneZ.exec(fe);if(Kt)return 0;if(Kt=B.timezoneHH.exec(fe),Kt)return vn=parseInt(Kt[1],10),w(vn)?-vn*x:NaN;if(Kt=B.timezoneHHMM.exec(fe),Kt){vn=parseInt(Kt[2],10);const an=parseInt(Kt[3],10);return w(vn,an)?(Pt=Math.abs(vn)*x+an*M,"+"===Kt[1]?-Pt:Pt):NaN}if(function v(fe){if(m[fe])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:fe}),m[fe]=!0,!0}catch{return!1}}(fe)){Ke=new Date(Ke||Date.now());const an=It?Ke:function P(fe){return y(fe.getFullYear(),fe.getMonth(),fe.getDate(),fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds())}(Ke),Et=j(an,fe);return-(It?Et:function S(fe,Ke,It){let vn=fe.getTime()-Ke;const Pt=j(new Date(vn),It);if(Ke===Pt)return Ke;vn-=Pt-Ke;const an=j(new Date(vn),It);return Pt===an?Pt:Math.max(Pt,an)}(Ke,Et,fe))}return NaN}(fe,Ke)}var Qt=s(4217);const _n=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function In(fe,Ke=_n){const It=Ct(Ke)-Ct(_n);return(0,e.A)(fe,It).valueOf()}const $t={};function q(fe){if($t[fe])return $t[fe];const Ke=function Ie(fe,Ke=new Date){const Pt=new Intl.DateTimeFormat([],{timeZone:fe,hour12:!1,timeZoneName:"short"}).formatToParts(Ke).find(nn=>"timeZoneName"===nn.type),Et=(Pt?Pt.value:"GMT").match(/GMT([+-])(\d{1,2})(\d{2})?/);return Et?("+"===Et[1]?1:-1)*(60*parseInt(Et[2],10)+(Et[3]?parseInt(Et[3],10):0)):0}(fe),It=Math.floor(Math.abs(Ke)/60),Kt=Math.abs(Ke)%60,vn=`${Ke>0?"+":"-"}${(0,Qt.go)(It,2)}${(0,Qt.go)(Kt,2)}`;return $t[fe]=vn,vn}},6202:(Ot,ve,s)=>{"use strict";s.d(ve,{Ny:()=>P,U5:()=>B,VX:()=>K});var e=s(467),n=s(1038),d=s(9928),h=s(9714),g=s(8002),b=s(762);class _{constructor(S,w){this.count=S,this.source=w}call(S,w){return w.subscribe(new u(S,this.count,this.source))}}class u extends b.v{constructor(S,w,m){super(S),this.count=w,this.source=m}error(S){if(!this.isStopped){const{source:w,count:m}=this;if(0===m)return super.error(S);m>-1&&(this.count=m-1),w.subscribe(this._unsubscribeAndRecycle())}}}var I=s(5006),k=s(3693);const y=new k.Gp,x=new d.t(null),M=new d.t(0),B=x.asObservable();function K(){setTimeout((0,e.A)(function*(){const j=yield(0,n.VLL)("current").toPromise();x.next(new k.Gp(j))}),300)}function P(){return x.getValue()||y}setTimeout(()=>{try{if(jest)return}catch{}(0,h.zV)([(0,n.VLL)("current"),M]).pipe((0,g.c)(1e3),function E(j=-1){return S=>S.lift(new _(j,S))}(10),(0,I.T)(([j])=>new k.Gp(j))).subscribe(j=>x.next(j))},300)},3885:(Ot,ve,s)=>{"use strict";s.d(ve,{x:()=>e});const e={dirty:!1,raw:"53dfdc5",hash:"53dfdc5",distance:null,tag:null,semver:null,suffix:"53dfdc5",semverString:null,version:"1.12.0",time:1728350554886}},4351:(Ot,ve,s)=>{"use strict";s.d(ve,{Rt:()=>me.R,hO:()=>qe,l4:()=>te.l,hI:()=>e.h,In:()=>L.I,Dd:()=>L.D,Nw:()=>K.N,VJ:()=>U.V,VT:()=>S.V,J3:()=>v,KO:()=>$.K,z:()=>M,NV:()=>ie.N});var e=s(8765),h=(s(3938),s(841),s(1168));s(4418);var x=s(3953);let M=(()=>{class Ne{static#e=this.\u0275fac=function(he){return new(he||Ne)};static#t=this.\u0275cmp=x.VBU({type:Ne,selectors:[["app-unauthorised"]],decls:9,vars:0,consts:()=>{let pe,he,le;return pe=$localize`:␟56a20d819b6e59b0de025988a3f9ed7d6a1bc08c␟4136336337692896315:Access forbidden.`,he=$localize`:␟7afe2eb69e486929c5a29d67e6f24975f97604c4␟8887025903012875176: You do not have permission to view this page and your access attempt has been recorded. `,le=$localize`:␟1520ecc736c82366b62d64a515b1c3b222c9e1df␟1824441478452454363: Contact your Administrator if you feel that you should have access. `,[pe,he,le,[1,"unauthorised","rounded","m-4","text-center","bg-base-100","text-black","border","border-base-200","p-4","shadow"],[1,"text-4xl"],[1,"text-2xl"],[1,"py-4"]]},template:function(he,le){1&he&&(x.j41(0,"div",3)(1,"h1",4),x.EFF(2,"403"),x.k0s(),x.j41(3,"h3",5),x.pXf(4,0),x.k0s(),x.j41(5,"p",6),x.pXf(6,1),x.k0s(),x.j41(7,"p"),x.pXf(8,2),x.k0s()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.unauthorised[_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){.unauthorised[_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]})}return Ne})();s(1193);var K=s(4918),S=(s(9489),s(877),s(1865));s(5384),s(2124);let v=(()=>{class Ne{static#e=this.\u0275fac=function(he){return new(he||Ne)};static#t=this.\u0275cmp=x.VBU({type:Ne,selectors:[["app-misconfigured"]],decls:7,vars:0,consts:()=>{let pe,he,le;return pe=$localize`:@@forbiddenLabel␟182e7b1880a89160c510e11db17c3137d00fed03␟6873959187081594674: Application Misconfigured. `,he=$localize`:@@invalidPermissionLabel␟8ae6c247ea026216ce78c84ad733caad125e7429␟8256914760043331527: This application requires a zone of type org, building and level to operate. `,le=$localize`:@@contactAdminLabel␟511dd82ef95cf509a8d011fa1191ee690b27114c␟5752634679579289146: If this issue persists please contact your administrator. `,[pe,he,le,["content","",1,"rounded","m-4","text-center","bg-base-100","text-black","border","border-base-200","p-4","shadow"],[1,"text-2xl"],[1,"py-4"]]},template:function(he,le){1&he&&(x.j41(0,"div",3)(1,"h3",4),x.pXf(2,0),x.k0s(),x.j41(3,"p",5),x.pXf(4,1),x.k0s(),x.j41(5,"p"),x.pXf(6,2),x.k0s()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[content][_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){[content][_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]})}return Ne})();s(2734);var L=s(2238),U=(s(4616),s(5080),s(4921),s(620)),$=s(8283),te=s(5991),ie=s(4633),me=s(5843),F=(s(375),s(1038)),J=s(467),ae=s(4046),_e=s(9714),xe=s(4233),Fe=s(8026),Ae=s(2091);class Ye{}let qe=(()=>{class Ne{constructor(pe,he,le,Ee){this._router=pe,this._settings=he,this._org=le,this._access=Ee}canActivate(pe,he){var le=this;return(0,J.A)(function*(){return le.checkUser()})()}canLoad(pe,he){var le=this;return(0,J.A)(function*(){return le.checkUser()})()}checkUser(){var pe=this;return(0,J.A)(function*(){yield(0,_e.zV)([(0,F.XYg)(),pe._org.initialised]).pipe((0,ae.$)(([Xe,xt])=>Xe&&xt)).toPromise();const he=yield h.U5.pipe((0,ae.$)(Xe=>!!Xe)).toPromise(),le=pe._access?.group?[pe._access.group]:pe._settings.get("app.allow_access_groups")||[],Ee=!(!he||le.length&&!le.find(Xe=>he.groups.includes(Xe)));return Ee||pe._router.navigate(["/unauthorised"]),!!Ee})()}static#e=this.\u0275fac=function(he){return new(he||Ne)(x.KVO(Ae.Ix),x.KVO(xe.h),x.KVO(Fe.y),x.KVO(Ye,8))};static#t=this.\u0275prov=x.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},6539:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>k});var e=s(1168),n=s(4351),d=s(3953),h=s(177),g=s(9417),b=s(3881),E=s(450),_=s(9434);function u(y,x){if(1&y){const M=d.RV6();d.j41(0,"div",9)(1,"div",10)(2,"app-icon",11),d.EFF(3,"mode_night"),d.k0s()(),d.j41(4,"div",12),d.pXf(5,2),d.k0s(),d.j41(6,"mat-slide-toggle",13),d.bIt("ngModelChange",function(K){d.eBV(M);const P=d.XpG();return d.Njj(P.setDarkMode(K))}),d.k0s()()}if(2&y){const M=d.XpG();d.R7$(6),d.Y8G("ngModel",M.dark_mode)}}function I(y,x){if(1&y){const M=d.RV6();d.qex(0),d.j41(1,"div",15),d.pXf(2,3),d.k0s(),d.j41(3,"div",16)(4,"span",17),d.EFF(5,"A"),d.k0s(),d.j41(6,"mat-slider",18)(7,"input",19),d.bIt("ngModelChange",function(K){d.eBV(M);const P=d.XpG();return d.Njj(P.applySetting("font_size",K))}),d.k0s()(),d.j41(8,"span",6),d.EFF(9,"A"),d.k0s(),d.j41(10,"span",20),d.EFF(11),d.k0s()(),d.bVm()}if(2&y){const M=d.XpG();d.R7$(6),d.Y8G("min",10)("max",24)("step",2),d.R7$(),d.Y8G("ngModel",M.font_size),d.R7$(4),d.SpI(" ",M.font_size,"px ")}}let k=(()=>{class y extends e.Tv{get dark_mode(){return"dark"===this._settings.get("theme")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}constructor(M,B){super(),this._data=M,this._settings=B,this.applySetting=(K,P)=>this.timeout("apply_setting",()=>this._settings.saveUserSetting(K,P),1e3),this.close=()=>this._data?.close()}setDarkMode(M){const B=this._settings.get("theme");M&&"dark"!==B?this._settings.setTheme("dark"):!M&&"dark"===B&&this._settings.setTheme("light")}static#e=this.\u0275fac=function(B){return new(B||y)(d.rXU(n.Dd),d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:y,selectors:[["accessibility-tooltip"]],features:[d.Vt3],decls:15,vars:3,consts:()=>{let M,B,K,P;return M=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,B=$localize`:␟0f027c150c7e9465a5cdf64c4d07c33aca92384d␟127744830115363320:Large Accessibility Sizes`,K=$localize`:␟c943d5ecc32b916a210d7c984fe5f55771ad0b1a␟3279636347259347513:Dark Mode`,P=$localize`:␟3fc32876e34616b005d861eafe737cf4d2793184␟8609643488577372847: Adjust your preferred reading size below. `,[M,B,K,P,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],[3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"px-8","py-4","bg-base-200","text-center"],[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2","text-[16px]",3,"min","max","step"],["matSliderThumb","",1,"text-[16px]",3,"ngModelChange","ngModel"],[1,"text-base","py-1","px-2","rounded","bg-base-300","text-white","my-2"]]},template:function(B,K){1&B&&(d.j41(0,"div",4)(1,"div",5),d.bIt("click",function(){return K.close()}),d.j41(2,"app-icon",6),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",7),d.pXf(5,0),d.k0s()(),d.DNE(6,u,7,1,"div",8),d.j41(7,"div",9)(8,"div",10)(9,"app-icon",11),d.EFF(10,"playlist_add"),d.k0s()(),d.j41(11,"div",12),d.pXf(12,1),d.k0s(),d.j41(13,"mat-slide-toggle",13),d.bIt("ngModelChange",function(j){return K.applySetting("accessible",j)}),d.k0s()(),d.DNE(14,I,12,5,"ng-container",14),d.k0s()),2&B&&(d.R7$(6),d.Y8G("ngIf",K.can_change_dark_mode),d.R7$(7),d.Y8G("ngModel",K.accessible),d.R7$(),d.Y8G("ngIf",K.accessible))},dependencies:[h.bT,g.me,g.BC,g.vS,b.IV,b.OU,E.sG,_.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})}return y})()},5843:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>S});var e=s(3953),n=s(4006),d=s(1168),h=s(177),g=s(9417),b=s(6600),E=s(9115),_=s(3719),u=s(2798),I=s(9631),k=s(2765),y=s(9434);function x(w,m){1&w&&(e.j41(0,"button",8)(1,"app-icon"),e.EFF(2,"close"),e.k0s()())}function M(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",10),e.bIt("ngModelChange",function(L){e.eBV(v);const G=e.XpG();return e.Njj(G.saveNotesSetting(L))}),e.EFF(2," Require notes for orders "),e.k0s()()}if(2&w){const v=e.XpG();e.R7$(),e.Y8G("ngModel",v.require_notes)}}function B(w,m){if(1&w&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&w){const v=m.$implicit;e.Y8G("value",v.id),e.R7$(),e.SpI(" ",v.name," ")}}function K(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",22),e.nrm(1,"div",23),e.j41(2,"mat-form-field",13)(3,"mat-select",24),e.mxI("ngModelChange",function(L){const G=e.eBV(v).$implicit;return e.DH7(G[0],L)||(G[0]=L),e.Njj(L)}),e.DNE(4,B,2,2,"mat-option",25),e.k0s()(),e.j41(5,"mat-form-field",13)(6,"input",26),e.mxI("ngModelChange",function(L){const G=e.eBV(v).$implicit;return e.DH7(G[1],L)||(G[1]=L),e.Njj(L)}),e.k0s(),e.j41(7,"mat-error"),e.EFF(8,"Rule value is required"),e.k0s()(),e.j41(9,"button",27),e.bIt("click",function(){const L=e.eBV(v).index,G=e.XpG().$implicit;return e.Njj(G.rules.splice(L,1))}),e.j41(10,"app-icon"),e.EFF(11,"delete"),e.k0s()()()}if(2&w){const v=m.$implicit,A=e.XpG(2);e.R7$(3),e.R50("ngModel",v[0]),e.R7$(),e.Y8G("ngForOf",A.rule_types),e.R7$(2),e.R50("ngModel",v[1])}}function P(w,m){if(1&w){const v=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"input",14),e.mxI("ngModelChange",function(L){const G=e.eBV(v).$implicit;return e.DH7(G.name,L)||(G.name=L),e.Njj(L)}),e.k0s(),e.j41(4,"mat-error"),e.EFF(5,"Ruleset name is required"),e.k0s()(),e.j41(6,"button",15)(7,"app-icon"),e.EFF(8,"more_vert"),e.k0s()(),e.j41(9,"mat-menu",null,0)(11,"button",16),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return L.rules.push(["",""]),e.Njj(G.show_rules=L.id)}),e.j41(12,"div",17)(13,"app-icon",18),e.EFF(14,"add"),e.k0s(),e.j41(15,"div"),e.EFF(16,"Add Rule"),e.k0s()()(),e.j41(17,"button",16),e.bIt("click",function(){const L=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.show_rules=G.show_rules!==L.id?L.id:"")}),e.j41(18,"div",17)(19,"app-icon",18),e.EFF(20),e.k0s(),e.j41(21,"div"),e.EFF(22),e.k0s()()(),e.j41(23,"button",16),e.bIt("click",function(){const L=e.eBV(v).index,G=e.XpG();return e.Njj(G.rulesets.splice(L,1))}),e.j41(24,"div",19)(25,"app-icon",18),e.EFF(26,"delete"),e.k0s(),e.j41(27,"div"),e.EFF(28,"Remove Ruleset"),e.k0s()()()()(),e.j41(29,"div",20),e.DNE(30,K,12,3,"div",21),e.k0s()()}if(2&w){const v=m.$implicit,A=e.sdS(10),L=e.XpG();e.R7$(3),e.R50("ngModel",v.name),e.R7$(3),e.Y8G("matMenuTriggerFor",A),e.R7$(14),e.JRh(L.show_rules===v.id?"expand_less":"expand_more"),e.R7$(2),e.SpI(" ",L.show_rules===v.id?"Hide":"Show"," Rules "),e.R7$(7),e.xc7("height",(L.show_rules===v.id?4*v.rules.length:0)+"em"),e.R7$(),e.Y8G("ngForOf",v.rules)}}const j=[{id:"after_hour",name:"After Hour of Day"},{id:"before_hour",name:"Before Hour of Day"},{id:"min_length",name:"Min. Meeting Length"},{id:"max_length",name:"Max. Meeting Length"},{id:"is_before",name:"Is Hours before Meeting"},{id:"within_hours",name:"Within Hours before Meeting"},{id:"visitor_type",name:"Visitor Type"},{id:"groups",name:"User in Groups"}];let S=(()=>{class w extends d.Tv{get new_id(){return"ruleset-"+Math.floor(99999999*Math.random())}get can_save_notes(){return!!this._data.saveNotes}constructor(v){super(),this._data=v,this.event=new e.bkB,this.loading=!1,this.require_notes=this._data.require_notes,this.resource_name=this._data.resource_name||"Catering",this.rule_types=j,this.rulesets=(v.config||[]).map(A=>(A.rules=A.rules.map(L=>[L[0],JSON.stringify(L[1])]),A))}saveNotesSetting(v){this.timeout("save-notes",()=>this._data.saveNotes?this._data.saveNotes(v):"",1e3)}saveChanges(){this.loading=!0;const v=this.rulesets.map(A=>({...A,rules:A.rules.map(L=>{let G=L[1];try{G=JSON.parse(L[1])}catch{}return[L[0],G]})}));this.event.emit({reason:"done",metadata:v})}static#e=this.\u0275fac=function(A){return new(A||w)(e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["attached-resource-config-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:12,vars:4,consts:[["menu","matMenu"],["icon","","mat-dialog-close","",4,"ngIf"],[1,"overflow-auto","text-center","max-w-lg","min-w-[32rem]","px-4","pt-2","pb-4","space-y-2"],["class","text-left p-2 rounded bg-base-200",4,"ngIf"],["btn","","matRipple","",1,"w-full",3,"click"],["class","ruleset mb-2",4,"ngFor","ngForOf"],[1,"flex","py-2","px-4","items-center","justify-end","border-t","border-solid","border-base-200"],["btn","","matRipple","",1,"w-36",3,"click"],["icon","","mat-dialog-close",""],[1,"text-left","p-2","rounded","bg-base-200"],[3,"ngModelChange","ngModel"],[1,"ruleset","mb-2"],[1,"flex","items-center","mb-2","space-x-2"],["appearance","outline",1,"flex-1","no-subscript"],["matInput","","name","name","placeholder","Zone ID, Category or Tag","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","space-x-2","text-error"],["name","rules",1,"overflow-hidden"],["class","flex items-center pl-7 h-16 space-x-2 relative",4,"ngFor","ngForOf"],[1,"flex","items-center","pl-7","h-16","space-x-2","relative"],[1,"absolute","left-3","top-1/2","-translate-y-full","w-4","h-32","border-b-2","border-l-2","border-base-200"],["name","booking-type","placeholder","Select Rule",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","value","placeholder","Rule value","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"click"],[3,"value"]],template:function(A,L){1&A&&(e.j41(0,"header")(1,"h3"),e.EFF(2),e.k0s(),e.DNE(3,x,3,0,"button",1),e.k0s(),e.j41(4,"main",2),e.DNE(5,M,3,1,"div",3),e.j41(6,"button",4),e.bIt("click",function(){return L.rulesets.push({id:L.new_id,rules:[]})}),e.EFF(7," New Ruleset "),e.k0s(),e.DNE(8,P,31,7,"div",5),e.k0s(),e.j41(9,"footer",6)(10,"button",7),e.bIt("click",function(){return L.saveChanges()}),e.EFF(11," Save Changes "),e.k0s()()),2&A&&(e.R7$(2),e.SpI("Edit ",L.resource_name," Configuration"),e.R7$(),e.Y8G("ngIf",!L.loading),e.R7$(2),e.Y8G("ngIf",L.can_save_notes),e.R7$(3),e.Y8G("ngForOf",L.rulesets))},dependencies:[h.Sq,h.bT,g.me,g.BC,g.YS,g.vS,b.wT,E.kk,E.fb,E.Cp,_.rl,_.TL,u.VO,b.r6,n.tx,I.fg,k.So,y.R],styles:["[name=rules][_ngcontent-%COMP%]{transition:height .2s}"]})}return w})()},3208:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>b});var e=s(467),n=s(1168),d=s(1038),h=s(3953);const g=new Map;let b=(()=>{class E extends n.Tv{constructor(u){super(),this._image_el=u}ngOnChanges(u){u.source&&this.source&&this._loadImage()}_loadImage(){var u=this;return(0,e.A)(function*(){if(!u._image_el||!(0,d.kup)())return u.timeout("load",()=>u._loadImage(),300);if(!u.source.includes("/api/engine/v2/uploads"))return void(u._image_el.nativeElement.src=u.source);if(g.has(u.source))return void(u._image_el.nativeElement.src=g.get(u.source));const I=(0,d.ShT)();document.cookie=`${"x-api-key"===I?"api-key="+encodeURIComponent((0,d.Kz4)()):"bearer_token="+encodeURIComponent(I)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`;let k=null;try{k=yield fetch(u.source).catch(M=>null)}catch{}if(!k||!k.ok)return void console.info("Failed to load image:",u.source);const y=yield k.blob(),x=URL.createObjectURL(y);g.set(u.source,x),u._image_el.nativeElement.src=x})()}static#e=this.\u0275fac=function(I){return new(I||E)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:E,selectors:[["img","auth",""],["video","auth",""]],inputs:{source:"source"},features:[h.Vt3,h.OA$]})}return E})()},375:(Ot,ve,s)=>{"use strict";s.d(ve,{D:()=>K});var e=s(467),n=s(3953),d=s(1168),h=s(2185),g=s(8363),b=s(9493),E=s(4006),_=s(177),u=s(6600),I=s(9183),k=s(2765),y=s(9434);function x(P,j){if(1&P){const S=n.RV6();n.j41(0,"tr",14),n.bIt("click",function(){const m=n.eBV(S).$implicit,v=n.XpG(2);return n.Njj(v.toggleRoom(m.id))}),n.j41(1,"td"),n.nrm(2,"mat-checkbox",15),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",16)(6,"div",17),n.EFF(7),n.k0s()()()}if(2&P){const S=j.$implicit,w=n.XpG(2);n.R7$(2),n.Y8G("checked",w.selected.includes(S.id)),n.R7$(2),n.JRh(S.display_name||S.name),n.R7$(2),n.AVh("bg-success",!(null!=w.disabled_rooms&&w.disabled_rooms.includes(S.id)))("bg-error",null==w.disabled_rooms?null:w.disabled_rooms.includes(S.id)),n.R7$(),n.SpI(" ",null!=w.disabled_rooms&&w.disabled_rooms.includes(S.id)?"Disabled":"Enabled"," ")}}function M(P,j){if(1&P){const S=n.RV6();n.j41(0,"main",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"td",10),n.bIt("click",function(){n.eBV(S);const m=n.XpG();return n.Njj(m.toggleRoom("*"))}),n.nrm(5,"mat-checkbox",11),n.nI1(6,"async"),n.nI1(7,"async"),n.k0s(),n.nrm(8,"td"),n.j41(9,"td",12),n.EFF(10),n.nI1(11,"async"),n.k0s()()(),n.j41(12,"tbody"),n.DNE(13,x,8,7,"tr",13),n.nI1(14,"async"),n.k0s()()()}if(2&P){let S,w,m;const v=n.XpG();n.R7$(5),n.Y8G("checked",(null==(S=n.bMT(6,4,v.rooms))?null:S.length)===v.selected.length)("indeterminate",v.selected.length>0&&(null==(w=n.bMT(7,6,v.rooms))?null:w.length)!==v.selected.length),n.R7$(5),n.SpI(" ",null==(m=n.bMT(11,8,v.rooms))?null:m.length," Room(s) "),n.R7$(3),n.Y8G("ngForOf",n.bMT(14,10,v.rooms))}}function B(P,j){1&P&&(n.j41(0,"main",18),n.nrm(1,"mat-spinner",19),n.j41(2,"p"),n.EFF(3,"Saving disabled room list..."),n.k0s()())}let K=(()=>{class P{constructor(S,w){this._data=S,this._org=w,this.change=new n.bkB,this.loading=!1,this.selected=[],this.rooms=(0,g.Ot)(this._org.building.id),this.type=this._data.type,this.disabled_rooms=this._data.disabled_rooms}toggleRoom(S){var w=this;return(0,e.A)(function*(){if("*"===S){const m=yield w.rooms.pipe((0,b.s)(1)).toPromise();w.selected=w.selected.length!==m.length?m.map(v=>v.id):[]}else w.selected=w.selected.includes(S)?w.selected.filter(m=>m!==S):[...w.selected,S]})()}enableSelected(){var S=this;return(0,e.A)(function*(){S.loading=!0;const m=S.disabled_rooms.filter(v=>!S.selected.includes(v));S.disabled_rooms=m,S.change.next(m)})()}disableSelected(){var S=this;return(0,e.A)(function*(){S.loading=!0;const m=(0,d.Am)(S.disabled_rooms.concat(S.selected));S.disabled_rooms=m,S.change.next(m)})()}static#e=this.\u0275fac=function(w){return new(w||P)(n.rXU(E.Vh),n.rXU(h.yb))};static#t=this.\u0275cmp=n.VBU({type:P,selectors:[["catering-rooms-state-modal"]],outputs:{change:"change"},decls:15,vars:3,consts:[["load_state",""],[1,"flex","items-center","justify-between","p-2"],[1,"p-2"],["icon","","mat-dialog-close",""],["class","max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","p-2","justify-end","space-x-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"max-h-[65vh]","overflow-auto"],[1,"min-w-[32rem]"],[1,"border-b","border-base-200"],[1,"w-12",3,"click"],[1,"pointer-events-none",3,"checked","indeterminate"],[1,"text-right","text-xs"],["class","hover:bg-neutral:bg-base-100/5",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-neutral:bg-base-100/5",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"text-center"],[1,"ml-auto","px-3","py-1","rounded-2xl","text-white","w-24"],[1,"w-64","h-48","p-8","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(w,m){if(1&w){const v=n.RV6();n.j41(0,"div")(1,"header",1)(2,"h3",2),n.EFF(3),n.k0s(),n.j41(4,"button",3)(5,"app-icon"),n.EFF(6,"close"),n.k0s()()(),n.DNE(7,M,15,12,"main",4),n.j41(8,"footer",5)(9,"button",6),n.bIt("click",function(){return n.eBV(v),n.Njj(m.enableSelected())}),n.EFF(10," Enable Selected "),n.k0s(),n.j41(11,"button",6),n.bIt("click",function(){return n.eBV(v),n.Njj(m.disableSelected())}),n.EFF(12," Disable Selected "),n.k0s()()(),n.DNE(13,B,4,0,"ng-template",null,0,n.C5r)}if(2&w){const v=n.sdS(14);n.R7$(3),n.SpI("Set ",m.type," Availability for Rooms"),n.R7$(4),n.Y8G("ngIf",!m.loading)("ngIfElse",v)}},dependencies:[_.Sq,_.bT,u.r6,E.tx,I.LG,k.So,y.R,_.Jj],styles:["td[_ngcontent-%COMP%]{padding:.5rem}"]})}return P})()},3938:(Ot,ve,s)=>{"use strict";s.d(ve,{J:()=>b});var e=s(3953),n=s(1038),d=s(1168),h=s(4046),g=s(8728);let b=(()=>{class E extends d.Tv{constructor(u,I){super(),this._element=u,this._renderer=I,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.delay=100,this.on_event="",this.params=null,this.ignore=!1,this.model=null,this.modelChange=new e.bkB,this._binding=!1,this._old_model=null}ngOnInit(){(0,n.XYg)()?.pipe((0,h.$)(u=>u)).subscribe(u=>this.bindVariable())}ngOnChanges(u){(u.sys||u.mod||u.bind)&&this.bindVariable(),u.model&&this._old_model!==this.model&&null!=this.model&&(this._old_model=this.model,this.execute()),u.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,n.kup)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const I=(0,n.f_4)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",I.bind()),this.subscription("on_changes",I.listen().pipe((0,g.p)(k=>null!=k)).subscribe(k=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),!this.ignore&&(this.model=k,this._old_model=this.model,this.modelChange.emit(this.model))},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){(0,n.kup)()&&this.exec&&this.sys&&this.mod&&!this._timers.execute&&this.timeout("execute",()=>{const u=(0,n.f_4)(this.sys,this.mod,this.index);let I=this.params;this.bind&&(I=this.params||[this.model]),u.execute(this.exec,I||[]).then(k=>{this.bind||(this.model=k,this._old_model=this.model,this.modelChange.emit(this.model))})},this.delay)}static#e=this.\u0275fac=function(I){return new(I||E)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:E,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",delay:"delay",on_event:[0,"onEvent","on_event"],params:"params",ignore:"ignore",model:"model"},outputs:{modelChange:"modelChange"},features:[e.Vt3,e.OA$]})}return E})()},5550:(Ot,ve,s)=>{"use strict";s.d(ve,{C:()=>u});var e=s(4351),n=s(2185),d=s(3953),h=s(177),g=s(9417),b=s(5951),E=s(9434);function _(I,k){if(1&I){const y=d.RV6();d.j41(0,"mat-radio-button",8),d.bIt("click",function(){const M=d.eBV(y).$implicit,B=d.XpG();return d.Njj(B.setBuilding(M))}),d.EFF(1),d.k0s()}if(2&I){const y=k.$implicit;d.Y8G("value",y.id),d.R7$(),d.SpI(" ",y.display_name||y.name," ")}}let u=(()=>{class I{constructor(y,x){this._data=y,this._org=x,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=M=>{this._org.building=M,this._org.saveBuilding(M.id),this._data?.close()},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(x){return new(x||I)(d.rXU(e.Dd),d.rXU(n.yb))};static#t=this.\u0275cmp=d.VBU({type:I,selectors:[["building-select"]],decls:14,vars:11,consts:()=>{let y;return y=$localize`:␟f6bc545a20f571c426f74d4d3522b71334f2b845␟4543839253815117286: Select a building location `,[y,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(x,M){if(1&x&&(d.j41(0,"div",1),d.bIt("click",function(){return M.close()}),d.j41(1,"div",2)(2,"app-icon",3),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",4),d.EFF(5),d.nI1(6,"async"),d.nI1(7,"async"),d.k0s()(),d.j41(8,"div",5),d.pXf(9,0),d.k0s(),d.j41(10,"mat-radio-group",6),d.nI1(11,"async"),d.DNE(12,_,2,2,"mat-radio-button",7),d.nI1(13,"async"),d.k0s()()),2&x){let B,K;d.R7$(5),d.SpI(" ",(null==(B=d.bMT(6,3,M.building))?null:B.display_name)||(null==(B=d.bMT(7,5,M.building))?null:B.name)," "),d.R7$(5),d.Y8G("ngModel",null==(K=d.bMT(11,7,M.building))?null:K.id),d.R7$(2),d.Y8G("ngForOf",d.bMT(13,9,M.buildings))}},dependencies:[h.Sq,g.BC,g.vS,b.VT,b._g,E.R,h.Jj]})}return I})()},6062:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>d});var e=s(2185),n=s(3953);let d=(()=>{class h{constructor(b){this._org=b}transform(b){return this._org.buildings.find(E=>b instanceof Array?b.includes(E.id):E.id===b)}static#e=this.\u0275fac=function(E){return new(E||h)(n.rXU(e.yb,16))};static#t=this.\u0275pipe=n.EJ8({name:"building",type:h,pure:!0})}return h})()},5991:(Ot,ve,s)=>{"use strict";s.d(ve,{l:()=>u});var e=s(4006),n=s(222),d=s(3953),h=s(177),g=s(9434),b=s(6781);function E(I,k){if(1&I&&(d.nrm(0,"main",4),d.nI1(1,"safe")),2&I){const y=d.XpG();d.Y8G("innerHTML",d.i5U(1,1,y.changelog,"html"),d.npT)}}function _(I,k){1&I&&(d.j41(0,"div",5)(1,"app-icon",6),d.EFF(2,"close"),d.k0s(),d.j41(3,"div",7),d.EFF(4,"No changelog"),d.k0s()())}let u=(()=>{class I{constructor(y){this._data=y}get changelog(){return(0,n.xI)(this._data.changelog||"",{async:!1})}static#e=this.\u0275fac=function(x){return new(x||I)(d.rXU(e.Vh))};static#t=this.\u0275cmp=d.VBU({type:I,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["empty_state",""],["mat-dialog-title",""],["icon","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(x,M){if(1&x&&(d.j41(0,"header")(1,"h3",1),d.EFF(2,"Changelog"),d.k0s(),d.j41(3,"button",2)(4,"app-icon"),d.EFF(5,"close"),d.k0s()()(),d.DNE(6,E,2,4,"main",3)(7,_,5,0,"ng-template",null,0,d.C5r)),2&x){const B=d.sdS(8);d.R7$(6),d.Y8G("ngIf",M.changelog)("ngIfElse",B)}},dependencies:[h.bT,e.tx,e.BI,g.R,b.m]})}return I})()},7080:(Ot,ve,s)=>{"use strict";s.d(ve,{K:()=>te});var e=s(1168),n=s(2185),d=s(1038),h=s(9928),g=s(9714),b=s(8728),E=s(5006),_=s(9090),u=s(8712),I=s(4119),k=s(222),y=s(3953);let x=(()=>{class ie extends e.Tv{get connected(){return!!this._socket}constructor(Y,F){super(),this._org=Y,this._settings=F,this._binding=new h.t(""),this._chat_messages=new h.t([]),this._progress_message=new h.t(null),this._chat_system=(0,g.zV)([this._org.active_building,this._binding]).pipe((0,b.p)(([N])=>!!N),(0,E.T)(([N,J])=>J||this._org.binding("chat_room"))),this._chat_id="",this.chat_hint=this._chat_system.pipe((0,b.p)(N=>!!N),(0,_.n)(N=>{const ae=(0,d.f_4)(N,"LLM").binding("user_hint");return this.subscription("binding:LLM:user_hint",ae.bind()),ae.listen()}),(0,u.t)(1)),this._change=new h.t(0),this._chat_pipe=(0,g.zV)([this._chat_system,this._change]).pipe((0,_.n)(([N])=>{const J="x-api-key"!==(0,d.ShT)()?`bearer_token=${encodeURIComponent((0,d.ShT)())}`:`x-api-key=${(0,d.Kz4)()}`,ae=`ws${location.origin.replace("http","")}/api/engine/v2/chatgpt/chat/${encodeURIComponent(N)}?${J}${this._chat_id?"&resume="+encodeURIComponent(this._chat_id):""}`;return this._socket=(0,I.K)({url:ae,serializer:_e=>"object"==typeof _e?JSON.stringify(_e):_e,deserializer:_e=>{let xe=_e.data;try{xe=JSON.parse(_e.data)}catch{}return xe}}),this.subscription("chat-ws",this._socket.subscribe(_e=>this._onMessage(_e),_e=>{(0,e.Rm)("CHAT","Connection error:",[_e],"error"),this._cleanup()},()=>this._cleanup())),this._socket}),(0,u.t)(1)),this.messages=this._chat_messages.asObservable(),this.progress=this._progress_message.asObservable()}setBinding(Y){this._binding.next(Y)}startChat(){if(!this._socket)return this._change.next(Date.now()),(0,e.Rm)("CHAT","Starting chat connection."),this.subscription("chat",this._chat_pipe.subscribe()),()=>this.endChat()}endChat(){(0,e.Rm)("CHAT","Dropping chat connection."),this._socket?.complete(),this._cleanup()}close(){this.endChat(),this._chat_id="",this._chat_messages.next([])}sendMessage(Y){Y&&(this._onMessage({chat_id:"",message:Y,user_id:(0,e.Ny)().id}),this._socket?.next(Y))}_timeoutSocket(Y=55e3){this.timeout("socket",()=>{const F=this._chat_messages.getValue();if(F.length>0&&"assistant"!==F[F.length-1].user_id)return this._timeoutSocket(Y);this.endChat()},Y)}_cleanup(){this._socket=null,this.unsubWith("chat")}_onMessage(Y){Y.chat_id&&(this._chat_id=Y.chat_id),"progress"===Y.type?(this._progress_message.next({id:`msg-${(0,e.DU)(6)}`,chat_id:Y.chat_id,message:Y.message,content:k.qg(Y.message,{async:!1}),user_id:Y.user_id||"assistant",function:Y.function,timestamp:Date.now()}),"task_complete"===Y.function&&this._settings.post("CHAT:task_complete",Y.task_id)):(this._chat_messages.next([...this._chat_messages.getValue(),{id:`msg-${(0,e.DU)(6)}`,chat_id:Y.chat_id,message:Y.message,content:k.qg(Y.message,{async:!1}),user_id:Y.user_id||"assistant",timestamp:Date.now()}]),"response"===Y.type&&this._progress_message.next(null)),this._timeoutSocket()}static#e=this.\u0275fac=function(F){return new(F||ie)(y.KVO(n.yb),y.KVO(e.h$))};static#t=this.\u0275prov=y.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();var M=s(177),B=s(9417),K=s(6600),P=s(9434),j=s(4616),S=s(7025);const w=["input"],m=["container"];function v(ie,me){if(1&ie&&(y.j41(0,"div",21),y.EFF(1),y.nI1(2,"async"),y.k0s()),2&ie){const Y=y.XpG(3);y.R7$(),y.SpI(" ",y.bMT(2,1,Y.hint)," ")}}function A(ie,me){1&ie&&(y.j41(0,"div",27),y.EFF(1," Assistant "),y.k0s())}function L(ie,me){if(1&ie){const Y=y.RV6();y.j41(0,"div",22),y.nI1(1,"async"),y.bIt("click",function(){const N=y.eBV(Y).$implicit,J=y.XpG(3);return y.Njj(J.show_time[N.id]=!J.show_time[N.id])}),y.j41(2,"div",23),y.DNE(3,A,2,0,"div",24),y.j41(4,"div",25),y.EFF(5),y.nI1(6,"dateFrom"),y.k0s()(),y.nrm(7,"div",26),y.nI1(8,"sanitize"),y.k0s()}if(2&ie){const Y=me.$implicit,F=y.XpG(3);y.AVh("pr-4",Y.user_id!==F.user.id)("pl-4",Y.user_id===F.user.id)("items-left",Y.user_id!==F.user.id)("items-end",Y.user_id===F.user.id)("waiting-margin",y.bMT(1,13,F.waiting)),y.R7$(3),y.Y8G("ngIf",Y.user_id!==F.user.id),y.R7$(2),y.SpI(" ",y.bMT(6,15,Y.timestamp+F.offset)," "),y.R7$(2),y.Y8G("innerHTML",y.bMT(8,17,Y.content),y.npT)}}function G(ie,me){if(1&ie&&(y.nrm(0,"div",35),y.nI1(1,"async"),y.nI1(2,"sanitize")),2&ie){const Y=y.XpG(4);y.Y8G("innerHTML",y.bMT(2,3,y.bMT(1,1,Y.progress).content),y.npT)}}function O(ie,me){if(1&ie){const Y=y.RV6();y.j41(0,"div",28)(1,"button",29),y.bIt("click",function(){y.eBV(Y);const N=y.XpG(3);return y.Njj(N.show_info=!N.show_info)}),y.j41(2,"div",23)(3,"app-icon",30),y.EFF(4),y.nI1(5,"async"),y.k0s(),y.j41(6,"p",31),y.EFF(7),y.nI1(8,"async"),y.nI1(9,"async"),y.k0s()(),y.j41(10,"div",32),y.nrm(11,"div",33),y.DNE(12,G,3,5,"div",34),y.k0s()()()}if(2&ie){const Y=y.XpG(3);y.R7$(4),y.JRh(Y.icons[y.bMT(5,3,Y.progress).function]||"info"),y.R7$(3),y.SpI(" ",y.bMT(8,5,Y.progress).message||y.bMT(9,7,Y.progress).function," "),y.R7$(5),y.Y8G("ngIf",Y.show_info)}}function W(ie,me){if(1&ie&&(y.j41(0,"div",36),y.nrm(1,"div",37)(2,"div",38)(3,"div",39),y.j41(4,"span",40),y.EFF(5,"Waiting for reply..."),y.k0s()()),2&ie){const Y=y.XpG(3);y.xc7("bottom",Y.height+8+"px")}}function U(ie,me){if(1&ie){const Y=y.RV6();y.j41(0,"div",6)(1,"div",7)(2,"h3",8),y.EFF(3,"Virtual Assistant"),y.k0s(),y.j41(4,"button",9),y.bIt("click",function(){y.eBV(Y);const N=y.XpG(2);return y.Njj(N.toggleChat())}),y.j41(5,"app-icon"),y.EFF(6,"close"),y.k0s()()(),y.j41(7,"div",10,0)(9,"div",11)(10,"app-icon",12),y.EFF(11,"forum"),y.k0s(),y.j41(12,"p",13),y.EFF(13),y.nrm(14,"br"),y.EFF(15," Welcome to the virtual assistant. "),y.k0s()(),y.DNE(16,v,3,3,"div",14),y.nI1(17,"async"),y.DNE(18,L,9,19,"div",15),y.nI1(19,"async"),y.DNE(20,O,13,9,"div",16),y.nI1(21,"async"),y.k0s(),y.DNE(22,W,6,2,"div",17),y.nI1(23,"async"),y.j41(24,"div",18)(25,"textarea",19,1),y.mxI("ngModelChange",function(N){y.eBV(Y);const J=y.XpG(2);return y.DH7(J.message,N)||(J.message=N),y.Njj(N)}),y.bIt("ngModelChange",function(){y.eBV(Y);const N=y.XpG(2);return y.Njj(N.resizeInput())})("keyup.enter",function(){y.eBV(Y);const N=y.XpG(2);return y.Njj(N.sendMessage())}),y.k0s(),y.j41(27,"button",20),y.bIt("click",function(){y.eBV(Y);const N=y.XpG(2);return y.Njj(N.sendMessage())}),y.j41(28,"app-icon"),y.EFF(29,"send"),y.k0s()()()()}if(2&ie){const Y=y.XpG(2);y.R7$(13),y.SpI(" Hi ",Y.user.name,". "),y.R7$(3),y.Y8G("ngIf",y.bMT(17,9,Y.hint)),y.R7$(2),y.Y8G("ngForOf",y.bMT(19,11,Y.messages)),y.R7$(2),y.Y8G("ngIf",y.bMT(21,13,Y.progress)),y.R7$(2),y.Y8G("ngIf",y.bMT(23,15,Y.waiting)),y.R7$(3),y.xc7("height",Y.height+"px"),y.R50("ngModel",Y.message),y.R7$(2),y.Y8G("disabled",!Y.message)}}function $(ie,me){if(1&ie){const Y=y.RV6();y.j41(0,"div",3)(1,"button",4),y.bIt("click",function(){y.eBV(Y);const N=y.XpG();return y.Njj(N.toggleChat())}),y.j41(2,"app-icon"),y.EFF(3,"chat"),y.k0s()(),y.DNE(4,U,30,17,"div",5),y.k0s()}if(2&ie){const Y=y.XpG();y.R7$(4),y.Y8G("ngIf",Y.show)}}let te=(()=>{class ie extends e.Tv{get can_show(){return this._settings.get("app.chat.enabled")}toggleChat(){this.show=!this.show,this.show||this._chat.close()}constructor(Y,F){super(),this._settings=Y,this._chat=F,this.show=!1,this.show_info=!1,this.message="",this.show_time={},this.offset=0,this.height=56,this.icons={list_function_schemas:"help",call_function:"settings",task_complete:"check_circle"},this.hint=this._chat.chat_hint,this.messages=this._chat.messages,this.progress=this._chat.progress,this.waiting=this._chat.messages.pipe((0,E.T)(N=>0!==N.length&&N[N.length-1]?.user_id===this.user?.id))}ngOnInit(){this.subscription("current_user",e.U5.subscribe(Y=>this.user=Y)),this.subscription("hint",this.hint.subscribe(()=>this.scrollToBottom(500))),this.subscription("messages",this.messages.subscribe(()=>this.scrollToBottom())),this.subscription("progress",this.progress.subscribe(Y=>Y?this.scrollToBottom():this.show_info=!1)),this.interval("offset",()=>this.offset=this.offset?0:1,2e4)}resizeInput(){this.height=Math.max(this._input_el.nativeElement.scrollHeight,56)}sendMessage(){if(this.message){if(!this._chat.connected)return this._chat.startChat(),this.timeout("send",()=>this.sendMessage(),100);this._chat.sendMessage(this.message),this.message="",this.height=56,setTimeout(()=>this._input_el.nativeElement.focus(),100)}}scrollToBottom(Y=300){this.timeout("scroll",()=>{this._container_el?.nativeElement&&(this._container_el.nativeElement.scrollTop=this._container_el.nativeElement.scrollHeight)},Y)}static#e=this.\u0275fac=function(F){return new(F||ie)(y.rXU(e.h$),y.rXU(x))};static#t=this.\u0275cmp=y.VBU({type:ie,selectors:[["global-chat"]],viewQuery:function(F,N){if(1&F&&(y.GBs(w,5),y.GBs(m,5)),2&F){let J;y.mGM(J=y.lsd())&&(N._input_el=J.first),y.mGM(J=y.lsd())&&(N._container_el=J.first)}},features:[y.Vt3],decls:1,vars:1,consts:[["container",""],["input",""],["class","absolute bottom-0 right-0 p-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","p-2"],["icon","","matRipple","",1,"bg-base-100","rounded-full","border","border-base-300","shadow",3,"click"],["class","absolute bottom-2 right-2 bg-base-200 rounded-xl border border-base-300 shadow overflow-hidden w-[40rem] max-w-[calc(100vw-1rem)]",4,"ngIf"],[1,"absolute","bottom-2","right-2","bg-base-200","rounded-xl","border","border-base-300","shadow","overflow-hidden","w-[40rem]","max-w-[calc(100vw-1rem)]"],[1,"flex","items-center","justify-between","bg-base-100","w-full","p-2","border-b","border-base-300"],[1,"pl-4"],["icon","","matRipple","",3,"click"],[1,"h-[32rem]","max-h-[60vh]","overflow-auto"],[1,"w-full","flex","flex-col","items-center","justify-center","p-8","space-y-2"],[1,"text-8xl"],[1,"text-center","text-xl"],["class","m-2 bg-base-100 border-base-300 p-4 rounded shadow text-sm",4,"ngIf"],["class","flex flex-col m-2",3,"pr-4","pl-4","items-left","items-end","waiting-margin","click",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],["class","absolute right-2 flex items-center justify-center space-x-2 p-1 rounded-2xl bg-base-100 border border-neutral",3,"bottom",4,"ngIf"],[1,"flex","bg-base-100","focus-within:outline","outline-info","border-t","border-base-300","max-h-[10rem]","overflow-y-auto"],["placeholder","New message...",1,"p-4","flex-1","w-1/2","focus:outline-none","resize-none","overflow-hidden",3,"ngModelChange","keyup.enter","ngModel"],["icon","","matRipple","",1,"mt-2",3,"click","disabled"],[1,"m-2","bg-base-100","border-base-300","p-4","rounded","shadow","text-sm"],[1,"flex","flex-col","m-2",3,"click"],[1,"flex","items-center","space-x-2"],["class","text-sm text-base-content opacity-60 px-2 py-1",4,"ngIf"],[1,"text-xs","text-base-content","opacity-40","px-2","py-1"],["message","",1,"bg-base-100","border-base-300","p-4","rounded","shadow","text-sm","markdown","selectable",3,"innerHTML"],[1,"text-sm","text-base-content","opacity-60","px-2","py-1"],[1,"p-4"],[1,"block","p-2","rounded","border-base-300","bg-info","text-info-content","w-full",3,"click"],[1,"text-2xl"],[1,"text-sm"],[1,"relative","overflow-hidden","w-full","rounded"],[1,"absolute","inset-0","bg-base-100","opacity-10"],["class","text-xs text-mono text-left p-2 break-words",3,"innerHTML",4,"ngIf"],[1,"text-xs","text-mono","text-left","p-2","break-words",3,"innerHTML"],[1,"absolute","right-2","flex","items-center","justify-center","space-x-2","p-1","rounded-2xl","bg-base-100","border","border-neutral"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-1"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-2"],[1,"sr-only"]],template:function(F,N){1&F&&y.DNE(0,$,5,1,"div",2),2&F&&y.Y8G("ngIf",N.can_show)},dependencies:[M.Sq,M.bT,B.me,B.BC,B.vS,K.r6,P.R,M.Jj,j.a,S.l],styles:[".anim-delay-1[_ngcontent-%COMP%]{animation-delay:.25s}.anim-delay-2[_ngcontent-%COMP%]{animation-delay:.5s}.waiting-margin[_ngcontent-%COMP%]:last-child{padding-bottom:2rem}"]})}return ie})()},8765:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>$i});var e=s(177),n=s(9417),d=s(4006),h=s(9115),g=s(3719),b=s(2798),E=s(850),_=s(5084),u=s(9631),I=s(6471),k=s(9183),y=s(3801),x=s(6600),M=s(6695),B=s(5887),K=s(6939),P=s(4823),j=s(2765),S=s(5951),w=s(3881),m=s(450),v=s(5571),A=s(1626),L=s(1780),O=(s(3938),s(3953)),W=s(9434);s(4418);var Y=s(1193),N=(s(841),s(4918));s(1865),s(5384),s(6781);var le=s(4616),Xe=(s(2734),s(2238)),Ct=(s(5080),s(4921),s(2042));s(1168),s(785);var $t=s(620),q=s(5277),fe=(s(7022),s(8283),s(8482)),Ke=s(494);s(2354),s(5991),s(2185),s(6062);var Et=s(4633),Mn=(s(5550),s(6962),s(6926),s(6539),s(3835),s(3208));s(6871),s(2124),s(5354),s(7987),s(7080),s(7025),s(5843),s(907),s(375);var et=s(9489),Re=s(877),Vt=(s(7558),s(6821),s(8328),s(2897),s(3051));new((s(3005),s(467),s(1038)).kMc);const yi=[E.jL,h.Cn,g.RG,b.Ve,x.pZ,E.jL,b.Ve,d.hM,_.X6,u.fS,y.FQ,k.D6,I.YN,M.Ou,B.N0,K.jc,Ct.NQ,Ke.E9,P.uc,j.g7,S.Wk,w.Ez,m.mV,v.Vg];let $i=(()=>{class mn{static#e=this.\u0275fac=function(St){return new(St||mn)};static#t=this.\u0275mod=O.$C({type:mn});static#n=this.\u0275inj=O.G2t({providers:[{provide:N.N,useValue:{}},(0,A.$R)((0,A.Sx)())],imports:[e.MD,n.YN,n.X1,L.h.forChild(),yi,E.jL,h.Cn,g.RG,b.Ve,x.pZ,E.jL,b.Ve,d.hM,_.X6,u.fS,y.FQ,k.D6,I.YN,M.Ou,B.N0,K.jc,Ct.NQ,Ke.E9,P.uc,j.g7,S.Wk,w.Ez,m.mV,v.Vg,L.h]})}return mn})();O.wjB(Y.a,function(){return[e.bT,Mn.U]},[]),O.wjB(N.S,function(){return[e.bT,x.r6,P.oV,W.R,et.F,Re.B]},function(){return[e.Jj]}),O.wjB($t.V,function(){return[e.bT,x.r6,d.tx,k.LG,W.R,N.S]},[]),O.wjB(q.H,function(){return[e.Sq,e.bT,x.r6,W.R,Mn.U]},[]),O.wjB(fe.O,function(){return[e.Sq,e.bT,e.ux,e.e1,e.fG,n.me,n.BC,n.vS,x.r6,Ke.yg,Ke.E$,Ke.d6,W.R,Xe.I]},function(){return[e.Jj,e.vh,le.a]}),O.wjB(Et.N,function(){return[e.bT,x.r6,P.oV,W.R,Y.a,Xe.I,Vt.q]},function(){return[e.Jj,e.vh,L.D9]})},841:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>y,f:()=>k});var e=s(3953),n=s(4006),d=s(5354),h=s(177),g=s(6600),b=s(9183),E=s(9434);function _(x,M){if(1&x&&(e.j41(0,"main",5),e.nrm(1,"app-icon",6)(2,"p",7),e.k0s()),2&x){const B=e.XpG();e.R7$(),e.Y8G("icon",B.icon),e.R7$(),e.Y8G("innerHTML",B.content,e.npT)}}function u(x,M){if(1&x){const B=e.RV6();e.j41(0,"footer",8)(1,"button",9),e.EFF(2),e.k0s(),e.j41(3,"button",10),e.bIt("click",function(){e.eBV(B);const P=e.XpG();return e.Njj(P.onConfirm())}),e.EFF(4),e.k0s()()}if(2&x){const B=e.XpG();e.R7$(2),e.SpI(" ",B.cancel_text," "),e.R7$(2),e.SpI(" ",B.confirm_text," ")}}function I(x,M){if(1&x&&(e.j41(0,"main",11)(1,"div",12),e.nrm(2,"mat-spinner",13),e.j41(3,"p"),e.EFF(4),e.k0s()()()),2&x){const B=e.XpG();e.R7$(4),e.JRh(B.loading)}}const k={height:"auto",width:"28em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};let y=(()=>{class x extends d.T{constructor(B,K){super(),this._dialog_ref=B,this._data=K,this.event=new e.bkB,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}ngOnInit(){this._data.close_delay&&this.timeout("close",()=>this._dialog_ref.close(),this._data.close_delay)}onConfirm(){this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(K){return new(K||x)(e.rXU(n.CP),e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["confirm-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:7,vars:4,consts:[["load_state",""],[1,"px-4","py-3"],[1,"font-medium","text-xl"],["class","flex flex-col items-center space-y-4 p-4 max-w-[80vw]",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-4 space-x-4",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-4","p-4","max-w-[80vw]"],[1,"text-5xl",3,"icon"],["content","",1,"text-center",3,"innerHTML"],[1,"flex","items-center","justify-center","p-4","space-x-4"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","flex-1"],["btn","","matRipple","","name","accept",1,"flex-1",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-4"],["diameter","32"]],template:function(K,P){if(1&K&&(e.j41(0,"header",1)(1,"h3",2),e.EFF(2),e.k0s()(),e.DNE(3,_,3,2,"main",3)(4,u,5,2,"footer",4)(5,I,5,1,"ng-template",null,0,e.C5r)),2&K){const j=e.sdS(6);e.R7$(2),e.JRh(P.title),e.R7$(),e.Y8G("ngIf",!P.loading)("ngIfElse",j),e.R7$(),e.Y8G("ngIf",!P.loading)}},dependencies:[h.bT,g.r6,n.tx,b.LG,E.R]})}return x})()},2734:(Ot,ve,s)=>{"use strict";s.d(ve,{r:()=>$t});var e=s(3953),n=s(6695),d=s(2042),h=s(5887),g=s(5024),b=s(9928),E=s(5286),_=s(4670),u=s(4421),I=s(9714),k=s(4085),y=s(5006);class Ae extends g.qS{get data(){return this._data.value}set data(Ie){Ie=Array.isArray(Ie)?Ie:[],this._data.next(Ie),this._renderChangesSubscription||this._filterData(Ie)}get filter(){return this._filter.value}set filter(Ie){this._filter.next(Ie),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Ie){this._sort=Ie,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Ie){this._paginator=Ie,this._updateChangeSubscription()}constructor(Ie=[]){super(),this._renderData=new b.t([]),this._filter=new b.t(""),this._internalPageChanges=new E.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(se,fe)=>{const Ke=se[fe];if((0,k.o1)(Ke)){const It=Number(Ke);return It<9007199254740991?It:Ke}return Ke},this.sortData=(se,fe)=>{const Ke=fe.active,It=fe.direction;return Ke&&""!=It?se.sort((Kt,vn)=>{let Pt=this.sortingDataAccessor(Kt,Ke),an=this.sortingDataAccessor(vn,Ke);const Et=typeof Pt,bt=typeof an;Et!==bt&&("number"===Et&&(Pt+=""),"number"===bt&&(an+=""));let Yt=0;return null!=Pt&&null!=an?Pt>an?Yt=1:Pt<an&&(Yt=-1):null!=Pt?Yt=1:null!=an&&(Yt=-1),Yt*("asc"==It?1:-1)}):se},this.filterPredicate=(se,fe)=>{const Ke=Object.keys(se).reduce((Kt,vn)=>Kt+se[vn]+"\u25ec","").toLowerCase(),It=fe.trim().toLowerCase();return-1!=Ke.indexOf(It)},this._data=new b.t(Ie),this._updateChangeSubscription()}_updateChangeSubscription(){const Ie=this._sort?(0,_.h)(this._sort.sortChange,this._sort.initialized):(0,u.of)(null),se=this._paginator?(0,_.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,u.of)(null),Ke=(0,I.zV)([this._data,this._filter]).pipe((0,y.T)(([vn])=>this._filterData(vn))),It=(0,I.zV)([Ke,Ie]).pipe((0,y.T)(([vn])=>this._orderData(vn))),Kt=(0,I.zV)([It,se]).pipe((0,y.T)(([vn])=>this._pageData(vn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Kt.subscribe(vn=>this._renderData.next(vn))}_filterData(Ie){return this.filteredData=null==this.filter||""===this.filter?Ie:Ie.filter(se=>this.filterPredicate(se,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Ie){return this.sort?this.sortData(Ie.slice(),this.sort):Ie}_pageData(Ie){if(!this.paginator)return Ie;const se=this.paginator.pageIndex*this.paginator.pageSize;return Ie.slice(se,se+this.paginator.pageSize)}_updatePaginator(Ie){Promise.resolve().then(()=>{const se=this.paginator;if(se&&(se.length=Ie,se.pageIndex>0)){const fe=Math.ceil(se.length/se.pageSize)-1||0,Ke=Math.min(se.pageIndex,fe);Ke!==se.pageIndex&&(se.pageIndex=Ke,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var Ye=s(1168),qe=s(5817),Ne=s(177);const Me=(q,Ie,se,fe,Ke,It,Kt)=>({first:q,last:Ie,index:se,data:fe,row:Ke,key:It,name:Kt});function pe(q,Ie){if(1&q&&(e.j41(0,"div",12),e.EFF(1),e.k0s()),2&q){const se=e.XpG(),fe=se.$implicit,Ke=se.index,It=e.XpG();e.xc7("width",(It.column_size[Ke]||"8")+"em")("flex","flex"===It.column_size[Ke]?"1":""),e.R7$(),e.SpI(" ",It.display_column[Ke]||fe," ")}}function he(q,Ie){1&q&&(e.j41(0,"span",16),e.EFF(1," N/A "),e.k0s())}function le(q,Ie){if(1&q&&(e.qex(0),e.EFF(1),e.DNE(2,he,2,0,"span",15),e.bVm()),2&q){const se=e.XpG(2).$implicit,fe=e.XpG().$implicit;e.R7$(),e.JRh(se[fe]),e.R7$(),e.Y8G("ngIf",null==se[fe]||""===se[fe])}}function Ee(q,Ie){1&q&&e.eu8(0)}function Xe(q,Ie){if(1&q&&e.DNE(0,Ee,1,0,"ng-container",17),2&q){const se=e.XpG(2),fe=se.$implicit,Ke=se.index,It=e.XpG(),Kt=It.$implicit,vn=It.index,Pt=e.XpG();e.Y8G("ngTemplateOutlet",Pt.template[Kt])("ngTemplateOutletContext",e.sGs(2,Me,0===Ke,Ke===Pt.data_source.data.length-1||Ke===Pt.data_source.length-1,vn,fe[Kt],fe,Kt,Pt.display_column[vn]||Kt))}}function xt(q,Ie){if(1&q&&(e.qex(0),e.DNE(1,le,3,2,"ng-container",14)(2,Xe,1,10,"ng-template",null,1,e.C5r),e.bVm()),2&q){const se=e.sdS(3),fe=e.XpG(2).$implicit,Ke=e.XpG();e.R7$(),e.Y8G("ngIf",!Ke.template[fe])("ngIfElse",se)}}function dt(q,Ie){if(1&q&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&q){const se=e.XpG().index;e.R7$(),e.JRh(se+1)}}function Ct(q,Ie){if(1&q&&(e.j41(0,"div",13),e.DNE(1,xt,4,2,"ng-container",14)(2,dt,2,1,"ng-template",null,0,e.C5r),e.k0s()),2&q){const se=e.sdS(3),fe=e.XpG(),Ke=fe.$implicit,It=fe.index,Kt=e.XpG();e.xc7("width",(Kt.column_size[It]||"8")+"em")("flex","flex"===Kt.column_size[It]?"1":""),e.R7$(),e.Y8G("ngIf","_index"!==Ke)("ngIfElse",se)}}function Qt(q,Ie){if(1&q&&(e.qex(0)(1,9),e.DNE(2,pe,2,5,"div",10)(3,Ct,4,6,"div",11),e.bVm()()),2&q){const se=Ie.$implicit;e.R7$(),e.Y8G("cdkColumnDef",se)}}function _n(q,Ie){1&q&&e.nrm(0,"cdk-header-row",19)}function In(q,Ie){if(1&q){const se=e.RV6();e.j41(0,"cdk-row",20),e.bIt("click",function(){const Ke=e.eBV(se).$implicit,It=e.XpG();return e.Njj(It.row_clicked.emit(Ke))}),e.k0s()}}function rn(q,Ie){if(1&q&&(e.j41(0,"p",21),e.EFF(1),e.k0s()),2&q){const se=e.XpG();e.R7$(),e.SpI(" ",se.empty||"No data to display"," ")}}let $t=(()=>{class q extends Ye.Tv{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new e.bkB,this.data_source=new Ae([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(se,fe)=>{for(const Ke in se){if("string"==typeof se[Ke]&&se[Ke].toLowerCase().includes(fe.toLowerCase()))return!0;if(se[Ke]===fe)return!0}return!1}}ngOnChanges(se){se.dataSource&&this.dataSource&&(this.dataSource instanceof qe.c?this.subscription("data",this.dataSource.subscribe(fe=>this.data_source.data=fe)):this.data_source.data=this.dataSource),se.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),se.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),se.columns&&this.columns&&(this.display_column=this.columns.map((fe,Ke)=>(this.display_column||[])[Ke]||fe.split("_").join(" "))),this.column_size||(this.column_size=[]),se.reset_page&&this.reset_page!==se.reset_page.previousValue&&this._paginator?.firstPage()}static#e=this.\u0275fac=(()=>{let se;return function(Ke){return(se||(se=e.xGo(q)))(Ke||q)}})();static#t=this.\u0275cmp=e.VBU({type:q,selectors:[["custom-table"]],viewQuery:function(fe,Ke){if(1&fe&&(e.GBs(n.iy,5),e.GBs(d.B4,5)),2&fe){let It;e.mGM(It=e.lsd())&&(Ke._paginator=It.first),e.mGM(It=e.lsd())&&(Ke._sort=It.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template",reset_page:"reset_page"},outputs:{row_clicked:"row_clicked"},features:[e.Vt3,e.OA$],decls:7,vars:8,consts:[["index_outlet",""],["cell_outlet",""],["matSort","",1,"block","border","border-base-200","divide-y","divide-base-200","text-sm",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-base-100 top-0 z-10",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-neutral:bg-base-100/5 divide-x divide-base-200",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2 h-12 bg-base-300 flex items-center","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2","h-12","bg-base-300","flex","items-center"],["cdk-cell","",1,"p-2","truncate","flex","items-center"],[4,"ngIf","ngIfElse"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","text-center"],[1,"sticky","flex","items-center","bg-base-100","top-0","z-10"],["row","",1,"flex","z-0","relative","hover:bg-neutral:bg-base-100/5","divide-x","divide-base-200",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(fe,Ke){1&fe&&(e.j41(0,"cdk-table",2),e.DNE(1,Qt,4,1,"ng-container",3)(2,_n,1,0,"cdk-header-row",4)(3,In,1,0,"cdk-row",5)(4,rn,2,1,"ng-template",6),e.k0s(),e.j41(5,"div",7),e.nrm(6,"mat-paginator",8),e.k0s()),2&fe&&(e.Y8G("dataSource",Ke.data_source),e.R7$(),e.Y8G("ngForOf",Ke.columns),e.R7$(),e.Y8G("cdkHeaderRowDef",Ke.columns),e.R7$(),e.Y8G("cdkRowDefColumns",Ke.columns),e.R7$(2),e.Y8G("hidden",!Ke.pagination),e.R7$(),e.Y8G("pageSize",Ke.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[Ne.Sq,Ne.bT,Ne.T3,n.iy,h.Rk,h.oh,h.cO,h.n5,h.AL,h.hc,h.wA,h.hi,h.u4,d.B4,d.aE],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})}return q})()},2238:(Ot,ve,s)=>{"use strict";s.d(ve,{D:()=>B,I:()=>K});var e=s(6939),n=s(3953),d=s(1168),h=s(7987),g=s(177),b=s(4616);const E=["customTooltip",""],_=["*"];function u(P,j){1&P&&n.eu8(0)}function I(P,j){if(1&P&&(n.qex(0),n.DNE(1,u,1,0,"ng-container",4),n.bVm()),2&P){const S=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",S.content)("ngComponentOutletInjector",S.injector)}}function k(P,j){if(1&P&&(n.qex(0),n.nrm(1,"div",5),n.nI1(2,"sanitize"),n.bVm()),2&P){const S=n.XpG(2);n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,S.content),n.npT)}}function y(P,j){1&P&&n.eu8(0)}function x(P,j){if(1&P&&(n.qex(0),n.DNE(1,y,1,0,"ng-container",6),n.bVm()),2&P){const S=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",S.content)("ngTemplateOutletContext",S.data)}}function M(P,j){if(1&P&&(n.j41(0,"div",1),n.DNE(1,I,2,2,"ng-container",2)(2,k,3,3,"ng-container",2)(3,x,2,2,"ng-container",3),n.k0s()),2&P){const S=n.XpG();n.Y8G("ngSwitch",S.type),n.R7$(),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}let B=(()=>{class P{constructor(S){this.data=S.data,this.close=S.close||(()=>null)}static#e=this.\u0275fac=function(w){n.QTQ()};static#t=this.\u0275prov=n.jDH({token:P,factory:P.\u0275fac})}return P})(),K=(()=>{class P extends d.Tv{constructor(S,w,m){super(),this._element=S,this._overlay=w,this._injector=m,this.backdrop=!0,this.hover=!1,this.delay=0,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(S){this._updateInjector(),this._overlay_ref&&(S.x_pos||S.y_pos||S.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.content&&this.timeout("open",()=>{this.hover&&this.delay&&this.timeout("onclose",()=>this.close(),this.delay),this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop&&!this.hover,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof n.C4Q?"template":"component"}_updateInjector(){this.injector=n.zZn.create({providers:[{provide:B,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}static#e=this.\u0275fac=function(w){return new(w||P)(n.rXU(n.aKT),n.rXU(h.hJ),n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:P,selectors:[["","customTooltip",""]],viewQuery:function(w,m){if(1&w&&n.GBs(e.bV,5),2&w){let v;n.mGM(v=n.lsd())&&(m._portal=v.first)}},hostBindings:function(w,m){1&w&&n.bIt("click",function(){return m.onClick()})("touchend",function(){return m.onTouch()})("mouseenter",function(){return m.onEnter()})("mouseleave",function(){return m.onLeave()})},inputs:{x_pos:[0,"xPosition","x_pos"],y_pos:[0,"yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover",delay:"delay"},features:[n.Vt3,n.OA$],attrs:E,ngContentSelectors:_,decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative","print:hidden",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(w,m){1&w&&(n.NAR(),n.SdG(0),n.DNE(1,M,4,3,"ng-template",0))},dependencies:[g.OI,g.T3,g.ux,g.e1,g.fG,e.Qq,b.a],encapsulation:2})}return P})()},7025:(Ot,ve,s)=>{"use strict";s.d(ve,{l:()=>h});var e=s(2037),n=s(4903),d=s(3953);let h=(()=>{class g{transform(E){const _=Date.now();let u=(0,e.o)(_,E);const I=u<0;if(u=Math.abs(u),u<1)return I?"Soon":"Now";if(1===u)return I?"In 1 min":"1 min";if(u<60)return I?`In ${u} min`:`${u} min`;if(u<1440){const k=Math.floor(u/60);return I?`In ${k} hour${1===k?"":"s"}`:(0,n.GP)(E,"H:mm")}return u<10080?(Math.floor(u/1440),(0,n.GP)(E,I?"dd MMM yyyy":"E H:mm")):u<525600?(Math.floor(u/1440),(0,n.GP)(E,I?"dd MMM yyyy":"LLL d H:mm")):"Just now"}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275pipe=d.EJ8({name:"dateFrom",type:g,pure:!0})}return g})()},8482:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>G});var e=s(467),n=s(9928),d=s(9714),h=s(5006),g=s(4046),b=s(7643),E=s(5354),_=s(686),u=s(2354),I=s(2185),k=s(1168),y=s(3953);function x(O,W){if(1&O&&(y.qex(0),y.j41(1,"a",25),y.nI1(2,"sanitize"),y.EFF(3),y.k0s(),y.bVm()),2&O){const U=y.XpG().$implicit;y.R7$(),y.Y8G("href",y.bMT(2,2,U),y.B4B),y.R7$(2),y.JRh(U)}}function M(O,W){if(1&O&&(y.qex(0),y.EFF(1," ["),y.j41(2,"span",26),y.EFF(3,"Object"),y.k0s(),y.EFF(4,"] "),y.bVm()),2&O){const U=y.XpG().$implicit,$=y.XpG(4);y.R7$(2),y.Y8G("content",$.json_tooltip)("data",U)("hover",!0)("backdrop",!1)}}function B(O,W){if(1&O&&(y.qex(0),y.EFF(1),y.bVm()),2&O){const U=y.XpG().$implicit;y.R7$(),y.JRh(U)}}function K(O,W){if(1&O&&(y.j41(0,"div",21),y.qex(1,22),y.DNE(2,x,4,4,"ng-container",23)(3,M,5,4,"ng-container",23)(4,B,2,1,"ng-container",24),y.bVm(),y.k0s()),2&O){const U=W.$implicit,$=y.XpG(4);y.BMQ("data-type",$.type(U)),y.R7$(),y.Y8G("ngSwitch",$.type(U)),y.R7$(),y.Y8G("ngSwitchCase","link"),y.R7$(),y.Y8G("ngSwitchCase","object")}}function P(O,W){if(1&O&&(y.j41(0,"div",18)(1,"div",19),y.EFF(2),y.nI1(3,"date"),y.k0s(),y.j41(4,"div"),y.EFF(5),y.k0s(),y.j41(6,"div"),y.EFF(7),y.k0s(),y.DNE(8,K,5,4,"div",20),y.k0s()),2&O){const U=W.$implicit,$=y.XpG(3);y.R7$(2),y.SpI(" ",y.i5U(3,8,U.timestamp,"MMM d HH:mm:ss")," "),y.R7$(2),y.HbH("uppercase text-xs p-1 "+$.colors[U.type]+" rounded font-mono"),y.R7$(),y.SpI(" ",U.type," "),y.R7$(),y.HbH("capitalize text-xs p-1 "+$.colors[U.subtype]+" rounded font-mono w-16 text-center"),y.R7$(),y.SpI(" ",U.subtype," "),y.R7$(),y.Y8G("ngForOf",U.data)}}function j(O,W){if(1&O&&(y.j41(0,"cdk-virtual-scroll-viewport",15),y.DNE(1,P,9,11,"div",16),y.nI1(2,"async"),y.nrm(3,"div",17),y.k0s()),2&O){const U=y.XpG(2);y.R7$(),y.Y8G("cdkVirtualForOf",y.bMT(2,2,U.filtered_logs))("cdkVirtualForTrackBy",U.trackByFn)}}function S(O,W){if(1&O&&(y.j41(0,"span",27),y.EFF(1),y.nI1(2,"async"),y.k0s()),2&O){let U;const $=y.XpG(2);y.R7$(),y.SpI(" ",(null==(U=y.bMT(2,1,$.filtered_logs))?null:U.length)||"0"," of ")}}function w(O,W){if(1&O){const U=y.RV6();y.j41(0,"div",4)(1,"div",5)(2,"div",6),y.EFF(3,"Console"),y.k0s(),y.j41(4,"button",7),y.bIt("click",function(){y.eBV(U);const te=y.XpG();return y.Njj(te.show=!1)}),y.j41(5,"app-icon"),y.EFF(6,"close"),y.k0s()()(),y.DNE(7,j,4,4,"cdk-virtual-scroll-viewport",8),y.nI1(8,"async"),y.j41(9,"div",9),y.nrm(10,"div",10)(11,"div",11),y.j41(12,"input",12,1),y.nI1(14,"async"),y.bIt("ngModelChange",function(te){y.eBV(U);const ie=y.XpG();return y.Njj(ie.filter.next(te))}),y.k0s(),y.j41(15,"div",13),y.DNE(16,S,3,3,"span",14),y.nI1(17,"async"),y.EFF(18),y.nI1(19,"async"),y.k0s()()()}if(2&O){let U,$,te;const ie=y.XpG(),me=y.sdS(3);y.R7$(7),y.Y8G("ngIf",null==(U=y.bMT(8,5,ie.filtered_logs))?null:U.length)("ngIfElse",me),y.R7$(5),y.Y8G("ngModel",y.bMT(14,7,ie.filter)),y.R7$(4),y.Y8G("ngIf",null==($=y.bMT(17,9,ie.filter))?null:$.length),y.R7$(2),y.SpI(" ",null==(te=y.bMT(19,11,ie.logs))?null:te.length," ")}}function m(O,W){if(1&O){const U=y.RV6();y.j41(0,"button",28),y.bIt("mousedown",function(){y.eBV(U);const te=y.XpG();return y.Njj(te.onStart())})("touchstart",function(){y.eBV(U);const te=y.XpG();return y.Njj(te.onStart())})("mouseup",function(){y.eBV(U);const te=y.XpG();return y.Njj(te.onEnd())})("touchend",function(){y.eBV(U);const te=y.XpG();return y.Njj(te.onEnd())}),y.k0s()}}function v(O,W){if(1&O&&(y.j41(0,"div",29)(1,"div",30),y.EFF(2),y.k0s()()),2&O){const U=y.XpG();y.R7$(2),y.SpI(" No ",U.filter.getValue()?"matching":""," logs ")}}const A={console:"bg-success-light text-black",network:"bg-success text-success-content",dom:"bg-warning-light text-black",log:"bg-info-light text-black",info:"bg-info text-info-content",warn:"bg-warning text-warning-content",debug:"bg-base-300 text-base-content",error:"bg-error text-error-content"},L=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];let G=(()=>{class O extends E.T{get can_activate(){return!!this._settings.get("app.debug_console")}constructor(U,$,te,ie){super(),this._org=U,this._logs=$,this._hotkey=te,this._settings=ie,this.show=!1,this.colors=A,this.json_tooltip=u.o,this.filter=new n.t(""),this.logs=new n.t([]),this.filtered_logs=(0,d.zV)([this.filter,this.logs]).pipe((0,h.T)(([me,Y])=>Y.filter(F=>F.type.toLowerCase().includes(me.toLowerCase())||F.subtype.toLowerCase().includes(me.toLowerCase())||`${F.data}`.toLowerCase().includes(me.toLowerCase())))),this.onStart=()=>this.timeout("show",()=>this.show=!0,5e3),this.onEnd=()=>this.clearTimeout("show")}ngOnInit(){var U=this;return(0,e.A)(function*(){yield U._org.initialised.pipe((0,g.$)($=>$)).toPromise(),U.subscription("binding",U._org.active_building.subscribe(()=>{U._logs.setSystem(U._org.binding("remote_logger"))})),U.subscription("logs",U._logs.history.subscribe($=>{let te=U.logs.getValue();te.length>(U._settings.get("app.log_limits")||2e4)&&te.splice(0,1),U.logs.next([...te,$])})),U.subscription("toggle",U._hotkey.listen(["Control","Backquote"],()=>U.show=!U.show)),U._logs.setSystem(U._org.binding("remote_logger"))})()}type(U){return"string"==typeof U&&L.find($=>U.startsWith($))?"link":U instanceof Object?"object":"string"}trackByFn(U,$){return $?.timestamp}static#e=this.\u0275fac=function($){return new($||O)(y.rXU(I.yb),y.rXU(_.V),y.rXU(b.d),y.rXU(k.h$))};static#t=this.\u0275cmp=y.VBU({type:O,selectors:[["debug-console"]],inputs:{show:"show"},features:[y.Vt3],decls:4,vars:2,consts:[["empty_state",""],["search_input",""],["class","absolute bottom-2 left-2 max-w-[80vw] w-[40rem] border border-base-300 bg-base-200 text-base-content shadow rounded overflow-hidden h-[24rem] max-h-[65vh] flex flex-col z-[998]",4,"ngIf"],["activation","","class","absolute bottom-0 right-0 h-12 w-12",3,"mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"absolute","bottom-2","left-2","max-w-[80vw]","w-[40rem]","border","border-base-300","bg-base-200","text-base-content","shadow","rounded","overflow-hidden","h-[24rem]","max-h-[65vh]","flex","flex-col","z-[998]"],[1,"flex","items-center","justify-between","bg-base-100","border-b","border-base-300"],[1,"p-2"],["icon","","matRipple","",3,"click"],["itemSize","32","class","flex-1 h-[30rem] max-h-full w-full",4,"ngIf","ngIfElse"],[1,"absolute","bottom-1","right-1","rounded-lg","p-1","flex","items-center","w-[20rem]","overflow-hidden"],[1,"absolute","inset-0","bg-base-content","opacity-60","z-0"],[1,"absolute","inset-1","bg-base-content","opacity-90","rounded","z-0"],["name","log-filter","placeholder","Filter logs...",1,"relative","border-none","flex-1","text-sm","px-2","py-1","font-mono","rounded","text-base-100",3,"ngModelChange","ngModel"],[1,"relative","font-mono","text-xs","px-2","text-center","text-base-100"],["class","font-mono",4,"ngIf"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-base-100 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"h-8","w-full"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-base-100","space-x-1"],[1,"uppercase","text-xs","p-1","bg-base-100/10","rounded","font-mono"],["class","font-mono pl-1",4,"ngFor","ngForOf"],[1,"font-mono","pl-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-info",3,"content","data","hover","backdrop"],[1,"font-mono"],["activation","",1,"absolute","bottom-0","right-0","h-12","w-12",3,"mousedown","touchstart","mouseup","touchend"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[30rem]","w-full"],[1,"text-2xl","opacity-30"]],template:function($,te){1&$&&y.DNE(0,w,20,13,"div",2)(1,m,1,0,"button",3)(2,v,3,1,"ng-template",null,0,y.C5r),2&$&&(y.Y8G("ngIf",te.show),y.R7$(),y.Y8G("ngIf",te.can_activate))}})}return O})()},3051:(Ot,ve,s)=>{"use strict";s.d(ve,{q:()=>u});var e=s(3953),n=s(1168),d=s(177),h=s(9417),g=s(6600),b=s(3881);function E(I,k){1&I&&(e.j41(0,"div",16),e.EFF(1," Before you can set a desk height, presets must be set "),e.k0s())}function _(I,k){if(1&I){const y=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(y);const M=e.XpG();return e.Njj(M.onClose())}),e.EFF(1," Save Presets "),e.k0s()}}let u=(()=>{class I{constructor(y){this._settings=y,this.show_close=!1,this.close=new e.bkB,this.not_set=!1,this.desk_sitting_height=71,this.desk_standing_height=101}ngOnInit(){this.not_set=!this._settings.get("desk_sitting_height")&&!this._settings.get("desk_standing_height"),this.desk_sitting_height=this._settings.get("desk_sitting_height")||71,this.desk_standing_height=this._settings.get("desk_standing_height")||101}onClose(){this.saveSetting("desk_sitting_height",this.desk_sitting_height),this.saveSetting("desk_standing_height",this.desk_standing_height),this.close.emit()}formatLabel(y){return`${y.toFixed(1)}cm`}saveSetting(y,x){this._settings.saveUserSetting(y,x)}static#e=this.\u0275fac=function(x){return new(x||I)(e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["desk-height-presets"]],inputs:{show_close:"show_close"},outputs:{close:"close"},decls:24,vars:8,consts:()=>{let y,x,M;return y=$localize`:␟4a9ae1d6024ac45fcd744f2b33fcc1078684204c␟1586279176802880074:Desk Height Presets`,x=$localize`:␟76aa055a2b4d990ee2773112c433cbca362d5cf3␟2517995078699734025: Desk height presets allow you to store and recall your preferred desk height when checking into a booked desk that supports height adjustment. `,M=$localize`:␟7cdb9f15155eef16ce00f29f1d835dc2360f266f␟3844660402650950250: Set your desk height for the best experience. `,[y,x,M,[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg","mb-2"],[1,"text-xs","opacity-60","mb-4"],["class","text-xs mb-4 -mx-2 p-2 rounded bg-warning text-warning-content",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"flex","items-center","space-x-2"],["min","60","max","80","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],[1,"flex","items-center","space-x-2","mr-2"],["min","90","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],[1,"text-sm","w-12","text-right","mr-2"],["btn","","matRipple","","class","w-full mt-2",3,"click",4,"ngIf"],[1,"text-xs","mb-4","-mx-2","p-2","rounded","bg-warning","text-warning-content"],["btn","","matRipple","",1,"w-full","mt-2",3,"click"]]},template:function(x,M){1&x&&(e.j41(0,"div",3)(1,"div",4),e.pXf(2,0),e.k0s(),e.j41(3,"div",5),e.pXf(4,1),e.k0s(),e.DNE(5,E,2,0,"div",6),e.j41(6,"div",5),e.pXf(7,2),e.k0s(),e.j41(8,"div",7)(9,"label"),e.EFF(10,"Sitting Height"),e.k0s(),e.j41(11,"div",8)(12,"mat-slider",9)(13,"input",10),e.mxI("ngModelChange",function(K){return e.DH7(M.desk_sitting_height,K)||(M.desk_sitting_height=K),K}),e.bIt("ngModelChange",function(K){return M.saveSetting("desk_sitting_height",K)}),e.k0s()(),e.j41(14,"div",11),e.EFF(15),e.k0s()(),e.j41(16,"label"),e.EFF(17,"Standing Height"),e.k0s(),e.j41(18,"div",12)(19,"mat-slider",13)(20,"input",10),e.mxI("ngModelChange",function(K){return e.DH7(M.desk_standing_height,K)||(M.desk_standing_height=K),K}),e.bIt("ngModelChange",function(K){return M.saveSetting("desk_standing_height",K)}),e.k0s()(),e.j41(21,"div",14),e.EFF(22),e.k0s()()(),e.DNE(23,_,2,0,"button",15),e.k0s()),2&x&&(e.R7$(5),e.Y8G("ngIf",M.not_set&&M.show_close),e.R7$(7),e.Y8G("displayWith",M.formatLabel),e.R7$(),e.R50("ngModel",M.desk_sitting_height),e.R7$(2),e.SpI(" ",M.desk_sitting_height.toFixed(1),"cm "),e.R7$(4),e.Y8G("displayWith",M.formatLabel),e.R7$(),e.R50("ngModel",M.desk_standing_height),e.R7$(2),e.SpI(" ",M.desk_standing_height.toFixed(1),"cm "),e.R7$(),e.Y8G("ngIf",M.show_close))},dependencies:[d.bT,h.me,h.BC,h.vS,g.r6,b.IV,b.OU]})}return I})()},7022:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>d});var e=s(2659),n=s(3953);let d=(()=>{class h{transform(b,E=!1){let _=(0,e.a)({hours:Math.floor(b/60),minutes:b%60});return E&&(_=_.replace("hour","h").replace("minute","m").replace(/s/gi,"")),_}static#e=this.\u0275fac=function(E){return new(E||h)};static#t=this.\u0275pipe=n.EJ8({name:"duration",type:h,pure:!0})}return h})()},785:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>b});var e=s(1168),n=s(3953),d=s(177),h=s(9434);function g(E,_){if(1&E){const u=n.RV6();n.j41(0,"div",1)(1,"div",2),n.EFF(2),n.k0s(),n.j41(3,"button",3),n.bIt("click",function(){n.eBV(u);const k=n.XpG();return n.Njj(k.close())}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&E){const u=n.XpG();n.AVh("bg-info","info"===u.banner.type||!u.banner.type)("text-info-content","info"===u.banner.type||!u.banner.type)("bg-warning","warn"===u.banner.type)("text-warning-content","warn"===u.banner.type)("bg-error","error"===u.banner.type)("text-error-content","error"===u.banner.type),n.R7$(2),n.JRh(null==u.banner?null:u.banner.content)}}let b=(()=>{class E{get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}constructor(u){this._settings=u}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}static#e=this.\u0275fac=function(I){return new(I||E)(n.rXU(e.h$))};static#t=this.\u0275cmp=n.VBU({type:E,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full p-4 space-x-4",3,"bg-info","text-info-content","bg-warning","text-warning-content","bg-error","text-error-content",4,"ngIf"],[1,"flex","items-center","w-full","p-4","space-x-4"],[1,"flex-1"],["icon","",3,"click"]],template:function(I,k){1&I&&n.DNE(0,g,6,13,"div",0),2&I&&n.Y8G("ngIf",!k.has_viewed)},dependencies:[d.bT,h.R],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return E})()},4921:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>k});var e=s(467),n=s(4046),d=s(1038),h=s(1168),g=s(8026),b=s(3953),E=s(177),_=s(9183);function u(y,x){1&y&&(b.j41(0,"div",2),b.EFF(1," Unable to reach server... Some features may not work. "),b.k0s())}function I(y,x){1&y&&(b.j41(0,"div",3),b.nrm(1,"mat-spinner",4),b.k0s()),2&y&&(b.R7$(),b.Y8G("diameter",64))}let k=(()=>{class y extends h.Tv{get online(){return(0,d.sc7)()}constructor(M,B){super(),this._org=M,this._settings=B}ngOnInit(){var M=this;return(0,e.A)(function*(){M.loading=!0,yield M._org.initialised.pipe((0,n.$)(B=>B)).toPromise(),yield M._settings.initialised.pipe((0,n.$)(B=>B)).toPromise(),M.interval("has_token",()=>{!(0,d.kup)()||!(0,d.ShT)()||(M.loading=!1,M.clearInterval("has_token"))},1e3)})()}static#e=this.\u0275fac=function(B){return new(B||y)(b.rXU(g.y),b.rXU(h.h$))};static#t=this.\u0275cmp=b.VBU({type:y,selectors:[["global-loading"]],features:[b.Vt3],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-base-100",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-base-100"],[3,"diameter"]],template:function(B,K){1&B&&b.DNE(0,u,2,0,"div",0)(1,I,2,1,"div",1),2&B&&(b.Y8G("ngIf",!K.online),b.R7$(),b.Y8G("ngIf",K.loading))},dependencies:[E.bT,_.LG],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})}return y})()},6926:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>_});var e=s(1168),n=s(4351),d=s(3953),h=s(177),g=s(6600),b=s(9434);function E(u,I){if(1&u&&(d.j41(0,"a",6)(1,"div",7)(2,"div",8),d.nrm(3,"app-icon",9),d.k0s(),d.j41(4,"div",10),d.EFF(5),d.k0s()()()),2&u){const k=I.$implicit;d.Y8G("href",k.link,d.B4B),d.R7$(3),d.Y8G("icon",k.icon),d.R7$(2),d.JRh(k.name)}}let _=(()=>{class u{get tiles(){return this._settings.get("app.help")||[]}constructor(k,y){this._data=k,this._settings=y,this.close=()=>{this._data?.close()}}static#e=this.\u0275fac=function(y){return new(y||u)(d.rXU(n.Dd),d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:u,selectors:[["help-tooltip"]],decls:7,vars:1,consts:()=>{let k;return k=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,[k,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","divide-y","divide-base-200",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b"],[1,"text-2xl"],[1,""],["btn","","matRipple","","class","clear w-full text-left h-auto","target","_blank","ref","noreferer noopener",3,"href",4,"ngFor","ngForOf"],["btn","","matRipple","","target","_blank","ref","noreferer noopener",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","py-2","w-full"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(y,x){1&y&&(d.j41(0,"div",1),d.bIt("click",function(){return x.close()}),d.j41(1,"div",2)(2,"app-icon",3),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",4),d.pXf(5,0),d.k0s()(),d.DNE(6,E,6,3,"a",5),d.k0s()),2&y&&(d.R7$(6),d.Y8G("ngForOf",x.tiles))},dependencies:[h.Sq,g.r6,b.R],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})}return u})()},9434:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>E});var e=s(3953),n=s(177),d=s(6781);const h=["*"];function g(_,u){if(1&_&&(e.j41(0,"i"),e.EFF(1),e.SdG(2),e.k0s()),2&_){const I=e.XpG();e.HbH((null==I.icon?null:I.icon.class)||I.className),e.R7$(),e.SpI(" ",null==I.icon?null:I.icon.content," ")}}function b(_,u){if(1&_&&(e.nrm(0,"img",3),e.nI1(1,"safe")),2&_){const I=e.XpG();e.Y8G("src",e.i5U(1,1,I.icon.src,"resource"),e.B4B)}}let E=(()=>{class _{constructor(){this.className="material-icons"}static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:h,decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(k,y){1&k&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,g,3,3,"i",1)(2,b,2,4,"img",2),e.k0s()),2&k&&(e.R7$(),e.Y8G("ngIf",!y.icon||"img"!==y.icon.type),e.R7$(),e.Y8G("ngIf",y.icon&&"img"===y.icon.type))},dependencies:[n.bT,d.m],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})}return _})()},5277:(Ot,ve,s)=>{"use strict";s.d(ve,{H:()=>u});var e=s(3953);function n(I,k){if(1&I&&e.nrm(0,"img",8),2&I){const y=e.XpG().$implicit;e.Y8G("source",y.url||y)}}function d(I,k){if(1&I&&(e.j41(0,"div",6),e.DNE(1,n,1,1,"img",7),e.k0s()),2&I){const y=k.$implicit,x=e.XpG();e.xc7("transform","translateX(-"+100*x.offset+"%)"),e.R7$(),e.Y8G("ngIf",y)}}function h(I,k){1&I&&(e.j41(0,"div",9)(1,"app-icon",10),e.EFF(2,"image_not_supported"),e.k0s(),e.j41(3,"p"),e.EFF(4,"No images"),e.k0s()())}function g(I,k){if(1&I){const y=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(y);const M=e.XpG();return e.Njj(M.offset=M.offset-1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_left"),e.k0s()()}if(2&I){const y=e.XpG();e.Y8G("disabled",0===y.offset)}}function b(I,k){if(1&I){const y=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(y);const M=e.XpG();return e.Njj(M.offset=M.offset+1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_right"),e.k0s()()}if(2&I){const y=e.XpG();e.Y8G("disabled",y.offset>=(null==y.images?null:y.images.length)-1)}}function E(I,k){if(1&I&&e.nrm(0,"button",16),2&I){const y=k.index,x=e.XpG(2);e.AVh("!bg-base-100",x.offset===y)}}function _(I,k){if(1&I&&(e.j41(0,"div",14),e.DNE(1,E,1,2,"button",15),e.k0s()),2&I){const y=e.XpG();e.R7$(),e.Y8G("ngForOf",y.images)}}let u=(()=>{class I{constructor(){this.images=[],this.offset=0}static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["auth","","class","h-full object-contain",3,"source",4,"ngIf"],["auth","",1,"h-full","object-contain",3,"source"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-base-300 shadow",3,"!bg-base-100",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-base-300","shadow"]],template:function(x,M){1&x&&(e.j41(0,"div",0),e.DNE(1,d,2,3,"div",1)(2,h,5,0,"div",2)(3,g,3,1,"button",3)(4,b,3,1,"button",4)(5,_,2,1,"div",5),e.k0s()),2&x&&(e.R7$(),e.Y8G("ngForOf",M.images),e.R7$(),e.Y8G("ngIf",!(null!=M.images&&M.images.length)),e.R7$(),e.Y8G("ngIf",null==M.images?null:M.images.length),e.R7$(),e.Y8G("ngIf",null==M.images?null:M.images.length),e.R7$(),e.Y8G("ngIf",null==M.images?null:M.images.length))},styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})}return I})()},6821:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>g});var e=s(4006),n=s(3953),d=s(6600),h=s(9434);let g=(()=>{class b{constructor(_){this.url=_}static#e=this.\u0275fac=function(u){return new(u||b)(n.rXU(e.Vh))};static#t=this.\u0275cmp=n.VBU({type:b,selectors:[["image-viewer"]],decls:5,vars:1,consts:[[1,"h-screen","w-screen","bg-base-200"],[1,"object-contain","object-center","w-full","h-full",3,"src"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","right-1","bg-base-100"]],template:function(u,I){1&u&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"button",2)(3,"app-icon"),n.EFF(4,"close"),n.k0s()()()),2&u&&(n.R7$(),n.Y8G("src",I.url,n.B4B))},dependencies:[d.r6,e.tx,h.R]})}return b})()},2124:(Ot,ve,s)=>{"use strict";s.d(ve,{M:()=>W});var e=s(467),n=s(1168),d=s(2455),h=s(2185),g=s(9714),b=s(8728),E=s(5006),_=s(4046),u=s(9420),I=s(3953),k=s(177),y=s(3719),x=s(6600),M=s(9631),B=s(9183),K=s(4823),P=s(9434),j=s(1780);const S=["searchInput"],w=["searchResultItems"];function m(U,$){1&U&&(I.j41(0,"div",11),I.nrm(1,"mat-spinner",12),I.k0s()),2&U&&(I.R7$(),I.Y8G("diameter",48))}function v(U,$){if(1&U&&(I.j41(0,"div",13),I.nrm(1,"img",14),I.j41(2,"p",15),I.EFF(3),I.nI1(4,"translate"),I.k0s()()),2&U){const te=I.XpG();I.R7$(3),I.SpI(" ",I.bMT(4,1,te.geolocation_error_message)," ")}}function A(U,$){if(1&U){const te=I.RV6();I.j41(0,"li",21)(1,"button",22),I.bIt("click",function(){const me=I.eBV(te).$implicit,Y=I.XpG(2);return Y.getRoute(me),I.Njj(Y.search_result_items=[])}),I.j41(2,"div",23)(3,"div"),I.EFF(4),I.k0s(),I.j41(5,"div",24),I.EFF(6),I.k0s()()()()}if(2&U){const te=$.$implicit;I.R7$(4),I.JRh(te.properties.name),I.R7$(2),I.Lme(" ",te.properties.roomId,", Level ",te.properties.floorName," ")}}function L(U,$){if(1&U){const te=I.RV6();I.qex(0),I.j41(1,"div",16)(2,"h3",17),I.EFF(3),I.k0s(),I.j41(4,"button",18),I.bIt("click",function(){I.eBV(te);const me=I.XpG();return I.Njj(me.search_result_items=[])}),I.j41(5,"app-icon"),I.EFF(6,"close"),I.k0s()()(),I.j41(7,"ul",19),I.DNE(8,A,7,3,"li",20),I.nI1(9,"slice"),I.k0s(),I.bVm()}if(2&U){const te=I.XpG();I.R7$(3),I.SpI(" Results (",te.search_result_items.length||"0",") "),I.R7$(5),I.Y8G("ngForOf",I.brH(9,2,te.search_result_items,0,10))}}function O(U){return U*(Math.PI/180)}let W=(()=>{class U extends n.Tv{constructor(te,ie,me){super(),this._api_service=te,this._state=ie,this._org=me,this.default_zoom=19,this.live_data_status="enabled",this.search_result_items=[],this.selected_destination=null,this.actions_hashmap={},this.user_latitude=null,this.user_longitude=null,this.geolocation_error_message="",this.route_error_message="",this.coordinates=null,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=Y=>{this._org.building=Y,this._setLocationToBuilding()},this.levels=(0,g.zV)([this.building,this._state.options]).pipe((0,b.p)(([Y])=>!!Y),(0,E.T)(([Y])=>[{id:this._org.building.id,name:"All Levels"},...this._org.levelsForBuilding(Y)])),this.floor_mapping={}}ngOnInit(){var te=this;return(0,e.A)(function*(){te.loading=!0,yield te._org.initialised.pipe((0,_.$)(me=>!!me)).toPromise(),te.setBuilding(te._org.building),te.custom_coordinates&&(te.coordinates=te.custom_coordinates);const ie=()=>{te._getUserLocation(),document.removeEventListener("click",ie)};document.addEventListener("click",ie),yield te._initMapView()})()}ngOnChanges(te){var ie=this;return(0,e.A)(function*(){if((te.styles||te.actions)&&(yield ie.renderSpaceStatus(),yield ie.mapActions()),te.locate&&ie.locate&&mapsindoors){const me={q:ie.searchElement.nativeElement.value},Y=yield mapsindoors?.services.LocationsService.getLocations(me);Y.length&&ie.getRoute(Y[0])}ie.mapFloorsToIndex(),ie.loading=!1})()}ngAfterViewInit(){this.maps_service?.addListener("click",(te,ie)=>{const me=this.actions_hashmap[te.id];me&&me.callback(ie)})}_initMapView(){if(!this._api_service.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initMapView(),1e3);const te={element:document.getElementById("maps-indoors"),center:{lat:this.user_latitude,lng:this.user_longitude},zoom:this.default_zoom||19,maxZoom:24};this._api_service.map_service===u.u.GoogleMaps?((0,n.Rm)("MapsIndoors","Using Google Maps API"),this.view_instance=new mapsindoors.mapView.GoogleMapsView(te)):(te.accessToken=this._api_service.map_token,(0,n.Rm)("MapsIndoors","Using Mapbox API"),this.view_instance=new mapsindoors.mapView.MapboxView(te)),this.view_instance?(this.maps_service=new mapsindoors.MapsIndoors({mapView:this.view_instance}),this.map_instance=this.view_instance.getMap(),this.initDirections(),this.handleLocationChange(),this.mapFloorsToIndex(),this._setLocationToBuilding()):(0,n.Rm)("MapsIndoors","Failed to initialise map view instance.",void 0,"warn")}initDirections(){const te=this._api_service.map_service===u.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._api_service.map_token);this.directions_service=new mapsindoors.services.DirectionsService(te),this.directions_renderer=new mapsindoors.directions.DirectionsRenderer({mapsIndoors:this.maps_service})}mapFloorsToIndex(){var te=this;return(0,e.A)(function*(){const Y=(yield te.maps_service?.getBuilding())?.buildingInfo?.fields?.floorMapping?.value?.split(",\n").map(N=>N.split(":"));te.floor_mapping=Y?.reduce((N,[J,ae])=>(N[J]=ae,N),{})||{};const F=yield te.maps_service?.getFloor();F&&te.floor_mapping&&te._state.setLevel(te.floor_mapping[F])})()}handleLocationChange(){const te=document.createElement("div");new mapsindoors.FloorSelector(te,this.maps_service),this._api_service.map_service===u.u.GoogleMaps?this.map_instance.controls[google.maps.ControlPosition.RIGHT_TOP].push(te):this.view_instance.getMap().addControl({onAdd:()=>te,onRemove:()=>{}}),this.maps_service?.addListener("building_changed",ie=>{const me=this._org.buildings.find(Y=>{Y.name.toLowerCase(),ie.buildingInfo?.name.toLowerCase(),this.setBuilding(me)})}),this.maps_service?.addListener("floor_changed",ie=>{ie&&this.floor_mapping&&this._state.setLevel(this.floor_mapping[ie])})}onSearch(){const te={q:this.searchElement.nativeElement.value};mapsindoors?.services.LocationsService.getLocations(te).then(ie=>{this.search_result_items=ie})}_getUserLocation(){var te=this;return(0,e.A)(function*(){return"geolocation"in navigator?te.coordinates?(te.user_latitude=te.coordinates.latitude,void(te.user_longitude=te.coordinates.longitude)):(navigator.geolocation.watchPosition(me=>te._updateGeolocation(me),me=>te._handleGeolocationError(me)),void navigator.geolocation.getCurrentPosition(me=>{if(!te._userWithinRadius([me.coords.latitude,me.coords.longitude]))return te._setLocationToBuilding();te._updateGeolocation(me),te.map_instance.setCenter({lat:me.coords.latitude,lng:me.coords.longitude})},()=>te._setLocationToBuilding(),{timeout:1e4,enableHighAccuracy:!0})):((0,n.Rm)("MapsIndoors","User's geolocation not available.",void 0,"warn"),te._setLocationToBuilding())})()}_userWithinRadius([te,ie],me=1){const[Y,F]=this._org.building?.location.split(",")||[];return!(Y&&F&&function G(U,$,te,ie){const Y=O(te-U),F=O(ie-$);U=O(U),te=O(te);const N=Math.sin(Y/2)*Math.sin(Y/2)+Math.sin(F/2)*Math.sin(F/2)*Math.cos(U)*Math.cos(te);return 2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N))*6371}(parseFloat(Y),parseFloat(F),te,ie)>=me)}_setLocationToBuilding(){(0,n.Rm)("MapsIndoors","Settings location to building:",[this._org.building?.display_name||this._org.building?.name,this._org.building?.location]);const[te,ie]=this._org.building?.location.split(",");this.map_instance&&this.map_instance.setCenter({lat:parseFloat(te),lng:parseFloat(ie)})}_updateGeolocation(te){if(!te?.coords)return;(0,n.Rm)("MapsIndoors","Settings location to user:",te.coords,"warn");const{latitude:ie,longitude:me}=te.coords;(ie!==this.user_latitude||me!==this.user_longitude)&&(this.user_latitude=ie,this.user_longitude=me,this.getRoute(this.selected_destination))}_handleGeolocationError(te){(0,n.UG)(`Error retrieving your geolocation. [${te.message}]`)}getRoute(te){var ie=this;return(0,e.A)(function*(){if(ie.maps_service?.highlight([]),!ie.directions_service||!te)return;(0,n.Rm)("MapsIndoors","Getting route to location:",[te,ie.user_latitude,ie.user_longitude]),ie.selected_destination=te;const me={lat:te.properties.anchor.coordinates[1],lng:te.properties.anchor.coordinates[0],floor:te.properties.floor},Y=(ie.floor_mapping||{})[te.properties.floor];if(Y&&ie._state.setLevel(Y),!ie._userWithinRadius([ie.user_latitude,ie.user_longitude],1e3))return ie.map_instance.setZoom(19),ie.map_instance.setCenter(me),ie.maps_service.setFloor(me.floor),void ie.maps_service.highlight([te.id]);if(!ie.user_latitude||!ie.user_longitude)return(0,n.UG)("Unable to find a route.");const N={origin:{lat:ie.user_latitude,lng:ie.user_longitude},destination:me},J=yield ie.directions_service.getRoute(N).catch(ae=>{(0,n.Rm)("MapsIndoors","Error fetching route: ",ae.message||ae,"warn"),ae instanceof TypeError&&ae.message?.includes("origin")&&(0,n.UG)("Error: Origin location is outside of map area.")});J&&ie.directions_renderer?.setRoute(J)})()}renderSpaceStatus(){var te=this;return(0,e.A)(function*(){if(!te.styles)return;const ie=[];for(const me in te.styles){const Y=te.styles[me].fill;if(me){const F=me.substring(1);ie.push(te._setPolygonFill(F,Y))}}return yield Promise.all(ie)})()}mapActions(){var te=this;return(0,e.A)(function*(){return te.actions?.reduce((ie,me)=>(ie[me.id]=me,ie),{})})()}_setPolygonFill(te,ie){return this.maps_service?.setDisplayRule(te,{polygonVisible:!0,polygonFillOpacity:.6,polygonZoomFrom:16,polygonZoomTo:22,visible:!0,polygonFillColor:ie})}static#e=this.\u0275fac=function(ie){return new(ie||U)(I.rXU(n._e),I.rXU(d.O),I.rXU(h.yb))};static#t=this.\u0275cmp=I.VBU({type:U,selectors:[["indoor-maps"]],viewQuery:function(ie,me){if(1&ie&&(I.GBs(S,7),I.GBs(w,5)),2&ie){let Y;I.mGM(Y=I.lsd())&&(me.searchElement=Y.first),I.mGM(Y=I.lsd())&&(me.searchResults=Y.first)}},inputs:{styles:"styles",actions:"actions",custom_coordinates:"custom_coordinates",locate:"locate",default_zoom:"default_zoom"},features:[I.Vt3,I.OA$],decls:12,vars:3,consts:[["searchInput",""],["id","maps-indoors",1,"absolute","inset-0","flex","items-center","justify-center"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute inset-0 flex flex-col space-y-2 items-center justify-center",4,"ngIf"],[1,"absolute","flex","flex-col","h-min","w-min","top-2","left-2","bg-base-100","text-base-content","rounded-lg","z-50","p-2","shadow"],["appearance","outline",1,"map","no-subscript"],["matInput","","name","location-search","type","text","placeholder","Search",3,"keyup.enter"],["matSuffix","",1,"h-10","relative"],["icon","","name","indoor-map-search","matRipple","","aria-label","search button","matTooltip","Search...",1,"hover:bg-base-200",3,"click"],["matPrefix","",1,"text-2xl","relative"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center"],[3,"diameter"],[1,"absolute","inset-0","flex","flex-col","space-y-2","items-center","justify-center"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"opacity-60","text-sm","text-center","mt-10"],[1,"flex","items-center","justify-between","px-2","my-2","space-x-2"],[1,"font-medium","text-lg"],["icon","","matRipple","","matTooltip","Clear Results",1,"hover:bg-base-200",3,"click"],[1,"list-none","m-0","p-0","w-full","space-y-2","max-h-[65vh]","overflow-auto"],["class","w-full even:bg-base-200 hover:bg-base-300 rounded border border-base-200",4,"ngFor","ngForOf"],[1,"w-full","even:bg-base-200","hover:bg-base-300","rounded","border","border-base-200"],[1,"flex","items-center","w-full","p-2","space-x-2","text-left",3,"click"],[1,"flex","flex-col","flex-1"],[1,"opacity-30","text-xs"]],template:function(ie,me){if(1&ie){const Y=I.RV6();I.nrm(0,"div",1),I.DNE(1,m,2,1,"div",2)(2,v,5,3,"div",3),I.j41(3,"div",4)(4,"mat-form-field",5)(5,"input",6,0),I.bIt("keyup.enter",function(){return I.eBV(Y),I.Njj(me.onSearch())}),I.k0s(),I.j41(7,"div",7)(8,"button",8),I.bIt("click",function(){return I.eBV(Y),I.Njj(me.onSearch())}),I.j41(9,"app-icon",9),I.EFF(10," search "),I.k0s()()()(),I.DNE(11,L,10,6,"ng-container",10),I.k0s()}2&ie&&(I.R7$(),I.Y8G("ngIf",me.loading),I.R7$(),I.Y8G("ngIf",me.geolocation_error_message),I.R7$(9),I.Y8G("ngIf",null==me.search_result_items?null:me.search_result_items.length))},dependencies:[k.Sq,k.bT,y.rl,y.JW,y.yw,x.r6,M.fg,B.LG,K.oV,P.R,k.P9,j.D9],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return U})()},4918:(Ot,ve,s)=>{"use strict";s.d(ve,{N:()=>u,S:()=>I});var e=s(3953),n=s(1168),d=s(2185),h=s(2455);const g=["*","*"];function b(k,y){if(1&k){const x=e.RV6();e.qex(0),e.j41(1,"map-renderer",3),e.mxI("zoomChange",function(B){e.eBV(x);const K=e.XpG();return e.DH7(K.zoom,B)||(K.zoom=B),e.Njj(B)}),e.bIt("zoomChange",function(B){e.eBV(x);const K=e.XpG();return e.Njj(K.zoomChange.next(B))})("mapInfo",function(B){e.eBV(x);const K=e.XpG();return e.Njj(K.mapInfo.next(B))}),e.SdG(2),e.k0s(),e.bVm()}if(2&k){const x=e.XpG();e.R7$(),e.Y8G("src",x.src),e.R50("zoom",x.zoom),e.Y8G("reset",x.reset)("styles",x.styles||(null==x.metadata?null:x.metadata.styles))("features",x.features||(null==x.metadata?null:x.metadata.features))("actions",x.actions||(null==x.metadata?null:x.metadata.actions))("labels",x.labels||(null==x.metadata?null:x.metadata.labels))}}function E(k,y){if(1&k){const x=e.RV6();e.j41(0,"maps-indoors",4),e.bIt("zoneChange",function(B){e.eBV(x);const K=e.XpG();return e.Njj(K.onLevelChange(B))}),e.mxI("zoomChange",function(B){e.eBV(x);const K=e.XpG();return e.DH7(K.zoom,B)||(K.zoom=B),e.Njj(B)}),e.bIt("zoomChange",function(B){e.eBV(x);const K=e.XpG();return e.Njj(K.zoomChange.next(B))}),e.SdG(1,1),e.k0s()}if(2&k){const x=e.XpG();e.Y8G("zone",x.location),e.R50("zoom",x.zoom),e.Y8G("options",x.options)("reset",x.reset)("focus",x.focus)("metadata",x.metadata)}}function _(k,y){if(1&k){const x=e.RV6();e.j41(0,"div",5)(1,"button",6),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.zoom=1.1*B.zoom)}),e.j41(2,"app-icon"),e.EFF(3,"add"),e.k0s()(),e.j41(4,"button",7),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.zoom=B.zoom*(10/11))}),e.j41(5,"app-icon"),e.EFF(6,"remove"),e.k0s()(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(x);const B=e.XpG();return e.Njj(B.reset=B.reset+1)}),e.j41(8,"app-icon"),e.EFF(9,"refresh"),e.k0s()()()}}const u=new e.nKC("Data for Map Features");let I=(()=>{class k extends n.Tv{get location(){return this._org.levels.find(x=>x.map_id===this.src)}constructor(x,M,B){super(),this._mapspeople=x,this._org=M,this._explore=B,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.metadata={},this.options={},this.zoomChange=new e.bkB,this.centerChange=new e.bkB,this.mapInfo=new e.bkB,this.use_mapsindoors$=this._mapspeople.available$}ngOnChanges(x){(x.actions||x.labels||x.styles||x.features)&&(this.metadata={actions:this.actions||[],labels:this.labels||[],styles:this.styles||{},features:this.features||[]})}onLevelChange(x){(0,n.Rm)("Map","Level changed to:",x?.display_name||x?.name||x),this._explore.setLevel(x.id)}static#e=this.\u0275fac=function(M){return new(M||k)(e.rXU(n._e),e.rXU(d.yb),e.rXU(h.O))};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["interactive-map"]],inputs:{src:"src",zoom:"zoom",center:"center",reset:"reset",metadata:"metadata",styles:"styles",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[e.Vt3,e.OA$],ngContentSelectors:g,decls:5,vars:5,consts:[["mapsindoors_template",""],[4,"ngIf","ngIfElse"],["zoom","","class","absolute bottom-16 right-1 border border-base-200 divide-y divide-base-200 shadow flex flex-col bg-base-100 text-base-content rounded overflow-hidden",4,"ngIf"],[3,"zoomChange","mapInfo","src","zoom","reset","styles","features","actions","labels"],[3,"zoneChange","zoomChange","zone","zoom","options","reset","focus","metadata"],["zoom","",1,"absolute","bottom-16","right-1","border","border-base-200","divide-y","divide-base-200","shadow","flex","flex-col","bg-base-100","text-base-content","rounded","overflow-hidden"],["icon","","matRipple","","matTooltip","Zoom In","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Zoom Out","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Reset Zoom and Position","matTooltipPosition","left",1,"rounded-none",3,"click"]],template:function(M,B){if(1&M&&(e.NAR(g),e.DNE(0,b,3,7,"ng-container",1),e.nI1(1,"async"),e.DNE(2,E,2,6,"ng-template",null,0,e.C5r)(4,_,10,0,"div",2)),2&M){const K=e.sdS(3);e.Y8G("ngIf",!e.bMT(1,3,B.use_mapsindoors$))("ngIfElse",K),e.R7$(4),e.Y8G("ngIf",null==B.options?null:B.options.controls)}}})}return k})()},2354:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>d});var e=s(2238),n=s(3953);let d=(()=>{class h{constructor(b){this.json=b?.data||"",this._updateFormatting()}ngOnChanges(b){b.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}static#e=this.\u0275fac=function(E){return new(E||h)(n.rXU(e.D,8))};static#t=this.\u0275cmp=n.VBU({type:h,selectors:[["json-display"]],inputs:{json:"json"},features:[n.OA$],decls:3,vars:1,consts:[[1,"bg-base-100","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2","border","border-base-300"],[1,"font-mono","text-sm","bg-base-200","p-2","rounded","break-all","w-full"]],template:function(E,_){1&E&&(n.j41(0,"div",0)(1,"pre",1),n.EFF(2),n.k0s()()),2&E&&(n.R7$(2),n.JRh(_.formatted_json))},styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]})}return h})()},3835:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>_});var e=s(1168),n=s(4351),d=s(3953),h=s(1780),g=s(177),b=s(9434);function E(u,I){if(1&u){const k=d.RV6();d.j41(0,"button",6),d.bIt("click",function(){const x=d.eBV(k).$implicit,M=d.XpG();return d.Njj(M.setLocale(x.id))}),d.EFF(1),d.k0s()}if(2&u){const k=I.$implicit;d.R7$(),d.Lme(" ",k.name," - ",k.flag," ")}}let _=(()=>{class u{get locales(){return this._settings.get("app.locales")||[]}constructor(k,y,x){this._data=k,this._settings=y,this._translation=x,this.setLocale=M=>{this._translation.use(M),localStorage.setItem("PLACEOS.locale",M)},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(y){return new(y||u)(d.rXU(n.Dd),d.rXU(e.h$),d.rXU(h.c$))};static#t=this.\u0275cmp=d.VBU({type:u,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-base-200 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-base-200","text-left",3,"click"]],template:function(y,x){1&y&&(d.j41(0,"div",0),d.bIt("click",function(){return x.close()}),d.j41(1,"div",1)(2,"app-icon",2),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",3),d.EFF(5),d.nI1(6,"translate"),d.k0s()(),d.j41(7,"div",4),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.DNE(10,E,2,2,"button",5),d.k0s()),2&y&&(d.R7$(5),d.JRh(d.bMT(6,3,"COMMON.LANGUAGE")),d.R7$(3),d.SpI(" ",d.bMT(9,5,"COMMON.LANGUAGE_SELECT")," "),d.R7$(2),d.Y8G("ngForOf",x.locales))},dependencies:[g.Sq,b.R,h.D9]})}return u})()},2897:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>b});var e=s(3953);const n="0123456789".split(""),d="0123456789.".split(""),h="abcdefghijklmnopqrstuvwxyz".split(""),g="abcdefghijklmnopqrstuvwxyz0123456789".split("");let b=(()=>{class E{constructor(u){this._el=u,this.restriction="decimals",this.custom_list=[]}onKeyDown(u){const I=u,k=I.key;if(!(-1!==["ArrowLeft","ArrowRight","Tab","Backspace","Home"].indexOf(k)||"a"===I.key&&(I.ctrlKey||I.metaKey)||"c"===I.key&&(I.ctrlKey||I.metaKey)||"v"===I.key&&(I.ctrlKey||I.metaKey)||"x"===I.key&&(I.ctrlKey||I.metaKey)))switch(this.restriction){case"letters":-1===h.indexOf(k)&&I.preventDefault();break;case"alphanumeric":-1===g.indexOf(k)&&I.preventDefault();break;case"custom":-1===this.custom_list.indexOf(k)&&I.preventDefault();break;case"decimals":-1===d.indexOf(k)&&I.preventDefault();break;default:-1===n.indexOf(k)&&I.preventDefault()}}static#e=this.\u0275fac=function(I){return new(I||E)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:E,selectors:[["","limitInput",""]],hostBindings:function(I,k){1&I&&e.bIt("keydown",function(x){return k.onKeyDown(x)})},inputs:{restriction:"restriction",custom_list:"custom_list"}})}return E})()},7558:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>u});var e=s(467),n=s(9714),d=s(4918),h=s(9493),g=s(1168),b=s(3953);const E=["canvas"],_=["map-canvas",""];let u=(()=>{class I extends g.Tv{get ratioed_height(){return+(this.width*this.ratio).toFixed(2)}constructor(y){super(),this._data=y,this.zoom=1,this.ratio=1,this.svg_ratio=1,this.width=1e4}ngOnInit(){this.subscription("state",(0,n.zV)([this._data.ratio$,this._data.zoom$,this._data.svg_ratio$]).subscribe(([y,x,M])=>this._handleMapChange(y,x,M))),this.subscription("polygons",this._data.polygons$.subscribe(y=>this._handleStateChange(y)))}_handleMapChange(y,x,M){var B=this;return(0,e.A)(function*(){const K=B.ratio;B.zoom=x,B.ratio=y,B.svg_ratio=M;const j=B.width*B.ratio/10;if(K===y)return;const S=B.canvas_element.nativeElement;S.width=B.width/10,S.height=j;const w=yield B._data.polygons$.pipe((0,h.s)(1)).toPromise();B._handleStateChange(w)})()}_handleStateChange(y){const x=this.canvas_element.nativeElement;x.getContext("2d").clearRect(0,0,x.width,x.height),y.forEach(B=>this._drawPolygon(B))}_drawPolygon(y){const x=y.points;if(!x?.length)return;const M=this.canvas_element.nativeElement,B=M.getContext("2d"),K=M.width,P=M.height;if(B.fillStyle=y.color+"80",B.beginPath(),B.moveTo(x[0][0]*K,x[0][1]*P),x.forEach(([j,S])=>B.lineTo(j*K,S*P)),B.closePath(),B.fill(),B.strokeStyle=(0,g.ej)(y.color,"#888888",.5),B.lineWidth=3,B.beginPath(),B.moveTo(x[0][0]*K,x[0][1]*P),x.forEach(([j,S])=>B.lineTo(j*K,S*P)),B.closePath(),B.stroke(),!1!==this._data.draw_points&&(B.fillStyle="#fff",B.strokeStyle=y.color,B.lineWidth=4,x.forEach(([j,S])=>{B.beginPath(),B.arc(j*K,S*P,8,0,2*Math.PI),B.fill(),B.stroke()})),!1!==this._data.draw_labels){const j=x.reduce((S,[w,m])=>[S[0]+w,S[1]+m],[0,0]);j[0]/=x.length,j[1]/=x.length,B.textAlign="center",B.textBaseline="middle",B.fillStyle="#FFF",B.font="32px sans-serif",B.fillText(y.name,j[0]*K+1,j[1]*P+2),B.fillStyle="#000",B.fillText(y.name,j[0]*K,j[1]*P)}}static#e=this.\u0275fac=function(x){return new(x||I)(b.rXU(d.N))};static#t=this.\u0275cmp=b.VBU({type:I,selectors:[["","map-canvas",""]],viewQuery:function(x,M){if(1&x&&b.GBs(E,7),2&x){let B;b.mGM(B=b.lsd())&&(M.canvas_element=B.first)}},features:[b.Vt3],attrs:_,decls:2,vars:4,consts:[["canvas",""],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"]],template:function(x,M){1&x&&b.nrm(0,"canvas",1,0),2&x&&b.xc7("width",M.width*M.svg_ratio*M.zoom+"%")("height",M.width*M.svg_ratio*M.ratio*M.zoom+"%")},encapsulation:2})}return I})()},620:(Ot,ve,s)=>{"use strict";s.d(ve,{V:()=>_});var e=s(3953),n=s(4006),d=s(1168),h=s(8026),g=s(1865);const b=()=>({disable_pan:!0,disable_zoom:!0});function E(u,I){if(1&u&&(e.j41(0,"div",7)(1,"interactive-map",8),e.nrm(2,"mat-spinner",9),e.k0s(),e.j41(3,"div",10),e.EFF(4),e.k0s()()),2&u){const k=e.XpG();e.R7$(),e.Y8G("src",null==k.level?null:k.level.map_id)("focus",null==k.item?null:k.item.map_id)("features",k.features)("options",e.lJ4(5,b)),e.R7$(3),e.SpI(" ",(null==k.level?null:k.level.display_name)||(null==k.level?null:k.level.name)," ")}}let _=(()=>{class u extends d.Tv{get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}constructor(k,y){super(),this._data=k,this._org=y,this.event=new e.bkB,this.item=this._data.item,this.style_map={},this.item.level?.id||delete this.item.level}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const k={};this.item?.map_id&&(k["#zones"]={display:"none"},k["#Zones"]={display:"none"}),this.style_map=k}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:g.V,data:{name:this.item.name},z_index:99,zoom:100}]}static#e=this.\u0275fac=function(y){return new(y||u)(e.rXU(n.Vh),e.rXU(h.y))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:10,vars:2,consts:[[1,"h-[calc(100vh-4rem)]","w-screen","sm:h-auto","sm:w-auto"],[1,"p-4"],[1,"text-2xl"],[1,"ml-2","text-xl","font-medium"],["body","","class","relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]",4,"ngIf"],[1,"w-full","border-t","border-base-200","flex","items-center","justify-center","p-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","h-[65vh]","w-full","sm:max-h-[65vh]"],[1,"pointer-events-none",3,"src","focus","features","options"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-base-100","rounded-3xl","shadow","border","border-base-200"]],template:function(y,x){1&y&&(e.j41(0,"div",0)(1,"header",1)(2,"app-icon",2),e.EFF(3,"place"),e.k0s(),e.j41(4,"h1",3),e.EFF(5),e.k0s()(),e.DNE(6,E,5,6,"div",4),e.j41(7,"footer",5)(8,"button",6),e.EFF(9," Close "),e.k0s()()()),2&y&&(e.R7$(5),e.SpI(" ",x.item.display_name||x.item.name," "),e.R7$(),e.Y8G("ngIf",x.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important}"]})}return u})()},1865:(Ot,ve,s)=>{"use strict";s.d(ve,{V:()=>E});var e=s(4918),n=s(3953),d=s(177);const h=["map-pin",""];function g(_,u){if(1&_&&(n.j41(0,"div",2),n.EFF(1),n.k0s()),2&_){const I=n.XpG();n.R7$(),n.SpI(" ",I.message," ")}}function b(_,u){if(1&_){const I=n.RV6();n.qSk(),n.j41(0,"svg",3),n.bIt("click",function(){n.eBV(I);const y=n.XpG();return n.Njj(y.action())}),n.j41(1,"g"),n.nrm(2,"path",4),n.k0s()()}if(2&_){const I=n.XpG();n.AVh("action",I.action),n.R7$(2),n.xc7("fill",I.fill)("stroke",I.stroke)}}let E=(()=>{class _{constructor(I){this._details=I,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}static#e=this.\u0275fac=function(k){return new(k||_)(n.rXU(e.N))};static#t=this.\u0275cmp=n.VBU({type:_,selectors:[["","map-pin",""]],attrs:h,decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(k,y){1&k&&n.DNE(0,g,2,1,"div",0)(1,b,3,6,"svg",1),2&k&&(n.Y8G("ngIf",y.message&&y.show_message),n.R7$(),n.Y8G("ngIf",y.show))},dependencies:[d.bT],styles:["[_nghost-%COMP%]{position:absolute;bottom:50%;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})}return _})()},5384:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>u});var e=s(141),n=s(4918),d=s(3953),h=s(177);const g=["map-radius",""];function b(I,k){if(1&I&&(d.j41(0,"span",6),d.EFF(1),d.k0s()),2&I){const y=d.XpG(3);d.R7$(),d.SpI(" Last updated: ",y.last_seen_at," ")}}function E(I,k){if(1&I&&(d.j41(0,"div",4),d.EFF(1),d.DNE(2,b,2,1,"span",5),d.k0s()),2&I){const y=d.XpG(2);d.xc7("top","-"+y.radius/2*y.zoom+"px"),d.R7$(),d.SpI(" ",y.message," "),d.R7$(),d.Y8G("ngIf",y.last_seen)}}function _(I,k){if(1&I){const y=d.RV6();d.qex(0,1),d.bIt("resize",function(){d.eBV(y);const M=d.XpG();return d.Njj(M.updateRadius())},!1,d.tSv),d.nrm(1,"div",2),d.DNE(2,E,3,4,"div",3),d.bVm()}if(2&I){const y=d.XpG();d.R7$(),d.xc7("border-color",y.stroke)("background-color",y.fill+"40")("width",y.radius*y.zoom+"px")("height",y.radius*y.zoom+"px"),d.R7$(),d.Y8G("ngIf",y.message&&y.show_message)}}let u=(()=>{class I{get last_seen_at(){return(0,e.m)(1e3*this.last_seen)+" ago"}constructor(y,x){this._details=y,this._el=x,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(M=>Math.max(.5,this.zoom=M||1))}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const y=this._el.nativeElement.getBoundingClientRect();if(!y.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(y.width||10))}static#e=this.\u0275fac=function(x){return new(x||I)(d.rXU(n.N),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:I,selectors:[["","map-radius",""]],attrs:g,decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(x,M){1&x&&d.DNE(0,_,3,9,"ng-container",0),2&x&&d.Y8G("ngIf",M.show&&M.radius)},dependencies:[h.bT],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})}return I})()},9489:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>O});var e=s(467),n=s(3953),d=s(1168),h=s(6511),g=s(1038),b=s(9928),E=s(5006),_=s(4918),u=s(177),I=s(9183),k=s(4616);const y=["outlet"],x=["feature"];function M(W,U){1&W&&n.nrm(0,"mat-spinner",7),2&W&&n.Y8G("diameter",48)}function B(W,U){if(1&W&&(n.qex(0),n.DNE(1,M,1,1,"mat-spinner",6),n.bVm()),2&W){const $=n.XpG();n.R7$(),n.Y8G("ngIf",!$.viewer||$.loading)}}function K(W,U){1&W&&n.eu8(0)}function P(W,U){if(1&W&&(n.qex(0),n.DNE(1,K,1,0,"ng-container",14),n.bVm()),2&W){const $=n.XpG(2),te=$.$implicit,ie=$.index,me=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",te.content)("ngComponentOutletInjector",me.injectors[ie])}}function j(W,U){if(1&W&&(n.qex(0),n.nrm(1,"div",15),n.nI1(2,"sanitize"),n.bVm()),2&W){const $=n.XpG(2).$implicit;n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,$.content),n.npT)}}function S(W,U){1&W&&n.eu8(0)}function w(W,U){if(1&W&&(n.qex(0),n.DNE(1,S,1,0,"ng-container",16),n.bVm()),2&W){const $=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngTemplateOutlet",$.content)("ngTemplateOutletContext",$.data)}}function m(W,U){if(1&W&&(n.j41(0,"div")(1,"div",11,2),n.DNE(3,P,2,2,"ng-container",12)(4,j,3,3,"ng-container",12)(5,w,2,2,"ng-container",13),n.k0s()()),2&W){const $=n.XpG().$implicit,te=n.XpG(2);n.R7$(),n.Y8G("ngSwitch",te.type($.content)),n.BMQ("no-scale",$.no_scale)("el-id",$.location)("track-id",$.track_id)("view-id",te.viewer),n.R7$(2),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}function v(W,U){if(1&W&&(n.qex(0),n.DNE(1,m,6,7,"div",10),n.bVm()),2&W){const $=U.$implicit;n.R7$(),n.Y8G("ngIf",$)}}function A(W,U){if(1&W&&(n.j41(0,"div",8),n.DNE(1,v,2,1,"ng-container",9),n.k0s()),2&W){const $=n.XpG();n.R7$(),n.Y8G("ngForOf",$.features)("ngForTrackBy",$.trackByFn)}}function L(W,U){1&W&&(n.j41(0,"div",17)(1,"div",18),n.EFF(2,"No map"),n.k0s()())}let O=(()=>{class W extends d.Tv{onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type($){return"string"==typeof $?"html":$ instanceof n.C4Q?"template":"component"}constructor($){super(),this._injector=$,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.zoomChange=new n.bkB,this.centerChange=new n.bkB,this.mapInfo=new n.bkB,this.injectors=[],this.feature_list=[],this._on_changes=new b.t(null),this._extra_data={ratio$:this._on_changes.pipe((0,E.T)(te=>te.ratio)),svg_ratio$:this._on_changes.pipe((0,E.T)(te=>te.svg_ratio)),zoom$:this._on_changes.pipe((0,E.T)(te=>te.zoom)),position:this._on_changes.pipe((0,E.T)(te=>te.center))}}ngOnInit(){(0,h.Of)()}ngOnDestroy(){this.viewer&&(0,h.b2)(this.viewer)}ngOnChanges($){$.src&&this.src&&this.createView().catch(te=>console.warn(te)),$.features&&this.updateInjectors(),this.viewer&&($.focus&&this.focus?this.focusOn(this.focus):($.zoom&&$.zoom.previousValue!=$.zoom.currentValue||$.center&&!function G(W,U){return W.x===U.x&&W.y===U.y}($.center.previousValue,$.center.currentValue))&&this.updateDisplay(),($.styles||$.features||$.labels||$.actions)&&this.timeout("update_view",()=>this.updateView())),$.reset&&$.reset.currentValue!==$.reset.previousValue&&(this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay())}ngAfterViewInit(){this.createView().catch($=>console.warn($))}updateView(){try{if(!(0,h.tk)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,h.Ay)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,h.Ay)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var $=this;return(0,e.A)(function*(){if(!(0,g.kup)())return $.timeout("create_view",()=>$.createView().catch(ie=>console.warn(ie)),300);const te=$.src?.toLowerCase()||"";if(te.includes("svg")||te.includes("upload"))if($.src&&$._outlet_el?.nativeElement&&!$.loading){if($.loading=!0,$.viewer)try{(0,h.Ay)($.viewer,{styles:$.styles,features:[],labels:$.labels,actions:$.actions,options:$.options}),(0,h.b2)($.viewer)}catch(Y){return void console.warn(Y)}$.updateFeatureList();const ie=(0,g.ShT)();if(document.cookie=`${"x-api-key"===ie?"api-key="+encodeURIComponent((0,g.Kz4)()):"bearer_token="+encodeURIComponent(ie)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`,$.viewer=yield(0,h.Rx)({element:$._outlet_el?.nativeElement,url:$.src,styles:$.styles,zoom:$.zoom,desired_zoom:$.zoom,center:$.center,features:$.feature_list,labels:$.labels,actions:$.actions,options:$.options}).catch(Y=>(console.warn(Y),"")),$.loading=!1,!$.viewer)return;$.loading=!1,$.subscription("view_changes",(0,h.mn)($.viewer)?.subscribe(Y=>{$._outlet_el.nativeElement.getBoundingClientRect(),$._on_changes.next({...Y}),$.zoomChange.emit(Y.zoom),$.centerChange.emit(Y.center)}));const me=(0,h.tk)($.viewer);$.mapInfo.emit(me.mappings),$.focus&&$.focusOn($.focus)}else($.src&&!$._outlet_el?.nativeElement||$.loading)&&$.timeout("create_view",()=>$.createView().catch(ie=>console.warn(ie)))})()}focusOn($){if(!$||!this.viewer)return;const te=(0,h.tk)(this.viewer);if(!te)return;const ie=te.mappings[$];ie&&(this.center={x:1-(ie.x+ie.w/2),y:1-(ie.y+ie.h/4)},this.updateDisplay())}trackByFn($,te){return te?.track_id}updateFeatureList(){this.feature_list=(this.features||[]).map(($,te)=>({...$,content:this._feature_list.toArray()[te]?.nativeElement})).filter($=>$.content)}updateInjectors(){const $=this.injectors||[];this.injectors=(this.features||[]).map(te=>$.find(ie=>ie.get(_.N)?.track_id&&ie.get(_.N)?.track_id===te.track_id)||n.zZn.create({providers:[{provide:_.N,useValue:{track_id:te.track_id,...te.data,...this._extra_data}}],parent:this._injector}))}static#e=this.\u0275fac=function(te){return new(te||W)(n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:W,selectors:[["map-renderer"]],viewQuery:function(te,ie){if(1&te&&(n.GBs(y,5),n.GBs(x,5)),2&te){let me;n.mGM(me=n.lsd())&&(ie._outlet_el=me.first),n.mGM(me=n.lsd())&&(ie._feature_list=me)}},hostBindings:function(te,ie){1&te&&n.bIt("resize",function(){return ie.onResize()},!1,n.tSv)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",reset:"reset",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[n.Vt3,n.OA$],decls:6,vars:5,consts:[["outlet",""],["empty_state",""],["feature",""],["tabindex","0","role","map",1,"absolute","inset-0"],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(te,ie){if(1&te&&(n.nrm(0,"div",3,0),n.DNE(2,B,2,1,"ng-container",4)(3,A,2,2,"div",5)(4,L,3,0,"ng-template",null,1,n.C5r)),2&te){const me=n.sdS(5);n.AVh("hidden",!ie.src),n.R7$(2),n.Y8G("ngIf",ie.src)("ngIfElse",me),n.R7$(),n.Y8G("ngIf",null==ie.injectors?null:ie.injectors.length)}},dependencies:[u.OI,u.Sq,u.bT,u.T3,u.ux,u.e1,u.fG,I.LG,k.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return W})()},877:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>K});var e=s(467),n=s(3953),d=s(2185),h=s(1168),g=s(9420),b=s(9493),E=s(177),_=s(6600),u=s(9183),I=s(9434);const k=["map_container"];function y(P,j){1&P&&n.nrm(0,"mat-spinner",6)}function x(P,j){if(1&P){const S=n.RV6();n.j41(0,"button",3),n.bIt("click",function(){n.eBV(S);const m=n.XpG();return n.Njj(m.toggleDirections())}),n.j41(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div",4),n.EFF(4),n.k0s(),n.DNE(5,y,1,0,"mat-spinner",5),n.k0s()}if(2&P){const S=n.XpG();n.R7$(4),n.SpI(" ",S.viewing_directions?"Hide":"Show"," Directions "),n.R7$(),n.Y8G("ngIf",S.loading_directions)}}const M=18.5,B={};let K=(()=>{class P extends h.Tv{constructor(S,w){super(),this._maps_people=S,this._org=w,this.zoom=M,this.zoomChange=new n.bkB,this.zoneChange=new n.bkB,this.show_directions=!1,this.viewing_directions=!1,this.loading_directions=!1,this.ignore_zoom=!1,this._floor_list=[],this._added_floor_selector=!1;const m=sessionStorage.getItem("PLACEOS.mapsindoors.resources")||"{}",v=JSON.parse(m);for(const A in v)v.hasOwnProperty(A)&&(B[A]=v[A])}ngOnInit(){this.id=(0,h.DU)(8),this._initialised.next(!1),this._initialiseServices()}ngOnChanges(S){if(!this.is_initialised)return this.timeout("on_changes",()=>this.ngOnChanges(S));S.zone&&this.zone&&this._centerOnZone(),S.focus&&this.focus&&this._focusOnLocation(),S.metadata&&this._updateMapStyling(),S.zoom&&this.zoom&&!this.ignore_zoom&&this._services?.map?.setZoom(this.zoom),S.reset&&(this._services?.map?.setZoom(M),this._centerOnZone()),S.options&&this._addFloorSelector()}_setResource(S,w){B[S]=w,this.timeout("set_resource",()=>{sessionStorage.setItem("PLACEOS.mapsindoors.resources",JSON.stringify(B))})}_initialiseServices(){if(!this._maps_people.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initialiseServices(),1e3);const[S,w]=(this._org.building?.location||"-33.8567844,151.2152967").split(","),m={element:this._container.nativeElement,center:{lat:parseFloat(S),lng:parseFloat(w)},zoom:M,maxZoom:24};let v=null;switch(this._maps_people.map_service){case g.u.GoogleMaps:(0,h.Rm)("MapsIndoors","Using Google Maps API"),v=new mapsindoors.mapView.GoogleMapsView(m);break;case g.u.Mapbox:m.accessToken=this._maps_people.map_token,(0,h.Rm)("MapsIndoors","Using Mapbox API"),v=new mapsindoors.mapView.MapboxView(m)}if(!v)return void(0,h.WS)("Failed to initialise map view.");const A=this._maps_people.map_service===g.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._maps_people.map_token),L=new mapsindoors.MapsIndoors({mapView:v});this._services={mapsindoors:L,view:v,map:v.getMap(),directions:new mapsindoors.services.DirectionsService(A),directions_renderer:new mapsindoors.directions.DirectionsRenderer({mapsIndoors:L})},this._initialised.next(!0),this.zone&&(this._services.map.setZoom(M),this._centerOnZone()),this._addFloorSelector(),this._services.mapsindoors.addListener("building_changed",G=>this._handleBuildingChange(G)),this._services.mapsindoors.addListener("floor_changed",G=>this._handleLevelChange(G)),this._services.mapsindoors.addListener("zoom_changed",G=>this._handleZoomChange(G)),this._services.mapsindoors.addListener("click",G=>this._handleUserClick(G)),this.timeout("resize",()=>window.dispatchEvent(new Event("resize")),100),window.maps_indoors=this._services,this.timeout("focus",()=>this._focusOnLocation()),this.timeout("init_zoom",()=>this._handleZoomChange(M))}clearDirections(){this._services.directions_renderer.setRoute(null),this.viewing_directions=!1}toggleDirections(){var S=this;return(0,e.A)(function*(){if(S.viewing_directions)return S.clearDirections(),void S._focusOnLocation();if(!S.focus)return;const w=yield S._search(S.focus);if(!w?.length)return void(0,h.UG)(`Unable to find location "${S.focus}".`);S.loading_directions=!0;const m=w[0],v=S._org.buildings.find(O=>O.id===S.zone.parent_id),[A,L]=m.properties?.anchor?.coordinates||v?.location.split(",")||[37.8136,144.9631];navigator.geolocation.getCurrentPosition(function(){var O=(0,e.A)(function*(W){S._last_position=W,S.setDirectionsFromLocation({lat:W.coords.latitude,lng:W.coords.longitude},{lat:L,lng:A})});return function(W){return O.apply(this,arguments)}}(),()=>{S._last_position?S.setDirectionsFromLocation({lat:S._last_position.coords.latitude,lng:S._last_position.coords.longitude},{lat:L,lng:A}):(0,h.UG)("Failed to get your current location.")},{timeout:1e4,enableHighAccuracy:!0})})()}setDirectionsFromLocation(S,w){var m=this;return(0,e.A)(function*(){const v=(0,h.gd)(w.lat,w.lng,S.lat,S.lng),A={origin:{lat:S.lat,lng:S.lng},destination:{lat:w.lat,lng:w.lng},travelMode:v<2?"WALKING":"DRIVING"},L=yield m._services.directions.getRoute(A).catch(G=>{(0,h.Rm)("MapsIndoors","Error fetching route: ",G.message||G,"warn");const O=G instanceof TypeError&&G.message?.includes("origin");m.loading_directions=!1,O&&(0,h.UG)("Error: Origin location is outside of map area.")});L&&(m._services.directions_renderer.setRoute(L),m.viewing_directions=!0,m.loading_directions=!1)})()}_handleZoomChange(S){this.timeout("zoom_change",()=>{this.ignore_zoom=!0,this.zoom=S,this.zoomChange.emit(S),this.timeout("reset_ignore_zoom",()=>this.ignore_zoom=!1,50)},100)}_handleBuildingChange(S){const w=S.externalId||S.id;(0,h.Rm)("MapsIndoors",`Building switched to "${w}"`);const m=S.floors||{};if(this._floor_list=Object.keys(m).map(A=>({index:A,...m[A]})),(0,h.Rm)("MapsIndoors","Floor List:",this._floor_list),!this._services)return;const v=this._org.buildings.find(A=>A.id===w||A.map_id===w);this.timeout("set_floor",()=>{!this._setFloorFromZone()&&S.defaultFloor&&this._handleLevelChange(S.defaultFloor)}),v&&(this._org.building=v,this._last_building=v.id)}_handleLevelChange(S){var w=this;return(0,e.A)(function*(){(0,h.Rm)("MapsIndoors",`Level switched to "${S}"`);const m=w._floor_list.find(G=>G.index===S),v=m?.externalId||m?.id;if(!w._services)return;const A=yield w._org.active_levels.pipe((0,b.s)(1)).toPromise();if(!A)return;const L=A.find(G=>G.map_id===v||G.id===v);L&&(w.zone=L,w.zoneChange.emit(L))})()}_handleUserClick(S){(0,h.Rm)("MapsIndoors","Click occurred",S);const w=S.properties?.externalId||S.properties?.roomId||S.id,m=this.metadata?.actions||[];(0,h.Rm)("MapsIndoors","Registered Actions",m);const v=["mousedown","touchstart","enter","leave"];for(const A of m)if((A.id===w||"*"===A.id)&&!v.includes(A.action)){A.callback(S);break}}_search(S){var w=this;return(0,e.A)(function*(){if(w._services)return mapsindoors?.services.LocationsService.getLocations({q:S})})()}_updateMapStyling(){var S=this;return(0,e.A)(function*(){if(!S._services)return;const w=S.metadata?.styles||{};for(const m in w){if(!w[m].fill)continue;let v=B[m];if(!v){const L=m.replace(/#/,""),G=yield S._search(L);if(!G.length)continue;v=G.find(O=>O.properties?.externalId===L||O.properties?.roomId===L||O.id===L),v&&S._setResource(m,v)}v&&S._services.mapsindoors.setDisplayRule(v.id,{extrusionHeight:0,extrusionVisible:!1,polygonVisible:!0,polygonFillColor:w[m].fill})}})()}_focusOnLocation(){var S=this;return(0,e.A)(function*(){if(!S.focus)return;const w=yield S._search(S.focus);if(S.clearDirections(),!w?.length)return void(0,h.UG)(`Unable to find location ${S.focus}.`);const m=w.find(G=>G.properties?.externalId===S.focus)||w[0],v=S._org.buildings.find(G=>G.id===S.zone.parent_id),[A,L]=m.properties?.anchor?.coordinates||v?.location.split(",")||[37.8136,144.9631];S._services.map.setZoom(M),S._services.map.setCenter({lat:L,lng:A}),S._services.mapsindoors.setFloor(m.properties?.floor),S._services.mapsindoors.highlight([m.id])})()}_centerOnZone(){!this._services||!this.zone||this.zone.parent_id===this._last_building||this.zone.id===this._last_building||this.timeout("set_center",()=>{const S=this._org.buildings.find(v=>v.id===this.zone.parent_id);if(!S)return;const[w,m]=S?.location.split(",");this.focus||this._services.map.setCenter({lat:parseFloat(w),lng:parseFloat(m)}),this._setFloorFromZone(),this._last_building=this.zone.id})}_setFloorFromZone(){if(!this.zone.map_id||!this._services)return!1;const S=this.zone.map_id,w=this._floor_list.find(m=>m.index===S||m.externalId===S||m.id===S);return!!w&&(this._services.mapsindoors.setFloor(w.index),!0)}_addFloorSelector(){if(!this.options?.controls||this._added_floor_selector)return;const S=document.createElement("div");new mapsindoors.FloorSelector(S,this._services.mapsindoors),this._maps_people.map_service===g.u.GoogleMaps?this._services.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(S):this._services.map.addControl({onAdd:()=>S,onRemove:()=>{}}),this._added_floor_selector=!0}static#e=this.\u0275fac=function(w){return new(w||P)(n.rXU(h._e),n.rXU(d.yb))};static#t=this.\u0275cmp=n.VBU({type:P,selectors:[["maps-indoors"]],viewQuery:function(w,m){if(1&w&&n.GBs(k,7),2&w){let v;n.mGM(v=n.lsd())&&(m._container=v.first)}},inputs:{zone:"zone",metadata:"metadata",options:"options",focus:"focus",zoom:"zoom",reset:"reset"},outputs:{zoomChange:"zoomChange",zoneChange:"zoneChange"},features:[n.Vt3,n.OA$],decls:3,vars:1,consts:[["map_container",""],[1,"absolute","inset-0","z-0"],["btn","","matRipple","","class","absolute bottom-2 left-2 bg-base-100 text-base-content shadow z-10 border-base-200 space-x-2",3,"click",4,"ngIf"],["btn","","matRipple","",1,"absolute","bottom-2","left-2","bg-base-100","text-base-content","shadow","z-10","border-base-200","space-x-2",3,"click"],[1,"pr-2"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(w,m){1&w&&(n.nrm(0,"div",1,0),n.DNE(2,x,6,2,"button",2)),2&w&&(n.R7$(2),n.Y8G("ngIf",m.focus&&!m.show_directions&&(null==m.options?null:m.options.controls)))},dependencies:[E.bT,_.r6,u.LG,I.R]})}return P})()},4418:(Ot,ve,s)=>{"use strict";s.d(ve,{S:()=>E});var e=s(3953),n=s(1168),d=s(177),h=s(6600),g=s(9434);function b(_,u){if(1&_){const I=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){const y=e.eBV(I).$implicit,x=e.XpG();return x.action.emit(y.id),e.Njj(x.show=!1)}),e.nrm(1,"app-icon",3),e.k0s()}if(2&_){const I=u.$implicit,k=u.index,y=e.XpG();e.xc7("top",y.show?-110*k-60+"%":""),e.R7$(),e.Y8G("icon",I)}}let E=(()=>{class _ extends n.Tv{constructor(){super(...arguments),this.actions=[],this.action=new e.bkB}close(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=(()=>{let I;return function(y){return(I||(I=e.xGo(_)))(y||_)}})();static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[e.Vt3],decls:4,vars:4,consts:[["icon","","matRipple","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","icon","","matRipple","",3,"click"],["icon","","matRipple","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(k,y){1&k&&(e.DNE(0,b,2,3,"button",0),e.j41(1,"button",1),e.bIt("click",function(){return y.show=!y.show})("click",function(){return y.show?y.close():""},!1,e.tSv),e.j41(2,"app-icon"),e.EFF(3),e.k0s()()),2&k&&(e.Y8G("ngForOf",y.actions),e.R7$(),e.AVh("show",y.show),e.R7$(2),e.JRh(y.show?"add":"more_vert"))},dependencies:[d.Sq,h.r6,g.R],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})}return _})()},8283:(Ot,ve,s)=>{"use strict";s.d(ve,{K:()=>E});var e=s(467),n=s(4046),d=s(1168),h=s(8026),g=s(3953),b=s(2091);let E=(()=>{class _{constructor(I,k,y){this._settings=I,this._org=k,this._router=y}ngOnInit(){var I=this;return(0,e.A)(function*(){yield I._settings.initialised.pipe((0,n.$)(k=>k)).toPromise(),yield I._org.initialised.pipe((0,n.$)(k=>k)).toPromise(),I._settings.get("app.default_route")&&I._router.navigate(I._settings.get("app.default_route").split("/"))})()}static#e=this.\u0275fac=function(k){return new(k||_)(g.rXU(d.h$),g.rXU(h.y),g.rXU(b.Ix))};static#t=this.\u0275cmp=g.VBU({type:_,selectors:[["page-redirect"]],decls:0,vars:0,template:function(k,y){}})}return _})()},6962:(Ot,ve,s)=>{"use strict";s.d(ve,{q:()=>I});var e=s(467),n=s(4351),d=s(2185),h=s(3953),g=s(177),b=s(9417),E=s(5951),_=s(9434);function u(k,y){if(1&k){const x=h.RV6();h.j41(0,"mat-radio-button",8),h.bIt("click",function(){const B=h.eBV(x).$implicit,K=h.XpG();return h.Njj(K.setRegion(B))}),h.EFF(1),h.k0s()}if(2&k){const x=y.$implicit;h.Y8G("value",x.id),h.R7$(),h.SpI(" ",x.display_name||x.name," ")}}let I=(()=>{class k{constructor(x,M){var B=this;this._data=x,this._org=M,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=function(){var K=(0,e.A)(function*(P){yield B._org.setRegion(P),B._org.saveBuilding(B._org.building.id),B._data?.close()});return function(P){return K.apply(this,arguments)}}(),this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(M){return new(M||k)(h.rXU(n.Dd),h.rXU(d.yb))};static#t=this.\u0275cmp=h.VBU({type:k,selectors:[["region-select"]],decls:14,vars:11,consts:()=>{let x;return x=$localize`:␟234e996785a944c8e8c7df16179eaa04405b3446␟5361505502593902636:Select a region`,[x,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(M,B){if(1&M&&(h.j41(0,"div",1),h.bIt("click",function(){return B.close()}),h.j41(1,"div",2)(2,"app-icon",3),h.EFF(3,"arrow_back"),h.k0s(),h.j41(4,"div",4),h.EFF(5),h.nI1(6,"async"),h.nI1(7,"async"),h.k0s()(),h.j41(8,"div",5),h.pXf(9,0),h.k0s(),h.j41(10,"mat-radio-group",6),h.nI1(11,"async"),h.DNE(12,u,2,2,"mat-radio-button",7),h.nI1(13,"async"),h.k0s()()),2&M){let K,P;h.R7$(5),h.SpI(" ",(null==(K=h.bMT(6,3,B.region))?null:K.display_name)||(null==(K=h.bMT(7,5,B.region))?null:K.name)," "),h.R7$(5),h.Y8G("ngModel",null==(P=h.bMT(11,7,B.region))?null:P.id),h.R7$(2),h.Y8G("ngForOf",h.bMT(13,9,B.regions))}},dependencies:[g.Sq,b.BC,b.vS,E.VT,E._g,_.R,g.Jj]})}return k})()},6781:(Ot,ve,s)=>{"use strict";s.d(ve,{m:()=>d});var e=s(3953),n=s(345);let d=(()=>{class h{constructor(b){this.sanitizer=b}transform(b,E="html"){switch(E){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(b);case"url":return this.sanitizer.bypassSecurityTrustUrl(b);case"script":return this.sanitizer.bypassSecurityTrustScript(b);case"style":return this.sanitizer.bypassSecurityTrustStyle(b);default:return this.sanitizer.bypassSecurityTrustHtml(b)}}static#e=this.\u0275fac=function(E){return new(E||h)(e.rXU(n.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"safe",type:h,pure:!0})}return h})()},4616:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>h});var e=s(3953),n=s(345),d=function(g){return g[g.NONE=0]="NONE",g[g.HTML=1]="HTML",g[g.STYLE=2]="STYLE",g[g.SCRIPT=3]="SCRIPT",g[g.URL=4]="URL",g[g.RESOURCE_URL=5]="RESOURCE_URL",g}(d||{});let h=(()=>{class g{constructor(E){this.sanitizer=E}transform(E,_="html"){switch(_){case"resource":return this.sanitizer.sanitize(d.RESOURCE_URL,E);case"url":return this.sanitizer.sanitize(d.URL,E);case"script":return this.sanitizer.sanitize(d.SCRIPT,E);case"style":return this.sanitizer.sanitize(d.STYLE,E);default:return this.sanitizer.sanitize(d.HTML,E)}}static#e=this.\u0275fac=function(_){return new(_||g)(e.rXU(n.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"sanitize",type:g,pure:!0})}return g})()},8328:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>te});var e=s(467),n=s(3953),d=s(1168),h=s(9928),g=s(9714),b=s(3020),E=s(5006),_=s(8712),u=s(9493),I=s(177),k=s(6600),y=s(2765),x=s(9434);const M=(ie,me,Y,F,N,J,ae)=>({first:ie,last:me,index:Y,data:F,row:N,key:J,name:ae}),B=(ie,me,Y,F)=>({first:ie,last:me,index:Y,row:F});function K(ie,me){if(1&ie){const Y=n.RV6();n.j41(0,"div",6)(1,"mat-checkbox",7),n.nI1(2,"async"),n.nI1(3,"async"),n.bIt("change",function(N){n.eBV(Y);const J=n.XpG();return n.Njj(J.selectAll(N.checked))}),n.k0s()()}if(2&ie){let Y,F;const N=n.XpG();n.xc7("grid-column","1 / 2"),n.R7$(),n.Y8G("checked",N.selected.length===(null==(Y=n.bMT(2,4,N.data_view$))?null:Y.length))("indeterminate",N.selected.length>0&&N.selected.length<(null==(F=n.bMT(3,6,N.data_view$))?null:F.length))}}function P(ie,me){if(1&ie&&(n.j41(0,"app-icon",11),n.EFF(1),n.k0s()),2&ie){const Y=n.XpG().$implicit,F=n.XpG();n.R7$(),n.SpI(" ",(null==F.sort?null:F.sort.key)===Y.key&&null!=F.sort&&F.sort.reverse?"arrow_upward":"arrow_downward"," ")}}function j(ie,me){if(1&ie){const Y=n.RV6();n.j41(0,"button",8),n.bIt("click",function(){const N=n.eBV(Y).$implicit,J=n.XpG();return n.Njj(J.setSort(N.key))}),n.j41(1,"div",9),n.EFF(2),n.k0s(),n.DNE(3,P,2,1,"app-icon",10),n.k0s()}if(2&ie){const Y=me.$implicit,F=me.index,N=n.XpG();n.xc7("grid-column",1+F+(N.selectable?1:0)+" / "+(2+F+(N.selectable?1:0))),n.AVh("pointer-events-none",!N.sortable||!1===Y.sortable)("active",(null==N.sort?null:N.sort.key)===Y.key)("border-r",F!==N.active_columns.length-1)("width",Y.size),n.Y8G("id","column-"+Y.key),n.R7$(2),n.JRh(Y.name||Y.key),n.R7$(),n.Y8G("ngIf",N.sortable&&!1!==Y.sortable)}}function S(ie,me){if(1&ie){const Y=n.RV6();n.j41(0,"div",15),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(Y);const N=n.XpG().index,J=n.XpG();return n.Njj(J.active_row=N)})("touchstart",function(){n.eBV(Y);const N=n.XpG().index,J=n.XpG();return n.Njj(J.active_row=N)}),n.j41(2,"mat-checkbox",16),n.bIt("change",function(N){n.eBV(Y);const J=n.XpG().index,ae=n.XpG();return n.Njj(ae.select(J,N.checked))}),n.k0s()()}if(2&ie){let Y;const F=n.XpG().index,N=n.XpG();n.xc7("grid-column","1 / 2"),n.AVh("border-b",F!==(null==(Y=n.bMT(1,5,N.data_view$))?null:Y.length)-1),n.R7$(2),n.Y8G("checked",N.selected.includes(F))}}function w(ie,me){if(1&ie&&(n.j41(0,"span",23),n.EFF(1),n.k0s()),2&ie){const Y=n.XpG(2).$implicit;n.R7$(),n.SpI(" ",Y.empty||"N/A"," ")}}function m(ie,me){if(1&ie&&(n.j41(0,"div",21),n.EFF(1),n.DNE(2,w,2,1,"span",22),n.k0s()),2&ie){let Y;const F=n.XpG().$implicit,N=n.XpG(),J=N.$implicit,ae=N.index;n.R7$(),n.SpI(" ",null!==(Y=J[F.key])&&void 0!==Y?Y:"_index"===F.key?ae+1:J[F.key]," "),n.R7$(),n.Y8G("ngIf",(null==J[F.key]||""===J[F.key])&&"_index"!==F.key)}}function v(ie,me){1&ie&&n.eu8(0)}function A(ie,me){if(1&ie&&(n.qex(0),n.DNE(1,v,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.bVm()),2&ie){let Y;const F=n.XpG().$implicit,N=n.XpG(),J=N.$implicit,ae=N.index,_e=n.XpG();n.R7$(),n.Y8G("ngTemplateOutlet",F.content)("ngTemplateOutletContext",n.sGs(6,M,0===ae,ae===(null==(Y=n.bMT(2,2,_e.data_view$))?null:Y.length)-1||ae===(null==(Y=n.bMT(3,4,_e.data_view$))?null:Y.length)-1,ae,J[F.key],J,F.key,F.name||F.key))}}function L(ie,me){if(1&ie){const Y=n.RV6();n.j41(0,"div",17),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(Y);const N=n.XpG().index,J=n.XpG();return n.Njj(J.active_row=N)})("touchstart",function(){n.eBV(Y);const N=n.XpG().index,J=n.XpG();return n.Njj(J.active_row=N)}),n.qex(2,18),n.DNE(3,m,3,2,"div",19)(4,A,4,14,"ng-container",20),n.bVm(),n.k0s()}if(2&ie){let Y;const F=me.$implicit,N=me.index,J=n.XpG().index,ae=n.XpG();n.xc7("grid-column",1+N+(ae.selectable?1:0)+" / "+(2+N+(ae.selectable?1:0))),n.AVh("border-b",J!==(null==(Y=n.bMT(1,10,ae.data_view$))?null:Y.length)-1)("border-r",N!==ae.active_columns.length-1)("width",F.size),n.R7$(2),n.Y8G("ngSwitch",ae.columnType(F)),n.R7$(2),n.Y8G("ngSwitchCase","template")}}function G(ie,me){1&ie&&n.eu8(0)}function O(ie,me){if(1&ie&&(n.j41(0,"div",25),n.DNE(1,G,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()),2&ie){let Y;const F=n.XpG(),N=F.$implicit,J=F.index,ae=n.XpG();n.xc7("grid-column","span "+ae.active_columns.length),n.R7$(),n.Y8G("ngTemplateOutlet",ae.child_template)("ngTemplateOutletContext",n.ziG(8,B,0===J,J===(null==(Y=n.bMT(2,4,ae.data_view$))?null:Y.length)-1||J===(null==(Y=n.bMT(3,6,ae.data_view$))?null:Y.length)-1,J,N))}}function W(ie,me){if(1&ie&&(n.qex(0),n.DNE(1,S,3,7,"div",12)(2,L,5,12,"div",13)(3,O,4,13,"div",14),n.bVm()),2&ie){const Y=me.$implicit,F=n.XpG();n.R7$(),n.Y8G("ngIf",F.selectable),n.R7$(),n.Y8G("ngForOf",F.active_columns),n.R7$(),n.Y8G("ngIf",F.show_children[Y.id]&&F.child_template)}}function U(ie,me){if(1&ie&&(n.j41(0,"div",26),n.EFF(1),n.k0s()),2&ie){const Y=n.XpG();n.xc7("grid-column-start","span "+Y.active_columns.length),n.R7$(),n.SpI(" ",Y.empty_message," ")}}function $(ie,me){if(1&ie){const Y=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){n.eBV(Y);const N=n.XpG();return n.Njj(N.setPage(N.page-1))}),n.j41(4,"app-icon"),n.EFF(5,"chevron_left"),n.k0s()(),n.j41(6,"button",29),n.bIt("click",function(){n.eBV(Y);const N=n.XpG();return n.Njj(N.setPage(N.page+1))}),n.j41(7,"app-icon"),n.EFF(8,"chevron_right"),n.k0s()(),n.j41(9,"button",29),n.bIt("click",function(){n.eBV(Y);const N=n.XpG();return n.Njj(N.setPage(0))}),n.j41(10,"app-icon"),n.EFF(11,"first_page"),n.k0s()(),n.j41(12,"button",29),n.bIt("click",function(){n.eBV(Y);const N=n.XpG();return n.Njj(N.setPage(N.total_pages-1))}),n.j41(13,"app-icon"),n.EFF(14,"last_page"),n.k0s()()()}if(2&ie){const Y=n.XpG();n.R7$(2),n.E5c(" ",Y.page*(Y.page_size||9999)+1," \u2013 ",(Y.page+1)*(Y.page_size||9999)>Y.total_count?Y.total_count:(Y.page+1)*(Y.page_size||9999)," of ",Y.total_count," "),n.R7$(),n.Y8G("disabled",0===Y.page),n.R7$(3),n.Y8G("disabled",Y.page===Y.total_pages-1),n.R7$(3),n.Y8G("disabled",0===Y.page),n.R7$(3),n.Y8G("disabled",Y.page===Y.total_pages-1)}}let te=(()=>{class ie extends d.Tv{constructor(){super(...arguments),this.columns=[],this.selectable=!1,this.filter="",this.sortable=!1,this.selected=[],this.page_size=0,this.empty_message="No data to list",this.child_template=null,this.show_children={},this.selectedChange=new n.bkB,this.rowClicked=new n.bkB,this.page=0,this.total_count=0,this.total_pages=0,this.active_row=-1,this.active_columns=[],this._data$=new h.t([]),this._filter$=new h.t(""),this._sort$=new h.t(null),this.data_view$=null}get sort(){return this._sort$.getValue()}get data$(){return this.data instanceof Array?this._data$:this.data}get column_count(){return this.active_columns.length+(this.selectable?1:0)}get column_template(){const Y=this.active_columns.map(F=>F.size||"auto").join(" ");return this.selectable?`3.5rem ${Y}`:Y}ngOnChanges(Y){Y.filter&&this._filter$.next(this.filter),Y.columns&&(this.active_columns=this.columns.filter(F=>!1!==F.show)),Y.data&&(this.data_view$=(0,g.zV)([this.data$,this._filter$,this._sort$]).pipe((0,b.B)(300),(0,E.T)(([F,N,J])=>(F=[...F],N&&(F=F.filter(ae=>Object.values(ae).some(_e=>JSON.stringify(_e)?.toLowerCase().includes((N||"").toLowerCase())))),J&&F.length&&(F=F.sort("number"==typeof F[0][J.key]?(_e,xe)=>{const Fe=_e[J.key]-xe[J.key];return J.reverse?-Fe:Fe}:(_e,xe)=>{const Fe=JSON.stringify(_e[J.key]||""),Ae=JSON.stringify(xe[J.key]||""),Ye=Fe.localeCompare(Ae);return J.reverse?-Ye:Ye})),this.selected=[],this.page=0,this.page_size&&(this.total_count=F.length,this.total_pages=Math.ceil(this.total_count/this.page_size)),F)),(0,_.t)(1)))}columnType(Y){return Y.content instanceof n.C4Q?"template":"raw"}gridSquare(Y,F){return`${Y} / ${F} / ${Y+1} / ${F+1}`}select(Y,F){F?this.selected.push(Y):this.selected=this.selected.filter(N=>N!==Y)}selectAll(Y){var F=this;return(0,e.A)(function*(){const N=yield F.data_view$.pipe((0,u.s)(1)).toPromise();F.selected=Y?N.map((J,ae)=>ae):[]})()}setSort(Y){const F=this._sort$.getValue();this._sort$.next(F&&F.key===Y?F.reverse?null:{key:Y,reverse:!0}:{key:Y,reverse:!1})}setPage(Y){this.timeout("set_page",()=>this.page=Y,100)}static#e=this.\u0275fac=(()=>{let Y;return function(N){return(Y||(Y=n.xGo(ie)))(N||ie)}})();static#t=this.\u0275cmp=n.VBU({type:ie,selectors:[["simple-table"]],inputs:{data:"data",columns:"columns",selectable:"selectable",filter:"filter",sortable:"sortable",selected:"selected",page_size:"page_size",empty_message:"empty_message",child_template:"child_template",show_children:"show_children"},outputs:{selectedChange:"selectedChange",rowClicked:"rowClicked"},features:[n.Vt3,n.OA$],decls:9,vars:15,consts:[["role","table",1,"grid","border","border-base-300",3,"click","touchend","mouseleave"],["id","column-selector","class","sticky top-0 flex items-center justify-between px-2 border-r border-b border-base-200 bg-base-300 min-h-full z-20",3,"gridColumn",4,"ngIf"],["header","","matRipple","","class","sticky top-0 flex items-center justify-between p-4 border-b border-base-200 bg-base-300 min-h-full z-20",3,"id","gridColumn","pointer-events-none","active","border-r","width","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center p-8 opacity-30",3,"gridColumnStart",4,"ngIf"],["class","sticky bottom-0 w-full flex items-center justify-end space-x-2 p-2 bg-base-200",4,"ngIf"],["id","column-selector",1,"sticky","top-0","flex","items-center","justify-between","px-2","border-r","border-b","border-base-200","bg-base-300","min-h-full","z-20"],[3,"change","checked","indeterminate"],["header","","matRipple","",1,"sticky","top-0","flex","items-center","justify-between","p-4","border-b","border-base-200","bg-base-300","min-h-full","z-20",3,"click","id"],[1,"font-medium"],["class","text-[1.25em]",4,"ngIf"],[1,"text-[1.25em]"],["id","column-selector","class","flex items-center justify-between px-2 border-r border-base-200 min-h-full z-10",3,"gridColumn","border-b","mouseenter","touchstart",4,"ngIf"],["class","flex items-center justify-between border-base-200 min-h-full z-10",3,"gridColumn","border-b","border-r","width","mouseenter","touchstart",4,"ngFor","ngForOf"],["child-node","","class","border-b last:border-t last:border-b-0 border-base-200",3,"gridColumn",4,"ngIf"],["id","column-selector",1,"flex","items-center","justify-between","px-2","border-r","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"change","checked"],[1,"flex","items-center","justify-between","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"ngSwitch"],["class","p-4",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"p-4"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["child-node","",1,"border-b","last:border-t","last:border-b-0","border-base-200"],[1,"flex","items-center","justify-center","p-8","opacity-30"],[1,"sticky","bottom-0","w-full","flex","items-center","justify-end","space-x-2","p-2","bg-base-200"],[1,"px-4","py-2"],["icon","","matRipple","",3,"click","disabled"]],template:function(F,N){if(1&F&&(n.j41(0,"div",0),n.bIt("click",function(){return N.active_row>=0?N.rowClicked.emit(N.active_row):null})("touchend",function(){return N.active_row=-1})("mouseleave",function(){return N.active_row=-1}),n.DNE(1,K,4,8,"div",1)(2,j,4,13,"button",2)(3,W,4,3,"ng-container",3),n.nI1(4,"async"),n.nI1(5,"slice"),n.DNE(6,U,2,3,"div",4),n.nI1(7,"async"),n.k0s(),n.DNE(8,$,15,7,"div",5)),2&F){let J;n.xc7("grid-template-columns",N.column_template),n.R7$(),n.Y8G("ngIf",N.selectable),n.R7$(),n.Y8G("ngForOf",N.active_columns),n.R7$(),n.Y8G("ngForOf",n.brH(5,9,n.bMT(4,7,N.data_view$),N.page*(N.page_size||9999),(N.page+1)*(N.page_size||9999))),n.R7$(3),n.Y8G("ngIf",!(null!=(J=n.bMT(7,13,N.data_view$))&&J.length)),n.R7$(2),n.Y8G("ngIf",N.page_size)}},dependencies:[I.Sq,I.bT,I.T3,I.ux,I.e1,I.fG,k.r6,y.So,x.R,I.Jj,I.P9],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > button[_ngcontent-%COMP%]{min-width:100%}[header][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0}[header][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:.3}[header][_ngcontent-%COMP%]:hover.pointer-events-none   app-icon[_ngcontent-%COMP%]{opacity:0}[header].active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:1}"]})}return ie})()},907:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>I});var e=s(3953),n=s(177),d=s(9434);const h=["*"];function g(k,y){1&k&&(e.qex(0),e.EFF(1," check_circle "),e.bVm())}function b(k,y){1&k&&(e.qex(0),e.EFF(1,"cancel"),e.bVm())}function E(k,y){1&k&&(e.qex(0),e.EFF(1,"block"),e.bVm())}function _(k,y){1&k&&(e.qex(0),e.EFF(1,"info"),e.bVm())}function u(k,y){1&k&&(e.qex(0),e.EFF(1,"warning"),e.bVm())}let I=(()=>{class k{static#e=this.\u0275fac=function(M){return new(M||k)};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["status-pill"]],inputs:{status:"status"},ngContentSelectors:h,decls:10,vars:31,consts:[[1,"flex","items-center","bg-opacity-30","rounded-full","px-2","py-1","text-base","space-x-2","font-medium","text-black"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"text-2xl",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(M,B){1&M&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"app-icon",2),e.DNE(3,g,2,0,"ng-container",3)(4,b,2,0,"ng-container",3)(5,E,2,0,"ng-container",3)(6,_,2,0,"ng-container",3)(7,u,2,0,"ng-container",4),e.k0s()(),e.j41(8,"div"),e.SdG(9),e.k0s()()),2&M&&(e.AVh("bg-success-light","success"===B.status)("bg-warning-light","warning"===B.status)("bg-error-light","error"===B.status)("bg-info-light","info"===B.status)("bg-base-200","neutral"===B.status),e.R7$(),e.AVh("text-success","success"===B.status)("text-warning","warning"===B.status)("text-error","error"===B.status)("text-info","info"===B.status)("text-base-content","neutral"===B.status)("opacity-40","neutral"===B.status),e.R7$(),e.Y8G("ngSwitch",B.status),e.R7$(),e.Y8G("ngSwitchCase","success"),e.R7$(),e.Y8G("ngSwitchCase","error"),e.R7$(),e.Y8G("ngSwitchCase","neutral"),e.R7$(),e.Y8G("ngSwitchCase","info"),e.R7$(2),e.AVh("opacity-40","neutral"===B.status)("text-base-content","neutral"===B.status))},dependencies:[n.ux,n.e1,n.fG,d.R]})}return k})()},6871:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>x});var e=s(4006),n=s(3953),d=s(177),h=s(9417),g=s(6600),b=s(3719),E=s(2798),_=s(9631),u=s(2765),I=s(9434);const k=(M,B,K)=>({file:M,is_public:B,permissions:K});function y(M,B){if(1&M){const K=n.RV6();n.j41(0,"div",2)(1,"label"),n.EFF(2,"Permissions"),n.k0s(),n.j41(3,"mat-form-field",3)(4,"mat-select",6),n.mxI("ngModelChange",function(j){n.eBV(K);const S=n.XpG();return n.DH7(S.permissions,j)||(S.permissions=j),n.Njj(j)}),n.j41(5,"mat-option",11),n.EFF(6,"None"),n.k0s(),n.j41(7,"mat-option",12),n.EFF(8,"Support"),n.k0s(),n.j41(9,"mat-option",13),n.EFF(10,"Admin"),n.k0s()()()()}if(2&M){const K=n.XpG();n.R7$(4),n.R50("ngModel",K.permissions)}}let x=(()=>{class M{constructor(K,P){this._dialog_ref=K,this._data=P,this.file=this._data.file,this.is_public=!0,this.permissions="none",this.file=this._data.file}close(){this._dialog_ref.close()}static#e=this.\u0275fac=function(P){return new(P||M)(n.rXU(e.CP),n.rXU(e.Vh))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["upload-permissions-modal"]],decls:21,vars:8,consts:[["btn","","icon","","mat-dialog-close",""],[1,"p-4","min-w-[20rem]"],[1,"flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","disabled","true","placeholder","File Name",3,"ngModel"],[1,"pb-4"],[3,"ngModelChange","ngModel"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-2","px-4","py-2","border-t","border-base-200"],["btn","","mat-dialog-close","",1,"inverse","w-32"],["btn","",1,"w-32",3,"mat-dialog-close"],["value","none"],["value","support"],["value","admin"]],template:function(P,j){1&P&&(n.j41(0,"header")(1,"h2"),n.EFF(2,"Upload File"),n.k0s(),n.j41(3,"button",0)(4,"app-icon"),n.EFF(5,"close"),n.k0s()()(),n.j41(6,"main",1)(7,"div",2)(8,"label"),n.EFF(9,"File Name"),n.k0s(),n.j41(10,"mat-form-field",3),n.nrm(11,"input",4),n.k0s()(),n.j41(12,"div",5)(13,"mat-checkbox",6),n.mxI("ngModelChange",function(w){return n.DH7(j.is_public,w)||(j.is_public=w),w}),n.EFF(14,"Public"),n.k0s()(),n.DNE(15,y,11,1,"div",7),n.k0s(),n.j41(16,"footer",8)(17,"button",9),n.EFF(18,"Cancel"),n.k0s(),n.j41(19,"button",10),n.EFF(20," Upload "),n.k0s()()),2&P&&(n.R7$(11),n.Y8G("ngModel",j.file.name),n.R7$(2),n.R50("ngModel",j.is_public),n.R7$(2),n.Y8G("ngIf",!j.is_public),n.R7$(4),n.Y8G("mat-dialog-close",n.sMw(4,k,j.file,j.is_public,j.permissions)))},dependencies:[d.bT,h.me,h.BC,h.vS,g.wT,b.rl,E.VO,e.tx,_.fg,u.So,I.R]})}return M})()},1193:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>b}),s(3693);var n=s(3953);function d(E,_){if(1&E&&(n.j41(0,"div",4),n.EFF(1),n.k0s()),2&E){const u=n.XpG(2);n.R7$(),n.SpI(" ",u.initials," ")}}function h(E,_){if(1&E&&(n.j41(0,"div",2),n.DNE(1,d,2,1,"div",3),n.k0s()),2&E){const u=n.XpG(),I=n.sdS(2);n.BMQ("user-id",u.user.id),n.R7$(),n.Y8G("ngIf",!u.user.photo)("ngIfElse",I)}}function g(E,_){if(1&E&&n.nrm(0,"img",5),2&E){const u=n.XpG();n.Y8G("source",u.user.photo)}}let b=(()=>{class E{get initials(){if(!this.user)return"NA";const u=this.user.name||"",I=u.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return I.length>1?`${I[0][0]}${I[I.length-1][0]}`:u.slice(0,2)}static#e=this.\u0275fac=function(I){return new(I||E)};static#t=this.\u0275cmp=n.VBU({type:E,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["image_state",""],["class","flex items-center justify-center rounded-full overflow-hidden",4,"ngIf"],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden"],["initials","","class","text-base-content text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-base-content","text-opacity-80","uppercase"],["auth","",1,"h-full","w-full",3,"source"]],template:function(I,k){1&I&&n.DNE(0,h,2,3,"div",1)(1,g,1,1,"ng-template",null,0,n.C5r),2&I&&n.Y8G("ngIf",k.user)},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--b2);overflow:hidden;border:2px solid var(--b1)}.initials[_ngcontent-%COMP%]{font-size:1em}"]})}return E})()},4633:(Ot,ve,s)=>{"use strict";s.d(ve,{N:()=>G});var e=s(467),n=s(1168),d=s(4351),h=s(2185),g=s(1038),b=s(3022),E=s(6539),_=s(5550),u=s(6926),I=s(3835),k=s(6962),y=s(8791),x=s(3005),M=s(3953),B=s(4006);function K(O,W){if(1&O&&(M.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"layers"),M.k0s()(),M.j41(6,"div",32),M.EFF(7),M.nI1(8,"async"),M.nI1(9,"async"),M.k0s(),M.j41(10,"app-icon",21),M.EFF(11," chevron_right "),M.k0s()()()()),2&O){let U;const $=M.XpG();M.Y8G("content",$.region_select),M.R7$(7),M.SpI(" ",(null==(U=M.bMT(8,2,$.region))?null:U.display_name)||(null==(U=M.bMT(9,4,$.region))?null:U.name)," ")}}function P(O,W){if(1&O&&(M.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"business"),M.k0s()(),M.j41(6,"div",32),M.EFF(7),M.nI1(8,"async"),M.nI1(9,"async"),M.k0s(),M.j41(10,"app-icon",21),M.EFF(11," chevron_right "),M.k0s()()()()),2&O){let U;const $=M.XpG();M.Y8G("content",$.building_select),M.R7$(7),M.SpI(" ",(null==(U=M.bMT(8,2,$.building))?null:U.display_name)||(null==(U=M.bMT(9,4,$.building))?null:U.name)," ")}}function j(O,W){if(1&O&&(M.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"help"),M.k0s()(),M.j41(6,"div",20),M.pXf(7,4),M.k0s(),M.j41(8,"app-icon",21),M.EFF(9,"chevron_right"),M.k0s()()()()),2&O){const U=M.XpG();M.Y8G("content",U.help_tooltip)}}function S(O,W){if(1&O&&(M.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"share_location"),M.k0s()(),M.j41(6,"div",20),M.pXf(7,5),M.k0s(),M.j41(8,"app-icon",21),M.EFF(9,"chevron_right"),M.k0s()()()()),2&O){const U=M.XpG();M.Y8G("content",U.work_location_tooltip)}}function w(O,W){if(1&O&&(M.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"desk"),M.k0s()(),M.j41(6,"div",20),M.pXf(7,6),M.k0s(),M.j41(8,"app-icon",21),M.EFF(9,"chevron_right"),M.k0s()()()()),2&O){const U=M.XpG(),$=M.sdS(24);M.AVh("!border-b",!(null!=U.locales&&U.locales.length)),M.Y8G("content",$)}}function m(O,W){1&O&&M.nrm(0,"desk-height-presets")}function v(O,W){if(1&O&&(M.j41(0,"div",33)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),M.EFF(5,"mode_night"),M.k0s()(),M.j41(6,"div",20),M.pXf(7,7),M.nI1(8,"translate"),M.nI1(9,"translate"),M.k0s(),M.j41(10,"app-icon",21),M.EFF(11,"chevron_right"),M.k0s()()()()),2&O){const U=M.XpG();M.Y8G("content",U.language_tooltip),M.R7$(9),M.uP7(M.bMT(8,3,"COMMON.LANGUAGE_LABEL"))(M.bMT(9,5,"COMMON.LANGUAGE")),M.nnv(7)}}function A(O,W){if(1&O){const U=M.RV6();M.j41(0,"button",34),M.bIt("click",function(){M.eBV(U);const te=M.XpG();return M.Njj(te.newSupportTicket())}),M.j41(1,"div",18)(2,"div",19)(3,"app-icon"),M.EFF(4,"support_agent"),M.k0s()(),M.j41(5,"div",20),M.pXf(6,8),M.k0s()()()}}function L(O,W){if(1&O){const U=M.RV6();M.j41(0,"button",35),M.bIt("click",function(){M.eBV(U);const te=M.XpG();return M.Njj(te.reloadPage())}),M.EFF(1," New Version "),M.k0s()}}let G=(()=>{class O{get user(){return(0,n.Ny)()}get groups(){return this.user.groups.join("\n")}get version(){return n.xv}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}get desk_height(){return this._settings.get("app.desks.height_enabled")}get use_region(){return this._settings.get("app.use_region")}get disable_building_select(){return this._settings.get("app.disable_building_select")}get has_new_version(){return(0,n.tU)()}constructor(U,$,te){this._settings=U,this._org=$,this._dialog=te,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=k.q,this.building_select=_.C,this.help_tooltip=u.o,this.accessibility_tooltip=E.B,this.language_tooltip=I.O,this.work_location_tooltip=x.Z}logout(){(0,g.rig)()}reloadPage(){location.reload()}newSupportTicket(){this._settings.get("app.external_support_url")?window.open(this._settings.get("app.external_support_url"),"_blank"):this._dialog.open(y.c)}openWfhModal(){this._dialog.open(b.$)}viewChangelog(){var U=this;return(0,e.A)(function*(){const $=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();U._dialog.open(d.l4,{data:{changelog:$}})})()}saveSetting(U,$){this._settings.saveUserSetting(U,$)}formatLabel(U){return`${U.toFixed(1)}cm`}static#e=this.\u0275fac=function($){return new($||O)(M.rXU(n.h$),M.rXU(h.yb),M.rXU(B.bZ))};static#t=this.\u0275cmp=M.VBU({type:O,selectors:[["user-controls"]],decls:41,vars:26,consts:()=>{let U,$,te,ie,me,Y,F,N;return U=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,$=$localize`:␟a9bc2f36435d7979f179c544151bca38e4fe20cc␟3324363634810141643: Sign Out `,te=$localize`:␟0b1694897c27c2a5bbdf582a7f7d2bac898f3505␟6267525301152196009:Version: `,ie=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,me=$localize`:␟8ebf03c6dd7c3ad24dcc9a0f64ffad0e9588ac2e␟8897714476038526431:Work Location`,Y=$localize`:␟6f3ddfacb6cc158043b77530f74c15dc406019fe␟8687640110841202898:Desk Settings`,F=$localize`:␟5a0db2e7be57ba081264f141f3ee4a8b683f1f6e␟6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,N=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,[["desk_height_tooltip",""],U,$,te,ie,me,Y,F,N,[1,"rounded","bg-base-100","shadow","mt-1","flex","flex-col","relative","divide-y","divide-base-200"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",3,"content",4,"ngIf"],["customTooltip","",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"w-full","flex","items-center","space-x-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content","!border-b",4,"ngIf"],["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["btn","","matRipple","","class","clear w-full text-left h-[3.5rem]",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","p-4"],[1,"flex","items-center","justify-center","space-x-2","mb-4"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],["customTooltip","",1,"relative",3,"content"],[1,"flex-1","truncate","w-px"],["customTooltip","",1,"!border-b",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],["btn","","matRipple","",3,"click"]]},template:function($,te){if(1&$){const ie=M.RV6();M.j41(0,"div",9)(1,"div",10),M.nrm(2,"a-user-avatar",11),M.j41(3,"div",12),M.EFF(4),M.k0s(),M.j41(5,"div",13),M.EFF(6),M.k0s()(),M.DNE(7,K,12,6,"div",14),M.nI1(8,"async"),M.DNE(9,P,12,6,"div",14)(10,j,10,1,"div",15)(11,S,10,1,"div",15),M.j41(12,"div",16)(13,"button",17)(14,"div",18)(15,"div",19)(16,"app-icon"),M.EFF(17,"mode_night"),M.k0s()(),M.j41(18,"div",20),M.pXf(19,1),M.k0s(),M.j41(20,"app-icon",21),M.EFF(21,"chevron_right"),M.k0s()()()(),M.DNE(22,w,10,3,"div",22)(23,m,1,0,"ng-template",null,0,M.C5r)(25,v,12,7,"div",23)(26,A,7,0,"button",24),M.j41(27,"div",25)(28,"div",26)(29,"button",27),M.bIt("click",function(){return M.eBV(ie),M.Njj(te.logout())}),M.pXf(30,2),M.k0s(),M.DNE(31,L,2,0,"button",28),M.k0s(),M.j41(32,"div",29),M.qex(33),M.pXf(34,3),M.bVm(),M.j41(35,"button",30),M.bIt("click",function(){return M.eBV(ie),M.Njj(te.viewChangelog())}),M.EFF(36),M.k0s()(),M.j41(37,"div",29),M.EFF(38),M.nI1(39,"date"),M.nI1(40,"date"),M.k0s()()()}2&$&&(M.R7$(2),M.Y8G("user",te.user)("matTooltip",te.groups),M.R7$(2),M.JRh(null==te.user?null:te.user.name),M.R7$(2),M.JRh(null==te.user?null:te.user.email),M.R7$(),M.Y8G("ngIf",M.bMT(8,18,te.regions).length),M.R7$(2),M.Y8G("ngIf",!te.disable_building_select&&!te.use_region),M.R7$(),M.Y8G("ngIf",te.features.includes("help")),M.R7$(),M.Y8G("ngIf",te.features.includes("wfh")),M.R7$(),M.AVh("!border-b",!(null!=te.locales&&te.locales.length&&te.desk_height)),M.Y8G("content",te.accessibility_tooltip),M.R7$(10),M.Y8G("ngIf",te.desk_height),M.R7$(3),M.Y8G("ngIf",null==te.locales?null:te.locales.length),M.R7$(),M.Y8G("ngIf",te.features.includes("support-ticket")),M.R7$(5),M.Y8G("ngIf",te.has_new_version),M.R7$(5),M.SpI(" ",te.version.hash," "),M.R7$(2),M.Lme(" ",M.i5U(39,20,te.version.time,"longDate")," (",M.i5U(40,23,te.version.time,"shortTime"),") "))}})}return O})()},5080:(Ot,ve,s)=>{"use strict";s.d(ve,{e:()=>x});var e=s(6939),n=s(1168),d=s(3953),h=s(7987),g=s(177);const b=["keyboard",""],E=["*"];function _(M,B){if(1&M&&d.nrm(0,"div",7),2&M){const K=d.XpG(4);d.AVh("bg-success","shift"===K.state)}}function u(M,B){if(1&M){const K=d.RV6();d.qex(0),d.j41(1,"div",5),d.bIt("focus",function(){d.eBV(K);const j=d.XpG(3);return d.Njj(j.focusInput())})("click",function(){const j=d.eBV(K).$implicit,S=d.XpG(3);return d.Njj(S.handleKeyPress(j))}),d.EFF(2),d.DNE(3,_,1,2,"div",6),d.k0s(),d.bVm()}if(2&M){const K=B.$implicit;d.R7$(),d.AVh("special","{"===K[0]&&K.length>1)("space","{space}"===K),d.BMQ("key",K),d.R7$(),d.SpI(" ","{space}"===K?"Space":"{caps}"===K?"Caps Lock":"{backspace}"===K?"Backspace":K," "),d.R7$(),d.Y8G("ngIf","{caps}"===K)}}function I(M,B){if(1&M&&(d.j41(0,"div",3),d.DNE(1,u,4,7,"ng-container",4),d.k0s()),2&M){const K=B.$implicit;d.R7$(),d.Y8G("ngForOf",K)}}function k(M,B){if(1&M&&(d.j41(0,"div",1),d.DNE(1,I,2,1,"div",2),d.k0s()),2&M){const K=d.XpG();d.R7$(),d.Y8G("ngForOf",K.keyset)}}const y=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];let x=(()=>{class M extends n.Tv{constructor(K,P){super(),this._element=K,this._overlay=P,this.keyset=y,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{M.enabled&&(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnChanges(K){K.keyset&&(this.keyset||(this.keyset=y))}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||this._portal&&(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(K){let P=this._element.nativeElement.selectionStart;const j=this._element.nativeElement.value||"";switch(K.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${j.substr(0,P-1)}${j.substr(P,j.length)}`,P=Math.max(0,P-1);break;case"{space}":this._element.nativeElement.value=`${j.substr(0,P)} ${j.substr(P,j.length)}`,P+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${j.substr(0,P)}${K}${j.substr(P,j.length)}`,P+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=P,this._element.nativeElement.selectionEnd=P},50)}updateKeyState(){this.keyset=this.keyset.map(K=>K.map(P=>P.length>1?P:P["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}static#e=this.\u0275fac=function(P){return new(P||M)(d.rXU(d.aKT),d.rXU(h.hJ))};static#t=this.\u0275cmp=d.VBU({type:M,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(P,j){if(1&P&&d.GBs(e.bV,5),2&P){let S;d.mGM(S=d.lsd())&&(j._portal=S.first)}},hostBindings:function(P,j){1&P&&d.bIt("focus",function(){return j.onFocus()})("blur",function(){return j.onBlur()})},inputs:{keyset:"keyset"},features:[d.Vt3,d.OA$],attrs:b,ngContentSelectors:E,decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-base-200","p-2","border-t","border-base-200"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-base-200","relative","cursor-pointer","bg-base-100",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-base-200",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-base-200"]],template:function(P,j){1&P&&(d.NAR(),d.SdG(0),d.DNE(1,k,2,1,"ng-template",0))},dependencies:[g.Sq,g.bT,e.Qq],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})}return M})()},3005:(Ot,ve,s)=>{"use strict";s.d(ve,{Z:()=>$i});var e=s(467),n=s(1168),d=s(1038),h=s(4903),g=s(2357),b=s(1406),E=s(7729),_=s(1666),k=s(3501),y=s(4273),x=s(8488),M=s(7195);class j{subPriority=0;validate(gt,pt){return!0}}class S extends j{constructor(gt,pt,St,bn,st){super(),this.value=gt,this.validateValue=pt,this.setValue=St,this.priority=bn,st&&(this.subPriority=st)}validate(gt,pt){return this.validateValue(gt,this.value,pt)}set(gt,pt,St){return this.setValue(gt,pt,this.value,St)}}class w extends j{priority=10;subPriority=-1;set(gt,pt){return pt.timestampIsSet?gt:(0,E.w)(gt,function B(mn,gt){const pt=gt instanceof Date?(0,E.w)(gt,0):new gt(0);return pt.setFullYear(mn.getFullYear(),mn.getMonth(),mn.getDate()),pt.setHours(mn.getHours(),mn.getMinutes(),mn.getSeconds(),mn.getMilliseconds()),pt}(gt,Date))}}class m{run(gt,pt,St,bn){const st=this.parse(gt,pt,St,bn);return st?{setter:new S(st.value,this.validate,this.set,this.priority,this.subPriority),rest:st.rest}:null}validate(gt,pt,St){return!0}}var A=s(9857);const L_month=/^(1[0-2]|0?\d)/,L_date=/^(3[0-1]|[0-2]?\d)/,L_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,L_week=/^(5[0-3]|[0-4]?\d)/,L_hour23h=/^(2[0-3]|[0-1]?\d)/,L_hour24h=/^(2[0-4]|[0-1]?\d)/,L_hour11h=/^(1[0-1]|0?\d)/,L_hour12h=/^(1[0-2]|0?\d)/,L_minute=/^[0-5]?\d/,L_second=/^[0-5]?\d/,L_singleDigit=/^\d/,L_twoDigits=/^\d{1,2}/,L_threeDigits=/^\d{1,3}/,L_fourDigits=/^\d{1,4}/,L_anyDigitsSigned=/^-?\d+/,L_singleDigitSigned=/^-?\d/,L_twoDigitsSigned=/^-?\d{1,2}/,L_threeDigitsSigned=/^-?\d{1,3}/,L_fourDigitsSigned=/^-?\d{1,4}/,G_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,G_basic=/^([+-])(\d{2})(\d{2})|Z/,G_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,G_extended=/^([+-])(\d{2}):(\d{2})|Z/,G_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function O(mn,gt){return mn&&{value:gt(mn.value),rest:mn.rest}}function W(mn,gt){const pt=gt.match(mn);return pt?{value:parseInt(pt[0],10),rest:gt.slice(pt[0].length)}:null}function U(mn,gt){const pt=gt.match(mn);if(!pt)return null;if("Z"===pt[0])return{value:0,rest:gt.slice(1)};const St="+"===pt[1]?1:-1,bn=pt[2]?parseInt(pt[2],10):0,st=pt[3]?parseInt(pt[3],10):0,it=pt[5]?parseInt(pt[5],10):0;return{value:St*(bn*A.s0+st*A.Cg+it*A._m),rest:gt.slice(pt[0].length)}}function $(mn){return W(L_anyDigitsSigned,mn)}function te(mn,gt){switch(mn){case 1:return W(L_singleDigit,gt);case 2:return W(L_twoDigits,gt);case 3:return W(L_threeDigits,gt);case 4:return W(L_fourDigits,gt);default:return W(new RegExp("^\\d{1,"+mn+"}"),gt)}}function ie(mn,gt){switch(mn){case 1:return W(L_singleDigitSigned,gt);case 2:return W(L_twoDigitsSigned,gt);case 3:return W(L_threeDigitsSigned,gt);case 4:return W(L_fourDigitsSigned,gt);default:return W(new RegExp("^-?\\d{1,"+mn+"}"),gt)}}function me(mn){switch(mn){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Y(mn,gt){const pt=gt>0,St=pt?gt:1-gt;let bn;if(St<=50)bn=mn||100;else{const st=St+50;bn=mn+100*Math.trunc(st/100)-(mn>=st%100?100:0)}return pt?bn:1-bn}function F(mn){return mn%400==0||mn%4==0&&mn%100!=0}var J=s(6045),ae=s(7793),xe=s(8152),pe=s(7012),Xe=s(6453);const Qt=[31,28,31,30,31,30,31,31,30,31,30,31],_n=[31,29,31,30,31,30,31,31,30,31,30,31];var $t=s(906);function q(mn,gt,pt){const St=(0,_.q)(),bn=pt?.weekStartsOn??pt?.locale?.options?.weekStartsOn??St.weekStartsOn??St.locale?.options?.weekStartsOn??0,st=(0,y.a)(mn),it=st.getDay(),At=7-bn;return(0,$t.f)(st,gt<0||gt>6?gt-(it+At)%7:((gt%7+7)%7+At)%7-(it+At)%7)}var Ht=s(5872);const Tt={G:new class v extends m{priority=140;parse(gt,pt,St){switch(pt){case"G":case"GG":case"GGG":return St.era(gt,{width:"abbreviated"})||St.era(gt,{width:"narrow"});case"GGGGG":return St.era(gt,{width:"narrow"});default:return St.era(gt,{width:"wide"})||St.era(gt,{width:"abbreviated"})||St.era(gt,{width:"narrow"})}}set(gt,pt,St){return pt.era=St,gt.setFullYear(St,0,1),gt.setHours(0,0,0,0),gt}incompatibleTokens=["R","u","t","T"]},y:new class N extends m{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(gt,pt,St){const bn=st=>({year:st,isTwoDigitYear:"yy"===pt});switch(pt){case"y":return O(te(4,gt),bn);case"yo":return O(St.ordinalNumber(gt,{unit:"year"}),bn);default:return O(te(pt.length,gt),bn)}}validate(gt,pt){return pt.isTwoDigitYear||pt.year>0}set(gt,pt,St){const bn=gt.getFullYear();if(St.isTwoDigitYear){const it=Y(St.year,bn);return gt.setFullYear(it,0,1),gt.setHours(0,0,0,0),gt}return gt.setFullYear("era"in pt&&1!==pt.era?1-St.year:St.year,0,1),gt.setHours(0,0,0,0),gt}},Y:new class _e extends m{priority=130;parse(gt,pt,St){const bn=st=>({year:st,isTwoDigitYear:"YY"===pt});switch(pt){case"Y":return O(te(4,gt),bn);case"Yo":return O(St.ordinalNumber(gt,{unit:"year"}),bn);default:return O(te(pt.length,gt),bn)}}validate(gt,pt){return pt.isTwoDigitYear||pt.year>0}set(gt,pt,St,bn){const st=(0,J.h)(gt,bn);if(St.isTwoDigitYear){const Gt=Y(St.year,st);return gt.setFullYear(Gt,0,bn.firstWeekContainsDate),gt.setHours(0,0,0,0),(0,ae.k)(gt,bn)}return gt.setFullYear("era"in pt&&1!==pt.era?1-St.year:St.year,0,bn.firstWeekContainsDate),gt.setHours(0,0,0,0),(0,ae.k)(gt,bn)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class Fe extends m{priority=130;parse(gt,pt){return ie("R"===pt?4:pt.length,gt)}set(gt,pt,St){const bn=(0,E.w)(gt,0);return bn.setFullYear(St,0,4),bn.setHours(0,0,0,0),(0,xe.b)(bn)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class Ae extends m{priority=130;parse(gt,pt){return ie("u"===pt?4:pt.length,gt)}set(gt,pt,St){return gt.setFullYear(St,0,1),gt.setHours(0,0,0,0),gt}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class Ye extends m{priority=120;parse(gt,pt,St){switch(pt){case"Q":case"QQ":return te(pt.length,gt);case"Qo":return St.ordinalNumber(gt,{unit:"quarter"});case"QQQ":return St.quarter(gt,{width:"abbreviated",context:"formatting"})||St.quarter(gt,{width:"narrow",context:"formatting"});case"QQQQQ":return St.quarter(gt,{width:"narrow",context:"formatting"});default:return St.quarter(gt,{width:"wide",context:"formatting"})||St.quarter(gt,{width:"abbreviated",context:"formatting"})||St.quarter(gt,{width:"narrow",context:"formatting"})}}validate(gt,pt){return pt>=1&&pt<=4}set(gt,pt,St){return gt.setMonth(3*(St-1),1),gt.setHours(0,0,0,0),gt}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class qe extends m{priority=120;parse(gt,pt,St){switch(pt){case"q":case"qq":return te(pt.length,gt);case"qo":return St.ordinalNumber(gt,{unit:"quarter"});case"qqq":return St.quarter(gt,{width:"abbreviated",context:"standalone"})||St.quarter(gt,{width:"narrow",context:"standalone"});case"qqqqq":return St.quarter(gt,{width:"narrow",context:"standalone"});default:return St.quarter(gt,{width:"wide",context:"standalone"})||St.quarter(gt,{width:"abbreviated",context:"standalone"})||St.quarter(gt,{width:"narrow",context:"standalone"})}}validate(gt,pt){return pt>=1&&pt<=4}set(gt,pt,St){return gt.setMonth(3*(St-1),1),gt.setHours(0,0,0,0),gt}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class Ne extends m{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(gt,pt,St){const bn=st=>st-1;switch(pt){case"M":return O(W(L_month,gt),bn);case"MM":return O(te(2,gt),bn);case"Mo":return O(St.ordinalNumber(gt,{unit:"month"}),bn);case"MMM":return St.month(gt,{width:"abbreviated",context:"formatting"})||St.month(gt,{width:"narrow",context:"formatting"});case"MMMMM":return St.month(gt,{width:"narrow",context:"formatting"});default:return St.month(gt,{width:"wide",context:"formatting"})||St.month(gt,{width:"abbreviated",context:"formatting"})||St.month(gt,{width:"narrow",context:"formatting"})}}validate(gt,pt){return pt>=0&&pt<=11}set(gt,pt,St){return gt.setMonth(St,1),gt.setHours(0,0,0,0),gt}},L:new class Me extends m{priority=110;parse(gt,pt,St){const bn=st=>st-1;switch(pt){case"L":return O(W(L_month,gt),bn);case"LL":return O(te(2,gt),bn);case"Lo":return O(St.ordinalNumber(gt,{unit:"month"}),bn);case"LLL":return St.month(gt,{width:"abbreviated",context:"standalone"})||St.month(gt,{width:"narrow",context:"standalone"});case"LLLLL":return St.month(gt,{width:"narrow",context:"standalone"});default:return St.month(gt,{width:"wide",context:"standalone"})||St.month(gt,{width:"abbreviated",context:"standalone"})||St.month(gt,{width:"narrow",context:"standalone"})}}validate(gt,pt){return pt>=0&&pt<=11}set(gt,pt,St){return gt.setMonth(St,1),gt.setHours(0,0,0,0),gt}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class Ee extends m{priority=100;parse(gt,pt,St){switch(pt){case"w":return W(L_week,gt);case"wo":return St.ordinalNumber(gt,{unit:"week"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=1&&pt<=53}set(gt,pt,St,bn){return(0,ae.k)(function he(mn,gt,pt){const St=(0,y.a)(mn),bn=(0,pe.N)(St,pt)-gt;return St.setDate(St.getDate()-7*bn),St}(gt,St,bn),bn)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class Ct extends m{priority=100;parse(gt,pt,St){switch(pt){case"I":return W(L_week,gt);case"Io":return St.ordinalNumber(gt,{unit:"week"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=1&&pt<=53}set(gt,pt,St){return(0,xe.b)(function xt(mn,gt){const pt=(0,y.a)(mn),St=(0,Xe.s)(pt)-gt;return pt.setDate(pt.getDate()-7*St),pt}(gt,St))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class In extends m{priority=90;subPriority=1;parse(gt,pt,St){switch(pt){case"d":return W(L_date,gt);case"do":return St.ordinalNumber(gt,{unit:"date"});default:return te(pt.length,gt)}}validate(gt,pt){const bn=F(gt.getFullYear()),st=gt.getMonth();return bn?pt>=1&&pt<=_n[st]:pt>=1&&pt<=Qt[st]}set(gt,pt,St){return gt.setDate(St),gt.setHours(0,0,0,0),gt}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class rn extends m{priority=90;subpriority=1;parse(gt,pt,St){switch(pt){case"D":case"DD":return W(L_dayOfYear,gt);case"Do":return St.ordinalNumber(gt,{unit:"date"});default:return te(pt.length,gt)}}validate(gt,pt){return F(gt.getFullYear())?pt>=1&&pt<=366:pt>=1&&pt<=365}set(gt,pt,St){return gt.setMonth(0,St),gt.setHours(0,0,0,0),gt}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class se extends m{priority=90;parse(gt,pt,St){switch(pt){case"E":case"EE":case"EEE":return St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"});case"EEEEE":return St.day(gt,{width:"narrow",context:"formatting"});case"EEEEEE":return St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"});default:return St.day(gt,{width:"wide",context:"formatting"})||St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"})}}validate(gt,pt){return pt>=0&&pt<=6}set(gt,pt,St,bn){return(gt=q(gt,St,bn)).setHours(0,0,0,0),gt}incompatibleTokens=["D","i","e","c","t","T"]},e:new class fe extends m{priority=90;parse(gt,pt,St,bn){const st=it=>{const Gt=7*Math.floor((it-1)/7);return(it+bn.weekStartsOn+6)%7+Gt};switch(pt){case"e":case"ee":return O(te(pt.length,gt),st);case"eo":return O(St.ordinalNumber(gt,{unit:"day"}),st);case"eee":return St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"});case"eeeee":return St.day(gt,{width:"narrow",context:"formatting"});case"eeeeee":return St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"});default:return St.day(gt,{width:"wide",context:"formatting"})||St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"})}}validate(gt,pt){return pt>=0&&pt<=6}set(gt,pt,St,bn){return(gt=q(gt,St,bn)).setHours(0,0,0,0),gt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class Ke extends m{priority=90;parse(gt,pt,St,bn){const st=it=>{const Gt=7*Math.floor((it-1)/7);return(it+bn.weekStartsOn+6)%7+Gt};switch(pt){case"c":case"cc":return O(te(pt.length,gt),st);case"co":return O(St.ordinalNumber(gt,{unit:"day"}),st);case"ccc":return St.day(gt,{width:"abbreviated",context:"standalone"})||St.day(gt,{width:"short",context:"standalone"})||St.day(gt,{width:"narrow",context:"standalone"});case"ccccc":return St.day(gt,{width:"narrow",context:"standalone"});case"cccccc":return St.day(gt,{width:"short",context:"standalone"})||St.day(gt,{width:"narrow",context:"standalone"});default:return St.day(gt,{width:"wide",context:"standalone"})||St.day(gt,{width:"abbreviated",context:"standalone"})||St.day(gt,{width:"short",context:"standalone"})||St.day(gt,{width:"narrow",context:"standalone"})}}validate(gt,pt){return pt>=0&&pt<=6}set(gt,pt,St,bn){return(gt=q(gt,St,bn)).setHours(0,0,0,0),gt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class an extends m{priority=90;parse(gt,pt,St){const bn=st=>0===st?7:st;switch(pt){case"i":case"ii":return te(pt.length,gt);case"io":return St.ordinalNumber(gt,{unit:"day"});case"iii":return O(St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"}),bn);case"iiiii":return O(St.day(gt,{width:"narrow",context:"formatting"}),bn);case"iiiiii":return O(St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"}),bn);default:return O(St.day(gt,{width:"wide",context:"formatting"})||St.day(gt,{width:"abbreviated",context:"formatting"})||St.day(gt,{width:"short",context:"formatting"})||St.day(gt,{width:"narrow",context:"formatting"}),bn)}}validate(gt,pt){return pt>=1&&pt<=7}set(gt,pt,St){return(gt=function vn(mn,gt){const pt=(0,y.a)(mn),St=function It(mn){let pt=(0,y.a)(mn).getDay();return 0===pt&&(pt=7),pt}(pt);return(0,$t.f)(pt,gt-St)}(gt,St)).setHours(0,0,0,0),gt}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class Et extends m{priority=80;parse(gt,pt,St){switch(pt){case"a":case"aa":case"aaa":return St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"});case"aaaaa":return St.dayPeriod(gt,{width:"narrow",context:"formatting"});default:return St.dayPeriod(gt,{width:"wide",context:"formatting"})||St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"})}}set(gt,pt,St){return gt.setHours(me(St),0,0,0),gt}incompatibleTokens=["b","B","H","k","t","T"]},b:new class bt extends m{priority=80;parse(gt,pt,St){switch(pt){case"b":case"bb":case"bbb":return St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"});case"bbbbb":return St.dayPeriod(gt,{width:"narrow",context:"formatting"});default:return St.dayPeriod(gt,{width:"wide",context:"formatting"})||St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"})}}set(gt,pt,St){return gt.setHours(me(St),0,0,0),gt}incompatibleTokens=["a","B","H","k","t","T"]},B:new class Yt extends m{priority=80;parse(gt,pt,St){switch(pt){case"B":case"BB":case"BBB":return St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"});case"BBBBB":return St.dayPeriod(gt,{width:"narrow",context:"formatting"});default:return St.dayPeriod(gt,{width:"wide",context:"formatting"})||St.dayPeriod(gt,{width:"abbreviated",context:"formatting"})||St.dayPeriod(gt,{width:"narrow",context:"formatting"})}}set(gt,pt,St){return gt.setHours(me(St),0,0,0),gt}incompatibleTokens=["a","b","t","T"]},h:new class Xt extends m{priority=70;parse(gt,pt,St){switch(pt){case"h":return W(L_hour12h,gt);case"ho":return St.ordinalNumber(gt,{unit:"hour"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=1&&pt<=12}set(gt,pt,St){const bn=gt.getHours()>=12;return gt.setHours(bn&&St<12?St+12:bn||12!==St?St:0,0,0,0),gt}incompatibleTokens=["H","K","k","t","T"]},H:new class nn extends m{priority=70;parse(gt,pt,St){switch(pt){case"H":return W(L_hour23h,gt);case"Ho":return St.ordinalNumber(gt,{unit:"hour"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=0&&pt<=23}set(gt,pt,St){return gt.setHours(St,0,0,0),gt}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class yn extends m{priority=70;parse(gt,pt,St){switch(pt){case"K":return W(L_hour11h,gt);case"Ko":return St.ordinalNumber(gt,{unit:"hour"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=0&&pt<=11}set(gt,pt,St){return gt.getHours()>=12&&St<12?gt.setHours(St+12,0,0,0):gt.setHours(St,0,0,0),gt}incompatibleTokens=["h","H","k","t","T"]},k:new class Mn extends m{priority=70;parse(gt,pt,St){switch(pt){case"k":return W(L_hour24h,gt);case"ko":return St.ordinalNumber(gt,{unit:"hour"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=1&&pt<=24}set(gt,pt,St){return gt.setHours(St<=24?St%24:St,0,0,0),gt}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class Ln extends m{priority=60;parse(gt,pt,St){switch(pt){case"m":return W(L_minute,gt);case"mo":return St.ordinalNumber(gt,{unit:"minute"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=0&&pt<=59}set(gt,pt,St){return gt.setMinutes(St,0,0),gt}incompatibleTokens=["t","T"]},s:new class Fn extends m{priority=50;parse(gt,pt,St){switch(pt){case"s":return W(L_second,gt);case"so":return St.ordinalNumber(gt,{unit:"second"});default:return te(pt.length,gt)}}validate(gt,pt){return pt>=0&&pt<=59}set(gt,pt,St){return gt.setSeconds(St,0),gt}incompatibleTokens=["t","T"]},S:new class $n extends m{priority=30;parse(gt,pt){return O(te(pt.length,gt),bn=>Math.trunc(bn*Math.pow(10,3-pt.length)))}set(gt,pt,St){return gt.setMilliseconds(St),gt}incompatibleTokens=["t","T"]},X:new class ze extends m{priority=10;parse(gt,pt){switch(pt){case"X":return U(G_basicOptionalMinutes,gt);case"XX":return U(G_basic,gt);case"XXXX":return U(G_basicOptionalSeconds,gt);case"XXXXX":return U(G_extendedOptionalSeconds,gt);default:return U(G_extended,gt)}}set(gt,pt,St){return pt.timestampIsSet?gt:(0,E.w)(gt,gt.getTime()-(0,Ht.G)(gt)-St)}incompatibleTokens=["t","T","x"]},x:new class Bt extends m{priority=10;parse(gt,pt){switch(pt){case"x":return U(G_basicOptionalMinutes,gt);case"xx":return U(G_basic,gt);case"xxxx":return U(G_basicOptionalSeconds,gt);case"xxxxx":return U(G_extendedOptionalSeconds,gt);default:return U(G_extended,gt)}}set(gt,pt,St){return pt.timestampIsSet?gt:(0,E.w)(gt,gt.getTime()-(0,Ht.G)(gt)-St)}incompatibleTokens=["t","T","X"]},t:new class Te extends m{priority=40;parse(gt){return $(gt)}set(gt,pt,St){return[(0,E.w)(gt,1e3*St),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class Ge extends m{priority=20;parse(gt){return $(gt)}set(gt,pt,St){return[(0,E.w)(gt,St),{timestampIsSet:!0}]}incompatibleTokens="*"}},Wt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,We=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pe=/^'([^]*?)'?$/,Ue=/''/g,De=/\S/,rt=/[a-zA-Z]/;function Qe(mn,gt,pt,St){const bn=function u(){return Object.assign({},(0,_.q)())}(),st=St?.locale??bn.locale??k.c,it=St?.firstWeekContainsDate??St?.locale?.options?.firstWeekContainsDate??bn.firstWeekContainsDate??bn.locale?.options?.firstWeekContainsDate??1,Gt=St?.weekStartsOn??St?.locale?.options?.weekStartsOn??bn.weekStartsOn??bn.locale?.options?.weekStartsOn??0;if(""===gt)return""===mn?(0,y.a)(pt):(0,E.w)(pt,NaN);const Se={firstWeekContainsDate:it,weekStartsOn:Gt,locale:st},At=[new w],ne=gt.match(We).map(Bn=>{const ai=Bn[0];return ai in x.m?(0,x.m[ai])(Bn,st.formatLong):Bn}).join("").match(Wt),ke=[];for(let Bn of ne){!St?.useAdditionalWeekYearTokens&&(0,M.xM)(Bn)&&(0,M.Ss)(Bn,gt,mn),!St?.useAdditionalDayOfYearTokens&&(0,M.ef)(Bn)&&(0,M.Ss)(Bn,gt,mn);const ai=Bn[0],Ei=Tt[ai];if(Ei){const{incompatibleTokens:es}=Ei;if(Array.isArray(es)){const zi=ke.find(Ji=>es.includes(Ji.token)||Ji.token===ai);if(zi)throw new RangeError(`The format string mustn't contain \`${zi.fullToken}\` and \`${Bn}\` at the same time`)}else if("*"===Ei.incompatibleTokens&&ke.length>0)throw new RangeError(`The format string mustn't contain \`${Bn}\` and any other token at the same time`);ke.push({token:ai,fullToken:Bn});const Wi=Ei.run(mn,Bn,st.match,Se);if(!Wi)return(0,E.w)(pt,NaN);At.push(Wi.setter),mn=Wi.rest}else{if(ai.match(rt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ai+"`");if("''"===Bn?Bn="'":"'"===ai&&(Bn=vt(Bn)),0!==mn.indexOf(Bn))return(0,E.w)(pt,NaN);mn=mn.slice(Bn.length)}}if(mn.length>0&&De.test(mn))return(0,E.w)(pt,NaN);const He=At.map(Bn=>Bn.priority).sort((Bn,ai)=>ai-Bn).filter((Bn,ai,Ei)=>Ei.indexOf(Bn)===ai).map(Bn=>At.filter(ai=>ai.priority===Bn).sort((ai,Ei)=>Ei.subPriority-ai.subPriority)).map(Bn=>Bn[0]);let Dt=(0,y.a)(pt);if(isNaN(Dt.getTime()))return(0,E.w)(pt,NaN);const hn={};for(const Bn of He){if(!Bn.validate(Dt,Se))return(0,E.w)(pt,NaN);const ai=Bn.set(Dt,hn,Se);Array.isArray(ai)?(Dt=ai[0],Object.assign(hn,ai[1])):Dt=ai}return(0,E.w)(pt,Dt)}function vt(mn){return mn.match(Pe)[1].replace(Ue,"'")}var Re=s(9255),Mt=s(3601),nt=s(3022),Ze=s(3953),qt=s(4006),Vt=s(177),dn=s(9115),xn=s(6600),Wn=s(4823),Xn=s(9434);function ti(mn,gt){if(1&mn){const pt=Ze.RV6();Ze.j41(0,"button",18),Ze.bIt("click",function(){const bn=Ze.eBV(pt).$implicit,st=Ze.XpG().index,it=Ze.XpG(2);return Ze.Njj(it.setLocation(st,bn.id))}),Ze.j41(1,"div",19)(2,"app-icon",12),Ze.EFF(3),Ze.k0s(),Ze.j41(4,"div",20),Ze.EFF(5),Ze.k0s()()()}if(2&mn){const pt=gt.$implicit;Ze.R7$(3),Ze.JRh(pt.icon),Ze.R7$(2),Ze.JRh(pt.name)}}function Ii(mn,gt){1&mn&&Ze.nrm(0,"div",21)}function yi(mn,gt){if(1&mn&&(Ze.j41(0,"div",10)(1,"div",11)(2,"app-icon",12),Ze.EFF(3),Ze.k0s()(),Ze.j41(4,"div",13)(5,"button",14)(6,"div"),Ze.EFF(7),Ze.k0s(),Ze.j41(8,"app-icon"),Ze.EFF(9,"expand_more"),Ze.k0s()(),Ze.j41(10,"mat-menu",null,1),Ze.DNE(12,ti,6,2,"button",15),Ze.k0s(),Ze.j41(13,"div",16),Ze.EFF(14),Ze.nI1(15,"date"),Ze.nI1(16,"date"),Ze.k0s()(),Ze.DNE(17,Ii,1,0,"div",17),Ze.k0s()),2&mn){const pt=gt.$implicit,St=gt.index,bn=Ze.sdS(11),st=Ze.XpG(2);Ze.AVh("opacity-30",st.now>st.timeFrom(pt.end_time)),Ze.R7$(),Ze.AVh("bg-base-200",st.now<st.timeFrom(pt.start_time)||st.now>st.timeFrom(pt.end_time))("bg-info",st.now>=st.timeFrom(pt.start_time)&&st.now<=st.timeFrom(pt.end_time))("text-info-content",st.now>=st.timeFrom(pt.start_time)&&st.now<=st.timeFrom(pt.end_time)),Ze.R7$(2),Ze.JRh(st.location_icon(st.timeFrom(pt.start_time))),Ze.R7$(2),Ze.Y8G("matMenuTriggerFor",bn),Ze.R7$(2),Ze.SpI(" ",st.location(st.timeFrom(pt.start_time))," "),Ze.R7$(5),Ze.Y8G("ngForOf",st.locations),Ze.R7$(2),Ze.Lme(" ",Ze.i5U(15,15,st.timeFrom(pt.start_time),"shortTime")," \u2013 ",Ze.i5U(16,18,st.timeFrom(pt.end_time),"shortTime")," "),Ze.R7$(3),Ze.Y8G("ngIf",St>0)}}function ss(mn,gt){if(1&mn&&(Ze.j41(0,"div",8),Ze.DNE(1,yi,18,21,"div",9),Ze.k0s()),2&mn){const pt=Ze.XpG();Ze.R7$(),Ze.Y8G("ngForOf",null==pt.active_preference?null:pt.active_preference.blocks)}}function ys(mn,gt){1&mn&&(Ze.j41(0,"div",22)(1,"app-icon",23),Ze.EFF(2,"event_busy"),Ze.k0s(),Ze.j41(3,"p",24),Ze.EFF(4,"No work location for today."),Ze.k0s(),Ze.j41(5,"p",24),Ze.EFF(6," Click the edit button on the top right to edit your work location preferences. "),Ze.k0s()())}let $i=(()=>{class mn{get active_preference(){const pt=(0,h.GP)(new Date,"yyyy-MM-dd");return this.overrides[pt]?this.overrides[pt]:this.settings.find(St=>St.day_of_week===(new Date).getDay())}get now(){return(0,g.c)(Date.now()).getTime()}constructor(pt){this._dialog=pt,this.locations=[{id:"wfo",name:"Office",icon:"business"},{id:"wfh",name:"Home",icon:"home"},{id:"aol",name:"Leave",icon:"event_busy"}]}ngOnInit(){const pt=(0,n.Ny)();this.settings=pt.work_preferences,this.overrides=pt.work_overrides}location_icon(pt){return(0,n.Ny)().location_icon(pt+6e4)}location(pt){return(0,n.Ny)().location_name_time(pt+6e4)}timeFrom(pt){return(0,g.c)((0,b.h)(new Date,{hours:Math.floor(pt),minutes:60*pt%60,seconds:0,milliseconds:0})).getTime()}editSettings(){this._dialog.open(nt.$)}setLocation(pt,St){var bn=this;return(0,e.A)(function*(){const st=(0,n.Ny)(),it=bn.active_preference,Gt=(0,h.GP)(Date.now(),"yyyy-MM-dd"),Se={...st.work_overrides,[Gt]:{...it,blocks:[...it.blocks.slice(0,pt),{...it.blocks[pt],location:St},...it.blocks.slice(pt+1)]}};for(const At in Se){const ne=Qe(At,"yyyy-MM-dd",new Date);(!Se[At].blocks.length||(0,Re.Y)(ne,(0,$t.f)((0,Mt.o)(Date.now()),-1)))&&delete Se[At]}bn.overrides=Se,yield(0,d.TKu)(st.id,{...st,work_overrides:Se}).toPromise(),(0,n.mj)()})()}static#e=this.\u0275fac=function(St){return new(St||mn)(Ze.rXU(qt.bZ))};static#t=this.\u0275cmp=Ze.VBU({type:mn,selectors:[["work-location-tooltip"]],decls:13,vars:6,consts:[["empty_state",""],["menu","matMenu"],[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","justify-between","px-2"],[1,"px-2","py-4","font-medium"],["icon","","matRipple","","matTooltip","Edit Work Location Preferences","matTooltipPosition","left",1,"hover:bg-base-200",3,"click"],[1,"px-4","font-medium","text-sm"],["class","pb-2",4,"ngIf","ngIfElse"],[1,"pb-2"],["class","relative flex items-center px-4 py-2",3,"opacity-30",4,"ngFor","ngForOf"],[1,"relative","flex","items-center","px-4","py-2"],[1,"rounded-full","h-10","w-10","flex","items-center","justify-center","bg-base-200","z-20"],[1,"text-2xl"],[1,"flex-1","ml-2"],["matRipple","",1,"font-medium","flex","items-center","space-x-2","rounded","hover:bg-base-200","px-2","py-1",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-60","px-2"],["class","absolute -top-2 left-7 h-4 w-0 border-l-2 border-dashed border-base-200 -translate-x-px",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"pr-8"],[1,"absolute","-top-2","left-7","h-4","w-0","border-l-2","border-dashed","border-base-200","-translate-x-px"],[1,"flex","flex-col","items-center","justify-center","p-8","space-y-2","w-full","opacity-30"],[1,"text-6xl"],[1,"text-center","text-sm"]],template:function(St,bn){if(1&St){const st=Ze.RV6();Ze.j41(0,"div",2)(1,"div",3)(2,"h3",4),Ze.EFF(3,"Work Location"),Ze.k0s(),Ze.j41(4,"button",5),Ze.bIt("click",function(){return Ze.eBV(st),Ze.Njj(bn.editSettings())}),Ze.j41(5,"app-icon"),Ze.EFF(6,"edit_note"),Ze.k0s()()(),Ze.j41(7,"h3",6),Ze.EFF(8),Ze.nI1(9,"date"),Ze.k0s(),Ze.DNE(10,ss,2,1,"div",7),Ze.k0s(),Ze.DNE(11,ys,7,0,"ng-template",null,0,Ze.C5r)}if(2&St){const st=Ze.sdS(12);Ze.R7$(8),Ze.SpI(" ",Ze.i5U(9,3,bn.now,"fullDate")," "),Ze.R7$(2),Ze.Y8G("ngIf",null==bn.active_preference||null==bn.active_preference.blocks?null:bn.active_preference.blocks.length)("ngIfElse",st)}},dependencies:[Vt.Sq,Vt.bT,dn.kk,dn.fb,dn.Cp,xn.r6,Wn.oV,Xn.R,Vt.vh]})}return mn})()},8113:(Ot,ve,s)=>{"use strict";s.d(ve,{LR:()=>n.L,Ws:()=>e.W,jX:()=>b.j,OA:()=>d.OA,qq:()=>h.qq,Uv:()=>g.Uv,UU:()=>d.UU,Nn:()=>d.Nn,ue:()=>d.ue});var e=s(6101),n=s(6727),d=s(1416),h=s(1841),g=s(1761),b=s(7758);s(4035),s(1765),s(711),s(5713),s(7535)},1765:(Ot,ve,s)=>{"use strict";s.d(ve,{w:()=>L});var e=s(467),n=s(3953),d=s(5818),h=s(4903),g=s(1168),E=(s(6727),s(4035)),_=s(8026),u=s(2011),I=s(5713),k=s(177),y=s(4006),x=s(2091);const M=()=>["./"],B=G=>({event:G});function K(G,O){if(1&G&&(n.j41(0,"span",5),n.EFF(1),n.k0s()),2&G){const W=n.XpG(2);n.R7$(),n.SpI("",W.day,",\xa0")}}function P(G,O){if(1&G&&(n.j41(0,"h4",2),n.DNE(1,K,2,1,"span",3),n.EFF(2),n.nI1(3,"date"),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"date"),n.k0s()()),2&G){const W=n.XpG();n.R7$(),n.Y8G("ngIf",W.show_day),n.R7$(),n.SpI(" ",n.i5U(3,3,null==W.event?null:W.event.date,W.time_format)," "),n.R7$(3),n.SpI("(",n.i5U(6,6,null==W.event?null:W.event.date,"z"),")")}}function j(G,O){if(1&G&&(n.j41(0,"div",20),n.EFF(1),n.k0s()),2&G){const W=n.XpG(2);n.R7$(),n.SpI(" ",W.period_tz," ")}}function S(G,O){1&G&&(n.j41(0,"div",14)(1,"app-icon"),n.EFF(2,"restaurant"),n.k0s(),n.j41(3,"div",16),n.EFF(4,"Catered"),n.k0s()())}function w(G,O){if(1&G&&(n.j41(0,"div",24),n.nrm(1,"a-user-avatar",25),n.k0s()),2&G){const W=O.$implicit;n.R7$(),n.Y8G("user",W)}}function m(G,O){if(1&G&&(n.j41(0,"div",24)(1,"div",26),n.EFF(2),n.k0s()()),2&G){const W=n.XpG(3);n.R7$(2),n.SpI(" +",(null==W.event||null==W.event.attendees?null:W.event.attendees.length)-5," ")}}function v(G,O){if(1&G&&(n.j41(0,"div",21),n.DNE(1,w,2,1,"div",22),n.nI1(2,"slice"),n.DNE(3,m,3,1,"div",23),n.k0s()),2&G){const W=n.XpG(2);n.R7$(),n.Y8G("ngForOf",n.brH(2,2,null==W.event?null:W.event.attendees,0,6===(null==W.event||null==W.event.attendees?null:W.event.attendees.length)?6:5)),n.R7$(2),n.Y8G("ngIf",(null==W.event||null==W.event.attendees?null:W.event.attendees.length)>6)}}function A(G,O){if(1&G){const W=n.RV6();n.j41(0,"a",6),n.bIt("click",function(){n.eBV(W);const $=n.XpG();return n.Njj($.viewDetails())}),n.j41(1,"div",7)(2,"h4",8),n.EFF(3),n.k0s(),n.j41(4,"div",9)(5,"status-pill",10)(6,"div",11)(7,"div"),n.EFF(8),n.k0s(),n.DNE(9,j,2,1,"div",12),n.k0s()()(),n.j41(10,"div",13)(11,"div",14)(12,"app-icon"),n.EFF(13,"meeting_room"),n.k0s(),n.j41(14,"div",15),n.EFF(15),n.k0s()(),n.j41(16,"div",14)(17,"app-icon"),n.EFF(18,"person_outline"),n.k0s(),n.j41(19,"div",16),n.EFF(20),n.k0s()(),n.DNE(21,S,5,0,"div",17),n.j41(22,"div",14)(23,"app-icon"),n.EFF(24,"people"),n.k0s(),n.j41(25,"div",16),n.EFF(26),n.k0s()()(),n.j41(27,"app-icon",18),n.EFF(28," chevron_right "),n.k0s(),n.DNE(29,v,4,6,"div",19),n.k0s()()}if(2&G){let W;const U=n.XpG();n.Y8G("routerLink",n.lJ4(14,M))("queryParams",n.eq3(15,B,null==U.event?null:U.event.id)),n.R7$(3),n.JRh(null==U.event?null:U.event.title),n.R7$(2),n.Y8G("status",U.status),n.R7$(),n.AVh("pr-4",U.timezone),n.R7$(2),n.JRh(U.period),n.R7$(),n.Y8G("ngIf",U.timezone),n.R7$(6),n.SpI(" ",U.location," "),n.R7$(5),n.SpI(" ",(null==U.event||null==U.event.organiser?null:U.event.organiser.name)||(null==U.event||null==U.event.organiser?null:U.event.organiser.email)," "),n.R7$(),n.Y8G("ngIf",null==U.event||null==(W=U.event.ext("catering"))?null:W.length),n.R7$(5),n.Lme(" ",null==U.event||null==U.event.attendees?null:U.event.attendees.length," ",1===(null==U.event||null==U.event.attendees?null:U.event.attendees.length)?"Person":"People"," "),n.R7$(3),n.Y8G("ngIf",null==U.event||null==U.event.attendees?null:U.event.attendees.length)}}let L=(()=>{class G extends g.Tv{get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const W=this.timezone;return W?(0,g.GF)(W):""}get time_format(){return this._settings.time_format}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(W){const U=this.event.date,$=this.event.date_end,te=this.event.all_day,ie=this._date.transform(U,"z",W),me=this._date.transform(U,"MMM d",W),Y=this._date.transform(U,this.time_format,W),F=this._date.transform($,"MMM d",W),N=this._date.transform($,this.time_format,W);return this.event?.duration>1440?`${me}${te?"":", "+Y} - ${F}${te?"":", "+N}`:te?"All Day":`${Y} - ${N} ${"("+ie+")"}`}get status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(W,U,$,te,ie){super(),this._dialog=W,this._route=U,this._org=$,this._space_pipe=te,this._settings=ie,this.show_day=!1,this.edit=new n.bkB,this.remove=new n.bkB,this.location="",this._date=new k.vh("en")}ngOnInit(){var W=this;return(0,e.A)(function*(){W.subscription("route.query",W._route.queryParamMap.subscribe(U=>U.has("event")&&W.event?.id===U.get("event")?W.viewDetails():"")),W.location=yield W.getLocationString()})()}ngOnChanges(W){var U=this;return(0,e.A)(function*(){W.event&&U.event&&(U.location=yield U.getLocationString())})()}get day(){const W=this.event?.date||Date.now();return`${(0,d.r)(Date.now(),W)?"Today":(0,h.GP)(W,"EEEE")}`}getLocationString(){var W=this;return(0,e.A)(function*(){const U=W.event?.resources[0]||W.event?.system||W.event?.space||{},$=yield W._space_pipe.transform(U.id||U.email),te=$?.zones||[],ie=W._org.levelWithID(te)||W._org.buildings.find(me=>te.includes(me.id));return`${ie?(ie.display_name||ie.name)+", ":""} ${$?.display_name||$?.name}`})()}viewDetails(){this.event&&this.timeout("open",()=>{if(this.event.extension_data?.shared_event)return void this._dialog.open(I.E,{data:{event:this.event,concierge:!1}});const W=this._dialog.open(E.b,{data:this.event});this.subscription("edit",W.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",W.componentInstance.remove.subscribe(U=>this.remove.emit(U)))})}static#e=this.\u0275fac=function(U){return new(U||G)(n.rXU(y.bZ),n.rXU(x.nX),n.rXU(_.y),n.rXU(u.J),n.rXU(g.h$))};static#t=this.\u0275cmp=n.VBU({type:G,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[n.Jv_([u.J]),n.Vt3,n.OA$],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["name","view-event-details","class","w-full cursor-pointer relative",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-event-details",1,"w-full","cursor-pointer","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-base-100","flex","items-center","justify-center","text-secondary-content"]],template:function(U,$){1&U&&n.DNE(0,P,7,9,"h4",0)(1,A,30,17,"a",1),2&U&&(n.Y8G("ngIf",$.event),n.R7$(),n.Y8G("ngIf",$.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return G})()},4035:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>Ye});var e=s(467),n=s(3953),d=s(4006),h=s(5987),g=s(6727),b=s(1865),E=s(8026),_=s(2011),u=s(5170),I=s(602),k=s(1168),y=s(735),x=s(1038),M=s(620),B=s(1416),K=s(177);const P=()=>({disable_pan:!0,disable_zoom:!0});function j(qe,Ne){1&qe&&n.nrm(0,"div",58)}function S(qe,Ne){if(1&qe&&(n.j41(0,"div",59),n.nrm(1,"image-carousel",60),n.k0s()),2&qe){const Me=n.XpG();n.R7$(),n.Y8G("images",null==Me.event||null==Me.event.system?null:Me.event.system.images)}}function w(qe,Ne){if(1&qe&&(n.j41(0,"div",61),n.EFF(1),n.k0s()),2&qe){const Me=n.XpG();n.R7$(),n.SpI(" ",Me.period_tz," ")}}function m(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"button",65),n.bIt("click",function(){n.eBV(Me);const he=n.XpG(2);return n.Njj(he.checkin())}),n.j41(1,"div",66)(2,"app-icon",67),n.EFF(3),n.k0s(),n.j41(4,"div",68),n.pXf(5,9),n.k0s()()()}if(2&qe){const Me=n.XpG(2);n.AVh("bg-success","pending"!==Me.room_status)("border-none","pending"!==Me.room_status)("pointer-events-none","pending"!==Me.room_status),n.R7$(3),n.JRh("pending"===Me.room_status?"arrow_back":"done"),n.R7$(2),n.uP7("pending"===Me.room_status?"Check in":"Checked in"),n.nnv(5)}}function v(qe,Ne){if(1&qe&&(n.j41(0,"button",69)(1,"app-icon"),n.EFF(2,"more_horiz"),n.k0s()()),2&qe){n.XpG(2);const Me=n.sdS(80);n.Y8G("matMenuTriggerFor",Me)}}function A(qe,Ne){if(1&qe&&(n.j41(0,"div",62),n.DNE(1,m,6,8,"button",63)(2,v,3,1,"button",64),n.k0s()),2&qe){const Me=n.XpG();n.R7$(),n.Y8G("ngIf",Me.room_status&&(null==Me.event?null:Me.event.can_check_in)&&"free"!==Me.room_status),n.R7$(),n.Y8G("ngIf",Me.allow_edit)}}function L(qe,Ne){if(1&qe&&(n.j41(0,"div",61),n.EFF(1),n.k0s()),2&qe){const Me=n.XpG();n.R7$(),n.SpI(" ",Me.period_tz," ")}}function G(qe,Ne){if(1&qe&&(n.qex(0),n.EFF(1),n.bVm()),2&qe){const Me=n.XpG();n.R7$(),n.SpI(" ",(null==Me.level?null:Me.level.display_name)||(null==Me.level?null:Me.level.name),", ")}}function O(qe,Ne){if(1&qe&&(n.j41(0,"div",31)(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div"),n.EFF(4),n.k0s()()),2&qe){const Me=n.XpG();n.R7$(4),n.Lme(" ",(null==Me.building?null:Me.building.display_name)||(null==Me.building?null:Me.building.name),", ",null==Me.building?null:Me.building.address," ")}}function W(qe,Ne){if(1&qe&&(n.j41(0,"span",86),n.EFF(1),n.k0s()),2&qe){const Me=n.XpG().$implicit,pe=n.XpG(3);n.Y8G("matTooltip",pe.optionList(Me)),n.R7$(),n.SpI(" ",(null==Me.option_list?null:Me.option_list.length)||"0"," option(s) ")}}function U(qe,Ne){if(1&qe&&(n.j41(0,"div",81)(1,"div",82)(2,"span",76),n.EFF(3),n.k0s(),n.DNE(4,W,2,2,"span",83),n.k0s(),n.j41(5,"div",84),n.EFF(6),n.k0s(),n.j41(7,"div",85),n.EFF(8),n.nI1(9,"currency"),n.k0s()()),2&qe){const Me=Ne.$implicit,pe=n.XpG(3);n.R7$(3),n.JRh(Me.name||"Item"),n.R7$(),n.Y8G("ngIf",null==Me.option_list?null:Me.option_list.length),n.R7$(2),n.SpI(" x",Me.quantity," "),n.R7$(2),n.SpI(" ",n.i5U(9,4,Me.unit_price_with_options/100,pe.currency_code)," ea ")}}function $(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"div",73)(1,"div",74)(2,"div",75)(3,"div",76),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"div",77),n.EFF(7),n.nI1(8,"currency"),n.k0s()(),n.j41(9,"button",78),n.bIt("click",function(){const he=n.eBV(Me).$implicit,le=n.XpG(2);return n.Njj(le.show_order[he.id]=!le.show_order[he.id])}),n.j41(10,"app-icon"),n.EFF(11),n.k0s()()(),n.j41(12,"div",79),n.DNE(13,U,10,7,"div",80),n.k0s()()}if(2&qe){const Me=Ne.$implicit,pe=n.XpG(2);n.R7$(4),n.SpI(" Order at ",n.i5U(5,7,Me.deliver_at,"MMM d, "+pe.time_format)," "),n.R7$(3),n.Lme(" ",Me.item_count," item(s) for ",n.i5U(8,10,Me.total_cost/100,pe.currency_code)," "),n.R7$(2),n.Y8G("matTooltip",pe.show_order[Me.id]?"Hide order items":"Show order items"),n.R7$(2),n.SpI(" ",pe.show_order[Me.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",pe.show_order[Me.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Me.items)}}function te(qe,Ne){if(1&qe&&(n.qex(0),n.j41(1,"div",34)(2,"h3",70),n.pXf(3,10),n.k0s(),n.j41(4,"div",71),n.DNE(5,$,14,13,"div",72),n.k0s()(),n.bVm()),2&qe){const Me=n.XpG();n.R7$(5),n.Y8G("ngForOf",Me.event.valid_catering)}}function ie(qe,Ne){if(1&qe&&(n.qex(0),n.nrm(1,"interactive-map",87),n.bVm()),2&qe){const Me=n.XpG();n.R7$(),n.Y8G("src",null==Me.level?null:Me.level.map_id)("features",Me.features)("options",n.lJ4(3,P))}}function me(qe,Ne){if(1&qe&&(n.nrm(0,"div",90),n.nI1(1,"sanitize")),2&qe){const Me=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,Me.body)||"Unable to sanitize notes contents",n.npT)}}function Y(qe,Ne){if(1&qe&&(n.j41(0,"div",34)(1,"h3",88),n.pXf(2,11),n.k0s(),n.DNE(3,me,2,3,"div",89),n.k0s()),2&qe){const Me=n.XpG();n.R7$(3),n.Y8G("ngIf",Me.body)}}function F(qe,Ne){if(1&qe&&(n.j41(0,"div",81)(1,"div",82)(2,"span",76),n.EFF(3),n.k0s()(),n.j41(4,"div",84),n.EFF(5),n.k0s()()),2&qe){const Me=Ne.$implicit;n.R7$(3),n.JRh(Me.name||"Item"),n.R7$(2),n.SpI(" x",Me.quantity," ")}}function N(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"div",93)(1,"button",94),n.bIt("click",function(){const he=n.eBV(Me).$implicit,le=n.XpG(2);return n.Njj(le.show_request[he.id]=!le.show_request[he.id])}),n.j41(2,"div",95)(3,"div",76),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",96)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",97)(10,"app-icon",67),n.EFF(11),n.k0s()()(),n.j41(12,"div",79),n.DNE(13,F,6,2,"div",80),n.k0s()()}if(2&qe){const Me=Ne.$implicit,pe=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,Me.deliver_at,"MMM d, "+pe.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===Me.state)("text-success-content","approved"===Me.state)("bg-warning","approved"!==Me.state&&"rejected"!==Me.state)("text-warning-content","approved"!==Me.state&&"rejected"!==Me.state)("bg-error","rejected"===Me.state)("text-error-content","rejected"===Me.state),n.Y8G("matTooltip",Me.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===Me.state?"done":"rejected"===Me.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",pe.show_request[Me.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",pe.show_request[Me.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Me.items)}}function J(qe,Ne){if(1&qe&&(n.qex(0),n.j41(1,"div",34)(2,"h3",91),n.pXf(3,12),n.k0s(),n.j41(4,"div",71),n.DNE(5,N,14,21,"div",92),n.k0s()(),n.bVm()),2&qe){const Me=n.XpG();n.R7$(3),n.uP7((null==Me.event.valid_assets?null:Me.event.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",Me.event.valid_assets)}}function ae(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"div",98)(1,"attendee-list",99),n.bIt("click",function(){n.eBV(Me);const he=n.XpG();return n.Njj(he.show_attendees=!1)}),n.k0s()()}if(2&qe){const Me=n.XpG();n.R7$(),n.Y8G("list",Me.event.attendees)("host",Me.event.host)}}function _e(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"button",100),n.bIt("click",function(){n.eBV(Me);const he=n.XpG();return n.Njj(he.edit.emit(he.space))}),n.j41(1,"div",54)(2,"app-icon",67),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,13),n.k0s()()()}if(2&qe){const Me=n.XpG();n.Y8G("matTooltip",Me.can_edit?"":Me.no_edit_message)("disabled",!Me.can_edit)}}function xe(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"button",53),n.bIt("click",function(){n.eBV(Me);const he=n.XpG();return n.Njj(he.remove.emit(!0))}),n.j41(1,"div",54)(2,"app-icon",55),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,14),n.k0s()()()}}function Fe(qe,Ne){if(1&qe){const Me=n.RV6();n.j41(0,"button",53),n.bIt("click",function(){const he=n.eBV(Me).$implicit,le=n.XpG();return n.Njj(le.action.emit(he.id))}),n.j41(1,"div",54)(2,"app-icon",67),n.EFF(3),n.k0s(),n.j41(4,"div"),n.pXf(5,15),n.k0s()()()}if(2&qe){const Me=Ne.$implicit;n.R7$(3),n.JRh(Me.icon),n.R7$(2),n.uP7(Me.name),n.nnv(5)}}const Ae=[];let Ye=(()=>{class qe{get can_edit(){return!0}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const Me=this.timezone;return Me?(0,k.GF)(Me):""}get body(){return this.event.body.replace(/\\n\\n\[ID\|.*\]/gm,"")}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get custom_actions(){return this._settings.get("app.events.custom_actions")||Ae}get time_format(){return this._settings.time_format}get event_status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(Me,pe,he,le,Ee){this._event=Me,this._org=pe,this._space_pipe=he,this._settings=le,this._dialog=Ee,this.action=new n.bkB,this.edit=new n.bkB,this.remove=new n.bkB,this.show_order={},this.show_request={},this.room_status="",this.hide_map=!1,this.hide_edit=!1,this.show_attendees=!1,this.event=this._event,this.no_edit_message="Editing bookings long than \n a day is not available",this.features=[{location:this.event?.system?.map_id,content:b.V}],this.has_catering=this.event?.ext("catering")?.length>0,this.has_assets=!!this.event?.linked_bookings?.find(Xe=>"asset-request"===Xe.booking_type),this.level=new I.P,this.building=new u.t,this.space=new y.$,this.accept_count=this._event.attendees.reduce((Xe,xt)=>Xe+("accepted"===xt.response_status?1:0),0),this.declined_count=this._event.attendees.reduce((Xe,xt)=>Xe+("declined"===xt.response_status?1:0),0),this.pending_count=this._event.attendees.reduce((Xe,xt)=>Xe+("tentative"===xt.response_status||"needsAction"===xt.response_status?1:0),0),this._date=new K.vh("en"),this._load().then(),console.log("Timezone:",this.timezone)}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(Me){const pe=this.event.date,he=this.event.date_end,le=this.event.all_day,Ee=this._date.transform(pe,"z",Me),Xe=this._date.transform(pe,"MMM d",Me),xt=this._date.transform(pe,this.time_format,Me),dt=this._date.transform(he,"MMM d",Me),Ct=this._date.transform(he,this.time_format,Me);return this.event?.duration>1440?`${Xe}${le?"":", "+xt} - ${dt}${le?"":", "+Ct}`:le?"All Day":`${xt} - ${Ct} ${"("+Ee+")"}`}optionList(Me){return Me.option_list?.map(pe=>pe.name).join("\n")}checkin(){var Me=this;return(0,e.A)(function*(){const pe=(0,x.f_4)(Me.space?.id,"Bookings");pe&&(yield pe.execute("checkin",[(0,h._)(Me.event.date)]).catch(he=>(0,k.UG)(`Error checking in booking. ${he}`)),Me.room_status="busy")})()}_load(){var Me=this;return(0,e.A)(function*(){if(Me.space=yield Me._space_pipe.transform(Me._event.system?.id||Me._event.system?.email),Me.level=Me._org.levelWithID(Me.space.zones),Me.building=Me._org.buildings.find(he=>Me.space.zones.includes(he.id)),Me.features=[{location:Me.space.map_id,content:b.V}],Me.event.extension_data.catering?.length||Me.event.extension_data.assets?.length)return;const pe=yield(0,B.A5)(Me._event.id,Me.space.id).toPromise();pe&&(Me._event=new g.L({...Me._event,extension_data:{...Me._event.extension_data,...pe}}))})()}status(Me){const pe=this.event.linked_bookings.find(he=>he.asset_id===Me);return pe.status?pe.status:pe?pe.approved?"approved":pe.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(M.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.hide_map=!1})}static#e=this.\u0275fac=function(pe){return new(pe||qe)(n.rXU(d.Vh),n.rXU(E.y),n.rXU(_.J),n.rXU(k.h$),n.rXU(d.bZ))};static#t=this.\u0275cmp=n.VBU({type:qe,selectors:[["event-details-modal"]],outputs:{action:"action",edit:"edit",remove:"remove"},features:[n.Jv_([_.J])],decls:90,vars:37,consts:()=>{let Me,pe,he,le,Ee,Xe,xt,dt,Ct,Qt,_n,In,rn,$t,q;return Me=$localize`:␟2c8ce65c566300dc9063f69c615fda2e3a6b896a␟2102851380219026584: Details `,pe=$localize`:␟dc34e61df786db36347c8dc09510fa3d5d4c6253␟8291262399353359697:Attendees`,he=$localize`:␟8ee85ef5a3693fb53511af55f66b8543941a5968␟5528514721268144968: See All `,le=$localize`:␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,Ee=$localize`:␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,Xe=$localize`:␟e6a27066251ca1e04c5be86ad758380856df2506␟4416413576346763682:Pending`,xt=$localize`:␟01072150a2c93fe7032783804ebfa5a1e41f3685␟6139423482037031714: Host `,dt=$localize`:␟e634daa29c58868c9c9c4d9fcc7ba1c016fac86b␟4014175048517775632:Delete event`,Ct=$localize`:␟e00cf812605b14c9c2390da404d3cd3ea67f19a6␟3151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Qt=$localize`:␟ef2612559c447d8f4c218c06bb66af9de8edf365␟6975755512274629403: Catering `,_n=$localize`:␟195b2f1c65301b0700459c9d0ae2ce407ed9c7bf␟4484880822148672471: Notes `,In=$localize`:␟e30ee857e7399db3f72ec7aa8aa9b56ce76fca96␟3391582008093299175: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,rn=$localize`:␟56c74224d22c7379fdbf9d0a00c8bf519a9ee661␟2772374745622574688:Edit event`,$t=$localize`:␟ecb2e91e2775870da0ea8e51b4951994493672fb␟3974228098480354844:Delete Series`,q=$localize`:␟8fcf89a6df3c02c129a41d4b202221a4013f107c␟941732683947462971:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["menu","matMenu"],Me,pe,he,le,Ee,Xe,xt,dt,Ct,Qt,_n,In,rn,$t,q,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["binding","","mod","Bookings","bind","status",3,"modelChange","model","sys"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["class","flex items-center px-2 space-x-2",4,"ngIf"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-base-200","sm:border-none","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["matRipple","","show-attendees","",1,"clear","text-xs","underline",3,"click"],[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-base-200"],["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm","flex-1","w-px"],[1,"opacity-60","truncate","w-full",3,"title"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","w-[calc(100%-1rem)]","sm:w-[16rem]",3,"click"],["class","mt-4 sm:p-4 sm:bg-base-100 sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-base-200 flex-grow-[3] min-w-1/3 sm:w-[16rem]",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-neutral","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2","text-base","pr-2"],[1,"text-2xl","text-error"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],[1,"opacity-30","text-xs"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10",3,"bg-success","border-none","pointer-events-none","click",4,"ngIf"],["icon","","matRipple","","class","bg-secondary rounded text-white h-12 w-12",3,"matMenuTriggerFor",4,"ngIf"],["btn","","matRipple","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"text-2xl"],[1,"pr-4"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-12","w-12",3,"matMenuTriggerFor"],[1,"mx-3","my-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["order","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["order","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-3"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","opacity-60"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],[1,"pointer-events-none",3,"src","features","options"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-base-200"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"mx-3","pt-2","text-lg","font-medium"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"absolute","inset-0","z-50"],[3,"click","list","host"],["mat-menu-item","","mat-dialog-close","",3,"click","matTooltip","disabled"]]},template:function(pe,he){if(1&pe){const le=n.RV6();n.j41(0,"div",16)(1,"div",17)(2,"i",18),n.mxI("modelChange",function(Xe){return n.eBV(le),n.DH7(he.room_status,Xe)||(he.room_status=Xe),n.Njj(Xe)}),n.k0s(),n.DNE(3,j,1,0,"div",19)(4,S,2,1,"div",20),n.j41(5,"h3",21),n.EFF(6),n.k0s(),n.j41(7,"div",22)(8,"div",23)(9,"status-pill",24)(10,"div",25)(11,"div"),n.EFF(12),n.k0s(),n.DNE(13,w,2,1,"div",26),n.k0s()()(),n.DNE(14,A,3,2,"div",27),n.k0s()(),n.j41(15,"div",28)(16,"div",29)(17,"h3",30),n.pXf(18,1),n.k0s(),n.j41(19,"div",31)(20,"app-icon"),n.EFF(21,"event"),n.k0s(),n.j41(22,"div"),n.EFF(23),n.nI1(24,"date"),n.k0s()(),n.j41(25,"div",31)(26,"app-icon"),n.EFF(27,"schedule"),n.k0s(),n.j41(28,"div",25)(29,"div"),n.EFF(30),n.k0s(),n.DNE(31,L,2,1,"div",26),n.k0s()(),n.j41(32,"div",31)(33,"app-icon"),n.EFF(34,"map"),n.k0s(),n.j41(35,"div"),n.DNE(36,G,2,1,"ng-container",32),n.EFF(37),n.k0s()(),n.DNE(38,O,5,2,"div",33),n.k0s(),n.j41(39,"div",34)(40,"div",35)(41,"h3",36),n.pXf(42,2),n.k0s(),n.j41(43,"button",37),n.bIt("click",function(){return n.eBV(le),n.Njj(he.show_attendees=!0)}),n.pXf(44,3),n.k0s()(),n.j41(45,"div",38)(46,"div",39)(47,"div",40),n.EFF(48),n.k0s(),n.j41(49,"div",41),n.pXf(50,4),n.k0s()(),n.j41(51,"div",39)(52,"div",40),n.EFF(53),n.k0s(),n.j41(54,"div",41),n.pXf(55,5),n.k0s()(),n.j41(56,"div",39)(57,"div",40),n.EFF(58),n.k0s(),n.j41(59,"div",41),n.pXf(60,6),n.k0s()()(),n.j41(61,"h3",42),n.pXf(62,7),n.k0s(),n.j41(63,"div",43),n.nrm(64,"a-user-avatar",44),n.j41(65,"div",45)(66,"div"),n.EFF(67),n.k0s(),n.j41(68,"div",46),n.EFF(69),n.k0s()()()(),n.DNE(70,te,6,1,"ng-container",32),n.j41(71,"button",47),n.bIt("click",function(){return n.eBV(le),n.Njj(he.viewLocation())}),n.DNE(72,ie,2,4,"ng-container",32),n.k0s(),n.DNE(73,Y,4,1,"div",48)(74,J,6,2,"ng-container",32),n.j41(75,"button",49)(76,"app-icon"),n.EFF(77,"close"),n.k0s()(),n.DNE(78,ae,2,2,"div",50),n.k0s(),n.j41(79,"mat-menu",51,0),n.DNE(81,_e,6,2,"button",52),n.j41(82,"button",53),n.bIt("click",function(){return n.eBV(le),n.Njj(he.remove.emit())}),n.j41(83,"div",54)(84,"app-icon",55),n.EFF(85,"delete"),n.k0s(),n.j41(86,"div"),n.pXf(87,8),n.k0s()()(),n.DNE(88,xe,6,0,"button",56)(89,Fe,6,2,"button",57),n.k0s()()}2&pe&&(n.R7$(2),n.R50("model",he.room_status),n.Y8G("sys",null==he.space?null:he.space.id),n.R7$(),n.Y8G("ngIf",!(null!=he.event&&null!=he.event.system&&null!=he.event.system.images&&he.event.system.images.length)),n.R7$(),n.Y8G("ngIf",null==he.event||null==he.event.system||null==he.event.system.images?null:he.event.system.images.length),n.R7$(),n.AVh("pt-4",!(null!=he.event&&null!=he.event.system&&null!=he.event.system.images&&he.event.system.images.length)),n.R7$(),n.SpI(" ",he.event.title," "),n.R7$(3),n.Y8G("status",he.event_status),n.R7$(),n.AVh("pr-4",he.timezone),n.R7$(2),n.JRh(he.period),n.R7$(),n.Y8G("ngIf",he.timezone),n.R7$(),n.Y8G("ngIf","done"!==he.event.state),n.R7$(9),n.SpI(" ",n.i5U(24,34,he.event.date,"EEEE, dd LLLL y")," "),n.R7$(7),n.JRh(he.period),n.R7$(),n.Y8G("ngIf",he.timezone),n.R7$(5),n.Y8G("ngIf",he.level),n.R7$(),n.SpI(" ",(null==he.event||null==he.event.system?null:he.event.system.display_name)||(null==he.event||null==he.event.system?null:he.event.system.name)||(null==he.event?null:he.event.location)," "),n.R7$(),n.Y8G("ngIf",he.building),n.R7$(10),n.JRh(he.accept_count||0),n.R7$(5),n.JRh(he.declined_count||0),n.R7$(5),n.JRh(he.pending_count||0),n.R7$(6),n.Y8G("user",he.event.organiser),n.R7$(3),n.JRh(null==he.event.organiser?null:he.event.organiser.name),n.R7$(),n.Y8G("title",he.event.host),n.R7$(),n.SpI(" ",he.event.host," "),n.R7$(),n.Y8G("ngIf",he.has_catering),n.R7$(2),n.Y8G("ngIf",!he.hide_map),n.R7$(),n.Y8G("ngIf",he.body),n.R7$(),n.Y8G("ngIf",he.has_assets),n.R7$(4),n.Y8G("ngIf",he.show_attendees),n.R7$(3),n.Y8G("ngIf",!he.hide_edit),n.R7$(7),n.Y8G("ngIf",he.event.recurring_event_id),n.R7$(),n.Y8G("ngForOf",he.custom_actions))},data:{animation:[k.Ft]}})}return qe})()},6101:(Ot,ve,s)=>{"use strict";s.d(ve,{W:()=>qe});var e=s(467),n=s(2091),d=s(1038),h=s(9928),g=s(9714),b=s(696),E=s(4421),_=s(4670),u=s(6651),I=s(9090),k=s(5006),y=s(8712),x=s(1713),M=s(8728),B=s(3020),K=s(8841),P=s(3921),j=s(522),S=s(3176),w=s(3601),m=s(4415),v=s(1168),A=s(4233),L=s(8026),G=s(5645),O=s(6727),W=s(1416),U=s(1761),$=s(7141),te=s(4525),ie=s(2671),me=s(8363),Y=s(1841),F=s(2011),N=s(5204),J=s(3693),ae=s(6088),_e=s(3747),xe=s(3953),Fe=s(4006);const Ae=["book/rooms","book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];let qe=(()=>{class Ne extends v.Tv{get options_value(){return this._options.getValue()}get is_multiday(){return this._event.getValue()?.duration>1440}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}constructor(pe,he,le,Ee,Xe,xt){super(),this._org=pe,this._router=he,this._payments=le,this._settings=Ee,this._assets=Xe,this._dialog=xt,this._view=new h.t("form"),this._options=new h.t({zone_ids:[],features:[]}),this._form=(0,U.Ss)(void 0,this._settings),this._date=new h.t(Date.now()),this._event=new h.t(null),this._loading=new h.t(""),this._changed=new h.t(0),this.last_success=new O.L(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.booking_rules=this._org.building_list.pipe((0,I.n)(Ct=>Promise.all(Ct.map(Qt=>(0,d.bpY)(Qt.id,"room_booking_rules").toPromise()))),(0,k.T)(Ct=>{const Qt={};for(const _n of Ct)Qt[_n.id]=_n.details instanceof Array?_n.details:[];return Qt}),(0,y.t)(1)),this.spaces=(0,g.zV)([this._options.pipe((0,x.w)("zone_ids")),this._org.active_region.pipe((0,M.p)(Ct=>!!Ct),(0,x.w)("id")),this._org.active_building.pipe((0,M.p)(Ct=>!!Ct),(0,x.w)("id"))]).pipe((0,B.B)(300),(0,K.M)(Ct=>this.unsubWith("bind:")),(0,I.n)(([{zone_ids:Ct}])=>{this._loading.next("Loading space list for location...");const Qt=this._settings.get("app.use_region");return Ct?.length||(Ct=[(Qt?this._org.region?.id:this._org.building?.id)||this._org.building?.id]),(0,b.p)(Ct.map(_n=>(0,me.Ot)(_n).pipe((0,P.W)(()=>(0,E.of)([])))))}),(0,k.T)(Ct=>(0,v.Bq)(Ct)),(0,K.M)(Ct=>this._loading.next("")),(0,y.t)(1)),this.features=this.spaces.pipe((0,k.T)(Ct=>(0,v.Am)((0,v.Bq)(Ct.map(Qt=>Qt.features))))),this.filtered_spaces=(0,g.zV)([this.spaces,this.options]).pipe((0,k.T)(([Ct,{show_fav:Qt,features:_n,capacity:In}])=>Ct.filter(rn=>{const $t=((0,v.Ny)()?.email||"@").split("@")[1],q=(this._settings.get("app.events.restrict_spaces")||{})[$t],Ie=this._settings.get("app.events.limit_spaces")||{},se=Object.keys(Ie),fe=rn.zones.find(Ke=>se.includes(Ke));return rn.bookable&&(!q||rn.zones.includes(q))&&(!fe||Ie[fe]===$t)&&(!Qt||this.favorite_spaces.includes(rn.id))&&_n.every(Ke=>rn.features.includes(Ke))&&rn.capacity>=Math.max(0,In||0)}).slice(0,Math.min(100,Ct.length))),(0,y.t)(1)),this._space_bookings=(0,g.zV)([this.spaces,this.filtered_spaces]).pipe((0,j.F)(([Ct],[Qt])=>Ct!==Qt),(0,I.n)(([Ct,Qt])=>(0,g.zV)((Qt||[]).map(_n=>{const In=(0,d.f_4)(_n.id,"Bookings").binding("bookings"),rn=In.listen().pipe((0,k.T)($t=>($t||[]).map(q=>new O.L(q))));return this.hasSubscription(`bind:${_n.id}`)||this.subscription(`bind:${_n.id}`,In.bind()),rn}))),(0,y.t)(1)),this.current_available_spaces=(0,g.zV)([this.filtered_spaces,this._space_bookings,this.booking_rules,(0,_.h)(this.form.valueChanges,(0,u.O)(1e3)),this._changed]).pipe((0,B.B)(300),(0,k.T)(([Ct,Qt,_n])=>{this._loading.next("Updating available spaces...");let{ical_uid:In,date:rn,duration:$t,all_day:q}=this._form.getRawValue();return((Ct=(0,v.XE)(Ct,{date:rn,duration:$t,resource:null,host:(0,v.Ny)()},_n[this._org.building?.id]||[]))||[]).filter((Ie,se)=>{const fe=q?(0,w.o)(rn).valueOf():rn,Ke=fe+6e4*(q?Math.max(1440,$t):$t);let It=Qt[se]||[];return this.last_success?.system?.id===Ie.id&&(It=[...It,this.last_success]),(0,Y.U1)(fe,Ke,It.filter(Kt=>Kt.ical_uid!==In))}).sort((Ie,se)=>Ie.capacity-se.capacity)}),(0,K.M)(Ct=>this._loading.next("")),(0,y.t)(1)),this.future_available_spaces=(0,g.zV)([this.filtered_spaces,this.booking_rules,this.form.valueChanges.pipe((0,B.B)(400),(0,S.Z)({}))]).pipe((0,M.p)(()=>!this._loading.getValue()),(0,B.B)(500),(0,I.n)(([Ct,Qt])=>{if(!Ct.length)return(0,E.of)([]);this._loading.next("Retrieving available spaces...");let{date:_n,duration:In,all_day:rn}=this._form.getRawValue();return(this.has_calendar?W.UR:G.kX)((Ct=(0,v.XE)(Ct,{date:_n,duration:In,resource:null,host:(0,v.Ny)()},Qt[this._org.building?.id]||[])).map(({id:q})=>q),rn?(0,w.o)(_n).valueOf():_n,rn?Math.max(1440,In):In,this?.event?.resources[0]?.id||this.event?.system?.id||this.event?.id||void 0,void 0,[this.event?.date,this.event?.duration]).pipe((0,k.T)(q=>{var Ie=Ct.filter((se,fe)=>q[fe]);return(0,v.XE)(Ie,{date:_n,duration:In,resource:null,host:(0,v.Ny)()},Qt[this._org.building?.id]||[])}),(0,P.W)(q=>[]))}),(0,K.M)(Ct=>this._loading.next("")),(0,y.t)(1)),this.available_spaces=this._date.pipe((0,I.n)(Ct=>Math.abs((0,m.c)(Ct,Date.now()))<(this._settings.get("app.events.cache_duration_in_days")||14)?this.current_available_spaces:this.future_available_spaces),(0,y.t)(1)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new F.J(this._org),this.subscription("router.events",this._router.events.subscribe(Ct=>{Ct instanceof n.wF&&!Ae.some(Qt=>Ct.url.includes(Qt))&&this.clearForm()}));const dt={};this.subscription("form_change",this._form.valueChanges.subscribe(({date:Ct,duration:Qt})=>{(Ct&&Ct!==dt.date||Qt&&Qt!==dt.duration)&&(this._assets.setOptions({date:this.form.value.date,duration:this.form.value.duration}),dt.date=Ct,dt.duration=Qt),Ct&&Ct!==this._date.getValue()&&this._date.next(Ct),this.storeForm()}))}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(pe){this.timeout("set_view",()=>this._view.next(pe),50)}setOptions(pe){this._options.next({...this._options.getValue(),...pe})}newForm(pe=new O.L({all_day:this._settings.get("app.events.all_day_default")})){var he=this;return(0,e.A)(function*(){if(he._event.next(pe),pe.recurring_event_id){const le=yield(0,W.ue)(pe.recurring_event_id).toPromise().catch(Ee=>null);le&&(he._event.getValue().recurrence={...le.recurrence,_pattern:le.recurrence.pattern})}he._assets.setOptions({ignore:(0,v.Bq)(pe.linked_bookings?.map(le=>le.asset_ids||[le.asset_id])||[])});for(const le in pe.resources){const Ee=pe.resources[le];pe.resources[le]=yield he._space_pipe.transform(Ee.id||Ee.email)}he._date.next(pe.date),he.timeout("post-event-form",()=>{he._form.patchValue({date:pe.date||he._form.value.date})},1e3),he.resetForm()})()}resetForm(){this._form.reset();const pe=this._event.getValue()||{extension_data:{}};this._assets.setOptions({ignore:(0,v.Bq)(pe.linked_bookings?.map(le=>le.asset_ids||[le.asset_id])||[])});const he=!!pe.extension_data.catering[0];this._form.patchValue({...pe.extension_data,...pe,duration:pe.duration>=720?30:pe.duration,organiser:pe?.organiser||(0,v.Ny)()||new J.KJ({email:pe?.host}),catering_charge_code:pe.extension_data.catering[0]?.charge_code||(pe.id&&he?" ":""),assets:(pe.extension_data.assets||[]).map(le=>new _e.Y({...le,event:pe}))}),this._form.patchValue({date:pe.date||this._form.value.date,date_end:pe.date_end||this._form.value.date_end}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){if(!sessionStorage.getItem("PLACEOS.event_form"))return this.newForm();const pe=JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}");pe.id&&pe.id!==this._event.getValue()?.id&&(0,W.ue)(pe.id).subscribe(he=>{this._event.next(he),this._assets.setOptions({ignore:(0,v.Bq)(he.linked_bookings?.map(le=>le.asset_ids||[le.asset_id])||[])})}),this._form.patchValue({...pe})}openEventLinkModal(pe=!1){const he=this._form;if(he.markAllAsTouched(),!he.valid&&!pe)return;const le=new O.L({...he.getRawValue(),assets:[]});this._dialog.open(ie.t,{data:le}).afterClosed().subscribe(Xe=>Xe?this._router.navigate(["/"]):"")}postForm(pe=!1,he=[],le=!1){var Ee=this;return new Promise(function(){var Xe=(0,e.A)(function*(xt,dt){Ee._loading.next("Creating event...");const Ct=Ee._form;Ct.markAllAsTouched();const Qt=Ee.event||new O.L;if(!Ct.valid&&!pe)return Ee._loading.next(""),dt(`Some form fields are invalid. [${(0,v.F7)(Ct).join(", ")}]`);const _n=Ee.event?.ical_uid;let In=Ee._form.getRawValue(),{id:rn,host:$t,date:q,duration:Ie,creator:se,all_day:fe,assets:Ke,recurrence:It}=In,Kt=Ct.get("resources")?.value||[];he.length&&(Kt=Kt.filter(ze=>!he.includes(ze.email)&&!he.includes(ze.id)));let vn=Ct.get("catering")?.value||[];It?._pattern&&"none"!==It?._pattern&&(Ee.form.patchValue({recurring:!0}),In=Ee._form.getRawValue());let Pt=!1,an=Kt.some(ze=>!Qt.resources?.find(Bt=>Bt.id===ze.id));(!rn||q!==Qt.date||Ie!==Qt.duration)&&Kt.length&&(Pt=!0,yield Ee.checkSelectedSpacesAreAvailable(Kt,fe?(0,w.o)(q).valueOf():q,fe?Math.max(1440,Ie):Ie,_n||rn||"").catch(ze=>{throw Ee._loading.next(""),dt(ze),ze})),Kt=Ct.get("resources")?.value||[];const Et=$t===(0,v.Ny)()?.email||se===(0,v.Ny)()?.email;if(!Kt.length&&Ee._settings.get("app.events.no_space_resource")){const ze=yield Ee._space_pipe.transform(Ee._settings.get("app.events.no_space_resource"));Kt.push(ze)}const bt=(0,v.Am)([...In.attendees,In.organiser||(0,v.Ny)()],"email");if(!Kt.length&&bt.find(ze=>ze.is_external)){Ee._loading.next("");const ze="External attendees require a space to be booked";throw dt(ze),ze}const Yt=Kt[0]?.id,Xt=rn?{system_id:Ee.event?.resources[0]?.id||Ee.event?.system?.id||Yt}:{};if(Et&&!le&&(Xt.calendar=$t||se),Ee._payments.payment_module&&Kt.length){const ze=yield Ee._payments.makePayment({type:"space",resource_name:Kt[0].display_name||Kt[0].name,date:q,duration:Ie,all_day:fe});if(!ze?.success)return Ee._loading.next("");In.extension_data={invoice:ze,invoice_id:ze.invoice_id}}const nn=In.date;for(const ze of vn)ze.notes=In.catering_notes,ze.charge_code=In.catering_charge_code;if(Kt.length){let[ze,Bt]=[0,0];for(const Te of Kt){const Ge=Ee._settings.get(`app.events.overflow.${Te.id}`);Ge?.setup&&(ze=Math.max(ze,Ge.setup)),Ge?.breakdown&&(Bt=Math.max(Bt,Ge.breakdown))}In.setup=In.setup_time||ze,In.breakdown=In.breakdown_time||Bt,In.setup_time=In.setup_time||ze,In.breakdown_time=In.breakdown_time||Bt}const yn=(Ke||[]).map(ze=>new _e.Y(ze).toJSON()),Mn=yield Ee._makeBooking(new O.L({...In,old_system:Ee.event?.system,host:Ee._settings.get("app.events.force_host")||(Ee._settings.get("app.events.room_as_host")?In.resources[0].email:"")||In.host,title:In.title||"Space Booking",attendees:bt.map(ze=>{const Bt={...ze};return delete Bt.visit_expected,Bt}),date:nn,catering:vn,assets:yn,extension_data:Ee._settings.get("app.events.force_host")||Ee._settings.get("app.events.room_as_host")?{host_override:In.host,department:In.organiser?.department||(0,v.Ny)()?.department}:{department:In.organiser?.department||(0,v.Ny)()?.department}}),Xt).catch(ze=>{throw dt(ze),Ee._loading.next(""),ze}),Ln=((0,v.Ny)()?.email||"@").split("@")[1],Fn=bt.filter(ze=>ze.is_external&&ze.email!==Qt.host&&!ze.email.includes(Ln)&&ze.visit_expected);let $n=!1;const Ht=function(){var ze=(0,e.A)(function*(Bt){if(Ee.form.value.id){if($n)return void(0,v.UG)(`Unable to update all asset requests for event.\n${Bt}`)}else yield(0,W.Nn)(Mn.id,Kt.length?{calendar:Ee.form.value.host||(0,v.Ny)()?.email,system_id:Kt[0].id}:{}).toPromise(),console.warn("Couldn't update asset requests",Bt),(0,v.UG)(409===Bt?.status?"Some assets are already booked for the selected time":"Unable to book the selected assets.");throw Ee._loading.next(""),Bt});return function(Te){return ze.apply(this,arguments)}}();if(Fn.length&&(yield(0,G.Kq)(Mn,"visitor",Fn).catch(Ht)),Ke?.length||Qt.extension_data.assets?.length){$n=!0;const ze=yield(0,N.en)(Mn,{date:q,duration:Ie,host:$t,all_day:fe,location_name:Kt[0]?.display_name||Kt[0]?.name||"",location_id:Kt[0]?.id||"",zones:(0,v.Am)([Ee._org.organisation.id,Ee._org.region?.id,Ee._org.building?.id,...Kt[0]?.zones]).filter(Bt=>!!Bt),reset_state:Pt},Ke,an||Pt).catch(Ht);if(!ze)throw"Unable to validate asset requests";yield ze(),$n=!1}Ee.clearForm(),Ee.last_success=Mn,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(Mn)),Ee.setView("success"),Ee.timeout("post_finshed",()=>Ee._changed.next(Date.now())),xt(Mn),Ee._loading.next("")});return function(xt,dt){return Xe.apply(this,arguments)}}())}_makeBooking(pe,he){var le=this;return(0,e.A)(function*(){return le._updateVisitorList(pe.attendees),(le.has_calendar?(0,W.Az)(pe,he):(0,G.X0)((0,$.s8)({...pe.toJSON(),status:le._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,k.T)(Ee=>(0,U.Uv)(Ee)))).toPromise()})()}checkSelectedSpacesAreAvailable(pe,he,le,Ee){var Xe=this;return(0,e.A)(function*(){if(!pe?.length)return!0;if(Xe.has_calendar){if(!(yield(0,W.UR)(pe.map(({id:dt})=>dt),he,le,Xe?.event?.resources[0]?.id||Xe.event?.system?.id||Xe.event?.id||void 0,void 0,[Xe.event?.date,Xe.event?.duration]).toPromise()).every(dt=>dt))throw(pe.length>1?"The selected space":"Some of the selected spaces")+" is not available at the selected time"}else if(!(yield(0,G.kX)(pe.map(dt=>dt.id),he,le,Ee).toPromise()).every(dt=>dt))throw(pe.length>1?"The selected space":"Some of the selected spaces")+" are not available at the selected time";return!0})()}_updateVisitorList(pe){const he=pe.filter(Ee=>Ee.is_external);if(!he?.length)return;const le=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",(0,v.Am)([...le.filter(Ee=>!Ee.includes(Ee.email)),...he.map(Ee=>`${Ee.email}|${Ee.name}|${Ee.organisation}`)]))}static#e=this.\u0275fac=function(he){return new(he||Ne)(xe.KVO(L.y),xe.KVO(n.Ix),xe.KVO(te.h),xe.KVO(A.h),xe.KVO(ae.R),xe.KVO(Fe.bZ))};static#t=this.\u0275prov=xe.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},2671:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>I});var e=s(4006),n=s(4571),h=(s(6727),s(1168)),g=s(3953),b=s(9434),E=s(6600),_=s(6781),u=s(4616);let I=(()=>{class k{constructor(x,M){this._event=x,this._dialog=M,this.outlook_link=(0,n.gP)(this._event),this.google_link=(0,n.dB)(this._event),this.ical_link=(0,n._V)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,h.UG)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}static#e=this.\u0275fac=function(M){return new(M||k)(g.rXU(e.Vh),g.rXU(e.CP))};static#t=this.\u0275cmp=g.VBU({type:k,selectors:[["event-link-modal"]],decls:24,vars:13,consts:()=>{let x,M,B,K,P;return x=$localize`:␟29e3480e3d010232704522cde3ca29d23cc7725f␟5139383754155835256:Add event to your calendar`,M=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,B=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,K=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,P=$localize`:␟4dc1e9a4bbd21cf153990984cd4ecb4444117098␟6327967827692127661: Close `,[x,M,B,K,P,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"click","href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["btn","","matRipple","",1,"w-64",3,"click"],["icon","","matRipple","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(M,B){1&M&&(g.j41(0,"div",5),g.pXf(1,0),g.k0s(),g.j41(2,"div",6)(3,"a",7),g.nI1(4,"sanitize"),g.bIt("click",function(){return B.has_actioned=!0}),g.nrm(5,"img",8),g.j41(6,"span"),g.pXf(7,1),g.k0s()(),g.j41(8,"a",7),g.nI1(9,"sanitize"),g.bIt("click",function(){return B.has_actioned=!0}),g.nrm(10,"img",9),g.j41(11,"span"),g.pXf(12,2),g.k0s()(),g.j41(13,"a",7),g.nI1(14,"safe"),g.bIt("click",function(){return B.has_actioned=!0}),g.j41(15,"app-icon",10),g.EFF(16,"download"),g.k0s(),g.j41(17,"span"),g.pXf(18,3),g.k0s()(),g.j41(19,"button",11),g.bIt("click",function(){return B.close()}),g.pXf(20,4),g.k0s()(),g.j41(21,"button",12)(22,"app-icon"),g.EFF(23,"close"),g.k0s()()),2&M&&(g.R7$(3),g.Y8G("href",g.i5U(4,4,B.outlook_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(9,7,B.google_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(14,10,B.ical_link,"url"),g.B4B),g.R7$(8),g.Y8G("mat-dialog-close",B.has_actioned))},dependencies:[e.tx,b.R,E.r6,_.m,u.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return k})()},6727:(Ot,ve,s)=>{"use strict";s.d(ve,{L:()=>m,i:()=>S});var e=s(1168),n=s(5987),d=s(9548),h=s(7926),g=s(2037),b=s(3601),E=s(4512),_=s(5818),u=s(4903),I=s(9255),k=s(9015),y=s(9824),x=s(5555),M=s(735),B=s(3693),K=s(1841),P=s(3747);let j={id:"default",name:"Default User"};function S(v){v&&(j=v)}const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class m{get images(){return this.extension_data.images||[]}get is_all_day(){return this.all_day||this.duration>=720}get view_access(){return this.extension_data.view_access||"PRIVATE"}ext(A){return this.extension_data[A]}constructor(A={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=A.event_id||A.id||"",this.event_start=A.event_start||(0,n._)(A.date||(0,d.X)((0,h.z)(new Date,3),{nearestTo:5})),this.event_end=A.event_end||(0,n._)((0,h.z)(1e3*this.event_start,A.duration||30)),this.calendar=A.calendar||"",this.creator=(A.creator||j.email)?.toLowerCase()||"",this.host=(A.host||this.creator||A.host_email||j.email||"").toLowerCase();const L=A.attendees||[];this.attendees=L.filter(ie=>!ie.resource).map(ie=>new B.KJ(ie)),this.resources=(0,e.Am)(A.resources||L.filter(ie=>ie.resource).map(ie=>new M.$(ie)),"email")||[],this.title=A.title,this.body=A.body||"",this.private=!!A.private,this.all_day=!!A.all_day,this.date=1e3*this.event_start||this.date,this.date_end=1e3*this.event_end||this.date_end,this.duration=(0,g.o)(this.date_end,this.date),this.all_day&&(this.date=(0,b.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-1),this.date_end=(0,E.D)((0,h.z)(this.date,this.duration).valueOf()-1).getTime());const G=this.body.match(/\[ID\|([^\]]+)\]/),O=G?G[1]:null;this.timezone=A.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.meeting_url=A.meeting_url||A.online_meeting_url||"",this.meeting_id=O||A.meeting_id||A.online_meeting_id||"",this.meeting_provider=A.meeting_provider||A.online_meeting_provider||"",this.recurring=!!A.recurring,this.recurring_event_id=A.recurring_event_id||"",this.organiser=this.attendees.find(ie=>ie.email===this.host),this.from_bookings=A.from_bookings??!1,this.master=A.master?new m(A.master):null,this.mailbox=A.mailbox||"",this.ical_uid=A.ical_uid,this.linked_bookings=A.linked_bookings||[],this.update_master=A.update_master??!1,this.recurrence=A.recurring?{start:1e3*this.event_start||new Date(1e3*A.recurrence.range_start).valueOf(),end:A.recurrence.end||new Date(1e3*A.recurrence.range_end).valueOf(),interval:A.recurrence.interval,pattern:A.recurrence.pattern,occurrences:A.recurrence.occurrences,days_of_week:A.recurrence.days_of_week?.map(ie=>"number"==typeof ie?ie:w.indexOf(ie))||[]}:{};const W=A.system;W?.email&&!this.resources.find(ie=>ie.email===W.email)&&this.resources.push(new M.$(W)),this.system=W||this.resources[0]||null,!W&&A.system_id&&(this.system={id:A.system_id}),this.old_system=A.old_system||A.system,this.is_system_event=this.body.includes("main_event_id"),this.attachments=A.attachments||[],this.extension_data=A.extension_data||{},this.status=(0,K.NU)({...A,...this})||"none",this.location=A.location||this.space?.display_name||this.space?.name||"",this.setup_time=A.setup_time||0,this.breakdown_time=A.breakdown_time||0,this.type="declined"===this.status?"cancelled":this.attendees.find(ie=>ie.is_external)?"external":"internal";for(const ie in A)ie in this||(this.extension_data[ie]=A[ie]||this.extension_data[ie]);const U={date:this.date,duration:this.duration,date_end:this.date_end,all_day:this.all_day,space:this.space,organiser:this.organiser};this.extension_data.catering=(this.extension_data.catering||[]).map(ie=>new x.M({...ie,event:U}));const $=this.linked_bookings.filter(ie=>"asset-request"===ie.booking_type).map(ie=>ie.extension_data?.request).filter(ie=>!!ie),te=($.length?$:this.extension_data.assets)||[];this.extension_data.images=this.extension_data.images||A.images||[],this.extension_data.assets=te.map(ie=>new P.Y({...ie,event:U}))}get guests(){return this.attendees.filter(A=>!!A.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,_.r)(this.date,Date.now())}get valid_catering(){return(this.ext("catering")||[]).filter(A=>A.deliver_at<this.date_end)}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const A=this.linked_bookings;return this._valid_asset_cache=(this.ext("assets")||[]).map(L=>new P.Y({...L,event:this})).filter(L=>L.deliver_at<this.date_end).map(L=>{const G=A.find(O=>O.extension_data.request_id===L.id);return G&&(L.state=G.approved?"approved":G.rejected?"rejected":"pending"),L}),this._valid_cache_expiry=(0,h.z)(Date.now(),5).valueOf(),this._valid_asset_cache}toJSON(){const A={...this},L=this.all_day?(0,b.o)(this.date):this.date,G=this.all_day?(0,E.D)(this.date_end).valueOf()+1:this.date_end;A.event_start=(0,n._)(L),A.event_end=(0,n._)(G);const O=this.attendees;this.recurring=this.recurrence?.pattern&&"none"!==this.recurrence._pattern,this.recurring&&(A.recurrence=(0,K.Ov)({...this.recurrence,start:this.date}),delete A.recurrence.start,delete A.recurrence.end),A.recurrence=A.recurrence&&Object.keys(A.recurrence).length?A.recurrence:null,A.attendees=(0,e.Am)([...O,...this.resources.map(W=>({...W,resource:!0}))],"email"),this.all_day&&(A.setup_time=0,A.breakdown_time=0,A.extension_data.all_day_date=(0,u.GP)(L,"yyyy-MM-dd")),A.extension_data.catering=A.extension_data.catering.map(W=>new x.M({...W,event:null})),A.extension_data.assets=A.extension_data.assets.map(W=>new P.Y({...W,event:null})),A.system_id=this.system?.id;for(const W of["catering","date","date_end","duration","status","linked_bookings","_valid_asset_cache","_valid_cache_expiry","type"])W in A&&delete A[W];return A.update_master||delete A.recurring_event_id,(0,e.Xm)(A),A}get state(){const A=new Date,L=this.date;return(0,I.Y)(A,(0,k.W)(L,{minutes:-15}))?"future":(0,I.Y)(A,L)?"upcoming":(0,I.Y)(A,(0,k.W)(L,{minutes:15}))?"started":(0,I.Y)(A,(0,k.W)(L,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const A=new Date;return this.is_today||(0,y.d)(A,(0,h.z)(this.date,-5))&&(0,I.Y)(A,(0,h.z)(this.date,this.duration))}}},1416:(Ot,ve,s)=>{"use strict";s.d(ve,{A5:()=>W,Az:()=>j,Fk:()=>O,Nn:()=>S,OA:()=>L,S:()=>G,UR:()=>te,UU:()=>x,ue:()=>B,zZ:()=>U});var e=s(1038),n=s(4421),d=s(9714),h=s(5006),g=s(3921),b=s(8385),E=s(3693),_=s(6727),u=s(7926),I=s(5987),k=s(6576);const y="/api/staff/v1/events";function x(ie){const me=(0,b.z)(ie);return(0,e.JtY)(`${y}${me?"?"+me:""}`).pipe((0,h.T)(Y=>Y.map(F=>new _.L(F))),(0,g.W)(Y=>(0,n.of)([])))}function B(ie,me={}){const Y=(0,b.z)(me);return(0,e.JtY)(`${y}/${encodeURIComponent(ie)}${Y?"?"+Y:""}`).pipe((0,h.T)(F=>new _.L(F)))}const j=(ie,me)=>{const Y=ie.update_master&&ie.recurring_event_id||ie.id;return delete ie?.status,Y?function P(ie,me,Y={},F="patch"){const N=(0,b.z)(Y);return("patch"===F?e.F6F:e.yJg)(`${y}/${encodeURIComponent(ie)}${N?"?"+N:""}`,new _.L(me).toJSON()).pipe((0,h.T)(J=>new _.L(J)))}(Y,{...ie,id:Y},me):function K(ie){return(0,e.bEY)(`${y}`,new _.L(ie).toJSON()).pipe((0,h.T)(me=>new _.L(me)))}(ie)};function S(ie,me={}){const Y=(0,b.z)(me);return(0,e.yHY)(`${y}/${encodeURIComponent(ie)}${Y?"?"+Y:""}`,{response_type:"void"})}function L(ie,me,Y,F={}){const N=(0,b.z)({...F,state:Y});return(0,e.bEY)(`${y}/${encodeURIComponent(ie)}/guests/${me}/checkin${N?"?"+N:""}`,"").pipe((0,h.T)(J=>new E.So(J)))}function G(ie,me,Y={}){const F=(0,b.z)(Y);return(0,e.bEY)(`${y}/${encodeURIComponent(ie)}/attendee${F?"?"+F:""}`,me).pipe((0,h.T)(N=>new E.So(N)))}function O(ie,me,Y={}){const F=(0,b.z)(Y);return(0,e.yHY)(`${y}/${encodeURIComponent(ie)}/attendee/${encodeURIComponent(me.email)}${F?"?"+F:""}`).pipe((0,h.T)(N=>new E.So(N)))}function W(ie,me,Y={}){const F=(0,b.z)({...Y});return(0,e.JtY)(`${y}/${encodeURIComponent(ie)}/metadata/${encodeURIComponent(me)}${F?"?"+F:""}`).pipe((0,h.T)(N=>N))}function U(ie,me,Y,F={}){const N=(0,b.z)({...F});return(0,e.F6F)(`${y}/${encodeURIComponent(ie)}/metadata/${encodeURIComponent(me)}${N?"?"+N:""}`,Y).pipe((0,h.T)(J=>J))}function te(ie,me,Y,F,N,J=[0,0]){const ae=(0,u.z)(me,Y).valueOf();return(0,d.zV)([(0,k.Sh)({system_ids:ie.join(),period_start:(0,I._)(me),period_end:(0,I._)(ae)}).pipe((0,g.W)(_e=>(0,n.of)([]))),F&&ie.includes(F)?(0,k.Yj)({period_start:(0,I._)(me),period_end:(0,I._)(ae),system_ids:F}):(0,n.of)([])]).pipe((0,h.T)(([_e,xe])=>{const Fe=ie.map(Ae=>!!_e.find(Ye=>Ye.id===Ae||Ye.resource?.id===Ae));for(const Ae of xe){if(!ie.includes(Ae.id))continue;const Ye=Ae.availability.filter(qe=>!(qe.date===J[0]&&qe.duration===J[1]));Fe[ie.indexOf(Ae.id)]=!Ye.find(qe=>"free"!==qe.status)}return Fe}))}},7758:(Ot,ve,s)=>{"use strict";s.d(ve,{j:()=>Ne});var e=s(467),n=s(177),d=s(9417),h=s(8834),g=s(6600),b=s(5084),E=s(4006),_=s(3719),u=s(9631),I=s(9183),k=s(5951),y=s(8705),x=s(8765),M=s(827),B=s(3953);function K(Me,pe){if(1&Me){const he=B.RV6();B.j41(0,"button",8),B.bIt("click",function(){B.eBV(he);const Ee=B.XpG();return B.Njj(Ee.close.emit())}),B.j41(1,"app-icon"),B.EFF(2,"arrow_back"),B.k0s()()}}function P(Me,pe){1&Me&&B.nrm(0,"div",9)}function j(Me,pe){1&Me&&(B.j41(0,"div",18),B.EFF(1," Host "),B.k0s())}function S(Me,pe){if(1&Me&&(B.j41(0,"div",11),B.nrm(1,"a-user-avatar",12),B.j41(2,"div",13)(3,"div",14),B.EFF(4),B.k0s(),B.DNE(5,j,2,0,"div",15),B.k0s(),B.j41(6,"div",16),B.nrm(7,"div",17),B.k0s()()),2&Me){const he=B.XpG().$implicit,le=B.XpG();B.R7$(),B.Y8G("user",he),B.R7$(3),B.JRh(he.name),B.R7$(),B.Y8G("ngIf",le.host===he.email),B.R7$(2),B.AVh("bg-success",he.checked_in)("bg-pending",!he.checked_in),B.Y8G("matTooltip",he.checked_in?"Checked in":"Not checked in")}}function w(Me,pe){if(1&Me&&(B.qex(0),B.DNE(1,S,8,8,"div",10),B.bVm()),2&Me){const he=pe.$implicit,le=B.XpG();B.R7$(),B.Y8G("ngIf",!he.resource&&(le.host!==he.email||le.show_host))}}let m=(()=>{class Me{constructor(){this.host="",this.show_host=!0,this.list=[],this.hide_close=!1,this.custom_title="",this.close=new B.bkB}static#e=this.\u0275fac=function(le){return new(le||Me)};static#t=this.\u0275cmp=B.VBU({type:Me,selectors:[["attendee-list"]],inputs:{host:"host",show_host:"show_host",list:"list",hide_close:"hide_close",custom_title:"custom_title"},outputs:{close:"close"},decls:8,vars:5,consts:()=>{let he;return he=$localize`:␟c68a77fe1aa97a8e5588bafc6b5cb8ced3e3d288␟5922903057904788374: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[he,[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-base-100"],[1,"flex","items-center","border-b","border-base-200","p-2","min-h-12"],["close","","icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","text-center","font-medium"],["class","w-12",4,"ngIf"],[1,"flex-1","w-full","overflow-auto"],[4,"ngFor","ngForOf"],["close","","icon","","matRipple","",3,"click"],[1,"w-12"],["attendee","","class","flex items-center p-2 space-x-2 hover:bg-base-200",4,"ngIf"],["attendee","",1,"flex","items-center","p-2","space-x-2","hover:bg-base-200"],[3,"user"],[1,"flex-1","w-1/2"],[1,"truncate"],["class","opacity-60 text-sm",4,"ngIf"],[1,"p-2"],[1,"h-3","w-3","rounded-full",3,"matTooltip"],[1,"opacity-60","text-sm"]]},template:function(le,Ee){1&le&&(B.j41(0,"div",1)(1,"div",2),B.DNE(2,K,3,0,"button",3),B.j41(3,"div",4),B.pXf(4,0),B.k0s(),B.DNE(5,P,1,0,"div",5),B.k0s(),B.j41(6,"div",6),B.DNE(7,w,2,1,"ng-container",7),B.k0s()()),2&le&&(B.R7$(2),B.Y8G("ngIf",!Ee.hide_close),B.R7$(2),B.uP7(Ee.list.length)(Ee.custom_title?Ee.custom_title:1===Ee.list.length?"Attendee":"Attendees"),B.nnv(4),B.R7$(),B.Y8G("ngIf",!Ee.hide_close),B.R7$(2),B.Y8G("ngForOf",Ee.list))}})}return Me})();var v=s(1765),A=s(4035),G=(s(2671),s(711)),O=s(7535),W=s(5713),U=s(6727),$=s(6202),te=s(4046),ie=s(9434),me=s(1193),Y=s(4918),F=s(5277),N=s(907),J=s(3938),ae=s(9115),_e=s(4823),xe=s(4616),Fe=s(3476),Ae=s(3208),Ye=s(2011);let Ne=(()=>{class Me{ngOnInit(){return(0,e.A)(function*(){yield $.U5.pipe((0,te.$)(he=>!!he)).toPromise(),(0,U.i)((0,$.Ny)())})()}static#e=this.\u0275fac=function(le){return new(le||Me)};static#t=this.\u0275mod=B.$C({type:Me});static#n=this.\u0275inj=B.G2t({providers:[d.X1],imports:[n.MD,d.YN,d.X1,k.Wk,u.fS,_.RG,b.X6,h.Hl,E.hM,I.D6,y.c,x.h,g.pZ,M.l]})}return Me})();B.wjB(A.b,[n.Sq,n.bT,E.tx,ie.R,me.a,Y.S,F.H,N.F,J.J,ae.kk,ae.fb,ae.Cp,g.r6,_e.oV,m],[n.oe,n.vh,xe.a]),B.wjB(m,[n.Sq,n.bT,ie.R,me.a,g.r6,_e.oV],[]),B.wjB(v.w,[n.Sq,n.bT,ie.R,me.a,N.F],[n.P9,n.vh]),B.wjB(G.N,[n.bT,d.BC,d.cb,d.j4,d.JD,E.tx,I.LG,Fe.y,ie.R,g.r6],[]),B.wjB(W.E,[n.bT,E.tx,ie.R,Y.S,Ae.U,ae.kk,ae.fb,ae.Cp,g.r6,m],[n.Jj,n.vh,xe.a,Ye.J]),B.wjB(O.T,[n.bT,ie.R,Ae.U,g.r6],[n.vh])},7535:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>m});var e=s(467),n=s(1168),d=s(5713),h=s(2011),g=s(8026),E=(s(6727),s(3953)),_=s(4006);function u(v,A){if(1&v&&E.nrm(0,"img",15),2&v){const L=E.XpG(2);E.Y8G("source",L.event.images[0])}}function I(v,A){1&v&&(E.j41(0,"p",16),E.EFF(1," No description "),E.k0s())}function k(v,A){if(1&v&&(E.j41(0,"div"),E.EFF(1),E.k0s()),2&v){const L=E.XpG(2);E.R7$(),E.SpI(" ",L.space.display_name||L.space.name||""," ")}}function y(v,A){1&v&&(E.j41(0,"div",16),E.EFF(1," Room to be confirmed "),E.k0s())}function x(v,A){1&v&&(E.j41(0,"div",16),E.EFF(1," Remote event "),E.k0s())}function M(v,A){if(1&v){const L=E.RV6();E.j41(0,"button",2),E.bIt("click",function(){E.eBV(L);const O=E.XpG();return E.Njj(O.viewDetails())}),E.j41(1,"div",3),E.DNE(2,u,1,1,"img",4),E.k0s(),E.j41(3,"div",5)(4,"div",6),E.EFF(5),E.nI1(6,"date"),E.nI1(7,"date"),E.k0s(),E.j41(8,"h2",7),E.EFF(9),E.k0s(),E.j41(10,"div",8)(11,"p",9),E.EFF(12),E.k0s(),E.DNE(13,I,2,0,"p",10),E.k0s(),E.j41(14,"div",11)(15,"app-icon",12),E.EFF(16,"place"),E.k0s(),E.DNE(17,k,2,1,"div",13)(18,y,2,0,"div",10)(19,x,2,0,"div",10),E.k0s(),E.j41(20,"div",11)(21,"app-icon",12),E.EFF(22,"people"),E.k0s(),E.j41(23,"div",14),E.EFF(24),E.k0s()()()()}if(2&v){const L=E.XpG();E.R7$(2),E.Y8G("ngIf",null==L.event.images?null:L.event.images.length),E.R7$(3),E.Lme(" ",E.i5U(6,11,L.event.date,"EEE d MMM"),", ",E.i5U(7,14,L.event.date,L.time_format)," "),E.R7$(3),E.Y8G("title",L.event.title),E.R7$(),E.SpI(" ",L.event.title," "),E.R7$(3),E.JRh(L.raw_description),E.R7$(),E.Y8G("ngIf",!L.raw_description.trim()),E.R7$(4),E.Y8G("ngIf",L.is_onsite&&L.has_space),E.R7$(),E.Y8G("ngIf",L.is_onsite&&!L.has_space),E.R7$(),E.Y8G("ngIf",!L.is_onsite),E.R7$(5),E.SpI(" ",(null==L.event.attendees?null:L.event.attendees.length)||"0"," attending ")}}function B(v,A){if(1&v&&E.nrm(0,"img",15),2&v){const L=E.XpG(2);E.Y8G("source",L.event.images[0])}}function K(v,A){1&v&&(E.j41(0,"p",16),E.EFF(1," No description "),E.k0s())}function P(v,A){if(1&v&&(E.j41(0,"div"),E.EFF(1),E.k0s()),2&v){const L=E.XpG(2);E.R7$(),E.SpI(" ",L.space.display_name||L.space.name||""," ")}}function j(v,A){1&v&&(E.j41(0,"div",16),E.EFF(1," Room to be confirmed "),E.k0s())}function S(v,A){1&v&&(E.j41(0,"div",16),E.EFF(1," Remote event "),E.k0s())}function w(v,A){if(1&v){const L=E.RV6();E.j41(0,"button",17),E.bIt("click",function(){E.eBV(L);const O=E.XpG();return E.Njj(O.viewDetails())}),E.j41(1,"div",18),E.DNE(2,B,1,1,"img",4),E.k0s(),E.j41(3,"div",19)(4,"app-icon",20),E.EFF(5,"star"),E.k0s(),E.j41(6,"div",21),E.EFF(7,"Featured"),E.k0s()(),E.j41(8,"div",22)(9,"div",23)(10,"div",24),E.EFF(11),E.nI1(12,"date"),E.k0s(),E.j41(13,"div",25),E.EFF(14),E.nI1(15,"date"),E.k0s()(),E.j41(16,"div",26)(17,"h3",27),E.EFF(18),E.k0s(),E.j41(19,"div",28),E.EFF(20),E.nI1(21,"date"),E.nI1(22,"date"),E.nI1(23,"date"),E.k0s(),E.j41(24,"div",29)(25,"p",30),E.EFF(26),E.k0s(),E.DNE(27,K,2,0,"p",10),E.k0s(),E.j41(28,"div",11)(29,"app-icon",12),E.EFF(30,"place"),E.k0s(),E.DNE(31,P,2,1,"div",13)(32,j,2,0,"div",10)(33,S,2,0,"div",10),E.k0s(),E.j41(34,"div",11)(35,"app-icon",12),E.EFF(36,"people"),E.k0s(),E.j41(37,"div",14),E.EFF(38),E.k0s()()()(),E.j41(39,"div",31),E.EFF(40," View Details "),E.k0s()()}if(2&v){const L=E.XpG();E.R7$(2),E.Y8G("ngIf",null==L.event.images?null:L.event.images.length),E.R7$(9),E.SpI(" ",E.i5U(12,13,L.event.date,"MMM")," "),E.R7$(3),E.JRh(E.i5U(15,16,L.event.date,"d")),E.R7$(4),E.JRh(L.event.title),E.R7$(2),E.E5c(" ",E.i5U(21,19,L.event.date,"EEEE")," ",E.i5U(22,22,L.event.date,L.time_format)," - ",E.i5U(23,25,L.event.date+60*L.event.duration*1e3,L.time_format)," "),E.R7$(6),E.JRh(L.raw_description),E.R7$(),E.Y8G("ngIf",!L.raw_description.trim()),E.R7$(4),E.Y8G("ngIf",L.is_onsite&&L.has_space),E.R7$(),E.Y8G("ngIf",L.is_onsite&&!L.has_space),E.R7$(),E.Y8G("ngIf",!L.is_onsite),E.R7$(5),E.SpI(" ",(null==L.event.attendees?null:L.event.attendees.length)||"0"," attending ")}}let m=(()=>{class v{get time_format(){return this._settings.time_format}get is_onsite(){return"ONLINE"!==this.event?.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event?.extension_data.attendance_type}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(L,G,O){this._settings=L,this._dialog=G,this._org=O,this.raw_description=""}ngOnInit(){var L=this;return(0,e.A)(function*(){const G=new h.J(L._org),O=L.event.resources.find(W=>W.email!==L.group_event_calendar);L.space=yield G.transform(O?.id||O?.email),L.raw_description=L.removeHtmlTags(L.event.body)})()}removeHtmlTags(L){return(new DOMParser).parseFromString(L,"text/html").body.textContent||""}viewDetails(){this._dialog.open(d.E,{data:{event:this.event,concierge:!1}})}static#e=this.\u0275fac=function(G){return new(G||v)(E.rXU(n.h$),E.rXU(_.bZ),E.rXU(g.y))};static#t=this.\u0275cmp=E.VBU({type:v,selectors:[["group-event-card"]],inputs:{event:"event",featured:"featured"},decls:3,vars:2,consts:[["featured_card",""],["matRipple","","class","border border-base-300 hover:border-info flex flex-col bg-base-100 rounded-xl shadow hover:shadow-2xl overflow-hidden w-60 h-[20rem]",3,"click",4,"ngIf","ngIfElse"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","flex-col","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-60","h-[20rem]",3,"click"],[1,"relative","flex","items-center","justify-between","h-28","min-h-28","w-full","bg-base-200","overflow-hidden","border-b","border-base-200"],["auth","","class","absolute top-0 left-0 h-full w-full object-center object-cover",3,"source",4,"ngIf"],[1,"p-4","flex-1","h-1/2","w-full"],[1,"opacity-60","text-sm","text-left"],[1,"text-xl","mb-2","text-left","truncate","w-full",3,"title"],[1,"opacity-60","text-xs","flex-1","overflow-hidden","h-[4.5rem]","mb-2","text-left"],[1,"line-clamp-4"],["class","opacity-30",4,"ngIf"],[1,"flex","items-center","space-x-2","text-sm"],[1,"text-info"],[4,"ngIf"],[1,""],["auth","",1,"absolute","top-0","left-0","h-full","w-full","object-center","object-cover",3,"source"],[1,"opacity-30"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-[63rem]","max-w-full","h-56","mx-auto",3,"click"],[1,"relative","flex","items-center","justify-between","h-full","min-w-56","w-1/2","max-w-[20rem]","bg-base-200","overflow-hidden","border-r","border-base-200"],[1,"absolute","top-0","left-0","rounded-br-xl","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["details","",1,"flex","px-8","py-4","space-x-4"],[1,"flex","flex-col","items-center"],[1,"text-sm","opacity-30"],[1,"text-lg"],[1,"flex","flex-col","space-y-2"],[1,"text-left"],["time","",1,"text-sm","opacity-30","text-left"],[1,"h-20","overflow-hidden","text-left"],[1,"line-clamp-3"],[1,"absolute","top-4","right-4","bg-secondary","text-secondary-content","rounded","px-4","py-2","w-32","text-center","truncate"]],template:function(G,O){if(1&G&&E.DNE(0,M,25,17,"button",1)(1,w,41,28,"ng-template",null,0,E.C5r),2&G){const W=E.sdS(2);E.Y8G("ngIf",!O.featured)("ngIfElse",W)}},styles:["button[_ngcontent-%COMP%]{transition:box-shadow .3s,border .2s}"]})}return v})()},5713:(Ot,ve,s)=>{"use strict";s.d(ve,{E:()=>L});var e=s(467),n=s(3953),d=s(4006),h=s(1168),g=s(4351),b=s(2185),E=s(2011),_=s(1416);function u(G,O){if(1&G&&n.nrm(0,"img",36),2&G){const W=n.XpG();n.Y8G("source",null==W.event.extension_data?null:W.event.extension_data.images[0])}}function I(G,O){1&G&&(n.j41(0,"div",37)(1,"app-icon",38),n.EFF(2,"star"),n.k0s(),n.j41(3,"div",39),n.EFF(4,"Featured"),n.k0s()())}function k(G,O){if(1&G&&(n.qex(0),n.j41(1,"div",40)(2,"app-icon"),n.EFF(3,"star"),n.k0s(),n.j41(4,"div",41),n.EFF(5),n.k0s()(),n.j41(6,"div",40)(7,"app-icon"),n.EFF(8,"help"),n.k0s(),n.j41(9,"div",41),n.EFF(10),n.k0s()(),n.bVm()),2&G){const W=n.XpG();n.R7$(),n.AVh("bg-base-200",!W.is_interested)("text-base-content",!W.is_interested)("opacity-30",!W.is_interested)("bg-success",W.is_interested)("text-success-content",W.is_interested)("opacity-100",W.is_interested),n.R7$(4),n.SpI(" ",W.is_interested?"":"Not ","Interested "),n.R7$(),n.AVh("bg-base-200",!W.is_going)("text-base-content",!W.is_going)("opacity-30",!W.is_going)("bg-success",W.is_going)("text-success-content",W.is_going)("opacity-100",W.is_going),n.R7$(4),n.SpI(" ",W.is_going?"":"Not ","Going ")}}function y(G,O){if(1&G&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&G){let W;const U=n.XpG();n.R7$(),n.SpI(" ",null==(W=n.bMT(3,3,n.bMT(2,1,U.system_id)))?null:W.display_name," ")}}function x(G,O){1&G&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function M(G,O){if(1&G&&(n.j41(0,"div",42),n.EFF(1),n.k0s()),2&G){const W=n.XpG();n.R7$(),n.SpI(" ",W.is_onsite?"Can be attended online":"Remote Event"," ")}}function B(G,O){1&G&&(n.j41(0,"span",42),n.EFF(1," No description "),n.k0s())}function K(G,O){if(1&G&&n.nrm(0,"interactive-map",50),2&G){const W=n.XpG(2);n.Y8G("src",null==W.level?null:W.level.map_id)("features",W.features)("styles",W.styles)}}function P(G,O){if(1&G&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&G){let W;const U=n.XpG(2);n.R7$(),n.SpI(" ",null==(W=n.bMT(3,3,n.bMT(2,1,U.system_id)))?null:W.display_name," ")}}function j(G,O){1&G&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function S(G,O){if(1&G&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&G){const W=n.XpG(2);n.R7$(),n.Lme(" ",W.building.display_name||W.building.name,", ",(null==W.level?null:W.level.display_name)||(null==W.level?null:W.level.name)," ")}}function w(G,O){1&G&&(n.j41(0,"span",42),n.EFF(1," No location set for this event "),n.k0s())}function m(G,O){if(1&G&&(n.j41(0,"a",51),n.EFF(1),n.k0s()),2&G){const W=n.XpG(2);n.AVh("underline",W.event.meeting_url),n.Y8G("href",W.event.meeting_url,n.B4B),n.R7$(),n.SpI(" ",W.is_onsite?"Can be attended online":"Remote Event"," ")}}function v(G,O){if(1&G){const W=n.RV6();n.j41(0,"div",43)(1,"div",44)(2,"button",45),n.bIt("click",function(){n.eBV(W);const $=n.XpG();return n.Njj($.viewLocation())}),n.DNE(3,K,1,3,"interactive-map",46),n.k0s(),n.j41(4,"div",47),n.DNE(5,P,4,5,"div",12)(6,j,2,0,"div",30),n.j41(7,"div",48),n.DNE(8,S,2,2,"span",12)(9,w,2,0,"span",30),n.k0s(),n.DNE(10,m,2,4,"a",49),n.k0s()()()}if(2&G){const W=n.XpG();n.R7$(3),n.Y8G("ngIf",!W.showing_map),n.R7$(2),n.Y8G("ngIf",W.is_onsite&&W.has_space),n.R7$(),n.Y8G("ngIf",W.is_onsite&&!W.has_space),n.R7$(2),n.Y8G("ngIf",W.building&&W.level),n.R7$(),n.Y8G("ngIf",!W.building||!W.level),n.R7$(),n.Y8G("ngIf",W.is_online)}}function A(G,O){if(1&G){const W=n.RV6();n.j41(0,"div",52)(1,"button",53),n.bIt("click",function(){n.eBV(W);const $=n.XpG();return n.Njj($.show_attendees=!1)}),n.k0s(),n.j41(2,"div",54)(3,"attendee-list",55),n.bIt("click",function(){n.eBV(W);const $=n.XpG();return n.Njj($.show_attendees=!1)}),n.k0s()()()}if(2&G){const W=n.XpG();n.R7$(3),n.Y8G("show_host",!1)("list",W.event.attendees)("host",W.event.user_email)}}let L=(()=>{class G{get time_format(){return this._settings.time_format}get featured(){return this.event.featured||this.event.extension_data?.featured}get is_onsite(){return"ONLINE"!==this.event.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event.extension_data.attendance_type}get body(){if(this.is_online)return this.event.body;let W=this.event.body;const U=['<div style="margin-bottom:24px; overflow:hidden; white-space:nowrap">________________________________________________________________________________</div>',"<p>________________________________________________________________________________</p>"];for(const $ of U){const te=W.indexOf($),ie=W.lastIndexOf($);W=W.substring(0,te)+W.substring(ie)}for(const $ of U)W=W.replace($,"");return W}get attendance(){return this.event.attendees?.filter(W=>W.checked_in)?.length||0}get is_interested(){return!!this.guest_details}get is_going(){return this.guest_details?.checked_in}get system_id(){return this.space?.id}get guest_details(){const W=(0,h.Ny)();return this.event.attendees?.find(U=>U.email===W.email)}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(W,U,$,te,ie){this._data=W,this._org=U,this._settings=$,this._dialog=te,this._dialog_ref=ie,this.edit=new n.bkB,this.remove=new n.bkB,this.event=this._data.event,this.concierge=this._data.concierge,this.features=[],this.locate="",this.showing_map=!1,this.show_attendees=!1,this.styles={},this.raw_description=""}ngOnInit(){var W=this;return(0,e.A)(function*(){const U=new E.J(W._org),$=W.event.resources.find(Y=>Y.email!==W.group_event_calendar);W.space=yield U.transform($?.id||$?.email);const te=W.event.extension_data?.map_id,ie=W.space?.map_id||te;ie&&(W.styles[`#${ie}`]={fill:"green"},W.features=[{location:ie,content:g.VT,data:{}}]);const me=W.space?.zones||[];W.level=W._org.levelWithID(me),W.building=W._org.buildings.find(Y=>me.includes(Y.id))||W._org.building,W.locate=te||"",W.raw_description=W.removeHtmlTags(W.event.body)})()}removeHtmlTags(W){return((new DOMParser).parseFromString(W,"text/html").body.textContent||"").trim()}viewLocation(){if(!this.space?.map_id)return(0,h.uA)("Unable to locate space on map.");this.showing_map=!0,this._dialog.open(g.VJ,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.showing_map=!1})}toggleInterest(){var W=this;return(0,e.A)(function*(){let U=W.guest_details;W.is_interested&&U?(yield(0,_.Fk)(W.event.id,(0,h.Ny)(),{system_id:W.event.system?.id}).toPromise(),W.event.attendees=(W.event.attendees||[]).filter($=>$.email!==U.email)):(U=yield(0,_.S)(W.event.id,(0,h.Ny)(),{system_id:W.event.system?.id}).toPromise(),W.event.attendees=(0,h.Am)([...W.event.attendees||[],U],"email"))})()}toggleAttendance(){var W=this;return(0,e.A)(function*(){let U=W.guest_details;if(U||(U=yield(0,_.S)(W.event.id,(0,h.Ny)(),{system_id:W.event.system?.id}).toPromise(),W.event.attendees=(0,h.Am)([...W.event.attendees||[],U],"email")),U={...(0,h.Ny)(),...U||{}},!U.email)return;yield(0,_.OA)(W.event.id,U.email,!W.is_going,{system_id:W.event.system?.id}).toPromise();const $=W.event.attendees.find(te=>te.email===U.email);$&&($.checked_in=!W.is_going)})()}static#e=this.\u0275fac=function(U){return new(U||G)(n.rXU(d.Vh),n.rXU(b.yb),n.rXU(h.h$),n.rXU(d.bZ),n.rXU(d.CP))};static#t=this.\u0275cmp=n.VBU({type:G,selectors:[["group-event-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:101,vars:38,consts:[["concierge_menu","matMenu"],["menu","matMenu"],[1,"relative","w-[48rem]","max-w-[calc(100vw-1rem)]","max-h-[80vh]","overflow-hidden"],[1,"relative","flex","items-center","justify-between","h-52","w-full","bg-base-200","overflow-hidden"],["auth","","class","absolute top-1/2 left-1/2 min-h-full min-w-full object-cover -translate-x-1/2 -translate-y-1/2",3,"source",4,"ngIf"],["class","absolute top-0 left-0 rounded-br py-2 pl-2 pr-4 space-x-2 bg-info text-info-content flex items-center text-sm",4,"ngIf"],["icon","","mat-dialog-close","",1,"absolute","top-1","right-1","overflow-hidden"],[1,"absolute","inset-0","bg-base-100","opacity-30","z-0"],[1,"z-10"],[1,"flex","items-center","justify-between","py-4","px-8","border-b","border-base-200"],[1,"text-left","text-xl"],[1,"flex","items-center","space-x-2"],[4,"ngIf"],["btn","","matRipple","",1,"clear","bg-base-200","text-base-content","w-[2.75rem]",3,"disabled","matMenuTriggerFor"],[1,"text-2xl"],["mat-menu-item","",3,"disabled"],[1,"mr-2"],["mat-menu-item","","mat-dialog-close","",3,"click"],["mat-menu-item","",3,"click"],[1,"text-2xl","text-error"],["mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"flex","flex-1","max-h-[calc(80vh-18rem)]","overflow-y-auto","overflow-x-hidden","p-8","space-x-6"],[1,"flex","flex-1","flex-col","space-y-2","w-1/3"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center","w-10","h-10","bg-base-200","rounded-full"],[1,"font-medium","pt-4"],[1,"flex","flex-col"],[1,"text-sm"],[1,"text-sm","opacity-30"],[1,"flex","flex-col","text-sm"],["class","opacity-30",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-4","rounded","min-h-12",3,"click"],[1,"text-sm","pb-4"],["event-details","",3,"innerHTML"],["class","flex w-[20rem]",4,"ngIf"],["class","absolute inset-0 z-50",4,"ngIf"],["auth","",1,"absolute","top-1/2","left-1/2","min-h-full","min-w-full","object-cover","-translate-x-1/2","-translate-y-1/2",3,"source"],[1,"absolute","top-0","left-0","rounded-br","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["btn","",1,"flex","items-center","px-4","h-10","rounded","space-x-2"],[1,"pr-2"],[1,"opacity-30"],[1,"flex","w-[20rem]"],[1,"border","border-base-300","w-full"],["matRipple","",1,"relative","w-full","h-40","bg-base-200",3,"click"],[3,"src","features","styles",4,"ngIf"],[1,"p-4","space-y-2"],[1,"opacity-30","text-sm","!mt-0"],["class","opacity-30 mt-4","target","_blank","rel","noopener noreferrer",3,"underline","href",4,"ngIf"],[3,"src","features","styles"],["target","_blank","rel","noopener noreferrer",1,"opacity-30","mt-4",3,"href"],[1,"absolute","inset-0","z-50"],[1,"absolute","inset-0","bg-base-content","opacity-60",3,"click"],[1,"absolute","left-1/2","-translate-x-1/2","w-[24rem]","inset-y-8","rounded","shadow","overflow-hidden"],[3,"click","show_host","list","host"]],template:function(U,$){if(1&U){const te=n.RV6();n.j41(0,"div",2)(1,"div",3),n.DNE(2,u,1,1,"img",4),n.k0s(),n.DNE(3,I,5,0,"div",5),n.j41(4,"button",6),n.nrm(5,"div",7),n.j41(6,"app-icon",8),n.EFF(7,"close"),n.k0s()(),n.j41(8,"div",9)(9,"h3",10),n.EFF(10),n.k0s(),n.j41(11,"div",11),n.DNE(12,k,11,26,"ng-container",12),n.j41(13,"button",13)(14,"app-icon",14),n.EFF(15,"more_horiz"),n.k0s()(),n.j41(16,"mat-menu",null,0)(18,"button",15)(19,"div",11)(20,"app-icon",14),n.EFF(21," confirmation_number "),n.k0s(),n.j41(22,"div",16),n.EFF(23,"Promote Event"),n.k0s()()(),n.j41(24,"button",17),n.bIt("click",function(){return n.eBV(te),n.Njj($.edit.emit())}),n.j41(25,"div",11)(26,"app-icon",14),n.EFF(27,"edit"),n.k0s(),n.j41(28,"div",16),n.EFF(29,"Edit Event"),n.k0s()()(),n.j41(30,"button",15)(31,"div",11)(32,"app-icon",14),n.EFF(33,"content_copy"),n.k0s(),n.j41(34,"div",16),n.EFF(35,"Copy URL"),n.k0s()()(),n.j41(36,"button",18),n.bIt("click",function(){return n.eBV(te),n.Njj($.remove.emit())}),n.j41(37,"div",11)(38,"app-icon",19),n.EFF(39," delete "),n.k0s(),n.j41(40,"div",16),n.EFF(41,"Delete Event"),n.k0s()()()(),n.j41(42,"mat-menu",null,1)(44,"button",20),n.bIt("click",function(){return n.eBV(te),n.Njj($.toggleInterest())}),n.j41(45,"div",11)(46,"app-icon"),n.EFF(47," star "),n.k0s(),n.j41(48,"span"),n.EFF(49),n.k0s()()(),n.j41(50,"button",18),n.bIt("click",function(){return n.eBV(te),n.Njj($.toggleAttendance())}),n.j41(51,"div",11)(52,"app-icon"),n.EFF(53," help "),n.k0s(),n.j41(54,"span"),n.EFF(55),n.k0s()()()()()(),n.j41(56,"div",21)(57,"div",22)(58,"div",23)(59,"div",24)(60,"app-icon"),n.EFF(61,"person"),n.k0s()(),n.j41(62,"div"),n.EFF(63),n.k0s()(),n.j41(64,"h3",25),n.EFF(65,"When and where"),n.k0s(),n.j41(66,"div",23)(67,"div",24)(68,"app-icon"),n.EFF(69,"calendar_today"),n.k0s()(),n.j41(70,"div",26)(71,"div",27),n.EFF(72,"Date and Time"),n.k0s(),n.j41(73,"div",28),n.EFF(74),n.nI1(75,"date"),n.nI1(76,"date"),n.nI1(77,"date"),n.k0s()()(),n.j41(78,"div",23)(79,"div",24)(80,"app-icon"),n.EFF(81,"place"),n.k0s()(),n.j41(82,"div",29),n.DNE(83,y,4,5,"div",12)(84,x,2,0,"div",30)(85,M,2,1,"div",30),n.k0s()(),n.j41(86,"button",31),n.bIt("click",function(){return n.eBV(te),n.Njj($.show_attendees=!0)}),n.j41(87,"div",24)(88,"app-icon"),n.EFF(89,"person"),n.k0s()(),n.j41(90,"div"),n.EFF(91),n.k0s()(),n.j41(92,"h3",25),n.EFF(93,"About this event"),n.k0s(),n.j41(94,"div",32),n.nrm(95,"span",33),n.nI1(96,"sanitize"),n.DNE(97,B,2,0,"span",30),n.k0s()(),n.j41(98,"div"),n.DNE(99,v,11,6,"div",34),n.k0s()()(),n.DNE(100,A,4,3,"div",35)}if(2&U){const te=n.sdS(17),ie=n.sdS(43);n.R7$(2),n.Y8G("ngIf",null==$.event.extension_data||null==$.event.extension_data.images?null:$.event.extension_data.images.length),n.R7$(),n.Y8G("ngIf",$.featured),n.R7$(7),n.SpI(" ",$.event.title," "),n.R7$(2),n.Y8G("ngIf",!$.concierge),n.R7$(),n.Y8G("disabled","done"===$.event.state)("matMenuTriggerFor",$.concierge?te:ie),n.R7$(5),n.Y8G("disabled",!0),n.R7$(12),n.Y8G("disabled",!0),n.R7$(16),n.AVh("text-error",$.is_interested),n.R7$(3),n.SpI(" ",$.is_interested?"Revoke":"Indicate"," Interest "),n.R7$(3),n.AVh("text-error",$.is_going),n.R7$(3),n.SpI(" ",$.is_going?"Revoke":"Indicate"," Going "),n.R7$(8),n.SpI(" Event by ",(null==$.event.organiser?null:$.event.organiser.name)||$.event.host," "),n.R7$(11),n.E5c(" ",n.i5U(75,27,$.event.date,"EEEE, d MMMM, yyyy")," . ",n.i5U(76,30,$.event.date,$.time_format)," - ",n.i5U(77,33,$.event.date+60*$.event.duration*1e3,$.time_format)," "),n.R7$(9),n.Y8G("ngIf",$.is_onsite&&$.has_space),n.R7$(),n.Y8G("ngIf",$.is_onsite&&!$.has_space),n.R7$(),n.Y8G("ngIf",$.is_online),n.R7$(6),n.Lme(" ",$.attendance," going, ",null==$.event.attendees?null:$.event.attendees.length," interested "),n.R7$(4),n.Y8G("innerHTML",n.bMT(96,36,$.body),n.npT),n.R7$(2),n.Y8G("ngIf",!$.raw_description.trim()),n.R7$(2),n.Y8G("ngIf",$.level),n.R7$(),n.Y8G("ngIf",$.show_attendees)}}})}return G})()},1841:(Ot,ve,s)=>{"use strict";s.d(ve,{NU:()=>B,qq:()=>P,Ov:()=>K,U1:()=>S});var e=s(906);function n(m,v){return(0,e.f)(m,7*v)}var h=s(5458),g=s(6299),b=s(5987),E=s(3601),_=s(4512),u=s(4903),I=s(7926),k=s(9824),y=s(2037),x=s(2544);const M=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function B(m){return"cancelled"===m.status?"declined":m.resources?.length?m.resources.every(v=>"accepted"===v.response_status||m.approved)?"approved":m.resources.some(v=>"tentative"===v.response_status||"needsAction"===v.response_status)?"tentative":"declined":"approved"}function K(m){let v=m.start||1e3*m.range_start,A=m.end||m.range_end;if(m.occurrences>1)switch(m.pattern){case"daily":A=(0,e.f)(v||Date.now(),(m.occurrences-1)*m.interval).valueOf();break;case"weekly":A=n(v||Date.now(),(m.occurrences-1)*m.interval).valueOf();break;case"month_day":case"monthly":A=(0,h.P)(v||Date.now(),(m.occurrences-1)*m.interval).valueOf(),A=(0,e.f)(A,7).valueOf();break;case"yearly":A=(0,g.e)(v||Date.now(),(m.occurrences-1)*m.interval).valueOf()}return{range_start:(0,b._)((0,E.o)(v)),range_end:(0,b._)((0,_.D)(A)),interval:m.interval,pattern:m.pattern,days_of_week:m.days_of_week?.map(L=>"number"==typeof L?M[L]:L)||[]}}function P({interval:m,pattern:v,start:A,end:L,occurrences:G}){let O="";if(m){switch(v){case"daily":O=O.concat(m>1?`Every ${m} days`:"Daily"),G>1&&(L=(0,e.f)(A||Date.now(),(G-1)*m).valueOf());break;case"weekly":O=O.concat(m>1?`Every ${m} weeks`:"Weekly"),G>1&&(L=n(A||Date.now(),(G-1)*m).valueOf());break;case"month_day":case"monthly":O=O.concat(m>1?`Every ${m} months`:"Monthly"),G>1&&(L=(0,h.P)(A||Date.now(),(G-1)*m).valueOf());break;case"yearly":O=O.concat(m>1?`Every ${m} yeats`:"Yearly"),G>1&&(L=(0,g.e)(A||Date.now(),(G-1)*m).valueOf())}G>=1&&(O=O.concat(`, until ${(0,u.GP)(L,"MMM do, yyyy")}`))}return O}function S(m,v,A,L=29){const G=function j(m,v=29){let A=new Date(0);const L=[];m.sort((O,W)=>O.date-W.date);for(const O of m){const W=new Date((0,I.z)(O.date,-O.extension_data?.setup_time||0)),U=(0,I.z)(O.date,O.duration+(O.extension_data?.breakdown_time||0));(0,k.d)(O.date,A)?(Math.abs((0,y.o)(W,A))>=v&&L.push({start:A.valueOf(),end:O.date}),A=U):(0,x.H)(A,O.date)&&(A=U)}const G=A.valueOf();return L.push({start:G,end:10*(G||Date.now())}),L}(A,L);for(const O of G)if(m>=O.start&&m<O.end&&v>O.start&&v<=O.end)return!0;return!1}},711:(Ot,ve,s)=>{"use strict";s.d(ve,{N:()=>x});var e=s(467),n=s(9417),d=s(4006),h=s(6727),g=s(1416),b=s(1168),E=s(3953);const _=()=>[5,10];function u(M,B){1&M&&(E.j41(0,"button",5)(1,"app-icon"),E.EFF(2,"close"),E.k0s()())}function I(M,B){if(1&M&&(E.j41(0,"main",6)(1,"div",7)(2,"label",8),E.EFF(3,"Setup Duration"),E.k0s(),E.nrm(4,"a-duration-field",9),E.k0s(),E.j41(5,"div",7)(6,"label",10),E.EFF(7,"Breakdown Duration"),E.k0s(),E.nrm(8,"a-duration-field",11),E.k0s()()),2&M){const K=E.XpG();E.Y8G("formGroup",K.form),E.R7$(4),E.Y8G("min",0)("custom_options",E.lJ4(5,_)),E.R7$(4),E.Y8G("min",0)("custom_options",E.lJ4(6,_))}}function k(M,B){if(1&M){const K=E.RV6();E.j41(0,"footer",12)(1,"button",13),E.bIt("click",function(){E.eBV(K);const j=E.XpG();return E.Njj(j.save())}),E.EFF(2,"Save Changes"),E.k0s()()}}function y(M,B){1&M&&(E.j41(0,"div",14),E.nrm(1,"mat-spinner",15),E.j41(2,"p",16),E.EFF(3," Saving setup and breakdown durations... "),E.k0s()()),2&M&&(E.R7$(),E.Y8G("diameter",32))}let x=(()=>{class M{constructor(K,P){this._event=K,this._dialog_ref=P,this.loading=!1,this.form=new n.gE({setup:new n.MJ(this._event.setup_time||0),breakdown:new n.MJ(this._event.breakdown_time||0)})}save(){var K=this;return(0,e.A)(function*(){K.loading=!0,K._dialog_ref.disableClose=!0;const S={system_id:K._event?.resources[0]?.id||K._event?.system?.id,ical_uid:K._event?.ical_uid};let w=yield(0,g.Az)(new h.L({...K._event,setup_time:K.form.value.setup,breakdown_time:K.form.value.breakdown}).toJSON(),S).toPromise().catch(m=>null);if(w||(w=yield(0,g.zZ)(K._event.id,S.system_id,{...K._event.extension_data,setup_time:K.form.value.setup,breakdown_time:K.form.value.breakdown,setup:K.form.value.setup,breakdown:K.form.value.breakdown}).toPromise().catch(m=>null)),!w)return K.loading=!1,K._dialog_ref.disableClose=!1,void(0,b.UG)("Error updating setup and breakdown.");(0,b.VX)("Succesfully updated setup and breakdown period."),K._dialog_ref.disableClose=!1,K.loading=!1,K._dialog_ref.close(w)})()}static#e=this.\u0275fac=function(P){return new(P||M)(E.rXU(d.Vh),E.rXU(d.CP))};static#t=this.\u0275cmp=E.VBU({type:M,selectors:[["setup-breakdown-modal"]],decls:8,vars:4,consts:[["load_state",""],[1,"space-x-4","min-h-16"],["btn","","icon","","mat-dialog-close","","matRipple","",4,"ngIf"],["class","p-4 min-w-[20rem] w-full",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4","min-w-[20rem]","w-full",3,"formGroup"],[1,"flex","flex-col","space-y-2"],["for","setup"],["name","setup","formControlName","setup",3,"min","custom_options"],["for","breakdown"],["name","breakdown","formControlName","breakdown",3,"min","custom_options"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","w-64"],[3,"diameter"],[1,"text-center","p-4"]],template:function(P,j){if(1&P&&(E.j41(0,"header",1)(1,"h2"),E.EFF(2,"Set Event's Setup and Breakdown"),E.k0s(),E.DNE(3,u,3,0,"button",2),E.k0s(),E.DNE(4,I,9,7,"main",3)(5,k,3,0,"footer",4)(6,y,4,1,"ng-template",null,0,E.C5r)),2&P){const S=E.sdS(7);E.R7$(3),E.Y8G("ngIf",!j.loading),E.R7$(),E.Y8G("ngIf",!j.loading)("ngIfElse",S),E.R7$(),E.Y8G("ngIf",!j.loading)}}})}return M})()},1761:(Ot,ve,s)=>{"use strict";s.d(ve,{Ss:()=>P,Uv:()=>m});var e=s(9417),n=s(9015),d=s(4273),b=s(5611),E=s(3601),_=s(9548),u=s(7926),I=s(2037),k=s(1168),y=s(6727),x=s(690),M=s(3693);(0,n.W)(function h(v,A){const L=(0,d.a)(v);return L.setMinutes(A),L}((0,b.a)(new Date,6),0),{days:-1});const K=v=>A=>v.value?.length&&!A.value?{catering_field:"Catering sub-fields are required"}:null;function P(v=new y.L,A){v||(v=new y.L);const L=new e.gE({id:new e.MJ(v.id),ical_uid:new e.MJ(v.ical_uid),host:new e.MJ(v.host||v.organiser?.email||(0,k.Ny)()?.email||"",[e.k0.required]),organiser:new e.MJ(v.organiser||new M.KJ({email:v.host||""})),creator:new e.MJ(v.creator||(0,k.Ny)()?.email),calendar:new e.MJ(v.calendar),attendees:new e.MJ(v.attendees||[]),resources:new e.MJ(v.resources||[]),title:new e.MJ(v.title),body:new e.MJ(v.body),private:new e.MJ(v.private),date:new e.MJ(v.date,[e.k0.required]),duration:new e.MJ(v.duration,[x.k]),all_day:new e.MJ(v.all_day),date_end:new e.MJ(v.date_end),recurring:new e.MJ(v.recurring),recurrence:new e.MJ(v.recurrence),recurring_event_id:new e.MJ(v.recurring_event_id),master:new e.MJ(v.master),attachments:new e.MJ(v.attachments),catering:new e.MJ(v.extension_data?.catering),catering_notes:new e.MJ(v.extension_data?.catering[0]?.notes||""),catering_charge_code:new e.MJ(v.extension_data?.catering[0]?.charge_code||""),setup_time:new e.MJ(v.setup_time||0),breakdown_time:new e.MJ(v.breakdown_time||0),assets:new e.MJ(v.extension_data?.assets),visitor_type:new e.MJ(v.extension_data?.visitor_type),location:new e.MJ(v.location),needs_space:new e.MJ(!0),needs_parking:new e.MJ(v.extension_data?.needs_parking||!1),event_type:new e.MJ(v.extension_data?.event_type||""),category:new e.MJ(v.extension_data?.category||""),tags:new e.MJ(v.extension_data?.tags||[]),update_master:new e.MJ(!1),system:new e.MJ(v.system),attendance_type:new e.MJ(v.extension_data?.attendance_type||"ONSITE"),timezone:new e.MJ(v.timezone||k.mx),shared_event:new e.MJ(v.extension_data?.shared_event||!1),view_access:new e.MJ(v.extension_data?.view_access||"PRIVATE"),images:new e.MJ(v.extension_data?.images||[]),featured:new e.MJ(v.extension_data?.featured||!1)});L.get("organiser").valueChanges.subscribe(O=>L.controls.host.setValue(O?.email)),L.get("resources").valueChanges.subscribe(O=>{L.controls.system.setValue(O?.length?O[0]:null),L.controls.assets[O?.length?"enable":"disable"]()});const G=()=>{!L.value.catering?.length||!L.getRawValue().date||L.patchValue({catering:L.value.catering.map(O=>({...O,event:{date:L.value.all_day?(0,E.o)(L.getRawValue().date):L.getRawValue().date,duration:L.value.all_day?1440:L.value.duration}}))},{emitEvent:!1})};return L.valueChanges.subscribe(O=>{L.getRawValue().date<Date.now()&&L.value.id?L.get("date")?.disable({emitEvent:!1}):L.get("date")?.enable({emitEvent:!1}),(O.date||O.duration||O.all_day)&&G()}),L.controls.duration.valueChanges.subscribe(O=>{L.patchValue({date_end:(0,_.X)((0,u.z)(L.getRawValue().date,O),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),G()}),L.controls.date_end.valueChanges.subscribe(O=>{O<(0,u.z)(L.getRawValue().date,30).valueOf()?L.patchValue({date_end:(0,_.X)((0,u.z)(L.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):L.patchValue({duration:(0,I.o)(O,L.getRawValue().date)},{emitEvent:!1}),G()}),L.controls.date.valueChanges.subscribe(O=>{L.patchValue({date_end:(0,_.X)((0,u.z)(O,L.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),O<Date.now()&&!L.value.id&&L.patchValue({date:(0,_.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),"custom_display"!==L.value.recurrence?._pattern&&"none"!==L.value.recurrence?._pattern&&L.patchValue({recurrence:{...L.value.recurrence,days_of_week:[new Date(O).getDay()]}}),G()}),L.controls.catering.valueChanges.subscribe(O=>{(L.getRawValue().catering||[])?.length&&(A?.get("app.events.catering_notes_required")||A.value("require_catering_notes"))?(L.get("catering_notes")?.setValidators([e.k0.required]),L.get("catering_notes").patchValue(L.value.catering_notes)):(L.get("catering_notes")?.clearValidators(),L.get("catering_notes").setErrors(null)),L.updateValueAndValidity()}),L.get("catering_charge_code").setValidators([K(L.get("catering"))]),v.id&&(L.get("host").disable(),L.get("organiser").disable()),"started"===v.state&&L.get("date").disable(),L}function m(v){let A=[{id:v.user_id,name:v.user_name,email:v.user_email,organizer:!0}];return"visitor"===v.booking_type&&A.push(new M.KJ({name:v.asset_name||v.description,email:v.asset_id,checked_in:v.checked_in})),A=A.concat(v.attendees),new y.L({...v,...v.extension_data,attendees:A,id:v.id||v.extension_data.id,host:v.user_email,from_bookings:!0})}},690:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>d});var e=s(9824),n=s(7926);const d=g=>{const b=g.parent?.get("date");return b&&(0,e.d)(Date.now(),(0,n.z)(b.value,g.value))?{duration:!0}:null}},1864:(Ot,ve,s)=>{"use strict";s.d(ve,{XU:()=>Yt.X,Xm:()=>me,s4:()=>an.s,Oe:()=>Et.O,Rp:()=>vn});var e=s(177),n=s(9417),d=s(4351),h=s(450),g=s(7987),b=s(6939),E=s(8705),_=s(8742),k=(s(468),s(3134),s(1168)),y=s(467),x=s(1038),M=s(9928),B=s(4421),K=s(9714),P=s(8728),j=s(9090),S=s(5006),w=s(8712),m=s(3020),v=s(8841),A=s(3921),L=s(4046),G=s(735),O=s(2372),W=s(8026),U=s(2185),$=s(3953);const te=["space","contact","feature","user"];function ie(nn){return te.indexOf(nn.is_role?"contact":nn.type)}let me=(()=>{class nn{constructor(Mn,Ln,Fn){this._org=Mn,this._settings=Ln,this._maps_people=Fn,this._emergency_contacts=new M.t([]),this._filter=new M.t(""),this._loading=new M.t(!1),this.emergency_contacts=this._emergency_contacts.asObservable(),this._role_assigned_contacts=this._org.active_building.pipe((0,P.p)($n=>!!$n),(0,j.n)($n=>(0,x.bpY)($n.id,"emergency_contacts")),(0,S.T)(({details:$n})=>$n?.contacts||[]),(0,w.t)(1)),this._user_search=this._filter.pipe((0,m.B)(400),(0,v.M)(()=>this._loading.next(!0)),(0,j.n)($n=>$n?.length>2?this.search_fn($n).pipe((0,A.W)(()=>(0,B.of)([]))):(0,B.of)([])),(0,w.t)(1)),this._space_search=this._filter.pipe((0,m.B)(400),(0,v.M)(()=>this._loading.next(!0)),(0,j.n)($n=>$n?.length>2?(0,x.BbB)({q:$n,zone_id:this._org.organisation.id}).pipe((0,S.T)(({data:Ht})=>Ht.filter(ze=>ze.map_id).map(ze=>new G.$({...ze,level:this._org.levelWithID(ze.zones)})))):(0,B.of)([])),(0,A.W)(()=>[])),this._maps_people_search=(0,K.zV)([this._maps_people.available$,this._filter,this._org.active_building]).pipe((0,m.B)(1e3),(0,j.n)(([$n,Ht])=>$n&&Ht.length>2?mapsindoors?.services.LocationsService.getLocations({q:Ht}):(0,B.of)([])),(0,S.T)($n=>$n.map(Ht=>({id:Ht.properties?.externalId||Ht.properties?.roomId||Ht.roomId||Ht.id,map_id:Ht.properties?.externalId||Ht.properties?.roomId||Ht.roomId||"",type:"feature",name:Ht.properties?.name||"",description:`${Ht.properties?.roomId} , Level ${Ht.properties?.floorName}`}))),(0,w.t)(1)),this._map_features=this._org.active_building.pipe((0,P.p)($n=>!!$n),(0,j.n)(()=>(0,x.WsZ)(this._org.building.id,{name:"map_features"}).pipe((0,A.W)(()=>(0,B.of)({details:[]})))),(0,S.T)($n=>{const Ht=[];for(const ze of $n){const Bt=ze.metadata.map_features;if(!Bt)continue;const Te=Bt.details instanceof Array?Bt.details:[];for(const Ge of Te)Ht.push({id:Ge.id,type:"feature",name:Ge.name,description:"",zone:ze.zone})}return Ht})),this._poi_metadata=this._org.initialised.pipe((0,P.p)($n=>$n),(0,j.n)(()=>(0,x.bpY)(this._org.organisation.id,"points-of-interest").pipe((0,A.W)($n=>(0,B.of)({details:{}})))),(0,w.t)(1)),this._poi_list=(0,K.zV)([this._org.active_building,this._poi_metadata]).pipe((0,P.p)(([$n])=>!!$n.id),(0,S.T)(([$n,Ht])=>{const ze=Ht.details||{},Bt=this._org.levelsForBuilding($n);return(0,k.Bq)(Bt.map(Ge=>ze[Ge.id]||[])).filter(Ge=>Ge.can_search)})),this._points_of_interest=this._poi_list.pipe((0,S.T)($n=>$n.map(Ht=>({id:Ht.id||Ht.location,type:"feature",name:Ht.name,description:"",zone:Ht.level_id})))),this.search_results=(0,K.zV)([this._filter,this._space_search,this._user_search,this._emergency_contacts,this._role_assigned_contacts,this._map_features,this._maps_people_search,this._points_of_interest]).pipe((0,S.T)(([$n,Ht,ze,Bt,Te,Ge,Tt,Wt])=>{const We=$n.toLowerCase(),Pe=[...Tt,...Ht.filter(Ue=>Ue.email.toLowerCase().includes(We)||Ue.name.toLowerCase().includes(We)||Ue.display_name.toLowerCase().includes(We)).map(Ue=>({id:Ue.id,type:"space",name:Ue.display_name||Ue.name,description:`Capacity: ${Ue.capacity} `})),...(0,k.Bq)(Te.map(Ue=>Ue.roles.map(De=>({id:Ue.email,type:De||"contact",is_role:!0,name:Ue.name,description:Ue.email})))).filter(Ue=>Ue.name.toLowerCase().includes(We)||Ue.description.toLowerCase().includes(We)||Ue.type.toLowerCase().includes(We)),...Ge.filter(Ue=>Ue.name.toLowerCase().includes(We)).map(Ue=>({id:Ue.id,type:"feature",name:Ue.name,description:"",zone:Ue.zone?.id})),...Wt.filter(Ue=>Ue.name.toLowerCase().includes(We)),...Bt.map(Ue=>({id:Ue.email,type:Ue.type||"contact",is_role:!0,name:Ue.name,description:Ue.email})).filter(Ue=>Ue.name.toLowerCase().includes(We)||Ue.description.toLowerCase().includes(We)||Ue.type.toLowerCase().includes(We)),...ze.map(Ue=>({id:Ue.email,type:"user",name:Ue.name,description:Ue.email}))];return Pe.sort((Ue,De)=>ie(Ue)-ie(De)||Ue.name.localeCompare(De.name)),Pe}),(0,v.M)(()=>this._loading.next(!1)),(0,w.t)(1)),this.loading=this._loading.asObservable(),this.search_fn=$n=>this._settings.get("app.basic_user_search")?(0,x.n1$)({q:$n,authority_id:(0,x.kup)()?.id}).pipe((0,S.T)(Ht=>Ht.data)):(0,O.N8)($n),this.search_results.subscribe(),this.init()}init(){var Mn=this;return(0,y.A)(function*(){yield Mn._org.initialised.pipe((0,L.$)(Fn=>Fn)).toPromise();const Ln=(0,U.WS)(Mn._org.binding("location_services"),"LocationServices");if(Ln){const Fn=Ln.binding("emergency_contacts");Fn.listen().subscribe($n=>{const Ht=[];for(const ze in $n)for(const Bt of $n[ze])Ht.push({...Bt,type:ze});Mn._emergency_contacts.next(Ht)}),Fn.bind()}})()}setFilter(Mn){this._filter.next(Mn)}static#e=this.\u0275fac=function(Ln){return new(Ln||nn)($.KVO(W.y),$.KVO(k.h$),$.KVO(k._e))};static#t=this.\u0275prov=$.jDH({token:nn,factory:nn.\u0275fac,providedIn:"root"})}return nn})();s(2091);var F=s(9434),ae=(s(5080),s(850),s(6600)),_e=s(9183),pe=s(8303),Ee=(s(9801),s(1207),s(6301)),$t=(s(2882),s(7146),s(2035),s(9303),s(4810),s(795),s(7889),s(3207),s(2238)),q=s(3208),Ie=s(3719),se=s(4006),fe=s(9631),Ke=s(3476),It=s(8e3);let vn=(()=>{class nn{static#e=this.\u0275fac=function(Ln){return new(Ln||nn)};static#t=this.\u0275mod=$.$C({type:nn});static#n=this.\u0275inj=$.G2t({imports:[e.MD,d.hI,n.YN,n.X1,h.mV,g.z_,b.jc,E.c,_.S]})}return nn})();$.wjB(pe.x,[e.Sq,e.bT,$t.I,q.U],[]),$.wjB(Ee.t,[e.bT,F.R,Ie.rl,Ie.TL,ae.r6,se.tx,fe.fg,_e.LG,n.me,n.BC,n.cb,n.j4,n.JD,Ke.y,It.$],[e.Jj,e.vh]),s(1104);var an=s(5897),Et=s(2455),Yt=(s(1369),s(4498));s(9591)},2035:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>_});var e=s(4006),n=s(4233);function d(u){var I=this;u="object"==typeof u?u:{},I.revision=3,I.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},I.toTable=u.toTable,I.domElement=I.toTable?document.createElement("div"):document.createElement("canvas"),I.url=u.url||"",I.size=u.size||280,I.qrc=!1,I.colorLight=u.colorLight||"#fff",I.colorDark=u.colorDark||"#000",I.ecclevel=u.ecclevel||1,I.noBorder=u.noBorder,I.borderSize=u.borderSize||4;var k,y,x,M,B,K,P,j=[],S=[],w=[],m=[],v=[],A=[],L=function(me,Y){var F;me>Y&&(F=me,me=Y,Y=F),F=Y,F*=Y,F+=Y,F>>=1,m[F+=me]=1},G=function(me,Y){var F;for(w[me+x*Y]=1,F=-2;F<2;F++)w[me+F+x*(Y-2)]=1,w[me-2+x*(Y+F+1)]=1,w[me+2+x*(Y+F)]=1,w[me+F+1+x*(Y+2)]=1;for(F=0;F<2;F++)L(me-1,Y+F),L(me+1,Y-F),L(me-F,Y-1),L(me+F,Y+1)},O=function(me){for(;me>=255;)me=((me-=255)>>8)+(255&me);return me},W=function(me,Y,F,N){var J,ae,_e,xe=d.gexp,Fe=d.glog;for(J=0;J<N;J++)j[F+J]=0;for(J=0;J<Y;J++){if(255!=(_e=Fe[j[me+J]^j[F]]))for(ae=1;ae<N;ae++)j[F+ae-1]=j[F+ae]^xe[O(_e+A[N-ae])];else for(ae=F;ae<F+N;ae++)j[ae]=j[ae+1];j[F+N-1]=255==_e?0:xe[O(_e+A[0])]}},U=function(me,Y){var F;return me>Y&&(F=me,me=Y,Y=F),F=Y,F+=Y*Y,F>>=1,m[F+=me]},$=function(me){var Y,F,N,J;switch(me){case 0:for(F=0;F<x;F++)for(Y=0;Y<x;Y++)Y+F&1||U(Y,F)||(w[Y+F*x]^=1);break;case 1:for(F=0;F<x;F++)for(Y=0;Y<x;Y++)1&F||U(Y,F)||(w[Y+F*x]^=1);break;case 2:for(F=0;F<x;F++)for(N=0,Y=0;Y<x;Y++,N++)3==N&&(N=0),N||U(Y,F)||(w[Y+F*x]^=1);break;case 3:for(J=0,F=0;F<x;F++,J++)for(3==J&&(J=0),N=J,Y=0;Y<x;Y++,N++)3==N&&(N=0),N||U(Y,F)||(w[Y+F*x]^=1);break;case 4:for(F=0;F<x;F++)for(N=0,J=F>>1&1,Y=0;Y<x;Y++,N++)3==N&&(N=0,J=!J),J||U(Y,F)||(w[Y+F*x]^=1);break;case 5:for(J=0,F=0;F<x;F++,J++)for(3==J&&(J=0),N=0,Y=0;Y<x;Y++,N++)3==N&&(N=0),(Y&F&1)+!(!N|!J)||U(Y,F)||(w[Y+F*x]^=1);break;case 6:for(J=0,F=0;F<x;F++,J++)for(3==J&&(J=0),N=0,Y=0;Y<x;Y++,N++)3==N&&(N=0),(Y&F&1)+(N&&N==J)&1||U(Y,F)||(w[Y+F*x]^=1);break;case 7:for(J=0,F=0;F<x;F++,J++)for(3==J&&(J=0),N=0,Y=0;Y<x;Y++,N++)3==N&&(N=0),(N&&N==J)+(Y+F&1)&1||U(Y,F)||(w[Y+F*x]^=1)}},te=function(me){var Y,F=0;for(Y=0;Y<=me;Y++)v[Y]>=5&&(F+=d.N1+v[Y]-5);for(Y=3;Y<me-1;Y+=2)v[Y-2]==v[Y+2]&&v[Y+2]==v[Y-1]&&v[Y-1]==v[Y+1]&&3*v[Y-1]==v[Y]&&(0==v[Y-3]||Y+3>me||3*v[Y-3]>=4*v[Y]||3*v[Y+3]>=4*v[Y])&&(F+=d.N3);return F},ie=function(){var me,Y,F,N,J,ae=0,_e=0;for(Y=0;Y<x-1;Y++)for(me=0;me<x-1;me++)(w[me+x*Y]&&w[me+1+x*Y]&&w[me+x*(Y+1)]&&w[me+1+x*(Y+1)]||!(w[me+x*Y]||w[me+1+x*Y]||w[me+x*(Y+1)]||w[me+1+x*(Y+1)]))&&(ae+=d.N2);for(Y=0;Y<x;Y++){for(v[0]=0,F=N=me=0;me<x;me++)(J=w[me+x*Y])==N?v[F]++:v[++F]=1,_e+=(N=J)?1:-1;ae+=te(F)}_e<0&&(_e=-_e);var xe=_e,Fe=0;for(xe+=xe<<2,xe<<=1;xe>x*x;)xe-=x*x,Fe++;for(ae+=Fe*d.N4,me=0;me<x;me++){for(v[0]=0,F=N=Y=0;Y<x;Y++)(J=w[me+x*Y])==N?v[F]++:v[++F]=1,N=J;ae+=te(F)}return ae};I.genframe=function(me){var Y,F,N,J,ae,_e,xe,Fe,Ae=d.eccblocks,Ye=d.gexp,qe=d.glog;J=me.length,y=0;do{if(y++,N=4*(k-1)+16*(y-1),M=Ae[N++],B=Ae[N++],K=Ae[N++],P=Ae[N],J<=(N=K*(M+B)+B-3+(y<=9)))break}while(y<40);for(x=17+4*y,ae=K+(K+P)*(M+B)+B,J=0;J<ae;J++)S[J]=0;for(j=me.slice(0),J=0;J<x*x;J++)w[J]=0;for(J=0;J<(x*(x+1)+1)/2;J++)m[J]=0;for(J=0;J<3;J++){for(N=0,F=0,1==J&&(N=x-7),2==J&&(F=x-7),w[F+3+x*(N+3)]=1,Y=0;Y<6;Y++)w[F+Y+x*N]=1,w[F+x*(N+Y+1)]=1,w[F+6+x*(N+Y)]=1,w[F+Y+1+x*(N+6)]=1;for(Y=1;Y<5;Y++)L(F+Y,N+1),L(F+1,N+Y+1),L(F+5,N+Y),L(F+Y+1,N+5);for(Y=2;Y<4;Y++)w[F+Y+x*(N+2)]=1,w[F+2+x*(N+Y+1)]=1,w[F+4+x*(N+Y)]=1,w[F+Y+1+x*(N+4)]=1}if(y>1)for(J=d.adelta[y],F=x-7;;){for(Y=x-7;Y>J-3&&(G(Y,F),!(Y<J));)Y-=J;if(F<=J+9)break;G(6,F-=J),G(F,6)}for(w[8+x*(x-8)]=1,F=0;F<7;F++)L(7,F),L(x-8,F),L(7,F+x-7);for(Y=0;Y<8;Y++)L(Y,7),L(Y+x-8,7),L(Y,x-8);for(Y=0;Y<9;Y++)L(Y,8);for(Y=0;Y<8;Y++)L(Y+x-8,8),L(8,Y);for(F=0;F<7;F++)L(8,F+x-7);for(Y=0;Y<x-14;Y++)1&Y?(L(8+Y,6),L(6,8+Y)):(w[8+Y+6*x]=1,w[6+x*(8+Y)]=1);if(y>6)for(J=d.vpat[y-7],N=17,Y=0;Y<6;Y++)for(F=0;F<3;F++,N--)1&(N>11?y>>N-12:J>>N)?(w[5-Y+x*(2-F+x-11)]=1,w[2-F+x-11+x*(5-Y)]=1):(L(5-Y,2-F+x-11),L(2-F+x-11,5-Y));for(F=0;F<x;F++)for(Y=0;Y<=F;Y++)w[Y+x*F]&&L(Y,F);for(ae=j.length,_e=0;_e<ae;_e++)S[_e]=j.charCodeAt(_e);if(j=S.slice(0),ae>=(Y=K*(M+B)+B)-2&&(ae=Y-2,y>9&&ae--),_e=ae,y>9){for(j[_e+2]=0,j[_e+3]=0;_e--;)j[_e+3]|=255&(J=j[_e])<<4,j[_e+2]=J>>4;j[2]|=255&ae<<4,j[1]=ae>>4,j[0]=64|ae>>12}else{for(j[_e+1]=0,j[_e+2]=0;_e--;)j[_e+2]|=255&(J=j[_e])<<4,j[_e+1]=J>>4;j[1]|=255&ae<<4,j[0]=64|ae>>4}for(_e=ae+3-(y<10);_e<Y;)j[_e++]=236,j[_e++]=17;for(A[0]=1,_e=0;_e<P;_e++){for(A[_e+1]=1,xe=_e;xe>0;xe--)A[xe]=A[xe]?A[xe-1]^Ye[O(qe[A[xe]]+_e)]:A[xe-1];A[0]=Ye[O(qe[A[0]]+_e)]}for(_e=0;_e<=P;_e++)A[_e]=qe[A[_e]];for(N=Y,F=0,_e=0;_e<M;_e++)W(F,K,N,P),F+=K,N+=P;for(_e=0;_e<B;_e++)W(F,K+1,N,P),F+=K+1,N+=P;for(F=0,_e=0;_e<K;_e++){for(xe=0;xe<M;xe++)S[F++]=j[_e+xe*K];for(xe=0;xe<B;xe++)S[F++]=j[M*K+_e+xe*(K+1)]}for(xe=0;xe<B;xe++)S[F++]=j[M*K+_e+xe*(K+1)];for(_e=0;_e<P;_e++)for(xe=0;xe<M+B;xe++)S[F++]=j[Y+_e+xe*P];for(j=S,Y=F=x-1,N=ae=1,Fe=(K+P)*(M+B)+B,_e=0;_e<Fe;_e++)for(J=j[_e],xe=0;xe<8;xe++,J<<=1){128&J&&(w[Y+x*F]=1);do{ae?Y--:(Y++,N?0!=F?F--:(N=!N,6==(Y-=2)&&(Y--,F=9)):F!=x-1?F++:(N=!N,6==(Y-=2)&&(Y--,F-=8))),ae=!ae}while(U(Y,F))}for(j=w.slice(0),J=0,F=3e4,N=0;N<8&&($(N),(Y=ie())<F&&(F=Y,J=N),7!=J);N++)w=j.slice(0);for(J!=N&&$(J),F=d.fmtword[J+(k-1<<3)],N=0;N<8;N++,F>>=1)1&F&&(w[x-1-N+8*x]=1,N<6?w[8+x*N]=1:w[8+x*(N+1)]=1);for(N=0;N<7;N++,F>>=1)1&F&&(w[8+x*(x-7+N)]=1,N?w[6-N+8*x]=1:w[7+8*x]=1);return w},I.init=function(){k=I.ecclevel;var me=I.genframe(I.url);I.toTable?I.tableWrite(me,x):I.canvasWrite(me,x)},I.init()}d.prototype={canvasWrite:function(u,I){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(u,I);var k=this.size,y=this.qrc;y.lineWidth=1;var x=k;x/=I+10,x=Math.round(x-.5);var M=4;this.noBorder?(y.canvas.width=y.canvas.height=x*I,M=0):y.canvas.width=y.canvas.height=k,y.clearRect(0,0,k,k),y.fillStyle=this.colorLight,y.fillRect(0,0,x*(I+8),x*(I+8)),y.fillStyle=this.colorDark;for(var B=0;B<I;B++)for(var K=0;K<I;K++)u[K*I+B]&&y.fillRect(x*(M+B),x*(M+K),x,x)},tableWrite:function(u,I){var k=this,y=Math.round(this.size/I-3.5)+"px",x=I+(k.noBorder?0:2*k.borderSize),M=k.borderSize,B="width:"+y+";height:"+y+";",K=k.colorLight,P=k.colorDark,j=document.createElement("table");j.style.cssText="border:0;border-collapse:collapse;";for(var S,w=document.createElement("tr"),m=document.createElement("td"),v=function(){return m.cloneNode()},A=function(){var te=v();return te.style.cssText=B+"background:"+K,te},L=function(te){for(var ie=te.firstChild,me=0;me<M;me++)te.insertBefore(A(),ie),te.appendChild(A())},G=0;G<I;G++){var O=w.cloneNode();j.appendChild(O);for(var W=0;W<I;W++)if(1===u[G*I+W]){var U=(S=void 0,(S=v()).style.cssText=B+"background:"+P,S);O.appendChild(U)}else{var $=A();O.appendChild($)}k.noBorder||L(O)}k.noBorder||function(te){for(var ie=te.firstChild,me=0;me<k.borderSize;me++){for(var Y=w.cloneNode(),F=0;F<x;F++){var N=A();Y.appendChild(N)}te.appendChild(Y),te.insertBefore(Y.cloneNode(!0),ie)}}(j),k.domElement.innerHTML="",k.domElement.appendChild(j)},getContext:function(u){return u.getContext&&u.getContext("2d")?u.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(u){if(this.qrc){var I=this.imageTypes[u];if(!I)throw new Error(u+" is not a valid image type ");var k=new Image;return k.src=this.domElement.toDataURL(I),k}}},d.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],d.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],d.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],d.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],d.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],d.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],d.N1=3,d.N2=3,d.N3=40,d.N4=10;var g=s(3953),b=s(9434);let _=(()=>{class u{constructor(k,y){this._data=k,this._settings=y,this.space=this._data.space,this.qr_code=function h(u,I="#fff0",k="#000"){return new d({url:u||"Hello",size:360,colorLight:I,colorDark:k,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}static#e=this.\u0275fac=function(y){return new(y||u)(g.rXU(e.Vh),g.rXU(n.h))};static#t=this.\u0275cmp=g.VBU({type:u,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:()=>{let k;return k=$localize`:␟cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb␟381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[k,[1,"truncate"],[1,"flex-1"],["icon","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(y,x){1&y&&(g.j41(0,"header")(1,"h2",1),g.pXf(2,0),g.k0s(),g.nrm(3,"div",2),g.j41(4,"button",3)(5,"app-icon"),g.EFF(6,"close"),g.k0s()()(),g.j41(7,"main",4),g.nrm(8,"img",5),g.k0s()),2&y&&(g.R7$(2),g.uP7(null==x.space?null:x.space.name),g.nnv(2),g.R7$(6),g.Y8G("src",x.qr_code,g.B4B))},dependencies:[b.R,e.tx]})}return u})()},6301:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>M});var e=s(467),n=s(4006),d=s(1168),h=s(6101),g=s(3953),b=s(2091);function E(B,K){1&B&&(g.j41(0,"button",10)(1,"app-icon"),g.EFF(2,"close"),g.k0s()())}function _(B,K){1&B&&(g.j41(0,"div",15)(1,"label",24),g.EFF(2,"Host"),g.j41(3,"span"),g.EFF(4,"*"),g.k0s(),g.EFF(5,":"),g.k0s(),g.nrm(6,"a-user-search-field",25),g.k0s())}function u(B,K){if(1&B&&(g.j41(0,"div",26)(1,"label"),g.pXf(2,5),g.k0s(),g.j41(3,"div",27),g.EFF(4),g.nI1(5,"date"),g.nI1(6,"date"),g.k0s()()),2&B){const P=g.XpG(3);g.R7$(4),g.Lme(" ",g.i5U(5,2,P.form.value.date,"mediumDate")," at ",g.i5U(6,5,P.form.value.date,P.time_format)," ")}}function I(B,K){if(1&B&&(g.j41(0,"div",28)(1,"label"),g.pXf(2,6),g.k0s(),g.nrm(3,"a-duration-field",29),g.k0s()),2&B){const P=g.XpG(3);g.R7$(3),g.Y8G("time",P.form.value.date)("max",P.max_duration)("use_24hr",P.use_24hr_time)}}function k(B,K){if(1&B&&(g.j41(0,"main",14)(1,"div",15)(2,"label",16),g.EFF(3,"Title"),g.j41(4,"span"),g.EFF(5,"*"),g.k0s(),g.EFF(6,":"),g.k0s(),g.j41(7,"mat-form-field",17),g.nrm(8,"input",18),g.j41(9,"mat-error"),g.pXf(10,3),g.k0s()()(),g.DNE(11,_,7,0,"div",19),g.j41(12,"div",15)(13,"label"),g.pXf(14,4),g.k0s(),g.j41(15,"div",20),g.EFF(16),g.k0s()(),g.j41(17,"div",21),g.DNE(18,u,7,8,"div",22)(19,I,4,3,"div",23),g.k0s()()),2&B){const P=g.XpG(2);g.Y8G("formGroup",P.form),g.R7$(11),g.Y8G("ngIf",P.can_book_for_others),g.R7$(5),g.SpI(" ",(null==P.form.controls.resources||null==P.form.controls.resources.value[0]?null:P.form.controls.resources.value[0].display_name)||(null==P.form.controls.resources||null==P.form.controls.resources.value[0]?null:P.form.controls.resources.value[0].name)," "),g.R7$(2),g.Y8G("ngIf",P.form.controls.date),g.R7$(),g.Y8G("ngIf",P.form.controls.duration)}}function y(B,K){if(1&B){const P=g.RV6();g.qex(0),g.DNE(1,k,20,5,"main",11),g.j41(2,"footer",12)(3,"button",13),g.bIt("click",function(){g.eBV(P);const S=g.XpG();return g.Njj(S.save())}),g.pXf(4,2),g.k0s()(),g.bVm()}if(2&B){const P=g.XpG();g.R7$(),g.Y8G("ngIf",P.form)}}function x(B,K){if(1&B&&(g.j41(0,"div",30),g.nrm(1,"mat-spinner",31),g.j41(2,"p"),g.EFF(3),g.nI1(4,"async"),g.k0s()()),2&B){const P=g.XpG();g.R7$(),g.Y8G("diameter",48),g.R7$(2),g.JRh(g.bMT(4,2,P.loading))}}let M=(()=>{class B{get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}get time_format(){return this._settings.time_format}constructor(P,j,S,w,m){this._data=P,this._settings=j,this._event_form=S,this._dialog_ref=w,this._router=m,this.loading=this._event_form.loading}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,d.Ny)().email,organiser:(0,d.Ny)()})}save(){var P=this;return(0,e.A)(function*(){yield P._event_form.postForm().catch(j=>{throw(0,d.UG)(j),j}),P._settings.app_name.toLowerCase().includes("workplace")?P._router.navigate(["/book","meeting","success"]):(0,d.VX)("Successfully booked room."),P._dialog_ref.close()})()}static#e=this.\u0275fac=function(j){return new(j||B)(g.rXU(n.Vh),g.rXU(d.h$),g.rXU(h.W),g.rXU(n.CP),g.rXU(b.Ix))};static#t=this.\u0275cmp=g.VBU({type:B,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:()=>{let P,j,S,w,m,v,A;return P=$localize`:␟bd532c9813cc0577fcc3ff32640a61afef2bf40a␟6464057252608386690:New Booking`,j=$localize`:␟2fa313c798ad138557539ba3c6a3bfdc426eaaa2␟2367152680379951719: Save `,S=$localize`:␟5cf0071757dd8065e052662e4d191a210c766579␟2997066279074525950:Booking Title`,w=$localize`:␟35a900d9fa8e824539ca4b0d1a10bd2f7f8c1172␟8953173802652113530:Booking title is required`,m=$localize`:␟0f342dcd63b8732a5599eb91ce166b55335dbbc4␟1329943553963489238:Space:`,v=$localize`:␟05fa0bded36de6e73a1fa44838b627349dace044␟6899410641137821757:Date:`,A=$localize`:␟e17a1d75189da843f541f7764f188f2b19a97df2␟4220765745195024064:Duration:`,[["load_state",""],P,j,w,m,v,A,[1,"flex-1"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","matRipple","","mat-dialog-close",""],["class","p-4 max-w-[85vw]",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"p-4","max-w-[85vw]",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",S],["class","flex flex-col",4,"ngIf"],["name","space",1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col flex-1 w-full sm:w-auto",4,"ngIf"],["class","flex flex-col w-full sm:w-auto",4,"ngIf"],["for","host"],["name","host","formControlName","organiser",1,"mb-4"],[1,"flex","flex-col","flex-1","w-full","sm:w-auto"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","flex-col","w-full","sm:w-auto"],["formControlName","duration",1,"w-full",3,"time","max","use_24hr"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(j,S){if(1&j&&(g.j41(0,"header")(1,"h2"),g.pXf(2,1),g.k0s(),g.nrm(3,"div",7),g.DNE(4,E,3,0,"button",8),g.nI1(5,"async"),g.k0s(),g.DNE(6,y,5,1,"ng-container",9),g.nI1(7,"async"),g.DNE(8,x,5,4,"ng-template",null,0,g.C5r)),2&j){const w=g.sdS(9);g.R7$(4),g.Y8G("ngIf",!g.bMT(5,3,S.loading)),g.R7$(2),g.Y8G("ngIf",!g.bMT(7,5,S.loading))("ngIfElse",w)}},styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})}return B})()},2882:(Ot,ve,s)=>{"use strict";s.d(ve,{Y:()=>u});var e=s(4918),n=s(3953),d=s(177),h=s(2238);function g(I,k){if(1&I&&(n.j41(0,"p",9),n.EFF(1),n.k0s()),2&I){const y=n.XpG(2);n.R7$(),n.JRh(y.user)}}function b(I,k){if(1&I&&(n.j41(0,"p",10),n.EFF(1),n.k0s()),2&I){const y=n.XpG(2);n.R7$(),n.SpI(" ",y.department," ")}}function E(I,k){if(1&I&&(n.j41(0,"p",11),n.EFF(1),n.nI1(2,"date"),n.nI1(3,"date"),n.k0s()),2&I){const y=n.XpG(2);n.R7$(),n.Lme(" ",n.i5U(2,2,y.start,"shortTime")," \u2013 ",n.i5U(3,5,y.end,"shortTime")," ")}}function _(I,k){if(1&I&&(n.j41(0,"div",2),n.nrm(1,"div",3),n.j41(2,"div",4)(3,"h4",5),n.EFF(4),n.k0s(),n.DNE(5,g,2,1,"p",6)(6,b,2,1,"p",7)(7,E,4,8,"p",8),n.k0s()()),2&I){const y=n.XpG();n.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+y.x_pos+" "+y.y_pos),n.Y8G("id",y.map_id),n.R7$(4),n.SpI(" ",y.name||y.map_id||y.id," "),n.R7$(),n.Y8G("ngIf",y.user),n.R7$(),n.Y8G("ngIf",y.user&&y.department),n.R7$(),n.Y8G("ngIf",y.start)}}let u=(()=>{class I{constructor(y,x){this._details=y,this._element=x,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end,this.status=this._details.status,this.department=this._details.department}ngOnInit(y=0){y>10||setTimeout(()=>{const x=this._element.nativeElement.parentElement?.parentElement;if(!x)return this.ngOnInit(++y);const M_y=parseInt(x.style.top,10)/100,M_x=parseInt(x.style.left,10)/100;this.y_pos=M_y>=.5?"bottom":"top",this.x_pos=M_x>=.5?"right":"left"},200)}get available_until(){return""}static#e=this.\u0275fac=function(x){return new(x||I)(n.rXU(e.N),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:I,selectors:[["explore-desk-info"]],decls:3,vars:8,consts:[["desk_tooltip",""],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","z-20",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["user","","class","mt-1 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["user","",1,"mt-1","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(x,M){if(1&x&&(n.nrm(0,"div",1),n.DNE(1,_,8,7,"ng-template",null,0,n.C5r)),2&x){const B=n.sdS(2);n.Y8G("content",B)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),n.BMQ("id",M.id)("map_id",M.map_id)}},dependencies:[d.bT,h.I,d.vh],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return I})()},1104:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>ie});var e=s(467),n=s(1038),d=s(4512),h=s(5987),g=s(3601),b=s(906),E=s(9928),_=s(4421),u=s(9714),I=s(8728),k=s(9090),y=s(3921),x=s(5006),M=s(8712),B=s(3020),K=s(8841),P=s(9493),j=s(4046),S=s(8379),w=s(1168),m=s(8026),v=s(7451),A=s(7146),L=s(2882),G=s(1207),O=s(5897),W=s(2455),U=s(5645),$=s(3953),te=s(4006);let ie=(()=>{class me extends w.Tv{constructor(F,N,J,ae,_e){var xe;super(),xe=this,this._state=F,this._org=N,this._settings=J,this._bookings=ae,this._dialog=_e,this._in_use=new E.t([]),this._options=new E.t({}),this._presence=new E.t([]),this._signs_of_life=new E.t([]),this._statuses={},this._users={},this._departments={},this._checked_in=new E.t([]),this.booking_rules=this._org.active_building.pipe((0,I.p)(Fe=>!!Fe),(0,k.n)(Fe=>(0,n.bpY)(Fe.id,"desk_booking_rules").pipe((0,y.W)(()=>(0,_.of)({details:[]})))),(0,x.T)(Fe=>Fe?.details instanceof Array?Fe.details:[]),(0,M.t)(1)),this.desk_list=this._state.level.pipe((0,B.B)(50),(0,k.n)(Fe=>(0,n.bpY)(Fe.id,"desks").pipe((0,y.W)(()=>(0,_.of)({details:[]})),(0,x.T)(Ae=>(Ae?.details instanceof Array?Ae.details:[]).map(Ye=>new v.g({...Ye,zone:Fe}))))),(0,y.W)(Fe=>[]),(0,M.t)(1)),this._bind=(0,u.zV)([this._state.level,this._state.options]).pipe((0,B.B)(300),(0,I.p)(([Fe,{is_public:Ae}])=>!!Fe&&!Ae),(0,x.T)(([Fe])=>{this._statuses={};const Ae=this._org.binding("area_management");if(!Ae)return;let Ye=(0,n.f_4)(Ae,"AreaManagement")?.binding(Fe.id);Ye&&(this.subscription("lvl-in_use",Ye.listen().subscribe(qe=>this.processBindingChange(qe||{},Ae))),this.subscription("lvl-in_use_bind",Ye.bind()))})),this._booking_list=(0,u.zV)([this._options,this._state.level]).pipe((0,I.p)(([Fe,Ae])=>(Fe.use_api||Fe.date>(0,d.D)(Date.now()).valueOf())&&!!Ae),(0,k.n)(([Fe,Ae])=>(0,U.tj)({type:"desk",period_start:(0,h._)((0,g.o)(Fe.date||Date.now())),period_end:(0,h._)((0,d.D)(Fe.date||Date.now())),zones:Ae.id})),(0,B.B)(200),(0,K.M)(Fe=>{this._in_use.next(Fe.map(Ae=>Ae.asset_id)),this._checked_in.next(Fe.filter(Ae=>Ae.checked_in).map(Ae=>Ae.asset_id))}),(0,M.t)(1)),this._state_change=(0,u.zV)([this.desk_list,this._in_use,this._presence,this._checked_in,this._signs_of_life,this.booking_rules,this._options]).pipe((0,B.B)(50),(0,x.T)(function(){var Fe=(0,e.A)(function*([Ae,Ye,qe,Ne,Me,pe]){xe._statuses={};const he=yield xe._state.level.pipe((0,P.s)(1)).toPromise();for(const{id:le,bookable:Ee}of Ae){const Xe=Ye.some(_n=>le===_n),xt=qe.some(_n=>le===_n),dt=Me.some(_n=>le===_n),Ct=Ne.some(_n=>le===_n)||Xe&&xe._settings.get("app.desk.auto_checkin"),Qt=(0,w.RH)({date:Date.now(),duration:60,host:(0,w.Ny)(),resource:{id:le,zones:[he.parent_id,he.id]}},pe)?.hidden;xe._statuses[le]=Ee&&!Qt?Xe||xt||Ct?xt||Ct?"busy":"pending":dt?"signs-of-life":"free":"not-bookable"}xe.processDesks(Ae)});return function(Ae){return Fe.apply(this,arguments)}}())),this.init()}init(){var F=this;return(0,e.A)(function*(){yield F._org.initialised.pipe((0,j.$)(N=>N)).toPromise(),F.setOptions({enable_booking:!1!==F._settings.get("app.desks.enable_maps")}),F.subscription("bookings",F._booking_list.subscribe()),F.subscription("bind",F._bind.subscribe()),F.subscription("booking_rules",F.booking_rules.subscribe()),F.subscription("changes",F._state_change.subscribe()),F.subscription("desks",F.desk_list.subscribe(N=>F.processDesks(N)))})()}setOptions(F){this._options.next({...this._options.getValue(),...F})}processBindingChange({value:F},N){const J=(F||[]).filter(Fe=>!["desk","booking"].includes(Fe.location)),ae=(F||[]).filter(Fe=>"desk"===Fe.location||"booking"===Fe.location&&"desk"===Fe.type);(this._options.getValue().date||Date.now())<=(0,d.D)(Date.now()).valueOf()&&!this._options.getValue().use_api&&(this._in_use.next(ae.filter(Fe=>"booking"===Fe.location).map(Fe=>Fe.map_id||Fe.asset_id)),this._checked_in.next(ae.filter(Fe=>"booking"===Fe.location&&Fe.checked_in).map(Fe=>Fe.map_id||Fe.asset_id)),this._presence.next(ae.filter(Fe=>Fe.at_location).map(Fe=>Fe.map_id||Fe.asset_id)),this._signs_of_life.next(ae.filter(Fe=>Fe.signs_of_life).map(Fe=>Fe.map_id||Fe.asset_id)));const xe=this._settings.get("app.department_map")||{};for(const Fe of ae)this._users[Fe.map_id||Fe.asset_id]=Fe.staff_name,this._departments[Fe.map_id||Fe.asset_id]=xe[Fe.department]||"";this.processDevices(J,N),this.timeout("update",()=>this.updateStatus(),100)}updateStatus(){const F={},N=this._settings.get("app.explore.colors")||{};for(const J in this._statuses)this._statuses[J]&&(F[`#${J}`]={fill:N[`desk-${this._statuses[J]}`]||N[`${this._statuses[J]}`]||O.U[`${this._statuses[J]}`]});this._state.setStyles("desks",F)}processDevices(F,N){const J=[];for(const ae of F){const _e=ae.x/ae.map_width,xe=ae.y/ae.map_height;J.push({track_id:`device:hover:${_e},${xe}`,location:{x:ae.coordinates_from?.includes("right")?1-_e:_e,y:ae.coordinates_from?.includes("bottom")?1-xe:xe},content:G.r,z_index:20,data:{...ae,system:N}})}this._state.setFeatures("devices",J)}processDesks(F){var N=this;const J=[],ae=[],_e=this._options.getValue();for(const xe of F){if(J.push({track_id:`desk:hover:${xe.map_id||xe.id}`,location:xe.id,content:L.Y,full_size:!0,no_scale:!0,data:{id:xe.map_id||xe.id,map_id:xe.name,name:xe.name||xe.map_id,user:this._users[xe.map_id]||xe.staff_name,status:this._statuses[xe.map_id],department:this._departments[xe.map_id]||""},z_index:20}),!xe.bookable)continue;let Fe=!0;const Ae=function(){var Ye=(0,e.A)(function*(){if(!Fe)return;if("free"!==N._statuses[xe.id])return(0,w.UG)(`${xe.name||"Desk"} is unavailable at this time.`);if(xe.groups?.length&&!xe.groups.find(he=>(0,w.Ny)().groups.includes(he)))return(0,w.UG)(`You are not allowed to book ${xe.name}.`);N._bookings.newForm(),N._bookings.setOptions({type:"desk"}),_e.date&&(N._bookings.form.patchValue({date:_e.date}),N._bookings.form.patchValue({all_day:!!_e.all_day}));let{date:qe,duration:Ne,user:Me}=yield N._setBookingTime(N._bookings.form.value.date,N._bookings.form.value.duration,N._options.getValue()?.custom??!1,xe);Me=Me||_e.host||(0,w.Ny)();const pe=Me?.email;N._bookings.form.patchValue({resources:[xe],asset_id:xe.id,asset_name:xe.name,date:qe,duration:_e.all_day?720:Ne,map_id:xe?.map_id||xe?.id,description:xe.name,user:Me,user_email:pe,booking_type:"desk",zones:xe.zone?[xe.zone?.parent_id,xe.zone?.id]:[]}),yield N._bookings.confirmPost().catch(he=>{throw console.log(he),(0,w.UG)(`Failed to book desk ${xe.name||xe.id}. ${he.message||he.error||he}`),he}),N._users[xe.map_id]=(_e.host||(0,w.Ny)())?.name,(0,w.VX)(`Successfully booked desk ${xe.name||xe.id}`)});return function(){return Ye.apply(this,arguments)}}();["mousedown","touchstart"].forEach(Ye=>ae.push({id:xe.id,action:Ye,priority:10,callback:()=>{Fe=!0,this.timeout("booking",()=>Fe=!1)}})),["mouseup","touchend"].forEach(Ye=>ae.push({id:xe.id,action:Ye,priority:10,callback:Ae}))}this._state.setActions("desks",this._options.getValue().enable_booking?ae:[]),this._state.setFeatures("desks",J),this.timeout("update",()=>this.updateStatus(),100)}_setBookingTime(F,N,J=!1,ae=null){var _e=this;return(0,e.A)(function*(){let xe=null;if(_e._settings.get("app.desks.allow_time_changes")){const Fe=(0,d.D)((0,b.f)(Date.now(),_e._settings.get("app.desks.available_period")||90)),Ye=yield _e._dialog.open(A.A,{data:{date:F,duration:N,until:Fe,host:J,resource:ae}}).afterClosed().toPromise();if(!Ye)throw"User cancelled";F=Ye.date,N=Ye.duration,xe=Ye.user}return{date:F,duration:N,user:xe}})()}static#e=this.\u0275fac=function(N){return new(N||me)($.KVO(W.O),$.KVO(m.y),$.KVO(w.h$),$.KVO(S.n),$.KVO(te.bZ))};static#t=this.\u0275prov=$.jDH({token:me,factory:me.\u0275fac})}return me})()},1207:(Ot,ve,s)=>{"use strict";s.d(ve,{r:()=>S});var e=s(467),n=s(1038),d=s(141),h=s(2037),g=s(1168),b=s(4918),E=s(3953),_=s(177),u=s(2238);const I=["explore-device-info",""];function k(w,m){if(1&w&&(E.j41(0,"p",23)(1,"label"),E.pXf(2,4),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",v.mac," ")}}function y(w,m){if(1&w&&(E.j41(0,"p",24)(1,"label"),E.pXf(2,5),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",v.manufacturer," ")}}function x(w,m){if(1&w&&(E.j41(0,"p",25)(1,"label"),E.pXf(2,6),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",v.os," ")}}function M(w,m){if(1&w&&(E.j41(0,"p",26)(1,"label"),E.pXf(2,7),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",v.ssid," ")}}function B(w,m){if(1&w&&(E.j41(0,"p",27)(1,"label"),E.pXf(2,8),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",(null==v.user?null:v.user.name)||(null==v.user?null:v.user.username)||v.username," ")}}function K(w,m){if(1&w&&(E.j41(0,"p",28)(1,"label"),E.pXf(2,9),E.k0s(),E.EFF(3),E.k0s()),2&w){const v=E.XpG(2);E.R7$(3),E.SpI(" ",v.user.type," ")}}function P(w,m){if(1&w){const v=E.RV6();E.j41(0,"div",14),E.bIt("mouseleave",function(){E.eBV(v);const L=E.XpG();return E.Njj(L.close())}),E.nrm(1,"div",15),E.j41(2,"div",16),E.DNE(3,k,4,1,"p",17),E.j41(4,"p")(5,"label"),E.pXf(6,2),E.k0s(),E.EFF(7),E.k0s(),E.j41(8,"p")(9,"label"),E.pXf(10,3),E.k0s(),E.EFF(11),E.k0s(),E.DNE(12,y,4,1,"p",18)(13,x,4,1,"p",19)(14,M,4,1,"p",20)(15,B,4,1,"p",21)(16,K,4,1,"p",22),E.k0s()()}if(2&w){const v=E.XpG();E.R7$(3),E.Y8G("ngIf",v.mac&&!v.hide_fields.includes("mac")),E.R7$(4),E.SpI(" ",v.variance,"m"),E.R7$(4),E.SpI(" ",v.last_seen,""),E.R7$(),E.Y8G("ngIf",v.manufacturer&&!v.hide_fields.includes("manufacturer")),E.R7$(),E.Y8G("ngIf",v.os&&!v.hide_fields.includes("os")),E.R7$(),E.Y8G("ngIf",v.ssid&&!v.hide_fields.includes("ssid")),E.R7$(),E.Y8G("ngIf",v.username&&!v.hide_fields.includes("username")),E.R7$(),E.Y8G("ngIf",v.user&&!v.hide_fields.includes("user"))}}const j=[];let S=(()=>{class w extends g.Tv{get hide_fields(){return this._settings.get("app.explore.hide_device_fields")||j}get last_seen(){return(0,d.m)(1e3*(this._details.last_seen||0),{addSuffix:!0})}get diameter(){return 100*this._details.variance*this.zoom}get distance(){return Math.abs((0,h.o)(1e3*(this._details.last_seen||0),new Date))}get distance_color(){return this.distance<10?"#43a047":this.distance<20?"#ffb300":"#e53935"}constructor(v,A,L){super(),this._details=v,this._settings=A,this._element=L,this.username="",this.user=this._details.user,this.mac=this._details.mac,this.manufacturer=this._details.manufacturer,this.os=this._details.os,this.ssid=this._details.ssid,this.variance=this._details.variance?.toFixed(2),this.bg_color=this._details.bg_color||this.distance_color,this.zoom=1}ngOnInit(v=0){v>10||setTimeout(()=>{const A=this._element.nativeElement.parentElement?.parentElement;if(!A)return this.ngOnInit(++v);const L_y=parseInt(A.style.top,10)/100,L_x=parseInt(A.style.left,10)/100;this.y_pos=L_y>=.5?"bottom":"top",this.x_pos=L_x>=.5?"end":"start",this.subscription("zoom",this._details.zoom$.subscribe(G=>this.zoom=G))},200)}loadUser(){var v=this;return(0,e.A)(function*(){if(v.username)return;const A=(0,n.f_4)(v._details.system,"LocationServices");if(!A)return;v.username="Loading...";const L=yield A.execute("check_ownership_of",[v.mac]).catch(G=>null);v.username=L&&L.assigned_to?L.assigned_to:""})()}static#e=this.\u0275fac=function(A){return new(A||w)(E.rXU(b.N),E.rXU(g.h$),E.rXU(E.aKT))};static#t=this.\u0275cmp=E.VBU({type:w,selectors:[["","explore-device-info",""]],features:[E.Vt3],attrs:I,decls:7,vars:9,consts:()=>{let v,A,L,G,O,W,U,$;return v=$localize`:␟4e79bc7b2a23c2e4e80d256c8167411cf124bd20␟1921442792032576180:Accuracy:`,A=$localize`:␟1c564bebf178f9c70f2c66a80393137bfa0d2ea8␟5291488112436395082:Last Seen:`,L=$localize`:␟14802d5580219b4522c9c50e1a9f401aee191e1e␟5080596488336446120:MAC:`,G=$localize`:␟a082daef9c0b66268ce56dfa8d96d47a04d2c4b1␟6296767522110275448:Manufacturer:`,O=$localize`:␟5544405b325c518c94412239610d44250d5a223a␟2346706060395913038:OS:`,W=$localize`:␟afd0fc7b37f54299537ba2abc9babf749adf383e␟4345272263810420547:SSID:`,U=$localize`:␟67fc3fe0566f8700b84a908c35497759db78addc␟140822705245800362:Username:`,$=$localize`:␟e78c0d60ac39787f62c9159646fe0b3c1ed55a1d␟2736556170366900089:Type:`,[["dot",""],["device_tooltip",""],v,A,L,G,O,W,U,$,["name","radius",1,"radius","absolute","center","bg-info","bg-opacity-25","border-8","border-dashed","border-blue-600","rounded-full"],["shadow","",1,"absolute","center","bg-neutral","h-8","w-8","rounded-full"],["name","dot",1,"h-3","w-3","absolute","center","rounded-full","shadow","border-2","border-white"],["customTooltip","",1,"absolute","inset-0","pointer-events-auto",3,"mouseenter","content","backdrop","xPosition","yPosition","hover"],["name","device-info",1,"w-64","rounded","bg-base-100","p-4","top-0","left-0","shadow","pointer-events-none","mx-2",3,"mouseleave"],[1,"arrow"],[1,"details"],["class","break-words",4,"ngIf"],["type","",4,"ngIf"],["os","",4,"ngIf"],["ssid","",4,"ngIf"],["username","",4,"ngIf"],["user","",4,"ngIf"],[1,"break-words"],["type",""],["os",""],["ssid",""],["username",""],["user",""]]},template:function(A,L){if(1&A){const G=E.RV6();E.nrm(0,"div",10)(1,"div",11)(2,"div",12,0),E.j41(4,"div",13),E.bIt("mouseenter",function(){return E.eBV(G),E.Njj(L.loadUser())}),E.k0s(),E.DNE(5,P,17,8,"ng-template",null,1,E.C5r)}if(2&A){const G=E.sdS(6);E.Aen("height: "+L.diameter+"%; width: "+L.diameter+"%;"),E.R7$(2),E.xc7("background-color",L.bg_color),E.R7$(2),E.Y8G("content",G)("backdrop",!1)("xPosition",L.x_pos)("yPosition",L.y_pos)("hover",!0)}},dependencies:[_.bT,u.I],styles:["[_nghost-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > [name=dot][_ngcontent-%COMP%]{background-color:#616161}[_nghost-%COMP%]:hover > [name=radius][_ngcontent-%COMP%]{opacity:1}[name=radius][_ngcontent-%COMP%]{opacity:0;transition:opacity .2s;pointer-events:none}"]})}return w})()},3207:(Ot,ve,s)=>{"use strict";s.d(ve,{q:()=>h});var e=s(4351),n=s(3953),d=s(9434);let h=(()=>{class g{constructor(E){this._details=E,this.icon=this._details.icon||{content:"done"},this.color=this._details.color||"var(--in)",this.text_color=this._details.text_color||"var(--inc)"}static#e=this.\u0275fac=function(_){return new(_||g)(n.rXU(e.Nw))};static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["explore-icon"]],decls:2,vars:5,consts:[[1,"flex","items-center","justify-center","h-8","w-8","shadow","rounded-full","border","border-base-200"],[1,"text-xl",3,"icon"]],template:function(_,u){1&_&&(n.j41(0,"div",0),n.nrm(1,"app-icon",1),n.k0s()),2&_&&(n.xc7("background-color",u.color)("color",u.text_color),n.R7$(),n.Y8G("icon",u.icon))},dependencies:[d.R],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;align-items:end;justify-content:end}"]})}return g})()},4810:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>E});var e=s(4351),n=s(795),d=s(3953),h=s(4006),g=s(2238);function b(_,u){if(1&_&&(d.j41(0,"div",3)(1,"h3",4),d.EFF(2),d.k0s(),d.j41(3,"p",5),d.EFF(4),d.k0s()()),2&_){const I=d.XpG();d.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+I.x_pos+" "+I.y_pos),d.Y8G("id",I.map_id),d.R7$(2),d.JRh(I.bank.name),d.R7$(2),d.Lme(" ",I.in_use_count," lockers in use of ",I.bank.lockers.length||1," ")}}let E=(()=>{class _{constructor(I,k,y){this._details=I,this._element=k,this._dialog=y,this.bank=this._details.bank,this.in_use_count=this._details.in_use_count}ngOnInit(I=0){I>10||setTimeout(()=>{const k=this._element.nativeElement.parentElement?.parentElement;if(!k)return this.ngOnInit(++I);const y_y=parseInt(k.style.top,10)/100,y_x=parseInt(k.style.left,10)/100;this.y_pos=y_y>=.5?"bottom":"top",this.x_pos=y_x>=.5?"right":"left"},200)}openBankModal(){this._dialog.open(n.c,{data:{...this._details}})}static#e=this.\u0275fac=function(k){return new(k||_)(d.rXU(e.Nw),d.rXU(d.aKT),d.rXU(h.bZ))};static#t=this.\u0275cmp=d.VBU({type:_,selectors:[["explore-locker-bank-info"]],decls:4,vars:6,consts:[["desk_tooltip",""],[1,"h-full","w-full","pointer-events-auto","relative",3,"click"],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"font-medium"],[1,"whitespace-nowrap","text-sm"]],template:function(k,y){if(1&k){const x=d.RV6();d.j41(0,"button",1),d.bIt("click",function(){return d.eBV(x),d.Njj(y.openBankModal())}),d.nrm(1,"div",2),d.k0s(),d.DNE(2,b,5,6,"ng-template",null,0,d.C5r)}if(2&k){const x=d.sdS(3);d.R7$(),d.Y8G("content",x)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3)}},dependencies:[g.I]})}return _})()},795:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>E});var e=s(4006),d=(s(8796),s(3953)),h=s(9434),g=s(6600),b=s(4854);let E=(()=>{class _{constructor(I){this._data=I,this.bank=this._data.bank,this.lockers=this._data.lockers.reduce((k,y)=>(k[y.id]="busy",k),{})}static#e=this.\u0275fac=function(k){return new(k||_)(d.rXU(e.Vh))};static#t=this.\u0275cmp=d.VBU({type:_,selectors:[["explore-locker-bank-modal"]],decls:8,vars:3,consts:[[1,"text-xl","font-medium"],["btn","","icon","","matRipple","","mat-dialog-close",""],[1,"h-[65vh]","overflow-hidden"],[3,"bank","bank_status"]],template:function(k,y){1&k&&(d.j41(0,"header")(1,"h2",0),d.EFF(2),d.k0s(),d.j41(3,"button",1)(4,"app-icon"),d.EFF(5,"close"),d.k0s()()(),d.j41(6,"main",2),d.nrm(7,"locker-grid",3),d.k0s()),2&k&&(d.R7$(2),d.JRh(y.bank.name),d.R7$(5),d.Y8G("bank",y.bank)("bank_status",y.lockers))},dependencies:[h.R,g.r6,e.tx,b.E]})}return _})()},9591:(Ot,ve,s)=>{"use strict";s.d(ve,{K:()=>M});var e=s(8796),n=s(2455),d=s(1168),h=s(5006),g=s(8728),b=s(9928),E=s(9714),_=s(4421),u=s(1038),I=s(2185),k=s(4810),y=s(5897),x=s(3953);let M=(()=>{class B extends d.Tv{constructor(P,j,S,w){super(),this._lockers=P,this._explore=j,this._org=S,this._settings=w,this._status=new b.t([]),this.lockers$=this._lockers.filtered_lockers$,this.status=(0,E.zV)([this._explore.level,this._explore.options,this._org.active_building]).pipe((0,h.T)(([m,{is_public:v}])=>{if(!m||v)return[];const A=this._org.binding("area_management");if(!A)return(0,_.of)({});let L=(0,u.f_4)(A,"AreaManagement").binding(m.id);this.subscription("lvl-in_use",L.listen().subscribe(G=>this._status.next(G?.value?.filter(O=>"locker"===O.location)||[]))),this.subscription("lvl-in_use_bind",L.bind())})),this.locker_status=(0,E.zV)([this._explore.level,this._lockers.lockers_banks$,this.lockers$,this._status]).pipe((0,h.T)(([m,v,A,L])=>{if(!m)return[];const G=[],O={},W=this._settings.get("app.explore.colors")||{},U=(0,d.Am)(v.filter($=>$.level_id===m.id).map($=>$.id));for(const $ of U){const te=A.filter(N=>N.bank_id===$);let ie=0;for(const N of te)ie+=L.find(ae=>ae.locker_id===N.id&&ae.allocated)?1:0;const me=v.find(N=>N.id===$);G.push({location:me.map_id,content:k.B,full_size:!0,no_scale:!0,z_index:20,data:{bank:me,lockers:A,in_use_count:ie,locker_count:te.length,system:this._org.binding("area_management")}});const Y=ie/te.length,F=Y>.8?"busy":Y>.3?"pending":"free";O[`#${me.map_id}`]={fill:W[`lockers-${F}`]||W[`${F}`]||y.U[`${F}`]}}this._explore.setStyles("lockers",O),this._explore.setFeatures("lockers",G)})),this.subscription("level",this._explore.level.pipe((0,g.p)(m=>!!m)).subscribe(m=>this._lockers.setLevel(m.id))),this.subscription("status",this.status.subscribe()),this.subscription("locker_status",this.locker_status.subscribe())}static#e=this.\u0275fac=function(j){return new(j||B)(x.KVO(e.$),x.KVO(n.O),x.KVO(I.yb),x.KVO(d.h$))};static#t=this.\u0275prov=x.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},468:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>P});var e=s(467),n=s(1168),d=s(4046),h=s(8026),g=s(2455),b=s(3953),E=s(2091),_=s(177),u=s(6600),I=s(3719),k=s(2798),y=s(9417);function x(j,S){if(1&j&&(b.j41(0,"mat-option",6),b.EFF(1),b.k0s()),2&j){const w=S.$implicit;b.Y8G("value",w),b.R7$(),b.SpI(" ",w.display_name||w.name," ")}}function M(j,S){if(1&j){const w=b.RV6();b.j41(0,"mat-form-field",3)(1,"mat-select",4),b.nI1(2,"async"),b.bIt("ngModelChange",function(v){b.eBV(w);const A=b.XpG();return b.Njj(A.setBuilding(v))}),b.DNE(3,x,2,2,"mat-option",5),b.nI1(4,"async"),b.k0s()()}if(2&j){const w=b.XpG();b.R7$(),b.Y8G("ngModel",b.bMT(2,2,w.building)),b.R7$(2),b.Y8G("ngForOf",b.bMT(4,4,w.buildings))}}function B(j,S){if(1&j&&(b.j41(0,"mat-option",6),b.EFF(1),b.k0s()),2&j){const w=S.$implicit;b.Y8G("value",w),b.R7$(),b.SpI(" ",w.display_name||w.name," ")}}function K(j,S){if(1&j){const w=b.RV6();b.j41(0,"mat-form-field",7),b.nI1(1,"async"),b.j41(2,"mat-select",8),b.nI1(3,"async"),b.bIt("ngModelChange",function(v){b.eBV(w);const A=b.XpG();return b.Njj(A.setLevel(v))}),b.DNE(4,B,2,2,"mat-option",5),b.nI1(5,"async"),b.k0s()()}if(2&j){let w;const m=b.XpG();b.BMQ("has-bld",(null==(w=b.bMT(1,3,m.buildings))?null:w.length)>1),b.R7$(2),b.Y8G("ngModel",b.bMT(3,5,m.level)),b.R7$(2),b.Y8G("ngForOf",b.bMT(5,7,m.levels))}}let P=(()=>{class j extends n.Tv{constructor(w,m,v,A){super(),this._org=w,this._state=m,this._router=v,this._route=A,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.levels=this._org.active_levels,this.level=this._state.level,this.setLevel=L=>{this._state.setFeatures("_located",[]),this.timeout("set_level",()=>this._router.navigate([],{relativeTo:this._route,queryParams:{zone:L.id}}),201)},this.setBuilding=L=>this._org.building=L}ngOnInit(){var w=this;return(0,e.A)(function*(){yield w._org.initialised.pipe((0,d.$)(m=>m)).toPromise(),w.subscription("route.query",w._route.queryParamMap.subscribe(m=>m.has("zone")?w._state.setLevel(m.get("zone")):""))})()}static#e=this.\u0275fac=function(m){return new(m||j)(b.rXU(h.y),b.rXU(g.O),b.rXU(E.Ix),b.rXU(E.nX))};static#t=this.\u0275cmp=b.VBU({type:j,selectors:[["explore-map-controls"]],features:[b.Vt3],decls:5,vars:6,consts:()=>{let w,m;return w=$localize`:␟dea1f8bc2b32584fadf07ef815709b946d3726ff␟1533056789917995243:Select Building...`,m=$localize`:␟025373b97845a8c2b54d2eb17d9c479f64207b11␟7854898325453225869:Select Level...`,[[1,"flex","space-x-2","w-full"],["overlay","","buildings","","class","flex-1 min-w-[10.5rem] no-subscript","has-bld","true","appearance","outline",4,"ngIf"],["overlay","","levels","","class","flex-1 min-w-[10.25rem] no-subscript","appearance","outline",4,"ngIf"],["overlay","","buildings","","has-bld","true","appearance","outline",1,"flex-1","min-w-[10.5rem]","no-subscript"],["placeholder",w,3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["overlay","","levels","","appearance","outline",1,"flex-1","min-w-[10.25rem]","no-subscript"],["placeholder",m,3,"ngModelChange","ngModel"]]},template:function(m,v){if(1&m&&(b.j41(0,"div",0),b.DNE(1,M,5,6,"mat-form-field",1),b.nI1(2,"async"),b.DNE(3,K,6,9,"mat-form-field",2),b.nI1(4,"async"),b.k0s()),2&m){let A,L;b.R7$(),b.Y8G("ngIf",(null==(A=b.bMT(2,2,v.buildings))?null:A.length)>1),b.R7$(2),b.Y8G("ngIf",null==(L=b.bMT(4,4,v.levels))?null:L.length)}},dependencies:[_.Sq,_.bT,u.wT,I.rl,k.VO,y.BC,y.vS,_.Jj],styles:["mat-form-field[has-bld=true][_ngcontent-%COMP%]{max-width:calc(50vw - 2.5rem)}[full][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:calc(50% - 2.5rem)}"]})}return j})()},3134:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>me});var e=s(467),n=s(1038),d=s(9493),h=s(4046),g=s(1168),b=s(8390),E=s(7401),_=s(1865),u=s(5384),I=s(8026),k=s(2011),y=s(2455),x=s(5897),M=s(1369),B=s(1104),K=s(4498),P=s(9591),j=s(9420),S=s(3953),w=s(2091),m=s(177),v=s(4918),A=s(450),L=s(9417),G=s(468);const O=()=>({controls:!0});function W(Y,F){if(1&Y){const N=S.RV6();S.j41(0,"div",7)(1,"mat-slide-toggle",8),S.nI1(2,"async"),S.bIt("ngModelChange",function(ae){S.eBV(N);const _e=S.XpG(2);return S.Njj(_e.toggleZones(ae))}),S.k0s(),S.j41(3,"label",9),S.pXf(4,0),S.k0s()()}if(2&Y){let N;const J=S.XpG(2);S.R7$(),S.Y8G("ngModel",!(null!=(N=S.bMT(2,1,J.options))&&null!=N.disable&&N.disable.includes("zones")))}}function U(Y,F){if(1&Y&&(S.j41(0,"div",5),S.nrm(1,"explore-map-controls"),S.DNE(2,W,5,3,"div",6),S.k0s()),2&Y){const N=S.XpG();S.R7$(2),S.Y8G("ngIf",!N.hide_zones)}}function $(Y,F){if(1&Y&&(S.j41(0,"div",7),S.nrm(1,"div",13),S.j41(2,"div",14),S.EFF(3),S.k0s()()),2&Y){const N=F.$implicit;S.R7$(),S.xc7("background-color",N[1]),S.R7$(2),S.JRh(N[0])}}function te(Y,F){if(1&Y&&(S.j41(0,"div",10)(1,"h3",11),S.pXf(2,1),S.k0s(),S.DNE(3,$,4,3,"div",12),S.k0s()),2&Y){const N=S.XpG();S.R7$(3),S.Y8G("ngForOf",N.legend)}}const ie=[];let me=(()=>{class Y extends g.Tv{toggleZones(N){var J=this;return(0,e.A)(function*(){const ae=yield J.options.pipe((0,d.s)(1)).toPromise(),_e=N?ae.disable?.filter(xe=>"zones"!==xe&&"devices"!==xe)||[]:(0,g.Am)([...ae.disable||[],"zones","devices"]);J.setOptions({disable:_e})})()}get show_legend(){return!!this._settings.get("app.explore.show_legend")}get hide_zones(){return!!this._settings.get("app.explore.hide_zones")}get legend(){return this._settings.get("app.explore.legend")||ie}constructor(N,J,ae,_e,xe,Fe,Ae,Ye,qe,Ne,Me,pe,he){super(),this._state=N,this._s=J,this._desks=ae,this._zones=_e,this._parking=xe,this._lockers=Fe,this._route=Ae,this._router=Ye,this._spaces=qe,this._org=Ne,this._settings=Me,this._space_pipe=pe,this._maps=he,this.url=this._state.map_url,this.styles=this._state.map_styles,this.positions=this._state.map_positions,this.features=this._state.map_features,this.actions=this._state.map_actions,this.labels=this._state.map_labels,this.options=this._state.options,this.message=this._state.message,this.setOptions=le=>this._state.setOptions(le),this.locate="",this.use_mapsindoors$=this._maps.available$}ngOnInit(){var N=this;return(0,e.A)(function*(){N._state.reset(),yield N._spaces.initialised.pipe((0,h.$)(J=>J)).toPromise(),N.toggleZones(!1),N.subscription("parking_poll",N._parking.startPolling()),N.subscription("route.query",N._route.queryParamMap.subscribe(function(){var J=(0,e.A)(function*(ae){if((ae.has("level")||ae.has("zone"))&&N._state.setLevel(ae.get("level")||ae.get("zone")),N._state.setFeatures("_located",[]),ae.has("space"))N.locateSpace(ae.get("space"));else if(ae.has("user")){let _e=N._settings.value("last_search");if((!_e||ae.get("user")!==_e.email)&&(_e=null,_e=yield(0,b.SZ)(ae.get("user")).toPromise()),!_e)return(0,g.UG)(`Unable to user details for ${ae.get("user")}`);N.locateUser(_e instanceof Array?_e[0]:_e).catch(xe=>{(0,g.UG)(`Unable to locate ${ae.get("user")}`),N._router.navigate([],{relativeTo:N._route,queryParams:{}})})}else ae.has("locate")?N._locateFeature(ae.get("locate"),ae.get("name")):N.timeout("update_location",()=>{N._state.setFeatures("_located",[])})});return function(ae){return J.apply(this,arguments)}}()))})()}updateZoom(N){this._state.setPositions(N,this._state.positions.center)}updateCenter(N){this._state.setPositions(this._state.positions.zoom,N)}_locateFeature(N,J=""){const ae=N.includes(","),_e=N.split(","),xe={track_id:`locate-${N}`,location:ae?{x:parseFloat(_e[0]),y:parseFloat(_e[1])}:N,content:_.V,z_index:99,data:{message:J}};this.locate=N,this.timeout("update_location",()=>this._state.setFeatures("_located",[xe]))}locateSpace(N){var J=this;return(0,e.A)(function*(){const ae=yield J._space_pipe.transform(N);if(!ae)return(0,g.UG)("Unable to load space details.");J._state.setLevel(J._org.levelWithID(ae.zones)?.id);const _e={track_id:`locate-${ae.id}`,location:ae.map_id,content:_.V,z_index:99,data:{message:`${ae.display_name||ae.name} is here`}};J.timeout("update_location",()=>J._state.setFeatures("_located",[_e]))})()}locateUser(N){var J=this;return(0,e.A)(function*(){let ae=J._org.binding("location_services");if(!ae)throw"Location services is not setup for this application.";"string"==typeof ae&&(ae={system_id:ae,module:"LocationServices",priority:[]});const xe=(yield(0,n.f_4)(ae.system_id,ae.module).execute("locate_user",[N.email,N.username||N.id])).map(qe=>new b.g8(qe));if(xe.sort((qe,Ne)=>ae.priority.indexOf(qe.type)-ae.priority.indexOf(Ne.type)),!xe?.length)throw"No locations for the given user";J._state.setLevel(J._org.levelWithID([xe[0]?.level])?.id);const Fe=xe[0].position,{coordinates_from:Ae}=xe[0],Ye={track_id:`locate-${N.id}`,location:"wireless"===xe[0].type?{x:Ae?.includes("right")?1-Fe.x:Fe.x,y:Ae?.includes("bottom")?1-Fe.y:Fe.y}:Fe,content:"wireless"===xe[0].type?u.o:_.V,z_index:99,data:{message:`${N.name} is here`,radius:xe[0].variance,last_seen:xe[0].last_seen}};J.timeout("update_location",()=>{J._state.setFeatures("_located",[Ye])})})()}static#e=this.\u0275fac=function(J){return new(J||Y)(S.rXU(y.O),S.rXU(x.s),S.rXU(B.v),S.rXU(M.M),S.rXU(K.X),S.rXU(P.K),S.rXU(w.nX),S.rXU(w.Ix),S.rXU(E.b),S.rXU(I.y),S.rXU(g.h$),S.rXU(k.J),S.rXU(j._))};static#t=this.\u0275cmp=S.VBU({type:Y,selectors:[["explore-map-view"]],features:[S.Jv_([B.v,x.s,M.M,K.X,P.K,k.J]),S.Vt3],decls:9,vars:22,consts:()=>{let N,J;return N=$localize`:␟dab9a30ea9f109a7395ec84fe144c4f70d50c32d␟4377629928032707348:Zones`,J=$localize`:␟5c5419db944ed6a96f9515a2ac0ee390ec8cf3b5␟7297822327994766046:Legend`,[N,J,[3,"src","styles","features","actions","labels","focus","options"],["controls","","class","absolute top-2 left-2 max-w-[calc(100vw-1rem)] bg-base-100 border border-base-200 rounded p-2 space-y-2 overflow-hidden",4,"ngIf"],["legend","","class","absolute bottom-2 left-2 p-2 rounded bg-base-100 border border-base-200",4,"ngIf"],["controls","",1,"absolute","top-2","left-2","max-w-[calc(100vw-1rem)]","bg-base-100","border","border-base-200","rounded","p-2","space-y-2","overflow-hidden"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2"],["name","zones",1,"ml-2",3,"ngModelChange","ngModel"],["for","zones",1,"mb-0"],["legend","",1,"absolute","bottom-2","left-2","p-2","rounded","bg-base-100","border","border-base-200"],[1,"mb-2","font-medium"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","border","border-base-200"],[1,"text-sm"]]},template:function(J,ae){1&J&&(S.nrm(0,"interactive-map",2),S.nI1(1,"async"),S.nI1(2,"async"),S.nI1(3,"async"),S.nI1(4,"async"),S.nI1(5,"async"),S.DNE(6,U,3,1,"div",3),S.nI1(7,"async"),S.DNE(8,te,4,1,"div",4)),2&J&&(S.Y8G("src",S.bMT(1,9,ae.url))("styles",S.bMT(2,11,ae.styles))("features",S.bMT(3,13,ae.features))("actions",S.bMT(4,15,ae.actions))("labels",S.bMT(5,17,ae.labels))("focus",ae.locate)("options",S.lJ4(21,O)),S.R7$(6),S.Y8G("ngIf",!S.bMT(7,19,ae.use_mapsindoors$)),S.R7$(2),S.Y8G("ngIf",ae.show_legend&&ae.legend.length))},dependencies:[m.Sq,m.bT,v.S,A.sG,L.BC,L.vS,G.O,m.Jj],styles:["[_nghost-%COMP%]{height:100%;width:100%}[zones][_ngcontent-%COMP%]{top:3.5rem}"]})}return Y})()},7889:(Ot,ve,s)=>{"use strict";s.d(ve,{N:()=>b});var e=s(1168),n=s(4351),d=s(3953),h=s(177);function g(E,_){if(1&E&&(d.j41(0,"div",7)(1,"div",8),d.EFF(2," Plate Number "),d.k0s(),d.j41(3,"div",9),d.EFF(4),d.k0s()()),2&E){const u=d.XpG();d.R7$(4),d.SpI(" ",u.plate_number||"ABC3"," ")}}let b=(()=>{class E{get is_concierge(){return this._settings.app_name.toLowerCase().includes("concierge")}constructor(u,I,k){this._data=u,this._element=I,this._settings=k,this.status=this._data.assigned_to===this._data.user&&this._data.user?"reserved":this._data.status,this.user=this._data.user,this.name=this._data.name,this.map_id=this._data.map_id,this.plate_number=this._data.plate_number}static#e=this.\u0275fac=function(I){return new(I||E)(d.rXU(n.Nw),d.rXU(d.aKT),d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["explore-parking-info"]],decls:9,vars:15,consts:[[1,"absolute","bg-base-300","p-2","rounded-lg","!rounded-tl-none","shadow","top-1/2","left-1/2","text-left"],[1,"absolute","top-0.5","left-0.5","triangle"],[1,"flex","space-x-2"],[1,"flex","flex-col","leading-tight","min-w-24","pl-1"],[1,"whitespace-nowrap"],[1,"capitalize","text-sm","font-medium"],["class","flex flex-col relative h-full px-2 rounded bg-base-100 text-base-content shadow leading-tight",4,"ngIf"],[1,"flex","flex-col","relative","h-full","px-2","rounded","bg-base-100","text-base-content","shadow","leading-tight"],[1,"text-[0.625rem]","w-full","text-center","pt-1","whitespace-nowrap","font-medium"],[1,"font-mono","pb-1","w-full","text-center","uppercase"]],template:function(I,k){1&I&&(d.j41(0,"div",0),d.nrm(1,"div",1),d.j41(2,"div",2)(3,"div",3)(4,"div",4),d.EFF(5),d.k0s(),d.j41(6,"div",5),d.EFF(7),d.k0s()(),d.DNE(8,g,5,1,"div",6),d.k0s()()),2&I&&(d.AVh("!bg-error","busy"===k.status)("!text-error-content","busy"===k.status)("!bg-warning","reserved"===k.status)("!text-warning-content","reserved"===k.status)("!bg-success","free"===k.status)("!text-success-content","free"===k.status),d.R7$(5),d.JRh(k.name),d.R7$(2),d.SpI(" ",k.status," "),d.R7$(),d.Y8G("ngIf",k.is_concierge&&k.plate_number))},dependencies:[h.bT],styles:[".triangle[_ngcontent-%COMP%]{width:0px;height:0px;border-style:solid;border-width:.5rem .5rem 0 0;border-color:currentColor transparent transparent transparent;transform:rotate(0)}"]})}return E})()},4498:(Ot,ve,s)=>{"use strict";s.d(ve,{X:()=>$});var e=s(467),n=s(1168),d=s(1038),h=s(5987),g=s(2357),b=s(350),E=s(3601),_=s(4512),u=s(906),I=s(9928),k=s(9714),y=s(4421),x=s(696),M=s(5006),B=s(3020),K=s(9090),P=s(8712),j=s(9493),S=s(8026),w=s(5645),m=s(2455),v=s(5897),A=s(8379),L=s(7146),G=s(7889),O=s(1593),W=s(3953),U=s(4006);let $=(()=>{class te extends n.Tv{constructor(me,Y,F,N,J,ae){super(),this._org=me,this._state=Y,this._settings=F,this._bookings=N,this._parking=J,this._dialog=ae,this._options=new I.t({}),this._poll=new I.t(0),this.options=this._options.asObservable(),this.on_book=null,this.levels=this._org.active_levels.pipe((0,M.T)(_e=>_e.filter(xe=>xe.tags.includes("parking")))),this.events=(0,k.zV)([this._org.active_building,this._options,this._poll,this._state.options]).pipe((0,B.B)(300),(0,K.n)(([_e,xe,Fe,{is_public:Ae}])=>Ae?(0,y.of)([]):(0,w.tj)({period_start:(0,h._)((0,g.c)(xe.date||Date.now())),period_end:(0,h._)((0,b.V)(xe.date||Date.now())),type:"parking",zones:this._settings.get("app.use_region")?_e?.parent_id:_e?.id,rejected:!1})),(0,P.t)(1)),this.user_events=(0,k.zV)([this._options]).pipe((0,K.n)(([_e])=>(0,w.tj)({period_start:(0,h._)((0,E.o)(_e.date||Date.now())),period_end:(0,h._)((0,_.D)(_e.date||Date.now())),type:"parking",email:_e?.user||(0,n.Ny)()?.email})),(0,P.t)(1)),this.spaces=this.levels.pipe((0,K.n)(_e=>(0,x.p)(_e.map(xe=>(0,d.bpY)(xe.id,"parking-spaces").pipe((0,M.T)(Fe=>(Fe.details instanceof Array?Fe.details:[]).map(Ae=>({...Ae,zone_id:xe.id}))))))),(0,M.T)(_e=>(0,n.Bq)(_e)),(0,P.t)(1)),this.active_spaces=(0,k.zV)([this.spaces,this._state.level]).pipe((0,M.T)(([_e,xe])=>_e.filter(Fe=>Fe.zone_id===xe.id))),this._users={},this._plate_numbers={},this.available_spaces=(0,k.zV)([this.events,this.active_spaces,this._parking.users]).pipe((0,M.T)(([_e,xe,Fe])=>{const Ae=xe.filter(Ye=>{const qe=_e.find(pe=>pe.asset_id===Ye.id),Ne=`${qe?.user_email||Ye.assigned_to||""}`.toLowerCase(),Me=Fe.find(pe=>pe.email.toLowerCase()===Ne.toLowerCase());return this._users[Ye.id]=Ne,this._plate_numbers[Ye.id]=qe?.extension_data?.plate_number||Me?.plate_number||void 0,!Ne});return this._updateParkingSpaces(xe,Ae),Ae})),this.subscription("spaces",this.available_spaces.subscribe()),this.setOptions({enable_booking:!1!==this._settings.get("app.parking.enable_maps")})}startPolling(){return this.interval("poll",()=>this._poll.next(Date.now()),1e4),this._poll.next(Date.now()),()=>this.stopPolling()}stopPolling(){this.clearInterval("poll")}setOptions(me){this._options.next({...this._options.getValue(),...me})}_updateParkingSpaces(me,Y){var F=this;return(0,e.A)(function*(){const N={},J=[],ae=[],_e=F._settings.get("app.explore.colors")||{};let xe=F._options.getValue();const Fe=yield F._parking.assigned_space.pipe((0,j.s)(1)).toPromise(),Ae=yield F._parking.deny_parking_access.pipe((0,j.s)(1)).toPromise(),Ye=yield F._parking.booked_space.pipe((0,j.s)(1)).toPromise();for(const qe of me){const Ne=!!Y.find(Ee=>Ee.id===qe.id),pe=qe.map_id||qe.id,he=Ne?"free":Fe?"pending":"busy";if(N[`#${pe}`]={fill:_e[`parking-${he}`]||_e[`${he}`]||v.U[`${he}`],opacity:.6},J.push({location:`${pe}`,content:G.N,z_index:20,hover:!0,data:{...qe,user:F._users[qe.id],plate_number:F._plate_numbers[qe.id],status:"pending"===he&&Fe?"reserved":he}}),!Ne)continue;const le=function(){var Ee=(0,e.A)(function*(){if(F.on_book)return yield F.on_book(qe),void F._poll.next(Date.now());if(Ae)return(0,n.UG)(`Your user account has been denied parking access to ${qe.zone?.display_name||qe.zone?.name}.`);if(Fe)return(0,n.UG)(`You are already assigned to parking space "${qe.name||qe.id}".`);if(Ye?.find(_n=>_n.id===qe.id))return(0,n.UG)("You already have a parking space booked for the selected time.");if("free"!==he)return(0,n.UG)(`${qe.name||"Parking Space"} is unavailable at this time.`);if(qe.groups?.length&&!qe.groups.find(_n=>(0,n.Ny)().groups.includes(_n)))return(0,n.UG)(`You are not allowed to book ${qe.name}.`);F._bookings.newForm(),F._bookings.setOptions({type:"parking"}),xe=F._options.getValue(),xe.date&&(F._bookings.form.patchValue({date:xe.date}),F._bookings.form.patchValue({all_day:!!xe.all_day}));let{date:Xe,duration:xt,user:dt}=yield F._setBookingTime(F._bookings.form.value.date,F._bookings.form.value.duration,F._options.getValue()?.custom??!1,qe);dt=dt||xe.host||(0,n.Ny)();const Ct=dt?.email,Qt=F._state.active_level;F._bookings.form.patchValue({resources:[qe],asset_id:qe.id,asset_name:qe.name,date:Xe,duration:xe.all_day?720:xt,map_id:qe?.map_id||qe?.id,description:qe.name,user:dt,user_email:Ct,booking_type:"parking",zones:qe.zone?[qe.zone?.parent_id,qe.zone?.id]:[Qt.parent_id,Qt.id]}),yield F._bookings.confirmPost().catch(_n=>{throw"User cancelled"===_n||(0,n.UG)(`Failed to book parking space ${qe.name||qe.id}. ${_n.message||_n.error||_n}`),_n}),(0,n.VX)(`Successfully booked parking space ${qe.name||qe.id}`),F._poll.next(Date.now())});return function(){return Ee.apply(this,arguments)}}();ae.push({id:pe,action:"click",priority:10,callback:le})}F._state.setActions("parking",xe.enable_booking?ae:[]),F._state.setStyles("parking",N),F._state.setFeatures("parking",J)})()}_setBookingTime(me,Y,F=!1,N=null){var J=this;return(0,e.A)(function*(){let ae=null;if(J._settings.get("app.parking.allow_time_changes")){const _e=(0,_.D)((0,u.f)(Date.now(),J._settings.get("app.parking.available_period")||90)),Fe=yield J._dialog.open(L.A,{data:{date:me,duration:Y,until:_e,host:F,resource:N}}).afterClosed().toPromise();if(!Fe)throw"User cancelled";me=Fe.date,Y=Fe.duration,ae=Fe.user}return{date:me,duration:Y,user:ae}})()}static#e=this.\u0275fac=function(Y){return new(Y||te)(W.KVO(S.y),W.KVO(m.O),W.KVO(n.h$),W.KVO(A.n),W.KVO(O.w),W.KVO(U.bZ))};static#t=this.\u0275prov=W.jDH({token:te,factory:te.\u0275fac})}return te})()},9303:(Ot,ve,s)=>{"use strict";s.d(ve,{P:()=>x});var e=s(1168),n=s(4351),d=s(3953),h=s(177),g=s(9434),b=s(2238),E=s(6600);function _(M,B){if(1&M&&(d.j41(0,"div",5)(1,"app-icon"),d.EFF(2,"thermostat"),d.k0s(),d.j41(3,"div",6),d.EFF(4),d.k0s()()),2&M){const K=d.XpG(2);d.R7$(4),d.SpI("",K.temp,"\u02daF")}}function u(M,B){if(1&M&&(d.j41(0,"div",5)(1,"app-icon"),d.EFF(2,"opacity"),d.k0s(),d.j41(3,"div",6),d.EFF(4),d.k0s()()),2&M){const K=d.XpG(2);d.R7$(4),d.SpI("",K.humidity,"%")}}function I(M,B){1&M&&(d.j41(0,"div",7)(1,"app-icon",8),d.EFF(2,"error"),d.k0s()())}function k(M,B){if(1&M&&(d.j41(0,"div",2),d.DNE(1,_,5,1,"div",3)(2,u,5,1,"div",3)(3,I,3,0,"div",4),d.k0s()),2&M){const K=d.XpG();d.R7$(),d.Y8G("ngIf",K.temp),d.R7$(),d.Y8G("ngIf",K.humidity),d.R7$(),d.Y8G("ngIf",K.temp>82)}}let y="",x=(()=>{class M extends e.Tv{get show(){return y===this._details.id}set show(K){this.timeout("show",()=>y=K?this._details.id:"")}constructor(K){super(),this._details=K,this.temp=this._details.temp||0,this.humidity=this._details.humidity||0}static#e=this.\u0275fac=function(P){return new(P||M)(d.rXU(n.Nw))};static#t=this.\u0275cmp=d.VBU({type:M,selectors:[["explore-sensor-info"]],features:[d.Vt3],decls:5,vars:1,consts:[["stats",""],["icon","","matRipple","","customTooltip","","yPosition","center","xPosition","center",1,"absolute","top-1/2","left-1/2","w-7","h-7","min-w-0","-translate-x-1/2","-translate-y-1/2","bg-base-100","shadow","pointer-events-auto",3,"content"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","bg-base-100","rounded-lg","border","border-base-200","p-2","text-xl"],["class","flex items-center space-x-2 whitespace-nowrap pr-2",4,"ngIf"],["class","absolute top-0 right-0 rounded-full translate-x-1/2 -translate-y-1/2 bg-base-100 border border-base-200",4,"ngIf"],[1,"flex","items-center","space-x-2","whitespace-nowrap","pr-2"],[1,""],[1,"absolute","top-0","right-0","rounded-full","translate-x-1/2","-translate-y-1/2","bg-base-100","border","border-base-200"],[1,"text-error","text-xl"]],template:function(P,j){if(1&P&&(d.j41(0,"button",1)(1,"app-icon"),d.EFF(2," visibility "),d.k0s()(),d.DNE(3,k,4,3,"ng-template",null,0,d.C5r)),2&P){const S=d.sdS(4);d.Y8G("content",S)}},dependencies:[h.bT,g.R,b.I,E.r6]})}return M})()},8303:(Ot,ve,s)=>{"use strict";s.d(ve,{x:()=>k});var e=s(4351),n=s(4233),d=s(3953);function h(y,x){if(1&y&&d.nrm(0,"img",18),2&y){const M=d.XpG(2);d.Y8G("source",M.space.images[0])}}function g(y,x){1&y&&d.nrm(0,"div",19)}function b(y,x){if(1&y&&(d.j41(0,"div",20),d.EFF(1),d.k0s()),2&y){const M=d.XpG(2);d.R7$(),d.SpI(" ",M.available_until," ")}}function E(y,x){if(1&y&&(d.j41(0,"div",21)(1,"span"),d.pXf(2,3),d.k0s(),d.EFF(3),d.k0s()),2&y){const M=d.XpG(2);d.R7$(3),d.Lme("",M.space.capacity," ",1===M.space.capacity?"person":"people"," ")}}function _(y,x){if(1&y&&(d.j41(0,"li",24),d.EFF(1),d.k0s()),2&y){const M=x.$implicit;d.R7$(),d.SpI(" ",M," ")}}function u(y,x){if(1&y&&(d.j41(0,"ul",22),d.DNE(1,_,2,1,"li",23),d.k0s()),2&y){const M=d.XpG(2);d.R7$(),d.Y8G("ngForOf",M.space.features)}}function I(y,x){if(1&y&&(d.j41(0,"div",5),d.nrm(1,"div",6),d.j41(2,"div",7)(3,"div",8),d.DNE(4,h,1,1,"img",9)(5,g,1,0,"div",10),d.k0s(),d.j41(6,"div",11)(7,"div",12),d.EFF(8," "),d.pXf(9,2),d.EFF(10," "),d.k0s(),d.DNE(11,b,2,1,"div",13),d.k0s(),d.j41(12,"div",14)(13,"h4",15),d.EFF(14),d.k0s(),d.DNE(15,E,4,2,"div",16)(16,u,2,1,"ul",17),d.k0s()()()),2&y){const M=d.XpG();d.AVh("-translate-x-full","end"===M.x_pos)("-translate-y-full","bottom"===M.y_pos),d.Y8G("id",null==M.space?null:M.space.id),d.R7$(3),d.AVh("bg-neutral",M.space.images[0])("h-32",M.space.images[0])("h-8",!M.space.images[0]),d.R7$(),d.Y8G("ngIf",M.space.images[0]),d.R7$(),d.Y8G("ngIf",M.space.images[0]),d.R7$(2),d.HbH("capitalize rounded p-1 px-2 text-light border border-white shadow "+M.status),d.R7$(2),d.uP7(M.status),d.nnv(9),d.R7$(2),d.Y8G("ngIf","not-bookable"!==M.status),d.R7$(3),d.SpI(" ",M.space.display_name||M.space.name," "),d.R7$(),d.Y8G("ngIf",M.space.capacity>=0),d.R7$(),d.Y8G("ngIf",(null==M.space.features?null:M.space.features.length)>0&&M.show_features)}}let k=(()=>{class y{get show_features(){return!this._settings.get("app.spaces.hide_features")}constructor(M,B,K){this._details=M,this._settings=B,this._element=K,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const M=this._element.nativeElement.getBoundingClientRect();this.x_pos=M.x<document.body.clientWidth/2?"start":"end",this.y_pos=M.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}static#e=this.\u0275fac=function(B){return new(B||y)(d.rXU(e.Nw),d.rXU(n.h),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:y,selectors:[["explore-space-info"]],decls:4,vars:7,consts:()=>{let M,B;return M=$localize`:␟86e6b3a473ea3e05830d2aef91c81199de1b9d33␟3658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,M=d.k04(M,{VAR_SELECT:"\ufffd0\ufffd"}),B=$localize`:␟36c2a5db33c6cfc9e239e589f975f5492bbb0550␟2292396409867038415:Capacity: `,[["tooltip",""],["space_tooltip",""],M,B,["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","hidden","sm:block","cursor-pointer",3,"mouseenter","content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",1,"absolute","rounded","bg-base-100","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf"],["class","absolute inset-0 bg-neutral",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],[1,"absolute","inset-0","bg-neutral"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-base-200 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-base-200","font-medium"]]},template:function(B,K){if(1&B){const P=d.RV6();d.j41(0,"div",4,0),d.bIt("mouseenter",function(){return d.eBV(P),d.Njj(K.updateOffset())}),d.k0s(),d.DNE(2,I,17,20,"ng-template",null,1,d.C5r)}if(2&B){const P=d.sdS(3);d.Y8G("content",P)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),d.BMQ("id",(null==K.space?null:K.space.map_id)||(null==K.space?null:K.space.id))}},styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return y})()},5897:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>L,s:()=>G});var e=s(467),n=s(1038),d=s(8728),h=s(9090),g=s(3921),b=s(5006),E=s(8712),_=s(9493),u=s(4421),I=s(9714),k=s(1168),y=s(9525),x=s(735),M=s(6727),B=s(6101),K=s(8026),P=s(2455),j=s(8303),S=s(6301),w=s(2035),m=s(3207),v=s(3953),A=s(4006);const L={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let G=(()=>{class O extends k.Tv{constructor(U,$,te,ie,me){super(),this._state=U,this._settings=$,this._event_form=te,this._dialog=ie,this._org=me,this._bookings={},this._statuses={},this._presence={},this._panning=!0,this._last_action="",this.booking_rules=this._org.active_building.pipe((0,d.p)(Y=>!!Y),(0,h.n)(Y=>(0,n.bpY)(Y.id,"room_booking_rules").pipe((0,g.W)(()=>(0,u.of)({details:[]})))),(0,b.T)(Y=>Y?.details instanceof Array?Y.details:[]),(0,E.t)(1)),this._bind=(0,I.zV)([this._state.spaces,this._state.options]).pipe((0,d.p)(([Y,{is_public:F}])=>!F),(0,b.T)(([Y])=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this.unsubWith("c-"),this._statuses={},Y?.length){for(const F of Y){const N=(0,n.f_4)(F.id,"Bookings");let J=N.binding("bookings");this.subscription(`b-${F.id}`,J.listen().subscribe(ae=>this.handleBookingsChange(Y,F,ae))),this.subscription(`b-bind-${F.id}`,J.bind()),J=N.binding("status"),this.subscription(`s-${F.id}`,J.listen().subscribe(ae=>this.handleStatusChange(Y,F,ae))),this.subscription(`s-bind-${F.id}`,J.bind()),J=N.binding("presence"),this.subscription(`c-${F.id}`,J.listen().subscribe(ae=>this.handlePresenceChange(Y,F,ae))),this.subscription(`c-bind-${F.id}`,J.bind())}this.updateActions(Y),this._updateHoverElements(Y)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(U,$=!1){var te=this;return(0,e.A)(function*(){if(te._panning&&"down"===te._last_action)return;const ie=yield te.booking_rules.pipe((0,_.s)(1)).toPromise(),{hidden:me}=(0,k.RH)({date:Date.now(),duration:60,resource:U,host:(0,k.Ny)()},ie)||{};return me?(0,y.UG)("You do not have permission to book this space at this time."):"free"!==te._statuses[U.id]&&!$||!U.bookable?(0,y.UG)(`${U.display_name||U.name} is unavailable for the selected time and duration`):(te._event_form.newForm(),te._event_form.form.patchValue({host:(0,k.Ny)()?.email,resources:[U]}),te._settings.get("app.events.booking_unavailable")?te._event_form.openEventLinkModal():void te._dialog.open(te._settings.get("app.explore.show_booking_qr")?w.T:S.t,{data:{space:U}}))})()}handleBookingsChange(U,$,te){te&&(this._bookings[$.id]=te.map(ie=>new M.L(ie)),this.timeout("update_hover_els",()=>this._updateHoverElements(U),100))}handleStatusChange(U,$,te){$.bookable?this._statuses[$.id]=te||"free":delete this._statuses[$.id],this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this._updateStatus(U),this._updateHoverElements(U)},100)}handlePresenceChange(U,$,te){this._presence[$.id]=te,this.timeout("update_icons",()=>this._updateIcons(U),100)}_updateStatus(U){var $=this;return(0,e.A)(function*(){const te={},ie=$._settings.get("app.explore.colors")||{};for(const me of U){if(!$._statuses[me.id])continue;const Y=$._statuses[me.id];te[`#${me.map_id}`]={fill:ie[`space-${Y}`]||ie[`${Y}`]||L[`${Y}`],opacity:.6}}$._state.setStyles("spaces",te)})()}_updateHoverElements(U){const $=[];for(const te of U)te.map_id&&$.push({location:te.map_id,full_size:!0,no_scale:!0,content:j.x,z_index:10,data:{space:new x.$(te),events:this._bookings[te.id],status:this._statuses[te.id]||"not-bookable"}});this._state.setFeatures("spaces",$)}_updateIcons(U){if(!this._settings.get("app.show_presence_indicators"))return;const $=[];for(const te of U)te.map_id&&$.push({location:te.map_id,content:m.q,data:{icon:{class:"material-symbols-rounded",content:"sensor_occupied"},color:this._presence[te.id]?"var(--su)":"var(--bc)",text_color:this._presence[te.id]?"var(--suc)":"var(--b1)"},z_index:98});this._state.setFeatures("spaces-presence",$)}updateActions(U){const $=[];for(const te of U)if(te.map_id){for(const ie of["mousedown","touchstart"])$.push({id:te.map_id,action:ie,priority:5,callback:()=>{this._panning=!1,this.timeout("panning",()=>this._panning=!0,300),this._last_action="down"}});for(const ie of["mouseup","touchend"])$.push({id:te.map_id,action:ie,priority:5,callback:()=>{this.bookSpace(te),this._last_action="up"}})}this.timeout("set-actions",()=>this._state.setActions("spaces",$),50)}static#e=this.\u0275fac=function($){return new($||O)(v.KVO(P.O),v.KVO(k.h$),v.KVO(B.W),v.KVO(A.bZ),v.KVO(K.y))};static#t=this.\u0275prov=v.jDH({token:O,factory:O.\u0275fac})}return O})()},2455:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>j});var e=s(467),n=s(1038),d=s(9928),h=s(9714),g=s(4421),b=s(8728),E=s(9090),_=s(5006),u=s(3921),I=s(8712),k=s(3020),y=s(4046),x=s(1168),M=s(8026),B=s(735),K=s(7401),P=s(3953);let j=(()=>{class S extends x.Tv{get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}constructor(m,v,A){super(),this._org=m,this._spaces=v,this._settings=A,this._level=new d.t(null),this._positions=new d.t({zoom:1,center:{x:.5,y:.5}}),this._styles=new d.t({}),this._features=new d.t({}),this._actions=new d.t({}),this._labels=new d.t({}),this._options=new d.t({is_public:!1,disable:["zones","devices"]}),this._message=new d.t(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=(0,h.zV)([this._level,this._org.initialised]).pipe((0,b.p)(([L,G])=>G),(0,E.n)(([L])=>(0,n.BbB)({zone_id:L?.id||this._org.organisation.id,limit:50}).pipe((0,_.T)(({data:G})=>G.map(O=>new B.$(O))),(0,u.W)(G=>(0,g.of)([])))),(0,I.t)(1)),this.map_url=this._level.pipe((0,_.T)(L=>(L?L.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,h.zV)([this._features,this._options]).pipe((0,k.B)(200),(0,_.T)(([L,G])=>{let O=[];for(const W in L)G.disable?.includes(W)||G.disable_features?.includes(W)||"zones-canvas"===W&&G.disable?.includes("zones")||(O=O.concat(L[W]));return O})),this.map_actions=(0,h.zV)([this._actions,this._options]).pipe((0,k.B)(200),(0,_.T)(([L,G])=>{let O=[];for(const W in L)G.disable?.includes(W)||G.disable_actions?.includes(W)||(O=O.concat(L[W]));return O})),this.map_labels=(0,h.zV)([this._labels,this._options]).pipe((0,k.B)(200),(0,_.T)(([L,G])=>{let O=[];for(const W in L)G.disable?.includes(W)||G.disable_labels?.includes(W)||(O=O.concat(L[W]));return O})),this.map_styles=(0,h.zV)([this._styles,this._options]).pipe((0,k.B)(200),(0,_.T)(([L,G])=>{let O={text:{display:"none"}};for(const W in L)G.disable?.includes(W)||G.disable_styles?.includes(W)||(O={...O,...L[W]});return G.disable?.includes("zones")&&(O["#zones"]={display:"none"},O["#Zones"]={display:"none"}),O})),this.options=this._options.asObservable(),this.init()}init(){var m=this;return(0,e.A)(function*(){yield m._org.initialised.pipe((0,y.$)(v=>v)).toPromise(),m._org.active_levels.pipe((0,b.p)(v=>!!v)).subscribe(v=>{const A=m._level.getValue();!v.find(G=>A?.id===G.id)&&v.length&&m.setLevel(v[0].id),m._settings.get("app.explore.disable_actions")&&m.setOptions({disable_actions:m._settings.get("app.explore.disable_actions")}),m._settings.get("app.explore.disable_labels")&&m.setOptions({disable_labels:m._settings.get("app.explore.disable_labels")}),m._settings.get("app.explore.disable_features")&&m.setOptions({disable_features:m._settings.get("app.explore.disable_features")}),m._settings.get("app.explore.disable_styles")&&m.setOptions({disable_styles:m._settings.get("app.explore.disable_styles")})})})()}setOptions(m){const v=this._options.getValue(),A=(0,x.Am)([...m.disable||v.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...m,disable:A})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this._options.next({is_public:!1,disable:["zones","devices"]}),this.setPositions(1,{x:.5,y:.5})}setLevel(m){const v=this._org.levelWithID([m]);v&&this._level.next(v)}setStyles(m,v){const A=this._styles.getValue();A[m]=v,this._styles.next(A)}setFeatures(m,v){const A=this._features.getValue();A[m]=v,this._features.next(A)}setActions(m,v){const A=this._actions.getValue();A[m]=v,this._actions.next(A)}setLabels(m,v){const A=this._labels.getValue();A[m]=v,this._labels.next(A)}setPositions(m,v){this._positions.next({zoom:m,center:v})}has(m,v,A=[]){if("style"===m){const L=this._styles.getValue();for(const G in L){if(A.includes(G))continue;const O=L[G];if(v in O||`#${v}`in O)return!0}}else if("feature"===m){const L=this._features.getValue();for(const G in L)if(!A.includes(G))for(const O of L[G])if(O.location===v)return!0}else if("action"===m){const L=this._actions.getValue();for(const G in L)if(!A.includes(G))for(const O of L[G])if(O.id===v)return!0}else if("label"===m){const L=this._labels.getValue();for(const G in L)if(!A.includes(G))for(const O of L[G])if(O.location===v)return!0}return!1}static#e=this.\u0275fac=function(v){return new(v||S)(P.KVO(M.y),P.KVO(K.b),P.KVO(x.h$))};static#t=this.\u0275prov=P.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},1369:(Ot,ve,s)=>{"use strict";s.d(ve,{M:()=>P});var e=s(467),n=s(1038),d=s(8728),h=s(5006),g=s(3020),b=s(4046),E=s(1168),_=s(8026),u=s(2455),I=s(5897),k=s(9303),y=s(9928),x=s(9714),M=s(7558),B=s(3207),K=s(3953);let P=(()=>{class S extends E.Tv{constructor(m,v,A){super(),this._state=m,this._org=v,this._settings=A,this._area_list=[],this._statuses={},this._count_key={},this._location={},this._label_location={},this._capacity={},this._draw={},this._points={},this._features=[],this._polygons$=new y.t([]),this._bind=(0,x.zV)([this._org.active_building,this._state.level,this._state.options]).pipe((0,d.p)(([L,G,{is_public:O}])=>!!L&&!!G&&!O),(0,h.T)(([L,G])=>{this._statuses={};let O=this._org.binding("area_management");if(!O)return;const W=(0,n.f_4)(O,"AreaManagement").binding(`${G.id}:areas`),U=(0,n.f_4)(O,"AreaManagement").binding(`${G.id}`),$=(0,x.zV)([W.listen(),U.listen()]).pipe((0,g.B)(100),(0,h.T)(([te,ie])=>[...te?.value||[],...(ie?.value||[]).filter(me=>"area"===me.location)]));this.subscription("zones-status",$.subscribe(te=>this.parseData(te))),this.subscription("binding",W.bind()),this.subscription("zone-binding",U.bind())})),this.init()}init(){var m=this;return(0,e.A)(function*(){yield m._org.initialised.pipe((0,b.$)(A=>A)).toPromise();const v=yield Promise.all(m._org.levels.map(A=>(0,n.bpY)(A.id,"map_regions").toPromise()));m._area_list=[];for(const A of v){const L=A?.details?.areas;if(L)for(const G of L){const{capacity:O,hide_label:W,label_location:U,draw_polygon:$,area_count_key:te}=G.properties||{},{coordinates:ie}=G.geometry||{};m._capacity[G.id]=O||100,m._count_key[G.id]=te||"",m._location[G.id]=ie?.length?j(ie):null,m._label_location[G.id]=!1===W?U||m._location[G.id]:null,m._draw[G.id]=!!$||m._settings.get("app.explore.use_zone_polygons"),m._points[G.id]=ie||[],m._area_list.push(G.map_id||G.id)}}m._state.setFeatures("zones-canvas",[{track_id:"zones-canvas",location:{x:.5,y:.5},content:M.I,data:{polygons$:m._polygons$,draw_points:!1,draw_labels:!1}}]),m.updateStatus(),m.subscription("bind",m._bind.subscribe())})()}parseData(m=[]){const v=[],A=[];for(const L of m){const G=L.map_id||L.area_id,O=L.capacity||this._capacity[G]||100,U=(L[this._count_key[G]||this._settings.get("app.explore.area_count_key")||"count"]||0)/O;if(this._statuses[G]=L.at_location?"busy":U<.4?"free":U<.75?"pending":"busy",!this._location[G])continue;let $="";L.count&&($+=`${L.count||0} User Device${1===L.count?"":"s"}\n`),L.temperature&&($+=`Temperature: ${L.temperature} \u02daC\n`),L.people_count>0&&($+=`${L.people_count_sum} ${1===L.people_count_sum?"Person":"People"}\n`),L.humidity&&($+=`Humidity: ${L.humidity}%\n`),L.queue_size&&($+=`Queue Size: ${L.queue_size}%\n`),L.counter&&($+=`Count: ${L.counter}\n`),this._label_location[G]&&!this._settings.get("app.explore.show_zone_labels")&&v.push({location:this._label_location[G],content:$,z_index:100}),this._settings.get("app.explore.show_zone_sensor_info")&&(L.temperature||L.humidity)&&A.push({track_id:`sensors:${G}`,location:this._location[G],content:k.P,data:{id:G,temp:L.temperature||10,humidity:L.humidity||10},z_index:98})}this._features=A,this._state.setLabels("zones",v),this.updateStatus()}updateStatus(){const m={},v=[],A=this._settings.get("app.explore.colors")||{},L=[];for(const G in this._statuses){const O=A[`zone-${this._statuses[G]}`]||A[`${this._statuses[G]}`]||I.U[`${this._statuses[G]}`];this._draw[G]?L.push({name:G,points:this._points[G],color:O}):this._state.has("style",G,["zones","zones-styles"])?v.push({location:G,content:B.q,data:{icon:{content:"pin_drop"}},full_size:!0,z_index:98}):m[`#${G}`]={fill:O,opacity:.6}}this._polygons$.next(L),this._state.setFeatures("zones",[...v,...this._features]),this._state.setStyles("zones-styles",m)}static#e=this.\u0275fac=function(v){return new(v||S)(K.KVO(u.O),K.KVO(_.y),K.KVO(E.h$))};static#t=this.\u0275prov=K.jDH({token:S,factory:S.\u0275fac})}return S})();function j(S){const w=(S||[]).reduce((m,[v,A])=>({x_min:v<m.x_min?v:m.x_min,x_max:v>m.x_max?v:m.x_max,y_min:A<m.y_min?A:m.y_min,y_max:A>m.y_max?A:m.y_max}),{x_min:100,x_max:-100,y_min:100,y_max:-100});return{x:w.x_min+(w.x_max-w.x_min)/2,y:w.y_min+(w.y_max-w.y_min)/2}}},9801:(Ot,ve,s)=>{"use strict";s.d(ve,{l:()=>b});var e=s(2455),n=s(3953),d=s(9434),h=s(6600),g=s(4823);let b=(()=>{class E{constructor(u){this._state=u,this.zoomIn=()=>this._state.setPositions(Math.min(10,1.2*this._state.positions.zoom),this._state.positions.center),this.zoomOut=()=>this._state.setPositions(Math.max(1,this._state.positions.zoom*(1/1.2)),this._state.positions.center),this.reset=()=>this._state.setPositions(1,{x:.5,y:.5})}static#e=this.\u0275fac=function(I){return new(I||E)(n.rXU(e.O))};static#t=this.\u0275cmp=n.VBU({type:E,selectors:[["explore-zoom-controls"]],decls:9,vars:0,consts:()=>{let u,I,k;return u=$localize`:␟34fb6028a6630cf3a7308084b31e86e89d057965␟1470758907984185227:Zoom In`,I=$localize`:␟677ce9c57b5558cb10f0b39327d5a965bfb21dc5␟1356460275822781324:Zoom Out`,k=$localize`:␟77981432124895c410e5b9157b3deb948831ffc6␟5016012668378976433:Reset Zoom & Center`,[["z-in","","icon","","matRipple","","matTooltip",u,1,"bg-base-100",3,"click"],["z-out","","icon","","matRipple","","matTooltip",I,1,"bg-base-100",3,"click"],["reset","","icon","","matRipple","","matTooltip",k,1,"bg-base-100",3,"click"]]},template:function(I,k){1&I&&(n.j41(0,"button",0),n.bIt("click",function(){return k.zoomIn()}),n.j41(1,"app-icon"),n.EFF(2,"add"),n.k0s()(),n.j41(3,"button",1),n.bIt("click",function(){return k.zoomOut()}),n.j41(4,"app-icon"),n.EFF(5,"remove"),n.k0s()(),n.j41(6,"button",2),n.bIt("click",function(){return k.reset()}),n.j41(7,"app-icon"),n.EFF(8,"autorenew"),n.k0s()())},dependencies:[d.R,h.r6,g.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border:1px solid #9998;border-radius:0}button[_ngcontent-%COMP%]:first-child{border-radius:.25rem .25rem 0 0;border-bottom:none}button[_ngcontent-%COMP%]:last-child{border-radius:0 0 .25rem .25rem;border-top:none}"]})}return E})()},7146:(Ot,ve,s)=>{"use strict";s.d(ve,{A:()=>K});var e=s(9417),n=s(4006),d=s(1168),h=s(3953),g=s(177),b=s(9434),E=s(6600),_=s(9608),u=s(3476),I=s(1413),k=s(8e3);const y=()=>({standalone:!0});function x(P,j){if(1&P&&(h.j41(0,"div",7)(1,"div",13)(2,"label"),h.EFF(3,"Resource:"),h.k0s(),h.j41(4,"div",14),h.EFF(5),h.k0s()()()),2&P){const S=h.XpG(2);h.R7$(5),h.SpI(" ",S.resource.name||S.resource.map_id||"Unknown Resource"," ")}}function M(P,j){1&P&&(h.j41(0,"div",7)(1,"div",8)(2,"label"),h.EFF(3,"Host"),h.k0s(),h.nrm(4,"a-user-search-field",15),h.k0s()())}function B(P,j){if(1&P){const S=h.RV6();h.j41(0,"main",5),h.DNE(1,x,6,1,"div",6)(2,M,5,0,"div",6),h.j41(3,"div",7)(4,"div",8)(5,"label"),h.EFF(6,"Date"),h.k0s(),h.j41(7,"a-date-field",9),h.EFF(8," Date and time must be in the future "),h.k0s()()(),h.j41(9,"div",7)(10,"div",10)(11,"label"),h.EFF(12,"Start Time"),h.k0s(),h.j41(13,"a-time-field",11),h.bIt("ngModelChange",function(m){h.eBV(S);const v=h.XpG();return h.Njj(v.form.patchValue({date:m}))}),h.k0s()(),h.j41(14,"div",10)(15,"label"),h.EFF(16,"End Time"),h.k0s(),h.nrm(17,"a-duration-field",12),h.k0s()()()}if(2&P){let S;const w=h.XpG();h.Y8G("formGroup",w.form),h.R7$(),h.Y8G("ngIf",w.resource),h.R7$(),h.Y8G("ngIf",w.host),h.R7$(5),h.Y8G("to",w.book_until),h.R7$(6),h.Y8G("ngModel",w.form.value.date)("ngModelOptions",h.lJ4(12,y))("use_24hr",w.use_24hr_time),h.R7$(4),h.Y8G("time",null==(S=w.form.get("date"))?null:S.value)("max",600)("min",60)("step",60)("use_24hr",w.use_24hr_time)}}let K=(()=>{class P{get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}constructor(S,w){this._data=S,this._settings=w,this.host=this._data.host,this.form=new e.gE({user:new e.MJ(this._data.user),date:new e.MJ(this._data.date),duration:new e.MJ(this._data.duration)}),this.book_until=this._data.until,this.resource=this._data.resource}static#e=this.\u0275fac=function(w){return new(w||P)(h.rXU(n.Vh),h.rXU(d.h$))};static#t=this.\u0275cmp=h.VBU({type:P,selectors:[["set-datetime-modal"]],decls:10,vars:2,consts:[["classs","flex items-center justify-between"],["icon","","mat-dialog-close",""],["class","w-[24rem] max-w-[85vw] pt-4",3,"formGroup",4,"ngIf"],[1,"w-full","p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"mat-dialog-close"],[1,"w-[24rem]","max-w-[85vw]","pt-4",3,"formGroup"],["class","flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","space-x-0","sm:space-x-2","w-[640px]","max-w-[calc(100%-2rem)]","mx-auto"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4"],["formControlName","date",3,"to"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/3"],[3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["formControlName","duration",3,"time","max","min","step","use_24hr"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4","mb-2"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],["formControlName","user",1,"mb-4"]],template:function(w,m){1&w&&(h.j41(0,"header",0)(1,"h2"),h.EFF(2,"Set date and time"),h.k0s(),h.j41(3,"button",1)(4,"app-icon"),h.EFF(5,"close"),h.k0s()()(),h.DNE(6,B,18,13,"main",2),h.j41(7,"footer",3)(8,"button",4),h.EFF(9," Continue "),h.k0s()()),2&w&&(h.R7$(6),h.Y8G("ngIf",m.form),h.R7$(2),h.Y8G("mat-dialog-close",m.form.value))},dependencies:[g.bT,b.R,E.r6,n.tx,e.BC,e.cb,e.vS,e.j4,e.JD,_.G,u.y,I.t,k.$]})}return P})()},3046:(Ot,ve,s)=>{"use strict";s.d(ve,{cQ:()=>e.c});var e=s(8705);s(5507),s(9608),s(3476),s(1413),s(840),s(8e3),s(6864)},9842:(Ot,ve,s)=>{"use strict";s.d(ve,{W:()=>h});var e=s(3953),n=s(9434);const d=["*"];let h=(()=>{class g{constructor(){this.on_action=new e.bkB,this.show_tooltip=!1}performAction(){this.show_tooltip=!this.show_tooltip,this.on_action.emit()}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["an-action-field"]],inputs:{name:"name",disabled:"disabled"},outputs:{on_action:"onAction"},ngContentSelectors:d,decls:5,vars:3,consts:[["type","button","role","button","form-field","","tabindex","0",1,"flex","items-center","rounded","p-2","border","border-base-200","hover:border-base-200","w-full",3,"keydown.enter"],["placeholder","",1,"flex-1","w-0","truncate",3,"click"],[1,"text-xl",3,"click"]],template:function(_,u){1&_&&(e.NAR(),e.j41(0,"button",0),e.bIt("keydown.enter",function(){return u.performAction()}),e.j41(1,"div",1),e.bIt("click",function(){return u.performAction()}),e.SdG(2),e.k0s(),e.j41(3,"app-icon",2),e.bIt("click",function(){return u.performAction()}),e.EFF(4),e.k0s()()),2&_&&(e.BMQ("disabled",u.disabled)("name",u.name),e.R7$(4),e.SpI(" arrow_drop_",u.show_tooltip?"up":"down"," "))},dependencies:[n.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #000}"]})}return g})()},5507:(Ot,ve,s)=>{"use strict";s.d(ve,{s:()=>_});var e=s(3953),n=s(9417),d=s(177),h=s(6600),g=s(9434),b=s(2897);function E(u,I){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const k=e.XpG();e.R7$(),e.SpI(" ",(k.render_fn?k.render_fn(k.value):k.value)||"0"," ")}}let _=(()=>{class u{constructor(){this.step=1,this.max=999,this.min=0,this.focused=!1}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(k){k<this.min&&(k=this.min),k>this.max&&(k=this.max),k/this.step%1!=0&&(k=Math.round(k*(1/this.step))/(1/this.step)),this.value=k,this._onChange&&this._onChange(k)}writeValue(k){this.value=k}registerOnChange(k){this._onChange=k}registerOnTouched(k){this._onTouch=k}static#e=this.\u0275fac=function(y){return new(y||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>u),multi:!0}])],decls:10,vars:4,consts:[["counter","",1,"flex","items-center","text-base","space-x-2","p-2",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["decrease","","icon","","matRipple","","type","button",1,"border","border-error","text-error","rounded","h-10","w-10",3,"click","disabled"],["value","",1,"relative","p-1","flex","items-center","justify-center","w-16","h-10","rounded","border","border-base-300"],[4,"ngIf"],["type","text","limitInput","",1,"absolute","inset-0","opacity-0","focus:opacity-100","p-2",3,"ngModelChange","focus","blur","ngModel"],["increase","","icon","","matRipple","","type","button",1,"border","border-success","text-success","rounded","h-10","w-10",3,"click","disabled"]],template:function(y,x){1&y&&(e.j41(0,"div",0),e.bIt("keydown.shift",function(){return x.shift_key=!0},!1,e.tSv)("keydown.control",function(){return x.ctrl_key=!0},!1,e.tSv)("keydown.meta",function(){return x.ctrl_key=!0},!1,e.tSv)("keyup.shift",function(){return x.shift_key=!1},!1,e.tSv)("keyup.control",function(){return x.ctrl_key=!1},!1,e.tSv)("keyup.meta",function(){return x.ctrl_key=!1},!1,e.tSv),e.j41(1,"button",1),e.bIt("click",function(){return x.remove()}),e.j41(2,"app-icon"),e.EFF(3,"remove"),e.k0s()(),e.j41(4,"div",2),e.DNE(5,E,2,1,"span",3),e.j41(6,"input",4),e.mxI("ngModelChange",function(B){return e.DH7(x.value,B)||(x.value=B),B}),e.bIt("focus",function(){return x.focused=!0})("blur",function(){return x.setValue(+x.value),x.focused=!1}),e.k0s()(),e.j41(7,"button",5),e.bIt("click",function(){return x.add()}),e.j41(8,"app-icon"),e.EFF(9,"add"),e.k0s()()()),2&y&&(e.R7$(),e.Y8G("disabled",!x.value||x.value===x.min),e.R7$(4),e.Y8G("ngIf",!x.focused),e.R7$(),e.R50("ngModel",x.value),e.R7$(),e.Y8G("disabled",x.value===x.max))},dependencies:[d.bT,n.me,n.BC,n.vS,h.r6,g.R,b.B]})}return u})()},9058:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>j});var e=s(3953),n=s(9417),d=s(1168),h=s(3601),g=s(1406),b=s(5458),E=s(7793),_=s(9497),u=s(9255),I=s(7518),k=s(906),y=s(177),x=s(6600),M=s(9434);function B(S,w){if(1&S&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&S){const m=w.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,null==m?null:m.id,"EE")," ")}}function K(S,w){1&S&&e.nrm(0,"div",14)}function P(S,w){if(1&S){const m=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){const A=e.eBV(m).$implicit,L=e.XpG();return e.Njj(L.setValue(A.id))}),e.EFF(1),e.nI1(2,"date"),e.DNE(3,K,1,0,"div",12),e.nrm(4,"div",13),e.k0s()}if(2&S){const m=w.$implicit,v=e.XpG();e.AVh("hover:bg-base-100",m.id!==v.active_date)("!text-base-300",!m.is_month)("text-secondary-content",m.id===v.active_date)("text-base-content",m.id!==v.active_date)("bg-secondary",m.id===v.active_date)("font-normal",m.id!==v.active_date),e.Y8G("disabled",m.id<v.from||m.id>v.to),e.R7$(),e.SpI(" ",e.i5U(2,15,m.id,"d")," "),e.R7$(2),e.Y8G("ngIf",v.today===m.id)}}let j=(()=>{class S extends d.Tv{constructor(m){super(),this._settings=m,this.from=0,this.to=10*Date.now(),this.offset_weekday=0,this.today=(0,h.o)(Date.now()).valueOf(),this.date=Date.now(),this.active_date=(0,h.o)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=v=>this._onChange=v,this.registerOnTouched=v=>this._onTouch=v}ngOnInit(){this.generateDates()}ngOnChanges(m){m.offset_weekday&&this.generateDates()}setValue(m){if(m<this.from||m>=this.to)return;const v=new Date(m);this.date=(0,g.h)(this.date,{date:v.getDate(),month:v.getMonth(),year:v.getFullYear()}).valueOf(),this.active_date=(0,h.o)(this.date).valueOf(),this._onChange&&this._onChange(m)}writeValue(m){this.date=m,this.active_date=(0,h.o)(m).valueOf(),this.offset=0,this.generateDates()}changeMonth(m){this.offset+=m,this.generateDates()}generateDates(){const m=this._settings.get("app.week_start")||this.offset_weekday,v=(0,b.P)(this.date,this.offset);let A=(0,E.k)((0,_.w)(v),{weekStartsOn:m});const L=(0,h.o)(Date.now()),G=[];for(;G.length<42;)G.push({id:A.valueOf(),is_past:(0,u.Y)(A,L),is_month:(0,I.t)(A,v)}),A=(0,k.f)(A,1);this.date_list=G}static#e=this.\u0275fac=function(v){return new(v||S)(e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["date-calendar"]],inputs:{from:"from",to:"to",offset_weekday:"offset_weekday"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>S),multi:!0}]),e.Vt3,e.OA$],decls:17,vars:12,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"pl-1.5","pr-2","font-medium"],[1,"flex","items-center"],["icon","","matRipple","","name","schedule-next-month",3,"click","disabled"],["icon","","matRipple","","name","schedule-previous-month",3,"click","disabled"],[1,"flex","items-center","text-sm","mb-2","pb-2","border-b","border-base-200"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["icon","","name","schedule-set-date","class","min-w-[14%] w-9 h-9 relative overflow-visible my-0.5",3,"hover:bg-base-100","!text-base-300","text-secondary-content","text-base-content","bg-secondary","font-normal","disabled","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["icon","","name","schedule-set-date",1,"min-w-[14%]","w-9","h-9","relative","overflow-visible","my-0.5",3,"click","disabled"],["class","absolute -inset-[2px] border border-secondary rounded-full overflow-hidden","matRipple","",4,"ngIf"],["matRipple","",1,"absolute","inset-0","overflow-hidden","rounded-full"],["matRipple","",1,"absolute","-inset-[2px]","border","border-secondary","rounded-full","overflow-hidden"]],template:function(v,A){1&v&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return A.changeMonth(-1)}),e.j41(7,"app-icon"),e.EFF(8,"chevron_left"),e.k0s()(),e.j41(9,"button",5),e.bIt("click",function(){return A.changeMonth(1)}),e.j41(10,"app-icon"),e.EFF(11,"chevron_right"),e.k0s()()()(),e.j41(12,"div",6),e.DNE(13,B,3,4,"div",7),e.nI1(14,"slice"),e.k0s(),e.j41(15,"div",8),e.DNE(16,P,5,18,"button",9),e.k0s()()),2&v&&(e.R7$(3),e.SpI(" ",e.i5U(4,5,(null==A.date_list[6]?null:A.date_list[6].id)||A.date,"LLLL YYYY")," "),e.R7$(3),e.Y8G("disabled",(null==A.date_list[0]?null:A.date_list[0].id)<A.from),e.R7$(3),e.Y8G("disabled",(null==A.date_list[34]?null:A.date_list[34].id)>A.to),e.R7$(4),e.Y8G("ngForOf",e.brH(14,8,A.date_list,0,7)),e.R7$(3),e.Y8G("ngForOf",A.date_list))},dependencies:[y.Sq,y.bT,x.r6,M.R,y.P9,y.vh]})}return S})()},9608:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>m});var e=s(3953),n=s(9417),d=s(2238),h=s(3601),g=s(4512),b=s(6299),E=s(1406),_=s(5354),u=s(1168),I=s(177);const k=["*"];function y(v,A){if(1&v&&(e.EFF(0),e.nI1(1,"date")),2&v){const L=e.XpG();e.SpI(" ",e.i5U(1,1,L.date,L.date_format)," ")}}function x(v,A){1&v&&(e.j41(0,"span",4),e.EFF(1,"No Date Selected"),e.k0s())}function M(v,A){if(1&v&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&v){const L=e.XpG(2);e.R7$(),e.JRh(L.start_of_day)}}function B(v,A){1&v&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function K(v,A){if(1&v&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&v){const L=e.XpG(2);e.R7$(),e.JRh(L.end_of_day)}}function P(v,A){if(1&v&&(e.j41(0,"div",9),e.DNE(1,M,2,1,"span",8)(2,B,2,0,"span",8)(3,K,2,1,"span",8),e.k0s()),2&v){const L=e.XpG();e.R7$(),e.Y8G("ngIf",2!==L.range),e.R7$(),e.Y8G("ngIf",0===L.range),e.R7$(),e.Y8G("ngIf",1!==L.range)}}function j(v,A){1&v&&(e.j41(0,"span"),e.SdG(1),e.k0s())}function S(v,A){if(1&v){const L=e.RV6();e.j41(0,"div",10)(1,"date-calendar",11),e.bIt("ngModelChange",function(O){e.eBV(L);const W=e.XpG();return e.Njj(W.setValue(O))}),e.k0s()()}if(2&v){const L=e.XpG();e.R7$(),e.Y8G("ngModel",L.date||L.now)("from",L.from)("to",L.until)("offset_weekday",L.week_start)}}var w=function(v){return v[v.Both=0]="Both",v[v.Start=1]="Start",v[v.End=2]="End",v}(w||{});let m=(()=>{class v extends _.T{get date_format(){return this.short?"MMM d, yyyy":"MMMM d, yyyy"}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get start_of_day(){const L=(0,h.o)(this.date).valueOf();return this._date_pipe.transform(L,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get end_of_day(){const L=(0,g.D)(this.date).valueOf();return this._date_pipe.transform(L,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get has_error(){return this._control?.invalid&&this._control?.touched}get tz(){const L=this.timezone;return L?(0,u.GF)(L):""}constructor(L){super(),this._injector=L,this.from_date=(0,h.o)(Date.now()).valueOf(),this.week_start=0,this.use_24hr=!1,this.short=!1,this.timezone="",this.range=w.Both,this.now=Date.now(),this._date_pipe=new I.vh("en")}get from(){return new Date(this.from_date)||(0,h.o)(new Date)}get until(){return new Date(this.to_date)||(0,b.e)((0,g.D)(new Date),1)}ngOnInit(){this._control=this._injector.get(n.vO),this.date=Date.now()}setValue(L){const G=new Date(this.date);let O=(0,E.h)(L,{hours:G.getHours(),minutes:G.getMinutes()}).valueOf();O<this.from.valueOf()&&(O=this.from.valueOf()),this.date=O,this._onChange&&this._onChange(O),this._tooltip?.close()}writeValue(L){this.date=L,this._tooltip?.close()}registerOnChange(L){this._onChange=L}registerOnTouched(L){this._onTouch=L}setDisabledState(L){this.disabled=L}static#e=this.\u0275fac=function(G){return new(G||v)(e.rXU(e.zZn))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["a-date-field"]],viewQuery:function(G,O){if(1&G&&e.GBs(d.I,5),2&G){let W;e.mGM(W=e.lsd())&&(O._tooltip=W.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",use_24hr:"use_24hr",disabled:"disabled",short:"short",timezone:"timezone",range:"range"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>v),multi:!0}]),e.Vt3],ngContentSelectors:k,decls:13,vars:7,consts:[["calendar_picker",""],["customTooltip","","yPosition","top","matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full",3,"content","disabled"],[1,"flex","flex-col","px-4","py-2","flex-1","truncate","w-1/2","text-left","leading-tight"],[1,"font-normal","text-base"],[1,"opacity-30"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"h-10","w-10","flex","items-center","justify-center","text-2xl"],[1,"error","h-5","p-1","text-xs","text-error"],[4,"ngIf"],[1,"text-xs","opacity-30","truncate"],[1,"relative","w-[18rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","from","to","offset_weekday"]],template:function(G,O){if(1&G&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.DNE(3,y,2,4)(4,x,2,0,"span",4),e.k0s(),e.DNE(5,P,4,3,"div",5),e.k0s(),e.j41(6,"div",6)(7,"app-icon"),e.EFF(8,"today"),e.k0s()()(),e.j41(9,"div",7),e.DNE(10,j,2,0,"span",8),e.k0s(),e.DNE(11,S,2,4,"ng-template",null,0,e.C5r)),2&G){const W=e.sdS(12);e.AVh("opacity-30",O.disabled),e.Y8G("content",W)("disabled",O.disabled),e.R7$(3),e.vxM(O.date?3:4),e.R7$(2),e.Y8G("ngIf",O.timezone),e.R7$(5),e.Y8G("ngIf",O.has_error)}}})}return v})()},3476:(Ot,ve,s)=>{"use strict";s.d(ve,{y:()=>P});var e=s(3953),n=s(9417),d=s(1168),h=s(7926),g=s(2659),b=s(177),E=s(6600),_=s(3719),u=s(9434),I=s(9115);const k=["*"];function y(j,S){if(1&j&&(e.j41(0,"div",8),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&j){const w=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,null==w.selected?null:w.selected.date,w.time_format+" (z)",w.tz)," ")}}function x(j,S){if(1&j&&(e.j41(0,"div",8),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&j){const w=e.XpG(2).$implicit,m=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,w.date,m.time_format+" (z)",m.tz)," ")}}function M(j,S){if(1&j&&(e.qex(0),e.j41(1,"div",13)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,x,3,5,"div",4),e.k0s(),e.bVm()),2&j){const w=e.XpG().$implicit,m=e.XpG();e.R7$(3),e.E5c(" ",w.date?e.i5U(4,4,w.date,w.id>=1440?"mediumDate":m.time_format)+" (":"","",w.name,"",w.date?")":""," "),e.R7$(2),e.Y8G("ngIf",m.timezone)}}function B(j,S){1&j&&(e.j41(0,"app-icon",14),e.EFF(1," done "),e.k0s())}function K(j,S){if(1&j){const w=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){const v=e.eBV(w).$implicit,A=e.XpG();return e.Njj(A.setValue(v.id))}),e.j41(1,"div",10),e.DNE(2,M,6,7,"ng-container",11),e.j41(3,"div"),e.EFF(4),e.k0s(),e.DNE(5,B,2,0,"app-icon",12),e.k0s()()}if(2&j){const w=S.$implicit,m=e.XpG();e.R7$(2),e.Y8G("ngIf",!m.force),e.R7$(2),e.JRh(m.force),e.R7$(),e.Y8G("ngIf",(null==m.selected?null:m.selected.id)===w.id)}}let P=(()=>{class j{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.use_24hr=!1,this.timezone="",this.duration=60,this.duration_options=[]}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get selected(){return this.duration_options.find(w=>w.id===this.duration)}get tz(){const w=this.timezone;return w?(0,d.GF)(w):""}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(w){(w.max||w.min||w.step||w.time||w.custom_options)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(w){this.duration=w,this._onChange&&this._onChange(+w)}writeValue(w){this.duration=w,this._updateOption()}setDisabledState(w){this.disabled=w}registerOnChange(w){this._onChange=w}registerOnTouched(w){this._onTouch=w}generateDurationOptions(w,m,v){const A=[];let L=m;const G=this.time?this.time:null;for(const O of this.custom_options)A.push({id:O,date:G?(0,h.z)(G,O).valueOf():void 0,name:O>=1440?`${(0,g.a)({days:Math.floor(O/1440)})}`:`${(0,g.a)({hours:Math.floor(O/60),minutes:O%60})}`});for(;L<=w;)A.push({id:L,date:G?(0,h.z)(G,L).valueOf():void 0,name:0===L?(0,g.a)({minutes:0},{zero:!0}):L>=1440?`${(0,g.a)({days:Math.floor(L/1440)})}`:`${(0,g.a)({hours:Math.floor(L/60),minutes:L%60})}`}),L+=v;return A.sort((O,W)=>O.id-W.id),A}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(m=>m.id===this.duration)<0&&this.setValue(this.min)}static#e=this.\u0275fac=function(m){return new(m||j)};static#t=this.\u0275cmp=e.VBU({type:j,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options",force:"force",use_24hr:"use_24hr",timezone:"timezone"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>j),multi:!0}]),e.OA$],ngContentSelectors:k,decls:13,vars:12,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click"],[1,"flex","items-center","justify-between"],[4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"flex","flex-col","leading-tight"],[1,"text-2xl","ml-2"]],template:function(m,v){if(1&m&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,y,3,5,"div",4),e.k0s(),e.j41(6,"app-icon",5),e.EFF(7,"arrow_drop_down"),e.k0s()(),e.j41(8,"mat-menu",6,0),e.DNE(10,K,6,3,"button",7),e.k0s(),e.j41(11,"mat-error"),e.SdG(12),e.k0s()),2&m){const A=e.sdS(9);e.AVh("opacity-30",v.disabled),e.Y8G("disabled",v.disabled)("matMenuTriggerFor",A),e.R7$(3),e.E5c(" ",null!=v.selected&&v.selected.date?e.i5U(4,9,null==v.selected?null:v.selected.date,v.selected.id>=1440?"mediumDate":v.time_format)+" (":"","",null==v.selected?null:v.selected.name,"",null!=v.selected&&v.selected.date?")":""," "),e.R7$(2),e.Y8G("ngIf",v.timezone),e.R7$(5),e.Y8G("ngForOf",v.duration_options)}},dependencies:[b.Sq,b.bT,E.r6,_.TL,u.R,I.kk,I.fb,I.Cp,b.vh],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return j})()},8705:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>st});var e=s(177),n=s(9417),d=s(3801),h=s(6471),g=s(6600),b=s(3719),E=s(9631),_=s(2798),u=s(850),I=s(4823),k=s(2765),y=s(5951),x=s(8765),K=(s(9842),s(5507),s(9608)),P=s(3476),S=(s(1413),s(840)),w=s(8e3),m=s(3953),v=s(7336),A=s(9434);function L(it,Gt){if(1&it){const Se=m.RV6();m.j41(0,"mat-chip-row",5),m.bIt("removed",function(){const ne=m.eBV(Se).$implicit,ke=m.XpG();return m.Njj(ke.remove(ne))}),m.j41(1,"span",6),m.EFF(2),m.k0s(),m.j41(3,"button",7)(4,"app-icon"),m.EFF(5,"cancel"),m.k0s()()()}if(2&it){const Se=Gt.$implicit;m.R7$(2),m.JRh(Se),m.R7$(),m.BMQ("aria-label","Remove "+Se)}}let W=(()=>{class it{constructor(){this.separators=[v.Fm,v.KE],this.placeholder="",this.value=[],this.add=Se=>function G(it,Gt){if(!it)return;const Se=Gt.input,At=Gt.value,ne=it.value;if(At.includes(",")){const ke=At.split(",");for(const He of ke)(He||"").trim()&&(ne.push(He.trim()),it.setValue(ne))}else(At||"").trim()&&(ne.push(At.trim()),it.setValue(ne));Se&&(Se.value="")}({value:this.value,setValue:At=>this.setValue(At)},Se),this.remove=Se=>function O(it,Gt){if(!it)return;const Se=it.value,At=Se.indexOf(Gt);At>=0&&(Se.splice(At,1),it.setValue(Se))}({value:this.value,setValue:At=>this.setValue(At)},Se)}setValue(Se){this.value=Se,this._onChange&&this._onChange(Se)}writeValue(Se){this.value=Se}registerOnChange(Se){this._onChange=Se}registerOnTouched(Se){this._onTouch=Se}static#e=this.\u0275fac=function(At){return new(At||it)};static#t=this.\u0275cmp=m.VBU({type:it,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[m.Jv_([{provide:n.kq,useExisting:(0,m.Rfq)(()=>it),multi:!0}])],decls:5,vars:5,consts:[["chipList",""],["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]],template:function(At,ne){if(1&At){const ke=m.RV6();m.j41(0,"mat-form-field",1)(1,"mat-chip-grid",2,0),m.DNE(3,L,6,2,"mat-chip-row",3),m.k0s(),m.j41(4,"input",4),m.bIt("matChipInputTokenEnd",function(Dt){return m.eBV(ke),m.Njj(ne.add(Dt))}),m.k0s()()}if(2&At){const ke=m.sdS(2);m.R7$(3),m.Y8G("ngForOf",ne.value),m.R7$(),m.Y8G("placeholder",ne.placeholder||"User groups...")("matChipInputFor",ke)("matChipInputSeparatorKeyCodes",ne.separators)("matChipInputAddOnBlur",!0)}},dependencies:[e.Sq,b.rl,h.HW,h.D7,h.Zv,h.jH,A.R]})}return it})();var U=s(1168),me=(s(1604),s(2727),s(285),s(9183)),Ne=s(4809),Me=s(2597),he=(s(744),s(6864)),Ee=(s(3138),s(2756)),Xe=s(8791),xt=s(9058),dt=s(2185),Ct=s(1038),Qt=s(1406),_n=s(3601),In=s(4512),rn=s(4421),$t=s(8728),q=s(9090),Ie=s(3921),se=s(5006),fe=s(8712);const Ke=()=>({standalone:!0});function It(it,Gt){if(1&it&&(m.j41(0,"mat-option",26),m.EFF(1),m.k0s()),2&it){const Se=Gt.$implicit;m.Y8G("value",Se.id),m.R7$(),m.SpI(" ",Se.display_name||Se.name," ")}}function Kt(it,Gt){1&it&&(m.j41(0,"mat-checkbox",27),m.EFF(1," Auto Approve Bookings "),m.k0s())}function vn(it,Gt){if(1&it&&(m.j41(0,"div",28)(1,"label",29),m.EFF(2),m.k0s(),m.nrm(3,"item-list-field",30),m.k0s()),2&it){const Se=m.XpG();m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," Booking for Groups:")}}function Pt(it,Gt){1&it&&(m.j41(0,"div",28)(1,"label",31),m.EFF(2,"Locations:"),m.k0s(),m.nrm(3,"item-list-field",32),m.k0s())}function an(it,Gt){if(1&it&&(m.j41(0,"div",2)(1,"label",35),m.EFF(2),m.k0s(),m.nrm(3,"a-duration-field",36),m.k0s()),2&it){const Se=m.XpG(2);m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking with a minimum length of:"),m.R7$(),m.Y8G("min",15)("max",1440)("step",15)}}function Et(it,Gt){if(1&it&&(m.j41(0,"div",2)(1,"label",37),m.EFF(2),m.k0s(),m.nrm(3,"a-duration-field",38),m.k0s()),2&it){const Se=m.XpG(2);m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking with a maximum length up to:"),m.R7$(),m.Y8G("min",Se.form.value.conditions.min_length||15)("max",1440)("step",15)}}function bt(it,Gt){if(1&it&&(m.j41(0,"div",33),m.DNE(1,an,4,4,"div",34)(2,Et,4,4,"div",34),m.k0s()),2&it){const Se=m.XpG();m.R7$(),m.Y8G("ngIf",Se.available_conditions.includes("min_length")),m.R7$(),m.Y8G("ngIf",Se.available_conditions.includes("max_length"))}}function Yt(it,Gt){if(1&it&&(m.j41(0,"mat-option",26),m.EFF(1),m.k0s()),2&it){const Se=Gt.$implicit;m.Y8G("value",Se),m.R7$(),m.SpI(" ",Se," ")}}function Xt(it,Gt){if(1&it&&(m.j41(0,"div",28)(1,"label",39),m.EFF(2),m.k0s(),m.j41(3,"mat-form-field",40)(4,"mat-select",41),m.DNE(5,Yt,2,2,"mat-option",7),m.k0s(),m.j41(6,"mat-error"),m.EFF(7,"A valid time is required"),m.k0s()()()),2&it){const Se=m.XpG();m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking before:"),m.R7$(3),m.Y8G("ngForOf",Se.duration_blocks)}}function nn(it,Gt){if(1&it&&(m.j41(0,"mat-option",26),m.EFF(1),m.k0s()),2&it){const Se=Gt.$implicit;m.Y8G("value",Se),m.R7$(),m.SpI(" ",Se," ")}}function yn(it,Gt){if(1&it&&(m.j41(0,"div",28)(1,"label",42),m.EFF(2),m.k0s(),m.j41(3,"mat-form-field",40)(4,"mat-select",43),m.DNE(5,nn,2,2,"mat-option",7),m.k0s(),m.j41(6,"mat-error"),m.EFF(7,"A valid time is required"),m.k0s()()()),2&it){const Se=m.XpG();m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking after:"),m.R7$(3),m.Y8G("ngForOf",Se.duration_blocks)}}function Mn(it,Gt){if(1&it){const Se=m.RV6();m.j41(0,"div",28)(1,"label",42),m.EFF(2),m.k0s(),m.j41(3,"div",1)(4,"a-date-field",44),m.bIt("ngModelChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setIsPeriod(ne,ke.form.value.conditions.is_period[1]))}),m.k0s(),m.j41(5,"a-date-field",45),m.bIt("ngModelChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setIsPeriod(ke.form.value.conditions.is_period[0],ne))}),m.k0s()()()}if(2&it){const Se=m.XpG();m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking between dates:"),m.R7$(2),m.Y8G("ngModel",Se.form.value.conditions.is_period[0])("ngModelOptions",m.lJ4(6,Ke)),m.R7$(),m.Y8G("from",Se.form.value.conditions.is_period[0])("ngModel",Se.form.value.conditions.is_period[1])("ngModelOptions",m.lJ4(7,Ke))}}function Ln(it,Gt){if(1&it&&(m.j41(0,"mat-option",26),m.EFF(1),m.nI1(2,"date"),m.k0s()),2&it){const Se=Gt.$implicit,At=m.XpG(2);m.Y8G("value",Se.id),m.R7$(),m.SpI(" ",m.i5U(2,2,Se.value,At.time_format)," ")}}function Fn(it,Gt){if(1&it&&(m.j41(0,"mat-option",26),m.EFF(1),m.nI1(2,"date"),m.k0s()),2&it){const Se=m.XpG().$implicit,At=m.XpG(2);m.Y8G("value",Se.id),m.R7$(),m.SpI(" ",m.i5U(2,2,Se.value,At.time_format)," ")}}function $n(it,Gt){if(1&it&&(m.qex(0),m.DNE(1,Fn,3,5,"mat-option",51),m.bVm()),2&it){const Se=Gt.$implicit,At=m.XpG(2);m.R7$(),m.Y8G("ngIf",Se.id>(At.form.value.conditions.is_between[0]||6))}}function Ht(it,Gt){if(1&it){const Se=m.RV6();m.j41(0,"div",28)(1,"label",46),m.EFF(2),m.k0s(),m.j41(3,"div",47)(4,"mat-form-field",40)(5,"mat-select",48),m.bIt("ngModelChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setIsBetween(ne,ke.form.value.conditions.is_between[1]))}),m.DNE(6,Ln,3,5,"mat-option",7),m.k0s()(),m.j41(7,"mat-form-field",40)(8,"mat-select",49),m.bIt("ngModelChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setIsBetween(ke.form.value.conditions.is_between[0],ne))}),m.DNE(9,$n,2,1,"ng-container",50),m.k0s(),m.j41(10,"mat-error"),m.EFF(11,"A valid end time is required"),m.k0s()()()()}if(2&it){const Se=m.XpG();m.R7$(2),m.SpI("",Se.form.value.rules.hidden?"Prevent":"Allow"," booking between:"),m.R7$(3),m.Y8G("ngModel",Se.form.value.conditions.is_between[0]||6)("ngModelOptions",m.lJ4(7,Ke)),m.R7$(),m.Y8G("ngForOf",Se.time_blocks),m.R7$(2),m.Y8G("ngModel",Se.form.value.conditions.is_between[1]||18)("ngModelOptions",m.lJ4(8,Ke)),m.R7$(),m.Y8G("ngForOf",Se.time_blocks)}}function ze(it,Gt){if(1&it&&(m.j41(0,"div",28)(1,"label",52),m.EFF(2),m.k0s(),m.nrm(3,"item-list-field",53),m.k0s()),2&it){const Se=m.XpG();m.R7$(2),m.SpI(" ",Se.form.value.rules.hidden?"Prevent":"Allow"," booking these resources: ")}}let Bt=(()=>{class it{get time_format(){return this._settings.time_format}constructor(Se,At){this._org=Se,this._settings=At,this.save=!1,this.rulesetChange=new m.bkB,this.available_conditions=[],this.building_zones=this._org.active_building.pipe((0,$t.p)(ne=>!!ne),(0,q.n)(ne=>(0,Ct.smM)({parent_id:ne.id}).pipe((0,Ie.W)(()=>(0,rn.of)({data:[]})))),(0,se.T)(ne=>ne.data),(0,fe.t)(1)),this.time_blocks=new Array(96).fill(0).map((ne,ke)=>{const He=Math.floor(ke/4),Dt=ke%4*15;return{id:He+Dt/60,value:(0,Qt.h)(new Date,{hours:He,minutes:Dt})}}),this.duration_blocks=["1 Day","2 Days","3 Days","4 Days","5 Days","1 Week","2 Weeks","3 Weeks","4 Weeks","1 Month","2 Months","3 Months","4 Months","5 Months","6 Months"],this.form=new n.gE({id:new n.MJ(`ruleset-${(0,U.DU)(8)}`),zone:new n.MJ("*",n.k0.required),name:new n.MJ("",n.k0.required),rules:new n.gE({auto_approve:new n.MJ(!1),hidden:new n.MJ(!1)}),conditions:new n.gE({groups:new n.MJ([]),locations:new n.MJ([]),min_length:new n.MJ(0),max_length:new n.MJ(1440),is_before:new n.MJ("1 Week"),is_after:new n.MJ("1 Day"),is_between:new n.MJ([6,18]),is_period:new n.MJ([(0,_n.o)(Date.now()).valueOf(),(0,In.D)(Date.now()).valueOf()]),resource_ids:new n.MJ([])})})}ngOnChanges(Se){Se.ruleset&&this.ruleset&&(this.available_conditions=Object.keys(this.ruleset.conditions||{}),this.form.patchValue(this.ruleset)),Se.save&&this.save!==Se.save.previousValue&&!Se.save.firstChange&&this.post()}setIsBetween(Se,At){!Se||!At||(Se>At&&(At=Se+.25),this.form.patchValue({conditions:{is_between:[Se,At]}}))}setIsPeriod(Se,At){!Se||!At||(Se>At&&(At=Se),this.form.patchValue({conditions:{is_period:[(0,_n.o)(Se).valueOf(),(0,In.D)(At).valueOf()]}}))}post(){if(!this.form.valid)return(0,U.UG)(`Some form fields are invalid. [${(0,U.F7)(this.form).join(", ")}]`);const Se=this.form.getRawValue(),At=Object.keys(Se.conditions);for(const ne of At)this.available_conditions.includes(ne)||delete Se.conditions[ne];this.rulesetChange.emit(Se)}static#e=this.\u0275fac=function(At){return new(At||it)(m.rXU(dt.yb),m.rXU(U.h$))};static#t=this.\u0275cmp=m.VBU({type:it,selectors:[["booking-rules-form"]],inputs:{ruleset:"ruleset",save:"save"},outputs:{rulesetChange:"rulesetChange"},features:[m.OA$],decls:65,vars:16,consts:[[1,"flex","flex-col","space-y-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],["for","zone"],["appearance","outline"],["name","zone","formControlName","zone"],["value","*"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["matInput","","name","name","formControlName","name","placeholder","Ruleset Name"],["formGroupName","rules",1,"flex","items-center","space-x-2"],["name","hidden","formControlName","hidden","matTooltip","Prevent user from booking the resource if the conditions match"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match",4,"ngIf"],[1,"flex","flex-col"],["name","zone","multiple","","placeholder","No Conditions. Match all resources in zone",3,"ngModelChange","ngModel","ngModelOptions"],["value","groups"],["value","locations"],["value","min_length"],["value","max_length"],["value","is_before"],["value","is_after"],["value","is_between"],["value","is_period"],["value","resource_ids"],["class","flex flex-col","formGroupName","conditions",4,"ngIf"],["class","flex items-center space-x-2","formGroupName","conditions",4,"ngIf"],[3,"value"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match"],["formGroupName","conditions",1,"flex","flex-col"],["for","groups"],["name","groups","formControlName","groups","placeholder","User groups"],["for","locations"],["name","locations","formControlName","locations","placeholder","Locations"],["formGroupName","conditions",1,"flex","items-center","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],["for","min_length"],["name","min_length","formControlName","min_length",3,"min","max","step"],["for","max_length"],["name","max_length","formControlName","max_length",3,"min","max","step"],["for","is-before"],["appearance","outline",1,"flex-1"],["name","is-before","formControlName","is_before"],["for","is-after"],["name","is-after","formControlName","is_after"],[1,"flex-1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex-1",3,"ngModelChange","from","ngModel","ngModelOptions"],["for","is_between"],[1,"flex","items-center","space-x-2","w-full"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["for","resource_ids"],["name","resource_ids","formControlName","resource_ids","placeholder","Resource IDs"]],template:function(At,ne){1&At&&(m.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),m.EFF(4,"Zone"),m.j41(5,"span"),m.EFF(6,"*"),m.k0s(),m.EFF(7,":"),m.k0s(),m.j41(8,"mat-form-field",4)(9,"mat-select",5)(10,"mat-option",6),m.EFF(11,"Any Zone"),m.k0s(),m.DNE(12,It,2,2,"mat-option",7),m.nI1(13,"async"),m.k0s(),m.j41(14,"mat-error"),m.EFF(15,"A valid zone is required"),m.k0s()()(),m.j41(16,"div",2)(17,"label",8),m.EFF(18,"Name"),m.j41(19,"span"),m.EFF(20,"*"),m.k0s(),m.EFF(21,":"),m.k0s(),m.j41(22,"mat-form-field",4),m.nrm(23,"input",9),m.j41(24,"mat-error"),m.EFF(25,"A valid name is required"),m.k0s()()()(),m.j41(26,"div",10)(27,"div",2)(28,"mat-checkbox",11),m.EFF(29," Prevent Bookings "),m.k0s()(),m.j41(30,"div",2),m.DNE(31,Kt,2,0,"mat-checkbox",12),m.k0s()(),m.j41(32,"div",13)(33,"label",3),m.EFF(34,"Rule Conditions:"),m.k0s(),m.j41(35,"mat-form-field",4)(36,"mat-select",14),m.mxI("ngModelChange",function(He){return m.DH7(ne.available_conditions,He)||(ne.available_conditions=He),He}),m.j41(37,"mat-option",15),m.EFF(38,"Groups"),m.k0s(),m.j41(39,"mat-option",16),m.EFF(40,"Locations"),m.k0s(),m.j41(41,"mat-option",17),m.EFF(42," Minimum Length "),m.k0s(),m.j41(43,"mat-option",18),m.EFF(44," Maximum Length "),m.k0s(),m.j41(45,"mat-option",19),m.EFF(46," Is Within Days "),m.k0s(),m.j41(47,"mat-option",20),m.EFF(48," Is After Days "),m.k0s(),m.j41(49,"mat-option",21),m.EFF(50," Is Between Hours "),m.k0s(),m.j41(51,"mat-option",22),m.EFF(52," Between Dates "),m.k0s(),m.j41(53,"mat-option",23),m.EFF(54,"Resources"),m.k0s()(),m.j41(55,"mat-error"),m.EFF(56,"A valid zone is required"),m.k0s()()(),m.DNE(57,vn,4,1,"div",24)(58,Pt,4,0,"div",24)(59,bt,3,2,"div",25)(60,Xt,8,2,"div",24)(61,yn,8,2,"div",24)(62,Mn,6,8,"div",24)(63,Ht,12,9,"div",24)(64,ze,4,1,"div",24),m.k0s()),2&At&&(m.Y8G("formGroup",ne.form),m.R7$(12),m.Y8G("ngForOf",m.bMT(13,13,ne.building_zones)),m.R7$(19),m.Y8G("ngIf",!ne.form.value.rules.hidden),m.R7$(5),m.R50("ngModel",ne.available_conditions),m.Y8G("ngModelOptions",m.lJ4(15,Ke)),m.R7$(21),m.Y8G("ngIf",ne.available_conditions.includes("groups")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("locations")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("min_length")||ne.available_conditions.includes("max_length")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("is_before")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("is_after")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("is_period")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("is_between")),m.R7$(),m.Y8G("ngIf",ne.available_conditions.includes("resource_ids")))},styles:["[_nghost-%COMP%]{display:block;padding:.5rem}"]})}return it})();var Te=s(467),Ge=s(3693);const Tt=[],Wt=new Ge.Gp;let We=(()=>{class it{transform(Se){return(0,Te.A)(function*(){if(!Se)return Wt;let At=Tt.find(({id:ne,email:ke})=>ne===Se||ke===Se);return At||(At=yield(0,Ct.VLL)(Se).toPromise().catch(()=>null),At?(At=new Ge.Gp(At),Tt.push(At),At):Wt)})()}static#e=this.\u0275fac=function(At){return new(At||it)};static#t=this.\u0275pipe=m.EJ8({name:"placeuser",type:it,pure:!0})}return it})();var Pe=s(4351);const Ue=["startDate"],De=["endDate"],rt=[[["input","startDate",""]],[["input","endDate",""]]],Qe=["input[startDate]","input[endDate]"];function vt(it,Gt){if(1&it){const Se=m.RV6();m.j41(0,"div",5)(1,"date-range-calendar",6),m.bIt("startChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setStartDate(ne))})("endChange",function(ne){m.eBV(Se);const ke=m.XpG();return m.Njj(ke.setEndDate(ne))}),m.k0s()()}if(2&it){const Se=m.XpG();m.R7$(),m.Y8G("month",(null==Se.start_date||null==Se.start_date.control?null:Se.start_date.control.value)||Se.now)("from",Se.from)("to",Se.until)("offset_weekday",Se.week_start)}}let et=(()=>{class it extends U.Tv{constructor(){super(...arguments),this.from_date=(0,_n.o)(Date.now()).valueOf(),this.week_start=0,this.disabled=!1,this.short=!1,this.now=Date.now()}setStartDate(Se){this.start_date&&this.start_date.control.setValue(Se)}setEndDate(Se){this._tooltip?.close(),this.end_date&&this.end_date.control.setValue(Se)}static#e=this.\u0275fac=(()=>{let Se;return function(ne){return(Se||(Se=m.xGo(it)))(ne||it)}})();static#t=this.\u0275cmp=m.VBU({type:it,selectors:[["date-range-field"]],contentQueries:function(At,ne,ke){if(1&At&&(m.wni(ke,Ue,5,n.vO),m.wni(ke,De,5,n.vO)),2&At){let He;m.mGM(He=m.lsd())&&(ne.start_date=He.first),m.mGM(He=m.lsd())&&(ne.end_date=He.first)}},viewQuery:function(At,ne){if(1&At&&m.GBs(Pe.In,5),2&At){let ke;m.mGM(ke=m.lsd())&&(ne._tooltip=ke.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[m.Vt3],ngContentSelectors:Qe,decls:16,vars:12,consts:[["calendar_picker",""],["matRipple","","type","button","role","date-picker","customTooltip","","yPosition","top",1,"flex","items-center","rounded","px-4","py-2","border","border-neutral","hover:border-base-content","focus:outline-2","outline-base-content","space-x-2","min-w-max",3,"content","disabled"],[1,"flex-1","whitespace-nowrap"],[1,"text-2xl"],[1,"hidden"],[1,"relative","w-[18.25rem]","rounded","bg-base-100","px-2","py-4"],[3,"startChange","endChange","month","from","to","offset_weekday"]],template:function(At,ne){if(1&At&&(m.NAR(rt),m.j41(0,"button",1)(1,"div",2),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"div"),m.EFF(5,"\u2013"),m.k0s(),m.j41(6,"div",2),m.EFF(7),m.nI1(8,"date"),m.k0s(),m.j41(9,"app-icon",3),m.EFF(10,"today"),m.k0s()(),m.j41(11,"div",4),m.SdG(12),m.SdG(13,1),m.k0s(),m.DNE(14,vt,2,4,"ng-template",null,0,m.C5r)),2&At){const ke=m.sdS(15);m.AVh("opacity-30",ne.disabled),m.Y8G("content",ke)("disabled",ne.disabled),m.R7$(2),m.SpI(" ",m.i5U(3,6,(null==ne.start_date?null:ne.start_date.value)||ne.now,"MMM d, yyyy")," "),m.R7$(5),m.SpI(" ",m.i5U(8,9,(null==ne.end_date?null:ne.end_date.value)||ne.now,"MMM d, yyyy")," ")}}})}return it})();var Re=s(5818),Mt=s(5458),nt=s(7793),Ze=s(9497),qt=s(906),Vt=s(9255),dn=s(9824),xn=s(7518);function Wn(it,Gt){if(1&it&&(m.j41(0,"div",8),m.EFF(1),m.nI1(2,"date"),m.k0s()),2&it){const Se=Gt.$implicit;m.R7$(),m.SpI(" ",m.i5U(2,1,Se,"EEE")," ")}}function Xn(it,Gt){1&it&&m.nrm(0,"div",16)}function ti(it,Gt){1&it&&m.nrm(0,"div",17)}function Ii(it,Gt){1&it&&m.nrm(0,"div",18)}function yi(it,Gt){1&it&&m.nrm(0,"div",19)}function ss(it,Gt){1&it&&m.nrm(0,"div",20)}function ys(it,Gt){if(1&it){const Se=m.RV6();m.j41(0,"button",9),m.bIt("click",function(){const ne=m.eBV(Se).$implicit,ke=m.XpG();return m.Njj(ke.selectDate(ne.id))})("mouseenter",function(){const ne=m.eBV(Se).$implicit,ke=m.XpG();return m.Njj(ke.setHoveredDate(ne.id))}),m.DNE(1,Xn,1,0,"div",10)(2,ti,1,0,"div",11)(3,Ii,1,0,"div",12)(4,yi,1,0,"div",13),m.j41(5,"div",14),m.EFF(6),m.nI1(7,"date"),m.k0s(),m.DNE(8,ss,1,0,"div",15),m.k0s()}if(2&it){const Se=Gt.$implicit,At=m.XpG();m.AVh("text-secondary-content",Se.is_start||Se.is_end),m.Y8G("disabled",Se.disabled),m.R7$(),m.Y8G("ngIf",Se.is_selected&&!Se.is_start&&!Se.is_end),m.R7$(),m.Y8G("ngIf",Se.is_start&&At.end_after_start),m.R7$(),m.Y8G("ngIf",Se.is_end&&At.end_after_start),m.R7$(),m.Y8G("ngIf",Se.is_start||Se.is_end),m.R7$(),m.AVh("opacity-30",!Se.is_month),m.R7$(),m.SpI(" ",m.i5U(7,11,Se.id,"d")," "),m.R7$(2),m.Y8G("ngIf",Se.is_today)}}let $i=(()=>{class it{constructor(){this.from_date=(0,_n.o)(Date.now()).valueOf(),this.offset_weekday=0,this.month=(0,_n.o)(Date.now()).valueOf(),this.startChange=new m.bkB,this.endChange=new m.bkB,this.hovered_date=null,this.weekdays=[],this.month_days=[]}get end_after_start(){return this.end&&this.end>this.start&&!(0,Re.r)(this.end,this.start)}ngOnInit(){this._setWeekdays(),this._setMonthDays()}ngOnChanges(Se){Se.offset_weekday&&(this._setWeekdays(),this._setMonthDays()),Se.start&&(this._setMonthDays(),this.month=this.start||Date.now()),Se.month&&this._setMonthDays(),Se.end&&this._setMonthDays()}selectDate(Se){!this.start||Se<this.start?(this.start=Se,this.startChange.emit(Se)):(this.end=Se,this.endChange.emit(Se)),this._setMonthDays()}setHoveredDate(Se){this.start&&(this.end=Se,this._setMonthDays())}trackByFn(Se,At){return At.id}nextMonth(){this.month=(0,Mt.P)(this.month,1).valueOf(),this._setMonthDays()}previousMonth(){this.month=(0,Mt.P)(this.month,-1).valueOf(),this._setMonthDays()}_setMonthDays(){const Se=(0,nt.k)((0,Ze.w)(this.month),{weekStartsOn:this.offset_weekday});this.month_days=Array.from(Array(42).keys()).map(At=>{const ne=(0,qt.f)(Se,At).valueOf();return{id:ne,disabled:this.from_date&&(0,Vt.Y)(ne,this.from_date)||this.to_date&&(0,dn.d)(ne,this.to_date),is_today:(0,Re.r)(ne,Date.now()),is_start:(0,Re.r)(ne,this.start),is_end:(0,Re.r)(ne,this.end),is_month:(0,xn.t)(ne,this.month),is_selected:this.end&&ne>=(0,_n.o)(this.start).valueOf()&&ne<=(0,In.D)(this.end).valueOf()}})}_setWeekdays(){const Se=(0,nt.k)(Date.now(),{weekStartsOn:this.offset_weekday});this.weekdays=Array.from(Array(7).keys()).map(At=>(0,qt.f)(Se,At))}static#e=this.\u0275fac=function(At){return new(At||it)};static#t=this.\u0275cmp=m.VBU({type:it,selectors:[["date-range-calendar"]],inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],offset_weekday:"offset_weekday",start:"start",end:"end",month:"month"},outputs:{startChange:"startChange",endChange:"endChange"},features:[m.OA$],decls:15,vars:7,consts:[[1,"flex","items-center","justify-between"],["month","",1,"font-medium","px-2"],[1,"flex","items-center","space-x-2"],["icon","","matRipple","",3,"click"],[1,"grid","grid-cols-7","grid-rows-7","gap-1","w-[17.25rem]","h-[17.25rem]"],[1,"col-span-full","grid","grid-cols-7","border-b","border-base-200"],["weekday","","class","relative flex items-center justify-center text-sm opacity-60",4,"ngFor","ngForOf"],["class","relative h-9 w-9 hover:bg-base-200 rounded-full",3,"text-secondary-content","disabled","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["weekday","",1,"relative","flex","items-center","justify-center","text-sm","opacity-60"],[1,"relative","h-9","w-9","hover:bg-base-200","rounded-full",3,"click","mouseenter","disabled"],["class","absolute inset-y-0 -inset-x-0.5 border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -right-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -left-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-secondary rounded-full z-10",4,"ngIf"],["matRipple","",1,"absolute","inset-0","flex","items-center","justify-center","rounded-full","z-20"],["class","absolute -inset-[3px] flex items-center justify-center border border-secondary rounded-full z-10",4,"ngIf"],[1,"absolute","inset-y-0","-inset-x-0.5","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-right-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-left-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-secondary","rounded-full","z-10"],[1,"absolute","-inset-[3px]","flex","items-center","justify-center","border","border-secondary","rounded-full","z-10"]],template:function(At,ne){1&At&&(m.j41(0,"div",0)(1,"div",1),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"div",2)(5,"button",3),m.bIt("click",function(){return ne.previousMonth()}),m.j41(6,"app-icon"),m.EFF(7,"chevron_left"),m.k0s()(),m.j41(8,"button",3),m.bIt("click",function(){return ne.nextMonth()}),m.j41(9,"app-icon"),m.EFF(10,"chevron_right"),m.k0s()()()(),m.j41(11,"div",4)(12,"div",5),m.DNE(13,Wn,3,4,"div",6),m.k0s(),m.DNE(14,ys,9,14,"button",7),m.k0s()),2&At&&(m.R7$(2),m.SpI(" ",m.i5U(3,4,ne.month,"MMMM yyyy")," "),m.R7$(11),m.Y8G("ngForOf",ne.weekdays),m.R7$(),m.Y8G("ngForOf",ne.month_days)("ngForTrackBy",ne.trackByFn))},dependencies:[e.Sq,e.bT,g.r6,A.R,e.vh]})}return it})();var mn=s(2238),gt=s(5080),pt=s(3208),St=s(4006);let st=(()=>{class it{static#e=this.\u0275fac=function(At){return new(At||it)};static#t=this.\u0275mod=m.$C({type:it});static#n=this.\u0275inj=m.G2t({imports:[e.MD,n.YN,n.X1,g.pZ,n.X1,b.RG,E.fS,_.Ve,u.jL,I.uc,k.g7,y.Wk,h.YN,d.FQ,x.h]})}return it})();m.wjB(K.G,[e.bT,n.BC,n.vS,g.r6,A.R,mn.I,xt.I],[e.vh]),m.wjB(et,[g.r6,A.R,mn.I,$i],[e.vh]),m.wjB(S.T,[e.Sq,e.bT,n.me,n.BC,n.vS,g.r6,b.rl,b.yw,g.wT,u.$3,u.pN,u.Vn,I.oV,h.HW,h.D7,h.Zv,h.jH,A.R,me.LG],[e.Jj,We]),m.wjB(w.$,[e.Sq,e.bT,n.me,n.BC,n.vS,b.rl,b.JW,b.yw,E.fg,g.wT,u.$3,u.pN,A.R,gt.e,me.LG],[]),m.wjB(Ne.K,[e.Sq,e.bT,n.BC,n.vS,g.r6,y.VT,y._g,A.R,pt.U],[e.Jj]),m.wjB(he.$,[e.Sq,e.bT,g.r6,b.rl,I.oV,h.HW,h.D7,h.Zv,h.jH,A.R,pt.U,me.LG],[e.Jj]),m.wjB(Xe.c,[e.Sq,e.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,g.r6,b.rl,b.TL,E.fg,_.VO,g.wT,A.R,St.tx,me.LG,Me.d,he.$],[e.Jj]),m.wjB(Ee.Z,[e.bT,n.me,n.Q0,n.BC,n.vS,g.r6,b.rl,b.yw,E.fg,_.VO,g.wT,y.VT,y._g,A.R,St.tx,K.G],[]),m.wjB(Bt,[e.Sq,e.bT,n.me,n.BC,n.cb,n.vS,n.j4,n.JD,n.$R,b.rl,b.TL,E.fg,_.VO,g.wT,I.oV,k.So,K.G,P.y,W],[e.Jj,e.vh])},744:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>ie});var e=s(467),n=s(3953),d=s(9417),h=s(1168),g=s(2372),b=s(3693),E=s(6576),_=s(4421),u=s(4279),I=s(7354),k=s(762),y=s(7765),x=s(3004);class B{constructor(Y){this.resultSelector=Y}call(Y,F){return F.subscribe(new K(Y,this.resultSelector))}}class K extends k.v{constructor(Y,F,N=Object.create(null)){super(Y),this.resultSelector=F,this.iterators=[],this.active=0,this.resultSelector="function"==typeof F?F:void 0}_next(Y){const F=this.iterators;(0,I.c)(Y)?F.push(new j(Y)):F.push("function"==typeof Y[y.lJ]?new P(Y[y.lJ]()):new S(this.destination,this,Y))}_complete(){const Y=this.iterators,F=Y.length;if(this.unsubscribe(),0!==F){this.active=F;for(let N=0;N<F;N++){let J=Y[N];J.stillUnsubscribed?this.destination.add(J.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const Y=this.iterators,F=Y.length,N=this.destination;for(let _e=0;_e<F;_e++){let xe=Y[_e];if("function"==typeof xe.hasValue&&!xe.hasValue())return}let J=!1;const ae=[];for(let _e=0;_e<F;_e++){let xe=Y[_e],Fe=xe.next();if(xe.hasCompleted()&&(J=!0),Fe.done)return void N.complete();ae.push(Fe.value)}this.resultSelector?this._tryresultSelector(ae):N.next(ae),J&&N.complete()}_tryresultSelector(Y){let F;try{F=this.resultSelector.apply(this,Y)}catch(N){return void this.destination.error(N)}this.destination.next(F)}}class P{constructor(Y){this.iterator=Y,this.nextResult=Y.next()}hasValue(){return!0}next(){const Y=this.nextResult;return this.nextResult=this.iterator.next(),Y}hasCompleted(){const Y=this.nextResult;return!(!Y||!Y.done)}}class j{constructor(Y){this.array=Y,this.index=0,this.length=0,this.length=Y.length}[y.lJ](){return this}next(Y){const F=this.index++;return F<this.length?{value:this.array[F],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class S extends x.gn{constructor(Y,F,N){super(Y),this.parent=F,this.observable=N,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[y.lJ](){return this}next(){const Y=this.buffer;return 0===Y.length&&this.isComplete?{value:null,done:!0}:{value:Y.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(Y){this.buffer.push(Y),this.parent.checkIterators()}subscribe(){return(0,x.tS)(this.observable,new x.zA(this))}}var w=s(9090),m=s(3921),v=s(5006),A=s(8712),L=s(9493),G=s(177),O=s(3719),W=s(2798),U=s(6600);function $(me,Y){if(1&me&&(n.j41(0,"mat-option",5)(1,"div",6)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"span",7),n.EFF(5,"\xa0|\xa0"),n.k0s(),n.j41(6,"div",8),n.EFF(7),n.k0s()()()),2&me){const F=Y.$implicit;n.Y8G("value",null==F?null:F.email),n.R7$(3),n.JRh(F.name),n.R7$(4),n.JRh(null==F?null:F.email)}}function te(me,Y){1&me&&n.eu8(0)}let ie=(()=>{class me{constructor(){this.users=(0,_.of)(1).pipe((0,w.n)(()=>(0,E.CH)().pipe((0,m.W)(F=>(0,_.of)([])))),(0,w.n)(F=>function M(...me){const Y=me[me.length-1];return"function"==typeof Y&&me.pop(),(0,u.c)(me,void 0).lift(new B(Y))}(...F.map(N=>(0,g.SZ)(N.id).pipe((0,m.W)(J=>(0,_.of)(null)))))),(0,v.T)(F=>(0,h.Am)([(0,h.Ny)(),...F],"email")),(0,A.t)(1)),this.disabled=!1,this.registerOnChange=F=>this._onChange=F,this.registerOnTouched=F=>this._onTouch=F,this.setDisabledState=F=>this.disabled=F}setValue(F){var N=this;return(0,e.A)(function*(){const J=yield N.users.pipe((0,L.s)(1)).toPromise();N.item=J?.find(ae=>ae.email===F),N.item||(N.item=new b.KJ({email:F})),N._onChange&&N._onChange(N.item)})()}writeValue(F){this.item=F,F?.email||(this.item=(0,h.Ny)())}static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275cmp=n.VBU({type:me,selectors:[["host-select-field"]],features:[n.Jv_([{provide:d.kq,useExisting:(0,n.Rfq)(()=>me),multi:!0}])],decls:8,vars:9,consts:()=>{let F;return F=$localize`:␟1cdb1c4c30b26c94c19e88ecdbde0e55665504d4␟5838187330179805553:Host is required`,[F,["appearance","outline",1,"w-full"],[3,"ngModelChange","ngModel","disabled","placeholder"],["class","leading-tight",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"leading-tight",3,"value"],[1,"flex","flex-col"],[1,"hidden"],[1,"text-xs","opacity-60"]]},template:function(N,J){1&N&&(n.j41(0,"mat-form-field",1)(1,"mat-select",2),n.bIt("ngModelChange",function(_e){return J.setValue(_e)}),n.DNE(2,$,8,3,"mat-option",3),n.nI1(3,"async"),n.k0s(),n.j41(4,"mat-error"),n.pXf(5,0),n.k0s()(),n.DNE(6,te,1,0,"ng-container",4),n.nI1(7,"async")),2&N&&(n.R7$(),n.Y8G("ngModel",null==J.item?null:J.item.email)("disabled",J.disabled)("placeholder",null!=J.item&&J.item.email?J.item.name||J.item.email:"Select host"),n.R7$(),n.Y8G("ngForOf",n.bMT(3,5,J.users)),n.R7$(4),n.Y8G("ngIf",n.bMT(7,7,J.users)))},dependencies:[G.Sq,G.bT,d.BC,d.vS,O.rl,O.TL,W.VO,U.wT,G.Jj]})}return me})()},6864:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>A});var e=s(467),n=s(7336),d=s(3953),h=s(9417),g=s(9928),b=s(9714),E=s(5006),_=s(9493),u=s(1168),I=s(6821),k=s(3801),y=s(4006);const x=["image_list"],M=["file_input"];function B(L,G){if(1&L){const O=d.RV6();d.j41(0,"div",17),d.nrm(1,"img",18),d.j41(2,"div",19),d.nrm(3,"div",20),d.j41(4,"div",21)(5,"button",22),d.bIt("click",function(){const U=d.eBV(O).$implicit,$=d.XpG();return d.Njj($.copyLink(U))}),d.j41(6,"app-icon"),d.EFF(7,"link"),d.k0s()(),d.j41(8,"button",22),d.bIt("click",function(){const U=d.eBV(O).$implicit,$=d.XpG();return d.Njj($.viewImage(U))}),d.j41(9,"app-icon"),d.EFF(10,"visibility"),d.k0s()(),d.j41(11,"button",22),d.bIt("click",function(){const U=d.eBV(O).$implicit,$=d.XpG();return d.Njj($.removeImage(U))}),d.j41(12,"app-icon"),d.EFF(13,"close"),d.k0s()()()()()}if(2&L){const O=G.$implicit,W=d.XpG();d.xc7("transform","translate(-"+W.offset+"00%)"),d.R7$(),d.Y8G("source",O)}}function K(L,G){if(1&L&&d.nrm(0,"mat-progress-spinner",27),2&L){const O=d.XpG().$implicit;d.Y8G("value",O.progress)("diameter",64)}}function P(L,G){1&L&&(d.j41(0,"app-icon",28),d.EFF(1,"warning"),d.k0s())}function j(L,G){1&L&&(d.j41(0,"div",29)(1,"app-icon",30),d.EFF(2,"refresh"),d.k0s()())}function S(L,G){if(1&L){const O=d.RV6();d.j41(0,"div",23),d.bIt("click",function(){const U=d.eBV(O).$implicit,$=d.XpG();return d.Njj($.retryUpload(U))}),d.DNE(1,K,1,2,"mat-progress-spinner",24)(2,P,2,0,"app-icon",25)(3,j,3,0,"div",26),d.k0s()}if(2&L){const O=G.$implicit,W=d.XpG();d.xc7("transform","translate(-"+W.offset+"00%)"),d.Y8G("matTooltip",O.error),d.R7$(),d.Y8G("ngIf",!O.error),d.R7$(),d.Y8G("ngIf",O.error),d.R7$(),d.Y8G("ngIf",O.error)}}function w(L,G){if(1&L){const O=d.RV6();d.j41(0,"button",31),d.bIt("click",function(){d.eBV(O);const U=d.XpG();return d.Njj(U.offset=U.offset-1)}),d.j41(1,"app-icon"),d.EFF(2,"chevron_left"),d.k0s()()}if(2&L){const O=d.XpG();d.Y8G("disabled",0===O.offset)}}function m(L,G){if(1&L){const O=d.RV6();d.j41(0,"button",32),d.bIt("click",function(){d.eBV(O);const U=d.XpG();return d.Njj(U.offset=U.offset+1)}),d.j41(1,"app-icon"),d.EFF(2,"chevron_right"),d.k0s()()}if(2&L){const O=d.XpG();d.Y8G("disabled",O.offset>=O.length-O.view_space)}}function v(L,G){if(1&L){const O=d.RV6();d.j41(0,"mat-chip-row",33),d.bIt("removed",function(){const U=d.eBV(O).$implicit,$=d.XpG();return d.Njj($.removeImage(U))}),d.j41(1,"div",34),d.EFF(2),d.k0s(),d.j41(3,"button",35)(4,"app-icon"),d.EFF(5,"cancel"),d.k0s()()()}if(2&L){const O=G.$implicit;d.R7$(2),d.JRh(O),d.R7$(),d.BMQ("aria-label","Remove "+O)}}let A=(()=>{class L extends u.Tv{get length(){return this.list.length+this._upload_list.getValue().length+1}constructor(O,W,U){super(),this._clipboard=O,this._uploads=W,this._dialog=U,this.list=[],this.upload_ids=new g.t([]),this._upload_list=new g.t([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[n.KE,n.Fm],this.uploads=(0,b.zV)([this.upload_list,this.upload_ids]).pipe((0,E.T)(([$,te])=>$.filter(ie=>te.includes(ie.id)))),this.registerOnChange=$=>this._onChange=$,this.registerOnTouched=$=>this._onTouch=$}ngAfterViewInit(){this.timeout("init_view_space",()=>{const O=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor(O.width/152)},100),this.subscription("upload_changes",this.upload_list.subscribe(O=>{const W=this.upload_ids.getValue();for(const U of W){const $=O.find(te=>te.id===U);$&&$.progress>=100&&(this.addImageUrl($.link),this.upload_ids.next(this.upload_ids.getValue().filter(te=>te!==U)))}}))}copyLink(O){this._clipboard.copy(O),(0,u.uA)("Copied image URL to clipboard")}viewImage(O){this._dialog.open(I.d,{data:O})}removeImage(O){this.setValue(this.list.filter(W=>W!==O))}addImage(O){O.value&&(this.setValue((0,u.Am)([...this.list,O.value])),O.chipInput.inputElement.value="")}addImageUrl(O){this.setValue((0,u.Am)([...this.list,O]))}retryUpload(O){O.error&&(O.error=null,O.upload.resume())}uploadImages(O){var W=this;return(0,e.A)(function*(){const U=O.target;if(U?.files){const $=U.files;if($.length){W.interval("update_status",()=>W._updateUploadHistory());for(let te=0;te<$.length;te++){const ie=yield W._uploads.uploadFileWithPermissions($[te]);W.upload_ids.next([...W.upload_ids.getValue(),ie]),W._file_input.nativeElement.value=""}}}})()}setValue(O){this.list=O,this._onChange&&this._onChange(O)}writeValue(O){this.list=O||[]}_updateUploadHistory(){var O=this;return(0,e.A)(function*(){const W=O.upload_ids.getValue();if(0===W.length)return;const $=(yield O._uploads.upload_list.pipe((0,_.s)(1)).toPromise()).filter(ie=>W.find(me=>me===ie.id)),te=$.filter(ie=>ie.progress>=100);O._upload_list.next($),te.forEach(ie=>delete ie.upload),te.length>=W.length&&O.clearInterval("update_status")})()}static#e=this.\u0275fac=function(W){return new(W||L)(d.rXU(k.B0),d.rXU(u.CS),d.rXU(y.bZ))};static#t=this.\u0275cmp=d.VBU({type:L,selectors:[["image-list-field"]],viewQuery:function(W,U){if(1&W&&(d.GBs(x,5),d.GBs(M,5)),2&W){let $;d.mGM($=d.lsd())&&(U._list_el=$.first),d.mGM($=d.lsd())&&(U._file_input=$.first)}},features:[d.Jv_([{provide:h.kq,useExisting:(0,d.Rfq)(()=>L),multi:!0}]),d.Vt3],decls:19,vars:12,consts:()=>{let O,W;return O=$localize`:␟dc952a36d53a7092578b8706e3c6e28fd59866bf␟7586116958417863153:Add image via URL`,W=$localize`:␟3f0243e1118dafecaa05696a3dffcbfb83295f9b␟889671581456916004:Upload Image(s)`,[["image_list",""],["file_input",""],["chipList",""],W,["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image","",1,"relative","rounded","border-2","border-base-200","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-base-content/10",":bg-base-100/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0 bg-base-200",3,"transform",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border border-base-content/10 /5 bg-base-200  flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["icon","","matRipple","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["icon","","matRipple","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Image List"],[3,"removed",4,"ngFor","ngForOf"],["placeholder",O,3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0","bg-base-200"],["auth","",1,"object-contain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","z-10","pointer-events-none",3,"source"],["overlay","",1,"absolute","inset-0","text-base-100","z-20"],["bg","",1,"absolute","inset-0","opacity-0","bg-black"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["icon","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","border-base-content/10","/5","bg-base-200","flex","items-center","justify-center","flex-shrink-0",3,"click","matTooltip"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-base-content hover:bg-opacity-50 text-base-100 flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-base-content","hover:bg-opacity-50","text-base-100","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["icon","","matRipple","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],["icon","","matRipple","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]]},template:function(W,U){if(1&W){const $=d.RV6();d.j41(0,"div",4,0),d.bIt("resize",function(){return d.eBV($),d.Njj(U.ngAfterViewInit())},!1,d.tSv),d.j41(2,"div",5)(3,"app-icon",6),d.EFF(4,"add"),d.k0s(),d.j41(5,"p",7),d.pXf(6,3),d.k0s(),d.j41(7,"input",8,1),d.bIt("change",function(ie){return d.eBV($),d.Njj(U.uploadImages(ie))}),d.k0s()(),d.DNE(9,B,14,3,"div",9)(10,S,4,6,"div",10),d.nI1(11,"async"),d.DNE(12,w,3,1,"button",11)(13,m,3,1,"button",12),d.k0s(),d.j41(14,"mat-form-field",13)(15,"mat-chip-grid",14,2),d.DNE(17,v,6,2,"mat-chip-row",15),d.k0s(),d.j41(18,"input",16),d.bIt("matChipInputTokenEnd",function(ie){return d.eBV($),d.Njj(U.addImage(ie))}),d.k0s()()}if(2&W){const $=d.sdS(16);d.R7$(2),d.xc7("transform","translate(-"+U.offset+"00%)"),d.R7$(7),d.Y8G("ngForOf",U.list),d.R7$(),d.Y8G("ngForOf",d.bMT(11,10,U.uploads)),d.R7$(2),d.Y8G("ngIf",U.length>U.view_space),d.R7$(),d.Y8G("ngIf",U.length>U.view_space),d.R7$(4),d.Y8G("ngForOf",U.list),d.R7$(),d.Y8G("matChipInputFor",$)("matChipInputSeparatorKeyCodes",U.separators)("matChipInputAddOnBlur",!0)}},styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[image][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[image][_ngcontent-%COMP%]:hover   [bg][_ngcontent-%COMP%]{opacity:.4!important}[actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})}return L})()},3138:(Ot,ve,s)=>{"use strict";s.d(ve,{E:()=>B});var e=s(3953),n=s(9417),d=s(1841),h=s(2756),g=s(4512),b=s(906),E=s(6299),_=s(4233),u=s(4006),I=s(177),k=s(3719),y=s(2798),x=s(6600);function M(K,P){if(1&K&&(e.j41(0,"mat-option",8),e.EFF(1),e.k0s()),2&K){const j=e.XpG();e.R7$(),e.SpI(" ",j.formatted_value," ")}}let B=(()=>{class K{constructor(j,S){this._dialog=j,this._settings=S,this.date=Date.now(),this.value={pattern:"none"}}ngOnChanges(j){if(j.date&&this.date){const S=new Date(this.date).getDate(),w=Math.floor(S/7)+(S%7?1:0);this.instance_of_month=`${w}${2===w?"nd":3===w?"rd":"th"}`,(4===w&&S>=25||5===w)&&(this.instance_of_month="Last"),1===w&&(this.instance_of_month="First"),this.value={...this.value,start:this.date,days_of_week:this.value.pattern?this.value.days_of_week:[new Date(this.date).getDay()]},this.setValue(this.value)}}get formatted_value(){return(0,d.qq)(this.value)}setValue(j){this.value=j,this._onChange&&this._onChange(j)}writeValue(j){this.value=j||{}}registerOnChange(j){this._onChange=j}registerOnTouched(j){this._onTouch=j}openCustomRecurrenceModal(){this.value.pattern||(this.value.days_of_week=[new Date(this.date).getDay()]);const j=this._dialog.open(h.Z,{data:{value:this.value}});this.setValue({...this.value,_pattern:"none"}),j.afterClosed().subscribe(S=>{this.setValue({...S||this.value,_pattern:S?"custom_display":this.old_value})})}setSimple(j){const S=new Date(this.date).getDay(),w=this._settings.get("app.default_recurrence_period")||180;this.old_value=this.value._pattern,"none"===j?this.setValue({pattern:null,_pattern:"none",days_of_week:[S]}):"daily"===j||"weekly"===j||"monthly"===j?this.setValue({pattern:j,_pattern:j,start:this.date,end:(0,g.D)((0,b.f)(this.date,w)).valueOf(),days_of_week:[S],interval:1}):"yearly"===j&&this.setValue({pattern:j,_pattern:j,start:this.date,end:(0,E.e)(this.date,7).valueOf(),days_of_week:[S],interval:1})}static#e=this.\u0275fac=function(S){return new(S||K)(e.rXU(u.bZ),e.rXU(_.h))};static#t=this.\u0275cmp=e.VBU({type:K,selectors:[["recurrence-field"]],inputs:{date:"date"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>K),multi:!0}]),e.OA$],decls:15,vars:11,consts:[["appearance","outline",1,"w-full"],["placeholder","Doesn't repeat",3,"ngModelChange","ngModel"],["value","none"],["value","daily"],["value","weekly"],["value","monthly"],["value","custom_display",4,"ngIf"],["value","custom",3,"click"],["value","custom_display"]],template:function(S,w){1&S&&(e.j41(0,"mat-form-field",0)(1,"mat-select",1),e.bIt("ngModelChange",function(v){return w.setSimple(v)}),e.j41(2,"mat-option",2),e.EFF(3,"Doesn't repeat"),e.k0s(),e.j41(4,"mat-option",3),e.EFF(5,"Daily"),e.k0s(),e.j41(6,"mat-option",4),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"mat-option",5),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.DNE(12,M,2,1,"mat-option",6),e.j41(13,"mat-option",7),e.bIt("click",function(){return w.openCustomRecurrenceModal()}),e.EFF(14," Custom... "),e.k0s()()()),2&S&&(e.R7$(),e.Y8G("ngModel",w.value._pattern),e.R7$(6),e.SpI(" Weekly on ",e.i5U(8,5,w.date,"EEEE")," "),e.R7$(3),e.Lme(" ",w.instance_of_month," ",e.i5U(11,8,w.date,"EEEE")," of Month "),e.R7$(2),e.Y8G("ngIf","custom_display"===w.value._pattern))},dependencies:[I.bT,n.BC,n.vS,k.rl,y.VO,x.wT,I.vh],styles:["[value][_ngcontent-%COMP%]{min-width:3em}"]})}return K})()},2756:(Ot,ve,s)=>{"use strict";s.d(ve,{Z:()=>b});var e=s(4006),n=s(906),d=s(3953);function h(E,_){1&E&&(d.j41(0,"h2",24),d.EFF(1," Repeat on "),d.k0s())}function g(E,_){if(1&E){const u=d.RV6();d.j41(0,"div",25)(1,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(0))}),d.EFF(2," S "),d.k0s(),d.j41(3,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(1))}),d.EFF(4," M "),d.k0s(),d.j41(5,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(2))}),d.EFF(6," T "),d.k0s(),d.j41(7,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(3))}),d.EFF(8," W "),d.k0s(),d.j41(9,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(4))}),d.EFF(10," T "),d.k0s(),d.j41(11,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(5))}),d.EFF(12," F "),d.k0s(),d.j41(13,"button",26),d.bIt("click",function(){d.eBV(u);const k=d.XpG();return d.Njj(k.toggleDayOfWeek(6))}),d.EFF(14," S "),d.k0s()()}if(2&E){const u=d.XpG();d.R7$(),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(0))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(1))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(2))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(3))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(4))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(5))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(6)))}}let b=(()=>{class E{constructor(u){this._data=u,this.data={...this._data.value,end:this._data.value.end||(0,n.f)(new Date,7).valueOf(),interval:this._data.value.interval||1,pattern:this._data.value.pattern?this._data.value.pattern:"weekly",occurrences:this._data.value.occurrences||1},this.ends_key="never"}toggleDayOfWeek(u){this.data.days_of_week||(this.data.days_of_week=[]),this.data.days_of_week.includes(u)?this.data.days_of_week=this.data.days_of_week.filter(I=>I!==u):this.data.days_of_week.push(u)}static#e=this.\u0275fac=function(I){return new(I||E)(d.rXU(e.Vh))};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["recurrence-modal"]],decls:42,vars:13,consts:[["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4"],[1,"flex","items-center","space-x-2","mb-4"],["appearance","outline",1,"w-16"],["matInput","","type","number",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","month_day"],["for","repeat-on","class","mb-2",4,"ngIf"],["class","flex items-center space-x-2 mb-4","name","repeat-on",4,"ngIf"],["for","ends-at"],["name","ends-at",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["value","never",3,"click"],[1,"flex","items-center","space-x-2"],["value","on"],[3,"ngModelChange","ngModel","disabled"],["value","after"],["matInput","","type","number",3,"ngModelChange","ngModel","disabled"],["matSuffix",""],[1,"px-4","py-2","flex","items-center","justify-end","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click","mat-dialog-close"],["for","repeat-on",1,"mb-2"],["name","repeat-on",1,"flex","items-center","space-x-2","mb-4"],["btn","","matRipple","",1,"w-12",3,"click"]],template:function(I,k){1&I&&(d.j41(0,"header")(1,"h2"),d.EFF(2,"Custom Recurrence"),d.k0s(),d.j41(3,"button",0)(4,"app-icon"),d.EFF(5,"close"),d.k0s()()(),d.j41(6,"main",1)(7,"div",2)(8,"div"),d.EFF(9,"Repeat every"),d.k0s(),d.j41(10,"mat-form-field",3)(11,"input",4),d.mxI("ngModelChange",function(x){return d.DH7(k.data.interval,x)||(k.data.interval=x),x}),d.k0s()(),d.j41(12,"mat-form-field",5)(13,"mat-select",6),d.mxI("ngModelChange",function(x){return d.DH7(k.data.pattern,x)||(k.data.pattern=x),x}),d.j41(14,"mat-option",7),d.EFF(15),d.k0s(),d.j41(16,"mat-option",8),d.EFF(17),d.k0s(),d.j41(18,"mat-option",9),d.EFF(19),d.k0s()()()(),d.DNE(20,h,2,0,"h2",10)(21,g,15,14,"div",11),d.j41(22,"h2",12),d.EFF(23,"Ends"),d.k0s(),d.j41(24,"mat-radio-group",13),d.mxI("ngModelChange",function(x){return d.DH7(k.ends_key,x)||(k.ends_key=x),x}),d.j41(25,"div",14)(26,"mat-radio-button",15),d.bIt("click",function(){return k.data.occurrences=0}),d.EFF(27," Never "),d.k0s()(),d.j41(28,"div",16)(29,"mat-radio-button",17),d.EFF(30,"On"),d.k0s(),d.j41(31,"a-date-field",18),d.mxI("ngModelChange",function(x){return d.DH7(k.data.end,x)||(k.data.end=x),x}),d.k0s()(),d.j41(32,"div",16)(33,"mat-radio-button",19),d.EFF(34,"After"),d.k0s(),d.j41(35,"mat-form-field",5)(36,"input",20),d.mxI("ngModelChange",function(x){return d.DH7(k.data.occurrences,x)||(k.data.occurrences=x),x}),d.k0s(),d.j41(37,"span",21),d.EFF(38,"occurences"),d.k0s()()()()(),d.j41(39,"footer",22)(40,"button",23),d.bIt("click",function(){return k.data.occurrences="never"===k.ends_key?0:k.data.occurrences}),d.EFF(41," Save "),d.k0s()()),2&I&&(d.R7$(11),d.R50("ngModel",k.data.interval),d.R7$(2),d.R50("ngModel",k.data.pattern),d.R7$(2),d.SpI(" day",1===k.data.interval?"":"s"," "),d.R7$(2),d.SpI(" week",1===k.data.interval?"":"s"," "),d.R7$(2),d.SpI(" month",1===k.data.interval?"":"s"," "),d.R7$(),d.Y8G("ngIf","weekly"===k.data.pattern),d.R7$(),d.Y8G("ngIf","weekly"===k.data.pattern),d.R7$(3),d.R50("ngModel",k.ends_key),d.R7$(7),d.R50("ngModel",k.data.end),d.Y8G("disabled","on"!==k.ends_key),d.R7$(5),d.R50("ngModel",k.data.occurrences),d.Y8G("disabled","after"!==k.ends_key),d.R7$(4),d.Y8G("mat-dialog-close",k.data))},styles:["mat-form-field[_ngcontent-%COMP%], a-date-field[_ngcontent-%COMP%]{height:3.25rem}mat-radio-button[_ngcontent-%COMP%]{width:8rem}"]})}return E})()},2597:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>kb});var e={};s.r(e),s.d(e,{Attributor:()=>yo,AttributorStore:()=>Go,BlockBlot:()=>Zo,ClassAttributor:()=>Vo,ContainerBlot:()=>Ud,EmbedBlot:()=>fo,InlineBlot:()=>Wc,LeafBlot:()=>br,ParentBlot:()=>Gr,Registry:()=>Vr,Scope:()=>bi,ScrollBlot:()=>Mh,StyleAttributor:()=>ao,TextBlot:()=>ce});var n=s(3953),d=s(9417),h=s(1168);const _=function E(Z,R){return Z===R||Z!=Z&&R!=R},I=function u(Z,R){for(var D=Z.length;D--;)if(_(Z[D][0],R))return D;return-1};var y=Array.prototype.splice;function m(Z){var R=-1,D=null==Z?0:Z.length;for(this.clear();++R<D;){var z=Z[R];this.set(z[0],z[1])}}m.prototype.clear=function g(){this.__data__=[],this.size=0},m.prototype.delete=function x(Z){var R=this.__data__,D=I(R,Z);return!(D<0||(D==R.length-1?R.pop():y.call(R,D,1),--this.size,0))},m.prototype.get=function B(Z){var R=this.__data__,D=I(R,Z);return D<0?void 0:R[D][1]},m.prototype.has=function P(Z){return I(this.__data__,Z)>-1},m.prototype.set=function S(Z,R){var D=this.__data__,z=I(D,Z);return z<0?(++this.size,D.push([Z,R])):D[z][1]=R,this};const v=m,me="object"==typeof global&&global&&global.Object===Object&&global;var Y="object"==typeof self&&self&&self.Object===Object&&self;const N=me||Y||Function("return this")(),ae=N.Symbol;var _e=Object.prototype,xe=_e.hasOwnProperty,Fe=_e.toString,Ae=ae?ae.toStringTag:void 0;var Me=Object.prototype.toString;var Xe=ae?ae.toStringTag:void 0;const dt=function xt(Z){return null==Z?void 0===Z?"[object Undefined]":"[object Null]":Xe&&Xe in Object(Z)?function Ye(Z){var R=xe.call(Z,Ae),D=Z[Ae];try{Z[Ae]=void 0;var z=!0}catch{}var ue=Fe.call(Z);return z&&(R?Z[Ae]=D:delete Z[Ae]),ue}(Z):function pe(Z){return Me.call(Z)}(Z)},Qt=function Ct(Z){var R=typeof Z;return null!=Z&&("object"==R||"function"==R)},Ie=function q(Z){if(!Qt(Z))return!1;var R=dt(Z);return"[object Function]"==R||"[object GeneratorFunction]"==R||"[object AsyncFunction]"==R||"[object Proxy]"==R};var Z,se=N["__core-js_shared__"],Ke=(Z=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"";var Pt=Function.prototype.toString;const Et=function an(Z){if(null!=Z){try{return Pt.call(Z)}catch{}try{return Z+""}catch{}}return""};var Yt=/^\[object .+?Constructor\]$/,Ln=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const $n=function Fn(Z){return!(!Qt(Z)||function It(Z){return!!Ke&&Ke in Z}(Z))&&(Ie(Z)?Ln:Yt).test(Et(Z))},Te=function Bt(Z,R){var D=function Ht(Z,R){return Z?.[R]}(Z,R);return $n(D)?D:void 0},Tt=Te(N,"Map"),We=Te(Object,"create");var et=Object.prototype.hasOwnProperty;var Ze=Object.prototype.hasOwnProperty;function Xn(Z){var R=-1,D=null==Z?0:Z.length;for(this.clear();++R<D;){var z=Z[R];this.set(z[0],z[1])}}Xn.prototype.clear=function Pe(){this.__data__=We?We(null):{},this.size=0},Xn.prototype.delete=function De(Z){var R=this.has(Z)&&delete this.__data__[Z];return this.size-=R?1:0,R},Xn.prototype.get=function Re(Z){var R=this.__data__;if(We){var D=R[Z];return"__lodash_hash_undefined__"===D?void 0:D}return et.call(R,Z)?R[Z]:void 0},Xn.prototype.has=function qt(Z){var R=this.__data__;return We?void 0!==R[Z]:Ze.call(R,Z)},Xn.prototype.set=function xn(Z,R){var D=this.__data__;return this.size+=this.has(Z)?0:1,D[Z]=We&&void 0===R?"__lodash_hash_undefined__":R,this};const ti=Xn,mn=function $i(Z,R){var D=Z.__data__;return function ss(Z){var R=typeof Z;return"string"==R||"number"==R||"symbol"==R||"boolean"==R?"__proto__"!==Z:null===Z}(R)?D["string"==typeof R?"string":"hash"]:D.map};function At(Z){var R=-1,D=null==Z?0:Z.length;for(this.clear();++R<D;){var z=Z[R];this.set(z[0],z[1])}}At.prototype.clear=function Ii(){this.size=0,this.__data__={hash:new ti,map:new(Tt||v),string:new ti}},At.prototype.delete=function gt(Z){var R=mn(this,Z).delete(Z);return this.size-=R?1:0,R},At.prototype.get=function St(Z){return mn(this,Z).get(Z)},At.prototype.has=function st(Z){return mn(this,Z).has(Z)},At.prototype.set=function Gt(Z,R){var D=mn(this,Z),z=D.size;return D.set(Z,R),this.size+=D.size==z?0:1,this};const ne=At;function hn(Z){var R=this.__data__=new v(Z);this.size=R.size}hn.prototype.clear=function A(){this.__data__=new v,this.size=0},hn.prototype.delete=function G(Z){var R=this.__data__,D=R.delete(Z);return this.size=R.size,D},hn.prototype.get=function W(Z){return this.__data__.get(Z)},hn.prototype.has=function $(Z){return this.__data__.has(Z)},hn.prototype.set=function He(Z,R){var D=this.__data__;if(D instanceof v){var z=D.__data__;if(!Tt||z.length<199)return z.push([Z,R]),this.size=++D.size,this;D=this.__data__=new ne(z)}return D.set(Z,R),this.size=D.size,this};const Bn=hn;var ai=function(){try{var Z=Te(Object,"defineProperty");return Z({},"",{}),Z}catch{}}();const Ei=ai,Wi=function es(Z,R,D){"__proto__"==R&&Ei?Ei(Z,R,{configurable:!0,enumerable:!0,value:D,writable:!0}):Z[R]=D},Ji=function zi(Z,R,D){(void 0!==D&&!_(Z[R],D)||void 0===D&&!(R in Z))&&Wi(Z,R,D)};var Gi=function Qn(Z){return function(R,D,z){for(var ue=-1,je=Object(R),ot=z(R),wt=ot.length;wt--;){var cn=ot[Z?wt:++ue];if(!1===D(je[cn],cn,je))break}return R}}();const mo=Gi;var ho="object"==typeof exports&&exports&&!exports.nodeType&&exports,io=ho&&"object"==typeof module&&module&&!module.nodeType&&module,Ts=io&&io.exports===ho?N.Buffer:void 0,Tr=Ts?Ts.allocUnsafe:void 0;const Zs=function tr(Z,R){if(R)return Z.slice();var D=Z.length,z=Tr?Tr(D):new Z.constructor(D);return Z.copy(z),z},pr=N.Uint8Array,qr=function Dr(Z){var R=new Z.constructor(Z.byteLength);return new pr(R).set(new pr(Z)),R},ea=function Nr(Z,R){var D=R?qr(Z.buffer):Z.buffer;return new Z.constructor(D,Z.byteOffset,Z.length)},Br=function ua(Z,R){var D=-1,z=Z.length;for(R||(R=Array(z));++D<z;)R[D]=Z[D];return R};var $r=Object.create,Do=function(){function Z(){}return function(R){if(!Qt(R))return{};if($r)return $r(R);Z.prototype=R;var D=new Z;return Z.prototype=void 0,D}}();const Ta=Do,ta=function _o(Z,R){return function(D){return Z(R(D))}},Ve=ta(Object.getPrototypeOf,Object);var jt=Object.prototype;const kn=function un(Z){var R=Z&&Z.constructor;return Z===("function"==typeof R&&R.prototype||jt)},vi=function Bi(Z){return"function"!=typeof Z.constructor||kn(Z)?{}:Ta(Ve(Z))},ji=function Ki(Z){return null!=Z&&"object"==typeof Z},$s=function vs(Z){return ji(Z)&&"[object Arguments]"==dt(Z)};var go=Object.prototype,Ws=go.hasOwnProperty,qs=go.propertyIsEnumerable,ws=$s(function(){return arguments}())?$s:function(Z){return ji(Z)&&Ws.call(Z,"callee")&&!qs.call(Z,"callee")};const Po=ws,Co=Array.isArray,vo=function xo(Z){return"number"==typeof Z&&Z>-1&&Z%1==0&&Z<=9007199254740991},Da=function na(Z){return null!=Z&&vo(Z.length)&&!Ie(Z)};var jo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ur=jo&&"object"==typeof module&&module&&!module.nodeType&&module,Hs=Ur&&Ur.exports===jo?N.Buffer:void 0;const bo=(Hs?Hs.isBuffer:void 0)||function Ir(){return!1};var Uo=Function.prototype.toString,po=Object.prototype.hasOwnProperty,Ia=Uo.call(Object);var xs={};xs["[object Float32Array]"]=xs["[object Float64Array]"]=xs["[object Int8Array]"]=xs["[object Int16Array]"]=xs["[object Int32Array]"]=xs["[object Uint8Array]"]=xs["[object Uint8ClampedArray]"]=xs["[object Uint16Array]"]=xs["[object Uint32Array]"]=!0,xs["[object Arguments]"]=xs["[object Array]"]=xs["[object ArrayBuffer]"]=xs["[object Boolean]"]=xs["[object DataView]"]=xs["[object Date]"]=xs["[object Error]"]=xs["[object Function]"]=xs["[object Map]"]=xs["[object Number]"]=xs["[object Object]"]=xs["[object RegExp]"]=xs["[object Set]"]=xs["[object String]"]=xs["[object WeakMap]"]=!1;const el=function _a(Z){return function(R){return Z(R)}};var yc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Or=yc&&"object"==typeof module&&module&&!module.nodeType&&module,xr=Or&&Or.exports===yc&&me.process;const pa=function(){try{return Or&&Or.require&&Or.require("util").types||xr&&xr.binding&&xr.binding("util")}catch{}}();var Hi=pa&&pa.isTypedArray;const $a=Hi?el(Hi):function Sr(Z){return ji(Z)&&vo(Z.length)&&!!xs[dt(Z)]},sa=function mr(Z,R){if(("constructor"!==R||"function"!=typeof Z[R])&&"__proto__"!=R)return Z[R]};var gl=Object.prototype.hasOwnProperty;const ja=function tl(Z,R,D){var z=Z[R];(!gl.call(Z,R)||!_(z,D)||void 0===D&&!(R in Z))&&Wi(Z,R,D)},rc=function Kc(Z,R,D,z){var ue=!D;D||(D={});for(var je=-1,ot=R.length;++je<ot;){var wt=R[je],cn=z?z(D[wt],Z[wt],wt,D,Z):void 0;void 0===cn&&(cn=Z[wt]),ue?Wi(D,wt,cn):ja(D,wt,cn)}return D};var gr=/^(?:0|[1-9]\d*)$/;const mt=function H(Z,R){var D=typeof Z;return!!(R=R??9007199254740991)&&("number"==D||"symbol"!=D&&gr.test(Z))&&Z>-1&&Z%1==0&&Z<R};var Nt=Object.prototype.hasOwnProperty;const en=function Rt(Z,R){var D=Co(Z),z=!D&&Po(Z),ue=!D&&!z&&bo(Z),je=!D&&!z&&!ue&&$a(Z),ot=D||z||ue||je,wt=ot?function _d(Z,R){for(var D=-1,z=Array(Z);++D<Z;)z[D]=R(D);return z}(Z.length,String):[],cn=wt.length;for(var Sn in Z)(R||Nt.call(Z,Sn))&&(!ot||!("length"==Sn||ue&&("offset"==Sn||"parent"==Sn)||je&&("buffer"==Sn||"byteLength"==Sn||"byteOffset"==Sn)||mt(Sn,cn)))&&wt.push(Sn);return wt};var Zn=Object.prototype.hasOwnProperty;const li=function Si(Z){if(!Qt(Z))return function tn(Z){var R=[];if(null!=Z)for(var D in Object(Z))R.push(D);return R}(Z);var R=kn(Z),D=[];for(var z in Z)"constructor"==z&&(R||!Zn.call(Z,z))||D.push(z);return D},Ri=function ei(Z){return Da(Z)?en(Z,!0):li(Z)},Ro=function so(Z,R,D,z,ue,je,ot){var wt=sa(Z,D),cn=sa(R,D),Sn=ot.get(cn);if(Sn)Ji(Z,D,Sn);else{var Hn=je?je(wt,cn,D+"",Z,R,ot):void 0,_i=void 0===Hn;if(_i){var Ti=Co(cn),ns=!Ti&&bo(cn),ds=!Ti&&!ns&&$a(cn);Hn=cn,Ti||ns||ds?Co(wt)?Hn=wt:function ia(Z){return ji(Z)&&Da(Z)}(wt)?Hn=Br(wt):ns?(_i=!1,Hn=Zs(cn,!0)):ds?(_i=!1,Hn=ea(cn,!0)):Hn=[]:function Na(Z){if(!ji(Z)||"[object Object]"!=dt(Z))return!1;var R=Ve(Z);if(null===R)return!0;var D=po.call(R,"constructor")&&R.constructor;return"function"==typeof D&&D instanceof D&&Uo.call(D)==Ia}(cn)||Po(cn)?(Hn=wt,Po(wt)?Hn=function Ds(Z){return rc(Z,Ri(Z))}(wt):(!Qt(wt)||Ie(wt))&&(Hn=vi(cn))):_i=!1}_i&&(ot.set(cn,Hn),ue(Hn,cn,z,je,ot),ot.delete(cn)),Ji(Z,D,Hn)}},vl=function bs(Z,R,D,z,ue){Z!==R&&mo(R,function(je,ot){if(ue||(ue=new Bn),Qt(je))Ro(Z,R,ot,D,bs,z,ue);else{var wt=z?z(sa(Z,ot),je,ot+"",Z,R,ue):void 0;void 0===wt&&(wt=je),Ji(Z,ot,wt)}},Ri)},ge=function fa(Z){return Z};var ft=Math.max;const fi=function Un(Z){return function(){return Z}};var Eo=Ei?function(Z,R){return Ei(Z,"toString",{configurable:!0,enumerable:!1,value:fi(R),writable:!0})}:ge,Is=Date.now,bl=function Cs(Z){var R=0,D=0;return function(){var z=Is(),ue=16-(z-D);if(D=z,ue>0){if(++R>=800)return arguments[0]}else R=0;return Z.apply(void 0,arguments)}}(Eo);const ma=bl,Mo=function nl(Z,R){return ma(function sn(Z,R,D){return R=ft(void 0===R?Z.length-1:R,0),function(){for(var z=arguments,ue=-1,je=ft(z.length-R,0),ot=Array(je);++ue<je;)ot[ue]=z[R+ue];ue=-1;for(var wt=Array(R+1);++ue<R;)wt[ue]=z[ue];return wt[R]=D(ot),function yt(Z,R,D){switch(D.length){case 0:return Z.call(R);case 1:return Z.call(R,D[0]);case 2:return Z.call(R,D[0],D[1]);case 3:return Z.call(R,D[0],D[1],D[2])}return Z.apply(R,D)}(Z,this,wt)}}(Z,R,ge),Z+"")};var ac=function or(Z){return Mo(function(R,D){var z=-1,ue=D.length,je=ue>1?D[ue-1]:void 0,ot=ue>2?D[2]:void 0;for(je=Z.length>3&&"function"==typeof je?(ue--,je):void 0,ot&&function Ua(Z,R,D){if(!Qt(D))return!1;var z=typeof R;return!!("number"==z?Da(D)&&mt(R,D.length):"string"==z&&R in D)&&_(D[R],Z)}(D[0],D[1],ot)&&(je=ue<3?void 0:je,ue=1),R=Object(R);++z<ue;){var wt=D[z];wt&&Z(R,wt,z,je)}return R})}(function(Z,R,D){vl(Z,R,D)});const $l=ac;var bi=(Z=>(Z[Z.TYPE=3]="TYPE",Z[Z.LEVEL=12]="LEVEL",Z[Z.ATTRIBUTE=13]="ATTRIBUTE",Z[Z.BLOT=14]="BLOT",Z[Z.INLINE=7]="INLINE",Z[Z.BLOCK=11]="BLOCK",Z[Z.BLOCK_BLOT=10]="BLOCK_BLOT",Z[Z.INLINE_BLOT=6]="INLINE_BLOT",Z[Z.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Z[Z.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Z[Z.ANY=15]="ANY",Z))(bi||{});class yo{constructor(R,D,z={}){this.attrName=R,this.keyName=D,this.scope=null!=z.scope?z.scope&bi.LEVEL|bi.TYPE&bi.ATTRIBUTE:bi.ATTRIBUTE,null!=z.whitelist&&(this.whitelist=z.whitelist)}static keys(R){return Array.from(R.attributes).map(D=>D.name)}add(R,D){return!!this.canAdd(R,D)&&(R.setAttribute(this.keyName,D),!0)}canAdd(R,D){return null==this.whitelist||("string"==typeof D?this.whitelist.indexOf(D.replace(/["']/g,""))>-1:this.whitelist.indexOf(D)>-1)}remove(R){R.removeAttribute(this.keyName)}value(R){const D=R.getAttribute(this.keyName);return this.canAdd(R,D)&&D?D:""}}class vr extends Error{constructor(R){super(R="[Parchment] "+R),this.message=R,this.name=this.constructor.name}}let Vr=(()=>{let Z=class WD{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(D,z=!1){if(null==D)return null;if(this.blots.has(D))return this.blots.get(D)||null;if(z){let ue=null;try{ue=D.parentNode}catch{return null}return this.find(ue,z)}return null}create(D,z,ue){const je=this.query(z);if(null==je)throw new vr(`Unable to create ${z} blot`);const ot=je,wt=z instanceof Node||z.nodeType===Node.TEXT_NODE?z:ot.create(ue),cn=new ot(D,wt,ue);return WD.blots.set(cn.domNode,cn),cn}find(D,z=!1){return WD.find(D,z)}query(D,z=bi.ANY){let ue;return"string"==typeof D?ue=this.types[D]||this.attributes[D]:D instanceof Text||D.nodeType===Node.TEXT_NODE?ue=this.types.text:"number"==typeof D?D&bi.LEVEL&bi.BLOCK?ue=this.types.block:D&bi.LEVEL&bi.INLINE&&(ue=this.types.inline):D instanceof Element&&((D.getAttribute("class")||"").split(/\s+/).some(je=>(ue=this.classes[je],!!ue)),ue=ue||this.tags[D.tagName]),null==ue?null:"scope"in ue&&z&bi.LEVEL&ue.scope&&z&bi.TYPE&ue.scope?ue:null}register(...D){return D.map(z=>{const ue="blotName"in z,je="attrName"in z;if(!ue&&!je)throw new vr("Invalid definition");if(ue&&"abstract"===z.blotName)throw new vr("Cannot register abstract class");return this.types[ue?z.blotName:je?z.attrName:void 0]=z,je?"string"==typeof z.keyName&&(this.attributes[z.keyName]=z):ue&&(z.className&&(this.classes[z.className]=z),z.tagName&&(z.tagName=Array.isArray(z.tagName)?z.tagName.map(wt=>wt.toUpperCase()):z.tagName.toUpperCase(),(Array.isArray(z.tagName)?z.tagName:[z.tagName]).forEach(wt=>{(null==this.tags[wt]||null==z.className)&&(this.tags[wt]=z)}))),z})}};return Z.blots=new WeakMap,Z})();function Du(Z,R){return(Z.getAttribute("class")||"").split(/\s+/).filter(D=>0===D.indexOf(`${R}-`))}const Vo=class Eh extends yo{static keys(R){return(R.getAttribute("class")||"").split(/\s+/).map(D=>D.split("-").slice(0,-1).join("-"))}add(R,D){return!!this.canAdd(R,D)&&(this.remove(R),R.classList.add(`${this.keyName}-${D}`),!0)}remove(R){Du(R,this.keyName).forEach(D=>{R.classList.remove(D)}),0===R.classList.length&&R.removeAttribute("class")}value(R){const D=(Du(R,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(R,D)?D:""}};function Iu(Z){const R=Z.split("-"),D=R.slice(1).map(z=>z[0].toUpperCase()+z.slice(1)).join("");return R[0]+D}const ao=class Va extends yo{static keys(R){return(R.getAttribute("style")||"").split(";").map(D=>D.split(":")[0].trim())}add(R,D){return!!this.canAdd(R,D)&&(R.style[Iu(this.keyName)]=D,!0)}remove(R){R.style[Iu(this.keyName)]="",R.getAttribute("style")||R.removeAttribute("style")}value(R){const D=R.style[Iu(this.keyName)];return this.canAdd(R,D)?D:""}},Go=class Cc{constructor(R){this.attributes={},this.domNode=R,this.build()}attribute(R,D){D?R.add(this.domNode,D)&&(null!=R.value(this.domNode)?this.attributes[R.attrName]=R:delete this.attributes[R.attrName]):(R.remove(this.domNode),delete this.attributes[R.attrName])}build(){this.attributes={};const R=Vr.find(this.domNode);if(null==R)return;const D=yo.keys(this.domNode),z=Vo.keys(this.domNode),ue=ao.keys(this.domNode);D.concat(z).concat(ue).forEach(je=>{const ot=R.scroll.query(je,bi.ATTRIBUTE);ot instanceof yo&&(this.attributes[ot.attrName]=ot)})}copy(R){Object.keys(this.attributes).forEach(D=>{const z=this.attributes[D].value(this.domNode);R.format(D,z)})}move(R){this.copy(R),Object.keys(this.attributes).forEach(D=>{this.attributes[D].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((R,D)=>(R[D]=this.attributes[D].value(this.domNode),R),{})}},Mc=class{constructor(R,D){this.scroll=R,this.domNode=D,Vr.blots.set(D,this),this.prev=null,this.next=null}static create(R){if(null==this.tagName)throw new vr("Blot definition missing tagName");let D,z;return Array.isArray(this.tagName)?("string"==typeof R?(z=R.toUpperCase(),parseInt(z,10).toString()===z&&(z=parseInt(z,10))):"number"==typeof R&&(z=R),D="number"==typeof z?document.createElement(this.tagName[z-1]):z&&this.tagName.indexOf(z)>-1?document.createElement(z):document.createElement(this.tagName[0])):D=document.createElement(this.tagName),this.className&&D.classList.add(this.className),D}get statics(){return this.constructor}attach(){}clone(){const R=this.domNode.cloneNode(!1);return this.scroll.create(R)}detach(){null!=this.parent&&this.parent.removeChild(this),Vr.blots.delete(this.domNode)}deleteAt(R,D){this.isolate(R,D).remove()}formatAt(R,D,z,ue){const je=this.isolate(R,D);if(null!=this.scroll.query(z,bi.BLOT)&&ue)je.wrap(z,ue);else if(null!=this.scroll.query(z,bi.ATTRIBUTE)){const ot=this.scroll.create(this.statics.scope);je.wrap(ot),ot.format(z,ue)}}insertAt(R,D,z){const ue=null==z?this.scroll.create("text",D):this.scroll.create(D,z),je=this.split(R);this.parent.insertBefore(ue,je||void 0)}isolate(R,D){const z=this.split(R);if(null==z)throw new Error("Attempt to isolate at end");return z.split(D),z}length(){return 1}offset(R=this.parent){return null==this.parent||this===R?0:this.parent.children.offset(this)+this.parent.offset(R)}optimize(R){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(R,D){const z="string"==typeof R?this.scroll.create(R,D):R;return null!=this.parent&&(this.parent.insertBefore(z,this.next||void 0),this.remove()),z}split(R,D){return 0===R?this:this.next}update(R,D){}wrap(R,D){const z="string"==typeof R?this.scroll.create(R,D):R;if(null!=this.parent&&this.parent.insertBefore(z,this.next||void 0),"function"!=typeof z.appendChild)throw new vr(`Cannot wrap ${R}`);return z.appendChild(this),z}};Mc.blotName="abstract";let Ps=Mc;const Bs=class extends Ps{static value(R){return!0}index(R,D){return this.domNode===R||this.domNode.compareDocumentPosition(R)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(D,1):-1}position(R,D){let z=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return R>0&&(z+=1),[this.parent.domNode,z]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Bs.scope=bi.INLINE_BLOT;const br=Bs;class lc{constructor(){this.head=null,this.tail=null,this.length=0}append(...R){if(this.insertBefore(R[0],null),R.length>1){const D=R.slice(1);this.append(...D)}}at(R){const D=this.iterator();let z=D();for(;z&&R>0;)R-=1,z=D();return z}contains(R){const D=this.iterator();let z=D();for(;z;){if(z===R)return!0;z=D()}return!1}indexOf(R){const D=this.iterator();let z=D(),ue=0;for(;z;){if(z===R)return ue;ue+=1,z=D()}return-1}insertBefore(R,D){null!=R&&(this.remove(R),R.next=D,null!=D?(R.prev=D.prev,null!=D.prev&&(D.prev.next=R),D.prev=R,D===this.head&&(this.head=R)):null!=this.tail?(this.tail.next=R,R.prev=this.tail,this.tail=R):(R.prev=null,this.head=this.tail=R),this.length+=1)}offset(R){let D=0,z=this.head;for(;null!=z;){if(z===R)return D;D+=z.length(),z=z.next}return-1}remove(R){this.contains(R)&&(null!=R.prev&&(R.prev.next=R.next),null!=R.next&&(R.next.prev=R.prev),R===this.head&&(this.head=R.next),R===this.tail&&(this.tail=R.prev),this.length-=1)}iterator(R=this.head){return()=>{const D=R;return null!=R&&(R=R.next),D}}find(R,D=!1){const z=this.iterator();let ue=z();for(;ue;){const je=ue.length();if(R<je||D&&R===je&&(null==ue.next||0!==ue.next.length()))return[ue,R];R-=je,ue=z()}return[null,0]}forEach(R){const D=this.iterator();let z=D();for(;z;)R(z),z=D()}forEachAt(R,D,z){if(D<=0)return;const[ue,je]=this.find(R);let ot=R-je;const wt=this.iterator(ue);let cn=wt();for(;cn&&ot<R+D;){const Sn=cn.length();R>ot?z(cn,R-ot,Math.min(D,ot+Sn-R)):z(cn,0,Math.min(Sn,R+D-ot)),ot+=Sn,cn=wt()}}map(R){return this.reduce((D,z)=>(D.push(R(z)),D),[])}reduce(R,D){const z=this.iterator();let ue=z();for(;ue;)D=R(D,ue),ue=z();return D}}function pd(Z,R){const D=R.find(Z);if(D)return D;try{return R.create(Z)}catch{const z=R.create(bi.INLINE);return Array.from(Z.childNodes).forEach(ue=>{z.domNode.appendChild(ue)}),Z.parentNode&&Z.parentNode.replaceChild(z.domNode,Z),z.attach(),z}}const Gr=(()=>{let Z=class Qp extends Ps{constructor(D,z){super(D,z),this.uiNode=null,this.build()}appendChild(D){this.insertBefore(D)}attach(){super.attach(),this.children.forEach(D=>{D.attach()})}attachUI(D){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=D,Qp.uiClass&&this.uiNode.classList.add(Qp.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new lc,Array.from(this.domNode.childNodes).filter(D=>D!==this.uiNode).reverse().forEach(D=>{try{const z=pd(D,this.scroll);this.insertBefore(z,this.children.head||void 0)}catch(z){if(z instanceof vr)return;throw z}})}deleteAt(D,z){if(0===D&&z===this.length())return this.remove();this.children.forEachAt(D,z,(ue,je,ot)=>{ue.deleteAt(je,ot)})}descendant(D,z=0){const[ue,je]=this.children.find(z);return null==D.blotName&&D(ue)||null!=D.blotName&&ue instanceof D?[ue,je]:ue instanceof Qp?ue.descendant(D,je):[null,-1]}descendants(D,z=0,ue=Number.MAX_VALUE){let je=[],ot=ue;return this.children.forEachAt(z,ue,(wt,cn,Sn)=>{(null==D.blotName&&D(wt)||null!=D.blotName&&wt instanceof D)&&je.push(wt),wt instanceof Qp&&(je=je.concat(wt.descendants(D,cn,ot))),ot-=Sn}),je}detach(){this.children.forEach(D=>{D.detach()}),super.detach()}enforceAllowedChildren(){let D=!1;this.children.forEach(z=>{D||this.statics.allowedChildren.some(ue=>z instanceof ue)||(z.statics.scope===bi.BLOCK_BLOT?(null!=z.next&&this.splitAfter(z),null!=z.prev&&this.splitAfter(z.prev),z.parent.unwrap(),D=!0):z instanceof Qp?z.unwrap():z.remove())})}formatAt(D,z,ue,je){this.children.forEachAt(D,z,(ot,wt,cn)=>{ot.formatAt(wt,cn,ue,je)})}insertAt(D,z,ue){const[je,ot]=this.children.find(D);if(je)je.insertAt(ot,z,ue);else{const wt=null==ue?this.scroll.create("text",z):this.scroll.create(z,ue);this.appendChild(wt)}}insertBefore(D,z){null!=D.parent&&D.parent.children.remove(D);let ue=null;this.children.insertBefore(D,z||null),D.parent=this,null!=z&&(ue=z.domNode),(this.domNode.parentNode!==D.domNode||this.domNode.nextSibling!==ue)&&this.domNode.insertBefore(D.domNode,ue),D.attach()}length(){return this.children.reduce((D,z)=>D+z.length(),0)}moveChildren(D,z){this.children.forEach(ue=>{D.insertBefore(ue,z)})}optimize(D){if(super.optimize(D),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const z=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(z)}else this.remove()}path(D,z=!1){const[ue,je]=this.children.find(D,z),ot=[[this,D]];return ue instanceof Qp?ot.concat(ue.path(je,z)):(null!=ue&&ot.push([ue,je]),ot)}removeChild(D){this.children.remove(D)}replaceWith(D,z){const ue="string"==typeof D?this.scroll.create(D,z):D;return ue instanceof Qp&&this.moveChildren(ue),super.replaceWith(ue)}split(D,z=!1){if(!z){if(0===D)return this;if(D===this.length())return this.next}const ue=this.clone();return this.parent&&this.parent.insertBefore(ue,this.next||void 0),this.children.forEachAt(D,this.length(),(je,ot,wt)=>{const cn=je.split(ot,z);null!=cn&&ue.appendChild(cn)}),ue}splitAfter(D){const z=this.clone();for(;null!=D.next;)z.appendChild(D.next);return this.parent&&this.parent.insertBefore(z,this.next||void 0),z}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(D,z){const ue=[],je=[];D.forEach(ot=>{ot.target===this.domNode&&"childList"===ot.type&&(ue.push(...ot.addedNodes),je.push(...ot.removedNodes))}),je.forEach(ot=>{if(null!=ot.parentNode&&"IFRAME"!==ot.tagName&&document.body.compareDocumentPosition(ot)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const wt=this.scroll.find(ot);null!=wt&&(null==wt.domNode.parentNode||wt.domNode.parentNode===this.domNode)&&wt.detach()}),ue.filter(ot=>ot.parentNode===this.domNode&&ot!==this.uiNode).sort((ot,wt)=>ot===wt?0:ot.compareDocumentPosition(wt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(ot=>{let wt=null;null!=ot.nextSibling&&(wt=this.scroll.find(ot.nextSibling));const cn=pd(ot,this.scroll);(cn.next!==wt||null==cn.next)&&(null!=cn.parent&&cn.parent.removeChild(this),this.insertBefore(cn,wt||void 0))}),this.enforceAllowedChildren()}};return Z.uiClass="",Z})(),jl=class Xv extends Gr{static create(R){return super.create(R)}static formats(R,D){const z=D.query(Xv.blotName);if(null==z||R.tagName!==z.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return R.tagName.toLowerCase()}}constructor(R,D){super(R,D),this.attributes=new Go(this.domNode)}format(R,D){if(R!==this.statics.blotName||D){const z=this.scroll.query(R,bi.INLINE);if(null==z)return;z instanceof yo?this.attributes.attribute(z,D):D&&(R!==this.statics.blotName||this.formats()[R]!==D)&&this.replaceWith(R,D)}else this.children.forEach(z=>{z instanceof Xv||(z=z.wrap(Xv.blotName,!0)),this.attributes.copy(z)}),this.unwrap()}formats(){const R=this.attributes.values(),D=this.statics.formats(this.domNode,this.scroll);return null!=D&&(R[this.statics.blotName]=D),R}formatAt(R,D,z,ue){null!=this.formats()[z]||this.scroll.query(z,bi.ATTRIBUTE)?this.isolate(R,D).format(z,ue):super.formatAt(R,D,z,ue)}optimize(R){super.optimize(R);const D=this.formats();if(0===Object.keys(D).length)return this.unwrap();const z=this.next;z instanceof Xv&&z.prev===this&&function yh(Z,R){if(Object.keys(Z).length!==Object.keys(R).length)return!1;for(const D in Z)if(Z[D]!==R[D])return!1;return!0}(D,z.formats())&&(z.moveChildren(this),z.remove())}replaceWith(R,D){const z=super.replaceWith(R,D);return this.attributes.copy(z),z}update(R,D){super.update(R,D),R.some(z=>z.target===this.domNode&&"attributes"===z.type)&&this.attributes.build()}wrap(R,D){const z=super.wrap(R,D);return z instanceof Xv&&this.attributes.move(z),z}};jl.allowedChildren=[jl,br],jl.blotName="inline",jl.scope=bi.INLINE_BLOT,jl.tagName="SPAN";const Wc=jl,ga=class zD extends Gr{static create(R){return super.create(R)}static formats(R,D){const z=D.query(zD.blotName);if(null==z||R.tagName!==z.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return R.tagName.toLowerCase()}}constructor(R,D){super(R,D),this.attributes=new Go(this.domNode)}format(R,D){const z=this.scroll.query(R,bi.BLOCK);null!=z&&(z instanceof yo?this.attributes.attribute(z,D):R!==this.statics.blotName||D?D&&(R!==this.statics.blotName||this.formats()[R]!==D)&&this.replaceWith(R,D):this.replaceWith(zD.blotName))}formats(){const R=this.attributes.values(),D=this.statics.formats(this.domNode,this.scroll);return null!=D&&(R[this.statics.blotName]=D),R}formatAt(R,D,z,ue){null!=this.scroll.query(z,bi.BLOCK)?this.format(z,ue):super.formatAt(R,D,z,ue)}insertAt(R,D,z){if(null==z||null!=this.scroll.query(D,bi.INLINE))super.insertAt(R,D,z);else{const ue=this.split(R);if(null==ue)throw new Error("Attempt to insertAt after block boundaries");{const je=this.scroll.create(D,z);ue.parent.insertBefore(je,ue)}}}replaceWith(R,D){const z=super.replaceWith(R,D);return this.attributes.copy(z),z}update(R,D){super.update(R,D),R.some(z=>z.target===this.domNode&&"attributes"===z.type)&&this.attributes.build()}};ga.blotName="block",ga.scope=bi.BLOCK_BLOT,ga.tagName="P",ga.allowedChildren=[Wc,ga,br];const Zo=ga,zc=class extends Gr{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(R,D){super.deleteAt(R,D),this.enforceAllowedChildren()}formatAt(R,D,z,ue){super.formatAt(R,D,z,ue),this.enforceAllowedChildren()}insertAt(R,D,z){super.insertAt(R,D,z),this.enforceAllowedChildren()}optimize(R){super.optimize(R),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};zc.blotName="container",zc.scope=bi.BLOCK_BLOT;const Ud=zc,fo=class sl extends br{static formats(R,D){}format(R,D){super.formatAt(0,this.length(),R,D)}formatAt(R,D,z,ue){0===R&&D===this.length()?this.format(z,ue):super.formatAt(R,D,z,ue)}formats(){return this.statics.formats(this.domNode,this.scroll)}},I_={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ul=class extends Gr{constructor(R,D){super(null,D),this.registry=R,this.scroll=this,this.build(),this.observer=new MutationObserver(z=>{this.update(z)}),this.observer.observe(this.domNode,I_),this.attach()}create(R,D){return this.registry.create(this,R,D)}find(R,D=!1){const z=this.registry.find(R,D);return z?z.scroll===this?z:D?this.find(z.scroll.domNode.parentNode,!0):null:null}query(R,D=bi.ANY){return this.registry.query(R,D)}register(...R){return this.registry.register(...R)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(R,D){this.update(),0===R&&D===this.length()?this.children.forEach(z=>{z.remove()}):super.deleteAt(R,D)}formatAt(R,D,z,ue){this.update(),super.formatAt(R,D,z,ue)}insertAt(R,D,z){this.update(),super.insertAt(R,D,z)}optimize(R=[],D={}){super.optimize(D);const z=D.mutationsMap||new WeakMap;let ue=Array.from(this.observer.takeRecords());for(;ue.length>0;)R.push(ue.pop());const je=(cn,Sn=!0)=>{null==cn||cn===this||null!=cn.domNode.parentNode&&(z.has(cn.domNode)||z.set(cn.domNode,[]),Sn&&je(cn.parent))},ot=cn=>{z.has(cn.domNode)&&(cn instanceof Gr&&cn.children.forEach(ot),z.delete(cn.domNode),cn.optimize(D))};let wt=R;for(let cn=0;wt.length>0;cn+=1){if(cn>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(wt.forEach(Sn=>{const Hn=this.find(Sn.target,!0);null!=Hn&&(Hn.domNode===Sn.target&&("childList"===Sn.type?(je(this.find(Sn.previousSibling,!1)),Array.from(Sn.addedNodes).forEach(_i=>{const Ti=this.find(_i,!1);je(Ti,!1),Ti instanceof Gr&&Ti.children.forEach(ns=>{je(ns,!1)})})):"attributes"===Sn.type&&je(Hn.prev)),je(Hn))}),this.children.forEach(ot),wt=Array.from(this.observer.takeRecords()),ue=wt.slice();ue.length>0;)R.push(ue.pop())}}update(R,D={}){R=R||this.observer.takeRecords();const z=new WeakMap;R.map(ue=>{const je=this.find(ue.target,!0);return null==je?null:z.has(je.domNode)?(z.get(je.domNode).push(ue),null):(z.set(je.domNode,[ue]),je)}).forEach(ue=>{null!=ue&&ue!==this&&z.has(ue.domNode)&&ue.update(z.get(ue.domNode)||[],D)}),D.mutationsMap=z,z.has(this.domNode)&&super.update(z.get(this.domNode),D),this.optimize(R,D)}};Ul.blotName="scroll",Ul.defaultChild=Zo,Ul.allowedChildren=[Zo,Ud],Ul.scope=bi.BLOCK_BLOT,Ul.tagName="DIV";const Mh=Ul,El=class ux extends br{static create(R){return document.createTextNode(R)}static value(R){return R.data}constructor(R,D){super(R,D),this.text=this.statics.value(this.domNode)}deleteAt(R,D){this.domNode.data=this.text=this.text.slice(0,R)+this.text.slice(R+D)}index(R,D){return this.domNode===R?D:-1}insertAt(R,D,z){null==z?(this.text=this.text.slice(0,R)+D+this.text.slice(R),this.domNode.data=this.text):super.insertAt(R,D,z)}length(){return this.text.length}optimize(R){super.optimize(R),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof ux&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(R,D=!1){return[this.domNode,R]}split(R,D=!1){if(!D){if(0===R)return this;if(R===this.length())return this.next}const z=this.scroll.create(this.domNode.splitText(R));return this.parent.insertBefore(z,this.next||void 0),this.text=this.statics.value(this.domNode),z}update(R,D){R.some(z=>"characterData"===z.type&&z.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};El.blotName="text",El.scope=bi.INLINE_BLOT;const ce=El;var ye=s(2577);const Lt=ta(Object.keys,Object);var wn=Object.prototype.hasOwnProperty;const Ci=function Kn(Z){return Da(Z)?en(Z):function Tn(Z){if(!kn(Z))return Lt(Z);var R=[];for(var D in Object(Z))wn.call(Z,D)&&"constructor"!=D&&R.push(D);return R}(Z)},Xc=function yl(){return[]};var Jp=Object.prototype.propertyIsEnumerable,Th=Object.getOwnPropertySymbols,Zp=Th?function(Z){return null==Z?[]:(Z=Object(Z),function Ka(Z,R){for(var D=-1,z=null==Z?0:Z.length,ue=0,je=[];++D<z;){var ot=Z[D];R(ot,D,Z)&&(je[ue++]=ot)}return je}(Th(Z),function(R){return Jp.call(Z,R)}))}:Xc;const Tc=Zp,ol=function ef(Z,R){for(var D=-1,z=R.length,ue=Z.length;++D<z;)Z[ue+D]=R[D];return Z};var Hc=Object.getOwnPropertySymbols?function(Z){for(var R=[];Z;)ol(R,Tc(Z)),Z=Ve(Z);return R}:Xc;const Yc=Hc,Om=function Dh(Z,R,D){var z=R(Z);return Co(Z)?z:ol(z,D(Z))},xa=function Kl(Z){return Om(Z,Ci,Tc)},Wr=function va(Z){return Om(Z,Ri,Yc)},Wl=Te(N,"DataView"),Gd=Te(N,"Promise"),O_=Te(N,"Set"),Ih=Te(N,"WeakMap");var Sh="[object Map]",gd="[object Promise]",oa="[object Set]",Sc="[object WeakMap]",Jc="[object DataView]",ar=Et(Wl),lr=Et(Tt),xu=Et(Gd),Oh=Et(O_),Kd=Et(Ih),Oc=dt;(Wl&&Oc(new Wl(new ArrayBuffer(1)))!=Jc||Tt&&Oc(new Tt)!=Sh||Gd&&Oc(Gd.resolve())!=gd||O_&&Oc(new O_)!=oa||Ih&&Oc(new Ih)!=Sc)&&(Oc=function(Z){var R=dt(Z),D="[object Object]"==R?Z.constructor:void 0,z=D?Et(D):"";if(z)switch(z){case ar:return Jc;case lr:return Sh;case xu:return gd;case Oh:return oa;case Kd:return Sc}return R});const xh=Oc;var tf=Object.prototype.hasOwnProperty;var Ao=/\w*$/;var cr=ae?ae.prototype:void 0,rl=cr?cr.valueOf:void 0;const Wa=function Ho(Z,R,D){var z=Z.constructor;switch(R){case"[object ArrayBuffer]":return qr(Z);case"[object Boolean]":case"[object Date]":return new z(+Z);case"[object DataView]":return function Zc(Z,R){var D=R?qr(Z.buffer):Z.buffer;return new Z.constructor(D,Z.byteOffset,Z.byteLength)}(Z,D);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ea(Z,D);case"[object Map]":case"[object Set]":return new z;case"[object Number]":case"[object String]":return new z(Z);case"[object RegExp]":return function oi(Z){var R=new Z.constructor(Z.source,Ao.exec(Z));return R.lastIndex=Z.lastIndex,R}(Z);case"[object Symbol]":return function Ss(Z){return rl?Object(rl.call(Z)):{}}(Z)}};var Ml=pa&&pa.isMap;const Xr=Ml?el(Ml):function Cd(Z){return ji(Z)&&"[object Map]"==xh(Z)};var qo=pa&&pa.isSet;const Xd=qo?el(qo):function zl(Z){return ji(Z)&&"[object Set]"==xh(Z)};var Pu="[object Arguments]",Td="[object Function]",R_="[object Object]",So={};So[Pu]=So["[object Array]"]=So["[object ArrayBuffer]"]=So["[object DataView]"]=So["[object Boolean]"]=So["[object Date]"]=So["[object Float32Array]"]=So["[object Float64Array]"]=So["[object Int8Array]"]=So["[object Int16Array]"]=So["[object Int32Array]"]=So["[object Map]"]=So["[object Number]"]=So[R_]=So["[object RegExp]"]=So["[object Set]"]=So["[object String]"]=So["[object Symbol]"]=So["[object Uint8Array]"]=So["[object Uint8ClampedArray]"]=So["[object Uint16Array]"]=So["[object Uint32Array]"]=!0,So["[object Error]"]=So[Td]=So["[object WeakMap]"]=!1;const Pm=function $u(Z,R,D,z,ue,je){var ot,wt=1&R,cn=2&R,Sn=4&R;if(D&&(ot=ue?D(Z,z,ue,je):D(Z)),void 0!==ot)return ot;if(!Qt(Z))return Z;var Hn=Co(Z);if(Hn){if(ot=function xm(Z){var R=Z.length,D=new Z.constructor(R);return R&&"string"==typeof Z[0]&&tf.call(Z,"index")&&(D.index=Z.index,D.input=Z.input),D}(Z),!wt)return Br(Z,ot)}else{var _i=xh(Z),Ti=_i==Td||"[object GeneratorFunction]"==_i;if(bo(Z))return Zs(Z,wt);if(_i==R_||_i==Pu||Ti&&!ue){if(ot=cn||Ti?{}:vi(Z),!wt)return cn?function Sm(Z,R){return rc(Z,Yc(Z),R)}(Z,function lo(Z,R){return Z&&rc(R,Ri(R),Z)}(ot,Z)):function qp(Z,R){return rc(Z,Tc(Z),R)}(Z,function Ms(Z,R){return Z&&rc(R,Ci(R),Z)}(ot,Z))}else{if(!So[_i])return ue?Z:{};ot=Wa(Z,_i,wt)}}je||(je=new Bn);var ns=je.get(Z);if(ns)return ns;je.set(Z,ot),Xd(Z)?Z.forEach(function(co){ot.add($u(co,R,D,co,Z,je))}):Xr(Z)&&Z.forEach(function(co,qi){ot.set(qi,$u(co,R,D,qi,Z,je))});var Ls=Hn?void 0:(Sn?cn?Wr:xa:cn?Ri:Ci)(Z);return function de(Z,R){for(var D=-1,z=null==Z?0:Z.length;++D<z&&!1!==R(Z[D],D,Z););}(Ls||Z,function(co,qi){Ls&&(co=Z[qi=co]),ja(ot,qi,$u(co,R,D,qi,Z,je))}),ot},wc=function al(Z){return Pm(Z,5)};function Dd(Z){var R=-1,D=null==Z?0:Z.length;for(this.__data__=new ne;++R<D;)this.add(Z[R])}Dd.prototype.add=Dd.prototype.push=function Qs(Z){return this.__data__.set(Z,"__lodash_hash_undefined__"),this},Dd.prototype.has=function Jd(Z){return this.__data__.has(Z)};const ju=Dd,za=function kc(Z,R){for(var D=-1,z=null==Z?0:Z.length;++D<z;)if(R(Z[D],D,Z))return!0;return!1},Nh=function lf(Z,R){return Z.has(R)},Bh=function k_(Z,R,D,z,ue,je){var ot=1&D,wt=Z.length,cn=R.length;if(wt!=cn&&!(ot&&cn>wt))return!1;var Sn=je.get(Z),Hn=je.get(R);if(Sn&&Hn)return Sn==R&&Hn==Z;var _i=-1,Ti=!0,ns=2&D?new ju:void 0;for(je.set(Z,R),je.set(R,Z);++_i<wt;){var ds=Z[_i],Ls=R[_i];if(z)var co=ot?z(Ls,ds,_i,R,Z,je):z(ds,Ls,_i,Z,R,je);if(void 0!==co){if(co)continue;Ti=!1;break}if(ns){if(!za(R,function(qi,Wo){if(!Nh(ns,Wo)&&(ds===qi||ue(ds,qi,D,z,je)))return ns.push(Wo)})){Ti=!1;break}}else if(ds!==Ls&&!ue(ds,Ls,D,z,je)){Ti=!1;break}}return je.delete(Z),je.delete(R),Ti},Id=function P_(Z){var R=-1,D=Array(Z.size);return Z.forEach(function(z,ue){D[++R]=[ue,z]}),D},Uu=function $h(Z){var R=-1,D=Array(Z.size);return Z.forEach(function(z){D[++R]=z}),D};var eo=ae?ae.prototype:void 0,yr=eo?eo.valueOf:void 0;var ks=Object.prototype.hasOwnProperty;var cf="[object Arguments]",Zd="[object Array]",ll="[object Object]",F_=Object.prototype.hasOwnProperty;const yb=function df(Z,R,D,z,ue,je){var ot=Co(Z),wt=Co(R),cn=ot?Zd:xh(Z),Sn=wt?Zd:xh(R),Hn=(cn=cn==cf?ll:cn)==ll,_i=(Sn=Sn==cf?ll:Sn)==ll,Ti=cn==Sn;if(Ti&&bo(Z)){if(!bo(R))return!1;ot=!0,Hn=!1}if(Ti&&!Hn)return je||(je=new Bn),ot||$a(Z)?Bh(Z,R,D,z,ue,je):function wa(Z,R,D,z,ue,je,ot){switch(D){case"[object DataView]":if(Z.byteLength!=R.byteLength||Z.byteOffset!=R.byteOffset)return!1;Z=Z.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(Z.byteLength!=R.byteLength||!je(new pr(Z),new pr(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+Z,+R);case"[object Error]":return Z.name==R.name&&Z.message==R.message;case"[object RegExp]":case"[object String]":return Z==R+"";case"[object Map]":var wt=Id;case"[object Set]":if(wt||(wt=Uu),Z.size!=R.size&&!(1&z))return!1;var Sn=ot.get(Z);if(Sn)return Sn==R;z|=2,ot.set(Z,R);var Hn=Bh(wt(Z),wt(R),z,ue,je,ot);return ot.delete(Z),Hn;case"[object Symbol]":if(yr)return yr.call(Z)==yr.call(R)}return!1}(Z,R,cn,D,z,ue,je);if(!(1&D)){var ns=Hn&&F_.call(Z,"__wrapped__"),ds=_i&&F_.call(R,"__wrapped__");if(ns||ds){var Ls=ns?Z.value():Z,co=ds?R.value():R;return je||(je=new Bn),ue(Ls,co,D,z,je)}}return!!Ti&&(je||(je=new Bn),function Lm(Z,R,D,z,ue,je){var ot=1&D,wt=xa(Z),cn=wt.length;if(cn!=xa(R).length&&!ot)return!1;for(var _i=cn;_i--;){var Ti=wt[_i];if(!(ot?Ti in R:ks.call(R,Ti)))return!1}var ns=je.get(Z),ds=je.get(R);if(ns&&ds)return ns==R&&ds==Z;var Ls=!0;je.set(Z,R),je.set(R,Z);for(var co=ot;++_i<cn;){var qi=Z[Ti=wt[_i]],Wo=R[Ti];if(z)var Gf=ot?z(Wo,qi,Ti,R,Z,je):z(qi,Wo,Ti,Z,R,je);if(!(void 0===Gf?qi===Wo||ue(qi,Wo,D,z,je):Gf)){Ls=!1;break}co||(co="constructor"==Ti)}if(Ls&&!co){var vp=Z.constructor,bp=R.constructor;vp!=bp&&"constructor"in Z&&"constructor"in R&&!("function"==typeof vp&&vp instanceof vp&&"function"==typeof bp&&bp instanceof bp)&&(Ls=!1)}return je.delete(Z),je.delete(R),Ls}(Z,R,D,z,ue,je))},Nm=function Yv(Z,R,D,z,ue){return Z===R||(null==Z||null==R||!ji(Z)&&!ji(R)?Z!=Z&&R!=R:yb(Z,R,D,z,Yv,ue))},qd=function Bm(Z,R){return Nm(Z,R)},ka=(()=>{class Z extends fo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return Z.blotName="break",Z.tagName="BR",Z})();class uc extends ce{}function Pa(Z){return Z.replace(/[&<>"']/g,R=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[R]))}const Sd=(()=>{class Z extends Wc{static allowedChildren=[Z,ka,fo,uc];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(D,z){const ue=Z.order.indexOf(D),je=Z.order.indexOf(z);return ue>=0||je>=0?ue-je:D===z?0:D<z?-1:1}formatAt(D,z,ue,je){if(Z.compare(this.statics.blotName,ue)<0&&this.scroll.query(ue,bi.BLOT)){const ot=this.isolate(D,z);je&&ot.wrap(ue,je)}else super.formatAt(D,z,ue,je)}optimize(D){if(super.optimize(D),this.parent instanceof Z&&Z.compare(this.statics.blotName,this.parent.statics.blotName)>0){const z=this.parent.isolate(this.offset(),this.length());this.moveChildren(z),z.wrap(this)}}}return Z})();let Yl=(()=>{class Z extends Zo{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=jh(this)),this.cache.delta}deleteAt(D,z){super.deleteAt(D,z),this.cache={}}formatAt(D,z,ue,je){z<=0||(this.scroll.query(ue,bi.BLOCK)?D+z===this.length()&&this.format(ue,je):super.formatAt(D,Math.min(z,this.length()-D-1),ue,je),this.cache={})}insertAt(D,z,ue){if(null!=ue)return super.insertAt(D,z,ue),void(this.cache={});if(0===z.length)return;const je=z.split("\n"),ot=je.shift();ot.length>0&&(D<this.length()-1||null==this.children.tail?super.insertAt(Math.min(D,this.length()-1),ot):this.children.tail.insertAt(this.children.tail.length(),ot),this.cache={});let wt=this;je.reduce((cn,Sn)=>(wt=wt.split(cn,!0),wt.insertAt(0,Sn),Sn.length),D+ot.length)}insertBefore(D,z){const{head:ue}=this.children;super.insertBefore(D,z),ue instanceof ka&&ue.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(D,z){super.moveChildren(D,z),this.cache={}}optimize(D){super.optimize(D),this.cache={}}path(D){return super.path(D,!0)}removeChild(D){super.removeChild(D),this.cache={}}split(D){let z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(z&&(0===D||D>=this.length()-1)){const je=this.clone();return 0===D?(this.parent.insertBefore(je,this),this):(this.parent.insertBefore(je,this.next),je)}const ue=super.split(D,z);return this.cache={},ue}}return Z.blotName="block",Z.tagName="P",Z.defaultChild=ka,Z.allowedChildren=[ka,Sd,fo,uc],Z})();class ba extends fo{attach(){super.attach(),this.attributes=new Go(this.domNode)}delta(){return(new ye).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(R,D){const z=this.scroll.query(R,bi.BLOCK_ATTRIBUTE);null!=z&&this.attributes.attribute(z,D)}formatAt(R,D,z,ue){this.format(z,ue)}insertAt(R,D,z){if(null!=z)return void super.insertAt(R,D,z);const ue=D.split("\n"),je=ue.pop(),ot=ue.map(cn=>{const Sn=this.scroll.create(Yl.blotName);return Sn.insertAt(0,cn),Sn}),wt=this.split(R);ot.forEach(cn=>{this.parent.insertBefore(cn,wt)}),je&&this.parent.insertBefore(this.scroll.create("text",je),wt)}}function jh(Z){let R=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Z.descendants(br).reduce((D,z)=>0===z.length()?D:D.insert(z.value(),Cr(z,{},R)),new ye).insert("\n",Cr(Z))}function Cr(Z){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==Z||("formats"in Z&&"function"==typeof Z.formats&&(R={...R,...Z.formats()},D&&delete R["code-token"]),null==Z.parent||"scroll"===Z.parent.statics.blotName||Z.parent.statics.scope!==Z.statics.scope)?R:Cr(Z.parent,R,D)}ba.scope=bi.BLOCK_BLOT;const cl=(()=>{class Z extends fo{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(D,z,ue){super(D,z),this.selection=ue,this.textNode=document.createTextNode(Z.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(D,z){if(0!==this.savedLength)return void super.format(D,z);let ue=this,je=0;for(;null!=ue&&ue.statics.scope!==bi.BLOCK_BLOT;)je+=ue.offset(ue.parent),ue=ue.parent;null!=ue&&(this.savedLength=Z.CONTENTS.length,ue.optimize(),ue.formatAt(je,Z.CONTENTS.length,D,z),this.savedLength=0)}index(D,z){return D===this.textNode?0:super.index(D,z)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const D=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const z=this.prev instanceof uc?this.prev:null,ue=z?z.length():0,je=this.next instanceof uc?this.next:null,ot=je?je.text:"",{textNode:wt}=this,cn=wt.data.split(Z.CONTENTS).join("");let Sn;if(wt.data=Z.CONTENTS,z)Sn=z,(cn||je)&&(z.insertAt(z.length(),cn+ot),je&&je.remove());else if(je)Sn=je,je.insertAt(0,cn);else{const Hn=document.createTextNode(cn);Sn=this.scroll.create(Hn),this.parent.insertBefore(Sn,this)}if(this.remove(),D){const Hn=(ns,ds)=>z&&ns===z.domNode?ds:ns===wt?ue+ds-1:je&&ns===je.domNode?ue+cn.length+ds:null,_i=Hn(D.start.node,D.start.offset),Ti=Hn(D.end.node,D.end.offset);if(null!==_i&&null!==Ti)return{startNode:Sn.domNode,startOffset:_i,endNode:Sn.domNode,endOffset:Ti}}return null}update(D,z){if(D.some(ue=>"characterData"===ue.type&&ue.target===this.textNode)){const ue=this.restore();ue&&(z.range=ue)}}optimize(D){super.optimize(D);let{parent:z}=this;for(;z;){if("A"===z.domNode.tagName){this.savedLength=Z.CONTENTS.length,z.isolate(this.offset(z),this.length()).unwrap(),this.savedLength=0;break}z=z.parent}}value(){return""}}return Z})();var Ql=s(9280);const Uh=new WeakMap,ls=["error","warn","log","info"];let eu="warn";function Vu(Z){if(eu&&ls.indexOf(Z)<=ls.indexOf(eu)){for(var R=arguments.length,D=new Array(R>1?R-1:0),z=1;z<R;z++)D[z-1]=arguments[z];console[Z](...D)}}function B_(Z){return ls.reduce((R,D)=>(R[D]=Vu.bind(console,D,Z),R),{})}B_.level=Z=>{eu=Z},Vu.level=B_.level;const Xa=B_,uf=Xa("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(Z=>{document.addEventListener(Z,function(){for(var R=arguments.length,D=new Array(R),z=0;z<R;z++)D[z]=arguments[z];Array.from(document.querySelectorAll(".ql-container")).forEach(ue=>{const je=Uh.get(ue);je&&je.emitter&&je.emitter.handleDOM(...D)})})});const di=(()=>class Z extends Ql{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",uf.error)}emit(){for(var D=arguments.length,z=new Array(D),ue=0;ue<D;ue++)z[ue]=arguments[ue];return uf.log.call(uf,...z),super.emit(...z)}handleDOM(D){for(var z=arguments.length,ue=new Array(z>1?z-1:0),je=1;je<z;je++)ue[je-1]=arguments[je];(this.domListeners[D.type]||[]).forEach(ot=>{let{node:wt,handler:cn}=ot;(D.target===wt||wt.contains(D.target))&&cn(D,...ue)})}listenDOM(D,z,ue){this.domListeners[D]||(this.domListeners[D]=[]),this.domListeners[D].push({node:z,handler:ue})}})(),$_=Xa("quill:selection");class tu{constructor(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=R,this.length=D}}function Um(Z,R){return Z.contains(R)}const Vm=class jm{constructor(R,D){this.emitter=D,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new tu(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,di.sources.USER),1)}),this.emitter.on(di.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const z=this.getNativeRange();null!=z&&z.start.node!==this.cursor.textNode&&this.emitter.once(di.events.SCROLL_UPDATE,(ue,je)=>{try{this.root.contains(z.start.node)&&this.root.contains(z.end.node)&&this.setNativeRange(z.start.node,z.start.offset,z.end.node,z.end.offset);const ot=je.some(wt=>"characterData"===wt.type||"childList"===wt.type||"attributes"===wt.type&&wt.target===this.root);this.update(ot?di.sources.SILENT:ue)}catch{}})}),this.emitter.on(di.events.SCROLL_OPTIMIZE,(z,ue)=>{if(ue.range){const{startNode:je,startOffset:ot,endNode:wt,endOffset:cn}=ue.range;this.setNativeRange(je,ot,wt,cn),this.update(di.sources.SILENT)}}),this.update(di.sources.SILENT)}handleComposition(){this.emitter.on(di.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(di.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const R=this.cursor.restore();if(!R)return;setTimeout(()=>{this.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(di.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(R,D){this.scroll.update();const z=this.getNativeRange();if(null!=z&&z.native.collapsed&&!this.scroll.query(R,bi.BLOCK)){if(z.start.node!==this.cursor.textNode){const ue=this.scroll.find(z.start.node,!1);if(null==ue)return;if(ue instanceof br){const je=ue.split(z.start.offset);ue.parent.insertBefore(this.cursor,je)}else ue.insertBefore(this.cursor,z.start.node);this.cursor.attach()}this.cursor.format(R,D),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const z=this.scroll.length();R=Math.min(R,z-1),D=Math.min(R+D,z-1)-R;let ue,[je,ot]=this.scroll.leaf(R);if(null==je)return null;if(D>0&&ot===je.length()){const[Hn]=this.scroll.leaf(R+1);if(Hn){const[_i]=this.scroll.line(R),[Ti]=this.scroll.line(R+1);_i===Ti&&(je=Hn,ot=0)}}[ue,ot]=je.position(ot,!0);const wt=document.createRange();if(D>0)return wt.setStart(ue,ot),[je,ot]=this.scroll.leaf(R+D),null==je?null:([ue,ot]=je.position(ot,!0),wt.setEnd(ue,ot),wt.getBoundingClientRect());let Sn,cn="left";if(ue instanceof Text){if(!ue.data.length)return null;ot<ue.data.length?(wt.setStart(ue,ot),wt.setEnd(ue,ot+1)):(wt.setStart(ue,ot-1),wt.setEnd(ue,ot),cn="right"),Sn=wt.getBoundingClientRect()}else{if(!(je.domNode instanceof Element))return null;Sn=je.domNode.getBoundingClientRect(),ot>0&&(cn="right")}return{bottom:Sn.top+Sn.height,height:Sn.height,left:Sn[cn],right:Sn[cn],top:Sn.top,width:0}}getNativeRange(){const R=document.getSelection();if(null==R||R.rangeCount<=0)return null;const D=R.getRangeAt(0);if(null==D)return null;const z=this.normalizeNative(D);return $_.info("getNativeRange",z),z}getRange(){const R=this.scroll.domNode;if("isConnected"in R&&!R.isConnected)return[null,null];const D=this.getNativeRange();return null==D?[null,null]:[this.normalizedToRange(D),D]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&Um(this.root,document.activeElement)}normalizedToRange(R){const D=[[R.start.node,R.start.offset]];R.native.collapsed||D.push([R.end.node,R.end.offset]);const z=D.map(ot=>{const[wt,cn]=ot,Sn=this.scroll.find(wt,!0),Hn=Sn.offset(this.scroll);return 0===cn?Hn:Sn instanceof br?Hn+Sn.index(wt,cn):Hn+Sn.length()}),ue=Math.min(Math.max(...z),this.scroll.length()-1),je=Math.min(ue,...z);return new tu(je,ue-je)}normalizeNative(R){if(!Um(this.root,R.startContainer)||!R.collapsed&&!Um(this.root,R.endContainer))return null;const D={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[D.start,D.end].forEach(z=>{let{node:ue,offset:je}=z;for(;!(ue instanceof Text)&&ue.childNodes.length>0;)if(ue.childNodes.length>je)ue=ue.childNodes[je],je=0;else{if(ue.childNodes.length!==je)break;ue=ue.lastChild,je=ue instanceof Text?ue.data.length:ue.childNodes.length>0?ue.childNodes.length:ue.childNodes.length+1}z.node=ue,z.offset=je}),D}rangeToNative(R){const D=this.scroll.length(),z=(ue,je)=>{ue=Math.min(D-1,ue);const[ot,wt]=this.scroll.leaf(ue);return ot?ot.position(wt,je):[null,-1]};return[...z(R.index,!1),...z(R.index+R.length,!0)]}setNativeRange(R,D){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,ue=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,je=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if($_.info("setNativeRange",R,D,z,ue),null!=R&&(null==this.root.parentNode||null==R.parentNode||null==z.parentNode))return;const ot=document.getSelection();if(null!=ot)if(null!=R){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:wt}=this.getNativeRange()||{};if(null==wt||je||R!==wt.startContainer||D!==wt.startOffset||z!==wt.endContainer||ue!==wt.endOffset){R instanceof Element&&"BR"===R.tagName&&(D=Array.from(R.parentNode.childNodes).indexOf(R),R=R.parentNode),z instanceof Element&&"BR"===z.tagName&&(ue=Array.from(z.parentNode.childNodes).indexOf(z),z=z.parentNode);const cn=document.createRange();cn.setStart(R,D),cn.setEnd(z,ue),ot.removeAllRanges(),ot.addRange(cn)}}else ot.removeAllRanges(),this.root.blur()}setRange(R){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1],z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di.sources.API;if("string"==typeof D&&(z=D,D=!1),$_.info("setRange",R),null!=R){const ue=this.rangeToNative(R);this.setNativeRange(...ue,D)}else this.setNativeRange(null);this.update(z)}update(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di.sources.USER;const D=this.lastRange,[z,ue]=this.getRange();if(this.lastRange=z,this.lastNative=ue,null!=this.lastRange&&(this.savedRange=this.lastRange),!qd(D,this.lastRange)){if(!this.composing&&null!=ue&&ue.native.collapsed&&ue.start.node!==this.cursor.textNode){const ot=this.cursor.restore();ot&&this.setNativeRange(ot.startNode,ot.startOffset,ot.endNode,ot.endOffset)}const je=[di.events.SELECTION_CHANGE,wc(this.lastRange),wc(D),R];this.emitter.emit(di.events.EDITOR_CHANGE,...je),R!==di.sources.SILENT&&this.emitter.emit(...je)}}},Gm=/^[ -~]*$/;function La(Z,R,D){if(0===Z.length){const[ns]=Ha(D.pop());return R<=0?`</li></${ns}>`:`</li></${ns}>${La([],R-1,D)}`}const[{child:z,offset:ue,length:je,indent:ot,type:wt},...cn]=Z,[Sn,Hn]=Ha(wt);if(ot>R)return D.push(wt),ot===R+1?`<${Sn}><li${Hn}>${nu(z,ue,je)}${La(cn,ot,D)}`:`<${Sn}><li>${La(Z,R+1,D)}`;if(ot===R&&wt===D[D.length-1])return`</li><li${Hn}>${nu(z,ue,je)}${La(cn,ot,D)}`;const[Ti]=Ha(D.pop());return`</li></${Ti}>${La(Z,R-1,D)}`}function nu(Z,R,D){let z=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in Z&&"function"==typeof Z.html)return Z.html(R,D);if(Z instanceof uc)return Pa(Z.value().slice(R,R+D));if(Z instanceof Gr){if("list-container"===Z.statics.blotName){const Sn=[];return Z.children.forEachAt(R,D,(Hn,_i,Ti)=>{const ns="formats"in Hn&&"function"==typeof Hn.formats?Hn.formats():{};Sn.push({child:Hn,offset:_i,length:Ti,indent:ns.indent||0,type:ns.list})}),La(Sn,-1,[])}const ue=[];if(Z.children.forEachAt(R,D,(Sn,Hn,_i)=>{ue.push(nu(Sn,Hn,_i))}),z||"list"===Z.statics.blotName)return ue.join("");const{outerHTML:je,innerHTML:ot}=Z.domNode,[wt,cn]=je.split(`>${ot}<`);return"<table"===wt?`<table style="border: 1px solid #000;">${ue.join("")}<${cn}`:`${wt}>${ue.join("")}<${cn}`}return Z.domNode instanceof Element?Z.domNode.outerHTML:""}function Kh(Z,R){return Object.keys(R).reduce((D,z)=>{if(null==Z[z])return D;const ue=R[z];return D[z]=ue===Z[z]?ue:Array.isArray(ue)?ue.indexOf(Z[z])<0?ue.concat([Z[z]]):ue:[ue,Z[z]],D},{})}function Ha(Z){const R="ordered"===Z?"ol":"ul";switch(Z){case"checked":return[R,' data-list="checked"'];case"unchecked":return[R,' data-list="unchecked"'];default:return[R,""]}}function Wh(Z){return Z.reduce((R,D)=>{if("string"==typeof D.insert){const z=D.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return R.insert(z,D.attributes)}return R.push(D)},new ye)}function j_(Z,R){let{index:D,length:z}=Z;return new tu(D+R,z)}const Wm=class Gh{constructor(R){this.scroll=R,this.delta=this.getDelta()}applyDelta(R){this.scroll.update();let D=this.scroll.length();this.scroll.batchStart();const z=Wh(R),ue=new ye;return function Km(Z){const R=[];return Z.forEach(D=>{"string"==typeof D.insert?D.insert.split("\n").forEach((ue,je)=>{je&&R.push({insert:"\n",attributes:D.attributes}),ue&&R.push({insert:ue,attributes:D.attributes})}):R.push(D)}),R}(z.ops.slice()).reduce((ot,wt)=>{const cn=ye.Op.length(wt);let Sn=wt.attributes||{},Hn=!1,_i=!1;if(null!=wt.insert){if(ue.retain(cn),"string"==typeof wt.insert){const ds=wt.insert;_i=!ds.endsWith("\n")&&(D<=ot||!!this.scroll.descendant(ba,ot)[0]),this.scroll.insertAt(ot,ds);const[Ls,co]=this.scroll.line(ot);let qi=$l({},Cr(Ls));if(Ls instanceof Yl){const[Wo]=Ls.descendant(br,co);Wo&&(qi=$l(qi,Cr(Wo)))}Sn=ye.AttributeMap.diff(qi,Sn)||{}}else if("object"==typeof wt.insert){const ds=Object.keys(wt.insert)[0];if(null==ds)return ot;const Ls=null!=this.scroll.query(ds,bi.INLINE);if(Ls)(D<=ot||this.scroll.descendant(ba,ot)[0])&&(_i=!0);else if(ot>0){const[co,qi]=this.scroll.descendant(br,ot-1);co instanceof uc?"\n"!==co.value()[qi]&&(Hn=!0):co instanceof fo&&co.statics.scope===bi.INLINE_BLOT&&(Hn=!0)}if(this.scroll.insertAt(ot,ds,wt.insert[ds]),Ls){const[co]=this.scroll.descendant(br,ot);if(co){const qi=$l({},Cr(co));Sn=ye.AttributeMap.diff(qi,Sn)||{}}}}D+=cn}else if(ue.push(wt),null!==wt.retain&&"object"==typeof wt.retain){const ds=Object.keys(wt.retain)[0];if(null==ds)return ot;this.scroll.updateEmbedAt(ot,ds,wt.retain[ds])}Object.keys(Sn).forEach(ds=>{this.scroll.formatAt(ot,cn,ds,Sn[ds])});const Ti=Hn?1:0,ns=_i?1:0;return D+=Ti+ns,ue.retain(Ti),ue.delete(ns),ot+cn+Ti+ns},0),ue.reduce((ot,wt)=>"number"==typeof wt.delete?(this.scroll.deleteAt(ot,wt.delete),ot):ot+ye.Op.length(wt),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(z)}deleteText(R,D){return this.scroll.deleteAt(R,D),this.update((new ye).retain(R).delete(D))}formatLine(R,D){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(z).forEach(je=>{this.scroll.lines(R,Math.max(D,1)).forEach(ot=>{ot.format(je,z[je])})}),this.scroll.optimize();const ue=(new ye).retain(R).retain(D,wc(z));return this.update(ue)}formatText(R,D){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(z).forEach(je=>{this.scroll.formatAt(R,D,je,z[je])});const ue=(new ye).retain(R).retain(D,wc(z));return this.update(ue)}getContents(R,D){return this.delta.slice(R,R+D)}getDelta(){return this.scroll.lines().reduce((R,D)=>R.concat(D.delta()),new ye)}getFormat(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=[],ue=[];0===D?this.scroll.path(R).forEach(wt=>{const[cn]=wt;cn instanceof Yl?z.push(cn):cn instanceof br&&ue.push(cn)}):(z=this.scroll.lines(R,D),ue=this.scroll.descendants(br,R,D));const[je,ot]=[z,ue].map(wt=>{const cn=wt.shift();if(null==cn)return{};let Sn=Cr(cn);for(;Object.keys(Sn).length>0;){const Hn=wt.shift();if(null==Hn)return Sn;Sn=Kh(Cr(Hn),Sn)}return Sn});return{...je,...ot}}getHTML(R,D){const[z,ue]=this.scroll.line(R);if(z){const je=z.length();return z.length()>=ue+D&&(0!==ue||D!==je)?nu(z,ue,D,!0):nu(this.scroll,R,D,!0)}return""}getText(R,D){return this.getContents(R,D).filter(z=>"string"==typeof z.insert).map(z=>z.insert).join("")}insertContents(R,D){const z=Wh(D),ue=(new ye).retain(R).concat(z);return this.scroll.insertContents(R,z),this.update(ue)}insertEmbed(R,D,z){return this.scroll.insertAt(R,D,z),this.update((new ye).retain(R).insert({[D]:z}))}insertText(R,D){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return D=D.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(R,D),Object.keys(z).forEach(ue=>{this.scroll.formatAt(R,D.length,ue,z[ue])}),this.update((new ye).retain(R).insert(D,wc(z)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const R=this.scroll.children.head;return R?.statics.blotName===Yl.blotName&&(!(R.children.length>1)&&R.children.head instanceof ka)}removeFormat(R,D){const z=this.getText(R,D),[ue,je]=this.scroll.line(R+D);let ot=0,wt=new ye;null!=ue&&(ot=ue.length()-je,wt=ue.delta().slice(je,je+ot-1).insert("\n"));const Sn=this.getContents(R,D+ot).diff((new ye).insert(z).concat(wt)),Hn=(new ye).retain(R).concat(Sn);return this.applyDelta(Hn)}update(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const ue=this.delta;if(1===D.length&&"characterData"===D[0].type&&D[0].target.data.match(Gm)&&this.scroll.find(D[0].target)){const je=this.scroll.find(D[0].target),ot=Cr(je),wt=je.offset(this.scroll),cn=D[0].oldValue.replace(cl.CONTENTS,""),Sn=(new ye).insert(cn),Hn=(new ye).insert(je.value()),_i=z&&{oldRange:j_(z.oldRange,-wt),newRange:j_(z.newRange,-wt)};R=(new ye).retain(wt).concat(Sn.diff(Hn,_i)).reduce((ns,ds)=>ds.insert?ns.insert(ds.insert,ot):ns.push(ds),new ye),this.delta=ue.compose(R)}else this.delta=this.getDelta(),(!R||!qd(ue.compose(R),this.delta))&&(R=ue.diff(this.delta,z));return R}},aa=(()=>class Z{static DEFAULTS={};constructor(D){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=D,this.options=z}})(),zh=class Jv extends fo{constructor(R,D){super(R,D),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(z=>{this.contentNode.appendChild(z)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(R,D){return R===this.leftGuard?0:R===this.rightGuard?1:super.index(R,D)}restore(R){let z,D=null;const ue=R.data.split("\ufeff").join("");if(R===this.leftGuard)if(this.prev instanceof uc){const je=this.prev.length();this.prev.insertAt(je,ue),D={startNode:this.prev.domNode,startOffset:je+ue.length}}else z=document.createTextNode(ue),this.parent.insertBefore(this.scroll.create(z),this),D={startNode:z,startOffset:ue.length};else R===this.rightGuard&&(this.next instanceof uc?(this.next.insertAt(0,ue),D={startNode:this.next.domNode,startOffset:ue.length}):(z=document.createTextNode(ue),this.parent.insertBefore(this.scroll.create(z),this.next),D={startNode:z,startOffset:ue.length}));return R.data="\ufeff",D}update(R,D){R.forEach(z=>{if("characterData"===z.type&&(z.target===this.leftGuard||z.target===this.rightGuard)){const ue=this.restore(z.target);ue&&(D.range=ue)}})}},Xm=class zm{isComposing=!1;constructor(R,D){this.scroll=R,this.emitter=D,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",R=>{this.isComposing||this.handleCompositionStart(R)}),this.scroll.domNode.addEventListener("compositionend",R=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(R)})})}handleCompositionStart(R){const D=R.target instanceof Node?this.scroll.find(R.target,!0):null;D&&!(D instanceof zh)&&(this.emitter.emit(di.events.COMPOSITION_BEFORE_START,R),this.scroll.batchStart(),this.emitter.emit(di.events.COMPOSITION_START,R),this.isComposing=!0)}handleCompositionEnd(R){this.emitter.emit(di.events.COMPOSITION_BEFORE_END,R),this.scroll.batchEnd(),this.emitter.emit(di.events.COMPOSITION_END,R),this.isComposing=!1}},U_=(()=>{class Z{static DEFAULTS={modules:{}};static themes={default:Z};modules={};constructor(D,z){this.quill=D,this.options=z}init(){Object.keys(this.options.modules).forEach(D=>{null==this.modules[D]&&this.addModule(D)})}addModule(D){const z=this.quill.constructor.import(`modules/${D}`);return this.modules[D]=new z(this.quill,this.options.modules[D]||{}),this.modules[D]}}return Z})(),Mb=Z=>Z.parentElement||Z.getRootNode().host||null,hf=Z=>{const R=Z.getBoundingClientRect(),D="offsetWidth"in Z&&Math.abs(R.width)/Z.offsetWidth||1,z="offsetHeight"in Z&&Math.abs(R.height)/Z.offsetHeight||1;return{top:R.top,right:R.left+Z.clientWidth*D,bottom:R.top+Z.clientHeight*z,left:R.left}},er=Z=>{const R=parseInt(Z,10);return Number.isNaN(R)?0:R},Gu=(Z,R,D,z,ue,je)=>Z<D&&R>z?0:Z<D?-(D-Z+ue):R>z?R-Z>z-D?Z+ue-D:R-z+je:0,qv=["block","break","cursor","inline","scroll","text"],Xh=Xa("quill"),Hh=new Vr;Gr.uiClass="ql-ui";class zn{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Hh,theme:"default"};static events=di.events;static sources=di.sources;static version="2.0.2";static imports={delta:ye,parchment:e,"core/module":aa,"core/theme":U_};static debug(R){!0===R&&(R="log"),Xa.level(R)}static find(R){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Uh.get(R)||Hh.find(R,D)}static import(R){return null==this.imports[R]&&Xh.error(`Cannot import ${R}. Are you sure it was registered?`),this.imports[R]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const R=arguments.length<=0?void 0:arguments[0],D=!(arguments.length<=1||!arguments[1]),z="attrName"in R?R.attrName:R.blotName;"string"==typeof z?this.register(`formats/${z}`,R,D):Object.keys(R).forEach(ue=>{this.register(ue,R[ue],D)})}else{const R=arguments.length<=0?void 0:arguments[0],D=arguments.length<=1?void 0:arguments[1];null!=this.imports[R]&&!(!(arguments.length<=2)&&arguments[2])&&Xh.warn(`Overwriting ${R} with`,D),this.imports[R]=D,(R.startsWith("blots/")||R.startsWith("formats/"))&&D&&"boolean"!=typeof D&&"abstract"!==D.blotName&&Hh.register(D),"function"==typeof D.register&&D.register(Hh)}}constructor(R){if(this.options=function W_(Z,R){const D=K_(Z);if(!D)throw new Error("Invalid Quill container");const ue=R.theme&&R.theme!==zn.DEFAULTS.theme?zn.import(`themes/${R.theme}`):U_;if(!ue)throw new Error(`Invalid theme ${R.theme}. Did you register it?`);const{modules:je,...ot}=zn.DEFAULTS,{modules:wt,...cn}=ue.DEFAULTS;let Sn=dl(R.modules);null!=Sn&&Sn.toolbar&&Sn.toolbar.constructor!==Object&&(Sn={...Sn,toolbar:{container:Sn.toolbar}});const Hn=$l({},dl(je),dl(wt),Sn),_i={...ot,...Ym(cn),...Ym(R)};let Ti=R.registry;return Ti?R.formats&&Xh.warn('Ignoring "formats" option because "registry" is specified'):Ti=R.formats?((Z,R,D)=>{const z=new Vr;return qv.forEach(ue=>{const je=R.query(ue);je&&z.register(je)}),Z.forEach(ue=>{let je=R.query(ue);je||D.error(`Cannot register "${ue}" specified in "formats" config. Are you sure it was registered?`);let ot=0;for(;je;)if(z.register(je),je="blotName"in je?je.requiredContainer??null:null,ot+=1,ot>100){D.error(`Cycle detected in registering blot requiredContainer: "${ue}"`);break}}),z})(R.formats,_i.registry,Xh):_i.registry,{..._i,registry:Ti,container:D,theme:ue,modules:Object.entries(Hn).reduce((ns,ds)=>{let[Ls,co]=ds;if(!co)return ns;const qi=zn.import(`modules/${Ls}`);return null==qi?(Xh.error(`Cannot load ${Ls} module. Are you sure you registered it?`),ns):{...ns,[Ls]:$l({},qi.DEFAULTS||{},co)}},{}),bounds:K_(_i.bounds)}}(R,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void Xh.error("Invalid Quill container",R);this.options.debug&&zn.debug(this.options.debug);const z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Uh.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new di;const ue=Mh.blotName,je=this.options.registry.query(ue);if(!je||!("blotName"in je))throw new Error(`Cannot initialize Quill without "${ue}" blot`);if(this.scroll=new je(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Wm(this.scroll),this.selection=new Vm(this.scroll,this.emitter),this.composition=new Xm(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(di.events.EDITOR_CHANGE,ot=>{ot===di.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(di.events.SCROLL_UPDATE,(ot,wt)=>{const cn=this.selection.lastRange,[Sn]=this.selection.getRange(),Hn=cn&&Sn?{oldRange:cn,newRange:Sn}:void 0;Dl.call(this,()=>this.editor.update(null,wt,Hn),ot)}),this.emitter.on(di.events.SCROLL_EMBED_UPDATE,(ot,wt)=>{const cn=this.selection.lastRange,[Sn]=this.selection.getRange(),Hn=cn&&Sn?{oldRange:cn,newRange:Sn}:void 0;Dl.call(this,()=>{const _i=(new ye).retain(ot.offset(this)).retain({[ot.statics.blotName]:wt});return this.editor.update(_i,[],Hn)},zn.sources.USER)}),z){const ot=this.clipboard.convert({html:`${z}<p><br></p>`,text:"\n"});this.setContents(ot)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof R){const z=R;(R=document.createElement("div")).classList.add(z)}return this.container.insertBefore(R,D),R}blur(){this.selection.setRange(null)}deleteText(R,D,z){return[R,D,,z]=Vi(R,D,z),Dl.call(this,()=>this.editor.deleteText(R,D),z,R,-1*D)}disable(){this.enable(!1)}editReadOnly(R){this.allowReadOnlyEdits=!0;const D=R();return this.allowReadOnlyEdits=!1,D}enable(){let R=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(R),this.container.classList.toggle("ql-disabled",!R)}focus(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),R.preventScroll||this.scrollSelectionIntoView()}format(R,D){return Dl.call(this,()=>{const ue=this.getSelection(!0);let je=new ye;if(null==ue)return je;if(this.scroll.query(R,bi.BLOCK))je=this.editor.formatLine(ue.index,ue.length,{[R]:D});else{if(0===ue.length)return this.selection.format(R,D),je;je=this.editor.formatText(ue.index,ue.length,{[R]:D})}return this.setSelection(ue,di.sources.SILENT),je},arguments.length>2&&void 0!==arguments[2]?arguments[2]:di.sources.API)}formatLine(R,D,z,ue,je){let ot;return[R,D,ot,je]=Vi(R,D,z,ue,je),Dl.call(this,()=>this.editor.formatLine(R,D,ot),je,R,0)}formatText(R,D,z,ue,je){let ot;return[R,D,ot,je]=Vi(R,D,z,ue,je),Dl.call(this,()=>this.editor.formatText(R,D,ot),je,R,0)}getBounds(R){let z=null;if(z="number"==typeof R?this.selection.getBounds(R,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(R.index,R.length),!z)return null;const ue=this.container.getBoundingClientRect();return{bottom:z.bottom-ue.top,height:z.height,left:z.left-ue.left,right:z.right-ue.left,top:z.top-ue.top,width:z.width}}getContents(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-R;return[R,D]=Vi(R,D),this.editor.getContents(R,D)}getFormat(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof R?this.editor.getFormat(R,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(R.index,R.length)}getIndex(R){return R.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(R){return this.scroll.leaf(R)}getLine(R){return this.scroll.line(R)}getLines(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof R?this.scroll.lines(R.index,R.length):this.scroll.lines(R,D)}getModule(R){return this.theme.modules[R]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,D=arguments.length>1?arguments[1]:void 0;return"number"==typeof R&&(D=D??this.getLength()-R),[R,D]=Vi(R,D),this.editor.getHTML(R,D)}getText(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,D=arguments.length>1?arguments[1]:void 0;return"number"==typeof R&&(D=D??this.getLength()-R),[R,D]=Vi(R,D),this.editor.getText(R,D)}hasFocus(){return this.selection.hasFocus()}insertEmbed(R,D,z){return Dl.call(this,()=>this.editor.insertEmbed(R,D,z),arguments.length>3&&void 0!==arguments[3]?arguments[3]:zn.sources.API,R)}insertText(R,D,z,ue,je){let ot;return[R,,ot,je]=Vi(R,0,z,ue,je),Dl.call(this,()=>this.editor.insertText(R,D,ot),je,R,D.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(R,D,z){return[R,D,,z]=Vi(R,D,z),Dl.call(this,()=>this.editor.removeFormat(R,D),z,R)}scrollRectIntoView(R){((Z,R)=>{const D=Z.ownerDocument;let z=R,ue=Z;for(;ue;){const je=ue===D.body,ot=je?{top:0,right:window.visualViewport?.width??D.documentElement.clientWidth,bottom:window.visualViewport?.height??D.documentElement.clientHeight,left:0}:hf(ue),wt=getComputedStyle(ue),cn=Gu(z.left,z.right,ot.left,ot.right,er(wt.scrollPaddingLeft),er(wt.scrollPaddingRight)),Sn=Gu(z.top,z.bottom,ot.top,ot.bottom,er(wt.scrollPaddingTop),er(wt.scrollPaddingBottom));if(cn||Sn)if(je)D.defaultView?.scrollBy(cn,Sn);else{const{scrollLeft:Hn,scrollTop:_i}=ue;Sn&&(ue.scrollTop+=Sn),cn&&(ue.scrollLeft+=cn);const Ti=ue.scrollLeft-Hn,ns=ue.scrollTop-_i;z={left:z.left-Ti,top:z.top-ns,right:z.right-Ti,bottom:z.bottom-ns}}ue=je||"fixed"===wt.position?null:Mb(ue)}})(this.root,R)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const R=this.selection.lastRange,D=R&&this.selection.getBounds(R.index,R.length);D&&this.scrollRectIntoView(D)}setContents(R){return Dl.call(this,()=>{R=new ye(R);const z=this.getLength(),ue=this.editor.deleteText(0,z),je=this.editor.insertContents(0,R),ot=this.editor.deleteText(this.getLength()-1,1);return ue.compose(je).compose(ot)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:di.sources.API)}setSelection(R,D,z){null==R?this.selection.setRange(null,D||zn.sources.API):([R,D,,z]=Vi(R,D,z),this.selection.setRange(new tu(Math.max(0,R),D),z),z!==di.sources.SILENT&&this.scrollSelectionIntoView())}setText(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di.sources.API;const z=(new ye).insert(R);return this.setContents(z,D)}update(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di.sources.USER;const D=this.scroll.update(R);return this.selection.update(R),D}updateContents(R){return Dl.call(this,()=>(R=new ye(R),this.editor.applyDelta(R)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:di.sources.API,!0)}}function K_(Z){return"string"==typeof Z?document.querySelector(Z):Z}function dl(Z){return Object.entries(Z??{}).reduce((R,D)=>{let[z,ue]=D;return{...R,[z]:!0===ue?{}:ue}},{})}function Ym(Z){return Object.fromEntries(Object.entries(Z).filter(R=>void 0!==R[1]))}function Dl(Z,R,D,z){if(!this.isEnabled()&&R===di.sources.USER&&!this.allowReadOnlyEdits)return new ye;let ue=null==D?null:this.getSelection();const je=this.editor.delta,ot=Z();if(null!=ue&&(!0===D&&(D=ue.index),null==z?ue=su(ue,ot,R):0!==z&&(ue=su(ue,D,z,R)),this.setSelection(ue,di.sources.SILENT)),ot.length()>0){const wt=[di.events.TEXT_CHANGE,ot,je,R];this.emitter.emit(di.events.EDITOR_CHANGE,...wt),R!==di.sources.SILENT&&this.emitter.emit(...wt)}return ot}function Vi(Z,R,D,z,ue){let je={};return"number"==typeof Z.index&&"number"==typeof Z.length?"number"!=typeof R?(ue=z,z=D,D=R,R=Z.length,Z=Z.index):(R=Z.length,Z=Z.index):"number"!=typeof R&&(ue=z,z=D,D=R,R=0),"object"==typeof D?(je=D,ue=z):"string"==typeof D&&(null!=z?je[D]=z:ue=D),[Z,R,je,ue=ue||di.sources.API]}function su(Z,R,D,z){const ue="number"==typeof D?D:0;if(null==Z)return null;let je,ot;return[je,ot]=[Z.index,Z.index+Z.length].map(R&&"function"==typeof R.transformPosition?wt=>R.transformPosition(wt,z!==di.sources.USER):wt=>wt<R||wt===R&&z===di.sources.USER?wt:ue>=0?wt+ue:Math.max(R,wt+ue)),new tu(je,ot-je)}const ou=class z_ extends Ud{};function Od(Z){return Z instanceof Yl||Z instanceof ba}function pf(Z){return"function"==typeof Z.updateContent}function X_(Z,R,D){D.reduce((z,ue)=>{const je=ye.Op.length(ue);let ot=ue.attributes||{};if(null!=ue.insert)if("string"==typeof ue.insert){Z.insertAt(z,ue.insert);const[cn]=Z.descendant(br,z),Sn=Cr(cn);ot=ye.AttributeMap.diff(Sn,ot)||{}}else if("object"==typeof ue.insert){const wt=Object.keys(ue.insert)[0];if(null==wt)return z;if(Z.insertAt(z,wt,ue.insert[wt]),null!=Z.scroll.query(wt,bi.INLINE)){const[Sn]=Z.descendant(br,z),Hn=Cr(Sn);ot=ye.AttributeMap.diff(Hn,ot)||{}}}return Object.keys(ot).forEach(wt=>{Z.formatAt(z,je,wt,ot[wt])}),z+je},R)}const e0=(()=>class Z extends Mh{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Yl;static allowedChildren=[Yl,ba,ou];constructor(D,z,ue){let{emitter:je}=ue;super(D,z),this.emitter=je,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",ot=>this.handleDragStart(ot))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const D=this.batch;this.batch=!1,this.update(D)}emitMount(D){this.emitter.emit(di.events.SCROLL_BLOT_MOUNT,D)}emitUnmount(D){this.emitter.emit(di.events.SCROLL_BLOT_UNMOUNT,D)}emitEmbedUpdate(D,z){this.emitter.emit(di.events.SCROLL_EMBED_UPDATE,D,z)}deleteAt(D,z){const[ue,je]=this.line(D),[ot]=this.line(D+z);if(super.deleteAt(D,z),null!=ot&&ue!==ot&&je>0){if(ue instanceof ba||ot instanceof ba)return void this.optimize();ue.moveChildren(ot,ot.children.head instanceof ka?null:ot.children.head),ue.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(D,z,ue,je){super.formatAt(D,z,ue,je),this.optimize()}insertAt(D,z,ue){if(D>=this.length())if(null==ue||null==this.scroll.query(z,bi.BLOCK)){const je=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(je),null==ue&&z.endsWith("\n")?je.insertAt(0,z.slice(0,-1),ue):je.insertAt(0,z,ue)}else{const je=this.scroll.create(z,ue);this.appendChild(je)}else super.insertAt(D,z,ue);this.optimize()}insertBefore(D,z){if(D.statics.scope===bi.INLINE_BLOT){const ue=this.scroll.create(this.statics.defaultChild.blotName);ue.appendChild(D),super.insertBefore(ue,z)}else super.insertBefore(D,z)}insertContents(D,z){const ue=this.deltaToRenderBlocks(z.concat((new ye).insert("\n"))),je=ue.pop();if(null==je)return;this.batchStart();const ot=ue.shift();if(ot){const Sn="block"===ot.type&&(0===ot.delta.length()||!this.descendant(ba,D)[0]&&D<this.length()),Hn="block"===ot.type?ot.delta:(new ye).insert({[ot.key]:ot.value});X_(this,D,Hn);const _i="block"===ot.type?1:0,Ti=D+Hn.length()+_i;Sn&&this.insertAt(Ti-1,"\n");const ns=Cr(this.line(D)[0]),ds=ye.AttributeMap.diff(ns,ot.attributes)||{};Object.keys(ds).forEach(Ls=>{this.formatAt(Ti-1,1,Ls,ds[Ls])}),D=Ti}let[wt,cn]=this.children.find(D);ue.length&&(wt&&(wt=wt.split(cn),cn=0),ue.forEach(Sn=>{if("block"===Sn.type)X_(this.createBlock(Sn.attributes,wt||void 0),0,Sn.delta);else{const Hn=this.create(Sn.key,Sn.value);this.insertBefore(Hn,wt||void 0),Object.keys(Sn.attributes).forEach(_i=>{Hn.format(_i,Sn.attributes[_i])})}})),"block"===je.type&&je.delta.length()&&X_(this,wt?wt.offset(wt.scroll)+cn:this.length(),je.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(D){const z=this.path(D).pop();if(!z)return[null,-1];const[ue,je]=z;return ue instanceof br?[ue,je]:[null,-1]}line(D){return D===this.length()?this.line(D-1):this.descendant(Od,D)}lines(){const ue=(je,ot,wt)=>{let cn=[],Sn=wt;return je.children.forEachAt(ot,wt,(Hn,_i,Ti)=>{Od(Hn)?cn.push(Hn):Hn instanceof Ud&&(cn=cn.concat(ue(Hn,_i,Sn))),Sn-=Ti}),cn};return ue(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(D,z),D.length>0&&this.emitter.emit(di.events.SCROLL_OPTIMIZE,D,z))}path(D){return super.path(D).slice(1)}remove(){}update(D){if(this.batch)return void(Array.isArray(D)&&(this.batch=this.batch.concat(D)));let z=di.sources.USER;"string"==typeof D&&(z=D),Array.isArray(D)||(D=this.observer.takeRecords()),(D=D.filter(ue=>{let{target:je}=ue;const ot=this.find(je,!0);return ot&&!pf(ot)})).length>0&&this.emitter.emit(di.events.SCROLL_BEFORE_UPDATE,z,D),super.update(D.concat([])),D.length>0&&this.emitter.emit(di.events.SCROLL_UPDATE,z,D)}updateEmbedAt(D,z,ue){const[je]=this.descendant(ot=>ot instanceof ba,D);je&&je.statics.blotName===z&&pf(je)&&je.updateContent(ue)}handleDragStart(D){D.preventDefault()}deltaToRenderBlocks(D){const z=[];let ue=new ye;return D.forEach(je=>{const ot=je?.insert;if(ot)if("string"==typeof ot){const wt=ot.split("\n");wt.slice(0,-1).forEach(Sn=>{ue.insert(Sn,je.attributes),z.push({type:"block",delta:ue,attributes:je.attributes??{}}),ue=new ye});const cn=wt[wt.length-1];cn&&ue.insert(cn,je.attributes)}else{const wt=Object.keys(ot)[0];if(!wt)return;this.query(wt,bi.INLINE)?ue.push(je):(ue.length()&&z.push({type:"block",delta:ue,attributes:{}}),ue=new ye,z.push({type:"blockEmbed",key:wt,value:ot[wt],attributes:je.attributes??{}}))}}),ue.length()&&z.push({type:"block",delta:ue,attributes:{}}),z}createBlock(D,z){let ue;const je={};Object.entries(D).forEach(cn=>{let[Sn,Hn]=cn;null!=this.query(Sn,bi.BLOCK&bi.BLOT)?ue=Sn:je[Sn]=Hn});const ot=this.create(ue||this.statics.defaultChild.blotName,ue?D[ue]:void 0);this.insertBefore(ot,z||void 0);const wt=ot.length();return Object.entries(je).forEach(cn=>{let[Sn,Hn]=cn;ot.formatAt(0,wt,Sn,Hn)}),ot}})(),ru={scope:bi.BLOCK,whitelist:["right","center","justify"]},id=new yo("align","align",ru),H_=new Vo("align","ql-align",ru),Y_=new ao("align","text-align",ru);class ff extends ao{value(R){let D=super.value(R);return D.startsWith("rgb(")?(D=D.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${D.split(",").map(ue=>`00${parseInt(ue,10).toString(16)}`.slice(-2)).join("")}`):D}}const Ku=new Vo("color","ql-color",{scope:bi.INLINE}),xd=new ff("color","color",{scope:bi.INLINE}),kr=new Vo("background","ql-bg",{scope:bi.INLINE}),mf=new ff("background","background-color",{scope:bi.INLINE});class ul extends ou{static create(R){const D=super.create(R);return D.setAttribute("spellcheck","false"),D}code(R,D){return this.children.map(z=>z.length()<=1?"":z.domNode.innerText).join("\n").slice(R,R+D)}html(R,D){return`<pre>\n${Pa(this.code(R,D))}\n</pre>`}}let la=(()=>class Z extends Yl{static TAB="  ";static register(){zn.register(ul)}})(),t0=(()=>{class Z extends Sd{}return Z.blotName="code",Z.tagName="CODE",Z})();la.blotName="code-block",la.className="ql-code-block",la.tagName="DIV",ul.blotName="code-block-container",ul.className="ql-code-block-container",ul.tagName="DIV",ul.allowedChildren=[la],la.allowedChildren=[uc,ka,cl],la.requiredContainer=ul;const Q_={scope:bi.BLOCK,whitelist:["rtl"]},Yh=new yo("direction","dir",Q_),sd=new Vo("direction","ql-direction",Q_),gf=new ao("direction","direction",Q_),J_={scope:bi.INLINE,whitelist:["serif","monospace"]},Wu=new Vo("font","ql-font",J_),vf=new class Jm extends ao{value(R){return super.value(R).replace(/["']/g,"")}}("font","font-family",J_),Zm=new Vo("size","ql-size",{scope:bi.INLINE,whitelist:["small","large","huge"]}),Z_=new ao("size","font-size",{scope:bi.INLINE,whitelist:["10px","18px","32px"]}),qm=Xa("quill:keyboard"),bf=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class au extends aa{static match(R,D){return!["altKey","ctrlKey","metaKey","shiftKey"].some(z=>!!D[z]!==R[z]&&null!==D[z])&&(D.key===R.key||D.key===R.which)}constructor(R,D){super(R,D),this.bindings={},Object.keys(this.options.bindings).forEach(z=>{this.options.bindings[z]&&this.addBinding(this.options.bindings[z])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ue=function Ea(Z){if("string"==typeof Z||"number"==typeof Z)Z={key:Z};else{if("object"!=typeof Z)return null;Z=wc(Z)}return Z.shortKey&&(Z[bf]=Z.shortKey,delete Z.shortKey),Z}(R);null!=ue?("function"==typeof D&&(D={handler:D}),"function"==typeof z&&(z={handler:z}),(Array.isArray(ue.key)?ue.key:[ue.key]).forEach(ot=>{const wt={...ue,key:ot,...D,...z};this.bindings[wt.key]=this.bindings[wt.key]||[],this.bindings[wt.key].push(wt)})):qm.warn("Attempted to add invalid keyboard binding",ue)}listen(){this.quill.root.addEventListener("keydown",R=>{if(R.defaultPrevented||R.isComposing||229===R.keyCode&&("Enter"===R.key||"Backspace"===R.key))return;const ue=(this.bindings[R.key]||[]).concat(this.bindings[R.which]||[]).filter(qi=>au.match(R,qi));if(0===ue.length)return;const je=zn.find(R.target,!0);if(je&&je.scroll!==this.quill.scroll)return;const ot=this.quill.getSelection();if(null==ot||!this.quill.hasFocus())return;const[wt,cn]=this.quill.getLine(ot.index),[Sn,Hn]=this.quill.getLeaf(ot.index),[_i,Ti]=0===ot.length?[Sn,Hn]:this.quill.getLeaf(ot.index+ot.length),ns=Sn instanceof ce?Sn.value().slice(0,Hn):"",ds=_i instanceof ce?_i.value().slice(Ti):"",Ls={collapsed:0===ot.length,empty:0===ot.length&&wt.length()<=1,format:this.quill.getFormat(ot),line:wt,offset:cn,prefix:ns,suffix:ds,event:R};ue.some(qi=>{if(null!=qi.collapsed&&qi.collapsed!==Ls.collapsed||null!=qi.empty&&qi.empty!==Ls.empty||null!=qi.offset&&qi.offset!==Ls.offset)return!1;if(Array.isArray(qi.format)){if(qi.format.every(Wo=>null==Ls.format[Wo]))return!1}else if("object"==typeof qi.format&&!Object.keys(qi.format).every(Wo=>!0===qi.format[Wo]?null!=Ls.format[Wo]:!1===qi.format[Wo]?null==Ls.format[Wo]:qd(qi.format[Wo],Ls.format[Wo])))return!1;return!(null!=qi.prefix&&!qi.prefix.test(Ls.prefix)||null!=qi.suffix&&!qi.suffix.test(Ls.suffix))&&!0!==qi.handler.call(this,ot,Ls,qi)})&&R.preventDefault()})}handleBackspace(R,D){const z=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(D.prefix)?2:1;if(0===R.index||this.quill.getLength()<=1)return;let ue={};const[je]=this.quill.getLine(R.index);let ot=(new ye).retain(R.index-z).delete(z);if(0===D.offset){const[wt]=this.quill.getLine(R.index-1);if(wt&&!("block"===wt.statics.blotName&&wt.length()<=1)){const Sn=je.formats(),Hn=this.quill.getFormat(R.index-1,1);if(ue=ye.AttributeMap.diff(Sn,Hn)||{},Object.keys(ue).length>0){const _i=(new ye).retain(R.index+je.length()-2).retain(1,ue);ot=ot.compose(_i)}}}this.quill.updateContents(ot,zn.sources.USER),this.quill.focus()}handleDelete(R,D){const z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(D.suffix)?2:1;if(R.index>=this.quill.getLength()-z)return;let ue={};const[je]=this.quill.getLine(R.index);let ot=(new ye).retain(R.index).delete(z);if(D.offset>=je.length()-1){const[wt]=this.quill.getLine(R.index+1);if(wt){const cn=je.formats(),Sn=this.quill.getFormat(R.index,1);ue=ye.AttributeMap.diff(cn,Sn)||{},Object.keys(ue).length>0&&(ot=ot.retain(wt.length()-1).retain(1,ue))}}this.quill.updateContents(ot,zn.sources.USER),this.quill.focus()}handleDeleteRange(R){n0({range:R,quill:this.quill}),this.quill.focus()}handleEnter(R,D){const z=Object.keys(D.format).reduce((je,ot)=>(this.quill.scroll.query(ot,bi.BLOCK)&&!Array.isArray(D.format[ot])&&(je[ot]=D.format[ot]),je),{}),ue=(new ye).retain(R.index).delete(R.length).insert("\n",z);this.quill.updateContents(ue,zn.sources.USER),this.quill.setSelection(R.index+1,zn.sources.SILENT),this.quill.focus()}}const eg={bindings:{bold:q_("bold"),italic:q_("italic"),underline:q_("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(Z,R){return!(!R.collapsed||0===R.offset)||(this.quill.format("indent","+1",zn.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(Z,R){return!(!R.collapsed||0===R.offset)||(this.quill.format("indent","-1",zn.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(Z,R){null!=R.format.indent?this.quill.format("indent","-1",zn.sources.USER):null!=R.format.list&&this.quill.format("list",!1,zn.sources.USER)}},"indent code-block":tg(!0),"outdent code-block":tg(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(Z){this.quill.deleteText(Z.index-1,1,zn.sources.USER)}},tab:{key:"Tab",handler(Z,R){if(R.format.table)return!0;this.quill.history.cutoff();const D=(new ye).retain(Z.index).delete(Z.length).insert("\t");return this.quill.updateContents(D,zn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,zn.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,zn.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(Z,R){const D={list:!1};R.format.indent&&(D.indent=!1),this.quill.formatLine(Z.index,Z.length,D,zn.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(Z){const[R,D]=this.quill.getLine(Z.index),z={...R.formats(),list:"checked"},ue=(new ye).retain(Z.index).insert("\n",z).retain(R.length()-D-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,zn.sources.USER),this.quill.setSelection(Z.index+1,zn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(Z,R){const[D,z]=this.quill.getLine(Z.index),ue=(new ye).retain(Z.index).insert("\n",R.format).retain(D.length()-z-1).retain(1,{header:null});this.quill.updateContents(ue,zn.sources.USER),this.quill.setSelection(Z.index+1,zn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(Z){const R=this.quill.getModule("table");if(R){const[D,z,ue,je]=R.getTable(Z),ot=function Tb(Z,R,D,z){return null==R.prev&&null==R.next?null==D.prev&&null==D.next?0===z?-1:1:null==D.prev?-1:1:null==R.prev?-1:null==R.next?1:null}(0,z,ue,je);if(null==ot)return;let wt=D.offset();if(ot<0){const cn=(new ye).retain(wt).insert("\n");this.quill.updateContents(cn,zn.sources.USER),this.quill.setSelection(Z.index+1,Z.length,zn.sources.SILENT)}else if(ot>0){wt+=D.length();const cn=(new ye).retain(wt).insert("\n");this.quill.updateContents(cn,zn.sources.USER),this.quill.setSelection(wt,zn.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(Z,R){const{event:D,line:z}=R,ue=z.offset(this.quill.scroll);this.quill.setSelection(D.shiftKey?ue-1:ue+z.length(),zn.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(Z,R){if(null==this.quill.scroll.query("list"))return!0;const{length:D}=R.prefix,[z,ue]=this.quill.getLine(Z.index);if(ue>D)return!0;let je;switch(R.prefix.trim()){case"[]":case"[ ]":je="unchecked";break;case"[x]":je="checked";break;case"-":case"*":je="bullet";break;default:je="ordered"}this.quill.insertText(Z.index," ",zn.sources.USER),this.quill.history.cutoff();const ot=(new ye).retain(Z.index-ue).delete(D+1).retain(z.length()-2-ue).retain(1,{list:je});return this.quill.updateContents(ot,zn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-D,zn.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(Z){const[R,D]=this.quill.getLine(Z.index);let z=2,ue=R;for(;null!=ue&&ue.length()<=1&&ue.formats()["code-block"];)if(ue=ue.prev,z-=1,z<=0){const je=(new ye).retain(Z.index+R.length()-D-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(je,zn.sources.USER),this.quill.setSelection(Z.index-1,zn.sources.SILENT),!1}return!0}},"embed left":Ef("ArrowLeft",!1),"embed left shift":Ef("ArrowLeft",!0),"embed right":Ef("ArrowRight",!1),"embed right shift":Ef("ArrowRight",!0),"table down":od(!1),"table up":od(!0)}};function tg(Z){return{key:"Tab",shiftKey:!Z,format:{"code-block":!0},handler(R,D){let{event:z}=D;const ue=this.quill.scroll.query("code-block"),{TAB:je}=ue;if(0===R.length&&!z.shiftKey)return this.quill.insertText(R.index,je,zn.sources.USER),void this.quill.setSelection(R.index+je.length,zn.sources.SILENT);const ot=0===R.length?this.quill.getLines(R.index,1):this.quill.getLines(R);let{index:wt,length:cn}=R;ot.forEach((Sn,Hn)=>{Z?(Sn.insertAt(0,je),0===Hn?wt+=je.length:cn+=je.length):Sn.domNode.textContent.startsWith(je)&&(Sn.deleteAt(0,je.length),0===Hn?wt-=je.length:cn-=je.length)}),this.quill.update(zn.sources.USER),this.quill.setSelection(wt,cn,zn.sources.SILENT)}}}function Ef(Z,R){return{key:Z,shiftKey:R,altKey:null,["ArrowLeft"===Z?"prefix":"suffix"]:/^$/,handler(z){let{index:ue}=z;"ArrowRight"===Z&&(ue+=z.length+1);const[je]=this.quill.getLeaf(ue);return!(je instanceof fo&&("ArrowLeft"===Z?R?this.quill.setSelection(z.index-1,z.length+1,zn.sources.USER):this.quill.setSelection(z.index-1,zn.sources.USER):R?this.quill.setSelection(z.index,z.length+1,zn.sources.USER):this.quill.setSelection(z.index+z.length+1,zn.sources.USER),1))}}}function q_(Z){return{key:Z[0],shortKey:!0,handler(R,D){this.quill.format(Z,!D.format[Z],zn.sources.USER)}}}function od(Z){return{key:Z?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(R,D){const z=Z?"prev":"next",ue=D.line,je=ue.parent[z];if(null!=je){if("table-row"===je.statics.blotName){let ot=je.children.head,wt=ue;for(;null!=wt.prev;)wt=wt.prev,ot=ot.next;const cn=ot.offset(this.quill.scroll)+Math.min(D.offset,ot.length()-1);this.quill.setSelection(cn,0,zn.sources.USER)}}else{const ot=ue.table()[z];null!=ot&&this.quill.setSelection(Z?ot.offset(this.quill.scroll)+ot.length()-1:ot.offset(this.quill.scroll),0,zn.sources.USER)}return!1}}}function n0(Z){let{quill:R,range:D}=Z;const z=R.getLines(D);let ue={};if(z.length>1){const je=z[0].formats(),ot=z[z.length-1].formats();ue=ye.AttributeMap.diff(ot,je)||{}}R.deleteText(D,zn.sources.USER),Object.keys(ue).length>0&&R.formatLine(D.index,1,ue,zn.sources.USER),R.setSelection(D.index,zn.sources.SILENT)}au.DEFAULTS=eg;const yf=/font-weight:\s*normal/,ng=["P","OL","UL"],Db=Z=>Z&&ng.includes(Z.tagName),s0=/\bmso-list:[^;]*ignore/i,o0=/\bmso-list:[^;]*\bl(\d+)/i,lu=/\bmso-list:[^;]*\blevel(\d+)/i,tp=[function Fc(Z){"urn:schemas-microsoft-com:office:word"===Z.documentElement.getAttribute("xmlns:w")&&(Z=>{const R=Array.from(Z.querySelectorAll("[style*=mso-list]")),D=[],z=[];R.forEach(ot=>{(ot.getAttribute("style")||"").match(s0)?D.push(ot):z.push(ot)}),D.forEach(ot=>ot.parentNode?.removeChild(ot));const ue=Z.documentElement.innerHTML,je=z.map(ot=>((Z,R)=>{const D=Z.getAttribute("style"),z=D?.match(o0);if(!z)return null;const ue=Number(z[1]),je=D?.match(lu),ot=je?Number(je[1]):1,wt=new RegExp(`@list l${ue}:level${ot}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),cn=R.match(wt);return{id:ue,indent:ot,type:cn&&"bullet"===cn[1]?"bullet":"ordered",element:Z}})(ot,ue)).filter(ot=>ot);for(;je.length;){const ot=[];let wt=je.shift();for(;wt;)ot.push(wt),wt=je.length&&je[0]?.element===wt.element.nextElementSibling&&je[0].id===wt.id?je.shift():null;const cn=document.createElement("ul");ot.forEach(_i=>{const Ti=document.createElement("li");Ti.setAttribute("data-list",_i.type),_i.indent>1&&Ti.setAttribute("class","ql-indent-"+(_i.indent-1)),Ti.innerHTML=_i.element.innerHTML,cn.appendChild(Ti)});const Sn=ot[0]?.element,{parentNode:Hn}=Sn??{};Sn&&Hn?.replaceChild(cn,Sn),ot.slice(1).forEach(_i=>{let{element:Ti}=_i;Hn?.removeChild(Ti)})}})(Z)},function Qh(Z){Z.querySelector('[id^="docs-internal-guid-"]')&&((Z=>{Array.from(Z.querySelectorAll('b[style*="font-weight"]')).filter(R=>R.getAttribute("style")?.match(yf)).forEach(R=>{const D=Z.createDocumentFragment();D.append(...R.childNodes),R.parentNode?.replaceChild(D,R)})})(Z),(Z=>{Array.from(Z.querySelectorAll("br")).filter(R=>Db(R.previousElementSibling)&&Db(R.nextElementSibling)).forEach(R=>{R.parentNode?.removeChild(R)})})(Z))}],a0=Xa("quill:clipboard"),Cf=[[Node.TEXT_NODE,function u0(Z,R,D){let z=Z.data;if("O:P"===Z.parentElement?.tagName)return R.insert(z.trim());if(!Mf(Z)){if(0===z.trim().length&&z.includes("\n")&&!function rg(Z,R){return Z.previousElementSibling&&Z.nextElementSibling&&!hc(Z.previousElementSibling,R)&&!hc(Z.nextElementSibling,R)}(Z,D))return R;const ue=(je,ot)=>{const wt=ot.replace(/[^\u00a0]/g,"");return wt.length<1&&je?" ":wt};z=z.replace(/\r\n/g," ").replace(/\n/g," "),z=z.replace(/\s\s+/g,ue.bind(ue,!0)),(null==Z.previousSibling&&null!=Z.parentElement&&hc(Z.parentElement,D)||Z.previousSibling instanceof Element&&hc(Z.previousSibling,D))&&(z=z.replace(/^\s+/,ue.bind(ue,!1))),(null==Z.nextSibling&&null!=Z.parentElement&&hc(Z.parentElement,D)||Z.nextSibling instanceof Element&&hc(Z.nextSibling,D))&&(z=z.replace(/\s+$/,ue.bind(ue,!1)))}return R.insert(z)}],[Node.TEXT_NODE,cg],["br",function ag(Z,R){return cu(R,"\n")||R.insert("\n"),R}],[Node.ELEMENT_NODE,cg],[Node.ELEMENT_NODE,function c0(Z,R,D){const z=D.query(Z);if(null==z)return R;if(z.prototype instanceof fo){const ue={},je=z.value(Z);if(null!=je)return ue[z.blotName]=je,(new ye).insert(ue,z.formats(Z,D))}else if(z.prototype instanceof Zo&&!cu(R,"\n")&&R.insert("\n"),"blotName"in z&&"formats"in z&&"function"==typeof z.formats)return Rd(R,z.blotName,z.formats(Z,D),D);return R}],[Node.ELEMENT_NODE,function l0(Z,R,D){const z=yo.keys(Z),ue=Vo.keys(Z),je=ao.keys(Z),ot={};return z.concat(ue).concat(je).forEach(wt=>{let cn=D.query(wt,bi.ATTRIBUTE);null!=cn&&(ot[cn.attrName]=cn.value(Z),ot[cn.attrName])||(cn=np[wt],null!=cn&&(cn.attrName===wt||cn.keyName===wt)&&(ot[cn.attrName]=cn.value(Z)||void 0),cn=og[wt],null!=cn&&(cn.attrName===wt||cn.keyName===wt)&&(cn=og[wt],ot[cn.attrName]=cn.value(Z)||void 0))}),Object.entries(ot).reduce((wt,cn)=>{let[Sn,Hn]=cn;return Rd(wt,Sn,Hn,D)},R)}],[Node.ELEMENT_NODE,function Ob(Z,R,D){const z={},ue=Z.style||{};return"italic"===ue.fontStyle&&(z.italic=!0),"underline"===ue.textDecoration&&(z.underline=!0),"line-through"===ue.textDecoration&&(z.strike=!0),(ue.fontWeight?.startsWith("bold")||parseInt(ue.fontWeight,10)>=700)&&(z.bold=!0),R=Object.entries(z).reduce((je,ot)=>{let[wt,cn]=ot;return Rd(je,wt,cn,D)},R),parseFloat(ue.textIndent||0)>0?(new ye).insert("\t").concat(R):R}],["li",function lg(Z,R,D){const z=D.query(Z);if(null==z||"list"!==z.blotName||!cu(R,"\n"))return R;let ue=-1,je=Z.parentNode;for(;null!=je;)["OL","UL"].includes(je.tagName)&&(ue+=1),je=je.parentNode;return ue<=0?R:R.reduce((ot,wt)=>wt.insert?wt.attributes&&"number"==typeof wt.attributes.indent?ot.push(wt):ot.insert(wt.insert,{indent:ue,...wt.attributes||{}}):ot,new ye)}],["ol, ul",function Df(Z,R,D){let ue="OL"===Z.tagName?"ordered":"bullet";const je=Z.getAttribute("data-checked");return je&&(ue="true"===je?"checked":"unchecked"),Rd(R,"list",ue,D)}],["pre",function d0(Z,R,D){const z=D.query("code-block");return Rd(R,"code-block",!z||!("formats"in z)||"function"!=typeof z.formats||z.formats(Z,D),D)}],["tr",function dg(Z,R,D){const z="TABLE"===Z.parentElement?.tagName?Z.parentElement:Z.parentElement?.parentElement;return null!=z?Rd(R,"table",Array.from(z.querySelectorAll("tr")).indexOf(Z)+1,D):R}],["b",Xu("bold")],["i",Xu("italic")],["strike",Xu("strike")],["style",function rd(){return new ye}]],np=[id,Yh].reduce((Z,R)=>(Z[R.keyName]=R,Z),{}),og=[Y_,mf,xd,gf,vf,Z_].reduce((Z,R)=>(Z[R.keyName]=R,Z),{});let wo=(()=>class Z extends aa{static DEFAULTS={matchers:[]};constructor(D,z){super(D,z),this.quill.root.addEventListener("copy",ue=>this.onCaptureCopy(ue,!1)),this.quill.root.addEventListener("cut",ue=>this.onCaptureCopy(ue,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Cf.concat(this.options.matchers??[]).forEach(ue=>{let[je,ot]=ue;this.addMatcher(je,ot)})}addMatcher(D,z){this.matchers.push([D,z])}convert(D){let{html:z,text:ue}=D,je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(je[la.blotName])return(new ye).insert(ue||"",{[la.blotName]:je[la.blotName]});if(!z)return(new ye).insert(ue||"",je);const ot=this.convertHTML(z);return cu(ot,"\n")&&(null==ot.ops[ot.ops.length-1].attributes||je.table)?ot.compose((new ye).retain(ot.length()-1).delete(1)):ot}normalizeHTML(D){(Z=>{Z.documentElement&&tp.forEach(R=>{R(Z)})})(D)}convertHTML(D){const z=(new DOMParser).parseFromString(D,"text/html");this.normalizeHTML(z);const ue=z.body,je=new WeakMap,[ot,wt]=this.prepareMatching(ue,je);return Tf(this.quill.scroll,ue,ot,wt,je)}dangerouslyPasteHTML(D,z){let ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zn.sources.API;if("string"==typeof D){const je=this.convert({html:D,text:""});this.quill.setContents(je,z),this.quill.setSelection(0,zn.sources.SILENT)}else{const je=this.convert({html:z,text:""});this.quill.updateContents((new ye).retain(D).concat(je),ue),this.quill.setSelection(D+je.length(),zn.sources.SILENT)}}onCaptureCopy(D){let z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(D.defaultPrevented)return;D.preventDefault();const[ue]=this.quill.selection.getRange();if(null==ue)return;const{html:je,text:ot}=this.onCopy(ue,z);D.clipboardData?.setData("text/plain",ot),D.clipboardData?.setData("text/html",je),z&&n0({range:ue,quill:this.quill})}normalizeURIList(D){return D.split(/\r?\n/).filter(z=>"#"!==z[0]).join("\n")}onCapturePaste(D){if(D.defaultPrevented||!this.quill.isEnabled())return;D.preventDefault();const z=this.quill.getSelection(!0);if(null==z)return;const ue=D.clipboardData?.getData("text/html");let je=D.clipboardData?.getData("text/plain");if(!ue&&!je){const wt=D.clipboardData?.getData("text/uri-list");wt&&(je=this.normalizeURIList(wt))}const ot=Array.from(D.clipboardData?.files||[]);if(!ue&&ot.length>0)this.quill.uploader.upload(z,ot);else{if(ue&&ot.length>0){const wt=(new DOMParser).parseFromString(ue,"text/html");if(1===wt.body.childElementCount&&"IMG"===wt.body.firstElementChild?.tagName)return void this.quill.uploader.upload(z,ot)}this.onPaste(z,{html:ue,text:je})}}onCopy(D){const z=this.quill.getText(D);return{html:this.quill.getSemanticHTML(D),text:z}}onPaste(D,z){let{text:ue,html:je}=z;const ot=this.quill.getFormat(D.index),wt=this.convert({text:ue,html:je},ot);a0.log("onPaste",wt,{text:ue,html:je});const cn=(new ye).retain(D.index).delete(D.length).concat(wt);this.quill.updateContents(cn,zn.sources.USER),this.quill.setSelection(cn.length()-D.length,zn.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(D,z){const ue=[],je=[];return this.matchers.forEach(ot=>{const[wt,cn]=ot;switch(wt){case Node.TEXT_NODE:je.push(cn);break;case Node.ELEMENT_NODE:ue.push(cn);break;default:Array.from(D.querySelectorAll(wt)).forEach(Sn=>{z.has(Sn)?z.get(Sn)?.push(cn):z.set(Sn,[cn])})}}),[ue,je]}})();function Rd(Z,R,D,z){return z.query(R)?Z.reduce((ue,je)=>je.insert?je.attributes&&je.attributes[R]?ue.push(je):ue.insert(je.insert,{...D?{[R]:D}:{},...je.attributes}):ue,new ye):Z}function cu(Z,R){let D="";for(let z=Z.ops.length-1;z>=0&&D.length<R.length;--z){const ue=Z.ops[z];if("string"!=typeof ue.insert)break;D=ue.insert+D}return D.slice(-1*R.length)===R}function hc(Z,R){if(!(Z instanceof Element))return!1;const D=R.query(Z);return!(D&&D.prototype instanceof fo)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(Z.tagName.toLowerCase())}const zu=new WeakMap;function Mf(Z){return null!=Z&&(zu.has(Z)||zu.set(Z,"PRE"===Z.tagName||Mf(Z.parentNode)),zu.get(Z))}function Tf(Z,R,D,z,ue){return R.nodeType===R.TEXT_NODE?z.reduce((je,ot)=>ot(R,je,Z),new ye):R.nodeType===R.ELEMENT_NODE?Array.from(R.childNodes||[]).reduce((je,ot)=>{let wt=Tf(Z,ot,D,z,ue);return ot.nodeType===R.ELEMENT_NODE&&(wt=D.reduce((cn,Sn)=>Sn(ot,cn,Z),wt),wt=(ue.get(ot)||[]).reduce((cn,Sn)=>Sn(ot,cn,Z),wt)),je.concat(wt)},new ye):new ye}function Xu(Z){return(R,D,z)=>Rd(D,Z,!0,z)}function cg(Z,R,D){if(!cu(R,"\n")){if(hc(Z,D)&&(Z.childNodes.length>0||Z instanceof HTMLParagraphElement))return R.insert("\n");if(R.length()>0&&Z.nextSibling){let z=Z.nextSibling;for(;null!=z;){if(hc(z,D))return R.insert("\n");const ue=D.query(z);if(ue&&ue.prototype instanceof ba)return R.insert("\n");z=z.firstChild}}}return R}let h0=(()=>class Z extends aa{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(D,z){super(D,z),this.quill.on(zn.events.EDITOR_CHANGE,(ue,je,ot,wt)=>{ue===zn.events.SELECTION_CHANGE?je&&wt!==zn.sources.SILENT&&(this.currentRange=je):ue===zn.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&wt!==zn.sources.USER?this.transform(je):this.record(je,ot)),this.currentRange=ip(this.currentRange,je))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",ue=>{"historyUndo"===ue.inputType?(this.undo(),ue.preventDefault()):"historyRedo"===ue.inputType&&(this.redo(),ue.preventDefault())})}change(D,z){if(0===this.stack[D].length)return;const ue=this.stack[D].pop();if(!ue)return;const je=this.quill.getContents(),ot=ue.delta.invert(je);this.stack[z].push({delta:ot,range:ip(ue.range,ot)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ue.delta,zn.sources.USER),this.ignoreChange=!1,this.restoreSelection(ue)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(D,z){if(0===D.ops.length)return;this.stack.redo=[];let ue=D.invert(z),je=this.currentRange;const ot=Date.now();if(this.lastRecorded+this.options.delay>ot&&this.stack.undo.length>0){const wt=this.stack.undo.pop();wt&&(ue=ue.compose(wt.delta),je=wt.range)}else this.lastRecorded=ot;0!==ue.length()&&(this.stack.undo.push({delta:ue,range:je}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(D){ug(this.stack.undo,D),ug(this.stack.redo,D)}undo(){this.change("undo","redo")}restoreSelection(D){if(D.range)this.quill.setSelection(D.range,zn.sources.USER);else{const z=function Jh(Z,R){const D=R.reduce((ue,je)=>ue+(je.delete||0),0);let z=R.length()-D;return function Hu(Z,R){const D=R.ops[R.ops.length-1];return null!=D&&(null!=D.insert?"string"==typeof D.insert&&D.insert.endsWith("\n"):null!=D.attributes&&Object.keys(D.attributes).some(z=>null!=Z.query(z,bi.BLOCK)))}(Z,R)&&(z-=1),z}(this.quill.scroll,D.delta);this.quill.setSelection(z,zn.sources.USER)}}})();function ug(Z,R){let D=R;for(let z=Z.length-1;z>=0;z-=1){const ue=Z[z];Z[z]={delta:D.transform(ue.delta,!0),range:ue.range&&ip(ue.range,D)},D=ue.delta.transform(D),0===Z[z].delta.length()&&Z.splice(z,1)}}function ip(Z,R){if(!Z)return Z;const D=R.transformPosition(Z.index);return{index:D,length:R.transformPosition(Z.index+Z.length)-D}}const Zh=(()=>{class Z extends aa{constructor(D,z){super(D,z),D.root.addEventListener("drop",ue=>{ue.preventDefault();let je=null;if(document.caretRangeFromPoint)je=document.caretRangeFromPoint(ue.clientX,ue.clientY);else if(document.caretPositionFromPoint){const wt=document.caretPositionFromPoint(ue.clientX,ue.clientY);je=document.createRange(),je.setStart(wt.offsetNode,wt.offset),je.setEnd(wt.offsetNode,wt.offset)}const ot=je&&D.selection.normalizeNative(je);if(ot){const wt=D.selection.normalizedToRange(ot);ue.dataTransfer?.files&&this.upload(wt,ue.dataTransfer.files)}})}upload(D,z){const ue=[];Array.from(z).forEach(je=>{je&&this.options.mimetypes?.includes(je.type)&&ue.push(je)}),ue.length>0&&this.options.handler.call(this,D,ue)}}return Z.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(R,D){if(!this.quill.scroll.query("image"))return;const z=D.map(ue=>new Promise(je=>{const ot=new FileReader;ot.onload=()=>{je(ot.result)},ot.readAsDataURL(ue)}));Promise.all(z).then(ue=>{const je=ue.reduce((ot,wt)=>ot.insert({image:wt}),(new ye).retain(R.index).delete(R.length));this.quill.updateContents(je,di.sources.USER),this.quill.setSelection(R.index+ue.length,di.sources.SILENT)})}},Z})(),qh=["insertText","insertReplacementText"],e_=/Mac/i.test(navigator.platform);zn.register({"blots/block":Yl,"blots/block/embed":ba,"blots/break":ka,"blots/container":ou,"blots/cursor":cl,"blots/embed":zh,"blots/inline":Sd,"blots/scroll":e0,"blots/text":uc,"modules/clipboard":wo,"modules/history":h0,"modules/keyboard":au,"modules/uploader":Zh,"modules/input":class _0 extends aa{constructor(R,D){super(R,D),R.root.addEventListener("beforeinput",z=>{this.handleBeforeInput(z)}),/Android/i.test(navigator.userAgent)||R.on(zn.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(R){n0({range:R,quill:this.quill})}replaceText(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===R.length)return!1;if(D){const z=this.quill.getFormat(R.index,1);this.deleteRange(R),this.quill.updateContents((new ye).retain(R.index).insert(D,z),zn.sources.USER)}else this.deleteRange(R);return this.quill.setSelection(R.index+D.length,0,zn.sources.SILENT),!0}handleBeforeInput(R){if(this.quill.composition.isComposing||R.defaultPrevented||!qh.includes(R.inputType))return;const D=R.getTargetRanges?R.getTargetRanges()[0]:null;if(!D||!0===D.collapsed)return;const z=function If(Z){return"string"==typeof Z.data?Z.data:Z.dataTransfer?.types.includes("text/plain")?Z.dataTransfer.getData("text/plain"):null}(R);if(null==z)return;const ue=this.quill.selection.normalizeNative(D),je=ue?this.quill.selection.normalizedToRange(ue):null;je&&this.replaceText(je,z)&&R.preventDefault()}handleCompositionStart(){const R=this.quill.getSelection();R&&this.replaceText(R)}},"modules/uiNode":class Sf extends aa{isListening=!1;selectionChangeDeadline=0;constructor(R,D){super(R,D),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(R,D){let{line:z,event:ue}=D;if(!(z instanceof Gr&&z.uiNode))return!0;const je="rtl"===getComputedStyle(z.domNode).direction;return!!(je&&"ArrowRight"!==ue.key||!je&&"ArrowLeft"!==ue.key)||(this.quill.setSelection(R.index-1,R.length+(ue.shiftKey?1:0),zn.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",R=>{!R.defaultPrevented&&(Z=>!!("ArrowLeft"===Z.key||"ArrowRight"===Z.key||"ArrowUp"===Z.key||"ArrowDown"===Z.key||"Home"===Z.key||e_&&"a"===Z.key&&!0===Z.ctrlKey))(R)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const R=document.getSelection();if(!R)return;const D=R.getRangeAt(0);if(!0!==D.collapsed||0!==D.startOffset)return;const z=this.quill.scroll.find(D.startContainer);if(!(z instanceof Gr&&z.uiNode))return;const ue=document.createRange();ue.setStartAfter(z.uiNode),ue.setEndAfter(z.uiNode),R.removeAllRanges(),R.addRange(ue)}}});const pg=zn,Of=new class f0 extends Vo{add(R,D){let z=0;if("+1"===D||"-1"===D){const ue=this.value(R)||0;z="+1"===D?ue+1:ue-1}else"number"==typeof D&&(z=D);return 0===z?(this.remove(R),!0):super.add(R,z.toString())}canAdd(R,D){return super.canAdd(R,D)||super.canAdd(R,parseInt(D,10))}value(R){return parseInt(super.value(R),10)||void 0}}("indent","ql-indent",{scope:bi.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),hl=(()=>class Z extends Yl{static blotName="blockquote";static tagName="blockquote"})(),g0=(()=>class Z extends Yl{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(D){return this.tagName.indexOf(D.tagName)+1}})();let t_=(()=>{class Z extends ou{}return Z.blotName="list-container",Z.tagName="OL",Z})(),mg=(()=>{class Z extends Yl{static create(D){const z=super.create();return z.setAttribute("data-list",D),z}static formats(D){return D.getAttribute("data-list")||void 0}static register(){zn.register(t_)}constructor(D,z){super(D,z);const ue=z.ownerDocument.createElement("span"),je=ot=>{if(!D.isEnabled())return;const wt=this.statics.formats(z,D);"checked"===wt?(this.format("list","unchecked"),ot.preventDefault()):"unchecked"===wt&&(this.format("list","checked"),ot.preventDefault())};ue.addEventListener("mousedown",je),ue.addEventListener("touchstart",je),this.attachUI(ue)}format(D,z){D===this.statics.blotName&&z?this.domNode.setAttribute("data-list",z):super.format(D,z)}}return Z.blotName="list",Z.tagName="LI",Z})();t_.allowedChildren=[mg],mg.requiredContainer=t_;const ya=(()=>class Z extends Sd{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(D){super.optimize(D),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}})(),v0=(()=>class Z extends ya{static blotName="italic";static tagName=["EM","I"]})();let sp=(()=>class Z extends Sd{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(D){const z=super.create(D);return z.setAttribute("href",this.sanitize(D)),z.setAttribute("rel","noopener noreferrer"),z.setAttribute("target","_blank"),z}static formats(D){return D.getAttribute("href")}static sanitize(D){return b0(D,this.PROTOCOL_WHITELIST)?D:this.SANITIZED_URL}format(D,z){D===this.statics.blotName&&z?this.domNode.setAttribute("href",this.constructor.sanitize(z)):super.format(D,z)}})();function b0(Z,R){const D=document.createElement("a");D.href=Z;const z=D.href.slice(0,D.href.indexOf(":"));return R.indexOf(z)>-1}const gg=(()=>class Z extends Sd{static blotName="script";static tagName=["SUB","SUP"];static create(D){return"super"===D?document.createElement("sup"):"sub"===D?document.createElement("sub"):super.create(D)}static formats(D){return"SUB"===D.tagName?"sub":"SUP"===D.tagName?"super":void 0}})(),op=(()=>class Z extends ya{static blotName="strike";static tagName=["S","STRIKE"]})(),vg=(()=>class Z extends Sd{static blotName="underline";static tagName="U"})(),Yu=(()=>class Z extends zh{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(D){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const z=super.create(D);return"string"==typeof D&&(window.katex.render(D,z,{throwOnError:!1,errorColor:"#f00"}),z.setAttribute("data-value",D)),z}static value(D){return D.getAttribute("data-value")}html(){const{formula:D}=this.value();return`<span>${D}</span>`}})(),bg=["alt","height","width"],Eg=(()=>class Z extends fo{static blotName="image";static tagName="IMG";static create(D){const z=super.create(D);return"string"==typeof D&&z.setAttribute("src",this.sanitize(D)),z}static formats(D){return bg.reduce((z,ue)=>(D.hasAttribute(ue)&&(z[ue]=D.getAttribute(ue)),z),{})}static match(D){return/\.(jpe?g|gif|png)$/.test(D)||/^data:image\/.+;base64/.test(D)}static sanitize(D){return b0(D,["http","https","data"])?D:"//:0"}static value(D){return D.getAttribute("src")}format(D,z){bg.indexOf(D)>-1?z?this.domNode.setAttribute(D,z):this.domNode.removeAttribute(D):super.format(D,z)}})(),Rf=["height","width"],Af=(()=>class Z extends ba{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(D){const z=super.create(D);return z.setAttribute("frameborder","0"),z.setAttribute("allowfullscreen","true"),z.setAttribute("src",this.sanitize(D)),z}static formats(D){return Rf.reduce((z,ue)=>(D.hasAttribute(ue)&&(z[ue]=D.getAttribute(ue)),z),{})}static sanitize(D){return sp.sanitize(D)}static value(D){return D.getAttribute("src")}format(D,z){Rf.indexOf(D)>-1?z?this.domNode.setAttribute(D,z):this.domNode.removeAttribute(D):super.format(D,z)}html(){const{video:D}=this.value();return`<a href="${D}">${D}</a>`}})(),Qu=new Vo("code-token","hljs",{scope:bi.INLINE});let Ju=(()=>{class Z extends Sd{static formats(D,z){for(;null!=D&&D!==z.domNode;){if(D.classList&&D.classList.contains(la.className))return super.formats(D,z);D=D.parentNode}}constructor(D,z,ue){super(D,z,ue),Qu.add(this.domNode,ue)}format(D,z){D!==Z.blotName?super.format(D,z):z?Qu.add(this.domNode,z):(Qu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Qu.value(this.domNode)||this.unwrap()}}return Z.blotName="code-token",Z.className="ql-token",Z})();class _l extends la{static create(R){const D=super.create(R);return"string"==typeof R&&D.setAttribute("data-language",R),D}static formats(R){return R.getAttribute("data-language")||"plain"}static register(){}format(R,D){R===this.statics.blotName&&D?this.domNode.setAttribute("data-language",D):super.format(R,D)}replaceWith(R,D){return this.formatAt(0,this.length(),Ju.blotName,!1),super.replaceWith(R,D)}}let ap=(()=>{class Z extends ul{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(D,z){D===_l.blotName&&(this.forceNext=!0,this.children.forEach(ue=>{ue.format(D,z)}))}formatAt(D,z,ue,je){ue===_l.blotName&&(this.forceNext=!0),super.formatAt(D,z,ue,je)}highlight(D){let z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const je=`${Array.from(this.domNode.childNodes).filter(wt=>wt!==this.uiNode).map(wt=>wt.textContent).join("\n")}\n`,ot=_l.formats(this.children.head.domNode);if(z||this.forceNext||this.cachedText!==je){if(je.trim().length>0||null==this.cachedText){const wt=this.children.reduce((Sn,Hn)=>Sn.concat(jh(Hn,!1)),new ye),cn=D(je,ot);wt.diff(cn).reduce((Sn,Hn)=>{let{retain:_i,attributes:Ti}=Hn;return _i?(Ti&&Object.keys(Ti).forEach(ns=>{[_l.blotName,Ju.blotName].includes(ns)&&this.formatAt(Sn,_i,ns,Ti[ns])}),Sn+_i):Sn},0)}this.cachedText=je,this.forceNext=!1}}html(D,z){const[ue]=this.children.find(D);return`<pre data-language="${ue?_l.formats(ue.domNode):"plain"}">\n${Pa(this.code(D,z))}\n</pre>`}optimize(D){if(super.optimize(D),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const z=_l.formats(this.children.head.domNode);z!==this.uiNode.value&&(this.uiNode.value=z)}}}return Z.allowedChildren=[_l],Z})();_l.requiredContainer=ap,_l.allowedChildren=[Ju,cl,uc,ka];class yg extends aa{static register(){zn.register(Ju,!0),zn.register(_l,!0),zn.register(ap,!0)}constructor(R,D){if(super(R,D),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((z,ue)=>{let{key:je}=ue;return z[je]=!0,z},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(zn.events.SCROLL_BLOT_MOUNT,R=>{if(!(R instanceof ap))return;const D=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(z=>{let{key:ue,label:je}=z;const ot=D.ownerDocument.createElement("option");ot.textContent=je,ot.setAttribute("value",ue),D.appendChild(ot)}),D.addEventListener("change",()=>{R.format(_l.blotName,D.value),this.quill.root.focus(),this.highlight(R,!0)}),null==R.uiNode&&(R.attachUI(D),R.children.head&&(D.value=_l.formats(R.children.head.domNode)))})}initTimer(){let R=null;this.quill.on(zn.events.SCROLL_OPTIMIZE,()=>{R&&clearTimeout(R),R=setTimeout(()=>{this.highlight(),R=null},this.options.interval)})}highlight(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(zn.sources.USER);const z=this.quill.getSelection();(null==R?this.quill.scroll.descendants(ap):[R]).forEach(je=>{je.highlight(this.highlightBlot,D)}),this.quill.update(zn.sources.SILENT),null!=z&&this.quill.setSelection(z,zn.sources.SILENT)}highlightBlot(R){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(D=this.languages[D]?D:"plain","plain"===D)return Pa(R).split("\n").reduce((ue,je,ot)=>(0!==ot&&ue.insert("\n",{[la.blotName]:D}),ue.insert(je)),new ye);const z=this.quill.root.ownerDocument.createElement("div");return z.classList.add(la.className),z.innerHTML=((Z,R,D)=>{if("string"==typeof Z.versionString){const z=Z.versionString.split(".")[0];if(parseInt(z,10)>=11)return Z.highlight(D,{language:R}).value}return Z.highlight(R,D).value})(this.options.hljs,D,R),Tf(this.quill.scroll,z,[(ue,je)=>{const ot=Qu.value(ue);return ot?je.compose((new ye).retain(je.length(),{[Ju.blotName]:ot})):je}],[(ue,je)=>ue.data.split("\n").reduce((ot,wt,cn)=>(0!==cn&&ot.insert("\n",{[la.blotName]:D}),ot.insert(wt)),je)],new WeakMap)}}yg.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let ad=(()=>{class Z extends Yl{static blotName="table";static tagName="TD";static create(D){const z=super.create();return z.setAttribute("data-row",D||Cg()),z}static formats(D){if(D.hasAttribute("data-row"))return D.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(D,z){D===Z.blotName&&z?this.domNode.setAttribute("data-row",z):super.format(D,z)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return Z})(),Ad=(()=>class Z extends ou{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const D=this.children.head.formats(),z=this.children.tail.formats(),ue=this.next.children.head.formats(),je=this.next.children.tail.formats();return D.table===z.table&&D.table===ue.table&&D.table===je.table}return!1}optimize(D){super.optimize(D),this.children.forEach(z=>{if(null==z.next)return;const ue=z.formats(),je=z.next.formats();if(ue.table!==je.table){const ot=this.splitAfter(z);ot&&ot.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}})(),wd=(()=>class Z extends ou{static blotName="table-body";static tagName="TBODY"})(),wf=(()=>{class Z extends ou{static blotName="table-container";static tagName="TABLE";balanceCells(){const D=this.descendants(Ad),z=D.reduce((ue,je)=>Math.max(je.children.length,ue),0);D.forEach(ue=>{new Array(z-ue.children.length).fill(0).forEach(()=>{let je;null!=ue.children.head&&(je=ad.formats(ue.children.head.domNode));const ot=this.scroll.create(ad.blotName,je);ue.appendChild(ot),ot.optimize()})})}cells(D){return this.rows().map(z=>z.children.at(D))}deleteColumn(D){const[z]=this.descendant(wd);null==z||null==z.children.head||z.children.forEach(ue=>{const je=ue.children.at(D);je?.remove()})}insertColumn(D){const[z]=this.descendant(wd);null==z||null==z.children.head||z.children.forEach(ue=>{const je=ue.children.at(D),ot=ad.formats(ue.children.head.domNode),wt=this.scroll.create(ad.blotName,ot);ue.insertBefore(wt,je)})}insertRow(D){const[z]=this.descendant(wd);if(null==z||null==z.children.head)return;const ue=Cg(),je=this.scroll.create(Ad.blotName);z.children.head.children.forEach(()=>{const wt=this.scroll.create(ad.blotName,ue);je.appendChild(wt)});const ot=z.children.at(D);z.insertBefore(je,ot)}rows(){const D=this.children.head;return null==D?[]:D.children.map(z=>z)}}return Z.allowedChildren=[wd],Z})();function Cg(){return`row-${Math.random().toString(36).slice(2,6)}`}wd.requiredContainer=wf,wd.allowedChildren=[Ad],Ad.requiredContainer=wd,Ad.allowedChildren=[ad],ad.requiredContainer=Ad;const ld=Xa("quill:toolbar");let kf=(()=>{class Z extends aa{constructor(D,z){if(super(D,z),Array.isArray(this.options.container)){const ue=document.createElement("div");ue.setAttribute("role","toolbar"),function T0(Z,R){Array.isArray(R[0])||(R=[R]),R.forEach(D=>{const z=document.createElement("span");z.classList.add("ql-formats"),D.forEach(ue=>{if("string"==typeof ue)lp(z,ue);else{const je=Object.keys(ue)[0],ot=ue[je];Array.isArray(ot)?function Sl(Z,R,D){const z=document.createElement("select");z.classList.add(`ql-${R}`),D.forEach(ue=>{const je=document.createElement("option");!1!==ue?je.setAttribute("value",String(ue)):je.setAttribute("selected","selected"),z.appendChild(je)}),Z.appendChild(z)}(z,je,ot):lp(z,je,ot)}}),Z.appendChild(z)})}(ue,this.options.container),D.container?.parentNode?.insertBefore(ue,D.container),this.container=ue}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(ue=>{const je=this.options.handlers?.[ue];je&&this.addHandler(ue,je)}),Array.from(this.container.querySelectorAll("button, select")).forEach(ue=>{this.attach(ue)}),this.quill.on(zn.events.EDITOR_CHANGE,()=>{const[ue]=this.quill.selection.getRange();this.update(ue)})):ld.error("Container required for toolbar",this.options)}addHandler(D,z){this.handlers[D]=z}attach(D){let z=Array.from(D.classList).find(je=>0===je.indexOf("ql-"));z&&(z=z.slice(3),"BUTTON"===D.tagName&&D.setAttribute("type","button"),null!=this.handlers[z]||null!=this.quill.scroll.query(z)?(D.addEventListener("SELECT"===D.tagName?"change":"click",je=>{let ot;if("SELECT"===D.tagName){if(D.selectedIndex<0)return;const cn=D.options[D.selectedIndex];ot=!cn.hasAttribute("selected")&&(cn.value||!1)}else ot=!D.classList.contains("ql-active")&&(D.value||!D.hasAttribute("value")),je.preventDefault();this.quill.focus();const[wt]=this.quill.selection.getRange();if(null!=this.handlers[z])this.handlers[z].call(this,ot);else if(this.quill.scroll.query(z).prototype instanceof fo){if(ot=prompt(`Enter ${z}`),!ot)return;this.quill.updateContents((new ye).retain(wt.index).delete(wt.length).insert({[z]:ot}),zn.sources.USER)}else this.quill.format(z,ot,zn.sources.USER);this.update(wt)}),this.controls.push([z,D])):ld.warn("ignoring attaching to nonexistent format",z,D))}update(D){const z=null==D?{}:this.quill.getFormat(D);this.controls.forEach(ue=>{const[je,ot]=ue;if("SELECT"===ot.tagName){let wt=null;if(null==D)wt=null;else if(null==z[je])wt=ot.querySelector("option[selected]");else if(!Array.isArray(z[je])){let cn=z[je];"string"==typeof cn&&(cn=cn.replace(/"/g,'\\"')),wt=ot.querySelector(`option[value="${cn}"]`)}null==wt?(ot.value="",ot.selectedIndex=-1):wt.selected=!0}else if(null==D)ot.classList.remove("ql-active"),ot.setAttribute("aria-pressed","false");else if(ot.hasAttribute("value")){const wt=z[je],cn=wt===ot.getAttribute("value")||null!=wt&&wt.toString()===ot.getAttribute("value")||null==wt&&!ot.getAttribute("value");ot.classList.toggle("ql-active",cn),ot.setAttribute("aria-pressed",cn.toString())}else{const wt=null!=z[je];ot.classList.toggle("ql-active",wt),ot.setAttribute("aria-pressed",wt.toString())}})}}return Z.DEFAULTS={},Z})();function lp(Z,R,D){const z=document.createElement("button");z.setAttribute("type","button"),z.classList.add(`ql-${R}`),z.setAttribute("aria-pressed","false"),null!=D?(z.value=D,z.setAttribute("aria-label",`${R}: ${D}`)):z.setAttribute("aria-label",R),Z.appendChild(z)}kf.DEFAULTS={container:null,handlers:{clean(){const Z=this.quill.getSelection();if(null!=Z)if(0===Z.length){const R=this.quill.getFormat();Object.keys(R).forEach(D=>{null!=this.quill.scroll.query(D,bi.INLINE)&&this.quill.format(D,!1,zn.sources.USER)})}else this.quill.removeFormat(Z.index,Z.length,zn.sources.USER)},direction(Z){const{align:R}=this.quill.getFormat();"rtl"===Z&&null==R?this.quill.format("align","right",zn.sources.USER):!Z&&"right"===R&&this.quill.format("align",!1,zn.sources.USER),this.quill.format("direction",Z,zn.sources.USER)},indent(Z){const R=this.quill.getSelection(),D=this.quill.getFormat(R),z=parseInt(D.indent||0,10);if("+1"===Z||"-1"===Z){let ue="+1"===Z?1:-1;"rtl"===D.direction&&(ue*=-1),this.quill.format("indent",z+ue,zn.sources.USER)}},link(Z){!0===Z&&(Z=prompt("Enter link URL:")),this.quill.format("link",Z,zn.sources.USER)},list(Z){const R=this.quill.getSelection(),D=this.quill.getFormat(R);this.quill.format("list","check"===Z?"checked"!==D.list&&"unchecked"!==D.list&&"unchecked":Z,zn.sources.USER)}}};const Ff='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',_c={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Ff,"code-block":Ff,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let qu=0;function kd(Z,R){Z.setAttribute(R,`${"true"!==Z.getAttribute(R)}`)}const th=class eh{constructor(R){this.select=R,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",D=>{switch(D.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),D.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),kd(this.label,"aria-expanded"),kd(this.options,"aria-hidden")}buildItem(R){const D=document.createElement("span");D.tabIndex="0",D.setAttribute("role","button"),D.classList.add("ql-picker-item");const z=R.getAttribute("value");return z&&D.setAttribute("data-value",z),R.textContent&&D.setAttribute("data-label",R.textContent),D.addEventListener("click",()=>{this.selectItem(D,!0)}),D.addEventListener("keydown",ue=>{switch(ue.key){case"Enter":this.selectItem(D,!0),ue.preventDefault();break;case"Escape":this.escape(),ue.preventDefault()}}),D}buildLabel(){const R=document.createElement("span");return R.classList.add("ql-picker-label"),R.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',R.tabIndex="0",R.setAttribute("role","button"),R.setAttribute("aria-expanded","false"),this.container.appendChild(R),R}buildOptions(){const R=document.createElement("span");R.classList.add("ql-picker-options"),R.setAttribute("aria-hidden","true"),R.tabIndex="-1",R.id=`ql-picker-options-${qu}`,qu+=1,this.label.setAttribute("aria-controls",R.id),this.options=R,Array.from(this.select.options).forEach(D=>{const z=this.buildItem(D);R.appendChild(z),!0===D.selected&&this.selectItem(z)}),this.container.appendChild(R)}buildPicker(){Array.from(this.select.attributes).forEach(R=>{this.container.setAttribute(R.name,R.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(R){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const z=this.container.querySelector(".ql-selected");R!==z&&(z?.classList.remove("ql-selected"),null!=R&&(R.classList.add("ql-selected"),this.select.selectedIndex=Array.from(R.parentNode.children).indexOf(R),R.hasAttribute("data-value")?this.label.setAttribute("data-value",R.getAttribute("data-value")):this.label.removeAttribute("data-value"),R.hasAttribute("data-label")?this.label.setAttribute("data-label",R.getAttribute("data-label")):this.label.removeAttribute("data-label"),D&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let R;if(this.select.selectedIndex>-1){const z=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];R=this.select.options[this.select.selectedIndex],this.selectItem(z)}else this.selectItem(null);const D=null!=R&&R!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",D)}},O0=class hp extends th{constructor(R,D){super(R),this.label.innerHTML=D,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(z=>{z.classList.add("ql-primary")})}buildItem(R){const D=super.buildItem(R);return D.style.backgroundColor=R.getAttribute("value")||"",D}selectItem(R,D){super.selectItem(R,D);const z=this.label.querySelector(".ql-color-label"),ue=R&&R.getAttribute("data-value")||"";z&&("line"===z.tagName?z.style.stroke=ue:z.style.fill=ue)}},Bc=class jf extends th{constructor(R,D){super(R),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(z=>{z.innerHTML=D[z.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(R,D){super.selectItem(R,D);const z=R||this.defaultItem;if(null!=z){if(this.label.innerHTML===z.innerHTML)return;this.label.innerHTML=z.innerHTML}}},pp=class _p{constructor(R,D){this.quill=R,this.boundsContainer=D||document.body,this.root=R.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(Z=>{const{overflowY:R}=getComputedStyle(Z,null);return"visible"!==R&&"clip"!==R})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(R){const D=R.left+R.width/2-this.root.offsetWidth/2,z=R.bottom+this.quill.root.scrollTop;this.root.style.left=`${D}px`,this.root.style.top=`${z}px`,this.root.classList.remove("ql-flip");const ue=this.boundsContainer.getBoundingClientRect(),je=this.root.getBoundingClientRect();let ot=0;return je.right>ue.right&&(ot=ue.right-je.right,this.root.style.left=`${D+ot}px`),je.left<ue.left&&(ot=ue.left-je.left,this.root.style.left=`${D+ot}px`),je.bottom>ue.bottom&&(this.root.style.top=z-(R.bottom-R.top+(je.bottom-je.top))+"px",this.root.classList.add("ql-flip")),ot}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Rg=[!1,"center","right","justify"],R0=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ag=[!1,"serif","monospace"],fp=["1","2","3",!1],mp=["small",!1,"large","huge"];class pl extends U_{constructor(R,D){super(R,D);const z=ue=>{document.body.contains(R.root)?(null!=this.tooltip&&!this.tooltip.root.contains(ue.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(je=>{je.container.contains(ue.target)||je.close()})):document.body.removeEventListener("click",z)};R.emitter.listenDOM("click",document.body,z)}addModule(R){const D=super.addModule(R);return"toolbar"===R&&this.extendToolbar(D),D}buildButtons(R,D){Array.from(R).forEach(z=>{(z.getAttribute("class")||"").split(/\s+/).forEach(je=>{if(je.startsWith("ql-")&&(je=je.slice(3),null!=D[je]))if("direction"===je)z.innerHTML=D[je][""]+D[je].rtl;else if("string"==typeof D[je])z.innerHTML=D[je];else{const ot=z.value||"";null!=ot&&D[je][ot]&&(z.innerHTML=D[je][ot])}})})}buildPickers(R,D){this.pickers=Array.from(R).map(ue=>{if(ue.classList.contains("ql-align")&&(null==ue.querySelector("option")&&ih(ue,Rg),"object"==typeof D.align))return new Bc(ue,D.align);if(ue.classList.contains("ql-background")||ue.classList.contains("ql-color")){const je=ue.classList.contains("ql-background")?"background":"color";return null==ue.querySelector("option")&&ih(ue,R0,"background"===je?"#ffffff":"#000000"),new O0(ue,D[je])}return null==ue.querySelector("option")&&(ue.classList.contains("ql-font")?ih(ue,Ag):ue.classList.contains("ql-header")?ih(ue,fp):ue.classList.contains("ql-size")&&ih(ue,mp)),new th(ue)}),this.quill.on(di.events.EDITOR_CHANGE,()=>{this.pickers.forEach(ue=>{ue.update()})})}}pl.DEFAULTS=$l({},U_.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let Z=this.container.querySelector("input.ql-image[type=file]");null==Z&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),Z.classList.add("ql-image"),Z.addEventListener("change",()=>{const R=this.quill.getSelection(!0);this.quill.uploader.upload(R,Z.files),Z.value=""}),this.container.appendChild(Z)),Z.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Uf extends pp{constructor(R,D){super(R,D),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",R=>{"Enter"===R.key?(this.save(),R.preventDefault()):"Escape"===R.key&&(this.cancel(),R.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=D?this.textbox.value=D:R!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const z=this.quill.getBounds(this.quill.selection.savedRange);null!=z&&this.position(z),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${R}`)||""),this.root.setAttribute("data-mode",R)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:R}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:D}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",R,di.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",R,di.sources.USER)),this.quill.root.scrollTop=D;break}case"video":R=function nh(Z){let R=Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?`${R[1]||"https"}://www.youtube.com/embed/${R[2]}?showinfo=0`:(R=Z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${R[1]||"https"}://player.vimeo.com/video/${R[2]}/`:Z}(R);case"formula":{if(!R)break;const D=this.quill.getSelection(!0);if(null!=D){const z=D.index+D.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),R,di.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(z+1," ",di.sources.USER),this.quill.setSelection(z+2,di.sources.USER)}break}}this.textbox.value="",this.hide()}}function ih(Z,R){let D=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(z=>{const ue=document.createElement("option");z===D?ue.setAttribute("selected","selected"):ue.setAttribute("value",String(z)),Z.appendChild(ue)})}const wg=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class kg extends Uf{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(R,D){super(R,D),this.quill.on(di.events.EDITOR_CHANGE,(z,ue,je,ot)=>{if(z===di.events.SELECTION_CHANGE)if(null!=ue&&ue.length>0&&ot===di.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const wt=this.quill.getLines(ue.index,ue.length);if(1===wt.length){const cn=this.quill.getBounds(ue);null!=cn&&this.position(cn)}else{const cn=wt[wt.length-1],Sn=this.quill.getIndex(cn),Hn=Math.min(cn.length()-1,ue.index+ue.length-Sn),_i=this.quill.getBounds(new tu(Sn,Hn));null!=_i&&this.position(_i)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(di.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const R=this.quill.getSelection();if(null!=R){const D=this.quill.getBounds(R);null!=D&&this.position(D)}},1)})}cancel(){this.show()}position(R){const D=super.position(R),z=this.root.querySelector(".ql-tooltip-arrow");return z.style.marginLeft="",0!==D&&(z.style.marginLeft=-1*D-z.offsetWidth/2+"px"),D}}class a_ extends pl{constructor(R,D){null!=D.modules.toolbar&&null==D.modules.toolbar.container&&(D.modules.toolbar.container=wg),super(R,D),this.quill.container.classList.add("ql-bubble")}extendToolbar(R){this.tooltip=new kg(this.quill,this.options.bounds),null!=R.container&&(this.tooltip.root.appendChild(R.container),this.buildButtons(R.container.querySelectorAll("button"),_c),this.buildPickers(R.container.querySelectorAll("select"),_c))}}a_.DEFAULTS=$l({},pl.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){Z?this.quill.theme.tooltip.edit():this.quill.format("link",!1,zn.sources.USER)}}}}});const gp=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Vf extends Uf{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",R=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",R=>{if(null!=this.linkRange){const D=this.linkRange;this.restoreFocus(),this.quill.formatText(D,"link",!1,di.sources.USER),delete this.linkRange}R.preventDefault(),this.hide()}),this.quill.on(di.events.SELECTION_CHANGE,(R,D,z)=>{if(null!=R){if(0===R.length&&z===di.sources.USER){const[ue,je]=this.quill.scroll.descendant(sp,R.index);if(null!=ue){this.linkRange=new tu(R.index-je,ue.length());const ot=sp.formats(ue.domNode);this.preview.textContent=ot,this.preview.setAttribute("href",ot),this.show();const wt=this.quill.getBounds(this.linkRange);return void(null!=wt&&this.position(wt))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class xl extends pl{constructor(R,D){null!=D.modules.toolbar&&null==D.modules.toolbar.container&&(D.modules.toolbar.container=gp),super(R,D),this.quill.container.classList.add("ql-snow")}extendToolbar(R){null!=R.container&&(R.container.classList.add("ql-snow"),this.buildButtons(R.container.querySelectorAll("button"),_c),this.buildPickers(R.container.querySelectorAll("select"),_c),this.tooltip=new Vf(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(D,z)=>{R.handlers.link.call(R,!z.format.link)}))}}xl.DEFAULTS=$l({},pl.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){if(Z){const R=this.quill.getSelection();if(null==R||0===R.length)return;let D=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(D)&&0!==D.indexOf("mailto:")&&(D=`mailto:${D}`);const{tooltip:z}=this.quill.theme;z.edit("link",D)}else this.quill.format("link",!1,zn.sources.USER)}}}}});const l_=xl;pg.register({"attributors/attribute/direction":Yh,"attributors/class/align":H_,"attributors/class/background":kr,"attributors/class/color":Ku,"attributors/class/direction":sd,"attributors/class/font":Wu,"attributors/class/size":Zm,"attributors/style/align":Y_,"attributors/style/background":mf,"attributors/style/color":xd,"attributors/style/direction":gf,"attributors/style/font":vf,"attributors/style/size":Z_},!0),pg.register({"formats/align":H_,"formats/direction":sd,"formats/indent":Of,"formats/background":mf,"formats/color":xd,"formats/font":Wu,"formats/size":Zm,"formats/blockquote":hl,"formats/code-block":la,"formats/header":g0,"formats/list":mg,"formats/bold":ya,"formats/code":t0,"formats/italic":v0,"formats/link":sp,"formats/script":gg,"formats/strike":op,"formats/underline":vg,"formats/formula":Yu,"formats/image":Eg,"formats/video":Af,"modules/syntax":yg,"modules/table":class M0 extends aa{static register(){zn.register(ad),zn.register(Ad),zn.register(wd),zn.register(wf)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(wf).forEach(R=>{R.balanceCells()})}deleteColumn(){const[R,,D]=this.getTable();null!=D&&(R.deleteColumn(D.cellOffset()),this.quill.update(zn.sources.USER))}deleteRow(){const[,R]=this.getTable();null!=R&&(R.remove(),this.quill.update(zn.sources.USER))}deleteTable(){const[R]=this.getTable();if(null==R)return;const D=R.offset();R.remove(),this.quill.update(zn.sources.USER),this.quill.setSelection(D,zn.sources.SILENT)}getTable(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==R)return[null,null,null,-1];const[D,z]=this.quill.getLine(R.index);if(null==D||D.statics.blotName!==ad.blotName)return[null,null,null,-1];const ue=D.parent;return[ue.parent.parent,ue,D,z]}insertColumn(R){const D=this.quill.getSelection();if(!D)return;const[z,ue,je]=this.getTable(D);if(null==je)return;const ot=je.cellOffset();z.insertColumn(ot+R),this.quill.update(zn.sources.USER);let wt=ue.rowOffset();0===R&&(wt+=1),this.quill.setSelection(D.index+wt,D.length,zn.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(R){const D=this.quill.getSelection();if(!D)return;const[z,ue,je]=this.getTable(D);if(null==je)return;const ot=ue.rowOffset();z.insertRow(ot+R),this.quill.update(zn.sources.USER),R>0?this.quill.setSelection(D,zn.sources.SILENT):this.quill.setSelection(D.index+ue.children.length,D.length,zn.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(R,D){const z=this.quill.getSelection();if(null==z)return;const ue=new Array(R).fill(0).reduce(je=>{const ot=new Array(D).fill("\n").join("");return je.insert(ot,{table:Cg()})},(new ye).retain(z.index));this.quill.updateContents(ue,zn.sources.USER),this.quill.setSelection(z.index,zn.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(zn.events.SCROLL_OPTIMIZE,R=>{R.some(D=>!!["TD","TR","TBODY","TABLE"].includes(D.target.tagName)&&(this.quill.once(zn.events.TEXT_CHANGE,(z,ue,je)=>{je===zn.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":kf,"themes/bubble":a_,"themes/snow":l_,"ui/icons":_c,"ui/picker":th,"ui/icon-picker":Bc,"ui/color-picker":O0,"ui/tooltip":pp},!0);const _u=pg,A0=["container"],w0=["editor"];let kb=(()=>{class Z extends h.Tv{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this.images_allowed=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=D=>this._onChange=D,this.registerOnTouched=D=>this._onTouch=D}ngOnChanges(D){D.images_allowed&&this.timeout("init",()=>this._initialiseEditor())}ngAfterViewInit(){this.timeout("init",()=>this._initialiseEditor())}setValue(D){this._onChange&&this._onChange(D)}writeValue(D){this.timeout("write",()=>{if(this._editor){const z=this._editor.clipboard.convert({html:D});this._editor.setContents(z,"silent")}else this.timeout("write",()=>this.writeValue(D))})}_initialiseEditor(){if(!this._editor_el?.nativeElement||!this._container_el?.nativeElement)return this.timeout("init",()=>this._initialiseEditor());const D=[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{align:[]}]];this.images_allowed&&D.push(["image","link"]),this._editor&&(this.unsub("changes"),this._editor_el.nativeElement.innerHTML="",delete this._editor),this._editor=new _u(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,modules:{toolbar:{container:D,handlers:{image:()=>this._embedImage(),link:()=>this._embedAttachment()}}},readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}_embedImage(){if(!this._editor)return;const D=this._editor.getSelection();if(!D)return;const{index:z}=D;var ue=document.createElement("input");ue.setAttribute("type","file"),ue.setAttribute("accept","image/*"),ue.click(),ue.onchange=()=>{(0,h.QM)(ue.files[0],!0).subscribe(({link:ot,progress:wt})=>{!ot||100!==wt||this._editor.insertEmbed(z,"image",ot)})}}_embedAttachment(){if(!this._editor)return;const D=this._editor.getSelection();if(D){var ue=document.createElement("input");ue.setAttribute("type","file"),ue.click(),ue.onchange=()=>{var je=ue.files[0];(0,h.QM)(je,!0).subscribe(({link:ot,progress:wt})=>{!ot||100!==wt||(this._editor.insertText(D.index,je.name,"link",ot),this._editor.setSelection(D.index+je.name.length))})}}}static#e=this.\u0275fac=(()=>{let D;return function(ue){return(D||(D=n.xGo(Z)))(ue||Z)}})();static#t=this.\u0275cmp=n.VBU({type:Z,selectors:[["rich-text-input"]],viewQuery:function(z,ue){if(1&z&&(n.GBs(A0,5),n.GBs(w0,5)),2&z){let je;n.mGM(je=n.lsd())&&(ue._container_el=je.first),n.mGM(je=n.lsd())&&(ue._editor_el=je.first)}},inputs:{placeholder:"placeholder",readonly:"readonly",images_allowed:"images_allowed"},features:[n.Jv_([{provide:d.kq,useExisting:(0,n.Rfq)(()=>Z),multi:!0}]),n.Vt3,n.OA$],decls:4,vars:0,consts:[["container",""],["editor",""],[1,"absolute","inset-0"],[1,"h-full"]],template:function(z,ue){1&z&&(n.j41(0,"div",2,0),n.nrm(2,"div",3,1),n.k0s())},styles:["[_nghost-%COMP%]{display:block;position:relative;min-height:8rem;margin-bottom:4rem}"]})}return Z})()},4809:(Ot,ve,s)=>{"use strict";s.d(ve,{K:()=>M});var e=s(3953),n=s(9417),d=s(4233),h=s(5752),g=s(2185),b=s(9928),E=s(3020),_=s(4006);const u=()=>({standalone:!0});function I(B,K){if(1&B&&e.nrm(0,"img",30),2&B){const P=e.XpG().$implicit;e.Y8G("source",P.images[0])}}function k(B,K){1&B&&e.nrm(0,"img",31)}function y(B,K){if(1&B){const P=e.RV6();e.j41(0,"div",18)(1,"div",19),e.DNE(2,I,1,1,"img",20)(3,k,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",21)(6,"div",22),e.EFF(7),e.k0s(),e.j41(8,"div",23)(9,"app-icon",24),e.EFF(10,"place"),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",23)(14,"app-icon",24),e.EFF(15,"people"),e.k0s(),e.j41(16,"p"),e.pXf(17,6),e.k0s()(),e.j41(18,"div",25)(19,"button",26),e.bIt("click",function(){const S=e.eBV(P).$implicit,w=e.XpG();return e.Njj(w.changeSpaces(S))}),e.j41(20,"div",27),e.PLo(21,7),e.nrm(22,"app-icon"),e.YFu(),e.k0s()(),e.j41(23,"button",28),e.bIt("click",function(){const S=e.eBV(P).$implicit,w=e.XpG();return e.Njj(w.removeSpace(S))}),e.j41(24,"div",27),e.PLo(25,8),e.nrm(26,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(27,"button",29),e.bIt("click",function(){const S=e.eBV(P).$implicit,w=e.XpG();return e.Njj(w.toggleFavourite(S))}),e.j41(28,"app-icon"),e.EFF(29),e.k0s()()()}if(2&B){let P;const j=K.$implicit,S=e.sdS(4),w=e.XpG();e.R7$(2),e.Y8G("ngIf",null==j.images?null:j.images.length)("ngIfElse",S),e.R7$(5),e.SpI(" ",j.display_name||j.name||"Meeting Space"," "),e.R7$(5),e.SpI(" ",j.location||(null==(P=w.level(j.zones))?null:P.display_name)||(null==(P=w.level(j.zones))?null:P.name)," "),e.R7$(5),e.uP7(j.capacity<1?2:j.capacity)(j.capacity),e.nnv(17),e.R7$(10),e.AVh("text-blue-400",w.favorites.includes(null==j?null:j.id)),e.R7$(2),e.JRh(w.favorites.includes(null==j?null:j.id)?"favorite":"favorite_border")}}const x=[];let M=(()=>{class B{get favorites(){return this._settings.get("favourite_spaces")||x}constructor(P,j,S){this._settings=P,this._org=j,this._dialog=S,this.multiday=!1,this.room_size=4,this.spaces=new b.t([]),this.space_list=this.spaces.pipe((0,E.B)(300)),this.disabled=!1,this.registerOnChange=w=>this._onChange=w,this.registerOnTouched=w=>this._onTouch=w,this.setDisabledState=w=>this.disabled=w}ngOnDestroy(){this._dialog_ref&&this._dialog_ref.close()}level(P){return this._org.levelWithID(P)}changeSpaces(){this._dialog_ref=this._dialog.open(h.d,{data:{spaces:this.spaces.getValue(),options:{capacity:this.room_size},multiday:this.multiday}}),this._dialog_ref.afterClosed().subscribe(()=>{this.setValue(this._dialog_ref?.componentInstance?.selected),this._dialog_ref=void 0})}removeSpace(P){this.setValue(this.spaces.getValue().filter(j=>j.id!==P.id))}setValue(P){this.spaces.next(P||[]),this._onChange&&this._onChange(P||[])}writeValue(P){this.spaces.next(P||[])}toggleFavourite(P){if(!P?.id)return;const j=this.favorites;j.includes(P.id)?this._settings.saveUserSetting("favourite_spaces",j.filter(w=>w!==P.id)):this._settings.saveUserSetting("favourite_spaces",[...j,P.id])}static#e=this.\u0275fac=function(j){return new(j||B)(e.rXU(d.h),e.rXU(g.yb),e.rXU(_.bZ))};static#t=this.\u0275cmp=e.VBU({type:B,selectors:[["space-list-field"]],inputs:{multiday:"multiday"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>B),multi:!0}])],decls:23,vars:9,consts:()=>{let P,j,S,w,m,v,A,L,G;return P=$localize`:␟1b75f93ee5764eaf4e3e5b35f9142aa730286aba␟2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,j=$localize`:␟9a4b4695fcd5f591ff27d32d69654210c1edbce8␟5941148565596549711: Min. 2 People `,S=$localize`:␟c08792b3fa94dc973ac18033a872580a83beded9␟5844713600133557099: Min. 4 People `,w=$localize`:␟94d037a05d336158339e193309f967a769878040␟694015482067564775: Min. 10 People `,m=$localize`:␟2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e6␟4961016996305563664:Add Space`,v=$localize`:␟ed210c8c0f2511082633f06a2c94b8410f6cd9bf␟426413428618668868:{VAR_PLURAL, plural, =1 {Person } other {People
                            }}`,v=e.k04(v,{VAR_PLURAL:"\ufffd1\ufffd"}),A=$localize`:␟ddc17cbb67fd49c13c14733c877b09fb9bd86d87␟686822217414553756: ${"\ufffd0\ufffd"}:INTERPOLATION: ${v}:ICU: `,L=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,G=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],P,j,S,w,m,A,L,G,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-space",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"sm:space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-space",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-space",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(j,S){1&j&&(e.j41(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e.PLo(4,1),e.nrm(5,"span"),e.YFu(),e.k0s(),e.j41(6,"div",11)(7,"mat-radio-group",12),e.mxI("ngModelChange",function(m){return e.DH7(S.room_size,m)||(S.room_size=m),m}),e.j41(8,"mat-radio-button",13),e.pXf(9,2),e.k0s(),e.j41(10,"mat-radio-button",13),e.pXf(11,3),e.k0s(),e.j41(12,"mat-radio-button",13),e.pXf(13,4),e.k0s()()()()()(),e.j41(14,"div",14),e.DNE(15,y,30,9,"div",15),e.nI1(16,"async"),e.k0s(),e.j41(17,"button",16),e.bIt("click",function(){return S.changeSpaces()}),e.j41(18,"div",17)(19,"app-icon"),e.EFF(20,"search"),e.k0s(),e.j41(21,"span"),e.pXf(22,5),e.k0s()()()),2&j&&(e.R7$(7),e.R50("ngModel",S.room_size),e.Y8G("ngModelOptions",e.lJ4(8,u)),e.R7$(),e.Y8G("value",1),e.R7$(2),e.Y8G("value",4),e.R7$(2),e.Y8G("value",10),e.R7$(3),e.Y8G("ngForOf",e.bMT(16,6,S.space_list)))}})}return B})()},8791:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>K});var e=s(467),n=s(9417),d=s(1168),h=s(2185),g=s(1038),b=s(3953),E=s(4006);function _(P,j){if(1&P&&(b.j41(0,"mat-option",34),b.EFF(1),b.k0s()),2&P){const S=j.$implicit;b.Y8G("value",S.display_name||S.name),b.R7$(),b.SpI(" ",S.display_name||S.name," ")}}function u(P,j){if(1&P&&(b.j41(0,"mat-option",34),b.EFF(1),b.k0s()),2&P){const S=j.$implicit;b.Y8G("value",(null==S?null:S.name)||S),b.R7$(),b.SpI(" ",S.name||S," ")}}function I(P,j){if(1&P&&(b.j41(0,"div",24)(1,"label"),b.pXf(2,9),b.k0s(),b.j41(3,"mat-form-field",25)(4,"mat-select",35),b.DNE(5,u,2,2,"mat-option",27),b.k0s()()()),2&P){const S=b.XpG(2);b.R7$(5),b.Y8G("ngForOf",S.support_request_types)}}function k(P,j){1&P&&(b.j41(0,"mat-error",36),b.pXf(1,10),b.k0s())}function y(P,j){1&P&&(b.j41(0,"div")(1,"label",29),b.pXf(2,11),b.k0s(),b.nrm(3,"image-list-field",37),b.k0s())}function x(P,j){if(1&P&&(b.j41(0,"main",17)(1,"form",18)(2,"div",19)(3,"div",20)(4,"label"),b.PLo(5,2),b.nrm(6,"span"),b.YFu(),b.k0s(),b.j41(7,"mat-form-field",21),b.nrm(8,"input",22),b.j41(9,"mat-error"),b.pXf(10,3),b.k0s()()(),b.j41(11,"div",20)(12,"label"),b.PLo(13,4),b.nrm(14,"span"),b.YFu(),b.k0s(),b.j41(15,"mat-form-field",21),b.nrm(16,"input",23),b.j41(17,"mat-error"),b.pXf(18,5),b.k0s()()()(),b.j41(19,"div",24)(20,"label"),b.pXf(21,6),b.k0s(),b.j41(22,"mat-form-field",25)(23,"mat-select",26),b.DNE(24,_,2,2,"mat-option",27),b.nI1(25,"async"),b.k0s()()(),b.DNE(26,I,6,1,"div",28),b.j41(27,"div")(28,"label",29),b.PLo(29,7),b.nrm(30,"span"),b.YFu(),b.k0s(),b.nrm(31,"rich-text-input",30),b.DNE(32,k,2,0,"mat-error",31),b.k0s(),b.DNE(33,y,4,0,"div",32),b.k0s(),b.j41(34,"div",33),b.pXf(35,8),b.k0s()()),2&P){const S=b.XpG();b.R7$(),b.Y8G("formGroup",S.form),b.R7$(23),b.Y8G("ngForOf",b.bMT(25,5,S.buildings)),b.R7$(2),b.Y8G("ngIf",null==S.support_request_types?null:S.support_request_types.length),b.R7$(6),b.Y8G("ngIf",S.desc_error),b.R7$(),b.Y8G("ngIf",S.allow_images)}}function M(P,j){if(1&P){const S=b.RV6();b.j41(0,"footer",38)(1,"button",39),b.bIt("click",function(){b.eBV(S);const m=b.XpG();return b.Njj(m.submit())}),b.pXf(2,12),b.k0s()()}}function B(P,j){1&P&&(b.j41(0,"main",40),b.nrm(1,"mat-spinner",41),b.j41(2,"p"),b.EFF(3,"Sending support ticket..."),b.k0s()()),2&P&&(b.R7$(),b.Y8G("diameter",32))}let K=(()=>{class P{get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}get support_email(){return this._settings.get("app.support_email")||"support@place.tech"}get support_request_types(){return this._settings.get("app.support_issue_types")||[]}get allow_images(){return this._settings.get("app.allow_support_ticket_images")}constructor(S,w,m){this._dialog_ref=S,this._org=w,this._settings=m,this.loading=!1,this.form=new n.gE({name:new n.MJ("",[n.k0.required]),email:new n.MJ("",[n.k0.required]),location:new n.MJ(""),description:new n.MJ("",[n.k0.required]),issue_type:new n.MJ(""),images:new n.MJ([])}),this.buildings=this._org.building_list}ngOnInit(){const S=(0,d.Ny)();S&&this.form.patchValue({name:S.name,email:S.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){var S=this;return(0,e.A)(function*(){if(S.loading=!0,S.form.markAllAsTouched(),S.form.updateValueAndValidity(),S.form.valid){const w=S._org.binding("smtp");if(!w)return(0,d.UG)("Mailing system not configured for application.");const m=(0,g.f_4)(w,"Mailer"),{name:v,email:A,location:L,description:G,images:O,issue_type:W}=S.form.value,U=S.support_request_types.find($=>$.name===W)?.email||S.support_email;yield m.execute("send_mail",[U,"Support Ticket from Workplace Application"+(W?" - "+W:""),`${v}\n${A}\n\n${L}\n\n${G.replace(/<[^>]+>/g,"")}\n\n${O.join("\n")}`,`<p>${v}</p><p>${A}</p><p>${L}</p><p>${G}</p>${O.join("<br>")}`,[],[],[],[],null,`${A}`]),S._dialog_ref.close(),S.loading=!1,(0,d.VX)("Successfully submitted support ticket")}})()}static#e=this.\u0275fac=function(w){return new(w||P)(b.rXU(E.CP),b.rXU(h.yb),b.rXU(d.h$))};static#t=this.\u0275cmp=b.VBU({type:P,selectors:[["support-ticket-modal"]],decls:10,vars:3,consts:()=>{let S,w,m,v,A,L,G,O,W,U,$,te;return S=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,w=$localize`:␟84f7804a7a51f1144c5a3fda7b9b881af4212c4a␟5257092898921510014:Name${"\ufffd#6\ufffd"}:START_TAG_SPAN:*${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,m=$localize`:␟5b752f143ab30faa45a2679b5e7a28bbf3fb246d␟3833692663709091545:Name is required`,v=$localize`:␟15032ab5f5dcf10cb837008e8ff61acb42e957db␟8600249315708032613:Email${"\ufffd#14\ufffd"}:START_TAG_SPAN:*${"\ufffd/#14\ufffd"}:CLOSE_TAG_SPAN:`,A=$localize`:␟9b2fd2a81342b5821f47ce0e6f2383b1403fd659␟8552587679160911578:Email is required`,L=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,G=$localize`:␟bd571e4b6aa662ccde3593b99728c60a9c4e2722␟5204458475414246750: Issue Description${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,O=$localize`:␟860180fb81e0877ec8059acbf30938f5d31daede␟2365971609064887430: Completing this form will raise an incident in your support management platform `,W=$localize`:␟712648c55b8f81cc494ffeff1c304f275dcafc61␟3187063371811307868:Issue Type`,U=$localize`:␟ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e␟124716140796903078: Description is required `,$=$localize`:␟b73f7f5060fb22a1e9ec462b1bb02493fa3ab866␟414887388288176527:Images`,te=$localize`:␟932802b79d36312ecbe949fc5b703fef638f41df␟1413112058430688330: Submit `,[["load_state",""],S,w,m,v,A,L,G,O,W,U,$,te,[1,"flex","items-center","justify-between"],["icon","","mat-dialog-close",""],["class","w-[32rem] max-w-[85vw]",4,"ngIf","ngIfElse"],["class","p-2 border-t border-base-200 flex items-center justify-center",4,"ngIf"],[1,"w-[32rem]","max-w-[85vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","sm:space-x-2","flex-wrap"],[1,"flex","flex-col","flex-1"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],[1,"flex","flex-col"],["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"mb-4"],["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],[3,"value"],["placeholder","Issue Type","formControlName","issue_type"],[1,"text-xs","my-2"],["formControlName","images"],[1,"p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"w-[32rem]","min-h-[24rem]","max-w-[100vw]","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"]]},template:function(w,m){if(1&w&&(b.j41(0,"header",13)(1,"h2"),b.pXf(2,1),b.k0s(),b.j41(3,"button",14)(4,"app-icon"),b.EFF(5,"close"),b.k0s()()(),b.DNE(6,x,36,7,"main",15)(7,M,3,0,"footer",16)(8,B,4,1,"ng-template",null,0,b.C5r)),2&w){const v=b.sdS(9);b.R7$(6),b.Y8G("ngIf",!m.loading)("ngIfElse",v),b.R7$(),b.Y8G("ngIf",!m.loading)}},styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return P})()},1413:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>W});var e=s(3953),n=s(9417),d=s(1168),h=s(3601),g=s(4903),b=s(1406),E=s(2357),_=s(9548),u=s(5818),I=s(9824),k=s(4512),y=s(7926),x=s(177),M=s(6600),B=s(3719),K=s(9434),P=s(9115);const j=["select"],S=["*"];function w(U,$){if(1&U&&(e.j41(0,"div",9),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&U){const te=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,te.active_time,te.time_format+" (z)",te.tz)," ")}}function m(U,$){if(1&U&&(e.j41(0,"div",16),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&U){const te=e.XpG(2);e.R7$(),e.SpI(" ",e.brH(2,1,te.force_time,te.time_format+" (z)",te.tz)," ")}}function v(U,$){1&U&&(e.j41(0,"app-icon",17),e.EFF(1," done "),e.k0s())}function A(U,$){if(1&U){const te=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(te);const me=e.XpG();return e.Njj(me.setValue(me.force_time))}),e.j41(1,"div",11)(2,"div",12)(3,"div",13),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.DNE(6,m,3,5,"div",14),e.k0s(),e.DNE(7,v,2,0,"app-icon",15),e.k0s()()}if(2&U){const te=e.XpG();e.Y8G("value",te.force_time),e.R7$(4),e.SpI(" ",e.i5U(5,4,te.force_time,te.time_format)," "),e.R7$(2),e.Y8G("ngIf",te.timezone),e.R7$(),e.Y8G("ngIf",te.active_time===te.force_time)}}function L(U,$){if(1&U&&(e.j41(0,"div",16),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&U){const te=e.XpG().$implicit,ie=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,te.date,ie.time_format+" (z)",ie.tz)," ")}}function G(U,$){1&U&&(e.j41(0,"app-icon",17),e.EFF(1," done "),e.k0s())}function O(U,$){if(1&U){const te=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){const me=e.eBV(te).$implicit,Y=e.XpG();return e.Njj(Y.setValue(me.id))}),e.j41(1,"div",11)(2,"div",12)(3,"div",13),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.DNE(6,L,3,5,"div",14),e.k0s(),e.DNE(7,G,2,0,"app-icon",15),e.k0s()()}if(2&U){const te=$.$implicit,ie=e.XpG();e.Y8G("value",te.id),e.R7$(4),e.Lme(" ",e.i5U(5,5,te.date,ie.time_format)," ",ie.extra_info_fn(te.date)," "),e.R7$(2),e.Y8G("ngIf",ie.timezone),e.R7$(),e.Y8G("ngIf",ie.active_time===te.date)}}let W=(()=>{class U extends d.Tv{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.use_24hr=!1,this.extra_info_fn=te=>"",this.from=(0,h.o)(Date.now()).valueOf(),this.timezone="",this.date=(new Date).valueOf(),this.time=(0,g.GP)(new Date,"HH:mm"),this.active_time=Date.now()}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get tz(){const te=this.timezone;return te?(0,d.GF)(te):""}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1),this.active_time=this._time_options.find(te=>te.id===(0,g.GP)(this.date,"HH:mm"))?.date||this.active_time}ngOnChanges(te){(te.no_past_times||te.step||te.from)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const te=(this.time||"00:00").split(":"),ie=(0,b.h)(this.date,{hours:+te[0],minutes:+te[1]});return ie.getMinutes()%15!=0&&!this._time_options.find(me=>me.id===(0,g.GP)(ie,"HH:mm"))&&(this._time_options.push({date:ie,id:(0,g.GP)(ie,"HH:mm")}),this._time_options.sort((me,Y)=>`${me.id}`.localeCompare(`${Y.id}`))),this._time_options}setValue(te){if(this.time=te,this._onChange){const Y=(this.time||"00:00").split(":"),F=(0,E.c)((0,b.h)(this.date,{hours:+Y[0],minutes:+Y[1]}));this._onChange(F.valueOf())}const ie=this.force_time||this.time,me=(0,E.c)((0,b.h)(this.date,{hours:+ie[0],minutes:+ie[1]}));this.active_time=this._time_options.find(Y=>Y.id===ie)?.date||me}writeValue(te){this.date=te||this.date;let ie=(0,E.c)(this.date);ie=(0,_.X)(ie,{nearestTo:5}),this.time=(0,g.GP)(ie,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step);const me=this.force_time||this.time;this.active_time=this._time_options.find(Y=>Y.id===me)?.date||ie}setDisabledState(te){this.disabled=te,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times||te,this.step)}registerOnChange(te){this._onChange=te}registerOnTouched(te){this._onTouch=te}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(te=>{te||(this.show_select=!1)})))})}generateAvailableTimes(te,ie,me=15){const Y=new Date(Math.max(this.from,Date.now()));let F=new Date(te);const N=[];ie||!(0,u.r)(F,Y)&&(0,I.d)(F,Y)?F=(0,h.o)(F):(0,I.d)(F,Y)&&(F=new Date(Y)),F=(0,_.X)(F,{nearestTo:me});const J=(0,k.D)(F);for(;(0,I.d)(J,F);)N.push({date:F.valueOf(),id:(0,g.GP)(F,"HH:mm")}),F=(0,y.z)(F,me);return N}static#e=this.\u0275fac=(()=>{let te;return function(me){return(te||(te=e.xGo(U)))(me||U)}})();static#t=this.\u0275cmp=e.VBU({type:U,selectors:[["a-time-field"]],viewQuery:function(ie,me){if(1&ie&&e.GBs(j,5),2&ie){let Y;e.mGM(Y=e.lsd())&&(me.select_field=Y.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times",use_24hr:"use_24hr",force_time:"force_time",extra_info_fn:"extra_info_fn",from:"from",timezone:"timezone"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>U),multi:!0}]),e.Vt3,e.OA$],ngContentSelectors:S,decls:14,vars:11,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngIf"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click","value"],[1,"flex","items-center","justify-between"],[1,"flex","flex-col","leading-tight"],[1,""],["class","text-xs opacity-30",4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"text-xs","opacity-30"],[1,"text-2xl","ml-2"]],template:function(ie,me){if(1&ie&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,w,3,5,"div",4),e.k0s(),e.j41(6,"app-icon",5),e.EFF(7,"arrow_drop_down"),e.k0s()(),e.j41(8,"mat-menu",6,0),e.DNE(10,A,8,7,"button",7)(11,O,8,8,"button",8),e.k0s(),e.j41(12,"mat-error"),e.SdG(13),e.k0s()),2&ie){const Y=e.sdS(9);e.AVh("opacity-30",me.disabled),e.Y8G("disabled",me.disabled)("matMenuTriggerFor",Y),e.R7$(3),e.SpI(" ",e.i5U(4,8,me.active_time,me.time_format)," "),e.R7$(2),e.Y8G("ngIf",me.timezone),e.R7$(5),e.Y8G("ngIf",me.force_time),e.R7$(),e.Y8G("ngForOf",me.time_options)}},dependencies:[x.Sq,x.bT,M.r6,B.TL,K.R,P.kk,P.fb,P.Cp,x.vh],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return U})()},840:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>ie});var e=s(3953),n=s(9417),d=s(1168),h=s(5006),g=s(3020),b=s(9090),E=s(3921),_=s(8841),u=s(4046),I=s(7336),k=s(9928),y=s(9714),x=s(4421),M=s(1543),B=s(6039),K=s(2372),P=s(3693),j=s(4129),S=s(1038),w=s(4006);const m=["search_field"];function v(me,Y){if(1&me&&(e.j41(0,"app-icon",22),e.nI1(1,"placeuser"),e.nI1(2,"async"),e.EFF(3),e.nI1(4,"placeuser"),e.nI1(5,"async"),e.k0s()),2&me){let F,N;const J=e.XpG().$implicit,ae=e.XpG();e.Y8G("matTooltip",null==(F=e.bMT(2,4,e.bMT(1,2,null==J?null:J.email)))?null:F.location_name_time(ae.time)),e.R7$(3),e.SpI(" ",null==(N=e.bMT(5,8,e.bMT(4,6,null==J?null:J.email)))?null:N.location_icon(ae.time)," ")}}function A(me,Y){if(1&me){const F=e.RV6();e.j41(0,"mat-chip-row",18),e.bIt("removed",function(){const J=e.eBV(F).$implicit,ae=e.XpG();return e.Njj(ae.removeUser(J))}),e.j41(1,"div",19)(2,"div"),e.EFF(3),e.k0s(),e.DNE(4,v,6,10,"app-icon",20),e.k0s(),e.j41(5,"button",21)(6,"app-icon"),e.EFF(7,"cancel"),e.k0s()()()}if(2&me){const F=Y.$implicit;e.AVh("bg-warning",F.is_external),e.R7$(3),e.JRh(F.name||F.email),e.R7$(),e.Y8G("ngIf",!F.is_external),e.R7$(),e.BMQ("aria-label","Remove "+(F.name||F.email))}}function L(me,Y){1&me&&e.nrm(0,"mat-spinner",23)}function G(me,Y){if(1&me){const F=e.RV6();e.j41(0,"mat-option",24),e.bIt("click",function(){e.eBV(F);const J=e.XpG();return e.Njj(J.addUserFromEmail())}),e.pXf(1,4),e.k0s()}if(2&me){const F=e.XpG();e.R7$(),e.uP7(F.search$.getValue()),e.nnv(1)}}function O(me,Y){if(1&me){const F=e.RV6();e.j41(0,"mat-option",25),e.bIt("click",function(){const J=e.eBV(F).$implicit,ae=e.XpG();return e.Njj(ae.addUser(J))}),e.EFF(1),e.nrm(2,"br"),e.j41(3,"span",26),e.EFF(4),e.k0s()()}if(2&me){const F=Y.$implicit;e.R7$(),e.SpI(" ",F.name,""),e.R7$(3),e.JRh(F.email)}}function W(me,Y){if(1&me){const F=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(F);const J=e.XpG();return e.Njj(J.openNewUserModal())}),e.PLo(2,5),e.j41(3,"div",29),e.nrm(4,"span",30),e.k0s(),e.YFu(),e.k0s(),e.j41(5,"button",31),e.PLo(6,6),e.j41(7,"div",29),e.nrm(8,"span",30),e.k0s(),e.j41(9,"input",32),e.bIt("change",function(J){e.eBV(F);const ae=e.XpG();return e.Njj(ae.addUsersFromFile(J))}),e.k0s(),e.YFu(),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){e.eBV(F);const J=e.XpG();return J.downloadCSVTemplate(),e.Njj(J.download.emit())}),e.PLo(11,7),e.j41(12,"div",29),e.nrm(13,"span",30),e.k0s(),e.YFu(),e.k0s()()}}function U(me){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(me)}const $=["text/csv","text/plain"],te=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];let ie=(()=>{class me extends d.Tv{searchStaff(F){return this._settings.get("app.basic_user_search")?(0,S.n1$)({q:F,authority_id:(0,S.kup)()?.id}).pipe((0,h.T)(N=>N.data.map(J=>new P.KJ(J)))):(0,K.N8)(F)}get search_valid_email(){return U(this.search$.getValue())}constructor(F,N){super(),this._dialog=F,this._settings=N,this.time=Date.now(),this.limit=3,this.guests=!1,this.guests_only=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new e.bkB,this.download=new e.bkB,this.separatorKeysCodes=[I.Fm,I.KE],this.loading=!1,this.search$=new k.t(""),this.user_list$=this.search$.pipe((0,g.B)(300),(0,b.n)(J=>(this.loading=!0,(J?this.guests?(0,y.zV)([this.searchStaff(J),(0,B.qI)(J)]).pipe((0,h.T)(([ae,_e])=>{this.guests_only&&(ae=[]);const xe=[],Fe=this._settings.get("visitor-invitees")||[];for(const Ae of Fe){const[Ye,qe,Ne]=Ae.split("|");xe.push({email:Ye,name:qe,company:Ne})}return(0,d.Am)(ae.concat(_e).concat(xe),"email")})):this.searchStaff(J):(0,x.of)([])).pipe((0,E.W)(ae=>(0,x.of)([]))))),(0,_.M)(J=>this.loading=!1)),this.active_list=[],this.validFn=J=>U(J),this.emptyClick=()=>this.openNewUserModal(new P.KJ)}updateSearch(F=""){this.timeout("search",()=>this.search$.next(F))}addUserFromEmail(F=""){if(F||(F=this.search$.getValue()),!U(F))return;const N=new P.KJ({id:F,email:F,name:F.split("@")[0]});this.addUser(N);const{name:J,organisation:ae}=N,_e=`${F}|${J}|${ae}`,xe=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...xe.filter(Fe=>!Fe.includes(F)),_e]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(F){const N=this.active_list?.filter(J=>J.id!==F.id)||[];this.setValue([...N,new P.KJ({...F,id:F.id||F.email,visit_expected:(F.id||!0===F.is_external?null:F.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(F){const N=this.active_list.filter(J=>J.id!==F.id);this.setValue(N)}addUsersFromFile(F){if(F.target){const N=F.target.files[0];if(N){if(!$.includes(N.type)||te.includes(N.type))return void(0,d.UG)("Only CSV files are supported");const J=new FileReader;J.readAsText(N,"UTF-8"),J.addEventListener("load",ae=>{this.processCsvData(ae.srcElement.result),F.target.value=""}),J.addEventListener("error",ae=>(0,d.UG)("Error reading file."))}}}processCsvData(F){const N=(0,d.a6)(F)||[],J=(0,d.Ny)()?.staff_id||"unknown";for(const ae of N){ae.name=ae.name||`${ae.first_name} ${ae.last_name}`;const _e=(ae.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();ae.email||(ae.email=`${_e}+${J}@guest.${j.pd}`);const xe=this._settings.get("app.bookings.internal_emails")||["place.tech"];ae.visit_expected=ae.visit_expected??!xe.find(Fe=>ae.email.endsWith(Fe)),ae.phone=""+ae.phone,this.addUser(new P.KJ(ae))}}downloadCSVTemplate(){this.custom_template||(0,d.PE)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(F){this.active_list=F,this._onChange&&this._onChange(F)}writeValue(F){this.active_list=F}setDisabledState(F){this.disabled=F}registerOnChange(F){this._onChange=F}registerOnTouched(F){this._onTouch=F}displayFn(F){return F?.name||""}openNewUserModal(F=new P.KJ){const N=this._dialog.open(M.a,{width:"auto",height:"auto",data:{user:F}});N.componentInstance?.event.pipe((0,u.$)(J=>"done"===J.reason)).subscribe(J=>{this.addUser(J.metadata),N.close()})}static#e=this.\u0275fac=function(N){return new(N||me)(e.rXU(w.bZ),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:me,selectors:[["a-user-list-field"]],viewQuery:function(N,J){if(1&N&&e.GBs(m,5),2&N){let ae;e.mGM(ae=e.lsd())&&(J._search_el=ae.first)}},inputs:{time:"time",disabled:"disabled",limit:"limit",guests:"guests",guests_only:"guests_only",hide_actions:"hide_actions",custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>me),multi:!0}]),e.Vt3],decls:17,vars:14,consts:()=>{let F,N,J,ae,_e;return F=$localize`:␟5ecf84665fa441ea616e171804e6652d010c9ed2␟5361968336322693258:Type a name or email`,N=$localize`:␟8ddbc311625de88f24142f65336765837378c1ca␟2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,J=$localize`:Add new external attendee␟afa9063944169ae2cd6bd8c0d5e943468ab77e90␟145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add ${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,ae=$localize`:Upload attendee list from CSV file␟0115abeee77902eeda78bb11be738c011e8be933␟4462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload ${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,_e=$localize`:Download template CSV file␟f761a83c085b86f026cdf949cf8015ee62d8ca8c␟6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN: Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["origin","matAutocompleteOrigin"],["chipList",""],["search_field",""],["auto","matAutocomplete"],N,J,ae,_e,["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["aria-label","User Seleciom"],["user","",3,"bg-warning","removed",4,"ngFor","ngForOf"],["placeholder",F,"name","user_email",3,"ngModelChange","matChipInputTokenEnd","ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["diameter","24","matSuffix","",4,"ngIf"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"flex","items-center","space-x-2"],[3,"matTooltip",4,"ngIf"],["matChipRemove","","remove",""],[3,"matTooltip"],["diameter","24","matSuffix",""],[3,"click"],[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["btn","","matRipple","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["btn","","matRipple","","type","button","name","upload-csv",1,"relative","inverse","flex-1","sm:flex-none"],["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["btn","","matRipple","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"]]},template:function(N,J){if(1&N){const ae=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"mat-form-field",10,0)(4,"mat-chip-grid",11,1),e.DNE(6,A,8,5,"mat-chip-row",12),e.k0s(),e.j41(7,"input",13,2),e.nI1(9,"async"),e.bIt("ngModelChange",function(xe){return e.eBV(ae),e.Njj(J.updateSearch(xe))})("matChipInputTokenEnd",function(xe){return e.eBV(ae),e.Njj(J.addUserFromEmail(xe.value))}),e.k0s(),e.DNE(10,L,1,0,"mat-spinner",14),e.k0s(),e.j41(11,"mat-autocomplete",null,3),e.DNE(13,G,2,1,"mat-option",15)(14,O,5,2,"mat-option",16),e.nI1(15,"async"),e.k0s()(),e.DNE(16,W,14,0,"div",17),e.k0s()}if(2&N){const ae=e.sdS(5),_e=e.sdS(12);e.BMQ("disabled",J.disabled),e.R7$(6),e.Y8G("ngForOf",J.active_list),e.R7$(),e.Y8G("ngModel",e.bMT(9,10,J.search$))("matAutocomplete",_e)("matChipInputFor",ae)("matChipInputSeparatorKeyCodes",J.separatorKeysCodes),e.R7$(3),e.Y8G("ngIf",J.loading),e.R7$(3),e.Y8G("ngIf",J.search_valid_email),e.R7$(),e.Y8G("ngForOf",e.bMT(15,12,J.user_list$)),e.R7$(2),e.Y8G("ngIf",!J.hide_actions)}}})}return me})()},8e3:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>m});var e=s(3953),n=s(9417),d=s(5286),h=s(4421),g=s(696),b=s(5006),E=s(3020),_=s(522),u=s(9090),I=s(3921),k=s(1168),y=s(6039),x=s(2372),M=s(3693),B=s(1038);const K=["input"];function P(v,A){1&v&&e.nrm(0,"mat-spinner",11)}function j(v,A){if(1&v){const L=e.RV6();e.j41(0,"mat-option",12),e.bIt("click",function(){const O=e.eBV(L).$implicit,W=e.XpG();return W.setValue(O),e.Njj(W.blurInput())}),e.j41(1,"div",13),e.EFF(2),e.k0s(),e.j41(3,"div",14),e.EFF(4),e.k0s()()}if(2&v){const L=A.$implicit;e.R7$(2),e.JRh(L.name),e.R7$(2),e.SpI(" ",L.email," ")}}function S(v,A){if(1&v){const L=e.RV6();e.j41(0,"mat-option",15)(1,"div",16),e.bIt("mousedown",function(O){return e.eBV(L),O.stopPropagation(),e.Njj(O.preventDefault())})("touchstart",function(O){return e.eBV(L),O.stopPropagation(),e.Njj(O.preventDefault())})("click",function(O){e.eBV(L);const W=e.XpG();return W.setValue(W.search_str),O.stopPropagation(),e.Njj(O.preventDefault())}),e.j41(2,"div",17),e.pXf(3,2),e.k0s()()()}if(2&v){const L=e.XpG();e.R7$(3),e.uP7(L.search_str),e.nnv(3)}}function w(v,A){if(1&v){const L=e.RV6();e.j41(0,"mat-option",18),e.bIt("click",function(){e.eBV(L);const O=e.XpG();return e.Njj(O.empty_fn())}),e.EFF(1),e.k0s()}if(2&v){const L=e.XpG();e.Y8G("disabled",!L.empty_fn),e.R7$(),e.Lme(" ",L.search_str?"No users found.":""," ",L.error," ")}}let m=(()=>{class v extends k.Tv{constructor(L){super(),this._settings=L,this.error="",this.query_fn=G=>this._settings.get("app.basic_user_search")?(0,B.n1$)({q:G,authority_id:(0,B.kup)()?.id}).pipe((0,b.T)(O=>O.data.map(W=>new M.KJ(W)))):(0,x.N8)(G),this.search$=new d.B7,this.search_results$=this.search$.pipe((0,E.B)(400),(0,_.F)(),(0,u.n)(G=>(this.loading=!0,this.options&&this.options.length>0?(0,h.of)(this.options):G.length>=3?this.guests?(0,g.p)([(0,x.N8)(G),(0,y.qI)(G)]):this.query_fn(G):(0,h.of)([]))),(0,I.W)(G=>(0,h.of)([])),(0,b.T)(G=>{this.loading=!1,G=(0,k.Bq)(G);const O=(this.search_str||"").toLowerCase();return G.filter(W=>!this.filter||this.filter(W,O))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(L=>this.user_list=L)),this.resetSearchString()}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue(L,G){if(!L)return;"string"==typeof L&&L===this.search_str&&(L=new M.KJ({name:(this.search_str||G||"").split("@")[0],email:this.search_str||G||""}));const O=L;!("name"in O)&&!("email"in O)||(this.active_user=O,this._onChange&&this._onChange(O),this.resetSearchString())}writeValue(L){this.active_user=L,this.resetSearchString()}setDisabledState(L){this.disabled=L}registerOnChange(L){this._onChange=L}registerOnTouched(L){this._onTouch=L}static#e=this.\u0275fac=function(G){return new(G||v)(e.rXU(k.h$))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["a-user-search-field"]],viewQuery:function(G,O){if(1&G&&e.GBs(K,5,e.aKT),2&G){let W;e.mGM(W=e.lsd())&&(O._input_el=W.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>v),multi:!0}]),e.Vt3],decls:11,vars:8,consts:()=>{let L;return L=$localize`:␟bda749fab8de2e52f25203a840d2aca70b8e5b4d␟1390235508766899631: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["input",""],["auto","matAutocomplete"],L,["appearance","outline",1,"w-full","no-subscript"],["matInput","","keyboard","","name","user-search",3,"ngModelChange","keyup.enter","blur","focus","ngModel","disabled","placeholder","matAutocomplete"],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"click","disabled"]]},template:function(G,O){if(1&G){const W=e.RV6();e.j41(0,"mat-form-field",3)(1,"input",4,0),e.mxI("ngModelChange",function($){return e.eBV(W),e.DH7(O.search_str,$)||(O.search_str=$),e.Njj($)}),e.bIt("ngModelChange",function($){return e.eBV(W),e.Njj(O.search$.next($||""))})("keyup.enter",function(){return e.eBV(W),e.Njj(O.validate&&O.validate(O.search_str)?O.setValue(O.search_str):"")})("blur",function(){return e.eBV(W),e.Njj(O.resetSearchString())})("focus",function(){return e.eBV(W),e.Njj(O.cancelReset())}),e.k0s(),e.j41(3,"app-icon",5),e.EFF(4,"search"),e.k0s(),e.DNE(5,P,1,0,"mat-spinner",6),e.k0s(),e.j41(6,"mat-autocomplete",7,1),e.bIt("optionSelected",function($){return e.eBV(W),e.Njj(O.setValue($.option.value))}),e.DNE(8,j,5,2,"mat-option",8)(9,S,4,1,"mat-option",9)(10,w,2,3,"mat-option",10),e.k0s()}if(2&G){const W=e.sdS(7);e.R7$(),e.R50("ngModel",O.search_str),e.Y8G("disabled",O.disabled)("placeholder",O.placeholder||"Search for user...")("matAutocomplete",W),e.R7$(4),e.Y8G("ngIf",O.loading),e.R7$(3),e.Y8G("ngForOf",O.user_list),e.R7$(),e.Y8G("ngIf",O.search_str&&O.validate&&O.validate(O.search_str)),e.R7$(),e.Y8G("ngIf",!(null!=O.user_list&&O.user_list.length)&&(O.search_str||O.error))}},styles:["[_nghost-%COMP%]{display:block}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})}return v})()},2185:(Ot,ve,s)=>{"use strict";s.d(ve,{gB:()=>E.g,yb:()=>n.y,WS:()=>b}),s(6612);var n=s(8026),d=s(1038);function b(_,u){return _?_ instanceof Object?(0,d.f_4)(_.system_id,_.module||u):(0,d.f_4)(_,u):null}var E=s(7451)},5170:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>n});var e=s(602);class n{constructor(h={}){this.id=h.id||"",this.parent_id=h.parent_id||"",this.name=h.name||"";const g=h.settings||{};this.display_name=h.display_name,this.images=this.images||[];const b=g.discovery_info||g;this.zone_id=h.zone_id||h.zone,this.extras=(h.extras||b.extras||[]).map(_=>({id:_.extra_id||_.id,name:_.extra_name||_.name})),this.loan_items=(h.loan_items||b.loan_items||[]).map(_=>({id:_.extra_id||_.id,name:_.extra_name||_.name})),this.levels=(h.levels||b.levels||[]).map(_=>new e.P({..._,building_id:this.id})),this._roles=h.roles||b.roles||{},this._lockers=h.lockers||h.locker_structure||b.locker_structure||{},this._systems=h.systems||b.systems||{},this._phone_numbers=h.phone_numbers||b.phone_numbers||{},this.location=h.location||b.location||"0,0",this.room_configurations=h.room_configurations||b.room_configurations||[],this.attributes=h.attributes||b.attributes||[];const E=[];if(h.neighbourhoods)for(const _ in h.neighbourhoods)if(_ in h.neighbourhoods){const u=h.neighbourhoods[_]||{};for(const I in u)I in u&&E.push({id:u[I],name:I,level_id:_})}this.bindings=h.bindings||{},this.searchables=E,this.map_id=h.map_id||"",this.timezone=h.timezone||b.timezone||g.timezone||"",this.catering_hours=h.catering_hours||b.catering_hours||g.catering_hours||{start:7,end:20},this.visitor_space=h.visitor_space||b.visitor_space||g.visitor_space||"",this.holding_bay=h.holding_bay||b.holding_bay||g.holding_bay||"",this.code=h.code||b.code||g.code||"",this.address=h.address||b.address||g.address||"",this.orientations=h.orientations||b.orientations||g.orientations||{},this.booking_details=h.booking_details||b.booking_details||g.booking_details||null,this.catering_restricted_from=h.catering_restricted_from||b.catering_restricted_from||g.catering_restricted_from||-1440,this.currency=h.currency||b.currency||g.currency||"USD"}role(h){return[...this._roles[h]||[]]}get role_names(){return Object.keys(this._roles).filter(h=>h in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(h){return(this.searchables||[]).filter(g=>g.level_id===h)}}},7451:(Ot,ve,s)=>{"use strict";s.d(ve,{g:()=>d});var e=s(1038);const n=["zone","qr_code","toJSON"];class d{constructor(g={}){this.toJSON=()=>this.format(),this.id=g.id||"",this.map_id=g.map_id||g.id||"",this.name=g.name||"",this.bookable=g.bookable??!1,this.zone=g.zone||new e.kMc,this.groups=g.groups||[],this.qr_code=g.qr_code||"",this.features=g.features||[],this.images=g.images||[];for(const b in g)b in this||(this[b]=g[b])}format(){const g={...this};for(const b of n)delete g[b];return(0,e.jv5)(g,[void 0,null,[]]),g}}},602:(Ot,ve,s)=>{"use strict";s.d(ve,{P:()=>e});class e{constructor(d={}){this.settings={},this.id=d.id||"",this.parent_id=d.parent_id||"",this.name=d.name||"",this.display_name=d.display_name||"",this.map_id=d.map_id||"",this.capacity=d.capacity||0,this.location=d.location||"",this.locations=d.locations||[],this.tags=d.tags||[],this.images=d.images||[];const h=this.display_name.split(" ");this.number=((h.length>=2?h[h.length-1]:this.display_name[0])?.toUpperCase()||"").substring(0,2)}}},6612:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>n});var e=s(4217);class n{constructor(h={}){this.id=h.id||"",this.name=h.name||"",this.description=h.description||"",this.tags=h.tags||[],this.count=h.count||0,this.capacity=h.capacity||0,this.bindings=h.bindings||{},this._settings=h.settings||{}}setting(h){const g=h.split(".");return(0,e.st)(g,this._settings)}}},8026:(Ot,ve,s)=>{"use strict";s.d(ve,{y:()=>gr});var e=s(467),n=s(1038),d=s(9928),h=s(9714),g=s(4421),b=s(5006),E=s(8712),_=s(4046),u=s(8728),I=s(3020),k=s(3921),y=s(9525),x=s(4233),M=s(5170),B=s(602),K=s(6612);class P{constructor(mt){this.id=mt.id||"",this.name=mt.name||"",this.display_name=mt.display_name||"",this.timezone=mt.timezone||"",this.images=mt.images||[],this.bindings=mt.bindings||{},this.address=mt.address||""}}var j=s(1168);function S(H){return typeof H>"u"||null===H}var ie={isNothing:S,isObject:function w(H){return"object"==typeof H&&null!==H},toArray:function m(H){return Array.isArray(H)?H:S(H)?[]:[H]},repeat:function A(H,mt){var Nt,_t="";for(Nt=0;Nt<mt;Nt+=1)_t+=H;return _t},isNegativeZero:function L(H){return 0===H&&Number.NEGATIVE_INFINITY===1/H},extend:function v(H,mt){var _t,Nt,Rt,en;if(mt)for(_t=0,Nt=(en=Object.keys(mt)).length;_t<Nt;_t+=1)H[Rt=en[_t]]=mt[Rt];return H}};function me(H,mt){var _t="",Nt=H.reason||"(unknown reason)";return H.mark?(H.mark.name&&(_t+='in "'+H.mark.name+'" '),_t+="("+(H.mark.line+1)+":"+(H.mark.column+1)+")",!mt&&H.mark.snippet&&(_t+="\n\n"+H.mark.snippet),Nt+" "+_t):Nt}function Y(H,mt){Error.call(this),this.name="YAMLException",this.reason=H,this.mark=mt,this.message=me(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(Y.prototype=Object.create(Error.prototype)).constructor=Y,Y.prototype.toString=function(mt){return this.name+": "+me(this,mt)};var F=Y;function N(H,mt,_t,Nt,Rt){var en="",tn="",On=Math.floor(Rt/2)-1;return Nt-mt>On&&(mt=Nt-On+(en=" ... ").length),_t-Nt>On&&(_t=Nt+On-(tn=" ...").length),{str:en+H.slice(mt,_t).replace(/\t/g,"\u2192")+tn,pos:Nt-mt+en.length}}function J(H,mt){return ie.repeat(" ",mt-H.length)+H}var _e=function ae(H,mt){if(mt=Object.create(mt||null),!H.buffer)return null;mt.maxLength||(mt.maxLength=79),"number"!=typeof mt.indent&&(mt.indent=1),"number"!=typeof mt.linesBefore&&(mt.linesBefore=3),"number"!=typeof mt.linesAfter&&(mt.linesAfter=2);for(var en,_t=/\r?\n|\r|\0/g,Nt=[0],Rt=[],tn=-1;en=_t.exec(H.buffer);)Rt.push(en.index),Nt.push(en.index+en[0].length),H.position<=en.index&&tn<0&&(tn=Nt.length-2);tn<0&&(tn=Nt.length-1);var Pn,Zn,On="",Si=Math.min(H.line+mt.linesAfter,Rt.length).toString().length,li=mt.maxLength-(mt.indent+Si+3);for(Pn=1;Pn<=mt.linesBefore&&!(tn-Pn<0);Pn++)Zn=N(H.buffer,Nt[tn-Pn],Rt[tn-Pn],H.position-(Nt[tn]-Nt[tn-Pn]),li),On=ie.repeat(" ",mt.indent)+J((H.line-Pn+1).toString(),Si)+" | "+Zn.str+"\n"+On;for(Zn=N(H.buffer,Nt[tn],Rt[tn],H.position,li),On+=ie.repeat(" ",mt.indent)+J((H.line+1).toString(),Si)+" | "+Zn.str+"\n",On+=ie.repeat("-",mt.indent+Si+3+Zn.pos)+"^\n",Pn=1;Pn<=mt.linesAfter&&!(tn+Pn>=Rt.length);Pn++)Zn=N(H.buffer,Nt[tn+Pn],Rt[tn+Pn],H.position-(Nt[tn]-Nt[tn+Pn]),li),On+=ie.repeat(" ",mt.indent)+J((H.line+Pn+1).toString(),Si)+" | "+Zn.str+"\n";return On.replace(/\n$/,"")},xe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Fe=["scalar","sequence","mapping"],qe=function Ye(H,mt){if(mt=mt||{},Object.keys(mt).forEach(function(_t){if(-1===xe.indexOf(_t))throw new F('Unknown option "'+_t+'" is met in definition of "'+H+'" YAML type.')}),this.options=mt,this.tag=H,this.kind=mt.kind||null,this.resolve=mt.resolve||function(){return!0},this.construct=mt.construct||function(_t){return _t},this.instanceOf=mt.instanceOf||null,this.predicate=mt.predicate||null,this.represent=mt.represent||null,this.representName=mt.representName||null,this.defaultStyle=mt.defaultStyle||null,this.multi=mt.multi||!1,this.styleAliases=function Ae(H){var mt={};return null!==H&&Object.keys(H).forEach(function(_t){H[_t].forEach(function(Nt){mt[String(Nt)]=_t})}),mt}(mt.styleAliases||null),-1===Fe.indexOf(this.kind))throw new F('Unknown kind "'+this.kind+'" is specified for "'+H+'" YAML type.')};function Ne(H,mt){var _t=[];return H[mt].forEach(function(Nt){var Rt=_t.length;_t.forEach(function(en,tn){en.tag===Nt.tag&&en.kind===Nt.kind&&en.multi===Nt.multi&&(Rt=tn)}),_t[Rt]=Nt}),_t}function pe(H){return this.extend(H)}pe.prototype.extend=function(mt){var _t=[],Nt=[];if(mt instanceof qe)Nt.push(mt);else if(Array.isArray(mt))Nt=Nt.concat(mt);else{if(!mt||!Array.isArray(mt.implicit)&&!Array.isArray(mt.explicit))throw new F("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");mt.implicit&&(_t=_t.concat(mt.implicit)),mt.explicit&&(Nt=Nt.concat(mt.explicit))}_t.forEach(function(en){if(!(en instanceof qe))throw new F("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(en.loadKind&&"scalar"!==en.loadKind)throw new F("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(en.multi)throw new F("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Nt.forEach(function(en){if(!(en instanceof qe))throw new F("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var Rt=Object.create(pe.prototype);return Rt.implicit=(this.implicit||[]).concat(_t),Rt.explicit=(this.explicit||[]).concat(Nt),Rt.compiledImplicit=Ne(Rt,"implicit"),Rt.compiledExplicit=Ne(Rt,"explicit"),Rt.compiledTypeMap=function Me(){var mt,_t,H={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function Nt(Rt){Rt.multi?(H.multi[Rt.kind].push(Rt),H.multi.fallback.push(Rt)):H[Rt.kind][Rt.tag]=H.fallback[Rt.tag]=Rt}for(mt=0,_t=arguments.length;mt<_t;mt+=1)arguments[mt].forEach(Nt);return H}(Rt.compiledImplicit,Rt.compiledExplicit),Rt};var xt=new pe({explicit:[new qe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(H){return null!==H?H:""}}),new qe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(H){return null!==H?H:[]}}),new qe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(H){return null!==H?H:{}}})]}),_n=new qe("tag:yaml.org,2002:null",{kind:"scalar",resolve:function dt(H){if(null===H)return!0;var mt=H.length;return 1===mt&&"~"===H||4===mt&&("null"===H||"Null"===H||"NULL"===H)},construct:function Ct(){return null},predicate:function Qt(H){return null===H},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),q=new qe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function In(H){if(null===H)return!1;var mt=H.length;return 4===mt&&("true"===H||"True"===H||"TRUE"===H)||5===mt&&("false"===H||"False"===H||"FALSE"===H)},construct:function rn(H){return"true"===H||"True"===H||"TRUE"===H},predicate:function $t(H){return"[object Boolean]"===Object.prototype.toString.call(H)},represent:{lowercase:function(H){return H?"true":"false"},uppercase:function(H){return H?"TRUE":"FALSE"},camelcase:function(H){return H?"True":"False"}},defaultStyle:"lowercase"});function Ie(H){return 48<=H&&H<=57||65<=H&&H<=70||97<=H&&H<=102}function se(H){return 48<=H&&H<=55}function fe(H){return 48<=H&&H<=57}var vn=new qe("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Ke(H){if(null===H)return!1;var Rt,mt=H.length,_t=0,Nt=!1;if(!mt)return!1;if(("-"===(Rt=H[_t])||"+"===Rt)&&(Rt=H[++_t]),"0"===Rt){if(_t+1===mt)return!0;if("b"===(Rt=H[++_t])){for(_t++;_t<mt;_t++)if("_"!==(Rt=H[_t])){if("0"!==Rt&&"1"!==Rt)return!1;Nt=!0}return Nt&&"_"!==Rt}if("x"===Rt){for(_t++;_t<mt;_t++)if("_"!==(Rt=H[_t])){if(!Ie(H.charCodeAt(_t)))return!1;Nt=!0}return Nt&&"_"!==Rt}if("o"===Rt){for(_t++;_t<mt;_t++)if("_"!==(Rt=H[_t])){if(!se(H.charCodeAt(_t)))return!1;Nt=!0}return Nt&&"_"!==Rt}}if("_"===Rt)return!1;for(;_t<mt;_t++)if("_"!==(Rt=H[_t])){if(!fe(H.charCodeAt(_t)))return!1;Nt=!0}return!(!Nt||"_"===Rt)},construct:function It(H){var Nt,mt=H,_t=1;if(-1!==mt.indexOf("_")&&(mt=mt.replace(/_/g,"")),("-"===(Nt=mt[0])||"+"===Nt)&&("-"===Nt&&(_t=-1),Nt=(mt=mt.slice(1))[0]),"0"===mt)return 0;if("0"===Nt){if("b"===mt[1])return _t*parseInt(mt.slice(2),2);if("x"===mt[1])return _t*parseInt(mt.slice(2),16);if("o"===mt[1])return _t*parseInt(mt.slice(2),8)}return _t*parseInt(mt,10)},predicate:function Kt(H){return"[object Number]"===Object.prototype.toString.call(H)&&H%1==0&&!ie.isNegativeZero(H)},represent:{binary:function(H){return H>=0?"0b"+H.toString(2):"-0b"+H.toString(2).slice(1)},octal:function(H){return H>=0?"0o"+H.toString(8):"-0o"+H.toString(8).slice(1)},decimal:function(H){return H.toString(10)},hexadecimal:function(H){return H>=0?"0x"+H.toString(16).toUpperCase():"-0x"+H.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Pt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),bt=/^[-+]?[0-9]+e/,nn=new qe("tag:yaml.org,2002:float",{kind:"scalar",resolve:function an(H){return!(null===H||!Pt.test(H)||"_"===H[H.length-1])},construct:function Et(H){var mt,_t;return _t="-"===(mt=H.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(mt[0])>=0&&(mt=mt.slice(1)),".inf"===mt?1===_t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===mt?NaN:_t*parseFloat(mt,10)},predicate:function Xt(H){return"[object Number]"===Object.prototype.toString.call(H)&&(H%1!=0||ie.isNegativeZero(H))},represent:function Yt(H,mt){var _t;if(isNaN(H))switch(mt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===H)switch(mt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===H)switch(mt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ie.isNegativeZero(H))return"-0.0";return _t=H.toString(10),bt.test(_t)?_t.replace("e",".e"):_t},defaultStyle:"lowercase"}),Mn=xt.extend({implicit:[_n,q,vn,nn]}),Ln=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Fn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Bt=new qe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function $n(H){return null!==H&&(null!==Ln.exec(H)||null!==Fn.exec(H))},construct:function Ht(H){var mt,_t,Nt,Rt,en,tn,On,ei,Pn=0,Zn=null;if(null===(mt=Ln.exec(H))&&(mt=Fn.exec(H)),null===mt)throw new Error("Date resolve error");if(_t=+mt[1],Nt=+mt[2]-1,Rt=+mt[3],!mt[4])return new Date(Date.UTC(_t,Nt,Rt));if(en=+mt[4],tn=+mt[5],On=+mt[6],mt[7]){for(Pn=mt[7].slice(0,3);Pn.length<3;)Pn+="0";Pn=+Pn}return mt[9]&&(Zn=6e4*(60*+mt[10]+ +(mt[11]||0)),"-"===mt[9]&&(Zn=-Zn)),ei=new Date(Date.UTC(_t,Nt,Rt,en,tn,On,Pn)),Zn&&ei.setTime(ei.getTime()-Zn),ei},instanceOf:Date,represent:function ze(H){return H.toISOString()}}),Ge=new qe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function Te(H){return"<<"===H||null===H}}),Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",De=new qe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function Wt(H){if(null===H)return!1;var mt,_t,Nt=0,Rt=H.length,en=Tt;for(_t=0;_t<Rt;_t++)if(!((mt=en.indexOf(H.charAt(_t)))>64)){if(mt<0)return!1;Nt+=6}return Nt%8==0},construct:function We(H){var mt,_t,Nt=H.replace(/[\r\n=]/g,""),Rt=Nt.length,en=Tt,tn=0,On=[];for(mt=0;mt<Rt;mt++)mt%4==0&&mt&&(On.push(tn>>16&255),On.push(tn>>8&255),On.push(255&tn)),tn=tn<<6|en.indexOf(Nt.charAt(mt));return 0==(_t=Rt%4*6)?(On.push(tn>>16&255),On.push(tn>>8&255),On.push(255&tn)):18===_t?(On.push(tn>>10&255),On.push(tn>>2&255)):12===_t&&On.push(tn>>4&255),new Uint8Array(On)},predicate:function Ue(H){return"[object Uint8Array]"===Object.prototype.toString.call(H)},represent:function Pe(H){var Nt,Rt,mt="",_t=0,en=H.length,tn=Tt;for(Nt=0;Nt<en;Nt++)Nt%3==0&&Nt&&(mt+=tn[_t>>18&63],mt+=tn[_t>>12&63],mt+=tn[_t>>6&63],mt+=tn[63&_t]),_t=(_t<<8)+H[Nt];return 0==(Rt=en%3)?(mt+=tn[_t>>18&63],mt+=tn[_t>>12&63],mt+=tn[_t>>6&63],mt+=tn[63&_t]):2===Rt?(mt+=tn[_t>>10&63],mt+=tn[_t>>4&63],mt+=tn[_t<<2&63],mt+=tn[64]):1===Rt&&(mt+=tn[_t>>2&63],mt+=tn[_t<<4&63],mt+=tn[64],mt+=tn[64]),mt}}),rt=Object.prototype.hasOwnProperty,Qe=Object.prototype.toString,Re=new qe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function vt(H){if(null===H)return!0;var _t,Nt,Rt,en,tn,mt=[],On=H;for(_t=0,Nt=On.length;_t<Nt;_t+=1){if(tn=!1,"[object Object]"!==Qe.call(Rt=On[_t]))return!1;for(en in Rt)if(rt.call(Rt,en)){if(tn)return!1;tn=!0}if(!tn)return!1;if(-1!==mt.indexOf(en))return!1;mt.push(en)}return!0},construct:function et(H){return null!==H?H:[]}}),Mt=Object.prototype.toString,qt=new qe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function nt(H){if(null===H)return!0;var mt,_t,Nt,Rt,en,tn=H;for(en=new Array(tn.length),mt=0,_t=tn.length;mt<_t;mt+=1){if("[object Object]"!==Mt.call(Nt=tn[mt])||1!==(Rt=Object.keys(Nt)).length)return!1;en[mt]=[Rt[0],Nt[Rt[0]]]}return!0},construct:function Ze(H){if(null===H)return[];var mt,_t,Nt,Rt,en,tn=H;for(en=new Array(tn.length),mt=0,_t=tn.length;mt<_t;mt+=1)Nt=tn[mt],Rt=Object.keys(Nt),en[mt]=[Rt[0],Nt[Rt[0]]];return en}}),Vt=Object.prototype.hasOwnProperty,Wn=new qe("tag:yaml.org,2002:set",{kind:"mapping",resolve:function dn(H){if(null===H)return!0;var mt,_t=H;for(mt in _t)if(Vt.call(_t,mt)&&null!==_t[mt])return!1;return!0},construct:function xn(H){return null!==H?H:{}}}),Xn=Mn.extend({implicit:[Bt,Ge],explicit:[De,Re,qt,Wn]}),ti=Object.prototype.hasOwnProperty,Ii=1,yi=2,ss=3,ys=4,$i=1,mn=2,gt=3,pt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,St=/[\x85\u2028\u2029]/,bn=/[,\[\]\{\}]/,st=/^(?:!|!!|![a-z\-]+!)$/i,it=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Gt(H){return Object.prototype.toString.call(H)}function Se(H){return 10===H||13===H}function At(H){return 9===H||32===H}function ne(H){return 9===H||32===H||10===H||13===H}function ke(H){return 44===H||91===H||93===H||123===H||125===H}function He(H){var mt;return 48<=H&&H<=57?H-48:97<=(mt=32|H)&&mt<=102?mt-97+10:-1}function Dt(H){return 120===H?2:117===H?4:85===H?8:0}function hn(H){return 48<=H&&H<=57?H-48:-1}function Bn(H){return 48===H?"\0":97===H?"\x07":98===H?"\b":116===H||9===H?"\t":110===H?"\n":118===H?"\v":102===H?"\f":114===H?"\r":101===H?"\x1b":32===H?" ":34===H?'"':47===H?"/":92===H?"\\":78===H?"\x85":95===H?"\xa0":76===H?"\u2028":80===H?"\u2029":""}function ai(H){return H<=65535?String.fromCharCode(H):String.fromCharCode(55296+(H-65536>>10),56320+(H-65536&1023))}for(var Ei=new Array(256),es=new Array(256),Wi=0;Wi<256;Wi++)Ei[Wi]=Bn(Wi)?1:0,es[Wi]=Bn(Wi);function zi(H,mt){this.input=H,this.filename=mt.filename||null,this.schema=mt.schema||Xn,this.onWarning=mt.onWarning||null,this.legacy=mt.legacy||!1,this.json=mt.json||!1,this.listener=mt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=H.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ji(H,mt){var _t={name:H.filename,buffer:H.input.slice(0,-1),position:H.position,line:H.line,column:H.position-H.lineStart};return _t.snippet=_e(_t),new F(mt,_t)}function Qn(H,mt){throw Ji(H,mt)}function Js(H,mt){H.onWarning&&H.onWarning.call(null,Ji(H,mt))}var Gi={YAML:function(mt,_t,Nt){var Rt,en,tn;null!==mt.version&&Qn(mt,"duplication of %YAML directive"),1!==Nt.length&&Qn(mt,"YAML directive accepts exactly one argument"),null===(Rt=/^([0-9]+)\.([0-9]+)$/.exec(Nt[0]))&&Qn(mt,"ill-formed argument of the YAML directive"),en=parseInt(Rt[1],10),tn=parseInt(Rt[2],10),1!==en&&Qn(mt,"unacceptable YAML version of the document"),mt.version=Nt[0],mt.checkLineBreaks=tn<2,1!==tn&&2!==tn&&Js(mt,"unsupported YAML version of the document")},TAG:function(mt,_t,Nt){var Rt,en;2!==Nt.length&&Qn(mt,"TAG directive accepts exactly two arguments"),en=Nt[1],st.test(Rt=Nt[0])||Qn(mt,"ill-formed tag handle (first argument) of the TAG directive"),ti.call(mt.tagMap,Rt)&&Qn(mt,'there is a previously declared suffix for "'+Rt+'" tag handle'),it.test(en)||Qn(mt,"ill-formed tag prefix (second argument) of the TAG directive");try{en=decodeURIComponent(en)}catch{Qn(mt,"tag prefix is malformed: "+en)}mt.tagMap[Rt]=en}};function mo(H,mt,_t,Nt){var Rt,en,tn,On;if(mt<_t){if(On=H.input.slice(mt,_t),Nt)for(Rt=0,en=On.length;Rt<en;Rt+=1)9===(tn=On.charCodeAt(Rt))||32<=tn&&tn<=1114111||Qn(H,"expected valid JSON character");else pt.test(On)&&Qn(H,"the stream contains non-printable characters");H.result+=On}}function ho(H,mt,_t,Nt){var Rt,en,tn,On;for(ie.isObject(_t)||Qn(H,"cannot merge mappings; the provided source object is unacceptable"),tn=0,On=(Rt=Object.keys(_t)).length;tn<On;tn+=1)ti.call(mt,en=Rt[tn])||(mt[en]=_t[en],Nt[en]=!0)}function io(H,mt,_t,Nt,Rt,en,tn,On,Pn){var Zn,Si;if(Array.isArray(Rt))for(Zn=0,Si=(Rt=Array.prototype.slice.call(Rt)).length;Zn<Si;Zn+=1)Array.isArray(Rt[Zn])&&Qn(H,"nested arrays are not supported inside keys"),"object"==typeof Rt&&"[object Object]"===Gt(Rt[Zn])&&(Rt[Zn]="[object Object]");if("object"==typeof Rt&&"[object Object]"===Gt(Rt)&&(Rt="[object Object]"),Rt=String(Rt),null===mt&&(mt={}),"tag:yaml.org,2002:merge"===Nt)if(Array.isArray(en))for(Zn=0,Si=en.length;Zn<Si;Zn+=1)ho(H,mt,en[Zn],_t);else ho(H,mt,en,_t);else!H.json&&!ti.call(_t,Rt)&&ti.call(mt,Rt)&&(H.line=tn||H.line,H.lineStart=On||H.lineStart,H.position=Pn||H.position,Qn(H,"duplicated mapping key")),"__proto__"===Rt?Object.defineProperty(mt,Rt,{configurable:!0,enumerable:!0,writable:!0,value:en}):mt[Rt]=en,delete _t[Rt];return mt}function Mr(H){var mt;10===(mt=H.input.charCodeAt(H.position))?H.position++:13===mt?(H.position++,10===H.input.charCodeAt(H.position)&&H.position++):Qn(H,"a line break is expected"),H.line+=1,H.lineStart=H.position,H.firstTabInLine=-1}function Ts(H,mt,_t){for(var Nt=0,Rt=H.input.charCodeAt(H.position);0!==Rt;){for(;At(Rt);)9===Rt&&-1===H.firstTabInLine&&(H.firstTabInLine=H.position),Rt=H.input.charCodeAt(++H.position);if(mt&&35===Rt)do{Rt=H.input.charCodeAt(++H.position)}while(10!==Rt&&13!==Rt&&0!==Rt);if(!Se(Rt))break;for(Mr(H),Rt=H.input.charCodeAt(H.position),Nt++,H.lineIndent=0;32===Rt;)H.lineIndent++,Rt=H.input.charCodeAt(++H.position)}return-1!==_t&&0!==Nt&&H.lineIndent<_t&&Js(H,"deficient indentation"),Nt}function Tr(H){var _t,mt=H.position;return!(45!==(_t=H.input.charCodeAt(mt))&&46!==_t||_t!==H.input.charCodeAt(mt+1)||_t!==H.input.charCodeAt(mt+2)||(mt+=3,_t=H.input.charCodeAt(mt),0!==_t&&!ne(_t)))}function tr(H,mt){1===mt?H.result+=" ":mt>1&&(H.result+=ie.repeat("\n",mt-1))}function Nr(H,mt){var _t,Pn,Nt=H.tag,Rt=H.anchor,en=[],On=!1;if(-1!==H.firstTabInLine)return!1;for(null!==H.anchor&&(H.anchorMap[H.anchor]=en),Pn=H.input.charCodeAt(H.position);0!==Pn&&(-1!==H.firstTabInLine&&(H.position=H.firstTabInLine,Qn(H,"tab characters must not be used in indentation")),45===Pn&&ne(H.input.charCodeAt(H.position+1)));)if(On=!0,H.position++,Ts(H,!0,-1)&&H.lineIndent<=mt)en.push(null),Pn=H.input.charCodeAt(H.position);else if(_t=H.line,Do(H,mt,ss,!1,!0),en.push(H.result),Ts(H,!0,-1),Pn=H.input.charCodeAt(H.position),(H.line===_t||H.lineIndent>mt)&&0!==Pn)Qn(H,"bad indentation of a sequence entry");else if(H.lineIndent<mt)break;return!!On&&(H.tag=Nt,H.anchor=Rt,H.kind="sequence",H.result=en,!0)}function ua(H){var mt,Rt,en,tn,_t=!1,Nt=!1;if(33!==(tn=H.input.charCodeAt(H.position)))return!1;if(null!==H.tag&&Qn(H,"duplication of a tag property"),60===(tn=H.input.charCodeAt(++H.position))?(_t=!0,tn=H.input.charCodeAt(++H.position)):33===tn?(Nt=!0,Rt="!!",tn=H.input.charCodeAt(++H.position)):Rt="!",mt=H.position,_t){do{tn=H.input.charCodeAt(++H.position)}while(0!==tn&&62!==tn);H.position<H.length?(en=H.input.slice(mt,H.position),tn=H.input.charCodeAt(++H.position)):Qn(H,"unexpected end of the stream within a verbatim tag")}else{for(;0!==tn&&!ne(tn);)33===tn&&(Nt?Qn(H,"tag suffix cannot contain exclamation marks"):(Rt=H.input.slice(mt-1,H.position+1),st.test(Rt)||Qn(H,"named tag handle cannot contain such characters"),Nt=!0,mt=H.position+1)),tn=H.input.charCodeAt(++H.position);en=H.input.slice(mt,H.position),bn.test(en)&&Qn(H,"tag suffix cannot contain flow indicator characters")}en&&!it.test(en)&&Qn(H,"tag name cannot contain such characters: "+en);try{en=decodeURIComponent(en)}catch{Qn(H,"tag name is malformed: "+en)}return _t?H.tag=en:ti.call(H.tagMap,Rt)?H.tag=H.tagMap[Rt]+en:"!"===Rt?H.tag="!"+en:"!!"===Rt?H.tag="tag:yaml.org,2002:"+en:Qn(H,'undeclared tag handle "'+Rt+'"'),!0}function Br(H){var mt,_t;if(38!==(_t=H.input.charCodeAt(H.position)))return!1;for(null!==H.anchor&&Qn(H,"duplication of an anchor property"),_t=H.input.charCodeAt(++H.position),mt=H.position;0!==_t&&!ne(_t)&&!ke(_t);)_t=H.input.charCodeAt(++H.position);return H.position===mt&&Qn(H,"name of an anchor node must contain at least one character"),H.anchor=H.input.slice(mt,H.position),!0}function Do(H,mt,_t,Nt,Rt){var en,tn,On,li,ei,Ri,Ds,Zi,so,Pn=1,Zn=!1,Si=!1;if(null!==H.listener&&H.listener("open",H),H.tag=null,H.anchor=null,H.kind=null,H.result=null,en=tn=On=ys===_t||ss===_t,Nt&&Ts(H,!0,-1)&&(Zn=!0,H.lineIndent>mt?Pn=1:H.lineIndent===mt?Pn=0:H.lineIndent<mt&&(Pn=-1)),1===Pn)for(;ua(H)||Br(H);)Ts(H,!0,-1)?(Zn=!0,On=en,H.lineIndent>mt?Pn=1:H.lineIndent===mt?Pn=0:H.lineIndent<mt&&(Pn=-1)):On=!1;if(On&&(On=Zn||Rt),(1===Pn||ys===_t)&&(Zi=Ii===_t||yi===_t?mt:mt+1,so=H.position-H.lineStart,1===Pn?On&&(Nr(H,so)||function ea(H,mt,_t){var Nt,Rt,en,tn,On,Pn,bs,Zn=H.tag,Si=H.anchor,li={},ei=Object.create(null),Ri=null,Ds=null,Zi=null,so=!1,Ro=!1;if(-1!==H.firstTabInLine)return!1;for(null!==H.anchor&&(H.anchorMap[H.anchor]=li),bs=H.input.charCodeAt(H.position);0!==bs;){if(!so&&-1!==H.firstTabInLine&&(H.position=H.firstTabInLine,Qn(H,"tab characters must not be used in indentation")),Nt=H.input.charCodeAt(H.position+1),en=H.line,63!==bs&&58!==bs||!ne(Nt)){if(tn=H.line,On=H.lineStart,Pn=H.position,!Do(H,_t,yi,!1,!0))break;if(H.line===en){for(bs=H.input.charCodeAt(H.position);At(bs);)bs=H.input.charCodeAt(++H.position);if(58===bs)ne(bs=H.input.charCodeAt(++H.position))||Qn(H,"a whitespace character is expected after the key-value separator within a block mapping"),so&&(io(H,li,ei,Ri,Ds,null,tn,On,Pn),Ri=Ds=Zi=null),Ro=!0,so=!1,Rt=!1,Ri=H.tag,Ds=H.result;else{if(!Ro)return H.tag=Zn,H.anchor=Si,!0;Qn(H,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Ro)return H.tag=Zn,H.anchor=Si,!0;Qn(H,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===bs?(so&&(io(H,li,ei,Ri,Ds,null,tn,On,Pn),Ri=Ds=Zi=null),Ro=!0,so=!0,Rt=!0):so?(so=!1,Rt=!0):Qn(H,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),H.position+=1,bs=Nt;if((H.line===en||H.lineIndent>mt)&&(so&&(tn=H.line,On=H.lineStart,Pn=H.position),Do(H,mt,ys,!0,Rt)&&(so?Ds=H.result:Zi=H.result),so||(io(H,li,ei,Ri,Ds,Zi,tn,On,Pn),Ri=Ds=Zi=null),Ts(H,!0,-1),bs=H.input.charCodeAt(H.position)),(H.line===en||H.lineIndent>mt)&&0!==bs)Qn(H,"bad indentation of a mapping entry");else if(H.lineIndent<mt)break}return so&&io(H,li,ei,Ri,Ds,null,tn,On,Pn),Ro&&(H.tag=Zn,H.anchor=Si,H.kind="mapping",H.result=li),Ro}(H,so,Zi))||function Dr(H,mt){var Nt,Rt,en,On,Si,li,ei,Ri,Zi,so,Ro,bs,_t=!0,tn=H.tag,Pn=H.anchor,Ds=Object.create(null);if(91===(bs=H.input.charCodeAt(H.position)))Si=93,Ri=!1,On=[];else{if(123!==bs)return!1;Si=125,Ri=!0,On={}}for(null!==H.anchor&&(H.anchorMap[H.anchor]=On),bs=H.input.charCodeAt(++H.position);0!==bs;){if(Ts(H,!0,mt),(bs=H.input.charCodeAt(H.position))===Si)return H.position++,H.tag=tn,H.anchor=Pn,H.kind=Ri?"mapping":"sequence",H.result=On,!0;_t?44===bs&&Qn(H,"expected the node content, but found ','"):Qn(H,"missed comma between flow collection entries"),Ro=null,li=ei=!1,63===bs&&ne(H.input.charCodeAt(H.position+1))&&(li=ei=!0,H.position++,Ts(H,!0,mt)),Nt=H.line,Rt=H.lineStart,en=H.position,Do(H,mt,Ii,!1,!0),so=H.tag,Zi=H.result,Ts(H,!0,mt),bs=H.input.charCodeAt(H.position),(ei||H.line===Nt)&&58===bs&&(li=!0,bs=H.input.charCodeAt(++H.position),Ts(H,!0,mt),Do(H,mt,Ii,!1,!0),Ro=H.result),Ri?io(H,On,Ds,so,Zi,Ro,Nt,Rt,en):On.push(li?io(H,null,Ds,so,Zi,Ro,Nt,Rt,en):Zi),Ts(H,!0,mt),44===(bs=H.input.charCodeAt(H.position))?(_t=!0,bs=H.input.charCodeAt(++H.position)):_t=!1}Qn(H,"unexpected end of the stream within a flow collection")}(H,Zi)?Si=!0:(tn&&function qr(H,mt){var _t,Nt,Si,li,Rt=$i,en=!1,tn=!1,On=mt,Pn=0,Zn=!1;if(124===(li=H.input.charCodeAt(H.position)))Nt=!1;else{if(62!==li)return!1;Nt=!0}for(H.kind="scalar",H.result="";0!==li;)if(43===(li=H.input.charCodeAt(++H.position))||45===li)$i===Rt?Rt=43===li?gt:mn:Qn(H,"repeat of a chomping mode identifier");else{if(!((Si=hn(li))>=0))break;0===Si?Qn(H,"bad explicit indentation width of a block scalar; it cannot be less than one"):tn?Qn(H,"repeat of an indentation width identifier"):(On=mt+Si-1,tn=!0)}if(At(li)){do{li=H.input.charCodeAt(++H.position)}while(At(li));if(35===li)do{li=H.input.charCodeAt(++H.position)}while(!Se(li)&&0!==li)}for(;0!==li;){for(Mr(H),H.lineIndent=0,li=H.input.charCodeAt(H.position);(!tn||H.lineIndent<On)&&32===li;)H.lineIndent++,li=H.input.charCodeAt(++H.position);if(!tn&&H.lineIndent>On&&(On=H.lineIndent),Se(li))Pn++;else{if(H.lineIndent<On){Rt===gt?H.result+=ie.repeat("\n",en?1+Pn:Pn):Rt===$i&&en&&(H.result+="\n");break}for(Nt?At(li)?(Zn=!0,H.result+=ie.repeat("\n",en?1+Pn:Pn)):Zn?(Zn=!1,H.result+=ie.repeat("\n",Pn+1)):0===Pn?en&&(H.result+=" "):H.result+=ie.repeat("\n",Pn):H.result+=ie.repeat("\n",en?1+Pn:Pn),en=!0,tn=!0,Pn=0,_t=H.position;!Se(li)&&0!==li;)li=H.input.charCodeAt(++H.position);mo(H,_t,H.position,!1)}}return!0}(H,Zi)||function nr(H,mt){var _t,Nt,Rt;if(39!==(_t=H.input.charCodeAt(H.position)))return!1;for(H.kind="scalar",H.result="",H.position++,Nt=Rt=H.position;0!==(_t=H.input.charCodeAt(H.position));)if(39===_t){if(mo(H,Nt,H.position,!0),39!==(_t=H.input.charCodeAt(++H.position)))return!0;Nt=H.position,H.position++,Rt=H.position}else Se(_t)?(mo(H,Nt,Rt,!0),tr(H,Ts(H,!1,mt)),Nt=Rt=H.position):H.position===H.lineStart&&Tr(H)?Qn(H,"unexpected end of the document within a single quoted scalar"):(H.position++,Rt=H.position);Qn(H,"unexpected end of the stream within a single quoted scalar")}(H,Zi)||function pr(H,mt){var _t,Nt,Rt,en,tn,On;if(34!==(On=H.input.charCodeAt(H.position)))return!1;for(H.kind="scalar",H.result="",H.position++,_t=Nt=H.position;0!==(On=H.input.charCodeAt(H.position));){if(34===On)return mo(H,_t,H.position,!0),H.position++,!0;if(92===On){if(mo(H,_t,H.position,!0),Se(On=H.input.charCodeAt(++H.position)))Ts(H,!1,mt);else if(On<256&&Ei[On])H.result+=es[On],H.position++;else if((tn=Dt(On))>0){for(Rt=tn,en=0;Rt>0;Rt--)(tn=He(On=H.input.charCodeAt(++H.position)))>=0?en=(en<<4)+tn:Qn(H,"expected hexadecimal character");H.result+=ai(en),H.position++}else Qn(H,"unknown escape sequence");_t=Nt=H.position}else Se(On)?(mo(H,_t,Nt,!0),tr(H,Ts(H,!1,mt)),_t=Nt=H.position):H.position===H.lineStart&&Tr(H)?Qn(H,"unexpected end of the document within a double quoted scalar"):(H.position++,Nt=H.position)}Qn(H,"unexpected end of the stream within a double quoted scalar")}(H,Zi)?Si=!0:function $r(H){var mt,_t,Nt;if(42!==(Nt=H.input.charCodeAt(H.position)))return!1;for(Nt=H.input.charCodeAt(++H.position),mt=H.position;0!==Nt&&!ne(Nt)&&!ke(Nt);)Nt=H.input.charCodeAt(++H.position);return H.position===mt&&Qn(H,"name of an alias node must contain at least one character"),_t=H.input.slice(mt,H.position),ti.call(H.anchorMap,_t)||Qn(H,'unidentified alias "'+_t+'"'),H.result=H.anchorMap[_t],Ts(H,!0,-1),!0}(H)?(Si=!0,(null!==H.tag||null!==H.anchor)&&Qn(H,"alias node should not have any properties")):function Zs(H,mt,_t){var Rt,en,tn,On,Pn,Zn,Si,Ri,li=H.kind,ei=H.result;if(ne(Ri=H.input.charCodeAt(H.position))||ke(Ri)||35===Ri||38===Ri||42===Ri||33===Ri||124===Ri||62===Ri||39===Ri||34===Ri||37===Ri||64===Ri||96===Ri||(63===Ri||45===Ri)&&(ne(Rt=H.input.charCodeAt(H.position+1))||_t&&ke(Rt)))return!1;for(H.kind="scalar",H.result="",en=tn=H.position,On=!1;0!==Ri;){if(58===Ri){if(ne(Rt=H.input.charCodeAt(H.position+1))||_t&&ke(Rt))break}else if(35===Ri){if(ne(H.input.charCodeAt(H.position-1)))break}else{if(H.position===H.lineStart&&Tr(H)||_t&&ke(Ri))break;if(Se(Ri)){if(Pn=H.line,Zn=H.lineStart,Si=H.lineIndent,Ts(H,!1,-1),H.lineIndent>=mt){On=!0,Ri=H.input.charCodeAt(H.position);continue}H.position=tn,H.line=Pn,H.lineStart=Zn,H.lineIndent=Si;break}}On&&(mo(H,en,tn,!1),tr(H,H.line-Pn),en=tn=H.position,On=!1),At(Ri)||(tn=H.position+1),Ri=H.input.charCodeAt(++H.position)}return mo(H,en,tn,!1),!!H.result||(H.kind=li,H.result=ei,!1)}(H,Zi,Ii===_t)&&(Si=!0,null===H.tag&&(H.tag="?")),null!==H.anchor&&(H.anchorMap[H.anchor]=H.result)):0===Pn&&(Si=On&&Nr(H,so))),null===H.tag)null!==H.anchor&&(H.anchorMap[H.anchor]=H.result);else if("?"===H.tag){for(null!==H.result&&"scalar"!==H.kind&&Qn(H,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+H.kind+'"'),li=0,ei=H.implicitTypes.length;li<ei;li+=1)if((Ds=H.implicitTypes[li]).resolve(H.result)){H.result=Ds.construct(H.result),H.tag=Ds.tag,null!==H.anchor&&(H.anchorMap[H.anchor]=H.result);break}}else if("!"!==H.tag){if(ti.call(H.typeMap[H.kind||"fallback"],H.tag))Ds=H.typeMap[H.kind||"fallback"][H.tag];else for(Ds=null,li=0,ei=(Ri=H.typeMap.multi[H.kind||"fallback"]).length;li<ei;li+=1)if(H.tag.slice(0,Ri[li].tag.length)===Ri[li].tag){Ds=Ri[li];break}Ds||Qn(H,"unknown tag !<"+H.tag+">"),null!==H.result&&Ds.kind!==H.kind&&Qn(H,"unacceptable node kind for !<"+H.tag+'> tag; it should be "'+Ds.kind+'", not "'+H.kind+'"'),Ds.resolve(H.result,H.tag)?(H.result=Ds.construct(H.result,H.tag),null!==H.anchor&&(H.anchorMap[H.anchor]=H.result)):Qn(H,"cannot resolve a node with !<"+H.tag+"> explicit tag")}return null!==H.listener&&H.listener("close",H),null!==H.tag||null!==H.anchor||Si}function Ta(H){var _t,Nt,Rt,tn,mt=H.position,en=!1;for(H.version=null,H.checkLineBreaks=H.legacy,H.tagMap=Object.create(null),H.anchorMap=Object.create(null);0!==(tn=H.input.charCodeAt(H.position))&&(Ts(H,!0,-1),tn=H.input.charCodeAt(H.position),!(H.lineIndent>0||37!==tn));){for(en=!0,tn=H.input.charCodeAt(++H.position),_t=H.position;0!==tn&&!ne(tn);)tn=H.input.charCodeAt(++H.position);for(Rt=[],(Nt=H.input.slice(_t,H.position)).length<1&&Qn(H,"directive name must not be less than one character in length");0!==tn;){for(;At(tn);)tn=H.input.charCodeAt(++H.position);if(35===tn){do{tn=H.input.charCodeAt(++H.position)}while(0!==tn&&!Se(tn));break}if(Se(tn))break;for(_t=H.position;0!==tn&&!ne(tn);)tn=H.input.charCodeAt(++H.position);Rt.push(H.input.slice(_t,H.position))}0!==tn&&Mr(H),ti.call(Gi,Nt)?Gi[Nt](H,Nt,Rt):Js(H,'unknown document directive "'+Nt+'"')}Ts(H,!0,-1),0===H.lineIndent&&45===H.input.charCodeAt(H.position)&&45===H.input.charCodeAt(H.position+1)&&45===H.input.charCodeAt(H.position+2)?(H.position+=3,Ts(H,!0,-1)):en&&Qn(H,"directives end mark is expected"),Do(H,H.lineIndent-1,ys,!1,!0),Ts(H,!0,-1),H.checkLineBreaks&&St.test(H.input.slice(mt,H.position))&&Js(H,"non-ASCII line breaks are interpreted as content"),H.documents.push(H.result),H.position===H.lineStart&&Tr(H)?46===H.input.charCodeAt(H.position)&&(H.position+=3,Ts(H,!0,-1)):H.position<H.length-1&&Qn(H,"end of the stream or a document separator is expected")}function _o(H,mt){mt=mt||{},0!==(H=String(H)).length&&(10!==H.charCodeAt(H.length-1)&&13!==H.charCodeAt(H.length-1)&&(H+="\n"),65279===H.charCodeAt(0)&&(H=H.slice(1)));var _t=new zi(H,mt),Nt=H.indexOf("\0");for(-1!==Nt&&(_t.position=Nt,Qn(_t,"null byte is not allowed in input")),_t.input+="\0";32===_t.input.charCodeAt(_t.position);)_t.lineIndent+=1,_t.position+=1;for(;_t.position<_t.length-1;)Ta(_t);return _t.documents}function Or(H,mt){return function(){throw new Error("Function yaml."+H+" is removed in js-yaml 4. Use yaml."+mt+" instead, which is now safe by default.")}}var $a=function ir(H,mt){var _t=_o(H,mt);if(0!==_t.length){if(1===_t.length)return _t[0];throw new F("expected a single document in the stream, but found more")}};Or("safeLoad","load"),Or("safeLoadAll","loadAll"),Or("safeDump","dump");var Rs=s(3953),Bl=s(2091);let gr=(()=>{class H{get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(_t=""){const Nt=this._active_region.getValue();return!_t&&Nt&&(_t=Nt?.id),this._region_settings&&this._region_settings[_t]||{}}buildingSettings(_t=""){return!_t&&this.building&&(_t=this.building?.id||this.buildings[0]?.id),this._building_settings&&this._building_settings[_t]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(_t){this.setRegion(_t)}setRegion(_t){var Nt=this;return(0,e.A)(function*(){_t&&(Nt._active_region.next(_t),yield Nt.loadRegionData(_t),Nt._setBuildingFromTimezone(),Nt.building?.parent_id!==_t.id&&Nt.buildingsForRegion(_t).length?Nt.building=Nt.buildingsForRegion(_t)[0]:Nt._updateSettingOverrides())})()}get buildings(){return this._buildings.getValue()||[]}get building(){return this._active_building.getValue()}set building(_t){_t&&(this._active_building.next(_t),this._service.get("dont_load_metadata")||this.loadBuildingData(_t).then(()=>this._updateSettingOverrides()),this.regions.length&&this.region?.id!==_t.parent_id&&(this.region=this.regions.find(Nt=>Nt.id===this.building.parent_id)))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building?.currency||"USD"}binding(_t){return this.building?.bindings[_t]||this._organisation?.bindings[_t]}find(_t){return this.buildings.find(Nt=>Nt.id===_t)}get levels(){return this._levels.getValue()}constructor(_t,Nt){this._service=_t,this._router=Nt,this._initialised=new d.t(!1),this.initialised=this._initialised.asObservable(),this._regions=new d.t([]),this._active_region=new d.t(null),this._buildings=new d.t([]),this._active_building=new d.t(null),this._levels=new d.t([]),this._loaded_data=[],this.app_key=`${(this._service.app_name||"workplace").toLowerCase()}_app`,this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,h.zV)([this._buildings,this._active_region]).pipe((0,b.T)(([Rt,en])=>en?this.buildingsForRegion(en):this.buildings)),this.active_levels=(0,h.zV)([this._levels,this._active_building]).pipe((0,b.T)(([Rt,en])=>en?this.levelsForBuilding(en):[]),(0,E.t)(1)),this._settings=[],this._region_settings={},this._building_settings={},(0,n.XYg)().pipe((0,_.$)(Rt=>Rt)).subscribe(()=>setTimeout(()=>this.init(),1e3)),(0,h.zV)([this.active_region,this.active_building]).pipe((0,u.p)(([Rt,en])=>!!en),(0,I.B)(300)).subscribe(()=>this._updateSettingOverrides())}levelWithID(_t){return this.levels.find(Nt=>_t?.includes(Nt.id))}levelsForBuilding(_t=this.building){return this.levels.filter(Nt=>Nt.parent_id&&Nt.parent_id===_t?.id)}buildingsForRegion(_t=this.region){return this.buildings.filter(Nt=>Nt.parent_id===_t?.id)}levelsForRegion(_t=this.region){const Nt=this.buildingsForRegion(_t);return this.levels.filter(Rt=>Rt.parent_id&&Nt.find(en=>en.id===Rt.parent_id))}addZone(_t){if(_t.tags.includes("region")){const Nt=new P(_t),Rt=this._regions.getValue().filter(en=>en.id!==Nt.id);Rt.push(Nt),this._regions.next(Rt)}else if(_t.tags.includes("building")){const Nt=new M.t(_t);let Rt=this._buildings.getValue().filter(en=>en.id!==Nt.id);Rt.push(Nt),Rt=Rt.sort((en,tn)=>(en.name||"").localeCompare(tn.name||"")),this._buildings.next(Rt)}else if(_t.tags.includes("level")){const Nt=new B.P(_t);let Rt=this._levels.getValue().filter(en=>en.id!==Nt.id);Rt.push(Nt),Rt=Rt.sort((en,tn)=>(en.name||"").localeCompare(tn.name||"")),this._levels.next(Rt)}else console.warn("Unable to add zone as it is missing the required tag.",_t.id)}removeZone(_t){if(_t.tags.includes("region")){const Nt=this._regions.getValue().filter(Rt=>Rt.id!==_t.id);this._regions.next(Nt)}else if(_t.tags.includes("building")){const Nt=this._buildings.getValue().filter(Rt=>Rt.id!==_t.id);this._buildings.next(Nt)}else if(_t.tags.includes("level")){const Nt=this._levels.getValue().filter(Rt=>Rt.id!==_t.id);this._levels.next(Nt)}else console.warn("Unable to remove zone as it is missing the required tag.",_t.id)}init(_t=0){var Nt=this;return(0,e.A)(function*(){Nt._initialised.next(!1),yield Nt.load().catch(Rt=>{throw(0,y.UG)("Error loading organisation data. Retrying..."),setTimeout(()=>Nt.init(_t),Math.min(1e4,300*++_t)),Rt}),Nt._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=Nt)})()}load(){var _t=this;return(0,e.A)(function*(){if(yield _t.loadOrganisation(),yield _t.loadRegions(),_t._regions.getValue().length)for(const Nt of _t._regions.getValue()){const Rt=yield _t.loadBuildings(Nt.id);if(Rt.length){_t._buildings.next(Rt);break}}else _t._buildings.next(yield _t.loadBuildings());yield _t.loadSettings(),_t._buildings.getValue()?.length||(0,j.Rm)("ORG","Unable to find any building zones"),yield _t.loadLevels(),_t._updateSettingOverrides()})()}loadOrganisation(){var _t=this;return(0,e.A)(function*(){const Nt=yield(0,n.smM)({tags:"org"}).pipe((0,b.T)(Rt=>Rt.data)).toPromise();if(Nt.length){const Rt=(0,n.kup)(),en=Nt.find(Pn=>(0,n.TMs)()||Pn.id===Rt?.config?.org_zone)||Nt[0],On=(yield(_t._service.get("dont_load_metadata")?(0,g.of)({details:{}}):(0,n.bpY)(en.id,"bindings")).toPromise())?.details;_t._organisation=new K.B({...en,bindings:On})}else(0,j.Rm)("ORG","Unable to find organisation"),_t._router.navigate(["/misconfigured"])})()}loadRegions(){var _t=this;return(0,e.A)(function*(){const Nt=yield(0,n.smM)({tags:"region",parent_id:_t._organisation?.id||"",limit:500}).pipe((0,b.T)(Rt=>Rt.data.map(en=>new P(en))),(0,k.W)(()=>(0,g.of)([]))).toPromise();_t._regions.next(Nt)})()}loadRegionData(_t){var Nt=this;return(0,e.A)(function*(){if(Nt._loaded_data[_t.id])return;const Rt=!Nt._service.get("dont_load_metadata"),en=Rt?(0,n.bpY)(_t.id,Nt.app_key):(0,g.of)(new n.Pdm),tn=Rt?(0,n.bpY)(_t.id,"bindings"):(0,g.of)(new n.Pdm),[On,Pn,Zn]=yield Promise.all([en.pipe((0,b.T)(Si=>Si?.details)).toPromise(),tn.pipe((0,b.T)(Si=>Si?.details)).toPromise(),Nt.loadBuildings(_t.id)]);Nt._buildings.next((0,j.Am)([...Nt._buildings.getValue(),...Zn],"id")),Nt._loaded_data[_t.id]=!0,_t.bindings=Pn,Nt._region_settings[_t.id]=On})()}loadBuildings(_t=this._organisation?.id){return(0,e.A)(function*(){return yield(0,n.smM)({tags:"building",parent_id:_t,limit:500}).pipe((0,b.T)(Rt=>Rt.data.map(en=>new M.t(en)))).toPromise()})()}loadBuildingData(_t){var Nt=this;return(0,e.A)(function*(){if(!_t||Nt._loaded_data[_t.id])return;const[Rt,en,tn,On]=yield Promise.all([(0,n.bpY)(_t.id,Nt.app_key).pipe((0,b.T)(Pn=>Pn?.details),(0,k.W)(()=>(0,g.of)({}))).toPromise(),(0,n.bpY)(_t.id,"bindings").pipe((0,b.T)(Pn=>Pn?.details),(0,k.W)(()=>(0,g.of)({}))).toPromise(),(0,n.bpY)(_t.id,"booking_rules").pipe((0,b.T)(Pn=>Pn?.details),(0,k.W)(()=>(0,g.of)({}))).toPromise(),(0,n.smE)({parent_id:_t.id}).pipe((0,k.W)(()=>(0,g.of)({data:{}})),(0,b.T)(Pn=>{try{return $a(Pn?.data.find(Zn=>Zn.encryption_level===n.cor.None)||{settings_string:""})}catch{return{}}})).toPromise()]);Nt._building_settings[_t.id]={...On||{},...Rt||{}},_t.bindings=en,_t.booking_rules=tn,Nt._loaded_data[_t.id]=!0,Nt._updateSettingOverrides()})()}loadLevels(){var _t=this;return(0,e.A)(function*(){let Nt=yield(0,n.smM)({tags:"level",authority_id:(0,n.kup)().id,limit:2500}).pipe((0,b.T)(en=>en.data)).toPromise();Nt=Nt.filter(en=>en.parent_id),Nt?.length||_t._router.navigate(["/misconfigured"]);let Rt=Nt.map(en=>new B.P(en));Rt=Rt.sort((en,tn)=>(en.name||"").localeCompare(tn.name||"")),_t._levels.next(Rt)})()}get available_room_configs(){return this.buildings.map(_t=>[..._t.room_configurations]).reduce((_t,Nt)=>_t.concat(Nt),[]).sort((_t,Nt)=>_t.name.localeCompare(Nt.name))}loadSettings(){var _t=this;return(0,e.A)(function*(){if(_t._organisation){if(!_t._service.get("dont_load_metadata")){const Rt=(yield(0,n.bpY)(_t._organisation?.id,_t.app_key).toPromise())?.details,en=(yield(0,n.bpY)(_t._organisation?.id,"settings").toPromise())?.details;_t._settings=[en,Rt]}_t._service.overrides=[..._t._settings],yield _t._initialiseActiveBuilding(),_t._updateSettingOverrides()}})()}saveBuilding(_t){const Nt=this._buildings.getValue().find(Rt=>Rt.id===_t)?.parent_id;Nt&&Nt!==this._organisation.id&&sessionStorage.setItem("PLACEOS.region",Nt),sessionStorage.setItem("PLACEOS.building",_t)}_initialiseActiveBuilding(){return new Promise(_t=>{const Nt=sessionStorage.getItem("PLACEOS.building");if(Nt&&this.buildings.find(en=>en.id===Nt))return this.building=this.buildings.find(en=>en.id===Nt),_t();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(en=>{const{latitude:tn,longitude:On}=en.coords;let Pn=null;for(const Zn of this.buildings)if(Zn.location&&"0,0"!==Zn.location)if(Pn){const[Si,li]=(Pn.location||"0,0").split(","),[ei,Ri]=(Zn.location||"0,0").split(",");Math.sqrt(Math.pow(tn-+ei,2)+Math.pow(On-+Ri,2))<Math.sqrt(Math.pow(tn-+Si,2)+Math.pow(On-+li,2))&&(Pn=Zn)}else Pn=Zn;Pn&&(this.building=Pn),this.building?.id||this._setDefaultBuilding(),_t()},()=>{this.building?.id||this._setDefaultBuilding(),_t()}):this.building?.id||(this._setDefaultBuilding(),_t())})}_setDefaultBuilding(){var _t=this;return(0,e.A)(function*(){if(!_t.buildings.length)return;const Nt=sessionStorage.getItem("PLACEOS.region");if(yield Nt?_t.setRegion(_t._regions.getValue().find(en=>en.id===Nt)):_t._setRegionFromTimezone(),_t._setBuildingFromTimezone(),_t.building)return;const Rt=_t._service.get("app.default_building");Rt&&(_t.building=_t.buildings.find(({id:en})=>en===Rt)),_t.building||(_t.building=_t.buildings[0])})()}_setRegionFromTimezone(){var _t=this;return(0,e.A)(function*(){const Nt=_t.regions,Rt=_t.timezone;for(const tn of Nt)if(tn.timezone===Rt)return yield _t.setRegion(tn);const en=Rt.split("/")[0];for(const tn of Nt)if(tn.timezone.startsWith(en))return yield _t.setRegion(tn)})()}_setBuildingFromTimezone(){const _t=this.buildings.filter(en=>!this.region||en.parent_id===this.region?.id),Nt=this.timezone;for(const en of _t)if(en.timezone===Nt)return void(this.building=en);const Rt=Nt.split("/")[0];for(const en of _t)if(en.timezone.startsWith(Rt))return void(this.building=en)}_updateSettingOverrides(){setTimeout(()=>this._service.overrides=[this.buildingSettings(this.building?.id),this.regionSettings(this.region?.id),...this._settings],300)}static#e=this.\u0275fac=function(Nt){return new(Nt||H)(Rs.KVO(x.h),Rs.KVO(Bl.Ix))};static#t=this.\u0275prov=Rs.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},5272:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>I});var e=s(467),n=s(3953),d=s(4006),h=s(8026);function g(k,y){if(1&k&&(n.PLo(0,3,1),n.eu8(1),n.nI1(2,"date"),n.nI1(3,"date"),n.YFu()),2&k){const x=n.XpG(3);n.R7$(3),n.uP7(n.i5U(2,2,x.details.date,"shortTime"))(n.i5U(3,5,x.details.date+60*x.details.duration*1e3,"shortTime")),n.nnv(0)}}function b(k,y){if(1&k){const x=n.RV6();n.qex(0),n.j41(1,"main",14)(2,"h2",15),n.pXf(3,2),n.k0s(),n.nrm(4,"img",16),n.j41(5,"p",17),n.PLo(6,3),n.nI1(7,"date"),n.DNE(8,g,4,8,"ng-container",18),n.YFu(),n.k0s(),n.j41(9,"p",19),n.pXf(10,4),n.k0s(),n.j41(11,"p",20)(12,"strong"),n.EFF(13),n.nI1(14,"currency"),n.k0s()(),n.j41(15,"card-input-field",21),n.mxI("ngModelChange",function(B){n.eBV(x);const K=n.XpG(2);return n.DH7(K.card_details,B)||(K.card_details=B),n.Njj(B)}),n.k0s()(),n.j41(16,"footer",22)(17,"button",23),n.bIt("click",function(){n.eBV(x);const B=n.XpG(2);return n.Njj(B.processPayment())}),n.pXf(18,5),n.k0s()(),n.j41(19,"button",24)(20,"i",25),n.EFF(21,"close"),n.k0s()(),n.bVm()}if(2&k){const x=n.XpG(2);n.R7$(8),n.Y8G("ngIf",!x.details.all_day),n.uP7(x.details.type)(x.details.resource_name)(n.i5U(7,6,x.details.date,"mediumDate")),n.nnv(6),n.R7$(5),n.JRh(n.i5U(14,9,x.details.amount/100,x.code)),n.R7$(2),n.R50("ngModel",x.card_details)}}function E(k,y){if(1&k&&(n.j41(0,"div",12),n.DNE(1,b,22,12,"ng-container",13),n.k0s()),2&k){const x=n.XpG(),M=n.sdS(5);n.R7$(),n.Y8G("ngIf",!x.success)("ngIfElse",M)}}function _(k,y){if(1&k&&(n.j41(0,"div",26),n.nrm(1,"mat-spinner",27),n.j41(2,"p"),n.EFF(3),n.nI1(4,"async"),n.k0s()()),2&k){const x=n.XpG();n.R7$(3),n.JRh(n.bMT(4,1,x.loading))}}function u(k,y){if(1&k&&(n.j41(0,"main",28)(1,"h2",15),n.pXf(2,6),n.k0s(),n.j41(3,"h3",29),n.EFF(4),n.k0s(),n.j41(5,"p"),n.pXf(6,7),n.nI1(7,"currency"),n.k0s(),n.j41(8,"p"),n.pXf(9,8),n.k0s(),n.j41(10,"p"),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"p"),n.pXf(14,9),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s()(),n.nrm(17,"img",30),n.j41(18,"footer",31)(19,"button",32),n.pXf(20,10),n.k0s()()),2&k){const x=n.XpG();n.R7$(4),n.SpI(" Ref #",x.transaction_id," "),n.R7$(3),n.uP7(n.i5U(7,6,x.details.amount/100,x.code)),n.nnv(6),n.R7$(2),n.uP7(x.details.resource_name),n.nnv(9),n.R7$(2),n.JRh(n.i5U(12,9,x.details.date,"mediumDate")),n.R7$(5),n.uP7(n.i5U(15,12,x.details.date,"shortTime"))(n.i5U(16,15,x.details.date+60*x.details.duration*1e3,"shortTime")),n.nnv(14)}}let I=(()=>{class k{get code(){return this._org.currency_code}constructor(x,M){this._data=x,this._org=M,this.event=new n.bkB,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}processPayment(){var x=this;return(0,e.A)(function*(){!x.card_details||!x._validCardDetails()||(x.event.emit(x.card_details),yield x._data.makePayment(x.card_details),x.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}static#e=this.\u0275fac=function(M){return new(M||k)(n.rXU(d.Vh),n.rXU(h.y))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:()=>{let x,M,B,K,P,j,S,w,m;return x=$localize`:␟4d64c520c43eead598939b50c326e665c6e88fa4␟7177958266181561076:Booking Payment`,M=$localize`:␟00a4b4852357812c8f53bb8e5c7598d479bea113␟6612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,B=$localize`:␟7a9510cbfdcb53b8dcac3f0bd7958196958333ff␟2305336913310307878:You booking will cost:`,K=$localize`:␟9069fc3477fe6107249755afedd9fe14140bb201␟8427617350792373644: Make Payment `,P=$localize`:␟dbbd5277093a2dbc265472510779d835afc39f45␟8206804611071524488:Payment Successful`,j=$localize`:␟bb02e353442d9b1ec8fc7d9875465cafb134f7e4␟2765198892596811562:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,S=$localize`:␟931d5e8e4e517671212210e9d716fa2721c9e67c␟6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,w=$localize`:␟e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94␟783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,m=$localize`:␟001127b263e7132960af8fa70cce4c2635980fbc␟8163835392610431386: Great, thanks. `,[["load_state",""],["success_state",""],x,M,B,K,P,j,S,w,m,["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],[4,"ngIf"],[1,"text-sm"],[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModelChange","ngModel"],[1,"p-4"],["matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],[1,"text-xl","font-medium","mb-2"],["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-base-200"],["btn","","matRipple","","mat-dialog-close","",1,"w-full"]]},template:function(M,B){if(1&M&&(n.DNE(0,E,2,2,"div",11),n.nI1(1,"async"),n.DNE(2,_,5,3,"ng-template",null,0,n.C5r)(4,u,21,18,"ng-template",null,1,n.C5r)),2&M){const K=n.sdS(3);n.Y8G("ngIf",!n.bMT(1,2,B.loading))("ngIfElse",K)}}})}return k})()},4525:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>K});var e=s(467),n=s(1038),d=s(9928),h=s(4421),g=s(9090),b=s(8841),E=s(8712),_=s(4233),u=s(6202),I=s(8026),k=s(5272),y=s(3953),x=s(4006);const B="Payment";let K=(()=>{class P{get payment_module(){return this._org.binding("payments")}constructor(S,w,m){this._org=S,this._settings=w,this._dialog=m,this._loading=new d.t(""),this._active_card=new d.t(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,h.of)(1).pipe((0,g.n)(()=>{const v=(0,n.f_4)(this.payment_module,B);return v?v.execute("list_payment_methods",["card"]):(0,h.of)([])}),(0,b.M)(v=>v[0]?this._active_card.next(v[0].id):""),(0,E.t)(1))}makePayment(S){var w=this;return(0,e.A)(function*(){if(!w.payment_module)throw"Payments not enabled";const[m,v]=yield w._getCostOfProduct(S?.type).catch($=>[0,60]);if(console.log("Cost:",m,v),m<=0)return;let A=w._settings.get("STRIPE_Customer_ID");A||(A=yield w._newCustomerID()),w._settings.saveUserSetting("STRIPE_Customer_ID",A);const L=m*(S.duration/v);let G;const O=function(){var $=(0,e.A)(function*(te){G=yield w._processPayment(L,A,te).catch(ie=>{throw w._loading.next(""),ie})});return function(ie){return $.apply(this,arguments)}}(),W={...S,rate:`$${(m/100).toFixed(2)} per hour`,amount:L,makePayment:O,loading:w.loading};return yield w._dialog.open(k.$,{data:W}).afterClosed().toPromise(),G})()}_addPaymentMethod(S){var w=this;return(0,e.A)(function*(){const m=(0,n.f_4)(w.payment_module,B);if(!m)throw"Unable to load module";const v=yield m.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,S]);return v.id||v})()}_getCostOfProduct(S){var w=this;return(0,e.A)(function*(){let m=[0,60];const v=(0,n.f_4)(w.payment_module,B);if(!v)return m;const A=yield v.execute("get_product_prices",[null,null,S]);return A.length?A:m})()}_processPayment(S,w,m){var v=this;return(0,e.A)(function*(){v._loading.next("Checking payment method..."),console.log("Getting payment method...");const A=m?yield v._addPaymentMethod(m):v._active_card.getValue();if(!A)throw"No payment source selected";v._loading.next("Processing payment..."),console.log("Processing payment...");const L=(0,n.f_4)(v.payment_module,B);if(!L)throw"Unable to load module";const G=yield L.execute("create_payment_intent",[S,v._org.building.currency||"USD",null,null,w,null,null,null,(0,u.Ny)()?.email]);if(!G)throw"Failed to create payment";return console.log("Confirming payment..."),yield L.execute("confirm_payment_intent",[G,A]),v._loading.next(""),{success:!0,state:"approved",invoice_id:G,amount:S,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var S=this;return(0,e.A)(function*(){const w=(0,n.f_4)(S.payment_module,B);if(!w)throw"Unable to load module";const m=(0,u.Ny)();return yield w.execute("create_customer",[0,null,null,null,`${m.id}|${m.name}|FromPlaceOS`,m.email])})()}static#e=this.\u0275fac=function(w){return new(w||P)(y.KVO(I.y),y.KVO(_.h),y.KVO(x.bZ))};static#t=this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},2168:(Ot,ve,s)=>{"use strict";s.d(ve,{lx:()=>e.l,bh:()=>d.b,Ot:()=>n.Ot});var e=s(827),n=s(8363),d=s(7401);s(5752),s(2011)},5752:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>_});var e=s(4006),n=s(1168),d=s(6101),h=s(3953);function g(u,I){if(1&u){const k=h.RV6();h.j41(0,"space-list",29),h.bIt("toggleFav",function(x){h.eBV(k);const M=h.XpG();return h.Njj(M.toggleFavourite(x))})("onSelect",function(x){h.eBV(k);const M=h.XpG();return h.Njj(M.displayed=x)}),h.k0s()}if(2&u){const k=h.XpG();h.Y8G("active",null==k.displayed?null:k.displayed.id)("selected",k.selected_ids)("favorites",k.favorites)}}function b(u,I){if(1&u){const k=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(k);const x=h.XpG();return h.Njj(x.displayed=null)}),h.pXf(1,5),h.k0s()}}function E(u,I){if(1&u){const k=h.RV6();h.j41(0,"space-map",31),h.bIt("onSelect",function(x){h.eBV(k);const M=h.XpG();return h.Njj(M.displayed=x)}),h.k0s()}if(2&u){const k=h.XpG();h.Y8G("selected",k.selected_ids)("is_displayed",!!k.displayed)("active",null==k.displayed?null:k.displayed.id)}}let _=(()=>{class u{get selected_ids(){return this.selected.map(k=>k.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}constructor(k,y,x,M){this._dialog_ref=k,this._settings=y,this._event_form=x,this._data=M,this.selected=[],this.view="list",this.multiday=!!this._data.multiday,this.selected=[...M.spaces||[]],this._event_form.setOptions(M.options)}isSelected(k){return k&&this.selected_ids.includes(k)}setSelected(k,y){const x=this.selected.filter(M=>M.id!==k.id);y&&x.push(k),this.selected=x,!this._settings.get("app.events.allow_multiple_spaces")&&y&&(this.selected=[k],this._dialog_ref.close([k]))}toggleFavourite(k){const y=this.favorites;y.includes(k.id)?this._settings.saveUserSetting("favourite_spaces",y.filter(M=>M!==k.id)):this._settings.saveUserSetting("favourite_spaces",[...y,k.id])}static#e=this.\u0275fac=function(y){return new(y||u)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(d.W),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:u,selectors:[["new-space-select-modal"]],decls:39,vars:29,consts:()=>{let k,y,x,M,B;return k=$localize`:␟2a8f5812e693119f28847362c97c1924c4b5e2ad␟3245405487284732016:Find Space`,y=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,x=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,M=$localize`:␟7651117c4dcb18eb274657230a366a428c9a113b␟8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,B=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],k,y,x,M,B,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"multiday","hide_levels","viewing_map"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","flex","sm:flex-col","sm:max-w-[20rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","space","hide_map","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-spaces",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-space",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","spaces-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed","active"]]},template:function(y,x){if(1&y){const M=h.RV6();h.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s(),h.j41(7,"div",9)(8,"button",10),h.bIt("click",function(){return h.eBV(M),h.Njj(x.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",11),h.bIt("click",function(){return h.eBV(M),h.Njj(x.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",12),h.nrm(13,"space-filters",13),h.j41(14,"div",14)(15,"space-filters-display",15),h.mxI("viewChange",function(K){return h.eBV(M),h.DH7(x.view,K)||(x.view=K),h.Njj(K)}),h.k0s(),h.DNE(16,g,1,3,"space-list",16),h.k0s(),h.j41(17,"space-details",17),h.bIt("activeChange",function(K){return h.eBV(M),h.Njj(x.setSelected(x.displayed,K))})("toggleFav",function(){return h.eBV(M),h.Njj(x.toggleFavourite(x.displayed))})("close",function(){return h.eBV(M),h.Njj(x.displayed=null)}),h.k0s()(),h.j41(18,"footer",18),h.DNE(19,b,2,0,"button",19),h.j41(20,"button",20),h.pXf(21,2),h.k0s()(),h.j41(22,"footer",21)(23,"button",22)(24,"div",23)(25,"app-icon",24),h.EFF(26,"arrow_back"),h.k0s(),h.j41(27,"div",25),h.pXf(28,3),h.k0s()()(),h.j41(29,"p",26),h.pXf(30,4),h.k0s(),h.j41(31,"button",27),h.bIt("click",function(){return h.eBV(M),h.Njj(x.setSelected(x.displayed,!x.isSelected(null==x.displayed?null:x.displayed.id)))}),h.j41(32,"div",23)(33,"app-icon",24),h.EFF(34),h.k0s(),h.j41(35,"div",28),h.EFF(36),h.k0s()()()()(),h.DNE(37,E,1,3,"ng-template",null,0,h.C5r)}if(2&y){const M=h.sdS(38);h.R7$(8),h.AVh("inverse","map"!==x.view),h.R7$(2),h.AVh("inverse","list"!==x.view),h.R7$(3),h.Y8G("multiday",x.multiday)("hide_levels","list"!==x.view)("viewing_map","map"===x.view),h.R7$(2),h.R50("view",x.view),h.R7$(),h.Y8G("ngIf","list"===x.view)("ngIfElse",M),h.R7$(),h.AVh("hidden",!x.displayed)("inset-0",x.displayed),h.Y8G("space",x.displayed)("hide_map","map"===x.view)("active",x.selected_ids.includes(null==x.displayed?null:x.displayed.id))("fav",x.displayed&&x.favorites.includes(null==x.displayed?null:x.displayed.id)),h.R7$(2),h.Y8G("ngIf",x.displayed),h.R7$(),h.AVh("mb-2",x.displayed),h.Y8G("mat-dialog-close",x.selected),h.R7$(3),h.Y8G("mat-dialog-close",x.selected),h.R7$(7),h.uP7(x.selected.length),h.nnv(30),h.R7$(),h.AVh("inverse",x.isSelected(null==x.displayed?null:x.displayed.id)),h.Y8G("disabled",!x.displayed),h.R7$(3),h.JRh(x.isSelected(null==x.displayed?null:x.displayed.id)?"remove":"add"),h.R7$(2),h.SpI(" ",x.isSelected(null==x.displayed?null:x.displayed.id)?"Remove from Booking":"Add to booking"," ")}}})}return u})()},735:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>n});var e=s(602);class n{constructor(h={}){this.id=h.id||"",this.name=h.name||"",this.display_name=h.display_name||"",this.email=(h.email||"").toLowerCase(),this.capacity=h.capacity||-1,this.feature_list=h.feature_list||h.features||[],this.bookable=!!h.bookable,this.zones=h.zones||[],this.support_url=h.support_url||"",this.map_id=h.map_id||"",this.images=h.images||[],this.configurations=h.configurations||[],this.features=h.features||[],this.response_status=h.response_status,this.level=h.level||new e.P,this.availability=h.availability||[]}inUseAt(h,g){const b=h+60*g*1e3;return this.availability.filter(E=>E.date==h&&E.date+60*E.duration*1e3==b&&"free"!==E.status).length>0}}},2011:(Ot,ve,s)=>{"use strict";s.d(ve,{J:()=>k,U:()=>I});var e=s(467),n=s(1038),d=s(8026),h=s(735),g=s(4046),b=s(3953);const E=[],_={},u=new h.$({email:"empty.space@place.os"});function I(y){for(const x of y)E.find(({id:M})=>M===x.id)||E.push(x)}setInterval(()=>{for(const y in _)_[y]=_[y]-1,_[y]<=0&&delete _[y]},1e4);let k=(()=>{class y{constructor(M){this._org=M}transform(M){var B=this;return(0,e.A)(function*(){B._org&&(yield B._org.initialised.pipe((0,g.$)(S=>S)).toPromise());const K=M?.includes("@");if(!M)return u;let P=E.find(({id:S,email:w})=>S===M||w===M);if(P)return P;if(_[M])return u;if(!K){const S=yield(0,n.V4n)(M).toPromise().catch(w=>null);if(S)return P=new h.$({...S,level:B._org?.levelWithID([...S.zones])}),E.push(P),P}const j=(yield(0,n.Kfl)({in:M,zone_id:B._org?.organisation.id}).toPromise()).data;return 1===j.length?(P=new h.$({...j[0],level:B._org?.levelWithID([...j[0].zones])}),E.push(P),P):u})()}updateSpaceList(M){I(M)}static#e=this.\u0275fac=function(B){return new(B||y)(b.rXU(d.y,24))};static#t=this.\u0275pipe=b.EJ8({name:"space",type:y,pure:!0})}return y})()},8363:(Ot,ve,s)=>{"use strict";s.d(ve,{Ot:()=>M}),s(1168);var n=s(1038),d=s(4421),h=s(5006),g=s(8841),b=s(8712),_=(s(4129),s(735)),u=s(2011);const I={};function M(P){return P?(I[P]||(I[P]=(0,n.BbB)({zone_id:P,limit:500}).pipe((0,h.T)(j=>(j.data||[]).map(S=>new _.$(S))),(0,g.M)(j=>(0,u.U)(j)),(0,b.t)(1))),I[P]):(0,d.of)([])}},827:(Ot,ve,s)=>{"use strict";s.d(ve,{l:()=>et});var e=s(177),n=s(9417),d=s(4006),h=s(6665),g=s(2765),b=s(8765),E=s(8705),_=s(5752),u=s(3953),I=s(1865),k=s(8026);const y=()=>({disable_pan:!0,disable_zoom:!0});function x(Re,Mt){if(1&Re&&u.nrm(0,"image-carousel",23),2&Re){const nt=u.XpG(2);u.Y8G("images",nt.space.images)}}function M(Re,Mt){if(1&Re&&(u.j41(0,"div",16)(1,"p"),u.pXf(2,4),u.k0s()()),2&Re){const nt=Mt.$implicit;u.R7$(2),u.uP7(nt),u.nnv(2)}}function B(Re,Mt){if(1&Re&&(u.j41(0,"section",24)(1,"h2",15),u.pXf(2,3),u.k0s(),u.DNE(3,M,3,1,"div",25),u.k0s()),2&Re){const nt=u.XpG(2);u.R7$(3),u.Y8G("ngForOf",nt.space.features)}}function K(Re,Mt){if(1&Re&&(u.j41(0,"section",26),u.nrm(1,"interactive-map",27),u.k0s()),2&Re){const nt=u.XpG(2);u.R7$(),u.Y8G("src",nt.map_url)("focus",nt.space.map_id)("features",nt.features)("options",u.lJ4(4,y))}}function P(Re,Mt){if(1&Re){const nt=u.RV6();u.qex(0),u.j41(1,"section",7),u.DNE(2,x,1,1,"image-carousel",8),u.j41(3,"button",9),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return u.Njj(qt.close.emit())}),u.j41(4,"app-icon"),u.EFF(5,"arrow_back"),u.k0s()(),u.j41(6,"button",10),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return u.Njj(qt.toggleFav.emit())}),u.j41(7,"app-icon"),u.EFF(8),u.k0s()()(),u.j41(9,"div",11)(10,"section",12)(11,"h2",13),u.EFF(12),u.k0s()(),u.nrm(13,"hr"),u.j41(14,"section",14)(15,"h2",15),u.pXf(16,1),u.k0s(),u.j41(17,"div",16)(18,"app-icon"),u.EFF(19,"people"),u.k0s(),u.j41(20,"p"),u.pXf(21,2),u.k0s()(),u.j41(22,"div",16)(23,"app-icon"),u.EFF(24,"meeting_room"),u.k0s(),u.j41(25,"p"),u.EFF(26),u.k0s()(),u.j41(27,"div",16)(28,"app-icon"),u.EFF(29,"place"),u.k0s(),u.j41(30,"p"),u.EFF(31),u.k0s()()(),u.nrm(32,"hr"),u.DNE(33,B,4,1,"section",17)(34,K,2,5,"section",18),u.k0s(),u.j41(35,"div",19)(36,"button",20),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return qt.active=!qt.active,u.Njj(qt.activeChange.emit(qt.active))}),u.j41(37,"div",21)(38,"app-icon",22),u.EFF(39),u.k0s(),u.j41(40,"p"),u.EFF(41),u.k0s()()()(),u.bVm()}if(2&Re){const nt=u.XpG();u.R7$(),u.AVh("sm:h-64",null==nt.space.images?null:nt.space.images.length)("h-40",null==nt.space.images?null:nt.space.images.length)("sm:h-0",!(null!=nt.space.images&&nt.space.images.length))("h-12",!(null!=nt.space.images&&nt.space.images.length))("!bg-transparent",!(null!=nt.space.images&&nt.space.images.length)),u.R7$(),u.Y8G("ngIf",null==nt.space.images?null:nt.space.images.length),u.R7$(4),u.AVh("text-white",!nt.fav)("text-blue-400",nt.fav),u.R7$(2),u.JRh(nt.fav?"favorite":"favorite_border"),u.R7$(4),u.SpI(" ",nt.space.display_name||nt.space.name," "),u.R7$(9),u.uP7(nt.space.capacity),u.nnv(21),u.R7$(5),u.SpI(" ",(null==nt.level?null:nt.level.display_name)||(null==nt.level?null:nt.level.name)," "),u.R7$(5),u.SpI(" ",(null==nt.building?null:nt.building.address)||(null==nt.building?null:nt.building.display_name)||(null==nt.building?null:nt.building.name)," "),u.R7$(2),u.Y8G("ngIf",null==nt.space.features?null:nt.space.features.length),u.R7$(),u.Y8G("ngIf",!nt.hide_map),u.R7$(2),u.AVh("inverse",nt.active),u.R7$(3),u.JRh(nt.active?"remove":"add"),u.R7$(2),u.SpI(" ",nt.active?"Remove this room":"Add this room"," ")}}function j(Re,Mt){1&Re&&(u.j41(0,"div",28)(1,"p",29),u.pXf(2,5),u.k0s()())}let S=(()=>{class Re{get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(nt=>this.space?.zones.includes(nt.id))}constructor(nt){this._org=nt,this.fav=!1,this.active=!1,this.hide_map=!1,this.activeChange=new u.bkB,this.close=new u.bkB,this.toggleFav=new u.bkB,this.map_url="",this.features=[]}ngOnChanges(nt){nt.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:I.V}]}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(k.y))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[u.OA$],decls:3,vars:2,consts:()=>{let nt,Ze,qt,Vt,dn;return nt=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Ze=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,qt=$localize`:␟45b5b90d7df8adeb648858761739fa700117c0d5␟3223773701700202859:Room Facilities`,Vt=$localize`:␟9a6f64944a2acf1f8315f9ffac43e3fe58bac31f␟1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,dn=$localize`:␟02434c6ff0f41cc7f311ace51ce0787ae315e5fb␟5676660199414904214: Select a room to view it's details `,[["empty_state",""],nt,Ze,qt,Vt,dn,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-neutral"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-space-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-space-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-space-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(Ze,qt){if(1&Ze&&u.DNE(0,P,42,26,"ng-container",6)(1,j,3,0,"ng-template",null,0,u.C5r),2&Ze){const Vt=u.sdS(2);u.Y8G("ngIf",qt.space)("ngIfElse",Vt)}},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return Re})();var w=s(6101);function m(Re,Mt){1&Re&&(u.j41(0,"div",24)(1,"app-icon"),u.EFF(2,"done"),u.k0s()())}function v(Re,Mt){if(1&Re&&u.nrm(0,"img",25),2&Re){const nt=u.XpG().$implicit;u.Y8G("source",nt.images[0])}}function A(Re,Mt){1&Re&&u.nrm(0,"img",26)}function L(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"li",13)(1,"button",14),u.bIt("click",function(){const qt=u.eBV(nt).$implicit,Vt=u.XpG(3);return u.Njj(Vt.selectSpace(qt))}),u.j41(2,"div",15),u.DNE(3,m,3,0,"div",16)(4,v,1,1,"img",17)(5,A,1,0,"ng-template",null,2,u.C5r),u.k0s(),u.j41(7,"div",18)(8,"div",19),u.EFF(9),u.k0s(),u.j41(10,"div",20)(11,"app-icon",21),u.EFF(12,"place"),u.k0s(),u.j41(13,"p",22),u.EFF(14),u.k0s()(),u.j41(15,"div",20)(16,"app-icon",21),u.EFF(17,"people"),u.k0s(),u.j41(18,"p"),u.pXf(19,4),u.k0s()()()(),u.j41(20,"button",23),u.bIt("click",function(){const qt=u.eBV(nt).$implicit,Vt=u.XpG(3);return u.Njj(Vt.toggleFav.emit(qt))}),u.j41(21,"app-icon"),u.EFF(22),u.k0s()()()}if(2&Re){let nt;const Ze=Mt.$implicit,qt=u.sdS(6),Vt=u.XpG(3);u.AVh("!border-info",Vt.active===Ze.id),u.R7$(3),u.Y8G("ngIf",Vt.selected.includes(Ze.id)),u.R7$(),u.Y8G("ngIf",null==Ze.images?null:Ze.images.length)("ngIfElse",qt),u.R7$(5),u.SpI(" ",Ze.display_name||Ze.name||"Meeting Space"," "),u.R7$(5),u.SpI(" ",Ze.location||(null==(nt=Vt.level(Ze.zones))?null:nt.display_name)||(null==(nt=Vt.level(Ze.zones))?null:nt.name)," "),u.R7$(5),u.uP7(Ze.capacity<1?2:Ze.capacity),u.nnv(19),u.R7$(),u.AVh("text-info",Vt.isFavourite(Ze.id)),u.R7$(2),u.JRh(Vt.isFavourite(Ze.id)?"favorite":"favorite_border")}}function G(Re,Mt){if(1&Re&&(u.j41(0,"ul",11),u.DNE(1,L,23,11,"li",12),u.nI1(2,"async"),u.k0s()),2&Re){const nt=u.XpG(2);u.R7$(),u.Y8G("ngForOf",u.bMT(2,1,nt.available_spaces))}}function O(Re,Mt){if(1&Re&&(u.qex(0),u.DNE(1,G,3,3,"ul",10),u.nI1(2,"async"),u.bVm()),2&Re){let nt;const Ze=u.XpG(),qt=u.sdS(8);u.R7$(),u.Y8G("ngIf",null==(nt=u.bMT(2,2,Ze.available_spaces))?null:nt.length)("ngIfElse",qt)}}function W(Re,Mt){1&Re&&(u.j41(0,"div",27)(1,"p",28),u.pXf(2,5),u.k0s()())}function U(Re,Mt){1&Re&&(u.j41(0,"div",29),u.nrm(1,"mat-spinner",30),u.j41(2,"p",31),u.pXf(3,6),u.k0s()()),2&Re&&(u.R7$(),u.Y8G("diameter",32))}let $=(()=>{class Re{constructor(nt,Ze){this._event_form=nt,this._org=Ze,this.active="",this.selected="",this.favorites=[],this.onSelect=new u.bkB,this.toggleFav=new u.bkB,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(nt){return this._org.levelWithID(nt)}ngOnInit(){this._event_form.setView("find")}isFavourite(nt){return this.favorites.includes(nt)}selectSpace(nt){this.onSelect.emit(nt)}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(w.W),u.rXU(k.y))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let nt,Ze,qt,Vt;return nt=$localize`:␟f3733dfad4477862079351d9f8cf60c7964cc3e3␟2290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,Ze=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,qt=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,Vt=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["space_placeholder",""],nt,Ze,qt,Vt,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","name","select-space",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","min-w-[5rem]","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"truncate"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(Ze,qt){if(1&Ze&&(u.j41(0,"h3",7),u.EFF(1,"Results"),u.k0s(),u.j41(2,"p",8),u.pXf(3,3),u.nI1(4,"async"),u.k0s(),u.DNE(5,O,3,4,"ng-container",9),u.nI1(6,"async"),u.DNE(7,W,3,0,"ng-template",null,0,u.C5r)(9,U,4,1,"ng-template",null,1,u.C5r)),2&Ze){let Vt;const dn=u.sdS(10);u.R7$(4),u.uP7((null==(Vt=u.bMT(4,3,qt.available_spaces))?null:Vt.length)||0),u.nnv(3),u.R7$(),u.Y8G("ngIf",!u.bMT(6,5,qt.loading))("ngIfElse",dn)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return Re})();var te=s(467),ie=s(1168),me=s(3601),Y=s(4512),F=s(906),N=s(9714),J=s(5006),ae=s(9493),_e=s(7401);const xe=()=>({standalone:!0});function Fe(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"button",32),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return u.Njj(qt.close())}),u.j41(1,"app-icon"),u.EFF(2,"keyboard_arrow_left"),u.k0s()()}}function Ae(Re,Mt){if(1&Re&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Re){const nt=Mt.$implicit;u.Y8G("value",nt),u.R7$(),u.SpI(" ",nt.display_name||nt.name," ")}}function Ye(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",34),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.setRegion(qt))}),u.DNE(2,Ae,2,2,"mat-option",35),u.nI1(3,"async"),u.k0s()()}if(2&Re){const nt=u.XpG();u.R7$(),u.Y8G("ngModel",nt.region)("ngModelOptions",u.lJ4(5,xe)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,nt.regions))}}function qe(Re,Mt){if(1&Re&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Re){const nt=Mt.$implicit;u.Y8G("value",nt),u.R7$(),u.SpI(" ",nt.display_name||nt.name," ")}}function Ne(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",37),u.nI1(2,"async"),u.nI1(3,"async"),u.nI1(4,"async"),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.setBuilding(qt))}),u.DNE(5,qe,2,2,"mat-option",35),u.nI1(6,"async"),u.k0s()()}if(2&Re){let nt;const Ze=u.XpG();u.R7$(),u.Y8G("ngModel",u.bMT(2,4,Ze.building))("ngModelOptions",u.lJ4(12,xe))("placeholder",(null==(nt=u.bMT(3,6,Ze.building))?null:nt.display_name)||(null==(nt=u.bMT(4,8,Ze.building))?null:nt.name)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,10,Ze.buildings))}}function Me(Re,Mt){if(1&Re&&(u.j41(0,"div",41),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",42),u.EFF(4," - "),u.k0s()()),2&Re){let nt;const Ze=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(nt=u.bMT(2,1,Ze.parent_id))?null:nt.display_name," ")}}function pe(Re,Mt){if(1&Re&&(u.j41(0,"mat-option",36)(1,"div",39),u.DNE(2,Me,5,3,"div",40),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Re){const nt=Mt.$implicit,Ze=u.XpG(2);u.Y8G("value",nt.id),u.R7$(2),u.Y8G("ngIf",Ze.use_region),u.R7$(2),u.SpI(" ",nt.display_name||nt.name," ")}}function he(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",38),u.nI1(2,"async"),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.setOptions({zone_ids:qt}))}),u.DNE(3,pe,5,3,"mat-option",35),u.nI1(4,"async"),u.k0s()()}if(2&Re){let nt;const Ze=u.XpG();u.R7$(),u.Y8G("ngModel",null==(nt=u.bMT(2,4,Ze.options))?null:nt.zone_ids)("ngModelOptions",u.lJ4(8,xe))("multiple",!0),u.R7$(2),u.Y8G("ngForOf",u.bMT(4,6,Ze.levels))}}function le(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",43)(1,"label",24),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-date-field",44),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.form.patchValue({date_end:qt}))}),u.EFF(7),u.nI1(8,"translate"),u.k0s()()}if(2&Re){const nt=u.XpG();u.R7$(2),u.SpI(" ",u.bMT(3,9,"FORM.END_DATE"),""),u.R7$(4),u.Y8G("ngModel",nt.form.getRawValue().date_end)("ngModelOptions",u.lJ4(13,xe))("from",nt.start_date)("to",nt.end_date)("short",!0)("timezone",nt.timezone)("range",2),u.R7$(),u.SpI(" ",u.bMT(8,11,"FORM.DATE_ERROR")," ")}}function Ee(Re,Mt){1&Re&&(u.j41(0,"div",45)(1,"mat-checkbox",46),u.pXf(2,5),u.k0s()())}function Xe(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-time-field",53),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG(2);return u.Njj(Vt.form.patchValue({date_end:qt}))}),u.k0s()()}if(2&Re){let nt;const Ze=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,6,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("ngModel",Ze.form.value.date_end)("ngModelOptions",u.lJ4(8,xe))("from",null==Ze.form||null==(nt=Ze.form.getRawValue())?null:nt.date)("use_24hr",Ze.use_24hr)("timezone",Ze.timezone)}}function xt(Re,Mt){if(1&Re&&(u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.nrm(6,"a-duration-field",54),u.k0s()),2&Re){let nt;const Ze=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,5,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("time",null==Ze.form||null==(nt=Ze.form.getRawValue())?null:nt.date)("max",Ze.max_duration)("use_24hr",Ze.use_24hr)("timezone",Ze.timezone)}}function dt(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",47)(1,"div",48)(2,"label",49),u.PLo(3,6),u.nrm(4,"span"),u.YFu(),u.k0s(),u.j41(5,"a-time-field",50),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.form.patchValue({date:qt}))}),u.k0s()(),u.DNE(6,Xe,7,9,"div",51)(7,xt,7,7,"div",51),u.k0s()}if(2&Re){const nt=u.XpG();u.R7$(5),u.Y8G("ngModel",nt.form.getRawValue().date)("ngModelOptions",u.lJ4(6,xe))("use_24hr",nt.use_24hr)("timezone",nt.timezone),u.R7$(),u.Y8G("ngIf",nt.multiday),u.R7$(),u.Y8G("ngIf",!nt.multiday)}}function Ct(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"section",55)(1,"h2",56),u.pXf(2,7),u.nI1(3,"translate"),u.k0s(),u.j41(4,"div",57)(5,"div",58),u.pXf(6,8),u.nI1(7,"translate"),u.k0s(),u.j41(8,"mat-checkbox",59),u.nI1(9,"async"),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.setOptions({show_fav:qt}))}),u.k0s()()()}if(2&Re){let nt;const Ze=u.XpG();u.R7$(3),u.uP7(u.bMT(3,4,"COMMON.FAVOURITES")),u.nnv(2),u.R7$(4),u.uP7(u.bMT(7,6,"ROOMS.SHOW_FAVOURITES")),u.nnv(6),u.R7$(),u.Y8G("ngModel",null==(nt=u.bMT(9,8,Ze.options))?null:nt.show_fav)("ngModelOptions",u.lJ4(10,xe))}}function Qt(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",57)(1,"div",63),u.EFF(2),u.k0s(),u.j41(3,"mat-checkbox",64),u.nI1(4,"async"),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG().$implicit,dn=u.XpG(2);return u.Njj(dn.toggleFeature(Vt,qt))}),u.k0s()()}if(2&Re){let nt;const Ze=u.XpG().$implicit,qt=u.XpG(2);u.R7$(2),u.SpI(" ",qt.feature_display[Ze]||Ze," "),u.R7$(),u.Y8G("ngModel",null==(nt=u.bMT(4,3,qt.options))||null==nt.features?null:nt.features.includes(Ze))("ngModelOptions",u.lJ4(5,xe))}}function _n(Re,Mt){if(1&Re&&(u.qex(0),u.DNE(1,Qt,5,6,"div",62),u.bVm()),2&Re){const nt=Mt.$implicit,Ze=u.XpG(2);u.R7$(),u.Y8G("ngIf",!Ze.hide_features.includes(nt))}}function In(Re,Mt){if(1&Re&&(u.j41(0,"section",60)(1,"h2",56),u.pXf(2,9),u.k0s(),u.DNE(3,_n,2,1,"ng-container",61),u.nI1(4,"async"),u.k0s()),2&Re){const nt=u.XpG();u.R7$(3),u.Y8G("ngForOf",u.bMT(4,1,nt.features))}}function rn(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",65)(1,"button",66),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return u.Njj(qt.close())}),u.pXf(2,10),u.k0s()()}}let $t=(()=>{class Re{get allow_all_day(){return!!this._settings.get("app.events.allow_all_day")}get use_region(){return!!this._settings.get("app.use_region")}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get bld(){return this._org.building}get region(){return this._org.region}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get feature_display(){return this._settings.get("app.events.feature_decriptions")||{}}get hide_features(){return this._settings.get("app.events.hide_features")||[]}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get start_date(){return(0,me.o)(this.form.getRawValue().date).valueOf()}get end_date(){return(0,Y.D)((0,F.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180))}constructor(nt,Ze,qt,Vt,dn,xn){this._bsheet_ref=nt,this._settings=Ze,this._event_form=qt,this._org=Vt,this._spaces=dn,this._mapspeople=xn,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=(0,N.zV)([this._org.active_region,this._org.active_building]).pipe((0,J.T)(([Wn,Xn])=>(this.use_region?this._org.levelsForRegion(Wn):this._org.levelsForBuilding(Xn)).filter(yi=>!yi.tags.includes("parking")).sort((yi,ss)=>yi.parent_id.localeCompare(ss.parent_id)||(yi.display_name||"").localeCompare(ss.display_name||"")))),this.regions=this._org.region_list,this.using_mapspeople=this._mapspeople.available$,this.features=(0,N.zV)([this._spaces.features,this._event_form.available_spaces]).pipe((0,J.T)(([Wn,Xn])=>(0,ie.Am)(Wn.concat((0,ie.Bq)(Xn.map(ti=>ti.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Wn=>this._event_form.setOptions(Wn),this.can_close=!!this._bsheet_ref}setBuilding(nt){this._org.building=nt}setRegion(nt){this._org.region=nt}toggleFeature(nt,Ze){var qt=this;return(0,te.A)(function*(){const{features:Vt}=yield qt.options.pipe((0,ae.s)(1)).toPromise(),dn=(Vt||[]).filter(xn=>nt!==xn);Ze&&dn.push(nt),qt.setOptions({features:dn})})()}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(h.eN,8),u.rXU(ie.h$),u.rXU(w.W),u.rXU(k.y),u.rXU(_e.b),u.rXU(ie._e))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-filters"]],inputs:{multiday:"multiday",hide_levels:"hide_levels",viewing_map:"viewing_map"},decls:35,vars:31,consts:()=>{let nt,Ze,qt,Vt,dn,xn,Wn,Xn,ti,Ii,yi,ss,ys;return nt=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,Ze=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,qt=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,Vt=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#22\ufffd"}:START_TAG_SPAN:*${"\ufffd/#22\ufffd"}:CLOSE_TAG_SPAN:`,dn=$localize`:␟beead5a3a21b1ca4abe67610030f8a520995de4e␟3894192522062036998: ${"\ufffd0\ufffd"}:INTERPOLATION: `,xn=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,Wn=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,Xn=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,ti=$localize`:␟02d39ddac5bbf95c424df03d5f0d22cc257556bd␟4735431816432396893: Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ii=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,yi=$localize`:␟210742da6591a33630e0bfba757b95e6a1d99b20␟1614226322496100282: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ss=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,ys=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[nt,Ze,qt,Vt,dn,Xn,ti,Ii,yi,ss,ys,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-space-filters",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[8rem]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","short","timezone","range"],["class","flex-1 min-w-[8rem] relative",4,"ngIf"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","","class","space-y-2 pb-4",4,"ngIf"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-space-filters",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",xn,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",Wn,3,"ngModelChange","ngModel","ngModelOptions","multiple"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex-1","min-w-[8rem]","relative"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","from","to","short","timezone","range"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr","timezone"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr","timezone"],["name","end-time","formControlName","duration",3,"time","max","use_24hr","timezone"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","",1,"space-y-2"],[4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-space-filters",1,"w-full",3,"click"]]},template:function(Ze,qt){if(1&Ze&&(u.j41(0,"div",11)(1,"div",12),u.DNE(2,Fe,3,0,"button",13),u.k0s(),u.j41(3,"h3",14),u.pXf(4,0),u.k0s(),u.nrm(5,"div",15),u.k0s(),u.j41(6,"form",16)(7,"section",17)(8,"h2",18),u.pXf(9,1),u.k0s(),u.j41(10,"div",19)(11,"label",20),u.pXf(12,2),u.k0s(),u.DNE(13,Ye,4,6,"mat-form-field",21),u.nI1(14,"async"),u.DNE(15,Ne,7,13,"mat-form-field",21),u.nI1(16,"async"),u.DNE(17,he,5,9,"mat-form-field",21),u.k0s(),u.j41(18,"div",22)(19,"div",23)(20,"label",24),u.PLo(21,3),u.nrm(22,"span"),u.YFu(),u.k0s(),u.j41(23,"a-date-field",25),u.bIt("ngModelChange",function(dn){return qt.form.patchValue({date:dn})}),u.pXf(24,4),u.nI1(25,"translate"),u.k0s()(),u.DNE(26,le,9,14,"div",26),u.k0s(),u.DNE(27,Ee,3,0,"div",27)(28,dt,8,7,"div",28),u.k0s(),u.DNE(29,Ct,10,11,"section",29),u.nI1(30,"async"),u.DNE(31,In,5,3,"section",30),u.nI1(32,"async"),u.nI1(33,"async"),u.k0s(),u.DNE(34,rn,3,0,"div",31)),2&Ze){let Vt,dn,xn;u.R7$(2),u.Y8G("ngIf",qt.can_close),u.R7$(4),u.Y8G("formGroup",qt.form),u.R7$(7),u.Y8G("ngIf",qt.use_region&&(null==(Vt=u.bMT(14,18,qt.regions))?null:Vt.length)),u.R7$(2),u.Y8G("ngIf",!qt.use_region&&(null==(dn=u.bMT(16,20,qt.buildings))?null:dn.length)>1),u.R7$(2),u.Y8G("ngIf",!qt.hide_levels),u.R7$(6),u.Y8G("ngModel",qt.form.getRawValue().date)("ngModelOptions",u.lJ4(30,xe))("to",qt.end_date)("short",!0)("timezone",qt.timezone)("range",qt.multiday?1:0),u.R7$(2),u.uP7(u.bMT(25,22,"FORM.DATE_ERROR")),u.nnv(24),u.R7$(),u.Y8G("ngIf",qt.multiday),u.R7$(),u.Y8G("ngIf",qt.allow_all_day),u.R7$(),u.Y8G("ngIf",!qt.form.value.all_day),u.R7$(),u.Y8G("ngIf",!qt.viewing_map||!u.bMT(30,24,qt.using_mapspeople)),u.R7$(2),u.Y8G("ngIf",(null==(xn=u.bMT(32,26,qt.features))?null:xn.length)&&(!qt.viewing_map||!u.bMT(33,28,qt.using_mapspeople))),u.R7$(3),u.Y8G("ngIf",qt.can_close)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Re})();var q=s(9434),Ie=s(6600);function se(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"button",17),u.bIt("click",function(){u.eBV(nt);const qt=u.XpG();return u.Njj(qt.removeAllFeatures())}),u.EFF(1," Clear Filters "),u.k0s()}}function fe(Re,Mt){if(1&Re&&(u.j41(0,"div",18),u.EFF(1),u.k0s()),2&Re){const nt=u.XpG();u.R7$(),u.SpI(" ",nt.location," ")}}function Ke(Re,Mt){if(1&Re&&(u.qex(0),u.EFF(1),u.nI1(2,"date"),u.nI1(3,"date"),u.bVm()),2&Re){const nt=u.XpG();u.R7$(),u.Lme(" ",u.i5U(2,2,nt.start,nt.time_format)," \u2014 ",u.i5U(3,5,nt.end,nt.time_format)," ")}}function It(Re,Mt){1&Re&&(u.qex(0),u.EFF(1,"All Day"),u.bVm())}function Kt(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"div",19)(1,"p",20),u.EFF(2),u.k0s(),u.j41(3,"button",21),u.bIt("click",function(){const qt=u.eBV(nt).$implicit,Vt=u.XpG();return u.Njj(Vt.removeFeature(qt))}),u.j41(4,"app-icon"),u.EFF(5,"close"),u.k0s()()()}if(2&Re){const nt=Mt.$implicit;u.R7$(2),u.JRh(nt)}}let vn=(()=>{class Re extends ie.Tv{get all_day(){return this._event_form.form.value.all_day}get start(){return this._event_form.form.value.date}get end(){const{date:nt,duration:Ze}=this._event_form.form.value;return nt+60*Ze*1e3}get time_format(){return this._settings.time_format}constructor(nt,Ze,qt,Vt){super(),this._bsheet=nt,this._event_form=Ze,this._org=qt,this._settings=Vt,this.view="list",this.viewChange=new u.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open($t)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:nt})=>this._updateLocation(nt)))}removeFeature(nt){var Ze=this;return(0,te.A)(function*(){const qt=yield Ze._event_form.options.pipe((0,ae.s)(1)).toPromise();Ze._event_form.setOptions({...qt,features:(qt.features||[]).filter(Vt=>Vt!==nt)})})()}removeAllFeatures(){var nt=this;return(0,te.A)(function*(){const Ze=yield nt._event_form.options.pipe((0,ae.s)(1)).toPromise();nt._event_form.setOptions({...Ze,features:[]})})()}_updateLocation(nt=[]){const qt=this._org.levelWithID(nt)||this._org.building;this.location=qt?.display_name||qt?.name||""}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(h.VK),u.rXU(w.W),u.rXU(k.y),u.rXU(ie.h$))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[u.Vt3],decls:23,vars:20,consts:()=>{let nt,Ze,qt,Vt;return nt=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,Ze=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,qt=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,Vt=$localize`:␟dfdd3d7879401ba6edca2e5198df414f15c112c2␟5300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[nt,Ze,qt,Vt,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["btn","","matRipple","","name","edit-space-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-space-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-space-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["btn","","matRipple","","name","clear-space-filters","class","min-h-[2rem] mb-2 mr-2",3,"click",4,"ngIf"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],[4,"ngIf"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["btn","","matRipple","","name","clear-space-filters",1,"min-h-[2rem]","mb-2","mr-2",3,"click"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],[1,"truncate"],["icon","","matRipple","","name","remove-space-filter",1,"-mr-4",3,"click"]]},template:function(Ze,qt){if(1&Ze&&(u.j41(0,"section",4)(1,"button",5),u.bIt("click",function(){return qt.editFilters()}),u.pXf(2,0),u.k0s(),u.j41(3,"div",6)(4,"button",7),u.bIt("click",function(){return qt.view="map",qt.viewChange.emit(qt.view)}),u.pXf(5,1),u.k0s(),u.j41(6,"button",8),u.bIt("click",function(){return qt.view="list",qt.viewChange.emit(qt.view)}),u.pXf(7,2),u.k0s()()(),u.j41(8,"section",9),u.DNE(9,se,2,0,"button",10),u.nI1(10,"async"),u.DNE(11,fe,2,1,"div",11),u.j41(12,"div",12),u.EFF(13),u.nI1(14,"date"),u.k0s(),u.j41(15,"div",13),u.DNE(16,Ke,4,8,"ng-container",14)(17,It,2,0,"ng-container",14),u.k0s(),u.j41(18,"div",15),u.pXf(19,3),u.nI1(20,"async"),u.k0s(),u.DNE(21,Kt,6,1,"div",16),u.nI1(22,"async"),u.k0s()),2&Ze){let Vt,dn,xn;u.R7$(4),u.AVh("inverse","map"!==qt.view),u.R7$(2),u.AVh("inverse","list"!==qt.view),u.R7$(3),u.Y8G("ngIf",(null==(Vt=u.bMT(10,11,qt.options))||null==Vt.features?null:Vt.features.length)>1),u.R7$(2),u.Y8G("ngIf",qt.location),u.R7$(2),u.SpI(" ",u.i5U(14,13,qt.start,"mediumDate")," "),u.R7$(3),u.Y8G("ngIf",!qt.all_day),u.R7$(),u.Y8G("ngIf",qt.all_day),u.R7$(3),u.uP7((null==(dn=u.bMT(20,16,qt.options))?null:dn.capacity)||2),u.nnv(19),u.R7$(),u.Y8G("ngForOf",null==(xn=u.bMT(22,18,qt.options))?null:xn.features)}},dependencies:[e.Sq,e.bT,q.R,Ie.r6,e.Jj,e.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;min-height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem;max-width:100%;text-align:center}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return Re})();var Pt=s(9928),an=s(3020),Et=s(5897),bt=s(4351);function Yt(Re,Mt){1&Re&&u.nrm(0,"div",16)}function Xt(Re,Mt){1&Re&&(u.j41(0,"app-icon",17),u.EFF(1," done "),u.k0s())}let nn=(()=>{class Re{get color(){return this.active?"#F4511E":this.selected?"#D32F2F":"#309251"}constructor(nt){this._data=nt,this.selected=!0===this._data.selected,this.active=!0===this._data.active}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(bt.Nw))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-location-pin"]],decls:17,vars:3,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","44","height","60","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(Ze,qt){1&Ze&&(u.j41(0,"div",0),u.qSk(),u.j41(1,"svg",1)(2,"g",2),u.nrm(3,"path",3),u.k0s(),u.j41(4,"defs")(5,"filter",4),u.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),u.k0s()()(),u.joV(),u.j41(14,"div",13),u.DNE(15,Yt,1,0,"div",14)(16,Xt,2,0,"app-icon",15),u.k0s()()),2&Ze&&(u.R7$(3),u.BMQ("fill",qt.color),u.R7$(12),u.Y8G("ngIf",!qt.selected),u.R7$(),u.Y8G("ngIf",qt.selected))},dependencies:[e.bT,q.R],encapsulation:2})}return Re})();const yn=()=>({controls:!0}),Mn=()=>({standalone:!0});function Ln(Re,Mt){if(1&Re&&(u.j41(0,"div",10),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",11),u.EFF(4," - "),u.k0s()()),2&Re){let nt;const Ze=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(nt=u.bMT(2,1,Ze.parent_id))?null:nt.display_name," ")}}function Fn(Re,Mt){if(1&Re&&(u.j41(0,"mat-option",7)(1,"div",8),u.DNE(2,Ln,5,3,"div",9),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Re){const nt=Mt.$implicit,Ze=u.XpG(2);u.Y8G("value",nt),u.R7$(2),u.Y8G("ngIf",Ze.use_region),u.R7$(2),u.SpI(" ",nt.display_name||nt.name," ")}}function $n(Re,Mt){if(1&Re){const nt=u.RV6();u.j41(0,"mat-form-field",4)(1,"mat-select",5),u.mxI("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.DH7(Vt.level,qt)||(Vt.level=qt),u.Njj(qt)}),u.bIt("ngModelChange",function(qt){u.eBV(nt);const Vt=u.XpG();return u.Njj(Vt.setOptions({zone_ids:[qt.id]}))}),u.DNE(2,Fn,5,3,"mat-option",6),u.nI1(3,"async"),u.k0s()()}if(2&Re){const nt=u.XpG();u.R7$(),u.R50("ngModel",nt.level),u.Y8G("ngModelOptions",u.lJ4(5,Mn)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,nt.levels))}}let Ht=(()=>{class Re extends ie.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(nt,Ze,qt){super(),this._event_form=nt,this._org=Ze,this._settings=qt,this.selected=[],this.is_displayed=!1,this.onSelect=new u.bkB,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._seletedSpace=Vt=>()=>{this.onSelect.emit(Vt),this._change.next(Date.now())},this.level=null,this._change=new Pt.t(0),this.levels=(0,N.zV)([this._org.active_region,this._org.active_building]).pipe((0,J.T)(([Vt,dn])=>(this.use_region?this._org.levelsForRegion(Vt):this._org.levelsForBuilding(dn)).filter(Xn=>!Xn.tags.includes("parking")).sort((Xn,ti)=>Xn.parent_id.localeCompare(ti.parent_id)||(Xn.display_name||"").localeCompare(ti.display_name||"")))),this.setOptions=Vt=>this._event_form.setOptions(Vt),this.features=(0,N.zV)([this._event_form.available_spaces,this._change]).pipe((0,an.B)(300),(0,J.T)(([Vt])=>Vt.map(dn=>({location:dn.map_id,content:nn,data:{...dn,active:this.active===dn.id,selected:this.selected.includes(dn.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,J.T)(Vt=>Vt.map(dn=>({id:dn.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(dn)})))),this.styles=(0,N.zV)([this._event_form.spaces,this._event_form.available_spaces]).pipe((0,J.T)(([Vt,dn])=>Vt.reduce((xn,Wn)=>{const Xn=this._settings.get("app.explore.colors")||{},ti=dn.find(Ii=>Ii.id===Wn.id)?"free":"busy";return xn[`#${Wn.map_id||Wn.id}`]={fill:Xn[`space-${ti}`]||Xn[`${ti}`]||Et.U[`${ti}`]},xn},{})))}ngOnInit(){this.subscription("levels_update",this._event_form.options.subscribe(({zone_ids:nt})=>{const Ze=this._org.levelWithID(nt);Ze&&(this.level=Ze)}))}setLevel(nt){this.setOptions({zone_ids:[nt?.id]});const Ze=this._org.buildings.find(qt=>qt.id===nt?.parent_id);if(Ze){const[qt,Vt]=(nt.location||Ze.location).split(",").map(dn=>parseFloat(dn));this.coordinates={latitude:qt,longitude:Vt}}this.level=nt}setZoom(nt){this.zoom=Math.max(.5,Math.min(10,nt))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(Ze){return new(Ze||Re)(u.rXU(w.W),u.rXU(k.y),u.rXU(ie.h$))};static#t=this.\u0275cmp=u.VBU({type:Re,selectors:[["space-map"]],inputs:{selected:"selected",active:"active",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[u.Vt3],decls:8,vars:17,consts:()=>{let nt;return nt=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["appearance","outline",1,"w-full"],["name","location","placeholder",nt,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(Ze,qt){if(1&Ze&&(u.j41(0,"div",0),u.DNE(1,$n,4,6,"mat-form-field",1),u.nI1(2,"async"),u.k0s(),u.j41(3,"div",2)(4,"interactive-map",3),u.nI1(5,"async"),u.nI1(6,"async"),u.nI1(7,"async"),u.mxI("zoomChange",function(dn){return u.DH7(qt.zoom,dn)||(qt.zoom=dn),dn})("centerChange",function(dn){return u.DH7(qt.center,dn)||(qt.center=dn),dn}),u.k0s()()),2&Ze){let Vt;u.R7$(),u.Y8G("ngIf",null==(Vt=u.bMT(2,8,qt.levels))?null:Vt.length),u.R7$(3),u.Y8G("src",qt.map_url),u.R50("zoom",qt.zoom)("center",qt.center),u.Y8G("styles",u.bMT(5,10,qt.styles))("features",u.bMT(6,12,qt.features))("actions",u.bMT(7,14,qt.actions))("options",u.lJ4(16,yn))}},styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return Re})();s(2011);var Bt=s(4918),Te=s(5277),Ge=s(3208),Tt=s(9183),Wt=s(3719),We=s(2798),Pe=s(9608),Ue=s(3476),De=s(1413),rt=s(6062),Qe=s(1780);let et=(()=>{class Re{static#e=this.\u0275fac=function(Ze){return new(Ze||Re)};static#t=this.\u0275mod=u.$C({type:Re});static#n=this.\u0275inj=u.G2t({imports:[e.MD,d.hM,b.h,E.c,h.vF,g.g7,n.YN,n.X1]})}return Re})();u.wjB(_.d,[e.bT,d.tx,q.R,Ie.r6,S,$,$t,vn,Ht],[]),u.wjB(S,[e.Sq,e.bT,q.R,Bt.S,Te.H,Ie.r6],[]),u.wjB($,[e.Sq,e.bT,q.R,Ge.U,Ie.r6,Tt.LG],[e.Jj]),u.wjB($t,[e.Sq,e.bT,q.R,Ie.wT,Wt.rl,We.VO,Ie.r6,g.So,Pe.G,Ue.y,De.t,n.qT,n.BC,n.cb,n.vS,n.j4,n.JD],[e.Jj,rt.b,Qe.D9]),u.wjB(Ht,[e.Sq,e.bT,Bt.S,Ie.wT,Wt.rl,We.VO,n.BC,n.vS],[e.Jj,rt.b])},7401:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>y});var e=s(467),n=s(1038),d=s(5006),h=s(4046),g=s(9928),b=s(8026),E=s(735),_=s(1168),u=s(2011),I=s(3953);let k,y=(()=>{class x{get space_list(){return this._list.getValue()}constructor(B,K){this._org=B,this._settings=K,this._list=new g.t([]),this._initialised=new g.t(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,d.T)(P=>(0,_.Am)((0,_.Bq)(P.map(j=>j.features))))),this._compare=P=>P.zones.includes(this._org.building.id),k=new u.J(B),this._init()}_init(){var B=this;return(0,e.A)(function*(){yield B._org.initialised.pipe((0,h.$)(K=>K)).toPromise(),B._settings.get("app.prevent_space_init")?B._initialised.next(!0):B.loadSpaces()})()}filter(B=this._compare){return this._list.getValue().filter(K=>B(K))}loadSpace(B){var K=this;return(0,e.A)(function*(){const P=yield(0,n.V4n)(B).toPromise(),j=new E.$({...P,level:K._org.levelWithID([...P.zones])});k.updateSpaceList([j])})()}find(B){return this._list.getValue().find(({id:K})=>B===K)}loadSpaces(){var B=this;return(0,e.A)(function*(){const j=(yield(0,n.BbB)({zone_id:B._org.organisation.id,limit:5e3}).pipe((0,d.T)(S=>S.data)).toPromise()).map(S=>new E.$({...S,level:B._org.levelWithID([...S.zones])})).filter(S=>S.map_id);B._list.next(j),k.updateSpaceList(j),B._initialised.next(!0)})()}static#e=this.\u0275fac=function(K){return new(K||x)(I.KVO(b.y),I.KVO(_.h$))};static#t=this.\u0275prov=I.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},8390:(Ot,ve,s)=>{"use strict";s.d(ve,{X1:()=>d.X,g8:()=>g,kR:()=>e.k,Gp:()=>b.Gp,KJ:()=>b.KJ,N8:()=>u.N8,SZ:()=>u.SZ});var e=s(3850),d=(s(1543),s(8737)),h=s(5987);class g{constructor(k={}){this.type=k.type||k.location||"other",this.position=k.position||k.map_id||k.asset_id||{x:k.x/k.map_width||0,y:k.y/k.map_height||0},this.variance=k.variance||0,this.last_seen=k.last_seen||(0,h._)(new Date),this.level=k.level,this.building=k.building,this.at_location=!!k.at_location,this.coordinates_from=k.coordinates_from||"top-left"}}var b=s(3693),u=(s(4129),s(6039),s(2372))},8737:(Ot,ve,s)=>{"use strict";s.d(ve,{X:()=>te});var e=s(4006),n=s(1168),d=s(5818),h=s(5987),g=s(3601),b=s(4512),E=s(4273);function _(ie){return(0,E.a)(1e3*ie)}var I=s(2037),k=s(7926),y=s(6576),x=s(9928),M=s(9714),B=s(4421),K=s(3020),P=s(9090),j=s(3921),S=s(5006),w=s(7849),m=s(8712),v=s(3953);const A=["container"],L=()=>[];function G(ie,me){if(1&ie&&(v.j41(0,"div",32),v.EFF(1),v.k0s()),2&ie){const Y=me.index,F=v.XpG();v.xc7("left",-F.offset_x+"px"),v.BMQ("disabled",F.today&&F.current_hour>Y),v.R7$(),v.Lme(" ",Y%12==0?"12":Y%12,"",Y>=12?"pm":"am"," ")}}function O(ie,me){if(1&ie){const Y=v.RV6();v.j41(0,"div",33),v.nrm(1,"a-user-avatar",12),v.j41(2,"div",34),v.EFF(3),v.k0s(),v.j41(4,"button",35),v.bIt("click",function(){const N=v.eBV(Y).$implicit,J=v.XpG();return v.Njj(J.removeUser(N))}),v.j41(5,"app-icon"),v.EFF(6,"close"),v.k0s()()()}if(2&ie){const Y=me.$implicit,F=v.XpG();v.xc7("top",-F.offset_y+"px"),v.R7$(),v.Y8G("user",Y),v.R7$(2),v.SpI(" ",Y.name||F.host.email," ")}}function W(ie,me){if(1&ie&&v.nrm(0,"div",36),2&ie){const Y=me.index,F=v.XpG();v.xc7("left",-(F.offset_x+1)+"px"),v.BMQ("disabled",F.today&&F.current_hour>Y)}}function U(ie,me){if(1&ie&&(v.j41(0,"div",37),v.EFF(1),v.nI1(2,"date"),v.k0s()),2&ie){const Y=v.XpG();v.R7$(),v.SpI(" ",v.i5U(2,1,Y.date,"shortTime")," ")}}function $(ie,me){if(1&ie&&(v.nrm(0,"user-availability-list",25),v.nI1(1,"async"),v.nI1(2,"async")),2&ie){const Y=me.$implicit,F=v.XpG();v.Y8G("user",Y)("date",F.date)("availability",v.bMT(1,3,F.availability)?v.bMT(2,5,F.availability)[Y.email.toLowerCase()]:v.lJ4(7,L))}}let te=(()=>{class ie extends n.Tv{get today(){return(0,d.r)(this.date,Date.now())}get current_hour(){return(new Date).getHours()}get selection_left(){const Y=new Date(this.date);return 5*(Y.getHours()+Y.getMinutes()/60)}get selection_width(){return this.duration/60*5}constructor(Y,F,N){super(),this._data=Y,this._renderer=F,this._dialog_ref=N,this.users=new x.t([]),this.search="",this.date=this._data.date||Date.now(),this.duration=this._data.duration||60,this.offset_y=0,this.offset_x=0,this.host=this._data.host,this.hours=new Array(24).fill(0),this.on_change=new x.t(0),this.availability=(0,M.zV)([this.users,this.on_change]).pipe((0,K.B)(300),(0,P.n)(([J])=>(0,y.f6)({calendars:[this.host.email,...J.map(ae=>ae.email.toLowerCase())].join(","),period_start:(0,h._)((0,g.o)(this.date)),period_end:(0,h._)((0,b.D)(this.date))}).pipe((0,j.W)(()=>(0,B.of)([])))),(0,S.T)(J=>{const ae={};for(const _e of J)ae[_e.id.toLowerCase()]=_e.availability.filter(xe=>"busy"===xe.status).map(xe=>{const Fe=_(xe.starts_at),Ae=(0,I.o)(_(xe.ends_at),_(xe.starts_at));return{date:Fe,duration:Ae,start:(Fe.getHours()+Fe.getMinutes()/60)/24*100,size:Ae/60/24*100}});return ae}),(0,w.U)({}),(0,m.t)(1)),this.move_time=!1,this._start_time=0,this._move_last=0,this._move_size=1920,this.users.next([...this._data.users])}addUser(Y){this.users.next([...this.users.getValue().filter(F=>F.email!==Y.email),Y]),this.user=null}removeUser(Y){this.users.next(this.users.getValue().filter(F=>F.email!==Y.email)),this.user=null}closeAndUpdate(){this._dialog_ref.close(!0)}ngAfterViewInit(){const Y=new Date(this.date);this.timeout("init",()=>{const F=this._container_el.nativeElement.querySelector(`[hour="${Y.getHours()}"]`);if(F){const N=this._container_el.nativeElement.getBoundingClientRect(),J=F.getBoundingClientRect();this._container_el.nativeElement.scrollTo(J.left-128-N.left,0)}this.onScroll()},300)}onScroll(){this.offset_x=this._container_el.nativeElement.scrollLeft,this.offset_y=this._container_el.nativeElement.scrollTop}startMovePeriod(Y){Y.preventDefault(),Y.stopPropagation(),this._move_last=Y instanceof MouseEvent?Y.clientX:Y.touches[0].clientX,this.move_time=!0,this._start_time=this.date,Y instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",F=>this._onMovePeriod(F))):this.subscription("on_move",this._renderer.listen("window","touchmove",F=>this._onMovePeriod(F))),Y instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}startMoveDuration(Y){Y.preventDefault(),Y.stopPropagation(),this._move_last=Y instanceof MouseEvent?Y.clientX:Y.touches[0].clientX,this._start_time=this.duration,Y instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",F=>this._onMoveDuration(F))):this.subscription("on_move",this._renderer.listen("window","touchmove",F=>this._onMoveDuration(F))),Y instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}_onMovePeriod(Y){const F=this._move_last-(Y instanceof MouseEvent?Y.clientX:Y.touches[0].clientX),J=(F>0?-1:1)*Math.floor(Math.abs(F/this._move_size*24*60)/5)*5;if(J){const ae=this.date;this.date=(0,k.z)(this._start_time,J).valueOf(),this.date<Date.now()&&(this.date=ae)}}_onMoveDuration(Y){const F=this._move_last-(Y instanceof MouseEvent?Y.clientX:Y.touches[0].clientX),J=(F>0?-1:1)*Math.floor(Math.abs(F/this._move_size*24*60)/5)*5;J&&(this.duration=Math.max(30,this._start_time+J))}_onMoveEnd(){this.unsub("on_move"),this.unsub("on_move_end"),this._move_last=0,this.move_time=!1}static#e=this.\u0275fac=function(F){return new(F||ie)(v.rXU(e.Vh),v.rXU(v.sFG),v.rXU(e.CP))};static#t=this.\u0275cmp=v.VBU({type:ie,selectors:[["find-availability-modal"]],viewQuery:function(F,N){if(1&F&&v.GBs(A,7),2&F){let J;v.mGM(J=v.lsd())&&(N._container_el=J.first)}},features:[v.Vt3],decls:45,vars:31,consts:[["container",""],[1,"relative","flex","items-center","justify-center","p-4"],[1,"text-center"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1/2","left-1","-translate-y-1/2"],[1,"flex","flex-col","h-[calc(100vh-7rem)]","sm:h-[65vh]","overflow-hidden"],[1,"w-full","flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-2","p-2"],[1,"max-h-[3.25rem]","flex-1",3,"ngModelChange","ngModel"],[1,"grid","flex-1","h-1/2","w-full","border-t","border-base-200","relative","overflow-hidden","divide-x","divide-y","divide-base-200","max-w-[100vw]","sm:max-w-[80vw]"],["times","",1,"col-start-2","h-10","flex","overflow-hidden","border-l","border-base-200"],["hour","","class","relative border-r border-base-200 h-10 min-w-[5rem] p-2",3,"left",4,"ngFor","ngForOf"],["users","",1,"row-start-2","w-24","overflow-hidden"],["host","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-2xl",3,"user"],[1,"text-xs","break-words","overflow-hidden","max-w-full","px-2","text-center"],["person","","class","flex flex-col items-center justify-center h-32 w-24 relative border-b border-base-200 py-2",3,"top",4,"ngFor","ngForOf"],["blocks","",1,"relative","row-start-2","overflow-hidden"],["fixed","",1,"absolute","inset-0","flex","overflow-hidden"],["divider","","class","relative h-full min-w-[5rem] border-l border-base-200",3,"left",4,"ngFor","ngForOf"],["selection","",1,"absolute","inset-y-0","!border-x-2","!border-info","z-20","cursor-grab","active:cursor-grabbing",3,"mousedown","touchstart"],[1,"absolute","inset-0","bg-info","opacity-30"],["handle","",1,"absolute","top-1/2","-left-px","-translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info"],["handle","",1,"absolute","top-1/2","-right-px","translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info","hover:h-4","hover:w-4","active:bg-secondary",3,"mousedown","touchstart"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-2","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"],["class","bg-base-100 border border-base-200 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded",4,"ngIf"],["scroll","",1,"absolute","inset-0","overflow-auto",3,"scroll"],[1,"pointer-events-none",3,"user","date","availability"],["class","pointer-events-none",3,"user","date","availability",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],["hour","",1,"relative","border-r","border-base-200","h-10","min-w-[5rem]","p-2"],["person","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-xs","break-words","max-w-full","px-2","text-center"],["icon","",1,"absolute","-top-1","-left-1",3,"click"],["divider","",1,"relative","h-full","min-w-[5rem]","border-l","border-base-200"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-12","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"]],template:function(F,N){if(1&F){const J=v.RV6();v.j41(0,"header",1)(1,"h2",2),v.EFF(2,"Find Availability"),v.k0s(),v.j41(3,"button",3)(4,"app-icon"),v.EFF(5,"close"),v.k0s()()(),v.j41(6,"main",4)(7,"div",5)(8,"a-date-field",6),v.mxI("ngModelChange",function(_e){return v.eBV(J),v.DH7(N.date,_e)||(N.date=_e),v.Njj(_e)}),v.bIt("ngModelChange",function(){return v.eBV(J),v.Njj(N.on_change.next(N.on_change.getValue()+1))}),v.k0s(),v.j41(9,"a-user-search-field",6),v.mxI("ngModelChange",function(_e){return v.eBV(J),v.DH7(N.user,_e)||(N.user=_e),v.Njj(_e)}),v.bIt("ngModelChange",function(_e){return v.eBV(J),v.Njj(N.addUser(_e))}),v.k0s()(),v.j41(10,"div",7)(11,"div",8),v.DNE(12,G,2,5,"div",9),v.k0s(),v.j41(13,"div",10)(14,"div",11),v.nrm(15,"a-user-avatar",12),v.j41(16,"div",13),v.EFF(17),v.k0s()(),v.DNE(18,O,7,4,"div",14),v.nI1(19,"async"),v.k0s(),v.j41(20,"div",15)(21,"div",16),v.DNE(22,W,1,3,"div",17),v.j41(23,"div",18),v.bIt("mousedown",function(_e){return v.eBV(J),v.Njj(N.startMovePeriod(_e))})("touchstart",function(_e){return v.eBV(J),v.Njj(N.startMovePeriod(_e))}),v.nrm(24,"div",19)(25,"div",20),v.j41(26,"div",21),v.bIt("mousedown",function(_e){return v.eBV(J),v.Njj(N.startMoveDuration(_e))})("touchstart",function(_e){return v.eBV(J),v.Njj(N.startMoveDuration(_e))}),v.k0s(),v.j41(27,"div",22),v.EFF(28),v.nI1(29,"duration"),v.k0s(),v.DNE(30,U,3,4,"div",23),v.k0s()(),v.j41(31,"div",24,0),v.bIt("scroll",function(){return v.eBV(J),v.Njj(N.onScroll())}),v.nrm(33,"user-availability-list",25),v.nI1(34,"async"),v.nI1(35,"async"),v.DNE(36,$,3,8,"user-availability-list",26),v.nI1(37,"async"),v.k0s()()()(),v.j41(38,"footer",27)(39,"button",28)(40,"div",29)(41,"app-icon",30),v.EFF(42,"arrow_back"),v.k0s(),v.j41(43,"div",31),v.EFF(44,"Back to form"),v.k0s()()()()}2&F&&(v.R7$(8),v.R50("ngModel",N.date),v.R7$(),v.R50("ngModel",N.user),v.R7$(3),v.Y8G("ngForOf",N.hours),v.R7$(2),v.xc7("top",-N.offset_y+"px"),v.R7$(),v.Y8G("user",N.host),v.R7$(2),v.SpI(" ",N.host.name||N.host.email," "),v.R7$(),v.Y8G("ngForOf",v.bMT(19,20,N.users)),v.R7$(4),v.Y8G("ngForOf",N.hours),v.R7$(),v.xc7("left","calc("+N.selection_left+"rem - "+N.offset_x+"px)")("width",N.selection_width+"rem"),v.R7$(5),v.SpI(" ",v.bMT(29,22,N.duration)," "),v.R7$(2),v.Y8G("ngIf",N.move_time),v.R7$(3),v.Y8G("user",N.host)("date",N.date)("availability",v.bMT(34,24,N.availability)?v.bMT(35,26,N.availability)[N.host.email]:v.lJ4(30,L)),v.R7$(3),v.Y8G("ngForOf",v.bMT(37,28,N.users)),v.R7$(3),v.Y8G("mat-dialog-close",!0))},styles:[".grid[_ngcontent-%COMP%]{grid-template-columns:6rem 1fr;grid-template-rows:2.5rem minmax(0,1fr)}[disabled=true][_ngcontent-%COMP%], [disabled=true][_ngcontent-%COMP%]   [header][_ngcontent-%COMP%]{background:var(--b3)!important;pointer-events:none}[disabled=true][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.3}"]})}return ie})()},6039:(Ot,ve,s)=>{"use strict";s.d(ve,{qI:()=>E,qc:()=>u});var e=s(1038),n=s(5006),h=(s(6727),s(8385)),g=s(3693);const b="/api/staff/v1/guests";function E(x){const M=(0,h.z)({q:x});return(0,e.JtY)(`${b}${x?"?"+M:""}`).pipe((0,n.T)(B=>B.map(K=>new g.So(K))))}function u(x){return(0,e.JtY)(`${b}/${encodeURIComponent(x)}`).pipe((0,n.T)(M=>new g.So(M)))}},1543:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>M});var e=s(3953),n=s(4006),d=s(1168),h=s(3693),g=s(4129),b=s(177),E=s(9434),_=s(6600),u=s(9183),I=s(7111);function k(B,K){if(1&B&&(e.j41(0,"main",6),e.nrm(1,"user-form",7),e.k0s()),2&B){const P=e.XpG();e.R7$(),e.Y8G("form",P.form)}}function y(B,K){if(1&B){const P=e.RV6();e.j41(0,"footer",8)(1,"button",9),e.EFF(2," Cancel "),e.k0s(),e.j41(3,"button",10),e.bIt("click",function(){e.eBV(P);const S=e.XpG();return e.Njj(S.saveChanges())}),e.EFF(4,"Save"),e.k0s()()}}function x(B,K){1&B&&(e.j41(0,"main",11),e.nrm(1,"mat-spinner",12),e.j41(2,"p"),e.EFF(3,"Saving attendee..."),e.k0s()())}let M=(()=>{class B extends d.Tv{constructor(P){super(),this._data=P,this.event=new e.bkB,this.form=(0,g.nu)(this.user||new h.KJ),this.loading=!1,this.user=this._data.user||{},this.form=(0,g.nu)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const P=new h.KJ({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:P})}}static#e=this.\u0275fac=function(j){return new(j||B)(e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:B,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:11,vars:4,consts:[["load_state",""],["mat-dialog-title","",1,"heading"],[1,"flex-1"],["icon","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-base-200 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-base-200","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(j,S){if(1&j&&(e.j41(0,"header")(1,"div",1),e.EFF(2),e.k0s(),e.nrm(3,"div",2),e.j41(4,"button",3)(5,"app-icon"),e.EFF(6,"close"),e.k0s()()(),e.DNE(7,k,2,1,"main",4)(8,y,5,0,"footer",5)(9,x,4,0,"ng-template",null,0,e.C5r)),2&j){const w=e.sdS(10);e.R7$(2),e.SpI(" ",null!=S.user&&S.user.id?"Edit":"Add"," External Attendee "),e.R7$(5),e.Y8G("ngIf",!S.loading)("ngIfElse",w),e.R7$(),e.Y8G("ngIf",!S.loading)}},dependencies:[b.bT,n.tx,n.BI,E.R,_.r6,u.LG,I.f],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})}return B})()},2372:(Ot,ve,s)=>{"use strict";s.d(ve,{N8:()=>b,SZ:()=>E});var e=s(1038),n=s(8385),d=s(5006),h=s(3693);const g="/api/staff/v1/people";function b(u){const I=(0,n.z)({q:u,fields:["id","name","email","username","organisation","department"].join(",")});return(0,e.JtY)(`${g}${u?"?"+I:""}`).pipe((0,d.T)(k=>k.map(y=>new h.Gp(y))))}function E(u){return(0,e.JtY)(`${g}/${encodeURIComponent(u)}`).pipe((0,d.T)(I=>new h.Gp(I)))}},7111:(Ot,ve,s)=>{"use strict";s.d(ve,{f:()=>B});var e=s(3953),n=s(177),d=s(9417),h=s(3719),g=s(9631),b=s(2765),E=s(1780);function _(K,P){if(1&K&&(e.j41(0,"div",3)(1,"label",4),e.EFF(2," Name"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",6),e.j41(8,"mat-error"),e.EFF(9,"Name is required"),e.k0s()()()),2&K){const j=e.XpG(2);e.R7$(),e.AVh("error",j.hasError("name"))}}function u(K,P){if(1&K&&(e.j41(0,"div",3)(1,"label",7),e.EFF(2," Email"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",8),e.j41(8,"mat-error"),e.EFF(9,"A valid email is required"),e.k0s()()()),2&K){const j=e.XpG(2);e.R7$(),e.AVh("error",j.hasError("email"))}}function I(K,P){if(1&K&&(e.j41(0,"div",3)(1,"label",9),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span"),e.EFF(5,"*"),e.k0s(),e.EFF(6,": "),e.k0s(),e.j41(7,"mat-form-field",5),e.nrm(8,"input",10),e.j41(9,"mat-error"),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()),2&K){const j=e.XpG(2);e.R7$(),e.AVh("error",j.hasError("organisation")),e.R7$(),e.SpI(" ",e.bMT(3,4,"COMMON.ORGANISATION"),""),e.R7$(8),e.SpI(" ",e.bMT(11,6,"COMMON.ORGANISATION")," is required ")}}function k(K,P){if(1&K&&(e.j41(0,"div",3)(1,"label",11),e.EFF(2," Phone: "),e.k0s(),e.j41(3,"mat-form-field",5),e.nrm(4,"input",12),e.j41(5,"mat-error"),e.EFF(6,"Phone format is invalid"),e.k0s()()()),2&K){const j=e.XpG(2);e.R7$(),e.AVh("error",j.hasError("phone"))}}function y(K,P){1&K&&(e.j41(0,"div",3)(1,"mat-checkbox",13),e.EFF(2," Assistance required "),e.k0s()())}function x(K,P){1&K&&(e.j41(0,"div",3)(1,"mat-checkbox",14),e.EFF(2," Visit expected "),e.k0s()())}function M(K,P){if(1&K&&(e.j41(0,"form",1),e.DNE(1,_,10,2,"div",2)(2,u,10,2,"div",2)(3,I,12,8,"div",2)(4,k,7,2,"div",2)(5,y,3,0,"div",2)(6,x,3,0,"div",2),e.k0s()),2&K){const j=e.XpG();e.Y8G("formGroup",j.form),e.R7$(),e.Y8G("ngIf",j.form.controls.name),e.R7$(),e.Y8G("ngIf",j.form.controls.email),e.R7$(),e.Y8G("ngIf",j.form.controls.organisation),e.R7$(),e.Y8G("ngIf",j.form.controls.phone),e.R7$(),e.Y8G("ngIf",j.form.controls.assistance_required),e.R7$(),e.Y8G("ngIf",j.form.controls.visit_expected)}}let B=(()=>{class K{hasError(j){const{invalid:S,touched:w}=this.form?.controls[j]||{};return S&&w}static#e=this.\u0275fac=function(S){return new(S||K)};static#t=this.\u0275cmp=e.VBU({type:K,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","","class","w-full",3,"formGroup",4,"ngIf"],["user-form","",1,"w-full",3,"formGroup"],["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","e.g. Conteso","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(S,w){1&S&&e.DNE(0,M,7,7,"form",0),2&S&&e.Y8G("ngIf",w.form)},dependencies:[n.bT,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,h.rl,h.TL,g.fg,b.So,E.D9],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return K})()},3693:(Ot,ve,s)=>{"use strict";s.d(ve,{Gp:()=>b,KJ:()=>h,So:()=>g});var e=s(4217),n=s(4129),d=s(4903);class h{constructor(_={}){this.id=_.id||_.email||`USER::${(0,e.DU)(8)}`,this.name=_.name||"",this.email=_.email||"",this.first_name=_.first_name||_.name||"",this.last_name=_.last_name||"",this.phone=_.phone||"",this.organisation=_.organisation||"",this.notes=_.notes||"",this.photo=_.photo||"",this.username=_.username||"",this.organizer=!!_.organizer,this.checked_in=!!_.checked_in,this.required=_.required??!0,this.resource=_.resource??!1,this.response_status=_.response_status||"";const u=_.groups||[];this.department=_.department??"",_.sys_admin&&u.push("placeos_admin"),_.support&&u.push("placeos_support"),_.department&&u.push(_.department),this.groups=u,this.extension_data=_.extension_data||{},this.extension_data.assistance_required=_.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${n.pd}`),this.visit_expected=_.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const I in _)I in this||(this.extension_data[I]=_[I])}}class g extends h{constructor(_={}){super(_),this.preferred_beverage=_.preferred_beverage||"",this.accepted_terms_conditions=_.accepted_terms_conditions||!1,this.attachments=_.extension_data?.attachments||_.attachments||[],this.status=_.booking?.approved?"approved":_.booking?.rejected?"declined":_.extension_data?.status||_.status||"pending",this.booking=_.booking,this.extension_data.event=_.event_metadata}}class b extends h{get location(){return this.location_time(Date.now())}work_preference(_){_||(_=Date.now());const u=new Date(_),I=u.getDay(),k=(0,d.GP)(u,"yyyy-MM-dd");if(this.work_overrides[k]?.blocks?.length)for(const y of this.work_overrides[k].blocks){const M=y.end_time;if(y.start_time<=u.getHours()+u.getMinutes()/60&&M>=u.getHours()+u.getMinutes()/60)return y}for(const y of this.work_preferences)if(y.day_of_week===I&&y.blocks?.length)for(const x of y.blocks)if(x.start_time<=u.getHours()+u.getMinutes()/60&&x.end_time>=u.getHours()+u.getMinutes()/60)return x}location_time(_=Date.now()){return this.work_preference(_)?.location||"wfo"}get location_name(){return this.location_name_time()}location_name_time(_=Date.now()){_||(_=Date.now());const u=this.location_time(_),I=this.in_hours_time(_);if(u.includes("w")&&!I)return"Outside working hours";switch(u){case"wfh":return"Working from Home";case"wfo":return"Working from Office";case"ooo":return"Out of Office";case"aol":return"Away on Leave";default:return"Unknown"}}outsideHours(_=Date.now()){const u=this.location_time(_),I=this.in_hours_time(_);return u.includes("w")&&!I}get in_hours(){return this.in_hours_time(Date.now())}location_icon(_){_||(_=Date.now());const u=this.location_time(_),I=this.in_hours_time(_);return"wfh"===u&&I?"home":"wfo"===u&&I?"business":"event_busy"}in_hours_time(_=Date.now()){return!!this.work_preference(_)}constructor(_={}){super(_),this.card_number=_.card_number||"",this.staff_id=_.staff_id||"",this.is_logged_in=!!_.is_logged_in,this.work_preferences=_.work_preferences||[],this.work_overrides=_.work_overrides||{}}}},9577:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>_});var e=s(467),n=s(6039),d=s(2372),h=s(3693),g=s(3953);const b=[],E=new h.KJ;let _=(()=>{class u{transform(k){return(0,e.A)(function*(){if(!k)return E;let y=b.find(({id:x,email:M})=>x===k||M===k);return y||(y=yield(0,d.SZ)(k).toPromise().catch(()=>null),y||(y=yield(0,n.qc)(k).toPromise().catch(()=>null),y)?(b.push(y),y):E)})()}static#e=this.\u0275fac=function(y){return new(y||u)};static#t=this.\u0275pipe=g.EJ8({name:"user",type:u,pure:!0})}return u})()},4129:(Ot,ve,s)=>{"use strict";s.d(ve,{Z4:()=>b,nu:()=>u,pd:()=>g});var e=s(9417);s(4217),s(3693);let g="@place.tech";function b(k){g=k}function u(k){if(!k)throw Error("No user passed");const y={name:new e.MJ(k.name||"",[e.k0.required]),email:new e.MJ(k.email||"",[e.k0.email,e.k0.required]),organisation:new e.MJ(k.organisation||"",e.k0.required),phone:new e.MJ(k.phone||"",e.k0.pattern(/^\+?(\d[\d\s\-\(\)]{5,13}\d)$/)),assistance_required:new e.MJ(k.assistance_required||!1),visit_expected:new e.MJ(k.visit_expected??!0)};return new e.gE(y)}},3850:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>U});var e=s(177),n=s(9417),d=s(9183),h=s(9115),g=s(4006),b=s(2765),E=s(8765),_=s(8705),y=(s(1543),s(7111),s(9577),s(3022)),x=s(8737),B=(s(3693),s(3953));function K($,te){if(1&$&&(B.j41(0,"div",2)(1,"div",3),B.EFF(2),B.nI1(3,"date"),B.nI1(4,"date"),B.k0s()()),2&$){const ie=te.$implicit;B.xc7("left",ie.start+"%")("width",ie.size+"%"),B.R7$(2),B.Lme(" ",B.i5U(3,6,ie.date,"shortTime")," - ",B.i5U(4,9,ie.date.valueOf()+60*ie.duration*1e3,"shortTime")," ")}}let P=(()=>{class ${constructor(){this.availability=[],this.date=Date.now()}static#e=this.\u0275fac=function(me){return new(me||$)};static#t=this.\u0275cmp=B.VBU({type:$,selectors:[["user-availability-list"]],inputs:{user:"user",availability:"availability",date:"date"},decls:2,vars:1,consts:[[1,"relative","w-[120rem]","h-32","inset-y-0","border-b","border-base-200"],["event","","class","absolute inset-y-0 bg-error text-white p-2 overflow-hidden border border-red-700 rounded",3,"left","width",4,"ngFor","ngForOf"],["event","",1,"absolute","inset-y-0","bg-error","text-white","p-2","overflow-hidden","border","border-red-700","rounded"],[1,"text-xs","max-w-full"]],template:function(me,Y){1&me&&(B.j41(0,"div",0),B.DNE(1,K,5,12,"div",1),B.k0s()),2&me&&(B.R7$(),B.Y8G("ngForOf",Y.availability))},dependencies:[e.Sq,e.vh],styles:["[_nghost-%COMP%]{display:block}"]})}return $})();var j=s(1413),S=s(9434),w=s(6600),m=s(3719),v=s(2798),A=s(9608),L=s(8e3),G=s(1193),O=s(7022);let U=(()=>{class ${static#e=this.\u0275fac=function(me){return new(me||$)};static#t=this.\u0275mod=B.$C({type:$});static#n=this.\u0275inj=B.G2t({imports:[e.MD,n.YN,n.X1,g.hM,_.c,E.h,b.g7,d.D6,h.Cn]})}return $})();B.wjB(y.$,[e.Sq,e.bT,n.BC,n.vS,g.tx,j.t,S.R,w.wT,m.rl,v.VO,w.r6,d.LG,b.So],[e.vh]),B.wjB(x.X,[e.Sq,e.bT,n.BC,n.vS,g.tx,A.G,L.$,S.R,G.a,w.r6,P],[e.Jj,e.vh,O.b])},3022:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>m});var e=s(467),n=s(1168),d=s(2357),h=s(906),g=s(7793),b=s(1406),E=s(1038),_=s(3953),u=s(4006);function I(v,A){1&v&&(_.j41(0,"button",7)(1,"app-icon"),_.EFF(2,"close"),_.k0s()())}function k(v,A){if(1&v){const L=_.RV6();_.j41(0,"mat-checkbox",12),_.mxI("ngModelChange",function(O){const W=_.eBV(L).$implicit,U=_.XpG(2);return _.DH7(U.weekdays_enabled[W.getDay()],O)||(U.weekdays_enabled[W.getDay()]=O),_.Njj(O)}),_.bIt("ngModelChange",function(O){const W=_.eBV(L).$implicit,U=_.XpG(2);return _.Njj(O&&U.initialiseDay(W.getDay()))}),_.EFF(1),_.nI1(2,"date"),_.k0s()}if(2&v){const L=A.$implicit,G=_.XpG(2);_.R50("ngModel",G.weekdays_enabled[L.getDay()]),_.R7$(),_.SpI(" ",_.i5U(2,2,L,"EEE")," ")}}function y(v,A){if(1&v&&(_.j41(0,"mat-option",25),_.EFF(1),_.k0s()),2&v){const L=A.$implicit;_.Y8G("value",L.id),_.R7$(),_.SpI(" ",L.name," ")}}function x(v,A){if(1&v){const L=_.RV6();_.j41(0,"div",19)(1,"a-time-field",20),_.bIt("ngModelChange",function(O){const W=_.eBV(L).$implicit,U=_.XpG(2).$implicit,$=_.XpG(3);return _.Njj($.setStartTime(W,U.getDay(),O))}),_.k0s(),_.j41(2,"a-time-field",20),_.bIt("ngModelChange",function(O){const W=_.eBV(L).$implicit,U=_.XpG(2).$implicit,$=_.XpG(3);return _.Njj($.setEndTime(W,U.getDay(),O))}),_.k0s(),_.j41(3,"mat-form-field",21)(4,"mat-select",12),_.mxI("ngModelChange",function(O){const W=_.eBV(L).$implicit;return _.DH7(W.location,O)||(W.location=O),_.Njj(O)}),_.DNE(5,y,2,2,"mat-option",22),_.k0s()(),_.j41(6,"button",23),_.bIt("click",function(){const O=_.eBV(L).index,W=_.XpG(2).$implicit,U=_.XpG(3);return _.Njj(U.addBlock(U.settings[W.getDay()],O))}),_.j41(7,"app-icon"),_.EFF(8,"add"),_.k0s()(),_.j41(9,"button",24),_.bIt("click",function(){const O=_.eBV(L).index,W=_.XpG(2).$implicit,U=_.XpG(3);return _.Njj(U.removeBlock(U.settings[W.getDay()],O))}),_.j41(10,"app-icon"),_.EFF(11,"delete"),_.k0s()()()}if(2&v){let L;const G=A.$implicit,O=A.index,W=_.XpG(2).$implicit,U=_.XpG(3);_.R7$(),_.Y8G("ngModel",U.timeFrom(G.start_time))("from",U.timeFrom((O>0?null==(L=U.settings[W.getDay()].blocks[O-1])?null:L.end_time:0)||0)),_.R7$(),_.Y8G("ngModel",U.timeFrom(G.end_time))("from",U.timeFrom(G.start_time+.25)),_.R7$(2),_.R50("ngModel",G.location),_.R7$(),_.Y8G("ngForOf",U.options),_.R7$(),_.Y8G("disabled",U.settings[W.getDay()].blocks.length>2),_.R7$(3),_.AVh("opacity-0",0===O)("pointer-events-none",0===O)}}function M(v,A){if(1&v&&(_.qex(0),_.j41(1,"div",15)(2,"label",16),_.EFF(3),_.nI1(4,"date"),_.k0s(),_.j41(5,"div",17),_.DNE(6,x,12,11,"div",18),_.k0s()(),_.bVm()),2&v){const L=_.XpG().$implicit,G=_.XpG(3);_.R7$(3),_.SpI(" ",_.i5U(4,2,L,"EEE")," "),_.R7$(3),_.Y8G("ngForOf",G.settings[L.getDay()].blocks)}}function B(v,A){if(1&v&&(_.qex(0),_.DNE(1,M,7,5,"ng-container",14),_.bVm()),2&v){const L=A.$implicit,G=_.XpG(3);_.R7$(),_.Y8G("ngIf",G.weekdays_enabled[L.getDay()])}}function K(v,A){if(1&v&&(_.qex(0),_.DNE(1,B,2,1,"ng-container",13),_.bVm()),2&v){const L=_.XpG(2);_.R7$(),_.Y8G("ngForOf",L.days)}}function P(v,A){1&v&&(_.j41(0,"div",26),_.nrm(1,"img",27),_.j41(2,"p",28),_.EFF(3," No work days are currently set for this user "),_.k0s()())}function j(v,A){if(1&v&&(_.j41(0,"main",8)(1,"h3"),_.EFF(2,"Working Days"),_.k0s(),_.j41(3,"div",9),_.DNE(4,k,3,5,"mat-checkbox",10),_.k0s(),_.j41(5,"h3"),_.EFF(6,"Work Hours"),_.k0s(),_.DNE(7,K,2,1,"ng-container",11)(8,P,4,0,"ng-template",null,1,_.C5r),_.k0s()),2&v){const L=_.sdS(9),G=_.XpG();_.R7$(4),_.Y8G("ngForOf",G.days),_.R7$(3),_.Y8G("ngIf",G.has_working_days)("ngIfElse",L)}}function S(v,A){if(1&v){const L=_.RV6();_.j41(0,"footer",29)(1,"button",30),_.bIt("click",function(){_.eBV(L);const O=_.XpG();return _.Njj(O.saveChanges())}),_.EFF(2," Save "),_.k0s()()}}function w(v,A){1&v&&(_.j41(0,"div",31),_.nrm(1,"mat-spinner",32),_.j41(2,"p",28),_.EFF(3," Saving changes to work location settings... "),_.k0s()()),2&v&&(_.R7$(),_.Y8G("diameter",32))}let m=(()=>{class v{get has_working_days(){return Object.keys(this.weekdays_enabled).some(L=>this.weekdays_enabled[L])}get option_name(){return this.options.find(L=>L.id===this.option)?.name||""}get now(){return(0,d.c)(Date.now()).getTime()}constructor(L){this._dialog_ref=L,this.options=[{id:"wfo",name:"Office"},{id:"wfh",name:"Home"},{id:"aol",name:"Leave"}],this.option=this.options[0].id,this.settings=[],this.weekdays_enabled={},this.changed=!1,this.loading=!1,this.available_weekdays=[],this.days=new Array(7).fill(0).map((G,O)=>(0,h.f)((0,g.k)((0,h.f)(Date.now(),30)),O))}ngOnInit(){const L=(0,n.Ny)();this.settings=[...(L.work_preferences||[]).map(G=>({...G,blocks:[...G?.blocks||[]]}))];for(const G of this.settings)G.blocks.length&&(this.weekdays_enabled[G.day_of_week]=!0)}timeFrom(L){return(0,d.c)((0,b.h)((0,h.f)(new Date,1),{hours:Math.floor(L),minutes:60*L%60})).getTime()}fromTime(L){const G=new Date(L);return G.getHours()+G.getMinutes()/60}initialiseDay(L){this.settings[L]||(this.settings[L]={day_of_week:L,blocks:[]}),this.settings[L].blocks||(this.settings[L].blocks=[]),0===this.settings[L].blocks.length&&this.addBlock(this.settings[L],0)}addBlock(L,G){L.blocks.splice(G+1,0,{start_time:9,end_time:17,location:"wfo"}),this.cleanupBlocks(L)}removeBlock(L,G){L.blocks.length<=1||L.blocks.splice(G,1)}setEndTime(L,G,O){setTimeout(()=>{L.end_time=this.fromTime(O),this.cleanupBlocks(this.settings[G])},50)}setStartTime(L,G,O){setTimeout(()=>{L.start_time=this.fromTime(O),this.cleanupBlocks(this.settings[G])},50)}cleanupBlocks(L){if(L?.blocks?.length)for(let G=0;G<L.blocks.length;G++){const O=L.blocks[G];G>0&&O.start_time<L.blocks[G-1].end_time&&(O.start_time=L.blocks[G-1].end_time),O.end_time<=O.start_time&&(O.end_time=O.start_time+1)}}saveChanges(L=!0){var G=this;return(0,e.A)(function*(){G.loading=!0,G._dialog_ref.disableClose=!0;const O=yield(0,E.VLL)("current").toPromise(),W=new Array(7).fill(0).map((U,$)=>({day_of_week:$,blocks:[]}));for(const U of G.days){const $=U.getDay();G.weekdays_enabled[$]&&(W[$]={day_of_week:$,blocks:G.settings[$].blocks})}console.log("Update user..."),yield(0,E.TKu)(O.id,{...O,groups:O.groups.filter(U=>!U.startsWith("placeos_")),work_preferences:W}).toPromise().catch(U=>{throw G.loading=!1,G._dialog_ref.disableClose=!1,(0,n.UG)("Unable to save user work preferences."),U}),console.log("Updated user"),G.loading=!1,G._dialog_ref.disableClose=!1,L&&((0,n.mj)(),console.log("Close WFH Modal"),G._dialog_ref.close())})()}static#e=this.\u0275fac=function(G){return new(G||v)(_.rXU(u.CP))};static#t=this.\u0275cmp=_.VBU({type:v,selectors:[["wfh-settings-modal"]],decls:8,vars:4,consts:[["load_state",""],["empty_state",""],[1,"relative","flex","items-center","justify-between"],[1,"font-medium","text-xl"],["icon","","matRipple","","mat-dialog-close","","class","bg-base-200",4,"ngIf"],["class","relative flex flex-col rounded w-[40rem] max-w-full p-4 space-y-2 max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"relative","flex","flex-col","rounded","w-[40rem]","max-w-full","p-4","space-y-2","max-h-[65vh]","overflow-auto"],[1,"flex","items-center","justify-between","w-full","pb-4","space-x-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","w-full","space-x-2","hover:bg-base-200","rounded","px-2","pt-1"],[1,"w-12","min-w-0","px-2","pt-3"],[1,"flex-1","w-1/2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/4","h-[3.25rem]",3,"ngModelChange","ngModel","from"],["appearance","outline",1,"flex-1","w-1/4","h-[3.25rem]"],[3,"value",4,"ngFor","ngForOf"],["icon","","matRipple","",3,"click","disabled"],["icon","","matRipple","",1,"text-error",3,"click"],[3,"value"],[1,"flex","flex-col","items-center","justify-center","px-8","py-16","space-y-4"],["src","assets/icons/no-results.svg",1,"m-auto"],[1,"opacity-30"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-48",3,"click"],["loading","",1,"relative","bg-base-100","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[24rem]","h-[18rem]","text-center","space-y-2"],[3,"diameter"]],template:function(G,O){if(1&G&&(_.j41(0,"header",2)(1,"h2",3),_.EFF(2,"Working Location Settings"),_.k0s(),_.DNE(3,I,3,0,"button",4),_.k0s(),_.DNE(4,j,10,3,"main",5)(5,S,3,0,"footer",6)(6,w,4,1,"ng-template",null,0,_.C5r)),2&G){const W=_.sdS(7);_.R7$(3),_.Y8G("ngIf",!O.loading),_.R7$(),_.Y8G("ngIf",!O.loading)("ngIfElse",W),_.R7$(),_.Y8G("ngIf",!O.loading)}}})}return v})()},285:(Ot,ve,s)=>{"use strict";s.d(ve,{LJ:()=>Fe,Y9:()=>Ae,Zn:()=>$,jG:()=>x,xB:()=>qe,yF:()=>Ye,yd:()=>W});var e=s(9928),n=s(4046),d=s(416);function h(Ne,Me){for(var pe=0;pe<Me.length;pe++){var he=Me[pe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Ne,he.key,he)}}function g(Ne,Me,pe){return Me&&h(Ne.prototype,Me),pe&&h(Ne,pe),Ne}function b(){return b=Object.assign||function(Ne){for(var Me=1;Me<arguments.length;Me++){var pe=arguments[Me];for(var he in pe)Object.prototype.hasOwnProperty.call(pe,he)&&(Ne[he]=pe[he])}return Ne},b.apply(this,arguments)}function E(Ne,Me){Ne.prototype=Object.create(Me.prototype),Ne.prototype.constructor=Ne,_(Ne,Me)}function _(Ne,Me){return(_=Object.setPrototypeOf||function(pe,he){return pe.__proto__=he,pe})(Ne,Me)}var u={},k="/api/engine/v2/uploads";function y(){return k}function x(Ne,Me){void 0===Me&&(Me=!1);var pe=Me?1e3:1024;if(Ne<pe)return Ne+(Me?" iB":" B");var he=Math.floor(Math.log(Ne)/Math.log(pe)),le=(Me?"kMGTPE":"KMGTPE").charAt(he-1)+(Me?"iB":"B");return(Ne/Math.pow(pe,he)).toFixed(1)+" "+le}function M(Ne){var Me="";Ne.length%2>0&&(Ne="0"+Ne);for(var pe=0,he=Ne.length;pe<he;pe+=2)Me+=String.fromCharCode(parseInt(Ne.slice(pe,pe+2),16));return Me}function B(Ne){var Me="";if(Ne)for(var pe in Ne)Ne.hasOwnProperty(pe)&&null!=Ne[pe]&&(Me+=(Me?"&":"")+pe+"="+encodeURIComponent(Ne[pe]));return Me}var K="",P="",j=function(){function Ne(pe,he){var le=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=pe,this._endpoint=he,this._abort_ctrl.signal.addEventListener("abort",function(){return le._dispose?le._dispose():""})}Ne.setToken=function(pe){K=pe},Ne.setApiKey=function(pe){P=pe};var Me=Ne.prototype;return Me.initialise=function(){try{var pe,he=this,le=he._abort_ctrl.signal,Ee=he._upload,Xe=Ee.file,xt=Ee.mime_type;he._params.file_size=""+Xe.size,he._params.file_name=Xe.name,xt&&"binary/octet-stream"!==xt&&(he._params.file_mime=xt),he._params=b({},he._params,he._upload.params),(null==(pe=Xe.dir_path)?void 0:pe.length)>0&&(he._params.file_path=Xe.dir_path);var dt=he.base_request_headers,Ct=B(he._params);return Promise.resolve(fetch(he._endpoint+"/new"+(Ct?"?"+Ct:""),{headers:dt,signal:le})).then(function(Qt){return Qt.json()})}catch(Qt){return Promise.reject(Qt)}},Me.create=function(pe){try{var he=this,le=he._abort_ctrl.signal,Ee=he.base_request_headers;return pe.file_id&&(he._params.file_id=pe.file_id),he._upload.mime_type&&(he._params.file_mime=pe.mime_type),pe.parameters&&(he._params.parameters=pe.parameters),pe.permissions&&(he._params.permissions=pe.permissions),pe.public&&(he._params.public=pe.public),pe.expires&&(he._params.expires=pe.expires||0),Promise.resolve(fetch(""+he._endpoint,{body:JSON.stringify(he._params),method:"POST",headers:Ee,signal:le})).then(function(Xe){return Promise.resolve(Xe.json()).then(function(xt){return he.upload_id=xt.upload_id,xt})})}catch(Xe){return Promise.reject(Xe)}},Me.sign=function(pe,he){void 0===he&&(he="");try{var le=this;if(!le.upload_id)throw new Error("Upload resource not initialised");var Ee=le._abort_ctrl.signal,Xe=le.base_request_headers,xt=new URLSearchParams;return xt.set("part",pe.toString()),he&&xt.set("file_id",encodeURIComponent(he)),Promise.resolve(fetch(le._endpoint+"/"+le.encoded_id+"/edit?"+xt.toString(),{method:"GET",headers:Xe,signal:Ee})).then(function(dt){return Promise.resolve(dt.json())})}catch(dt){return Promise.reject(dt)}},Me.update=function(pe){void 0===pe&&(pe={});try{var he=this;if(!he.upload_id)throw new Error("Upload resource not initialised");var le=he._abort_ctrl.signal,Ee=he.base_request_headers;return Promise.resolve(fetch(he._endpoint+"/"+he.encoded_id,{body:JSON.stringify(pe),method:"PUT",headers:Ee,signal:le})).then(function(Xe){return Promise.resolve(Xe.json())})}catch(Xe){return Promise.reject(Xe)}},Me.signedRequest=function(pe){try{return Promise.resolve(fetch(pe.signature.url,{body:pe.data,method:pe.signature.verb,headers:pe.signature.headers})).then(function(he){return Promise.resolve(he.text()).then(function(le){var Ee={body:le,responseXML:null};try{Ee.responseXML=(new window.DOMParser).parseFromString(Ee.body,"text/xml")}catch{}return Ee})})}catch(he){return Promise.reject(he)}},Me.signNextChunk=function(pe,he,le,Ee){void 0===Ee&&(Ee=null);try{var Xe=this;if(!Xe.upload_id)throw new Error("Upload resource not initialised");var xt=Xe._abort_ctrl.signal,dt={part_list:le};Ee&&(dt.part_data=Ee);var Ct=Xe.base_request_headers,Qt=B({part:""+pe,file_id:he,file_mime:Xe._upload.mime_type});return Promise.resolve(fetch(Xe._endpoint+"/"+Xe.encoded_id+(Qt?"?"+Qt:""),{body:JSON.stringify(dt),method:Object.keys(dt).length>0?"PATCH":"PUT",headers:Ct,signal:xt})).then(function(_n){return Promise.resolve(_n.json())})}catch(_n){return Promise.reject(_n)}},Me.signChunk=function(pe,he){void 0===he&&(he=null);try{var Ee=this._abort_ctrl.signal,Xe=this.base_request_headers,xt=B({part:""+pe,file_id:he});return Promise.resolve(fetch(this._endpoint+"/edit"+(xt?"?"+xt:""),{headers:Xe,signal:Ee})).then(function(dt){return Promise.resolve(dt.json())})}catch(dt){return Promise.reject(dt)}},Me.updateStatus=function(pe){void 0===pe&&(pe={});try{var he=this;if(!he.upload_id)throw new Error("Upload resource not initialised");var le=he._abort_ctrl.signal;return Promise.resolve(fetch(he._endpoint+"/"+he.encoded_id,{headers:he.base_request_headers,method:Object.keys(pe).length>0?"PATCH":"PUT",body:JSON.stringify(pe),signal:le})).then(function(Ee){return Promise.resolve(Ee.json())})}catch(Ee){return Promise.reject(Ee)}},Me.abort=function(){this._abort_ctrl.abort()},Me.destroy=function(){this.abort();var pe=new Headers;if(pe.append("Accept","application/json"),K?pe.append("Authorization","Bearer "+K):P&&pe.append("X-API-Key",""+P),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:pe,method:"DELETE"})},Me.performSignedRequest=function(pe,he){var le=this;return void 0===he&&(he=function(){}),new Promise(function(Ee,Xe){var xt=new XMLHttpRequest;xt.upload.addEventListener("progress",function(_n){return he(_n)}),xt.addEventListener("load",function(_n){he(_n),xt.status>=200&&xt.status<300||xt.status===pe.expected?Ee(xt):Xe(xt.status+": "+xt.statusText)});var dt=function(_n){le._upload.onError(_n),Xe(_n)};xt.addEventListener("error",function(){return dt(xt.status+": "+(xt.statusText||"unknown error"))}),xt.addEventListener("abort",function(){return dt(xt.statusText||"browser aborted")}),xt.open(pe.signature.verb,pe.signature.url,!0);var Ct=pe.signature.headers;for(var Qt in Ct)Qt in Ct&&xt.setRequestHeader(Qt,Ct[Qt]);le._dispose=function(){xt.abort(),Xe("user aborted")},xt.send(pe.data||null)})},g(Ne,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var pe=new Headers;return pe.append("Accept","application/json"),pe.append("Content-Type","application/json"),K?pe.append("Authorization","Bearer "+K):P&&pe.append("X-API-Key",""+P),pe}}]),Ne}(),S=function(){function Ne(pe,he,le,Ee,Xe){void 0===Ee&&(Ee={}),void 0===Xe&&(Xe=y()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new e.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=pe,this.retries=he,this.parallel=le,this.params=Ee,this._endpoint=Xe,this.mime_type=pe?.type||this.mime_type}var Me=Ne.prototype;return Me.setAccessUrl=function(pe){this._access_url=pe},Me.onProgress=function(pe){var he=this._state.getValue();this._state.next(b({},he,{status:"uploading",uploaded:pe,progress:Math.floor(pe/this.file.size*1e3)/10}))},Me.onComplete=function(){var pe=this._state.getValue();this._state.next(b({},pe,{status:"complete",progress:100}))},Me.onError=function(pe){var he=this._state.getValue();this._state.next(b({},he,{status:"error",error:pe}))},Me.resume=function(pe){try{var he=this,le=he._state.getValue(),Ee=function(){if(!["complete","uploading","cancelled"].includes(le.status)){var Xe=function(){var dt;null==(dt=he._provider)||dt.start()};pe&&(he.parallel=pe);var xt=function(){if(!he._provider)return he._request=new j(he,he._endpoint),Promise.resolve(he._request.initialise()).then(function(dt){var Ct=u[dt.residence]||null;Ct?(he._provider=new Ct(he._request,he),he._state.next(b({},le,{status:"uploading"}))):he.onError("No provider available to upload to")})}();return xt&&xt.then?xt.then(Xe):Xe()}}();return Promise.resolve(Ee&&Ee.then?Ee.then(function(){}):void 0)}catch(Xe){return Promise.reject(Xe)}},Me.pause=function(){var pe,he=this._state.getValue();"uploading"===he.status&&(null==(pe=this._provider)||pe.pause(),this._state.next(b({},he,{status:"paused"})))},Me.cancel=function(){var pe,he=this._state.getValue();["complete","cancelled"].includes(he.status)||("uploading"===he.status&&(null==(pe=this._provider)||pe.destroy()),this._state.next(b({},he,{status:"cancelled"})))},g(Ne,[{key:"id",get:function(){var pe;return null==(pe=this._request)?void 0:pe.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var pe;return"waiting"===(null==(pe=this._state.getValue())?void 0:pe.status)}},{key:"in_progress",get:function(){var pe;return"uploading"===(null==(pe=this._state.getValue())?void 0:pe.status)}},{key:"completed",get:function(){var pe;return"complete"===(null==(pe=this._state.getValue())?void 0:pe.status)}}]),Ne}(),w=[],m=-1;function v(){return m+=1,w[m%=3]}var A,Ne,L={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},G=L,O=[];function W(Ne){void 0===Ne&&(Ne={}),(G=b({},L,Ne)).endpoint&&(k=G.endpoint),function(Me,pe){var he;void 0===Me&&(Me="/node_modules/ts-md5/dist/md5_worker.js"),(null==(he=w)?void 0:he.length)>0&&w.forEach(function(Ee){return Ee.terminate()}),w=[];for(var le=0;le<3;le+=1)w.push(new d.LL(Me,pe))}(G.worker_url,G.worker_options),G.token&&j.setToken(G.token),G.api_key&&j.setApiKey(G.api_key),function U(Ne){Ne.forEach(function(Me){return function I(Ne,Me){u[Ne]=Me}(Me.lookup,Me)})}(G.providers)}function $(Ne,Me){if(void 0===Me&&(Me={}),!y())throw"No API endpoint set";var pe=[];return Ne.forEach(function(he){var le=new S(he,G.retries,G.parallel,Me);pe.push(le),O.push(le),le.metadata=G.metadata,le.status.pipe((0,n.$)(function(Ee){return"complete"===Ee.status})).subscribe(function(Ee){return function(Xe){var xt=G.auto_start,dt=G.remove_after;G.auto_remove&&(dt?setTimeout(function(){return N(Xe)},dt):N(Xe));var Ct=O.filter(function(Qt){return Qt.waiting});xt&&Ct.length&&_e()&&Ct[0].resume(G.parallel)}(le)}),G.auto_start&&_e()&&le.resume(G.parallel)}),pe}function N(Ne){Ne.cancel(),O=O.filter(function(Me){return Me!==Ne})}function _e(){return O.filter(function(Ne){return Ne.in_progress}).length<G.simultaneous}(Ne=A||(A={}))[Ne.Paused=0]="Paused",Ne[Ne.Uploading=1]="Uploading",Ne[Ne.Completed=2]="Completed",Ne[Ne.Aborted=3]="Aborted";var xe=function(){function Ne(pe,he){this._request=void 0,this._upload=void 0,this.state=A.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=pe,this._upload=he,this._file=this._upload.file,this.size=this._file.size}var Me=Ne.prototype;return Me.start=function(){this.state<A.Uploading&&(this._finalising?this._finalise():this._start())},Me.pause=function(){for(var pe in this._strategy&&this.state===A.Uploading&&!this._direct_upload?(this.state=A.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=A.Paused,this._request.abort(),this._restart()),this._progress)this._progress[pe].loaded!==this._progress[pe].total&&(this._progress[pe].loaded=0);this._updateProgress()},Me.destroy=function(){void 0!==this._strategy&&this.state<A.Completed&&(this._request.destroy(),this._restart(),this.state=A.Aborted)},Me._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Me._makeRequest=function(pe,he){var le=this;return he.data=pe.data,this._request.performSignedRequest(he,function(Ee){return le._onProgress(pe.part,Ee)})},Me._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Me._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Me._completePart=function(pe){this._current_parts=this._current_parts.filter(function(he){return he!==pe})},Me._isComplete=function(pe){var he=this._progress[pe]||{},le=he.loaded;return le&&le===he.total},Me._onProgress=function(pe,he){this._progress[pe]=b({},he),this._updateProgress()},Me._onError=function(pe){console.error("Error:",pe),this.pause(),this._upload.onError(pe)},Me._updateProgress=function(){var pe=0;for(var he in this._progress)pe+=this._progress[he].loaded||0;this._upload.onProgress(pe)},Me._finalise=function(){try{var pe=this;return pe._request.updateStatus().then(function(){return pe._upload.onComplete()},function(he){return pe._onError(he)}),Promise.resolve()}catch(he){return Promise.reject(he)}},Me._hashPart=function(pe,he,le){try{var Ee=this,Xe=Ee._memoization[pe],xt=he();return Promise.resolve(Xe?{data:xt,md5:Xe.md5,part:Xe.part}:le(xt).then(function(dt){return Ee._memoization[pe]=dt,{data:xt,md5:dt.md5,part:dt.part}}))}catch(dt){return Promise.reject(dt)}},Me._getPartData=function(){var pe=this,he=this._currentParts().filter(function(Ee){return"number"==typeof Ee}),le=[];return he.forEach(function(Ee){var Xe=pe._memoization[""+Ee];Xe&&le.push(Xe)}),{part_list:he,part_data:le}},Ne}(),Fe=function(Ne){function Me(){for(var he,le=arguments.length,Ee=new Array(le),Xe=0;Xe<le;Xe++)Ee[Xe]=arguments[Xe];return(he=Ne.call.apply(Ne,[this].concat(Ee))||this)._part_size=5242880,he}E(Me,Ne);var pe=Me.prototype;return pe._start=function(){try{var he=this;return Promise.resolve(function(){if(void 0===he._strategy)return he.state=A.Uploading,he._strategy=null,9999*he._part_size<he.size&&(he._part_size=Math.floor(he.size/9999),he._part_size>5368709120)?(he._upload.cancel(),void he._onError("file exceeds maximum size")):Promise.resolve(he._processPart(1).catch(function(le){return he._onError(le)})).then(function(le){if(le&&he.state===A.Uploading)return Promise.resolve(he._request.create({file_id:window.btoa(M(le.md5))}).catch(function(Ee){return he._onError(Ee)})).then(function(Ee){Ee&&(he._strategy=Ee.type,Ee.signature&&he._upload.setAccessUrl((Ee.signature.url||"").split("?")[0]),"direct_upload"===Ee.type?he._direct(Ee,le):he._resume(Ee,le))})});he.state===A.Paused&&he._resume()}())}catch(le){return Promise.reject(le)}},pe._processPart=function(he){var le=this;return this._hashPart(he.toString(),function(){var Ee,Xe;return le.size>le._part_size?((Xe=he*le._part_size)>le.size&&(Xe=le.size),Ee=le._file.slice((he-1)*le._part_size,Xe)):Ee=le._file,Ee},function(Ee){return v().hash(Ee).then(function(Xe){return{md5:Xe,part:he}})})},pe._resume=function(he,le){void 0===he&&(he=null),void 0===le&&(le=null);try{var Ee,Xe=this;return Promise.resolve(function(){if(he)return function(){if("parts"!==he.type)return Promise.resolve(Xe._request.signedRequest(he).catch(function(xt){Xe._restart(),Xe._onError(xt)})).then(function(xt){if(xt){var dt=xt.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(Xe._request.updateStatus({resumable_id:dt,file_id:window.btoa(M(le.md5)),part:1}).catch(function(Ct){Xe._restart(),Xe._onError(Ct)})).then(function(Ct){if(Ct)for(Xe._nextPartIndex(),Xe._setPart(Ct,le),Ee=1;Ee<Xe._upload.parallel;Ee+=1)Xe._nextPart()})}});for(Xe._pending_parts=he.part_list,he.part_data&&(Xe._memoization=he.part_data),Ee=0;Ee<Xe._upload.parallel;Ee+=1)Xe._nextPart()}();for(Ee=0;Ee<Xe._upload.parallel;Ee+=1)Xe._nextPart()}())}catch(xt){return Promise.reject(xt)}},pe._generatePartManifest=function(){var he,le,Ee="<CompleteMultipartUpload>";for(he=1;he<1e4&&(le=this._memoization[he]);he+=1)Ee+="<Part><PartNumber>"+he+'</PartNumber><ETag>"'+le.md5+'"</ETag></Part>';return Ee+"</CompleteMultipartUpload>"},pe._nextPart=function(){var he,le=this,Ee=this._nextPartIndex();(Ee-1)*this._part_size<this.size?this._processPart(Ee).then(function(Xe){le.state===A.Uploading&&(he=le._getPartData(),le._request.signNextChunk(Ee,window.btoa(M(Xe.md5)),he.part_list,he.part_data).then(function(xt){return le._setPart(xt,Xe)},function(xt){return le._onError(xt)}))},function(Xe){return le._onError(Xe)}):1===this._currentParts().length&&this._currentParts()[0]===Ee?(this._finishing=!0,this._request.sign("finish").then(function(Xe){Xe.data=le._generatePartManifest(),le._request.signedRequest(Xe).then(function(){return le._finalise()},function(xt){return le._onError(xt)})},function(Xe){return le._onError(Xe)})):this._finishing||(this._completePart(Ee),(he=this._getPartData()).part_update=!0,this._request.updateStatus(he))},pe._setPart=function(he,le){var Ee=this;this._makeRequest(le,he).then(function(){Ee._completePart(le?.part),Ee._nextPart()},function(Xe){return Ee._onError(Xe)})},pe._direct=function(he,le){var Ee=this,Xe=this._makeRequest(le,he);this._direct_upload=!0,Xe.then(function(){return Ee._finalise()},function(xt){return Ee._onError(xt)})},Me}(xe);Fe.lookup="AmazonS3";var Ae=function(Ne){function Me(){for(var he,le=arguments.length,Ee=new Array(le),Xe=0;Xe<le;Xe++)Ee[Xe]=arguments[Xe];return(he=Ne.call.apply(Ne,[this].concat(Ee))||this)._partSize=2097152,he}E(Me,Ne);var pe=Me.prototype;return pe._start=function(){var he=this;if(void 0===this._strategy){if(this.state=A.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(le){he.state===A.Uploading&&he._request.create({file_id:le.md5}).then(function(Ee){he._strategy=Ee.type,"direct_upload"===Ee.type?he._direct(Ee,le):he._resume(Ee,le)},he._onError.bind(he))},this._onError.bind(this))}else this.state===A.Paused&&this._resume()},pe._processPart=function(he){var le=this;return this._hashPart(he.toString(),function(){var Ee,Xe;return le.size>le._partSize?((Xe=he*le._partSize)>le.size&&(Xe=le.size),Ee=le._file.slice((he-1)*le._partSize,Xe)):Ee=le._file,Ee},function(Ee){return v().hash(Ee).then(function(Xe){return{md5:window.btoa(M(Xe)),part:he}})})},pe._resume=function(he,le){var Ee,Xe=this;if(void 0===he&&(he=null),void 0===le&&(le=null),he)if("parts"===he.type)for(this._pending_parts=he.part_list,Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:le.md5,part:1}).then(function(xt){for(Xe._nextPartIndex(),Xe._setPart(xt,le),Ee=1;Ee<Xe._upload.parallel;Ee+=1)Xe._nextPart()},function(xt){this._restart(),this._onError(xt)});else for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()},pe._generatePartManifest=function(){for(var he='<?xml version="1.0" encoding="utf-8"?><BlockList>',le=0;le<5e4&&le*this._partSize<this.size;le+=1)he+="<Latest>"+window.btoa(this._pad(le+1))+"</Latest>";return he+"</BlockList>"},pe._pad=function(he){for(var le=he.toString();le.length<6;)le="0"+le;return le},pe._nextPart=function(){var he=this,le=this._nextPartIndex();(le-1)*this._partSize<this.size?this._processPart(le).then(function(Ee){he.state===A.Uploading&&he._request.signNextChunk(le,Ee.md5,he._currentParts()).then(function(Xe){he._setPart(Xe,Ee)},he._onError.bind(he))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===le?(this._finishing=!0,this._request.sign("finish").then(function(Ee){Ee.data=he._generatePartManifest(),he._request.signedRequest(Ee).then(he._finalise.bind(he),he._onError.bind(he))},this._onError.bind(this))):this._finishing||(this._completePart(le),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},pe._setPart=function(he,le){var Ee=this;this._makeRequest(le,he).then(function(){Ee._completePart(le.part),Ee._nextPart()},this._onError.bind(this))},pe._direct=function(he,le){var Ee=this,Xe=this._makeRequest(le,he);this._direct_upload=!0,Xe.then(function(){return Ee._finalise()},this._onError.bind(this))},Me}(xe);Ae.lookup="MicrosoftAzure";var Ye=function(Ne){function Me(){return Ne.apply(this,arguments)||this}E(Me,Ne);var pe=Me.prototype;return pe._start=function(){var he=this;void 0!==this._strategy&&this.state!==A.Paused||(this.state=A.Uploading,this._strategy=null,this._processPart(this._file).then(function(le){he.state===A.Uploading&&he._request.create({file_id:le.md5}).then(function(Ee){he._strategy=Ee.type,"direct_upload"===Ee.type?he._direct(Ee,le):he._resume(Ee,le)},he._onError.bind(he))},this._onError.bind(this)))},pe._processPart=function(he,le){return void 0===le&&(le=0),this._hashPart(le.toString(),function(){return he},function(Ee){return v().hash(Ee).then(function(Xe){return{md5:window.btoa(M(Xe)),part:le}})})},pe._resume=function(he,le){var Ee=this;this._request.signedRequest(he).then(function(Xe){if("status"===he.type)if(Xe.status===he.expected){var xt=parseInt(Xe.getResponseHeader("Range").split("-")[1],10)+1;Ee._processPart(Ee._file.slice(xt),xt).then(function(dt){Ee.state===A.Uploading&&Ee._request.signChunk(xt,dt.md5).then(function(Ct){Ee._performUpload(Ct,dt)},Ee._onError.bind(Ee))},Ee._onError.bind(Ee))}else Ee._finalise();else Ee._request.updateStatus({resumable_id:Ee._getQueryParams(Xe.getResponseHeader("Location").split("?")[1]).upload_id,file_id:le.md5,part:0}).then(function(dt){return Ee._performUpload(dt,le)},function(dt){this._restart(),this._onError(dt)})},this._onError.bind(this))},pe._performUpload=function(he,le){var Ee=this;this._makeRequest(le,he).then(function(){return Ee._finalise()},this._onError.bind(this))},pe._direct=function(he,le){var Ee=this,Xe=this._makeRequest(le,he);this._direct_upload=!0,Xe.then(function(){Ee._finalise()},this._onError.bind(this))},pe._getQueryParams=function(he){he=he.split("+").join(" ");for(var le,Ee={},Xe=/[?&]?([^=]+)=([^&]*)/g;le=Xe.exec(he);)Ee[decodeURIComponent(le[1])]=decodeURIComponent(le[2]);return Ee},Me}(xe);Ye.lookup="GoogleCloudStorage";var qe=function(Ne){function Me(){for(var he,le=arguments.length,Ee=new Array(le),Xe=0;Xe<le;Xe++)Ee[Xe]=arguments[Xe];return(he=Ne.call.apply(Ne,[this].concat(Ee))||this)._partSize=2097152,he}E(Me,Ne);var pe=Me.prototype;return pe._start=function(){var he=this;if(void 0===this._strategy){if(this.state=A.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(le){he.state===A.Uploading&&he._request.create({file_id:le.md5}).then(function(Ee){he._strategy=Ee.type,"direct_upload"===Ee.type?he._direct(Ee,le):he._resume(Ee,le)},he._onError.bind(he))},this._onError.bind(this))}else this.state===A.Paused&&this._resume()},pe._processPart=function(he){var le=this;return this._hashPart(he.toString(),function(){var Ee,Xe;return le.size>le._partSize?((Xe=he*le._partSize)>le.size&&(Xe=le.size),Ee=le._file.slice((he-1)*le._partSize,Xe)):Ee=le._file,Ee},function(Ee){return v().hash(Ee).then(function(Xe){return{md5:Xe,part:he,size_bytes:Ee.size}})})},pe._resume=function(he,le){var Ee,Xe=this;if(void 0===he&&(he=null),void 0===le&&(le=null),he)if("parts"===he.type){if(this._pending_parts=he.part_list,he.part_data){var xt;for(var dt in this._memoization=he.part_data,this._memoization)this._memoization.hasOwnProperty(dt)&&((xt=this._memoization[dt]).path||this._pending_parts.push(xt.part));this._pending_parts=this._pending_parts.sort().filter(function(Ct,Qt,_n){return!Qt||Ct!==_n[Qt-1]})}for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:le.md5,part:1}).then(function(Ct){for(Xe._nextPartIndex(),Xe._memoization[1].path=Ct.path,Xe._setPart(Ct,le),Ee=1;Ee<Xe._upload.parallel;Ee+=1)Xe._nextPart()},function(Ct){this._restart(),this._onError(Ct)});else for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()},pe._generatePartManifest=function(){for(var he,le=[],Ee=1;Ee<1e4&&(he=this._memoization[Ee]);Ee+=1)le.push({path:he.path,etag:he.md5,size_bytes:he.size_bytes});return JSON.stringify(le)},pe._nextPart=function(){var he,le=this,Ee=this._nextPartIndex();(Ee-1)*this._partSize<this.size?this._processPart(Ee).then(function(Xe){le.state===A.Uploading&&(he=le._getPartData(),le._request.signNextChunk(Ee,Xe.md5,he.part_list,he.part_data).then(function(xt){le._memoization[Ee].path=xt.path,le._setPart(xt,Xe)},le._onError.bind(le)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ee?(this._finishing=!0,this._request.sign("finish").then(function(Xe){Xe.signature?(Xe.data=le._generatePartManifest(),le._request.signedRequest(Xe).then(le._finalise.bind(le),le._onError.bind(le))):le._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Ee),(he=this._getPartData()).part_update=!0,this._request.updateStatus(he))},pe._setPart=function(he,le){var Ee=this;this._makeRequest(le,he).then(function(){Ee._completePart(le.part),Ee._nextPart()},this._onError.bind(this))},pe._direct=function(he,le){var Ee=this,Xe=this._makeRequest(le,he);this._direct_upload=!0,Xe.then(function(){return Ee._finalise()},this._onError.bind(this))},Me}(xe);qe.lookup="OpenStackSwift"},6511:(Ot,ve,s)=>{"use strict";s.d(ve,{Of:()=>Fn,Rx:()=>Yt,tk:()=>ae,mn:()=>Fe,b2:()=>Ln,sM:()=>yn,Ay:()=>Mn});var e=s(4337),n=s(9928),d=s(5286),h=s(3586),g=s(4670),b=s(8728),E=s(5006),_=s(3004);class I{constructor(ze,Bt){this.keySelector=ze,this.flushes=Bt}call(ze,Bt){return Bt.subscribe(new k(ze,this.keySelector,this.flushes))}}class k extends _.gn{constructor(ze,Bt,Te){super(ze),this.keySelector=Bt,this.values=new Set,Te&&this.add((0,_.tS)(Te,new _.zA(this)))}notifyNext(){this.values.clear()}notifyError(ze){this._error(ze)}_next(ze){this.keySelector?this._useKeySelector(ze):this._finalizeNext(ze,ze)}_useKeySelector(ze){let Bt;const{destination:Te}=this;try{Bt=this.keySelector(ze)}catch(Ge){return void Te.error(Ge)}this._finalizeNext(Bt,ze)}_finalizeNext(ze,Bt){const{values:Te}=this;Te.has(ze)||(Te.add(ze),this.destination.next(Bt))}}var y=s(416);function x(){return(x=Object.assign||function(Ht){for(var ze=1;ze<arguments.length;ze++){var Bt=arguments[ze];for(var Te in Bt)Object.prototype.hasOwnProperty.call(Bt,Te)&&(Ht[Te]=Bt[Te])}return Ht}).apply(this,arguments)}function M(Ht,ze){(null==ze||ze>Ht.length)&&(ze=Ht.length);for(var Bt=0,Te=new Array(ze);Bt<ze;Bt++)Te[Bt]=Ht[Bt];return Te}function B(Ht,ze){var Bt=typeof Symbol<"u"&&Ht[Symbol.iterator]||Ht["@@iterator"];if(Bt)return(Bt=Bt.call(Ht)).next.bind(Bt);if(Array.isArray(Ht)||(Bt=function(Ge){if(Ge){if("string"==typeof Ge)return M(Ge,void 0);var Wt=Object.prototype.toString.call(Ge).slice(8,-1);return"Object"===Wt&&Ge.constructor&&(Wt=Ge.constructor.name),"Map"===Wt||"Set"===Wt?Array.from(Ge):"Arguments"===Wt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wt)?M(Ge,void 0):void 0}}(Ht))||ze&&Ht&&"number"==typeof Ht.length){Bt&&(Ht=Bt);var Te=0;return function(){return Te>=Ht.length?{done:!0}:{done:!1,value:Ht[Te++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K={},P={};function j(Ht,ze,Bt){if(void 0===Bt&&(Bt=300),!(Ht&&ze&&ze instanceof Function))throw new Error(Ht?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");S(Ht),K[Ht]=setTimeout(function(){ze(),delete K[Ht]},Bt)}function S(Ht){K[Ht]&&(clearTimeout(K[Ht]),delete K[Ht])}function w(Ht,ze){m(Ht),P[Ht]=ze}function m(Ht){P&&P[Ht]&&(P[Ht]instanceof e.y?P[Ht].unsubscribe():P[Ht](),delete P[Ht])}function v(Ht,ze,Bt,Te,Ge,Tt){if(void 0===Te&&(Te="debug"),void 0===Ge&&(Ge=!1),void 0===Tt&&(Tt="SVG VIEWER"),window.debug||Ge){var Wt,We,Pe=["color: #E91E63","color: #ffb300","color: default"];Bt?(Wt=console)[Te].apply(Wt,["%c["+Tt+"]%c["+Ht+"] %c"+ze].concat(Pe,[Bt])):(We=console)[Te].apply(We,["%c["+Tt+"]%c["+Ht+"] %c"+ze].concat(Pe))}}function A(Ht){for(var ze,Bt=Ht.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),Te=B(Bt);!(ze=Te()).done;){var Ge=ze.value;Bt.splice(Bt.indexOf(Ge),1,[Ge.replace(/^\\/g,"")])}return Bt.join(" ")}function L(Ht){return Ht?Ht instanceof MouseEvent?{x:Ht.clientX,y:Ht.clientY}:Ht.touches&&Ht.touches.length>0?{x:Ht.touches[0].clientX,y:Ht.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function O(Ht,ze,Bt,Te){var Ge,Tt;void 0===Te&&(Te=1);var Wt=null==(Ge=Ht.element)?void 0:Ge.querySelector(".svg-viewer__svg-overlays");if(null!=(Tt=Ht.element)&&Tt.querySelector("svg")&&Wt){var We=Bt||Wt?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(ze.x-We.left)/We.width*Te)),y:Math.max(0,Math.min(1,(ze.y-We.top)/We.height*Te))}}return v("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function U(Ht,ze){return Math.sqrt(Math.pow(Ht.x-ze.x,2)+Math.pow(Ht.y-ze.y,2))}function $(Ht,ze,Bt){return{x:Ht.x+(ze.x-Ht.x)*Bt,y:Ht.y+(ze.y-Ht.y)*Bt}}function te(Ht){if(!Ht)return"";var ze=x({},Ht);for(var Bt in ze)ze[Bt]instanceof Object&&(ze[Bt]=""+ze[Bt]);return ze}function ie(Ht){return Ht<26?Ht+65:Ht<52?Ht+71:Ht<62?Ht-4:62===Ht?43:63===Ht?47:65}var me={top:0,left:0,bottom:0,right:0,height:0,width:0},Y=function(){function Ht(ze){var Bt,Te,Ge,Tt,Wt,We,Pe;if(this.id=ze.id||"map-"+Math.floor(999999*Math.random()),this.url=ze.url||"local-"+y.VV.hashAsciiStr(ze.svg_data||""),this.element=ze.element||null,this.labels=ze.labels||[],this.features=ze.features||[],this.actions=ze.actions||[],this.styles=ze.styles||{},this.svg_data=ze.svg_data||"",this.content_ratio=ze.content_ratio||{x:1,y:1},this.zoom=ze.zoom||1,this.center={x:null!=(Bt=null==(Te=ze.center)?void 0:Te.x)?Bt:.5,y:null!=(Ge=null==(Tt=ze.center)?void 0:Tt.y)?Ge:.5},this.rotate=ze.rotate||0,this.ratio=ze.ratio||1,this.svg_ratio=ze.svg_ratio||1,this.max_resolution=ze.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=ze.focus||null,this.options=ze.options||{},this.mappings=ze.mappings||{},this.box={top:(ze.box||me).top,left:(ze.box||me).left,height:(ze.box||me).height,width:(ze.box||me).width},this.desired_zoom=ze.desired_zoom||ze.zoom||this.zoom,this.desired_center={x:(null==(Wt=ze.desired_center)?void 0:Wt.x)||this.center.x,y:(null==(We=ze.desired_center)?void 0:We.y)||this.center.y},this.updated_count=(ze.updated_count||0)+1,this.zoom!==this.desired_zoom){var Ue=this.desired_zoom-this.zoom>=0?1:-1,De=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),rt=Math.round(De/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===De?this.zoom+Ue*De:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*rt,y:this.center.y+(this.desired_center.y-this.center.y)*rt}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var Qe=this.desired_center.x-this.center.x>=0?1:-1,vt=this.desired_center.y-this.center.y>=0?1:-1,et=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Re=et/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+Qe*et,y:this.center.y+vt*Re}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(Pe=ze?.use_gpu)||Pe}return Ht.prototype.contains=function(ze){this.svg_data.includes('id="'+ze+'"')},Ht}(),F=new n.t([]),N=new d.B7,J=N.pipe((0,b.p)(function(Ht){return"resize"===Ht}));function ae(Ht){return F.getValue().find(function(ze){return ze.id===Ht})}function xe(Ht,ze){var Bt=Ye();if(!((Ht=Bt.find(function(Ge){return Ge.id===(Ht instanceof Y?Ht.id:Ht)}))instanceof Y))return null;delete ze.url;var Te=new Y(x({},Ht,ze));return Ae(Te),Te.needs_update&&j(Ht.id+"_updating",function(){return xe(Te,{})},16),Te}function Fe(Ht){return F.pipe((0,b.p)(function(ze){return!!ze.find(function(Bt){return Bt.id===Ht})}),(0,E.T)(function(ze){return ze.find(function(Bt){return Bt.id===Ht})}),function u(Ht,ze){return Bt=>Bt.lift(new I(Ht,ze))}())}function Ae(Ht){var ze=Ye().filter(function(Bt){return Bt.id!==Ht.id});ze.push(Ht),F.next(ze)}function Ye(){return F.getValue()}var qe,Ne,Me,pe,he,le,Ee,Xe=new n.t({}),xt={},dt=!1,Ct=!1,Qt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],_n=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],In=!1;function rn(Ht,ze,Bt){if(void 0===Bt&&(Bt=qe),!dt){Ct=!0;var Te=ae(Ht);if(Te){var Ge=L(ze),Tt={x:Math.max(0,Math.min(1,(Ge.x-Bt.x)/Te.box.width/Te.desired_zoom/Te.svg_ratio+Te.center.x)),y:Math.max(0,Math.min(1,(Ge.y-Bt.y)/Te.box.height/Te.desired_zoom/Te.svg_ratio+Te.center.y))};qe=Ge,xe(Te,{center:Tt,desired_center:Tt})}}}function $t(){v("INPUT","Ending pinch/pan..."),S("pan_start"),dt=!1,Ct=!1,pe&&window.removeEventListener("mousemove",pe),he&&window.removeEventListener("mouseup",he),le&&window.removeEventListener("touchmove",le),Ee&&window.removeEventListener("touchend",Ee),pe=he=le=Ee=Ne=null}window.addEventListener("blur",function(){return $t()});var q=function(Ht){try{return Promise.resolve(new Promise(function(ze){vn[Ht.id]||(vn[Ht.id]=[]),vn[Ht.id].push(ze),j("resize-"+Ht.id,function(){var Bt=Ht.element;if(!Bt)throw new Error("No element set on viewer");var Te=Bt.querySelector(".svg-viewer__view-container"),Ge=Bt.querySelector(".svg-viewer__svg-overlays"),Tt=Bt.querySelector("#"+Ht.id),Wt=Bt.querySelector(".svg-viewer"),We=Bt.querySelector(".svg-viewer__svg-output"),Pe=Bt.querySelector("iframe"),Ue=Wt?.getBoundingClientRect()||{},De=Te?.getBoundingClientRect()||{};if(!(Ge&&We&&Pe&&Te))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var rt,Qe,vt=Ue.height/Ue.width,et=(null==(rt=We.firstElementChild)||null==(Qe=rt.viewBox)?void 0:Qe.baseVal)||{},Re=et.height/et.width;We.firstElementChild&&(We.firstElementChild.style.width="200%");var Mt=(Ue.width-32)*Math.min(1,vt/Re),nt={width:Mt,height:Mt*Re};Ge.style.width=et.width+"px",Ge.style.height=et.height+"px",Te.style.width=et.width+"px",Te.style.height=et.height+"px",Pe.style.width=et.width+"px",Pe.style.height=et.height+"px",Pe.width=""+et.width,Pe.height=""+et.height;var Ze=Math.min(Ue.height/et.height,Ue.width/et.width),qt=Tt?.getBoundingClientRect(),Vt=Ge?.getBoundingClientRect(),dn={x:1,y:1};qt&&Vt&&(dn={x:Vt.width*Ze*.975/qt.width,y:Vt.height*Ze*.975/qt.height}),Kt[Ht.id]="";var xn=xe(Ht,{ratio:nt.height/nt.width,svg_ratio:Ze,box:De,content_ratio:dn});return xn?(Ht=xn,Promise.resolve(an(Ht).catch(function(Wn){return console.warn(Wn),!1})).then(function(Wn){Wn&&(vn[Ht.id].forEach(function(Xn){return Xn()}),vn[Ht.id]=[])})):Promise.resolve()}catch(Wn){return Promise.reject(Wn)}})},100)}))}catch(ze){return Promise.reject(ze)}},Ie={},se={},fe={},Ke={},It={},Kt={},vn={};function an(Ht){return Ie[Ht.id]||(Ie[Ht.id]=new Promise(function(ze){var Bt=requestAnimationFrame(function(){if(Ie[Ht.id]){var Te=Ht.element;if(!Te)throw new Error("No element set on viewer");var Ge=Te.querySelector("style"),Tt="",Wt=Te.querySelector(".svg-viewer__render-container"),We="scale("+Ht.zoom*Ht.svg_ratio+")";if(!Wt||!Ge)throw new Error("Viewer is not setup yet.");var Pe=100*Ht.zoom*Ht.svg_ratio*(Ht.center.x-.5),Ue=100*Ht.zoom*Ht.svg_ratio*(Ht.center.y-.5);Wt.style.transform=(Ht.use_gpu?"translate3d("+Pe+"%, "+Ue+"%, 0)":"translate("+Pe+"%, "+Ue+"%)")+" "+We+" rotate("+Ht.rotate+"deg)",Tt+="#"+Ht.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+Ht.rotate+"deg) scale("+1/Ht.zoom*(1/Ht.svg_ratio)+"); }",Ge.innerHTML=Tt+="#"+Ht.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+Ht.rotate+"deg); height: 100%; width: 100%; }",function De(rt){try{if((JSON.stringify(x({},rt.styles))||"").localeCompare(Kt[rt.id])){var Qe=rt.element;if(!Qe)throw new Error("No element set on viewer");var vt=Qe.querySelector(".svg-viewer__iframe");if(!vt)throw new Error("No iframe created for viewer");if(!vt.contentWindow)return vt.onload=function(){setTimeout(function(){return De(rt)},50),setTimeout(function(){return De(rt)},500)},Promise.resolve();var et={};et["[empty"+Math.floor(999999*Math.random())+"]"]={};var Re=bt(x({},rt.styles,et));vt.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Re}),"*")}return Promise.resolve()}catch(Mt){return Promise.reject(Mt)}}(Ht),function(De){var rt=JSON.stringify(De.focus);if(De.focus&&rt!==xt[De.id]){var Qe,vt=Math.max(.5,Math.min(10,De.focus.zoom_level||1));Qe="string"==typeof De.focus.location?function G(Ht,ze,Bt){var Te,Ge,Tt=null==(Te=Ht.element)?void 0:Te.querySelector(".svg-viewer__svg-overlays"),Wt=null==(Ge=Ht.element)?void 0:Ge.querySelector("svg"),We=Wt?.querySelector("#"+A(ze));if(We&&Wt&&Tt){var Pe=Bt||Tt?.getBoundingClientRect()||{},Ue=We?.getBoundingClientRect()||{};return{x:(Ue.left+Ue.width/2-Pe.left)/Pe.width,y:(Ue.top+Ue.height/2-Pe.top)/Pe.height}}return v("DOM","Unable to find element with ID "+ze,void 0,"warn"),{x:-1,y:-1}}(De,De.focus.location):De.focus.location,xt[De.id]=rt;var et={x:1-Qe.x,y:1-Qe.y};xe(De,{center:et,desired_center:et,zoom:vt,desired_zoom:vt})}}(Ht),Et(Ht),delete Ie[Ht.id],cancelAnimationFrame(Bt),ze()}})})),Ie[Ht.id]}function Et(Ht){var ze,Bt,Te=null==(ze=Ht.element)?void 0:ze.querySelector("svg");if(Object.keys(Ht.mappings||{}).length){var Ge=null==(Bt=Ht.element)?void 0:Bt.querySelector(".svg-viewer__svg-overlays");if(Ge&&Te){if(!Ge.getBoundingClientRect().width)return j(Ht.id+"|render-overlays",function(){return Et(Ht)},50);requestAnimationFrame(function(){(function(Tt){var Wt=Tt.labels.filter(function(xn){return!xn.zoom_level||xn.zoom_level<=Tt.zoom}),We=JSON.stringify(Wt);if(We!==fe[Tt.id]){var Pe,Ue=null==(Pe=Tt.element)?void 0:Pe.querySelector(".svg-viewer__svg-overlays");if(!Ue)return;Array.from(Ue.querySelectorAll("[label]")).filter(function(xn){return xn.parentNode}).forEach(function(xn){return Ue.removeChild(xn)});for(var De,rt=B(Wt);!(De=rt()).done;){var Qe,vt,et,Re=De.value,Mt={x:0,y:0},nt="~Nothing~";"string"==typeof Re.location?(Mt=Tt.mappings[Re.location]||Mt,nt="#"+Re.location):(null!=(Qe=Re.location)&&Qe.y||null!=(vt=Re.location)&&vt.x)&&(nt="loc-"+(Mt=Re.location).x+"-"+Mt.y);var Ze=document.createElement("div");Ze.setAttribute("label","true"),Ze.classList.add("svg-viewer__svg-overlay-item"),Ze.classList.add("label"),Ze.style.top=100*Mt.y+"%",Ze.style.left=100*Mt.x+"%";var qt,Vt=document.createElement("div"),dn=document.createElement("label");dn.classList.add("svg-viewer__label"),dn.setAttribute("for",nt),null!=(et=Re.css_class)&&et.length&&(qt=dn.classList).add.apply(qt,Re.css_class),Re.z_index&&(Ze.style.zIndex=""+Re.z_index),dn.textContent=Re.content,Vt.appendChild(dn),Ze.appendChild(Vt),Ue.appendChild(Ze)}v("RENDER","Added "+Tt.labels.length+" labels to view."),fe[Tt.id]=We}})(Ht),function(Tt){var Wt=JSON.stringify(Tt.actions.map(function(Re){return x({},Re,{callback:""})}));if(Wt!==It[Tt.id]){var We,Pe=null==(We=Tt.element)?void 0:We.querySelector(".svg-viewer__svg-overlays");if(!Pe)return;Array.from(Pe.querySelectorAll(".action-zone")).filter(function(Re){return Re.parentNode&&Pe.contains(Re.parentNode)}).forEach(function(Re){return Pe.removeChild(Re)});for(var Ue,De=B(Tt.actions);!(Ue=De()).done;){var rt=Ue.value;if(rt.action&&rt.id&&"*"!==rt.id&&!1!==rt.zone){var Qe=document.createElement("button");Qe.id=""+rt.id;var vt=Tt.mappings[rt.id]||{x:0,y:0},et=Tt.mappings[rt.id]||{w:0,h:0};Qe.classList.add("svg-viewer__svg-overlay-item"),Qe.classList.add("action-zone"),Qe.style.top=100*vt.y+"%",Qe.style.left=100*vt.x+"%",(et.w||et.h)&&(Qe.style.width=100*et.w+"%",Qe.style.height=100*et.h+"%",Qe.style.transform="translate(-50%, -50%)"),Pe.appendChild(Qe)}}It[Tt.id]=Wt}}(Ht),function(Tt){var Wt=JSON.stringify(Tt.features.map(function(qt){return x({},qt,{content:"",data:te(qt.data)})}));if(Wt!==Ke[Tt.id]){var We,Pe=null==(We=Tt.element)?void 0:We.querySelector(".svg-viewer__svg-overlays");if(!Pe)return console.log("Unable to get overlay element.");var Ue=Pe.querySelectorAll(".feature"),De=[];window.overlay_el=Pe,Ue.forEach(function(qt){if(qt.parentNode){var Vt=qt.getAttribute("track-id");"none"!==Vt&&Tt.features.find(function(dn){return dn.track_id===Vt})?De.push(qt):Pe.removeChild(qt)}});for(var rt,Qe=B(Tt.features);!(rt=Qe()).done;){var vt,et,Re=rt.value;if(Re.content&&!De.includes(Re.content)){var Mt={x:0,y:0},nt={w:0,h:0},Ze=document.createElement("button");"string"==typeof Re.location?(Ze.id=""+Re.location,Mt=Tt.mappings[Re.location]||Mt,(Re.hover||Re.full_size)&&(nt=Tt.mappings[Re.location]||nt)):(null!=(vt=Re.location)&&vt.y||null!=(et=Re.location)&&et.x)&&(Mt=Re.location),(Mt.x||Mt.y)&&(Ze.classList.add("svg-viewer__svg-overlay-item"),Ze.setAttribute("feature","true"),Ze.setAttribute("track-id",""+(Re.track_id||"none")),Ze.classList.add("feature"),Re.z_index&&(Ze.style.zIndex=""+Re.z_index),Re.hover&&Ze.classList.add("svg-viewer__svg-overlay-item__hover"),Ze.style.top=100*Mt.y+"%",Ze.style.left=100*Mt.x+"%",nt.w||nt.h?(Ze.style.width=100*nt.w+"%",Ze.style.height=100*nt.h+"%"):(Ze.style.width="1%",Ze.style.height=1/Tt.ratio+"%"),Ze.style.transform="translate(-50%, -50%)",Re.content instanceof Node&&Ze.appendChild(Re.content),Pe.appendChild(Ze))}}v("RENDER","Added "+Tt.features.length+" features to view."),Ke[Tt.id]=Wt}}(Ht)})}}}function bt(Ht){var ze="";for(var Bt in Ht)if(Ht[Bt]){var Te="";for(var Ge in Ht[Bt])Ht[Bt][Ge]&&(Te+=Ge+": "+Ht[Bt][Ge]+"; ");ze+="svg "+Bt.split(" ").map(function(Tt){return A(Tt)}).join(" ")+" { "+Te+" } "}return ze}w("on_resize",J.subscribe(function(){for(var Ht,ze=function(){var Te=Ht.value;try{j("resize-"+Te.id,function(){return q(Te)})}catch(Ge){console.warn(Ge)}},Bt=B(Ye());!(Ht=Bt()).done;)ze()}));var Yt=function(Ht){try{var ze=function(Ge){return w((Bt=new Y(x({},Ht,{svg_data:Ge}))).id+"-render",Fe(Bt.id).subscribe(function(Tt){return an(Tt).catch(function(Wt){return console.warn(Wt)})})),Ae(Bt),Promise.resolve(function(Tt){try{var Wt,We,Pe=Tt.element;if(!Pe)throw new Error("No element set on viewer");var Ue=document.createElement("div"),De=document.createElement("style"),rt=document.createElement("div"),Qe=document.createElement("div"),vt=document.createElement("div"),et=document.createElement("div"),Re=document.createElement("iframe");Qe.appendChild(vt),Qe.appendChild(et),Ue.appendChild(De),Ue.appendChild(rt),rt.appendChild(Qe),Ue.classList.add("svg-viewer"),Ue.id=Tt.id,De.id=Tt.id,Re.id="svg-display",Re.classList.add("svg-viewer__iframe"),rt.classList.add("svg-viewer__view-container"),Qe.classList.add("svg-viewer__render-container"),et.classList.add("svg-viewer__svg-overlays"),vt.classList.add("svg-viewer__svg-output"),vt.id="svg-output",vt.innerHTML=Tt.svg_data;var Mt=(null==(Wt=vt.firstElementChild)||null==(We=Wt.viewBox)?void 0:We.baseVal)||{};rt.style.width=Mt.width+"px",rt.style.height=Mt.height+"px",et.style.width=Mt.width+"px",et.style.height=Mt.height+"px",et.appendChild(Re),Pe.appendChild(Ue);var nt=rt?.getBoundingClientRect()||{},Ze=xe(Tt,{box:nt});return Ze?(Tt=Ze,Promise.resolve(function qt(Vt){return new Promise(function(dn){requestAnimationFrame(function(){var xn,Wn=null==(xn=Vt.element)?void 0:xn.querySelector("svg");if(!Wn||!Wn.clientWidth)return j(Vt.id+"-setup",function(){return qt(Vt).then(function(ti){return dn()})},100);var Xn=se[Vt.url]||function(ti){if(!ti)return{};var Ii={},yi=ti?.getBoundingClientRect()||{},ss=ti.querySelectorAll("[id]");return ti.id="svg-viewer-root",Ii["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},ss.forEach(function(ys){var $i=ys?.getBoundingClientRect()||{};Ii[ys.id]={x:Math.floor(($i.left+$i.width/2-yi.left)/yi.width*1e5)/1e5,y:Math.floor(($i.top+$i.height/2-yi.top)/yi.height*1e5)/1e5,w:Math.floor($i.width/yi.width*1e5)/1e5,h:Math.floor($i.height/yi.height*1e5)/1e5}}),Ii}(Wn);se[Vt.url]=Xn,xe(Vt,{mappings:Xn}),Wn.style.display="none",function(ti){try{var Ii=JSON.stringify(x({},ti.styles))||"";if(Ii.localeCompare(Kt[ti.id])){var yi,ss,ys=ti.element;if(!ys)throw new Error("No element set on viewer");var $i=ys.querySelector(".svg-viewer__iframe"),mn=ys.querySelector(".svg-viewer__svg-output");if(!$i)throw new Error("No iframe created for viewer");var gt=(null==(yi=mn.firstElementChild)||null==(ss=yi.viewBox)?void 0:ss.baseVal)||{},pt=""+ti.svg_data;pt=/<svg[^>]*width="[^>]*>/.test(pt)?pt:pt.replace("<svg",'<svg width="'+gt.width+'" height="'+gt.height+'" ');var St=function(bn){for(var st=2,it="",Gt=bn.length,Se=0,At=0;At<Gt;At++)At>0&&4*At/3%76==0&&(it+="\r\n"),Se|=bn[At]<<(16>>>(st=At%3)&24),2!==st&&bn.length-At!=1||(it+=String.fromCodePoint(ie(Se>>>18&63),ie(Se>>>12&63),ie(Se>>>6&63),ie(63&Se)),Se=0);return it.substr(0,it.length-2+st)+(2===st?"":1===st?"=":"==")}(function(bn){for(var st,it,Gt=bn.length,Se=0,At=0;At<Gt;At++){var ne;(it=null!=(ne=bn.codePointAt(At))?ne:0)>65536&&At++,Se+=it<128?1:it<2048?2:it<65536?3:it<2097152?4:it<67108864?5:6}st=new Uint8Array(Se);for(var ke=0,He=0;ke<Se;He++){var Dt;(it=null!=(Dt=bn.codePointAt(He))?Dt:0)<128?st[ke++]=it:it<2048?(st[ke++]=192+(it>>>6),st[ke++]=128+(63&it)):it<65536?(st[ke++]=224+(it>>>12),st[ke++]=128+(it>>>6&63),st[ke++]=128+(63&it)):it<2097152?(st[ke++]=240+(it>>>18),st[ke++]=128+(it>>>12&63),st[ke++]=128+(it>>>6&63),st[ke++]=128+(63&it),He++):it<67108864?(st[ke++]=248+(it>>>24),st[ke++]=128+(it>>>18&63),st[ke++]=128+(it>>>12&63),st[ke++]=128+(it>>>6&63),st[ke++]=128+(63&it),He++):(st[ke++]=252+(it>>>30),st[ke++]=128+(it>>>24&63),st[ke++]=128+(it>>>18&63),st[ke++]=128+(it>>>12&63),st[ke++]=128+(it>>>6&63),st[ke++]=128+(63&it),He++)}return st}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+bt(x({},ti.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+pt+"</body></html>"));$i.src="data:text/html;base64,"+St,Kt[ti.id]=Ii}Promise.resolve()}catch(bn){return Promise.reject(bn)}}(Vt),Et(Vt),dn()})})}(Tt)).then(function(){(function(qt,Vt){void 0===Vt&&(Vt=Qt);var dn=Xe.getValue(),xn=qt.element;dn[qt.id]&&dn[qt.id].unsubscribe();for(var Wn,Xn=[],ti=function(){var yi=Wn.value;Xn.push((0,h.R)(xn,yi).pipe((0,E.T)(function(ss){return{id:qt.id,type:yi,event:ss}})))},Ii=B(Vt);!(Wn=Ii()).done;)ti();dn[qt.id]=g.h.apply(void 0,Xn).subscribe(function(yi){var ss,pt,St,ys=yi.id,$i=yi.type,mn=yi.event;switch(_n.includes($i)&&mn.preventDefault(),function(gt){var pt,St=gt.type,bn=gt.event,st=ae(gt.id);if(st&&null!=(pt=st.actions)&&pt.length){var it=st.actions.sort(function(Gt,Se){return(Se.priority||0)-(Gt.priority||0)}).find(function(Gt){var Se;return Gt.action.includes(St)&&("*"===Gt.id||Gt.id===(null==(Se=bn.target)?void 0:Se.id))});it&&it.callback(bn,O(st,L(bn)))}}(yi),$i){case"touchstart":case"mousedown":(null==(ss=mn.touches)?void 0:ss.length)>=2?function(gt,pt){v("INPUT","Starting pinching..."),le&&window.removeEventListener("touchmove",le);var St=ae(gt);if(dt=!0,St&&!St.options.disable_zoom){var bn=[{x:pt.touches[0].clientX,y:pt.touches[0].clientY},{x:pt.touches[1].clientX,y:pt.touches[1].clientY}],st=bn.map(function(Gt){return O(St,Gt)}),it={x:(st[0].x+st[1].x)/2,y:(st[0].y+st[1].y)/2};Ne={x:1-it.x,y:1-it.y},Me=U(bn[0],bn[1]),pt instanceof MouseEvent||(le=function(Gt){return Gt.touches.length>=2?function(Se,At,ne){void 0===ne&&(ne=Me);var ke=ae(Se);if(ke&&!ke.options.disable_zoom){var He=[{x:At.touches[0].clientX,y:At.touches[0].clientY},{x:At.touches[1].clientX,y:At.touches[1].clientY}],Dt=U(He[0],He[1]),hn=Math.max(.5,Math.min(10,ke.zoom*Dt/ne)),Bn=hn!=ke.zoom?$(ke.center,Ne,1-ke.zoom/hn):ke.center;Me=Dt,xe(ke,{zoom:hn,center:Bn,desired_zoom:hn,desired_center:Bn})}}(gt,Gt,Me):""},window.addEventListener("touchmove",le))}}(ys,mn):function(gt,pt){if(!dt){v("INPUT","Starting panning...");var St=ae(gt);pe&&window.removeEventListener("mousemove",pe),pe&&window.removeEventListener("mouseup",he),le&&window.removeEventListener("touchmove",le),le&&window.removeEventListener("touchend",Ee),St&&!St.options.disable_pan&&(qe=L(pt),pt instanceof MouseEvent?(pe=function(bn){return rn(gt,bn,qe)},he=function(){return $t()},window.addEventListener("mousemove",pe),window.addEventListener("mouseup",he)):(le=function(bn){return rn(gt,bn,qe)},Ee=function(){return $t()},window.addEventListener("touchmove",le),window.addEventListener("touchend",Ee)),j("pan_start",function(){return Ct=!0},200))}}(ys,mn);break;case"touchend":case"mouseup":Ct||dt||(pt=mn,(St=ae(ys))&&v("INPUT","Clicked:",O(St,L(pt)))),$t();break;case"mousewheel":case"wheel":!function(gt,pt){var St=ae(gt);if(St){var bn=Math.min(10,Math.max(.5,St.zoom*(1+(pt.deltaY>=0?-.02:.02)))),st=O(St,L(pt));Ne={x:1-st.x,y:1-st.y},j("clear_action_start",function(){return Ne=null});var it=bn!=St.zoom?$(St.center,Ne,1-St.zoom/bn):St.center;xe(St,{zoom:bn,center:it,desired_zoom:bn,desired_center:it})}}(ys,mn)}}),Xe.next(dn)})(Tt),In||(window.addEventListener("resize",function(){N.next("resize")}),window.addEventListener("blur",function(){return $t()}),In=!0),q(Tt)})):Promise.resolve()}catch(qt){return Promise.reject(qt)}}(Bt)).then(function(){return Bt.id})},Bt=Ye().find(function(Ge){return Ge.url===Ht.url});if(Bt)return Promise.resolve(Bt.id);var Te=Ht.svg_data;return Promise.resolve(Te?ze(Te):Promise.resolve(function(Ge){void 0===Ge&&(Ge="");try{var Tt=new Headers;if(Ge.startsWith(location.origin)||Ge.startsWith("/"))for(var Wt in nn)Tt.append(Wt,nn[Wt]);return Xt[Ge]?Promise.resolve(Xt[Ge]):Promise.resolve(fetch(Ge,{headers:Tt}).catch(function(We){return v("SVG VIEWER","Failed to load map",We,"error"),{text:function(){return Promise.resolve("")}}})).then(function(We){return Promise.resolve(We.text()).then(function(Pe){return Xt[Ge]=Pe,Pe})})}catch(We){return Promise.reject(We)}}(Ht.url)).then(ze))}catch(Ge){return Promise.reject(Ge)}},Xt={},nn={};function yn(Ht){for(var ze in Ht)nn[ze.toLowerCase()]=Ht[ze]}function Mn(Ht,ze){return xe(Ht,ze)}function Ln(Ht){var ze,Bt=ae(Ht);if(Bt){var Te,Ge,Tt,Wt=null==(ze=Bt.element)?void 0:ze.querySelector(".svg-viewer");Wt&&(Bt.element.removeChild(Wt),Te=Bt,Ge=Ye().filter(function(We){return We.id!==Te.id}),F.next(Ge),Tt=""+Ht,Object.keys(P).filter(function(We){return We.includes(Tt)}).forEach(function(We){return m(We)}))}}function Fn(){var Ht=document.getElementById("svg-viewer-global");Ht||((Ht=document.createElement("style")).id="svg-viewer-global",Ht.innerHTML=$n,document.head.appendChild(Ht),v("Styles","Added global viewer styles to document"))}var $n="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},1038:(Ot,ve,s)=>{"use strict";function y(Q,ee,$e,lt){return new($e||($e=Promise))(function(on,An){function Yn(as){try{ii(lt.next(as))}catch(Us){An(Us)}}function Oi(as){try{ii(lt.throw(as))}catch(Us){An(Us)}}function ii(as){as.done?on(as.value):function Jt(on){return on instanceof $e?on:new $e(function(An){An(on)})}(as.value).then(Yn,Oi)}ii((lt=lt.apply(Q,ee||[])).next())})}s.d(ve,{cor:()=>mr,Pdm:()=>bs,kMc:()=>fa,Kz4:()=>zi,kup:()=>io,jv5:()=>De,L2z:()=>Ei,omv:()=>Ge,yHY:()=>Ur,JtY:()=>zo,f_4:()=>Uu,XTx:()=>ea,vWy:()=>nr,TMs:()=>Ts,sc7:()=>Mr,WsZ:()=>Xi,rig:()=>Br,XYg:()=>tr,F6F:()=>jo,bEY:()=>Ir,yJg:()=>jr,smE:()=>ce,BbB:()=>Tn,Kfl:()=>ci,n1$:()=>Gd,smM:()=>oa,Be_:()=>Js,BCG:()=>Wi,mjH:()=>Dr,bpY:()=>Rn,V4n:()=>Kn,VLL:()=>md,_Ni:()=>Sc,ShT:()=>Qn,D58:()=>Un,TKu:()=>x_}),"function"==typeof SuppressedError&&SuppressedError;var J=s(4526),ae=s(4421),fe=s(5817),Ke=s(4337),It=s(4787);function Kt(Q,ee={}){const{selector:$e}=ee,lt=function Ae(Q,ee){var $e={};for(var lt in Q)Object.prototype.hasOwnProperty.call(Q,lt)&&ee.indexOf(lt)<0&&($e[lt]=Q[lt]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Jt=0;for(lt=Object.getOwnPropertySymbols(Q);Jt<lt.length;Jt++)ee.indexOf(lt[Jt])<0&&Object.prototype.propertyIsEnumerable.call(Q,lt[Jt])&&($e[lt[Jt]]=Q[lt[Jt]])}return $e}(ee,["selector"]);return new fe.c(Jt=>{const on=new AbortController,An=on.signal;let Yn=!0,Oi=!1;const ii=new Ke.y;let as;if(ii.add(()=>{Oi=!0,Yn&&on.abort()}),lt){if(lt.signal)if(lt.signal.aborted)on.abort();else{const Us=lt.signal,Vs=()=>{An.aborted||on.abort()};Us.addEventListener("abort",Vs),ii.add(()=>Us.removeEventListener("abort",Vs))}as=Object.assign({},lt,{signal:An})}else as={signal:An};return fetch(Q,as).then(Us=>{$e?ii.add((0,It.H)($e(Us)).subscribe(Vs=>Jt.next(Vs),Vs=>{Yn=!1,Oi||Jt.error(Vs)},()=>{Yn=!1,Jt.complete()})):(Yn=!1,Jt.next(Us),Jt.complete())}).catch(Us=>{Yn=!1,Oi||Jt.error(Us)}),ii})}var vn=s(8728),Pt=s(9493),an=s(9090),Et=s(5286),bt=s(3004);class Xt{constructor(ee,$e){this.notifier=ee,this.source=$e}call(ee,$e){return $e.subscribe(new nn(ee,this.notifier,this.source))}}class nn extends bt.gn{constructor(ee,$e,lt){super(ee),this.notifier=$e,this.source=lt}error(ee){if(!this.isStopped){let $e=this.errors,lt=this.retries,Jt=this.retriesSubscription;if(lt)this.errors=void 0,this.retriesSubscription=void 0;else{$e=new Et.B7;try{const{notifier:on}=this;lt=on($e)}catch(on){return super.error(on)}Jt=(0,bt.tS)(lt,new bt.zA(this))}this._unsubscribeAndRecycle(),this.errors=$e,this.retries=lt,this.retriesSubscription=Jt,$e.next(ee)}}_unsubscribe(){const{errors:ee,retriesSubscription:$e}=this;ee&&(ee.unsubscribe(),this.errors=void 0),$e&&($e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:ee}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=ee,this.source.subscribe(this)}}var yn=s(8456),Mn=s(993),Ln=s(1299),Fn=s(9928),$n=s(5006),Ht=s(416);function ze(Q,ee,$e,lt="debug",Jt){if(window.debug){const An=["color: #0288D1",`color:${Jt||"#009688"}`,"color: default"];$e?Bt()?console[lt](`%c[PlaceOS]%c[${Q}] %c${ee}`,...An,$e):console[lt](`[PlaceOS][${Q}] ${ee}`,$e):Bt()?console[lt](`%c[PlaceOS]%c[${Q}] %c${ee}`,...An):console[lt](`[PlaceOS][${Q}] ${ee}`)}}function Bt(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function Te(){var Q,ee,$e,lt,Jt,on;const An=null!==(Q=window.location)&&void 0!==Q&&Q.hash?null===(ee=window.location)||void 0===ee?void 0:ee.hash.slice(1):(null===($e=window.location)||void 0===$e?void 0:$e.href.split("#")[1])||"";let Yn=null!==(lt=window.location)&&void 0!==lt&&lt.search?null===(Jt=window.location)||void 0===Jt?void 0:Jt.search.slice(1):(null===(on=window.location)||void 0===on?void 0:on.href.split("?")[1])||"",Oi={};if(An)if(An.indexOf("?")>=0){const as=An.split("?");Oi=Ge(as[0]),Yn||(Yn=as[1])}else Oi=Ge(An);let ii={};return Yn&&(ii=Ge(Yn)),Object.assign(Object.assign({},Oi),ii)}function Ge(Q){const ee={},$e=Q.split("&");for(const lt of $e){const Jt=lt.split("=");Jt[1]&&(ee[decodeURIComponent(Jt[0])]=decodeURIComponent(Jt[1]))}return ee}const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function We(Q){var ee,$e,lt,Jt,on;const An=((null===(ee=window.location)||void 0===ee?void 0:ee.hash)||"").replace(new RegExp(`${Q}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),Yn=((null===($e=window.location)||void 0===$e?void 0:$e.search)||"").replace(new RegExp(`${Q}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(lt=window.history)&&void 0!==lt&&lt.replaceState&&(null===(Jt=window.history)||void 0===Jt||Jt.replaceState(null,"",`${null===(on=window.location)||void 0===on?void 0:on.pathname}${An}${Yn}`))}function De(Q,ee){for(const $e in Q)Q.hasOwnProperty($e)&&ee.indexOf(Q[$e])>=0&&delete Q[$e];return Q}class et{abort(){ze("Stub","Aborted")}}function Re(Q){let ee="";if(Q)for(const $e in Q)Q.hasOwnProperty($e)&&null!=Q[$e]&&(ee+=`${ee?"&":""}${$e}=${encodeURIComponent(Q[$e])}`);return ee}const Mt={};function Vt(Q,ee,$e=300){if(!(Q&&ee&&ee instanceof Function))throw new Error(Q?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");dn(Q),Mt[Q]=setTimeout(()=>{ee(),delete Mt[Q]},$e)}function dn(Q){Mt[Q]&&(clearTimeout(Mt[Q]),delete Mt[Q])}const Ii={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var yi=s(6299),ss=s(3368),ys=s(9255),$i=s(1113);let St,bn,pt={};const st={};let it="",Gt="";const Se=new Fn.t(""),At=new Fn.t("");let ne="/api/engine/v2";const ke=new Fn.t(!1),He=ke.asObservable();let Dt=0;function hn(){var Q,ee;return`${pt.secure||(null===(Q=window.location)||void 0===Q?void 0:Q.protocol.indexOf("https"))>=0?"https:":"http:"}//${pt.host||(null===(ee=window.location)||void 0===ee?void 0:ee.host)}${Bn()}`}function Bn(){return"ACA Engine"===pt.version?"/control/api":ne}function Ei(){return it}function Wi(Q,ee=!0){St.setItem(`${it}_x-api-key`,`${Q}`),St.setItem("trusted",`${ee}`),function Ji(Q,ee=(0,ss.L)(new Date,2).valueOf()){pt.ignore_api_key&&"x-api-key"===Q||(St.setItem(`${it}_expires_at`,`${ee}`),St.setItem(`${it}_access_token`,Q))}("x-api-key",(0,yi.e)(new Date,5).valueOf())}function zi(){return pr("x-api-key",!1)||""}function Qn(Q=!0){if(pt.mock)return"mock-token";if(!St)return"";if(zi()&&!pt.ignore_api_key)return"x-api-key";const ee=St.getItem(`${it}_expires_at`)||"",$e=Se.getValue();return(0,ys.Y)(+ee,new Date)&&(ze("Auth","Token expired. Requesting new token..."),ea(),st.load_authority||(Dt+=1,Vt("re-authorise",()=>ua().catch(lt=>ze("Auth",`Failed to get token: ${lt}`)),200*Math.min(20,Dt))),!Q)?"":$e||St.getItem(`${it}_access_token`)||""}function Js(){return At.getValue()||St.getItem(`${it}_refresh_token`)||""}function Gi(){var Q;return pt.host||(null===(Q=window.location)||void 0===Q?void 0:Q.host)}function io(){return bn}function Mr(){return ke.getValue()}function Ts(){return!!pt.mock}function tr(){return He}function Zs(){return"true"===pr("trust")||"true"===pr("trusted")}function nr(){return!!zi()&&!pt.ignore_api_key||"true"===pr("fixed_device")}function pr(Q,ee=!0){let lt=Te()[Q];if(St){const Jt=`${Ei()}_${Q}`;lt=lt||St.getItem(Jt)||St.getItem(Q)||"",ee&&St.setItem(Jt,`${lt}`)}return lt}function Dr(Q){var ee;return pt=Q||pt,pt.token_header=null!==(ee=pt.token_header)&&void 0!==ee?ee:function Qe(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=et),St="session"===pt.storage?sessionStorage:localStorage,it=Ht.VV.hashStr(pt.redirect_uri,!1),$r()}function Nr(){return ze("Auth","Refreshing authorty."),bn=void 0,$r()}function ea(){ze("Auth","Invalidating tokens."),St.removeItem(`${it}_access_token`),St.removeItem(`${it}_expires_at`),Se.getValue()&&Se.next("")}function ua(Q,ee=bn){return st.authorise||(st.authorise=new Promise(($e,lt)=>{if(!ee)return delete st.authorise,lt("Authority is not loaded");ze("Auth","Authorising user...");const Jt=()=>{if(Qn(!1))ze("Auth","Valid token found."),delete st.authorise,$e(Qn());else{const on=[()=>{ze("Auth","Successfully generated token."),$e(Qn()),delete st.authorise},()=>{ze("Auth","Failed to generate token."),lt("Failed to generate token"),setTimeout(()=>delete st.authorise,200)}];pt&&"password"===pt.auth_type?(ze("Auth","Logging in with credentials."),function Ks(Q){return vs(function vi(Q){return`${Q.token_uri||"/auth/token"}?${Re({grant_type:"password",client_id:it,client_secret:Q.client_secret,redirect_uri:Q.redirect_uri,authority:bn?.id,scope:Q.scope,username:Q.username,password:Q.password})}`}(Q))}(pt).then(...on),Dt=0):Gt||Js()?(ze("Auth","Generating token with "+(Gt?"code":"refresh token")),ji().then(...on),Dt=0):ee.session?(ze("Auth","Users has session. Authorising application..."),function Do(Q){return y(this,void 0,void 0,function*(){var ee;const $e=function jt(Q){const ee=function go(){const Q=function Wt(Q=40){let ee="";for(let $e=0;$e<Q;$e++)ee+=Tt.charAt(Math.floor(Math.random()*Tt.length));return ee}();return St.setItem(`${it}_nonce`,Q),Q}();Q=Q?`${ee};${Q}`:ee;const $e=!!pt&&(pt.auth_uri||"").indexOf("?")>=0,lt=(pt?pt.auth_uri:null)||"/auth/oauth/authorize",Jt=Zs()||"auth_code"===pt.auth_type?"code":"token";let on=`${lt}${$e?"&":"?"}response_type=${encodeURIComponent(Jt)}&client_id=${encodeURIComponent(it)}&state=${encodeURIComponent(Q)}&redirect_uri=${encodeURIComponent(pt.redirect_uri)}&scope=${encodeURIComponent(pt.scope)}`;if("auth_code"===pt.auth_type){const{challenge:An,verify:Yn}=function kn(Q=43){const ee=new Array(Q).fill(0).map(()=>un[Math.floor(Math.random()*un.length)]).join(""),$e=Mn.Kp(Mn.Cw(ee));return{challenge:ee,verify:Mn.if(Ln.hash($e)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${it}_challenge`,An),on+="&code_challenge_method=S256",on+=`&code_challenge=${Yn}`}return on}(Q);if(pt.use_iframe)return function Ta(Q){return st.iframe_auth||(st.iframe_auth=new Promise((ee,$e)=>{ze("Auth","Authorizing in an iFrame...");const lt=document.createElement("iframe");lt.style.position="absolute",lt.style.top="0",lt.style.left="0",lt.style.height="1px",lt.style.width="1px",lt.style.zIndex="-1",lt.id="place-authorize",lt.src=`${Q}`;const Jt=on=>{var An;if(on.origin===(null===(An=window.location)||void 0===An?void 0:An.origin)&&"place-os"===on.data.type){const Yn=on.data;if(ze("Auth","Received credentials from iFrame..."),document.body.removeChild(lt),dn("iframe_auth"),window.removeEventListener("message",Jt),delete st.iframe_auth,Yn.token)return ee(),$s(Object.assign({access_token:Yn.token},Yn));Gt=Yn.code||"",ji().then(Oi=>ee(Oi),Oi=>$e(Oi))}};Vt("iframe_auth",()=>{ze("Auth","Unable to resolve iFrame after 15 seconds..."),$e()},15e3),window.addEventListener("message",Jt),lt.onerror=on=>{ze("Auth","iFrame error.",on),delete st.iframe_auth,$e()},document.body.appendChild(lt)})),st.iframe_auth}($e);null===(ee=window.location)||void 0===ee||ee.assign($e)})}(Q).then(...on)):(ze("Auth","No user session"),ta(ee),lt("No user session"),setTimeout(()=>delete st.authorise,200))}};(function ir(){return st.check_token||(st.check_token=new Promise((Q,ee)=>y(this,void 0,void 0,function*(){Qn()?(ze("Auth","Valid token found."),Q(Qn())):(ze("Auth","No token. Checking URL for auth credentials..."),(yield function Ve(){return st.check_params||(st.check_params=new Promise(Q=>{ze("Auth","Checking for auth parameters...");let ee=Te();if((!ee||Object.keys(ee).length<=0)&&sessionStorage&&(ee=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),ee&&(ee.code||ee.access_token||ee.refresh_token)){ee.code&&(Gt=ee.code,We("code")),ee.refresh_token&&(St.setItem(`${it}_refresh_token`,ee.refresh_token),We("refresh_token"));const $e=St.getItem(`${it}_nonce`)||"",lt=(ee.state||"").split(";");We("state"),We("token_type"),$e===lt[0]?($s(ee),Q(!!ee.access_token)):Q(!1)}else Q(!1);Vt("check_params_promise",()=>delete st.check_params,50)})),st.check_params}())?Q(!0):ee()),delete st.check_token}))),st.check_token})().then(Jt,Jt)})),st.authorise}function Br(){const Q=()=>{for(let $e=0;$e<St.length;$e++){const lt=St.key($e);lt&&lt.indexOf(it)>=0&&St.removeItem(lt)}const ee=bn?bn.logout_url:"/logout";setTimeout(()=>{var $e;return null===($e=window.location)||void 0===$e?void 0:$e.assign(ee)},300),ke.next(!1)};(function Ki(){return st.revoke_token||(st.revoke_token=new Promise((Q,ee)=>{ze("Auth","Revoking token...");const lt=Jt=>{ze("Auth","Error revoking token.",Jt),ee(Jt),delete st.revoke_token};Kt(`${pt.token_uri||"/auth/token"}?token=${Qn()}`,{method:"POST"}).subscribe(Jt=>{if(!Jt.ok)return lt(Jt);ze("Auth","Successfully revoked token."),Se.next(""),At.next(""),St.removeItem(`${it}_access_token`),St.removeItem(`${it}_refresh_token`),Q(),delete st.revoke_token},lt)})),st.revoke_token})().then(Q,Q)}function $r(Q=0){return st.load_authority||(st.load_authority=new Promise(ee=>{var $e;if(ke.next(!1),pt.mock)return bn=Ii,ze("Auth","System in mock mode"),ke.next(!0),void ee();ze("Auth",`Fixed: ${nr()} | Trusted: ${Zs()}`),ze("Auth","Loading authority...");const lt=pt.secure||(null===($e=window.location)||void 0===$e?void 0:$e.protocol.indexOf("https"))>=0,Jt=on=>{ze("Auth",`Failed to load authority(${on})`),ke.next(!1),Vt("load_authority",()=>{delete st.load_authority,$r(Q).then(An=>ee())},300*Math.min(20,++Q))};Kt(`${lt?"https:":"http:"}//${Gi()}/auth/authority`,{credentials:"same-origin"}).subscribe(on=>y(this,void 0,void 0,function*(){if(!on.ok)return Jt(yield on.text().catch(Yn=>Yn));bn=yield on.json(),ne=/[2-9]\.[0-9]+\.[0-9]+/g.test(bn.version||"")?"/api/engine/v2":"/control/api",ze("Auth","Loaded authority.",[],"group"),bn&&(ze("Auth",`Name: ${bn.name}`),ze("Auth",`Version: ${bn.version}`),ze("Auth",`Domain: ${bn.domain}`),ze("Auth",`Session: ${bn.session}`),ze("Auth",`Production: ${bn.production}`),ze("Auth",`Config Keys: ${Object.keys(bn.config||{}).length}`)),ze("Auth","",[],"groupEnd");const An=()=>{ke.next(!0),ze("Auth","Application set online."),ee()};delete st.load_authority,ua("").then(An,An)}),Jt)})),st.load_authority}let _o=!1;function ta(Q){var ee,$e;if(!1!==pt.handle_login&&!_o){ze("Auth","Redirecting to login page...");const lt=null===(ee=Q.login_url)||void 0===ee?void 0:ee.replace("{{url}}",encodeURIComponent(null===($e=window.location)||void 0===$e?void 0:$e.href));throw setTimeout(()=>{var Jt;return null===(Jt=window.location)||void 0===Jt?void 0:Jt.assign(lt)},300),_o=!0,new Error("Redirecting to login page...")}ze("Auth","Login being handled locally."),delete st.authorise}const un="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function ji(){return vs(...function Bi(){let ee=(pt.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(it)}`,$e="";if(ee+=`&redirect_uri=${encodeURIComponent(pt.redirect_uri)}`,Js()){ee+=`&refresh_token=${encodeURIComponent(Js())}`,ee+="&grant_type=refresh_token";const lt=ee.split("?");ee=lt[0],$e=lt[1]}else{ee+=`&code=${encodeURIComponent(Gt)}`,ee+="&grant_type=authorization_code";const lt=sessionStorage.getItem(`${it}_challenge`);lt&&(ee+=`&code_verifier=${lt}`,sessionStorage.removeItem(`${it}_challenge`)),Gt=""}return[ee,$e]}())}function vs(Q,ee=""){return st.generate_tokens||(st.generate_tokens=new Promise(($e,lt)=>{ze("Auth","Generating new token...");const Jt=on=>{ze("Auth","Error generating new tokens.",on),St.removeItem(`${it}_refresh_token`),At.next(""),lt(),delete st.generate_tokens};Kt(Q,{method:"POST",body:ee,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(on=>y(this,void 0,void 0,function*(){if(!on.ok)return Jt(on);$s(yield on.json()),$e(),delete st.generate_tokens}),Jt)})),st.generate_tokens}function $s(Q){const ee=function mn(Q,ee){return(0,$i.A)(Q,1e3*ee)}(new Date,Math.max(60,parseInt(Q.expires_in,10)-300));ze("Auth","Tokens generated storing..."),Zs()&&(Q.access_token&&(St.setItem(`${it}_access_token`,Q.access_token),We("access_token")),Q.refresh_token&&(St.setItem(`${it}_refresh_token`,Q.refresh_token),We("refresh_token"))),Q.expires_in&&(St.setItem(`${it}_expires_at`,`${ee.valueOf()}`),We("expires_in")),ke.next(!0),Se.next(Q.access_token||""),At.next(Q.refresh_token||"")}var Ws=s(8002);const qs={};function Co(Q,ee,$e,lt=qs){const Jt=function ri(Q,ee,$e=qs){const Jt=ee.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),on=Object.keys($e).reduce((An,Yn)=>(0===Yn.indexOf(`${Q}|`)&&An.push($e[Yn]),An),[]);for(const An of on)if(An.path_structure.length===Jt.length){let Yn=!0;for(let Oi=0;Oi<An.path_structure.length;Oi++)if(!An.path_structure[Oi]&&An.path_parts[Oi]!==Jt[Oi]){Yn=!1;break}if(Yn)return An}return null}(Q,ee,lt);if(Jt){const on=function xo(Q,ee,$e){const lt=Q.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Jt=lt[0].replace(/^\//g,""),An=Ge(lt[1]||""),Yn=Jt.split("/"),Oi={};for(const as of ee.path_structure)as&&(Oi[as]=Yn[ee.path_structure.indexOf(as)]);const ii={url:Q,path:ee.path,method:ee.method,metadata:ee.metadata,route_params:Oi,query_params:An,body:$e};return ze("HTTP(M)",`MATCHED ${ii.method}:`,ii),ii}(ee,Jt,$e);return function vo(Q,ee){const $e=Q.callback?Q.callback(ee):Q.metadata,lt=Q.delay_variance||100,Jt=Q.delay||300,on=Math.floor(Math.random()*lt-lt/2)+Jt;return ze("HTTP(M)",`RESP ${ee.method}:`,[ee.url,$e]),(0,It.H)([$e]).pipe((0,Ws.c)(Math.max(200,on)))}(Jt,on)}return null}const Da={};function zo(Q,ee,$e=fr){return ee||(ee={response_type:"json"}),$e("GET",Q,Object.assign({response_type:"json"},ee))}function Ir(Q,ee,$e,lt=fr){return $e||($e={response_type:"json"}),lt("POST",Q,Object.assign({body:ee,response_type:"json"},$e))}function jr(Q,ee,$e,lt=fr){return $e||($e={response_type:"json"}),lt("PUT",Q,Object.assign({body:ee,response_type:"json"},$e))}function jo(Q,ee,$e,lt=fr){return $e||($e={response_type:"json"}),lt("PATCH",Q,Object.assign({body:ee,response_type:"json"},$e))}function Ur(Q,ee,$e=fr){return ee||(ee={response_type:"void"}),$e("DELETE",Q,Object.assign({response_type:"void"},ee))}function Za(Q,ee){return y(this,arguments,void 0,function*($e,lt,Jt=Da){if($e.headers){const on={};$e.headers.forEach?$e.headers.forEach((An,Yn)=>on[Yn.toLowerCase()]=An):Object.keys($e.headers).forEach(An=>on[An.toLowerCase()]=$e.headers[An]),Jt[$e.url||""]=on}switch(lt){case"json":return yield $e.json().catch(()=>({}));case"text":return yield $e.text()}})}const Hs=()=>{ea(),Nr().then(()=>null,()=>setTimeout(()=>Hs(),1e3))};function fr(Q,ee,$e,lt=Ts,Jt=Co,on=Za){if(lt()){const An=Jt(Q,ee,$e?.body);if(An)return An}return $e.headers=$e.headers||{},$e.headers["Content-Type"]="application/json",function ho(){return Se.pipe((0,$n.T)(Q=>!!function mo(){return!!Qn()}()))}().pipe((0,vn.p)(An=>An),(0,Pt.s)(1),(0,an.n)(An=>("x-api-key"===Qn()?$e.headers["X-API-Key"]=zi():$e.headers.Authorization=`Bearer ${Qn()}`,Kt(ee,Object.assign(Object.assign({},$e),{body:JSON.stringify($e.body),method:Q,credentials:"same-origin"})))),(0,an.n)(An=>An.ok?on(An,$e.response_type):(0,J.$)(An)),function Yt(Q){return ee=>ee.lift(new Xt(Q,ee))}(An=>An.pipe((0,yn.ZZ)((Yn,Oi)=>511===Yn.status?(ta(io()),(0,ae.of)(Yn)):Oi+1>4||401!==Yn.status?(0,J.$)(Yn||{}):(ze("HTTP","Auth error",Yn),Hs(),(0,ae.of)(Yn))))))}let us={},Uo={},po="";const Ia=Q=>Q;function Xo(Q){const{query_params:ee,fn:$e,path:lt,endpoint:Jt}=Q,on=Re(ee),An=`${Jt||hn()}${lt?"/"+lt:""}${on?"?"+on:""}`;return zo(An).pipe((0,$n.T)(Yn=>{const Oi=function ml(Q,ee,$e){const lt=function ia(Q,ee=Da){return ee[Q]||{}}("/"===Q[0]?`${location.origin}${Q}`:Q),Jt={total:0,next:null};if(lt&&lt["x-total-count"]){const on=+(lt["x-total-count"]||0);(ee.length<2||ee.length<12&&ee.indexOf("offset=")>=0)&&(us[$e]=on),Uo[$e]=on,Jt.total=on}return lt&&lt.link&&(po=function Ue(Q){if(0===Q.length)throw new Error("Input must not be of zero length");const ee=Q.split(","),$e={};for(const lt of ee){const Jt=lt.split(";");if(2!==Jt.length)throw new Error("Section could not be split on ';'");const on=Jt[0].replace(/<(.*)>/,"$1").trim();$e[Jt[1].replace(/rel="(.*)"/,"$1").trim()]=on}return $e}(lt.link||"").next,Jt.next=Ge(po.split("?")[1])),Jt}(An,on,lt);return{total:Oi.total||0,next:Oi.next?()=>Xo({query_params:Oi.next,fn:$e,endpoint:Jt,path:lt}):null,data:Yn&&Yn instanceof Array?Yn.map(ii=>($e||Ia)(ii)):!Yn||Yn instanceof Array||!Yn.results?[]:Yn.results.map(ii=>ii)}}))}function sr(Q){const{query_params:ee,id:$e,path:lt,fn:Jt,options:on}=Q,An=Re(ee);return zo(`${hn()}/${lt}/${$e}${An?"?"+An:""}`,on).pipe((0,$n.T)(Oi=>(Jt||Ia)(Oi)))}function Fo(Q){const{id:ee,query_params:$e,form_data:lt,method:Jt,path:on,fn:An}=Q,Yn=Re(Object.assign(Object.assign({},$e),{version:lt.version||0}));return("put"===Jt?jr:jo)(`${hn()}/${on}/${ee}${Yn?"?"+Yn:""}`,lt).pipe((0,$n.T)(ii=>(An||Ia)(ii)))}class _s{constructor(ee={}){this.id=ee.id||"",this.name=ee.name||"",this.created_at=ee.created_at||0,this.updated_at=ee.updated_at||0,this.version=ee.version||0}toJSON(){const ee=Object.assign({},this);return ee.version=this.version,delete ee.created_at,De(ee,[void 0,null,""])}}var mr=function(Q){return Q[Q.None=0]="None",Q[Q.Support=1]="Support",Q[Q.Admin=2]="Admin",Q[Q.NeverDisplay=3]="NeverDisplay",Q}(mr||{});class sa extends _s{get value(){return this.settings_string}constructor(ee={}){super(ee),this.parent_id=ee.parent_id||"",this.updated_at=ee.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=ee.settings_string||"",this.encryption_level=ee.encryption_level||mr.None,this.keys=ee.keys||[],this.modified_by_id=ee.modified_by_id||""}}var oc=function(Q){return Q[Q.SSH=0]="SSH",Q[Q.Device=1]="Device",Q[Q.Service=2]="Service",Q[Q.Websocket=3]="Websocket",Q[Q.Logic=99]="Logic",Q}(oc||{});class gl extends _s{constructor(ee={}){var $e;super(ee),this.description=ee.description||"",this.module_name=ee.module_name||"",this.role=null!==($e=ee.role)&&void 0!==$e?$e:oc.Logic,this.default_uri=ee.default_uri||"",this.default_port=ee.default_port||1,this.ignore_connected=ee.ignore_connected||!1,this.class_name=ee.class_name||"",this.repository_id=ee.repository_id||"",this.file_name=ee.file_name||"",this.commit=ee.commit||"",this.update_available=ee.update_available||!1,this.update_info=ee.update_info,this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const lt in mr)!isNaN(Number(lt))&&!this.settings[lt]&&(this.settings[lt]=new sa({parent_id:this.id,encryption_level:+lt}))}}class bs{constructor(ee={}){this.id=ee.id||ee.parent_id||"",this.name=ee.name||"",this.description=ee.description||"";try{this.details=("string"==typeof ee.details?JSON.parse(ee.details):ee.details)||{}}catch{this.details=ee.details||{}}this.editors=ee.editors||[],this.schema=ee.schema||"",this.updated_at=1e3*(ee.updated_at||0)||Date.now(),this.modified_by_id=ee.modified_by_id||"",this.version=ee.version||0}}class vl extends _s{get system_id(){return this.control_system_id}get actions(){const ee=this._actions;return{functions:(ee.functions||[]).map(Jt=>Object.assign(Object.assign({},Jt),{args:Object.assign({},Jt.args)})),mailers:(ee.mailers||[]).map(Jt=>Object.assign(Object.assign({},Jt),{emails:[...Jt.emails]}))}}get conditions(){const ee=this._conditions;return{comparisons:(ee.comparisons||[]).map(Jt=>Object.assign(Object.assign({},Jt),{left:"object"==typeof Jt.left?Object.assign({},Jt.left):Jt.left,right:"object"==typeof Jt.right?Object.assign({},Jt.right):Jt.right})),time_dependents:(ee.time_dependents||[]).map(Jt=>Object.assign({},Jt))}}constructor(ee={}){super(ee),this.description=ee.description||"",this._actions=ee.actions||{functions:[],mailers:[]},this._conditions=ee.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=ee.debounce_period||0,this.important=ee.important||!1,this.enabled=ee.enabled||!1,this.webhook_secret=ee.webhook_secret||"",this.control_system_id=ee.system_id||ee.control_system_id||"",this.zone_id=ee.zone_id||"",this.system_name=ee.system_name||(ee.control_system?ee.control_system.name:""),this.enable_webhook=ee.enable_webhook||!1,this.exec_enabled=ee.exec_enabled||!1,this.supported_methods=ee.supported_methods||["POST"],this.activated_count=ee.activated_count||ee.trigger_count||0,this.playlists=ee.playlists||[]}}class fa extends _s{constructor(ee={}){super(ee),this.settings=[null,null,null,null],this.trigger_list=[],this.description=ee.description||"",this.tags=ee.tags||[],this.triggers=ee.triggers||[],this.settings=ee.settings||[null,null,null,null],this.parent_id=ee.parent_id||"",this.location=ee.location||"",this.display_name=ee.display_name||"",this.code=ee.code||"",this.type=ee.type||"",this.count=ee.count||0,this.capacity=ee.capacity||0,this.map_id=ee.map_id||"",this.timezone=ee.timezone||"",this.images=ee.images||[],this.playlists=ee.playlists||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const $e in mr)!isNaN(Number($e))&&!this.settings[$e]&&(this.settings[$e]=new sa({parent_id:this.id,encryption_level:+$e}));ee.trigger_data&&ee.trigger_data instanceof Array&&(this.trigger_list=ee.trigger_data.map($e=>new vl($e)))}}class ge{constructor(ee={}){this.zone=new fa(ee.zone),this.keys=ee.keys||[],this.metadata={};const $e=ee.metadata||{};for(const lt of this.keys)this.metadata[lt]=new bs($e[lt])}}const yt="metadata";function Be(Q){return new bs(Q)}function Rn(Q,ee,$e={}){return sr({id:Q,query_params:Object.assign(Object.assign({},$e),{name:ee}),fn:lt=>Be(lt[ee]),path:yt})}function Un(Q,ee,$e="put"){return Fo({id:Q,form_data:ee,query_params:{},method:$e,fn:Be,path:yt})}function Xi(Q,ee){return function ha(Q){const{id:ee,task_name:$e,form_data:lt,method:Jt,path:on,callback:An}=Q,Yn=Re(lt),Oi=`${hn()}/${on}/${ee}/${$e}`;return("post"!==Jt&&"put"!==Jt&&Jt?("del"===Jt?Ur:zo)(`${Oi}${Yn?"?"+Yn:""}`,{response_type:"json"}):("put"===Jt?jr:Ir)(Oi,lt)).pipe((0,$n.T)(as=>(An||(Us=>Us))(as)))}({id:Q,task_name:"children",form_data:ee,method:"get",callback:$e=>$e.map(lt=>new ge(Object.assign(Object.assign({},lt),{keys:Object.keys(lt.metadata)}))),path:yt})}class Ys extends _s{constructor(ee={}){var $e;super(ee),this.settings=[null,null,null,null],this.module_list=[],this.display_name=ee.display_name||"",this.description=ee.description||"",this.email=ee.email||"",this.code=ee.code||"",this.capacity=ee.capacity||0,this.features=ee.features||[],this.bookable=ee.bookable||!1,this.public=null!==($e=ee.public)&&void 0!==$e&&$e,this.installed_ui_devices=ee.installed_ui_devices||0,this.support_url=ee.support_url||"",this.map_id=ee.map_id||"",this.modules=ee.modules||[],this.images=ee.images||[],this.zones=ee.zones||[],this.settings=ee.settings||[null,null,null,null],this.timezone=ee.timezone||"",this.signage=ee.signage||!1,this.playlists=ee.playlists||[],this.orientation=ee.orientation||"unspecified","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const lt in mr)!isNaN(Number(lt))&&!this.settings[lt]&&(this.settings[lt]=new sa({parent_id:this.id,encryption_level:+lt}));ee.module_data&&ee.module_data instanceof Array&&(this.module_list=ee.module_data.map(lt=>new Jn(lt)))}}class Jn extends _s{get system_id(){return this.control_system_id}constructor(ee={}){var $e;super(ee),this.settings=[null,null,null,null],this.driver_id=ee.driver_id||ee.dependency_id||"",this.control_system_id=ee.control_system_id||"",this.edge_id=ee.edge_id||"",this.ip=ee.ip||"",this.tls=ee.tls||!1,this.udp=ee.udp||!1,this.port=ee.port||1,this.makebreak=ee.makebreak||!1,this.uri=ee.uri||"",this.custom_name=ee.custom_name||"",this.role=null!==($e=ee.role)&&void 0!==$e?$e:oc.Logic,this.notes=ee.notes||"",this.ignore_connected=ee.ignore_connected||!1,this.connected=ee.connected,this.running=ee.running||!1,this.updated_at=ee.updated_at||0,this.system=new Ys(ee.control_system||ee.system),this.has_runtime_error=ee.has_runtime_error||!1,this.error_timestamp=ee.error_timestamp||0,this.driver=new gl(ee.dependency||ee.driver),this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const lt in mr)!isNaN(Number(lt))&&!this.settings[lt]&&(this.settings[lt]=new sa({parent_id:this.id,encryption_level:+lt}))}toJSON(ee=!1){const $e=super.toJSON();return($e.role!==oc.Logic&&!ee||!$e.control_system_id)&&delete $e.control_system_id,delete $e.driver,delete $e.system,delete $e.error_timestamp,delete $e.has_runtime_error,$e}}const El="settings";function Ga(Q){return new sa(Q)}function ce(Q={}){return Xo({query_params:Q,fn:Ga,path:El})}const Zt="systems";function wn(Q){return new Ys(Q)}function Tn(Q={}){return Xo({query_params:Q,fn:wn,path:Zt})}function ci(Q={}){return Xo({query_params:Q,fn:wn,path:`${Zt}/with_emails`})}function Kn(Q,ee={}){return sr({id:Q,query_params:ee,fn:wn,path:Zt})}class fs extends _s{constructor(ee={}){super(ee),this.password="",this.confirm_password="",this.authority_id=ee.authority_id||"",this.email=ee.email||"",this.email_digest=ee.email_digest||"",this.phone=ee.phone||"",this.country=ee.country||"",this.building=ee.building||"",this.image=ee.image||"",this.metadata=ee.metadata||"",this.login_name=ee.login_name||"",this.staff_id=ee.staff_id||"",this.first_name=ee.first_name||"",this.last_name=ee.last_name||"",this.support=!!ee.support,this.sys_admin=!!ee.sys_admin,this.ui_theme=ee.ui_theme||"",this.card_number=ee.card_number||"",this.groups=ee.groups||[],this.department=ee.department||"",this.work_preferences=ee.work_preferences||[],this.work_overrides=ee.work_overrides||{}}}const Wl="users";function Qc(Q){return new fs(Q)}function Gd(Q={}){return Xo({query_params:Q,fn:Qc,path:Wl})}function md(Q,ee={}){return sr({id:Q,query_params:ee,fn:Qc,path:Wl})}function x_(Q,ee,$e="patch"){return Fo({id:Q,form_data:ee,query_params:{},method:$e,fn:Qc,path:Wl})}const Ic="zones";function gd(Q){return new fa(Q)}function oa(Q={}){return Xo({query_params:Q,fn:gd,path:Ic})}function Sc(Q,ee={}){return sr({id:Q,query_params:ee,fn:gd,path:Ic})}var wu=s(4119),qo=function(Q){return Q[Q.PARSE_ERROR=0]="PARSE_ERROR",Q[Q.BAD_REQUEST=1]="BAD_REQUEST",Q[Q.ACCESS_DENIED=2]="ACCESS_DENIED",Q[Q.REQUEST_FAILED=3]="REQUEST_FAILED",Q[Q.UNKNOWN_CMD=4]="UNKNOWN_CMD",Q[Q.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",Q[Q.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",Q[Q.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",Q}(qo||{}),Md=function(Q){return Q.Info="info",Q.Debug="debug",Q.Warning="warn",Q.Error="error",Q.Fatal="fatal",Q.Trace="trace",Q}(Md||{});const Xd={},Pu=15;let Hr,xc=0,sf=0;const wr={},Td={},Xl={},Ah={},Rc=new Fn.t(!1);Xl._place_os_status=Rc.asObservable();const R_=new Fn.t([0,0]);Xl._place_os_sync=R_.asObservable();let Hd,Yd,Lu=Date.now(),Fu=0,Ac=null,wh=0;const kh=1e4,wm=new Et.B7;function A_(){return hn().indexOf("/control/")>=0?"/control/websocket":`${Bn()}/systems/control`}function Ph(){return Rc.getValue()}function Bu(Q,ee=0,$e=td){return $e(Object.assign({id:++xc,cmd:"bind"},Q),ee)}function td(Q,ee=kh,$e=0){const lt=`${Q.cmd}|${Q.sys}|${Q.mod}${Q.index}|${Q.name}|${Q.args}|${function vt(Q=Date.now(),ee=6e4){return Math.floor(Q/ee)}()}`;if(wr[lt])ze("WS","Request already in progress. Waiting...",Q);else{const Jt=Object.assign(Object.assign({},Q),{key:lt});Jt.promise=new Promise((on,An)=>{const Yn=()=>{delete wr[lt],wr[lt]=null,td(Q,ee,$e).then(Oi=>on(Oi),Oi=>An(Oi))};if(Hr&&Ph()){Ts()&&function lf(Q,ee,$e){const lt=`${Q.sys}|${Q.mod}_${Q.index}|${Q.name}`,Jt=function ku(Q){return Xd[Q]}(Q.sys),on=Jt&&Jt[Q.mod]?Jt[Q.mod][Q.index-1||0]:null;if(on){switch(Q.cmd){case"bind":$e[lt]=on.listen(Q.name).subscribe(An=>{setTimeout(()=>{ee.next({type:"notify",value:An,meta:Q})},Math.floor(100*Math.random()+50))});break;case"unbind":$e[lt]&&($e[lt].unsubscribe(),delete $e[lt],dn(`${lt}`))}Vt(`${Q.id}-response`,()=>{const An={id:Q.id,type:"success",value:"exec"===Q.cmd?on.call(Q.name,Q.args):null};ee.next(An)},10)}else Vt(`${Q.id}-error`,()=>ee.next({id:Q.id,type:"error",code:Jt?qo.SYS_NOT_FOUND:qo.MOD_NOT_FOUND}),10)}(Q,Hr,Ah),Jt.resolve=on,Jt.reject=An;const Oi=`${Q.sys}, ${Q.mod}_${Q.index}, ${Q.name}`;ze("WS",`[${Q.cmd.toUpperCase()}](${Q.id}) ${Oi}`,Q.args),Hr.next(Q),ee>0&&Vt(`${lt}`,()=>{An("Request timed out."),delete wr[lt],wr[lt]=null},ee)}else Ac?setTimeout(()=>Yn(),1e3):Qd().then(()=>Yn())}),wr[lt]=Jt}return wr[lt].promise}function al(Q){if("pong"!==Q&&Q instanceof Object){if("notify"===Q.type&&Q.meta)!function Qs(Q,ee,$e=Td,lt=Xl){const Jt=`${Q.sys}|${Q.mod}_${Q.index}|${Q.name}`;$e[Jt]||($e[Jt]=new Fn.t(null),lt[Jt]=$e[Jt].asObservable());ze("WS",`[NOTIFY] ${`${Q.sys}, ${Q.mod}_${Q.index}, ${Q.name}`} changed`,[$e[Jt].getValue(),"\u2192",ee]),$e[Jt].next(ee)}(Q.meta,Q.value);else if("success"===Q.type)!function wc(Q){const ee=Object.keys(wr).map($e=>wr[$e]).find($e=>$e?.id===Q.id);ze("WS",`[SUCCESS](${Q.id})`),ee&&ee.resolve&&(ee.resolve(Q.value),delete wr[ee.key])}(Q);else if("debug"===Q.type){ze("WS",`[DEBUG] ${Q.mod}${Q.klass||""} \u2192`,Q.msg);const ee=Q.meta||{mod:"",index:""};wm.next({mod_id:Q.mod||"<empty>",module:`${ee.mod}_${ee.index}`,class_name:Q.klass||"<empty>",message:Q.msg||"<empty>",level:Q.level||Md.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===Q.type?function Fh(Q){let ee="UNEXPECTED FAILURE";switch(Q.code){case qo.ACCESS_DENIED:ee="ACCESS DENIED";break;case qo.BAD_REQUEST:ee="BAD REQUEST";break;case qo.MOD_NOT_FOUND:ee="MODULE NOT FOUND";break;case qo.SYS_NOT_FOUND:ee="SYSTEM NOT FOUND";break;case qo.PARSE_ERROR:ee="PARSE ERROR";break;case qo.REQUEST_FAILED:ee="REQUEST FAILED";break;case qo.UNKNOWN_CMD:ee="UNKNOWN COMMAND"}ze("WS",`[ERROR] ${ee}(${Q.id}): ${Q.msg}`,void 0,"error");const $e=Object.keys(wr).map(lt=>wr[lt]).filter(lt=>lt).find(lt=>lt.id===Q.id);$e&&$e.reject&&($e.reject(Q),dn(`${$e.key}`),delete wr[$e.key])}(Q):Q.cmd||ze("WS","Invalid websocket message",Q,"error");dn(`${Q.id}`)}else"pong"===Q&&(wh=Date.now(),ze("WS","Pong!"))}function Qd(Q=0){return null==Ac&&(Ac=new Promise(ee=>{if(Q>40)return location.reload();Fu++,Lu=Date.now(),Hr=Ts()?function za(){const Q=new Et.B7;return Q.subscribe(ee=>al(ee)),Q}():function Jd(){if(!io()||!Qn())return null;const Q=function Tr(){return!!pt.secure}()||location.protocol.indexOf("https")>=0;let ee=`ws${Q?"s":""}://${Gi()}${A_()}${nr()?"?fixed_device=true":""}`;const $e=Qn();let lt="x-api-key"===$e?`api-key=${zi()}`:`bearer_token=${$e}`;return function ai(){return!!pt.token_header}()||function rt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(ze("WS","Authenticating through URL query parameter..."),ee+=`${ee.indexOf("?")>=0?"&":"?"}${lt}`):(ze("WS","Authenticating through cookie..."),lt+=`;max-age=120;path=${A_()};`,lt+=(Q?"secure;":"")+"samesite=strict",document.cookie=lt,ze("WS","Cookies:",[document.cookie,lt])),ze("WS",`Creating websocket connection to ws${Q?"s":""}://${Gi()}${A_()}`),(0,wu.K)({url:ee,serializer:Jt=>"object"==typeof Jt?JSON.stringify(Jt):Jt,deserializer:Jt=>{let on=Jt.data;if("pong"===on)return on;try{return JSON.parse(Jt.data)}catch{return on}}})}(),Hr?(ze("WS(Debug)","Authority:",[io()]),ze("WS","Connecting to websocket..."),Hr.subscribe($e=>{Rc.getValue()||(ze("WS","Connection established."),ee()),Rc.next(!0),Fu=0,kc(),al($e)},$e=>{Hr=void 0,Ac=null,Nh(),kc(),function ju(Q){Rc.next(!1),ze("WS","Websocket error:",Q,void 0,"error"),401===Q.status&&ea(),Nr(),Er()}($e)},()=>{Hr=void 0,Ac=null,Nh(),ze("WS","Connection closed by browser."),Rc.next(!1),Er()}),Hd&&clearInterval(Hd),wh=Date.now(),Dd(),Hd=setInterval(()=>Dd(),1e3*Pu),kc(),sf+=1,Yd=setTimeout(()=>{ze("WS","Unhealthy connection. Reconnecting..."),Rc.next(!1),Ac=null,Er()},3e4)):(Hr?ze("WS",`Waiting on auth(${Q}). Retrying in ${1e3*Math.min(10,Q+1)}ms...`,[!!Qn(),!!io()],"info"):ze("WS",`Failed to create websocket(${Q}). Retrying in ${1e3*Math.min(10,Q+1)}ms...`,void 0,"error"),setTimeout(()=>{Ac=null,Qd(Q).then($e=>ee($e))},1e3*Math.min(10,++Q)))})),Ac}function Er(){R_.next([sf,Date.now()-Lu]),Hr&&Ph()&&(Hr.complete(),Hd&&(clearInterval(Hd),Hd=void 0)),ze("WS",`Reconnecting in ${Math.min(5e3,300*Fu||1e3)}ms...`),Vt("reconnect",()=>Qd(),Math.min(5e3,300*(Fu+1)||1e3))}function Dd(){if(Date.now()-wh>4*Pu*1e3)return Er();Hr?.next("ping")}function kc(){Yd&&(clearTimeout(Yd),Yd=void 0)}function Nh(){for(const Q in wr)wr[Q]&&delete wr[Q]}Xl._place_os_debug_events=wm.asObservable();var w_=s(522),Yo=function(Q){return Q[Q.NONE=0]="NONE",Q[Q.BIND=1]="BIND",Q[Q.UNBIND=2]="UNBIND",Q}(Yo||{});class k_{constructor(ee,$e){this._module=ee,this._pending=Yo.NONE,this._binding_count=0,this._stale_bindings=0,this.name=$e,function rf(){return Xl._place_os_status}().pipe((0,w_.F)()).subscribe(lt=>{lt&&(this._stale_bindings||this._pending===Yo.BIND)?(ze("VAR","Re-binding to status variable",this.binding()),this.rebind()):lt||(dn(`rebind:${JSON.stringify(this.binding())}`),ze("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function km(Q,ee=Td){const $e=`${Q.sys}|${Q.mod}_${Q.index}|${Q.name}`;if(ee[$e])return ee[$e].getValue()}(this.binding())}listen(){return function Nu(Q,ee=Td,$e=Xl){const lt=`${Q.sys}|${Q.mod}_${Q.index}|${Q.name}`;return ee[lt]||(ee[lt]=new Fn.t(void 0),$e[lt]=ee[lt].asObservable()),$e[lt]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===Yo.UNBIND)&&(this._pending=Yo.BIND,Bu(this.binding()).then(()=>{this._binding_count++,this._pending=Yo.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===Yo.NONE?(this._pending=Yo.UNBIND,function So(Q,ee=0,$e=td){return $e(Object.assign({id:++xc,cmd:"unbind"},Q),ee)}(this.binding()).then(()=>{this._pending===Yo.UNBIND&&(this._pending=Yo.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return y(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==Yo.BIND||Vt(`rebind:${JSON.stringify(this.binding())}`,()=>y(this,void 0,void 0,function*(){yield Bu(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Bh{constructor(ee,$e){this._system=ee,this._id=$e,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const $e=this._id.split("_").pop();return parseInt($e||"",10)||1}get name(){const ee=this._id.split("_");return ee.pop(),ee.join("_")}binding(ee){return this._bindings[ee]||(this._bindings[ee]=new k_(this,ee)),this._bindings[ee]}execute(ee,$e,lt=kh){return function $u(Q,ee=kh,$e=td){return $e(Object.assign({id:++xc,cmd:"exec"},Q),ee)}({sys:this._system.id,mod:this.name,index:this.index,name:ee,args:$e},lt)}}class P_{constructor(ee){this._module_list={},this.id=ee}module(ee,$e=1){if(!ee)throw new Error("Invalid module ID");const lt=ee.split("_");lt.length>1&&Number.isInteger(+lt[lt.length-1])&&($e=+lt[lt.length-1],lt.pop()),$e<1&&($e=1);const Jt=lt.join("_");for(this._module_list[Jt]||(this._module_list[Jt]=[]);this._module_list[Jt].length<$e;)this._module_list[Jt].push(new Bh(this,`${Jt}_${this._module_list[Jt].length+1}`));return this._module_list[Jt][$e-1]}}const Id={};function Uu(Q,ee,$e=1){return function $h(Q){return Id[Q]||(Id[Q]=new P_(Q)),Id[Q]}(Q).module(ee,$e)}},2727:(Ot,ve,s)=>{"use strict";function B(S,w){return function d(S,w){S=S||[],"string"==typeof(w=w||{})&&(w={type:w});try{return new Blob(S,w)}catch(L){if("TypeError"!==L.name)throw L;for(var v=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),A=0;A<S.length;A+=1)v.append(S[A]);return v.getBlob(w.type)}}([S],w)}s.d(ve,{Ot:()=>B})},993:(Ot,ve)=>{"use strict";ve.if=h,ve.Kp=function g(_){if(_.length%4!=0)throw new Error("Unable to parse base64 string.");var u=_.indexOf("=");if(-1!==u&&u<_.length-2)throw new Error("Unable to parse base64 string.");for(var x,I=_.endsWith("==")?2:_.endsWith("=")?1:0,k=_.length,y=new Uint8Array(k/4*3),M=0,B=0;M<k;M+=4,B+=3)x=d(_.charCodeAt(M))<<18|d(_.charCodeAt(M+1))<<12|d(_.charCodeAt(M+2))<<6|d(_.charCodeAt(M+3)),y[B]=x>>16,y[B+1]=x>>8&255,y[B+2]=255&x;return y.subarray(0,y.length-I)},ve.Cw=function b(_){return h((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(_))};var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function d(_){if(_>=n.length)throw new Error("Unable to parse base64 string.");var u=n[_];if(255===u)throw new Error("Unable to parse base64 string.");return u}function h(_){var I,u="",k=_.length;for(I=2;I<k;I+=3)u+=e[_[I-2]>>2],u+=e[(3&_[I-2])<<4|_[I-1]>>4],u+=e[(15&_[I-1])<<2|_[I]>>6],u+=e[63&_[I]];return I===k+1&&(u+=e[_[I-2]>>2],u+=e[(3&_[I-2])<<4],u+="=="),I===k&&(u+=e[_[I-2]>>2],u+=e[(3&_[I-2])<<4|_[I-1]>>4],u+=e[(15&_[I-1])<<2],u+="="),u}},8655:Ot=>{var ve=-1,s=1,e=0;function n(O,W,U,$,te){if(O===W)return O?[[e,O]]:[];if(null!=U){var ie=function L(O,W,U){var $="number"==typeof U?{index:U,length:0}:U.oldRange,te="number"==typeof U?null:U.newRange,ie=O.length,me=W.length;if(0===$.length&&(null===te||0===te.length)){var Y=$.index,F=O.slice(0,Y),N=O.slice(Y),J=te?te.index:null,ae=Y+me-ie;if(!(null!==J&&J!==ae||ae<0||ae>me)){var _e=W.slice(0,ae);if((xe=W.slice(ae))===N){var Fe=Math.min(Y,ae);if((Ae=F.slice(0,Fe))===(Ye=_e.slice(0,Fe)))return A(Ae,F.slice(Fe),_e.slice(Fe),N)}}if(null===J||J===Y){var Me=Y,xe=(_e=W.slice(0,Me),W.slice(Me));if(_e===F){var pe=Math.min(ie-Me,me-Me);if((he=N.slice(N.length-pe))===(le=xe.slice(xe.length-pe)))return A(F,N.slice(0,N.length-pe),xe.slice(0,xe.length-pe),he)}}}if($.length>0&&te&&0===te.length){var Ae=O.slice(0,$.index),he=O.slice($.index+$.length);if(!(me<(Fe=Ae.length)+(pe=he.length))){var Ye=W.slice(0,Fe),le=W.slice(me-pe);if(Ae===Ye&&he===le)return A(Ae,O.slice(Fe,ie-pe),W.slice(Fe,me-pe),he)}}return null}(O,W,U);if(ie)return ie}var me=b(O,W),Y=O.substring(0,me);me=_(O=O.substring(me),W=W.substring(me));var F=O.substring(O.length-me),N=function d(O,W){var U;if(!O)return[[s,W]];if(!W)return[[ve,O]];var $=O.length>W.length?O:W,te=O.length>W.length?W:O,ie=$.indexOf(te);if(-1!==ie)return U=[[s,$.substring(0,ie)],[e,te],[s,$.substring(ie+te.length)]],O.length>W.length&&(U[0][0]=U[2][0]=ve),U;if(1===te.length)return[[ve,O],[s,W]];var me=function u(O,W){var U=O.length>W.length?O:W,$=O.length>W.length?W:O;if(U.length<4||2*$.length<U.length)return null;function te(xe,Fe,Ae){for(var Me,pe,he,le,Ye=xe.substring(Ae,Ae+Math.floor(xe.length/4)),qe=-1,Ne="";-1!==(qe=Fe.indexOf(Ye,qe+1));){var Ee=b(xe.substring(Ae),Fe.substring(qe)),Xe=_(xe.substring(0,Ae),Fe.substring(0,qe));Ne.length<Xe+Ee&&(Ne=Fe.substring(qe-Xe,qe)+Fe.substring(qe,qe+Ee),Me=xe.substring(0,Ae-Xe),pe=xe.substring(Ae+Ee),he=Fe.substring(0,qe-Xe),le=Fe.substring(qe+Ee))}return 2*Ne.length>=xe.length?[Me,pe,he,le,Ne]:null}var Y,F,N,J,ae,ie=te(U,$,Math.ceil(U.length/4)),me=te(U,$,Math.ceil(U.length/2));return ie||me?(Y=me?ie&&ie[4].length>me[4].length?ie:me:ie,O.length>W.length?(F=Y[0],N=Y[1],J=Y[2],ae=Y[3]):(J=Y[0],ae=Y[1],F=Y[2],N=Y[3]),[F,N,J,ae,Y[4]]):null}(O,W);if(me){var F=me[1],J=me[3],ae=me[4],_e=n(me[0],me[2]),xe=n(F,J);return _e.concat([[e,ae]],xe)}return function h(O,W){for(var U=O.length,$=W.length,te=Math.ceil((U+$)/2),ie=te,me=2*te,Y=new Array(me),F=new Array(me),N=0;N<me;N++)Y[N]=-1,F[N]=-1;Y[ie+1]=0,F[ie+1]=0;for(var J=U-$,ae=J%2!=0,_e=0,xe=0,Fe=0,Ae=0,Ye=0;Ye<te;Ye++){for(var qe=-Ye+_e;qe<=Ye-xe;qe+=2){for(var Ne=ie+qe,pe=(Me=qe===-Ye||qe!==Ye&&Y[Ne-1]<Y[Ne+1]?Y[Ne+1]:Y[Ne-1]+1)-qe;Me<U&&pe<$&&O.charAt(Me)===W.charAt(pe);)Me++,pe++;if(Y[Ne]=Me,Me>U)xe+=2;else if(pe>$)_e+=2;else if(ae&&(he=ie+J-qe)>=0&&he<me&&-1!==F[he]&&Me>=(le=U-F[he]))return g(O,W,Me,pe)}for(var Ee=-Ye+Fe;Ee<=Ye-Ae;Ee+=2){for(var le,he=ie+Ee,Xe=(le=Ee===-Ye||Ee!==Ye&&F[he-1]<F[he+1]?F[he+1]:F[he-1]+1)-Ee;le<U&&Xe<$&&O.charAt(U-le-1)===W.charAt($-Xe-1);)le++,Xe++;if(F[he]=le,le>U)Ae+=2;else if(Xe>$)Fe+=2;else if(!ae){var Me;if((Ne=ie+J-Ee)>=0&&Ne<me&&-1!==Y[Ne])if(pe=ie+(Me=Y[Ne])-Ne,Me>=(le=U-le))return g(O,W,Me,pe)}}}return[[ve,O],[s,W]]}(O,W)}(O=O.substring(0,O.length-me),W=W.substring(0,W.length-me));return Y&&N.unshift([e,Y]),F&&N.push([e,F]),P(N,te),$&&function I(O){for(var W=!1,U=[],$=0,te=null,ie=0,me=0,Y=0,F=0,N=0;ie<O.length;)O[ie][0]==e?(U[$++]=ie,me=F,Y=N,F=0,N=0,te=O[ie][1]):(O[ie][0]==s?F+=O[ie][1].length:N+=O[ie][1].length,te&&te.length<=Math.max(me,Y)&&te.length<=Math.max(F,N)&&(O.splice(U[$-1],0,[ve,te]),O[U[$-1]+1][0]=s,$--,ie=--$>0?U[$-1]:-1,me=0,Y=0,F=0,N=0,te=null,W=!0)),ie++;for(W&&P(O),function K(O){function W(xe,Fe){if(!xe||!Fe)return 6;var Ae=xe.charAt(xe.length-1),Ye=Fe.charAt(0),qe=Ae.match(k),Ne=Ye.match(k),Me=qe&&Ae.match(y),pe=Ne&&Ye.match(y),he=Me&&Ae.match(x),le=pe&&Ye.match(x),Ee=he&&xe.match(M),Xe=le&&Fe.match(B);return Ee||Xe?5:he||le?4:qe&&!Me&&pe?3:Me||pe?2:qe||Ne?1:0}for(var U=1;U<O.length-1;){if(O[U-1][0]==e&&O[U+1][0]==e){var $=O[U-1][1],te=O[U][1],ie=O[U+1][1],me=_($,te);if(me){var Y=te.substring(te.length-me);$=$.substring(0,$.length-me),te=Y+te.substring(0,te.length-me),ie=Y+ie}for(var F=$,N=te,J=ie,ae=W($,te)+W(te,ie);te.charAt(0)===ie.charAt(0);){$+=te.charAt(0),te=te.substring(1)+ie.charAt(0),ie=ie.substring(1);var _e=W($,te)+W(te,ie);_e>=ae&&(ae=_e,F=$,N=te,J=ie)}O[U-1][1]!=F&&(F?O[U-1][1]=F:(O.splice(U-1,1),U--),O[U][1]=N,J?O[U+1][1]=J:(O.splice(U+1,1),U--))}U++}}(O),ie=1;ie<O.length;){if(O[ie-1][0]==ve&&O[ie][0]==s){var J=O[ie-1][1],ae=O[ie][1],_e=E(J,ae),xe=E(ae,J);_e>=xe?(_e>=J.length/2||_e>=ae.length/2)&&(O.splice(ie,0,[e,ae.substring(0,_e)]),O[ie-1][1]=J.substring(0,J.length-_e),O[ie+1][1]=ae.substring(_e),ie++):(xe>=J.length/2||xe>=ae.length/2)&&(O.splice(ie,0,[e,J.substring(0,xe)]),O[ie-1][0]=s,O[ie-1][1]=ae.substring(0,ae.length-xe),O[ie+1][0]=ve,O[ie+1][1]=J.substring(xe),ie++),ie++}ie++}}(N),N}function g(O,W,U,$){var te=O.substring(0,U),ie=W.substring(0,$),me=O.substring(U),Y=W.substring($),F=n(te,ie),N=n(me,Y);return F.concat(N)}function b(O,W){if(!O||!W||O.charAt(0)!==W.charAt(0))return 0;for(var U=0,$=Math.min(O.length,W.length),te=$,ie=0;U<te;)O.substring(ie,te)==W.substring(ie,te)?ie=U=te:$=te,te=Math.floor(($-U)/2+U);return j(O.charCodeAt(te-1))&&te--,te}function E(O,W){var U=O.length,$=W.length;if(0==U||0==$)return 0;U>$?O=O.substring(U-$):U<$&&(W=W.substring(0,U));var te=Math.min(U,$);if(O==W)return te;for(var ie=0,me=1;;){var Y=O.substring(te-me),F=W.indexOf(Y);if(-1==F)return ie;me+=F,(0==F||O.substring(te-me)==W.substring(0,me))&&(ie=me,me++)}}function _(O,W){if(!O||!W||O.slice(-1)!==W.slice(-1))return 0;for(var U=0,$=Math.min(O.length,W.length),te=$,ie=0;U<te;)O.substring(O.length-te,O.length-ie)==W.substring(W.length-te,W.length-ie)?ie=U=te:$=te,te=Math.floor(($-U)/2+U);return S(O.charCodeAt(O.length-te))&&te--,te}var k=/[^a-zA-Z0-9]/,y=/\s/,x=/[\r\n]/,M=/\n\r?\n$/,B=/^\r?\n\r?\n/;function P(O,W){O.push([e,""]);for(var Y,U=0,$=0,te=0,ie="",me="";U<O.length;)if(U<O.length-1&&!O[U][1])O.splice(U,1);else switch(O[U][0]){case s:te++,me+=O[U][1],U++;break;case ve:$++,ie+=O[U][1],U++;break;case e:var F=U-te-$-1;if(W){if(F>=0&&m(O[F][1])){var N=O[F][1].slice(-1);if(O[F][1]=O[F][1].slice(0,-1),ie=N+ie,me=N+me,!O[F][1]){O.splice(F,1),U--;var J=F-1;O[J]&&O[J][0]===s&&(te++,me=O[J][1]+me,J--),O[J]&&O[J][0]===ve&&($++,ie=O[J][1]+ie,J--),F=J}}w(O[U][1])&&(N=O[U][1].charAt(0),O[U][1]=O[U][1].slice(1),ie+=N,me+=N)}if(U<O.length-1&&!O[U][1]){O.splice(U,1);break}if(ie.length>0||me.length>0){ie.length>0&&me.length>0&&(0!==(Y=b(me,ie))&&(F>=0?O[F][1]+=me.substring(0,Y):(O.splice(0,0,[e,me.substring(0,Y)]),U++),me=me.substring(Y),ie=ie.substring(Y)),0!==(Y=_(me,ie))&&(O[U][1]=me.substring(me.length-Y)+O[U][1],me=me.substring(0,me.length-Y),ie=ie.substring(0,ie.length-Y)));var ae=te+$;0===ie.length&&0===me.length?(O.splice(U-ae,ae),U-=ae):0===ie.length?(O.splice(U-ae,ae,[s,me]),U=U-ae+1):0===me.length?(O.splice(U-ae,ae,[ve,ie]),U=U-ae+1):(O.splice(U-ae,ae,[ve,ie],[s,me]),U=U-ae+2)}0!==U&&O[U-1][0]===e?(O[U-1][1]+=O[U][1],O.splice(U,1)):U++,te=0,$=0,ie="",me=""}""===O[O.length-1][1]&&O.pop();var _e=!1;for(U=1;U<O.length-1;)O[U-1][0]===e&&O[U+1][0]===e&&(O[U][1].substring(O[U][1].length-O[U-1][1].length)===O[U-1][1]?(O[U][1]=O[U-1][1]+O[U][1].substring(0,O[U][1].length-O[U-1][1].length),O[U+1][1]=O[U-1][1]+O[U+1][1],O.splice(U-1,1),_e=!0):O[U][1].substring(0,O[U+1][1].length)==O[U+1][1]&&(O[U-1][1]+=O[U+1][1],O[U][1]=O[U][1].substring(O[U+1][1].length)+O[U+1][1],O.splice(U+1,1),_e=!0)),U++;_e&&P(O,W)}function j(O){return O>=55296&&O<=56319}function S(O){return O>=56320&&O<=57343}function w(O){return S(O.charCodeAt(0))}function m(O){return j(O.charCodeAt(O.length-1))}function A(O,W,U,$){return m(O)||w($)?null:function v(O){for(var W=[],U=0;U<O.length;U++)O[U][1].length>0&&W.push(O[U]);return W}([[e,O],[ve,W],[s,U],[e,$]])}function G(O,W,U,$){return n(O,W,U,$,!0)}G.INSERT=s,G.DELETE=ve,G.EQUAL=e,Ot.exports=G},1299:function(Ot,ve,s){var e;!function(){var h={};!function(n){"use strict";n.__esModule=!0,n.digestLength=32,n.blockSize=64;var d=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function h(x,M,B,K,P){for(var j,S,w,m,v,A,L,G,O,W,U,$,te;P>=64;){for(j=M[0],S=M[1],w=M[2],m=M[3],v=M[4],A=M[5],L=M[6],G=M[7],W=0;W<16;W++)x[W]=(255&B[U=K+4*W])<<24|(255&B[U+1])<<16|(255&B[U+2])<<8|255&B[U+3];for(W=16;W<64;W++)x[W]=(($=((O=x[W-2])>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)+x[W-7]|0)+((te=((O=x[W-15])>>>7|O<<25)^(O>>>18|O<<14)^O>>>3)+x[W-16]|0);for(W=0;W<64;W++)$=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&A^~v&L)|0)+(G+(d[W]+x[W]|0)|0)|0,te=((j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10))+(j&S^j&w^S&w)|0,G=L,L=A,A=v,v=m+$|0,m=w,w=S,S=j,j=$+te|0;M[0]+=j,M[1]+=S,M[2]+=w,M[3]+=m,M[4]+=v,M[5]+=A,M[6]+=L,M[7]+=G,K+=64,P-=64}return K}var g=function(){function x(){this.digestLength=n.digestLength,this.blockSize=n.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return x.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},x.prototype.clean=function(){for(var M=0;M<this.buffer.length;M++)this.buffer[M]=0;for(M=0;M<this.temp.length;M++)this.temp[M]=0;this.reset()},x.prototype.update=function(M,B){if(void 0===B&&(B=M.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var K=0;if(this.bytesHashed+=B,this.bufferLength>0){for(;this.bufferLength<64&&B>0;)this.buffer[this.bufferLength++]=M[K++],B--;64===this.bufferLength&&(h(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(B>=64&&(K=h(this.temp,this.state,M,K,B),B%=64);B>0;)this.buffer[this.bufferLength++]=M[K++],B--;return this},x.prototype.finish=function(M){if(!this.finished){var B=this.bytesHashed,K=this.bufferLength,P=B/536870912|0,j=B<<3,S=B%64<56?64:128;this.buffer[K]=128;for(var w=K+1;w<S-8;w++)this.buffer[w]=0;this.buffer[S-8]=P>>>24&255,this.buffer[S-7]=P>>>16&255,this.buffer[S-6]=P>>>8&255,this.buffer[S-5]=P>>>0&255,this.buffer[S-4]=j>>>24&255,this.buffer[S-3]=j>>>16&255,this.buffer[S-2]=j>>>8&255,this.buffer[S-1]=j>>>0&255,h(this.temp,this.state,this.buffer,0,S),this.finished=!0}for(w=0;w<8;w++)M[4*w+0]=this.state[w]>>>24&255,M[4*w+1]=this.state[w]>>>16&255,M[4*w+2]=this.state[w]>>>8&255,M[4*w+3]=this.state[w]>>>0&255;return this},x.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},x.prototype._saveState=function(M){for(var B=0;B<this.state.length;B++)M[B]=this.state[B]},x.prototype._restoreState=function(M,B){for(var K=0;K<this.state.length;K++)this.state[K]=M[K];this.bytesHashed=B,this.finished=!1,this.bufferLength=0},x}();n.Hash=g;var b=function(){function x(M){this.inner=new g,this.outer=new g,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var B=new Uint8Array(this.blockSize);if(M.length>this.blockSize)(new g).update(M).finish(B).clean();else for(var K=0;K<M.length;K++)B[K]=M[K];for(K=0;K<B.length;K++)B[K]^=54;for(this.inner.update(B),K=0;K<B.length;K++)B[K]^=106;for(this.outer.update(B),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),K=0;K<B.length;K++)B[K]=0}return x.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},x.prototype.clean=function(){for(var M=0;M<this.istate.length;M++)this.ostate[M]=this.istate[M]=0;this.inner.clean(),this.outer.clean()},x.prototype.update=function(M){return this.inner.update(M),this},x.prototype.finish=function(M){return this.outer.finished?this.outer.finish(M):(this.inner.finish(M),this.outer.update(M,this.digestLength).finish(M)),this},x.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},x}();function E(x){var M=(new g).update(x),B=M.digest();return M.clean(),B}function _(x,M){var B=new b(x).update(M),K=B.digest();return B.clean(),K}function u(x,M,B,K){var P=K[0];if(0===P)throw new Error("hkdf: cannot expand more");M.reset(),P>1&&M.update(x),B&&M.update(B),M.update(K),M.finish(x),K[0]++}n.HMAC=b,n.hash=E,n.default=E,n.hmac=_;var I=new Uint8Array(n.digestLength);n.hkdf=function k(x,M,B,K){void 0===M&&(M=I),void 0===K&&(K=32);for(var P=new Uint8Array([1]),j=_(M,x),S=new b(j),w=new Uint8Array(S.digestLength),m=w.length,v=new Uint8Array(K),A=0;A<K;A++)m===w.length&&(u(w,S,B,P),m=0),v[A]=w[m++];return S.clean(),w.fill(0),P.fill(0),v},n.pbkdf2=function y(x,M,B,K){for(var P=new b(x),j=P.digestLength,S=new Uint8Array(4),w=new Uint8Array(j),m=new Uint8Array(j),v=new Uint8Array(K),A=0;A*j<K;A++){var L=A+1;S[0]=L>>>24&255,S[1]=L>>>16&255,S[2]=L>>>8&255,S[3]=L>>>0&255,P.reset(),P.update(M),P.update(S),P.finish(m);for(var G=0;G<j;G++)w[G]=m[G];for(G=2;G<=B;G++){P.reset(),P.update(m).finish(m);for(var O=0;O<j;O++)w[O]^=m[O]}for(G=0;G<j&&A*j+G<K;G++)v[A*j+G]=w[G]}for(A=0;A<j;A++)w[A]=m[A]=0;for(A=0;A<4;A++)S[A]=0;return P.clean(),v}}(h);var g=h.default;for(var b in h)g[b]=h[b];"object"==typeof Ot.exports?Ot.exports=g:void 0!==(e=function(){return g}.call(h,s,h,Ot))&&(Ot.exports=e)}()},5947:(Ot,ve,s)=>{Ot=s.nmd(Ot);var n="__lodash_hash_undefined__",d=9007199254740991,h="[object Arguments]",b="[object Boolean]",E="[object Date]",u="[object Function]",I="[object GeneratorFunction]",k="[object Map]",y="[object Number]",x="[object Object]",M="[object Promise]",B="[object RegExp]",K="[object Set]",P="[object String]",j="[object Symbol]",S="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",A="[object Float64Array]",L="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",W="[object Uint8Array]",U="[object Uint8ClampedArray]",$="[object Uint16Array]",te="[object Uint32Array]",me=/\w*$/,Y=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,N={};N[h]=N["[object Array]"]=N[w]=N[m]=N[b]=N[E]=N[v]=N[A]=N[L]=N[G]=N[O]=N[k]=N[y]=N[x]=N[B]=N[K]=N[P]=N[j]=N[W]=N[U]=N[$]=N[te]=!0,N["[object Error]"]=N[u]=N[S]=!1;var J="object"==typeof global&&global&&global.Object===Object&&global,ae="object"==typeof self&&self&&self.Object===Object&&self,_e=J||ae||Function("return this")(),xe=ve&&!ve.nodeType&&ve,Fe=xe&&Ot&&!Ot.nodeType&&Ot,Ae=Fe&&Fe.exports===xe;function Ye(Ve,jt){return Ve.set(jt[0],jt[1]),Ve}function qe(Ve,jt){return Ve.add(jt),Ve}function pe(Ve,jt,un,kn){var Bi=-1,vi=Ve?Ve.length:0;for(kn&&vi&&(un=Ve[++Bi]);++Bi<vi;)un=jt(un,Ve[Bi],Bi,Ve);return un}function Ee(Ve){var jt=!1;if(null!=Ve&&"function"!=typeof Ve.toString)try{jt=!!(Ve+"")}catch{}return jt}function Xe(Ve){var jt=-1,un=Array(Ve.size);return Ve.forEach(function(kn,Bi){un[++jt]=[Bi,kn]}),un}function xt(Ve,jt){return function(un){return Ve(jt(un))}}function dt(Ve){var jt=-1,un=Array(Ve.size);return Ve.forEach(function(kn){un[++jt]=kn}),un}var Ve,Ct=Array.prototype,Qt=Function.prototype,_n=Object.prototype,In=_e["__core-js_shared__"],rn=(Ve=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||""))?"Symbol(src)_1."+Ve:"",$t=Qt.toString,q=_n.hasOwnProperty,Ie=_n.toString,se=RegExp("^"+$t.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=Ae?_e.Buffer:void 0,Ke=_e.Symbol,It=_e.Uint8Array,Kt=xt(Object.getPrototypeOf,Object),vn=Object.create,Pt=_n.propertyIsEnumerable,an=Ct.splice,Et=Object.getOwnPropertySymbols,bt=fe?fe.isBuffer:void 0,Yt=xt(Object.keys,Object),Xt=Qn(_e,"DataView"),nn=Qn(_e,"Map"),yn=Qn(_e,"Promise"),Mn=Qn(_e,"Set"),Ln=Qn(_e,"WeakMap"),Fn=Qn(Object,"create"),$n=Zs(Xt),Ht=Zs(nn),ze=Zs(yn),Bt=Zs(Mn),Te=Zs(Ln),Ge=Ke?Ke.prototype:void 0,Tt=Ge?Ge.valueOf:void 0;function Wt(Ve){var jt=-1,un=Ve?Ve.length:0;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function Qe(Ve){var jt=-1,un=Ve?Ve.length:0;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function Ze(Ve){var jt=-1,un=Ve?Ve.length:0;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function Xn(Ve){this.__data__=new Qe(Ve)}function mn(Ve,jt,un){var kn=Ve[jt];(!q.call(Ve,jt)||!pr(kn,un)||void 0===un&&!(jt in Ve))&&(Ve[jt]=un)}function gt(Ve,jt){for(var un=Ve.length;un--;)if(pr(Ve[un][0],jt))return un;return-1}function St(Ve,jt,un,kn,Bi,vi,Ki){var ji;if(kn&&(ji=vi?kn(Ve,Bi,vi,Ki):kn(Ve)),void 0!==ji)return ji;if(!Do(Ve))return Ve;var Ks=qr(Ve);if(Ks){if(ji=function mo(Ve){var jt=Ve.length,un=Ve.constructor(jt);return jt&&"string"==typeof Ve[0]&&q.call(Ve,"index")&&(un.index=Ve.index,un.input=Ve.input),un}(Ve),!jt)return function Ei(Ve,jt){var un=-1,kn=Ve.length;for(jt||(jt=Array(kn));++un<kn;)jt[un]=Ve[un];return jt}(Ve,ji)}else{var vs=Gi(Ve),$s=vs==u||vs==I;if(ua(Ve))return function At(Ve,jt){if(jt)return Ve.slice();var un=new Ve.constructor(Ve.length);return Ve.copy(un),un}(Ve,jt);if(vs==x||vs==h||$s&&!vi){if(Ee(Ve))return vi?Ve:{};if(ji=function ho(Ve){return"function"!=typeof Ve.constructor||tr(Ve)?{}:function bn(Ve){return Do(Ve)?vn(Ve):{}}(Kt(Ve))}($s?{}:Ve),!jt)return function Wi(Ve,jt){return es(Ve,Js(Ve),jt)}(Ve,function pt(Ve,jt){return Ve&&es(jt,_o(jt),Ve)}(ji,Ve))}else{if(!N[vs])return vi?Ve:{};ji=function io(Ve,jt,un,kn){var Bi=Ve.constructor;switch(jt){case w:return ne(Ve);case b:case E:return new Bi(+Ve);case m:return function ke(Ve,jt){var un=jt?ne(Ve.buffer):Ve.buffer;return new Ve.constructor(un,Ve.byteOffset,Ve.byteLength)}(Ve,kn);case v:case A:case L:case G:case O:case W:case U:case $:case te:return function ai(Ve,jt){var un=jt?ne(Ve.buffer):Ve.buffer;return new Ve.constructor(un,Ve.byteOffset,Ve.length)}(Ve,kn);case k:return function He(Ve,jt,un){return pe(jt?un(Xe(Ve),!0):Xe(Ve),Ye,new Ve.constructor)}(Ve,kn,un);case y:case P:return new Bi(Ve);case B:return function Dt(Ve){var jt=new Ve.constructor(Ve.source,me.exec(Ve));return jt.lastIndex=Ve.lastIndex,jt}(Ve);case K:return function hn(Ve,jt,un){return pe(jt?un(dt(Ve),!0):dt(Ve),qe,new Ve.constructor)}(Ve,kn,un);case j:return function Bn(Ve){return Tt?Object(Tt.call(Ve)):{}}(Ve)}}(Ve,vs,St,jt)}}Ki||(Ki=new Xn);var go=Ki.get(Ve);if(go)return go;if(Ki.set(Ve,ji),!Ks)var Ws=un?function zi(Ve){return function st(Ve,jt,un){var kn=jt(Ve);return qr(Ve)?kn:function Me(Ve,jt){for(var un=-1,kn=jt.length,Bi=Ve.length;++un<kn;)Ve[Bi+un]=jt[un];return Ve}(kn,un(Ve))}(Ve,_o,Js)}(Ve):_o(Ve);return function Ne(Ve,jt){for(var un=-1,kn=Ve?Ve.length:0;++un<kn&&!1!==jt(Ve[un],un,Ve););}(Ws||Ve,function(qs,ws){Ws&&(qs=Ve[ws=qs]),mn(ji,ws,St(qs,jt,un,kn,ws,Ve,Ki))}),ji}function ne(Ve){var jt=new Ve.constructor(Ve.byteLength);return new It(jt).set(new It(Ve)),jt}function es(Ve,jt,un,kn){un||(un={});for(var Bi=-1,vi=jt.length;++Bi<vi;){var Ki=jt[Bi],ji=kn?kn(un[Ki],Ve[Ki],Ki,un,Ve):void 0;mn(un,Ki,void 0===ji?Ve[Ki]:ji)}return un}function Ji(Ve,jt){var un=Ve.__data__;return function Ts(Ve){var jt=typeof Ve;return"string"==jt||"number"==jt||"symbol"==jt||"boolean"==jt?"__proto__"!==Ve:null===Ve}(jt)?un["string"==typeof jt?"string":"hash"]:un.map}function Qn(Ve,jt){var un=function le(Ve,jt){return Ve?.[jt]}(Ve,jt);return function Gt(Ve){return!(!Do(Ve)||function Tr(Ve){return!!rn&&rn in Ve}(Ve))&&(Br(Ve)||Ee(Ve)?se:Y).test(Zs(Ve))}(un)?un:void 0}Wt.prototype.clear=function We(){this.__data__=Fn?Fn(null):{}},Wt.prototype.delete=function Pe(Ve){return this.has(Ve)&&delete this.__data__[Ve]},Wt.prototype.get=function Ue(Ve){var jt=this.__data__;if(Fn){var un=jt[Ve];return un===n?void 0:un}return q.call(jt,Ve)?jt[Ve]:void 0},Wt.prototype.has=function De(Ve){var jt=this.__data__;return Fn?void 0!==jt[Ve]:q.call(jt,Ve)},Wt.prototype.set=function rt(Ve,jt){return this.__data__[Ve]=Fn&&void 0===jt?n:jt,this},Qe.prototype.clear=function vt(){this.__data__=[]},Qe.prototype.delete=function et(Ve){var jt=this.__data__,un=gt(jt,Ve);return!(un<0||(un==jt.length-1?jt.pop():an.call(jt,un,1),0))},Qe.prototype.get=function Re(Ve){var jt=this.__data__,un=gt(jt,Ve);return un<0?void 0:jt[un][1]},Qe.prototype.has=function Mt(Ve){return gt(this.__data__,Ve)>-1},Qe.prototype.set=function nt(Ve,jt){var un=this.__data__,kn=gt(un,Ve);return kn<0?un.push([Ve,jt]):un[kn][1]=jt,this},Ze.prototype.clear=function qt(){this.__data__={hash:new Wt,map:new(nn||Qe),string:new Wt}},Ze.prototype.delete=function Vt(Ve){return Ji(this,Ve).delete(Ve)},Ze.prototype.get=function dn(Ve){return Ji(this,Ve).get(Ve)},Ze.prototype.has=function xn(Ve){return Ji(this,Ve).has(Ve)},Ze.prototype.set=function Wn(Ve,jt){return Ji(this,Ve).set(Ve,jt),this},Xn.prototype.clear=function ti(){this.__data__=new Qe},Xn.prototype.delete=function Ii(Ve){return this.__data__.delete(Ve)},Xn.prototype.get=function yi(Ve){return this.__data__.get(Ve)},Xn.prototype.has=function ss(Ve){return this.__data__.has(Ve)},Xn.prototype.set=function ys(Ve,jt){var un=this.__data__;if(un instanceof Qe){var kn=un.__data__;if(!nn||kn.length<199)return kn.push([Ve,jt]),this;un=this.__data__=new Ze(kn)}return un.set(Ve,jt),this};var Js=Et?xt(Et,Object):function ta(){return[]},Gi=function it(Ve){return Ie.call(Ve)};function Mr(Ve,jt){return!!(jt=jt??d)&&("number"==typeof Ve||F.test(Ve))&&Ve>-1&&Ve%1==0&&Ve<jt}function tr(Ve){var jt=Ve&&Ve.constructor;return Ve===("function"==typeof jt&&jt.prototype||_n)}function Zs(Ve){if(null!=Ve){try{return $t.call(Ve)}catch{}try{return Ve+""}catch{}}return""}function pr(Ve,jt){return Ve===jt||Ve!=Ve&&jt!=jt}(Xt&&Gi(new Xt(new ArrayBuffer(1)))!=m||nn&&Gi(new nn)!=k||yn&&Gi(yn.resolve())!=M||Mn&&Gi(new Mn)!=K||Ln&&Gi(new Ln)!=S)&&(Gi=function(Ve){var jt=Ie.call(Ve),un=jt==x?Ve.constructor:void 0,kn=un?Zs(un):void 0;if(kn)switch(kn){case $n:return m;case Ht:return k;case ze:return M;case Bt:return K;case Te:return S}return jt});var qr=Array.isArray;function Nr(Ve){return null!=Ve&&function $r(Ve){return"number"==typeof Ve&&Ve>-1&&Ve%1==0&&Ve<=d}(Ve.length)&&!Br(Ve)}var ua=bt||function ir(){return!1};function Br(Ve){var jt=Do(Ve)?Ie.call(Ve):"";return jt==u||jt==I}function Do(Ve){var jt=typeof Ve;return!!Ve&&("object"==jt||"function"==jt)}function _o(Ve){return Nr(Ve)?function $i(Ve,jt){var un=qr(Ve)||function Dr(Ve){return function ea(Ve){return function Ta(Ve){return!!Ve&&"object"==typeof Ve}(Ve)&&Nr(Ve)}(Ve)&&q.call(Ve,"callee")&&(!Pt.call(Ve,"callee")||Ie.call(Ve)==h)}(Ve)?function he(Ve,jt){for(var un=-1,kn=Array(Ve);++un<Ve;)kn[un]=jt(un);return kn}(Ve.length,String):[],kn=un.length,Bi=!!kn;for(var vi in Ve)(jt||q.call(Ve,vi))&&(!Bi||"length"!=vi&&!Mr(vi,kn))&&un.push(vi);return un}(Ve):function Se(Ve){if(!tr(Ve))return Yt(Ve);var jt=[];for(var un in Object(Ve))q.call(Ve,un)&&"constructor"!=un&&jt.push(un);return jt}(Ve)}Ot.exports=function nr(Ve){return St(Ve,!0,!0)}},5667:(Ot,ve,s)=>{Ot=s.nmd(Ot);var n="__lodash_hash_undefined__",d=1,h=2,g=9007199254740991,b="[object Arguments]",E="[object Array]",_="[object AsyncFunction]",u="[object Boolean]",I="[object Date]",k="[object Error]",y="[object Function]",x="[object GeneratorFunction]",M="[object Map]",B="[object Number]",K="[object Null]",P="[object Object]",j="[object Promise]",S="[object Proxy]",w="[object RegExp]",m="[object Set]",v="[object String]",L="[object Undefined]",G="[object WeakMap]",O="[object ArrayBuffer]",W="[object DataView]",_e=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe[b]=Fe[E]=Fe[O]=Fe[u]=Fe[W]=Fe[I]=Fe[k]=Fe[y]=Fe[M]=Fe[B]=Fe[P]=Fe[w]=Fe[m]=Fe[v]=Fe[G]=!1;var Ae="object"==typeof global&&global&&global.Object===Object&&global,Ye="object"==typeof self&&self&&self.Object===Object&&self,qe=Ae||Ye||Function("return this")(),Ne=ve&&!ve.nodeType&&ve,Me=Ne&&Ot&&!Ot.nodeType&&Ot,pe=Me&&Me.exports===Ne,he=pe&&Ae.process,le=function(){try{return he&&he.binding&&he.binding("util")}catch{}}(),Ee=le&&le.isTypedArray;function dt(Ve,jt){for(var un=-1,kn=null==Ve?0:Ve.length;++un<kn;)if(jt(Ve[un],un,Ve))return!0;return!1}function _n(Ve,jt){return Ve.has(jt)}function rn(Ve){var jt=-1,un=Array(Ve.size);return Ve.forEach(function(kn,Bi){un[++jt]=[Bi,kn]}),un}function q(Ve){var jt=-1,un=Array(Ve.size);return Ve.forEach(function(kn){un[++jt]=kn}),un}var Ve,Ie=Array.prototype,fe=Object.prototype,Ke=qe["__core-js_shared__"],It=Function.prototype.toString,Kt=fe.hasOwnProperty,vn=(Ve=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Ve:"",Pt=fe.toString,an=RegExp("^"+It.call(Kt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=pe?qe.Buffer:void 0,bt=qe.Symbol,Yt=qe.Uint8Array,Xt=fe.propertyIsEnumerable,nn=Ie.splice,yn=bt?bt.toStringTag:void 0,Mn=Object.getOwnPropertySymbols,Ln=Et?Et.isBuffer:void 0,Fn=function $t(Ve,jt){return function(un){return Ve(jt(un))}}(Object.keys,Object),$n=Js(qe,"DataView"),Ht=Js(qe,"Map"),ze=Js(qe,"Promise"),Bt=Js(qe,"Set"),Te=Js(qe,"WeakMap"),Ge=Js(Object,"create"),Tt=Zs($n),Wt=Zs(Ht),We=Zs(ze),Pe=Zs(Bt),Ue=Zs(Te),De=bt?bt.prototype:void 0,rt=De?De.valueOf:void 0;function Qe(Ve){var jt=-1,un=null==Ve?0:Ve.length;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function Ze(Ve){var jt=-1,un=null==Ve?0:Ve.length;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function Xn(Ve){var jt=-1,un=null==Ve?0:Ve.length;for(this.clear();++jt<un;){var kn=Ve[jt];this.set(kn[0],kn[1])}}function $i(Ve){var jt=-1,un=null==Ve?0:Ve.length;for(this.__data__=new Xn;++jt<un;)this.add(Ve[jt])}function pt(Ve){var jt=this.__data__=new Ze(Ve);this.size=jt.size}function At(Ve,jt){for(var un=Ve.length;un--;)if(nr(Ve[un][0],jt))return un;return-1}function ke(Ve){return null==Ve?void 0===Ve?L:K:yn&&yn in Object(Ve)?function Gi(Ve){var jt=Kt.call(Ve,yn),un=Ve[yn];try{Ve[yn]=void 0;var kn=!0}catch{}var Bi=Pt.call(Ve);return kn&&(jt?Ve[yn]=un:delete Ve[yn]),Bi}(Ve):function tr(Ve){return Pt.call(Ve)}(Ve)}function He(Ve){return Do(Ve)&&ke(Ve)==b}function Dt(Ve,jt,un,kn,Bi){return Ve===jt||(null==Ve||null==jt||!Do(Ve)&&!Do(jt)?Ve!=Ve&&jt!=jt:function hn(Ve,jt,un,kn,Bi,vi){var Ki=Dr(Ve),ji=Dr(jt),Ks=Ki?E:ho(Ve),vs=ji?E:ho(jt),$s=(Ks=Ks==b?P:Ks)==P,go=(vs=vs==b?P:vs)==P,Ws=Ks==vs;if(Ws&&Nr(Ve)){if(!Nr(jt))return!1;Ki=!0,$s=!1}if(Ws&&!$s)return vi||(vi=new pt),Ki||Ta(Ve)?es(Ve,jt,un,kn,Bi,vi):function Wi(Ve,jt,un,kn,Bi,vi,Ki){switch(un){case W:if(Ve.byteLength!=jt.byteLength||Ve.byteOffset!=jt.byteOffset)return!1;Ve=Ve.buffer,jt=jt.buffer;case O:return!(Ve.byteLength!=jt.byteLength||!vi(new Yt(Ve),new Yt(jt)));case u:case I:case B:return nr(+Ve,+jt);case k:return Ve.name==jt.name&&Ve.message==jt.message;case w:case v:return Ve==jt+"";case M:var ji=rn;case m:if(ji||(ji=q),Ve.size!=jt.size&&!(kn&d))return!1;var vs=Ki.get(Ve);if(vs)return vs==jt;kn|=h,Ki.set(Ve,jt);var $s=es(ji(Ve),ji(jt),kn,Bi,vi,Ki);return Ki.delete(Ve),$s;case"[object Symbol]":if(rt)return rt.call(Ve)==rt.call(jt)}return!1}(Ve,jt,Ks,un,kn,Bi,vi);if(!(un&d)){var qs=$s&&Kt.call(Ve,"__wrapped__"),ws=go&&Kt.call(jt,"__wrapped__");if(qs||ws){var Po=qs?Ve.value():Ve,Lo=ws?jt.value():jt;return vi||(vi=new pt),Bi(Po,Lo,un,kn,vi)}}return!!Ws&&(vi||(vi=new pt),function zi(Ve,jt,un,kn,Bi,vi){var Ki=un&d,ji=Ji(Ve),Ks=ji.length;if(Ks!=Ji(jt).length&&!Ki)return!1;for(var go=Ks;go--;){var Ws=ji[go];if(!(Ki?Ws in jt:Kt.call(jt,Ws)))return!1}var qs=vi.get(Ve);if(qs&&vi.get(jt))return qs==jt;var ws=!0;vi.set(Ve,jt),vi.set(jt,Ve);for(var Po=Ki;++go<Ks;){var Lo=Ve[Ws=ji[go]],Co=jt[Ws];if(kn)var ri=Ki?kn(Co,Lo,Ws,jt,Ve,vi):kn(Lo,Co,Ws,Ve,jt,vi);if(!(void 0===ri?Lo===Co||Bi(Lo,Co,un,kn,vi):ri)){ws=!1;break}Po||(Po="constructor"==Ws)}if(ws&&!Po){var xo=Ve.constructor,vo=jt.constructor;xo!=vo&&"constructor"in Ve&&"constructor"in jt&&!("function"==typeof xo&&xo instanceof xo&&"function"==typeof vo&&vo instanceof vo)&&(ws=!1)}return vi.delete(Ve),vi.delete(jt),ws}(Ve,jt,un,kn,Bi,vi))}(Ve,jt,un,kn,Dt,Bi))}function es(Ve,jt,un,kn,Bi,vi){var Ki=un&d,ji=Ve.length,Ks=jt.length;if(ji!=Ks&&!(Ki&&Ks>ji))return!1;var vs=vi.get(Ve);if(vs&&vi.get(jt))return vs==jt;var $s=-1,go=!0,Ws=un&h?new $i:void 0;for(vi.set(Ve,jt),vi.set(jt,Ve);++$s<ji;){var qs=Ve[$s],ws=jt[$s];if(kn)var Po=Ki?kn(ws,qs,$s,jt,Ve,vi):kn(qs,ws,$s,Ve,jt,vi);if(void 0!==Po){if(Po)continue;go=!1;break}if(Ws){if(!dt(jt,function(Lo,Co){if(!_n(Ws,Co)&&(qs===Lo||Bi(qs,Lo,un,kn,vi)))return Ws.push(Co)})){go=!1;break}}else if(qs!==ws&&!Bi(qs,ws,un,kn,vi)){go=!1;break}}return vi.delete(Ve),vi.delete(jt),go}function Ji(Ve){return function ne(Ve,jt,un){var kn=jt(Ve);return Dr(Ve)?kn:function xt(Ve,jt){for(var un=-1,kn=jt.length,Bi=Ve.length;++un<kn;)Ve[Bi+un]=jt[un];return Ve}(kn,un(Ve))}(Ve,_o,mo)}function Qn(Ve,jt){var un=Ve.__data__;return function Mr(Ve){var jt=typeof Ve;return"string"==jt||"number"==jt||"symbol"==jt||"boolean"==jt?"__proto__"!==Ve:null===Ve}(jt)?un["string"==typeof jt?"string":"hash"]:un.map}function Js(Ve,jt){var un=function In(Ve,jt){return Ve?.[jt]}(Ve,jt);return function Bn(Ve){return!(!$r(Ve)||function Ts(Ve){return!!vn&&vn in Ve}(Ve))&&(ua(Ve)?an:_e).test(Zs(Ve))}(un)?un:void 0}Qe.prototype.clear=function vt(){this.__data__=Ge?Ge(null):{},this.size=0},Qe.prototype.delete=function et(Ve){var jt=this.has(Ve)&&delete this.__data__[Ve];return this.size-=jt?1:0,jt},Qe.prototype.get=function Re(Ve){var jt=this.__data__;if(Ge){var un=jt[Ve];return un===n?void 0:un}return Kt.call(jt,Ve)?jt[Ve]:void 0},Qe.prototype.has=function Mt(Ve){var jt=this.__data__;return Ge?void 0!==jt[Ve]:Kt.call(jt,Ve)},Qe.prototype.set=function nt(Ve,jt){var un=this.__data__;return this.size+=this.has(Ve)?0:1,un[Ve]=Ge&&void 0===jt?n:jt,this},Ze.prototype.clear=function qt(){this.__data__=[],this.size=0},Ze.prototype.delete=function Vt(Ve){var jt=this.__data__,un=At(jt,Ve);return!(un<0||(un==jt.length-1?jt.pop():nn.call(jt,un,1),--this.size,0))},Ze.prototype.get=function dn(Ve){var jt=this.__data__,un=At(jt,Ve);return un<0?void 0:jt[un][1]},Ze.prototype.has=function xn(Ve){return At(this.__data__,Ve)>-1},Ze.prototype.set=function Wn(Ve,jt){var un=this.__data__,kn=At(un,Ve);return kn<0?(++this.size,un.push([Ve,jt])):un[kn][1]=jt,this},Xn.prototype.clear=function ti(){this.size=0,this.__data__={hash:new Qe,map:new(Ht||Ze),string:new Qe}},Xn.prototype.delete=function Ii(Ve){var jt=Qn(this,Ve).delete(Ve);return this.size-=jt?1:0,jt},Xn.prototype.get=function yi(Ve){return Qn(this,Ve).get(Ve)},Xn.prototype.has=function ss(Ve){return Qn(this,Ve).has(Ve)},Xn.prototype.set=function ys(Ve,jt){var un=Qn(this,Ve),kn=un.size;return un.set(Ve,jt),this.size+=un.size==kn?0:1,this},$i.prototype.add=$i.prototype.push=function mn(Ve){return this.__data__.set(Ve,n),this},$i.prototype.has=function gt(Ve){return this.__data__.has(Ve)},pt.prototype.clear=function St(){this.__data__=new Ze,this.size=0},pt.prototype.delete=function bn(Ve){var jt=this.__data__,un=jt.delete(Ve);return this.size=jt.size,un},pt.prototype.get=function st(Ve){return this.__data__.get(Ve)},pt.prototype.has=function it(Ve){return this.__data__.has(Ve)},pt.prototype.set=function Gt(Ve,jt){var un=this.__data__;if(un instanceof Ze){var kn=un.__data__;if(!Ht||kn.length<199)return kn.push([Ve,jt]),this.size=++un.size,this;un=this.__data__=new Xn(kn)}return un.set(Ve,jt),this.size=un.size,this};var mo=Mn?function(Ve){return null==Ve?[]:(Ve=Object(Ve),function Xe(Ve,jt){for(var un=-1,kn=null==Ve?0:Ve.length,Bi=0,vi=[];++un<kn;){var Ki=Ve[un];jt(Ki,un,Ve)&&(vi[Bi++]=Ki)}return vi}(Mn(Ve),function(jt){return Xt.call(Ve,jt)}))}:function ta(){return[]},ho=ke;function io(Ve,jt){return!!(jt=jt??g)&&("number"==typeof Ve||xe.test(Ve))&&Ve>-1&&Ve%1==0&&Ve<jt}function Zs(Ve){if(null!=Ve){try{return It.call(Ve)}catch{}try{return Ve+""}catch{}}return""}function nr(Ve,jt){return Ve===jt||Ve!=Ve&&jt!=jt}($n&&ho(new $n(new ArrayBuffer(1)))!=W||Ht&&ho(new Ht)!=M||ze&&ho(ze.resolve())!=j||Bt&&ho(new Bt)!=m||Te&&ho(new Te)!=G)&&(ho=function(Ve){var jt=ke(Ve),un=jt==P?Ve.constructor:void 0,kn=un?Zs(un):"";if(kn)switch(kn){case Tt:return W;case Wt:return M;case We:return j;case Pe:return m;case Ue:return G}return jt});var pr=He(function(){return arguments}())?He:function(Ve){return Do(Ve)&&Kt.call(Ve,"callee")&&!Xt.call(Ve,"callee")},Dr=Array.isArray,Nr=Ln||function ir(){return!1};function ua(Ve){if(!$r(Ve))return!1;var jt=ke(Ve);return jt==y||jt==x||jt==_||jt==S}function Br(Ve){return"number"==typeof Ve&&Ve>-1&&Ve%1==0&&Ve<=g}function $r(Ve){var jt=typeof Ve;return null!=Ve&&("object"==jt||"function"==jt)}function Do(Ve){return null!=Ve&&"object"==typeof Ve}var Ta=Ee?function Qt(Ve){return function(jt){return Ve(jt)}}(Ee):function ai(Ve){return Do(Ve)&&Br(Ve.length)&&!!Fe[ke(Ve)]};function _o(Ve){return function qr(Ve){return null!=Ve&&Br(Ve.length)&&!ua(Ve)}(Ve)?function Se(Ve,jt){var un=Dr(Ve),kn=!un&&pr(Ve),Bi=!un&&!kn&&Nr(Ve),vi=!un&&!kn&&!Bi&&Ta(Ve),Ki=un||kn||Bi||vi,ji=Ki?function Ct(Ve,jt){for(var un=-1,kn=Array(Ve);++un<Ve;)kn[un]=jt(un);return kn}(Ve.length,String):[],Ks=ji.length;for(var vs in Ve)(jt||Kt.call(Ve,vs))&&(!Ki||!("length"==vs||Bi&&("offset"==vs||"parent"==vs)||vi&&("buffer"==vs||"byteLength"==vs||"byteOffset"==vs)||io(vs,Ks)))&&ji.push(vs);return ji}(Ve):function Ei(Ve){if(!function Tr(Ve){var jt=Ve&&Ve.constructor;return Ve===("function"==typeof jt&&jt.prototype||fe)}(Ve))return Fn(Ve);var jt=[];for(var un in Object(Ve))Kt.call(Ve,un)&&"constructor"!=un&&jt.push(un);return jt}(Ve)}Ot.exports=function ea(Ve,jt){return Dt(Ve,jt)}},1561:(Ot,ve,s)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});const e=s(5947),n=s(5667);var d,h;(h=d||(d={})).compose=function g(u={},I={},k=!1){"object"!=typeof u&&(u={}),"object"!=typeof I&&(I={});let y=e(I);k||(y=Object.keys(y).reduce((x,M)=>(null!=y[M]&&(x[M]=y[M]),x),{}));for(const x in u)void 0!==u[x]&&void 0===I[x]&&(y[x]=u[x]);return Object.keys(y).length>0?y:void 0},h.diff=function b(u={},I={}){"object"!=typeof u&&(u={}),"object"!=typeof I&&(I={});const k=Object.keys(u).concat(Object.keys(I)).reduce((y,x)=>(n(u[x],I[x])||(y[x]=void 0===I[x]?null:I[x]),y),{});return Object.keys(k).length>0?k:void 0},h.invert=function E(u={},I={}){u=u||{};const k=Object.keys(I).reduce((y,x)=>(I[x]!==u[x]&&void 0!==u[x]&&(y[x]=I[x]),y),{});return Object.keys(u).reduce((y,x)=>(u[x]!==I[x]&&void 0===I[x]&&(y[x]=null),y),k)},h.transform=function _(u,I,k=!1){if("object"!=typeof u)return I;if("object"!=typeof I)return;if(!k)return I;const y=Object.keys(I).reduce((x,M)=>(void 0===u[M]&&(x[M]=I[M]),x),{});return Object.keys(y).length>0?y:void 0},ve.default=d},2577:(Ot,ve,s)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.AttributeMap=ve.OpIterator=ve.Op=void 0;const e=s(8655),n=s(5947),d=s(5667),h=s(1561);ve.AttributeMap=h.default;const g=s(8964);ve.Op=g.default;const b=s(6366);ve.OpIterator=b.default;const _=(I,k)=>{if("object"!=typeof I||null===I)throw new Error("cannot retain a "+typeof I);if("object"!=typeof k||null===k)throw new Error("cannot retain a "+typeof k);const y=Object.keys(I)[0];if(!y||y!==Object.keys(k)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(k)[0]}`);return[y,I[y],k[y]]};class u{constructor(k){this.ops=Array.isArray(k)?k:null!=k&&Array.isArray(k.ops)?k.ops:[]}static registerEmbed(k,y){this.handlers[k]=y}static unregisterEmbed(k){delete this.handlers[k]}static getHandler(k){const y=this.handlers[k];if(!y)throw new Error(`no handlers for embed type "${k}"`);return y}insert(k,y){const x={};return"string"==typeof k&&0===k.length?this:(x.insert=k,null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x))}delete(k){return k<=0?this:this.push({delete:k})}retain(k,y){if("number"==typeof k&&k<=0)return this;const x={retain:k};return null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x)}push(k){let y=this.ops.length,x=this.ops[y-1];if(k=n(k),"object"==typeof x){if("number"==typeof k.delete&&"number"==typeof x.delete)return this.ops[y-1]={delete:x.delete+k.delete},this;if("number"==typeof x.delete&&null!=k.insert&&(y-=1,x=this.ops[y-1],"object"!=typeof x))return this.ops.unshift(k),this;if(d(k.attributes,x.attributes)){if("string"==typeof k.insert&&"string"==typeof x.insert)return this.ops[y-1]={insert:x.insert+k.insert},"object"==typeof k.attributes&&(this.ops[y-1].attributes=k.attributes),this;if("number"==typeof k.retain&&"number"==typeof x.retain)return this.ops[y-1]={retain:x.retain+k.retain},"object"==typeof k.attributes&&(this.ops[y-1].attributes=k.attributes),this}}return y===this.ops.length?this.ops.push(k):this.ops.splice(y,0,k),this}chop(){const k=this.ops[this.ops.length-1];return k&&"number"==typeof k.retain&&!k.attributes&&this.ops.pop(),this}filter(k){return this.ops.filter(k)}forEach(k){this.ops.forEach(k)}map(k){return this.ops.map(k)}partition(k){const y=[],x=[];return this.forEach(M=>{(k(M)?y:x).push(M)}),[y,x]}reduce(k,y){return this.ops.reduce(k,y)}changeLength(){return this.reduce((k,y)=>y.insert?k+g.default.length(y):y.delete?k-y.delete:k,0)}length(){return this.reduce((k,y)=>k+g.default.length(y),0)}slice(k=0,y=1/0){const x=[],M=new b.default(this.ops);let B=0;for(;B<y&&M.hasNext();){let K;B<k?K=M.next(k-B):(K=M.next(y-B),x.push(K)),B+=g.default.length(K)}return new u(x)}compose(k){const y=new b.default(this.ops),x=new b.default(k.ops),M=[],B=x.peek();if(null!=B&&"number"==typeof B.retain&&null==B.attributes){let P=B.retain;for(;"insert"===y.peekType()&&y.peekLength()<=P;)P-=y.peekLength(),M.push(y.next());B.retain-P>0&&x.next(B.retain-P)}const K=new u(M);for(;y.hasNext()||x.hasNext();)if("insert"===x.peekType())K.push(x.next());else if("delete"===y.peekType())K.push(y.next());else{const P=Math.min(y.peekLength(),x.peekLength()),j=y.next(P),S=x.next(P);if(S.retain){const w={};if("number"==typeof j.retain)w.retain="number"==typeof S.retain?P:S.retain;else if("number"==typeof S.retain)null==j.retain?w.insert=j.insert:w.retain=j.retain;else{const v=null==j.retain?"insert":"retain",[A,L,G]=_(j[v],S.retain),O=u.getHandler(A);w[v]={[A]:O.compose(L,G,"retain"===v)}}const m=h.default.compose(j.attributes,S.attributes,"number"==typeof j.retain);if(m&&(w.attributes=m),K.push(w),!x.hasNext()&&d(K.ops[K.ops.length-1],w)){const v=new u(y.rest());return K.concat(v).chop()}}else"number"==typeof S.delete&&("number"==typeof j.retain||"object"==typeof j.retain&&null!==j.retain)&&K.push(S)}return K.chop()}concat(k){const y=new u(this.ops.slice());return k.ops.length>0&&(y.push(k.ops[0]),y.ops=y.ops.concat(k.ops.slice(1))),y}diff(k,y){if(this.ops===k.ops)return new u;const x=[this,k].map(j=>j.map(S=>{if(null!=S.insert)return"string"==typeof S.insert?S.insert:"\0";throw new Error("diff() called "+(j===k?"on":"with")+" non-document")}).join("")),M=new u,B=e(x[0],x[1],y,!0),K=new b.default(this.ops),P=new b.default(k.ops);return B.forEach(j=>{let S=j[1].length;for(;S>0;){let w=0;switch(j[0]){case e.INSERT:w=Math.min(P.peekLength(),S),M.push(P.next(w));break;case e.DELETE:w=Math.min(S,K.peekLength()),K.next(w),M.delete(w);break;case e.EQUAL:w=Math.min(K.peekLength(),P.peekLength(),S);const m=K.next(w),v=P.next(w);d(m.insert,v.insert)?M.retain(w,h.default.diff(m.attributes,v.attributes)):M.push(v).delete(w)}S-=w}}),M.chop()}eachLine(k,y="\n"){const x=new b.default(this.ops);let M=new u,B=0;for(;x.hasNext();){if("insert"!==x.peekType())return;const K=x.peek(),P=g.default.length(K)-x.peekLength(),j="string"==typeof K.insert?K.insert.indexOf(y,P)-P:-1;if(j<0)M.push(x.next());else if(j>0)M.push(x.next(j));else{if(!1===k(M,x.next(1).attributes||{},B))return;B+=1,M=new u}}M.length()>0&&k(M,{},B)}invert(k){const y=new u;return this.reduce((x,M)=>{if(M.insert)y.delete(g.default.length(M));else{if("number"==typeof M.retain&&null==M.attributes)return y.retain(M.retain),x+M.retain;if(M.delete||"number"==typeof M.retain){const B=M.delete||M.retain;return k.slice(x,x+B).forEach(P=>{M.delete?y.push(P):M.retain&&M.attributes&&y.retain(g.default.length(P),h.default.invert(M.attributes,P.attributes))}),x+B}if("object"==typeof M.retain&&null!==M.retain){const B=k.slice(x,x+1),K=new b.default(B.ops).next(),[P,j,S]=_(M.retain,K.insert),w=u.getHandler(P);return y.retain({[P]:w.invert(j,S)},h.default.invert(M.attributes,K.attributes)),x+1}}return x},0),y.chop()}transform(k,y=!1){if(y=!!y,"number"==typeof k)return this.transformPosition(k,y);const x=k,M=new b.default(this.ops),B=new b.default(x.ops),K=new u;for(;M.hasNext()||B.hasNext();)if("insert"!==M.peekType()||!y&&"insert"===B.peekType())if("insert"===B.peekType())K.push(B.next());else{const P=Math.min(M.peekLength(),B.peekLength()),j=M.next(P),S=B.next(P);if(j.delete)continue;if(S.delete)K.push(S);else{const w=j.retain,m=S.retain;let v="object"==typeof m&&null!==m?m:P;if("object"==typeof w&&null!==w&&"object"==typeof m&&null!==m){const A=Object.keys(w)[0];if(A===Object.keys(m)[0]){const L=u.getHandler(A);L&&(v={[A]:L.transform(w[A],m[A],y)})}}K.retain(v,h.default.transform(j.attributes,S.attributes,y))}}else K.retain(g.default.length(M.next()));return K.chop()}transformPosition(k,y=!1){y=!!y;const x=new b.default(this.ops);let M=0;for(;x.hasNext()&&M<=k;){const B=x.peekLength(),K=x.peekType();x.next(),"delete"!==K?("insert"===K&&(M<k||!y)&&(k+=B),M+=B):k-=Math.min(B,k-M)}return k}}u.Op=g.default,u.OpIterator=b.default,u.AttributeMap=h.default,u.handlers={},ve.default=u,Ot.exports=u,Ot.exports.default=u},8964:(Ot,ve)=>{"use strict";var s;Object.defineProperty(ve,"__esModule",{value:!0}),(s||(s={})).length=function n(d){return"number"==typeof d.delete?d.delete:"number"==typeof d.retain?d.retain:"object"==typeof d.retain&&null!==d.retain?1:"string"==typeof d.insert?d.insert.length:1},ve.default=s},6366:(Ot,ve,s)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});const e=s(8964);ve.default=class n{constructor(h){this.ops=h,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(h){h||(h=1/0);const g=this.ops[this.index];if(g){const b=this.offset,E=e.default.length(g);if(h>=E-b?(h=E-b,this.index+=1,this.offset=0):this.offset+=h,"number"==typeof g.delete)return{delete:h};{const _={};return g.attributes&&(_.attributes=g.attributes),"number"==typeof g.retain?_.retain=h:"object"==typeof g.retain&&null!==g.retain?_.retain=g.retain:_.insert="string"==typeof g.insert?g.insert.substr(b,h):g.insert,_}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const h=this.ops[this.index];return h?"number"==typeof h.delete?"delete":"number"==typeof h.retain||"object"==typeof h.retain&&null!==h.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const h=this.offset,g=this.index,b=this.next(),E=this.ops.slice(this.index);return this.offset=h,this.index=g,[b].concat(E)}}return[]}}},9280:Ot=>{"use strict";var ve=Object.prototype.hasOwnProperty,s="~";function e(){}function n(b,E,_){this.fn=b,this.context=E,this.once=_||!1}function d(b,E,_,u,I){if("function"!=typeof _)throw new TypeError("The listener must be a function");var k=new n(_,u||b,I),y=s?s+E:E;return b._events[y]?b._events[y].fn?b._events[y]=[b._events[y],k]:b._events[y].push(k):(b._events[y]=k,b._eventsCount++),b}function h(b,E){0==--b._eventsCount?b._events=new e:delete b._events[E]}function g(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(s=!1)),g.prototype.eventNames=function(){var _,u,E=[];if(0===this._eventsCount)return E;for(u in _=this._events)ve.call(_,u)&&E.push(s?u.slice(1):u);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(_)):E},g.prototype.listeners=function(E){var u=this._events[s?s+E:E];if(!u)return[];if(u.fn)return[u.fn];for(var I=0,k=u.length,y=new Array(k);I<k;I++)y[I]=u[I].fn;return y},g.prototype.listenerCount=function(E){var u=this._events[s?s+E:E];return u?u.fn?1:u.length:0},g.prototype.emit=function(E,_,u,I,k,y){var x=s?s+E:E;if(!this._events[x])return!1;var K,P,M=this._events[x],B=arguments.length;if(M.fn){switch(M.once&&this.removeListener(E,M.fn,void 0,!0),B){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,_),!0;case 3:return M.fn.call(M.context,_,u),!0;case 4:return M.fn.call(M.context,_,u,I),!0;case 5:return M.fn.call(M.context,_,u,I,k),!0;case 6:return M.fn.call(M.context,_,u,I,k,y),!0}for(P=1,K=new Array(B-1);P<B;P++)K[P-1]=arguments[P];M.fn.apply(M.context,K)}else{var S,j=M.length;for(P=0;P<j;P++)switch(M[P].once&&this.removeListener(E,M[P].fn,void 0,!0),B){case 1:M[P].fn.call(M[P].context);break;case 2:M[P].fn.call(M[P].context,_);break;case 3:M[P].fn.call(M[P].context,_,u);break;case 4:M[P].fn.call(M[P].context,_,u,I);break;default:if(!K)for(S=1,K=new Array(B-1);S<B;S++)K[S-1]=arguments[S];M[P].fn.apply(M[P].context,K)}}return!0},g.prototype.on=function(E,_,u){return d(this,E,_,u,!1)},g.prototype.once=function(E,_,u){return d(this,E,_,u,!0)},g.prototype.removeListener=function(E,_,u,I){var k=s?s+E:E;if(!this._events[k])return this;if(!_)return h(this,k),this;var y=this._events[k];if(y.fn)y.fn===_&&(!I||y.once)&&(!u||y.context===u)&&h(this,k);else{for(var x=0,M=[],B=y.length;x<B;x++)(y[x].fn!==_||I&&!y[x].once||u&&y[x].context!==u)&&M.push(y[x]);M.length?this._events[k]=1===M.length?M[0]:M:h(this,k)}return this},g.prototype.removeAllListeners=function(E){var _;return E?this._events[_=s?s+E:E]&&h(this,_):(this._events=new e,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=s,g.EventEmitter=g,Ot.exports=g},9928:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>d});var e=s(5286),n=s(2145);class d extends e.B7{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const b=super._subscribe(g);return b&&!b.closed&&g.next(this._value),b}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.P;return this._value}next(g){super.next(this._value=g)}}},2351:(Ot,ve,s)=>{"use strict";s.d(ve,{E:()=>g});var e=s(1235),n=s(4421),d=s(4526);class g{constructor(E,_,u){this.kind=E,this.value=_,this.error=u,this.hasValue="N"===E}observe(E){switch(this.kind){case"N":return E.next&&E.next(this.value);case"E":return E.error&&E.error(this.error);case"C":return E.complete&&E.complete()}}do(E,_,u){switch(this.kind){case"N":return E&&E(this.value);case"E":return _&&_(this.error);case"C":return u&&u()}}accept(E,_,u){return E&&"function"==typeof E.next?this.observe(E):this.do(E,_,u)}toObservable(){switch(this.kind){case"N":return(0,n.of)(this.value);case"E":return(0,d.$)(this.error);case"C":return(0,e.I)()}throw new Error("unexpected notification kind value")}static createNext(E){return typeof E<"u"?new g("N",E):g.undefinedValueNotification}static createError(E){return new g("E",void 0,E)}static createComplete(){return g.completeNotification}}g.completeNotification=new g("C"),g.undefinedValueNotification=new g("N",void 0)},5817:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>u});var e=s(762),d=s(91),h=s(178),b=s(5722),E=s(8167),_=s(614);let u=(()=>{class k{constructor(x){this._isScalar=!1,x&&(this._subscribe=x)}lift(x){const M=new k;return M.source=this,M.operator=x,M}subscribe(x,M,B){const{operator:K}=this,P=function g(k,y,x){if(k){if(k instanceof e.v)return k;if(k[d.D])return k[d.D]()}return k||y||x?new e.v(k,y,x):new e.v(h.I)}(x,M,B);if(P.add(K?K.call(P,this.source):this.source||_.$.useDeprecatedSynchronousErrorHandling&&!P.syncErrorThrowable?this._subscribe(P):this._trySubscribe(P)),_.$.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable&&(P.syncErrorThrowable=!1,P.syncErrorThrown))throw P.syncErrorValue;return P}_trySubscribe(x){try{return this._subscribe(x)}catch(M){_.$.useDeprecatedSynchronousErrorHandling&&(x.syncErrorThrown=!0,x.syncErrorValue=M),function n(k){for(;k;){const{closed:y,destination:x,isStopped:M}=k;if(y||M)return!1;k=x&&x instanceof e.v?x:null}return!0}(x)?x.error(M):console.warn(M)}}forEach(x,M){return new(M=I(M))((B,K)=>{let P;P=this.subscribe(j=>{try{x(j)}catch(S){K(S),P&&P.unsubscribe()}},K,B)})}_subscribe(x){const{source:M}=this;return M&&M.subscribe(x)}[b.s](){return this}pipe(...x){return 0===x.length?this:(0,E.m)(x)(this)}toPromise(x){return new(x=I(x))((M,B)=>{let K;this.subscribe(P=>K=P,P=>B(P),()=>M(K))})}}return k.create=y=>new k(y),k})();function I(k){if(k||(k=_.$.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},178:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>d});var e=s(614),n=s(8253);const d={closed:!0,next(h){},error(h){if(e.$.useDeprecatedSynchronousErrorHandling)throw h;(0,n.T)(h)},complete(){}}},6607:(Ot,ve,s)=>{"use strict";s.d(ve,{m:()=>P});var e=s(5286),n=s(8189),h=s(6228);const E=new class g extends h.q{}(class d extends n.R{constructor(w,m){super(w,m),this.scheduler=w,this.work=m}schedule(w,m=0){return m>0?super.schedule(w,m):(this.delay=m,this.state=w,this.scheduler.flush(this),this)}execute(w,m){return m>0||this.closed?super.execute(w,m):this._execute(w,m)}requestAsyncId(w,m,v=0){return null!==v&&v>0||null===v&&this.delay>0?super.requestAsyncId(w,m,v):w.flush(this)}});var _=s(4337),u=s(762),I=s(2351);class x extends u.v{constructor(w,m,v=0){super(w),this.scheduler=m,this.delay=v}static dispatch(w){const{notification:m,destination:v}=w;m.observe(v),this.unsubscribe()}scheduleMessage(w){this.destination.add(this.scheduler.schedule(x.dispatch,this.delay,new M(w,this.destination)))}_next(w){this.scheduleMessage(I.E.createNext(w))}_error(w){this.scheduleMessage(I.E.createError(w)),this.unsubscribe()}_complete(){this.scheduleMessage(I.E.createComplete()),this.unsubscribe()}}class M{constructor(w,m){this.notification=w,this.destination=m}}var B=s(2145),K=s(1259);class P extends e.B7{constructor(w=Number.POSITIVE_INFINITY,m=Number.POSITIVE_INFINITY,v){super(),this.scheduler=v,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=w<1?1:w,this._windowTime=m<1?1:m,m===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(w){if(!this.isStopped){const m=this._events;m.push(w),m.length>this._bufferSize&&m.shift()}super.next(w)}nextTimeWindow(w){this.isStopped||(this._events.push(new j(this._getNow(),w)),this._trimBufferThenGetEvents()),super.next(w)}_subscribe(w){const m=this._infiniteTimeWindow,v=m?this._events:this._trimBufferThenGetEvents(),A=this.scheduler,L=v.length;let G;if(this.closed)throw new B.P;if(this.isStopped||this.hasError?G=_.y.EMPTY:(this.observers.push(w),G=new K.Y(this,w)),A&&w.add(w=new x(w,A)),m)for(let O=0;O<L&&!w.closed;O++)w.next(v[O]);else for(let O=0;O<L&&!w.closed;O++)w.next(v[O].value);return this.hasError?w.error(this.thrownError):this.isStopped&&w.complete(),G}_getNow(){return(this.scheduler||E).now()}_trimBufferThenGetEvents(){const w=this._getNow(),m=this._bufferSize,v=this._windowTime,A=this._events,L=A.length;let G=0;for(;G<L&&!(w-A[G].time<v);)G++;return L>m&&(G=Math.max(G,L-m)),G>0&&A.splice(0,G),A}}class j{constructor(w,m){this.time=w,this.value=m}}},5286:(Ot,ve,s)=>{"use strict";s.d(ve,{B7:()=>_,PJ:()=>E,kQ:()=>u});var e=s(5817),n=s(762),d=s(4337),h=s(2145),g=s(1259),b=s(91);class E extends n.v{constructor(k){super(k),this.destination=k}}let _=(()=>{class I extends e.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[b.D](){return new E(this)}lift(y){const x=new u(this,this);return x.operator=y,x}next(y){if(this.closed)throw new h.P;if(!this.isStopped){const{observers:x}=this,M=x.length,B=x.slice();for(let K=0;K<M;K++)B[K].next(y)}}error(y){if(this.closed)throw new h.P;this.hasError=!0,this.thrownError=y,this.isStopped=!0;const{observers:x}=this,M=x.length,B=x.slice();for(let K=0;K<M;K++)B[K].error(y);this.observers.length=0}complete(){if(this.closed)throw new h.P;this.isStopped=!0;const{observers:y}=this,x=y.length,M=y.slice();for(let B=0;B<x;B++)M[B].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(y){if(this.closed)throw new h.P;return super._trySubscribe(y)}_subscribe(y){if(this.closed)throw new h.P;return this.hasError?(y.error(this.thrownError),d.y.EMPTY):this.isStopped?(y.complete(),d.y.EMPTY):(this.observers.push(y),new g.Y(this,y))}asObservable(){const y=new e.c;return y.source=this,y}}return I.create=(k,y)=>new u(k,y),I})();class u extends _{constructor(k,y){super(),this.destination=k,this.source=y}next(k){const{destination:y}=this;y&&y.next&&y.next(k)}error(k){const{destination:y}=this;y&&y.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:y}=this;return y?this.source.subscribe(k):d.y.EMPTY}}},1259:(Ot,ve,s)=>{"use strict";s.d(ve,{Y:()=>n});var e=s(4337);class n extends e.y{constructor(h,g){super(),this.subject=h,this.subscriber=g,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const h=this.subject,g=h.observers;if(this.subject=null,!g||0===g.length||h.isStopped||h.closed)return;const b=g.indexOf(this.subscriber);-1!==b&&g.splice(b,1)}}},762:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>E});var e=s(8099),n=s(178),d=s(4337),h=s(91),g=s(614),b=s(8253);class E extends d.y{constructor(I,k,y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.I;break;case 1:if(!I){this.destination=n.I;break}if("object"==typeof I){I instanceof E?(this.syncErrorThrowable=I.syncErrorThrowable,this.destination=I,I.add(this)):(this.syncErrorThrowable=!0,this.destination=new _(this,I));break}default:this.syncErrorThrowable=!0,this.destination=new _(this,I,k,y)}}[h.D](){return this}static create(I,k,y){const x=new E(I,k,y);return x.syncErrorThrowable=!1,x}next(I){this.isStopped||this._next(I)}error(I){this.isStopped||(this.isStopped=!0,this._error(I))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(I){this.destination.next(I)}_error(I){this.destination.error(I),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:I}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=I,this}}class _ extends E{constructor(I,k,y,x){super(),this._parentSubscriber=I;let M,B=this;(0,e.T)(k)?M=k:k&&(M=k.next,y=k.error,x=k.complete,k!==n.I&&(B=Object.create(k),(0,e.T)(B.unsubscribe)&&this.add(B.unsubscribe.bind(B)),B.unsubscribe=this.unsubscribe.bind(this))),this._context=B,this._next=M,this._error=y,this._complete=x}next(I){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;g.$.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,I)&&this.unsubscribe():this.__tryOrUnsub(this._next,I)}}error(I){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:y}=g.$;if(this._error)y&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,I),this.unsubscribe()):(this.__tryOrUnsub(this._error,I),this.unsubscribe());else if(k.syncErrorThrowable)y?(k.syncErrorValue=I,k.syncErrorThrown=!0):(0,b.T)(I),this.unsubscribe();else{if(this.unsubscribe(),y)throw I;(0,b.T)(I)}}}complete(){if(!this.isStopped){const{_parentSubscriber:I}=this;if(this._complete){const k=()=>this._complete.call(this._context);g.$.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable?(this.__tryOrSetError(I,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(I,k){try{I.call(this._context,k)}catch(y){if(this.unsubscribe(),g.$.useDeprecatedSynchronousErrorHandling)throw y;(0,b.T)(y)}}__tryOrSetError(I,k,y){if(!g.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,y)}catch(x){return g.$.useDeprecatedSynchronousErrorHandling?(I.syncErrorValue=x,I.syncErrorThrown=!0,!0):((0,b.T)(x),!0)}return!1}_unsubscribe(){const{_parentSubscriber:I}=this;this._context=null,this._parentSubscriber=null,I.unsubscribe()}}},4337:(Ot,ve,s)=>{"use strict";s.d(ve,{y:()=>b});var e=s(7354),n=s(1456),d=s(8099);const g=(()=>{function _(u){return Error.call(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((I,k)=>`${k+1}) ${I.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u,this}return _.prototype=Object.create(Error.prototype),_})();class b{constructor(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}unsubscribe(){let u;if(this.closed)return;let{_parentOrParents:I,_ctorUnsubscribe:k,_unsubscribe:y,_subscriptions:x}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,I instanceof b)I.remove(this);else if(null!==I)for(let M=0;M<I.length;++M)I[M].remove(this);if((0,d.T)(y)){k&&(this._unsubscribe=void 0);try{y.call(this)}catch(M){u=M instanceof g?E(M.errors):[M]}}if((0,e.c)(x)){let M=-1,B=x.length;for(;++M<B;){const K=x[M];if((0,n.G)(K))try{K.unsubscribe()}catch(P){u=u||[],P instanceof g?u=u.concat(E(P.errors)):u.push(P)}}}if(u)throw new g(u)}add(u){let I=u;if(!u)return b.EMPTY;switch(typeof u){case"function":I=new b(u);case"object":if(I===this||I.closed||"function"!=typeof I.unsubscribe)return I;if(this.closed)return I.unsubscribe(),I;if(!(I instanceof b)){const x=I;I=new b,I._subscriptions=[x]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}let{_parentOrParents:k}=I;if(null===k)I._parentOrParents=this;else if(k instanceof b){if(k===this)return I;I._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return I;k.push(this)}const y=this._subscriptions;return null===y?this._subscriptions=[I]:y.push(I),I}remove(u){const I=this._subscriptions;if(I){const k=I.indexOf(u);-1!==k&&I.splice(k,1)}}}var _;function E(_){return _.reduce((u,I)=>u.concat(I instanceof g?I.errors:I),[])}b.EMPTY=((_=new b).closed=!0,_)},614:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>n});let e=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(d){if(d){const h=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+h.stack)}else e&&console.log("RxJS: Back to a better error behavior. Thank you. <3");e=d},get useDeprecatedSynchronousErrorHandling(){return e}}},3004:(Ot,ve,s)=>{"use strict";s.d(ve,{gn:()=>b,tS:()=>_,zA:()=>h});var e=s(762),n=s(5817),d=s(135);class h extends e.v{constructor(I){super(),this.parent=I}_next(I){this.parent.notifyNext(I)}_error(I){this.parent.notifyError(I),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class b extends e.v{notifyNext(I){this.destination.next(I)}notifyError(I){this.destination.error(I)}notifyComplete(){this.destination.complete()}}function _(u,I){if(I.closed)return;if(u instanceof n.c)return u.subscribe(I);let k;try{k=(0,d.i)(u)(I)}catch(y){I.error(y)}return k}},4725:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>b,f:()=>E});var e=s(5286),n=s(5817),h=(s(762),s(4337)),g=s(3110);class b extends n.c{constructor(y,x){super(),this.source=y,this.subjectFactory=x,this._refCount=0,this._isComplete=!1}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let y=this._connection;return y||(this._isComplete=!1,y=this._connection=new h.y,y.add(this.source.subscribe(new _(this.getSubject(),this))),y.closed&&(this._connection=null,y=h.y.EMPTY)),y}refCount(){return(0,g.B)()(this)}}const E=(()=>{const k=b.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class _ extends e.PJ{constructor(y,x){super(y),this.connectable=x}_error(y){this._unsubscribe(),super._error(y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const y=this.connectable;if(y){this.connectable=null;const x=y._connection;y._refCount=0,y._subject=null,y._connection=null,x&&x.unsubscribe()}}}},9714:(Ot,ve,s)=>{"use strict";s.d(ve,{zV:()=>k});var e=s(2234),n=s(7354),d=s(762);class h extends d.v{notifyNext(B,K,P,j,S){this.destination.next(K)}notifyError(B,K){this.destination.error(B)}notifyComplete(B){this.destination.complete()}}class g extends d.v{constructor(B,K,P){super(),this.parent=B,this.outerValue=K,this.outerIndex=P,this.index=0}_next(B){this.parent.notifyNext(this.outerValue,B,this.outerIndex,this.index++,this)}_error(B){this.parent.notifyError(B,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var b=s(135),E=s(5817);function _(M,B,K,P,j=new g(M,K,P)){if(!j.closed)return B instanceof E.c?B.subscribe(j):(0,b.i)(B)(j)}var u=s(4279);const I={};function k(...M){let B,K;return(0,e.m)(M[M.length-1])&&(K=M.pop()),"function"==typeof M[M.length-1]&&(B=M.pop()),1===M.length&&(0,n.c)(M[0])&&(M=M[0]),(0,u.c)(M,K).lift(new y(B))}class y{constructor(B){this.resultSelector=B}call(B,K){return K.subscribe(new x(B,this.resultSelector))}}class x extends h{constructor(B,K){super(B),this.resultSelector=K,this.active=0,this.values=[],this.observables=[]}_next(B){this.values.push(I),this.observables.push(B)}_complete(){const B=this.observables,K=B.length;if(0===K)this.destination.complete();else{this.active=K,this.toRespond=K;for(let P=0;P<K;P++)this.add(_(this,B[P],void 0,P))}}notifyComplete(B){0==(this.active-=1)&&this.destination.complete()}notifyNext(B,K,P){const j=this.values,w=this.toRespond?j[P]===I?--this.toRespond:this.toRespond:0;j[P]=K,0===w&&(this.resultSelector?this._tryResultSelector(j):this.destination.next(j.slice()))}_tryResultSelector(B){let K;try{K=this.resultSelector.apply(this,B)}catch(P){return void this.destination.error(P)}this.destination.next(K)}}},1639:(Ot,ve,s)=>{"use strict";s.d(ve,{x:()=>h});var e=s(4421),n=s(6201);function h(...g){return function d(){return(0,n.U)(1)}()((0,e.of)(...g))}},9418:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>h});var e=s(5817),n=s(4787),d=s(1235);function h(g){return new e.c(b=>{let E;try{E=g()}catch(u){return void b.error(u)}return(E?(0,n.H)(E):(0,d.I)()).subscribe(b)})}},4119:(Ot,ve,s)=>{"use strict";s.d(ve,{K:()=>u});var e=s(5286),n=s(762),d=s(5817),h=s(4337),g=s(6607);const b={url:"",deserializer:I=>JSON.parse(I.data),serializer:I=>JSON.stringify(I)};class _ extends e.kQ{constructor(k,y){if(super(),k instanceof d.c)this.destination=y,this.source=k;else{const x=this._config=Object.assign({},b);if(this._output=new e.B7,"string"==typeof k)x.url=k;else for(let M in k)k.hasOwnProperty(M)&&(x[M]=k[M]);if(!x.WebSocketCtor&&WebSocket)x.WebSocketCtor=WebSocket;else if(!x.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new g.m}}lift(k){const y=new _(this._config,this.destination);return y.operator=k,y.source=this,y}_resetState(){this._socket=null,this.source||(this.destination=new g.m),this._output=new e.B7}multiplex(k,y,x){const M=this;return new d.c(B=>{try{M.next(k())}catch(P){B.error(P)}const K=M.subscribe(P=>{try{x(P)&&B.next(P)}catch(j){B.error(j)}},P=>B.error(P),()=>B.complete());return()=>{try{M.next(y())}catch(P){B.error(P)}K.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:k,protocol:y,url:x,binaryType:M}=this._config,B=this._output;let K=null;try{K=y?new k(x,y):new k(x),this._socket=K,M&&(this._socket.binaryType=M)}catch(j){return void B.error(j)}const P=new h.y(()=>{this._socket=null,K&&1===K.readyState&&K.close()});K.onopen=j=>{const{_socket:S}=this;if(!S)return K.close(),void this._resetState();const{openObserver:w}=this._config;w&&w.next(j);const m=this.destination;this.destination=n.v.create(v=>{if(1===K.readyState)try{const{serializer:A}=this._config;K.send(A(v))}catch(A){this.destination.error(A)}},v=>{const{closingObserver:A}=this._config;A&&A.next(void 0),v&&v.code?K.close(v.code,v.reason):B.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:v}=this._config;v&&v.next(void 0),K.close(),this._resetState()}),m&&m instanceof g.m&&P.add(m.subscribe(this.destination))},K.onerror=j=>{this._resetState(),B.error(j)},K.onclose=j=>{this._resetState();const{closeObserver:S}=this._config;S&&S.next(j),j.wasClean?B.complete():B.error(j)},K.onmessage=j=>{try{const{deserializer:S}=this._config;B.next(S(j))}catch(S){B.error(S)}}}_subscribe(k){const{source:y}=this;return y?y.subscribe(k):(this._socket||this._connectSocket(),this._output.subscribe(k),k.add(()=>{const{_socket:x}=this;0===this._output.observers.length&&(x&&1===x.readyState&&x.close(),this._resetState())}),k)}unsubscribe(){const{_socket:k}=this;k&&1===k.readyState&&k.close(),this._resetState(),super.unsubscribe()}}function u(I){return new _(I)}},1235:(Ot,ve,s)=>{"use strict";s.d(ve,{I:()=>d,w:()=>n});var e=s(5817);const n=new e.c(g=>g.complete());function d(g){return g?function h(g){return new e.c(b=>g.schedule(()=>b.complete()))}(g):n}},696:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>b});var e=s(5817),n=s(7354),d=s(5006),h=s(1456),g=s(4787);function b(..._){if(1===_.length){const u=_[0];if((0,n.c)(u))return E(u,null);if((0,h.G)(u)&&Object.getPrototypeOf(u)===Object.prototype){const I=Object.keys(u);return E(I.map(k=>u[k]),I)}}if("function"==typeof _[_.length-1]){const u=_.pop();return E(_=1===_.length&&(0,n.c)(_[0])?_[0]:_,null).pipe((0,d.T)(I=>u(...I)))}return E(_,null)}function E(_,u){return new e.c(I=>{const k=_.length;if(0===k)return void I.complete();const y=new Array(k);let x=0,M=0;for(let B=0;B<k;B++){const K=(0,g.H)(_[B]);let P=!1;I.add(K.subscribe({next:j=>{P||(P=!0,M++),y[B]=j},error:j=>I.error(j),complete:()=>{x++,(x===k||!P)&&(M===k&&I.next(u?u.reduce((j,S,w)=>(j[S]=y[w],j),{}):y),I.complete())}}))}})}},4787:(Ot,ve,s)=>{"use strict";s.d(ve,{H:()=>B});var e=s(5817),n=s(135),d=s(4337),h=s(5722),E=s(2496),_=s(7765),k=s(5998),y=s(5253);function B(K,P){return P?function M(K,P){if(null!=K){if(function I(K){return K&&"function"==typeof K[h.s]}(K))return function g(K,P){return new e.c(j=>{const S=new d.y;return S.add(P.schedule(()=>{const w=K[h.s]();S.add(w.subscribe({next(m){S.add(P.schedule(()=>j.next(m)))},error(m){S.add(P.schedule(()=>j.error(m)))},complete(){S.add(P.schedule(()=>j.complete()))}}))})),S})}(K,P);if((0,k.y)(K))return function b(K,P){return new e.c(j=>{const S=new d.y;return S.add(P.schedule(()=>K.then(w=>{S.add(P.schedule(()=>{j.next(w),S.add(P.schedule(()=>j.complete()))}))},w=>{S.add(P.schedule(()=>j.error(w)))}))),S})}(K,P);if((0,y.X)(K))return(0,E.V)(K,P);if(function x(K){return K&&"function"==typeof K[_.lJ]}(K)||"string"==typeof K)return function u(K,P){if(!K)throw new Error("Iterable cannot be null");return new e.c(j=>{const S=new d.y;let w;return S.add(()=>{w&&"function"==typeof w.return&&w.return()}),S.add(P.schedule(()=>{w=K[_.lJ](),S.add(P.schedule(function(){if(j.closed)return;let m,v;try{const A=w.next();m=A.value,v=A.done}catch(A){return void j.error(A)}v?j.complete():(j.next(m),this.schedule())}))})),S})}(K,P)}throw new TypeError((null!==K&&typeof K||K)+" is not observable")}(K,P):K instanceof e.c?K:new e.c((0,n.i)(K))}},4279:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>h});var e=s(5817),n=s(4385),d=s(2496);function h(g,b){return b?(0,d.V)(g,b):new e.c((0,n.v)(g))}},3586:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>b});var e=s(5817),n=s(7354),d=s(8099),h=s(5006);function b(k,y,x,M){return(0,d.T)(x)&&(M=x,x=void 0),M?b(k,y,x).pipe((0,h.T)(B=>(0,n.c)(B)?M(...B):M(B))):new e.c(B=>{E(k,y,function K(P){B.next(arguments.length>1?Array.prototype.slice.call(arguments):P)},B,x)})}function E(k,y,x,M,B){let K;if(function I(k){return k&&"function"==typeof k.addEventListener&&"function"==typeof k.removeEventListener}(k)){const P=k;k.addEventListener(y,x,B),K=()=>P.removeEventListener(y,x,B)}else if(function u(k){return k&&"function"==typeof k.on&&"function"==typeof k.off}(k)){const P=k;k.on(y,x),K=()=>P.off(y,x)}else if(function _(k){return k&&"function"==typeof k.addListener&&"function"==typeof k.removeListener}(k)){const P=k;k.addListener(y,x),K=()=>P.removeListener(y,x)}else{if(!k||!k.length)throw new TypeError("Invalid event target");for(let P=0,j=k.length;P<j;P++)E(k[P],y,x,M,B)}M.add(K)}},9601:(Ot,ve,s)=>{"use strict";s.d(ve,{Y:()=>h});var e=s(5817),n=s(1080),d=s(9132);function h(b=0,E=n.b){return(!(0,d.k)(b)||b<0)&&(b=0),(!E||"function"!=typeof E.schedule)&&(E=n.b),new e.c(_=>(_.add(E.schedule(g,b,{subscriber:_,counter:0,period:b})),_))}function g(b){const{subscriber:E,counter:_,period:u}=b;E.next(_),this.schedule({subscriber:E,counter:_+1,period:u},u)}},4670:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>g});var e=s(5817),n=s(2234),d=s(6201),h=s(4279);function g(...b){let E=Number.POSITIVE_INFINITY,_=null,u=b[b.length-1];return(0,n.m)(u)?(_=b.pop(),b.length>1&&"number"==typeof b[b.length-1]&&(E=b.pop())):"number"==typeof u&&(E=b.pop()),null===_&&1===b.length&&b[0]instanceof e.c?b[0]:(0,d.U)(E)((0,h.c)(b,_))}},4421:(Ot,ve,s)=>{"use strict";s.d(ve,{of:()=>h});var e=s(2234),n=s(4279),d=s(2496);function h(...g){let b=g[g.length-1];return(0,e.m)(b)?(g.pop(),(0,d.V)(g,b)):(0,n.c)(g)}},4526:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>n});var e=s(5817);function n(h,g){return new e.c(g?b=>g.schedule(d,0,{error:h,subscriber:b}):b=>b.error(h))}function d({error:h,subscriber:g}){g.error(h)}},6651:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>g});var e=s(5817),n=s(1080),d=s(9132),h=s(2234);function g(E=0,_,u){let I=-1;return(0,d.k)(_)?I=Number(_)<1?1:Number(_):(0,h.m)(_)&&(u=_),(0,h.m)(u)||(u=n.b),new e.c(k=>{const y=(0,d.k)(E)?E:+E-u.now();return u.schedule(b,y,{index:0,period:I,subscriber:k})})}function b(E){const{index:_,period:u,subscriber:I}=E;if(I.next(_),!I.closed){if(-1===u)return I.complete();E.index=_+1,this.schedule(E,u)}}},3921:(Ot,ve,s)=>{"use strict";s.d(ve,{W:()=>n});var e=s(3004);function n(g){return function(E){const _=new d(g),u=E.lift(_);return _.caught=u}}class d{constructor(b){this.selector=b}call(b,E){return E.subscribe(new h(b,this.selector,this.caught))}}class h extends e.gn{constructor(b,E,_){super(b),this.selector=E,this.caught=_}error(b){if(!this.isStopped){let E;try{E=this.selector(b,this.caught)}catch(I){return void super.error(I)}this._unsubscribeAndRecycle();const _=new e.zA(this);this.add(_);const u=(0,e.tS)(E,_);u!==_&&this.add(u)}}}},3574:(Ot,ve,s)=>{"use strict";s.d(ve,{H:()=>n});var e=s(8456);function n(d,h){return(0,e.ZZ)(d,h,1)}},3020:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>d});var e=s(762),n=s(1080);function d(E,_=n.b){return u=>u.lift(new h(E,_))}class h{constructor(_,u){this.dueTime=_,this.scheduler=u}call(_,u){return u.subscribe(new g(_,this.dueTime,this.scheduler))}}class g extends e.v{constructor(_,u,I){super(_),this.dueTime=u,this.scheduler=I,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(_){this.clearDebounce(),this.lastValue=_,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(b,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:_}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(_)}}clearDebounce(){const _=this.debouncedSubscription;null!==_&&(this.remove(_),_.unsubscribe(),this.debouncedSubscription=null)}}function b(E){E.debouncedNext()}},7849:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>n});var e=s(762);function n(g=null){return b=>b.lift(new d(g))}class d{constructor(b){this.defaultValue=b}call(b,E){return E.subscribe(new h(b,this.defaultValue))}}class h extends e.v{constructor(b,E){super(b),this.defaultValue=E,this.isEmpty=!0}_next(b){this.isEmpty=!1,this.destination.next(b)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8002:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>g});var e=s(1080),d=s(762),h=s(2351);function g(u,I=e.b){const y=function n(u){return u instanceof Date&&!isNaN(+u)}(u)?+u-I.now():Math.abs(u);return x=>x.lift(new b(y,I))}class b{constructor(I,k){this.delay=I,this.scheduler=k}call(I,k){return k.subscribe(new E(I,this.delay,this.scheduler))}}class E extends d.v{constructor(I,k,y){super(I),this.delay=k,this.scheduler=y,this.queue=[],this.active=!1,this.errored=!1}static dispatch(I){const k=I.source,y=k.queue,x=I.scheduler,M=I.destination;for(;y.length>0&&y[0].time-x.now()<=0;)y.shift().notification.observe(M);if(y.length>0){const B=Math.max(0,y[0].time-x.now());this.schedule(I,B)}else this.unsubscribe(),k.active=!1}_schedule(I){this.active=!0,this.destination.add(I.schedule(E.dispatch,this.delay,{source:this,destination:this.destination,scheduler:I}))}scheduleNotification(I){if(!0===this.errored)return;const k=this.scheduler,y=new _(k.now()+this.delay,I);this.queue.push(y),!1===this.active&&this._schedule(k)}_next(I){this.scheduleNotification(h.E.createNext(I))}_error(I){this.errored=!0,this.queue=[],this.destination.error(I),this.unsubscribe()}_complete(){this.scheduleNotification(h.E.createComplete()),this.unsubscribe()}}class _{constructor(I,k){this.time=I,this.notification=k}}},522:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>n});var e=s(762);function n(g,b){return E=>E.lift(new d(g,b))}class d{constructor(b,E){this.compare=b,this.keySelector=E}call(b,E){return E.subscribe(new h(b,this.compare,this.keySelector))}}class h extends e.v{constructor(b,E,_){super(b),this.keySelector=_,this.hasKey=!1,"function"==typeof E&&(this.compare=E)}compare(b,E){return b===E}_next(b){let E;try{const{keySelector:u}=this;E=u?u(b):b}catch(u){return this.destination.error(u)}let _=!1;if(this.hasKey)try{const{compare:u}=this;_=u(this.key,E)}catch(u){return this.destination.error(u)}else this.hasKey=!0;_||(this.key=E,this.destination.next(b))}}},1713:(Ot,ve,s)=>{"use strict";s.d(ve,{w:()=>n});var e=s(522);function n(d,h){return(0,e.F)((g,b)=>h?h(g[d],b[d]):g[d]===b[d])}},8728:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>n});var e=s(762);function n(g,b){return function(_){return _.lift(new d(g,b))}}class d{constructor(b,E){this.predicate=b,this.thisArg=E}call(b,E){return E.subscribe(new h(b,this.predicate,this.thisArg))}}class h extends e.v{constructor(b,E,_){super(b),this.predicate=E,this.thisArg=_,this.count=0}_next(b){let E;try{E=this.predicate.call(this.thisArg,b,this.count++)}catch(_){return void this.destination.error(_)}E&&this.destination.next(b)}}},7312:(Ot,ve,s)=>{"use strict";s.d(ve,{j:()=>d});var e=s(762),n=s(4337);function d(b){return E=>E.lift(new h(b))}class h{constructor(E){this.callback=E}call(E,_){return _.subscribe(new g(E,this.callback))}}class g extends e.v{constructor(E,_){super(E),this.add(new n.y(_))}}},4046:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>E});var e=s(9994),n=s(8728),d=s(9493),h=s(7849),g=s(3314),b=s(5241);function E(_,u){const I=arguments.length>=2;return k=>k.pipe(_?(0,n.p)((y,x)=>_(y,x,k)):b.D,(0,d.s)(1),I?(0,h.U)(u):(0,g.v)(()=>new e.G))}},5006:(Ot,ve,s)=>{"use strict";s.d(ve,{T:()=>n});var e=s(762);function n(g,b){return function(_){if("function"!=typeof g)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _.lift(new d(g,b))}}class d{constructor(b,E){this.project=b,this.thisArg=E}call(b,E){return E.subscribe(new h(b,this.project,this.thisArg))}}class h extends e.v{constructor(b,E,_){super(b),this.project=E,this.count=0,this.thisArg=_||this}_next(b){let E;try{E=this.project.call(this.thisArg,b,this.count++)}catch(_){return void this.destination.error(_)}this.destination.next(E)}}},6201:(Ot,ve,s)=>{"use strict";s.d(ve,{U:()=>d});var e=s(8456),n=s(5241);function d(h=Number.POSITIVE_INFINITY){return(0,e.ZZ)(n.D,h)}},8456:(Ot,ve,s)=>{"use strict";s.d(ve,{ZZ:()=>h});var e=s(5006),n=s(4787),d=s(3004);function h(_,u,I=Number.POSITIVE_INFINITY){return"function"==typeof u?k=>k.pipe(h((y,x)=>(0,n.H)(_(y,x)).pipe((0,e.T)((M,B)=>u(y,M,x,B))),I)):("number"==typeof u&&(I=u),k=>k.lift(new g(_,I)))}class g{constructor(u,I=Number.POSITIVE_INFINITY){this.project=u,this.concurrent=I}call(u,I){return I.subscribe(new b(u,this.project,this.concurrent))}}class b extends d.gn{constructor(u,I,k=Number.POSITIVE_INFINITY){super(u),this.project=I,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(u){this.active<this.concurrent?this._tryNext(u):this.buffer.push(u)}_tryNext(u){let I;const k=this.index++;try{I=this.project(u,k)}catch(y){return void this.destination.error(y)}this.active++,this._innerSub(I)}_innerSub(u){const I=new d.zA(this),k=this.destination;k.add(I);const y=(0,d.tS)(u,I);y!==I&&k.add(y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(u){this.destination.next(u)}notifyComplete(){const u=this.buffer;this.active--,u.length>0?this._next(u.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3110:(Ot,ve,s)=>{"use strict";s.d(ve,{B:()=>n});var e=s(762);function n(){return function(b){return b.lift(new d(b))}}class d{constructor(b){this.connectable=b}call(b,E){const{connectable:_}=this;_._refCount++;const u=new h(b,_),I=E.subscribe(u);return u.closed||(u.connection=_.connect()),I}}class h extends e.v{constructor(b,E){super(b),this.connectable=E}_unsubscribe(){const{connectable:b}=this;if(!b)return void(this.connection=null);this.connectable=null;const E=b._refCount;if(E<=0)return void(this.connection=null);if(b._refCount=E-1,E>1)return void(this.connection=null);const{connection:_}=this,u=b._connection;this.connection=null,u&&(!_||u===_)&&u.unsubscribe()}}},8712:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>n});var e=s(6607);function n(h,g,b){let E;return E=h&&"object"==typeof h?h:{bufferSize:h,windowTime:g,refCount:!1,scheduler:b},_=>_.lift(function d({bufferSize:h=Number.POSITIVE_INFINITY,windowTime:g=Number.POSITIVE_INFINITY,refCount:b,scheduler:E}){let _,I,u=0,k=!1,y=!1;return function(M){let B;u++,!_||k?(k=!1,_=new e.m(h,g,E),B=_.subscribe(this),I=M.subscribe({next(K){_.next(K)},error(K){k=!0,_.error(K)},complete(){y=!0,I=void 0,_.complete()}}),y&&(I=void 0)):B=_.subscribe(this),this.add(()=>{u--,B.unsubscribe(),B=void 0,I&&!y&&b&&0===u&&(I.unsubscribe(),I=void 0,_=void 0)})}}(E))}},7753:(Ot,ve,s)=>{"use strict";s.d(ve,{i:()=>n});var e=s(762);function n(g){return b=>b.lift(new d(g))}class d{constructor(b){this.total=b}call(b,E){return E.subscribe(new h(b,this.total))}}class h extends e.v{constructor(b,E){super(b),this.total=E,this.count=0}_next(b){++this.count>this.total&&this.destination.next(b)}}},3176:(Ot,ve,s)=>{"use strict";s.d(ve,{Z:()=>d});var e=s(1639),n=s(2234);function d(...h){const g=h[h.length-1];return(0,n.m)(g)?(h.pop(),b=>(0,e.x)(h,b,g)):b=>(0,e.x)(h,b)}},9090:(Ot,ve,s)=>{"use strict";s.d(ve,{n:()=>h});var e=s(5006),n=s(4787),d=s(3004);function h(E,_){return"function"==typeof _?u=>u.pipe(h((I,k)=>(0,n.H)(E(I,k)).pipe((0,e.T)((y,x)=>_(I,y,k,x))))):u=>u.lift(new g(E))}class g{constructor(_){this.project=_}call(_,u){return u.subscribe(new b(_,this.project))}}class b extends d.gn{constructor(_,u){super(_),this.project=u,this.index=0}_next(_){let u;const I=this.index++;try{u=this.project(_,I)}catch(k){return void this.destination.error(k)}this._innerSub(u)}_innerSub(_){const u=this.innerSubscription;u&&u.unsubscribe();const I=new d.zA(this),k=this.destination;k.add(I),this.innerSubscription=(0,d.tS)(_,I),this.innerSubscription!==I&&k.add(this.innerSubscription)}_complete(){const{innerSubscription:_}=this;(!_||_.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(_){this.destination.next(_)}}},9493:(Ot,ve,s)=>{"use strict";s.d(ve,{s:()=>h});var e=s(762),n=s(434),d=s(1235);function h(E){return _=>0===E?(0,d.I)():_.lift(new g(E))}class g{constructor(_){if(this.total=_,this.total<0)throw new n.k}call(_,u){return u.subscribe(new b(_,this.total))}}class b extends e.v{constructor(_,u){super(_),this.total=u,this.count=0}_next(_){const u=this.total,I=++this.count;I<=u&&(this.destination.next(_),I===u&&(this.destination.complete(),this.unsubscribe()))}}},7605:(Ot,ve,s)=>{"use strict";s.d(ve,{Q:()=>n});var e=s(3004);function n(g){return b=>b.lift(new d(g))}class d{constructor(b){this.notifier=b}call(b,E){const _=new h(b),u=(0,e.tS)(this.notifier,new e.zA(_));return u&&!_.seenValue?(_.add(u),E.subscribe(_)):_}}class h extends e.gn{constructor(b){super(b),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1604:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>n});var e=s(762);function n(g,b=!1){return E=>E.lift(new d(g,b))}class d{constructor(b,E){this.predicate=b,this.inclusive=E}call(b,E){return E.subscribe(new h(b,this.predicate,this.inclusive))}}class h extends e.v{constructor(b,E,_){super(b),this.predicate=E,this.inclusive=_,this.index=0}_next(b){const E=this.destination;let _;try{_=this.predicate(b,this.index++)}catch(u){return void E.error(u)}this.nextOrComplete(b,_)}nextOrComplete(b,E){const _=this.destination;E?_.next(b):(this.inclusive&&_.next(b),_.complete())}}},8841:(Ot,ve,s)=>{"use strict";s.d(ve,{M:()=>h});var e=s(762),n=s(8803),d=s(8099);function h(E,_,u){return function(k){return k.lift(new g(E,_,u))}}class g{constructor(_,u,I){this.nextOrObserver=_,this.error=u,this.complete=I}call(_,u){return u.subscribe(new b(_,this.nextOrObserver,this.error,this.complete))}}class b extends e.v{constructor(_,u,I,k){super(_),this._tapNext=n.l,this._tapError=n.l,this._tapComplete=n.l,this._tapError=I||n.l,this._tapComplete=k||n.l,(0,d.T)(u)?(this._context=this,this._tapNext=u):u&&(this._context=u,this._tapNext=u.next||n.l,this._tapError=u.error||n.l,this._tapComplete=u.complete||n.l)}_next(_){try{this._tapNext.call(this._context,_)}catch(u){return void this.destination.error(u)}this.destination.next(_)}_error(_){try{this._tapError.call(this._context,_)}catch(u){return void this.destination.error(u)}this.destination.error(_)}_complete(){try{this._tapComplete.call(this._context)}catch(_){return void this.destination.error(_)}return this.destination.complete()}}},3314:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>d});var e=s(9994),n=s(762);function d(E=b){return _=>_.lift(new h(E))}class h{constructor(_){this.errorFactory=_}call(_,u){return u.subscribe(new g(_,this.errorFactory))}}class g extends n.v{constructor(_,u){super(_),this.errorFactory=u,this.hasValue=!1}_next(_){this.hasValue=!0,this.destination.next(_)}_complete(){if(this.hasValue)return this.destination.complete();{let _;try{_=this.errorFactory()}catch(u){_=u}this.destination.error(_)}}}function b(){return new e.G}},2496:(Ot,ve,s)=>{"use strict";s.d(ve,{V:()=>d});var e=s(5817),n=s(4337);function d(h,g){return new e.c(b=>{const E=new n.y;let _=0;return E.add(g.schedule(function(){_!==h.length?(b.next(h[_++]),b.closed||E.add(this.schedule())):b.complete()})),E})}},8189:(Ot,ve,s)=>{"use strict";s.d(ve,{R:()=>d});var e=s(4337);class n extends e.y{constructor(g,b){super()}schedule(g,b=0){return this}}class d extends n{constructor(g,b){super(g,b),this.scheduler=g,this.work=b,this.pending=!1}schedule(g,b=0){if(this.closed)return this;this.state=g;const E=this.id,_=this.scheduler;return null!=E&&(this.id=this.recycleAsyncId(_,E,b)),this.pending=!0,this.delay=b,this.id=this.id||this.requestAsyncId(_,this.id,b),this}requestAsyncId(g,b,E=0){return setInterval(g.flush.bind(g,this),E)}recycleAsyncId(g,b,E=0){if(null!==E&&this.delay===E&&!1===this.pending)return b;clearInterval(b)}execute(g,b){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(g,b);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,b){let _,E=!1;try{this.work(g)}catch(u){E=!0,_=!!u&&u||new Error(u)}if(E)return this.unsubscribe(),_}_unsubscribe(){const g=this.id,b=this.scheduler,E=b.actions,_=E.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_&&E.splice(_,1),null!=g&&(this.id=this.recycleAsyncId(b,g,null)),this.delay=null}}},6228:(Ot,ve,s)=>{"use strict";s.d(ve,{q:()=>n});let e=(()=>{class d{constructor(g,b=d.now){this.SchedulerAction=g,this.now=b}schedule(g,b=0,E){return new this.SchedulerAction(this,g).schedule(E,b)}}return d.now=()=>Date.now(),d})();class n extends e{constructor(h,g=e.now){super(h,()=>n.delegate&&n.delegate!==this?n.delegate.now():g()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(h,g=0,b){return n.delegate&&n.delegate!==this?n.delegate.schedule(h,g,b):super.schedule(h,g,b)}flush(h){const{actions:g}=this;if(this.active)return void g.push(h);let b;this.active=!0;do{if(b=h.execute(h.state,h.delay))break}while(h=g.shift());if(this.active=!1,b){for(;h=g.shift();)h.unsubscribe();throw b}}}},5516:(Ot,ve,s)=>{"use strict";s.d(ve,{$:()=>k});let e=1;const n=Promise.resolve(),d={};function h(x){return x in d&&(delete d[x],!0)}const g={setImmediate(x){const M=e++;return d[M]=!0,n.then(()=>h(M)&&x()),M},clearImmediate(x){h(x)}};var E=s(8189),u=s(6228);const k=new class I extends u.q{flush(M){this.active=!0,this.scheduled=void 0;const{actions:B}=this;let K,P=-1,j=B.length;M=M||B.shift();do{if(K=M.execute(M.state,M.delay))break}while(++P<j&&(M=B.shift()));if(this.active=!1,K){for(;++P<j&&(M=B.shift());)M.unsubscribe();throw K}}}(class _ extends E.R{constructor(M,B){super(M,B),this.scheduler=M,this.work=B}requestAsyncId(M,B,K=0){return null!==K&&K>0?super.requestAsyncId(M,B,K):(M.actions.push(this),M.scheduled||(M.scheduled=g.setImmediate(M.flush.bind(M,null))))}recycleAsyncId(M,B,K=0){if(null!==K&&K>0||null===K&&this.delay>0)return super.recycleAsyncId(M,B,K);0===M.actions.length&&(g.clearImmediate(B),M.scheduled=void 0)}})},1080:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>h});var e=s(8189);const h=new(s(6228).q)(e.R)},7765:(Ot,ve,s)=>{"use strict";s.d(ve,{lJ:()=>n});const n=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5722:(Ot,ve,s)=>{"use strict";s.d(ve,{s:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},91:(Ot,ve,s)=>{"use strict";s.d(ve,{D:()=>e});const e="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},434:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>n});const n=(()=>{function d(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return d.prototype=Object.create(Error.prototype),d})()},9994:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>n});const n=(()=>{function d(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return d.prototype=Object.create(Error.prototype),d})()},2145:(Ot,ve,s)=>{"use strict";s.d(ve,{P:()=>n});const n=(()=>{function d(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return d.prototype=Object.create(Error.prototype),d})()},8253:(Ot,ve,s)=>{"use strict";function e(n){setTimeout(()=>{throw n},0)}s.d(ve,{T:()=>e})},5241:(Ot,ve,s)=>{"use strict";function e(n){return n}s.d(ve,{D:()=>e})},7354:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>e});const e=Array.isArray||(n=>n&&"number"==typeof n.length)},5253:(Ot,ve,s)=>{"use strict";s.d(ve,{X:()=>e});const e=n=>n&&"number"==typeof n.length&&"function"!=typeof n},8099:(Ot,ve,s)=>{"use strict";function e(n){return"function"==typeof n}s.d(ve,{T:()=>e})},9132:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>n});var e=s(7354);function n(d){return!(0,e.c)(d)&&d-parseFloat(d)+1>=0}},1456:(Ot,ve,s)=>{"use strict";function e(n){return null!==n&&"object"==typeof n}s.d(ve,{G:()=>e})},8982:(Ot,ve,s)=>{"use strict";s.d(ve,{A:()=>n});var e=s(5817);function n(d){return!!d&&(d instanceof e.c||"function"==typeof d.lift&&"function"==typeof d.subscribe)}},5998:(Ot,ve,s)=>{"use strict";function e(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}s.d(ve,{y:()=>e})},2234:(Ot,ve,s)=>{"use strict";function e(n){return n&&"function"==typeof n.schedule}s.d(ve,{m:()=>e})},8803:(Ot,ve,s)=>{"use strict";function e(){}s.d(ve,{l:()=>e})},8167:(Ot,ve,s)=>{"use strict";s.d(ve,{F:()=>n,m:()=>d});var e=s(5241);function n(...h){return d(h)}function d(h){return 0===h.length?e.D:1===h.length?h[0]:function(b){return h.reduce((E,_)=>_(E),b)}}},135:(Ot,ve,s)=>{"use strict";s.d(ve,{i:()=>k});var e=s(4385),n=s(8253),h=s(7765),b=s(5722),_=s(5253),u=s(5998),I=s(1456);const k=y=>{if(y&&"function"==typeof y[b.s])return(y=>x=>{const M=y[b.s]();if("function"!=typeof M.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return M.subscribe(x)})(y);if((0,_.X)(y))return(0,e.v)(y);if((0,u.y)(y))return(y=>x=>(y.then(M=>{x.closed||(x.next(M),x.complete())},M=>x.error(M)).then(null,n.T),x))(y);if(y&&"function"==typeof y[h.lJ])return(y=>x=>{const M=y[h.lJ]();for(;;){let B;try{B=M.next()}catch(K){return x.error(K),x}if(B.done){x.complete();break}if(x.next(B.value),x.closed)break}return"function"==typeof M.return&&x.add(()=>{M.return&&M.return()}),x})(y);{const M=`You provided ${(0,I.G)(y)?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(M)}}},4385:(Ot,ve,s)=>{"use strict";s.d(ve,{v:()=>e});const e=n=>d=>{for(let h=0,g=n.length;h<g&&!d.closed;h++)d.next(n[h]);d.complete()}},416:(Ot,ve,s)=>{"use strict";s.d(ve,{VV:()=>e,LL:()=>d});class e{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(g,b=!1){return this.onePassHasher.start().appendStr(g).end(b)}static hashAsciiStr(g,b=!1){return this.onePassHasher.start().appendAsciiStr(g).end(b)}static _hex(g){const b=e.hexChars,E=e.hexOut;let _,u,I,k;for(k=0;k<4;k+=1)for(u=8*k,_=g[k],I=0;I<8;I+=2)E[u+1+I]=b.charAt(15&_),_>>>=4,E[u+0+I]=b.charAt(15&_),_>>>=4;return E.join("")}static _md5cycle(g,b){let E=g[0],_=g[1],u=g[2],I=g[3];E+=(_&u|~_&I)+b[0]-680876936|0,E=(E<<7|E>>>25)+_|0,I+=(E&_|~E&u)+b[1]-389564586|0,I=(I<<12|I>>>20)+E|0,u+=(I&E|~I&_)+b[2]+606105819|0,u=(u<<17|u>>>15)+I|0,_+=(u&I|~u&E)+b[3]-1044525330|0,_=(_<<22|_>>>10)+u|0,E+=(_&u|~_&I)+b[4]-176418897|0,E=(E<<7|E>>>25)+_|0,I+=(E&_|~E&u)+b[5]+1200080426|0,I=(I<<12|I>>>20)+E|0,u+=(I&E|~I&_)+b[6]-1473231341|0,u=(u<<17|u>>>15)+I|0,_+=(u&I|~u&E)+b[7]-45705983|0,_=(_<<22|_>>>10)+u|0,E+=(_&u|~_&I)+b[8]+1770035416|0,E=(E<<7|E>>>25)+_|0,I+=(E&_|~E&u)+b[9]-1958414417|0,I=(I<<12|I>>>20)+E|0,u+=(I&E|~I&_)+b[10]-42063|0,u=(u<<17|u>>>15)+I|0,_+=(u&I|~u&E)+b[11]-1990404162|0,_=(_<<22|_>>>10)+u|0,E+=(_&u|~_&I)+b[12]+1804603682|0,E=(E<<7|E>>>25)+_|0,I+=(E&_|~E&u)+b[13]-40341101|0,I=(I<<12|I>>>20)+E|0,u+=(I&E|~I&_)+b[14]-1502002290|0,u=(u<<17|u>>>15)+I|0,_+=(u&I|~u&E)+b[15]+1236535329|0,_=(_<<22|_>>>10)+u|0,E+=(_&I|u&~I)+b[1]-165796510|0,E=(E<<5|E>>>27)+_|0,I+=(E&u|_&~u)+b[6]-1069501632|0,I=(I<<9|I>>>23)+E|0,u+=(I&_|E&~_)+b[11]+643717713|0,u=(u<<14|u>>>18)+I|0,_+=(u&E|I&~E)+b[0]-373897302|0,_=(_<<20|_>>>12)+u|0,E+=(_&I|u&~I)+b[5]-701558691|0,E=(E<<5|E>>>27)+_|0,I+=(E&u|_&~u)+b[10]+38016083|0,I=(I<<9|I>>>23)+E|0,u+=(I&_|E&~_)+b[15]-660478335|0,u=(u<<14|u>>>18)+I|0,_+=(u&E|I&~E)+b[4]-405537848|0,_=(_<<20|_>>>12)+u|0,E+=(_&I|u&~I)+b[9]+568446438|0,E=(E<<5|E>>>27)+_|0,I+=(E&u|_&~u)+b[14]-1019803690|0,I=(I<<9|I>>>23)+E|0,u+=(I&_|E&~_)+b[3]-187363961|0,u=(u<<14|u>>>18)+I|0,_+=(u&E|I&~E)+b[8]+1163531501|0,_=(_<<20|_>>>12)+u|0,E+=(_&I|u&~I)+b[13]-1444681467|0,E=(E<<5|E>>>27)+_|0,I+=(E&u|_&~u)+b[2]-51403784|0,I=(I<<9|I>>>23)+E|0,u+=(I&_|E&~_)+b[7]+1735328473|0,u=(u<<14|u>>>18)+I|0,_+=(u&E|I&~E)+b[12]-1926607734|0,_=(_<<20|_>>>12)+u|0,E+=(_^u^I)+b[5]-378558|0,E=(E<<4|E>>>28)+_|0,I+=(E^_^u)+b[8]-2022574463|0,I=(I<<11|I>>>21)+E|0,u+=(I^E^_)+b[11]+1839030562|0,u=(u<<16|u>>>16)+I|0,_+=(u^I^E)+b[14]-35309556|0,_=(_<<23|_>>>9)+u|0,E+=(_^u^I)+b[1]-1530992060|0,E=(E<<4|E>>>28)+_|0,I+=(E^_^u)+b[4]+1272893353|0,I=(I<<11|I>>>21)+E|0,u+=(I^E^_)+b[7]-155497632|0,u=(u<<16|u>>>16)+I|0,_+=(u^I^E)+b[10]-1094730640|0,_=(_<<23|_>>>9)+u|0,E+=(_^u^I)+b[13]+681279174|0,E=(E<<4|E>>>28)+_|0,I+=(E^_^u)+b[0]-358537222|0,I=(I<<11|I>>>21)+E|0,u+=(I^E^_)+b[3]-722521979|0,u=(u<<16|u>>>16)+I|0,_+=(u^I^E)+b[6]+76029189|0,_=(_<<23|_>>>9)+u|0,E+=(_^u^I)+b[9]-640364487|0,E=(E<<4|E>>>28)+_|0,I+=(E^_^u)+b[12]-421815835|0,I=(I<<11|I>>>21)+E|0,u+=(I^E^_)+b[15]+530742520|0,u=(u<<16|u>>>16)+I|0,_+=(u^I^E)+b[2]-995338651|0,_=(_<<23|_>>>9)+u|0,E+=(u^(_|~I))+b[0]-198630844|0,E=(E<<6|E>>>26)+_|0,I+=(_^(E|~u))+b[7]+1126891415|0,I=(I<<10|I>>>22)+E|0,u+=(E^(I|~_))+b[14]-1416354905|0,u=(u<<15|u>>>17)+I|0,_+=(I^(u|~E))+b[5]-57434055|0,_=(_<<21|_>>>11)+u|0,E+=(u^(_|~I))+b[12]+1700485571|0,E=(E<<6|E>>>26)+_|0,I+=(_^(E|~u))+b[3]-1894986606|0,I=(I<<10|I>>>22)+E|0,u+=(E^(I|~_))+b[10]-1051523|0,u=(u<<15|u>>>17)+I|0,_+=(I^(u|~E))+b[1]-2054922799|0,_=(_<<21|_>>>11)+u|0,E+=(u^(_|~I))+b[8]+1873313359|0,E=(E<<6|E>>>26)+_|0,I+=(_^(E|~u))+b[15]-30611744|0,I=(I<<10|I>>>22)+E|0,u+=(E^(I|~_))+b[6]-1560198380|0,u=(u<<15|u>>>17)+I|0,_+=(I^(u|~E))+b[13]+1309151649|0,_=(_<<21|_>>>11)+u|0,E+=(u^(_|~I))+b[4]-145523070|0,E=(E<<6|E>>>26)+_|0,I+=(_^(E|~u))+b[11]-1120210379|0,I=(I<<10|I>>>22)+E|0,u+=(E^(I|~_))+b[2]+718787259|0,u=(u<<15|u>>>17)+I|0,_+=(I^(u|~E))+b[9]-343485551|0,_=(_<<21|_>>>11)+u|0,g[0]=E+g[0]|0,g[1]=_+g[1]|0,g[2]=u+g[2]|0,g[3]=I+g[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(g){const b=this._buffer8,E=this._buffer32;let u,I,_=this._bufferLength;for(I=0;I<g.length;I+=1){if(u=g.charCodeAt(I),u<128)b[_++]=u;else if(u<2048)b[_++]=192+(u>>>6),b[_++]=63&u|128;else if(u<55296||u>56319)b[_++]=224+(u>>>12),b[_++]=u>>>6&63|128,b[_++]=63&u|128;else{if(u=1024*(u-55296)+(g.charCodeAt(++I)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");b[_++]=240+(u>>>18),b[_++]=u>>>12&63|128,b[_++]=u>>>6&63|128,b[_++]=63&u|128}_>=64&&(this._dataLength+=64,e._md5cycle(this._state,E),_-=64,E[0]=E[16])}return this._bufferLength=_,this}appendAsciiStr(g){const b=this._buffer8,E=this._buffer32;let u,_=this._bufferLength,I=0;for(;;){for(u=Math.min(g.length-I,64-_);u--;)b[_++]=g.charCodeAt(I++);if(_<64)break;this._dataLength+=64,e._md5cycle(this._state,E),_=0}return this._bufferLength=_,this}appendByteArray(g){const b=this._buffer8,E=this._buffer32;let u,_=this._bufferLength,I=0;for(;;){for(u=Math.min(g.length-I,64-_);u--;)b[_++]=g[I++];if(_<64)break;this._dataLength+=64,e._md5cycle(this._state,E),_=0}return this._bufferLength=_,this}getState(){const g=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[g[0],g[1],g[2],g[3]]}}setState(g){const b=g.buffer,E=g.state,_=this._state;let u;for(this._dataLength=g.length,this._bufferLength=g.buflen,_[0]=E[0],_[1]=E[1],_[2]=E[2],_[3]=E[3],u=0;u<b.length;u+=1)this._buffer8[u]=b.charCodeAt(u)}end(g=!1){const b=this._bufferLength,E=this._buffer8,_=this._buffer32,u=1+(b>>2);this._dataLength+=b;const I=8*this._dataLength;if(E[b]=128,E[b+1]=E[b+2]=E[b+3]=0,_.set(e.buffer32Identity.subarray(u),u),b>55&&(e._md5cycle(this._state,_),_.set(e.buffer32Identity)),I<=4294967295)_[14]=I;else{const k=I.toString(16).match(/(.*?)(.{0,8})$/);if(null===k)return;const y=parseInt(k[2],16),x=parseInt(k[1],16)||0;_[14]=y,_[15]=x}return e._md5cycle(this._state,_),g?this._state:e._hex(this._state)}}if(e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,"5d41402abc4b2a76b9719d911017c592"!==e.hashStr("hello"))throw new Error("Md5 self test failed.");class d{constructor(g,b){this._queue=[],this._ready=!0;const E=this;Worker?(E._hashWorker=new Worker(g,b),E._hashWorker.onmessage=E._recievedMessage.bind(E),E._hashWorker.onerror=_=>{E._ready=!1,console.error("Hash worker failure",_)}):(E._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(g){const b=this;let E;return E=new Promise((_,u)=>{b._queue.push({blob:g,resolve:_,reject:u}),b._processNext()}),E}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(g){var b,E;const _=g.data;_.success?null===(b=this._processing)||void 0===b||b.resolve(_.result):null===(E=this._processing)||void 0===E||E.reject(_.result),this._processing=void 0,this._processNext()}}},9969:(Ot,ve,s)=>{"use strict";s.d(ve,{FX:()=>O,If:()=>e,K2:()=>b,MA:()=>y,Os:()=>g,P:()=>M,hZ:()=>d,i0:()=>h,i7:()=>u,iF:()=>E,kY:()=>I,kp:()=>n,sf:()=>L,ui:()=>G,wk:()=>_});var e=function(W){return W[W.State=0]="State",W[W.Transition=1]="Transition",W[W.Sequence=2]="Sequence",W[W.Group=3]="Group",W[W.Animate=4]="Animate",W[W.Keyframes=5]="Keyframes",W[W.Style=6]="Style",W[W.Trigger=7]="Trigger",W[W.Reference=8]="Reference",W[W.AnimateChild=9]="AnimateChild",W[W.AnimateRef=10]="AnimateRef",W[W.Query=11]="Query",W[W.Stagger=12]="Stagger",W}(e||{});const n="*";function d(W,U){return{type:e.Trigger,name:W,definitions:U,options:{}}}function h(W,U=null){return{type:e.Animate,styles:U,timings:W}}function g(W,U=null){return{type:e.Group,steps:W,options:U}}function b(W,U=null){return{type:e.Sequence,steps:W,options:U}}function E(W){return{type:e.Style,styles:W,offset:null}}function _(W,U,$){return{type:e.State,name:W,styles:U,options:$}}function u(W){return{type:e.Keyframes,steps:W}}function I(W,U,$=null){return{type:e.Transition,expr:W,animation:U,options:$}}function y(W=null){return{type:e.AnimateChild,options:W}}function M(W,U,$=null){return{type:e.Query,selector:W,animation:U,options:$}}class L{constructor(U=0,$=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=U+$}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(U=>U()),this._onDoneFns=[])}onStart(U){this._originalOnStartFns.push(U),this._onStartFns.push(U)}onDone(U){this._originalOnDoneFns.push(U),this._onDoneFns.push(U)}onDestroy(U){this._onDestroyFns.push(U)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(U=>U()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(U=>U()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(U){this._position=this.totalTime?U*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(U){const $="start"==U?this._onStartFns:this._onDoneFns;$.forEach(te=>te()),$.length=0}}class G{constructor(U){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=U;let $=0,te=0,ie=0;const me=this.players.length;0==me?queueMicrotask(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++$==me&&this._onFinish()}),Y.onDestroy(()=>{++te==me&&this._onDestroy()}),Y.onStart(()=>{++ie==me&&this._onStart()})}),this.totalTime=this.players.reduce((Y,F)=>Math.max(Y,F.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(U=>U()),this._onDoneFns=[])}init(){this.players.forEach(U=>U.init())}onStart(U){this._onStartFns.push(U)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(U=>U()),this._onStartFns=[])}onDone(U){this._onDoneFns.push(U)}onDestroy(U){this._onDestroyFns.push(U)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(U=>U.play())}pause(){this.players.forEach(U=>U.pause())}restart(){this.players.forEach(U=>U.restart())}finish(){this._onFinish(),this.players.forEach(U=>U.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(U=>U.destroy()),this._onDestroyFns.forEach(U=>U()),this._onDestroyFns=[])}reset(){this.players.forEach(U=>U.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(U){const $=U*this.totalTime;this.players.forEach(te=>{const ie=te.totalTime?Math.min(1,$/te.totalTime):1;te.setPosition(ie)})}getPosition(){const U=this.players.reduce(($,te)=>null===$||te.totalTime>$.totalTime?te:$,null);return null!=U?U.getPosition():0}beforeDestroy(){this.players.forEach(U=>{U.beforeDestroy&&U.beforeDestroy()})}triggerCallback(U){const $="start"==U?this._onStartFns:this._onDoneFns;$.forEach(te=>te()),$.length=0}}const O="!"},9888:(Ot,ve,s)=>{"use strict";s.d(ve,{Pd:()=>rt,Au:()=>J,vr:()=>te,vR:()=>Tt,kB:()=>se,Bu:()=>ae,FN:()=>Ge,GX:()=>Ie,Q_:()=>De,Z7:()=>pe,Ai:()=>$n,px:()=>A,_G:()=>Pt,w6:()=>an,Ae:()=>L});var e=s(177),n=s(3953),d=s(6860),h=s(5286),g=s(4337),E=(s(8982),s(4421)),_=s(9928),u=s(7336),I=s(8841),k=s(3020),y=s(8728),x=s(5006),B=(s(9493),s(7753)),K=s(522),P=s(7605),S=s(2318),w=s(4085),m=s(9327);const v=" ";function A(Qe,vt,et){const Re=G(Qe,vt);et=et.trim(),!Re.some(Mt=>Mt.trim()===et)&&(Re.push(et),Qe.setAttribute(vt,Re.join(v)))}function L(Qe,vt,et){const Re=G(Qe,vt);et=et.trim();const Mt=Re.filter(nt=>nt!==et);Mt.length?Qe.setAttribute(vt,Mt.join(v)):Qe.removeAttribute(vt)}function G(Qe,vt){return Qe.getAttribute(vt)?.match(/\S+/g)??[]}const W="cdk-describedby-message",U="cdk-describedby-host";let $=0,te=(()=>{class Qe{constructor(et,Re){this._platform=Re,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+$++,this._document=et,this._id=(0,n.WQX)(n.sZ2)+"-"+$++}describe(et,Re,Mt){if(!this._canBeDescribed(et,Re))return;const nt=ie(Re,Mt);"string"!=typeof Re?(me(Re,this._id),this._messageRegistry.set(nt,{messageElement:Re,referenceCount:0})):this._messageRegistry.has(nt)||this._createMessageElement(Re,Mt),this._isElementDescribedByMessage(et,nt)||this._addMessageReference(et,nt)}removeDescription(et,Re,Mt){if(!Re||!this._isElementNode(et))return;const nt=ie(Re,Mt);if(this._isElementDescribedByMessage(et,nt)&&this._removeMessageReference(et,nt),"string"==typeof Re){const Ze=this._messageRegistry.get(nt);Ze&&0===Ze.referenceCount&&this._deleteMessageElement(nt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const et=this._document.querySelectorAll(`[${U}="${this._id}"]`);for(let Re=0;Re<et.length;Re++)this._removeCdkDescribedByReferenceIds(et[Re]),et[Re].removeAttribute(U);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(et,Re){const Mt=this._document.createElement("div");me(Mt,this._id),Mt.textContent=et,Re&&Mt.setAttribute("role",Re),this._createMessagesContainer(),this._messagesContainer.appendChild(Mt),this._messageRegistry.set(ie(et,Re),{messageElement:Mt,referenceCount:0})}_deleteMessageElement(et){this._messageRegistry.get(et)?.messageElement?.remove(),this._messageRegistry.delete(et)}_createMessagesContainer(){if(this._messagesContainer)return;const et="cdk-describedby-message-container",Re=this._document.querySelectorAll(`.${et}[platform="server"]`);for(let nt=0;nt<Re.length;nt++)Re[nt].remove();const Mt=this._document.createElement("div");Mt.style.visibility="hidden",Mt.classList.add(et),Mt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Mt.setAttribute("platform","server"),this._document.body.appendChild(Mt),this._messagesContainer=Mt}_removeCdkDescribedByReferenceIds(et){const Re=G(et,"aria-describedby").filter(Mt=>0!=Mt.indexOf(W));et.setAttribute("aria-describedby",Re.join(" "))}_addMessageReference(et,Re){const Mt=this._messageRegistry.get(Re);A(et,"aria-describedby",Mt.messageElement.id),et.setAttribute(U,this._id),Mt.referenceCount++}_removeMessageReference(et,Re){const Mt=this._messageRegistry.get(Re);Mt.referenceCount--,L(et,"aria-describedby",Mt.messageElement.id),et.removeAttribute(U)}_isElementDescribedByMessage(et,Re){const Mt=G(et,"aria-describedby"),nt=this._messageRegistry.get(Re),Ze=nt&&nt.messageElement.id;return!!Ze&&-1!=Mt.indexOf(Ze)}_canBeDescribed(et,Re){if(!this._isElementNode(et))return!1;if(Re&&"object"==typeof Re)return!0;const Mt=null==Re?"":`${Re}`.trim(),nt=et.getAttribute("aria-label");return!(!Mt||nt&&nt.trim()===Mt)}_isElementNode(et){return et.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(e.qQ),n.KVO(d.OD))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})();function ie(Qe,vt){return"string"==typeof Qe?`${vt||""}/${Qe}`:Qe}function me(Qe,vt){Qe.id||(Qe.id=`${W}-${vt}-${$++}`)}class F{constructor(vt,et){this._letterKeyStream=new h.B7,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new h.B7,this.selectedItem=this._selectedItem;const Re="number"==typeof et?.debounceInterval?et.debounceInterval:200;et?.skipPredicate&&(this._skipPredicateFn=et.skipPredicate),this.setItems(vt),this._setupKeyHandler(Re)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(vt){this._selectedItemIndex=vt}setItems(vt){this._items=vt}handleKey(vt){const et=vt.keyCode;vt.key&&1===vt.key.length?this._letterKeyStream.next(vt.key.toLocaleUpperCase()):(et>=u.A&&et<=u.Z||et>=u.f2&&et<=u.bn)&&this._letterKeyStream.next(String.fromCharCode(et))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(vt){this._letterKeyStream.pipe((0,I.M)(et=>this._pressedLetters.push(et)),(0,k.B)(vt),(0,y.p)(()=>this._pressedLetters.length>0),(0,x.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(et=>{for(let Re=1;Re<this._items.length+1;Re++){const nt=this._items[(this._selectedItemIndex+Re)%this._items.length];if(!this._skipPredicateFn?.(nt)&&0===nt.getLabel?.().toLocaleUpperCase().trim().indexOf(et)){this._selectedItem.next(nt);break}}this._pressedLetters=[]})}}class N{constructor(vt,et){this._items=vt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=g.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Re=>Re.disabled,this.tabOut=new h.B7,this.change=new h.B7,vt instanceof n.rOR?this._itemChangesSubscription=vt.changes.subscribe(Re=>this._itemsChanged(Re.toArray())):(0,n.Hps)(vt)&&(this._effectRef=(0,n.QZP)(()=>this._itemsChanged(vt()),{injector:et}))}skipPredicate(vt){return this._skipPredicateFn=vt,this}withWrap(vt=!0){return this._wrap=vt,this}withVerticalOrientation(vt=!0){return this._vertical=vt,this}withHorizontalOrientation(vt){return this._horizontal=vt,this}withAllowedModifierKeys(vt){return this._allowedModifierKeys=vt,this}withTypeAhead(vt=200){this._typeaheadSubscription.unsubscribe();const et=this._getItemsArray();return this._typeahead=new F(et,{debounceInterval:"number"==typeof vt?vt:void 0,skipPredicate:Re=>this._skipPredicateFn(Re)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Re=>{this.setActiveItem(Re)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(vt=!0){return this._homeAndEnd=vt,this}withPageUpDown(vt=!0,et=10){return this._pageUpAndDown={enabled:vt,delta:et},this}setActiveItem(vt){const et=this._activeItem;this.updateActiveItem(vt),this._activeItem!==et&&this.change.next(this._activeItemIndex)}onKeydown(vt){const et=vt.keyCode,Mt=["altKey","ctrlKey","metaKey","shiftKey"].every(nt=>!vt[nt]||this._allowedModifierKeys.indexOf(nt)>-1);switch(et){case u.wn:return void this.tabOut.next();case u.n6:if(this._vertical&&Mt){this.setNextItemActive();break}return;case u.i7:if(this._vertical&&Mt){this.setPreviousItemActive();break}return;case u.LE:if(this._horizontal&&Mt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case u.UQ:if(this._horizontal&&Mt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case u.yZ:if(this._homeAndEnd&&Mt){this.setFirstItemActive();break}return;case u.Kp:if(this._homeAndEnd&&Mt){this.setLastItemActive();break}return;case u.w_:if(this._pageUpAndDown.enabled&&Mt){const nt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(nt>0?nt:0,1);break}return;case u.dB:if(this._pageUpAndDown.enabled&&Mt){const nt=this._activeItemIndex+this._pageUpAndDown.delta,Ze=this._getItemsArray().length;this._setActiveItemByIndex(nt<Ze?nt:Ze-1,-1);break}return;default:return void((Mt||(0,u.rp)(vt,"shiftKey"))&&this._typeahead?.handleKey(vt))}this._typeahead?.reset(),vt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(vt){const et=this._getItemsArray(),Re="number"==typeof vt?vt:et.indexOf(vt);this._activeItem=et[Re]??null,this._activeItemIndex=Re,this._typeahead?.setCurrentSelectedItemIndex(Re)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(vt){this._wrap?this._setActiveInWrapMode(vt):this._setActiveInDefaultMode(vt)}_setActiveInWrapMode(vt){const et=this._getItemsArray();for(let Re=1;Re<=et.length;Re++){const Mt=(this._activeItemIndex+vt*Re+et.length)%et.length;if(!this._skipPredicateFn(et[Mt]))return void this.setActiveItem(Mt)}}_setActiveInDefaultMode(vt){this._setActiveItemByIndex(this._activeItemIndex+vt,vt)}_setActiveItemByIndex(vt,et){const Re=this._getItemsArray();if(Re[vt]){for(;this._skipPredicateFn(Re[vt]);)if(!Re[vt+=et])return;this.setActiveItem(vt)}}_getItemsArray(){return(0,n.Hps)(this._items)?this._items():this._items instanceof n.rOR?this._items.toArray():this._items}_itemsChanged(vt){if(this._typeahead?.setItems(vt),this._activeItem){const et=vt.indexOf(this._activeItem);et>-1&&et!==this._activeItemIndex&&(this._activeItemIndex=et,this._typeahead?.setCurrentSelectedItemIndex(et))}}}class J extends N{setActiveItem(vt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(vt),this.activeItem&&this.activeItem.setActiveStyles()}}class ae extends N{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(vt){return this._origin=vt,this}setActiveItem(vt){super.setActiveItem(vt),this.activeItem&&this.activeItem.focus(this._origin)}}let pe=(()=>{class Qe{constructor(et){this._platform=et}isDisabled(et){return et.hasAttribute("disabled")}isVisible(et){return function le(Qe){return!!(Qe.offsetWidth||Qe.offsetHeight||"function"==typeof Qe.getClientRects&&Qe.getClientRects().length)}(et)&&"visible"===getComputedStyle(et).visibility}isTabbable(et){if(!this._platform.isBrowser)return!1;const Re=function he(Qe){try{return Qe.frameElement}catch{return null}}(function $t(Qe){return Qe.ownerDocument&&Qe.ownerDocument.defaultView||window}(et));if(Re&&(-1===_n(Re)||!this.isVisible(Re)))return!1;let Mt=et.nodeName.toLowerCase(),nt=_n(et);return et.hasAttribute("contenteditable")?-1!==nt:!("iframe"===Mt||"object"===Mt||this._platform.WEBKIT&&this._platform.IOS&&!function In(Qe){let vt=Qe.nodeName.toLowerCase(),et="input"===vt&&Qe.type;return"text"===et||"password"===et||"select"===vt||"textarea"===vt}(et))&&("audio"===Mt?!!et.hasAttribute("controls")&&-1!==nt:"video"===Mt?-1!==nt&&(null!==nt||this._platform.FIREFOX||et.hasAttribute("controls")):et.tabIndex>=0)}isFocusable(et,Re){return function rn(Qe){return!function Xe(Qe){return function dt(Qe){return"input"==Qe.nodeName.toLowerCase()}(Qe)&&"hidden"==Qe.type}(Qe)&&(function Ee(Qe){let vt=Qe.nodeName.toLowerCase();return"input"===vt||"select"===vt||"button"===vt||"textarea"===vt}(Qe)||function xt(Qe){return function Ct(Qe){return"a"==Qe.nodeName.toLowerCase()}(Qe)&&Qe.hasAttribute("href")}(Qe)||Qe.hasAttribute("contenteditable")||Qt(Qe))}(et)&&!this.isDisabled(et)&&(Re?.ignoreVisibility||this.isVisible(et))}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(d.OD))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})();function Qt(Qe){if(!Qe.hasAttribute("tabindex")||void 0===Qe.tabIndex)return!1;let vt=Qe.getAttribute("tabindex");return!(!vt||isNaN(parseInt(vt,10)))}function _n(Qe){if(!Qt(Qe))return null;const vt=parseInt(Qe.getAttribute("tabindex")||"",10);return isNaN(vt)?-1:vt}class q{get enabled(){return this._enabled}set enabled(vt){this._enabled=vt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}constructor(vt,et,Re,Mt,nt=!1,Ze){this._element=vt,this._checker=et,this._ngZone=Re,this._document=Mt,this._injector=Ze,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,nt||this.attachAnchors()}destroy(){const vt=this._startAnchor,et=this._endAnchor;vt&&(vt.removeEventListener("focus",this.startAnchorListener),vt.remove()),et&&(et.removeEventListener("focus",this.endAnchorListener),et.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(vt){return new Promise(et=>{this._executeOnStable(()=>et(this.focusInitialElement(vt)))})}focusFirstTabbableElementWhenReady(vt){return new Promise(et=>{this._executeOnStable(()=>et(this.focusFirstTabbableElement(vt)))})}focusLastTabbableElementWhenReady(vt){return new Promise(et=>{this._executeOnStable(()=>et(this.focusLastTabbableElement(vt)))})}_getRegionBoundary(vt){const et=this._element.querySelectorAll(`[cdk-focus-region-${vt}], [cdkFocusRegion${vt}], [cdk-focus-${vt}]`);return"start"==vt?et.length?et[0]:this._getFirstTabbableElement(this._element):et.length?et[et.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(vt){const et=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(et){if(!this._checker.isFocusable(et)){const Re=this._getFirstTabbableElement(et);return Re?.focus(vt),!!Re}return et.focus(vt),!0}return this.focusFirstTabbableElement(vt)}focusFirstTabbableElement(vt){const et=this._getRegionBoundary("start");return et&&et.focus(vt),!!et}focusLastTabbableElement(vt){const et=this._getRegionBoundary("end");return et&&et.focus(vt),!!et}hasAttached(){return this._hasAttached}_getFirstTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const et=vt.children;for(let Re=0;Re<et.length;Re++){const Mt=et[Re].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(et[Re]):null;if(Mt)return Mt}return null}_getLastTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const et=vt.children;for(let Re=et.length-1;Re>=0;Re--){const Mt=et[Re].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(et[Re]):null;if(Mt)return Mt}return null}_createAnchor(){const vt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,vt),vt.classList.add("cdk-visually-hidden"),vt.classList.add("cdk-focus-trap-anchor"),vt.setAttribute("aria-hidden","true"),vt}_toggleAnchorTabIndex(vt,et){vt?et.setAttribute("tabindex","0"):et.removeAttribute("tabindex")}toggleAnchors(vt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}_executeOnStable(vt){this._injector?(0,n.mal)(vt,{injector:this._injector}):setTimeout(vt)}}let Ie=(()=>{class Qe{constructor(et,Re,Mt){this._checker=et,this._ngZone=Re,this._injector=(0,n.WQX)(n.zZn),this._document=Mt}create(et,Re=!1){return new q(et,this._checker,this._ngZone,this._document,Re,this._injector)}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(pe),n.KVO(n.SKi),n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})(),se=(()=>{class Qe{get enabled(){return this.focusTrap?.enabled||!1}set enabled(et){this.focusTrap&&(this.focusTrap.enabled=et)}constructor(et,Re,Mt){this._elementRef=et,this._focusTrapFactory=Re,this._previouslyFocusedElement=null,(0,n.WQX)(d.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(et){const Re=et.autoCapture;Re&&!Re.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,d.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.rXU(n.aKT),n.rXU(Ie),n.rXU(e.qQ))};static#t=this.\u0275dir=n.FsC({type:Qe,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",n.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",n.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[n.GFd,n.OA$]})}return Qe})();function Pt(Qe){return 0===Qe.buttons||0===Qe.detail}function an(Qe){const vt=Qe.touches&&Qe.touches[0]||Qe.changedTouches&&Qe.changedTouches[0];return!(!vt||-1!==vt.identifier||null!=vt.radiusX&&1!==vt.radiusX||null!=vt.radiusY&&1!==vt.radiusY)}const Et=new n.nKC("cdk-input-modality-detector-options"),bt={ignoreKeys:[u.A$,u.W3,u.eg,u.Ge,u.FX]},Xt=(0,d.BQ)({passive:!0,capture:!0});let nn=(()=>{class Qe{get mostRecentModality(){return this._modality.value}constructor(et,Re,Mt,nt){this._platform=et,this._mostRecentTarget=null,this._modality=new _.t(null),this._lastTouchMs=0,this._onKeydown=Ze=>{this._options?.ignoreKeys?.some(qt=>qt===Ze.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,d.Fb)(Ze))},this._onMousedown=Ze=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pt(Ze)?"keyboard":"mouse"),this._mostRecentTarget=(0,d.Fb)(Ze))},this._onTouchstart=Ze=>{an(Ze)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,d.Fb)(Ze))},this._options={...bt,...nt},this.modalityDetected=this._modality.pipe((0,B.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,K.F)()),et.isBrowser&&Re.runOutsideAngular(()=>{Mt.addEventListener("keydown",this._onKeydown,Xt),Mt.addEventListener("mousedown",this._onMousedown,Xt),Mt.addEventListener("touchstart",this._onTouchstart,Xt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xt),document.removeEventListener("mousedown",this._onMousedown,Xt),document.removeEventListener("touchstart",this._onTouchstart,Xt))}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(d.OD),n.KVO(n.SKi),n.KVO(e.qQ),n.KVO(Et,8))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})();const yn=new n.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Mn(){return null}}),Ln=new n.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Fn=0,$n=(()=>{class Qe{constructor(et,Re,Mt,nt){this._ngZone=Re,this._defaultOptions=nt,this._document=Mt,this._liveElement=et||this._createLiveElement()}announce(et,...Re){const Mt=this._defaultOptions;let nt,Ze;return 1===Re.length&&"number"==typeof Re[0]?Ze=Re[0]:[nt,Ze]=Re,this.clear(),clearTimeout(this._previousTimeout),nt||(nt=Mt&&Mt.politeness?Mt.politeness:"polite"),null==Ze&&Mt&&(Ze=Mt.duration),this._liveElement.setAttribute("aria-live",nt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(qt=>this._currentResolve=qt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=et,"number"==typeof Ze&&(this._previousTimeout=setTimeout(()=>this.clear(),Ze)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const et="cdk-live-announcer-element",Re=this._document.getElementsByClassName(et),Mt=this._document.createElement("div");for(let nt=0;nt<Re.length;nt++)Re[nt].remove();return Mt.classList.add(et),Mt.classList.add("cdk-visually-hidden"),Mt.setAttribute("aria-atomic","true"),Mt.setAttribute("aria-live","polite"),Mt.id="cdk-live-announcer-"+Fn++,this._document.body.appendChild(Mt),Mt}_exposeAnnouncerToModals(et){const Re=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Mt=0;Mt<Re.length;Mt++){const nt=Re[Mt],Ze=nt.getAttribute("aria-owns");Ze?-1===Ze.indexOf(et)&&nt.setAttribute("aria-owns",Ze+" "+et):nt.setAttribute("aria-owns",et)}}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(yn,8),n.KVO(n.SKi),n.KVO(e.qQ),n.KVO(Ln,8))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})();var ze=function(Qe){return Qe[Qe.IMMEDIATE=0]="IMMEDIATE",Qe[Qe.EVENTUAL=1]="EVENTUAL",Qe}(ze||{});const Bt=new n.nKC("cdk-focus-monitor-default-options"),Te=(0,d.BQ)({passive:!0,capture:!0});let Ge=(()=>{class Qe{constructor(et,Re,Mt,nt,Ze){this._ngZone=et,this._platform=Re,this._inputModalityDetector=Mt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new h.B7,this._rootNodeFocusAndBlurListener=qt=>{for(let dn=(0,d.Fb)(qt);dn;dn=dn.parentElement)"focus"===qt.type?this._onFocus(qt,dn):this._onBlur(qt,dn)},this._document=nt,this._detectionMode=Ze?.detectionMode||ze.IMMEDIATE}monitor(et,Re=!1){const Mt=(0,w.i8)(et);if(!this._platform.isBrowser||1!==Mt.nodeType)return(0,E.of)();const nt=(0,d.KT)(Mt)||this._getDocument(),Ze=this._elementInfo.get(Mt);if(Ze)return Re&&(Ze.checkChildren=!0),Ze.subject;const qt={checkChildren:Re,subject:new h.B7,rootNode:nt};return this._elementInfo.set(Mt,qt),this._registerGlobalListeners(qt),qt.subject}stopMonitoring(et){const Re=(0,w.i8)(et),Mt=this._elementInfo.get(Re);Mt&&(Mt.subject.complete(),this._setClasses(Re),this._elementInfo.delete(Re),this._removeGlobalListeners(Mt))}focusVia(et,Re,Mt){const nt=(0,w.i8)(et);nt===this._getDocument().activeElement?this._getClosestElementsInfo(nt).forEach(([qt,Vt])=>this._originChanged(qt,Re,Vt)):(this._setOrigin(Re),"function"==typeof nt.focus&&nt.focus(Mt))}ngOnDestroy(){this._elementInfo.forEach((et,Re)=>this.stopMonitoring(Re))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(et){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(et)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:et&&this._isLastInteractionFromInputLabel(et)?"mouse":"program"}_shouldBeAttributedToTouch(et){return this._detectionMode===ze.EVENTUAL||!!et?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(et,Re){et.classList.toggle("cdk-focused",!!Re),et.classList.toggle("cdk-touch-focused","touch"===Re),et.classList.toggle("cdk-keyboard-focused","keyboard"===Re),et.classList.toggle("cdk-mouse-focused","mouse"===Re),et.classList.toggle("cdk-program-focused","program"===Re)}_setOrigin(et,Re=!1){this._ngZone.runOutsideAngular(()=>{this._origin=et,this._originFromTouchInteraction="touch"===et&&Re,this._detectionMode===ze.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(et,Re){const Mt=this._elementInfo.get(Re),nt=(0,d.Fb)(et);!Mt||!Mt.checkChildren&&Re!==nt||this._originChanged(Re,this._getFocusOrigin(nt),Mt)}_onBlur(et,Re){const Mt=this._elementInfo.get(Re);!Mt||Mt.checkChildren&&et.relatedTarget instanceof Node&&Re.contains(et.relatedTarget)||(this._setClasses(Re),this._emitOrigin(Mt,null))}_emitOrigin(et,Re){et.subject.observers.length&&this._ngZone.run(()=>et.subject.next(Re))}_registerGlobalListeners(et){if(!this._platform.isBrowser)return;const Re=et.rootNode,Mt=this._rootNodeFocusListenerCount.get(Re)||0;Mt||this._ngZone.runOutsideAngular(()=>{Re.addEventListener("focus",this._rootNodeFocusAndBlurListener,Te),Re.addEventListener("blur",this._rootNodeFocusAndBlurListener,Te)}),this._rootNodeFocusListenerCount.set(Re,Mt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,P.Q)(this._stopInputModalityDetector)).subscribe(nt=>{this._setOrigin(nt,!0)}))}_removeGlobalListeners(et){const Re=et.rootNode;if(this._rootNodeFocusListenerCount.has(Re)){const Mt=this._rootNodeFocusListenerCount.get(Re);Mt>1?this._rootNodeFocusListenerCount.set(Re,Mt-1):(Re.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Te),Re.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Te),this._rootNodeFocusListenerCount.delete(Re))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(et,Re,Mt){this._setClasses(et,Re),this._emitOrigin(Mt,Re),this._lastFocusOrigin=Re}_getClosestElementsInfo(et){const Re=[];return this._elementInfo.forEach((Mt,nt)=>{(nt===et||Mt.checkChildren&&nt.contains(et))&&Re.push([nt,Mt])}),Re}_isLastInteractionFromInputLabel(et){const{_mostRecentTarget:Re,mostRecentModality:Mt}=this._inputModalityDetector;if("mouse"!==Mt||!Re||Re===et||"INPUT"!==et.nodeName&&"TEXTAREA"!==et.nodeName||et.disabled)return!1;const nt=et.labels;if(nt)for(let Ze=0;Ze<nt.length;Ze++)if(nt[Ze].contains(Re))return!0;return!1}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(n.SKi),n.KVO(d.OD),n.KVO(nn),n.KVO(e.qQ,8),n.KVO(Bt,8))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})(),Tt=(()=>{class Qe{constructor(et,Re){this._elementRef=et,this._focusMonitor=Re,this._focusOrigin=null,this.cdkFocusChange=new n.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const et=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(et,1===et.nodeType&&et.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Re=>{this._focusOrigin=Re,this.cdkFocusChange.emit(Re)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.rXU(n.aKT),n.rXU(Ge))};static#t=this.\u0275dir=n.FsC({type:Qe,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Qe})();var Wt=function(Qe){return Qe[Qe.NONE=0]="NONE",Qe[Qe.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Qe[Qe.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Qe}(Wt||{});const We="cdk-high-contrast-black-on-white",Pe="cdk-high-contrast-white-on-black",Ue="cdk-high-contrast-active";let De=(()=>{class Qe{constructor(et,Re){this._platform=et,this._document=Re,this._breakpointSubscription=(0,n.WQX)(m.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Wt.NONE;const et=this._document.createElement("div");et.style.backgroundColor="rgb(1,2,3)",et.style.position="absolute",this._document.body.appendChild(et);const Re=this._document.defaultView||window,Mt=Re&&Re.getComputedStyle?Re.getComputedStyle(et):null,nt=(Mt&&Mt.backgroundColor||"").replace(/ /g,"");switch(et.remove(),nt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Wt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Wt.BLACK_ON_WHITE}return Wt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const et=this._document.body.classList;et.remove(Ue,We,Pe),this._hasCheckedHighContrastMode=!0;const Re=this.getHighContrastMode();Re===Wt.BLACK_ON_WHITE?et.add(Ue,We):Re===Wt.WHITE_ON_BLACK&&et.add(Ue,Pe)}}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(d.OD),n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})(),rt=(()=>{class Qe{constructor(et){et._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Re){return new(Re||Qe)(n.KVO(De))};static#t=this.\u0275mod=n.$C({type:Qe});static#n=this.\u0275inj=n.G2t({imports:[S.w5]})}return Qe})()},8203:(Ot,ve,s)=>{"use strict";s.d(ve,{dS:()=>E,jI:()=>u});var e=s(3953),n=s(177);const d=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function h(){return(0,e.WQX)(n.qQ)}}),g=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let E=(()=>{class I{constructor(y){this.value="ltr",this.change=new e.bkB,y&&(this.value=function b(I){const k=I?.toLowerCase()||"";return"auto"===k&&typeof navigator<"u"&&navigator?.language?g.test(navigator.language)?"rtl":"ltr":"rtl"===k?"rtl":"ltr"}((y.body?y.body.dir:null)||(y.documentElement?y.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(x){return new(x||I)(e.KVO(d,8))};static#t=this.\u0275prov=e.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),u=(()=>{class I{static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275mod=e.$C({type:I});static#n=this.\u0275inj=e.G2t({})}return I})()},3801:(Ot,ve,s)=>{"use strict";s.d(ve,{B0:()=>h,FQ:()=>E});var e=s(177),n=s(3953);class d{constructor(u,I){this._document=I;const k=this._textarea=this._document.createElement("textarea"),y=k.style;y.position="fixed",y.top=y.opacity="0",y.left="-999em",k.setAttribute("aria-hidden","true"),k.value=u,k.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(k)}copy(){const u=this._textarea;let I=!1;try{if(u){const k=this._document.activeElement;u.select(),u.setSelectionRange(0,u.value.length),I=this._document.execCommand("copy"),k&&k.focus()}}catch{}return I}destroy(){const u=this._textarea;u&&(u.remove(),this._textarea=void 0)}}let h=(()=>{class _{constructor(I){this._document=I}copy(I){const k=this.beginCopy(I),y=k.copy();return k.destroy(),y}beginCopy(I){return new d(I,this._document)}static#e=this.\u0275fac=function(k){return new(k||_)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),E=(()=>{class _{static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275mod=n.$C({type:_});static#n=this.\u0275inj=n.G2t({})}return _})()},4085:(Ot,ve,s)=>{"use strict";s.d(ve,{FG:()=>g,OE:()=>d,a1:()=>b,cc:()=>_,he:()=>n,i8:()=>E,o1:()=>h});var e=s(3953);function n(u){return null!=u&&"false"!=`${u}`}function d(u,I=0){return h(u)?Number(u):2===arguments.length?I:0}function h(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}function g(u){return Array.isArray(u)?u:[u]}function b(u){return null==u?"":"string"==typeof u?u:`${u}px`}function E(u){return u instanceof e.aKT?u.nativeElement:u}function _(u,I=/\s+/){const k=[];if(null!=u){const y=Array.isArray(u)?u:`${u}`.split(I);for(const x of y){const M=`${x}`.trim();M&&k.push(M)}}return k}},5024:(Ot,ve,s)=>{"use strict";s.d(ve,{CB:()=>x,DQ:()=>y,Q3:()=>u,hx:()=>_,qS:()=>b,sL:()=>I,xn:()=>k,y4:()=>E,zP:()=>B});var e=s(4725),n=s(8982),d=s(4421),h=s(5286),g=s(3953);class b{}function E(K){return K&&"function"==typeof K.connect&&!(K instanceof e.G)}class _ extends b{constructor(P){super(),this._data=P}connect(){return(0,n.A)(this._data)?this._data:(0,d.of)(this._data)}disconnect(){}}var u=function(K){return K[K.REPLACED=0]="REPLACED",K[K.INSERTED=1]="INSERTED",K[K.MOVED=2]="MOVED",K[K.REMOVED=3]="REMOVED",K}(u||{});const I=new g.nKC("_ViewRepeater");class k{applyChanges(P,j,S,w,m){P.forEachOperation((v,A,L)=>{let G,O;if(null==v.previousIndex){const W=S(v,A,L);G=j.createEmbeddedView(W.templateRef,W.context,W.index),O=u.INSERTED}else null==L?(j.remove(A),O=u.REMOVED):(G=j.get(A),j.move(G,L),O=u.MOVED);m&&m({context:G?.context,operation:O,record:v})})}detach(){}}class y{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(P,j,S,w,m){P.forEachOperation((v,A,L)=>{let G,O;null==v.previousIndex?(G=this._insertView(()=>S(v,A,L),L,j,w(v)),O=G?u.INSERTED:u.REPLACED):null==L?(this._detachAndCacheView(A,j),O=u.REMOVED):(G=this._moveView(A,L,j,w(v)),O=u.MOVED),m&&m({context:G?.context,operation:O,record:v})})}detach(){for(const P of this._viewCache)P.destroy();this._viewCache=[]}_insertView(P,j,S,w){const m=this._insertViewFromCache(j,S);if(m)return void(m.context.$implicit=w);const v=P();return S.createEmbeddedView(v.templateRef,v.context,v.index)}_detachAndCacheView(P,j){const S=j.detach(P);this._maybeCacheView(S,j)}_moveView(P,j,S,w){const m=S.get(P);return S.move(m,j),m.context.$implicit=w,m}_maybeCacheView(P,j){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(P);else{const S=j.indexOf(P);-1===S?P.destroy():j.remove(S)}}_insertViewFromCache(P,j){const S=this._viewCache.pop();return S&&j.insert(S,P),S||null}}class x{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(P=!1,j,S=!0,w){this._multiple=P,this._emitChanges=S,this.compareWith=w,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.B7,j&&j.length&&(P?j.forEach(m=>this._markSelected(m)):this._markSelected(j[0]),this._selectedToEmit.length=0)}select(...P){this._verifyValueAssignment(P),P.forEach(S=>this._markSelected(S));const j=this._hasQueuedChanges();return this._emitChangeEvent(),j}deselect(...P){this._verifyValueAssignment(P),P.forEach(S=>this._unmarkSelected(S));const j=this._hasQueuedChanges();return this._emitChangeEvent(),j}setSelection(...P){this._verifyValueAssignment(P);const j=this.selected,S=new Set(P);P.forEach(m=>this._markSelected(m)),j.filter(m=>!S.has(this._getConcreteValue(m,S))).forEach(m=>this._unmarkSelected(m));const w=this._hasQueuedChanges();return this._emitChangeEvent(),w}toggle(P){return this.isSelected(P)?this.deselect(P):this.select(P)}clear(P=!0){this._unmarkAll();const j=this._hasQueuedChanges();return P&&this._emitChangeEvent(),j}isSelected(P){return this._selection.has(this._getConcreteValue(P))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(P){this._multiple&&this.selected&&this._selected.sort(P)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(P){P=this._getConcreteValue(P),this.isSelected(P)||(this._multiple||this._unmarkAll(),this.isSelected(P)||this._selection.add(P),this._emitChanges&&this._selectedToEmit.push(P))}_unmarkSelected(P){P=this._getConcreteValue(P),this.isSelected(P)&&(this._selection.delete(P),this._emitChanges&&this._deselectedToEmit.push(P))}_unmarkAll(){this.isEmpty()||this._selection.forEach(P=>this._unmarkSelected(P))}_verifyValueAssignment(P){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(P,j){if(this.compareWith){j=j??this._selection;for(let S of j)if(this.compareWith(P,S))return S;return P}return P}}let B=(()=>{class K{constructor(){this._listeners=[]}notify(j,S){for(let w of this._listeners)w(j,S)}listen(j){return this._listeners.push(j),()=>{this._listeners=this._listeners.filter(S=>j!==S)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(S){return new(S||K)};static#t=this.\u0275prov=g.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},2529:(Ot,ve,s)=>{"use strict";s.d(ve,{Pe:()=>M,Ph:()=>O,lG:()=>L,sU:()=>K});var e=s(9888),n=s(7987),d=s(6860),h=s(6939),g=s(177),b=s(3953),E=s(7336),_=s(5286),u=s(9418),I=s(4421),k=s(8203),y=s(3176);function x(W,U){}class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let K=(()=>{class W extends h.lb{constructor($,te,ie,me,Y,F,N,J){super(),this._elementRef=$,this._focusTrapFactory=te,this._config=me,this._interactivityChecker=Y,this._ngZone=F,this._overlayRef=N,this._focusMonitor=J,this._platform=(0,b.WQX)(d.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,b.WQX)(b.gRc),this._injector=(0,b.WQX)(b.zZn),this._isDestroyed=!1,this.attachDomPortal=ae=>{this._portalOutlet.hasAttached();const _e=this._portalOutlet.attachDomPortal(ae);return this._contentAttached(),_e},this._document=ie,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy($){this._ariaLabelledByQueue.push($),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy($){const te=this._ariaLabelledByQueue.indexOf($);te>-1&&(this._ariaLabelledByQueue.splice(te,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal($){this._portalOutlet.hasAttached();const te=this._portalOutlet.attachComponentPortal($);return this._contentAttached(),te}attachTemplatePortal($){this._portalOutlet.hasAttached();const te=this._portalOutlet.attachTemplatePortal($);return this._contentAttached(),te}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus($,te){this._interactivityChecker.isFocusable($)||($.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ie=()=>{$.removeEventListener("blur",ie),$.removeEventListener("mousedown",ie),$.removeAttribute("tabindex")};$.addEventListener("blur",ie),$.addEventListener("mousedown",ie)})),$.focus(te)}_focusByCssSelector($,te){let ie=this._elementRef.nativeElement.querySelector($);ie&&this._forceFocus(ie,te)}_trapFocus(){this._isDestroyed||(0,b.mal)(()=>{const $=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||$.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const $=this._config.restoreFocus;let te=null;if("string"==typeof $?te=this._document.querySelector($):"boolean"==typeof $?te=$?this._elementFocusedBeforeDialogWasOpened:null:$&&(te=$),this._config.restoreFocus&&te&&"function"==typeof te.focus){const ie=(0,d.vc)(),me=this._elementRef.nativeElement;(!ie||ie===this._document.body||ie===me||me.contains(ie))&&(this._focusMonitor?(this._focusMonitor.focusVia(te,this._closeInteractionType),this._closeInteractionType=null):te.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const $=this._elementRef.nativeElement,te=(0,d.vc)();return $===te||$.contains(te)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,d.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(te){return new(te||W)(b.rXU(b.aKT),b.rXU(e.GX),b.rXU(g.qQ,8),b.rXU(M),b.rXU(e.Z7),b.rXU(b.SKi),b.rXU(n.yY),b.rXU(e.FN))};static#t=this.\u0275cmp=b.VBU({type:W,selectors:[["cdk-dialog-container"]],viewQuery:function(te,ie){if(1&te&&b.GBs(h.I3,7),2&te){let me;b.mGM(me=b.lsd())&&(ie._portalOutlet=me.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(te,ie){2&te&&b.BMQ("id",ie._config.id||null)("role",ie._config.role)("aria-modal",ie._config.ariaModal)("aria-labelledby",ie._config.ariaLabel?null:ie._ariaLabelledByQueue[0])("aria-label",ie._config.ariaLabel)("aria-describedby",ie._config.ariaDescribedBy||null)},standalone:!0,features:[b.Vt3,b.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(te,ie){1&te&&b.DNE(0,x,0,0,"ng-template",0)},dependencies:[h.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return W})();class P{constructor(U,$){this.overlayRef=U,this.config=$,this.closed=new _.B7,this.disableClose=$.disableClose,this.backdropClick=U.backdropClick(),this.keydownEvents=U.keydownEvents(),this.outsidePointerEvents=U.outsidePointerEvents(),this.id=$.id,this.keydownEvents.subscribe(te=>{te.keyCode===E._f&&!this.disableClose&&!(0,E.rp)(te)&&(te.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=U.detachments().subscribe(()=>{!1!==$.closeOnOverlayDetachments&&this.close()})}close(U,$){if(this.containerInstance){const te=this.closed;this.containerInstance._closeInteractionType=$?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),te.next(U),te.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(U="",$=""){return this.overlayRef.updateSize({width:U,height:$}),this}addPanelClass(U){return this.overlayRef.addPanelClass(U),this}removePanelClass(U){return this.overlayRef.removePanelClass(U),this}}const j=new b.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const W=(0,b.WQX)(n.hJ);return()=>W.scrollStrategies.block()}}),S=new b.nKC("DialogData"),w=new b.nKC("DefaultDialogConfig");let A=0,L=(()=>{class W{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor($,te,ie,me,Y,F){this._overlay=$,this._injector=te,this._defaultOptions=ie,this._parentDialog=me,this._overlayContainer=Y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _.B7,this._afterOpenedAtThisLevel=new _.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.Z)(void 0))),this._scrollStrategy=F}open($,te){(te={...this._defaultOptions||new M,...te}).id=te.id||"cdk-dialog-"+A++,te.id&&this.getDialogById(te.id);const me=this._getOverlayConfig(te),Y=this._overlay.create(me),F=new P(Y,te),N=this._attachContainer(Y,F,te);return F.containerInstance=N,this._attachDialogContent($,F,N,te),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(F),F.closed.subscribe(()=>this._removeOpenDialog(F,!0)),this.afterOpened.next(F),F}closeAll(){G(this.openDialogs,$=>$.close())}getDialogById($){return this.openDialogs.find(te=>te.id===$)}ngOnDestroy(){G(this._openDialogsAtThisLevel,$=>{!1===$.config.closeOnDestroy&&this._removeOpenDialog($,!1)}),G(this._openDialogsAtThisLevel,$=>$.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig($){const te=new n.rR({positionStrategy:$.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:$.scrollStrategy||this._scrollStrategy(),panelClass:$.panelClass,hasBackdrop:$.hasBackdrop,direction:$.direction,minWidth:$.minWidth,minHeight:$.minHeight,maxWidth:$.maxWidth,maxHeight:$.maxHeight,width:$.width,height:$.height,disposeOnNavigation:$.closeOnNavigation});return $.backdropClass&&(te.backdropClass=$.backdropClass),te}_attachContainer($,te,ie){const me=ie.injector||ie.viewContainerRef?.injector,Y=[{provide:M,useValue:ie},{provide:P,useValue:te},{provide:n.yY,useValue:$}];let F;ie.container?"function"==typeof ie.container?F=ie.container:(F=ie.container.type,Y.push(...ie.container.providers(ie))):F=K;const N=new h.A8(F,ie.viewContainerRef,b.zZn.create({parent:me||this._injector,providers:Y}),ie.componentFactoryResolver);return $.attach(N).instance}_attachDialogContent($,te,ie,me){if($ instanceof b.C4Q){const Y=this._createInjector(me,te,ie,void 0);let F={$implicit:me.data,dialogRef:te};me.templateContext&&(F={...F,..."function"==typeof me.templateContext?me.templateContext():me.templateContext}),ie.attachTemplatePortal(new h.VA($,null,F,Y))}else{const Y=this._createInjector(me,te,ie,this._injector),F=ie.attachComponentPortal(new h.A8($,me.viewContainerRef,Y,me.componentFactoryResolver));te.componentRef=F,te.componentInstance=F.instance}}_createInjector($,te,ie,me){const Y=$.injector||$.viewContainerRef?.injector,F=[{provide:S,useValue:$.data},{provide:P,useValue:te}];return $.providers&&("function"==typeof $.providers?F.push(...$.providers(te,$,ie)):F.push(...$.providers)),$.direction&&(!Y||!Y.get(k.dS,null,{optional:!0}))&&F.push({provide:k.dS,useValue:{value:$.direction,change:(0,I.of)()}}),b.zZn.create({parent:Y||me,providers:F})}_removeOpenDialog($,te){const ie=this.openDialogs.indexOf($);ie>-1&&(this.openDialogs.splice(ie,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((me,Y)=>{me?Y.setAttribute("aria-hidden",me):Y.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),te&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const $=this._overlayContainer.getContainerElement();if($.parentElement){const te=$.parentElement.children;for(let ie=te.length-1;ie>-1;ie--){const me=te[ie];me!==$&&"SCRIPT"!==me.nodeName&&"STYLE"!==me.nodeName&&!me.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(me,me.getAttribute("aria-hidden")),me.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const $=this._parentDialog;return $?$._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(te){return new(te||W)(b.KVO(n.hJ),b.KVO(b.zZn),b.KVO(w,8),b.KVO(W,12),b.KVO(n.Sf),b.KVO(j))};static#t=this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();function G(W,U){let $=W.length;for(;$--;)U(W[$])}let O=(()=>{class W{static#e=this.\u0275fac=function(te){return new(te||W)};static#t=this.\u0275mod=b.$C({type:W});static#n=this.\u0275inj=b.G2t({providers:[L],imports:[n.z_,h.jc,e.Pd,h.jc]})}return W})()},7336:(Ot,ve,s)=>{"use strict";s.d(ve,{A:()=>xe,A$:()=>_,FX:()=>b,Fm:()=>g,G_:()=>n,Ge:()=>Kt,KE:()=>$i,Kp:()=>B,LE:()=>S,SJ:()=>L,UQ:()=>P,W3:()=>E,Z:()=>It,_f:()=>k,bn:()=>F,dB:()=>M,eg:()=>At,f2:()=>G,i7:()=>j,n6:()=>w,rp:()=>ne,t6:()=>y,w_:()=>x,wn:()=>d,yZ:()=>K});const n=8,d=9,g=13,b=16,E=17,_=18,k=27,y=32,x=33,M=34,B=35,K=36,P=37,j=38,S=39,w=40,L=46,G=48,F=57,xe=65,It=90,Kt=91,$i=188,At=224;function ne(ke,...He){return He.length?He.some(Dt=>ke[Dt]):ke.altKey||ke.shiftKey||ke.ctrlKey||ke.metaKey}},9327:(Ot,ve,s)=>{"use strict";s.d(ve,{QP:()=>w,Rp:()=>v});var e=s(3953),n=s(4085),d=s(5286),h=s(9714),g=s(1639),b=s(5817),E=s(9493),_=s(7753),u=s(3020),I=s(5006),k=s(3176),y=s(7605),x=s(6860);const B=new Set;let K,P=(()=>{class A{constructor(G,O){this._platform=G,this._nonce=O,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):S}matchMedia(G){return(this._platform.WEBKIT||this._platform.BLINK)&&function j(A,L){if(!B.has(A))try{K||(K=document.createElement("style"),L&&K.setAttribute("nonce",L),K.setAttribute("type","text/css"),document.head.appendChild(K)),K.sheet&&(K.sheet.insertRule(`@media ${A} {body{ }}`,0),B.add(A))}catch(G){console.error(G)}}(G,this._nonce),this._matchMedia(G)}static#e=this.\u0275fac=function(O){return new(O||A)(e.KVO(x.OD),e.KVO(e.BIS,8))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function S(A){return{matches:"all"===A||""===A,media:A,addListener:()=>{},removeListener:()=>{}}}let w=(()=>{class A{constructor(G,O){this._mediaMatcher=G,this._zone=O,this._queries=new Map,this._destroySubject=new d.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(G){return m((0,n.FG)(G)).some(W=>this._registerQuery(W).mql.matches)}observe(G){const W=m((0,n.FG)(G)).map($=>this._registerQuery($).observable);let U=(0,h.zV)(W);return U=(0,g.x)(U.pipe((0,E.s)(1)),U.pipe((0,_.i)(1),(0,u.B)(0))),U.pipe((0,I.T)($=>{const te={matches:!1,breakpoints:{}};return $.forEach(({matches:ie,query:me})=>{te.matches=te.matches||ie,te.breakpoints[me]=ie}),te}))}_registerQuery(G){if(this._queries.has(G))return this._queries.get(G);const O=this._mediaMatcher.matchMedia(G),U={observable:new b.c($=>{const te=ie=>this._zone.run(()=>$.next(ie));return O.addListener(te),()=>{O.removeListener(te)}}).pipe((0,k.Z)(O),(0,I.T)(({matches:$})=>({query:G,matches:$})),(0,y.Q)(this._destroySubject)),mql:O};return this._queries.set(G,U),U}static#e=this.\u0275fac=function(O){return new(O||A)(e.KVO(P),e.KVO(e.SKi))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function m(A){return A.map(L=>L.split(",")).reduce((L,G)=>L.concat(G)).map(L=>L.trim())}const v={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(Ot,ve,s)=>{"use strict";s.d(ve,{Wv:()=>k,w5:()=>y});var e=s(4085),n=s(3953),d=s(5817),h=s(5286),g=s(5006),b=s(8728),E=s(3020);let u=(()=>{class x{create(B){return typeof MutationObserver>"u"?null:new MutationObserver(B)}static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275prov=n.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),I=(()=>{class x{constructor(B){this._mutationObserverFactory=B,this._observedElements=new Map,this._ngZone=(0,n.WQX)(n.SKi)}ngOnDestroy(){this._observedElements.forEach((B,K)=>this._cleanupObserver(K))}observe(B){const K=(0,e.i8)(B);return new d.c(P=>{const S=this._observeElement(K).pipe((0,g.T)(w=>w.filter(m=>!function _(x){if("characterData"===x.type&&x.target instanceof Comment)return!0;if("childList"===x.type){for(let M=0;M<x.addedNodes.length;M++)if(!(x.addedNodes[M]instanceof Comment))return!1;for(let M=0;M<x.removedNodes.length;M++)if(!(x.removedNodes[M]instanceof Comment))return!1;return!0}return!1}(m))),(0,b.p)(w=>!!w.length)).subscribe(w=>{this._ngZone.run(()=>{P.next(w)})});return()=>{S.unsubscribe(),this._unobserveElement(K)}})}_observeElement(B){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(B))this._observedElements.get(B).count++;else{const K=new h.B7,P=this._mutationObserverFactory.create(j=>K.next(j));P&&P.observe(B,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(B,{observer:P,stream:K,count:1})}return this._observedElements.get(B).stream})}_unobserveElement(B){this._observedElements.has(B)&&(this._observedElements.get(B).count--,this._observedElements.get(B).count||this._cleanupObserver(B))}_cleanupObserver(B){if(this._observedElements.has(B)){const{observer:K,stream:P}=this._observedElements.get(B);K&&K.disconnect(),P.complete(),this._observedElements.delete(B)}}static#e=this.\u0275fac=function(K){return new(K||x)(n.KVO(u))};static#t=this.\u0275prov=n.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),k=(()=>{class x{get disabled(){return this._disabled}set disabled(B){this._disabled=B,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(B){this._debounce=(0,e.OE)(B),this._subscribe()}constructor(B,K){this._contentObserver=B,this._elementRef=K,this.event=new n.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const B=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?B.pipe((0,E.B)(this.debounce)):B).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(K){return new(K||x)(n.rXU(I),n.rXU(n.aKT))};static#t=this.\u0275dir=n.FsC({type:x,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",n.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[n.GFd]})}return x})(),y=(()=>{class x{static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275mod=n.$C({type:x});static#n=this.\u0275inj=n.G2t({providers:[u]})}return x})()},8170:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>u});var e=s(3953),n=s(5286),d=s(5817),h=s(8728),g=s(8712),b=s(7605);class _{constructor(k){this._box=k,this._destroyed=new n.B7,this._resizeSubject=new n.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(y=>this._resizeSubject.next(y)))}observe(k){return this._elementObservables.has(k)||this._elementObservables.set(k,new d.c(y=>{const x=this._resizeSubject.subscribe(y);return this._resizeObserver?.observe(k,{box:this._box}),()=>{this._resizeObserver?.unobserve(k),x.unsubscribe(),this._elementObservables.delete(k)}}).pipe((0,h.p)(y=>y.some(x=>x.target===k)),(0,g.t)({bufferSize:1,refCount:!0}),(0,b.Q)(this._destroyed))),this._elementObservables.get(k)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let u=(()=>{class I{constructor(){this._observers=new Map,this._ngZone=(0,e.WQX)(e.SKi)}ngOnDestroy(){for(const[,y]of this._observers)y.destroy();this._observers.clear()}observe(y,x){const M=x?.box||"content-box";return this._observers.has(M)||this._observers.set(M,new _(M)),this._observers.get(M).observe(y)}static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275prov=e.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},7987:(Ot,ve,s)=>{"use strict";s.d(ve,{$Q:()=>dt,Sf:()=>F,WB:()=>Ct,hJ:()=>Ee,rR:()=>L,rW:()=>_e,yY:()=>N,z_:()=>In});var e=s(494),n=s(177),d=s(3953),h=s(4085),g=s(6860),b=s(8728),E=s(7605),_=s(1604),u=s(8203),I=s(6939),k=s(5286),y=s(4337),x=s(4670),M=s(7336);const B=(0,g.CZ)();class K{constructor(q,Ie){this._viewportRuler=q,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ie}attach(){}enable(){if(this._canBeEnabled()){const q=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=q.style.left||"",this._previousHTMLStyles.top=q.style.top||"",q.style.left=(0,h.a1)(-this._previousScrollPosition.left),q.style.top=(0,h.a1)(-this._previousScrollPosition.top),q.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const q=this._document.documentElement,se=q.style,fe=this._document.body.style,Ke=se.scrollBehavior||"",It=fe.scrollBehavior||"";this._isEnabled=!1,se.left=this._previousHTMLStyles.left,se.top=this._previousHTMLStyles.top,q.classList.remove("cdk-global-scrollblock"),B&&(se.scrollBehavior=fe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),B&&(se.scrollBehavior=Ke,fe.scrollBehavior=It)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ie=this._document.body,se=this._viewportRuler.getViewportSize();return Ie.scrollHeight>se.height||Ie.scrollWidth>se.width}}class j{constructor(q,Ie,se,fe){this._scrollDispatcher=q,this._ngZone=Ie,this._viewportRuler=se,this._config=fe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(q){this._overlayRef=q}enable(){if(this._scrollSubscription)return;const q=this._scrollDispatcher.scrolled(0).pipe((0,b.p)(Ie=>!Ie||!this._overlayRef.overlayElement.contains(Ie.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=q.subscribe(()=>{const Ie=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ie-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=q.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S{enable(){}disable(){}attach(){}}function w($t,q){return q.some(Ie=>$t.bottom<Ie.top||$t.top>Ie.bottom||$t.right<Ie.left||$t.left>Ie.right)}function m($t,q){return q.some(Ie=>$t.top<Ie.top||$t.bottom>Ie.bottom||$t.left<Ie.left||$t.right>Ie.right)}class v{constructor(q,Ie,se,fe){this._scrollDispatcher=q,this._viewportRuler=Ie,this._ngZone=se,this._config=fe,this._scrollSubscription=null}attach(q){this._overlayRef=q}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ie=this._overlayRef.overlayElement.getBoundingClientRect(),{width:se,height:fe}=this._viewportRuler.getViewportSize();w(Ie,[{width:se,height:fe,bottom:fe,right:se,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let A=(()=>{class $t{constructor(Ie,se,fe,Ke){this._scrollDispatcher=Ie,this._viewportRuler=se,this._ngZone=fe,this.noop=()=>new S,this.close=It=>new j(this._scrollDispatcher,this._ngZone,this._viewportRuler,It),this.block=()=>new K(this._viewportRuler,this._document),this.reposition=It=>new v(this._scrollDispatcher,this._viewportRuler,this._ngZone,It),this._document=Ke}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(e.R),d.KVO(e.Xj),d.KVO(d.SKi),d.KVO(n.qQ))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})();class L{constructor(q){if(this.scrollStrategy=new S,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,q){const Ie=Object.keys(q);for(const se of Ie)void 0!==q[se]&&(this[se]=q[se])}}}class W{constructor(q,Ie){this.connectionPair=q,this.scrollableViewProperties=Ie}}let te=(()=>{class $t{constructor(Ie){this._attachedOverlays=[],this._document=Ie}ngOnDestroy(){this.detach()}add(Ie){this.remove(Ie),this._attachedOverlays.push(Ie)}remove(Ie){const se=this._attachedOverlays.indexOf(Ie);se>-1&&this._attachedOverlays.splice(se,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(n.qQ))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})(),ie=(()=>{class $t extends te{constructor(Ie,se){super(Ie),this._ngZone=se,this._keydownListener=fe=>{const Ke=this._attachedOverlays;for(let It=Ke.length-1;It>-1;It--)if(Ke[It]._keydownEvents.observers.length>0){const Kt=Ke[It]._keydownEvents;this._ngZone?this._ngZone.run(()=>Kt.next(fe)):Kt.next(fe);break}}}add(Ie){super.add(Ie),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(n.qQ),d.KVO(d.SKi,8))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})(),me=(()=>{class $t extends te{constructor(Ie,se,fe){super(Ie),this._platform=se,this._ngZone=fe,this._cursorStyleIsSet=!1,this._pointerDownListener=Ke=>{this._pointerDownEventTarget=(0,g.Fb)(Ke)},this._clickListener=Ke=>{const It=(0,g.Fb)(Ke),Kt="click"===Ke.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:It;this._pointerDownEventTarget=null;const vn=this._attachedOverlays.slice();for(let Pt=vn.length-1;Pt>-1;Pt--){const an=vn[Pt];if(an._outsidePointerEvents.observers.length<1||!an.hasAttached())continue;if(Y(an.overlayElement,It)||Y(an.overlayElement,Kt))break;const Et=an._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Et.next(Ke)):Et.next(Ke)}}}add(Ie){if(super.add(Ie),!this._isAttached){const se=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(se)):this._addEventListeners(se),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=se.style.cursor,se.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ie=this._document.body;Ie.removeEventListener("pointerdown",this._pointerDownListener,!0),Ie.removeEventListener("click",this._clickListener,!0),Ie.removeEventListener("auxclick",this._clickListener,!0),Ie.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ie.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ie){Ie.addEventListener("pointerdown",this._pointerDownListener,!0),Ie.addEventListener("click",this._clickListener,!0),Ie.addEventListener("auxclick",this._clickListener,!0),Ie.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(n.qQ),d.KVO(g.OD),d.KVO(d.SKi,8))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})();function Y($t,q){const Ie=typeof ShadowRoot<"u"&&ShadowRoot;let se=q;for(;se;){if(se===$t)return!0;se=Ie&&se instanceof ShadowRoot?se.host:se.parentNode}return!1}let F=(()=>{class $t{constructor(Ie,se){this._platform=se,this._document=Ie}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ie="cdk-overlay-container";if(this._platform.isBrowser||(0,g.v8)()){const fe=this._document.querySelectorAll(`.${Ie}[platform="server"], .${Ie}[platform="test"]`);for(let Ke=0;Ke<fe.length;Ke++)fe[Ke].remove()}const se=this._document.createElement("div");se.classList.add(Ie),(0,g.v8)()?se.setAttribute("platform","test"):this._platform.isBrowser||se.setAttribute("platform","server"),this._document.body.appendChild(se),this._containerElement=se}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(n.qQ),d.KVO(g.OD))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})();class N{constructor(q,Ie,se,fe,Ke,It,Kt,vn,Pt,an=!1,Et){this._portalOutlet=q,this._host=Ie,this._pane=se,this._config=fe,this._ngZone=Ke,this._keyboardDispatcher=It,this._document=Kt,this._location=vn,this._outsideClickDispatcher=Pt,this._animationsDisabled=an,this._injector=Et,this._backdropElement=null,this._backdropClick=new k.B7,this._attachments=new k.B7,this._detachments=new k.B7,this._locationChanges=y.y.EMPTY,this._backdropClickHandler=bt=>this._backdropClick.next(bt),this._backdropTransitionendHandler=bt=>{this._disposeBackdrop(bt.target)},this._keydownEvents=new k.B7,this._outsidePointerEvents=new k.B7,this._renders=new k.B7,fe.scrollStrategy&&(this._scrollStrategy=fe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=fe.positionStrategy,this._afterRenderRef=(0,d.O8t)(()=>(0,d.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(q){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ie=this._portalOutlet.attach(q);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,d.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ie?.onDestroy&&Ie.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ie}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const q=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),q}dispose(){const q=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,q&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(q){q!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=q,this.hasAttached()&&(q.attach(this),this.updatePosition()))}updateSize(q){this._config={...this._config,...q},this._updateElementSize()}setDirection(q){this._config={...this._config,direction:q},this._updateElementDirection()}addPanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!0)}removePanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!1)}getDirection(){const q=this._config.direction;return q?"string"==typeof q?q:q.value:"ltr"}updateScrollStrategy(q){q!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=q,this.hasAttached()&&(q.attach(this),q.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const q=this._pane.style;q.width=(0,h.a1)(this._config.width),q.height=(0,h.a1)(this._config.height),q.minWidth=(0,h.a1)(this._config.minWidth),q.minHeight=(0,h.a1)(this._config.minHeight),q.maxWidth=(0,h.a1)(this._config.maxWidth),q.maxHeight=(0,h.a1)(this._config.maxHeight)}_togglePointerEvents(q){this._pane.style.pointerEvents=q?"":"none"}_attachBackdrop(){const q="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(q)})}):this._backdropElement.classList.add(q)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const q=this._backdropElement;if(q){if(this._animationsDisabled)return void this._disposeBackdrop(q);q.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{q.addEventListener("transitionend",this._backdropTransitionendHandler)}),q.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(q)},500))}}_toggleClasses(q,Ie,se){const fe=(0,h.FG)(Ie||[]).filter(Ke=>!!Ke);fe.length&&(se?q.classList.add(...fe):q.classList.remove(...fe))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const q=this._renders.pipe((0,E.Q)((0,x.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),q.unsubscribe())})})}_disposeScrollStrategy(){const q=this._scrollStrategy;q&&(q.disable(),q.detach&&q.detach())}_disposeBackdrop(q){q&&(q.removeEventListener("click",this._backdropClickHandler),q.removeEventListener("transitionend",this._backdropTransitionendHandler),q.remove(),this._backdropElement===q&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const J="cdk-overlay-connected-position-bounding-box",ae=/([A-Za-z%]+)$/;class _e{get positions(){return this._preferredPositions}constructor(q,Ie,se,fe,Ke){this._viewportRuler=Ie,this._document=se,this._platform=fe,this._overlayContainer=Ke,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k.B7,this._resizeSubscription=y.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(q)}attach(q){this._validatePositions(),q.hostElement.classList.add(J),this._overlayRef=q,this._boundingBox=q.hostElement,this._pane=q.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const q=this._originRect,Ie=this._overlayRect,se=this._viewportRect,fe=this._containerRect,Ke=[];let It;for(let Kt of this._preferredPositions){let vn=this._getOriginPoint(q,fe,Kt),Pt=this._getOverlayPoint(vn,Ie,Kt),an=this._getOverlayFit(Pt,Ie,se,Kt);if(an.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Kt,vn);this._canFitWithFlexibleDimensions(an,Pt,se)?Ke.push({position:Kt,origin:vn,overlayRect:Ie,boundingBoxRect:this._calculateBoundingBoxRect(vn,Kt)}):(!It||It.overlayFit.visibleArea<an.visibleArea)&&(It={overlayFit:an,overlayPoint:Pt,originPoint:vn,position:Kt,overlayRect:Ie})}if(Ke.length){let Kt=null,vn=-1;for(const Pt of Ke){const an=Pt.boundingBoxRect.width*Pt.boundingBoxRect.height*(Pt.position.weight||1);an>vn&&(vn=an,Kt=Pt)}return this._isPushed=!1,void this._applyPosition(Kt.position,Kt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(It.position,It.originPoint);this._applyPosition(It.position,It.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(J),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const q=this._lastPosition;if(q){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ie=this._getOriginPoint(this._originRect,this._containerRect,q);this._applyPosition(q,Ie)}else this.apply()}withScrollableContainers(q){return this._scrollables=q,this}withPositions(q){return this._preferredPositions=q,-1===q.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(q){return this._viewportMargin=q,this}withFlexibleDimensions(q=!0){return this._hasFlexibleDimensions=q,this}withGrowAfterOpen(q=!0){return this._growAfterOpen=q,this}withPush(q=!0){return this._canPush=q,this}withLockedPosition(q=!0){return this._positionLocked=q,this}setOrigin(q){return this._origin=q,this}withDefaultOffsetX(q){return this._offsetX=q,this}withDefaultOffsetY(q){return this._offsetY=q,this}withTransformOriginOn(q){return this._transformOriginSelector=q,this}_getOriginPoint(q,Ie,se){let fe,Ke;if("center"==se.originX)fe=q.left+q.width/2;else{const It=this._isRtl()?q.right:q.left,Kt=this._isRtl()?q.left:q.right;fe="start"==se.originX?It:Kt}return Ie.left<0&&(fe-=Ie.left),Ke="center"==se.originY?q.top+q.height/2:"top"==se.originY?q.top:q.bottom,Ie.top<0&&(Ke-=Ie.top),{x:fe,y:Ke}}_getOverlayPoint(q,Ie,se){let fe,Ke;return fe="center"==se.overlayX?-Ie.width/2:"start"===se.overlayX?this._isRtl()?-Ie.width:0:this._isRtl()?0:-Ie.width,Ke="center"==se.overlayY?-Ie.height/2:"top"==se.overlayY?0:-Ie.height,{x:q.x+fe,y:q.y+Ke}}_getOverlayFit(q,Ie,se,fe){const Ke=Ae(Ie);let{x:It,y:Kt}=q,vn=this._getOffset(fe,"x"),Pt=this._getOffset(fe,"y");vn&&(It+=vn),Pt&&(Kt+=Pt);let bt=0-Kt,Yt=Kt+Ke.height-se.height,Xt=this._subtractOverflows(Ke.width,0-It,It+Ke.width-se.width),nn=this._subtractOverflows(Ke.height,bt,Yt),yn=Xt*nn;return{visibleArea:yn,isCompletelyWithinViewport:Ke.width*Ke.height===yn,fitsInViewportVertically:nn===Ke.height,fitsInViewportHorizontally:Xt==Ke.width}}_canFitWithFlexibleDimensions(q,Ie,se){if(this._hasFlexibleDimensions){const fe=se.bottom-Ie.y,Ke=se.right-Ie.x,It=Fe(this._overlayRef.getConfig().minHeight),Kt=Fe(this._overlayRef.getConfig().minWidth);return(q.fitsInViewportVertically||null!=It&&It<=fe)&&(q.fitsInViewportHorizontally||null!=Kt&&Kt<=Ke)}return!1}_pushOverlayOnScreen(q,Ie,se){if(this._previousPushAmount&&this._positionLocked)return{x:q.x+this._previousPushAmount.x,y:q.y+this._previousPushAmount.y};const fe=Ae(Ie),Ke=this._viewportRect,It=Math.max(q.x+fe.width-Ke.width,0),Kt=Math.max(q.y+fe.height-Ke.height,0),vn=Math.max(Ke.top-se.top-q.y,0),Pt=Math.max(Ke.left-se.left-q.x,0);let an=0,Et=0;return an=fe.width<=Ke.width?Pt||-It:q.x<this._viewportMargin?Ke.left-se.left-q.x:0,Et=fe.height<=Ke.height?vn||-Kt:q.y<this._viewportMargin?Ke.top-se.top-q.y:0,this._previousPushAmount={x:an,y:Et},{x:q.x+an,y:q.y+Et}}_applyPosition(q,Ie){if(this._setTransformOrigin(q),this._setOverlayElementStyles(Ie,q),this._setBoundingBoxStyles(Ie,q),q.panelClass&&this._addPanelClasses(q.panelClass),this._positionChanges.observers.length){const se=this._getScrollVisibility();if(q!==this._lastPosition||!this._lastScrollVisibility||!function Ye($t,q){return $t===q||$t.isOriginClipped===q.isOriginClipped&&$t.isOriginOutsideView===q.isOriginOutsideView&&$t.isOverlayClipped===q.isOverlayClipped&&$t.isOverlayOutsideView===q.isOverlayOutsideView}(this._lastScrollVisibility,se)){const fe=new W(q,se);this._positionChanges.next(fe)}this._lastScrollVisibility=se}this._lastPosition=q,this._isInitialRender=!1}_setTransformOrigin(q){if(!this._transformOriginSelector)return;const Ie=this._boundingBox.querySelectorAll(this._transformOriginSelector);let se,fe=q.overlayY;se="center"===q.overlayX?"center":this._isRtl()?"start"===q.overlayX?"right":"left":"start"===q.overlayX?"left":"right";for(let Ke=0;Ke<Ie.length;Ke++)Ie[Ke].style.transformOrigin=`${se} ${fe}`}_calculateBoundingBoxRect(q,Ie){const se=this._viewportRect,fe=this._isRtl();let Ke,It,Kt,an,Et,bt;if("top"===Ie.overlayY)It=q.y,Ke=se.height-It+this._viewportMargin;else if("bottom"===Ie.overlayY)Kt=se.height-q.y+2*this._viewportMargin,Ke=se.height-Kt+this._viewportMargin;else{const Yt=Math.min(se.bottom-q.y+se.top,q.y),Xt=this._lastBoundingBoxSize.height;Ke=2*Yt,It=q.y-Yt,Ke>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(It=q.y-Xt/2)}if("end"===Ie.overlayX&&!fe||"start"===Ie.overlayX&&fe)bt=se.width-q.x+2*this._viewportMargin,an=q.x-this._viewportMargin;else if("start"===Ie.overlayX&&!fe||"end"===Ie.overlayX&&fe)Et=q.x,an=se.right-q.x;else{const Yt=Math.min(se.right-q.x+se.left,q.x),Xt=this._lastBoundingBoxSize.width;an=2*Yt,Et=q.x-Yt,an>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(Et=q.x-Xt/2)}return{top:It,left:Et,bottom:Kt,right:bt,width:an,height:Ke}}_setBoundingBoxStyles(q,Ie){const se=this._calculateBoundingBoxRect(q,Ie);!this._isInitialRender&&!this._growAfterOpen&&(se.height=Math.min(se.height,this._lastBoundingBoxSize.height),se.width=Math.min(se.width,this._lastBoundingBoxSize.width));const fe={};if(this._hasExactPosition())fe.top=fe.left="0",fe.bottom=fe.right=fe.maxHeight=fe.maxWidth="",fe.width=fe.height="100%";else{const Ke=this._overlayRef.getConfig().maxHeight,It=this._overlayRef.getConfig().maxWidth;fe.height=(0,h.a1)(se.height),fe.top=(0,h.a1)(se.top),fe.bottom=(0,h.a1)(se.bottom),fe.width=(0,h.a1)(se.width),fe.left=(0,h.a1)(se.left),fe.right=(0,h.a1)(se.right),fe.alignItems="center"===Ie.overlayX?"center":"end"===Ie.overlayX?"flex-end":"flex-start",fe.justifyContent="center"===Ie.overlayY?"center":"bottom"===Ie.overlayY?"flex-end":"flex-start",Ke&&(fe.maxHeight=(0,h.a1)(Ke)),It&&(fe.maxWidth=(0,h.a1)(It))}this._lastBoundingBoxSize=se,xe(this._boundingBox.style,fe)}_resetBoundingBoxStyles(){xe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(q,Ie){const se={},fe=this._hasExactPosition(),Ke=this._hasFlexibleDimensions,It=this._overlayRef.getConfig();if(fe){const an=this._viewportRuler.getViewportScrollPosition();xe(se,this._getExactOverlayY(Ie,q,an)),xe(se,this._getExactOverlayX(Ie,q,an))}else se.position="static";let Kt="",vn=this._getOffset(Ie,"x"),Pt=this._getOffset(Ie,"y");vn&&(Kt+=`translateX(${vn}px) `),Pt&&(Kt+=`translateY(${Pt}px)`),se.transform=Kt.trim(),It.maxHeight&&(fe?se.maxHeight=(0,h.a1)(It.maxHeight):Ke&&(se.maxHeight="")),It.maxWidth&&(fe?se.maxWidth=(0,h.a1)(It.maxWidth):Ke&&(se.maxWidth="")),xe(this._pane.style,se)}_getExactOverlayY(q,Ie,se){let fe={top:"",bottom:""},Ke=this._getOverlayPoint(Ie,this._overlayRect,q);return this._isPushed&&(Ke=this._pushOverlayOnScreen(Ke,this._overlayRect,se)),"bottom"===q.overlayY?fe.bottom=this._document.documentElement.clientHeight-(Ke.y+this._overlayRect.height)+"px":fe.top=(0,h.a1)(Ke.y),fe}_getExactOverlayX(q,Ie,se){let It,fe={left:"",right:""},Ke=this._getOverlayPoint(Ie,this._overlayRect,q);return this._isPushed&&(Ke=this._pushOverlayOnScreen(Ke,this._overlayRect,se)),It=this._isRtl()?"end"===q.overlayX?"left":"right":"end"===q.overlayX?"right":"left","right"===It?fe.right=this._document.documentElement.clientWidth-(Ke.x+this._overlayRect.width)+"px":fe.left=(0,h.a1)(Ke.x),fe}_getScrollVisibility(){const q=this._getOriginRect(),Ie=this._pane.getBoundingClientRect(),se=this._scrollables.map(fe=>fe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:m(q,se),isOriginOutsideView:w(q,se),isOverlayClipped:m(Ie,se),isOverlayOutsideView:w(Ie,se)}}_subtractOverflows(q,...Ie){return Ie.reduce((se,fe)=>se-Math.max(fe,0),q)}_getNarrowedViewportRect(){const q=this._document.documentElement.clientWidth,Ie=this._document.documentElement.clientHeight,se=this._viewportRuler.getViewportScrollPosition();return{top:se.top+this._viewportMargin,left:se.left+this._viewportMargin,right:se.left+q-this._viewportMargin,bottom:se.top+Ie-this._viewportMargin,width:q-2*this._viewportMargin,height:Ie-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(q,Ie){return"x"===Ie?null==q.offsetX?this._offsetX:q.offsetX:null==q.offsetY?this._offsetY:q.offsetY}_validatePositions(){}_addPanelClasses(q){this._pane&&(0,h.FG)(q).forEach(Ie=>{""!==Ie&&-1===this._appliedPanelClasses.indexOf(Ie)&&(this._appliedPanelClasses.push(Ie),this._pane.classList.add(Ie))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(q=>{this._pane.classList.remove(q)}),this._appliedPanelClasses=[])}_getOriginRect(){const q=this._origin;if(q instanceof d.aKT)return q.nativeElement.getBoundingClientRect();if(q instanceof Element)return q.getBoundingClientRect();const Ie=q.width||0,se=q.height||0;return{top:q.y,bottom:q.y+se,left:q.x,right:q.x+Ie,height:se,width:Ie}}}function xe($t,q){for(let Ie in q)q.hasOwnProperty(Ie)&&($t[Ie]=q[Ie]);return $t}function Fe($t){if("number"!=typeof $t&&null!=$t){const[q,Ie]=$t.split(ae);return Ie&&"px"!==Ie?null:parseFloat(q)}return $t||null}function Ae($t){return{top:Math.floor($t.top),right:Math.floor($t.right),bottom:Math.floor($t.bottom),left:Math.floor($t.left),width:Math.floor($t.width),height:Math.floor($t.height)}}const Me="cdk-global-overlay-wrapper";class pe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(q){const Ie=q.getConfig();this._overlayRef=q,this._width&&!Ie.width&&q.updateSize({width:this._width}),this._height&&!Ie.height&&q.updateSize({height:this._height}),q.hostElement.classList.add(Me),this._isDisposed=!1}top(q=""){return this._bottomOffset="",this._topOffset=q,this._alignItems="flex-start",this}left(q=""){return this._xOffset=q,this._xPosition="left",this}bottom(q=""){return this._topOffset="",this._bottomOffset=q,this._alignItems="flex-end",this}right(q=""){return this._xOffset=q,this._xPosition="right",this}start(q=""){return this._xOffset=q,this._xPosition="start",this}end(q=""){return this._xOffset=q,this._xPosition="end",this}width(q=""){return this._overlayRef?this._overlayRef.updateSize({width:q}):this._width=q,this}height(q=""){return this._overlayRef?this._overlayRef.updateSize({height:q}):this._height=q,this}centerHorizontally(q=""){return this.left(q),this._xPosition="center",this}centerVertically(q=""){return this.top(q),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const q=this._overlayRef.overlayElement.style,Ie=this._overlayRef.hostElement.style,se=this._overlayRef.getConfig(),{width:fe,height:Ke,maxWidth:It,maxHeight:Kt}=se,vn=!("100%"!==fe&&"100vw"!==fe||It&&"100%"!==It&&"100vw"!==It),Pt=!("100%"!==Ke&&"100vh"!==Ke||Kt&&"100%"!==Kt&&"100vh"!==Kt),an=this._xPosition,Et=this._xOffset,bt="rtl"===this._overlayRef.getConfig().direction;let Yt="",Xt="",nn="";vn?nn="flex-start":"center"===an?(nn="center",bt?Xt=Et:Yt=Et):bt?"left"===an||"end"===an?(nn="flex-end",Yt=Et):("right"===an||"start"===an)&&(nn="flex-start",Xt=Et):"left"===an||"start"===an?(nn="flex-start",Yt=Et):("right"===an||"end"===an)&&(nn="flex-end",Xt=Et),q.position=this._cssPosition,q.marginLeft=vn?"0":Yt,q.marginTop=Pt?"0":this._topOffset,q.marginBottom=this._bottomOffset,q.marginRight=vn?"0":Xt,Ie.justifyContent=nn,Ie.alignItems=Pt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const q=this._overlayRef.overlayElement.style,Ie=this._overlayRef.hostElement,se=Ie.style;Ie.classList.remove(Me),se.justifyContent=se.alignItems=q.marginTop=q.marginBottom=q.marginLeft=q.marginRight=q.position="",this._overlayRef=null,this._isDisposed=!0}}let he=(()=>{class $t{constructor(Ie,se,fe,Ke){this._viewportRuler=Ie,this._document=se,this._platform=fe,this._overlayContainer=Ke}global(){return new pe}flexibleConnectedTo(Ie){return new _e(Ie,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(e.Xj),d.KVO(n.qQ),d.KVO(g.OD),d.KVO(F))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})(),le=0,Ee=(()=>{class $t{constructor(Ie,se,fe,Ke,It,Kt,vn,Pt,an,Et,bt,Yt){this.scrollStrategies=Ie,this._overlayContainer=se,this._componentFactoryResolver=fe,this._positionBuilder=Ke,this._keyboardDispatcher=It,this._injector=Kt,this._ngZone=vn,this._document=Pt,this._directionality=an,this._location=Et,this._outsideClickDispatcher=bt,this._animationsModuleType=Yt}create(Ie){const se=this._createHostElement(),fe=this._createPaneElement(se),Ke=this._createPortalOutlet(fe),It=new L(Ie);return It.direction=It.direction||this._directionality.value,new N(Ke,se,fe,It,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(d.uvJ))}position(){return this._positionBuilder}_createPaneElement(Ie){const se=this._document.createElement("div");return se.id="cdk-overlay-"+le++,se.classList.add("cdk-overlay-pane"),Ie.appendChild(se),se}_createHostElement(){const Ie=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ie),Ie}_createPortalOutlet(Ie){return this._appRef||(this._appRef=this._injector.get(d.o8S)),new I.aI(Ie,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(se){return new(se||$t)(d.KVO(A),d.KVO(F),d.KVO(d.OM3),d.KVO(he),d.KVO(ie),d.KVO(d.zZn),d.KVO(d.SKi),d.KVO(n.qQ),d.KVO(u.dS),d.KVO(n.aZ),d.KVO(me),d.KVO(d.bc$,8))};static#t=this.\u0275prov=d.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})();const Xe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],xt=new d.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const $t=(0,d.WQX)(Ee);return()=>$t.scrollStrategies.reposition()}});let dt=(()=>{class $t{constructor(Ie){this.elementRef=Ie}static#e=this.\u0275fac=function(se){return new(se||$t)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:$t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return $t})(),Ct=(()=>{class $t{get offsetX(){return this._offsetX}set offsetX(Ie){this._offsetX=Ie,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ie){this._offsetY=Ie,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Ie){this._disposeOnNavigation=Ie}constructor(Ie,se,fe,Ke,It){this._overlay=Ie,this._dir=It,this._backdropSubscription=y.y.EMPTY,this._attachSubscription=y.y.EMPTY,this._detachSubscription=y.y.EMPTY,this._positionSubscription=y.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,d.WQX)(d.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new d.bkB,this.positionChange=new d.bkB,this.attach=new d.bkB,this.detach=new d.bkB,this.overlayKeydown=new d.bkB,this.overlayOutsideClick=new d.bkB,this._templatePortal=new I.VA(se,fe),this._scrollStrategyFactory=Ke,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ie){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ie.origin&&this.open&&this._position.apply()),Ie.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Xe);const Ie=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ie.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ie.detachments().subscribe(()=>this.detach.emit()),Ie.keydownEvents().subscribe(se=>{this.overlayKeydown.next(se),se.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(se)&&(se.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(se=>{const fe=this._getOriginElement(),Ke=(0,g.Fb)(se);(!fe||fe!==Ke&&!fe.contains(Ke))&&this.overlayOutsideClick.next(se)})}_buildConfig(){const Ie=this._position=this.positionStrategy||this._createPositionStrategy(),se=new L({direction:this._dir,positionStrategy:Ie,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(se.width=this.width),(this.height||0===this.height)&&(se.height=this.height),(this.minWidth||0===this.minWidth)&&(se.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(se.minHeight=this.minHeight),this.backdropClass&&(se.backdropClass=this.backdropClass),this.panelClass&&(se.panelClass=this.panelClass),se}_updatePositionStrategy(Ie){const se=this.positions.map(fe=>({originX:fe.originX,originY:fe.originY,overlayX:fe.overlayX,overlayY:fe.overlayY,offsetX:fe.offsetX||this.offsetX,offsetY:fe.offsetY||this.offsetY,panelClass:fe.panelClass||void 0}));return Ie.setOrigin(this._getOrigin()).withPositions(se).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ie=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Ie),Ie}_getOrigin(){return this.origin instanceof dt?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof dt?this.origin.elementRef.nativeElement:this.origin instanceof d.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ie=>{this.backdropClick.emit(Ie)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,_.v)(()=>this.positionChange.observers.length>0)).subscribe(Ie=>{this._ngZone.run(()=>this.positionChange.emit(Ie)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(se){return new(se||$t)(d.rXU(Ee),d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(xt),d.rXU(u.dS,8))};static#t=this.\u0275dir=d.FsC({type:$t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",d.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",d.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",d.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",d.L39],push:[2,"cdkConnectedOverlayPush","push",d.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",d.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[d.GFd,d.OA$]})}return $t})();const _n={provide:xt,deps:[Ee],useFactory:function Qt($t){return()=>$t.scrollStrategies.reposition()}};let In=(()=>{class $t{static#e=this.\u0275fac=function(se){return new(se||$t)};static#t=this.\u0275mod=d.$C({type:$t});static#n=this.\u0275inj=d.G2t({providers:[Ee,_n],imports:[u.jI,I.jc,e.E9,e.E9]})}return $t})()},6860:(Ot,ve,s)=>{"use strict";s.d(ve,{BD:()=>K,BQ:()=>k,CZ:()=>B,Fb:()=>m,KT:()=>S,MU:()=>_,OD:()=>h,r5:()=>y,v8:()=>v,vc:()=>w});var e=s(3953),n=s(177);let d;try{d=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d=!1}let b,h=(()=>{class A{constructor(G){this._platformId=G,this.isBrowser=this._platformId?(0,n.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!d)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(O){return new(O||A)(e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const E=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _(){if(b)return b;if("object"!=typeof document||!document)return b=new Set(E),b;let A=document.createElement("input");return b=new Set(E.filter(L=>(A.setAttribute("type",L),A.type===L))),b}let u;function k(A){return function I(){if(null==u&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u=!0}))}finally{u=u||!1}return u}()?A:!!A.capture}var y=function(A){return A[A.NORMAL=0]="NORMAL",A[A.NEGATED=1]="NEGATED",A[A.INVERTED=2]="INVERTED",A}(y||{});let x,M,P;function B(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const A=Element.prototype.scrollTo;M=!!A&&!/\{\s*\[native code\]\s*\}/.test(A.toString())}}return M}function K(){if("object"!=typeof document||!document)return y.NORMAL;if(null==x){const A=document.createElement("div"),L=A.style;A.dir="rtl",L.width="1px",L.overflow="auto",L.visibility="hidden",L.pointerEvents="none",L.position="absolute";const G=document.createElement("div"),O=G.style;O.width="2px",O.height="1px",A.appendChild(G),document.body.appendChild(A),x=y.NORMAL,0===A.scrollLeft&&(A.scrollLeft=1,x=0===A.scrollLeft?y.NEGATED:y.INVERTED),A.remove()}return x}function S(A){if(function j(){if(null==P){const A=typeof document<"u"?document.head:null;P=!(!A||!A.createShadowRoot&&!A.attachShadow)}return P}()){const L=A.getRootNode?A.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&L instanceof ShadowRoot)return L}return null}function w(){let A=typeof document<"u"&&document?document.activeElement:null;for(;A&&A.shadowRoot;){const L=A.shadowRoot.activeElement;if(L===A)break;A=L}return A}function m(A){return A.composedPath?A.composedPath()[0]:A.target}function v(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(Ot,ve,s)=>{"use strict";s.d(ve,{A8:()=>I,I3:()=>S,Qq:()=>j,VA:()=>k,aI:()=>B,bV:()=>P,jc:()=>m,lb:()=>x});var e=s(3953),n=s(177);class u{attach(L){return this._attachedHost=L,L.attach(this)}detach(){let L=this._attachedHost;null!=L&&(this._attachedHost=null,L.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(L){this._attachedHost=L}}class I extends u{constructor(L,G,O,W,U){super(),this.component=L,this.viewContainerRef=G,this.injector=O,this.componentFactoryResolver=W,this.projectableNodes=U}}class k extends u{constructor(L,G,O,W){super(),this.templateRef=L,this.viewContainerRef=G,this.context=O,this.injector=W}get origin(){return this.templateRef.elementRef}attach(L,G=this.context){return this.context=G,super.attach(L)}detach(){return this.context=void 0,super.detach()}}class y extends u{constructor(L){super(),this.element=L instanceof e.aKT?L.nativeElement:L}}class x{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(L){return L instanceof I?(this._attachedPortal=L,this.attachComponentPortal(L)):L instanceof k?(this._attachedPortal=L,this.attachTemplatePortal(L)):this.attachDomPortal&&L instanceof y?(this._attachedPortal=L,this.attachDomPortal(L)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(L){this._disposeFn=L}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class B extends x{constructor(L,G,O,W,U){super(),this.outletElement=L,this._componentFactoryResolver=G,this._appRef=O,this._defaultInjector=W,this.attachDomPortal=$=>{const te=$.element,ie=this._document.createComment("dom-portal");te.parentNode.insertBefore(ie,te),this.outletElement.appendChild(te),this._attachedPortal=$,super.setDisposeFn(()=>{ie.parentNode&&ie.parentNode.replaceChild(te,ie)})},this._document=U}attachComponentPortal(L){const O=(L.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(L.component);let W;return L.viewContainerRef?(W=L.viewContainerRef.createComponent(O,L.viewContainerRef.length,L.injector||L.viewContainerRef.injector,L.projectableNodes||void 0),this.setDisposeFn(()=>W.destroy())):(W=O.create(L.injector||this._defaultInjector||e.zZn.NULL),this._appRef.attachView(W.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(W.hostView),W.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(W)),this._attachedPortal=L,W}attachTemplatePortal(L){let G=L.viewContainerRef,O=G.createEmbeddedView(L.templateRef,L.context,{injector:L.injector});return O.rootNodes.forEach(W=>this.outletElement.appendChild(W)),O.detectChanges(),this.setDisposeFn(()=>{let W=G.indexOf(O);-1!==W&&G.remove(W)}),this._attachedPortal=L,O}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(L){return L.hostView.rootNodes[0]}}let P=(()=>{class A extends k{constructor(G,O){super(G,O)}static#e=this.\u0275fac=function(O){return new(O||A)(e.rXU(e.C4Q),e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:A,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Vt3]})}return A})(),j=(()=>{class A extends P{static#e=this.\u0275fac=(()=>{let G;return function(W){return(G||(G=e.xGo(A)))(W||A)}})();static#t=this.\u0275dir=e.FsC({type:A,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Jv_([{provide:P,useExisting:A}]),e.Vt3]})}return A})(),S=(()=>{class A extends x{constructor(G,O,W){super(),this._componentFactoryResolver=G,this._viewContainerRef=O,this._isInitialized=!1,this.attached=new e.bkB,this.attachDomPortal=U=>{const $=U.element,te=this._document.createComment("dom-portal");U.setAttachedHost(this),$.parentNode.insertBefore(te,$),this._getRootNode().appendChild($),this._attachedPortal=U,super.setDisposeFn(()=>{te.parentNode&&te.parentNode.replaceChild($,te)})},this._document=W}get portal(){return this._attachedPortal}set portal(G){this.hasAttached()&&!G&&!this._isInitialized||(this.hasAttached()&&super.detach(),G&&super.attach(G),this._attachedPortal=G||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(G){G.setAttachedHost(this);const O=null!=G.viewContainerRef?G.viewContainerRef:this._viewContainerRef,U=(G.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(G.component),$=O.createComponent(U,O.length,G.injector||O.injector,G.projectableNodes||void 0);return O!==this._viewContainerRef&&this._getRootNode().appendChild($.hostView.rootNodes[0]),super.setDisposeFn(()=>$.destroy()),this._attachedPortal=G,this._attachedRef=$,this.attached.emit($),$}attachTemplatePortal(G){G.setAttachedHost(this);const O=this._viewContainerRef.createEmbeddedView(G.templateRef,G.context,{injector:G.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=G,this._attachedRef=O,this.attached.emit(O),O}_getRootNode(){const G=this._viewContainerRef.element.nativeElement;return G.nodeType===G.ELEMENT_NODE?G:G.parentNode}static#e=this.\u0275fac=function(O){return new(O||A)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU(n.qQ))};static#t=this.\u0275dir=e.FsC({type:A,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[e.Vt3]})}return A})(),m=(()=>{class A{static#e=this.\u0275fac=function(O){return new(O||A)};static#t=this.\u0275mod=e.$C({type:A});static#n=this.\u0275inj=e.G2t({})}return A})()},494:(Ot,ve,s)=>{"use strict";s.d(ve,{yg:()=>Ye,uv:()=>Me,Gj:()=>rn,E$:()=>Qt,d6:()=>dt,R:()=>Ne,E9:()=>$t,Xj:()=>he});var e=s(4085),n=s(3953),d=s(5286),h=s(4421),g=s(5817),b=s(3586),E=s(8189),u=s(6228);const k=new class I extends u.q{flush(Ie){this.active=!0,this.scheduled=void 0;const{actions:se}=this;let fe,Ke=-1,It=se.length;Ie=Ie||se.shift();do{if(fe=Ie.execute(Ie.state,Ie.delay))break}while(++Ke<It&&(Ie=se.shift()));if(this.active=!1,fe){for(;++Ke<It&&(Ie=se.shift());)Ie.unsubscribe();throw fe}}}(class _ extends E.R{constructor(Ie,se){super(Ie,se),this.scheduler=Ie,this.work=se}requestAsyncId(Ie,se,fe=0){return null!==fe&&fe>0?super.requestAsyncId(Ie,se,fe):(Ie.actions.push(this),Ie.scheduled||(Ie.scheduled=requestAnimationFrame(()=>Ie.flush(null))))}recycleAsyncId(Ie,se,fe=0){if(null!==fe&&fe>0||null===fe&&this.delay>0)return super.recycleAsyncId(Ie,se,fe);0===Ie.actions.length&&(cancelAnimationFrame(se),Ie.scheduled=void 0)}});var x=s(5516),M=s(4337),B=s(8982),K=s(522),P=s(1080),j=s(3004);class w{constructor(Ie){this.durationSelector=Ie}call(Ie,se){return se.subscribe(new m(Ie,this.durationSelector))}}class m extends j.gn{constructor(Ie,se){super(Ie),this.durationSelector=se,this.hasValue=!1}_next(Ie){if(this.value=Ie,this.hasValue=!0,!this.throttled){let se;try{const{durationSelector:Ke}=this;se=Ke(Ie)}catch(Ke){return this.destination.error(Ke)}const fe=(0,j.tS)(se,new j.zA(this));!fe||fe.closed?this.clearThrottle():this.add(this.throttled=fe)}}clearThrottle(){const{value:Ie,hasValue:se,throttled:fe}=this;fe&&(this.remove(fe),this.throttled=void 0,fe.unsubscribe()),se&&(this.value=void 0,this.hasValue=!1,this.destination.next(Ie))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var v=s(6651);function A(q,Ie=P.b){return function S(q){return function(se){return se.lift(new w(q))}}(()=>(0,v.O)(q,Ie))}var L=s(8728),G=s(7605),O=s(3176),W=s(762);class ${call(Ie,se){return se.subscribe(new te(Ie))}}class te extends W.v{constructor(Ie){super(Ie),this.hasPrev=!1}_next(Ie){let se;this.hasPrev?se=[this.prev,Ie]:this.hasPrev=!0,this.prev=Ie,se&&this.destination.next(se)}}var ie=s(9090),me=s(8712),Y=s(6860),F=s(177),N=s(8203),J=s(5024);const ae=["contentWrapper"],_e=["*"],xe=new n.nKC("VIRTUAL_SCROLL_STRATEGY");class Fe{constructor(Ie,se,fe){this._scrolledIndexChange=new d.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,K.F)()),this._viewport=null,this._itemSize=Ie,this._minBufferPx=se,this._maxBufferPx=fe}attach(Ie){this._viewport=Ie,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Ie,se,fe){this._itemSize=Ie,this._minBufferPx=se,this._maxBufferPx=fe,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Ie,se){this._viewport&&this._viewport.scrollToOffset(Ie*this._itemSize,se)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Ie=this._viewport.getRenderedRange(),se={start:Ie.start,end:Ie.end},fe=this._viewport.getViewportSize(),Ke=this._viewport.getDataLength();let It=this._viewport.measureScrollOffset(),Kt=this._itemSize>0?It/this._itemSize:0;if(se.end>Ke){const Pt=Math.ceil(fe/this._itemSize),an=Math.max(0,Math.min(Kt,Ke-Pt));Kt!=an&&(Kt=an,It=an*this._itemSize,se.start=Math.floor(Kt)),se.end=Math.max(0,Math.min(Ke,se.start+Pt))}const vn=It-se.start*this._itemSize;if(vn<this._minBufferPx&&0!=se.start){const Pt=Math.ceil((this._maxBufferPx-vn)/this._itemSize);se.start=Math.max(0,se.start-Pt),se.end=Math.min(Ke,Math.ceil(Kt+(fe+this._minBufferPx)/this._itemSize))}else{const Pt=se.end*this._itemSize-(It+fe);if(Pt<this._minBufferPx&&se.end!=Ke){const an=Math.ceil((this._maxBufferPx-Pt)/this._itemSize);an>0&&(se.end=Math.min(Ke,se.end+an),se.start=Math.max(0,Math.floor(Kt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(se),this._viewport.setRenderedContentOffset(this._itemSize*se.start),this._scrolledIndexChange.next(Math.floor(Kt))}}function Ae(q){return q._scrollStrategy}let Ye=(()=>{class q{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Fe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(se){this._itemSize=(0,e.OE)(se)}get minBufferPx(){return this._minBufferPx}set minBufferPx(se){this._minBufferPx=(0,e.OE)(se)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(se){this._maxBufferPx=(0,e.OE)(se)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(fe){return new(fe||q)};static#t=this.\u0275dir=n.FsC({type:q,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[n.Jv_([{provide:xe,useFactory:Ae,deps:[(0,n.Rfq)(()=>q)]}]),n.OA$]})}return q})(),Ne=(()=>{class q{constructor(se,fe,Ke){this._ngZone=se,this._platform=fe,this._scrolled=new d.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ke}register(se){this.scrollContainers.has(se)||this.scrollContainers.set(se,se.elementScrolled().subscribe(()=>this._scrolled.next(se)))}deregister(se){const fe=this.scrollContainers.get(se);fe&&(fe.unsubscribe(),this.scrollContainers.delete(se))}scrolled(se=20){return this._platform.isBrowser?new g.c(fe=>{this._globalSubscription||this._addGlobalListener();const Ke=se>0?this._scrolled.pipe(A(se)).subscribe(fe):this._scrolled.subscribe(fe);return this._scrolledCount++,()=>{Ke.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,h.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((se,fe)=>this.deregister(fe)),this._scrolled.complete()}ancestorScrolled(se,fe){const Ke=this.getAncestorScrollContainers(se);return this.scrolled(fe).pipe((0,L.p)(It=>!It||Ke.indexOf(It)>-1))}getAncestorScrollContainers(se){const fe=[];return this.scrollContainers.forEach((Ke,It)=>{this._scrollableContainsElement(It,se)&&fe.push(It)}),fe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(se,fe){let Ke=(0,e.i8)(fe),It=se.getElementRef().nativeElement;do{if(Ke==It)return!0}while(Ke=Ke.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const se=this._getWindow();return(0,b.R)(se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.KVO(n.SKi),n.KVO(Y.OD),n.KVO(F.qQ,8))};static#t=this.\u0275prov=n.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),Me=(()=>{class q{constructor(se,fe,Ke,It){this.elementRef=se,this.scrollDispatcher=fe,this.ngZone=Ke,this.dir=It,this._destroyed=new d.B7,this._elementScrolled=new g.c(Kt=>this.ngZone.runOutsideAngular(()=>(0,b.R)(this.elementRef.nativeElement,"scroll").pipe((0,G.Q)(this._destroyed)).subscribe(Kt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(se){const fe=this.elementRef.nativeElement,Ke=this.dir&&"rtl"==this.dir.value;null==se.left&&(se.left=Ke?se.end:se.start),null==se.right&&(se.right=Ke?se.start:se.end),null!=se.bottom&&(se.top=fe.scrollHeight-fe.clientHeight-se.bottom),Ke&&(0,Y.BD)()!=Y.r5.NORMAL?(null!=se.left&&(se.right=fe.scrollWidth-fe.clientWidth-se.left),(0,Y.BD)()==Y.r5.INVERTED?se.left=se.right:(0,Y.BD)()==Y.r5.NEGATED&&(se.left=se.right?-se.right:se.right)):null!=se.right&&(se.left=fe.scrollWidth-fe.clientWidth-se.right),this._applyScrollToOptions(se)}_applyScrollToOptions(se){const fe=this.elementRef.nativeElement;(0,Y.CZ)()?fe.scrollTo(se):(null!=se.top&&(fe.scrollTop=se.top),null!=se.left&&(fe.scrollLeft=se.left))}measureScrollOffset(se){const fe="left",It=this.elementRef.nativeElement;if("top"==se)return It.scrollTop;if("bottom"==se)return It.scrollHeight-It.clientHeight-It.scrollTop;const Kt=this.dir&&"rtl"==this.dir.value;return"start"==se?se=Kt?"right":fe:"end"==se&&(se=Kt?fe:"right"),Kt&&(0,Y.BD)()==Y.r5.INVERTED?se==fe?It.scrollWidth-It.clientWidth-It.scrollLeft:It.scrollLeft:Kt&&(0,Y.BD)()==Y.r5.NEGATED?se==fe?It.scrollLeft+It.scrollWidth-It.clientWidth:-It.scrollLeft:se==fe?It.scrollLeft:It.scrollWidth-It.clientWidth-It.scrollLeft}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.rXU(n.aKT),n.rXU(Ne),n.rXU(n.SKi),n.rXU(N.dS,8))};static#t=this.\u0275dir=n.FsC({type:q,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return q})(),he=(()=>{class q{constructor(se,fe,Ke){this._platform=se,this._change=new d.B7,this._changeListener=It=>{this._change.next(It)},this._document=Ke,fe.runOutsideAngular(()=>{if(se.isBrowser){const It=this._getWindow();It.addEventListener("resize",this._changeListener),It.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const se=this._getWindow();se.removeEventListener("resize",this._changeListener),se.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),se}getViewportRect(){const se=this.getViewportScrollPosition(),{width:fe,height:Ke}=this.getViewportSize();return{top:se.top,left:se.left,bottom:se.top+Ke,right:se.left+fe,height:Ke,width:fe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const se=this._document,fe=this._getWindow(),Ke=se.documentElement,It=Ke.getBoundingClientRect();return{top:-It.top||se.body.scrollTop||fe.scrollY||Ke.scrollTop||0,left:-It.left||se.body.scrollLeft||fe.scrollX||Ke.scrollLeft||0}}change(se=20){return se>0?this._change.pipe(A(se)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:se.innerWidth,height:se.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.KVO(Y.OD),n.KVO(n.SKi),n.KVO(F.qQ,8))};static#t=this.\u0275prov=n.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})();const le=new n.nKC("VIRTUAL_SCROLLABLE");let Ee=(()=>{class q extends Me{constructor(se,fe,Ke,It){super(se,fe,Ke,It)}measureViewportSize(se){const fe=this.elementRef.nativeElement;return"horizontal"===se?fe.clientWidth:fe.clientHeight}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.rXU(n.aKT),n.rXU(Ne),n.rXU(n.SKi),n.rXU(N.dS,8))};static#t=this.\u0275dir=n.FsC({type:q,features:[n.Vt3]})}return q})();const xt=typeof requestAnimationFrame<"u"?k:x.$;let dt=(()=>{class q extends Ee{get orientation(){return this._orientation}set orientation(se){this._orientation!==se&&(this._orientation=se,this._calculateSpacerSize())}constructor(se,fe,Ke,It,Kt,vn,Pt,an){super(se,vn,Ke,Kt),this.elementRef=se,this._changeDetectorRef=fe,this._scrollStrategy=It,this.scrollable=an,this._platform=(0,n.WQX)(Y.OD),this._detachedSubject=new d.B7,this._renderedRangeSubject=new d.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new g.c(Et=>this._scrollStrategy.scrolledIndexChange.subscribe(bt=>Promise.resolve().then(()=>this.ngZone.run(()=>Et.next(bt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=M.y.EMPTY,this._injector=(0,n.WQX)(n.zZn),this._isDestroyed=!1,this._viewportChanges=Pt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,O.Z)(null),A(0,xt),(0,G.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(se){this.ngZone.runOutsideAngular(()=>{this._forOf=se,this._forOf.dataStream.pipe((0,G.Q)(this._detachedSubject)).subscribe(fe=>{const Ke=fe.length;Ke!==this._dataLength&&(this._dataLength=Ke,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(se){return this.getElementRef().nativeElement.getBoundingClientRect()[se]}setTotalContentSize(se){this._totalContentSize!==se&&(this._totalContentSize=se,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(se){(function Xe(q,Ie){return q.start==Ie.start&&q.end==Ie.end})(this._renderedRange,se)||(this.appendOnly&&(se={start:0,end:Math.max(this._renderedRange.end,se.end)}),this._renderedRangeSubject.next(this._renderedRange=se),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(se,fe="to-start"){se=this.appendOnly&&"to-start"===fe?0:se;const It="horizontal"==this.orientation,Kt=It?"X":"Y";let Pt=`translate${Kt}(${Number((It&&this.dir&&"rtl"==this.dir.value?-1:1)*se)}px)`;this._renderedContentOffset=se,"to-end"===fe&&(Pt+=` translate${Kt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Pt&&(this._renderedContentTransform=Pt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(se,fe="auto"){const Ke={behavior:fe};"horizontal"===this.orientation?Ke.start=se:Ke.top=se,this.scrollable.scrollTo(Ke)}scrollToIndex(se,fe="auto"){this._scrollStrategy.scrollToIndex(se,fe)}measureScrollOffset(se){let fe;return fe=this.scrollable==this?Ke=>super.measureScrollOffset(Ke):Ke=>this.scrollable.measureScrollOffset(Ke),Math.max(0,fe(se??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(se){let fe;const Kt="rtl"==this.dir?.value;fe="start"==se?Kt?"right":"left":"end"==se?Kt?"left":"right":se||("horizontal"===this.orientation?"left":"top");const vn=this.scrollable.measureBoundingClientRectWithScrollOffset(fe);return this.elementRef.nativeElement.getBoundingClientRect()[fe]-vn}measureRenderedContentSize(){const se=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?se.offsetWidth:se.offsetHeight}measureRangeSize(se){return this._forOf?this._forOf.measureRangeSize(se,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(se){se&&this._runAfterChangeDetection.push(se),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,n.mal)(()=>{this._isChangeDetectionPending=!1;const se=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const fe of se)fe()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.rXU(n.aKT),n.rXU(n.gRc),n.rXU(n.SKi),n.rXU(xe,8),n.rXU(N.dS,8),n.rXU(Ne),n.rXU(he),n.rXU(le,8))};static#t=this.\u0275cmp=n.VBU({type:q,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(fe,Ke){if(1&fe&&n.GBs(ae,7),2&fe){let It;n.mGM(It=n.lsd())&&(Ke._contentWrapper=It.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(fe,Ke){2&fe&&n.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Ke.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Ke.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",n.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[n.Jv_([{provide:Me,useFactory:(se,fe)=>se||fe,deps:[[new n.Xx1,new n.y_5(le)],q]}]),n.GFd,n.Vt3,n.aNF],ngContentSelectors:_e,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(fe,Ke){1&fe&&(n.NAR(),n.j41(0,"div",1,0),n.SdG(2),n.k0s(),n.nrm(3,"div",2)),2&fe&&(n.R7$(3),n.xc7("width",Ke._totalContentWidth)("height",Ke._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return q})();function Ct(q,Ie,se){if(!se.getBoundingClientRect)return 0;const Ke=se.getBoundingClientRect();return"horizontal"===q?"start"===Ie?Ke.left:Ke.right:"start"===Ie?Ke.top:Ke.bottom}let Qt=(()=>{class q{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(se){this._cdkVirtualForOf=se,(0,J.y4)(se)?this._dataSourceChanges.next(se):this._dataSourceChanges.next(new J.hx((0,B.A)(se)?se:Array.from(se||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(se){this._needsUpdate=!0,this._cdkVirtualForTrackBy=se?(fe,Ke)=>se(fe+(this._renderedRange?this._renderedRange.start:0),Ke):void 0}set cdkVirtualForTemplate(se){se&&(this._needsUpdate=!0,this._template=se)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(se){this._viewRepeater.viewCacheSize=(0,e.OE)(se)}constructor(se,fe,Ke,It,Kt,vn){this._viewContainerRef=se,this._template=fe,this._differs=Ke,this._viewRepeater=It,this._viewport=Kt,this.viewChange=new d.B7,this._dataSourceChanges=new d.B7,this.dataStream=this._dataSourceChanges.pipe((0,O.Z)(null),function U(){return q=>q.lift(new $)}(),(0,ie.n)(([Pt,an])=>this._changeDataSource(Pt,an)),(0,me.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new d.B7,this.dataStream.subscribe(Pt=>{this._data=Pt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,G.Q)(this._destroyed)).subscribe(Pt=>{this._renderedRange=Pt,this.viewChange.observers.length&&vn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(se,fe){if(se.start>=se.end)return 0;const Ke=se.start-this._renderedRange.start,It=se.end-se.start;let Kt,vn;for(let Pt=0;Pt<It;Pt++){const an=this._viewContainerRef.get(Pt+Ke);if(an&&an.rootNodes.length){Kt=vn=an.rootNodes[0];break}}for(let Pt=It-1;Pt>-1;Pt--){const an=this._viewContainerRef.get(Pt+Ke);if(an&&an.rootNodes.length){vn=an.rootNodes[an.rootNodes.length-1];break}}return Kt&&vn?Ct(fe,"end",vn)-Ct(fe,"start",Kt):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const se=this._differ.diff(this._renderedItems);se?this._applyChanges(se):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((se,fe)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(se,fe):fe)),this._needsUpdate=!0)}_changeDataSource(se,fe){return se&&se.disconnect(this),this._needsUpdate=!0,fe?fe.connect(this):(0,h.of)()}_updateContext(){const se=this._data.length;let fe=this._viewContainerRef.length;for(;fe--;){const Ke=this._viewContainerRef.get(fe);Ke.context.index=this._renderedRange.start+fe,Ke.context.count=se,this._updateComputedContextProperties(Ke.context),Ke.detectChanges()}}_applyChanges(se){this._viewRepeater.applyChanges(se,this._viewContainerRef,(It,Kt,vn)=>this._getEmbeddedViewArgs(It,vn),It=>It.item),se.forEachIdentityChange(It=>{this._viewContainerRef.get(It.currentIndex).context.$implicit=It.item});const fe=this._data.length;let Ke=this._viewContainerRef.length;for(;Ke--;){const It=this._viewContainerRef.get(Ke);It.context.index=this._renderedRange.start+Ke,It.context.count=fe,this._updateComputedContextProperties(It.context)}}_updateComputedContextProperties(se){se.first=0===se.index,se.last=se.index===se.count-1,se.even=se.index%2==0,se.odd=!se.even}_getEmbeddedViewArgs(se,fe){return{templateRef:this._template,context:{$implicit:se.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:fe}}static#e=this.\u0275fac=function(fe){return new(fe||q)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3),n.rXU(J.sL),n.rXU(dt,4),n.rXU(n.SKi))};static#t=this.\u0275dir=n.FsC({type:q,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[n.Jv_([{provide:J.sL,useClass:J.DQ}])]})}return q})(),rn=(()=>{class q{static#e=this.\u0275fac=function(fe){return new(fe||q)};static#t=this.\u0275mod=n.$C({type:q});static#n=this.\u0275inj=n.G2t({})}return q})(),$t=(()=>{class q{static#e=this.\u0275fac=function(fe){return new(fe||q)};static#t=this.\u0275mod=n.$C({type:q});static#n=this.\u0275inj=n.G2t({imports:[N.jI,rn,N.jI,rn]})}return q})()},5887:(Ot,ve,s)=>{"use strict";s.d(ve,{AL:()=>L,EZ:()=>S,I8:()=>ae,L_:()=>A,N0:()=>Kt,RT:()=>rn,Rk:()=>Ie,To:()=>te,VP:()=>U,Y$:()=>xe,ZM:()=>dt,c7:()=>W,cO:()=>m,df:()=>N,hc:()=>Fe,hi:()=>F,ki:()=>Ke,lH:()=>In,lQ:()=>ie,n5:()=>v,oh:()=>J,pe:()=>_n,sY:()=>O,u4:()=>Ae,wA:()=>_e,yT:()=>Qt});var e=s(8203),n=s(5024),d=s(6860),h=s(494),g=s(177),b=s(3953),E=s(5286),_=s(9928),u=s(8982),I=s(4421),k=s(7605);const y=[[["caption"]],[["colgroup"],["col"]],"*"],x=["caption","colgroup, col","*"];function M(Pt,an){1&Pt&&b.SdG(0,2)}function B(Pt,an){1&Pt&&(b.j41(0,"thead",0),b.eu8(1,1),b.k0s(),b.j41(2,"tbody",0),b.eu8(3,2)(4,3),b.k0s(),b.j41(5,"tfoot",0),b.eu8(6,4),b.k0s())}function K(Pt,an){1&Pt&&b.eu8(0,1)(1,2)(2,3)(3,4)}function P(Pt,an){if(1&Pt&&(b.j41(0,"th",3),b.EFF(1),b.k0s()),2&Pt){const Et=b.XpG();b.xc7("text-align",Et.justify),b.R7$(),b.SpI(" ",Et.headerText," ")}}function j(Pt,an){if(1&Pt&&(b.j41(0,"td",4),b.EFF(1),b.k0s()),2&Pt){const Et=an.$implicit,bt=b.XpG();b.xc7("text-align",bt.justify),b.R7$(),b.SpI(" ",bt.dataAccessor(Et,bt.name)," ")}}const S=new b.nKC("CDK_TABLE"),w=new b.nKC("text-column-options");let m=(()=>{class Pt{constructor(Et){this.template=Et}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Pt})(),v=(()=>{class Pt{constructor(Et){this.template=Et}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Pt})(),A=(()=>{class Pt{constructor(Et){this.template=Et}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Pt})(),L=(()=>{class Pt{get name(){return this._name}set name(Et){this._setNameInput(Et)}get sticky(){return this._sticky}set sticky(Et){Et!==this._sticky&&(this._sticky=Et,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Et){Et!==this._stickyEnd&&(this._stickyEnd=Et,this._hasStickyChanged=!0)}constructor(Et){this._table=Et,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const Et=this._hasStickyChanged;return this.resetStickyChanged(),Et}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Et){Et&&(this._name=Et,this.cssClassFriendlyName=Et.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(S,8))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkColumnDef",""]],contentQueries:function(bt,Yt,Xt){if(1&bt&&(b.wni(Xt,m,5),b.wni(Xt,v,5),b.wni(Xt,A,5)),2&bt){let nn;b.mGM(nn=b.lsd())&&(Yt.cell=nn.first),b.mGM(nn=b.lsd())&&(Yt.headerCell=nn.first),b.mGM(nn=b.lsd())&&(Yt.footerCell=nn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",b.L39],stickyEnd:[2,"stickyEnd","stickyEnd",b.L39]},standalone:!0,features:[b.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Pt}]),b.GFd]})}return Pt})();class G{constructor(an,Et){Et.nativeElement.classList.add(...an._columnCssClassName)}}let O=(()=>{class Pt extends G{constructor(Et,bt){super(Et,bt)}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(L),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[b.Vt3]})}return Pt})(),W=(()=>{class Pt extends G{constructor(Et,bt){super(Et,bt);const Yt=Et._table?._getCellRole();Yt&&bt.nativeElement.setAttribute("role",Yt)}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(L),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[b.Vt3]})}return Pt})(),U=(()=>{class Pt extends G{constructor(Et,bt){super(Et,bt);const Yt=Et._table?._getCellRole();Yt&&bt.nativeElement.setAttribute("role",Yt)}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(L),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[b.Vt3]})}return Pt})();class ${constructor(){this.tasks=[],this.endTasks=[]}}const te=new b.nKC("_COALESCED_STYLE_SCHEDULER");let ie=(()=>{class Pt{constructor(Et){this._currentSchedule=null,this._ngZone=(0,b.WQX)(b.SKi)}schedule(Et){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Et)}scheduleEnd(Et){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Et)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Et=this._currentSchedule;this._currentSchedule=new $;for(const bt of Et.tasks)bt();for(const bt of Et.endTasks)bt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.KVO(b.SKi))};static#t=this.\u0275prov=b.jDH({token:Pt,factory:Pt.\u0275fac})}return Pt})(),Y=(()=>{class Pt{constructor(Et,bt){this.template=Et,this._differs=bt}ngOnChanges(Et){if(!this._columnsDiffer){const bt=Et.columns&&Et.columns.currentValue||[];this._columnsDiffer=this._differs.find(bt).create(),this._columnsDiffer.diff(bt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Et){return this instanceof F?Et.headerCell.template:this instanceof N?Et.footerCell.template:Et.cell.template}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q),b.rXU(b._q3))};static#t=this.\u0275dir=b.FsC({type:Pt,features:[b.OA$]})}return Pt})(),F=(()=>{class Pt extends Y{get sticky(){return this._sticky}set sticky(Et){Et!==this._sticky&&(this._sticky=Et,this._hasStickyChanged=!0)}constructor(Et,bt,Yt){super(Et,bt),this._table=Yt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Et){super.ngOnChanges(Et)}hasStickyChanged(){const Et=this._hasStickyChanged;return this.resetStickyChanged(),Et}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q),b.rXU(b._q3),b.rXU(S,8))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",b.L39]},standalone:!0,features:[b.GFd,b.Vt3,b.OA$]})}return Pt})(),N=(()=>{class Pt extends Y{get sticky(){return this._sticky}set sticky(Et){Et!==this._sticky&&(this._sticky=Et,this._hasStickyChanged=!0)}constructor(Et,bt,Yt){super(Et,bt),this._table=Yt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Et){super.ngOnChanges(Et)}hasStickyChanged(){const Et=this._hasStickyChanged;return this.resetStickyChanged(),Et}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q),b.rXU(b._q3),b.rXU(S,8))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",b.L39]},standalone:!0,features:[b.GFd,b.Vt3,b.OA$]})}return Pt})(),J=(()=>{class Pt extends Y{constructor(Et,bt,Yt){super(Et,bt),this._table=Yt}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q),b.rXU(b._q3),b.rXU(S,8))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[b.Vt3]})}return Pt})(),ae=(()=>{class Pt{static#e=this.mostRecentCellOutlet=null;constructor(Et){this._viewContainer=Et,Pt.mostRecentCellOutlet=this}ngOnDestroy(){Pt.mostRecentCellOutlet===this&&(Pt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.c1b))};static#n=this.\u0275dir=b.FsC({type:Pt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Pt})(),_e=(()=>{class Pt{static#e=this.\u0275fac=function(bt){return new(bt||Pt)};static#t=this.\u0275cmp=b.VBU({type:Pt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[b.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Yt){1&bt&&b.eu8(0,0)},dependencies:[ae],encapsulation:2})}return Pt})(),xe=(()=>{class Pt{static#e=this.\u0275fac=function(bt){return new(bt||Pt)};static#t=this.\u0275cmp=b.VBU({type:Pt,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[b.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Yt){1&bt&&b.eu8(0,0)},dependencies:[ae],encapsulation:2})}return Pt})(),Fe=(()=>{class Pt{static#e=this.\u0275fac=function(bt){return new(bt||Pt)};static#t=this.\u0275cmp=b.VBU({type:Pt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[b.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(bt,Yt){1&bt&&b.eu8(0,0)},dependencies:[ae],encapsulation:2})}return Pt})(),Ae=(()=>{class Pt{constructor(Et){this.templateRef=Et,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.C4Q))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Pt})();const Ye=["top","bottom","left","right"];class qe{constructor(an,Et,bt,Yt,Xt=!0,nn=!0,yn){this._isNativeHtmlTable=an,this._stickCellCss=Et,this.direction=bt,this._coalescedStyleScheduler=Yt,this._isBrowser=Xt,this._needsPositionStickyOnElement=nn,this._positionListener=yn,this._cachedCellWidths=[],this._borderCellCss={top:`${Et}-border-elem-top`,bottom:`${Et}-border-elem-bottom`,left:`${Et}-border-elem-left`,right:`${Et}-border-elem-right`}}clearStickyPositioning(an,Et){const bt=[];for(const Yt of an)if(Yt.nodeType===Yt.ELEMENT_NODE){bt.push(Yt);for(let Xt=0;Xt<Yt.children.length;Xt++)bt.push(Yt.children[Xt])}this._coalescedStyleScheduler.schedule(()=>{for(const Yt of bt)this._removeStickyStyle(Yt,Et)})}updateStickyColumns(an,Et,bt,Yt=!0){an.length&&this._isBrowser&&(Et.some(Xt=>Xt)||bt.some(Xt=>Xt))?this._coalescedStyleScheduler.schedule(()=>{const Xt=an[0],nn=Xt.children.length,yn=this._getCellWidths(Xt,Yt),Mn=this._getStickyStartColumnPositions(yn,Et),Ln=this._getStickyEndColumnPositions(yn,bt),Fn=Et.lastIndexOf(!0),$n=bt.indexOf(!0),Ht="rtl"===this.direction,ze=Ht?"right":"left",Bt=Ht?"left":"right";for(const Te of an)for(let Ge=0;Ge<nn;Ge++){const Tt=Te.children[Ge];Et[Ge]&&this._addStickyStyle(Tt,ze,Mn[Ge],Ge===Fn),bt[Ge]&&this._addStickyStyle(Tt,Bt,Ln[Ge],Ge===$n)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Fn?[]:yn.slice(0,Fn+1).map((Te,Ge)=>Et[Ge]?Te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===$n?[]:yn.slice($n).map((Te,Ge)=>bt[Ge+$n]?Te:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(an,Et,bt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Yt="bottom"===bt?an.slice().reverse():an,Xt="bottom"===bt?Et.slice().reverse():Et,nn=[],yn=[],Mn=[];for(let Fn=0,$n=0;Fn<Yt.length;Fn++){if(!Xt[Fn])continue;nn[Fn]=$n;const Ht=Yt[Fn];Mn[Fn]=this._isNativeHtmlTable?Array.from(Ht.children):[Ht];const ze=Ht.getBoundingClientRect().height;$n+=ze,yn[Fn]=ze}const Ln=Xt.lastIndexOf(!0);for(let Fn=0;Fn<Yt.length;Fn++){if(!Xt[Fn])continue;const $n=nn[Fn],Ht=Fn===Ln;for(const ze of Mn[Fn])this._addStickyStyle(ze,bt,$n,Ht)}"top"===bt?this._positionListener?.stickyHeaderRowsUpdated({sizes:yn,offsets:nn,elements:Mn}):this._positionListener?.stickyFooterRowsUpdated({sizes:yn,offsets:nn,elements:Mn})})}updateStickyFooterContainer(an,Et){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const bt=an.querySelector("tfoot");bt&&(Et.some(Yt=>!Yt)?this._removeStickyStyle(bt,["bottom"]):this._addStickyStyle(bt,"bottom",0,!1))})}_removeStickyStyle(an,Et){for(const Yt of Et)an.style[Yt]="",an.classList.remove(this._borderCellCss[Yt]);Ye.some(Yt=>-1===Et.indexOf(Yt)&&an.style[Yt])?an.style.zIndex=this._getCalculatedZIndex(an):(an.style.zIndex="",this._needsPositionStickyOnElement&&(an.style.position=""),an.classList.remove(this._stickCellCss))}_addStickyStyle(an,Et,bt,Yt){an.classList.add(this._stickCellCss),Yt&&an.classList.add(this._borderCellCss[Et]),an.style[Et]=`${bt}px`,an.style.zIndex=this._getCalculatedZIndex(an),this._needsPositionStickyOnElement&&(an.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(an){const Et={top:100,bottom:10,left:1,right:1};let bt=0;for(const Yt of Ye)an.style[Yt]&&(bt+=Et[Yt]);return bt?`${bt}`:""}_getCellWidths(an,Et=!0){if(!Et&&this._cachedCellWidths.length)return this._cachedCellWidths;const bt=[],Yt=an.children;for(let Xt=0;Xt<Yt.length;Xt++)bt.push(Yt[Xt].getBoundingClientRect().width);return this._cachedCellWidths=bt,bt}_getStickyStartColumnPositions(an,Et){const bt=[];let Yt=0;for(let Xt=0;Xt<an.length;Xt++)Et[Xt]&&(bt[Xt]=Yt,Yt+=an[Xt]);return bt}_getStickyEndColumnPositions(an,Et){const bt=[];let Yt=0;for(let Xt=an.length;Xt>0;Xt--)Et[Xt]&&(bt[Xt]=Yt,Yt+=an[Xt]);return bt}}const dt=new b.nKC("CDK_SPL");let Qt=(()=>{class Pt{constructor(Et,bt){this.viewContainer=Et,this.elementRef=bt;const Yt=(0,b.WQX)(S);Yt._rowOutlet=this,Yt._outletAssigned()}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.c1b),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","rowOutlet",""]],standalone:!0})}return Pt})(),_n=(()=>{class Pt{constructor(Et,bt){this.viewContainer=Et,this.elementRef=bt;const Yt=(0,b.WQX)(S);Yt._headerRowOutlet=this,Yt._outletAssigned()}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.c1b),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Pt})(),In=(()=>{class Pt{constructor(Et,bt){this.viewContainer=Et,this.elementRef=bt;const Yt=(0,b.WQX)(S);Yt._footerRowOutlet=this,Yt._outletAssigned()}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.c1b),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Pt})(),rn=(()=>{class Pt{constructor(Et,bt){this.viewContainer=Et,this.elementRef=bt;const Yt=(0,b.WQX)(S);Yt._noDataRowOutlet=this,Yt._outletAssigned()}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b.c1b),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:Pt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Pt})(),Ie=(()=>{class Pt{_getCellRole(){if(void 0===this._cellRoleInternal){const Et=this._elementRef.nativeElement.getAttribute("role"),bt="grid"===Et||"treegrid"===Et?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===bt?null:bt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(Et){this._trackByFn=Et}get dataSource(){return this._dataSource}set dataSource(Et){this._dataSource!==Et&&this._switchDataSource(Et)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Et){this._multiTemplateDataRows=Et,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Et){this._fixedLayout=Et,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Et,bt,Yt,Xt,nn,yn,Mn,Ln,Fn,$n,Ht,ze){this._differs=Et,this._changeDetectorRef=bt,this._elementRef=Yt,this._dir=nn,this._platform=Mn,this._viewRepeater=Ln,this._coalescedStyleScheduler=Fn,this._viewportRuler=$n,this._stickyPositioningListener=Ht,this._onDestroy=new E.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new b.bkB,this.viewChange=new _.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,b.WQX)(b.zZn),Xt||Yt.nativeElement.setAttribute("role","table"),this._document=yn,this._isServer=!Mn.isBrowser,this._isNativeHtmlTable="TABLE"===Yt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((Et,bt)=>this.trackBy?this.trackBy(bt.dataIndex,bt.data):bt),this._viewportRuler.change().pipe((0,k.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Et=>{Et?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Et=this._dataDiffer.diff(this._renderRows);if(!Et)return this._updateNoDataRow(),void this.contentChanged.next();const bt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Et,bt,(Yt,Xt,nn)=>this._getEmbeddedViewArgs(Yt.item,nn),Yt=>Yt.item.data,Yt=>{Yt.operation===n.Q3.INSERTED&&Yt.context&&this._renderCellTemplateForItem(Yt.record.item.rowDef,Yt.context)}),this._updateRowIndexContext(),Et.forEachIdentityChange(Yt=>{bt.get(Yt.currentIndex).context.$implicit=Yt.item.data}),this._updateNoDataRow(),(0,b.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(Et){this._customColumnDefs.add(Et)}removeColumnDef(Et){this._customColumnDefs.delete(Et)}addRowDef(Et){this._customRowDefs.add(Et)}removeRowDef(Et){this._customRowDefs.delete(Et)}addHeaderRowDef(Et){this._customHeaderRowDefs.add(Et),this._headerRowDefChanged=!0}removeHeaderRowDef(Et){this._customHeaderRowDefs.delete(Et),this._headerRowDefChanged=!0}addFooterRowDef(Et){this._customFooterRowDefs.add(Et),this._footerRowDefChanged=!0}removeFooterRowDef(Et){this._customFooterRowDefs.delete(Et),this._footerRowDefChanged=!0}setNoDataRow(Et){this._customNoDataRow=Et}updateStickyHeaderRowStyles(){const Et=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Yt=fe(this._headerRowOutlet,"thead");Yt&&(Yt.style.display=Et.length?"":"none")}const bt=this._headerRowDefs.map(Yt=>Yt.sticky);this._stickyStyler.clearStickyPositioning(Et,["top"]),this._stickyStyler.stickRows(Et,bt,"top"),this._headerRowDefs.forEach(Yt=>Yt.resetStickyChanged())}updateStickyFooterRowStyles(){const Et=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Yt=fe(this._footerRowOutlet,"tfoot");Yt&&(Yt.style.display=Et.length?"":"none")}const bt=this._footerRowDefs.map(Yt=>Yt.sticky);this._stickyStyler.clearStickyPositioning(Et,["bottom"]),this._stickyStyler.stickRows(Et,bt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,bt),this._footerRowDefs.forEach(Yt=>Yt.resetStickyChanged())}updateStickyColumnStyles(){const Et=this._getRenderedRows(this._headerRowOutlet),bt=this._getRenderedRows(this._rowOutlet),Yt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Et,...bt,...Yt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Et.forEach((Xt,nn)=>{this._addStickyColumnStyles([Xt],this._headerRowDefs[nn])}),this._rowDefs.forEach(Xt=>{const nn=[];for(let yn=0;yn<bt.length;yn++)this._renderRows[yn].rowDef===Xt&&nn.push(bt[yn]);this._addStickyColumnStyles(nn,Xt)}),Yt.forEach((Xt,nn)=>{this._addStickyColumnStyles([Xt],this._footerRowDefs[nn])}),Array.from(this._columnDefsByName.values()).forEach(Xt=>Xt.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const bt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||bt,this._forceRecalculateCellWidths=bt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const Et=[],bt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Yt=0;Yt<this._data.length;Yt++){let Xt=this._data[Yt];const nn=this._getRenderRowsForData(Xt,Yt,bt.get(Xt));this._cachedRenderRowsMap.has(Xt)||this._cachedRenderRowsMap.set(Xt,new WeakMap);for(let yn=0;yn<nn.length;yn++){let Mn=nn[yn];const Ln=this._cachedRenderRowsMap.get(Mn.data);Ln.has(Mn.rowDef)?Ln.get(Mn.rowDef).push(Mn):Ln.set(Mn.rowDef,[Mn]),Et.push(Mn)}}return Et}_getRenderRowsForData(Et,bt,Yt){return this._getRowDefs(Et,bt).map(nn=>{const yn=Yt&&Yt.has(nn)?Yt.get(nn):[];if(yn.length){const Mn=yn.shift();return Mn.dataIndex=bt,Mn}return{data:Et,rowDef:nn,dataIndex:bt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),se(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(bt=>{this._columnDefsByName.has(bt.name),this._columnDefsByName.set(bt.name,bt)})}_cacheRowDefs(){this._headerRowDefs=se(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=se(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=se(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Et=this._rowDefs.filter(bt=>!bt.when);this._defaultRowDef=Et[0]}_renderUpdatedColumns(){const Et=(nn,yn)=>nn||!!yn.getColumnsDiff(),bt=this._rowDefs.reduce(Et,!1);bt&&this._forceRenderDataRows();const Yt=this._headerRowDefs.reduce(Et,!1);Yt&&this._forceRenderHeaderRows();const Xt=this._footerRowDefs.reduce(Et,!1);return Xt&&this._forceRenderFooterRows(),bt||Yt||Xt}_switchDataSource(Et){this._data=[],(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Et||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=Et}_observeRenderChanges(){if(!this.dataSource)return;let Et;(0,n.y4)(this.dataSource)?Et=this.dataSource.connect(this):(0,u.A)(this.dataSource)?Et=this.dataSource:Array.isArray(this.dataSource)&&(Et=(0,I.of)(this.dataSource)),this._renderChangeSubscription=Et.pipe((0,k.Q)(this._onDestroy)).subscribe(bt=>{this._data=bt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Et,bt)=>this._renderRow(this._headerRowOutlet,Et,bt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Et,bt)=>this._renderRow(this._footerRowOutlet,Et,bt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Et,bt){const Yt=Array.from(bt.columns||[]).map(yn=>this._columnDefsByName.get(yn)),Xt=Yt.map(yn=>yn.sticky),nn=Yt.map(yn=>yn.stickyEnd);this._stickyStyler.updateStickyColumns(Et,Xt,nn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Et){const bt=[];for(let Yt=0;Yt<Et.viewContainer.length;Yt++){const Xt=Et.viewContainer.get(Yt);bt.push(Xt.rootNodes[0])}return bt}_getRowDefs(Et,bt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Yt=[];if(this.multiTemplateDataRows)Yt=this._rowDefs.filter(Xt=>!Xt.when||Xt.when(bt,Et));else{let Xt=this._rowDefs.find(nn=>nn.when&&nn.when(bt,Et))||this._defaultRowDef;Xt&&Yt.push(Xt)}return Yt}_getEmbeddedViewArgs(Et,bt){return{templateRef:Et.rowDef.template,context:{$implicit:Et.data},index:bt}}_renderRow(Et,bt,Yt,Xt={}){const nn=Et.viewContainer.createEmbeddedView(bt.template,Xt,Yt);return this._renderCellTemplateForItem(bt,Xt),nn}_renderCellTemplateForItem(Et,bt){for(let Yt of this._getCellTemplates(Et))ae.mostRecentCellOutlet&&ae.mostRecentCellOutlet._viewContainer.createEmbeddedView(Yt,bt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Et=this._rowOutlet.viewContainer;for(let bt=0,Yt=Et.length;bt<Yt;bt++){const nn=Et.get(bt).context;nn.count=Yt,nn.first=0===bt,nn.last=bt===Yt-1,nn.even=bt%2==0,nn.odd=!nn.even,this.multiTemplateDataRows?(nn.dataIndex=this._renderRows[bt].dataIndex,nn.renderIndex=bt):nn.index=this._renderRows[bt].dataIndex}}_getCellTemplates(Et){return Et&&Et.columns?Array.from(Et.columns,bt=>{const Yt=this._columnDefsByName.get(bt);return Et.extractCellTemplate(Yt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Et=(bt,Yt)=>bt||Yt.hasStickyChanged();this._headerRowDefs.reduce(Et,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Et,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Et,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new qe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,I.of)()).pipe((0,k.Q)(this._onDestroy)).subscribe(bt=>{this._stickyStyler.direction=bt,this.updateStickyColumnStyles()})}_getOwnDefs(Et){return Et.filter(bt=>!bt._table||bt._table===this)}_updateNoDataRow(){const Et=this._customNoDataRow||this._noDataRow;if(!Et)return;const bt=0===this._rowOutlet.viewContainer.length;if(bt===this._isShowingNoDataRow)return;const Yt=this._noDataRowOutlet.viewContainer;if(bt){const Xt=Yt.createEmbeddedView(Et.templateRef),nn=Xt.rootNodes[0];1===Xt.rootNodes.length&&nn?.nodeType===this._document.ELEMENT_NODE&&(nn.setAttribute("role","row"),nn.classList.add(Et._contentClassName))}else Yt.clear();this._isShowingNoDataRow=bt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(b._q3),b.rXU(b.gRc),b.rXU(b.aKT),b.kS0("role"),b.rXU(e.dS,8),b.rXU(g.qQ),b.rXU(d.OD),b.rXU(n.sL),b.rXU(te),b.rXU(h.Xj),b.rXU(dt,12),b.rXU(b.SKi,8))};static#t=this.\u0275cmp=b.VBU({type:Pt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(bt,Yt,Xt){if(1&bt&&(b.wni(Xt,Ae,5),b.wni(Xt,L,5),b.wni(Xt,J,5),b.wni(Xt,F,5),b.wni(Xt,N,5)),2&bt){let nn;b.mGM(nn=b.lsd())&&(Yt._noDataRow=nn.first),b.mGM(nn=b.lsd())&&(Yt._contentColumnDefs=nn),b.mGM(nn=b.lsd())&&(Yt._contentRowDefs=nn),b.mGM(nn=b.lsd())&&(Yt._contentHeaderRowDefs=nn),b.mGM(nn=b.lsd())&&(Yt._contentFooterRowDefs=nn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(bt,Yt){2&bt&&b.AVh("cdk-table-fixed-layout",Yt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",b.L39],fixedLayout:[2,"fixedLayout","fixedLayout",b.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[b.Jv_([{provide:S,useExisting:Pt},{provide:n.sL,useClass:n.xn},{provide:te,useClass:ie},{provide:dt,useValue:null}]),b.GFd,b.aNF],ngContentSelectors:x,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(bt,Yt){1&bt&&(b.NAR(y),b.SdG(0),b.SdG(1,1),b.DNE(2,M,1,0)(3,B,7,0)(4,K,4,0)),2&bt&&(b.R7$(2),b.vxM(Yt._isServer?2:-1),b.R7$(),b.vxM(Yt._isNativeHtmlTable?3:4))},dependencies:[_n,Qt,rn,In],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Pt})();function se(Pt,an){return Pt.concat(Array.from(an))}function fe(Pt,an){const Et=an.toUpperCase();let bt=Pt.viewContainer.element.nativeElement;for(;bt;){const Yt=1===bt.nodeType?bt.nodeName:null;if(Yt===Et)return bt;if("TABLE"===Yt)break;bt=bt.parentNode}return null}let Ke=(()=>{class Pt{get name(){return this._name}set name(Et){this._name=Et,this._syncColumnDefName()}constructor(Et,bt){this._table=Et,this._options=bt,this.justify="start",this._options=bt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((Et,bt)=>Et[bt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const Et=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(Et):Et[0].toUpperCase()+Et.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(bt){return new(bt||Pt)(b.rXU(Ie,8),b.rXU(w,8))};static#t=this.\u0275cmp=b.VBU({type:Pt,selectors:[["cdk-text-column"]],viewQuery:function(bt,Yt){if(1&bt&&(b.GBs(L,7),b.GBs(m,7),b.GBs(v,7)),2&bt){let Xt;b.mGM(Xt=b.lsd())&&(Yt.columnDef=Xt.first),b.mGM(Xt=b.lsd())&&(Yt.cell=Xt.first),b.mGM(Xt=b.lsd())&&(Yt.headerCell=Xt.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[b.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(bt,Yt){1&bt&&(b.qex(0,0),b.DNE(1,P,2,3,"th",1)(2,j,2,3,"td",2),b.bVm())},dependencies:[L,v,O,m,U],encapsulation:2})}return Pt})(),Kt=(()=>{class Pt{static#e=this.\u0275fac=function(bt){return new(bt||Pt)};static#t=this.\u0275mod=b.$C({type:Pt});static#n=this.\u0275inj=b.G2t({imports:[h.E9]})}return Pt})()},177:(Ot,ve,s)=>{"use strict";s.d(ve,{AJ:()=>Ki,Jj:()=>Ts,MD:()=>vi,N0:()=>Po,OI:()=>bn,P9:()=>kn,Pc:()=>nr,QT:()=>d,Sm:()=>K,Sq:()=>Gt,T3:()=>Qn,UE:()=>Ks,VF:()=>g,Vy:()=>vs,Xr:()=>go,YU:()=>St,ZD:()=>h,_b:()=>mn,aZ:()=>j,bT:()=>ne,e1:()=>Bn,fG:()=>ai,fw:()=>P,hb:()=>M,hj:()=>u,oe:()=>Ve,qQ:()=>E,ux:()=>hn,vh:()=>Nr});var e=s(3953);let n=null;function d(){return n}function h(ge){n??=ge}class g{}const E=new e.nKC("");let _=(()=>{class ge{historyGo(Be){throw new Error("")}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275prov=e.jDH({token:ge,factory:()=>(0,e.WQX)(I),providedIn:"platform"})}return ge})();const u=new e.nKC("");let I=(()=>{class ge extends _{constructor(){super(),this._doc=(0,e.WQX)(E),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return d().getBaseHref(this._doc)}onPopState(Be){const ft=d().getGlobalEventTarget(this._doc,"window");return ft.addEventListener("popstate",Be,!1),()=>ft.removeEventListener("popstate",Be)}onHashChange(Be){const ft=d().getGlobalEventTarget(this._doc,"window");return ft.addEventListener("hashchange",Be,!1),()=>ft.removeEventListener("hashchange",Be)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Be){this._location.pathname=Be}pushState(Be,ft,sn){this._history.pushState(Be,ft,sn)}replaceState(Be,ft,sn){this._history.replaceState(Be,ft,sn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Be=0){this._history.go(Be)}getState(){return this._history.state}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275prov=e.jDH({token:ge,factory:()=>new ge,providedIn:"platform"})}return ge})();function k(ge,yt){if(0==ge.length)return yt;if(0==yt.length)return ge;let Be=0;return ge.endsWith("/")&&Be++,yt.startsWith("/")&&Be++,2==Be?ge+yt.substring(1):1==Be?ge+yt:ge+"/"+yt}function y(ge){const yt=ge.match(/#|\?|$/),Be=yt&&yt.index||ge.length;return ge.slice(0,Be-("/"===ge[Be-1]?1:0))+ge.slice(Be)}function x(ge){return ge&&"?"!==ge[0]?"?"+ge:ge}let M=(()=>{class ge{historyGo(Be){throw new Error("")}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275prov=e.jDH({token:ge,factory:()=>(0,e.WQX)(K),providedIn:"root"})}return ge})();const B=new e.nKC("");let K=(()=>{class ge extends M{constructor(Be,ft){super(),this._platformLocation=Be,this._removeListenerFns=[],this._baseHref=ft??this._platformLocation.getBaseHrefFromDOM()??(0,e.WQX)(E).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Be){this._removeListenerFns.push(this._platformLocation.onPopState(Be),this._platformLocation.onHashChange(Be))}getBaseHref(){return this._baseHref}prepareExternalUrl(Be){return k(this._baseHref,Be)}path(Be=!1){const ft=this._platformLocation.pathname+x(this._platformLocation.search),sn=this._platformLocation.hash;return sn&&Be?`${ft}${sn}`:ft}pushState(Be,ft,sn,Rn){const Un=this.prepareExternalUrl(sn+x(Rn));this._platformLocation.pushState(Be,ft,Un)}replaceState(Be,ft,sn,Rn){const Un=this.prepareExternalUrl(sn+x(Rn));this._platformLocation.replaceState(Be,ft,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Be=0){this._platformLocation.historyGo?.(Be)}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.KVO(_),e.KVO(B,8))};static#t=this.\u0275prov=e.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),P=(()=>{class ge extends M{constructor(Be,ft){super(),this._platformLocation=Be,this._baseHref="",this._removeListenerFns=[],null!=ft&&(this._baseHref=ft)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Be){this._removeListenerFns.push(this._platformLocation.onPopState(Be),this._platformLocation.onHashChange(Be))}getBaseHref(){return this._baseHref}path(Be=!1){const ft=this._platformLocation.hash??"#";return ft.length>0?ft.substring(1):ft}prepareExternalUrl(Be){const ft=k(this._baseHref,Be);return ft.length>0?"#"+ft:ft}pushState(Be,ft,sn,Rn){let Un=this.prepareExternalUrl(sn+x(Rn));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.pushState(Be,ft,Un)}replaceState(Be,ft,sn,Rn){let Un=this.prepareExternalUrl(sn+x(Rn));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.replaceState(Be,ft,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Be=0){this._platformLocation.historyGo?.(Be)}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.KVO(_),e.KVO(B,8))};static#t=this.\u0275prov=e.jDH({token:ge,factory:ge.\u0275fac})}return ge})(),j=(()=>{class ge{constructor(Be){this._subject=new e.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Be;const ft=this._locationStrategy.getBaseHref();this._basePath=function v(ge){if(new RegExp("^(https?:)?//").test(ge)){const[,Be]=ge.split(/\/\/[^\/]+/);return Be}return ge}(y(m(ft))),this._locationStrategy.onPopState(sn=>{this._subject.emit({url:this.path(!0),pop:!0,state:sn.state,type:sn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Be=!1){return this.normalize(this._locationStrategy.path(Be))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Be,ft=""){return this.path()==this.normalize(Be+x(ft))}normalize(Be){return ge.stripTrailingSlash(function w(ge,yt){if(!ge||!yt.startsWith(ge))return yt;const Be=yt.substring(ge.length);return""===Be||["/",";","?","#"].includes(Be[0])?Be:yt}(this._basePath,m(Be)))}prepareExternalUrl(Be){return Be&&"/"!==Be[0]&&(Be="/"+Be),this._locationStrategy.prepareExternalUrl(Be)}go(Be,ft="",sn=null){this._locationStrategy.pushState(sn,"",Be,ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(Be+x(ft)),sn)}replaceState(Be,ft="",sn=null){this._locationStrategy.replaceState(sn,"",Be,ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(Be+x(ft)),sn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Be=0){this._locationStrategy.historyGo?.(Be)}onUrlChange(Be){return this._urlChangeListeners.push(Be),this._urlChangeSubscription??=this.subscribe(ft=>{this._notifyUrlChangeListeners(ft.url,ft.state)}),()=>{const ft=this._urlChangeListeners.indexOf(Be);this._urlChangeListeners.splice(ft,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Be="",ft){this._urlChangeListeners.forEach(sn=>sn(Be,ft))}subscribe(Be,ft,sn){return this._subject.subscribe({next:Be,error:ft,complete:sn})}static#e=this.normalizeQueryParams=x;static#t=this.joinWithSlash=k;static#n=this.stripTrailingSlash=y;static#i=this.\u0275fac=function(ft){return new(ft||ge)(e.KVO(M))};static#s=this.\u0275prov=e.jDH({token:ge,factory:()=>function S(){return new j((0,e.KVO)(M))}(),providedIn:"root"})}return ge})();function m(ge){return ge.replace(/\/index.html$/,"")}const A={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var L=function(ge){return ge[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge}(L||{}),O=function(ge){return ge[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge}(O||{}),W=function(ge){return ge[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge}(W||{}),U=function(ge){return ge[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge}(U||{});const $={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _e(ge,yt){return dt((0,e.H5H)(ge)[e.KH2.DateFormat],yt)}function xe(ge,yt){return dt((0,e.H5H)(ge)[e.KH2.TimeFormat],yt)}function Fe(ge,yt){return dt((0,e.H5H)(ge)[e.KH2.DateTimeFormat],yt)}function Ae(ge,yt){const Be=(0,e.H5H)(ge),ft=Be[e.KH2.NumberSymbols][yt];if(typeof ft>"u"){if(yt===$.CurrencyDecimal)return Be[e.KH2.NumberSymbols][$.Decimal];if(yt===$.CurrencyGroup)return Be[e.KH2.NumberSymbols][$.Group]}return ft}function le(ge){if(!ge[e.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ge[e.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dt(ge,yt){for(let Be=yt;Be>-1;Be--)if(typeof ge[Be]<"u")return ge[Be];throw new Error("Locale data API: locale data undefined")}function Ct(ge){const[yt,Be]=ge.split(":");return{hours:+yt,minutes:+Be}}const rn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$t={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ie=function(ge){return ge[ge.Short=0]="Short",ge[ge.ShortGMT=1]="ShortGMT",ge[ge.Long=2]="Long",ge[ge.Extended=3]="Extended",ge}(Ie||{}),se=function(ge){return ge[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge}(se||{}),fe=function(ge){return ge[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge}(fe||{});function Ke(ge,yt,Be,ft){let sn=function Wt(ge){if(Pe(ge))return ge;if("number"==typeof ge&&!isNaN(ge))return new Date(ge);if("string"==typeof ge){if(ge=ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ge)){const[sn,Rn=1,Un=1]=ge.split("-").map(fi=>+fi);return It(sn,Rn-1,Un)}const Be=parseFloat(ge);if(!isNaN(ge-Be))return new Date(Be);let ft;if(ft=ge.match(rn))return function We(ge){const yt=new Date(0);let Be=0,ft=0;const sn=ge[8]?yt.setUTCFullYear:yt.setFullYear,Rn=ge[8]?yt.setUTCHours:yt.setHours;ge[9]&&(Be=Number(ge[9]+ge[10]),ft=Number(ge[9]+ge[11])),sn.call(yt,Number(ge[1]),Number(ge[2])-1,Number(ge[3]));const Un=Number(ge[4]||0)-Be,fi=Number(ge[5]||0)-ft,Eo=Number(ge[6]||0),Xi=Math.floor(1e3*parseFloat("0."+(ge[7]||0)));return Rn.call(yt,Un,fi,Eo,Xi),yt}(ft)}const yt=new Date(ge);if(!Pe(yt))throw new Error(`Unable to convert "${ge}" into a date`);return yt}(ge);yt=Kt(Be,yt)||yt;let fi,Un=[];for(;yt;){if(fi=q.exec(yt),!fi){Un.push(yt);break}{Un=Un.concat(fi.slice(1));const Ys=Un.pop();if(!Ys)break;yt=Ys}}let Eo=sn.getTimezoneOffset();ft&&(Eo=Te(ft,Eo),sn=function Tt(ge,yt,Be){const ft=Be?-1:1,sn=ge.getTimezoneOffset();return function Ge(ge,yt){return(ge=new Date(ge.getTime())).setMinutes(ge.getMinutes()+yt),ge}(ge,ft*(Te(yt,sn)-sn))}(sn,ft,!0));let Xi="";return Un.forEach(Ys=>{const Jn=function Bt(ge){if(ze[ge])return ze[ge];let yt;switch(ge){case"G":case"GG":case"GGG":yt=Yt(fe.Eras,W.Abbreviated);break;case"GGGG":yt=Yt(fe.Eras,W.Wide);break;case"GGGGG":yt=Yt(fe.Eras,W.Narrow);break;case"y":yt=Et(se.FullYear,1,0,!1,!0);break;case"yy":yt=Et(se.FullYear,2,0,!0,!0);break;case"yyy":yt=Et(se.FullYear,3,0,!1,!0);break;case"yyyy":yt=Et(se.FullYear,4,0,!1,!0);break;case"Y":yt=Ht(1);break;case"YY":yt=Ht(2,!0);break;case"YYY":yt=Ht(3);break;case"YYYY":yt=Ht(4);break;case"M":case"L":yt=Et(se.Month,1,1);break;case"MM":case"LL":yt=Et(se.Month,2,1);break;case"MMM":yt=Yt(fe.Months,W.Abbreviated);break;case"MMMM":yt=Yt(fe.Months,W.Wide);break;case"MMMMM":yt=Yt(fe.Months,W.Narrow);break;case"LLL":yt=Yt(fe.Months,W.Abbreviated,O.Standalone);break;case"LLLL":yt=Yt(fe.Months,W.Wide,O.Standalone);break;case"LLLLL":yt=Yt(fe.Months,W.Narrow,O.Standalone);break;case"w":yt=$n(1);break;case"ww":yt=$n(2);break;case"W":yt=$n(1,!0);break;case"d":yt=Et(se.Date,1);break;case"dd":yt=Et(se.Date,2);break;case"c":case"cc":yt=Et(se.Day,1);break;case"ccc":yt=Yt(fe.Days,W.Abbreviated,O.Standalone);break;case"cccc":yt=Yt(fe.Days,W.Wide,O.Standalone);break;case"ccccc":yt=Yt(fe.Days,W.Narrow,O.Standalone);break;case"cccccc":yt=Yt(fe.Days,W.Short,O.Standalone);break;case"E":case"EE":case"EEE":yt=Yt(fe.Days,W.Abbreviated);break;case"EEEE":yt=Yt(fe.Days,W.Wide);break;case"EEEEE":yt=Yt(fe.Days,W.Narrow);break;case"EEEEEE":yt=Yt(fe.Days,W.Short);break;case"a":case"aa":case"aaa":yt=Yt(fe.DayPeriods,W.Abbreviated);break;case"aaaa":yt=Yt(fe.DayPeriods,W.Wide);break;case"aaaaa":yt=Yt(fe.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":yt=Yt(fe.DayPeriods,W.Abbreviated,O.Standalone,!0);break;case"bbbb":yt=Yt(fe.DayPeriods,W.Wide,O.Standalone,!0);break;case"bbbbb":yt=Yt(fe.DayPeriods,W.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":yt=Yt(fe.DayPeriods,W.Abbreviated,O.Format,!0);break;case"BBBB":yt=Yt(fe.DayPeriods,W.Wide,O.Format,!0);break;case"BBBBB":yt=Yt(fe.DayPeriods,W.Narrow,O.Format,!0);break;case"h":yt=Et(se.Hours,1,-12);break;case"hh":yt=Et(se.Hours,2,-12);break;case"H":yt=Et(se.Hours,1);break;case"HH":yt=Et(se.Hours,2);break;case"m":yt=Et(se.Minutes,1);break;case"mm":yt=Et(se.Minutes,2);break;case"s":yt=Et(se.Seconds,1);break;case"ss":yt=Et(se.Seconds,2);break;case"S":yt=Et(se.FractionalSeconds,1);break;case"SS":yt=Et(se.FractionalSeconds,2);break;case"SSS":yt=Et(se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":yt=nn(Ie.Short);break;case"ZZZZZ":yt=nn(Ie.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":yt=nn(Ie.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":yt=nn(Ie.Long);break;default:return null}return ze[ge]=yt,yt}(Ys);Xi+=Jn?Jn(sn,Be,Eo):"''"===Ys?"'":Ys.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xi}function It(ge,yt,Be){const ft=new Date(0);return ft.setFullYear(ge,yt,Be),ft.setHours(0,0,0),ft}function Kt(ge,yt){const Be=function ie(ge){return(0,e.H5H)(ge)[e.KH2.LocaleId]}(ge);if($t[Be]??={},$t[Be][yt])return $t[Be][yt];let ft="";switch(yt){case"shortDate":ft=_e(ge,U.Short);break;case"mediumDate":ft=_e(ge,U.Medium);break;case"longDate":ft=_e(ge,U.Long);break;case"fullDate":ft=_e(ge,U.Full);break;case"shortTime":ft=xe(ge,U.Short);break;case"mediumTime":ft=xe(ge,U.Medium);break;case"longTime":ft=xe(ge,U.Long);break;case"fullTime":ft=xe(ge,U.Full);break;case"short":const sn=Kt(ge,"shortTime"),Rn=Kt(ge,"shortDate");ft=vn(Fe(ge,U.Short),[sn,Rn]);break;case"medium":const Un=Kt(ge,"mediumTime"),fi=Kt(ge,"mediumDate");ft=vn(Fe(ge,U.Medium),[Un,fi]);break;case"long":const Eo=Kt(ge,"longTime"),Xi=Kt(ge,"longDate");ft=vn(Fe(ge,U.Long),[Eo,Xi]);break;case"full":const Ys=Kt(ge,"fullTime"),Jn=Kt(ge,"fullDate");ft=vn(Fe(ge,U.Full),[Ys,Jn])}return ft&&($t[Be][yt]=ft),ft}function vn(ge,yt){return yt&&(ge=ge.replace(/\{([^}]+)}/g,function(Be,ft){return null!=yt&&ft in yt?yt[ft]:Be})),ge}function Pt(ge,yt,Be="-",ft,sn){let Rn="";(ge<0||sn&&ge<=0)&&(sn?ge=1-ge:(ge=-ge,Rn=Be));let Un=String(ge);for(;Un.length<yt;)Un="0"+Un;return ft&&(Un=Un.slice(Un.length-yt)),Rn+Un}function Et(ge,yt,Be=0,ft=!1,sn=!1){return function(Rn,Un){let fi=function bt(ge,yt){switch(ge){case se.FullYear:return yt.getFullYear();case se.Month:return yt.getMonth();case se.Date:return yt.getDate();case se.Hours:return yt.getHours();case se.Minutes:return yt.getMinutes();case se.Seconds:return yt.getSeconds();case se.FractionalSeconds:return yt.getMilliseconds();case se.Day:return yt.getDay();default:throw new Error(`Unknown DateType value "${ge}".`)}}(ge,Rn);if((Be>0||fi>-Be)&&(fi+=Be),ge===se.Hours)0===fi&&-12===Be&&(fi=12);else if(ge===se.FractionalSeconds)return function an(ge,yt){return Pt(ge,3).substring(0,yt)}(fi,yt);const Eo=Ae(Un,$.MinusSign);return Pt(fi,yt,Eo,ft,sn)}}function Yt(ge,yt,Be=O.Format,ft=!1){return function(sn,Rn){return function Xt(ge,yt,Be,ft,sn,Rn){switch(Be){case fe.Months:return function F(ge,yt,Be){const ft=(0,e.H5H)(ge),Rn=dt([ft[e.KH2.MonthsFormat],ft[e.KH2.MonthsStandalone]],yt);return dt(Rn,Be)}(yt,sn,ft)[ge.getMonth()];case fe.Days:return function Y(ge,yt,Be){const ft=(0,e.H5H)(ge),Rn=dt([ft[e.KH2.DaysFormat],ft[e.KH2.DaysStandalone]],yt);return dt(Rn,Be)}(yt,sn,ft)[ge.getDay()];case fe.DayPeriods:const Un=ge.getHours(),fi=ge.getMinutes();if(Rn){const Xi=function Ee(ge){const yt=(0,e.H5H)(ge);return le(yt),(yt[e.KH2.ExtraData][2]||[]).map(ft=>"string"==typeof ft?Ct(ft):[Ct(ft[0]),Ct(ft[1])])}(yt),Ys=function Xe(ge,yt,Be){const ft=(0,e.H5H)(ge);le(ft);const Rn=dt([ft[e.KH2.ExtraData][0],ft[e.KH2.ExtraData][1]],yt)||[];return dt(Rn,Be)||[]}(yt,sn,ft),Jn=Xi.findIndex(Is=>{if(Array.isArray(Is)){const[Cs,ro]=Is,bl=Un>=Cs.hours&&fi>=Cs.minutes,ma=Un<ro.hours||Un===ro.hours&&fi<ro.minutes;if(Cs.hours<ro.hours){if(bl&&ma)return!0}else if(bl||ma)return!0}else if(Is.hours===Un&&Is.minutes===fi)return!0;return!1});if(-1!==Jn)return Ys[Jn]}return function me(ge,yt,Be){const ft=(0,e.H5H)(ge),Rn=dt([ft[e.KH2.DayPeriodsFormat],ft[e.KH2.DayPeriodsStandalone]],yt);return dt(Rn,Be)}(yt,sn,ft)[Un<12?0:1];case fe.Eras:return function N(ge,yt){return dt((0,e.H5H)(ge)[e.KH2.Eras],yt)}(yt,ft)[ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Be}`)}}(sn,Rn,ge,yt,Be,ft)}}function nn(ge){return function(yt,Be,ft){const sn=-1*ft,Rn=Ae(Be,$.MinusSign),Un=sn>0?Math.floor(sn/60):Math.ceil(sn/60);switch(ge){case Ie.Short:return(sn>=0?"+":"")+Pt(Un,2,Rn)+Pt(Math.abs(sn%60),2,Rn);case Ie.ShortGMT:return"GMT"+(sn>=0?"+":"")+Pt(Un,1,Rn);case Ie.Long:return"GMT"+(sn>=0?"+":"")+Pt(Un,2,Rn)+":"+Pt(Math.abs(sn%60),2,Rn);case Ie.Extended:return 0===ft?"Z":(sn>=0?"+":"")+Pt(Un,2,Rn)+":"+Pt(Math.abs(sn%60),2,Rn);default:throw new Error(`Unknown zone width "${ge}"`)}}}const yn=0,Mn=4;function Fn(ge){const yt=ge.getDay(),Be=0===yt?-3:Mn-yt;return It(ge.getFullYear(),ge.getMonth(),ge.getDate()+Be)}function $n(ge,yt=!1){return function(Be,ft){let sn;if(yt){const Rn=new Date(Be.getFullYear(),Be.getMonth(),1).getDay()-1,Un=Be.getDate();sn=1+Math.floor((Un+Rn)/7)}else{const Rn=Fn(Be),Un=function Ln(ge){const yt=It(ge,yn,1).getDay();return It(ge,0,1+(yt<=Mn?Mn:Mn+7)-yt)}(Rn.getFullYear()),fi=Rn.getTime()-Un.getTime();sn=1+Math.round(fi/6048e5)}return Pt(sn,ge,Ae(ft,$.MinusSign))}}function Ht(ge,yt=!1){return function(Be,ft){return Pt(Fn(Be).getFullYear(),ge,Ae(ft,$.MinusSign),yt)}}const ze={};function Te(ge,yt){ge=ge.replace(/:/g,"");const Be=Date.parse("Jan 01, 1970 00:00:00 "+ge)/6e4;return isNaN(Be)?yt:Be}function Pe(ge){return ge instanceof Date&&!isNaN(ge.valueOf())}const Ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,De=22,rt=".",Qe="0",vt=";",et=",",Re="#";function qt(ge,yt,Be,ft,sn){const Un=function xn(ge,yt="-"){const Be={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ft=ge.split(vt),sn=ft[0],Rn=ft[1],Un=-1!==sn.indexOf(rt)?sn.split(rt):[sn.substring(0,sn.lastIndexOf(Qe)+1),sn.substring(sn.lastIndexOf(Qe)+1)],fi=Un[0],Eo=Un[1]||"";Be.posPre=fi.substring(0,fi.indexOf(Re));for(let Ys=0;Ys<Eo.length;Ys++){const Jn=Eo.charAt(Ys);Jn===Qe?Be.minFrac=Be.maxFrac=Ys+1:Jn===Re?Be.maxFrac=Ys+1:Be.posSuf+=Jn}const Xi=fi.split(et);if(Be.gSize=Xi[1]?Xi[1].length:0,Be.lgSize=Xi[2]||Xi[1]?(Xi[2]||Xi[1]).length:0,Rn){const Ys=sn.length-Be.posPre.length-Be.posSuf.length,Jn=Rn.indexOf(Re);Be.negPre=Rn.substring(0,Jn).replace(/'/g,""),Be.negSuf=Rn.slice(Jn+Ys).replace(/'/g,"")}else Be.negPre=yt+Be.posPre,Be.negSuf=Be.posSuf;return Be}(function Ye(ge,yt){return(0,e.H5H)(ge)[e.KH2.NumberFormats][yt]}(yt,L.Currency),Ae(yt,$.MinusSign));return Un.minFrac=function In(ge){let yt;const Be=A[ge];return Be&&(yt=Be[2]),"number"==typeof yt?yt:2}(ft),Un.maxFrac=Un.minFrac,function Ze(ge,yt,Be,ft,sn,Rn,Un=!1){let fi="",Eo=!1;if(isFinite(ge)){let Xi=function Xn(ge){let ft,sn,Rn,Un,fi,yt=Math.abs(ge)+"",Be=0;for((sn=yt.indexOf(rt))>-1&&(yt=yt.replace(rt,"")),(Rn=yt.search(/e/i))>0?(sn<0&&(sn=Rn),sn+=+yt.slice(Rn+1),yt=yt.substring(0,Rn)):sn<0&&(sn=yt.length),Rn=0;yt.charAt(Rn)===Qe;Rn++);if(Rn===(fi=yt.length))ft=[0],sn=1;else{for(fi--;yt.charAt(fi)===Qe;)fi--;for(sn-=Rn,ft=[],Un=0;Rn<=fi;Rn++,Un++)ft[Un]=Number(yt.charAt(Rn))}return sn>De&&(ft=ft.splice(0,De-1),Be=sn-1,sn=1),{digits:ft,exponent:Be,integerLen:sn}}(ge);Un&&(Xi=function Wn(ge){if(0===ge.digits[0])return ge;const yt=ge.digits.length-ge.integerLen;return ge.exponent?ge.exponent+=2:(0===yt?ge.digits.push(0,0):1===yt&&ge.digits.push(0),ge.integerLen+=2),ge}(Xi));let Ys=yt.minInt,Jn=yt.minFrac,Is=yt.maxFrac;if(Rn){const Mo=Rn.match(Ue);if(null===Mo)throw new Error(`${Rn} is not a valid digit info`);const Ua=Mo[1],ni=Mo[3],or=Mo[5];null!=Ua&&(Ys=Ii(Ua)),null!=ni&&(Jn=Ii(ni)),null!=or?Is=Ii(or):null!=ni&&Jn>Is&&(Is=Jn)}!function ti(ge,yt,Be){if(yt>Be)throw new Error(`The minimum number of digits after fraction (${yt}) is higher than the maximum (${Be}).`);let ft=ge.digits,sn=ft.length-ge.integerLen;const Rn=Math.min(Math.max(yt,sn),Be);let Un=Rn+ge.integerLen,fi=ft[Un];if(Un>0){ft.splice(Math.max(ge.integerLen,Un));for(let Jn=Un;Jn<ft.length;Jn++)ft[Jn]=0}else{sn=Math.max(0,sn),ge.integerLen=1,ft.length=Math.max(1,Un=Rn+1),ft[0]=0;for(let Jn=1;Jn<Un;Jn++)ft[Jn]=0}if(fi>=5)if(Un-1<0){for(let Jn=0;Jn>Un;Jn--)ft.unshift(0),ge.integerLen++;ft.unshift(1),ge.integerLen++}else ft[Un-1]++;for(;sn<Math.max(0,Rn);sn++)ft.push(0);let Eo=0!==Rn;const Xi=yt+ge.integerLen,Ys=ft.reduceRight(function(Jn,Is,Cs,ro){return ro[Cs]=(Is+=Jn)<10?Is:Is-10,Eo&&(0===ro[Cs]&&Cs>=Xi?ro.pop():Eo=!1),Is>=10?1:0},0);Ys&&(ft.unshift(Ys),ge.integerLen++)}(Xi,Jn,Is);let Cs=Xi.digits,ro=Xi.integerLen;const bl=Xi.exponent;let ma=[];for(Eo=Cs.every(Mo=>!Mo);ro<Ys;ro++)Cs.unshift(0);for(;ro<0;ro++)Cs.unshift(0);ro>0?ma=Cs.splice(ro,Cs.length):(ma=Cs,Cs=[0]);const nl=[];for(Cs.length>=yt.lgSize&&nl.unshift(Cs.splice(-yt.lgSize,Cs.length).join(""));Cs.length>yt.gSize;)nl.unshift(Cs.splice(-yt.gSize,Cs.length).join(""));Cs.length&&nl.unshift(Cs.join("")),fi=nl.join(Ae(Be,ft)),ma.length&&(fi+=Ae(Be,sn)+ma.join("")),bl&&(fi+=Ae(Be,$.Exponential)+"+"+bl)}else fi=Ae(Be,$.Infinity);return fi=ge<0&&!Eo?yt.negPre+fi+yt.negSuf:yt.posPre+fi+yt.posSuf,fi}(ge,Un,yt,$.CurrencyGroup,$.CurrencyDecimal,sn).replace("\xa4",Be).replace("\xa4","").trim()}function Ii(ge){const yt=parseInt(ge);if(isNaN(yt))throw new Error("Invalid integer literal when parsing "+ge);return yt}function mn(ge,yt){yt=encodeURIComponent(yt);for(const Be of ge.split(";")){const ft=Be.indexOf("="),[sn,Rn]=-1==ft?[Be,""]:[Be.slice(0,ft),Be.slice(ft+1)];if(sn.trim()===yt)return decodeURIComponent(Rn)}return null}const gt=/\s+/,pt=[];let St=(()=>{class ge{constructor(Be,ft){this._ngEl=Be,this._renderer=ft,this.initialClasses=pt,this.stateMap=new Map}set klass(Be){this.initialClasses=null!=Be?Be.trim().split(gt):pt}set ngClass(Be){this.rawClass="string"==typeof Be?Be.trim().split(gt):Be}ngDoCheck(){for(const ft of this.initialClasses)this._updateState(ft,!0);const Be=this.rawClass;if(Array.isArray(Be)||Be instanceof Set)for(const ft of Be)this._updateState(ft,!0);else if(null!=Be)for(const ft of Object.keys(Be))this._updateState(ft,!!Be[ft]);this._applyStateDiff()}_updateState(Be,ft){const sn=this.stateMap.get(Be);void 0!==sn?(sn.enabled!==ft&&(sn.changed=!0,sn.enabled=ft),sn.touched=!0):this.stateMap.set(Be,{enabled:ft,changed:!0,touched:!0})}_applyStateDiff(){for(const Be of this.stateMap){const ft=Be[0],sn=Be[1];sn.changed?(this._toggleClass(ft,sn.enabled),sn.changed=!1):sn.touched||(sn.enabled&&this._toggleClass(ft,!1),this.stateMap.delete(ft)),sn.touched=!1}}_toggleClass(Be,ft){(Be=Be.trim()).length>0&&Be.split(gt).forEach(sn=>{ft?this._renderer.addClass(this._ngEl.nativeElement,sn):this._renderer.removeClass(this._ngEl.nativeElement,sn)})}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return ge})(),bn=(()=>{class ge{constructor(Be){this._viewContainerRef=Be,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Be){return void 0!==Be.ngComponentOutletNgModule||void 0!==Be.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Be){return void 0!==Be.ngComponentOutlet||void 0!==Be.ngComponentOutletContent||void 0!==Be.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Be)}ngOnChanges(Be){if(this._needToReCreateComponentInstance(Be)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ft=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Be)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,e.w6W)(this.ngComponentOutletNgModule,st(ft)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(st(ft)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ft,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Be of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Be,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Be){for(const[ft,sn]of this._inputsUsed)sn?(Be.setInput(ft,this.ngComponentOutletInputs[ft]),this._inputsUsed.set(ft,!1)):(Be.setInput(ft,void 0),this._inputsUsed.delete(ft))}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[e.OA$]})}return ge})();function st(ge){return ge.get(e.Vns).injector}class it{constructor(yt,Be,ft,sn){this.$implicit=yt,this.ngForOf=Be,this.index=ft,this.count=sn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gt=(()=>{class ge{set ngForOf(Be){this._ngForOf=Be,this._ngForOfDirty=!0}set ngForTrackBy(Be){this._trackByFn=Be}get ngForTrackBy(){return this._trackByFn}constructor(Be,ft,sn){this._viewContainer=Be,this._template=ft,this._differs=sn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Be){Be&&(this._template=Be)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Be=this._ngForOf;!this._differ&&Be&&(this._differ=this._differs.find(Be).create(this.ngForTrackBy))}if(this._differ){const Be=this._differ.diff(this._ngForOf);Be&&this._applyChanges(Be)}}_applyChanges(Be){const ft=this._viewContainer;Be.forEachOperation((sn,Rn,Un)=>{if(null==sn.previousIndex)ft.createEmbeddedView(this._template,new it(sn.item,this._ngForOf,-1,-1),null===Un?void 0:Un);else if(null==Un)ft.remove(null===Rn?void 0:Rn);else if(null!==Rn){const fi=ft.get(Rn);ft.move(fi,Un),Se(fi,sn)}});for(let sn=0,Rn=ft.length;sn<Rn;sn++){const fi=ft.get(sn).context;fi.index=sn,fi.count=Rn,fi.ngForOf=this._ngForOf}Be.forEachIdentityChange(sn=>{Se(ft.get(sn.currentIndex),sn)})}static ngTemplateContextGuard(Be,ft){return!0}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(e._q3))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return ge})();function Se(ge,yt){ge.context.$implicit=yt.item}let ne=(()=>{class ge{constructor(Be,ft){this._viewContainer=Be,this._context=new ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ft}set ngIf(Be){this._context.$implicit=this._context.ngIf=Be,this._updateView()}set ngIfThen(Be){He("ngIfThen",Be),this._thenTemplateRef=Be,this._thenViewRef=null,this._updateView()}set ngIfElse(Be){He("ngIfElse",Be),this._elseTemplateRef=Be,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Be,ft){return!0}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b),e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return ge})();class ke{constructor(){this.$implicit=null,this.ngIf=null}}function He(ge,yt){if(yt&&!yt.createEmbeddedView)throw new Error(`${ge} must be a TemplateRef, but received '${(0,e.Tbb)(yt)}'.`)}class Dt{constructor(yt,Be){this._viewContainerRef=yt,this._templateRef=Be,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(yt){yt&&!this._created?this.create():!yt&&this._created&&this.destroy()}}let hn=(()=>{class ge{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Be){this._ngSwitch=Be,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Be){this._defaultViews.push(Be)}_matchCase(Be){const ft=Be===this._ngSwitch;return this._lastCasesMatched||=ft,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ft}_updateDefaultCases(Be){if(this._defaultViews.length>0&&Be!==this._defaultUsed){this._defaultUsed=Be;for(const ft of this._defaultViews)ft.enforceState(Be)}}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return ge})(),Bn=(()=>{class ge{constructor(Be,ft,sn){this.ngSwitch=sn,sn._addCase(),this._view=new Dt(Be,ft)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(hn,9))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return ge})(),ai=(()=>{class ge{constructor(Be,ft,sn){sn._addDefault(new Dt(Be,ft))}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(hn,9))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return ge})(),Qn=(()=>{class ge{constructor(Be){this._viewContainerRef=Be,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Be){if(this._shouldRecreateView(Be)){const ft=this._viewContainerRef;if(this._viewRef&&ft.remove(ft.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const sn=this._createContextForwardProxy();this._viewRef=ft.createEmbeddedView(this.ngTemplateOutlet,sn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Be){return!!Be.ngTemplateOutlet||!!Be.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Be,ft,sn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ft,sn),get:(Be,ft,sn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ft,sn)}})}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.OA$]})}return ge})();function Gi(ge,yt){return new e.wOt(2100,!1)}class mo{createSubscription(yt,Be){return(0,e.O8t)(()=>yt.subscribe({next:Be,error:ft=>{throw ft}}))}dispose(yt){(0,e.O8t)(()=>yt.unsubscribe())}}class ho{createSubscription(yt,Be){return yt.then(Be,ft=>{throw ft})}dispose(yt){}}const io=new ho,Mr=new mo;let Ts=(()=>{class ge{constructor(Be){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Be}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Be){if(!this._obj){if(Be)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Be)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Be!==this._obj?(this._dispose(),this.transform(Be)):this._latestValue}_subscribe(Be){this._obj=Be,this._strategy=this._selectStrategy(Be),this._subscription=this._strategy.createSubscription(Be,ft=>this._updateLatestValue(Be,ft))}_selectStrategy(Be){if((0,e.jNT)(Be))return io;if((0,e.zjR)(Be))return Mr;throw Gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Be,ft){Be===this._obj&&(this._latestValue=ft,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.gRc,16))};static#t=this.\u0275pipe=e.EJ8({name:"async",type:ge,pure:!1,standalone:!0})}return ge})(),nr=(()=>{class ge{transform(Be){if(null==Be)return null;if("string"!=typeof Be)throw Gi();return Be.toUpperCase()}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275pipe=e.EJ8({name:"uppercase",type:ge,pure:!0,standalone:!0})}return ge})();const Dr=new e.nKC(""),qr=new e.nKC("");let Nr=(()=>{class ge{constructor(Be,ft,sn){this.locale=Be,this.defaultTimezone=ft,this.defaultOptions=sn}transform(Be,ft,sn,Rn){if(null==Be||""===Be||Be!=Be)return null;try{return Ke(Be,ft??this.defaultOptions?.dateFormat??"mediumDate",Rn||this.locale,sn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Un){throw Gi()}}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.xe9,16),e.rXU(Dr,24),e.rXU(qr,24))};static#t=this.\u0275pipe=e.EJ8({name:"date",type:ge,pure:!0,standalone:!0})}return ge})(),Ve=(()=>{class ge{constructor(Be,ft="USD"){this._locale=Be,this._defaultCurrencyCode=ft}transform(Be,ft=this._defaultCurrencyCode,sn="symbol",Rn,Un){if(!function jt(ge){return!(null==ge||""===ge||ge!=ge)}(Be))return null;Un||=this._locale,"boolean"==typeof sn&&(sn=sn?"symbol":"code");let fi=ft||this._defaultCurrencyCode;"code"!==sn&&(fi="symbol"===sn||"symbol-narrow"===sn?function Qt(ge,yt,Be="en"){const ft=function pe(ge){return(0,e.H5H)(ge)[e.KH2.Currencies]}(Be)[ge]||A[ge]||[],sn=ft[1];return"narrow"===yt&&"string"==typeof sn?sn:ft[0]||ge}(fi,"symbol"===sn?"wide":"narrow",Un):sn);try{return qt(function un(ge){if("string"==typeof ge&&!isNaN(Number(ge)-parseFloat(ge)))return Number(ge);if("number"!=typeof ge)throw new Error(`${ge} is not a number`);return ge}(Be),Un,fi,ft,Rn)}catch(Eo){throw Gi()}}static#e=this.\u0275fac=function(ft){return new(ft||ge)(e.rXU(e.xe9,16),e.rXU(e.Ocv,16))};static#t=this.\u0275pipe=e.EJ8({name:"currency",type:ge,pure:!0,standalone:!0})}return ge})();let kn=(()=>{class ge{transform(Be,ft,sn){if(null==Be)return null;if(!this.supports(Be))throw Gi();return Be.slice(ft,sn)}supports(Be){return"string"==typeof Be||Array.isArray(Be)}static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275pipe=e.EJ8({name:"slice",type:ge,pure:!1,standalone:!0})}return ge})(),vi=(()=>{class ge{static#e=this.\u0275fac=function(ft){return new(ft||ge)};static#t=this.\u0275mod=e.$C({type:ge});static#n=this.\u0275inj=e.G2t({})}return ge})();const Ki="browser",ji="server";function Ks(ge){return ge===Ki}function vs(ge){return ge===ji}let go=(()=>{class ge{static#e=this.\u0275prov=(0,e.jDH)({token:ge,providedIn:"root",factory:()=>Ks((0,e.WQX)(e.Agw))?new Ws((0,e.WQX)(E),window):new ws})}return ge})();class Ws{constructor(yt,Be){this.document=yt,this.window=Be,this.offset=()=>[0,0]}setOffset(yt){this.offset=Array.isArray(yt)?()=>yt:yt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(yt){this.window.scrollTo(yt[0],yt[1])}scrollToAnchor(yt){const Be=function qs(ge,yt){const Be=ge.getElementById(yt)||ge.getElementsByName(yt)[0];if(Be)return Be;if("function"==typeof ge.createTreeWalker&&ge.body&&"function"==typeof ge.body.attachShadow){const ft=ge.createTreeWalker(ge.body,NodeFilter.SHOW_ELEMENT);let sn=ft.currentNode;for(;sn;){const Rn=sn.shadowRoot;if(Rn){const Un=Rn.getElementById(yt)||Rn.querySelector(`[name="${yt}"]`);if(Un)return Un}sn=ft.nextNode()}}return null}(this.document,yt);Be&&(this.scrollToElement(Be),Be.focus())}setHistoryScrollRestoration(yt){this.window.history.scrollRestoration=yt}scrollToElement(yt){const Be=yt.getBoundingClientRect(),ft=Be.left+this.window.pageXOffset,sn=Be.top+this.window.pageYOffset,Rn=this.offset();this.window.scrollTo(ft-Rn[0],sn-Rn[1])}}class ws{setOffset(yt){}getScrollPosition(){return[0,0]}scrollToPosition(yt){}scrollToAnchor(yt){}setHistoryScrollRestoration(yt){}}class Po{}},1626:(Ot,ve,s)=>{"use strict";s.d(ve,{$R:()=>Tt,Qq:()=>Fe,Sx:()=>Pe,yz:()=>N});var e=s(467),n=s(3953),d=s(4421),h=s(5817),g=s(4787),b=s(3574),E=s(8728),_=s(5006),u=s(7312),I=s(9090),k=s(177);class y{}class x{}class M{constructor(it){this.normalizedNames=new Map,this.lazyUpdate=null,it?"string"==typeof it?this.lazyInit=()=>{this.headers=new Map,it.split("\n").forEach(Gt=>{const Se=Gt.indexOf(":");if(Se>0){const At=Gt.slice(0,Se),ne=At.toLowerCase(),ke=Gt.slice(Se+1).trim();this.maybeSetNormalizedName(At,ne),this.headers.has(ne)?this.headers.get(ne).push(ke):this.headers.set(ne,[ke])}})}:typeof Headers<"u"&&it instanceof Headers?(this.headers=new Map,it.forEach((Gt,Se)=>{this.setHeaderEntries(Se,Gt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(it).forEach(([Gt,Se])=>{this.setHeaderEntries(Gt,Se)})}:this.headers=new Map}has(it){return this.init(),this.headers.has(it.toLowerCase())}get(it){this.init();const Gt=this.headers.get(it.toLowerCase());return Gt&&Gt.length>0?Gt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(it){return this.init(),this.headers.get(it.toLowerCase())||null}append(it,Gt){return this.clone({name:it,value:Gt,op:"a"})}set(it,Gt){return this.clone({name:it,value:Gt,op:"s"})}delete(it,Gt){return this.clone({name:it,value:Gt,op:"d"})}maybeSetNormalizedName(it,Gt){this.normalizedNames.has(Gt)||this.normalizedNames.set(Gt,it)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(it=>this.applyUpdate(it)),this.lazyUpdate=null))}copyFrom(it){it.init(),Array.from(it.headers.keys()).forEach(Gt=>{this.headers.set(Gt,it.headers.get(Gt)),this.normalizedNames.set(Gt,it.normalizedNames.get(Gt))})}clone(it){const Gt=new M;return Gt.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,Gt.lazyUpdate=(this.lazyUpdate||[]).concat([it]),Gt}applyUpdate(it){const Gt=it.name.toLowerCase();switch(it.op){case"a":case"s":let Se=it.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(it.name,Gt);const At=("a"===it.op?this.headers.get(Gt):void 0)||[];At.push(...Se),this.headers.set(Gt,At);break;case"d":const ne=it.value;if(ne){let ke=this.headers.get(Gt);if(!ke)return;ke=ke.filter(He=>-1===ne.indexOf(He)),0===ke.length?(this.headers.delete(Gt),this.normalizedNames.delete(Gt)):this.headers.set(Gt,ke)}else this.headers.delete(Gt),this.normalizedNames.delete(Gt)}}setHeaderEntries(it,Gt){const Se=(Array.isArray(Gt)?Gt:[Gt]).map(ne=>ne.toString()),At=it.toLowerCase();this.headers.set(At,Se),this.maybeSetNormalizedName(it,At)}forEach(it){this.init(),Array.from(this.normalizedNames.keys()).forEach(Gt=>it(this.normalizedNames.get(Gt),this.headers.get(Gt)))}}class K{encodeKey(it){return w(it)}encodeValue(it){return w(it)}decodeKey(it){return decodeURIComponent(it)}decodeValue(it){return decodeURIComponent(it)}}const j=/%(\d[a-f0-9])/gi,S={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function w(st){return encodeURIComponent(st).replace(j,(it,Gt)=>S[Gt]??it)}function m(st){return`${st}`}class v{constructor(it={}){if(this.updates=null,this.cloneFrom=null,this.encoder=it.encoder||new K,it.fromString){if(it.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function P(st,it){const Gt=new Map;return st.length>0&&st.replace(/^\?/,"").split("&").forEach(At=>{const ne=At.indexOf("="),[ke,He]=-1==ne?[it.decodeKey(At),""]:[it.decodeKey(At.slice(0,ne)),it.decodeValue(At.slice(ne+1))],Dt=Gt.get(ke)||[];Dt.push(He),Gt.set(ke,Dt)}),Gt}(it.fromString,this.encoder)}else it.fromObject?(this.map=new Map,Object.keys(it.fromObject).forEach(Gt=>{const Se=it.fromObject[Gt],At=Array.isArray(Se)?Se.map(m):[m(Se)];this.map.set(Gt,At)})):this.map=null}has(it){return this.init(),this.map.has(it)}get(it){this.init();const Gt=this.map.get(it);return Gt?Gt[0]:null}getAll(it){return this.init(),this.map.get(it)||null}keys(){return this.init(),Array.from(this.map.keys())}append(it,Gt){return this.clone({param:it,value:Gt,op:"a"})}appendAll(it){const Gt=[];return Object.keys(it).forEach(Se=>{const At=it[Se];Array.isArray(At)?At.forEach(ne=>{Gt.push({param:Se,value:ne,op:"a"})}):Gt.push({param:Se,value:At,op:"a"})}),this.clone(Gt)}set(it,Gt){return this.clone({param:it,value:Gt,op:"s"})}delete(it,Gt){return this.clone({param:it,value:Gt,op:"d"})}toString(){return this.init(),this.keys().map(it=>{const Gt=this.encoder.encodeKey(it);return this.map.get(it).map(Se=>Gt+"="+this.encoder.encodeValue(Se)).join("&")}).filter(it=>""!==it).join("&")}clone(it){const Gt=new v({encoder:this.encoder});return Gt.cloneFrom=this.cloneFrom||this,Gt.updates=(this.updates||[]).concat(it),Gt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(it=>this.map.set(it,this.cloneFrom.map.get(it))),this.updates.forEach(it=>{switch(it.op){case"a":case"s":const Gt=("a"===it.op?this.map.get(it.param):void 0)||[];Gt.push(m(it.value)),this.map.set(it.param,Gt);break;case"d":if(void 0===it.value){this.map.delete(it.param);break}{let Se=this.map.get(it.param)||[];const At=Se.indexOf(m(it.value));-1!==At&&Se.splice(At,1),Se.length>0?this.map.set(it.param,Se):this.map.delete(it.param)}}}),this.cloneFrom=this.updates=null)}}class L{constructor(){this.map=new Map}set(it,Gt){return this.map.set(it,Gt),this}get(it){return this.map.has(it)||this.map.set(it,it.defaultValue()),this.map.get(it)}delete(it){return this.map.delete(it),this}has(it){return this.map.has(it)}keys(){return this.map.keys()}}function O(st){return typeof ArrayBuffer<"u"&&st instanceof ArrayBuffer}function W(st){return typeof Blob<"u"&&st instanceof Blob}function U(st){return typeof FormData<"u"&&st instanceof FormData}class te{constructor(it,Gt,Se,At){let ne;if(this.url=Gt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=it.toUpperCase(),function G(st){switch(st){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==Se?Se:null,ne=At):ne=Se,ne&&(this.reportProgress=!!ne.reportProgress,this.withCredentials=!!ne.withCredentials,ne.responseType&&(this.responseType=ne.responseType),ne.headers&&(this.headers=ne.headers),ne.context&&(this.context=ne.context),ne.params&&(this.params=ne.params),this.transferCache=ne.transferCache),this.headers??=new M,this.context??=new L,this.params){const ke=this.params.toString();if(0===ke.length)this.urlWithParams=Gt;else{const He=Gt.indexOf("?");this.urlWithParams=Gt+(-1===He?"?":He<Gt.length-1?"&":"")+ke}}else this.params=new v,this.urlWithParams=Gt}serializeBody(){return null===this.body?null:"string"==typeof this.body||O(this.body)||W(this.body)||U(this.body)||function $(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams}(this.body)?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U(this.body)?null:W(this.body)?this.body.type||null:O(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(it={}){const Gt=it.method||this.method,Se=it.url||this.url,At=it.responseType||this.responseType,ne=it.transferCache??this.transferCache,ke=void 0!==it.body?it.body:this.body,He=it.withCredentials??this.withCredentials,Dt=it.reportProgress??this.reportProgress;let hn=it.headers||this.headers,Bn=it.params||this.params;const ai=it.context??this.context;return void 0!==it.setHeaders&&(hn=Object.keys(it.setHeaders).reduce((Ei,es)=>Ei.set(es,it.setHeaders[es]),hn)),it.setParams&&(Bn=Object.keys(it.setParams).reduce((Ei,es)=>Ei.set(es,it.setParams[es]),Bn)),new te(Gt,Se,ke,{params:Bn,headers:hn,context:ai,reportProgress:Dt,responseType:At,withCredentials:He,transferCache:ne})}}var ie=function(st){return st[st.Sent=0]="Sent",st[st.UploadProgress=1]="UploadProgress",st[st.ResponseHeader=2]="ResponseHeader",st[st.DownloadProgress=3]="DownloadProgress",st[st.Response=4]="Response",st[st.User=5]="User",st}(ie||{});class me{constructor(it,Gt=200,Se="OK"){this.headers=it.headers||new M,this.status=void 0!==it.status?it.status:Gt,this.statusText=it.statusText||Se,this.url=it.url||null,this.ok=this.status>=200&&this.status<300}}class Y extends me{constructor(it={}){super(it),this.type=ie.ResponseHeader}clone(it={}){return new Y({headers:it.headers||this.headers,status:void 0!==it.status?it.status:this.status,statusText:it.statusText||this.statusText,url:it.url||this.url||void 0})}}class F extends me{constructor(it={}){super(it),this.type=ie.Response,this.body=void 0!==it.body?it.body:null}clone(it={}){return new F({body:void 0!==it.body?it.body:this.body,headers:it.headers||this.headers,status:void 0!==it.status?it.status:this.status,statusText:it.statusText||this.statusText,url:it.url||this.url||void 0})}}class N extends me{constructor(it){super(it,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${it.url||"(unknown url)"}`:`Http failure response for ${it.url||"(unknown url)"}: ${it.status} ${it.statusText}`,this.error=it.error||null}}function xe(st,it){return{body:it,headers:st.headers,context:st.context,observe:st.observe,params:st.params,reportProgress:st.reportProgress,responseType:st.responseType,withCredentials:st.withCredentials,transferCache:st.transferCache}}let Fe=(()=>{class st{constructor(Gt){this.handler=Gt}request(Gt,Se,At={}){let ne;if(Gt instanceof te)ne=Gt;else{let Dt,hn;Dt=At.headers instanceof M?At.headers:new M(At.headers),At.params&&(hn=At.params instanceof v?At.params:new v({fromObject:At.params})),ne=new te(Gt,Se,void 0!==At.body?At.body:null,{headers:Dt,context:At.context,params:hn,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials,transferCache:At.transferCache})}const ke=(0,d.of)(ne).pipe((0,b.H)(Dt=>this.handler.handle(Dt)));if(Gt instanceof te||"events"===At.observe)return ke;const He=ke.pipe((0,E.p)(Dt=>Dt instanceof F));switch(At.observe||"body"){case"body":switch(ne.responseType){case"arraybuffer":return He.pipe((0,_.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dt.body}));case"blob":return He.pipe((0,_.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof Blob))throw new Error("Response is not a Blob.");return Dt.body}));case"text":return He.pipe((0,_.T)(Dt=>{if(null!==Dt.body&&"string"!=typeof Dt.body)throw new Error("Response is not a string.");return Dt.body}));default:return He.pipe((0,_.T)(Dt=>Dt.body))}case"response":return He;default:throw new Error(`Unreachable: unhandled observe type ${At.observe}}`)}}delete(Gt,Se={}){return this.request("DELETE",Gt,Se)}get(Gt,Se={}){return this.request("GET",Gt,Se)}head(Gt,Se={}){return this.request("HEAD",Gt,Se)}jsonp(Gt,Se){return this.request("JSONP",Gt,{params:(new v).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Gt,Se={}){return this.request("OPTIONS",Gt,Se)}patch(Gt,Se,At={}){return this.request("PATCH",Gt,xe(At,Se))}post(Gt,Se,At={}){return this.request("POST",Gt,xe(At,Se))}put(Gt,Se,At={}){return this.request("PUT",Gt,xe(At,Se))}static#e=this.\u0275fac=function(Se){return new(Se||st)(n.KVO(y))};static#t=this.\u0275prov=n.jDH({token:st,factory:st.\u0275fac})}return st})();const Ae=/^\)\]\}',?\n/;function qe(st){if(st.url)return st.url;const it="X-Request-URL".toLocaleLowerCase();return st.headers.get(it)}let Ne=(()=>{class st{constructor(){this.fetchImpl=(0,n.WQX)(Me,{optional:!0})?.fetch??((...Gt)=>globalThis.fetch(...Gt)),this.ngZone=(0,n.WQX)(n.SKi)}handle(Gt){return new h.c(Se=>{const At=new AbortController;return this.doRequest(Gt,At.signal,Se).then(pe,ne=>Se.error(new N({error:ne}))),()=>At.abort()})}doRequest(Gt,Se,At){var ne=this;return(0,e.A)(function*(){const ke=ne.createRequestInit(Gt);let He;try{const Wi=ne.ngZone.runOutsideAngular(()=>ne.fetchImpl(Gt.urlWithParams,{signal:Se,...ke}));(function he(st){st.then(pe,pe)})(Wi),At.next({type:ie.Sent}),He=yield Wi}catch(Wi){return void At.error(new N({error:Wi,status:Wi.status??0,statusText:Wi.statusText,url:Gt.urlWithParams,headers:Wi.headers}))}const Dt=new M(He.headers),hn=He.statusText,Bn=qe(He)??Gt.urlWithParams;let ai=He.status,Ei=null;if(Gt.reportProgress&&At.next(new Y({headers:Dt,status:ai,statusText:hn,url:Bn})),He.body){const Wi=He.headers.get("content-length"),zi=[],Ji=He.body.getReader();let Js,Gi,Qn=0;const mo=typeof Zone<"u"&&Zone.current;yield ne.ngZone.runOutsideAngular((0,e.A)(function*(){for(;;){const{done:io,value:Mr}=yield Ji.read();if(io)break;if(zi.push(Mr),Qn+=Mr.length,Gt.reportProgress){Gi="text"===Gt.responseType?(Gi??"")+(Js??=new TextDecoder).decode(Mr,{stream:!0}):void 0;const Ts=()=>At.next({type:ie.DownloadProgress,total:Wi?+Wi:void 0,loaded:Qn,partialText:Gi});mo?mo.run(Ts):Ts()}}}));const ho=ne.concatChunks(zi,Qn);try{const io=He.headers.get("Content-Type")??"";Ei=ne.parseBody(Gt,ho,io)}catch(io){return void At.error(new N({error:io,headers:new M(He.headers),status:He.status,statusText:He.statusText,url:qe(He)??Gt.urlWithParams}))}}0===ai&&(ai=Ei?200:0),ai>=200&&ai<300?(At.next(new F({body:Ei,headers:Dt,status:ai,statusText:hn,url:Bn})),At.complete()):At.error(new N({error:Ei,headers:Dt,status:ai,statusText:hn,url:Bn}))})()}parseBody(Gt,Se,At){switch(Gt.responseType){case"json":const ne=(new TextDecoder).decode(Se).replace(Ae,"");return""===ne?null:JSON.parse(ne);case"text":return(new TextDecoder).decode(Se);case"blob":return new Blob([Se],{type:At});case"arraybuffer":return Se.buffer}}createRequestInit(Gt){const Se={},At=Gt.withCredentials?"include":void 0;if(Gt.headers.forEach((ne,ke)=>Se[ne]=ke.join(",")),Gt.headers.has("Accept")||(Se.Accept="application/json, text/plain, */*"),!Gt.headers.has("Content-Type")){const ne=Gt.detectContentTypeHeader();null!==ne&&(Se["Content-Type"]=ne)}return{body:Gt.serializeBody(),method:Gt.method,headers:Se,credentials:At}}concatChunks(Gt,Se){const At=new Uint8Array(Se);let ne=0;for(const ke of Gt)At.set(ke,ne),ne+=ke.length;return At}static#e=this.\u0275fac=function(Se){return new(Se||st)};static#t=this.\u0275prov=n.jDH({token:st,factory:st.\u0275fac})}return st})();class Me{}function pe(){}function le(st,it){return it(st)}function Ee(st,it){return(Gt,Se)=>it.intercept(Gt,{handle:At=>st(At,Se)})}const xt=new n.nKC(""),dt=new n.nKC(""),Ct=new n.nKC(""),Qt=new n.nKC("",{providedIn:"root",factory:()=>!0});function _n(){let st=null;return(it,Gt)=>{null===st&&(st=((0,n.WQX)(xt,{optional:!0})??[]).reduceRight(Ee,le));const Se=(0,n.WQX)(n.TgB);if((0,n.WQX)(Qt)){const ne=Se.add();return st(it,Gt).pipe((0,u.j)(()=>Se.remove(ne)))}return st(it,Gt)}}let $t=(()=>{class st extends y{constructor(Gt,Se){super(),this.backend=Gt,this.injector=Se,this.chain=null,this.pendingTasks=(0,n.WQX)(n.TgB),this.contributeToStability=(0,n.WQX)(Qt)}handle(Gt){if(null===this.chain){const Se=Array.from(new Set([...this.injector.get(dt),...this.injector.get(Ct,[])]));this.chain=Se.reduceRight((At,ne)=>function Xe(st,it,Gt){return(Se,At)=>(0,n.N4e)(Gt,()=>it(Se,ne=>st(ne,At)))}(At,ne,this.injector),le)}if(this.contributeToStability){const Se=this.pendingTasks.add();return this.chain(Gt,At=>this.backend.handle(At)).pipe((0,u.j)(()=>this.pendingTasks.remove(Se)))}return this.chain(Gt,Se=>this.backend.handle(Se))}static#e=this.\u0275fac=function(Se){return new(Se||st)(n.KVO(x),n.KVO(n.uvJ))};static#t=this.\u0275prov=n.jDH({token:st,factory:st.\u0275fac})}return st})();const bt=/^\)\]\}',?\n/;let Xt=(()=>{class st{constructor(Gt){this.xhrFactory=Gt}handle(Gt){if("JSONP"===Gt.method)throw new n.wOt(-2800,!1);const Se=this.xhrFactory;return(Se.\u0275loadImpl?(0,g.H)(Se.\u0275loadImpl()):(0,d.of)(null)).pipe((0,I.n)(()=>new h.c(ne=>{const ke=Se.build();if(ke.open(Gt.method,Gt.urlWithParams),Gt.withCredentials&&(ke.withCredentials=!0),Gt.headers.forEach((zi,Ji)=>ke.setRequestHeader(zi,Ji.join(","))),Gt.headers.has("Accept")||ke.setRequestHeader("Accept","application/json, text/plain, */*"),!Gt.headers.has("Content-Type")){const zi=Gt.detectContentTypeHeader();null!==zi&&ke.setRequestHeader("Content-Type",zi)}if(Gt.responseType){const zi=Gt.responseType.toLowerCase();ke.responseType="json"!==zi?zi:"text"}const He=Gt.serializeBody();let Dt=null;const hn=()=>{if(null!==Dt)return Dt;const zi=ke.statusText||"OK",Ji=new M(ke.getAllResponseHeaders()),Qn=function Yt(st){return"responseURL"in st&&st.responseURL?st.responseURL:/^X-Request-URL:/m.test(st.getAllResponseHeaders())?st.getResponseHeader("X-Request-URL"):null}(ke)||Gt.url;return Dt=new Y({headers:Ji,status:ke.status,statusText:zi,url:Qn}),Dt},Bn=()=>{let{headers:zi,status:Ji,statusText:Qn,url:Js}=hn(),Gi=null;204!==Ji&&(Gi=typeof ke.response>"u"?ke.responseText:ke.response),0===Ji&&(Ji=Gi?200:0);let mo=Ji>=200&&Ji<300;if("json"===Gt.responseType&&"string"==typeof Gi){const ho=Gi;Gi=Gi.replace(bt,"");try{Gi=""!==Gi?JSON.parse(Gi):null}catch(io){Gi=ho,mo&&(mo=!1,Gi={error:io,text:Gi})}}mo?(ne.next(new F({body:Gi,headers:zi,status:Ji,statusText:Qn,url:Js||void 0})),ne.complete()):ne.error(new N({error:Gi,headers:zi,status:Ji,statusText:Qn,url:Js||void 0}))},ai=zi=>{const{url:Ji}=hn(),Qn=new N({error:zi,status:ke.status||0,statusText:ke.statusText||"Unknown Error",url:Ji||void 0});ne.error(Qn)};let Ei=!1;const es=zi=>{Ei||(ne.next(hn()),Ei=!0);let Ji={type:ie.DownloadProgress,loaded:zi.loaded};zi.lengthComputable&&(Ji.total=zi.total),"text"===Gt.responseType&&ke.responseText&&(Ji.partialText=ke.responseText),ne.next(Ji)},Wi=zi=>{let Ji={type:ie.UploadProgress,loaded:zi.loaded};zi.lengthComputable&&(Ji.total=zi.total),ne.next(Ji)};return ke.addEventListener("load",Bn),ke.addEventListener("error",ai),ke.addEventListener("timeout",ai),ke.addEventListener("abort",ai),Gt.reportProgress&&(ke.addEventListener("progress",es),null!==He&&ke.upload&&ke.upload.addEventListener("progress",Wi)),ke.send(He),ne.next({type:ie.Sent}),()=>{ke.removeEventListener("error",ai),ke.removeEventListener("abort",ai),ke.removeEventListener("load",Bn),ke.removeEventListener("timeout",ai),Gt.reportProgress&&(ke.removeEventListener("progress",es),null!==He&&ke.upload&&ke.upload.removeEventListener("progress",Wi)),ke.readyState!==ke.DONE&&ke.abort()}})))}static#e=this.\u0275fac=function(Se){return new(Se||st)(n.KVO(k.N0))};static#t=this.\u0275prov=n.jDH({token:st,factory:st.\u0275fac})}return st})();const nn=new n.nKC(""),Mn=new n.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fn=new n.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $n{}let Ht=(()=>{class st{constructor(Gt,Se,At){this.doc=Gt,this.platform=Se,this.cookieName=At,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Gt=this.doc.cookie||"";return Gt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k._b)(Gt,this.cookieName),this.lastCookieString=Gt),this.lastToken}static#e=this.\u0275fac=function(Se){return new(Se||st)(n.KVO(k.qQ),n.KVO(n.Agw),n.KVO(Mn))};static#t=this.\u0275prov=n.jDH({token:st,factory:st.\u0275fac})}return st})();function ze(st,it){const Gt=st.url.toLowerCase();if(!(0,n.WQX)(nn)||"GET"===st.method||"HEAD"===st.method||Gt.startsWith("http://")||Gt.startsWith("https://"))return it(st);const Se=(0,n.WQX)($n).getToken(),At=(0,n.WQX)(Fn);return null!=Se&&!st.headers.has(At)&&(st=st.clone({headers:st.headers.set(At,Se)})),it(st)}var Te=function(st){return st[st.Interceptors=0]="Interceptors",st[st.LegacyInterceptors=1]="LegacyInterceptors",st[st.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",st[st.NoXsrfProtection=3]="NoXsrfProtection",st[st.JsonpSupport=4]="JsonpSupport",st[st.RequestsMadeViaParent=5]="RequestsMadeViaParent",st[st.Fetch=6]="Fetch",st}(Te||{});function Tt(...st){const it=[Fe,Xt,$t,{provide:y,useExisting:$t},{provide:x,useFactory:()=>(0,n.WQX)(Ne,{optional:!0})??(0,n.WQX)(Xt)},{provide:dt,useValue:ze,multi:!0},{provide:nn,useValue:!0},{provide:$n,useClass:Ht}];for(const Gt of st)it.push(...Gt.\u0275providers);return(0,n.EmA)(it)}const We=new n.nKC("");function Pe(){return function Ge(st,it){return{\u0275kind:st,\u0275providers:it}}(Te.LegacyInterceptors,[{provide:We,useFactory:_n},{provide:dt,useExisting:We,multi:!0}])}},3953:(Ot,ve,s)=>{"use strict";function e(t,i){return Object.is(t,i)}s.d(ve,{bc$:()=>Tg,iLQ:()=>IC,sZ2:()=>cp,hnV:()=>hO,Hbi:()=>Hw,o8S:()=>bh,BIS:()=>Dg,gRc:()=>OO,Ql9:()=>gw,OM3:()=>lm,Ocv:()=>Tw,Z63:()=>Rr,aKT:()=>Jh,uvJ:()=>va,zcH:()=>rd,bkB:()=>Fc,y_5:()=>Mo,$GK:()=>ei,nKC:()=>Hi,zZn:()=>Ea,_q3:()=>jD,MKu:()=>UD,xe9:()=>kD,Co$:()=>xT,Vns:()=>fh,SKi:()=>wo,Xx1:()=>Ua,Agw:()=>i_,PLl:()=>Pf,rOR:()=>Zh,sFG:()=>sT,_9s:()=>D1,czy:()=>Bg,WPN:()=>c_,kdw:()=>or,C4Q:()=>kp,NYb:()=>dw,giA:()=>dO,xvI:()=>BA,RxE:()=>nO,c1b:()=>_v,gXe:()=>fd,mal:()=>xv,Tzd:()=>oC,L39:()=>Dk,EWP:()=>Ok,sbv:()=>wy,Ol2:()=>tb,w6W:()=>RT,oH4:()=>TO,QZP:()=>cx,SmG:()=>kw,Rfq:()=>sr,WQX:()=>Jn,Hps:()=>z1,QuC:()=>rr,EmA:()=>Vd,Udg:()=>Ik,fpN:()=>Xw,HJs:()=>Pk,N4e:()=>Ic,vPA:()=>Iy,O8t:()=>xk,H3F:()=>iO,zAP:()=>qO,H8p:()=>S_,KH2:()=>Gv,TgB:()=>lu,wOt:()=>ri,WHO:()=>lO,e01:()=>cO,lNU:()=>Co,h9k:()=>Ub,$MX:()=>sh,ZF7:()=>Ti,Kcf:()=>ds,e5t:()=>Wo,UyX:()=>co,cWb:()=>Ls,osQ:()=>qi,H5H:()=>iD,Zy3:()=>xo,mq5:()=>lS,JZv:()=>bo,LfX:()=>_a,plB:()=>hh,jNT:()=>xD,zjR:()=>uO,TL$:()=>T0,Tbb:()=>po,rcV:()=>_i,nM4:()=>Wy,Vt3:()=>Cv,GFd:()=>Hy,OA$:()=>af,Jv_:()=>v2,aNF:()=>b2,R7$:()=>bE,BMQ:()=>yu,HbH:()=>GI,ZvI:()=>QI,AVh:()=>HT,vxM:()=>eS,wni:()=>KS,C6U:()=>HS,VBU:()=>Oe,FsC:()=>Tn,jDH:()=>js,G2t:()=>Sr,$C:()=>Zt,EJ8:()=>ci,rXU:()=>u_,nrm:()=>qT,eu8:()=>eD,bVm:()=>fC,qex:()=>pC,k0s:()=>_C,j41:()=>hC,RV6:()=>aS,xGo:()=>ul,Mr5:()=>tD,pXf:()=>DS,nnv:()=>IS,YFu:()=>aD,uP7:()=>lD,k04:()=>SS,PLo:()=>rD,KVO:()=>Xi,kS0:()=>Yh,QTQ:()=>Wg,bIt:()=>cD,lsd:()=>XS,joV:()=>jm,qSk:()=>$_,XpG:()=>wS,nI1:()=>F2,bMT:()=>N2,i5U:()=>B2,brH:()=>$2,SdG:()=>PS,NAR:()=>kS,Y8G:()=>WT,Mz_:()=>EC,lJ4:()=>M2,eq3:()=>T2,l_i:()=>D2,sMw:()=>I2,ziG:()=>S2,s1E:()=>O2,sGs:()=>x2,lV:()=>R2,NyB:()=>YS,mGM:()=>zS,sdS:()=>QS,Dyx:()=>sS,Z7z:()=>iS,fX1:()=>nS,Vm6:()=>tS,Njj:()=>Fm,tSv:()=>Qb,eBV:()=>Lm,npT:()=>zf,B4B:()=>F0,n$t:()=>Xf,wjB:()=>E2,Aen:()=>Cu,xc7:()=>XT,Kam:()=>dD,zvX:()=>nD,DNE:()=>ib,C5r:()=>j2,EFF:()=>a2,JRh:()=>_D,SpI:()=>yC,Lme:()=>pD,E5c:()=>fD,LHq:()=>mD,DH7:()=>p2,mxI:()=>vD,R50:()=>gD,GBs:()=>WS});let n=null,d=!1,h=1;const g=Symbol("SIGNAL");function b(t){const i=n;return n=t,i}const I={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function k(t){if(d)throw new Error("");if(null===n)return;n.consumerOnSignalRead(t);const i=n.nextProducerIndex++;L(n),i<n.producerNode.length&&n.producerNode[i]!==t&&A(n)&&v(n.producerNode[i],n.producerIndexOfThis[i]),n.producerNode[i]!==t&&(n.producerNode[i]=t,n.producerIndexOfThis[i]=A(n)?m(t,n,i):0),n.producerLastReadVersion[i]=t.version}function x(t){if((!A(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==h)){if(!t.producerMustRecompute(t)&&!S(t))return t.dirty=!1,void(t.lastCleanEpoch=h);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=h}}function M(t){if(void 0===t.liveConsumerNode)return;const i=d;d=!0;try{for(const o of t.liveConsumerNode)o.dirty||K(o)}finally{d=i}}function B(){return!1!==n?.consumerAllowSignalWrites}function K(t){t.dirty=!0,M(t),t.consumerMarkedDirty?.(t)}function P(t){return t&&(t.nextProducerIndex=0),b(t)}function j(t,i){if(b(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(A(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)v(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function S(t){L(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],c=t.producerLastReadVersion[i];if(c!==o.version||(x(o),c!==o.version))return!0}return!1}function w(t){if(L(t),A(t))for(let i=0;i<t.producerNode.length;i++)v(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function m(t,i,o){if(G(t),0===t.liveConsumerNode.length&&O(t))for(let c=0;c<t.producerNode.length;c++)t.producerIndexOfThis[c]=m(t.producerNode[c],t,c);return t.liveConsumerIndexOfThis.push(o),t.liveConsumerNode.push(i)-1}function v(t,i){if(G(t),1===t.liveConsumerNode.length&&O(t))for(let c=0;c<t.producerNode.length;c++)v(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[i],f=t.liveConsumerNode[i];L(f),f.producerIndexOfThis[c]=i}}function A(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function L(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function G(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function O(t){return void 0!==t.producerNode}function W(t){const i=Object.create(ie);i.computation=t;const o=()=>{if(x(i),k(i),i.value===te)throw i.error;return i.value};return o[g]=i,o}const U=Symbol("UNSET"),$=Symbol("COMPUTING"),te=Symbol("ERRORED"),ie={...I,value:U,dirty:!0,error:null,equal:e,producerMustRecompute:t=>t.value===U||t.value===$,producerRecomputeValue(t){if(t.value===$)throw new Error("Detected cycle in computations.");const i=t.value;t.value=$;const o=P(t);let c;try{c=t.computation()}catch(f){c=te,t.error=f}finally{j(t,o)}i!==U&&i!==te&&c!==te&&t.equal(i,c)?t.value=i:(t.value=c,t.version++)}};let Y=function me(){throw new Error};function F(){Y()}let J=null;function Fe(t,i){B()||F(),t.equal(t.value,i)||(t.value=i,function Ne(t){t.version++,function y(){h++}(),M(t),J?.()}(t))}const qe={...I,equal:e,value:void 0};const pe=()=>{},he={...I,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:pe};var Ee=s(9928),Xe=s(5286),xt=s(4337),dt=s(5006);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Co="https://g.co/ng/security#xss";class ri extends Error{constructor(i,o){super(xo(i,o)),this.code=i}}function xo(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}function Ir(t){return{toString:t}.toString()}const jo="__parameters__";function fr(t,i,o){return Ir(()=>{const c=function Hs(t){return function(...o){if(t){const c=t(...o);for(const f in c)this[f]=c[f]}}}(i);function f(...C){if(this instanceof f)return c.apply(this,C),this;const V=new f(...C);return oe.annotation=V,oe;function oe(be,Je,ht){const zt=be.hasOwnProperty(jo)?be[jo]:Object.defineProperty(be,jo,{value:[]})[jo];for(;zt.length<=ht;)zt.push(null);return(zt[ht]=zt[ht]||[]).push(V),be}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const bo=globalThis;function us(t){for(let i in t)if(t[i]===us)return i;throw Error("Could not find renamed property on target object.")}function Uo(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function po(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(po).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ia(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Xo=us({__forward_ref__:us});function sr(t){return t.__forward_ref__=sr,t.toString=function(){return po(this())},t}function Ui(t){return ha(t)?t():t}function ha(t){return"function"==typeof t&&t.hasOwnProperty(Xo)&&t.__forward_ref__===sr}function _s(t,i,o){t!=i&&function Ni(t,i,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}(o,t,i,"==")}function js(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Oa(t){return el(t,Ba)||el(t,Nl)}function _a(t){return null!==Oa(t)}function el(t,i){return t.hasOwnProperty(i)?t[i]:null}function Or(t){return t&&(t.hasOwnProperty(xr)||t.hasOwnProperty(pa))?t[xr]:null}const Ba=us({\u0275prov:us}),xr=us({\u0275inj:us}),Nl=us({ngInjectableDef:us}),pa=us({ngInjectorDef:us});class Hi{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=js({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _d(t){return t&&!!t.\u0275providers}const Rs=us({\u0275cmp:us}),Bl=us({\u0275dir:us}),gr=us({\u0275pipe:us}),H=us({\u0275mod:us}),mt=us({\u0275fac:us}),_t=us({__NG_ELEMENT_ID__:us}),Nt=us({__NG_ENV_ID__:us});function Rt(t){return"string"==typeof t?t:null==t?"":String(t)}function li(t,i){throw new ri(-201,!1)}var ei=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ei||{});let Ri;function Ds(){return Ri}function Zi(t){const i=Ri;return Ri=t,i}function so(t,i,o){const c=Oa(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&ei.Optional?null:void 0!==i?i:void li()}const vl={},fa="__NG_DI_FLAG__",ge="ngTempTokenPath",Be=/\n/gm,sn="__source";let Rn;function fi(t){const i=Rn;return Rn=t,i}function Eo(t,i=ei.Default){if(void 0===Rn)throw new ri(-203,!1);return null===Rn?so(t,void 0,i):Rn.get(t,i&ei.Optional?null:void 0,i)}function Xi(t,i=ei.Default){return(Ds()||Eo)(Ui(t),i)}function Jn(t,i=ei.Default){return Xi(t,Is(i))}function Is(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Cs(t){const i=[];for(let o=0;o<t.length;o++){const c=Ui(t[o]);if(Array.isArray(c)){if(0===c.length)throw new ri(900,!1);let f,C=ei.Default;for(let V=0;V<c.length;V++){const oe=c[V],be=bl(oe);"number"==typeof be?-1===be?f=oe.token:C|=be:f=oe}i.push(Xi(f,C))}else i.push(Xi(c))}return i}function ro(t,i){return t[fa]=i,t.prototype[fa]=i,t}function bl(t){return t[fa]}const Mo=ro(fr("Inject",t=>({token:t})),-1),Ua=ro(fr("Optional"),8),or=ro(fr("SkipSelf"),4);function ac(t,i){return t.hasOwnProperty(mt)?t[mt]:null}function yo(t,i){t.forEach(o=>Array.isArray(o)?yo(o,i):i(o))}function vr(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function il(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Va(t,i,o){let c=Cc(t,i);return c>=0?t[1|c]=o:(c=~c,function Vo(t,i,o,c){let f=t.length;if(f==i)t.push(o,c);else if(1===f)t.push(c,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>i;)t[f]=t[f-2],f--;t[i]=o,t[i+1]=c}}(t,c,i,o)),c}function ao(t,i){const o=Cc(t,i);if(o>=0)return t[1|o]}function Cc(t,i){return function Mc(t,i,o){let c=0,f=t.length>>o;for(;f!==c;){const C=c+(f-c>>1),V=t[C<<o];if(i===V)return C<<o;V>i?f=C:c=C+1}return~(f<<o)}(t,i,1)}const Ps={},Bs=[],Rr=new Hi(""),br=new Hi("",-1),lc=new Hi("");class pd{get(i,o=vl){if(o===vl){const c=new Error(`NullInjectorError: No provider for ${po(i)}!`);throw c.name="NullInjectorError",c}return o}}var jd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jd||{}),fd=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fd||{}),Gr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Gr||{});function yh(t,i,o){let c=t.length;for(;;){const f=t.indexOf(i,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const C=i.length;if(f+C===c||t.charCodeAt(f+C)<=32)return f}o=f+1}}function jl(t,i,o){let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const C=o[c++],V=o[c++],oe=o[c++];t.setAttribute(i,V,oe,C)}else{const C=f,V=o[++c];Wc(C)?t.setProperty(i,C,V):t.setAttribute(i,C,V),c++}}return c}function Su(t){return 3===t||4===t||6===t}function Wc(t){return 64===t.charCodeAt(0)}function ga(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const f=i[c];"number"==typeof f?o=f:0===o||D_(t,o,f,null,-1===o||2===o?i[++c]:null)}}return t}function D_(t,i,o,c,f){let C=0,V=t.length;if(-1===i)V=-1;else for(;C<t.length;){const oe=t[C++];if("number"==typeof oe){if(oe===i){V=-1;break}if(oe>i){V=C-1;break}}}for(;C<t.length;){const oe=t[C];if("number"==typeof oe)break;if(oe===o){if(null===c)return void(null!==f&&(t[C+1]=f));if(c===t[C+1])return void(t[C+2]=f)}C++,null!==c&&C++,null!==f&&C++}-1!==V&&(t.splice(V,0,i),C=V+1),t.splice(C++,0,o),null!==c&&t.splice(C++,0,c),null!==f&&t.splice(C++,0,f)}const Zo="ng-template";function zc(t,i,o,c){let f=0;if(c){for(;f<i.length&&"string"==typeof i[f];f+=2)if("class"===i[f]&&-1!==yh(i[f+1].toLowerCase(),o,0))return!0}else if(Kr(t))return!1;if(f=i.indexOf(1,f),f>-1){let C;for(;++f<i.length&&"string"==typeof(C=i[f]);)if(C.toLowerCase()===o)return!0}return!1}function Kr(t){return 4===t.type&&t.value!==Zo}function Ud(t,i,o){return i===(4!==t.type||o?t.value:Zo)}function sl(t,i,o){let c=4;const f=t.attrs,C=null!==f?function Ch(t){for(let i=0;i<t.length;i++)if(Su(t[i]))return i;return t.length}(f):0;let V=!1;for(let oe=0;oe<i.length;oe++){const be=i[oe];if("number"!=typeof be){if(!V)if(4&c){if(c=2|1&c,""!==be&&!Ud(t,be,o)||""===be&&1===i.length){if(fo(c))return!1;V=!0}}else if(8&c){if(null===f||!zc(t,f,be,o)){if(fo(c))return!1;V=!0}}else{const Je=i[++oe],ht=I_(be,f,Kr(t),o);if(-1===ht){if(fo(c))return!1;V=!0;continue}if(""!==Je){let zt;if(zt=ht>C?"":f[ht+1].toLowerCase(),2&c&&Je!==zt){if(fo(c))return!1;V=!0}}}}else{if(!V&&!fo(c)&&!fo(be))return!1;if(V&&fo(be))continue;V=!1,c=be|1&c}}return fo(c)||V}function fo(t){return!(1&t)}function I_(t,i,o,c){if(null===i)return-1;let f=0;if(c||!o){let C=!1;for(;f<i.length;){const V=i[f];if(V===t)return f;if(3===V||6===V)C=!0;else{if(1===V||2===V){let oe=i[++f];for(;"string"==typeof oe;)oe=i[++f];continue}if(4===V)break;if(0===V){f+=4;continue}}f+=C?1:2}return-1}return function Mh(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,t)}function Ou(t,i,o=!1){for(let c=0;c<i.length;c++)if(sl(t,i[c],o))return!0;return!1}function El(t,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(t.length===c.length){for(let f=0;f<t.length;f++)if(t[f]!==c[f])continue e;return!0}}return!1}function Ga(t,i){return t?":not("+i.trim()+")":i}function ce(t){let i=t[0],o=1,c=2,f="",C=!1;for(;o<t.length;){let V=t[o];if("string"==typeof V)if(2&c){const oe=t[++o];f+="["+V+(oe.length>0?'="'+oe+'"':"")+"]"}else 8&c?f+="."+V:4&c&&(f+=" "+V);else""!==f&&!fo(V)&&(i+=Ga(C,f),f=""),c=V,C=C||!fo(c);o++}return""!==f&&(i+=Ga(C,f)),i}function Oe(t){return Ir(()=>{const i=os(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fd.Emulated,styles:t.styles||Bs,_:null,schemas:t.schemas||null,tView:null,id:""};Ka(o);const c=t.dependencies;return o.directiveDefs=Vl(c,!1),o.pipeDefs=Vl(c,!0),o.id=function Xc(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)i=Math.imul(31,i)+f.charCodeAt(0)|0;return i+=2147483648,"c"+i}(o),o})}function ut(t){return Kn(t)||Ci(t)}function Lt(t){return null!==t}function Zt(t){return Ir(()=>({type:t.type,bootstrap:t.bootstrap||Bs,declarations:t.declarations||Bs,imports:t.imports||Bs,exports:t.exports||Bs,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wn(t,i){if(null==t)return Ps;const o={};for(const c in t)if(t.hasOwnProperty(c)){const f=t[c];let C,V,oe=Gr.None;Array.isArray(f)?(oe=f[0],C=f[1],V=f[2]??C):(C=f,V=f),i?(o[C]=oe!==Gr.None?[c,oe]:c,i[C]=V):o[C]=c}return o}function Tn(t){return Ir(()=>{const i=os(t);return Ka(i),i})}function ci(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kn(t){return t[Rs]||null}function Ci(t){return t[Bl]||null}function Ms(t){return t[gr]||null}function rr(t){const i=Kn(t)||Ci(t)||Ms(t);return null!==i&&i.standalone}function lo(t,i){const o=t[H]||null;if(!o&&!0===i)throw new Error(`Type ${po(t)} does not have '\u0275mod' property.`);return o}function os(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Ps,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Bs,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wn(t.inputs,i),outputs:wn(t.outputs),debugInfo:null}}function Ka(t){t.features?.forEach(i=>i(t))}function Vl(t,i){if(!t)return null;const o=i?Ms:ut;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Lt)}function Vd(t){return{\u0275providers:t}}function Jp(...t){return{\u0275providers:Th(0,t),\u0275fromNgModule:!0}}function Th(t,...i){const o=[],c=new Set;let f;const C=V=>{o.push(V)};return yo(i,V=>{const oe=V;Tc(oe,C,[],c)&&(f||=[],f.push(oe))}),void 0!==f&&Zp(f,C),o}function Zp(t,i){for(let o=0;o<t.length;o++){const{ngModule:c,providers:f}=t[o];Gl(f,C=>{i(C,c)})}}function Tc(t,i,o,c){if(!(t=Ui(t)))return!1;let f=null,C=Or(t);const V=!C&&Kn(t);if(C||V){if(V&&!V.standalone)return!1;f=t}else{const be=t.ngModule;if(C=Or(be),!C)return!1;f=be}const oe=c.has(f);if(V){if(oe)return!1;if(c.add(f),V.dependencies){const be="function"==typeof V.dependencies?V.dependencies():V.dependencies;for(const Je of be)Tc(Je,i,o,c)}}else{if(!C)return!1;{if(null!=C.imports&&!oe){let Je;c.add(f);try{yo(C.imports,ht=>{Tc(ht,i,o,c)&&(Je||=[],Je.push(ht))})}finally{}void 0!==Je&&Zp(Je,i)}if(!oe){const Je=ac(f)||(()=>new f);i({provide:f,useFactory:Je,deps:Bs},f),i({provide:lc,useValue:f,multi:!0},f),i({provide:Rr,useValue:()=>Xi(f),multi:!0},f)}const be=C.providers;if(null!=be&&!oe){const Je=t;Gl(be,ht=>{i(ht,Je)})}}}return f!==t&&void 0!==t.providers}function Gl(t,i){for(let o of t)_d(o)&&(o=o.\u0275providers),Array.isArray(o)?Gl(o,i):i(o)}const ef=us({provide:String,useValue:us});function ol(t){return null!==t&&"object"==typeof t&&ef in t}function Yc(t){return"function"==typeof t}const S_=new Hi(""),Dh={},Om={};let Kl;function xa(){return void 0===Kl&&(Kl=new pd),Kl}class va{}class Wr extends va{get destroyed(){return this._destroyed}constructor(i,o,c,f){super(),this.parent=o,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sh(i,V=>this.processProvider(V)),this.records.set(br,md(void 0,this)),f.has("environment")&&this.records.set(va,md(void 0,this));const C=this.records.get(S_);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(lc,Bs,ei.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=b(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of o)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),b(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=fi(this),c=Zi(void 0);try{return i()}finally{fi(o),Zi(c)}}get(i,o=vl,c=ei.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Nt))return i[Nt](this);c=Is(c);const C=fi(this),V=Zi(void 0);try{if(!(c&ei.SkipSelf)){let be=this.records.get(i);if(void 0===be){const Je=function Ih(t){return"function"==typeof t||"object"==typeof t&&t instanceof Hi}(i)&&Oa(i);be=Je&&this.injectableDefInScope(Je)?md(fs(i),Dh):null,this.records.set(i,be)}if(null!=be)return this.hydrate(i,be)}return(c&ei.Self?xa():this.parent).get(i,o=c&ei.Optional&&o===vl?null:o)}catch(oe){if("NullInjectorError"===oe.name){if((oe[ge]=oe[ge]||[]).unshift(po(i)),C)throw oe;return function ma(t,i,o,c){const f=t[ge];throw i[sn]&&f.unshift(i[sn]),t.message=function nl(t,i,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=po(i);if(Array.isArray(i))f=i.map(po).join(" -> ");else if("object"==typeof i){let C=[];for(let V in i)if(i.hasOwnProperty(V)){let oe=i[V];C.push(V+":"+("string"==typeof oe?JSON.stringify(oe):po(oe)))}f=`{${C.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${t.replace(Be,"\n  ")}`}("\n"+t.message,f,o,c),t.ngTokenPath=f,t[ge]=null,t}(oe,i,"R3InjectorError",this.source)}throw oe}finally{Zi(V),fi(C)}}resolveInjectorInitializers(){const i=b(null),o=fi(this),c=Zi(void 0);try{const C=this.get(Rr,Bs,ei.Self);for(const V of C)V()}finally{fi(o),Zi(c),b(i)}}toString(){const i=[],o=this.records;for(const c of o.keys())i.push(po(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ri(205,!1)}processProvider(i){let o=Yc(i=Ui(i))?i:Ui(i&&i.provide);const c=function Qc(t){return ol(t)?md(void 0,t.useValue):md(Gd(t),Dh)}(i);if(!Yc(i)&&!0===i.multi){let f=this.records.get(o);f||(f=md(void 0,Dh,!0),f.factory=()=>Cs(f.multi),this.records.set(o,f)),o=i,f.multi.push(i)}this.records.set(o,c)}hydrate(i,o){const c=b(null);try{return o.value===Dh&&(o.value=Om,o.value=o.factory()),"object"==typeof o.value&&o.value&&function x_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{b(c)}}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ui(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function fs(t){const i=Oa(t),o=null!==i?i.factory:ac(t);if(null!==o)return o;if(t instanceof Hi)throw new ri(204,!1);if(t instanceof Function)return function Wl(t){if(t.length>0)throw new ri(204,!1);const o=function yc(t){return t&&(t[Ba]||t[Nl])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ri(204,!1)}function Gd(t,i,o){let c;if(Yc(t)){const f=Ui(t);return ac(f)||fs(f)}if(ol(t))c=()=>Ui(t.useValue);else if(function Hc(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Cs(t.deps||[]));else if(function Dc(t){return!(!t||!t.useExisting)}(t))c=()=>Xi(Ui(t.useExisting));else{const f=Ui(t&&(t.useClass||t.provide));if(!function O_(t){return!!t.deps}(t))return ac(f)||fs(f);c=()=>new f(...Cs(t.deps))}return c}function md(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function Sh(t,i){for(const o of t)Array.isArray(o)?Sh(o,i):o&&_d(o)?Sh(o.\u0275providers,i):i(o)}function Ic(t,i){t instanceof Wr&&t.assertNotDestroyed();const c=fi(t),f=Zi(void 0);try{return i()}finally{fi(c),Zi(f)}}function gd(){return void 0!==Ds()||null!=function Un(){return Rn}()}function oa(t){if(!gd())throw new ri(-203,!1)}const Ao=0,oi=1,Yi=2,cr=3,rl=4,Ss=5,Ar=6,vd=7,Io=8,dr=9,dc=10,rs=11,Wd=12,qc=13,bd=14,ki=15,Ed=16,zd=17,Ra=18,yd=19,ed=20,Aa=21,Ru=22,Cl=23,Pi=25,ur=1,Wa=7,Cd=9,Ko=10;var Ml=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ml||{});function zr(t){return Array.isArray(t)&&"object"==typeof t[ur]}function Xr(t){return Array.isArray(t)&&!0===t[ur]}function Rh(t){return!!(4&t.flags)}function zl(t){return t.componentOffset>-1}function wu(t){return!(1&~t.flags)}function qo(t){return!!t.template}function Md(t){return!!(512&t[Yi])}class Ph{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function rf(t,i,o,c){null!==i?i.applyValueToInputSignal(i,c):t[o]=c}function af(){return Nu}function Nu(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bu),km}function km(){const t=$u(this),i=t?.current;if(i){const o=t.previous;if(o===Ps)t.previous=i;else for(let c in i)o[c]=i[c];t.current=null,this.ngOnChanges(i)}}function Bu(t,i,o,c,f){const C=this.declaredInputs[c],V=$u(t)||function Pm(t,i){return t[So]=i}(t,{previous:Ps,current:null}),oe=V.current||(V.current={}),be=V.previous,Je=be[C];oe[C]=new Ph(Je&&Je.currentValue,o,be===Ps),rf(t,i,f,o)}af.ngInherit=!0;const So="__ngSimpleChanges__";function $u(t){return t[So]||null}const al=function(t,i,o){},wc="svg";function Qs(t){for(;Array.isArray(t);)t=t[Ao];return t}function Jd(t,i){return Qs(i[t])}function Er(t,i){return Qs(i[t.index])}function ju(t,i){return t.data[i]}function kc(t,i){return t[i]}function za(t,i){const o=i[t];return zr(o)?o:o[Ao]}function Nh(t){return!(128&~t[Yi])}function Yo(t,i){return null==i?null:t[i]}function k_(t){t[zd]=0}function Bh(t){1024&t[Yi]||(t[Yi]|=1024,Nh(t)&&Uu(t))}function Id(t){return!!(9216&t[Yi]||t[Cl]?.dirty)}function $h(t){t[dc].changeDetectionScheduler?.notify(8),64&t[Yi]&&(t[Yi]|=1024),Id(t)&&Uu(t)}function Uu(t){t[dc].changeDetectionScheduler?.notify(0);let i=$e(t);for(;null!==i&&!(8192&i[Yi])&&(i[Yi]|=8192,Nh(i));)i=$e(i)}function Q(t,i){if(!(256&~t[Yi]))throw new ri(911,!1);null===t[Aa]&&(t[Aa]=[]),t[Aa].push(i)}function $e(t){const i=t[cr];return Xr(i)?i[cr]:i}const lt={lFrame:eu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let An=!1;function Us(){return lt.bindingsEnabled}function Vs(){return null!==lt.skipHydrationRootTNode}function jn(){return lt.lFrame.lView}function ks(){return lt.lFrame.tView}function Lm(t){return lt.lFrame.contextLView=t,t[Io]}function Fm(t){return lt.lFrame.contextLView=null,t}function to(){let t=cf();for(;null!==t&&64===t.type;)t=t.parent;return t}function cf(){return lt.lFrame.currentTNode}function Zd(){const t=lt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function ll(t,i){const o=lt.lFrame;o.currentTNode=t,o.isParent=i}function L_(){return lt.lFrame.isParent}function F_(){lt.lFrame.isParent=!1}function Bm(){return An}function qd(t){An=t}function Tl(){const t=lt.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function ka(){return lt.lFrame.bindingIndex}function Pa(){return lt.lFrame.bindingIndex++}function Lc(t){const i=lt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function $m(t){lt.lFrame.inI18n=t}function Yl(t,i){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=t,jh(i)}function jh(t){lt.lFrame.currentDirectiveIndex=t}function Cr(t){const i=lt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function Qv(){return lt.lFrame.currentQueryIndex}function cl(t){lt.lFrame.currentQueryIndex=t}function Ql(t){const i=t[oi];return 2===i.type?i.declTNode:1===i.type?t[Ss]:null}function N_(t,i,o){if(o&ei.SkipSelf){let f=i,C=t;for(;!(f=f.parent,null!==f||o&ei.Host||(f=Ql(C),null===f||(C=C[bd],10&f.type))););if(null===f)return!1;i=f,t=C}const c=lt.lFrame=ls();return c.currentTNode=i,c.lView=t,!0}function Uh(t){const i=ls(),o=t[oi];lt.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ls(){const t=lt.lFrame,i=null===t?null:t.child;return null===i?eu(t):i}function eu(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Vu(){const t=lt.lFrame;return lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const B_=Vu;function Xa(){const t=Vu();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ra(){return lt.lFrame.selectedIndex}function Vh(t){lt.lFrame.selectedIndex=t}function di(){const t=lt.lFrame;return ju(t.tView,t.selectedIndex)}function $_(){lt.lFrame.currentNamespace=wc}function jm(){!function Um(){lt.lFrame.currentNamespace=null}()}let Gm=!0;function Gh(){return Gm}function La(t){Gm=t}function Kh(t,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const C=t.data[o].type.prototype,{ngAfterContentInit:V,ngAfterContentChecked:oe,ngAfterViewInit:be,ngAfterViewChecked:Je,ngOnDestroy:ht}=C;V&&(t.contentHooks??=[]).push(-o,V),oe&&((t.contentHooks??=[]).push(o,oe),(t.contentCheckHooks??=[]).push(o,oe)),be&&(t.viewHooks??=[]).push(-o,be),Je&&((t.viewHooks??=[]).push(o,Je),(t.viewCheckHooks??=[]).push(o,Je)),null!=ht&&(t.destroyHooks??=[]).push(o,ht)}}function Ha(t,i,o){Km(t,i,3,o)}function Wh(t,i,o,c){(3&t[Yi])===o&&Km(t,i,o,c)}function j_(t,i){let o=t[Yi];(3&o)===i&&(o&=16383,o+=1,t[Yi]=o)}function Km(t,i,o,c){const C=c??-1,V=i.length-1;let oe=0;for(let be=void 0!==c?65535&t[zd]:0;be<V;be++)if("number"==typeof i[be+1]){if(oe=i[be],null!=c&&oe>=c)break}else i[be]<0&&(t[zd]+=65536),(oe<C||-1==C)&&(Cb(t,o,i,be),t[zd]=(4294901760&t[zd])+be+2),be++}function Wm(t,i){al(4,t,i);const o=b(null);try{i.call(t)}finally{b(o),al(5,t,i)}}function Cb(t,i,o,c){const f=o[c]<0,C=o[c+1],oe=t[f?-o[c]:o[c]];f?t[Yi]>>14<t[zd]>>16&&(3&t[Yi])===i&&(t[Yi]+=16384,Wm(oe,C)):Wm(oe,C)}const aa=-1;class nd{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}const hf={};class er{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,c){c=Is(c);const f=this.injector.get(i,hf,c);return f!==hf||o===hf?f:this.parentInjector.get(i,o,c)}}function Gu(t){return t!==aa}function V_(t){return 32767&t}function iu(t,i){let o=function _f(t){return t>>16}(t),c=i;for(;o>0;)c=c[bd],o--;return c}let Hm=!0;function G_(t){const i=Hm;return Hm=t,i}const Hh=255,zn=5;let K_=0;const dl={};function W_(t,i){const o=Vi(t,i);if(-1!==o)return o;const c=i[oi];c.firstCreatePass&&(t.injectorIndex=i.length,Dl(c.data,t),Dl(i,null),Dl(c.blueprint,null));const f=su(t,i),C=t.injectorIndex;if(Gu(f)){const V=V_(f),oe=iu(f,i),be=oe[oi].data;for(let Je=0;Je<8;Je++)i[C+Je]=oe[V+Je]|be[V+Je]}return i[C+8]=f,C}function Dl(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Vi(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function su(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,f=i;for(;null!==f;){if(c=Q_(f),null===c)return aa;if(o++,f=f[bd],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return aa}function z_(t,i,o){!function Ym(t,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(_t)&&(c=o[_t]),null==c&&(c=o[_t]=K_++);const f=c&Hh;i.data[t+(f>>zn)]|=1<<f}(t,i,o)}function Od(t,i,o){if(o&ei.Optional||void 0!==t)return t;li()}function pf(t,i,o,c){if(o&ei.Optional&&void 0===c&&(c=null),!(o&(ei.Self|ei.Host))){const f=t[dr],C=Zi(void 0);try{return f?f.get(i,c,o&ei.Optional):so(i,c,o&ei.Optional)}finally{Zi(C)}}return Od(c,0,o)}function Qm(t,i,o,c=ei.Default,f){if(null!==t){if(2048&i[Yi]&&!(c&ei.Self)){const V=function t0(t,i,o,c,f){let C=t,V=i;for(;null!==C&&null!==V&&2048&V[Yi]&&!(512&V[Yi]);){const oe=X_(C,V,o,c|ei.Self,dl);if(oe!==dl)return oe;let be=C.parent;if(!be){const Je=V[ed];if(Je){const ht=Je.get(o,dl,c);if(ht!==dl)return ht}be=Q_(V),V=V[bd]}C=be}return f}(t,i,o,c,dl);if(V!==dl)return V}const C=X_(t,i,o,c,dl);if(C!==dl)return C}return pf(i,o,c,f)}function X_(t,i,o,c,f){const C=function H_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(_t)?t[_t]:void 0;return"number"==typeof i?i>=0?i&Hh:mf:i}(o);if("function"==typeof C){if(!N_(i,t,c))return c&ei.Host?Od(f,0,c):pf(i,o,c,f);try{let V;if(V=C(c),null!=V||c&ei.Optional)return V;li()}finally{B_()}}else if("number"==typeof C){let V=null,oe=Vi(t,i),be=aa,Je=c&ei.Host?i[ki][Ss]:null;for((-1===oe||c&ei.SkipSelf)&&(be=-1===oe?su(t,i):i[oe+8],be!==aa&&ff(c,!1)?(V=i[oi],oe=V_(be),i=iu(be,i)):oe=-1);-1!==oe;){const ht=i[oi];if(Y_(C,oe,ht.data)){const zt=e0(oe,i,o,V,c,Je);if(zt!==dl)return zt}be=i[oe+8],be!==aa&&ff(c,i[oi].data[oe+8]===Je)&&Y_(C,oe,i)?(V=ht,oe=V_(be),i=iu(be,i)):oe=-1}}return f}function e0(t,i,o,c,f,C){const V=i[oi],oe=V.data[t+8],ht=ru(oe,V,o,null==c?zl(oe)&&Hm:c!=V&&!!(3&oe.type),f&ei.Host&&C===oe);return null!==ht?id(i,V,ht,oe):dl}function ru(t,i,o,c,f){const C=t.providerIndexes,V=i.data,oe=1048575&C,be=t.directiveStart,ht=C>>20,ln=f?oe+ht:t.directiveEnd;for(let gn=c?oe:oe+ht;gn<ln;gn++){const Dn=V[gn];if(gn<be&&o===Dn||gn>=be&&Dn.type===o)return gn}if(f){const gn=V[be];if(gn&&qo(gn)&&gn.type===o)return be}return null}function id(t,i,o,c){let f=t[o];const C=i.data;if(function Jv(t){return t instanceof nd}(f)){const V=f;V.resolving&&function Pn(t,i){throw i&&i.join(" > "),new ri(-200,t)}(function en(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Rt(t)}(C[o]));const oe=G_(V.canSeeViewProviders);V.resolving=!0;const Je=V.injectImpl?Zi(V.injectImpl):null;N_(t,c,ei.Default);try{f=t[o]=V.factory(void 0,C,t,c),i.firstCreatePass&&o>=c.directiveStart&&function nu(t,i,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:C}=i.type.prototype;if(c){const V=Nu(i);(o.preOrderHooks??=[]).push(t,V),(o.preOrderCheckHooks??=[]).push(t,V)}f&&(o.preOrderHooks??=[]).push(0-t,f),C&&((o.preOrderHooks??=[]).push(t,C),(o.preOrderCheckHooks??=[]).push(t,C))}(o,C[o],i)}finally{null!==Je&&Zi(Je),G_(oe),V.resolving=!1,B_()}}return f}function Y_(t,i,o){return!!(o[i+(t>>zn)]&1<<t)}function ff(t,i){return!(t&ei.Self||t&ei.Host&&i)}class kr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return Qm(this._tNode,this._lView,i,Is(c),o)}}function mf(){return new kr(to(),jn())}function ul(t){return Ir(()=>{const i=t.prototype.constructor,o=i[mt]||la(i),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const C=f[mt]||la(f);if(C&&C!==o)return C;f=Object.getPrototypeOf(f)}return C=>new C})}function la(t){return ha(t)?()=>{const i=la(Ui(t));return i&&i()}:ac(t)}function Q_(t){const i=t[oi],o=i.type;return 2===o?i.declTNode:1===o?t[Ss]:null}function Yh(t){return function ou(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const C=o[f];if(Su(C))break;if(0===C)f+=2;else if("number"==typeof C)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(C===i)return o[f+1];f+=2}}}return null}(to(),t)}function q_(t,i=null,o=null,c){const f=od(t,i,o,c);return f.resolveInjectorInitializers(),f}function od(t,i=null,o=null,c,f=new Set){const C=[o||Bs,Jp(t)];return c=c||("object"==typeof t?void 0:po(t)),new Wr(C,i||xa(),c||null,f)}class Ea{static#e=this.THROW_IF_NOT_FOUND=vl;static#t=this.NULL=new pd;static create(i,o){if(Array.isArray(i))return q_({name:""},o,i,"");{const c=i.name??"";return q_({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=js({token:Ea,providedIn:"any",factory:()=>Xi(br)});static#i=this.__NG_ELEMENT_ID__=-1}new Hi("").__NG_ELEMENT_ID__=t=>{const i=to();if(null===i)throw new ri(204,!1);if(2&i.type)return i.value;if(t&ei.Optional)return null;throw new ri(204,!1)};function ep(t){return t.ngOriginalError}const ig=!0;let Qh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=o0;static#t=this.__NG_ENV_ID__=o=>o}return t})();class s0 extends Qh{constructor(i){super(),this._lView=i}onDestroy(i){return Q(this._lView,i),()=>function ee(t,i){if(null===t[Aa])return;const o=t[Aa].indexOf(i);-1!==o&&t[Aa].splice(o,1)}(this._lView,i)}}function o0(){return new s0(jn())}let lu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:()=>new t})}return t})();const Fc=class r0 extends Xe.B7{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,gd()&&(this.destroyRef=Jn(Qh,{optional:!0})??void 0,this.pendingTasks=Jn(lu,{optional:!0})??void 0)}emit(i){const o=b(null);try{super.next(i)}finally{b(o)}}subscribe(i,o,c){let f=i,C=o||(()=>null),V=c;if(i&&"object"==typeof i){const be=i;f=be.next?.bind(be),C=be.error?.bind(be),V=be.complete?.bind(be)}this.__isAsync&&(C=this.wrapInTimeout(C),f&&(f=this.wrapInTimeout(f)),V&&(V=this.wrapInTimeout(V)));const oe=super.subscribe({next:f,error:C,complete:V});return i instanceof xt.y&&i.add(oe),oe}wrapInTimeout(i){return o=>{const c=this.pendingTasks?.add();setTimeout(()=>{i(o),void 0!==c&&this.pendingTasks?.remove(c)})}}};function tp(...t){}function Sb(t){let i,o;function c(){t=tp;try{void 0!==o&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(o),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{t(),c()}),"function"==typeof requestAnimationFrame&&(o=requestAnimationFrame(()=>{t(),c()})),()=>c()}function sg(t){return queueMicrotask(()=>t()),()=>{t=tp}}const Cf="isAngularZone",np=Cf+"_ID";let og=0;class wo{constructor(i){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fc(!1),this.onMicrotaskEmpty=new Fc(!1),this.onStable=new Fc(!1),this.onError=new Fc(!1);const{enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1,scheduleInRootZone:C=ig}=i;if(typeof Zone>"u")throw new ri(908,!1);Zone.assertZonePatched();const V=this;V._nesting=0,V._outer=V._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(V._inner=V._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(V._inner=V._inner.fork(Zone.longStackTraceZoneSpec)),V.shouldCoalesceEventChangeDetection=!f&&c,V.shouldCoalesceRunChangeDetection=f,V.callbackScheduled=!1,V.scheduleInRootZone=C,function rg(t){const i=()=>{!function hc(t){function i(){Sb(()=>{t.callbackScheduled=!1,zu(t),t.isCheckStableRunning=!0,cu(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{i()}):t._outer.run(()=>{i()}),zu(t))}(t)},o=og++;t._inner=t._inner.fork({name:"angular",properties:{[Cf]:!0,[np]:o,[np+o]:!0},onInvokeTask:(c,f,C,V,oe,be)=>{if(function l0(t){return ag(t,"__ignore_ng_zone__")}(be))return c.invokeTask(C,V,oe,be);try{return Mf(t),c.invokeTask(C,V,oe,be)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===V.type||t.shouldCoalesceRunChangeDetection)&&i(),Tf(t)}},onInvoke:(c,f,C,V,oe,be,Je)=>{try{return Mf(t),c.invoke(C,V,oe,be,Je)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function c0(t){return ag(t,"__scheduler_tick__")}(be)&&i(),Tf(t)}},onHasTask:(c,f,C,V)=>{c.hasTask(C,V),f===C&&("microTask"==V.change?(t._hasPendingMicrotasks=V.microTask,zu(t),cu(t)):"macroTask"==V.change&&(t.hasPendingMacrotasks=V.macroTask))},onHandleError:(c,f,C,V)=>(c.handleError(C,V),t.runOutsideAngular(()=>t.onError.emit(V)),!1)})}(V)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Cf)}static assertInAngularZone(){if(!wo.isInAngularZone())throw new ri(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new ri(909,!1)}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,f){const C=this._inner,V=C.scheduleEventTask("NgZoneEvent: "+f,i,Rd,tp,tp);try{return C.runTask(V,o,c)}finally{C.cancelTask(V)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const Rd={};function cu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Mf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tf(t){t._nesting--,cu(t)}class Xu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fc,this.onMicrotaskEmpty=new Fc,this.onStable=new Fc,this.onError=new Fc}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,f){return i.apply(o,c)}}function ag(t,i){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[i]}class rd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&ep(i);for(;o&&ep(o);)o=ep(o);return o||null}}const lg=new Hi("",{providedIn:"root",factory:()=>{const t=Jn(wo),i=Jn(rd);return o=>t.runOutsideAngular(()=>i.handleError(o))}});function ug(){return Hu(to(),jn())}function Hu(t,i){return new Jh(Er(t,i))}let Jh=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=ug}return t})();function ip(t){return t instanceof Jh?t.nativeElement:t}function BC(){return this._results[Symbol.iterator]()}class Zh{static#e=Symbol.iterator;get changes(){return this._changes??=new Fc}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Zh.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=BC)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){this.dirty=!1;const c=function bi(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function $l(t,i,o){if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],C=i[c];if(o&&(f=o(f),C=o(C)),C!==f)return!1}return!0}(this._results,c,o))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function e_(t){return!(128&~t.flags)}const Sf=new Map;let p0=0;function Of(t){Sf.delete(t[yd])}const t_="__ngContext__";function ya(t,i){zr(i)?(t[t_]=i[yd],function f0(t){Sf.set(t[yd],t)}(i)):t[t_]=i}function y0(t){return Rf(t[Wd])}function Eg(t){return Rf(t[rl])}function Rf(t){for(;null!==t&&!Xr(t);)t=t[rl];return t}let lp;function T0(t){lp=t}function Sl(){if(void 0!==lp)return lp;if(typeof document<"u")return document;throw new ri(210,!1)}const cp=new Hi("",{providedIn:"root",factory:()=>Mg}),Mg="ng",Pf=new Hi(""),i_=new Hi("",{providedIn:"platform",factory:()=>"unknown"}),Tg=new Hi(""),Dg=new Hi("",{providedIn:"root",factory:()=>Sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zu=()=>null;function r_(t,i,o=!1){return Zu(t,i,o)}const wg=new Hi("",{providedIn:"root",factory:()=>!1});let xl,Z;function _u(t){return function l_(){if(void 0===xl&&(xl=null,bo.trustedTypes))try{xl=bo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xl}()?.createHTML(t)||t}function R(){if(void 0===Z&&(Z=null,bo.trustedTypes))try{Z=bo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Z}function D(t){return R()?.createHTML(t)||t}function ue(t){return R()?.createScriptURL(t)||t}class je{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Co})`}}class ot extends je{getTypeName(){return"HTML"}}class wt extends je{getTypeName(){return"Style"}}class cn extends je{getTypeName(){return"Script"}}class Sn extends je{getTypeName(){return"URL"}}class Hn extends je{getTypeName(){return"ResourceURL"}}function _i(t){return t instanceof je?t.changingThisBreaksApplicationSecurity:t}function Ti(t,i){const o=function ns(t){return t instanceof je&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Co})`)}return o===i}function ds(t){return new ot(t)}function Ls(t){return new wt(t)}function co(t){return new cn(t)}function qi(t){return new Sn(t)}function Wo(t){return new Hn(t)}function Gf(t){const i=new bp(t);return function GC(){try{return!!(new window.DOMParser).parseFromString(_u(""),"text/html")}catch{return!1}}()?new vp(i):i}class vp{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(_u(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.firstChild?.remove(),o)}catch{return null}}}class bp{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=_u(i),o}}const KC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sh(t){return(t=String(t)).match(KC)?t:"unsafe:"+t}function pu(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function Ep(...t){const i={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(i[c]=!0);return i}const k0=pu("area,br,col,hr,img,wbr"),Pb=pu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pg=pu("rp,rt"),hr=Ep(k0,Ep(Pb,pu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ep(Pg,pu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ep(Pg,Pb)),P0=pu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fb=Ep(P0,pu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nb=pu("script,style,template");class Ya{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,c=!0,f=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)f.push(o),o=zC(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let C=Wf(o);if(C){o=C;break}o=f.pop()}return this.buf.join("")}startElement(i){const o=Bb(i).toLowerCase();if(!hr.hasOwnProperty(o))return this.sanitizedSomething=!0,!Nb.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=i.attributes;for(let f=0;f<c.length;f++){const C=c.item(f),V=C.name,oe=V.toLowerCase();if(!Fb.hasOwnProperty(oe)){this.sanitizedSomething=!0;continue}let be=C.value;P0[oe]&&(be=sh(be)),this.buf.push(" ",V,'="',jb(be),'"')}return this.buf.push(">"),!0}endElement(i){const o=Bb(i).toLowerCase();hr.hasOwnProperty(o)&&!k0.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(jb(i))}}function Wf(t){const i=t.nextSibling;if(i&&t!==i.previousSibling)throw $b(i);return i}function zC(t){const i=t.firstChild;if(i&&function Pd(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,i))throw $b(i);return i}function Bb(t){const i=t.nodeName;return"string"==typeof i?i:"FORM"}function $b(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const XC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HC=/([^\#-~ |!])/g;function jb(t){return t.replace(/&/g,"&amp;").replace(XC,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(HC,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lg;function Ub(t,i){let o=null;try{Lg=Lg||Gf(t);let c=i?String(i):"";o=Lg.getInertBodyElement(c);let f=5,C=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=C,C=o.innerHTML,o=Lg.getInertBodyElement(c)}while(c!==C);return _u((new Ya).sanitizeChildren(L0(o)||o))}finally{if(o){const c=L0(o)||o;for(;c.firstChild;)c.firstChild.remove()}}}function L0(t){return"content"in t&&function YC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var c_=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(c_||{});function zf(t){const i=Hf();return i?D(i.sanitize(c_.HTML,t)||""):Ti(t,"HTML")?D(_i(t)):Ub(Sl(),Rt(t))}function F0(t){const i=Hf();return i?i.sanitize(c_.URL,t)||"":Ti(t,"URL")?_i(t):sh(Rt(t))}function Vb(t){const i=Hf();if(i)return ue(i.sanitize(c_.RESOURCE_URL,t)||"");if(Ti(t,"ResourceURL"))return ue(_i(t));throw new ri(904,!1)}function Xf(t,i,o){return function B0(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Vb:F0}(i,o)(t)}function Hf(){const t=jn();return t&&t[dc].sanitizer}const eM=/^>|^->|<!--|-->|--!>|<!-$/g,Fg=/(<|>)/g,tM="\u200b$1\u200b";function Qb(t){return t.ownerDocument.defaultView}function Jl(t){return t instanceof Function?t():t}function pc(t){return"browser"===(t??Jn(Ea)).get(i_)}var Bg=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bg||{});let j0;function U0(t,i){return j0(t,i)}function Zl(t,i,o,c,f){if(null!=c){let C,V=!1;Xr(c)?C=c:zr(c)&&(V=!0,c=c[Ao]);const oe=Qs(c);0===t&&null!==o?null==f?lE(i,o,oe):d_(i,o,oe,f||null,!0):1===t&&null!==o?d_(i,o,oe,f||null,!0):2===t?Zf(i,oe,V):3===t&&i.destroyNode(oe),null!=C&&function bM(t,i,o,c,f){const C=o[Wa];C!==Qs(o)&&Zl(i,t,c,C,f);for(let oe=Ko;oe<o.length;oe++){const be=o[oe];Gg(be[oi],be,t,i,c,C)}}(i,t,C,o,f)}}function V0(t,i){return t.createText(i)}function tE(t,i,o){t.setValue(i,o)}function $g(t,i){return t.createComment(function Gb(t){return t.replace(eM,i=>i.replace(Fg,tM))}(i))}function jg(t,i,o){return t.createElement(i,o)}function nE(t,i){i[dc].changeDetectionScheduler?.notify(9),Gg(t,i,i[rs],2,null,null)}function sE(t,i){const o=t[Cd],c=i[cr];(zr(c)||i[ki]!==c[cr][ki])&&(t[Yi]|=Ml.HasTransplantedViews),null===o?t[Cd]=[i]:o.push(i)}function G0(t,i){const o=t[Cd],c=o.indexOf(i);o.splice(c,1)}function Cp(t,i){if(t.length<=Ko)return;const o=Ko+i,c=t[o];if(c){const f=c[Ed];null!==f&&f!==t&&G0(f,c),i>0&&(t[o-1][rl]=c[rl]);const C=il(t,Ko+i);!function pM(t,i){nE(t,i),i[Ao]=null,i[Ss]=null}(c[oi],c);const V=C[Ra];null!==V&&V.detachView(C[oi]),c[cr]=null,c[rl]=null,c[Yi]&=-129}return c}function K0(t,i){if(!(256&i[Yi])){const o=i[rs];o.destroyNode&&Gg(t,i,o,3,null,null),function mM(t){let i=t[Wd];if(!i)return oE(t[oi],t);for(;i;){let o=null;if(zr(i))o=i[Wd];else{const c=i[Ko];c&&(o=c)}if(!o){for(;i&&!i[rl]&&i!==t;)zr(i)&&oE(i[oi],i),i=i[cr];null===i&&(i=t),zr(i)&&oE(i[oi],i),o=i&&i[rl]}i=o}}(i)}}function oE(t,i){if(256&i[Yi])return;const o=b(null);try{i[Yi]&=-129,i[Yi]|=256,i[Cl]&&w(i[Cl]),function iI(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const f=i[o[c]];if(!(f instanceof nd)){const C=o[c+1];if(Array.isArray(C))for(let V=0;V<C.length;V+=2){const oe=f[C[V]],be=C[V+1];al(4,oe,be);try{be.call(oe)}finally{al(5,oe,be)}}else{al(4,f,C);try{C.call(f)}finally{al(5,f,C)}}}}}(t,i),function nI(t,i){const o=t.cleanup,c=i[vd];if(null!==o)for(let C=0;C<o.length-1;C+=2)if("string"==typeof o[C]){const V=o[C+3];V>=0?c[V]():c[-V].unsubscribe(),C+=2}else o[C].call(c[o[C+1]]);null!==c&&(i[vd]=null);const f=i[Aa];if(null!==f){i[Aa]=null;for(let C=0;C<f.length;C++)(0,f[C])()}}(t,i),1===i[oi].type&&i[rs].destroy();const c=i[Ed];if(null!==c&&Xr(i[cr])){c!==i[cr]&&G0(c,i);const f=i[Ra];null!==f&&f.detachView(t)}Of(i)}finally{b(o)}}function rE(t,i,o){return aE(t,i.parent,o)}function aE(t,i,o){let c=i;for(;null!==c&&168&c.type;)c=(i=c).parent;if(null===c)return o[Ao];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:C}=t.data[c.directiveStart+f];if(C===fd.None||C===fd.Emulated)return null}return Er(c,o)}}function d_(t,i,o,c,f){t.insertBefore(i,o,c,f)}function lE(t,i,o){t.appendChild(i,o)}function cE(t,i,o,c,f){null!==c?d_(t,i,o,c,f):lE(t,i,o)}function W0(t,i){return t.parentNode(i)}function uE(t,i,o){return gM(t,i,o)}function Ug(t,i,o){return 40&t.type?Er(t,o):null}let Vg,gM=Ug;function hE(t,i){gM=t,Vg=i}function ko(t,i,o,c){const f=rE(t,c,i),C=i[rs],oe=uE(c.parent||i[Ss],c,i);if(null!=f)if(Array.isArray(o))for(let be=0;be<o.length;be++)cE(C,f,o[be],oe,!1);else cE(C,f,o,oe,!1);void 0!==Vg&&Vg(C,c,i,o,f)}function fu(t,i){if(null!==i){const o=i.type;if(3&o)return Er(i,t);if(4&o)return Jf(-1,t[i.index]);if(8&o){const c=i.child;if(null!==c)return fu(t,c);{const f=t[i.index];return Xr(f)?Jf(-1,f):Qs(f)}}if(128&o)return fu(t,i.next);if(32&o)return U0(i,t)()||Qs(t[i.index]);{const c=_E(t,i);return null!==c?Array.isArray(c)?c[0]:fu($e(t[ki]),c):fu(t,i.next)}}return null}function _E(t,i){return null!==i?t[ki][Ss].projection[i.projection]:null}function Jf(t,i){const o=Ko+t+1;if(o<i.length){const c=i[o],f=c[oi].firstChild;if(null!==f)return fu(c,f)}return i[Wa]}function Zf(t,i,o){t.removeChild(null,i,o)}function z0(t,i,o,c,f,C,V){for(;null!=o;){if(128===o.type){o=o.next;continue}const oe=c[o.index],be=o.type;if(V&&0===i&&(oe&&ya(Qs(oe),c),o.flags|=2),32&~o.flags)if(8&be)z0(t,i,o.child,c,f,C,!1),Zl(i,t,f,oe,C);else if(32&be){const Je=U0(o,c);let ht;for(;ht=Je();)Zl(i,t,f,ht,C);Zl(i,t,f,oe,C)}else 16&be?fE(t,i,c,o,f,C):Zl(i,t,f,oe,C);o=V?o.projectionNext:o.next}}function Gg(t,i,o,c,f,C){z0(o,c,t.firstChild,i,f,C,!1)}function fE(t,i,o,c,f,C){const V=o[ki],be=V[Ss].projection[c.projection];if(Array.isArray(be))for(let Je=0;Je<be.length;Je++)Zl(i,t,f,be[Je],C);else{let Je=be;const ht=V[cr];e_(c)&&(Je.flags|=128),z0(t,i,Je,ht,f,C,!0)}}function gE(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function vE(t,i,o){const{mergedAttrs:c,classes:f,styles:C}=o;null!==c&&jl(t,i,c),null!==f&&gE(t,i,f),null!==C&&function Kg(t,i,o){t.setAttribute(i,"style",o)}(t,i,C)}const Es={};function bE(t=1){EE(ks(),jn(),ra()+t,!1)}function EE(t,i,o,c){if(!c)if(3&~i[Yi]){const C=t.preOrderHooks;null!==C&&Wh(i,C,0,o)}else{const C=t.preOrderCheckHooks;null!==C&&Ha(i,C,o)}Vh(o)}function u_(t,i=ei.Default){const o=jn();return null===o?Xi(t,i):Qm(to(),o,Ui(t),i)}function Wg(){throw new Error("invalid")}function Mp(t,i,o,c,f,C){const V=b(null);try{let oe=null;f&Gr.SignalBased&&(oe=i[c][g]),null!==oe&&void 0!==oe.transformFn&&(C=oe.transformFn(C)),f&Gr.HasDecoratorInputTransform&&(C=t.inputTransforms[c].call(i,C)),null!==t.setInput?t.setInput(i,oe,C,o,c):rf(i,oe,c,C)}finally{b(V)}}function zg(t,i,o,c,f,C,V,oe,be,Je,ht){const zt=i.blueprint.slice();return zt[Ao]=f,zt[Yi]=204|c,(null!==Je||t&&2048&t[Yi])&&(zt[Yi]|=2048),k_(zt),zt[cr]=zt[bd]=t,zt[Io]=o,zt[dc]=V||t&&t[dc],zt[rs]=oe||t&&t[rs],zt[dr]=be||t&&t[dr]||null,zt[Ss]=C,zt[yd]=function pg(){return p0++}(),zt[Ar]=ht,zt[ed]=Je,zt[ki]=2==i.type?t[ki]:zt,zt}function dd(t,i,o,c,f){let C=t.data[i];if(null===C)C=h_(t,i,o,c,f),function Sd(){return lt.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=o,C.value=c,C.attrs=f;const V=Zd();C.injectorIndex=null===V?-1:V.injectorIndex}return ll(C,!0),C}function h_(t,i,o,c,f){const C=cf(),V=L_(),be=t.data[i]=function yM(t,i,o,c,f,C){let V=i?i.injectorIndex:-1,oe=0;return Vs()&&(oe|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:V,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:oe,providerIndexes:0,value:f,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,V?C:C&&C.parent,o,i,c,f);return null===t.firstChild&&(t.firstChild=be),null!==C&&(V?null==C.child&&null!==be.parent&&(C.child=be):null===C.next&&(C.next=be,be.prev=C)),be}function qf(t,i,o,c){if(0===o)return-1;const f=i.length;for(let C=0;C<o;C++)i.push(c),t.blueprint.push(c),t.data.push(null);return f}function yE(t,i,o,c,f){const C=ra(),V=2&c;try{Vh(-1),V&&i.length>Pi&&EE(t,i,Pi,!1),al(V?2:0,f),o(c,f)}finally{Vh(C),al(V?3:1,f)}}function Tp(t,i,o){if(Rh(i)){const c=b(null);try{const C=i.directiveEnd;for(let V=i.directiveStart;V<C;V++){const oe=t.data[V];oe.contentQueries&&oe.contentQueries(1,o[V],V)}}finally{b(c)}}}function Xg(t,i,o){Us()&&(function MM(t,i,o,c){const f=o.directiveStart,C=o.directiveEnd;zl(o)&&function OM(t,i,o){const c=Er(i,t),f=CE(o);let V=16;o.signals?V=4096:o.onPush&&(V=64);const oe=Jg(t,zg(t,f,null,V,c,i,null,t[dc].rendererFactory.createRenderer(c,o),null,null,null));t[i.index]=oe}(i,o,t.data[f+o.componentOffset]),t.firstCreatePass||W_(o,i),ya(c,i);const V=o.initialInputs;for(let oe=f;oe<C;oe++){const be=t.data[oe],Je=id(i,t,oe,o);ya(Je,i),null!==V&&xM(0,oe-f,Je,be,0,V),qo(be)&&(za(o.index,i)[Io]=id(i,t,oe,o))}}(t,i,o,Er(o,i)),!(64&~o.flags)&&__(t,i,o))}function X0(t,i,o=Er){const c=i.localNames;if(null!==c){let f=i.index+1;for(let C=0;C<c.length;C+=2){const V=c[C+1],oe=-1===V?o(i,t):t[V];t[f++]=oe}}}function CE(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=H0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function H0(t,i,o,c,f,C,V,oe,be,Je,ht){const zt=Pi+c,ln=zt+f,gn=function ME(t,i){const o=[];for(let c=0;c<i;c++)o.push(c<t?null:Es);return o}(zt,ln),Dn="function"==typeof Je?Je():Je;return gn[oi]={type:t,blueprint:gn,template:o,queries:null,viewQuery:oe,declTNode:i,data:gn.slice().fill(null,zt),bindingStartIndex:zt,expandoStartIndex:ln,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof V?V():V,firstChild:null,schemas:be,consts:Dn,incompleteFirstPass:!1,ssrId:ht}}let Dp=()=>null;function Yg(t,i,o,c,f){for(let C in i){if(!i.hasOwnProperty(C))continue;const V=i[C];if(void 0===V)continue;c??={};let oe,be=Gr.None;Array.isArray(V)?(oe=V[0],be=V[1]):oe=V;let Je=C;if(null!==f){if(!f.hasOwnProperty(C))continue;Je=f[C]}0===t?em(c,o,Je,oe,be):em(c,o,Je,oe)}return c}function em(t,i,o,c,f){let C;t.hasOwnProperty(o)?(C=t[o]).push(i,c):C=t[o]=[i,c],void 0!==f&&C.push(f)}function Rl(t,i,o,c,f,C,V,oe){const be=Er(i,o);let ht,Je=i.inputs;!oe&&null!=Je&&(ht=Je[c])?(o1(t,o,ht,c,f),zl(i)&&function Q0(t,i){const o=za(i,t);16&o[Yi]||(o[Yi]|=64)}(o,i.index)):3&i.type&&(c=function IE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=V?V(f,i.value||"",c):f,C.setProperty(be,c,f))}function J0(t,i,o,c){if(Us()){const f=null===c?null:{"":-1},C=function TM(t,i){const o=t.directiveRegistry;let c=null,f=null;if(o)for(let C=0;C<o.length;C++){const V=o[C];if(Ou(i,V.selectors,!1))if(c||(c=[]),qo(V))if(null!==V.findHostDirectiveDefs){const oe=[];f=f||new Map,V.findHostDirectiveDefs(V,oe,f),c.unshift(...oe,V),q0(t,i,oe.length)}else c.unshift(V),q0(t,i,0);else f=f||new Map,V.findHostDirectiveDefs?.(V,c,f),c.push(V)}return null===c?null:[c,f]}(t,o);let V,oe;null===C?V=oe=null:[V,oe]=C,null!==V&&Sp(t,i,o,V,f,oe),f&&function DM(t,i,o){if(i){const c=t.localNames=[];for(let f=0;f<i.length;f+=2){const C=o[i[f+1]];if(null==C)throw new ri(-301,!1);c.push(i[f],C)}}}(o,c,f)}o.mergedAttrs=ga(o.mergedAttrs,o.attrs)}function Sp(t,i,o,c,f,C){for(let Je=0;Je<c.length;Je++)z_(W_(o,i),t,c[Je].type);!function Qg(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,c.length);for(let Je=0;Je<c.length;Je++){const ht=c[Je];ht.providersResolver&&ht.providersResolver(ht)}let V=!1,oe=!1,be=qf(t,i,c.length,null);for(let Je=0;Je<c.length;Je++){const ht=c[Je];o.mergedAttrs=ga(o.mergedAttrs,ht.hostAttrs),SM(t,o,i,be,ht),IM(be,ht,f),null!==ht.contentQueries&&(o.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(o.flags|=64);const zt=ht.type.prototype;!V&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),V=!0),!oe&&(zt.ngOnChanges||zt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),oe=!0),be++}!function DE(t,i,o){const f=i.directiveEnd,C=t.data,V=i.attrs,oe=[];let be=null,Je=null;for(let ht=i.directiveStart;ht<f;ht++){const zt=C[ht],ln=o?o.get(zt):null,Dn=ln?ln.outputs:null;be=Yg(0,zt.inputs,ht,be,ln?ln.inputs:null),Je=Yg(1,zt.outputs,ht,Je,Dn);const Vn=null===be||null===V||Kr(i)?null:e1(be,ht,V);oe.push(Vn)}null!==be&&(be.hasOwnProperty("class")&&(i.flags|=8),be.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=oe,i.inputs=be,i.outputs=Je}(t,o,C)}function __(t,i,o){const c=o.directiveStart,f=o.directiveEnd,C=o.index,V=function ba(){return lt.lFrame.currentDirectiveIndex}();try{Vh(C);for(let oe=c;oe<f;oe++){const be=t.data[oe],Je=i[oe];jh(oe),(null!==be.hostBindings||0!==be.hostVars||null!==be.hostAttrs)&&OE(be,Je)}}finally{Vh(-1),jh(V)}}function OE(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function q0(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function IM(t,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=t;qo(i)&&(o[""]=t)}}function SM(t,i,o,c,f){t.data[c]=f;const C=f.factory||(f.factory=ac(f.type)),V=new nd(C,qo(f),u_);t.blueprint[c]=V,o[c]=V,function Z0(t,i,o,c,f){const C=f.hostBindings;if(C){let V=t.hostBindingOpCodes;null===V&&(V=t.hostBindingOpCodes=[]);const oe=~i.index;(function CM(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(V)!=oe&&V.push(oe),V.push(o,c,C)}}(t,i,c,qf(t,o,f.hostVars,Es),f)}function oh(t,i,o,c,f,C,V){if(null==C)t.removeAttribute(i,f,o);else{const oe=null==V?Rt(C):V(C,c||"",f);t.setAttribute(i,f,oe,o)}}function xM(t,i,o,c,f,C){const V=C[i];if(null!==V)for(let oe=0;oe<V.length;)Mp(c,o,V[oe++],V[oe++],V[oe++],V[oe++])}function e1(t,i,o){let c=null,f=0;for(;f<o.length;){const C=o[f];if(0!==C)if(5!==C){if("number"==typeof C)break;if(t.hasOwnProperty(C)){null===c&&(c=[]);const V=t[C];for(let oe=0;oe<V.length;oe+=3)if(V[oe]===i){c.push(C,V[oe+1],V[oe+2],o[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function t1(t,i,o,c){return[t,!0,0,i,null,c,null,o,null,null]}function n1(t,i){const o=t.contentQueries;if(null!==o){const c=b(null);try{for(let f=0;f<o.length;f+=2){const V=o[f+1];if(-1!==V){const oe=t.data[V];cl(o[f]),oe.contentQueries(2,i[V],V)}}}finally{b(c)}}}function Jg(t,i){return t[Wd]?t[qc][rl]=i:t[Wd]=i,t[qc]=i,i}function s1(t,i,o){cl(0);const c=b(null);try{i(t,o)}finally{b(c)}}function p_(t){return t[vd]??=[]}function f_(t){return t.cleanup??=[]}function xE(t,i,o){return(null===t||qo(t))&&(o=function Qd(t){for(;Array.isArray(t);){if("object"==typeof t[ur])return t;t=t[Ao]}return null}(o[i.index])),o[rs]}function Zg(t,i){const o=t[dr],c=o?o.get(rd,null):null;c&&c.handleError(i)}function o1(t,i,o,c,f){for(let C=0;C<o.length;){const V=o[C++],oe=o[C++],be=o[C++];Mp(t.data[V],i[V],c,oe,be,f)}}function mu(t,i,o){const c=Jd(i,t);tE(t[rs],c,o)}function RM(t,i){const o=za(i,t),c=o[oi];!function AM(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(c,o);const f=o[Ao];null!==f&&null===o[Ar]&&(o[Ar]=r_(f,o[dr])),No(c,o,o[Io])}function No(t,i,o){Uh(i);try{const c=t.viewQuery;null!==c&&s1(1,c,o);const f=t.template;null!==f&&yE(t,i,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),i[Ra]?.finishViewCreation(t),t.staticContentQueries&&n1(t,i),t.staticViewQueries&&s1(2,t.viewQuery,o);const C=t.components;null!==C&&function wM(t,i){for(let o=0;o<i.length;o++)RM(t,i[o])}(i,C)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{i[Yi]&=-5,Xa()}}function ud(t,i,o,c){const f=b(null);try{const C=i.tView,be=zg(t,C,o,4096&t[Yi]?4096:16,null,i,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);be[Ed]=t[i.index];const ht=t[Ra];return null!==ht&&(be[Ra]=ht.createEmbeddedView(C)),No(C,be,o),be}finally{b(f)}}function RE(t,i){const o=Ko+i;if(o<t.length)return t[o]}function ql(t,i){return!i||null===i.firstChild||e_(t)}function ca(t,i,o,c=!0){const f=i[oi];if(function iE(t,i,o,c){const f=Ko+c,C=o.length;c>0&&(o[f-1][rl]=i),c<C-Ko?(i[rl]=o[f],vr(o,Ko+c,i)):(o.push(i),i[rl]=null),i[cr]=o;const V=i[Ed];null!==V&&o!==V&&sE(V,i);const oe=i[Ra];null!==oe&&oe.insertView(t),$h(i),i[Yi]|=128}(f,i,t,o),c){const V=Jf(o,t),oe=i[rs],be=W0(oe,t[Wa]);null!==be&&function fM(t,i,o,c,f,C){c[Ao]=f,c[Ss]=i,Gg(t,c,o,1,f,C)}(f,t[Ss],oe,i,be,V)}const C=i[Ar];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function rh(t,i){const o=Cp(t,i);return void 0!==o&&K0(o[oi],o),o}function xp(t,i,o,c,f=!1){for(;null!==o;){if(128===o.type){o=f?o.projectionNext:o.next;continue}const C=i[o.index];null!==C&&c.push(Qs(C)),Xr(C)&&Rp(C,c);const V=o.type;if(8&V)xp(t,i,o.child,c);else if(32&V){const oe=U0(o,i);let be;for(;be=oe();)c.push(be)}else if(16&V){const oe=_E(i,o);if(Array.isArray(oe))c.push(...oe);else{const be=$e(i[ki]);xp(be[oi],be,oe,c,!0)}}o=f?o.projectionNext:o.next}return c}function Rp(t,i){for(let o=Ko;o<t.length;o++){const c=t[o],f=c[oi].firstChild;null!==f&&xp(c[oi],c,f,i)}t[Wa]!==t[Ao]&&i.push(t[Wa])}let r1=[];const wE={...I,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Uu(t.lView)},consumerOnSignalRead(){this.lView[Cl]=this}},PE={...I,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let i=$e(t.lView);for(;i&&!ec(i[oi]);)i=$e(i);i&&Bh(i)},consumerOnSignalRead(){this.lView[Cl]=this}};function ec(t){return 2!==t.type}const kM=100;function Ap(t,i=!0,o=0){const c=t[dc],f=c.rendererFactory;f.begin?.();try{!function LE(t,i){const o=Bm();try{qd(!0),tv(t,i);let c=0;for(;Id(t);){if(c===kM)throw new ri(103,!1);c++,tv(t,1)}}finally{qd(o)}}(t,o)}catch(V){throw i&&Zg(t,V),V}finally{f.end?.(),c.inlineEffectRunner?.flush()}}function PM(t,i,o,c){const f=i[Yi];if(!(256&~f))return;i[dc].inlineEffectRunner?.flush(),Uh(i);let oe=!0,be=null,Je=null;ec(t)?(Je=function a1(t){return t[Cl]??function qg(t){const i=r1.pop()??Object.create(wE);return i.lView=t,i}(t)}(i),be=P(Je)):null===function E(){return n}()?(oe=!1,Je=function kE(t){const i=t[Cl]??Object.create(PE);return i.lView=t,i}(i),be=P(Je)):i[Cl]&&(w(i[Cl]),i[Cl]=null);try{k_(i),function uc(t){return lt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&yE(t,i,o,2,c);const ht=!(3&~f);if(ht){const gn=t.preOrderCheckHooks;null!==gn&&Ha(i,gn,null)}else{const gn=t.preOrderHooks;null!==gn&&Wh(i,gn,0,null),j_(i,0)}if(function FE(t){for(let i=y0(t);null!==i;i=Eg(i)){if(!(i[Yi]&Ml.HasTransplantedViews))continue;const o=i[Cd];for(let c=0;c<o.length;c++)Bh(o[c])}}(i),l1(i,0),null!==t.contentQueries&&n1(t,i),ht){const gn=t.contentCheckHooks;null!==gn&&Ha(i,gn)}else{const gn=t.contentHooks;null!==gn&&Wh(i,gn,1),j_(i,1)}!function Fa(t,i){const o=t.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const f=o[c];if(f<0)Vh(~f);else{const C=f,V=o[++c],oe=o[++c];Yl(V,C),oe(2,i[C])}}}finally{Vh(-1)}}(t,i);const zt=t.components;null!==zt&&BE(i,zt,0);const ln=t.viewQuery;if(null!==ln&&s1(2,ln,c),ht){const gn=t.viewCheckHooks;null!==gn&&Ha(i,gn)}else{const gn=t.viewHooks;null!==gn&&Wh(i,gn,2),j_(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Ru]){for(const gn of i[Ru])gn();i[Ru]=null}i[Yi]&=-73}catch(ht){throw Uu(i),ht}finally{null!==Je&&(j(Je,be),oe&&function AE(t){t.lView[Cl]!==t&&(t.lView=null,r1.push(t))}(Je)),Xa()}}function l1(t,i){for(let o=y0(t);null!==o;o=Eg(o))for(let c=Ko;c<o.length;c++)NE(o[c],i)}function c1(t,i,o){NE(za(i,t),o)}function NE(t,i){Nh(t)&&tv(t,i)}function tv(t,i){const c=t[oi],f=t[Yi],C=t[Cl];let V=!!(0===i&&16&f);if(V||=!!(64&f&&0===i),V||=!!(1024&f),V||=!(!C?.dirty||!S(C)),V||=!1,C&&(C.dirty=!1),t[Yi]&=-9217,V)PM(c,t,c.template,t[Io]);else if(8192&f){l1(t,1);const oe=c.components;null!==oe&&BE(t,oe,1)}}function BE(t,i,o){for(let c=0;c<i.length;c++)c1(t,i[c],o)}function tm(t,i){const o=Bm()?64:1088;for(t[dc].changeDetectionScheduler?.notify(i);t;){t[Yi]|=o;const c=$e(t);if(Md(t)&&!c)return t;t=c}return null}class wp{get rootNodes(){const i=this._lView,o=i[oi];return xp(o,i,o.firstChild,[])}constructor(i,o,c=!0){this._lView=i,this._cdRefInjectingView=o,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Io]}set context(i){this._lView[Io]=i}get destroyed(){return!(256&~this._lView[Yi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[cr];if(Xr(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(Cp(i,c),il(o,c))}this._attachedToViewContainer=!1}K0(this._lView[oi],this._lView)}onDestroy(i){Q(this._lView,i)}markForCheck(){tm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Yi]&=-129}reattach(){$h(this._lView),this._lView[Yi]|=128}detectChanges(){this._lView[Yi]|=1024,Ap(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ri(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=Md(this._lView),o=this._lView[Ed];null!==o&&!i&&G0(o,this._lView),nE(this._lView[oi],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ri(902,!1);this._appRef=i;const o=Md(this._lView),c=this._lView[Ed];null!==c&&!o&&sE(c,this._lView),$h(this._lView)}}let kp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nv}return t})();const d1=kp,LM=class extends d1{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,c){const f=ud(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:o,dehydratedView:c});return new wp(f)}};function nv(){return iv(to(),jn())}function iv(t,i){return 4&t.type?new LM(i,t,Hu(t,i)):null}function h1(t,i,o){const c=i.insertBeforeIndex,f=Array.isArray(c)?c[0]:c;return null===f?Ug(t,0,o):Qs(o[f])}function KE(t,i,o,c,f){const C=i.insertBeforeIndex;if(Array.isArray(C)){let V=c,oe=null;if(3&i.type||(oe=V,V=f),null!==V&&-1===i.componentOffset)for(let be=1;be<C.length;be++)d_(t,V,o[C[be]],oe,!1)}}function WE(t,i){if(t.push(i),t.length>1)for(let o=t.length-2;o>=0;o--){const c=t[o];_1(c)||NM(c,i)&&null===BM(c)&&zE(c,i.index)}}function _1(t){return!(64&t.type)}function NM(t,i){return _1(i)||t.index>i.index}function BM(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function zE(t,i){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=i:(hE(h1,KE),t.insertBeforeIndex=i)}function nm(t,i){const o=t.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function $M(t,i,o){const c=h_(t,o,64,null,null);return WE(i,c),c}function im(t,i){const o=i[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function XE(t){return t>>>17}function HE(t){return(131070&t)>>>1}function p1(t,i,o){t.index=0;const c=im(i,o);t.removes=null!==c?i.remove[c]:Bs}function g_(t){if(t.index<t.removes.length){const i=t.removes[t.index++];return i>0?t.lView[i]:(t.stack.push(t.index,t.removes),p1(t,t.lView[oi].data[~i],t.lView),g_(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),g_(t))}function av(){const t={stack:[],index:-1};return function i(o,c){for(t.lView=c;t.stack.length;)t.stack.pop();return p1(t,o.value,c),g_.bind(null,t)}}let ms=()=>{},ry=()=>{},dy=()=>null;function b_(t,i){return dy(t,i)}class Bp{}const am=new Hi("",{providedIn:"root",factory:()=>!1}),uy=new Hi(""),T1=new Hi("");class $p{}class hy{}class iT{resolveComponentFactory(i){throw function nT(t){const i=Error(`No component factory found for ${po(t)}.`);return i.ngComponent=t,i}(i)}}class lm{static#e=this.NULL=new iT}class D1{}let sT=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function uv(){const t=jn(),o=za(to().index,t);return(zr(o)?o:t)[rs]}()}return t})(),oT=(()=>{class t{static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:()=>null})}return t})();function hh(t){return!!lo(t)}function hv(t,i,o){let c=o?t.styles:null,f=o?t.classes:null,C=0;if(null!==i)for(let V=0;V<i.length;V++){const oe=i[V];"number"==typeof oe?C=oe:1==C?f=Ia(f,oe):2==C&&(c=Ia(c,oe+": "+i[++V]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=f:t.classesWithoutHost=f}class x1 extends lm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Kn(i);return new dm(o,this.ngModule)}}function R1(t,i){const o=[];for(const c in t){if(!t.hasOwnProperty(c))continue;const f=t[c];if(void 0===f)continue;const C=Array.isArray(f),V=C?f[0]:f;o.push(i?{propName:V,templateName:c,isSignal:!!((C?f[1]:Gr.None)&Gr.SignalBased)}:{propName:V,templateName:c})}return o}class dm extends hy{get inputs(){const i=this.componentDef,o=i.inputTransforms,c=R1(i.inputs,!0);if(null!==o)for(const f of c)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return c}get outputs(){return R1(this.componentDef.outputs,!1)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function ye(t){return t.map(ce).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,c,f){const C=b(null);try{let V=(f=f||this.ngModule)instanceof va?f:f?.injector;V&&null!==this.componentDef.getStandaloneInjector&&(V=this.componentDef.getStandaloneInjector(V)||V);const oe=V?new er(i,V):i,be=oe.get(D1,null);if(null===be)throw new ri(407,!1);const zt={rendererFactory:be,sanitizer:oe.get(oT,null),inlineEffectRunner:null,changeDetectionScheduler:oe.get(Bp,null)},ln=be.createRenderer(null,this.componentDef),gn=this.componentDef.selectors[0][0]||"div",Dn=c?function EM(t,i,o,c){const C=c.get(wg,!1)||o===fd.ShadowDom,V=t.selectRootElement(i,C);return function Hg(t){Dp(t)}(V),V}(ln,c,this.componentDef.encapsulation,oe):jg(ln,gn,function A1(t){const i=t.toLowerCase();return"svg"===i?wc:"math"===i?"math":null}(gn));let Vn=512;this.componentDef.signals?Vn|=4096:this.componentDef.onPush||(Vn|=16);let pi=null;null!==Dn&&(pi=r_(Dn,oe,!0));const gi=H0(0,null,null,1,0,null,null,null,null,null,null),Gn=zg(null,gi,null,Vn,null,null,zt,ln,oe,null,pi);Uh(Gn);let As,uo,Qo=null;try{const Ma=this.componentDef;let Gc,zv=null;Ma.findHostDirectiveDefs?(Gc=[],zv=new Map,Ma.findHostDirectiveDefs(Ma,Gc,zv),Gc.push(Ma)):Gc=[Ma];const dx=function lT(t,i){const o=t[oi],c=Pi;return t[c]=i,dd(o,c,2,"#host",null)}(Gn,Dn);Qo=function w1(t,i,o,c,f,C,V){const oe=f[oi];!function my(t,i,o,c){for(const f of t)i.mergedAttrs=ga(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(hv(i,i.mergedAttrs,!0),null!==o&&vE(c,o,i))}(c,t,i,V);let be=null;null!==i&&(be=r_(i,f[dr]));const Je=C.rendererFactory.createRenderer(i,o);let ht=16;o.signals?ht=4096:o.onPush&&(ht=64);const zt=zg(f,CE(o),null,ht,f[t.index],t,C,Je,null,null,be);return oe.firstCreatePass&&q0(oe,t,c.length-1),Jg(f,zt),f[t.index]=zt}(dx,Dn,Ma,Gc,Gn,zt,ln),uo=ju(gi,Pi),Dn&&function k1(t,i,o,c){if(c)jl(t,o,["ng-version","18.2.3"]);else{const{attrs:f,classes:C}=function de(t){const i=[],o=[];let c=1,f=2;for(;c<t.length;){let C=t[c];if("string"==typeof C)2===f?""!==C&&i.push(C,t[++c]):8===f&&o.push(C);else{if(!fo(f))break;f=C}c++}return{attrs:i,classes:o}}(i.selectors[0]);f&&jl(t,o,f),C&&C.length>0&&gE(t,o,C.join(" "))}}(ln,Ma,Dn,c),void 0!==o&&function cT(t,i,o){const c=t.projection=[];for(let f=0;f<i.length;f++){const C=o[f];c.push(null!=C?Array.from(C):null)}}(uo,this.ngContentSelectors,o),As=function gy(t,i,o,c,f,C){const V=to(),oe=f[oi],be=Er(V,f);Sp(oe,f,V,o,null,c);for(let ht=0;ht<o.length;ht++)ya(id(f,oe,V.directiveStart+ht,V),f);__(oe,f,V),be&&ya(be,f);const Je=id(f,oe,V.directiveStart+V.componentOffset,V);if(t[Io]=f[Io]=Je,null!==C)for(const ht of C)ht(Je,i);return Tp(oe,V,f),Je}(Qo,Ma,Gc,zv,Gn,[P1]),No(gi,Gn,null)}catch(Ma){throw null!==Qo&&Of(Qo),Of(Gn),Ma}finally{Xa()}return new fy(this.componentType,As,Hu(uo,Gn),Gn,uo)}finally{b(C)}}}class fy extends $p{constructor(i,o,c,f,C){super(),this.location=c,this._rootLView=f,this._tNode=C,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new wp(f,void 0,!1),this.componentType=i}setInput(i,o){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const C=this._rootLView;o1(C[oi],C,f,i,o),this.previousInputValues.set(i,o),tm(za(this._tNode.index,C),1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function P1(){const t=to();Kh(jn()[oi],t)}let _v=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=vy}return t})();function vy(){return pv(to(),jn())}const L1=_v,F1=class extends L1{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){const i=su(this._hostTNode,this._hostLView);if(Gu(i)){const o=iu(i,this._hostLView),c=V_(i);return new kr(o[oi].data[c+8],o)}return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=by(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Ko}createEmbeddedView(i,o,c){let f,C;"number"==typeof c?f=c:null!=c&&(f=c.index,C=c.injector);const V=b_(this._lContainer,i.ssrId),oe=i.createEmbeddedViewImpl(o||{},C,V);return this.insertImpl(oe,f,ql(this._hostTNode,V)),oe}createComponent(i,o,c,f,C){const V=i&&!function Kd(t){return"function"==typeof t}(i);let oe;if(V)oe=o;else{const Dn=o||{};oe=Dn.index,c=Dn.injector,f=Dn.projectableNodes,C=Dn.environmentInjector||Dn.ngModuleRef}const be=V?i:new dm(Kn(i)),Je=c||this.parentInjector;if(!C&&null==be.ngModule){const Vn=(V?Je:this.parentInjector).get(va,null);Vn&&(C=Vn)}const ht=Kn(be.componentType??{}),zt=b_(this._lContainer,ht?.id??null),gn=be.create(Je,f,zt?.firstChild??null,C);return this.insertImpl(gn.hostView,oe,ql(this._hostTNode,zt)),gn}insert(i,o){return this.insertImpl(i,o,!0)}insertImpl(i,o,c){const f=i._lView;if(function w_(t){return Xr(t[cr])}(f)){const oe=this.indexOf(i);if(-1!==oe)this.detach(oe);else{const be=f[cr],Je=new F1(be,be[Ss],be[cr]);Je.detach(Je.indexOf(i))}}const C=this._adjustIndex(o),V=this._lContainer;return ca(V,f,C,c),i.attachToViewContainerRef(),vr(um(V),C,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=by(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=Cp(this._lContainer,o);c&&(il(um(this._lContainer),o),K0(c[oi],c))}detach(i){const o=this._adjustIndex(i,-1),c=Cp(this._lContainer,o);return c&&null!=il(um(this._lContainer),o)?new wp(c):null}_adjustIndex(i,o=0){return i??this.length+o}};function by(t){return t[8]}function um(t){return t[8]||(t[8]=[])}function pv(t,i){let o;const c=i[t.index];return Xr(c)?o=c:(o=t1(c,i,null,t),i[t.index]=o,Jg(i,o)),N1(o,i,t,c),new F1(o,t,i)}let N1=function yy(t,i,o,c){if(t[Wa])return;let f;f=8&o.type?Qs(c):function dT(t,i){const o=t[rs],c=o.createComment(""),f=Er(i,t);return d_(o,W0(o,f),c,function dE(t,i){return t.nextSibling(i)}(o,f),!1),c}(i,o),t[Wa]=f},B1=()=>!1;class $1{constructor(i){this.queryList=i,this.matches=null}clone(){return new $1(this.queryList)}setDirty(){this.queryList.setDirty()}}class j1{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,f=[];for(let C=0;C<c;C++){const V=o.getByIndex(C);f.push(this.queries[V.indexInDeclarationView].clone())}return new j1(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==y_(i,o).matches&&this.queries[o].setDirty()}}class Cy{constructor(i,o,c=null){this.flags=o,this.read=c,this.predicate="string"==typeof i?function Ty(t){return t.split(",").map(i=>i.trim())}(i):i}}class fv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,C=this.getByIndex(c).embeddedTView(i,f);C&&(C.indexInDeclarationView=c,null!==o?o.push(C):o=[C])}return null!==o?new fv(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class U1{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new U1(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const C=c[f];this.matchTNodeWithReadOption(i,o,pT(o,C)),this.matchTNodeWithReadOption(i,o,ru(o,i,C,!1,!1))}else c===kp?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ru(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Jh||f===_v||f===kp&&4&o.type)this.addMatch(o.index,-2);else{const C=ru(o,i,f,!1,!1);null!==C&&this.addMatch(o.index,C)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function pT(t,i){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function mT(t,i,o,c){return-1===o?function fT(t,i){return 11&t.type?Hu(t,i):4&t.type?iv(t,i):null}(i,t):-2===o?function mv(t,i,o){return o===Jh?Hu(i,t):o===kp?iv(i,t):o===_v?pv(i,t):void 0}(t,i,c):id(t,t[oi],o,i)}function My(t,i,o,c){const f=i[Ra].queries[c];if(null===f.matches){const C=t.data,V=o.matches,oe=[];for(let be=0;null!==V&&be<V.length;be+=2){const Je=V[be];oe.push(Je<0?null:mT(i,C[Je],V[be+1],o.metadata.read))}f.matches=oe}return f.matches}function V1(t,i,o,c){const f=t.queries.getByIndex(o),C=f.matches;if(null!==C){const V=My(t,i,f,o);for(let oe=0;oe<C.length;oe+=2){const be=C[oe];if(be>0)c.push(V[oe/2]);else{const Je=C[oe+1],ht=i[-be];for(let zt=Ko;zt<ht.length;zt++){const ln=ht[zt];ln[Ed]===ln[cr]&&V1(ln[oi],ln,Je,c)}if(null!==ht[Cd]){const zt=ht[Cd];for(let ln=0;ln<zt.length;ln++){const gn=zt[ln];V1(gn[oi],gn,Je,c)}}}}}return c}function G1(t,i){return t[Ra].queries[i].queryList}function K1(t,i,o){const c=new Zh(!(4&~o));return function TE(t,i,o,c){const f=p_(i);f.push(o),t.firstCreatePass&&f_(t).push(c,f.length-1)}(t,i,c,c.destroy),(i[Ra]??=new j1).queries.push(new $1(c))-1}function W1(t,i,o,c){const f=ks();if(f.firstCreatePass){const C=to();_m(f,new Cy(i,o,c),C.index),function Dy(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(f,t),!(2&~o)&&(f.staticContentQueries=!0)}return K1(f,jn(),o)}function _m(t,i,o){null===t.queries&&(t.queries=new fv),t.queries.track(new U1(i,o))}function y_(t,i){return t.queries.getByIndex(i)}function vu(t,i){const o=t[oi],c=y_(o,i);return c.crossesNgTemplate?V1(o,t,i,[]):My(o,t,c,i)}const gv=new Set;function fl(t){gv.has(t)||(gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function z1(t){return"function"==typeof t&&void 0!==t[g]}function Iy(t,i){fl("NgSignals");const o=function ae(t){const i=Object.create(qe);i.value=t;const o=()=>(k(i),i.value);return o[g]=i,o}(t),c=o[g];return i?.equal&&(c.equal=i.equal),o.set=f=>Fe(c,f),o.update=f=>function Ae(t,i){B()||F(),Fe(t,i(t.value))}(c,f),o.asReadonly=Sy.bind(o),o}function Sy(){const t=this[g];if(void 0===t.readonlyFn){const i=()=>this();i[g]=t,t.readonlyFn=i}return t.readonlyFn}function vv(t){return z1(t)&&"function"==typeof t.set}function H1(t,i){let o;const c=W(()=>{o._dirtyCounter();const f=function Y1(t,i){const o=t._lView,c=t._queryIndex;if(void 0===o||void 0===c||4&o[Yi])return i?void 0:Bs;const f=G1(o,c),C=vu(o,c);return f.reset(C,ip),i?f.first:f._changesDetected||void 0===t._flatValue?t._flatValue=f.toArray():t._flatValue}(o,t);if(i&&void 0===f)throw new ri(-951,!1);return f});return o=c[g],o._dirtyCounter=Iy(0),o._flatValue=void 0,c}function Q1(t,i){return function Oy(){return H1(!0,!1)}()}const wy=(Q1.required=function vT(t,i){return function bv(){return H1(!0,!0)}()},Q1);function Cv(t){let i=function yv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;i;){let f;if(qo(t))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ri(903,!1);f=i.\u0275dir}if(f){if(o){c.push(f);const V=t;V.inputs=Vp(t.inputs),V.inputTransforms=Vp(t.inputTransforms),V.declaredInputs=Vp(t.declaredInputs),V.outputs=Vp(t.outputs);const oe=f.hostBindings;oe&&ST(t,oe);const be=f.viewQuery,Je=f.contentQueries;if(be&&Ky(t,be),Je&&IT(t,Je),Vy(t,f),Uo(t.outputs,f.outputs),qo(f)&&f.data.animation){const ht=t.data;ht.animation=(ht.animation||[]).concat(f.data.animation)}}const C=f.features;if(C)for(let V=0;V<C.length;V++){const oe=C[V];oe&&oe.ngInherit&&oe(t),oe===Cv&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Gy(t){let i=0,o=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=i+=f.hostVars,f.hostAttrs=ga(f.hostAttrs,o=ga(o,f.hostAttrs))}}(c)}function Vy(t,i){for(const o in i.inputs){if(!i.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const c=i.inputs[o];if(void 0!==c&&(t.inputs[o]=c,t.declaredInputs[o]=i.declaredInputs[o],null!==i.inputTransforms)){const f=Array.isArray(c)?c[0]:c;if(!i.inputTransforms.hasOwnProperty(f))continue;t.inputTransforms??={},t.inputTransforms[f]=i.inputTransforms[f]}}}function Vp(t){return t===Ps?{}:t===Bs?[]:t}function Ky(t,i){const o=t.viewQuery;t.viewQuery=o?(c,f)=>{i(c,f),o(c,f)}:i}function IT(t,i){const o=t.contentQueries;t.contentQueries=o?(c,f,C)=>{i(c,f,C),o(c,f,C)}:i}function ST(t,i){const o=t.hostBindings;t.hostBindings=o?(c,f)=>{i(c,f),o(c,f)}:i}function Wy(t){const i=o=>{const c=(Array.isArray(t)?t:t()).map(f=>"function"==typeof f?{directive:Ui(f),inputs:Ps,outputs:Ps}:{directive:Ui(f.directive),inputs:zy(f.inputs),outputs:zy(f.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=Z1,o.hostDirectives=c):o.hostDirectives.unshift(...c)};return i.ngInherit=!0,i}function Z1(t,i,o){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const f=Ci(c.directive);Xy(f.declaredInputs,c.inputs),Z1(f,i,o),o.set(f,c),i.push(f)}}function zy(t){if(void 0===t||0===t.length)return Ps;const i={};for(let o=0;o<t.length;o+=2)i[t[o]]=t[o+1];return i}function Xy(t,i){for(const o in i)i.hasOwnProperty(o)&&(t[i[o]]=t[o])}function Hy(t){const i=t.inputConfig,o={};for(const c in i)if(i.hasOwnProperty(c)){const f=i[c];Array.isArray(f)&&f[3]&&(o[c]=f[3])}t.inputTransforms=o}class fh{}class xT{}function RT(t,i){return new q1(t,i??null,[])}class q1 extends fh{constructor(i,o,c,f=!0){super(),this.ngModuleType=i,this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new x1(this);const C=lo(i);this._bootstrapComponents=Jl(C.bootstrap),this._r3Injector=od(i,o,[{provide:fh,useValue:this},{provide:lm,useValue:this.componentFactoryResolver},...c],po(i),new Set(["environment"])),f&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class eb extends xT{constructor(i){super(),this.moduleType=i}create(i){return new q1(this.moduleType,i,[])}}class Yy extends fh{constructor(i){super(),this.componentFactoryResolver=new x1(this),this.instance=null;const o=new Wr([...i.providers,{provide:fh,useValue:this},{provide:lm,useValue:this.componentFactoryResolver}],i.parent||xa(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tb(t,i,o=null){return new Yy({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}function Tv(t){return!!nb(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nb(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Nd(t,i,o){return t[i]=o}function gm(t,i){return t[i]}function Lr(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Qr(t,i,o,c){const f=Lr(t,i,o);return Lr(t,i+1,c)||f}function C_(t,i,o,c,f){const C=Qr(t,i,o,c);return Lr(t,i+2,f)||C}function jc(t,i,o,c,f,C){const V=Qr(t,i,o,c);return Qr(t,i+2,f,C)||V}function vm(t,i,o,c,f,C,V,oe,be,Je){const ht=o+Pi,zt=i.firstCreatePass?function PT(t,i,o,c,f,C,V,oe,be){const Je=i.consts,ht=dd(i,t,4,V||null,oe||null);J0(i,o,ht,Yo(Je,be)),Kh(i,ht);const zt=ht.tView=H0(2,ht,c,f,C,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Je,null);return null!==i.queries&&(i.queries.template(i,ht),zt.queries=i.queries.embeddedTView(ht)),ht}(ht,i,t,c,f,C,V,oe,be):i.data[ht];ll(zt,!1);const ln=Jy(i,t,zt,o);Gh()&&ko(i,t,ln,zt),ya(ln,t);const gn=t1(ln,t,ln,zt);return t[ht]=gn,Jg(t,gn),function Ey(t,i,o){return B1(t,i,o)}(gn,zt,t),wu(zt)&&Xg(i,t,zt),null!=be&&X0(t,zt,Je),zt}function ib(t,i,o,c,f,C,V,oe){const be=jn(),Je=ks();return vm(be,Je,t,i,o,c,f,Yo(Je.consts,C),V,oe),ib}let Jy=function Zy(t,i,o,c){return La(!0),i[rs].createComment("")};var Wp=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wp||{});let sC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:()=>new t})}return t})();class ym{constructor(){this.ngZone=Jn(wo),this.scheduler=Jn(Bp),this.errorHandler=Jn(rd,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[Wp.EarlyRead,Wp.Write,Wp.MixedReadWrite,Wp.Read];execute(){this.executing=!0;for(const i of ym.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[i](o.pipelinedValue))}catch(c){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&this.sequences.delete(i);for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(i){this.executing?this.deferredRegistrations.add(i):(this.sequences.add(i),this.scheduler.notify(6))}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}static#t=this.\u0275prov=js({token:ym,providedIn:"root",factory:()=>new ym})}class BT{constructor(i,o,c,f){this.impl=i,this.hooks=o,this.once=c,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=f.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function oC(t,i){!i?.injector&&oa();const o=i?.injector??Jn(Ea);return pc(o)?(fl("NgAfterRender"),rC(t,o,i,!1)):aC}function xv(t,i){!i?.injector&&oa();const o=i?.injector??Jn(Ea);return pc(o)?(fl("NgAfterNextRender"),rC(t,o,i,!0)):aC}function rC(t,i,o,c){const f=i.get(sC);f.impl??=i.get(ym);const V=new BT(f.impl,function $T(t,i){if(t instanceof Function){const o=[void 0,void 0,void 0,void 0];return o[i]=t,o}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,o?.phase??Wp.MixedReadWrite),c,i.get(Qh));return f.impl.register(V),V}const aC={destroy(){}};function yu(t,i,o,c){const f=jn();return Lr(f,Pa(),i)&&(ks(),function Ld(t,i,o,c,f,C){const V=Er(t,i);oh(i[rs],V,C,t.value,o,c,f)}(di(),f,t,i,o,c)),yu}function kv(t,i,o,c){return Lr(t,Pa(),o)?i+Rt(o)+c:Es}function cC(t,i){return t<<17|i<<2}function Hp(t){return t>>17&32767}function VT(t){return 2|t}function Tm(t){return(131068&t)>>2}function GT(t,i){return-131069&t|i<<2}function KT(t){return 1|t}function FI(t,i,o,c){const f=t[o+1],C=null===i;let V=c?Hp(f):Tm(f),oe=!1;for(;0!==V&&(!1===oe||C);){const Je=t[V+1];gx(t[V],i)&&(oe=!0,t[V+1]=c?KT(Je):VT(Je)),V=c?Hp(Je):Tm(Je)}oe&&(t[o+1]=c?VT(f):KT(f))}function gx(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Cc(t,i)>=0}const Qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NI(t){return t.substring(Qa.key,Qa.keyEnd)}function vx(t){return t.substring(Qa.value,Qa.valueEnd)}function BI(t,i){const o=Qa.textEnd;return o===i?-1:(i=Qa.keyEnd=function yx(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,Qa.key=i,o),Uv(t,i,o))}function $I(t,i){const o=Qa.textEnd;let c=Qa.key=Uv(t,i,o);return o===c?-1:(c=Qa.keyEnd=function Cx(t,i,o){let c;for(;i<o&&(45===(c=t.charCodeAt(i))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)i++;return i}(t,c,o),c=UI(t,c,o),c=Qa.value=Uv(t,c,o),c=Qa.valueEnd=function Mx(t,i,o){let c=-1,f=-1,C=-1,V=i,oe=V;for(;V<o;){const be=t.charCodeAt(V++);if(59===be)return oe;34===be||39===be?oe=V=VI(t,be,V,o):i===V-4&&85===C&&82===f&&76===c&&40===be?oe=V=VI(t,41,V,o):be>32&&(oe=V),C=f,f=c,c=-33&be}return oe}(t,c,o),UI(t,c,o))}function jI(t){Qa.key=0,Qa.keyEnd=0,Qa.value=0,Qa.valueEnd=0,Qa.textEnd=t.length}function Uv(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function UI(t,i,o,c){return(i=Uv(t,i,o))<o&&i++,i}function VI(t,i,o,c){let f=-1,C=o;for(;C<c;){const V=t.charCodeAt(C++);if(V==i&&92!==f)return C;f=92==V&&92===f?0:V}throw new Error}function WT(t,i,o){const c=jn();return Lr(c,Pa(),i)&&Rl(ks(),di(),c,t,i,c[rs],o,!1),WT}function zT(t,i,o,c,f){const V=f?"class":"style";o1(t,o,i.inputs[V],V,c)}function XT(t,i,o){return Mu(t,i,o,!1),XT}function HT(t,i){return Mu(t,i,null,!0),HT}function Cu(t){Tu(zI,Tx,t,!1)}function Tx(t,i){for(let o=function Ex(t){return jI(t),$I(t,Uv(t,0,Qa.textEnd))}(i);o>=0;o=$I(i,o))zI(t,NI(i),vx(i))}function GI(t){Tu(Rx,vh,t,!0)}function vh(t,i){for(let o=function bx(t){return jI(t),BI(t,Uv(t,0,Qa.textEnd))}(i);o>=0;o=BI(i,o))Va(t,NI(i),!0)}function Mu(t,i,o,c){const f=jn(),C=ks(),V=Lc(2);C.firstUpdatePass&&WI(C,t,V,c),i!==Es&&Lr(f,V,i)&&XI(C,C.data[ra()],f,f[rs],t,f[V+1]=function wx(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=po(_i(t)))),t}(i,o),c,V)}function Tu(t,i,o,c){const f=ks(),C=Lc(2);f.firstUpdatePass&&WI(f,null,C,c);const V=jn();if(o!==Es&&Lr(V,C,o)){const oe=f.data[ra()];if(YI(oe,c)&&!KI(f,C)){let be=c?oe.classesWithoutHost:oe.stylesWithoutHost;null!==be&&(o=Ia(be,o||"")),zT(f,oe,V,o,c)}else!function Ax(t,i,o,c,f,C,V,oe){f===Es&&(f=Bs);let be=0,Je=0,ht=0<f.length?f[0]:null,zt=0<C.length?C[0]:null;for(;null!==ht||null!==zt;){const ln=be<f.length?f[be+1]:void 0,gn=Je<C.length?C[Je+1]:void 0;let Vn,Dn=null;ht===zt?(be+=2,Je+=2,ln!==gn&&(Dn=zt,Vn=gn)):null===zt||null!==ht&&ht<zt?(be+=2,Dn=ht):(Je+=2,Dn=zt,Vn=gn),null!==Dn&&XI(t,i,o,c,Dn,Vn,V,oe),ht=be<f.length?f[be]:null,zt=Je<C.length?C[Je]:null}}(f,oe,V,V[rs],V[C+1],V[C+1]=function xx(t,i,o){if(null==o||""===o)return Bs;const c=[],f=_i(o);if(Array.isArray(f))for(let C=0;C<f.length;C++)t(c,f[C],!0);else if("object"==typeof f)for(const C in f)f.hasOwnProperty(C)&&t(c,C,f[C]);else"string"==typeof f&&i(c,f);return c}(t,i,o),c,C)}}function KI(t,i){return i>=t.expandoStartIndex}function WI(t,i,o,c){const f=t.data;if(null===f[o+1]){const C=f[ra()],V=KI(t,o);YI(C,c)&&null===i&&!V&&(i=!1),i=function Dx(t,i,o,c){const f=Cr(t);let C=c?i.residualClasses:i.residualStyles;if(null===f)0===(c?i.classBindings:i.styleBindings)&&(o=rb(o=YT(null,t,i,o,c),i.attrs,c),C=null);else{const V=i.directiveStylingLast;if(-1===V||t[V]!==f)if(o=YT(f,t,i,o,c),null===C){let be=function Ix(t,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==Tm(c))return t[Hp(c)]}(t,i,c);void 0!==be&&Array.isArray(be)&&(be=YT(null,t,i,be[1],c),be=rb(be,i.attrs,c),function Sx(t,i,o,c){t[Hp(o?i.classBindings:i.styleBindings)]=c}(t,i,c,be))}else C=function Ox(t,i,o){let c;const f=i.directiveEnd;for(let C=1+i.directiveStylingLast;C<f;C++)c=rb(c,t[C].hostAttrs,o);return rb(c,i.attrs,o)}(t,i,c)}return void 0!==C&&(c?i.residualClasses=C:i.residualStyles=C),o}(f,C,i,c),function fx(t,i,o,c,f,C){let V=C?i.classBindings:i.styleBindings,oe=Hp(V),be=Tm(V);t[c]=o;let ht,Je=!1;if(Array.isArray(o)?(ht=o[1],(null===ht||Cc(o,ht)>0)&&(Je=!0)):ht=o,f)if(0!==be){const ln=Hp(t[oe+1]);t[c+1]=cC(ln,oe),0!==ln&&(t[ln+1]=GT(t[ln+1],c)),t[oe+1]=function _x(t,i){return 131071&t|i<<17}(t[oe+1],c)}else t[c+1]=cC(oe,0),0!==oe&&(t[oe+1]=GT(t[oe+1],c)),oe=c;else t[c+1]=cC(be,0),0===oe?oe=c:t[be+1]=GT(t[be+1],c),be=c;Je&&(t[c+1]=VT(t[c+1])),FI(t,ht,c,!0),FI(t,ht,c,!1),function mx(t,i,o,c,f){const C=f?t.residualClasses:t.residualStyles;null!=C&&"string"==typeof i&&Cc(C,i)>=0&&(o[c+1]=KT(o[c+1]))}(i,ht,t,c,C),V=cC(oe,be),C?i.classBindings=V:i.styleBindings=V}(f,C,i,o,V,c)}}function YT(t,i,o,c,f){let C=null;const V=o.directiveEnd;let oe=o.directiveStylingLast;for(-1===oe?oe=o.directiveStart:oe++;oe<V&&(C=i[oe],c=rb(c,C.hostAttrs,f),C!==t);)oe++;return null!==t&&(o.directiveStylingLast=oe),c}function rb(t,i,o){const c=o?1:2;let f=-1;if(null!==i)for(let C=0;C<i.length;C++){const V=i[C];"number"==typeof V?f=V:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Va(t,V,!!o||i[++C]))}return void 0===t?null:t}function zI(t,i,o){Va(t,i,_i(o))}function Rx(t,i,o){const c=String(i);""!==c&&!c.includes(" ")&&Va(t,c,o)}function XI(t,i,o,c,f,C,V,oe){if(!(3&i.type))return;const be=t.data,Je=be[oe+1],ht=function px(t){return!(1&~t)}(Je)?HI(be,i,o,f,Tm(Je),V):void 0;dC(ht)||(dC(C)||function hx(t){return!(2&~t)}(Je)&&(C=HI(be,null,o,f,oe,V)),function mE(t,i,o,c,f){if(i)f?t.addClass(o,c):t.removeClass(o,c);else{let C=-1===c.indexOf("-")?void 0:Bg.DashCase;null==f?t.removeStyle(o,c,C):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),C|=Bg.Important),t.setStyle(o,c,f,C))}}(c,V,Jd(ra(),o),f,C))}function HI(t,i,o,c,f,C){const V=null===i;let oe;for(;f>0;){const be=t[f],Je=Array.isArray(be),ht=Je?be[1]:be,zt=null===ht;let ln=o[f+1];ln===Es&&(ln=zt?Bs:void 0);let gn=zt?ao(ln,c):ht===c?ln:void 0;if(Je&&!dC(gn)&&(gn=ao(be,c)),dC(gn)&&(oe=gn,V))return oe;const Dn=t[f+1];f=V?Hp(Dn):Tm(Dn)}if(null!==i){let be=C?i.residualClasses:i.residualStyles;null!=be&&(oe=ao(be,c))}return oe}function dC(t){return void 0!==t}function YI(t,i){return!!(t.flags&(i?8:16))}function QI(t,i,o){Tu(Va,vh,kv(jn(),t,i,o),!0)}class Vx{destroy(i){}updateValue(i,o){}swap(i,o){const c=Math.min(i,o),f=Math.max(i,o),C=this.detach(f);if(f-c>1){const V=this.detach(c);this.attach(c,C),this.attach(f,V)}else this.attach(c,C)}move(i,o){this.attach(o,this.detach(i))}}function QT(t,i,o,c,f){return t===o&&Object.is(i,c)?1:Object.is(f(t,i),f(o,c))?-1:0}function JT(t,i,o,c){return!(void 0===i||!i.has(c)||(t.attach(o,i.get(c)),i.delete(c),0))}function JI(t,i,o,c,f){if(JT(t,i,c,o(c,f)))t.updateValue(c,f);else{const C=t.create(c,f);t.attach(c,C)}}function ZI(t,i,o,c){const f=new Set;for(let C=i;C<=o;C++)f.add(c(C,t.at(C)));return f}class qI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const o=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(i,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,o){if(this.kvMap.has(i)){let c=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(c);)c=f.get(c);f.set(c,o)}else this.kvMap.set(i,o)}forEach(i){for(let[o,c]of this.kvMap)if(i(c,o),void 0!==this._vMap){const f=this._vMap;for(;f.has(c);)c=f.get(c),i(c,o)}}}function eS(t,i){fl("NgControlFlow");const o=jn(),c=Pa(),f=o[c]!==Es?o[c]:-1,C=-1!==f?uC(o,Pi+f):void 0;if(Lr(o,c,t)){const oe=b(null);try{if(void 0!==C&&rh(C,0),-1!==t){const be=Pi+t,Je=uC(o,be),ht=ZT(o[oi],be),zt=b_(Je,ht.tView.ssrId);ca(Je,ud(o,ht,i,{dehydratedView:zt}),0,ql(ht,zt))}}finally{b(oe)}}else if(void 0!==C){const oe=RE(C,0);void 0!==oe&&(oe[Io]=i)}}class Kx{constructor(i,o,c){this.lContainer=i,this.$implicit=o,this.$index=c}get $count(){return this.lContainer.length-Ko}}function tS(t){return t}function nS(t,i){return i}class Wx{constructor(i,o,c){this.hasEmptyBlock=i,this.trackByFn=o,this.liveCollection=c}}function iS(t,i,o,c,f,C,V,oe,be,Je,ht,zt,ln){fl("NgControlFlow");const gn=jn(),Dn=ks(),Vn=void 0!==be,pi=jn(),gi=oe?V.bind(pi[ki][Io]):V,Gn=new Wx(Vn,gi);pi[Pi+t]=Gn,vm(gn,Dn,t+1,i,o,c,f,Yo(Dn.consts,C)),Vn&&vm(gn,Dn,t+2,be,Je,ht,zt,Yo(Dn.consts,ln))}class zx extends Vx{constructor(i,o,c){super(),this.lContainer=i,this.hostLView=o,this.templateTNode=c,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ko}at(i){return this.getLView(i)[Io].$implicit}attach(i,o){const c=o[Ar];this.needsIndexUpdate||=i!==this.length,ca(this.lContainer,o,i,ql(this.templateTNode,c))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function Xx(t,i){return Cp(t,i)}(this.lContainer,i)}create(i,o){const c=b_(this.lContainer,this.templateTNode.tView.ssrId),f=ud(this.hostLView,this.templateTNode,new Kx(this.lContainer,o,i),{dehydratedView:c});return this.operationsCounter?.recordCreate(),f}destroy(i){K0(i[oi],i),this.operationsCounter?.recordDestroy()}updateValue(i,o){this.getLView(i)[Io].$implicit=o}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[Io].$index=i}getLView(i){return function Hx(t,i){return RE(t,i)}(this.lContainer,i)}}function sS(t){const i=b(null),o=ra();try{const c=jn(),f=c[oi],C=c[o],V=o+1,oe=uC(c,V);if(void 0===C.liveCollection){const Je=ZT(f,V);C.liveCollection=new zx(oe,c,Je)}else C.liveCollection.reset();const be=C.liveCollection;if(function Gx(t,i,o){let c,f,C=0,V=t.length-1;if(Array.isArray(i)){let be=i.length-1;for(;C<=V&&C<=be;){const Je=t.at(C),ht=i[C],zt=QT(C,Je,C,ht,o);if(0!==zt){zt<0&&t.updateValue(C,ht),C++;continue}const ln=t.at(V),gn=i[be],Dn=QT(V,ln,be,gn,o);if(0!==Dn){Dn<0&&t.updateValue(V,gn),V--,be--;continue}const Vn=o(C,Je),pi=o(V,ln),gi=o(C,ht);if(Object.is(gi,pi)){const Gn=o(be,gn);Object.is(Gn,Vn)?(t.swap(C,V),t.updateValue(V,gn),be--,V--):t.move(V,C),t.updateValue(C,ht),C++}else if(c??=new qI,f??=ZI(t,C,V,o),JT(t,c,C,gi))t.updateValue(C,ht),C++,V++;else if(f.has(gi))c.set(Vn,t.detach(C)),V--;else{const Gn=t.create(C,i[C]);t.attach(C,Gn),C++,V++}}for(;C<=be;)JI(t,c,o,C,i[C]),C++}else if(null!=i){const be=i[Symbol.iterator]();let Je=be.next();for(;!Je.done&&C<=V;){const ht=t.at(C),zt=Je.value,ln=QT(C,ht,C,zt,o);if(0!==ln)ln<0&&t.updateValue(C,zt),C++,Je=be.next();else{c??=new qI,f??=ZI(t,C,V,o);const gn=o(C,zt);if(JT(t,c,C,gn))t.updateValue(C,zt),C++,V++,Je=be.next();else if(f.has(gn)){const Dn=o(C,ht);c.set(Dn,t.detach(C)),V--}else t.attach(C,t.create(C,zt)),C++,V++,Je=be.next()}}for(;!Je.done;)JI(t,c,o,t.length,Je.value),Je=be.next()}for(;C<=V;)t.destroy(t.detach(V--));c?.forEach(be=>{t.destroy(be)})}(be,t,C.trackByFn),be.updateIndexes(),C.hasEmptyBlock){const Je=Pa(),ht=0===be.length;if(Lr(c,Je,ht)){const zt=o+2,ln=uC(c,zt);if(ht){const gn=ZT(f,zt),Dn=b_(ln,gn.tView.ssrId);ca(ln,ud(c,gn,void 0,{dehydratedView:Dn}),0,ql(gn,Dn))}else rh(ln,0)}}}finally{b(i)}}function uC(t,i){return t[i]}function ZT(t,i){return ju(t,i)}function hC(t,i,o,c){const f=jn(),C=ks(),V=Pi+t,oe=f[rs],be=C.firstCreatePass?function Yx(t,i,o,c,f,C){const V=i.consts,be=dd(i,t,2,c,Yo(V,f));return J0(i,o,be,Yo(V,C)),null!==be.attrs&&hv(be,be.attrs,!1),null!==be.mergedAttrs&&hv(be,be.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,be),be}(V,C,f,i,o,c):C.data[V],Je=oS(C,f,be,oe,i,t);f[V]=Je;const ht=wu(be);return ll(be,!0),vE(oe,Je,be),!function Gp(t){return!(32&~t.flags)}(be)&&Gh()&&ko(C,f,Je,be),0===function Oi(){return lt.lFrame.elementDepthCount}()&&ya(Je,f),function ii(){lt.lFrame.elementDepthCount++}(),ht&&(Xg(C,f,be),Tp(C,be,f)),null!==c&&X0(f,be),hC}function _C(){let t=to();L_()?F_():(t=t.parent,ll(t,!1));const i=t;(function eo(t){return lt.skipHydrationRootTNode===t})(i)&&function Pc(){lt.skipHydrationRootTNode=null}(),function as(){lt.lFrame.elementDepthCount--}();const o=ks();return o.firstCreatePass&&(Kh(o,t),Rh(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Xm(t){return!!(8&t.flags)}(i)&&zT(o,i,jn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Zv(t){return!!(16&t.flags)}(i)&&zT(o,i,jn(),i.stylesWithoutHost,!1),_C}function qT(t,i,o,c){return hC(t,i,o,c),_C(),qT}let oS=(t,i,o,c,f,C)=>(La(!0),jg(c,f,function Vm(){return lt.lFrame.currentNamespace}()));function pC(t,i,o){const c=jn(),f=ks(),C=t+Pi,V=f.firstCreatePass?function Zx(t,i,o,c,f){const C=i.consts,V=Yo(C,c),oe=dd(i,t,8,"ng-container",V);return null!==V&&hv(oe,V,!0),J0(i,o,oe,Yo(C,f)),null!==i.queries&&i.queries.elementStart(i,oe),oe}(C,f,c,i,o):f.data[C];ll(V,!0);const oe=rS(f,c,V,t);return c[C]=oe,Gh()&&ko(f,c,oe,V),ya(oe,c),wu(V)&&(Xg(f,c,V),Tp(f,V,c)),null!=o&&X0(c,V),pC}function fC(){let t=to();const i=ks();return L_()?F_():(t=t.parent,ll(t,!1)),i.firstCreatePass&&(Kh(i,t),Rh(t)&&i.queries.elementEnd(t)),fC}function eD(t,i,o){return pC(t,i,o),fC(),eD}let rS=(t,i,o,c)=>(La(!0),$g(i[rs],""));function aS(){return jn()}function tD(t,i,o){const c=jn();return Lr(c,Pa(),i)&&Rl(ks(),di(),c,t,i,c[rs],o,!0),tD}function nD(t,i,o){const c=jn();if(Lr(c,Pa(),i)){const C=ks(),V=di();Rl(C,V,c,t,i,xE(Cr(C.data),V,c),o,!0)}return nD}const Dm=void 0;var nR=["en",[["a","p"],["AM","PM"],Dm],[["AM","PM"],Dm,Dm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dm,"{1} 'at' {0}",Dm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tR(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Vv={};function iD(t){const i=function iR(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=cS(i);if(o)return o;const c=i.split("-")[0];if(o=cS(c),o)return o;if("en"===c)return nR;throw new ri(701,!1)}function lS(t){return iD(t)[Gv.PluralCase]}function cS(t){return t in Vv||(Vv[t]=bo.ng&&bo.ng.common&&bo.ng.common.locales&&bo.ng.common.locales[t]),Vv[t]}var Gv=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gv||{});const sR=["zero","one","two","few","many"],mC="en-US",gC={marker:"element"},vC={marker:"ICU"};var Vc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Vc||{});let dS=mC,ab=0,lb=0;let cb=(t,i,o,c)=>(La(!0),function uS(t,i,o){const c=t[rs];switch(o){case Node.COMMENT_NODE:return $g(c,i);case Node.TEXT_NODE:return V0(c,i);case Node.ELEMENT_NODE:return jg(c,i,null)}}(t,o,c));function hS(t,i,o,c){const f=o[rs];let V,C=null;for(let oe=0;oe<i.length;oe++){const be=i[oe];if("string"==typeof be){const Je=i[++oe];null===o[Je]&&(o[Je]=cb(o,Je,be,Node.TEXT_NODE))}else if("number"==typeof be)switch(1&be){case 0:const Je=XE(be);let ht,zt;if(null===C&&(C=Je,V=W0(f,c)),Je===C?(ht=c,zt=V):(ht=null,zt=Qs(o[Je])),null!==zt){const Vn=HE(be);d_(f,zt,o[Vn],ht,!1);const gi=nm(t,Vn);if(null!==gi&&"object"==typeof gi){const Gn=im(gi,o);null!==Gn&&hS(t,gi.create[Gn],o,o[gi.anchorIdx])}}break;case 1:const gn=i[++oe],Dn=i[++oe];oh(f,Jd(be>>>1,o),null,null,gn,Dn,null)}else switch(be){case vC:const Je=i[++oe],ht=i[++oe];null===o[ht]&&ya(o[ht]=cb(o,ht,Je,Node.COMMENT_NODE),o);break;case gC:const zt=i[++oe],ln=i[++oe];null===o[ln]&&ya(o[ln]=cb(o,ln,zt,Node.ELEMENT_NODE),o)}}}function _S(t,i,o,c,f){for(let C=0;C<o.length;C++){const V=o[C],oe=o[++C];if(V&f){let be="";for(let Je=C+1;Je<=C+oe;Je++){const ht=o[Je];if("string"==typeof ht)be+=ht;else if("number"==typeof ht)if(ht<0)be+=Rt(i[c-ht]);else{const zt=ht>>>2;switch(3&ht){case 1:const ln=o[++Je],gn=o[++Je],Dn=t.data[zt];"string"==typeof Dn?oh(i[rs],i[zt],null,Dn,ln,be,gn):Rl(t,Dn,i,ln,be,i[rs],gn,!1);break;case 0:const Vn=i[zt];null!==Vn&&tE(i[rs],Vn,be);break;case 2:pR(t,nm(t,zt),i,be);break;case 3:pS(t,nm(t,zt),c,i)}}}}else{const be=o[C+1];if(be>0&&!(3&~be)){const ht=nm(t,be>>>2);i[ht.currentCaseLViewIndex]<0&&pS(t,ht,c,i)}}C+=oe}}function pS(t,i,o,c){let f=c[i.currentCaseLViewIndex];if(null!==f){let C=ab;f<0&&(f=c[i.currentCaseLViewIndex]=~f,C=-1),_S(t,c,i.update[f],o,C)}}function pR(t,i,o,c){const f=function fR(t,i){let o=t.cases.indexOf(i);if(-1===o)switch(t.type){case 1:{const c=function oR(t,i){const o=lS(i)(parseInt(t,10)),c=sR[o];return void 0!==c?c:"other"}(i,function lR(){return dS}());o=t.cases.indexOf(c),-1===o&&"other"!==c&&(o=t.cases.indexOf("other"));break}case 0:o=t.cases.indexOf("other")}return-1===o?null:o}(i,c);if(im(i,o)!==f&&(fS(t,i,o),o[i.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const V=o[i.anchorIdx];V&&hS(t,i.create[f],o,V),function ay(t,i,o){ry(t,i,o)}(o,i.anchorIdx,f)}}function fS(t,i,o){let c=im(i,o);if(null!==c){const f=i.remove[c];for(let C=0;C<f.length;C++){const V=f[C];if(V>0){const oe=Jd(V,o);null!==oe&&Zf(o[rs],oe)}else fS(t,nm(t,~V),o)}}}const bC=/\ufffd(\d+):?\d*\ufffd/gi,gR=/\ufffd(\d+)\ufffd/,gS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,db="\ufffd",vR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ER=/\uE500/g;function vS(t,i,o,c,f,C,V){const oe=qf(t,c,1,null);let be=oe<<Vc.SHIFT,Je=Zd();i===Je&&(Je=null),null===Je&&(be|=Vc.APPEND_EAGERLY),V&&(be|=Vc.COMMENT,function _M(t){void 0===j0&&(j0=t())}(av)),f.push(be,null===C?"":C);const ht=h_(t,oe,V?32:1,null===C?"":C,null);WE(o,ht);const zt=ht.index;return ll(ht,!1),null!==Je&&i!==Je&&function lh(t,i){let o=t.insertBeforeIndex;null===o?(hE(h1,KE),o=t.insertBeforeIndex=[null,i]):(_s(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(Je,zt),ht}function MR(t,i,o,c,f,C,V,oe){const be=oe.match(bC),ht=vS(i,o,c,V,f,be?null:oe,!1).index;be&&ub(C,oe,ht,null,0,null),t.push({kind:0,index:ht})}function ub(t,i,o,c,f,C){const V=t.length,oe=V+1;t.push(null,null);const be=V+2,Je=i.split(bC);let ht=0;for(let zt=0;zt<Je.length;zt++){const ln=Je[zt];if(1&zt){const gn=f+parseInt(ln,10);t.push(-1-gn),ht|=bS(gn)}else""!==ln&&t.push(ln)}return t.push(o<<2|(c?1:0)),c&&t.push(c,C),t[V]=ht,t[oe]=t.length-be,ht}function bS(t){return 1<<Math.min(t,31)}function ES(t){let i,C,o="",c=0,f=!1;for(;null!==(i=vR.exec(t));)f?i[0]===`${db}/*${C}${db}`&&(c=i.index,f=!1):(o+=t.substring(c,i.index+i[0].length),C=i[1],f=!0);return o+=t.slice(c),o}function yS(t,i,o,c,f,C,V){let oe=0;const be={type:C.type,currentCaseLViewIndex:qf(i,o,1,null),anchorIdx:V,cases:[],create:[],remove:[],update:[]};(function RR(t,i,o){t.push(bS(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(c,C,V),function rv(t,i,o){const c=t.data[i];null===c?t.data[i]=o:c.value=o}(i,V,be);const Je=C.values,ht=[];for(let zt=0;zt<Je.length;zt++){const ln=Je[zt],gn=[];for(let Vn=0;Vn<ln.length;Vn++){const pi=ln[Vn];if("string"!=typeof pi){const gi=gn.push(pi)-1;ln[Vn]=`\x3c!--\ufffd${gi}\ufffd--\x3e`}}const Dn=[];ht.push(Dn),oe=OR(Dn,i,be,o,c,f,C.cases[zt],ln.join(""),gn)|oe}oe&&function AR(t,i,o){t.push(i,1,o<<2|3)}(c,oe,V),t.push({kind:3,index:V,cases:ht,currentCaseLViewIndex:be.currentCaseLViewIndex})}function SR(t){const i=[],o=[];let c=1,f=0;const C=sD(t=t.replace(gS,function(V,oe,be){return c="select"===be?0:1,f=parseInt(oe.slice(1),10),""}));for(let V=0;V<C.length;){let oe=C[V++].trim();1===c&&(oe=oe.replace(/\s*(?:=)?(\w+)\s*/,"$1")),oe.length&&i.push(oe);const be=sD(C[V++]);i.length>o.length&&o.push(be)}return{type:c,mainBinding:f,cases:i,values:o}}function sD(t){if(!t)return[];let i=0;const o=[],c=[],f=/[{}]/g;let C;for(f.lastIndex=0;C=f.exec(t);){const oe=C.index;if("}"==C[0]){if(o.pop(),0==o.length){const be=t.substring(i,oe);gS.test(be)?c.push(SR(be)):c.push(be),i=oe+1}}else{if(0==o.length){const be=t.substring(i,oe);c.push(be),i=oe+1}o.push("{")}}const V=t.substring(i);return c.push(V),c}function OR(t,i,o,c,f,C,V,oe,be){const Je=[],ht=[],zt=[];o.cases.push(V),o.create.push(Je),o.remove.push(ht),o.update.push(zt);const gn=Gf(Sl()).getInertBodyElement(oe),Dn=L0(gn)||gn;return Dn?CS(t,i,o,c,f,Je,ht,zt,Dn,C,be,0):0}function CS(t,i,o,c,f,C,V,oe,be,Je,ht,zt){let ln=0,gn=be.firstChild;for(;gn;){const Dn=qf(i,c,1,null);switch(gn.nodeType){case Node.ELEMENT_NODE:const Vn=gn,pi=Vn.tagName.toLowerCase();if(hr.hasOwnProperty(pi)){oD(C,gC,pi,Je,Dn),i.data[Dn]=pi;const uo=Vn.attributes;for(let Ma=0;Ma<uo.length;Ma++){const Gc=uo.item(Ma),zv=Gc.name.toLowerCase();Gc.value.match(bC)?Fb.hasOwnProperty(zv)&&ub(oe,Gc.value,Dn,Gc.name,0,P0[zv]?sh:null):wR(C,Dn,Gc)}const Qo={kind:1,index:Dn,children:[]};t.push(Qo),ln=CS(Qo.children,i,o,c,f,C,V,oe,gn,Dn,ht,zt+1)|ln,MS(V,Dn,zt)}break;case Node.TEXT_NODE:const gi=gn.textContent||"",Gn=gi.match(bC);oD(C,null,Gn?"":gi,Je,Dn),MS(V,Dn,zt),Gn&&(ln=ub(oe,gi,Dn,null,0,null)|ln),t.push({kind:0,index:Dn});break;case Node.COMMENT_NODE:const As=gR.exec(gn.textContent||"");if(As){const Qo=ht[parseInt(As[1],10)];oD(C,vC,"",Je,Dn),yS(t,i,c,f,Je,Qo,Dn),xR(V,Dn,zt)}}gn=gn.nextSibling}return ln}function MS(t,i,o){0===o&&t.push(i)}function xR(t,i,o){0===o&&(t.push(~i),t.push(i))}function oD(t,i,o,c,f){null!==i&&t.push(i),t.push(o,f,function jM(t,i,o){return t|i<<17|o<<1}(0,c,f))}function wR(t,i,o){t.push(i<<1|1,o.name,o.value)}const TS=0,kR=/\[(\ufffd.+?\ufffd?)\]/,PR=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,LR=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,FR=/{([A-Z0-9_]+)}/g,NR=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,BR=/\/\*/,$R=/\d+\:(\d+)/;function rD(t,i,o=-1){const c=ks(),f=jn(),C=Pi+t,V=Yo(c.consts,i),oe=Zd();c.firstCreatePass&&function CR(t,i,o,c,f,C){const V=Zd(),oe=[],be=[],Je=[[]],ht=[[]];f=function IR(t,i){if(function QE(t){return-1===t}(i))return ES(t);{const o=t.indexOf(`:${i}${db}`)+2+i.toString().length,c=t.search(new RegExp(`${db}\\/\\*\\d+:${i}${db}`));return ES(t.substring(o,c))}}(f,C);const zt=function yR(t){return t.replace(ER," ")}(f).split(bR);for(let ln=0;ln<zt.length;ln++){let gn=zt[ln];if(1&ln){const Dn=47===gn.charCodeAt(0),Vn=gn.charCodeAt(Dn?1:0),pi=Pi+Number.parseInt(gn.substring(Dn?2:1));if(Dn)Je.shift(),ht.shift(),ll(Zd(),!1);else{const gi=$M(t,Je[0],pi);Je.unshift([]),ll(gi,!0);const Gn={kind:2,index:pi,children:[],type:35===Vn?0:1};ht[0].push(Gn),ht.unshift(Gn.children)}}else{const Dn=sD(gn);for(let Vn=0;Vn<Dn.length;Vn++){let pi=Dn[Vn];if(1&Vn){const gi=pi;if("object"!=typeof gi)throw new Error(`Unable to parse ICU expression in "${f}" message.`);const As=vS(t,V,Je[0],o,oe,"",!0).index;yS(ht[0],t,o,be,i,gi,As)}else""!==pi&&MR(ht[0],t,V,Je[0],oe,be,o,pi)}}}t.data[c]={create:oe,update:be,ast:ht[0],parentTNodeIndex:i}}(c,null===oe?0:oe.index,f,C,V,o),2===c.type?f[ki][Yi]|=32:f[Yi]|=32;const be=c.data[C],ht=aE(c,oe===f[Ss]?null:oe,f),zt=oe&&8&oe.type?f[oe.index]:null;(function b1(t,i,o,c){ms(t,i,o,c)})(f,C,oe,o),function _R(t,i,o,c){const f=t[rs];for(let C=0;C<i.length;C++){const V=i[C++],Je=(V&Vc.APPEND_EAGERLY)===Vc.APPEND_EAGERLY,ht=V>>>Vc.SHIFT;let zt=t[ht],ln=!1;null===zt&&(zt=t[ht]=cb(t,ht,i[C],(V&Vc.COMMENT)===Vc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ln=Gh()),Je&&null!==o&&ln&&d_(f,o,zt,c,!1)}}(f,be.create,ht,zt),$m(!0)}function aD(){$m(!1)}function DS(t,i,o){rD(t,i,o),aD()}function lD(t){return function cR(t){t&&(ab|=1<<Math.min(lb,31)),lb++}(Lr(jn(),Pa(),t)),lD}function IS(t){!function dR(t,i,o){if(lb>0){const c=t.data[o];_S(t,i,Array.isArray(c)?c:c.update,ka()-lb-1,ab)}ab=0,lb=0}(ks(),jn(),t+Pi)}function SS(t,i={}){return function jR(t,i={}){let o=t;if(kR.test(t)){const c={},f=[TS];o=o.replace(PR,(C,V,oe)=>{const be=V||oe,Je=c[be]||[];if(Je.length||(be.split("|").forEach(Vn=>{const pi=Vn.match($R),gi=pi?parseInt(pi[1],10):TS,Gn=BR.test(Vn);Je.push([gi,Gn,Vn])}),c[be]=Je),!Je.length)throw new Error(`i18n postprocess: unmatched placeholder - ${be}`);const ht=f[f.length-1];let zt=0;for(let Vn=0;Vn<Je.length;Vn++)if(Je[Vn][0]===ht){zt=Vn;break}const[ln,gn,Dn]=Je[zt];return gn?f.pop():ht!==ln&&f.push(ln),Je.splice(zt,1),Dn})}return Object.keys(i).length&&(o=o.replace(LR,(c,f,C,V,oe,be)=>i.hasOwnProperty(C)?`${f}${i[C]}${be}`:c),o=o.replace(FR,(c,f)=>i.hasOwnProperty(f)?i[f]:c),o=o.replace(NR,(c,f)=>{if(i.hasOwnProperty(f)){const C=i[f];if(!C.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${f}`);return C.shift()}return c})),o}(t,i)}let OS=(t,i,o)=>{};function cD(t,i,o,c){const f=jn(),C=ks(),V=to();return uD(C,f,f[rs],V,t,i,c),cD}function dD(t,i){const o=to(),c=jn(),f=ks();return uD(f,c,xE(Cr(f.data),o,c),o,t,i),dD}function uD(t,i,o,c,f,C,V){const oe=wu(c),Je=t.firstCreatePass&&f_(t),ht=i[Io],zt=p_(i);let ln=!0;if(3&c.type||V){const Vn=Er(c,i),pi=V?V(Vn):Vn,gi=zt.length,Gn=V?uo=>V(Qs(uo[c.index])):c.index;let As=null;if(!V&&oe&&(As=function VR(t,i,o,c){const f=t.cleanup;if(null!=f)for(let C=0;C<f.length-1;C+=2){const V=f[C];if(V===o&&f[C+1]===c){const oe=i[vd],be=f[C+2];return oe.length>be?oe[be]:null}"string"==typeof V&&(C+=2)}return null}(t,i,f,c.index)),null!==As)(As.__ngLastListenerFn__||As).__ngNextListenerFn__=C,As.__ngLastListenerFn__=C,ln=!1;else{C=AS(c,i,ht,C),OS(Vn,f,C);const uo=o.listen(pi,f,C);zt.push(C,uo),Je&&Je.push(f,Gn,gi,gi+1)}}else C=AS(c,i,ht,C);const gn=c.outputs;let Dn;if(ln&&null!==gn&&(Dn=gn[f])){const Vn=Dn.length;if(Vn)for(let pi=0;pi<Vn;pi+=2){const Qo=i[Dn[pi]][Dn[pi+1]].subscribe(C),Ma=zt.length;zt.push(C,Qo),Je&&Je.push(f,c.index,Ma,-(Ma+1))}}}function RS(t,i,o,c){const f=b(null);try{return al(6,i,o),!1!==o(c)}catch(C){return Zg(t,C),!1}finally{al(7,i,o),b(f)}}function AS(t,i,o,c){return function f(C){if(C===Function)return c;tm(t.componentOffset>-1?za(t.index,i):i,5);let oe=RS(i,o,c,C),be=f.__ngNextListenerFn__;for(;be;)oe=RS(i,o,be,C)&&oe,be=be.__ngNextListenerFn__;return oe}}function wS(t=1){return function uf(t){return(lt.lFrame.contextLView=function P_(t,i){for(;t>0;)i=i[bd],t--;return i}(t,lt.lFrame.contextLView))[Io]}(t)}function GR(t,i){let o=null;const c=function Ul(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let f=0;f<i.length;f++){const C=i[f];if("*"!==C){if(null===c?Ou(t,C,!0):El(c,C))return f}else o=f}return o}function kS(t){const i=jn()[ki][Ss];if(!i.projection){const c=i.projection=function Vr(t,i){const o=[];for(let c=0;c<t;c++)o.push(i);return o}(t?t.length:1,null),f=c.slice();let C=i.child;for(;null!==C;){if(128!==C.type){const V=t?GR(C,t):0;null!==V&&(f[V]?f[V].projectionNext=C:c[V]=C,f[V]=C)}C=C.next}}}function PS(t,i=0,o,c,f,C){const V=jn(),oe=ks(),be=c?t+1:null;null!==be&&vm(V,oe,be,c,f,C,null,o);const Je=dd(oe,Pi+t,16,null,o||null);null===Je.projection&&(Je.projection=i),F_();const zt=!V[Ar]||Vs();null===V[ki][Ss].projection[Je.projection]&&null!==be?function KR(t,i,o){const c=Pi+o,f=i.data[c],C=t[c],V=b_(C,f.tView.ssrId);ca(C,ud(t,f,void 0,{dehydratedView:V}),0,ql(f,V))}(V,oe,be):zt&&32&~Je.flags&&function vM(t,i,o){fE(i[rs],0,i,o,rE(t,o,i),uE(o.parent||i[Ss],o,i))}(oe,V,Je)}function EC(t,i,o,c,f){const C=jn(),V=kv(C,i,o,c);return V!==Es&&Rl(ks(),di(),C,t,V,C[rs],f,!1),EC}function KS(t,i,o,c){W1(t,i,o,c)}function WS(t,i,o){!function hm(t,i,o){const c=ks();return c.firstCreatePass&&(_m(c,new Cy(t,i,o),-1),!(2&~i)&&(c.staticViewQueries=!0)),K1(c,jn(),i)}(t,i,o)}function zS(t){const i=jn(),o=ks(),c=Qv();cl(c+1);const f=y_(o,c);if(t.dirty&&function lf(t){return!(4&~t[Yi])}(i)===!(2&~f.metadata.flags)){if(null===f.matches)t.reset([]);else{const C=vu(i,c);t.reset(C,ip),t.notifyOnChanges()}return!0}return!1}function XS(){return G1(jn(),Qv())}function HS(t,i,o,c,f){!function Ry(t,i){const o=t[g];o._lView=jn(),o._queryIndex=i,o._queryList=G1(o._lView,i),o._queryList.onDirty(()=>o._dirtyCounter.update(c=>c+1))}(i,W1(t,o,c,f))}function YS(t=1){cl(Qv()+t)}function QS(t){return kc(function df(){return lt.lFrame.contextLView}(),Pi+t)}function a2(t,i=""){const o=jn(),c=ks(),f=t+Pi,C=c.firstCreatePass?dd(c,f,1,i,null):c.data[f],V=l2(c,o,C,i,t);o[f]=V,Gh()&&ko(c,o,V,C),ll(C,!1)}let l2=(t,i,o,c,f)=>(La(!0),V0(i[rs],c));function _D(t){return yC("",t,""),_D}function yC(t,i,o){const c=jn(),f=kv(c,t,i,o);return f!==Es&&mu(c,ra(),f),yC}function pD(t,i,o,c,f){const C=jn(),V=function Pv(t,i,o,c,f,C){const oe=Qr(t,ka(),o,f);return Lc(2),oe?i+Rt(o)+c+Rt(f)+C:Es}(C,t,i,o,c,f);return V!==Es&&mu(C,ra(),V),pD}function fD(t,i,o,c,f,C,V){const oe=jn(),be=function Lv(t,i,o,c,f,C,V,oe){const Je=C_(t,ka(),o,f,V);return Lc(3),Je?i+Rt(o)+c+Rt(f)+C+Rt(V)+oe:Es}(oe,t,i,o,c,f,C,V);return be!==Es&&mu(oe,ra(),be),fD}function mD(t,i,o,c,f,C,V,oe,be){const Je=jn(),ht=function Fv(t,i,o,c,f,C,V,oe,be,Je){const zt=jc(t,ka(),o,f,V,be);return Lc(4),zt?i+Rt(o)+c+Rt(f)+C+Rt(V)+oe+Rt(be)+Je:Es}(Je,t,i,o,c,f,C,V,oe,be);return ht!==Es&&mu(Je,ra(),ht),mD}function gD(t,i,o){vv(i)&&(i=i());const c=jn();return Lr(c,Pa(),i)&&Rl(ks(),di(),c,t,i,c[rs],o,!1),gD}function p2(t,i){const o=vv(t);return o&&t.set(i),o}function vD(t,i){const o=jn(),c=ks(),f=to();return uD(c,o,o[rs],f,t,i),vD}function bD(t,i,o,c,f){if(t=Ui(t),Array.isArray(t))for(let C=0;C<t.length;C++)bD(t[C],i,o,c,f);else{const C=ks(),V=jn(),oe=to();let be=Yc(t)?t:Ui(t.provide);const Je=Gd(t),ht=1048575&oe.providerIndexes,zt=oe.directiveStart,ln=oe.providerIndexes>>20;if(Yc(t)||!t.multi){const gn=new nd(Je,f,u_),Dn=yD(be,i,f?ht:ht+ln,zt);-1===Dn?(z_(W_(oe,V),C,be),ED(C,t,i.length),i.push(be),oe.directiveStart++,oe.directiveEnd++,f&&(oe.providerIndexes+=1048576),o.push(gn),V.push(gn)):(o[Dn]=gn,V[Dn]=gn)}else{const gn=yD(be,i,ht+ln,zt),Dn=yD(be,i,ht,ht+ln),pi=Dn>=0&&o[Dn];if(f&&!pi||!f&&!(gn>=0&&o[gn])){z_(W_(oe,V),C,be);const gi=function lA(t,i,o,c,f){const C=new nd(t,o,u_);return C.multi=[],C.index=i,C.componentProviders=0,g2(C,f,c&&!o),C}(f?aA:rA,o.length,f,c,Je);!f&&pi&&(o[Dn].providerFactory=gi),ED(C,t,i.length,0),i.push(be),oe.directiveStart++,oe.directiveEnd++,f&&(oe.providerIndexes+=1048576),o.push(gi),V.push(gi)}else ED(C,t,gn>-1?gn:Dn,g2(o[f?Dn:gn],Je,!f&&c));!f&&c&&pi&&o[Dn].componentProviders++}}}function ED(t,i,o,c){const f=Yc(i),C=function Sm(t){return!!t.useClass}(i);if(f||C){const be=(C?Ui(i.useClass):i).prototype.ngOnDestroy;if(be){const Je=t.destroyHooks||(t.destroyHooks=[]);if(!f&&i.multi){const ht=Je.indexOf(o);-1===ht?Je.push(o,[c,be]):Je[ht+1].push(c,be)}else Je.push(o,be)}}}function g2(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function yD(t,i,o,c){for(let f=o;f<c;f++)if(i[f]===t)return f;return-1}function rA(t,i,o,c){return CD(this.multi,[])}function aA(t,i,o,c){const f=this.multi;let C;if(this.providerFactory){const V=this.providerFactory.componentProviders,oe=id(o,o[oi],this.providerFactory.index,c);C=oe.slice(0,V),CD(f,C);for(let be=V;be<oe.length;be++)C.push(oe[be])}else C=[],CD(f,C);return C}function CD(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function v2(t,i=[]){return o=>{o.providersResolver=(c,f)=>function oA(t,i,o){const c=ks();if(c.firstCreatePass){const f=qo(t);bD(o,c.data,c.blueprint,f,!0),bD(i,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,i)}}let cA=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=Th(0,o.type),f=c.length>0?tb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=js({token:t,providedIn:"environment",factory:()=>new t(Xi(va))})}return t})();function b2(t){fl("NgStandalone"),t.getStandaloneInjector=i=>i.get(cA).getOrCreateStandaloneInjector(t)}function E2(t,i,o){const c=t.\u0275cmp;c.directiveDefs=Vl(i,!1),c.pipeDefs=Vl(o,!0)}function M2(t,i,o){const c=Tl()+t,f=jn();return f[c]===Es?Nd(f,c,o?i.call(o):i()):gm(f,c)}function T2(t,i,o,c){return A2(jn(),Tl(),t,i,o,c)}function D2(t,i,o,c,f){return w2(jn(),Tl(),t,i,o,c,f)}function I2(t,i,o,c,f,C){return k2(jn(),Tl(),t,i,o,c,f,C)}function S2(t,i,o,c,f,C,V){return function P2(t,i,o,c,f,C,V,oe,be){const Je=i+o;return jc(t,Je,f,C,V,oe)?Nd(t,Je+4,be?c.call(be,f,C,V,oe):c(f,C,V,oe)):hb(t,Je+4)}(jn(),Tl(),t,i,o,c,f,C,V)}function O2(t,i,o,c,f,C,V,oe){const be=Tl()+t,Je=jn(),ht=jc(Je,be,o,c,f,C);return Lr(Je,be+4,V)||ht?Nd(Je,be+5,oe?i.call(oe,o,c,f,C,V):i(o,c,f,C,V)):gm(Je,be+5)}function x2(t,i,o,c,f,C,V,oe,be,Je){const ht=Tl()+t,zt=jn();let ln=jc(zt,ht,o,c,f,C);return C_(zt,ht+4,V,oe,be)||ln?Nd(zt,ht+7,Je?i.call(Je,o,c,f,C,V,oe,be):i(o,c,f,C,V,oe,be)):gm(zt,ht+7)}function R2(t,i,o,c,f,C,V,oe,be,Je,ht){const zt=Tl()+t,ln=jn(),gn=jc(ln,zt,o,c,f,C);return jc(ln,zt+4,V,oe,be,Je)||gn?Nd(ln,zt+8,ht?i.call(ht,o,c,f,C,V,oe,be,Je):i(o,c,f,C,V,oe,be,Je)):gm(ln,zt+8)}function hb(t,i){const o=t[i];return o===Es?void 0:o}function A2(t,i,o,c,f,C){const V=i+o;return Lr(t,V,f)?Nd(t,V+1,C?c.call(C,f):c(f)):hb(t,V+1)}function w2(t,i,o,c,f,C,V){const oe=i+o;return Qr(t,oe,f,C)?Nd(t,oe+2,V?c.call(V,f,C):c(f,C)):hb(t,oe+2)}function k2(t,i,o,c,f,C,V,oe){const be=i+o;return C_(t,be,f,C,V)?Nd(t,be+3,oe?c.call(oe,f,C,V):c(f,C,V)):hb(t,be+3)}function F2(t,i){const o=ks();let c;const f=t+Pi;o.firstCreatePass?(c=function pA(t,i){if(i)for(let o=i.length-1;o>=0;o--){const c=i[o];if(t===c.name)return c}}(i,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks??=[]).push(f,c.onDestroy)):c=o.data[f];const C=c.factory||(c.factory=ac(c.type)),oe=Zi(u_);try{const be=G_(!1),Je=C();return G_(be),function hD(t,i,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),i[o]=c}(o,jn(),f,Je),Je}finally{Zi(oe)}}function N2(t,i,o){const c=t+Pi,f=jn(),C=kc(f,c);return _b(f,c)?A2(f,Tl(),i,C.transform,o,C):C.transform(o)}function B2(t,i,o,c){const f=t+Pi,C=jn(),V=kc(C,f);return _b(C,f)?w2(C,Tl(),i,V.transform,o,c,V):V.transform(o,c)}function $2(t,i,o,c,f){const C=t+Pi,V=jn(),oe=kc(V,C);return _b(V,C)?k2(V,Tl(),i,oe.transform,o,c,f,oe):oe.transform(o,c,f)}function _b(t,i){return t[oi].data[i].pure}function j2(t,i){return iv(t,i)}class nO{constructor(i){this.full=i;const o=i.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const BA=new nO("18.2.3");let iO=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const lO=new Hi(""),cO=new Hi("");let OD,dw=(()=>{class t{constructor(o,c,f){this._ngZone=o,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,OD||(function uw(t){OD=t}(f),f.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let C=-1;c&&c>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(V=>V.timeoutId!==C),o()},c)),this._callbacks.push({doneCb:o,timeoutId:C,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Xi(wo),Xi(dO),Xi(cO))};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac})}return t})(),dO=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return OD?.findTestabilityInTree(this,o,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function xD(t){return!!t&&"function"==typeof t.then}function uO(t){return!!t&&"function"==typeof t.subscribe}const hO=new Hi("");let _O=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Jn(hO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const C=f();if(xD(C))o.push(C);else if(uO(C)){const V=new Promise((oe,be)=>{C.subscribe({complete:oe,error:be})});o.push(V)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const IC=new Hi("");function fO(t,i){return Array.isArray(i)?i.reduce(fO,t):{...t,...i}}let bh=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(lg),this.afterRenderManager=Jn(sC),this.zonelessEnabled=Jn(am),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe.B7,this.afterTick=new Xe.B7,this.componentTypes=[],this.components=[],this.isStable=Jn(lu).hasPendingTasks.pipe((0,dt.T)(o=>!o)),this._injector=Jn(va)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(c=>{o=this.isStable.subscribe({next:f=>{f&&c()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,c){const f=o instanceof hy;if(!this._injector.get(_O).done)throw!f&&rr(o),new ri(405,!1);let V;V=f?o:this._injector.get(lm).resolveComponentFactory(o),this.componentTypes.push(V.componentType);const oe=function hw(t){return t.isBoundToModule}(V)?void 0:this._injector.get(fh),Je=V.create(Ea.NULL,[],c||V.selector,oe),ht=Je.location.nativeElement,zt=Je.injector.get(lO,null);return zt?.registerApplication(ht),Je.onDestroy(()=>{this.detachView(Je.hostView),SC(this.components,Je),zt?.unregisterApplication(ht)}),this._loadComponent(Je),Je}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ri(101,!1);const o=b(null);try{this._runningTick=!0,this.synchronize()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1,b(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(D1,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let c=0;for(;0!==this.dirtyFlags&&c++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const c=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(c);for(let{_lView:f,notifyErrorHandler:C}of this._views)fw(f,C,c,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else o?.begin?.(),o?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Id(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;SC(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(IC,[]);[...this._bootstrapListeners,...c].forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>SC(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ri(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SC(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}function fw(t,i,o,c){(o||Id(t))&&Ap(t,i,o&&!c?0:1)}class mw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let gw=(()=>{class t{compileModuleSync(o){return new eb(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),C=Jl(lo(o).declarations).reduce((V,oe)=>{const be=Kn(oe);return be&&V.push(new dm(be)),V},[]);return new mw(c,C)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ew=(()=>{class t{constructor(){this.zone=Jn(wo),this.changeDetectionScheduler=Jn(Bp),this.applicationRef=Jn(bh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RD({ngZoneFactory:t,ignoreChangesOutsideZone:i,scheduleInRootZone:o}){return t??=()=>new wo({...AD(),scheduleInRootZone:o}),[{provide:wo,useFactory:t},{provide:Rr,multi:!0,useFactory:()=>{const c=Jn(Ew,{optional:!0});return()=>c.initialize()}},{provide:Rr,multi:!0,useFactory:()=>{const c=Jn(Cw);return()=>{c.initialize()}}},!0===i?{provide:uy,useValue:!0}:[],{provide:T1,useValue:o??ig}]}function AD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Cw=(()=>{class t{constructor(){this.subscription=new xt.y,this.initialized=!1,this.zone=Jn(wo),this.pendingTasks=Jn(lu)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{wo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{wo.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mb=(()=>{class t{constructor(){this.appRef=Jn(bh),this.taskService=Jn(lu),this.ngZone=Jn(wo),this.zonelessEnabled=Jn(am),this.disableScheduling=Jn(uy,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new xt.y,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(np):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Jn(T1,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xu||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?sg:Sb;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(np+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(c){throw this.taskService.remove(o),c}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kD=new Hi("",{providedIn:"root",factory:()=>Jn(kD,ei.Optional|ei.SkipSelf)||function Mw(){return typeof $localize<"u"&&$localize.locale||mC}()}),Tw=new Hi("",{providedIn:"root",factory:()=>"USD"}),PD=new Hi("");function xC(t){return!!t.platformInjector}let CO=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=c?.scheduleInRootZone,V=c?.ignoreChangesOutsideZone,oe=[RD({ngZoneFactory:()=>function d0(t="zone.js",i){return"noop"===t?new Xu:"zone.js"===t?new wo(i):t}(c?.ngZone,{...AD({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}),scheduleInRootZone:f}),ignoreChangesOutsideZone:V}),{provide:Bp,useExisting:mb}],be=function AT(t,i,o){return new q1(t,i,o,!1)}(o.moduleType,this.injector,oe);return function yO(t){const i=xC(t)?t.r3Injector:t.moduleRef.injector,o=i.get(wo);return o.run(()=>{xC(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const c=i.get(rd,null);let f;if(o.runOutsideAngular(()=>{f=o.onError.subscribe({next:C=>{c.handleError(C)}})}),xC(t)){const C=()=>i.destroy(),V=t.platformInjector.get(PD);V.add(C),i.onDestroy(()=>{f.unsubscribe(),V.delete(C)})}else t.moduleRef.onDestroy(()=>{SC(t.allPlatformModules,t.moduleRef),f.unsubscribe()});return function pw(t,i,o){try{const c=o();return xD(c)?c.catch(f=>{throw i.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw i.runOutsideAngular(()=>t.handleError(c)),c}}(c,o,()=>{const C=i.get(_O);return C.runInitializers(),C.donePromise.then(()=>{if(function aR(t){"string"==typeof t&&(dS=t.toLowerCase().replace(/_/g,"-"))}(i.get(kD,mC)||mC),xC(t)){const oe=i.get(bh);return void 0!==t.rootComponent&&oe.bootstrap(t.rootComponent),oe}return function xw(t,i){const o=t.injector.get(bh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new ri(-403,!1);t.instance.ngDoBootstrap(o)}i.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:be,allPlatformModules:this._modules})}bootstrapModule(o,c=[]){const f=fO({},c);return function bw(t,i,o){const c=new eb(o);return Promise.resolve(c)}(0,0,o).then(C=>this.bootstrapModuleFactory(C,f))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ri(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(PD,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Xi(Ea))};static#t=this.\u0275prov=js({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Yp=null;const MO=new Hi("");function TO(t,i,o=[]){const c=`Platform: ${i}`,f=new Hi(c);return(C=[])=>{let V=LD();if(!V||V.injector.get(MO,!1)){const oe=[...o,...C,{provide:f,useValue:!0}];t?t(oe):function Rw(t){if(Yp&&!Yp.get(MO,!1))throw new ri(400,!1);(function pO(){!function N(t){Y=t}(()=>{throw new ri(600,!1)})})(),Yp=t;const i=t.get(CO);(function IO(t){t.get(Pf,null)?.forEach(o=>o())})(t)}(function DO(t=[],i){return Ea.create({name:i,providers:[{provide:S_,useValue:"platform"},{provide:PD,useValue:new Set([()=>Yp=null])},...t]})}(oe,c))}return function Aw(){const i=LD();if(!i)throw new ri(401,!1);return i}()}}function LD(){return Yp?.get(CO)??null}function kw(){}let OO=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Pw}return t})();function Pw(t){return function Lw(t,i,o){if(zl(t)&&!o){const c=za(t.index,i);return new wp(c,c)}return 175&t.type?new wp(i[ki],i):null}(to(),jn(),!(16&~t))}class wO{constructor(){}supports(i){return Tv(i)}create(i){return new jw(i)}}const $w=(t,i)=>i;class jw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||$w}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,f=0,C=null;for(;o||c;){const V=!c||o&&o.currentIndex<PO(c,f,C)?o:c,oe=PO(V,f,C),be=V.currentIndex;if(V===c)f--,c=c._nextRemoved;else if(o=o._next,null==V.previousIndex)f++;else{C||(C=[]);const Je=oe-f,ht=be-f;if(Je!=ht){for(let ln=0;ln<Je;ln++){const gn=ln<C.length?C[ln]:C[ln]=0,Dn=gn+ln;ht<=Dn&&Dn<Je&&(C[ln]=gn+1)}C[V.previousIndex]=ht-Je}}oe!==be&&i(V,oe,be)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Tv(i))throw new ri(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,C,V,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let oe=0;oe<this.length;oe++)C=i[oe],V=this._trackByFn(oe,C),null!==o&&Object.is(o.trackById,V)?(c&&(o=this._verifyReinsertion(o,C,V,oe)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,V,oe),c=!0),o=o._next}else f=0,function kT(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,oe=>{V=this._trackByFn(f,oe),null!==o&&Object.is(o.trackById,V)?(c&&(o=this._verifyReinsertion(o,oe,V,f)),Object.is(o.item,oe)||this._addIdentityChange(o,oe)):(o=this._mismatch(o,oe,V,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,f){let C;return null===i?C=this._itTail:(C=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,C,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,C,f)):i=this._addAfter(new Uw(o,c),C,f),i}_verifyReinsertion(i,o,c,f){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==C?i=this._reinsertAfter(C,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,C=i._nextRemoved;return null===f?this._removalsHead=C:f._nextRemoved=C,null===C?this._removalsTail=f:C._prevRemoved=f,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const f=null===o?this._itHead:o._next;return i._next=f,i._prev=o,null===f?this._itTail=i:f._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new kO),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kO),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Uw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class kO{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new Vw,this.map.set(o,c)),c.add(i)}get(i,o){const f=this.map.get(i);return f?f.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PO(t,i,o){const c=t.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+i+f}class LO{constructor(){}supports(i){return i instanceof Map||nb(i)}create(){return new Gw}}class Gw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||nb(i)))throw new ri(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const C=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,C)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,o);const C=f._prev,V=f._next;return C&&(C._next=V),V&&(V._prev=C),f._next=null,f._prev=null,f}const c=new Kw(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class Kw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FO(){return new jD([new wO])}let jD=(()=>{class t{static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:FO});constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||FO()),deps:[[t,new or,new Ua]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new ri(901,!1)}}return t})();function NO(){return new UD([new LO])}let UD=(()=>{class t{static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:NO});constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||NO()),deps:[[t,new or,new Ua]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(c)return c;throw new ri(901,!1)}}return t})();const Xw=TO(null,"core",[]);let Hw=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(c){return new(c||t)(Xi(bh))};static#t=this.\u0275mod=Zt({type:t});static#n=this.\u0275inj=Sr({})}return t})();const qO=new Hi("");function Dk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Ik(t,i=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?i:Number(t)}function Ok(t,i){fl("NgSignals");const o=W(t);return i?.equal&&(o[g].equal=i.equal),o}function xk(t){const i=b(null);try{return t()}finally{b(i)}}const Rk=new Hi("",{providedIn:"root",factory:()=>Jn(Ak)});let Ak=(()=>{class t{static#e=this.\u0275prov=js({token:t,providedIn:"root",factory:()=>new wk})}return t})();class wk{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Jn(lu),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const o=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(o),this.taskId=null})}}enqueue(i){const o=i.creationZone;this.queues.has(o)||this.queues.set(o,new Set);const c=this.queues.get(o);c.has(i)||(this.queuedEffectCount++,c.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,o]of this.queues)null===i?this.flushQueue(o):i.run(()=>this.flushQueue(o))}flushQueue(i){for(const o of i)i.delete(o),this.queuedEffectCount--,o.run()}}class kk{constructor(i,o,c,f,C,V){this.scheduler=i,this.effectFn=o,this.creationZone=c,this.injector=C,this.watcher=function Me(t,i,o){const c=Object.create(he);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=i;const f=be=>{c.cleanupFn=be};return c.ref={notify:()=>K(c),run:()=>{if(null===c.fn)return;if(function _(){return d}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(c.dirty=!1,c.hasRun&&!S(c))return;c.hasRun=!0;const be=P(c);try{c.cleanupFn(),c.cleanupFn=pe,c.fn(f)}finally{j(c,be)}},cleanup:()=>c.cleanupFn(),destroy:()=>function V(be){(function C(be){return null===be.fn&&null===be.schedule})(be)||(w(be),be.cleanupFn(),be.fn=null,be.schedule=null,be.cleanupFn=pe)}(c),[g]:c},c.ref}(oe=>this.runEffect(oe),()=>this.schedule(),V),this.unregisterOnDestroy=f?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(o){this.injector.get(rd,null,{optional:!0})?.handleError(o)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function cx(t,i){fl("NgSignals"),!i?.injector&&oa();const o=i?.injector??Jn(Ea),c=!0!==i?.manualCleanup?o.get(Qh):null,f=new kk(o.get(Rk),t,typeof Zone>"u"?null:Zone.current,c,o,i?.allowSignalWrites??!1),C=o.get(OO,null,{optional:!0});return C&&8&C._lView[Yi]?(C._lView[Ru]??=[]).push(f.watcher.notify):f.watcher.notify(),f}function Pk(t){const i=Kn(t);if(!i)return null;const o=new dm(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(Ot,ve,s)=>{"use strict";s.d(ve,{$R:()=>jt,BC:()=>Qt,JD:()=>Ki,MJ:()=>zi,Q0:()=>Dr,X1:()=>Ll,YN:()=>_s,YS:()=>jo,cV:()=>Ei,cb:()=>_n,cz:()=>j,gE:()=>et,j4:()=>ir,k0:()=>m,kq:()=>u,me:()=>B,qT:()=>nr,tU:()=>bc,vO:()=>Xe,vS:()=>Zs,xq:()=>Ur});var e=s(3953),n=s(177),d=s(4787),h=s(696),g=s(5286),b=s(5006);let E=(()=>{class tt{constructor(we,kt){this._renderer=we,this._elementRef=kt,this.onChange=pn=>{},this.onTouched=()=>{}}setProperty(we,kt){this._renderer.setProperty(this._elementRef.nativeElement,we,kt)}registerOnTouched(we){this.onTouched=we}registerOnChange(we){this.onChange=we}setDisabledState(we){this.setProperty("disabled",we)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:tt})}return tt})(),_=(()=>{class tt extends E{static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,features:[e.Vt3]})}return tt})();const u=new e.nKC(""),y={provide:u,useExisting:(0,e.Rfq)(()=>B),multi:!0},M=new e.nKC("");let B=(()=>{class tt extends E{constructor(we,kt,pn){super(we,kt),this._compositionMode=pn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const tt=(0,n.QT)()?(0,n.QT)().getUserAgent():"";return/android (\d+)/.test(tt.toLowerCase())}())}writeValue(we){this.setProperty("value",we??"")}_handleInput(we){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(we)}_compositionStart(){this._composing=!0}_compositionEnd(we){this._composing=!1,this._compositionMode&&this.onChange(we)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(M,8))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(kt,pn){1&kt&&e.bIt("input",function(ps){return pn._handleInput(ps.target.value)})("blur",function(){return pn.onTouched()})("compositionstart",function(){return pn._compositionStart()})("compositionend",function(ps){return pn._compositionEnd(ps.target.value)})},features:[e.Jv_([y]),e.Vt3]})}return tt})();function K(tt){return null==tt||("string"==typeof tt||Array.isArray(tt))&&0===tt.length}function P(tt){return null!=tt&&"number"==typeof tt.length}const j=new e.nKC(""),S=new e.nKC(""),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class m{static min(ct){return function v(tt){return ct=>{if(K(ct.value)||K(tt))return null;const we=parseFloat(ct.value);return!isNaN(we)&&we<tt?{min:{min:tt,actual:ct.value}}:null}}(ct)}static max(ct){return function A(tt){return ct=>{if(K(ct.value)||K(tt))return null;const we=parseFloat(ct.value);return!isNaN(we)&&we>tt?{max:{max:tt,actual:ct.value}}:null}}(ct)}static required(ct){return L(ct)}static requiredTrue(ct){return G(ct)}static email(ct){return function O(tt){return K(tt.value)||w.test(tt.value)?null:{email:!0}}(ct)}static minLength(ct){return function W(tt){return ct=>K(ct.value)||!P(ct.value)?null:ct.value.length<tt?{minlength:{requiredLength:tt,actualLength:ct.value.length}}:null}(ct)}static maxLength(ct){return U(ct)}static pattern(ct){return function $(tt){if(!tt)return te;let ct,we;return"string"==typeof tt?(we="","^"!==tt.charAt(0)&&(we+="^"),we+=tt,"$"!==tt.charAt(tt.length-1)&&(we+="$"),ct=new RegExp(we)):(we=tt.toString(),ct=tt),kt=>{if(K(kt.value))return null;const pn=kt.value;return ct.test(pn)?null:{pattern:{requiredPattern:we,actualValue:pn}}}}(ct)}static nullValidator(ct){return null}static compose(ct){return ae(ct)}static composeAsync(ct){return xe(ct)}}function L(tt){return K(tt.value)?{required:!0}:null}function G(tt){return!0===tt.value?null:{required:!0}}function U(tt){return ct=>P(ct.value)&&ct.value.length>tt?{maxlength:{requiredLength:tt,actualLength:ct.value.length}}:null}function te(tt){return null}function ie(tt){return null!=tt}function me(tt){return(0,e.jNT)(tt)?(0,d.H)(tt):tt}function Y(tt){let ct={};return tt.forEach(we=>{ct=null!=we?{...ct,...we}:ct}),0===Object.keys(ct).length?null:ct}function F(tt,ct){return ct.map(we=>we(tt))}function J(tt){return tt.map(ct=>function N(tt){return!tt.validate}(ct)?ct:we=>ct.validate(we))}function ae(tt){if(!tt)return null;const ct=tt.filter(ie);return 0==ct.length?null:function(we){return Y(F(we,ct))}}function _e(tt){return null!=tt?ae(J(tt)):null}function xe(tt){if(!tt)return null;const ct=tt.filter(ie);return 0==ct.length?null:function(we){const kt=F(we,ct).map(me);return(0,h.p)(kt).pipe((0,b.T)(Y))}}function Fe(tt){return null!=tt?xe(J(tt)):null}function Ae(tt,ct){return null===tt?[ct]:Array.isArray(tt)?[...tt,ct]:[tt,ct]}function Ye(tt){return tt._rawValidators}function qe(tt){return tt._rawAsyncValidators}function Ne(tt){return tt?Array.isArray(tt)?tt:[tt]:[]}function Me(tt,ct){return Array.isArray(tt)?tt.includes(ct):tt===ct}function pe(tt,ct){const we=Ne(ct);return Ne(tt).forEach(pn=>{Me(we,pn)||we.push(pn)}),we}function he(tt,ct){return Ne(ct).filter(we=>!Me(tt,we))}class le{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ct){this._rawValidators=ct||[],this._composedValidatorFn=_e(this._rawValidators)}_setAsyncValidators(ct){this._rawAsyncValidators=ct||[],this._composedAsyncValidatorFn=Fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ct){this._onDestroyCallbacks.push(ct)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ct=>ct()),this._onDestroyCallbacks=[]}reset(ct=void 0){this.control&&this.control.reset(ct)}hasError(ct,we){return!!this.control&&this.control.hasError(ct,we)}getError(ct,we){return this.control?this.control.getError(ct,we):null}}class Ee extends le{get formDirective(){return null}get path(){return null}}class Xe extends le{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xt{constructor(ct){this._cd=ct}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Qt=(()=>{class tt extends xt{constructor(we){super(we)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Xe,2))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(kt,pn){2&kt&&e.AVh("ng-untouched",pn.isUntouched)("ng-touched",pn.isTouched)("ng-pristine",pn.isPristine)("ng-dirty",pn.isDirty)("ng-valid",pn.isValid)("ng-invalid",pn.isInvalid)("ng-pending",pn.isPending)},features:[e.Vt3]})}return tt})(),_n=(()=>{class tt extends xt{constructor(we){super(we)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Ee,10))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(kt,pn){2&kt&&e.AVh("ng-untouched",pn.isUntouched)("ng-touched",pn.isTouched)("ng-pristine",pn.isPristine)("ng-dirty",pn.isDirty)("ng-valid",pn.isValid)("ng-invalid",pn.isInvalid)("ng-pending",pn.isPending)("ng-submitted",pn.isSubmitted)},features:[e.Vt3]})}return tt})();const yn="VALID",Mn="INVALID",Ln="PENDING",Fn="DISABLED";class $n{}class Ht extends $n{constructor(ct,we){super(),this.value=ct,this.source=we}}class ze extends $n{constructor(ct,we){super(),this.pristine=ct,this.source=we}}class Bt extends $n{constructor(ct,we){super(),this.touched=ct,this.source=we}}class Te extends $n{constructor(ct,we){super(),this.status=ct,this.source=we}}class Ge extends $n{constructor(ct){super(),this.source=ct}}class Tt extends $n{constructor(ct){super(),this.source=ct}}function Wt(tt){return(De(tt)?tt.validators:tt)||null}function Pe(tt,ct){return(De(ct)?ct.asyncValidators:tt)||null}function De(tt){return null!=tt&&!Array.isArray(tt)&&"object"==typeof tt}class vt{constructor(ct,we){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,e.EWP)(()=>this.statusReactive()),this.statusReactive=(0,e.vPA)(void 0),this._pristine=(0,e.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,e.vPA)(!0),this._touched=(0,e.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,e.vPA)(!1),this._events=new g.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ct),this._assignAsyncValidators(we)}get validator(){return this._composedValidatorFn}set validator(ct){this._rawValidators=this._composedValidatorFn=ct}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ct){this._rawAsyncValidators=this._composedAsyncValidatorFn=ct}get parent(){return this._parent}get status(){return(0,e.O8t)(this.statusReactive)}set status(ct){(0,e.O8t)(()=>this.statusReactive.set(ct))}get valid(){return this.status===yn}get invalid(){return this.status===Mn}get pending(){return this.status==Ln}get disabled(){return this.status===Fn}get enabled(){return this.status!==Fn}get pristine(){return(0,e.O8t)(this.pristineReactive)}set pristine(ct){(0,e.O8t)(()=>this.pristineReactive.set(ct))}get dirty(){return!this.pristine}get touched(){return(0,e.O8t)(this.touchedReactive)}set touched(ct){(0,e.O8t)(()=>this.touchedReactive.set(ct))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ct){this._assignValidators(ct)}setAsyncValidators(ct){this._assignAsyncValidators(ct)}addValidators(ct){this.setValidators(pe(ct,this._rawValidators))}addAsyncValidators(ct){this.setAsyncValidators(pe(ct,this._rawAsyncValidators))}removeValidators(ct){this.setValidators(he(ct,this._rawValidators))}removeAsyncValidators(ct){this.setAsyncValidators(he(ct,this._rawAsyncValidators))}hasValidator(ct){return Me(this._rawValidators,ct)}hasAsyncValidator(ct){return Me(this._rawAsyncValidators,ct)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ct={}){const we=!1===this.touched;this.touched=!0;const kt=ct.sourceControl??this;this._parent&&!ct.onlySelf&&this._parent.markAsTouched({...ct,sourceControl:kt}),we&&!1!==ct.emitEvent&&this._events.next(new Bt(!0,kt))}markAllAsTouched(ct={}){this.markAsTouched({onlySelf:!0,emitEvent:ct.emitEvent,sourceControl:this}),this._forEachChild(we=>we.markAllAsTouched(ct))}markAsUntouched(ct={}){const we=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const kt=ct.sourceControl??this;this._forEachChild(pn=>{pn.markAsUntouched({onlySelf:!0,emitEvent:ct.emitEvent,sourceControl:kt})}),this._parent&&!ct.onlySelf&&this._parent._updateTouched(ct,kt),we&&!1!==ct.emitEvent&&this._events.next(new Bt(!1,kt))}markAsDirty(ct={}){const we=!0===this.pristine;this.pristine=!1;const kt=ct.sourceControl??this;this._parent&&!ct.onlySelf&&this._parent.markAsDirty({...ct,sourceControl:kt}),we&&!1!==ct.emitEvent&&this._events.next(new ze(!1,kt))}markAsPristine(ct={}){const we=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const kt=ct.sourceControl??this;this._forEachChild(pn=>{pn.markAsPristine({onlySelf:!0,emitEvent:ct.emitEvent})}),this._parent&&!ct.onlySelf&&this._parent._updatePristine(ct,kt),we&&!1!==ct.emitEvent&&this._events.next(new ze(!0,kt))}markAsPending(ct={}){this.status=Ln;const we=ct.sourceControl??this;!1!==ct.emitEvent&&(this._events.next(new Te(this.status,we)),this.statusChanges.emit(this.status)),this._parent&&!ct.onlySelf&&this._parent.markAsPending({...ct,sourceControl:we})}disable(ct={}){const we=this._parentMarkedDirty(ct.onlySelf);this.status=Fn,this.errors=null,this._forEachChild(pn=>{pn.disable({...ct,onlySelf:!0})}),this._updateValue();const kt=ct.sourceControl??this;!1!==ct.emitEvent&&(this._events.next(new Ht(this.value,kt)),this._events.next(new Te(this.status,kt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ct,skipPristineCheck:we},this),this._onDisabledChange.forEach(pn=>pn(!0))}enable(ct={}){const we=this._parentMarkedDirty(ct.onlySelf);this.status=yn,this._forEachChild(kt=>{kt.enable({...ct,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ct.emitEvent}),this._updateAncestors({...ct,skipPristineCheck:we},this),this._onDisabledChange.forEach(kt=>kt(!1))}_updateAncestors(ct,we){this._parent&&!ct.onlySelf&&(this._parent.updateValueAndValidity(ct),ct.skipPristineCheck||this._parent._updatePristine({},we),this._parent._updateTouched({},we))}setParent(ct){this._parent=ct}getRawValue(){return this.value}updateValueAndValidity(ct={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const kt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===Ln)&&this._runAsyncValidator(kt,ct.emitEvent)}const we=ct.sourceControl??this;!1!==ct.emitEvent&&(this._events.next(new Ht(this.value,we)),this._events.next(new Te(this.status,we)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ct.onlySelf&&this._parent.updateValueAndValidity({...ct,sourceControl:we})}_updateTreeValidity(ct={emitEvent:!0}){this._forEachChild(we=>we._updateTreeValidity(ct)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ct.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fn:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ct,we){if(this.asyncValidator){this.status=Ln,this._hasOwnPendingAsyncValidator={emitEvent:!1!==we};const kt=me(this.asyncValidator(this));this._asyncValidationSubscription=kt.subscribe(pn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(pn,{emitEvent:we,shouldHaveEmitted:ct})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const ct=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ct}return!1}setErrors(ct,we={}){this.errors=ct,this._updateControlsErrors(!1!==we.emitEvent,this,we.shouldHaveEmitted)}get(ct){let we=ct;return null==we||(Array.isArray(we)||(we=we.split(".")),0===we.length)?null:we.reduce((kt,pn)=>kt&&kt._find(pn),this)}getError(ct,we){const kt=we?this.get(we):this;return kt&&kt.errors?kt.errors[ct]:null}hasError(ct,we){return!!this.getError(ct,we)}get root(){let ct=this;for(;ct._parent;)ct=ct._parent;return ct}_updateControlsErrors(ct,we,kt){this.status=this._calculateStatus(),ct&&this.statusChanges.emit(this.status),(ct||kt)&&this._events.next(new Te(this.status,we)),this._parent&&this._parent._updateControlsErrors(ct,we,kt)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?Fn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ln)?Ln:this._anyControlsHaveStatus(Mn)?Mn:yn}_anyControlsHaveStatus(ct){return this._anyControls(we=>we.status===ct)}_anyControlsDirty(){return this._anyControls(ct=>ct.dirty)}_anyControlsTouched(){return this._anyControls(ct=>ct.touched)}_updatePristine(ct,we){const kt=!this._anyControlsDirty(),pn=this.pristine!==kt;this.pristine=kt,this._parent&&!ct.onlySelf&&this._parent._updatePristine(ct,we),pn&&this._events.next(new ze(this.pristine,we))}_updateTouched(ct={},we){this.touched=this._anyControlsTouched(),this._events.next(new Bt(this.touched,we)),this._parent&&!ct.onlySelf&&this._parent._updateTouched(ct,we)}_registerOnCollectionChange(ct){this._onCollectionChange=ct}_setUpdateStrategy(ct){De(ct)&&null!=ct.updateOn&&(this._updateOn=ct.updateOn)}_parentMarkedDirty(ct){return!ct&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ct){return null}_assignValidators(ct){this._rawValidators=Array.isArray(ct)?ct.slice():ct,this._composedValidatorFn=function We(tt){return Array.isArray(tt)?_e(tt):tt||null}(this._rawValidators)}_assignAsyncValidators(ct){this._rawAsyncValidators=Array.isArray(ct)?ct.slice():ct,this._composedAsyncValidatorFn=function Ue(tt){return Array.isArray(tt)?Fe(tt):tt||null}(this._rawAsyncValidators)}}class et extends vt{constructor(ct,we,kt){super(Wt(we),Pe(kt,we)),this.controls=ct,this._initObservables(),this._setUpdateStrategy(we),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ct,we){return this.controls[ct]?this.controls[ct]:(this.controls[ct]=we,we.setParent(this),we._registerOnCollectionChange(this._onCollectionChange),we)}addControl(ct,we,kt={}){this.registerControl(ct,we),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}removeControl(ct,we={}){this.controls[ct]&&this.controls[ct]._registerOnCollectionChange(()=>{}),delete this.controls[ct],this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}setControl(ct,we,kt={}){this.controls[ct]&&this.controls[ct]._registerOnCollectionChange(()=>{}),delete this.controls[ct],we&&this.registerControl(ct,we),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}contains(ct){return this.controls.hasOwnProperty(ct)&&this.controls[ct].enabled}setValue(ct,we={}){(function Qe(tt,ct,we){tt._forEachChild((kt,pn)=>{if(void 0===we[pn])throw new e.wOt(1002,"")})})(this,0,ct),Object.keys(ct).forEach(kt=>{(function rt(tt,ct,we){const kt=tt.controls;if(!(ct?Object.keys(kt):kt).length)throw new e.wOt(1e3,"");if(!kt[we])throw new e.wOt(1001,"")})(this,!0,kt),this.controls[kt].setValue(ct[kt],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we)}patchValue(ct,we={}){null!=ct&&(Object.keys(ct).forEach(kt=>{const pn=this.controls[kt];pn&&pn.patchValue(ct[kt],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we))}reset(ct={},we={}){this._forEachChild((kt,pn)=>{kt.reset(ct?ct[pn]:null,{onlySelf:!0,emitEvent:we.emitEvent})}),this._updatePristine(we,this),this._updateTouched(we,this),this.updateValueAndValidity(we)}getRawValue(){return this._reduceChildren({},(ct,we,kt)=>(ct[kt]=we.getRawValue(),ct))}_syncPendingControls(){let ct=this._reduceChildren(!1,(we,kt)=>!!kt._syncPendingControls()||we);return ct&&this.updateValueAndValidity({onlySelf:!0}),ct}_forEachChild(ct){Object.keys(this.controls).forEach(we=>{const kt=this.controls[we];kt&&ct(kt,we)})}_setUpControls(){this._forEachChild(ct=>{ct.setParent(this),ct._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ct){for(const[we,kt]of Object.entries(this.controls))if(this.contains(we)&&ct(kt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(we,kt,pn)=>((kt.enabled||this.disabled)&&(we[pn]=kt.value),we))}_reduceChildren(ct,we){let kt=ct;return this._forEachChild((pn,Fi)=>{kt=we(kt,pn,Fi)}),kt}_allControlsDisabled(){for(const ct of Object.keys(this.controls))if(this.controls[ct].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ct){return this.controls.hasOwnProperty(ct)?this.controls[ct]:null}}const Vt=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>dn}),dn="always";function xn(tt,ct){return[...ct.path,tt]}function Wn(tt,ct,we=dn){yi(tt,ct),ct.valueAccessor.writeValue(tt.value),(tt.disabled||"always"===we)&&ct.valueAccessor.setDisabledState?.(tt.disabled),function ys(tt,ct){ct.valueAccessor.registerOnChange(we=>{tt._pendingValue=we,tt._pendingChange=!0,tt._pendingDirty=!0,"change"===tt.updateOn&&mn(tt,ct)})}(tt,ct),function gt(tt,ct){const we=(kt,pn)=>{ct.valueAccessor.writeValue(kt),pn&&ct.viewToModelUpdate(kt)};tt.registerOnChange(we),ct._registerOnDestroy(()=>{tt._unregisterOnChange(we)})}(tt,ct),function $i(tt,ct){ct.valueAccessor.registerOnTouched(()=>{tt._pendingTouched=!0,"blur"===tt.updateOn&&tt._pendingChange&&mn(tt,ct),"submit"!==tt.updateOn&&tt.markAsTouched()})}(tt,ct),function Ii(tt,ct){if(ct.valueAccessor.setDisabledState){const we=kt=>{ct.valueAccessor.setDisabledState(kt)};tt.registerOnDisabledChange(we),ct._registerOnDestroy(()=>{tt._unregisterOnDisabledChange(we)})}}(tt,ct)}function Xn(tt,ct,we=!0){const kt=()=>{};ct.valueAccessor&&(ct.valueAccessor.registerOnChange(kt),ct.valueAccessor.registerOnTouched(kt)),ss(tt,ct),tt&&(ct._invokeOnDestroyCallbacks(),tt._registerOnCollectionChange(()=>{}))}function ti(tt,ct){tt.forEach(we=>{we.registerOnValidatorChange&&we.registerOnValidatorChange(ct)})}function yi(tt,ct){const we=Ye(tt);null!==ct.validator?tt.setValidators(Ae(we,ct.validator)):"function"==typeof we&&tt.setValidators([we]);const kt=qe(tt);null!==ct.asyncValidator?tt.setAsyncValidators(Ae(kt,ct.asyncValidator)):"function"==typeof kt&&tt.setAsyncValidators([kt]);const pn=()=>tt.updateValueAndValidity();ti(ct._rawValidators,pn),ti(ct._rawAsyncValidators,pn)}function ss(tt,ct){let we=!1;if(null!==tt){if(null!==ct.validator){const pn=Ye(tt);if(Array.isArray(pn)&&pn.length>0){const Fi=pn.filter(ps=>ps!==ct.validator);Fi.length!==pn.length&&(we=!0,tt.setValidators(Fi))}}if(null!==ct.asyncValidator){const pn=qe(tt);if(Array.isArray(pn)&&pn.length>0){const Fi=pn.filter(ps=>ps!==ct.asyncValidator);Fi.length!==pn.length&&(we=!0,tt.setAsyncValidators(Fi))}}}const kt=()=>{};return ti(ct._rawValidators,kt),ti(ct._rawAsyncValidators,kt),we}function mn(tt,ct){tt._pendingDirty&&tt.markAsDirty(),tt.setValue(tt._pendingValue,{emitModelToViewChange:!1}),ct.viewToModelUpdate(tt._pendingValue),tt._pendingChange=!1}function pt(tt,ct){yi(tt,ct)}function At(tt,ct){if(!tt.hasOwnProperty("model"))return!1;const we=tt.model;return!!we.isFirstChange()||!Object.is(ct,we.currentValue)}function ke(tt,ct){tt._syncPendingControls(),ct.forEach(we=>{const kt=we.control;"submit"===kt.updateOn&&kt._pendingChange&&(we.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1)})}function He(tt,ct){if(!ct)return null;let we,kt,pn;return Array.isArray(ct),ct.forEach(Fi=>{Fi.constructor===B?we=Fi:function ne(tt){return Object.getPrototypeOf(tt.constructor)===_}(Fi)?kt=Fi:pn=Fi}),pn||kt||we||null}const Bn={provide:Ee,useExisting:(0,e.Rfq)(()=>Ei)},ai=Promise.resolve();let Ei=(()=>{class tt extends Ee{get submitted(){return(0,e.O8t)(this.submittedReactive)}constructor(we,kt,pn){super(),this.callSetDisabledState=pn,this._submitted=(0,e.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,e.vPA)(!1),this._directives=new Set,this.ngSubmit=new e.bkB,this.form=new et({},_e(we),Fe(kt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(we){ai.then(()=>{const kt=this._findContainer(we.path);we.control=kt.registerControl(we.name,we.control),Wn(we.control,we,this.callSetDisabledState),we.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(we)})}getControl(we){return this.form.get(we.path)}removeControl(we){ai.then(()=>{const kt=this._findContainer(we.path);kt&&kt.removeControl(we.name),this._directives.delete(we)})}addFormGroup(we){ai.then(()=>{const kt=this._findContainer(we.path),pn=new et({});pt(pn,we),kt.registerControl(we.name,pn),pn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(we){ai.then(()=>{const kt=this._findContainer(we.path);kt&&kt.removeControl(we.name)})}getFormGroup(we){return this.form.get(we.path)}updateModel(we,kt){ai.then(()=>{this.form.get(we.path).setValue(kt)})}setValue(we){this.control.setValue(we)}onSubmit(we){return this.submittedReactive.set(!0),ke(this.form,this._directives),this.ngSubmit.emit(we),"dialog"===we?.target?.method}onReset(){this.resetForm()}resetForm(we=void 0){this.form.reset(we),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(we){return we.pop(),we.length?this.form.get(we):this.form}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(j,10),e.rXU(S,10),e.rXU(Vt,8))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(kt,pn){1&kt&&e.bIt("submit",function(ps){return pn.onSubmit(ps)})("reset",function(){return pn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([Bn]),e.Vt3]})}return tt})();function es(tt,ct){const we=tt.indexOf(ct);we>-1&&tt.splice(we,1)}function Wi(tt){return"object"==typeof tt&&null!==tt&&2===Object.keys(tt).length&&"value"in tt&&"disabled"in tt}const zi=class extends vt{constructor(ct=null,we,kt){super(Wt(we),Pe(kt,we)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ct),this._setUpdateStrategy(we),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),De(we)&&(we.nonNullable||we.initialValueIsDefault)&&(this.defaultValue=Wi(ct)?ct.value:ct)}setValue(ct,we={}){this.value=this._pendingValue=ct,this._onChange.length&&!1!==we.emitModelToViewChange&&this._onChange.forEach(kt=>kt(this.value,!1!==we.emitViewToModelChange)),this.updateValueAndValidity(we)}patchValue(ct,we={}){this.setValue(ct,we)}reset(ct=this.defaultValue,we={}){this._applyFormState(ct),this.markAsPristine(we),this.markAsUntouched(we),this.setValue(this.value,we),this._pendingChange=!1}_updateValue(){}_anyControls(ct){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ct){this._onChange.push(ct)}_unregisterOnChange(ct){es(this._onChange,ct)}registerOnDisabledChange(ct){this._onDisabledChange.push(ct)}_unregisterOnDisabledChange(ct){es(this._onDisabledChange,ct)}_forEachChild(ct){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ct){Wi(ct)?(this.value=this._pendingValue=ct.value,ct.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ct}};let Js=(()=>{class tt extends Ee{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,features:[e.Vt3]})}return tt})();const Tr={provide:Xe,useExisting:(0,e.Rfq)(()=>Zs)},tr=Promise.resolve();let Zs=(()=>{class tt extends Xe{constructor(we,kt,pn,Fi,ps,zs){super(),this._changeDetectorRef=ps,this.callSetDisabledState=zs,this.control=new zi,this._registered=!1,this.name="",this.update=new e.bkB,this._parent=we,this._setValidators(kt),this._setAsyncValidators(pn),this.valueAccessor=He(0,Fi)}ngOnChanges(we){if(this._checkForErrors(),!this._registered||"name"in we){if(this._registered&&(this._checkName(),this.formDirective)){const kt=we.name.previousValue;this.formDirective.removeControl({name:kt,path:this._getPath(kt)})}this._setUpControl()}"isDisabled"in we&&this._updateDisabled(we),At(we,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(we){this.viewModel=we,this.update.emit(we)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(we){tr.then(()=>{this.control.setValue(we,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(we){const kt=we.isDisabled.currentValue,pn=0!==kt&&(0,e.L39)(kt);tr.then(()=>{pn&&!this.control.disabled?this.control.disable():!pn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(we){return this._parent?xn(we,this._parent):[we]}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Ee,9),e.rXU(j,10),e.rXU(S,10),e.rXU(u,10),e.rXU(e.gRc,8),e.rXU(Vt,8))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e.Jv_([Tr]),e.Vt3,e.OA$]})}return tt})(),nr=(()=>{class tt{static#e=this.\u0275fac=function(kt){return new(kt||tt)};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return tt})();const pr={provide:u,useExisting:(0,e.Rfq)(()=>Dr),multi:!0};let Dr=(()=>{class tt extends _{writeValue(we){this.setProperty("value",we??"")}registerOnChange(we){this.onChange=kt=>{we(""==kt?null:parseFloat(kt))}}static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(kt,pn){1&kt&&e.bIt("input",function(ps){return pn.onChange(ps.target.value)})("blur",function(){return pn.onTouched()})},features:[e.Jv_([pr]),e.Vt3]})}return tt})();const Do=new e.nKC(""),ta={provide:Ee,useExisting:(0,e.Rfq)(()=>ir)};let ir=(()=>{class tt extends Ee{get submitted(){return(0,e.O8t)(this._submittedReactive)}set submitted(we){this._submittedReactive.set(we)}constructor(we,kt,pn){super(),this.callSetDisabledState=pn,this._submitted=(0,e.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,e.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.bkB,this._setValidators(we),this._setAsyncValidators(kt)}ngOnChanges(we){this._checkFormPresent(),we.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ss(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(we){const kt=this.form.get(we.path);return Wn(kt,we,this.callSetDisabledState),kt.updateValueAndValidity({emitEvent:!1}),this.directives.push(we),kt}getControl(we){return this.form.get(we.path)}removeControl(we){Xn(we.control||null,we,!1),function Dt(tt,ct){const we=tt.indexOf(ct);we>-1&&tt.splice(we,1)}(this.directives,we)}addFormGroup(we){this._setUpFormContainer(we)}removeFormGroup(we){this._cleanUpFormContainer(we)}getFormGroup(we){return this.form.get(we.path)}addFormArray(we){this._setUpFormContainer(we)}removeFormArray(we){this._cleanUpFormContainer(we)}getFormArray(we){return this.form.get(we.path)}updateModel(we,kt){this.form.get(we.path).setValue(kt)}onSubmit(we){return this._submittedReactive.set(!0),ke(this.form,this.directives),this.ngSubmit.emit(we),this.form._events.next(new Ge(this.control)),"dialog"===we?.target?.method}onReset(){this.resetForm()}resetForm(we=void 0){this.form.reset(we),this._submittedReactive.set(!1),this.form._events.next(new Tt(this.form))}_updateDomValue(){this.directives.forEach(we=>{const kt=we.control,pn=this.form.get(we.path);kt!==pn&&(Xn(kt||null,we),(tt=>tt instanceof zi)(pn)&&(Wn(pn,we,this.callSetDisabledState),we.control=pn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(we){const kt=this.form.get(we.path);pt(kt,we),kt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(we){if(this.form){const kt=this.form.get(we.path);kt&&function St(tt,ct){return ss(tt,ct)}(kt,we)&&kt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yi(this.form,this),this._oldForm&&ss(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(j,10),e.rXU(S,10),e.rXU(Vt,8))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","formGroup",""]],hostBindings:function(kt,pn){1&kt&&e.bIt("submit",function(ps){return pn.onSubmit(ps)})("reset",function(){return pn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([ta]),e.Vt3,e.OA$]})}return tt})();const Ve={provide:Ee,useExisting:(0,e.Rfq)(()=>jt)};let jt=(()=>{class tt extends Js{constructor(we,kt,pn){super(),this.name=null,this._parent=we,this._setValidators(kt),this._setAsyncValidators(pn)}_checkParentType(){Bi(this._parent)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Ee,13),e.rXU(j,10),e.rXU(S,10))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[e.Jv_([Ve]),e.Vt3]})}return tt})();const un={provide:Ee,useExisting:(0,e.Rfq)(()=>kn)};let kn=(()=>{class tt extends Ee{constructor(we,kt,pn){super(),this.name=null,this._parent=we,this._setValidators(kt),this._setAsyncValidators(pn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bi(this._parent)}static#e=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Ee,13),e.rXU(j,10),e.rXU(S,10))};static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[e.Jv_([un]),e.Vt3]})}return tt})();function Bi(tt){return!(tt instanceof jt||tt instanceof ir||tt instanceof kn)}const vi={provide:Xe,useExisting:(0,e.Rfq)(()=>Ki)};let Ki=(()=>{class tt extends Xe{set isDisabled(we){}static#e=this._ngModelWarningSentOnce=!1;constructor(we,kt,pn,Fi,ps){super(),this._ngModelWarningConfig=ps,this._added=!1,this.name=null,this.update=new e.bkB,this._ngModelWarningSent=!1,this._parent=we,this._setValidators(kt),this._setAsyncValidators(pn),this.valueAccessor=He(0,Fi)}ngOnChanges(we){this._added||this._setUpControl(),At(we,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(we){this.viewModel=we,this.update.emit(we)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(kt){return new(kt||tt)(e.rXU(Ee,13),e.rXU(j,10),e.rXU(S,10),e.rXU(u,10),e.rXU(Do,8))};static#n=this.\u0275dir=e.FsC({type:tt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e.Jv_([vi]),e.Vt3,e.OA$]})}return tt})();let vo=(()=>{class tt{constructor(){this._validator=te}ngOnChanges(we){if(this.inputName in we){const kt=this.normalizeInput(we[this.inputName].currentValue);this._enabled=this.enabled(kt),this._validator=this._enabled?this.createValidator(kt):te,this._onChange&&this._onChange()}}validate(we){return this._validator(we)}registerOnValidatorChange(we){this._onChange=we}enabled(we){return null!=we}static#e=this.\u0275fac=function(kt){return new(kt||tt)};static#t=this.\u0275dir=e.FsC({type:tt,features:[e.OA$]})}return tt})();const Ir={provide:j,useExisting:(0,e.Rfq)(()=>jo),multi:!0},jr={provide:j,useExisting:(0,e.Rfq)(()=>Ur),multi:!0};let jo=(()=>{class tt extends vo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.L39,this.createValidator=we=>L}enabled(we){return we}static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(kt,pn){2&kt&&e.BMQ("required",pn._enabled?"":null)},inputs:{required:"required"},features:[e.Jv_([Ir]),e.Vt3]})}return tt})(),Ur=(()=>{class tt extends jo{constructor(){super(...arguments),this.createValidator=we=>G}static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(kt,pn){2&kt&&e.BMQ("required",pn._enabled?"":null)},features:[e.Jv_([jr]),e.Vt3]})}return tt})();const bo={provide:j,useExisting:(0,e.Rfq)(()=>bc),multi:!0};let bc=(()=>{class tt extends vo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=we=>function ri(tt){return"number"==typeof tt?tt:parseInt(tt,10)}(we),this.createValidator=we=>U(we)}static#e=this.\u0275fac=(()=>{let we;return function(pn){return(we||(we=e.xGo(tt)))(pn||tt)}})();static#t=this.\u0275dir=e.FsC({type:tt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(kt,pn){2&kt&&e.BMQ("maxlength",pn._enabled?pn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e.Jv_([bo]),e.Vt3]})}return tt})(),Na=(()=>{class tt{static#e=this.\u0275fac=function(kt){return new(kt||tt)};static#t=this.\u0275mod=e.$C({type:tt});static#n=this.\u0275inj=e.G2t({})}return tt})(),_s=(()=>{class tt{static withConfig(we){return{ngModule:tt,providers:[{provide:Vt,useValue:we.callSetDisabledState??dn}]}}static#e=this.\u0275fac=function(kt){return new(kt||tt)};static#t=this.\u0275mod=e.$C({type:tt});static#n=this.\u0275inj=e.G2t({imports:[Na]})}return tt})(),Ll=(()=>{class tt{static withConfig(we){return{ngModule:tt,providers:[{provide:Do,useValue:we.warnOnNgModelWithFormControl??"always"},{provide:Vt,useValue:we.callSetDisabledState??dn}]}}static#e=this.\u0275fac=function(kt){return new(kt||tt)};static#t=this.\u0275mod=e.$C({type:tt});static#n=this.\u0275inj=e.G2t({imports:[Na]})}return tt})()},850:(Ot,ve,s)=>{"use strict";s.d(ve,{$3:()=>ae,Vn:()=>_e,jL:()=>Me,pN:()=>Ne});var e=s(3953),n=s(6600),d=s(177),h=s(494),g=s(7987),b=s(9888),E=s(6860),_=s(9969),u=s(4337),I=s(5286),k=s(9418),y=s(4670),x=s(4421),M=s(3586),B=s(5817),K=s(7336),P=s(9327),j=s(6939),S=s(9417),w=s(3719),m=s(3176),v=s(9090),A=s(8728),L=s(5006),G=s(8841),O=s(8002),W=s(9493),U=s(8203);const $=["panel"],te=["*"];function ie(pe,he){if(1&pe){const le=e.RV6();e.j41(0,"div",1,0),e.bIt("@panelAnimation.done",function(Xe){e.eBV(le);const xt=e.XpG();return e.Njj(xt._animationDone.next(Xe))}),e.SdG(2),e.k0s()}if(2&pe){const le=he.id,Ee=e.XpG();e.HbH(Ee._classList),e.AVh("mat-mdc-autocomplete-visible",Ee.showPanel)("mat-mdc-autocomplete-hidden",!Ee.showPanel)("mat-primary","primary"===Ee._color)("mat-accent","accent"===Ee._color)("mat-warn","warn"===Ee._color),e.Y8G("id",Ee.id)("@panelAnimation",Ee.isOpen?"visible":"hidden"),e.BMQ("aria-label",Ee.ariaLabel||null)("aria-labelledby",Ee._getPanelAriaLabelledby(le))}}const me=(0,_.hZ)("panelAnimation",[(0,_.wk)("void, hidden",(0,_.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,_.kY)(":enter, hidden => visible",[(0,_.Os)([(0,_.i0)("0.03s linear",(0,_.iF)({opacity:1})),(0,_.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,_.iF)({transform:"scaleY(1)"}))])]),(0,_.kY)(":leave, visible => hidden",[(0,_.i0)("0.075s linear",(0,_.iF)({opacity:0}))])]);let Y=0;class F{constructor(he,le){this.source=he,this.option=le}}const N=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function J(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ae=(()=>{class pe{get isOpen(){return this._isOpen&&this.showPanel}_setColor(le){this._color=le,this._changeDetectorRef.markForCheck()}set classList(le){this._classList=le,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(le){this._hideSingleSelectionIndicator=le,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const le of this.options)le._changeDetectorRef.markForCheck()}constructor(le,Ee,Xe,xt){this._changeDetectorRef=le,this._elementRef=Ee,this._defaults=Xe,this._activeOptionChanges=u.y.EMPTY,this._animationDone=new e.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this.id="mat-autocomplete-"+Y++,this.inertGroups=xt?.SAFARI||!1,this.autoActiveFirstOption=!!Xe.autoActiveFirstOption,this.autoSelectActiveOption=!!Xe.autoSelectActiveOption,this.requireSelection=!!Xe.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new b.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(le=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[le]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(le){this.panel&&(this.panel.nativeElement.scrollTop=le)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(le){const Ee=new F(this,le);this.optionSelected.emit(Ee)}_getPanelAriaLabelledby(le){return this.ariaLabel?null:this.ariaLabelledby?(le?le+" ":"")+this.ariaLabelledby:le}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Ee){return new(Ee||pe)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(N),e.rXU(E.OD))};static#t=this.\u0275cmp=e.VBU({type:pe,selectors:[["mat-autocomplete"]],contentQueries:function(Ee,Xe,xt){if(1&Ee&&(e.wni(xt,n.wT,5),e.wni(xt,n.QC,5)),2&Ee){let dt;e.mGM(dt=e.lsd())&&(Xe.options=dt),e.mGM(dt=e.lsd())&&(Xe.optionGroups=dt)}},viewQuery:function(Ee,Xe){if(1&Ee&&(e.GBs(e.C4Q,7),e.GBs($,5)),2&Ee){let xt;e.mGM(xt=e.lsd())&&(Xe.template=xt.first),e.mGM(xt=e.lsd())&&(Xe.panel=xt.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",e.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",e.L39],requireSelection:[2,"requireSelection","requireSelection",e.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",e.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e.Jv_([{provide:n.is,useExisting:pe}]),e.GFd,e.aNF],ngContentSelectors:te,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Ee,Xe){1&Ee&&(e.NAR(),e.DNE(0,ie,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[me]},changeDetection:0})}return pe})(),_e=(()=>{class pe{constructor(le){this.elementRef=le}static#e=this.\u0275fac=function(Ee){return new(Ee||pe)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:pe,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return pe})();const xe={provide:S.kq,useExisting:(0,e.Rfq)(()=>Ne),multi:!0},Ae=new e.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const pe=(0,e.WQX)(g.hJ);return()=>pe.scrollStrategies.reposition()}}),qe={provide:Ae,deps:[g.hJ],useFactory:function Ye(pe){return()=>pe.scrollStrategies.reposition()}};let Ne=(()=>{class pe{constructor(le,Ee,Xe,xt,dt,Ct,Qt,_n,In,rn,$t){this._element=le,this._overlay=Ee,this._viewContainerRef=Xe,this._zone=xt,this._changeDetectorRef=dt,this._dir=Qt,this._formField=_n,this._document=In,this._viewportRuler=rn,this._defaults=$t,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=u.y.EMPTY,this._breakpointObserver=(0,e.WQX)(P.QP),this._handsetLandscapeSubscription=u.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new I.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new I.B7,this._injector=(0,e.WQX)(e.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,k.v)(()=>{const q=this.autocomplete?this.autocomplete.options:null;return q?q.changes.pipe((0,m.Z)(q),(0,v.n)(()=>(0,y.h)(...q.map(Ie=>Ie.onSelectionChange)))):this._initialized.pipe((0,v.n)(()=>this.optionSelections))}),this._handlePanelKeydown=q=>{(q.keyCode===K._f&&!(0,K.rp)(q)||q.keyCode===K.i7&&(0,K.rp)(q,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),q.stopPropagation(),q.preventDefault())},this._trackedModal=null,this._scrollStrategy=Ct}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const le=this._getWindow();typeof le<"u"&&this._zone.runOutsideAngular(()=>le.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(le){le.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const le=this._getWindow();typeof le<"u"&&le.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,b.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,y.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,A.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,A.p)(()=>this._overlayAttached)):(0,x.of)()).pipe((0,L.T)(le=>le instanceof n.MI?le:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,y.h)((0,M.R)(this._document,"click"),(0,M.R)(this._document,"auxclick"),(0,M.R)(this._document,"touchend")).pipe((0,A.p)(le=>{const Ee=(0,E.Fb)(le),Xe=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,xt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Ee!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Xe||!Xe.contains(Ee))&&(!xt||!xt.contains(Ee))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Ee)}))}writeValue(le){Promise.resolve(null).then(()=>this._assignOptionValue(le))}registerOnChange(le){this._onChange=le}registerOnTouched(le){this._onTouched=le}setDisabledState(le){this._element.nativeElement.disabled=le}_handleKeydown(le){const Ee=le.keyCode,Xe=(0,K.rp)(le);if(Ee===K._f&&!Xe&&le.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Ee===K.Fm&&this.panelOpen&&!Xe)this.activeOption._selectViaInteraction(),this._resetActiveItem(),le.preventDefault();else if(this.autocomplete){const xt=this.autocomplete._keyManager.activeItem,dt=Ee===K.i7||Ee===K.n6;Ee===K.wn||dt&&!Xe&&this.panelOpen?this.autocomplete._keyManager.onKeydown(le):dt&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(dt||this.autocomplete._keyManager.activeItem!==xt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(le){let Ee=le.target,Xe=Ee.value;if("number"===Ee.type&&(Xe=""==Xe?null:parseFloat(Xe)),this._previousValue!==Xe){if(this._previousValue=Xe,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(Xe),Xe){if(this.panelOpen&&!this.autocomplete.requireSelection){const xt=this.autocomplete.options?.find(dt=>dt.selected);xt&&Xe!==this._getDisplayValue(xt.value)&&xt.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===le.target){const xt=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(xt)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(le=!1){this._formField&&"auto"===this._formField.floatLabel&&(le?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const le=new B.c(Xe=>{(0,e.mal)(()=>{Xe.next()},{injector:this._injector})}),Ee=this.autocomplete.options.changes.pipe((0,G.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,O.c)(0));return(0,y.h)(le,Ee).pipe((0,v.n)(()=>this._zone.run(()=>{const Xe=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Xe!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,W.s)(1)).subscribe(Xe=>this._setValueAndClose(Xe))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(le){const Ee=this.autocomplete;return Ee&&Ee.displayWith?Ee.displayWith(le):le}_assignOptionValue(le){const Ee=this._getDisplayValue(le);null==le&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Ee??"")}_updateNativeInputValue(le){this._formField?this._formField._control.value=le:this._element.nativeElement.value=le,this._previousValue=le}_setValueAndClose(le){const Ee=this.autocomplete,Xe=le?le.source:this._pendingAutoselectedOption;Xe?(this._clearPreviousSelectedOption(Xe),this._assignOptionValue(Xe.value),this._onChange(Xe.value),Ee._emitSelectEvent(Xe),this._element.nativeElement.focus()):Ee.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Ee._animationDone?Ee._animationDone.pipe((0,W.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(le,Ee){this.autocomplete?.options?.forEach(Xe=>{Xe!==le&&Xe.selected&&Xe.deselect(Ee)})}_openPanelInternal(le=this._element.nativeElement.value){this._attachOverlay(le),this._floatLabel(),this._trackedModal&&(0,b.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(le){let Ee=this._overlayRef;Ee?(this._positionStrategy.setOrigin(this._getConnectedElement()),Ee.updateSize({width:this._getPanelWidth()})):(this._portal=new j.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Ee=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Ee,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Ee&&Ee.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(P.Rp.HandsetLandscape).subscribe(xt=>{xt.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Ee&&!Ee.hasAttached()&&(Ee.attach(this._portal),this._valueOnAttach=le,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const Xe=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&Xe!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const le=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=le.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=le.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new g.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const le=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(le),this._positionStrategy=le,le}_setStrategyPositions(le){const Ee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Xe=this._aboveClass,xt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Xe},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Xe}];let dt;dt="above"===this.position?xt:"below"===this.position?Ee:[...Ee,...xt],le.withPositions(dt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const le=this.autocomplete;if(le.autoActiveFirstOption){let Ee=-1;for(let Xe=0;Xe<le.options.length;Xe++)if(!le.options.get(Xe).disabled){Ee=Xe;break}le._keyManager.setActiveItem(Ee)}else le._keyManager.setActiveItem(-1)}_canOpen(){const le=this._element.nativeElement;return!le.readOnly&&!le.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(le){const Ee=this.autocomplete,Xe=(0,n.jb)(le,Ee.options,Ee.optionGroups);if(0===le&&1===Xe)Ee._setScrollTop(0);else if(Ee.panel){const xt=Ee.options.toArray()[le];if(xt){const dt=xt._getHostElement(),Ct=(0,n.TL)(dt.offsetTop,dt.offsetHeight,Ee._getScrollTop(),Ee.panel.nativeElement.offsetHeight);Ee._setScrollTop(Ct)}}}_applyModalPanelOwnership(){const le=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!le)return;const Ee=this.autocomplete.id;this._trackedModal&&(0,b.Ae)(this._trackedModal,"aria-owns",Ee),(0,b.px)(le,"aria-owns",Ee),this._trackedModal=le}_clearFromModal(){this._trackedModal&&((0,b.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Ee){return new(Ee||pe)(e.rXU(e.aKT),e.rXU(g.hJ),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(Ae),e.rXU(U.dS,8),e.rXU(w.xb,9),e.rXU(d.qQ,8),e.rXU(h.Xj),e.rXU(N,8))};static#t=this.\u0275dir=e.FsC({type:pe,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Ee,Xe){1&Ee&&e.bIt("focusin",function(){return Xe._handleFocus()})("blur",function(){return Xe._onTouched()})("input",function(dt){return Xe._handleInput(dt)})("keydown",function(dt){return Xe._handleKeydown(dt)})("click",function(){return Xe._handleClick()}),2&Ee&&e.BMQ("autocomplete",Xe.autocompleteAttribute)("role",Xe.autocompleteDisabled?null:"combobox")("aria-autocomplete",Xe.autocompleteDisabled?null:"list")("aria-activedescendant",Xe.panelOpen&&Xe.activeOption?Xe.activeOption.id:null)("aria-expanded",Xe.autocompleteDisabled?null:Xe.panelOpen.toString())("aria-controls",Xe.autocompleteDisabled||!Xe.panelOpen||null==Xe.autocomplete?null:Xe.autocomplete.id)("aria-haspopup",Xe.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",e.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e.Jv_([xe]),e.GFd,e.OA$]})}return pe})(),Me=(()=>{class pe{static#e=this.\u0275fac=function(Ee){return new(Ee||pe)};static#t=this.\u0275mod=e.$C({type:pe});static#n=this.\u0275inj=e.G2t({providers:[qe],imports:[g.z_,n.Sy,n.yE,d.MD,h.Gj,n.Sy,n.yE]})}return pe})()},6665:(Ot,ve,s)=>{"use strict";s.d(ve,{VK:()=>v,eN:()=>w,vF:()=>A});var e=s(2529),n=s(6939),d=s(3953),h=s(6600),g=s(9888),b=s(9327),E=s(7987),_=s(177),u=s(9969),I=s(7336),k=s(5286),y=s(4670),x=s(8728),M=s(9493);function B(L,G){}const K={bottomSheetState:(0,u.hZ)("state",[(0,u.wk)("void, hidden",(0,u.iF)({transform:"translateY(100%)"})),(0,u.wk)("visible",(0,u.iF)({transform:"translateY(0%)"})),(0,u.kY)("visible => void, visible => hidden",(0,u.Os)([(0,u.i0)(`${h.ed.COMPLEX} ${h.r5.ACCELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})])),(0,u.kY)("void => visible",(0,u.Os)([(0,u.i0)(`${h.ed.EXITING} ${h.r5.DECELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})]))])};let P=(()=>{class L extends e.sU{constructor(O,W,U,$,te,ie,me,Y,F){super(O,W,U,$,te,ie,me,F),this._animationState="void",this._animationStateChanged=new d.bkB,this._breakpointSubscription=Y.observe([b.Rp.Medium,b.Rp.Large,b.Rp.XLarge]).subscribe(()=>{const N=this._elementRef.nativeElement.classList;N.toggle("mat-bottom-sheet-container-medium",Y.isMatched(b.Rp.Medium)),N.toggle("mat-bottom-sheet-container-large",Y.isMatched(b.Rp.Large)),N.toggle("mat-bottom-sheet-container-xlarge",Y.isMatched(b.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(O){"visible"===O.toState&&this._trapFocus(),this._animationStateChanged.emit(O)}_onAnimationStart(O){this._animationStateChanged.emit(O)}_captureInitialFocus(){}static#e=this.\u0275fac=function(W){return new(W||L)(d.rXU(d.aKT),d.rXU(g.GX),d.rXU(_.qQ,8),d.rXU(e.Pe),d.rXU(g.Z7),d.rXU(d.SKi),d.rXU(E.yY),d.rXU(b.QP),d.rXU(g.FN))};static#t=this.\u0275cmp=d.VBU({type:L,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(W,U){1&W&&d.Kam("@state.start",function(te){return U._onAnimationStart(te)})("@state.done",function(te){return U._onAnimationDone(te)}),2&W&&(d.zvX("@state",U._animationState),d.BMQ("role",U._config.role)("aria-modal",U._config.ariaModal)("aria-label",U._config.ariaLabel))},standalone:!0,features:[d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(W,U){1&W&&d.DNE(0,B,0,0,"ng-template",0)},dependencies:[n.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-app-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-app-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-app-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-app-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-app-body-large-tracking))}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[K.bottomSheetState]}})}return L})();const j=new d.nKC("MatBottomSheetData");class S{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class w{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(G,O,W){this._ref=G,this._afterOpened=new k.B7,this.containerInstance=W,this.disableClose=O.disableClose,W._animationStateChanged.pipe((0,x.p)(U=>"done"===U.phaseName&&"visible"===U.toState),(0,M.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),W._animationStateChanged.pipe((0,x.p)(U=>"done"===U.phaseName&&"hidden"===U.toState),(0,M.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),G.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,y.h)(this.backdropClick(),this.keydownEvents().pipe((0,x.p)(U=>U.keyCode===I._f))).subscribe(U=>{!this.disableClose&&("keydown"!==U.type||!(0,I.rp)(U))&&(U.preventDefault(),this.dismiss())})}dismiss(G){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,x.p)(O=>"start"===O.phaseName),(0,M.s)(1)).subscribe(O=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},O.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=G,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const m=new d.nKC("mat-bottom-sheet-default-options");let v=(()=>{class L{get _openedBottomSheetRef(){const O=this._parentBottomSheet;return O?O._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(O){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=O:this._bottomSheetRefAtThisLevel=O}constructor(O,W,U,$){this._overlay=O,this._parentBottomSheet=U,this._defaultOptions=$,this._bottomSheetRefAtThisLevel=null,this._dialog=W.get(e.lG)}open(O,W){const U={...this._defaultOptions||new S,...W};let $;return this._dialog.open(O,{...U,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:P,scrollStrategy:U.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:$}),providers:(te,ie,me)=>($=new w(te,U,me),[{provide:w,useValue:$},{provide:j,useValue:U.data}])}),$.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===$&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>$.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):$.containerInstance.enter(),this._openedBottomSheetRef=$,$}dismiss(O){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(O)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(W){return new(W||L)(d.KVO(E.hJ),d.KVO(d.zZn),d.KVO(L,12),d.KVO(m,8))};static#t=this.\u0275prov=d.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),A=(()=>{class L{static#e=this.\u0275fac=function(W){return new(W||L)};static#t=this.\u0275mod=d.$C({type:L});static#n=this.\u0275inj=d.G2t({providers:[v],imports:[e.Ph,h.yE,n.jc,h.yE]})}return L})()},5571:(Ot,ve,s)=>{"use strict";s.d(ve,{Vg:()=>w,ec:()=>j,pc:()=>S});var e=s(9888),n=s(5024),d=s(7336),h=s(3953),g=s(8203),b=s(9417),E=s(6600);const _=["button"],u=["*"];function I(m,v){if(1&m&&h.nrm(0,"mat-pseudo-checkbox",3),2&m){const A=h.XpG();h.Y8G("disabled",A.disabled)}}function k(m,v){if(1&m&&h.nrm(0,"mat-pseudo-checkbox",3),2&m){const A=h.XpG();h.Y8G("disabled",A.disabled)}}const y=new h.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function x(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),M=new h.nKC("MatButtonToggleGroup"),B={provide:b.kq,useExisting:(0,h.Rfq)(()=>j),multi:!0};let K=0;class P{constructor(v,A){this.source=v,this.value=A}}let j=(()=>{class m{get name(){return this._name}set name(A){this._name=A,this._markButtonsForCheck()}get value(){const A=this._selectionModel?this._selectionModel.selected:[];return this.multiple?A.map(L=>L.value):A[0]?A[0].value:void 0}set value(A){this._setSelectionByValue(A),this.valueChange.emit(this.value)}get selected(){const A=this._selectionModel?this._selectionModel.selected:[];return this.multiple?A:A[0]||null}get multiple(){return this._multiple}set multiple(A){this._multiple=A,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(A){this._disabled=A,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(A){this._disabledInteractive=A,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(A){this._hideSingleSelectionIndicator=A,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(A){this._hideMultipleSelectionIndicator=A,this._markButtonsForCheck()}constructor(A,L,G){this._changeDetector=A,this._dir=G,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+K++,this.valueChange=new h.bkB,this.change=new h.bkB,this.appearance=L&&L.appearance?L.appearance:"standard",this.hideSingleSelectionIndicator=L?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=L?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new n.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(A=>A.checked)),this.multiple||this._initializeTabIndex()}writeValue(A){this.value=A,this._changeDetector.markForCheck()}registerOnChange(A){this._controlValueAccessorChangeFn=A}registerOnTouched(A){this._onTouched=A}setDisabledState(A){this.disabled=A}_keydown(A){if(this.multiple||this.disabled)return;const G=A.target.id,O=this._buttonToggles.toArray().findIndex(U=>U.buttonId===G);let W=null;switch(A.keyCode){case d.t6:case d.Fm:W=this._buttonToggles.get(O)||null;break;case d.i7:W=this._getNextButton(O,-1);break;case d.UQ:W=this._getNextButton(O,"ltr"===this.dir?-1:1);break;case d.n6:W=this._getNextButton(O,1);break;case d.LE:W=this._getNextButton(O,"ltr"===this.dir?1:-1);break;default:return}W&&(A.preventDefault(),W._onButtonClick(),W.focus())}_emitChangeEvent(A){const L=new P(A,this.value);this._rawValue=L.value,this._controlValueAccessorChangeFn(L.value),this.change.emit(L)}_syncButtonToggle(A,L,G=!1,O=!1){!this.multiple&&this.selected&&!A.checked&&(this.selected.checked=!1),this._selectionModel?L?this._selectionModel.select(A):this._selectionModel.deselect(A):O=!0,O?Promise.resolve().then(()=>this._updateModelValue(A,G)):this._updateModelValue(A,G)}_isSelected(A){return this._selectionModel&&this._selectionModel.isSelected(A)}_isPrechecked(A){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(L=>null!=A.value&&L===A.value):A.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(A=>{A.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let A=0;A<this._buttonToggles.length;A++){const L=this._buttonToggles.get(A);if(!L.disabled){L.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(A,L){const G=this._buttonToggles;for(let O=1;O<=G.length;O++){const U=G.get((A+L*O+G.length)%G.length);if(U&&!U.disabled)return U}return null}_setSelectionByValue(A){this._rawValue=A,this._buttonToggles&&(this.multiple&&A?(Array.isArray(A),this._clearSelection(),A.forEach(L=>this._selectValue(L))):(this._clearSelection(),this._selectValue(A)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(A=>{A.checked=!1,this.multiple||(A.tabIndex=-1)})}_selectValue(A){const L=this._buttonToggles.find(G=>null!=G.value&&G.value===A);L&&(L.checked=!0,this._selectionModel.select(L),this.multiple||(L.tabIndex=0))}_updateModelValue(A,L){L&&this._emitChangeEvent(A),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(A=>A._markForCheck())}static#e=this.\u0275fac=function(L){return new(L||m)(h.rXU(h.gRc),h.rXU(y,8),h.rXU(g.dS,8))};static#t=this.\u0275dir=h.FsC({type:m,selectors:[["mat-button-toggle-group"]],contentQueries:function(L,G,O){if(1&L&&h.wni(O,S,5),2&L){let W;h.mGM(W=h.lsd())&&(G._buttonToggles=W)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(L,G){1&L&&h.bIt("keydown",function(W){return G._keydown(W)}),2&L&&(h.BMQ("role",G.multiple?"group":"radiogroup")("aria-disabled",G.disabled),h.AVh("mat-button-toggle-vertical",G.vertical)("mat-button-toggle-group-appearance-standard","standard"===G.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",h.L39],value:"value",multiple:[2,"multiple","multiple",h.L39],disabled:[2,"disabled","disabled",h.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",h.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",h.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[h.Jv_([B,{provide:M,useExisting:m}]),h.GFd]})}return m})(),S=(()=>{class m{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(A){this._tabIndex=A,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(A){this._appearance=A}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(A){A!==this._checked&&(this._checked=A,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(A){this._disabled=A}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(A){this._disabledInteractive=A}constructor(A,L,G,O,W,U){this._changeDetectorRef=L,this._elementRef=G,this._focusMonitor=O,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new h.bkB;const $=Number(W);this.tabIndex=$||0===$?$:null,this.buttonToggleGroup=A,this.appearance=U&&U.appearance?U.appearance:"standard",this.disabledInteractive=U?.disabledInteractive??!1}ngOnInit(){const A=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+K++,A&&(A._isPrechecked(this)?this.checked=!0:A._isSelected(this)!==this._checked&&A._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const A=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),A&&A._isSelected(this)&&A._syncButtonToggle(this,!1,!1,!0)}focus(A){this._buttonElement.nativeElement.focus(A)}_onButtonClick(){if(this.disabled)return;const A=!!this.isSingleSelector()||!this._checked;if(A!==this._checked&&(this._checked=A,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const L=this.buttonToggleGroup._buttonToggles.find(G=>0===G.tabIndex);L&&(L.tabIndex=-1),this.tabIndex=0}this.change.emit(new P(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(L){return new(L||m)(h.rXU(M,8),h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(e.FN),h.kS0("tabindex"),h.rXU(y,8))};static#t=this.\u0275cmp=h.VBU({type:m,selectors:[["mat-button-toggle"]],viewQuery:function(L,G){if(1&L&&h.GBs(_,5),2&L){let O;h.mGM(O=h.lsd())&&(G._buttonElement=O.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(L,G){1&L&&h.bIt("focus",function(){return G.focus()}),2&L&&(h.BMQ("aria-label",null)("aria-labelledby",null)("id",G.id)("name",null),h.AVh("mat-button-toggle-standalone",!G.buttonToggleGroup)("mat-button-toggle-checked",G.checked)("mat-button-toggle-disabled",G.disabled)("mat-button-toggle-disabled-interactive",G.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===G.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",h.L39],appearance:"appearance",checked:[2,"checked","checked",h.L39],disabled:[2,"disabled","disabled",h.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:u,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(L,G){if(1&L){const O=h.RV6();h.NAR(),h.j41(0,"button",1,0),h.bIt("click",function(){return h.eBV(O),h.Njj(G._onButtonClick())}),h.j41(2,"span",2),h.DNE(3,I,1,1,"mat-pseudo-checkbox",3)(4,k,1,1,"mat-pseudo-checkbox",3),h.SdG(5),h.k0s()(),h.nrm(6,"span",4)(7,"span",5)}if(2&L){const O=h.sdS(1);h.Y8G("id",G.buttonId)("disabled",G.disabled&&!G.disabledInteractive||null),h.BMQ("role",G.isSingleSelector()?"radio":"button")("tabindex",G.disabled&&!G.disabledInteractive?-1:G.tabIndex)("aria-pressed",G.isSingleSelector()?null:G.checked)("aria-checked",G.isSingleSelector()?G.checked:null)("name",G._getButtonName())("aria-label",G.ariaLabel)("aria-labelledby",G.ariaLabelledby)("aria-disabled",G.disabled&&G.disabledInteractive?"true":null),h.R7$(3),h.vxM(G.buttonToggleGroup&&G.checked&&!G.buttonToggleGroup.multiple&&!G.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),h.R7$(),h.vxM(G.buttonToggleGroup&&G.checked&&G.buttonToggleGroup.multiple&&!G.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),h.R7$(3),h.Y8G("matRippleTrigger",O)("matRippleDisabled",G.disableRipple||G.disabled)}},dependencies:[E.r6,E.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return m})(),w=(()=>{class m{static#e=this.\u0275fac=function(L){return new(L||m)};static#t=this.\u0275mod=h.$C({type:m});static#n=this.\u0275inj=h.G2t({imports:[E.yE,E.pZ,S,E.yE]})}return m})()},8834:(Ot,ve,s)=>{"use strict";s.d(ve,{$z:()=>v,Hl:()=>Y,iY:()=>ie});var e=s(6860),n=s(3953),d=s(9888),h=s(6600);const g=["mat-button",""],b=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],E=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],x=["mat-icon-button",""],M=["*"],K=new n.nKC("MAT_BUTTON_CONFIG"),j=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let S=(()=>{class F{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(J){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,J)}get disableRipple(){return this._disableRipple}set disableRipple(J){this._disableRipple=J,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(J){this._disabled=J,this._updateRippleDisabled()}constructor(J,ae,_e,xe){this._elementRef=J,this._platform=ae,this._ngZone=_e,this._animationMode=xe,this._focusMonitor=(0,n.WQX)(d.FN),this._rippleLoader=(0,n.WQX)(h.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Fe=(0,n.WQX)(K,{optional:!0}),Ae=J.nativeElement,Ye=Ae.classList;this.disabledInteractive=Fe?.disabledInteractive??!1,this.color=Fe?.color??null,this._rippleLoader?.configureRipple(Ae,{className:"mat-mdc-button-ripple"});for(const{attribute:qe,mdcClasses:Ne}of j)Ae.hasAttribute(qe)&&Ye.add(...Ne)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(J="program",ae){J?this._focusMonitor.focusVia(this._elementRef.nativeElement,J,ae):this._elementRef.nativeElement.focus(ae)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(ae){n.QTQ()};static#t=this.\u0275dir=n.FsC({type:F,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",n.L39],disabled:[2,"disabled","disabled",n.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",n.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",n.L39]},features:[n.GFd]})}return F})(),v=(()=>{class F extends S{constructor(J,ae,_e,xe){super(J,ae,_e,xe)}static#e=this.\u0275fac=function(ae){return new(ae||F)(n.rXU(n.aKT),n.rXU(e.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:F,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ae,_e){2&ae&&(n.BMQ("disabled",_e._getDisabledAttribute())("aria-disabled",_e._getAriaDisabled()),n.HbH(_e.color?"mat-"+_e.color:""),n.AVh("mat-mdc-button-disabled",_e.disabled)("mat-mdc-button-disabled-interactive",_e.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===_e._animationMode)("mat-unthemed",!_e.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:g,ngContentSelectors:E,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ae,_e){1&ae&&(n.NAR(b),n.nrm(0,"span",0),n.SdG(1),n.j41(2,"span",1),n.SdG(3,1),n.k0s(),n.SdG(4,2),n.nrm(5,"span",2)(6,"span",3)),2&ae&&n.AVh("mdc-button__ripple",!_e._isFab)("mdc-fab__ripple",_e._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return F})(),ie=(()=>{class F extends S{constructor(J,ae,_e,xe){super(J,ae,_e,xe),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(ae){return new(ae||F)(n.rXU(n.aKT),n.rXU(e.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:F,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ae,_e){2&ae&&(n.BMQ("disabled",_e._getDisabledAttribute())("aria-disabled",_e._getAriaDisabled()),n.HbH(_e.color?"mat-"+_e.color:""),n.AVh("mat-mdc-button-disabled",_e.disabled)("mat-mdc-button-disabled-interactive",_e.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===_e._animationMode)("mat-unthemed",!_e.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:x,ngContentSelectors:M,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ae,_e){1&ae&&(n.NAR(),n.nrm(0,"span",0),n.SdG(1),n.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return F})(),Y=(()=>{class F{static#e=this.\u0275fac=function(ae){return new(ae||F)};static#t=this.\u0275mod=n.$C({type:F});static#n=this.\u0275inj=n.G2t({imports:[h.yE,h.pZ,h.yE]})}return F})()},2765:(Ot,ve,s)=>{"use strict";s.d(ve,{So:()=>M,g7:()=>j});var e=s(3953),n=s(9417),d=s(6600);const h=["input"],g=["label"],b=["*"],E=new e.nKC("mat-checkbox-default-options",{providedIn:"root",factory:_});function _(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var u=function(S){return S[S.Init=0]="Init",S[S.Checked=1]="Checked",S[S.Unchecked=2]="Unchecked",S[S.Indeterminate=3]="Indeterminate",S}(u||{});const I={provide:n.kq,useExisting:(0,e.Rfq)(()=>M),multi:!0};class k{}let y=0;const x=_();let M=(()=>{class S{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(m){const v=new k;return v.source=this,v.checked=m,v}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(m,v,A,L,G,O){this._elementRef=m,this._changeDetectorRef=v,this._ngZone=A,this._animationMode=G,this._options=O,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.bkB,this.indeterminateChange=new e.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=u.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||x,this.color=this._options.color||x.color,this.tabIndex=parseInt(L)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++y,this.disabledInteractive=O?.disabledInteractive??!1}ngOnChanges(m){m.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(m){m!=this.checked&&(this._checked=m,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(m){m!==this.disabled&&(this._disabled=m,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(m){const v=m!=this._indeterminate;this._indeterminate=m,v&&(this._transitionCheckState(this._indeterminate?u.Indeterminate:this.checked?u.Checked:u.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(m){this.checked=!!m}registerOnChange(m){this._controlValueAccessorChangeFn=m}registerOnTouched(m){this._onTouched=m}setDisabledState(m){this.disabled=m}validate(m){return this.required&&!0!==m.value?{required:!0}:null}registerOnValidatorChange(m){this._validatorChangeFn=m}_transitionCheckState(m){let v=this._currentCheckState,A=this._getAnimationTargetElement();if(v!==m&&A&&(this._currentAnimationClass&&A.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(v,m),this._currentCheckState=m,this._currentAnimationClass.length>0)){A.classList.add(this._currentAnimationClass);const L=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{A.classList.remove(L)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const m=this._options?.clickAction;this.disabled||"noop"===m?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===m)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==m&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?u.Checked:u.Unchecked),this._emitChangeEvent())}_onInteractionEvent(m){m.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(m,v){if("NoopAnimations"===this._animationMode)return"";switch(m){case u.Init:if(v===u.Checked)return this._animationClasses.uncheckedToChecked;if(v==u.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case u.Unchecked:return v===u.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case u.Checked:return v===u.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case u.Indeterminate:return v===u.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(m){const v=this._inputElement;v&&(v.nativeElement.indeterminate=m)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(m){m.target&&this._labelElement.nativeElement.contains(m.target)&&m.stopPropagation()}static#e=this.\u0275fac=function(v){return new(v||S)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.kS0("tabindex"),e.rXU(e.bc$,8),e.rXU(E,8))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["mat-checkbox"]],viewQuery:function(v,A){if(1&v&&(e.GBs(h,5),e.GBs(g,5),e.GBs(d.r6,5)),2&v){let L;e.mGM(L=e.lsd())&&(A._inputElement=L.first),e.mGM(L=e.lsd())&&(A._labelElement=L.first),e.mGM(L=e.lsd())&&(A.ripple=L.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(v,A){2&v&&(e.Mr5("id",A.id),e.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),e.HbH(A.color?"mat-"+A.color:"mat-accent"),e.AVh("_mat-animation-noopable","NoopAnimations"===A._animationMode)("mdc-checkbox--disabled",A.disabled)("mat-mdc-checkbox-disabled",A.disabled)("mat-mdc-checkbox-checked",A.checked)("mat-mdc-checkbox-disabled-interactive",A.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",e.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",m=>null==m?void 0:(0,e.Udg)(m)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",e.L39],checked:[2,"checked","checked",e.L39],disabled:[2,"disabled","disabled",e.L39],indeterminate:[2,"indeterminate","indeterminate",e.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[e.Jv_([I,{provide:n.cz,useExisting:S,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:b,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(v,A){if(1&v){const L=e.RV6();e.NAR(),e.j41(0,"div",3),e.bIt("click",function(O){return e.eBV(L),e.Njj(A._preventBubblingFromLabel(O))}),e.j41(1,"div",4,0)(3,"div",5),e.bIt("click",function(){return e.eBV(L),e.Njj(A._onTouchTargetClick())}),e.k0s(),e.j41(4,"input",6,1),e.bIt("blur",function(){return e.eBV(L),e.Njj(A._onBlur())})("click",function(){return e.eBV(L),e.Njj(A._onInputClick())})("change",function(O){return e.eBV(L),e.Njj(A._onInteractionEvent(O))}),e.k0s(),e.nrm(6,"div",7),e.j41(7,"div",8),e.qSk(),e.j41(8,"svg",9),e.nrm(9,"path",10),e.k0s(),e.joV(),e.nrm(10,"div",11),e.k0s(),e.nrm(11,"div",12),e.k0s(),e.j41(12,"label",13,2),e.SdG(14),e.k0s()()}if(2&v){const L=e.sdS(2);e.Y8G("labelPosition",A.labelPosition),e.R7$(4),e.AVh("mdc-checkbox--selected",A.checked),e.Y8G("checked",A.checked)("indeterminate",A.indeterminate)("disabled",A.disabled&&!A.disabledInteractive)("id",A.inputId)("required",A.required)("tabIndex",A.disabled&&!A.disabledInteractive?-1:A.tabIndex),e.BMQ("aria-label",A.ariaLabel||null)("aria-labelledby",A.ariaLabelledby)("aria-describedby",A.ariaDescribedby)("aria-checked",A.indeterminate?"mixed":null)("aria-disabled",!(!A.disabled||!A.disabledInteractive)||null)("name",A.name)("value",A.value),e.R7$(7),e.Y8G("matRippleTrigger",L)("matRippleDisabled",A.disableRipple||A.disabled)("matRippleCentered",!0),e.R7$(),e.Y8G("for",A.inputId)}},dependencies:[d.r6,d.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return S})(),j=(()=>{class S{static#e=this.\u0275fac=function(v){return new(v||S)};static#t=this.\u0275mod=e.$C({type:S});static#n=this.\u0275inj=e.G2t({imports:[M,d.yE,d.yE]})}return S})()},6471:(Ot,ve,s)=>{"use strict";s.d(ve,{D7:()=>Qt,HW:()=>dt,Jl:()=>Ye,YN:()=>In,Zv:()=>Fe,jH:()=>pe});var e=s(9888),n=s(7336),d=s(177),h=s(3953),g=s(6600),b=s(5286),E=s(4670),_=s(7605),u=s(3176),I=s(9090),k=s(8203),y=s(9417),x=s(3719);const M=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],B=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function K(rn,$t){1&rn&&(h.j41(0,"span",3),h.SdG(1,1),h.k0s())}function P(rn,$t){1&rn&&(h.j41(0,"span",6),h.SdG(1,2),h.k0s())}const m=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],v=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function A(rn,$t){1&rn&&h.nrm(0,"span",0)}function L(rn,$t){1&rn&&(h.j41(0,"span",2),h.SdG(1),h.k0s())}function G(rn,$t){1&rn&&h.SdG(0,1)}function O(rn,$t){1&rn&&h.nrm(0,"span",7)}function W(rn,$t){if(1&rn&&h.DNE(0,G,1,0)(1,O,1,0,"span",7),2&rn){const q=h.XpG();h.vxM(q.contentEditInput?0:1)}}function U(rn,$t){1&rn&&h.SdG(0,2)}function $(rn,$t){1&rn&&(h.j41(0,"span",5),h.SdG(1,3),h.k0s())}const te=["*"],me=new h.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[n.Fm]})}),Y=new h.nKC("MatChipAvatar"),F=new h.nKC("MatChipTrailingIcon"),N=new h.nKC("MatChipRemove"),J=new h.nKC("MatChip");let ae=(()=>{class rn{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(q){this._disabled=q}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(q,Ie){this._elementRef=q,this._parentChip=Ie,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===q.nativeElement.nodeName&&q.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(q){!this.disabled&&this.isInteractive&&this._isPrimary&&(q.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(q){(q.keyCode===n.Fm||q.keyCode===n.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(q.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.aKT),h.rXU(J))};static#t=this.\u0275dir=h.FsC({type:rn,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Ie,se){1&Ie&&h.bIt("click",function(Ke){return se._handleClick(Ke)})("keydown",function(Ke){return se._handleKeydown(Ke)}),2&Ie&&(h.BMQ("tabindex",se._getTabindex())("disabled",se._getDisabledAttribute())("aria-disabled",se.disabled),h.AVh("mdc-evolution-chip__action--primary",se._isPrimary)("mdc-evolution-chip__action--presentational",!se.isInteractive)("mdc-evolution-chip__action--trailing",!se._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",h.L39],tabIndex:[2,"tabIndex","tabIndex",q=>null==q?-1:(0,h.Udg)(q)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[h.GFd]})}return rn})(),Fe=(()=>{class rn extends ae{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(q){this.disabled||(q.stopPropagation(),q.preventDefault(),this._parentChip.remove())}_handleKeydown(q){(q.keyCode===n.Fm||q.keyCode===n.t6)&&!this.disabled&&(q.stopPropagation(),q.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let q;return function(se){return(q||(q=h.xGo(rn)))(se||rn)}})();static#t=this.\u0275dir=h.FsC({type:rn,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(Ie,se){2&Ie&&h.BMQ("aria-hidden",null)},standalone:!0,features:[h.Jv_([{provide:N,useExisting:rn}]),h.Vt3]})}return rn})(),Ae=0,Ye=(()=>{class rn{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(q){this._value=q}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(q){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,q)}constructor(q,Ie,se,fe,Ke,It,Kt){this._changeDetectorRef=q,this._elementRef=Ie,this._ngZone=se,this._focusMonitor=fe,this._globalRippleOptions=Kt,this._onFocus=new b.B7,this._onBlur=new b.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Ae++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new h.bkB,this.destroyed=new h.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,h.WQX)(g.Ej),this._injector=(0,h.WQX)(h.zZn),this._document=Ke,this._animationsDisabled="NoopAnimations"===It,this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const q=this._elementRef.nativeElement;this._isBasicChip=q.hasAttribute(this.basicChipAttrName)||q.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,E.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(q){(q.keyCode===n.G_&&!q.repeat||q.keyCode===n.SJ)&&(q.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(q){return this._getActions().find(Ie=>{const se=Ie._elementRef.nativeElement;return se===q||se.contains(q)})}_getActions(){const q=[];return this.primaryAction&&q.push(this.primaryAction),this.removeIcon&&q.push(this.removeIcon),this.trailingIcon&&q.push(this.trailingIcon),q}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(q=>{const Ie=null!==q;Ie!==this._hasFocusInternal&&(this._hasFocusInternal=Ie,Ie?this._onFocus.next({chip:this}):(0,h.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(e.FN),h.rXU(d.qQ),h.rXU(h.bc$,8),h.rXU(g.$E,8))};static#t=this.\u0275cmp=h.VBU({type:rn,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Ie,se,fe){if(1&Ie&&(h.wni(fe,Y,5),h.wni(fe,F,5),h.wni(fe,N,5),h.wni(fe,Y,5),h.wni(fe,F,5),h.wni(fe,N,5)),2&Ie){let Ke;h.mGM(Ke=h.lsd())&&(se.leadingIcon=Ke.first),h.mGM(Ke=h.lsd())&&(se.trailingIcon=Ke.first),h.mGM(Ke=h.lsd())&&(se.removeIcon=Ke.first),h.mGM(Ke=h.lsd())&&(se._allLeadingIcons=Ke),h.mGM(Ke=h.lsd())&&(se._allTrailingIcons=Ke),h.mGM(Ke=h.lsd())&&(se._allRemoveIcons=Ke)}},viewQuery:function(Ie,se){if(1&Ie&&h.GBs(ae,5),2&Ie){let fe;h.mGM(fe=h.lsd())&&(se.primaryAction=fe.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(Ie,se){1&Ie&&h.bIt("keydown",function(Ke){return se._handleKeydown(Ke)}),2&Ie&&(h.Mr5("id",se.id),h.BMQ("role",se.role)("aria-label",se.ariaLabel),h.HbH("mat-"+(se.color||"primary")),h.AVh("mdc-evolution-chip",!se._isBasicChip)("mdc-evolution-chip--disabled",se.disabled)("mdc-evolution-chip--with-trailing-action",se._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",se.leadingIcon)("mdc-evolution-chip--with-primary-icon",se.leadingIcon)("mdc-evolution-chip--with-avatar",se.leadingIcon)("mat-mdc-chip-with-avatar",se.leadingIcon)("mat-mdc-chip-highlighted",se.highlighted)("mat-mdc-chip-disabled",se.disabled)("mat-mdc-basic-chip",se._isBasicChip)("mat-mdc-standard-chip",!se._isBasicChip)("mat-mdc-chip-with-trailing-icon",se._hasTrailingIcon())("_mat-animation-noopable",se._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",h.L39],highlighted:[2,"highlighted","highlighted",h.L39],disableRipple:[2,"disableRipple","disableRipple",h.L39],disabled:[2,"disabled","disabled",h.L39]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[h.Jv_([{provide:J,useExisting:rn}]),h.GFd,h.aNF],ngContentSelectors:B,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Ie,se){1&Ie&&(h.NAR(M),h.nrm(0,"span",0),h.j41(1,"span",1)(2,"span",2),h.DNE(3,K,2,0,"span",3),h.j41(4,"span",4),h.SdG(5),h.nrm(6,"span",5),h.k0s()()(),h.DNE(7,P,2,0,"span",6)),2&Ie&&(h.R7$(2),h.Y8G("isInteractive",!1),h.R7$(),h.vxM(se.leadingIcon?3:-1),h.R7$(4),h.vxM(se._hasTrailingIcon()?7:-1))},dependencies:[ae],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return rn})(),Me=(()=>{class rn{constructor(q,Ie){this._elementRef=q,this._document=Ie}initialize(q){this.getNativeElement().focus(),this.setValue(q)}getNativeElement(){return this._elementRef.nativeElement}setValue(q){this.getNativeElement().textContent=q,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const q=this._document.createRange();q.selectNodeContents(this.getNativeElement()),q.collapse(!1);const Ie=window.getSelection();Ie.removeAllRanges(),Ie.addRange(q)}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.aKT),h.rXU(d.qQ))};static#t=this.\u0275dir=h.FsC({type:rn,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return rn})(),pe=(()=>{class rn extends Ye{constructor(q,Ie,se,fe,Ke,It,Kt,vn){super(q,Ie,se,fe,Ke,It,Kt),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new h.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,_.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(q){q.keyCode!==n.Fm||this.disabled?this._isEditing?q.stopPropagation():super._handleKeydown(q):this._isEditing?(q.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(q)}_handleDoubleclick(q){!this.disabled&&this.editable&&this._startEditing(q)}_startEditing(q){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(q.target)===this.removeIcon)return;const Ie=this.value;this._isEditing=this._editStartPending=!0,(0,h.mal)(()=>{this._getEditInput().initialize(Ie),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(e.FN),h.rXU(d.qQ),h.rXU(h.bc$,8),h.rXU(g.$E,8),h.kS0("tabindex"))};static#t=this.\u0275cmp=h.VBU({type:rn,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(Ie,se,fe){if(1&Ie&&h.wni(fe,Me,5),2&Ie){let Ke;h.mGM(Ke=h.lsd())&&(se.contentEditInput=Ke.first)}},viewQuery:function(Ie,se){if(1&Ie&&h.GBs(Me,5),2&Ie){let fe;h.mGM(fe=h.lsd())&&(se.defaultEditInput=fe.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(Ie,se){1&Ie&&h.bIt("focus",function(Ke){return se._handleFocus(Ke)})("dblclick",function(Ke){return se._handleDoubleclick(Ke)}),2&Ie&&(h.Mr5("id",se.id),h.BMQ("tabindex",se.disabled?null:-1)("aria-label",null)("aria-description",null)("role",se.role),h.AVh("mat-mdc-chip-with-avatar",se.leadingIcon)("mat-mdc-chip-disabled",se.disabled)("mat-mdc-chip-editing",se._isEditing)("mat-mdc-chip-editable",se.editable)("mdc-evolution-chip--disabled",se.disabled)("mdc-evolution-chip--with-trailing-action",se._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",se.leadingIcon)("mdc-evolution-chip--with-primary-icon",se.leadingIcon)("mdc-evolution-chip--with-avatar",se.leadingIcon)("mat-mdc-chip-highlighted",se.highlighted)("mat-mdc-chip-with-trailing-icon",se._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[h.Jv_([{provide:Ye,useExisting:rn},{provide:J,useExisting:rn}]),h.Vt3,h.aNF],ngContentSelectors:v,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(Ie,se){1&Ie&&(h.NAR(m),h.DNE(0,A,1,0,"span",0),h.j41(1,"span",1),h.DNE(2,L,2,0,"span",2),h.j41(3,"span",3),h.DNE(4,W,2,1)(5,U,1,0),h.nrm(6,"span",4),h.k0s()(),h.DNE(7,$,2,0,"span",5),h.j41(8,"span",6),h.EFF(9),h.k0s()),2&Ie&&(h.vxM(se._isEditing?-1:0),h.R7$(),h.Y8G("disabled",se.disabled),h.BMQ("aria-label",se.ariaLabel)("aria-describedby",se._ariaDescriptionId),h.R7$(),h.vxM(se.leadingIcon?2:-1),h.R7$(2),h.vxM(se._isEditing?4:5),h.R7$(3),h.vxM(se._hasTrailingIcon()?7:-1),h.R7$(),h.Y8G("id",se._ariaDescriptionId),h.R7$(),h.JRh(se.ariaDescription))},dependencies:[ae,Me],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return rn})(),he=(()=>{class rn{get chipFocusChanges(){return this._getChipStream(q=>q._onFocus)}get chipDestroyedChanges(){return this._getChipStream(q=>q.destroyed)}get chipRemovedChanges(){return this._getChipStream(q=>q.removed)}get disabled(){return this._disabled}set disabled(q){this._disabled=q,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(q){this._explicitRole=q}get focused(){return this._hasFocusedChip()}constructor(q,Ie,se){this._elementRef=q,this._changeDetectorRef=Ie,this._dir=se,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new b.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new h.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(q=>q._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(q=>{q.disabled=this._disabled,q._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(q){this._originatesFromChip(q)&&this._keyManager.onKeydown(q)}_isValidIndex(q){return q>=0&&q<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const q=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=q,this._changeDetectorRef.markForCheck()})}}_getChipStream(q){return this._chips.changes.pipe((0,u.Z)(null),(0,I.n)(()=>(0,E.h)(...this._chips.map(q))))}_originatesFromChip(q){let Ie=q.target;for(;Ie&&Ie!==this._elementRef.nativeElement;){if(Ie.classList.contains("mat-mdc-chip"))return!0;Ie=Ie.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,u.Z)(this._chips)).subscribe(q=>{const Ie=[];q.forEach(se=>se._getActions().forEach(fe=>Ie.push(fe))),this._chipActions.reset(Ie),this._chipActions.notifyOnChanges()}),this._keyManager=new e.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(q=>this._skipPredicate(q)),this.chipFocusChanges.pipe((0,_.Q)(this._destroyed)).subscribe(({chip:q})=>{const Ie=q._getSourceAction(document.activeElement);Ie&&this._keyManager.updateActiveItem(Ie)}),this._dir?.change.pipe((0,_.Q)(this._destroyed)).subscribe(q=>this._keyManager.withHorizontalOrientation(q))}_skipPredicate(q){return!q.isInteractive||q.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,u.Z)(null),(0,_.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,_.Q)(this._destroyed)).subscribe(q=>{const se=this._chips.toArray().indexOf(q.chip);this._isValidIndex(se)&&q.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=se)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const q=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Ie=this._chips.toArray()[q];Ie.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Ie.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(k.dS,8))};static#t=this.\u0275cmp=h.VBU({type:rn,selectors:[["mat-chip-set"]],contentQueries:function(Ie,se,fe){if(1&Ie&&h.wni(fe,Ye,5),2&Ie){let Ke;h.mGM(Ke=h.lsd())&&(se._chips=Ke)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Ie,se){1&Ie&&h.bIt("keydown",function(Ke){return se._handleKeydown(Ke)}),2&Ie&&h.BMQ("role",se.role)},inputs:{disabled:[2,"disabled","disabled",h.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",q=>null==q?0:(0,h.Udg)(q)]},standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:te,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Ie,se){1&Ie&&(h.NAR(),h.j41(0,"div",0),h.SdG(1),h.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return rn})();class xt{constructor($t,q){this.source=$t,this.value=q}}let dt=(()=>{class rn extends he{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(q){this._disabled=q,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(q){this._placeholder=q,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(y.k0.required)??!1}set required(q){this._required=q,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(q){this._value=q}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(q){this._errorStateTracker.matcher=q}get chipBlurChanges(){return this._getChipStream(q=>q._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(q){this._errorStateTracker.errorState=q}constructor(q,Ie,se,fe,Ke,It,Kt){super(q,Ie,se),this.ngControl=Kt,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new h.bkB,this.valueChange=new h.bkB,this._chips=void 0,this.stateChanges=new b.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new g.X0(It,Kt,Ke,fe,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,_.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,E.h)(this.chipFocusChanges,this._chips.changes).pipe((0,_.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(q){this._chipInput=q,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(q){!this.disabled&&!this._originatesFromChip(q)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(q){this._ariaDescribedbyIds=q,this._chipInput?.setDescribedByIds(q)}writeValue(q){this._value=q}registerOnChange(q){this._onChange=q}registerOnTouched(q){this._onTouched=q}setDisabledState(q){this.disabled=q,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(q){const Ie=q.keyCode,se=this._keyManager.activeItem;if(Ie===n.wn)this._chipInput.focused&&(0,n.rp)(q,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(q.preventDefault(),se?this._keyManager.setActiveItem(se):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(Ie!==n.i7&&Ie!==n.n6||!se)super._handleKeydown(q);else{const fe=this._chipActions.filter(Kt=>Kt._isPrimary===se._isPrimary&&!this._skipPredicate(Kt)),Ke=fe.indexOf(se),It=q.keyCode===n.i7?-1:1;q.preventDefault(),Ke>-1&&this._isValidIndex(Ke+It)&&this._keyManager.setActiveItem(fe[Ke+It])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const q=this._chips.length?this._chips.toArray().map(Ie=>Ie.value):[];this._value=q,this.change.emit(new xt(this,q)),this.valueChange.emit(q),this._onChange(q),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(k.dS,8),h.rXU(y.cV,8),h.rXU(y.j4,8),h.rXU(g.es),h.rXU(y.vO,10))};static#t=this.\u0275cmp=h.VBU({type:rn,selectors:[["mat-chip-grid"]],contentQueries:function(Ie,se,fe){if(1&Ie&&h.wni(fe,pe,5),2&Ie){let Ke;h.mGM(Ke=h.lsd())&&(se._chips=Ke)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(Ie,se){1&Ie&&h.bIt("focus",function(){return se.focus()})("blur",function(){return se._blur()}),2&Ie&&(h.BMQ("role",se.role)("tabindex",se.disabled||se._chips&&0===se._chips.length?-1:se.tabIndex)("aria-disabled",se.disabled.toString())("aria-invalid",se.errorState),h.AVh("mat-mdc-chip-list-disabled",se.disabled)("mat-mdc-chip-list-invalid",se.errorState)("mat-mdc-chip-list-required",se.required))},inputs:{disabled:[2,"disabled","disabled",h.L39],placeholder:"placeholder",required:[2,"required","required",h.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[h.Jv_([{provide:x.qT,useExisting:rn}]),h.GFd,h.Vt3,h.aNF],ngContentSelectors:te,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Ie,se){1&Ie&&(h.NAR(),h.j41(0,"div",0),h.SdG(1),h.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return rn})(),Ct=0,Qt=(()=>{class rn{get chipGrid(){return this._chipGrid}set chipGrid(q){q&&(this._chipGrid=q,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(q){this._disabled=q}get empty(){return!this.inputElement.value}constructor(q,Ie,se){this._elementRef=q,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new h.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+Ct++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=Ie.separatorKeyCodes,se&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(q){this.empty&&q.keyCode===n.G_?(q.repeat||this._chipGrid._focusLastChip(),q.preventDefault()):this._emitChipEnd(q)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(q){(!q||this._isSeparatorKey(q))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),q?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(q){const Ie=this._elementRef.nativeElement;q.length?Ie.setAttribute("aria-describedby",q.join(" ")):Ie.removeAttribute("aria-describedby")}_isSeparatorKey(q){return!(0,n.rp)(q)&&new Set(this.separatorKeyCodes).has(q.keyCode)}static#e=this.\u0275fac=function(Ie){return new(Ie||rn)(h.rXU(h.aKT),h.rXU(me),h.rXU(x.xb,8))};static#t=this.\u0275dir=h.FsC({type:rn,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(Ie,se){1&Ie&&h.bIt("keydown",function(Ke){return se._keydown(Ke)})("blur",function(){return se._blur()})("focus",function(){return se._focus()})("input",function(){return se._onInput()}),2&Ie&&(h.Mr5("id",se.id),h.BMQ("disabled",se.disabled||null)("placeholder",se.placeholder||null)("aria-invalid",se._chipGrid&&se._chipGrid.ngControl?se._chipGrid.ngControl.invalid:null)("aria-required",se._chipGrid&&se._chipGrid.required||null)("required",se._chipGrid&&se._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",h.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",h.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[h.GFd,h.OA$]})}return rn})(),In=(()=>{class rn{static#e=this.\u0275fac=function(Ie){return new(Ie||rn)};static#t=this.\u0275mod=h.$C({type:rn});static#n=this.\u0275inj=h.G2t({providers:[g.es,{provide:me,useValue:{separatorKeyCodes:[n.Fm]}}],imports:[g.yE,g.pZ,g.yE]})}return rn})()},6600:(Ot,ve,s)=>{"use strict";s.d(ve,{r5:()=>m,ed:()=>v,MJ:()=>_e,es:()=>le,de:()=>xe,QC:()=>Yt,is:()=>Et,$E:()=>It,yE:()=>G,WX:()=>Me,D7:()=>Xt,wT:()=>Mn,Sy:()=>$n,MI:()=>yn,wg:()=>Pt,r6:()=>Kt,Ej:()=>Wt,pZ:()=>vn,Ex:()=>Ct,X0:()=>Y,tO:()=>We,jb:()=>Ln,TL:()=>Fn});var e=s(3953),n=s(9888),d=s(8203),g=s(177),b=s(6860),E=s(4085),_=s(5286),u=s(7336);const I=["*",[["mat-option"],["ng-container"]]],k=["*","mat-option, ng-container"],y=["text"],x=[[["mat-icon"]],"*"],M=["mat-icon","*"];function B(Pe,Ue){if(1&Pe&&e.nrm(0,"mat-pseudo-checkbox",1),2&Pe){const De=e.XpG();e.Y8G("disabled",De.disabled)("state",De.selected?"checked":"unchecked")}}function K(Pe,Ue){if(1&Pe&&e.nrm(0,"mat-pseudo-checkbox",3),2&Pe){const De=e.XpG();e.Y8G("disabled",De.disabled)}}function P(Pe,Ue){if(1&Pe&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&Pe){const De=e.XpG();e.R7$(),e.SpI("(",De.group.label,")")}}const j=["mat-internal-form-field",""],S=["*"];let m=(()=>{class Pe{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Pe})(),v=(()=>{class Pe{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Pe})();const L=new e.nKC("mat-sanity-checks",{providedIn:"root",factory:function A(){return!0}});let G=(()=>{class Pe{constructor(De,rt,Qe){this._sanityChecks=rt,this._document=Qe,this._hasDoneGlobalChecks=!1,De._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(De){return!(0,b.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[De])}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.KVO(n.Q_),e.KVO(L,8),e.KVO(g.qQ))};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[d.jI,d.jI]})}return Pe})();class Y{constructor(Ue,De,rt,Qe,vt){this._defaultMatcher=Ue,this.ngControl=De,this._parentFormGroup=rt,this._parentForm=Qe,this._stateChanges=vt,this.errorState=!1}updateErrorState(){const Ue=this.errorState,De=this._parentFormGroup||this._parentForm,rt=this.matcher||this._defaultMatcher,Qe=this.ngControl?this.ngControl.control:null,vt=rt?.isErrorState(Qe,De)??!1;vt!==Ue&&(this.errorState=vt,this._stateChanges.next())}}const J=new e.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function ae(){return(0,e.WQX)(e.xe9)}});class _e{constructor(){this._localeChanges=new _.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(Ue){return this.isDateInstance(Ue)&&this.isValid(Ue)?Ue:null}deserialize(Ue){return null==Ue||this.isDateInstance(Ue)&&this.isValid(Ue)?Ue:this.invalid()}setLocale(Ue){this.locale=Ue,this._localeChanges.next()}compareDate(Ue,De){return this.getYear(Ue)-this.getYear(De)||this.getMonth(Ue)-this.getMonth(De)||this.getDate(Ue)-this.getDate(De)}sameDate(Ue,De){if(Ue&&De){let rt=this.isValid(Ue),Qe=this.isValid(De);return rt&&Qe?!this.compareDate(Ue,De):rt==Qe}return Ue==De}clampDate(Ue,De,rt){return De&&this.compareDate(Ue,De)<0?De:rt&&this.compareDate(Ue,rt)>0?rt:Ue}}const xe=new e.nKC("mat-date-formats"),Fe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ae(Pe,Ue){const De=Array(Pe);for(let rt=0;rt<Pe;rt++)De[rt]=Ue(rt);return De}let Ye=(()=>{class Pe extends _e{constructor(De){super(),this.useUtcForDisplay=!1,this._matDateLocale=(0,e.WQX)(J,{optional:!0}),void 0!==De&&(this._matDateLocale=De),super.setLocale(this._matDateLocale)}getYear(De){return De.getFullYear()}getMonth(De){return De.getMonth()}getDate(De){return De.getDate()}getDayOfWeek(De){return De.getDay()}getMonthNames(De){const rt=new Intl.DateTimeFormat(this.locale,{month:De,timeZone:"utc"});return Ae(12,Qe=>this._format(rt,new Date(2017,Qe,1)))}getDateNames(){const De=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ae(31,rt=>this._format(De,new Date(2017,0,rt+1)))}getDayOfWeekNames(De){const rt=new Intl.DateTimeFormat(this.locale,{weekday:De,timeZone:"utc"});return Ae(7,Qe=>this._format(rt,new Date(2017,0,Qe+1)))}getYearName(De){const rt=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(rt,De)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(De){return this.getDate(this._createDateWithOverflow(this.getYear(De),this.getMonth(De)+1,0))}clone(De){return new Date(De.getTime())}createDate(De,rt,Qe){let vt=this._createDateWithOverflow(De,rt,Qe);return vt.getMonth(),vt}today(){return new Date}parse(De,rt){return"number"==typeof De?new Date(De):De?new Date(Date.parse(De)):null}format(De,rt){if(!this.isValid(De))throw Error("NativeDateAdapter: Cannot format invalid date.");const Qe=new Intl.DateTimeFormat(this.locale,{...rt,timeZone:"utc"});return this._format(Qe,De)}addCalendarYears(De,rt){return this.addCalendarMonths(De,12*rt)}addCalendarMonths(De,rt){let Qe=this._createDateWithOverflow(this.getYear(De),this.getMonth(De)+rt,this.getDate(De));return this.getMonth(Qe)!=((this.getMonth(De)+rt)%12+12)%12&&(Qe=this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe),0)),Qe}addCalendarDays(De,rt){return this._createDateWithOverflow(this.getYear(De),this.getMonth(De),this.getDate(De)+rt)}toIso8601(De){return[De.getUTCFullYear(),this._2digit(De.getUTCMonth()+1),this._2digit(De.getUTCDate())].join("-")}deserialize(De){if("string"==typeof De){if(!De)return null;if(Fe.test(De)){let rt=new Date(De);if(this.isValid(rt))return rt}}return super.deserialize(De)}isDateInstance(De){return De instanceof Date}isValid(De){return!isNaN(De.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(De,rt,Qe){const vt=new Date;return vt.setFullYear(De,rt,Qe),vt.setHours(0,0,0,0),vt}_2digit(De){return("00"+De).slice(-2)}_format(De,rt){const Qe=new Date;return Qe.setUTCFullYear(rt.getFullYear(),rt.getMonth(),rt.getDate()),Qe.setUTCHours(rt.getHours(),rt.getMinutes(),rt.getSeconds(),rt.getMilliseconds()),De.format(Qe)}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.KVO(J,8))};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const qe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Me=(()=>{class Pe{static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({providers:[pe()]})}return Pe})();function pe(Pe=qe){return[{provide:_e,useClass:Ye},{provide:xe,useValue:Pe}]}let le=(()=>{class Pe{isErrorState(De,rt){return!!(De&&De.invalid&&(De.touched||rt&&rt.submitted))}static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();var Ct=function(Pe){return Pe[Pe.FADING_IN=0]="FADING_IN",Pe[Pe.VISIBLE=1]="VISIBLE",Pe[Pe.FADING_OUT=2]="FADING_OUT",Pe[Pe.HIDDEN=3]="HIDDEN",Pe}(Ct||{});class Qt{constructor(Ue,De,rt,Qe=!1){this._renderer=Ue,this.element=De,this.config=rt,this._animationForciblyDisabledThroughCss=Qe,this.state=Ct.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const _n=(0,b.BQ)({passive:!0,capture:!0});class In{constructor(){this._events=new Map,this._delegateEventHandler=Ue=>{const De=(0,b.Fb)(Ue);De&&this._events.get(Ue.type)?.forEach((rt,Qe)=>{(Qe===De||Qe.contains(De))&&rt.forEach(vt=>vt.handleEvent(Ue))})}}addHandler(Ue,De,rt,Qe){const vt=this._events.get(De);if(vt){const et=vt.get(rt);et?et.add(Qe):vt.set(rt,new Set([Qe]))}else this._events.set(De,new Map([[rt,new Set([Qe])]])),Ue.runOutsideAngular(()=>{document.addEventListener(De,this._delegateEventHandler,_n)})}removeHandler(Ue,De,rt){const Qe=this._events.get(Ue);if(!Qe)return;const vt=Qe.get(De);vt&&(vt.delete(rt),0===vt.size&&Qe.delete(De),0===Qe.size&&(this._events.delete(Ue),document.removeEventListener(Ue,this._delegateEventHandler,_n)))}}const rn={enterDuration:225,exitDuration:150},q=(0,b.BQ)({passive:!0,capture:!0}),Ie=["mousedown","touchstart"],se=["mouseup","mouseleave","touchend","touchcancel"];class fe{static#e=this._eventManager=new In;constructor(Ue,De,rt,Qe){this._target=Ue,this._ngZone=De,this._platform=Qe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Qe.isBrowser&&(this._containerElement=(0,E.i8)(rt))}fadeInRipple(Ue,De,rt={}){const Qe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),vt={...rn,...rt.animation};rt.centered&&(Ue=Qe.left+Qe.width/2,De=Qe.top+Qe.height/2);const et=rt.radius||function Ke(Pe,Ue,De){const rt=Math.max(Math.abs(Pe-De.left),Math.abs(Pe-De.right)),Qe=Math.max(Math.abs(Ue-De.top),Math.abs(Ue-De.bottom));return Math.sqrt(rt*rt+Qe*Qe)}(Ue,De,Qe),Re=Ue-Qe.left,Mt=De-Qe.top,nt=vt.enterDuration,Ze=document.createElement("div");Ze.classList.add("mat-ripple-element"),Ze.style.left=Re-et+"px",Ze.style.top=Mt-et+"px",Ze.style.height=2*et+"px",Ze.style.width=2*et+"px",null!=rt.color&&(Ze.style.backgroundColor=rt.color),Ze.style.transitionDuration=`${nt}ms`,this._containerElement.appendChild(Ze);const qt=window.getComputedStyle(Ze),dn=qt.transitionDuration,xn="none"===qt.transitionProperty||"0s"===dn||"0s, 0s"===dn||0===Qe.width&&0===Qe.height,Wn=new Qt(this,Ze,rt,xn);Ze.style.transform="scale3d(1, 1, 1)",Wn.state=Ct.FADING_IN,rt.persistent||(this._mostRecentTransientRipple=Wn);let Xn=null;return!xn&&(nt||vt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ti=()=>{Xn&&(Xn.fallbackTimer=null),clearTimeout(yi),this._finishRippleTransition(Wn)},Ii=()=>this._destroyRipple(Wn),yi=setTimeout(Ii,nt+100);Ze.addEventListener("transitionend",ti),Ze.addEventListener("transitioncancel",Ii),Xn={onTransitionEnd:ti,onTransitionCancel:Ii,fallbackTimer:yi}}),this._activeRipples.set(Wn,Xn),(xn||!nt)&&this._finishRippleTransition(Wn),Wn}fadeOutRipple(Ue){if(Ue.state===Ct.FADING_OUT||Ue.state===Ct.HIDDEN)return;const De=Ue.element,rt={...rn,...Ue.config.animation};De.style.transitionDuration=`${rt.exitDuration}ms`,De.style.opacity="0",Ue.state=Ct.FADING_OUT,(Ue._animationForciblyDisabledThroughCss||!rt.exitDuration)&&this._finishRippleTransition(Ue)}fadeOutAll(){this._getActiveRipples().forEach(Ue=>Ue.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ue=>{Ue.config.persistent||Ue.fadeOut()})}setupTriggerEvents(Ue){const De=(0,E.i8)(Ue);!this._platform.isBrowser||!De||De===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=De,Ie.forEach(rt=>{fe._eventManager.addHandler(this._ngZone,rt,De,this)}))}handleEvent(Ue){"mousedown"===Ue.type?this._onMousedown(Ue):"touchstart"===Ue.type?this._onTouchStart(Ue):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{se.forEach(De=>{this._triggerElement.addEventListener(De,this,q)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ue){Ue.state===Ct.FADING_IN?this._startFadeOutTransition(Ue):Ue.state===Ct.FADING_OUT&&this._destroyRipple(Ue)}_startFadeOutTransition(Ue){const De=Ue===this._mostRecentTransientRipple,{persistent:rt}=Ue.config;Ue.state=Ct.VISIBLE,!rt&&(!De||!this._isPointerDown)&&Ue.fadeOut()}_destroyRipple(Ue){const De=this._activeRipples.get(Ue)??null;this._activeRipples.delete(Ue),this._activeRipples.size||(this._containerRect=null),Ue===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ue.state=Ct.HIDDEN,null!==De&&(Ue.element.removeEventListener("transitionend",De.onTransitionEnd),Ue.element.removeEventListener("transitioncancel",De.onTransitionCancel),null!==De.fallbackTimer&&clearTimeout(De.fallbackTimer)),Ue.element.remove()}_onMousedown(Ue){const De=(0,n._G)(Ue),rt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!De&&!rt&&(this._isPointerDown=!0,this.fadeInRipple(Ue.clientX,Ue.clientY,this._target.rippleConfig))}_onTouchStart(Ue){if(!this._target.rippleDisabled&&!(0,n.w6)(Ue)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const De=Ue.changedTouches;if(De)for(let rt=0;rt<De.length;rt++)this.fadeInRipple(De[rt].clientX,De[rt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ue=>{!Ue.config.persistent&&(Ue.state===Ct.VISIBLE||Ue.config.terminateOnPointerUp&&Ue.state===Ct.FADING_IN)&&Ue.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ue=this._triggerElement;Ue&&(Ie.forEach(De=>fe._eventManager.removeHandler(De,Ue,this)),this._pointerUpEventsRegistered&&(se.forEach(De=>Ue.removeEventListener(De,this,q)),this._pointerUpEventsRegistered=!1))}}const It=new e.nKC("mat-ripple-global-options");let Kt=(()=>{class Pe{get disabled(){return this._disabled}set disabled(De){De&&this.fadeOutAllNonPersistent(),this._disabled=De,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(De){this._trigger=De,this._setupTriggerEventsIfEnabled()}constructor(De,rt,Qe,vt,et){this._elementRef=De,this._animationMode=et,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=vt||{},this._rippleRenderer=new fe(this,rt,De,Qe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(De,rt=0,Qe){return"number"==typeof De?this._rippleRenderer.fadeInRipple(De,rt,{...this.rippleConfig,...Qe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...De})}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(b.OD),e.rXU(It,8),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:Pe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(rt,Qe){2&rt&&e.AVh("mat-ripple-unbounded",Qe.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Pe})(),vn=(()=>{class Pe{static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[G,G]})}return Pe})(),Pt=(()=>{class Pe{constructor(De){this._animationMode=De,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(rt,Qe){2&rt&&e.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Qe.state)("mat-pseudo-checkbox-checked","checked"===Qe.state)("mat-pseudo-checkbox-disabled",Qe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Qe.appearance)("mat-pseudo-checkbox-full","full"===Qe.appearance)("_mat-animation-noopable","NoopAnimations"===Qe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(rt,Qe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Pe})(),an=(()=>{class Pe{static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[G]})}return Pe})();const Et=new e.nKC("MAT_OPTION_PARENT_COMPONENT");let bt=0;const Yt=new e.nKC("MatOptgroup");let Xt=(()=>{class Pe{constructor(De){this.disabled=!1,this._labelId="mat-optgroup-label-"+bt++,this._inert=De?.inertGroups??!1}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.rXU(Et,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(rt,Qe){2&rt&&e.BMQ("role",Qe._inert?null:"group")("aria-disabled",Qe._inert?null:Qe.disabled.toString())("aria-labelledby",Qe._inert?null:Qe._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",e.L39]},exportAs:["matOptgroup"],standalone:!0,features:[e.Jv_([{provide:Yt,useExisting:Pe}]),e.GFd,e.aNF],ngContentSelectors:k,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(rt,Qe){1&rt&&(e.NAR(I),e.j41(0,"span",0)(1,"span",1),e.EFF(2),e.SdG(3),e.k0s()(),e.SdG(4,1)),2&rt&&(e.AVh("mdc-list-item--disabled",Qe.disabled),e.Y8G("id",Qe._labelId),e.R7$(2),e.SpI("",Qe.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return Pe})(),nn=0;class yn{constructor(Ue,De=!1){this.source=Ue,this.isUserInput=De}}let Mn=(()=>{class Pe{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(De){this._disabled=De}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(De,rt,Qe,vt){this._element=De,this._changeDetectorRef=rt,this._parent=Qe,this.group=vt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+nn++,this.onSelectionChange=new e.bkB,this._stateChanges=new _.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(De=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),De&&this._emitSelectionChangeEvent())}deselect(De=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),De&&this._emitSelectionChangeEvent())}focus(De,rt){const Qe=this._getHostElement();"function"==typeof Qe.focus&&Qe.focus(rt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(De){(De.keyCode===u.Fm||De.keyCode===u.t6)&&!(0,u.rp)(De)&&(this._selectViaInteraction(),De.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const De=this.viewValue;De!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=De)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(De=!1){this.onSelectionChange.emit(new yn(this,De))}static#e=this.\u0275fac=function(rt){return new(rt||Pe)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Et,8),e.rXU(Yt,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-option"]],viewQuery:function(rt,Qe){if(1&rt&&e.GBs(y,7),2&rt){let vt;e.mGM(vt=e.lsd())&&(Qe._text=vt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(rt,Qe){1&rt&&e.bIt("click",function(){return Qe._selectViaInteraction()})("keydown",function(et){return Qe._handleKeydown(et)}),2&rt&&(e.Mr5("id",Qe.id),e.BMQ("aria-selected",Qe.selected)("aria-disabled",Qe.disabled.toString()),e.AVh("mdc-list-item--selected",Qe.selected)("mat-mdc-option-multiple",Qe.multiple)("mat-mdc-option-active",Qe.active)("mdc-list-item--disabled",Qe.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",e.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[e.GFd,e.aNF],ngContentSelectors:M,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(rt,Qe){1&rt&&(e.NAR(x),e.DNE(0,B,1,2,"mat-pseudo-checkbox",1),e.SdG(1),e.j41(2,"span",2,0),e.SdG(4,1),e.k0s(),e.DNE(5,K,1,1,"mat-pseudo-checkbox",3)(6,P,2,1,"span",4),e.nrm(7,"div",5)),2&rt&&(e.vxM(Qe.multiple?0:-1),e.R7$(5),e.vxM(Qe.multiple||!Qe.selected||Qe.hideSingleSelectionIndicator?-1:5),e.R7$(),e.vxM(Qe.group&&Qe.group._inert?6:-1),e.R7$(),e.Y8G("matRippleTrigger",Qe._getHostElement())("matRippleDisabled",Qe.disabled||Qe.disableRipple))},dependencies:[Pt,Kt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Pe})();function Ln(Pe,Ue,De){if(De.length){let rt=Ue.toArray(),Qe=De.toArray(),vt=0;for(let et=0;et<Pe+1;et++)rt[et].group&&rt[et].group===Qe[vt]&&vt++;return vt}return 0}function Fn(Pe,Ue,De,rt){return Pe<De?Pe:Pe+Ue>De+rt?Math.max(0,Pe-rt+Ue):De}let $n=(()=>{class Pe{static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[vn,G,an]})}return Pe})();const Ht={capture:!0},ze=["focus","mousedown","mouseenter","touchstart"],Bt="mat-ripple-loader-uninitialized",Te="mat-ripple-loader-class-name",Ge="mat-ripple-loader-centered",Tt="mat-ripple-loader-disabled";let Wt=(()=>{class Pe{constructor(){this._document=(0,e.WQX)(g.qQ,{optional:!0}),this._animationMode=(0,e.WQX)(e.bc$,{optional:!0}),this._globalRippleOptions=(0,e.WQX)(It,{optional:!0}),this._platform=(0,e.WQX)(b.OD),this._ngZone=(0,e.WQX)(e.SKi),this._hosts=new Map,this._onInteraction=De=>{const rt=(0,b.Fb)(De);if(rt instanceof HTMLElement){const Qe=rt.closest(`[${Bt}="${this._globalRippleOptions?.namespace??""}"]`);Qe&&this._createRipple(Qe)}},this._ngZone.runOutsideAngular(()=>{for(const De of ze)this._document?.addEventListener(De,this._onInteraction,Ht)})}ngOnDestroy(){const De=this._hosts.keys();for(const rt of De)this.destroyRipple(rt);for(const rt of ze)this._document?.removeEventListener(rt,this._onInteraction,Ht)}configureRipple(De,rt){De.setAttribute(Bt,this._globalRippleOptions?.namespace??""),(rt.className||!De.hasAttribute(Te))&&De.setAttribute(Te,rt.className||""),rt.centered&&De.setAttribute(Ge,""),rt.disabled&&De.setAttribute(Tt,"")}getRipple(De){return this._hosts.get(De)||this._createRipple(De)}setDisabled(De,rt){const Qe=this._hosts.get(De);Qe?Qe.disabled=rt:rt?De.setAttribute(Tt,""):De.removeAttribute(Tt)}_createRipple(De){if(!this._document)return;const rt=this._hosts.get(De);if(rt)return rt;De.querySelector(".mat-ripple")?.remove();const Qe=this._document.createElement("span");Qe.classList.add("mat-ripple",De.getAttribute(Te)),De.append(Qe);const vt=new Kt(new e.aKT(Qe),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return vt._isInitialized=!0,vt.trigger=De,vt.centered=De.hasAttribute(Ge),vt.disabled=De.hasAttribute(Tt),this.attachRipple(De,vt),vt}attachRipple(De,rt){De.removeAttribute(Bt),this._hosts.set(De,rt)}destroyRipple(De){const rt=this._hosts.get(De);rt&&(rt.ngOnDestroy(),this._hosts.delete(De))}static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),We=(()=>{class Pe{static#e=this.\u0275fac=function(rt){return new(rt||Pe)};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(rt,Qe){2&rt&&e.AVh("mdc-form-field--align-end","before"===Qe.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[e.aNF],attrs:j,ngContentSelectors:S,decls:1,vars:0,template:function(rt,Qe){1&rt&&(e.NAR(),e.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Pe})()},5084:(Ot,ve,s)=>{"use strict";s.d(ve,{Vh:()=>et,X6:()=>Gt,bU:()=>xn,bZ:()=>Vt});var e=s(9888),n=s(7987),d=s(6939),h=s(177),g=s(3953),b=s(8834),E=s(494),_=s(6600),u=s(5286),I=s(4337),k=s(4670),y=s(4421),x=s(7336),M=s(8203),B=s(6860),K=s(3176),P=s(9493),j=s(8728),S=s(4085),w=s(9969),m=s(9417),v=s(3719),A=s(9631);const L=["mat-calendar-body",""];function G(Se,At){return this._trackRow(At)}const O=(Se,At)=>At.id;function W(Se,At){if(1&Se&&(g.j41(0,"tr",0)(1,"td",3),g.EFF(2),g.k0s()()),2&Se){const ne=g.XpG();g.R7$(),g.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),g.BMQ("colspan",ne.numCols),g.R7$(),g.SpI(" ",ne.label," ")}}function U(Se,At){if(1&Se&&(g.j41(0,"td",3),g.EFF(1),g.k0s()),2&Se){const ne=g.XpG(2);g.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),g.BMQ("colspan",ne._firstRowOffset),g.R7$(),g.SpI(" ",ne._firstRowOffset>=ne.labelMinRequiredCells?ne.label:""," ")}}function $(Se,At){if(1&Se){const ne=g.RV6();g.j41(0,"td",6)(1,"button",7),g.bIt("click",function(He){const Dt=g.eBV(ne).$implicit,hn=g.XpG(2);return g.Njj(hn._cellClicked(Dt,He))})("focus",function(He){const Dt=g.eBV(ne).$implicit,hn=g.XpG(2);return g.Njj(hn._emitActiveDateChange(Dt,He))}),g.j41(2,"span",8),g.EFF(3),g.k0s(),g.nrm(4,"span",9),g.k0s()()}if(2&Se){const ne=At.$implicit,ke=At.$index,He=g.XpG().$index,Dt=g.XpG();g.xc7("width",Dt._cellWidth)("padding-top",Dt._cellPadding)("padding-bottom",Dt._cellPadding),g.BMQ("data-mat-row",He)("data-mat-col",ke),g.R7$(),g.AVh("mat-calendar-body-disabled",!ne.enabled)("mat-calendar-body-active",Dt._isActiveCell(He,ke))("mat-calendar-body-range-start",Dt._isRangeStart(ne.compareValue))("mat-calendar-body-range-end",Dt._isRangeEnd(ne.compareValue))("mat-calendar-body-in-range",Dt._isInRange(ne.compareValue))("mat-calendar-body-comparison-bridge-start",Dt._isComparisonBridgeStart(ne.compareValue,He,ke))("mat-calendar-body-comparison-bridge-end",Dt._isComparisonBridgeEnd(ne.compareValue,He,ke))("mat-calendar-body-comparison-start",Dt._isComparisonStart(ne.compareValue))("mat-calendar-body-comparison-end",Dt._isComparisonEnd(ne.compareValue))("mat-calendar-body-in-comparison-range",Dt._isInComparisonRange(ne.compareValue))("mat-calendar-body-preview-start",Dt._isPreviewStart(ne.compareValue))("mat-calendar-body-preview-end",Dt._isPreviewEnd(ne.compareValue))("mat-calendar-body-in-preview",Dt._isInPreview(ne.compareValue)),g.Y8G("ngClass",ne.cssClasses)("tabindex",Dt._isActiveCell(He,ke)?0:-1),g.BMQ("aria-label",ne.ariaLabel)("aria-disabled",!ne.enabled||null)("aria-pressed",Dt._isSelected(ne.compareValue))("aria-current",Dt.todayValue===ne.compareValue?"date":null)("aria-describedby",Dt._getDescribedby(ne.compareValue)),g.R7$(),g.AVh("mat-calendar-body-selected",Dt._isSelected(ne.compareValue))("mat-calendar-body-comparison-identical",Dt._isComparisonIdentical(ne.compareValue))("mat-calendar-body-today",Dt.todayValue===ne.compareValue),g.R7$(),g.SpI(" ",ne.displayValue," ")}}function te(Se,At){if(1&Se&&(g.j41(0,"tr",1),g.DNE(1,U,2,6,"td",4),g.Z7z(2,$,5,48,"td",5,O),g.k0s()),2&Se){const ne=At.$implicit,ke=At.$index,He=g.XpG();g.R7$(),g.vxM(0===ke&&He._firstRowOffset?1:-1),g.R7$(),g.Dyx(ne)}}function ie(Se,At){if(1&Se&&(g.j41(0,"th",2)(1,"span",6),g.EFF(2),g.k0s(),g.j41(3,"span",3),g.EFF(4),g.k0s()()),2&Se){const ne=At.$implicit;g.R7$(2),g.JRh(ne.long),g.R7$(2),g.JRh(ne.narrow)}}const me=["*"];function Y(Se,At){}function F(Se,At){if(1&Se){const ne=g.RV6();g.j41(0,"mat-month-view",4),g.mxI("activeDateChange",function(He){g.eBV(ne);const Dt=g.XpG();return g.DH7(Dt.activeDate,He)||(Dt.activeDate=He),g.Njj(He)}),g.bIt("_userSelection",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._dateSelected(He))})("dragStarted",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._dragStarted(He))})("dragEnded",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._dragEnded(He))}),g.k0s()}if(2&Se){const ne=g.XpG();g.R50("activeDate",ne.activeDate),g.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)("comparisonStart",ne.comparisonStart)("comparisonEnd",ne.comparisonEnd)("startDateAccessibleName",ne.startDateAccessibleName)("endDateAccessibleName",ne.endDateAccessibleName)("activeDrag",ne._activeDrag)}}function N(Se,At){if(1&Se){const ne=g.RV6();g.j41(0,"mat-year-view",5),g.mxI("activeDateChange",function(He){g.eBV(ne);const Dt=g.XpG();return g.DH7(Dt.activeDate,He)||(Dt.activeDate=He),g.Njj(He)}),g.bIt("monthSelected",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._monthSelectedInYearView(He))})("selectedChange",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._goToDateInView(He,"month"))}),g.k0s()}if(2&Se){const ne=g.XpG();g.R50("activeDate",ne.activeDate),g.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function J(Se,At){if(1&Se){const ne=g.RV6();g.j41(0,"mat-multi-year-view",6),g.mxI("activeDateChange",function(He){g.eBV(ne);const Dt=g.XpG();return g.DH7(Dt.activeDate,He)||(Dt.activeDate=He),g.Njj(He)}),g.bIt("yearSelected",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._yearSelectedInMultiYearView(He))})("selectedChange",function(He){g.eBV(ne);const Dt=g.XpG();return g.Njj(Dt._goToDateInView(He,"year"))}),g.k0s()}if(2&Se){const ne=g.XpG();g.R50("activeDate",ne.activeDate),g.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function ae(Se,At){}const _e=["button"],xe=[[["","matDatepickerToggleIcon",""]]],Fe=["[matDatepickerToggleIcon]"];function Ae(Se,At){1&Se&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"path",3),g.k0s())}let pe=(()=>{class Se{constructor(){this.changes=new u.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ne,ke){return`${ne} \u2013 ${ke}`}formatYearRangeLabel(ne,ke){return`${ne} to ${ke}`}static#e=this.\u0275fac=function(ke){return new(ke||Se)};static#t=this.\u0275prov=g.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})(),he=0;class le{constructor(At,ne,ke,He,Dt={},hn=At,Bn){this.value=At,this.displayValue=ne,this.ariaLabel=ke,this.enabled=He,this.cssClasses=Dt,this.compareValue=hn,this.rawValue=Bn,this.id=he++}}let Ee=1;const Xe=(0,B.BQ)({passive:!1,capture:!0}),xt=(0,B.BQ)({passive:!0,capture:!0}),dt=(0,B.BQ)({passive:!0});let Ct=(()=>{class Se{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ne,ke){this._elementRef=ne,this._ngZone=ke,this._platform=(0,g.WQX)(B.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new g.bkB,this.previewChange=new g.bkB,this.activeDateChange=new g.bkB,this.dragStarted=new g.bkB,this.dragEnded=new g.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,g.WQX)(g.zZn),this._trackRow=He=>He,this._enterHandler=He=>{if(this._skipNextFocus&&"focus"===He.type)this._skipNextFocus=!1;else if(He.target&&this.isRange){const Dt=this._getCellFromElement(He.target);Dt&&this._ngZone.run(()=>this.previewChange.emit({value:Dt.enabled?Dt:null,event:He}))}},this._touchmoveHandler=He=>{if(!this.isRange)return;const Dt=q(He),hn=Dt?this._getCellFromElement(Dt):null;Dt!==He.target&&(this._didDragSinceMouseDown=!0),_n(He.target)&&He.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:hn?.enabled?hn:null,event:He}))},this._leaveHandler=He=>{null!==this.previewEnd&&this.isRange&&("blur"!==He.type&&(this._didDragSinceMouseDown=!0),He.target&&this._getCellFromElement(He.target)&&(!He.relatedTarget||!this._getCellFromElement(He.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:He})))},this._mousedownHandler=He=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const Dt=He.target&&this._getCellFromElement(He.target);!Dt||!this._isInRange(Dt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:Dt.rawValue,event:He})})},this._mouseupHandler=He=>{if(!this.isRange)return;const Dt=_n(He.target);Dt?Dt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const hn=this._getCellFromElement(Dt);this.dragEnded.emit({value:hn?.rawValue??null,event:He})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:He})})},this._touchendHandler=He=>{const Dt=q(He);Dt&&this._mouseupHandler({target:Dt})},this._id="mat-calendar-body-"+Ee++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,ke.runOutsideAngular(()=>{const He=ne.nativeElement;He.addEventListener("touchmove",this._touchmoveHandler,Xe),He.addEventListener("mouseenter",this._enterHandler,xt),He.addEventListener("focus",this._enterHandler,xt),He.addEventListener("mouseleave",this._leaveHandler,xt),He.addEventListener("blur",this._leaveHandler,xt),He.addEventListener("mousedown",this._mousedownHandler,dt),He.addEventListener("touchstart",this._mousedownHandler,dt),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ne,ke){this._didDragSinceMouseDown||ne.enabled&&this.selectedValueChange.emit({value:ne.value,event:ke})}_emitActiveDateChange(ne,ke){ne.enabled&&this.activeDateChange.emit({value:ne.value,event:ke})}_isSelected(ne){return this.startValue===ne||this.endValue===ne}ngOnChanges(ne){const ke=ne.numCols,{rows:He,numCols:Dt}=this;(ne.rows||ke)&&(this._firstRowOffset=He&&He.length&&He[0].length?Dt-He[0].length:0),(ne.cellAspectRatio||ke||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Dt+"%"),(ke||!this._cellWidth)&&(this._cellWidth=100/Dt+"%")}ngOnDestroy(){const ne=this._elementRef.nativeElement;ne.removeEventListener("touchmove",this._touchmoveHandler,Xe),ne.removeEventListener("mouseenter",this._enterHandler,xt),ne.removeEventListener("focus",this._enterHandler,xt),ne.removeEventListener("mouseleave",this._leaveHandler,xt),ne.removeEventListener("blur",this._leaveHandler,xt),ne.removeEventListener("mousedown",this._mousedownHandler,dt),ne.removeEventListener("touchstart",this._mousedownHandler,dt),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ne,ke){let He=ne*this.numCols+ke;return ne&&(He-=this._firstRowOffset),He==this.activeCell}_focusActiveCell(ne=!0){(0,g.mal)(()=>{setTimeout(()=>{const ke=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");ke&&(ne||(this._skipNextFocus=!0),ke.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ne){return In(ne,this.startValue,this.endValue)}_isRangeEnd(ne){return rn(ne,this.startValue,this.endValue)}_isInRange(ne){return $t(ne,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ne){return In(ne,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ne,ke,He){if(!this._isComparisonStart(ne)||this._isRangeStart(ne)||!this._isInRange(ne))return!1;let Dt=this.rows[ke][He-1];if(!Dt){const hn=this.rows[ke-1];Dt=hn&&hn[hn.length-1]}return Dt&&!this._isRangeEnd(Dt.compareValue)}_isComparisonBridgeEnd(ne,ke,He){if(!this._isComparisonEnd(ne)||this._isRangeEnd(ne)||!this._isInRange(ne))return!1;let Dt=this.rows[ke][He+1];if(!Dt){const hn=this.rows[ke+1];Dt=hn&&hn[0]}return Dt&&!this._isRangeStart(Dt.compareValue)}_isComparisonEnd(ne){return rn(ne,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ne){return $t(ne,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ne){return this.comparisonStart===this.comparisonEnd&&ne===this.comparisonStart}_isPreviewStart(ne){return In(ne,this.previewStart,this.previewEnd)}_isPreviewEnd(ne){return rn(ne,this.previewStart,this.previewEnd)}_isInPreview(ne){return $t(ne,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ne){return this.isRange?this.startValue===ne&&this.endValue===ne?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ne?this._startDateLabelId:this.endValue===ne?this._endDateLabelId:null:null}_getCellFromElement(ne){const ke=_n(ne);if(ke){const He=ke.getAttribute("data-mat-row"),Dt=ke.getAttribute("data-mat-col");if(He&&Dt)return this.rows[parseInt(He)][parseInt(Dt)]}return null}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[g.OA$,g.aNF],attrs:L,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(ke,He){1&ke&&(g.DNE(0,W,3,6,"tr",0),g.Z7z(1,te,4,1,"tr",1,G,!0),g.j41(3,"label",2),g.EFF(4),g.k0s(),g.j41(5,"label",2),g.EFF(6),g.k0s()),2&ke&&(g.vxM(He._firstRowOffset<He.labelMinRequiredCells?0:-1),g.R7$(),g.Dyx(He.rows),g.R7$(2),g.Y8G("id",He._startDateLabelId),g.R7$(),g.SpI(" ",He.startDateAccessibleName,"\n"),g.R7$(),g.Y8G("id",He._endDateLabelId),g.R7$(),g.SpI(" ",He.endDateAccessibleName,"\n"))},dependencies:[h.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return Se})();function Qt(Se){return"TD"===Se?.nodeName}function _n(Se){let At;return Qt(Se)?At=Se:Qt(Se.parentNode)?At=Se.parentNode:Qt(Se.parentNode?.parentNode)&&(At=Se.parentNode.parentNode),null!=At?.getAttribute("data-mat-row")?At:null}function In(Se,At,ne){return null!==ne&&At!==ne&&Se<ne&&Se===At}function rn(Se,At,ne){return null!==At&&At!==ne&&Se>=At&&Se===ne}function $t(Se,At,ne,ke){return ke&&null!==At&&null!==ne&&At!==ne&&Se>=At&&Se<=ne}function q(Se){const At=Se.changedTouches[0];return document.elementFromPoint(At.clientX,At.clientY)}class Ie{constructor(At,ne){this.start=At,this.end=ne}}let se=(()=>{class Se{constructor(ne,ke){this.selection=ne,this._adapter=ke,this._selectionChanged=new u.B7,this.selectionChanged=this._selectionChanged,this.selection=ne}updateSelection(ne,ke){const He=this.selection;this.selection=ne,this._selectionChanged.next({selection:ne,source:ke,oldValue:He})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ne){return this._adapter.isDateInstance(ne)&&this._adapter.isValid(ne)}static#e=this.\u0275fac=function(ke){g.QTQ()};static#t=this.\u0275prov=g.jDH({token:Se,factory:Se.\u0275fac})}return Se})(),fe=(()=>{class Se extends se{constructor(ne){super(null,ne)}add(ne){super.updateSelection(ne,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ne=new Se(this._adapter);return ne.updateSelection(this.selection,this),ne}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.KVO(_.MJ))};static#t=this.\u0275prov=g.jDH({token:Se,factory:Se.\u0275fac})}return Se})();const Kt={provide:se,deps:[[new g.Xx1,new g.kdw,se],_.MJ],useFactory:function It(Se,At){return Se||new fe(At)}},an=new g.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let nn=0,yn=(()=>{class Se{get activeDate(){return this._activeDate}set activeDate(ne){const ke=this._activeDate,He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._hasSameMonthAndYear(ke,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof Ie?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,ke,He,Dt,hn){this._changeDetectorRef=ne,this._dateFormats=ke,this._dateAdapter=He,this._dir=Dt,this._rangeStrategy=hn,this._rerenderSubscription=I.y.EMPTY,this.activeDrag=null,this.selectedChange=new g.bkB,this._userSelection=new g.bkB,this.dragStarted=new g.bkB,this.dragEnded=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,K.Z)(null)).subscribe(()=>this._init())}ngOnChanges(ne){const ke=ne.comparisonStart||ne.comparisonEnd;ke&&!ke.firstChange&&this._setRanges(this.selected),ne.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ne){const ke=ne.value,He=this._getDateFromDayOfMonth(ke);let Dt,hn;this._selected instanceof Ie?(Dt=this._getDateInCurrentMonth(this._selected.start),hn=this._getDateInCurrentMonth(this._selected.end)):Dt=hn=this._getDateInCurrentMonth(this._selected),(Dt!==ke||hn!==ke)&&this.selectedChange.emit(He),this._userSelection.emit({value:He,event:ne.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ne){const ke=this._activeDate,He=this._isRtl();switch(ne.keyCode){case x.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?1:-1);break;case x.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?-1:1);break;case x.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case x.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case x.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case x.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case x.w_:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case x.dB:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case x.Fm:case x.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ne.preventDefault());case x._f:return void(null!=this._previewEnd&&!(0,x.rp)(ne)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ne}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ne})),ne.preventDefault(),ne.stopPropagation()));default:return}this._dateAdapter.compareDate(ke,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===x.t6||ne.keyCode===x.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ne)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ne){this._matCalendarBody._focusActiveCell(ne)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ne,value:ke}){if(this._rangeStrategy){const He=ke?ke.rawValue:null,Dt=this._rangeStrategy.createPreview(He,this.selected,ne);if(this._previewStart=this._getCellCompareValue(Dt.start),this._previewEnd=this._getCellCompareValue(Dt.end),this.activeDrag&&He){const hn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,He,ne);hn&&(this._previewStart=this._getCellCompareValue(hn.start),this._previewEnd=this._getCellCompareValue(hn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ne){if(this.activeDrag)if(ne.value){const ke=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ne.value,ne.event);this.dragEnded.emit({value:ke??null,event:ne.event})}else this.dragEnded.emit({value:null,event:ne.event})}_getDateFromDayOfMonth(ne){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ne)}_initWeekdays(){const ne=this._dateAdapter.getFirstDayOfWeek(),ke=this._dateAdapter.getDayOfWeekNames("narrow");let Dt=this._dateAdapter.getDayOfWeekNames("long").map((hn,Bn)=>({long:hn,narrow:ke[Bn],id:nn++}));this._weekdays=Dt.slice(ne).concat(Dt.slice(0,ne))}_createWeekCells(){const ne=this._dateAdapter.getNumDaysInMonth(this.activeDate),ke=this._dateAdapter.getDateNames();this._weeks=[[]];for(let He=0,Dt=this._firstWeekOffset;He<ne;He++,Dt++){7==Dt&&(this._weeks.push([]),Dt=0);const hn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),He+1),Bn=this._shouldEnableDate(hn),ai=this._dateAdapter.format(hn,this._dateFormats.display.dateA11yLabel),Ei=this.dateClass?this.dateClass(hn,"month"):void 0;this._weeks[this._weeks.length-1].push(new le(He+1,ke[He],ai,Bn,Ei,this._getCellCompareValue(hn),hn))}}_shouldEnableDate(ne){return!!ne&&(!this.minDate||this._dateAdapter.compareDate(ne,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ne,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ne))}_getDateInCurrentMonth(ne){return ne&&this._hasSameMonthAndYear(ne,this.activeDate)?this._dateAdapter.getDate(ne):null}_hasSameMonthAndYear(ne,ke){return!(!ne||!ke||this._dateAdapter.getMonth(ne)!=this._dateAdapter.getMonth(ke)||this._dateAdapter.getYear(ne)!=this._dateAdapter.getYear(ke))}_getCellCompareValue(ne){if(ne){const ke=this._dateAdapter.getYear(ne),He=this._dateAdapter.getMonth(ne),Dt=this._dateAdapter.getDate(ne);return new Date(ke,He,Dt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ne){ne instanceof Ie?(this._rangeStart=this._getCellCompareValue(ne.start),this._rangeEnd=this._getCellCompareValue(ne.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ne),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ne){return!this.dateFilter||this.dateFilter(ne)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.gRc),g.rXU(_.de,8),g.rXU(_.MJ,8),g.rXU(M.dS,8),g.rXU(an,8))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-month-view"]],viewQuery:function(ke,He){if(1&ke&&g.GBs(Ct,5),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He._matCalendarBody=Dt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[g.OA$,g.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(ke,He){1&ke&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.Z7z(3,ie,5,2,"th",2,O),g.k0s(),g.j41(5,"tr",3),g.nrm(6,"th",4),g.k0s()(),g.j41(7,"tbody",5),g.bIt("selectedValueChange",function(hn){return He._dateSelected(hn)})("activeDateChange",function(hn){return He._updateActiveDate(hn)})("previewChange",function(hn){return He._previewChanged(hn)})("dragStarted",function(hn){return He.dragStarted.emit(hn)})("dragEnded",function(hn){return He._dragEnded(hn)})("keyup",function(hn){return He._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return He._handleCalendarBodyKeydown(hn)}),g.k0s()()),2&ke&&(g.R7$(3),g.Dyx(He._weekdays),g.R7$(4),g.Y8G("label",He._monthLabel)("rows",He._weeks)("todayValue",He._todayDate)("startValue",He._rangeStart)("endValue",He._rangeEnd)("comparisonStart",He._comparisonRangeStart)("comparisonEnd",He._comparisonRangeEnd)("previewStart",He._previewStart)("previewEnd",He._previewEnd)("isRange",He._isRange)("labelMinRequiredCells",3)("activeCell",He._dateAdapter.getDate(He.activeDate)-1)("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName))},dependencies:[Ct],encapsulation:2,changeDetection:0})}return Se})();const Mn=24;let Fn=(()=>{class Se{get activeDate(){return this._activeDate}set activeDate(ne){let ke=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),$n(this._dateAdapter,ke,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof Ie?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedYear(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,ke,He){this._changeDetectorRef=ne,this._dateAdapter=ke,this._dir=He,this._rerenderSubscription=I.y.EMPTY,this.selectedChange=new g.bkB,this.yearSelected=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,K.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const ke=this._dateAdapter.getYear(this._activeDate)-Ht(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let He=0,Dt=[];He<Mn;He++)Dt.push(ke+He),4==Dt.length&&(this._years.push(Dt.map(hn=>this._createCellForYear(hn))),Dt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ne){const ke=ne.value,He=this._dateAdapter.createDate(ke,0,1),Dt=this._getDateFromYear(ke);this.yearSelected.emit(He),this.selectedChange.emit(Dt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromYear(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const ke=this._activeDate,He=this._isRtl();switch(ne.keyCode){case x.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?1:-1);break;case x.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?-1:1);break;case x.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case x.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case x.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ht(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case x.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Mn-Ht(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case x.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*-Mn:-Mn);break;case x.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*Mn:Mn);break;case x.Fm:case x.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ke,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===x.t6||ne.keyCode===x.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ht(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ne){const ke=this._dateAdapter.getMonth(this.activeDate),He=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ne,ke,1));return this._dateAdapter.createDate(ne,ke,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForYear(ne){const ke=this._dateAdapter.createDate(ne,0,1),He=this._dateAdapter.getYearName(ke),Dt=this.dateClass?this.dateClass(ke,"multi-year"):void 0;return new le(ne,He,He,this._shouldEnableYear(ne),Dt)}_shouldEnableYear(ne){if(null==ne||this.maxDate&&ne>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ne<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let He=this._dateAdapter.createDate(ne,0,1);this._dateAdapter.getYear(He)==ne;He=this._dateAdapter.addCalendarDays(He,1))if(this.dateFilter(He))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ne){if(this._selectedYear=null,ne instanceof Ie){const ke=ne.start||ne.end;ke&&(this._selectedYear=this._dateAdapter.getYear(ke))}else ne&&(this._selectedYear=this._dateAdapter.getYear(ne))}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.gRc),g.rXU(_.MJ,8),g.rXU(M.dS,8))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-multi-year-view"]],viewQuery:function(ke,He){if(1&ke&&g.GBs(Ct,5),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He._matCalendarBody=Dt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[g.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(ke,He){1&ke&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.nrm(3,"th",2),g.k0s()(),g.j41(4,"tbody",3),g.bIt("selectedValueChange",function(hn){return He._yearSelected(hn)})("activeDateChange",function(hn){return He._updateActiveDate(hn)})("keyup",function(hn){return He._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return He._handleCalendarBodyKeydown(hn)}),g.k0s()()),2&ke&&(g.R7$(4),g.Y8G("rows",He._years)("todayValue",He._todayYear)("startValue",He._selectedYear)("endValue",He._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._getActiveCell()))},dependencies:[Ct],encapsulation:2,changeDetection:0})}return Se})();function $n(Se,At,ne,ke,He){const Dt=Se.getYear(At),hn=Se.getYear(ne),Bn=ze(Se,ke,He);return Math.floor((Dt-Bn)/Mn)===Math.floor((hn-Bn)/Mn)}function Ht(Se,At,ne,ke){return function Bt(Se,At){return(Se%At+At)%At}(Se.getYear(At)-ze(Se,ne,ke),Mn)}function ze(Se,At,ne){let ke=0;return ne?ke=Se.getYear(ne)-Mn+1:At&&(ke=Se.getYear(At)),ke}let Te=(()=>{class Se{get activeDate(){return this._activeDate}set activeDate(ne){let ke=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._dateAdapter.getYear(ke)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof Ie?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedMonth(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,ke,He,Dt){this._changeDetectorRef=ne,this._dateFormats=ke,this._dateAdapter=He,this._dir=Dt,this._rerenderSubscription=I.y.EMPTY,this.selectedChange=new g.bkB,this.monthSelected=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,K.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ne){const ke=ne.value,He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ke,1);this.monthSelected.emit(He);const Dt=this._getDateFromMonth(ke);this.selectedChange.emit(Dt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const ke=this._activeDate,He=this._isRtl();switch(ne.keyCode){case x.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?1:-1);break;case x.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?-1:1);break;case x.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case x.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case x.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case x.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case x.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?-10:-1);break;case x.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10:1);break;case x.Fm:case x.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(ke,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===x.t6||ne.keyCode===x.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ne=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(ke=>ke.map(He=>this._createCellForMonth(He,ne[He]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ne){return ne&&this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ne):null}_getDateFromMonth(ne){const ke=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),He=this._dateAdapter.getNumDaysInMonth(ke);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForMonth(ne,ke){const He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),Dt=this._dateAdapter.format(He,this._dateFormats.display.monthYearA11yLabel),hn=this.dateClass?this.dateClass(He,"year"):void 0;return new le(ne,ke.toLocaleUpperCase(),Dt,this._shouldEnableMonth(ne),hn)}_shouldEnableMonth(ne){const ke=this._dateAdapter.getYear(this.activeDate);if(null==ne||this._isYearAndMonthAfterMaxDate(ke,ne)||this._isYearAndMonthBeforeMinDate(ke,ne))return!1;if(!this.dateFilter)return!0;for(let Dt=this._dateAdapter.createDate(ke,ne,1);this._dateAdapter.getMonth(Dt)==ne;Dt=this._dateAdapter.addCalendarDays(Dt,1))if(this.dateFilter(Dt))return!0;return!1}_isYearAndMonthAfterMaxDate(ne,ke){if(this.maxDate){const He=this._dateAdapter.getYear(this.maxDate),Dt=this._dateAdapter.getMonth(this.maxDate);return ne>He||ne===He&&ke>Dt}return!1}_isYearAndMonthBeforeMinDate(ne,ke){if(this.minDate){const He=this._dateAdapter.getYear(this.minDate),Dt=this._dateAdapter.getMonth(this.minDate);return ne<He||ne===He&&ke<Dt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ne){this._selectedMonth=ne instanceof Ie?this._getMonthInCurrentYear(ne.start)||this._getMonthInCurrentYear(ne.end):this._getMonthInCurrentYear(ne)}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.gRc),g.rXU(_.de,8),g.rXU(_.MJ,8),g.rXU(M.dS,8))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-year-view"]],viewQuery:function(ke,He){if(1&ke&&g.GBs(Ct,5),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He._matCalendarBody=Dt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[g.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(ke,He){1&ke&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.nrm(3,"th",2),g.k0s()(),g.j41(4,"tbody",3),g.bIt("selectedValueChange",function(hn){return He._monthSelected(hn)})("activeDateChange",function(hn){return He._updateActiveDate(hn)})("keyup",function(hn){return He._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return He._handleCalendarBodyKeydown(hn)}),g.k0s()()),2&ke&&(g.R7$(4),g.Y8G("label",He._yearLabel)("rows",He._months)("todayValue",He._todayMonth)("startValue",He._selectedMonth)("endValue",He._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._dateAdapter.getMonth(He.activeDate)))},dependencies:[Ct],encapsulation:2,changeDetection:0})}return Se})(),Ge=1,Tt=(()=>{class Se{constructor(ne,ke,He,Dt,hn){this._intl=ne,this.calendar=ke,this._dateAdapter=He,this._dateFormats=Dt,this._id="mat-calendar-header-"+Ge++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>hn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Mn)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Mn)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ne,ke){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(ke)&&this._dateAdapter.getMonth(ne)==this._dateAdapter.getMonth(ke):"year"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(ke):$n(this._dateAdapter,ne,ke,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const ke=this._dateAdapter.getYear(this.calendar.activeDate)-Ht(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),He=ke+Mn-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(ke,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(He,0,1))]}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(pe),g.rXU((0,g.Rfq)(()=>Wt)),g.rXU(_.MJ,8),g.rXU(_.de,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[g.aNF],ngContentSelectors:me,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(ke,He){1&ke&&(g.NAR(),g.j41(0,"div",0)(1,"div",1)(2,"label",2),g.EFF(3),g.k0s(),g.j41(4,"button",3),g.bIt("click",function(){return He.currentPeriodClicked()}),g.j41(5,"span",4),g.EFF(6),g.k0s(),g.qSk(),g.j41(7,"svg",5),g.nrm(8,"polygon",6),g.k0s()(),g.joV(),g.nrm(9,"div",7),g.SdG(10),g.j41(11,"button",8),g.bIt("click",function(){return He.previousClicked()}),g.k0s(),g.j41(12,"button",9),g.bIt("click",function(){return He.nextClicked()}),g.k0s()()()),2&ke&&(g.R7$(2),g.Y8G("id",He._periodButtonLabelId),g.R7$(),g.JRh(He.periodButtonDescription),g.R7$(),g.BMQ("aria-label",He.periodButtonLabel)("aria-describedby",He._periodButtonLabelId),g.R7$(2),g.JRh(He.periodButtonText),g.R7$(),g.AVh("mat-calendar-invert","month"!==He.calendar.currentView),g.R7$(4),g.Y8G("disabled",!He.previousEnabled()),g.BMQ("aria-label",He.prevButtonLabel),g.R7$(),g.Y8G("disabled",!He.nextEnabled()),g.BMQ("aria-label",He.nextButtonLabel))},dependencies:[b.$z,b.iY],encapsulation:2,changeDetection:0})}return Se})(),Wt=(()=>{class Se{get startAt(){return this._startAt}set startAt(ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof Ie?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get activeDate(){return this._clampedActiveDate}set activeDate(ne){this._clampedActiveDate=this._dateAdapter.clampDate(ne,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ne){const ke=this._currentView!==ne?ne:null;this._currentView=ne,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),ke&&this.viewChanged.emit(ke)}constructor(ne,ke,He,Dt){this._dateAdapter=ke,this._dateFormats=He,this._changeDetectorRef=Dt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new g.bkB,this.yearSelected=new g.bkB,this.monthSelected=new g.bkB,this.viewChanged=new g.bkB(!0),this._userSelection=new g.bkB,this._userDragDrop=new g.bkB,this._activeDrag=null,this.stateChanges=new u.B7,this._intlChanges=ne.changes.subscribe(()=>{Dt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new d.A8(this.headerComponent||Tt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ne){const ke=ne.minDate&&!this._dateAdapter.sameDate(ne.minDate.previousValue,ne.minDate.currentValue)?ne.minDate:void 0,He=ne.maxDate&&!this._dateAdapter.sameDate(ne.maxDate.previousValue,ne.maxDate.currentValue)?ne.maxDate:void 0,Dt=ke||He||ne.dateFilter;if(Dt&&!Dt.firstChange){const hn=this._getCurrentViewComponent();hn&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),hn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ne){const ke=ne.value;(this.selected instanceof Ie||ke&&!this._dateAdapter.sameDate(ke,this.selected))&&this.selectedChange.emit(ke),this._userSelection.emit(ne)}_yearSelectedInMultiYearView(ne){this.yearSelected.emit(ne)}_monthSelectedInYearView(ne){this.monthSelected.emit(ne)}_goToDateInView(ne,ke){this.activeDate=ne,this.currentView=ke}_dragStarted(ne){this._activeDrag=ne}_dragEnded(ne){this._activeDrag&&(ne.value&&this._userDragDrop.emit(ne),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(pe),g.rXU(_.MJ,8),g.rXU(_.de,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-calendar"]],viewQuery:function(ke,He){if(1&ke&&(g.GBs(yn,5),g.GBs(Te,5),g.GBs(Fn,5)),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He.monthView=Dt.first),g.mGM(Dt=g.lsd())&&(He.yearView=Dt.first),g.mGM(Dt=g.lsd())&&(He.multiYearView=Dt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[g.Jv_([Kt]),g.OA$,g.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(ke,He){if(1&ke&&(g.DNE(0,Y,0,0,"ng-template",0),g.j41(1,"div",1),g.DNE(2,F,1,11,"mat-month-view",2)(3,N,1,6,"mat-year-view",3)(4,J,1,6,"mat-multi-year-view",3),g.k0s()),2&ke){let Dt;g.Y8G("cdkPortalOutlet",He._calendarHeaderPortal),g.R7$(2),g.vxM("month"===(Dt=He.currentView)?2:"year"===Dt?3:"multi-year"===Dt?4:-1)}},dependencies:[d.I3,e.vR,yn,Te,Fn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Se})();const We={transformPanel:(0,w.hZ)("transformPanel",[(0,w.kY)("void => enter-dropdown",(0,w.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,w.i7)([(0,w.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,w.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,w.kY)("void => enter-dialog",(0,w.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,w.i7)([(0,w.iF)({opacity:0,transform:"scale(0.7)"}),(0,w.iF)({transform:"none",opacity:1})]))),(0,w.kY)("* => void",(0,w.i0)("100ms linear",(0,w.iF)({opacity:0})))]),fadeInCalendar:(0,w.hZ)("fadeInCalendar",[(0,w.wk)("void",(0,w.iF)({opacity:0})),(0,w.wk)("enter",(0,w.iF)({opacity:1})),(0,w.kY)("void => *",(0,w.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Pe=0;const Ue=new g.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const Se=(0,g.WQX)(n.hJ);return()=>Se.scrollStrategies.reposition()}}),rt={provide:Ue,deps:[n.hJ],useFactory:function De(Se){return()=>Se.scrollStrategies.reposition()}};let Qe=(()=>{class Se{constructor(ne,ke,He,Dt,hn,Bn){this._elementRef=ne,this._changeDetectorRef=ke,this._globalModel=He,this._dateAdapter=Dt,this._rangeSelectionStrategy=hn,this._subscriptions=new I.y,this._animationDone=new u.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Bn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ne){const ke=this._model.selection,He=ne.value,Dt=ke instanceof Ie;if(Dt&&this._rangeSelectionStrategy){const hn=this._rangeSelectionStrategy.selectionFinished(He,ke,ne.event);this._model.updateSelection(hn,this)}else He&&(Dt||!this._dateAdapter.sameDate(He,ke))&&this._model.add(He);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ne){this._model.updateSelection(ne.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ne){this._isAnimating="start"===ne.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ne,ke){this._model=ne?this._globalModel.clone():this._globalModel,this._actionsPortal=ne,ke&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(se),g.rXU(_.MJ),g.rXU(an,8),g.rXU(pe))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-datepicker-content"]],viewQuery:function(ke,He){if(1&ke&&g.GBs(Wt,5),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He._calendar=Dt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(ke,He){1&ke&&g.Kam("@transformPanel.start",function(hn){return He._handleAnimationEvent(hn)})("@transformPanel.done",function(hn){return He._handleAnimationEvent(hn)}),2&ke&&(g.zvX("@transformPanel",He._animationState),g.HbH(He.color?"mat-"+He.color:""),g.AVh("mat-datepicker-content-touch",He.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[g.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(ke,He){if(1&ke&&(g.j41(0,"div",0)(1,"mat-calendar",1),g.bIt("yearSelected",function(hn){return He.datepicker._selectYear(hn)})("monthSelected",function(hn){return He.datepicker._selectMonth(hn)})("viewChanged",function(hn){return He.datepicker._viewChanged(hn)})("_userSelection",function(hn){return He._handleUserSelection(hn)})("_userDragDrop",function(hn){return He._handleUserDragDrop(hn)}),g.k0s(),g.DNE(2,ae,0,0,"ng-template",2),g.j41(3,"button",3),g.bIt("focus",function(){return He._closeButtonFocused=!0})("blur",function(){return He._closeButtonFocused=!1})("click",function(){return He.datepicker.close()}),g.EFF(4),g.k0s()()),2&ke){let Dt;g.AVh("mat-datepicker-content-container-with-custom-header",He.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",He._actionsPortal),g.BMQ("aria-modal",!0)("aria-labelledby",null!==(Dt=He._dialogLabelId)&&void 0!==Dt?Dt:void 0),g.R7$(),g.HbH(He.datepicker.panelClass),g.Y8G("id",He.datepicker.id)("startAt",He.datepicker.startAt)("startView",He.datepicker.startView)("minDate",He.datepicker._getMinDate())("maxDate",He.datepicker._getMaxDate())("dateFilter",He.datepicker._getDateFilter())("headerComponent",He.datepicker.calendarHeaderComponent)("selected",He._getSelected())("dateClass",He.datepicker.dateClass)("comparisonStart",He.comparisonStart)("comparisonEnd",He.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName),g.R7$(),g.Y8G("cdkPortalOutlet",He._actionsPortal),g.R7$(),g.AVh("cdk-visually-hidden",!He._closeButtonFocused),g.Y8G("color",He.color||"primary"),g.R7$(),g.JRh(He._closeButtonText)}},dependencies:[e.kB,Wt,d.I3,b.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[We.transformPanel,We.fadeInCalendar]},changeDetection:0})}return Se})(),vt=(()=>{class Se{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(ne){this._color=ne}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(ne){ne!==this._disabled&&(this._disabled=ne,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(ne){this._panelClass=(0,S.cc)(ne)}get opened(){return this._opened}set opened(ne){ne?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(ne,ke,He,Dt,hn,Bn,ai){this._overlay=ne,this._viewContainerRef=He,this._dateAdapter=hn,this._dir=Bn,this._model=ai,this._inputStateChanges=I.y.EMPTY,this._document=(0,g.WQX)(h.qQ),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new g.bkB,this.monthSelected=new g.bkB,this.viewChanged=new g.bkB(!0),this.openedStream=new g.bkB,this.closedStream=new g.bkB,this._opened=!1,this.id="mat-datepicker-"+Pe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new u.B7,this._injector=(0,g.WQX)(g.zZn),this._changeDetectorRef=(0,g.WQX)(g.gRc),this._scrollStrategy=Dt,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(ne){const ke=ne.xPosition||ne.yPosition;if(ke&&!ke.firstChange&&this._overlayRef){const He=this._overlayRef.getConfig().positionStrategy;He instanceof n.rW&&(this._setConnectedPositions(He),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(ne){this._model.add(ne)}_selectYear(ne){this.yearSelected.emit(ne)}_selectMonth(ne){this.monthSelected.emit(ne)}_viewChanged(ne){this.viewChanged.emit(ne)}registerInput(ne){return this._inputStateChanges.unsubscribe(),this.datepickerInput=ne,this._inputStateChanges=ne.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(ne){this._actionsPortal=ne,this._componentRef?.instance._assignActions(ne,!0)}removeActions(ne){ne===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,B.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const ne=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,ke=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:He,location:Dt}=this._componentRef;He._startExitAnimation(),He._animationDone.pipe((0,P.s)(1)).subscribe(()=>{const hn=this._document.activeElement;ne&&(!hn||hn===this._document.activeElement||Dt.nativeElement.contains(hn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}ne?setTimeout(ke):ke()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(ne){ne.datepicker=this,ne.color=this.color,ne._dialogLabelId=this.datepickerInput.getOverlayLabelId(),ne._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const ne=this.touchUi,ke=new d.A8(Qe,this._viewContainerRef),He=this._overlayRef=this._overlay.create(new n.rR({positionStrategy:ne?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[ne?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:ne?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(ne?"dialog":"popup")}));this._getCloseStream(He).subscribe(Dt=>{Dt&&Dt.preventDefault(),this.close()}),He.keydownEvents().subscribe(Dt=>{const hn=Dt.keyCode;(hn===x.i7||hn===x.n6||hn===x.UQ||hn===x.LE||hn===x.w_||hn===x.dB)&&Dt.preventDefault()}),this._componentRef=He.attach(ke),this._forwardContentValues(this._componentRef.instance),ne||(0,g.mal)(()=>{He.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const ne=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(ne)}_setConnectedPositions(ne){const ke="end"===this.xPosition?"end":"start",He="start"===ke?"end":"start",Dt="above"===this.yPosition?"bottom":"top",hn="top"===Dt?"bottom":"top";return ne.withPositions([{originX:ke,originY:hn,overlayX:ke,overlayY:Dt},{originX:ke,originY:Dt,overlayX:ke,overlayY:hn},{originX:He,originY:hn,overlayX:He,overlayY:Dt},{originX:He,originY:Dt,overlayX:He,overlayY:hn}])}_getCloseStream(ne){const ke=["ctrlKey","shiftKey","metaKey"];return(0,k.h)(ne.backdropClick(),ne.detachments(),ne.keydownEvents().pipe((0,j.p)(He=>He.keyCode===x._f&&!(0,x.rp)(He)||this.datepickerInput&&(0,x.rp)(He,"altKey")&&He.keyCode===x.i7&&ke.every(Dt=>!(0,x.rp)(He,Dt)))))}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(n.hJ),g.rXU(g.SKi),g.rXU(g.c1b),g.rXU(Ue),g.rXU(_.MJ,8),g.rXU(M.dS,8),g.rXU(se))};static#t=this.\u0275dir=g.FsC({type:Se,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",g.L39],disabled:[2,"disabled","disabled",g.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",g.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",g.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[g.GFd,g.OA$]})}return Se})(),et=(()=>{class Se extends vt{static#e=this.\u0275fac=(()=>{let ne;return function(He){return(ne||(ne=g.xGo(Se)))(He||Se)}})();static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[g.Jv_([Kt,{provide:vt,useExisting:Se}]),g.Vt3,g.aNF],decls:0,vars:0,template:function(ke,He){},encapsulation:2,changeDetection:0})}return Se})();class Re{constructor(At,ne){this.target=At,this.targetElement=ne,this.value=this.target.value}}let Mt=(()=>{class Se{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(ne){this._assignValueProgrammatically(ne)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(ne){const ke=ne,He=this._elementRef.nativeElement;this._disabled!==ke&&(this._disabled=ke,this.stateChanges.next(void 0)),ke&&this._isInitialized&&He.blur&&He.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(ne){this._model=ne,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(ke=>{if(this._shouldHandleChangeEvent(ke)){const He=this._getValueFromModel(ke.selection);this._lastValueValid=this._isValidValue(He),this._cvaOnChange(He),this._onTouched(),this._formatValue(He),this.dateInput.emit(new Re(this,this._elementRef.nativeElement)),this.dateChange.emit(new Re(this,this._elementRef.nativeElement))}})}constructor(ne,ke,He){this._elementRef=ne,this._dateAdapter=ke,this._dateFormats=He,this.dateChange=new g.bkB,this.dateInput=new g.bkB,this.stateChanges=new u.B7,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=I.y.EMPTY,this._localeSubscription=I.y.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Dt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Dt.value));return!hn||this._matchesFilter(hn)?null:{matDatepickerFilter:!0}},this._minValidator=Dt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Dt.value)),Bn=this._getMinDate();return!Bn||!hn||this._dateAdapter.compareDate(Bn,hn)<=0?null:{matDatepickerMin:{min:Bn,actual:hn}}},this._maxValidator=Dt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Dt.value)),Bn=this._getMaxDate();return!Bn||!hn||this._dateAdapter.compareDate(Bn,hn)>=0?null:{matDatepickerMax:{max:Bn,actual:hn}}},this._lastValueValid=!1,this._localeSubscription=ke.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(ne){(function nt(Se,At){const ne=Object.keys(Se);for(let ke of ne){const{previousValue:He,currentValue:Dt}=Se[ke];if(!At.isDateInstance(He)||!At.isDateInstance(Dt))return!0;if(!At.sameDate(He,Dt))return!0}return!1})(ne,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(ne){this._validatorOnChange=ne}validate(ne){return this._validator?this._validator(ne):null}writeValue(ne){this._assignValueProgrammatically(ne)}registerOnChange(ne){this._cvaOnChange=ne}registerOnTouched(ne){this._onTouched=ne}setDisabledState(ne){this.disabled=ne}_onKeydown(ne){(0,x.rp)(ne,"altKey")&&ne.keyCode===x.n6&&["ctrlKey","shiftKey","metaKey"].every(Dt=>!(0,x.rp)(ne,Dt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),ne.preventDefault())}_onInput(ne){const ke=this._lastValueValid;let He=this._dateAdapter.parse(ne,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(He),He=this._dateAdapter.getValidDateOrNull(He);const Dt=!this._dateAdapter.sameDate(He,this.value);!He||Dt?this._cvaOnChange(He):(ne&&!this.value&&this._cvaOnChange(He),ke!==this._lastValueValid&&this._validatorOnChange()),Dt&&(this._assignValue(He),this.dateInput.emit(new Re(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Re(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(ne){this._elementRef.nativeElement.value=null!=ne?this._dateAdapter.format(ne,this._dateFormats.display.dateInput):""}_assignValue(ne){this._model?(this._assignValueToModel(ne),this._pendingValue=null):this._pendingValue=ne}_isValidValue(ne){return!ne||this._dateAdapter.isValid(ne)}_parentDisabled(){return!1}_assignValueProgrammatically(ne){ne=this._dateAdapter.deserialize(ne),this._lastValueValid=this._isValidValue(ne),ne=this._dateAdapter.getValidDateOrNull(ne),this._assignValue(ne),this._formatValue(ne)}_matchesFilter(ne){const ke=this._getDateFilter();return!ke||ke(ne)}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.aKT),g.rXU(_.MJ,8),g.rXU(_.de,8))};static#t=this.\u0275dir=g.FsC({type:Se,inputs:{value:"value",disabled:[2,"disabled","disabled",g.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[g.GFd,g.OA$]})}return Se})();const Ze={provide:m.kq,useExisting:(0,g.Rfq)(()=>Vt),multi:!0},qt={provide:m.cz,useExisting:(0,g.Rfq)(()=>Vt),multi:!0};let Vt=(()=>{class Se extends Mt{set matDatepicker(ne){ne&&(this._datepicker=ne,this._ariaOwns.set(ne.opened?ne.id:null),this._closedSubscription=ne.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=ne.openedStream.subscribe(()=>{this._ariaOwns.set(ne.id)}),this._registerModel(ne.registerInput(this)))}get min(){return this._min}set min(ne){const ke=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne));this._dateAdapter.sameDate(ke,this._min)||(this._min=ke,this._validatorOnChange())}get max(){return this._max}set max(ne){const ke=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne));this._dateAdapter.sameDate(ke,this._max)||(this._max=ke,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(ne){const ke=this._matchesFilter(this.value);this._dateFilter=ne,this._matchesFilter(this.value)!==ke&&this._validatorOnChange()}constructor(ne,ke,He,Dt){super(ne,ke,He),this._formField=Dt,this._closedSubscription=I.y.EMPTY,this._openedSubscription=I.y.EMPTY,this._ariaOwns=(0,g.vPA)(null),this._validator=m.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(ne){return ne}_assignValueToModel(ne){this._model&&this._model.updateSelection(ne,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(ne){return ne.source!==this}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(g.aKT),g.rXU(_.MJ,8),g.rXU(_.de,8),g.rXU(v.xb,8))};static#t=this.\u0275dir=g.FsC({type:Se,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(ke,He){1&ke&&g.bIt("input",function(hn){return He._onInput(hn.target.value)})("change",function(){return He._onChange()})("blur",function(){return He._onBlur()})("keydown",function(hn){return He._onKeydown(hn)}),2&ke&&(g.Mr5("disabled",He.disabled),g.BMQ("aria-haspopup",He._datepicker?"dialog":null)("aria-owns",He._ariaOwns())("min",He.min?He._dateAdapter.toIso8601(He.min):null)("max",He.max?He._dateAdapter.toIso8601(He.max):null)("data-mat-calendar",He._datepicker?He._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[g.Jv_([Ze,qt,{provide:A.Oh,useExisting:Se}]),g.Vt3]})}return Se})(),dn=(()=>{class Se{static#e=this.\u0275fac=function(ke){return new(ke||Se)};static#t=this.\u0275dir=g.FsC({type:Se,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return Se})(),xn=(()=>{class Se{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ne){this._disabled=ne}constructor(ne,ke,He){this._intl=ne,this._changeDetectorRef=ke,this._stateChanges=I.y.EMPTY;const Dt=Number(He);this.tabIndex=Dt||0===Dt?Dt:null}ngOnChanges(ne){ne.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ne){this.datepicker&&!this.disabled&&(this.datepicker.open(),ne.stopPropagation())}_watchStateChanges(){const ne=this.datepicker?this.datepicker.stateChanges:(0,y.of)(),ke=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,y.of)(),He=this.datepicker?(0,k.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,y.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,k.h)(this._intl.changes,ne,ke,He).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(ke){return new(ke||Se)(g.rXU(pe),g.rXU(g.gRc),g.kS0("tabindex"))};static#t=this.\u0275cmp=g.VBU({type:Se,selectors:[["mat-datepicker-toggle"]],contentQueries:function(ke,He,Dt){if(1&ke&&g.wni(Dt,dn,5),2&ke){let hn;g.mGM(hn=g.lsd())&&(He._customIcon=hn.first)}},viewQuery:function(ke,He){if(1&ke&&g.GBs(_e,5),2&ke){let Dt;g.mGM(Dt=g.lsd())&&(He._button=Dt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(ke,He){1&ke&&g.bIt("click",function(hn){return He._open(hn)}),2&ke&&(g.BMQ("tabindex",null)("data-mat-calendar",He.datepicker?He.datepicker.id:null),g.AVh("mat-datepicker-toggle-active",He.datepicker&&He.datepicker.opened)("mat-accent",He.datepicker&&"accent"===He.datepicker.color)("mat-warn",He.datepicker&&"warn"===He.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",g.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[g.GFd,g.OA$,g.aNF],ngContentSelectors:Fe,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(ke,He){1&ke&&(g.NAR(xe),g.j41(0,"button",1,0),g.DNE(2,Ae,2,0,":svg:svg",2),g.SdG(3),g.k0s()),2&ke&&(g.Y8G("disabled",He.disabled)("disableRipple",He.disableRipple),g.BMQ("aria-haspopup",He.datepicker?"dialog":null)("aria-label",He.ariaLabel||He._intl.openCalendarLabel)("tabindex",He.disabled?-1:He.tabIndex),g.R7$(2),g.vxM(He._customIcon?-1:2))},dependencies:[b.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Se})(),Gt=(()=>{class Se{static#e=this.\u0275fac=function(ke){return new(ke||Se)};static#t=this.\u0275mod=g.$C({type:Se});static#n=this.\u0275inj=g.G2t({providers:[pe,rt],imports:[h.MD,b.Hl,n.z_,e.Pd,d.jc,_.yE,Qe,xn,Tt,E.Gj]})}return Se})()},4006:(Ot,ve,s)=>{"use strict";s.d(ve,{BI:()=>Ae,CP:()=>$,E7:()=>qe,Vh:()=>ie,Yi:()=>Ye,bZ:()=>ae,hM:()=>pe,tx:()=>xe});var e=s(7987),n=s(177),d=s(3953),h=s(9888),g=s(2529),b=s(4085),E=s(6939),_=s(5286),u=s(4670),I=s(9418),k=s(8728),y=s(9493),x=s(3176),M=s(7336),B=s(494),K=s(6600);function j(Ee,Xe){}s(9969);class S{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const w="mdc-dialog--open",m="mdc-dialog--opening",v="mdc-dialog--closing";let G=(()=>{class Ee extends g.sU{constructor(xt,dt,Ct,Qt,_n,In,rn,$t,q){super(xt,dt,Ct,Qt,_n,In,rn,q),this._animationMode=$t,this._animationStateChanged=new d.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?W(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?W(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(O,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(m,w)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(w),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(w),this._animationsEnabled?(this._hostElement.style.setProperty(O,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(v)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(xt){this._actionSectionCount+=xt,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(m,v)}_waitForAnimationToComplete(xt,dt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(dt,xt)}_requestAnimationFrame(xt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(xt):xt()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(xt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:xt})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(xt){const dt=super.attachComponentPortal(xt);return dt.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),dt}static#e=this.\u0275fac=function(dt){return new(dt||Ee)(d.rXU(d.aKT),d.rXU(h.GX),d.rXU(n.qQ,8),d.rXU(S),d.rXU(h.Z7),d.rXU(d.SKi),d.rXU(e.yY),d.rXU(d.bc$,8),d.rXU(h.FN))};static#t=this.\u0275cmp=d.VBU({type:Ee,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(dt,Ct){2&dt&&(d.Mr5("id",Ct._config.id),d.BMQ("aria-modal",Ct._config.ariaModal)("role",Ct._config.role)("aria-labelledby",Ct._config.ariaLabel?null:Ct._ariaLabelledByQueue[0])("aria-label",Ct._config.ariaLabel)("aria-describedby",Ct._config.ariaDescribedBy||null),d.AVh("_mat-animation-noopable",!Ct._animationsEnabled)("mat-mdc-dialog-container-with-actions",Ct._actionSectionCount>0))},standalone:!0,features:[d.Vt3,d.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(dt,Ct){1&dt&&(d.j41(0,"div",0)(1,"div",1),d.DNE(2,j,0,0,"ng-template",2),d.k0s()())},dependencies:[E.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Ee})();const O="--mat-dialog-transition-duration";function W(Ee){return null==Ee?null:"number"==typeof Ee?Ee:Ee.endsWith("ms")?(0,b.OE)(Ee.substring(0,Ee.length-2)):Ee.endsWith("s")?1e3*(0,b.OE)(Ee.substring(0,Ee.length-1)):"0"===Ee?0:null}var U=function(Ee){return Ee[Ee.OPEN=0]="OPEN",Ee[Ee.CLOSING=1]="CLOSING",Ee[Ee.CLOSED=2]="CLOSED",Ee}(U||{});class ${constructor(Xe,xt,dt){this._ref=Xe,this._containerInstance=dt,this._afterOpened=new _.B7,this._beforeClosed=new _.B7,this._state=U.OPEN,this.disableClose=xt.disableClose,this.id=Xe.id,Xe.addPanelClass("mat-mdc-dialog-panel"),dt._animationStateChanged.pipe((0,k.p)(Ct=>"opened"===Ct.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),dt._animationStateChanged.pipe((0,k.p)(Ct=>"closed"===Ct.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Xe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,u.h)(this.backdropClick(),this.keydownEvents().pipe((0,k.p)(Ct=>Ct.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(Ct)))).subscribe(Ct=>{this.disableClose||(Ct.preventDefault(),te(this,"keydown"===Ct.type?"keyboard":"mouse"))})}close(Xe){this._result=Xe,this._containerInstance._animationStateChanged.pipe((0,k.p)(xt=>"closing"===xt.state),(0,y.s)(1)).subscribe(xt=>{this._beforeClosed.next(Xe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),xt.totalTime+100)}),this._state=U.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Xe){let xt=this._ref.config.positionStrategy;return Xe&&(Xe.left||Xe.right)?Xe.left?xt.left(Xe.left):xt.right(Xe.right):xt.centerHorizontally(),Xe&&(Xe.top||Xe.bottom)?Xe.top?xt.top(Xe.top):xt.bottom(Xe.bottom):xt.centerVertically(),this._ref.updatePosition(),this}updateSize(Xe="",xt=""){return this._ref.updateSize(Xe,xt),this}addPanelClass(Xe){return this._ref.addPanelClass(Xe),this}removePanelClass(Xe){return this._ref.removePanelClass(Xe),this}getState(){return this._state}_finishDialogClose(){this._state=U.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function te(Ee,Xe,xt){return Ee._closeInteractionType=Xe,Ee.close(xt)}const ie=new d.nKC("MatMdcDialogData"),me=new d.nKC("mat-mdc-dialog-default-options"),Y=new d.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Ee=(0,d.WQX)(e.hJ);return()=>Ee.scrollStrategies.block()}});let J=0,ae=(()=>{class Ee{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const xt=this._parentDialog;return xt?xt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(xt,dt,Ct,Qt,_n,In,rn,$t){this._overlay=xt,this._defaultOptions=Qt,this._scrollStrategy=_n,this._parentDialog=In,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _.B7,this._afterOpenedAtThisLevel=new _.B7,this.dialogConfigClass=S,this.afterAllClosed=(0,I.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,x.Z)(void 0))),this._dialog=dt.get(g.lG),this._dialogRefConstructor=$,this._dialogContainerType=G,this._dialogDataToken=ie}open(xt,dt){let Ct;(dt={...this._defaultOptions||new S,...dt}).id=dt.id||"mat-mdc-dialog-"+J++,dt.scrollStrategy=dt.scrollStrategy||this._scrollStrategy();const Qt=this._dialog.open(xt,{...dt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:dt},{provide:g.Pe,useValue:dt}]},templateContext:()=>({dialogRef:Ct}),providers:(_n,In,rn)=>(Ct=new this._dialogRefConstructor(_n,dt,rn),Ct.updatePosition(dt?.position),[{provide:this._dialogContainerType,useValue:rn},{provide:this._dialogDataToken,useValue:In.data},{provide:this._dialogRefConstructor,useValue:Ct}])});return Ct.componentRef=Qt.componentRef,Ct.componentInstance=Qt.componentInstance,this.openDialogs.push(Ct),this.afterOpened.next(Ct),Ct.afterClosed().subscribe(()=>{const _n=this.openDialogs.indexOf(Ct);_n>-1&&(this.openDialogs.splice(_n,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ct}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(xt){return this.openDialogs.find(dt=>dt.id===xt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(xt){let dt=xt.length;for(;dt--;)xt[dt].close()}static#e=this.\u0275fac=function(dt){return new(dt||Ee)(d.KVO(e.hJ),d.KVO(d.zZn),d.KVO(n.aZ,8),d.KVO(me,8),d.KVO(Y),d.KVO(Ee,12),d.KVO(e.Sf),d.KVO(d.bc$,8))};static#t=this.\u0275prov=d.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),_e=0,xe=(()=>{class Ee{constructor(xt,dt,Ct){this.dialogRef=xt,this._elementRef=dt,this._dialog=Ct,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Ne(this._elementRef,this._dialog.openDialogs))}ngOnChanges(xt){const dt=xt._matDialogClose||xt._matDialogCloseResult;dt&&(this.dialogResult=dt.currentValue)}_onButtonClick(xt){te(this.dialogRef,0===xt.screenX&&0===xt.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(dt){return new(dt||Ee)(d.rXU($,8),d.rXU(d.aKT),d.rXU(ae))};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(dt,Ct){1&dt&&d.bIt("click",function(_n){return Ct._onButtonClick(_n)}),2&dt&&d.BMQ("aria-label",Ct.ariaLabel||null)("type",Ct.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[d.OA$]})}return Ee})(),Fe=(()=>{class Ee{constructor(xt,dt,Ct){this._dialogRef=xt,this._elementRef=dt,this._dialog=Ct}ngOnInit(){this._dialogRef||(this._dialogRef=Ne(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(dt){return new(dt||Ee)(d.rXU($,8),d.rXU(d.aKT),d.rXU(ae))};static#t=this.\u0275dir=d.FsC({type:Ee,standalone:!0})}return Ee})(),Ae=(()=>{class Ee extends Fe{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+_e++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let xt;return function(Ct){return(xt||(xt=d.xGo(Ee)))(Ct||Ee)}})();static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(dt,Ct){2&dt&&d.Mr5("id",Ct.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[d.Vt3]})}return Ee})(),Ye=(()=>{class Ee{static#e=this.\u0275fac=function(dt){return new(dt||Ee)};static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[d.nM4([B.uv])]})}return Ee})(),qe=(()=>{class Ee extends Fe{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let xt;return function(Ct){return(xt||(xt=d.xGo(Ee)))(Ct||Ee)}})();static#t=this.\u0275dir=d.FsC({type:Ee,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(dt,Ct){2&dt&&d.AVh("mat-mdc-dialog-actions-align-start","start"===Ct.align)("mat-mdc-dialog-actions-align-center","center"===Ct.align)("mat-mdc-dialog-actions-align-end","end"===Ct.align)},inputs:{align:"align"},standalone:!0,features:[d.Vt3]})}return Ee})();function Ne(Ee,Xe){let xt=Ee.nativeElement.parentElement;for(;xt&&!xt.classList.contains("mat-mdc-dialog-container");)xt=xt.parentElement;return xt?Xe.find(dt=>dt.id===xt.id):null}let pe=(()=>{class Ee{static#e=this.\u0275fac=function(dt){return new(dt||Ee)};static#t=this.\u0275mod=d.$C({type:Ee});static#n=this.\u0275inj=d.G2t({providers:[ae],imports:[g.Ph,e.z_,E.jc,K.yE,K.yE]})}return Ee})()},3719:(Ot,ve,s)=>{"use strict";s.d(ve,{JW:()=>pe,RG:()=>Et,TL:()=>Ye,qT:()=>rn,rl:()=>an,xb:()=>se,yw:()=>le});var e=s(3953),n=s(8203),d=s(4085),h=s(6860),g=s(177),b=s(4337),E=s(5286),_=s(4670),u=s(7605),I=s(8170),k=s(9969),y=s(2318),x=s(6600);const M=["notch"],B=["matFormFieldNotchedOutline",""],K=["*"],P=["textField"],j=["iconPrefixContainer"],S=["textPrefixContainer"],w=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],m=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function v(bt,Yt){1&bt&&e.nrm(0,"span",19)}function A(bt,Yt){if(1&bt&&(e.j41(0,"label",18),e.SdG(1,1),e.DNE(2,v,1,0,"span",19),e.k0s()),2&bt){const Xt=e.XpG(2);e.Y8G("floating",Xt._shouldLabelFloat())("monitorResize",Xt._hasOutline())("id",Xt._labelId),e.BMQ("for",Xt._control.disableAutomaticLabeling?null:Xt._control.id),e.R7$(2),e.vxM(!Xt.hideRequiredMarker&&Xt._control.required?2:-1)}}function L(bt,Yt){if(1&bt&&e.DNE(0,A,3,5,"label",18),2&bt){const Xt=e.XpG();e.vxM(Xt._hasFloatingLabel()?0:-1)}}function G(bt,Yt){1&bt&&e.nrm(0,"div",5)}function O(bt,Yt){}function W(bt,Yt){if(1&bt&&e.DNE(0,O,0,0,"ng-template",11),2&bt){e.XpG(2);const Xt=e.sdS(1);e.Y8G("ngTemplateOutlet",Xt)}}function U(bt,Yt){if(1&bt&&(e.j41(0,"div",7),e.DNE(1,W,1,1,null,11),e.k0s()),2&bt){const Xt=e.XpG();e.Y8G("matFormFieldNotchedOutlineOpen",Xt._shouldLabelFloat()),e.R7$(),e.vxM(Xt._forceDisplayInfixLabel()?-1:1)}}function $(bt,Yt){1&bt&&(e.j41(0,"div",8,2),e.SdG(2,2),e.k0s())}function te(bt,Yt){1&bt&&(e.j41(0,"div",9,3),e.SdG(2,3),e.k0s())}function ie(bt,Yt){}function me(bt,Yt){if(1&bt&&e.DNE(0,ie,0,0,"ng-template",11),2&bt){e.XpG();const Xt=e.sdS(1);e.Y8G("ngTemplateOutlet",Xt)}}function Y(bt,Yt){1&bt&&(e.j41(0,"div",12),e.SdG(1,4),e.k0s())}function F(bt,Yt){1&bt&&(e.j41(0,"div",13),e.SdG(1,5),e.k0s())}function N(bt,Yt){1&bt&&e.nrm(0,"div",14)}function J(bt,Yt){if(1&bt&&(e.j41(0,"div",16),e.SdG(1,6),e.k0s()),2&bt){const Xt=e.XpG();e.Y8G("@transitionMessages",Xt._subscriptAnimationState)}}function ae(bt,Yt){if(1&bt&&(e.j41(0,"mat-hint",20),e.EFF(1),e.k0s()),2&bt){const Xt=e.XpG(2);e.Y8G("id",Xt._hintLabelId),e.R7$(),e.JRh(Xt.hintLabel)}}function _e(bt,Yt){if(1&bt&&(e.j41(0,"div",17),e.DNE(1,ae,2,2,"mat-hint",20),e.SdG(2,7),e.nrm(3,"div",21),e.SdG(4,8),e.k0s()),2&bt){const Xt=e.XpG();e.Y8G("@transitionMessages",Xt._subscriptAnimationState),e.R7$(),e.vxM(Xt.hintLabel?1:-1)}}let xe=(()=>{class bt{static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["mat-label"]],standalone:!0})}return bt})(),Fe=0;const Ae=new e.nKC("MatError");let Ye=(()=>{class bt{constructor(Xt,nn){this.id="mat-mdc-error-"+Fe++,Xt||nn.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(nn){return new(nn||bt)(e.kS0("aria-live"),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(nn,yn){2&nn&&e.Mr5("id",yn.id)},inputs:{id:"id"},standalone:!0,features:[e.Jv_([{provide:Ae,useExisting:bt}])]})}return bt})(),qe=0,Ne=(()=>{class bt{constructor(){this.align="start",this.id="mat-mdc-hint-"+qe++}static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(nn,yn){2&nn&&(e.Mr5("id",yn.id),e.BMQ("align",null),e.AVh("mat-mdc-form-field-hint-end","end"===yn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return bt})();const Me=new e.nKC("MatPrefix");let pe=(()=>{class bt{constructor(){this._isText=!1}set _isTextSelector(Xt){this._isText=!0}static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:Me,useExisting:bt}])]})}return bt})();const he=new e.nKC("MatSuffix");let le=(()=>{class bt{constructor(){this._isText=!1}set _isTextSelector(Xt){this._isText=!0}static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:he,useExisting:bt}])]})}return bt})();const Ee=new e.nKC("FloatingLabelParent");let Xe=(()=>{class bt{get floating(){return this._floating}set floating(Xt){this._floating=Xt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Xt){this._monitorResize=Xt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Xt){this._elementRef=Xt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.WQX)(I.a),this._ngZone=(0,e.WQX)(e.SKi),this._parent=(0,e.WQX)(Ee),this._resizeSubscription=new b.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function xt(bt){if(null!==bt.offsetParent)return bt.scrollWidth;const Xt=bt.cloneNode(!0);Xt.style.setProperty("position","absolute"),Xt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Xt);const nn=Xt.scrollWidth;return Xt.remove(),nn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(nn){return new(nn||bt)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(nn,yn){2&nn&&e.AVh("mdc-floating-label--float-above",yn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return bt})();const dt="mdc-line-ripple--active",Ct="mdc-line-ripple--deactivating";let Qt=(()=>{class bt{constructor(Xt,nn){this._elementRef=Xt,this._handleTransitionEnd=yn=>{const Mn=this._elementRef.nativeElement.classList,Ln=Mn.contains(Ct);"opacity"===yn.propertyName&&Ln&&Mn.remove(dt,Ct)},nn.runOutsideAngular(()=>{Xt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Xt=this._elementRef.nativeElement.classList;Xt.remove(Ct),Xt.add(dt)}deactivate(){this._elementRef.nativeElement.classList.add(Ct)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(nn){return new(nn||bt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:bt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return bt})(),_n=(()=>{class bt{constructor(Xt,nn){this._elementRef=Xt,this._ngZone=nn,this.open=!1}ngAfterViewInit(){const Xt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Xt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Xt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Xt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Xt){this._notch.nativeElement.style.width=this.open&&Xt?`calc(${Xt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(nn){return new(nn||bt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275cmp=e.VBU({type:bt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(nn,yn){if(1&nn&&e.GBs(M,5),2&nn){let Mn;e.mGM(Mn=e.lsd())&&(yn._notch=Mn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(nn,yn){2&nn&&e.AVh("mdc-notched-outline--notched",yn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[e.aNF],attrs:B,ngContentSelectors:K,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(nn,yn){1&nn&&(e.NAR(),e.nrm(0,"div",1),e.j41(1,"div",2,0),e.SdG(3),e.k0s(),e.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return bt})();const In={transitionMessages:(0,k.hZ)("transitionMessages",[(0,k.wk)("enter",(0,k.iF)({opacity:1,transform:"translateY(0%)"})),(0,k.kY)("void => enter",[(0,k.iF)({opacity:0,transform:"translateY(-5px)"}),(0,k.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rn=(()=>{class bt{static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275dir=e.FsC({type:bt})}return bt})();const se=new e.nKC("MatFormField"),fe=new e.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Ke=0,an=(()=>{class bt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Xt){this._hideRequiredMarker=(0,d.he)(Xt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Xt){Xt!==this._floatLabel&&(this._floatLabel=Xt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Xt){const nn=this._appearance;this._appearance=Xt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==nn&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Xt){this._subscriptSizing=Xt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Xt){this._hintLabel=Xt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Xt){this._explicitFormFieldControl=Xt}constructor(Xt,nn,yn,Mn,Ln,Fn,$n,Ht){this._elementRef=Xt,this._changeDetectorRef=nn,this._dir=Mn,this._platform=Ln,this._defaults=Fn,this._animationMode=$n,this._labelChild=(0,e.sbv)(xe),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Ke++,this._hintLabelId="mat-mdc-hint-"+Ke++,this._subscriptAnimationState="",this._destroyed=new E.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,e.WQX)(e.zZn),this.getLabelId=(0,e.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,e.EWP)(()=>!!this._labelChild()),Fn&&(Fn.appearance&&(this.appearance=Fn.appearance),this._hideRequiredMarker=!!Fn?.hideRequiredMarker,Fn.color&&(this.color=Fn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(Xt){const nn=this._control,yn="mat-mdc-form-field-type-";Xt&&this._elementRef.nativeElement.classList.remove(yn+Xt.controlType),nn.controlType&&this._elementRef.nativeElement.classList.add(yn+nn.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=nn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),nn.ngControl&&nn.ngControl.valueChanges&&(this._valueChanges=nn.ngControl.valueChanges.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Xt=>!Xt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Xt=>Xt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Xt=>!Xt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Xt=>Xt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,_.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,e.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Xt){const nn=this._control?this._control.ngControl:null;return nn&&nn[Xt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Xt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Xt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const nn=this._hintChildren?this._hintChildren.find(Mn=>"start"===Mn.align):null,yn=this._hintChildren?this._hintChildren.find(Mn=>"end"===Mn.align):null;nn?Xt.push(nn.id):this._hintLabel&&Xt.push(this._hintLabelId),yn&&Xt.push(yn.id)}else this._errorChildren&&Xt.push(...this._errorChildren.map(nn=>nn.id));this._control.setDescribedByIds(Xt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Xt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Xt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const nn=this._iconPrefixContainer?.nativeElement,yn=this._textPrefixContainer?.nativeElement,Mn=nn?.getBoundingClientRect().width??0,Ln=yn?.getBoundingClientRect().width??0;Xt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Mn+Ln}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Xt=this._elementRef.nativeElement;if(Xt.getRootNode){const nn=Xt.getRootNode();return nn&&nn!==Xt}return document.documentElement.contains(Xt)}static#e=this.\u0275fac=function(nn){return new(nn||bt)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(n.dS),e.rXU(h.OD),e.rXU(fe,8),e.rXU(e.bc$,8),e.rXU(g.qQ))};static#t=this.\u0275cmp=e.VBU({type:bt,selectors:[["mat-form-field"]],contentQueries:function(nn,yn,Mn){if(1&nn&&(e.C6U(Mn,yn._labelChild,xe,5),e.wni(Mn,rn,5),e.wni(Mn,Me,5),e.wni(Mn,he,5),e.wni(Mn,Ae,5),e.wni(Mn,Ne,5)),2&nn){let Ln;e.NyB(),e.mGM(Ln=e.lsd())&&(yn._formFieldControl=Ln.first),e.mGM(Ln=e.lsd())&&(yn._prefixChildren=Ln),e.mGM(Ln=e.lsd())&&(yn._suffixChildren=Ln),e.mGM(Ln=e.lsd())&&(yn._errorChildren=Ln),e.mGM(Ln=e.lsd())&&(yn._hintChildren=Ln)}},viewQuery:function(nn,yn){if(1&nn&&(e.GBs(P,5),e.GBs(j,5),e.GBs(S,5),e.GBs(Xe,5),e.GBs(_n,5),e.GBs(Qt,5)),2&nn){let Mn;e.mGM(Mn=e.lsd())&&(yn._textField=Mn.first),e.mGM(Mn=e.lsd())&&(yn._iconPrefixContainer=Mn.first),e.mGM(Mn=e.lsd())&&(yn._textPrefixContainer=Mn.first),e.mGM(Mn=e.lsd())&&(yn._floatingLabel=Mn.first),e.mGM(Mn=e.lsd())&&(yn._notchedOutline=Mn.first),e.mGM(Mn=e.lsd())&&(yn._lineRipple=Mn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(nn,yn){2&nn&&e.AVh("mat-mdc-form-field-label-always-float",yn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",yn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",yn._hasIconSuffix)("mat-form-field-invalid",yn._control.errorState)("mat-form-field-disabled",yn._control.disabled)("mat-form-field-autofilled",yn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===yn._animationMode)("mat-form-field-appearance-fill","fill"==yn.appearance)("mat-form-field-appearance-outline","outline"==yn.appearance)("mat-form-field-hide-placeholder",yn._hasFloatingLabel()&&!yn._shouldLabelFloat())("mat-focused",yn._control.focused)("mat-primary","accent"!==yn.color&&"warn"!==yn.color)("mat-accent","accent"===yn.color)("mat-warn","warn"===yn.color)("ng-untouched",yn._shouldForward("untouched"))("ng-touched",yn._shouldForward("touched"))("ng-pristine",yn._shouldForward("pristine"))("ng-dirty",yn._shouldForward("dirty"))("ng-valid",yn._shouldForward("valid"))("ng-invalid",yn._shouldForward("invalid"))("ng-pending",yn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[e.Jv_([{provide:se,useExisting:bt},{provide:Ee,useExisting:bt}]),e.aNF],ngContentSelectors:m,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(nn,yn){if(1&nn){const Mn=e.RV6();e.NAR(w),e.DNE(0,L,1,1,"ng-template",null,0,e.C5r),e.j41(2,"div",4,1),e.bIt("click",function(Fn){return e.eBV(Mn),e.Njj(yn._control.onContainerClick(Fn))}),e.DNE(4,G,1,0,"div",5),e.j41(5,"div",6),e.DNE(6,U,2,2,"div",7)(7,$,3,0,"div",8)(8,te,3,0,"div",9),e.j41(9,"div",10),e.DNE(10,me,1,1,null,11),e.SdG(11),e.k0s(),e.DNE(12,Y,2,0,"div",12)(13,F,2,0,"div",13),e.k0s(),e.DNE(14,N,1,0,"div",14),e.k0s(),e.j41(15,"div",15),e.DNE(16,J,2,1,"div",16)(17,_e,5,2,"div",17),e.k0s()}if(2&nn){let Mn;e.R7$(2),e.AVh("mdc-text-field--filled",!yn._hasOutline())("mdc-text-field--outlined",yn._hasOutline())("mdc-text-field--no-label",!yn._hasFloatingLabel())("mdc-text-field--disabled",yn._control.disabled)("mdc-text-field--invalid",yn._control.errorState),e.R7$(2),e.vxM(yn._hasOutline()||yn._control.disabled?-1:4),e.R7$(2),e.vxM(yn._hasOutline()?6:-1),e.R7$(),e.vxM(yn._hasIconPrefix?7:-1),e.R7$(),e.vxM(yn._hasTextPrefix?8:-1),e.R7$(2),e.vxM(!yn._hasOutline()||yn._forceDisplayInfixLabel()?10:-1),e.R7$(2),e.vxM(yn._hasTextSuffix?12:-1),e.R7$(),e.vxM(yn._hasIconSuffix?13:-1),e.R7$(),e.vxM(yn._hasOutline()?-1:14),e.R7$(),e.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===yn.subscriptSizing),e.R7$(),e.vxM("error"===(Mn=yn._getDisplayedMessages())?16:"hint"===Mn?17:-1)}},dependencies:[Xe,_n,g.T3,Qt,Ne],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[In.transitionMessages]},changeDetection:0})}return bt})(),Et=(()=>{class bt{static#e=this.\u0275fac=function(nn){return new(nn||bt)};static#t=this.\u0275mod=e.$C({type:bt});static#n=this.\u0275inj=e.G2t({imports:[x.yE,g.MD,y.w5,x.yE]})}return bt})()},9631:(Ot,ve,s)=>{"use strict";s.d(ve,{Oh:()=>B,fg:()=>j,fS:()=>S});var e=s(4085),n=s(6860),d=s(3953),h=s(1235),g=s(5286);const b=(0,n.BQ)({passive:!0});let E=(()=>{class w{constructor(v,A){this._platform=v,this._ngZone=A,this._monitoredElements=new Map}monitor(v){if(!this._platform.isBrowser)return h.w;const A=(0,e.i8)(v),L=this._monitoredElements.get(A);if(L)return L.subject;const G=new g.B7,O="cdk-text-field-autofilled",W=U=>{"cdk-text-field-autofill-start"!==U.animationName||A.classList.contains(O)?"cdk-text-field-autofill-end"===U.animationName&&A.classList.contains(O)&&(A.classList.remove(O),this._ngZone.run(()=>G.next({target:U.target,isAutofilled:!1}))):(A.classList.add(O),this._ngZone.run(()=>G.next({target:U.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{A.addEventListener("animationstart",W,b),A.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(A,{subject:G,unlisten:()=>{A.removeEventListener("animationstart",W,b)}}),G}stopMonitoring(v){const A=(0,e.i8)(v),L=this._monitoredElements.get(A);L&&(L.unlisten(),L.subject.complete(),A.classList.remove("cdk-text-field-autofill-monitored"),A.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(A))}ngOnDestroy(){this._monitoredElements.forEach((v,A)=>this.stopMonitoring(A))}static#e=this.\u0275fac=function(A){return new(A||w)(d.KVO(n.OD),d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),I=(()=>{class w{static#e=this.\u0275fac=function(A){return new(A||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})();var k=s(9417),y=s(6600),x=s(3719);const B=new d.nKC("MAT_INPUT_VALUE_ACCESSOR"),K=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let P=0,j=(()=>{class w{get disabled(){return this._disabled}set disabled(v){this._disabled=(0,e.he)(v),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(v){this._id=v||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(k.k0.required)??!1}set required(v){this._required=(0,e.he)(v)}get type(){return this._type}set type(v){this._type=v||"text",this._validateType(),!this._isTextarea&&(0,n.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(v){this._errorStateTracker.matcher=v}get value(){return this._inputValueAccessor.value}set value(v){v!==this.value&&(this._inputValueAccessor.value=v,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(v){this._readonly=(0,e.he)(v)}get errorState(){return this._errorStateTracker.errorState}set errorState(v){this._errorStateTracker.errorState=v}constructor(v,A,L,G,O,W,U,$,te,ie){this._elementRef=v,this._platform=A,this.ngControl=L,this._autofillMonitor=$,this._ngZone=te,this._formField=ie,this._uid="mat-input-"+P++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new g.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>(0,n.MU)().has(F)),this._iOSKeyupListener=F=>{const N=F.target;!N.value&&0===N.selectionStart&&0===N.selectionEnd&&(N.setSelectionRange(1,1),N.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const me=this._elementRef.nativeElement,Y=me.nodeName.toLowerCase();this._inputValueAccessor=U||me,this._previousNativeValue=this.value,this.id=this.id,A.IOS&&te.runOutsideAngular(()=>{v.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new y.X0(W,L,O,G,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!ie,this._isNativeSelect&&(this.controlType=me.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(v=>{this.autofilled=v.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(v){this._elementRef.nativeElement.focus(v)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(v){v!==this.focused&&(this.focused=v,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const v=this._elementRef.nativeElement.value;this._previousNativeValue!==v&&(this._previousNativeValue=v,this.stateChanges.next())}_dirtyCheckPlaceholder(){const v=this._getPlaceholder();if(v!==this._previousPlaceholder){const A=this._elementRef.nativeElement;this._previousPlaceholder=v,v?A.setAttribute("placeholder",v):A.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){K.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let v=this._elementRef.nativeElement.validity;return v&&v.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const v=this._elementRef.nativeElement,A=v.options[0];return this.focused||v.multiple||!this.empty||!!(v.selectedIndex>-1&&A&&A.label)}return this.focused||!this.empty}setDescribedByIds(v){v.length?this._elementRef.nativeElement.setAttribute("aria-describedby",v.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const v=this._elementRef.nativeElement;return this._isNativeSelect&&(v.multiple||v.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(A){return new(A||w)(d.rXU(d.aKT),d.rXU(n.OD),d.rXU(k.vO,10),d.rXU(k.cV,8),d.rXU(k.j4,8),d.rXU(y.es),d.rXU(B,10),d.rXU(E),d.rXU(d.SKi),d.rXU(x.xb,8))};static#t=this.\u0275dir=d.FsC({type:w,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(A,L){1&A&&d.bIt("focus",function(){return L._focusChanged(!0)})("blur",function(){return L._focusChanged(!1)})("input",function(){return L._onInput()}),2&A&&(d.Mr5("id",L.id)("disabled",L.disabled)("required",L.required),d.BMQ("name",L.name||null)("readonly",L.readonly&&!L._isNativeSelect||null)("aria-invalid",L.empty&&L.required?null:L.errorState)("aria-required",L.required)("id",L.id),d.AVh("mat-input-server",L._isServer)("mat-mdc-form-field-textarea-control",L._isInFormField&&L._isTextarea)("mat-mdc-form-field-input-control",L._isInFormField)("mdc-text-field__input",L._isInFormField)("mat-mdc-native-select-inline",L._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[d.Jv_([{provide:x.qT,useExisting:w}]),d.OA$]})}return w})(),S=(()=>{class w{static#e=this.\u0275fac=function(A){return new(A||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[y.yE,x.RG,x.RG,I,y.yE]})}return w})()},9115:(Ot,ve,s)=>{"use strict";s.d(ve,{Cn:()=>Ee,Cp:()=>le,fb:()=>te,kk:()=>Ye});var e=s(3953),n=s(9888),d=s(7336),h=s(5286),g=s(4670),b=s(4337),E=s(4421),_=s(5516),u=s(3176),I=s(9090),k=s(7605),y=s(8728),x=s(9493),M=s(8002),B=s(177),K=s(6600),P=s(6939),j=s(9969),S=s(8203),w=s(7987),m=s(6860),v=s(494);const A=["mat-menu-item",""],L=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],G=["mat-icon, [matMenuItemIcon]","*"];function O(Xe,xt){1&Xe&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"polygon",3),e.k0s())}const W=["*"];function U(Xe,xt){if(1&Xe){const dt=e.RV6();e.j41(0,"div",0),e.bIt("keydown",function(Qt){e.eBV(dt);const _n=e.XpG();return e.Njj(_n._handleKeydown(Qt))})("click",function(){e.eBV(dt);const Qt=e.XpG();return e.Njj(Qt.closed.emit("click"))})("@transformMenu.start",function(Qt){e.eBV(dt);const _n=e.XpG();return e.Njj(_n._onAnimationStart(Qt))})("@transformMenu.done",function(Qt){e.eBV(dt);const _n=e.XpG();return e.Njj(_n._onAnimationDone(Qt))}),e.j41(1,"div",1),e.SdG(2),e.k0s()()}if(2&Xe){const dt=e.XpG();e.HbH(dt._classList),e.Y8G("id",dt.panelId)("@transformMenu",dt._panelAnimationState),e.BMQ("aria-label",dt.ariaLabel||null)("aria-labelledby",dt.ariaLabelledby||null)("aria-describedby",dt.ariaDescribedby||null)}}const $=new e.nKC("MAT_MENU_PANEL");let te=(()=>{class Xe{constructor(dt,Ct,Qt,_n,In){this._elementRef=dt,this._document=Ct,this._focusMonitor=Qt,this._parentMenu=_n,this._changeDetectorRef=In,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new h.B7,this._focused=new h.B7,this._highlighted=!1,this._triggersSubmenu=!1,_n?.addItem?.(this)}focus(dt,Ct){this._focusMonitor&&dt?this._focusMonitor.focusVia(this._getHostElement(),dt,Ct):this._getHostElement().focus(Ct),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(dt){this.disabled&&(dt.preventDefault(),dt.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const dt=this._elementRef.nativeElement.cloneNode(!0),Ct=dt.querySelectorAll("mat-icon, .material-icons");for(let Qt=0;Qt<Ct.length;Qt++)Ct[Qt].remove();return dt.textContent?.trim()||""}_setHighlighted(dt){this._highlighted=dt,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(dt){this._triggersSubmenu=dt,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(Ct){return new(Ct||Xe)(e.rXU(e.aKT),e.rXU(B.qQ),e.rXU(n.FN),e.rXU($,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Xe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(Ct,Qt){1&Ct&&e.bIt("click",function(In){return Qt._checkDisabled(In)})("mouseenter",function(){return Qt._handleMouseEnter()}),2&Ct&&(e.BMQ("role",Qt.role)("tabindex",Qt._getTabIndex())("aria-disabled",Qt.disabled)("disabled",Qt.disabled||null),e.AVh("mat-mdc-menu-item-highlighted",Qt._highlighted)("mat-mdc-menu-item-submenu-trigger",Qt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39]},exportAs:["matMenuItem"],standalone:!0,features:[e.GFd,e.aNF],attrs:A,ngContentSelectors:G,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ct,Qt){1&Ct&&(e.NAR(L),e.SdG(0),e.j41(1,"span",0),e.SdG(2,1),e.k0s(),e.nrm(3,"div",1),e.DNE(4,O,2,0,":svg:svg",2)),2&Ct&&(e.R7$(3),e.Y8G("matRippleDisabled",Qt.disableRipple||Qt.disabled)("matRippleTrigger",Qt._getHostElement()),e.R7$(),e.vxM(Qt._triggersSubmenu?4:-1))},dependencies:[K.r6],encapsulation:2,changeDetection:0})}return Xe})();const F=new e.nKC("MatMenuContent"),J={transformMenu:(0,j.hZ)("transformMenu",[(0,j.wk)("void",(0,j.iF)({opacity:0,transform:"scale(0.8)"})),(0,j.kY)("void => enter",(0,j.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,j.iF)({opacity:1,transform:"scale(1)"}))),(0,j.kY)("* => void",(0,j.i0)("100ms 25ms linear",(0,j.iF)({opacity:0})))]),fadeInItems:(0,j.hZ)("fadeInItems",[(0,j.wk)("showing",(0,j.iF)({opacity:1})),(0,j.kY)("void => *",[(0,j.iF)({opacity:0}),(0,j.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xe=0;const Fe=new e.nKC("mat-menu-default-options",{providedIn:"root",factory:function Ae(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ye=(()=>{class Xe{get xPosition(){return this._xPosition}set xPosition(dt){this._xPosition=dt,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(dt){this._yPosition=dt,this.setPositionClasses()}set panelClass(dt){const Ct=this._previousPanelClass,Qt={...this._classList};Ct&&Ct.length&&Ct.split(" ").forEach(_n=>{Qt[_n]=!1}),this._previousPanelClass=dt,dt&&dt.length&&(dt.split(" ").forEach(_n=>{Qt[_n]=!0}),this._elementRef.nativeElement.className=""),this._classList=Qt}get classList(){return this.panelClass}set classList(dt){this.panelClass=dt}constructor(dt,Ct,Qt,_n){this._elementRef=dt,this._changeDetectorRef=_n,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new e.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new h.B7,this.closed=new e.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+xe++,this._injector=(0,e.WQX)(e.zZn),this.overlayPanelClass=Qt.overlayPanelClass||"",this._xPosition=Qt.xPosition,this._yPosition=Qt.yPosition,this.backdropClass=Qt.backdropClass,this.overlapTrigger=Qt.overlapTrigger,this.hasBackdrop=Qt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,I.n)(dt=>(0,g.h)(...dt.map(Ct=>Ct._focused)))).subscribe(dt=>this._keyManager.updateActiveItem(dt)),this._directDescendantItems.changes.subscribe(dt=>{const Ct=this._keyManager;if("enter"===this._panelAnimationState&&Ct.activeItem?._hasFocus()){const Qt=dt.toArray(),_n=Math.max(0,Math.min(Qt.length-1,Ct.activeItemIndex||0));Qt[_n]&&!Qt[_n].disabled?Ct.setActiveItem(_n):Ct.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,I.n)(Ct=>(0,g.h)(...Ct.map(Qt=>Qt._hovered))))}addItem(dt){}removeItem(dt){}_handleKeydown(dt){const Ct=dt.keyCode,Qt=this._keyManager;switch(Ct){case d._f:(0,d.rp)(dt)||(dt.preventDefault(),this.closed.emit("keydown"));break;case d.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case d.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Ct===d.i7||Ct===d.n6)&&Qt.setFocusOrigin("keyboard"),void Qt.onKeydown(dt)}dt.stopPropagation()}focusFirstItem(dt="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,e.mal)(()=>{let Ct=null;if(this._directDescendantItems.length&&(Ct=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!Ct||!Ct.contains(document.activeElement)){const Qt=this._keyManager;Qt.setFocusOrigin(dt).setFirstItemActive(),!Qt.activeItem&&Ct&&Ct.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(dt){if(null===this._baseElevation){const rn=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(rn)}const Ct=Math.min(this._baseElevation+dt,24),Qt=`${this._elevationPrefix}${Ct}`,_n=Object.keys(this._classList).find(In=>In.startsWith(this._elevationPrefix));if(!_n||_n===this._previousElevation){const In={...this._classList};this._previousElevation&&(In[this._previousElevation]=!1),In[Qt]=!0,this._previousElevation=Qt,this._classList=In}}setPositionClasses(dt=this.xPosition,Ct=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===dt,"mat-menu-after":"after"===dt,"mat-menu-above":"above"===Ct,"mat-menu-below":"below"===Ct},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(dt){this._animationDone.next(dt),this._isAnimating=!1}_onAnimationStart(dt){this._isAnimating=!0,"enter"===dt.toState&&0===this._keyManager.activeItemIndex&&(dt.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,u.Z)(this._allItems)).subscribe(dt=>{this._directDescendantItems.reset(dt.filter(Ct=>Ct._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(Ct){return new(Ct||Xe)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Fe),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Xe,selectors:[["mat-menu"]],contentQueries:function(Ct,Qt,_n){if(1&Ct&&(e.wni(_n,F,5),e.wni(_n,te,5),e.wni(_n,te,4)),2&Ct){let In;e.mGM(In=e.lsd())&&(Qt.lazyContent=In.first),e.mGM(In=e.lsd())&&(Qt._allItems=In),e.mGM(In=e.lsd())&&(Qt.items=In)}},viewQuery:function(Ct,Qt){if(1&Ct&&e.GBs(e.C4Q,5),2&Ct){let _n;e.mGM(_n=e.lsd())&&(Qt.templateRef=_n.first)}},hostVars:3,hostBindings:function(Ct,Qt){2&Ct&&e.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",e.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",dt=>null==dt?null:(0,e.L39)(dt)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[e.Jv_([{provide:$,useExisting:Xe}]),e.GFd,e.aNF],ngContentSelectors:W,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(Ct,Qt){1&Ct&&(e.NAR(),e.DNE(0,U,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[J.transformMenu,J.fadeInItems]},changeDetection:0})}return Xe})();const qe=new e.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const Xe=(0,e.WQX)(w.hJ);return()=>Xe.scrollStrategies.reposition()}}),Me={provide:qe,deps:[w.hJ],useFactory:function Ne(Xe){return()=>Xe.scrollStrategies.reposition()}},pe=(0,m.BQ)({passive:!0});let le=(()=>{class Xe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(dt){this.menu=dt}get menu(){return this._menu}set menu(dt){dt!==this._menu&&(this._menu=dt,this._menuCloseSubscription.unsubscribe(),dt&&(this._menuCloseSubscription=dt.close.subscribe(Ct=>{this._destroyMenu(Ct),("click"===Ct||"tab"===Ct)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Ct)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(dt,Ct,Qt,_n,In,rn,$t,q,Ie){this._overlay=dt,this._element=Ct,this._viewContainerRef=Qt,this._menuItemInstance=rn,this._dir=$t,this._focusMonitor=q,this._ngZone=Ie,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=b.y.EMPTY,this._hoverSubscription=b.y.EMPTY,this._menuCloseSubscription=b.y.EMPTY,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._handleTouchStart=se=>{(0,n.w6)(se)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=_n,this._parentMaterialMenu=In instanceof Ye?In:void 0,Ct.nativeElement.addEventListener("touchstart",this._handleTouchStart,pe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,pe),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const dt=this.menu;if(this._menuOpen||!dt)return;const Ct=this._createOverlay(dt),Qt=Ct.getConfig(),_n=Qt.positionStrategy;this._setPosition(dt,_n),Qt.hasBackdrop=null==dt.hasBackdrop?!this.triggersSubmenu():dt.hasBackdrop,Ct.attach(this._getPortal(dt)),dt.lazyContent&&dt.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(dt),dt instanceof Ye&&(dt._startAnimation(),dt._directDescendantItems.changes.pipe((0,k.Q)(dt.close)).subscribe(()=>{_n.withLockedPosition(!1).reapplyLastPosition(),_n.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(dt,Ct){this._focusMonitor&&dt?this._focusMonitor.focusVia(this._element,dt,Ct):this._element.nativeElement.focus(Ct)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(dt){if(!this._overlayRef||!this.menuOpen)return;const Ct=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===dt||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Ct instanceof Ye?(Ct._resetAnimation(),Ct.lazyContent?Ct._animationDone.pipe((0,y.p)(Qt=>"void"===Qt.toState),(0,x.s)(1),(0,k.Q)(Ct.lazyContent._attached)).subscribe({next:()=>Ct.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Ct?.lazyContent?.detach())}_initMenu(dt){dt.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,dt.direction=this.dir,this._setMenuElevation(dt),dt.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(dt){if(dt.setElevation){let Ct=0,Qt=dt.parentMenu;for(;Qt;)Ct++,Qt=Qt.parentMenu;dt.setElevation(Ct)}}_setIsMenuOpen(dt){dt!==this._menuOpen&&(this._menuOpen=dt,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(dt),this._changeDetectorRef.markForCheck())}_createOverlay(dt){if(!this._overlayRef){const Ct=this._getOverlayConfig(dt);this._subscribeToPositions(dt,Ct.positionStrategy),this._overlayRef=this._overlay.create(Ct),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(dt){return new w.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:dt.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:dt.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(dt,Ct){dt.setPositionClasses&&Ct.positionChanges.subscribe(Qt=>{const _n="start"===Qt.connectionPair.overlayX?"after":"before",In="top"===Qt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>dt.setPositionClasses(_n,In)):dt.setPositionClasses(_n,In)})}_setPosition(dt,Ct){let[Qt,_n]="before"===dt.xPosition?["end","start"]:["start","end"],[In,rn]="above"===dt.yPosition?["bottom","top"]:["top","bottom"],[$t,q]=[In,rn],[Ie,se]=[Qt,_n],fe=0;if(this.triggersSubmenu()){if(se=Qt="before"===dt.xPosition?"start":"end",_n=Ie="end"===Qt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ke=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ke?Ke._getHostElement().offsetTop:0}fe="bottom"===In?this._parentInnerPadding:-this._parentInnerPadding}}else dt.overlapTrigger||($t="top"===In?"bottom":"top",q="top"===rn?"bottom":"top");Ct.withPositions([{originX:Qt,originY:$t,overlayX:Ie,overlayY:In,offsetY:fe},{originX:_n,originY:$t,overlayX:se,overlayY:In,offsetY:fe},{originX:Qt,originY:q,overlayX:Ie,overlayY:rn,offsetY:-fe},{originX:_n,originY:q,overlayX:se,overlayY:rn,offsetY:-fe}])}_menuClosingActions(){const dt=this._overlayRef.backdropClick(),Ct=this._overlayRef.detachments(),Qt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,E.of)(),_n=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,y.p)(In=>In!==this._menuItemInstance),(0,y.p)(()=>this._menuOpen)):(0,E.of)();return(0,g.h)(dt,Qt,_n,Ct)}_handleMousedown(dt){(0,n._G)(dt)||(this._openedBy=0===dt.button?"mouse":void 0,this.triggersSubmenu()&&dt.preventDefault())}_handleKeydown(dt){const Ct=dt.keyCode;(Ct===d.Fm||Ct===d.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Ct===d.LE&&"ltr"===this.dir||Ct===d.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(dt){this.triggersSubmenu()?(dt.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,y.p)(dt=>dt===this._menuItemInstance&&!dt.disabled),(0,M.c)(0,_.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ye&&this.menu._isAnimating?this.menu._animationDone.pipe((0,x.s)(1),(0,M.c)(0,_.$),(0,k.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(dt){return(!this._portal||this._portal.templateRef!==dt.templateRef)&&(this._portal=new P.VA(dt.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(Ct){return new(Ct||Xe)(e.rXU(w.hJ),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(qe),e.rXU($,8),e.rXU(te,10),e.rXU(S.dS,8),e.rXU(n.FN),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:Xe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(Ct,Qt){1&Ct&&e.bIt("click",function(In){return Qt._handleClick(In)})("mousedown",function(In){return Qt._handleMousedown(In)})("keydown",function(In){return Qt._handleKeydown(In)}),2&Ct&&e.BMQ("aria-haspopup",Qt.menu?"menu":null)("aria-expanded",Qt.menuOpen)("aria-controls",Qt.menuOpen?Qt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return Xe})(),Ee=(()=>{class Xe{static#e=this.\u0275fac=function(Ct){return new(Ct||Xe)};static#t=this.\u0275mod=e.$C({type:Xe});static#n=this.\u0275inj=e.G2t({providers:[Me],imports:[B.MD,K.pZ,K.yE,w.z_,v.Gj,K.yE]})}return Xe})()},6695:(Ot,ve,s)=>{"use strict";s.d(ve,{Ou:()=>A,iy:()=>v});var e=s(3953),n=s(5286),d=s(6607),h=s(8834),g=s(2798),b=s(4823),E=s(6600),_=s(3719);function u(L,G){if(1&L&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&L){const O=G.$implicit;e.Y8G("value",O),e.R7$(),e.SpI(" ",O," ")}}function I(L,G){if(1&L){const O=e.RV6();e.j41(0,"mat-form-field",14)(1,"mat-select",16,0),e.bIt("selectionChange",function(U){e.eBV(O);const $=e.XpG(2);return e.Njj($._changePageSize(U.value))}),e.Z7z(3,u,2,2,"mat-option",17,e.fX1),e.k0s(),e.j41(5,"div",18),e.bIt("click",function(){e.eBV(O);const U=e.sdS(2);return e.Njj(U.open())}),e.k0s()()}if(2&L){const O=e.XpG(2);e.Y8G("appearance",O._formFieldAppearance)("color",O.color),e.R7$(),e.Y8G("value",O.pageSize)("disabled",O.disabled)("aria-labelledby",O._pageSizeLabelId)("panelClass",O.selectConfig.panelClass||"")("disableOptionCentering",O.selectConfig.disableOptionCentering),e.R7$(2),e.Dyx(O._displayedPageSizeOptions)}}function k(L,G){if(1&L&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&L){const O=e.XpG(2);e.R7$(),e.JRh(O.pageSize)}}function y(L,G){if(1&L&&(e.j41(0,"div",3)(1,"div",13),e.EFF(2),e.k0s(),e.DNE(3,I,6,7,"mat-form-field",14)(4,k,2,1,"div",15),e.k0s()),2&L){const O=e.XpG();e.R7$(),e.BMQ("id",O._pageSizeLabelId),e.R7$(),e.SpI(" ",O._intl.itemsPerPageLabel," "),e.R7$(),e.vxM(O._displayedPageSizeOptions.length>1?3:-1),e.R7$(),e.vxM(O._displayedPageSizeOptions.length<=1?4:-1)}}function x(L,G){if(1&L){const O=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(O);const U=e.XpG();return e.Njj(U.firstPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",20),e.k0s()()}if(2&L){const O=e.XpG();e.Y8G("matTooltip",O._intl.firstPageLabel)("matTooltipDisabled",O._previousButtonsDisabled())("matTooltipPosition","above")("disabled",O._previousButtonsDisabled()),e.BMQ("aria-label",O._intl.firstPageLabel)}}function M(L,G){if(1&L){const O=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(O);const U=e.XpG();return e.Njj(U.lastPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",22),e.k0s()()}if(2&L){const O=e.XpG();e.Y8G("matTooltip",O._intl.lastPageLabel)("matTooltipDisabled",O._nextButtonsDisabled())("matTooltipPosition","above")("disabled",O._nextButtonsDisabled()),e.BMQ("aria-label",O._intl.lastPageLabel)}}let B=(()=>{class L{constructor(){this.changes=new n.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(O,W,U)=>{if(0==U||0==W)return`0 of ${U}`;const $=O*W;return`${$+1} \u2013 ${$<(U=Math.max(U,0))?Math.min($+W,U):$+W} of ${U}`}}static#e=this.\u0275fac=function(W){return new(W||L)};static#t=this.\u0275prov=e.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();const P={provide:B,deps:[[new e.Xx1,new e.kdw,B]],useFactory:function K(L){return L||new B}},w=new e.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let m=0,v=(()=>{class L{get pageIndex(){return this._pageIndex}set pageIndex(O){this._pageIndex=Math.max(O||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(O){this._length=O||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(O){this._pageSize=Math.max(O||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(O){this._pageSizeOptions=(O||[]).map(W=>(0,e.Udg)(W,0)),this._updateDisplayedPageSizeOptions()}constructor(O,W,U){if(this._intl=O,this._changeDetectorRef=W,this._pageSizeLabelId="mat-paginator-page-size-label-"+m++,this._isInitialized=!1,this._initializedStream=new d.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new e.bkB,this.initialized=this._initializedStream,this._intlChanges=O.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),U){const{pageSize:$,pageSizeOptions:te,hidePageSize:ie,showFirstLastButtons:me}=U;null!=$&&(this._pageSize=$),null!=te&&(this._pageSizeOptions=te),null!=ie&&(this.hidePageSize=ie),null!=me&&(this.showFirstLastButtons=me)}this._formFieldAppearance=U?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const O=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(O)}previousPage(){if(!this.hasPreviousPage())return;const O=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(O)}firstPage(){if(!this.hasPreviousPage())return;const O=this.pageIndex;this.pageIndex=0,this._emitPageEvent(O)}lastPage(){if(!this.hasNextPage())return;const O=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(O)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const O=this.getNumberOfPages()-1;return this.pageIndex<O&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(O){const U=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/O)||0,this.pageSize=O,this._emitPageEvent(U)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((O,W)=>O-W),this._changeDetectorRef.markForCheck())}_emitPageEvent(O){this.page.emit({previousPageIndex:O,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(W){return new(W||L)(e.rXU(B),e.rXU(e.gRc),e.rXU(w,8))};static#t=this.\u0275cmp=e.VBU({type:L,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",e.Udg],length:[2,"length","length",e.Udg],pageSize:[2,"pageSize","pageSize",e.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",e.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",e.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",e.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(W,U){1&W&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,y,5,4,"div",3),e.j41(3,"div",4)(4,"div",5),e.EFF(5),e.k0s(),e.DNE(6,x,3,5,"button",6),e.j41(7,"button",7),e.bIt("click",function(){return U.previousPage()}),e.qSk(),e.j41(8,"svg",8),e.nrm(9,"path",9),e.k0s()(),e.joV(),e.j41(10,"button",10),e.bIt("click",function(){return U.nextPage()}),e.qSk(),e.j41(11,"svg",8),e.nrm(12,"path",11),e.k0s()(),e.DNE(13,M,3,5,"button",12),e.k0s()()()),2&W&&(e.R7$(2),e.vxM(U.hidePageSize?-1:2),e.R7$(3),e.SpI(" ",U._intl.getRangeLabel(U.pageIndex,U.pageSize,U.length)," "),e.R7$(),e.vxM(U.showFirstLastButtons?6:-1),e.R7$(),e.Y8G("matTooltip",U._intl.previousPageLabel)("matTooltipDisabled",U._previousButtonsDisabled())("matTooltipPosition","above")("disabled",U._previousButtonsDisabled()),e.BMQ("aria-label",U._intl.previousPageLabel),e.R7$(3),e.Y8G("matTooltip",U._intl.nextPageLabel)("matTooltipDisabled",U._nextButtonsDisabled())("matTooltipPosition","above")("disabled",U._nextButtonsDisabled()),e.BMQ("aria-label",U._intl.nextPageLabel),e.R7$(3),e.vxM(U.showFirstLastButtons?13:-1))},dependencies:[_.rl,g.VO,E.wT,h.iY,b.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return L})(),A=(()=>{class L{static#e=this.\u0275fac=function(W){return new(W||L)};static#t=this.\u0275mod=e.$C({type:L});static#n=this.\u0275inj=e.G2t({providers:[P],imports:[h.Hl,g.Ve,b.uc,v]})}return L})()},7575:(Ot,ve,s)=>{"use strict";s.d(ve,{HM:()=>_,PO:()=>I});var e=s(3953),d=(s(177),s(6600));function h(k,y){1&k&&e.nrm(0,"div",2)}const g=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let _=(()=>{class k{constructor(x,M,B,K,P){this._elementRef=x,this._ngZone=M,this._changeDetectorRef=B,this._animationMode=K,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new e.bkB,this._mode="determinate",this._transitionendHandler=j=>{0===this.animationEnd.observers.length||!j.target||!j.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===K,P&&(P.color&&(this.color=this._defaultColor=P.color),this.mode=P.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(x){this._color=x}get value(){return this._value}set value(x){this._value=u(x||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(x){this._bufferValue=u(x||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(x){this._mode=x,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(M){return new(M||k)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.bc$,8),e.rXU(g,8))};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(M,B){2&M&&(e.BMQ("aria-valuenow",B._isIndeterminate()?null:B.value)("mode",B.mode),e.HbH("mat-"+B.color),e.AVh("_mat-animation-noopable",B._isNoopAnimation)("mdc-linear-progress--animation-ready",!B._isNoopAnimation)("mdc-linear-progress--indeterminate",B._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",e.Udg],bufferValue:[2,"bufferValue","bufferValue",e.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[e.GFd,e.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(M,B){1&M&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,h,1,0,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"span",4),e.k0s()),2&M&&(e.R7$(),e.xc7("flex-basis",B._getBufferBarFlexBasis()),e.R7$(),e.vxM("buffer"===B.mode?2:-1),e.R7$(),e.xc7("transform",B._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return k})();function u(k,y=0,x=100){return Math.max(y,Math.min(x,k))}let I=(()=>{class k{static#e=this.\u0275fac=function(M){return new(M||k)};static#t=this.\u0275mod=e.$C({type:k});static#n=this.\u0275inj=e.G2t({imports:[d.yE]})}return k})()},9183:(Ot,ve,s)=>{"use strict";s.d(ve,{D6:()=>y,LG:()=>I});var e=s(3953),n=s(177),d=s(6600);const h=["determinateSpinner"];function g(x,M){if(1&x&&(e.qSk(),e.j41(0,"svg",11),e.nrm(1,"circle",12),e.k0s()),2&x){const B=e.XpG();e.BMQ("viewBox",B._viewBox()),e.R7$(),e.xc7("stroke-dasharray",B._strokeCircumference(),"px")("stroke-dashoffset",B._strokeCircumference()/2,"px")("stroke-width",B._circleStrokeWidth(),"%"),e.BMQ("r",B._circleRadius())}}const b=new e.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function E(){return{diameter:_}}}),_=100;let I=(()=>{class x{get color(){return this._color||this._defaultColor}set color(B){this._color=B}constructor(B,K,P){this._elementRef=B,this._defaultColor="primary",this._value=0,this._diameter=_,this._noopAnimations="NoopAnimations"===K&&!!P&&!P._forceAnimations,this.mode="mat-spinner"===B.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",P&&(P.color&&(this.color=this._defaultColor=P.color),P.diameter&&(this.diameter=P.diameter),P.strokeWidth&&(this.strokeWidth=P.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(B){this._value=Math.max(0,Math.min(100,B||0))}get diameter(){return this._diameter}set diameter(B){this._diameter=B||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(B){this._strokeWidth=B||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const B=2*this._circleRadius()+this.strokeWidth;return`0 0 ${B} ${B}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(K){return new(K||x)(e.rXU(e.aKT),e.rXU(e.bc$,8),e.rXU(b))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(K,P){if(1&K&&e.GBs(h,5),2&K){let j;e.mGM(j=e.lsd())&&(P._determinateCircle=j.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(K,P){2&K&&(e.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===P.mode?P.value:null)("mode",P.mode),e.HbH("mat-"+P.color),e.xc7("width",P.diameter,"px")("height",P.diameter,"px")("--mdc-circular-progress-size",P.diameter+"px")("--mdc-circular-progress-active-indicator-width",P.diameter+"px"),e.AVh("_mat-animation-noopable",P._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===P.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",e.Udg],diameter:[2,"diameter","diameter",e.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",e.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(K,P){if(1&K&&(e.DNE(0,g,2,8,"ng-template",null,0,e.C5r),e.j41(2,"div",2,1),e.qSk(),e.j41(4,"svg",3),e.nrm(5,"circle",4),e.k0s()(),e.joV(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.eu8(9,8),e.k0s(),e.j41(10,"div",9),e.eu8(11,8),e.k0s(),e.j41(12,"div",10),e.eu8(13,8),e.k0s()()()),2&K){const j=e.sdS(1);e.R7$(4),e.BMQ("viewBox",P._viewBox()),e.R7$(),e.xc7("stroke-dasharray",P._strokeCircumference(),"px")("stroke-dashoffset",P._strokeDashOffset(),"px")("stroke-width",P._circleStrokeWidth(),"%"),e.BMQ("r",P._circleRadius()),e.R7$(4),e.Y8G("ngTemplateOutlet",j),e.R7$(2),e.Y8G("ngTemplateOutlet",j),e.R7$(2),e.Y8G("ngTemplateOutlet",j)}},dependencies:[n.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return x})(),y=(()=>{class x{static#e=this.\u0275fac=function(K){return new(K||x)};static#t=this.\u0275mod=e.$C({type:x});static#n=this.\u0275inj=e.G2t({imports:[n.MD,d.yE]})}return x})()},5951:(Ot,ve,s)=>{"use strict";s.d(ve,{VT:()=>K,Wk:()=>j,_g:()=>P});var e=s(9888),n=s(5024),d=s(3953),h=s(9417),g=s(6600),b=s(177);const E=["input"],_=["formField"],u=["*"];let I=0;class k{constructor(w,m){this.source=w,this.value=m}}const y={provide:h.kq,useExisting:(0,d.Rfq)(()=>K),multi:!0},x=new d.nKC("MatRadioGroup"),M=new d.nKC("mat-radio-default-options",{providedIn:"root",factory:function B(){return{color:"accent",disabledInteractive:!1}}});let K=(()=>{class S{get name(){return this._name}set name(m){this._name=m,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(m){this._labelPosition="before"===m?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(m){this._value!==m&&(this._value=m,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(m){this._selected=m,this.value=m?m.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(m){this._disabled=m,this._markRadiosForCheck()}get required(){return this._required}set required(m){this._required=m,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(m){this._disabledInteractive=m,this._markRadiosForCheck()}constructor(m){this._changeDetector=m,this._value=null,this._name="mat-radio-group-"+I++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new d.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(m=>m===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(m=>{m.name=this.name,m._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(v=>{v.checked=this.value===v.value,v.checked&&(this._selected=v)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new k(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(m=>m._markForCheck())}writeValue(m){this.value=m,this._changeDetector.markForCheck()}registerOnChange(m){this._controlValueAccessorChangeFn=m}registerOnTouched(m){this.onTouched=m}setDisabledState(m){this.disabled=m,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(v){return new(v||S)(d.rXU(d.gRc))};static#t=this.\u0275dir=d.FsC({type:S,selectors:[["mat-radio-group"]],contentQueries:function(v,A,L){if(1&v&&d.wni(L,P,5),2&v){let G;d.mGM(G=d.lsd())&&(A._radios=G)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",d.L39],required:[2,"required","required",d.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",d.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[d.Jv_([y,{provide:x,useExisting:S}]),d.GFd]})}return S})(),P=(()=>{class S{get checked(){return this._checked}set checked(m){this._checked!==m&&(this._checked=m,m&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!m&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),m&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(m){this._value!==m&&(this._value=m,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===m),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(m){this._labelPosition=m}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(m){this._setDisabled(m)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(m){this._required=m}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(m){this._color=m}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(m){this._disabledInteractive=m}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(m,v,A,L,G,O,W,U){this._elementRef=v,this._changeDetector=A,this._focusMonitor=L,this._radioDispatcher=G,this._defaultOptions=W,this._ngZone=(0,d.WQX)(d.SKi),this._uniqueId="mat-radio-"+ ++I,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new d.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,d.WQX)(d.zZn),this._onInputClick=$=>{this.disabled&&this.disabledInteractive&&$.preventDefault()},this.radioGroup=m,this._noopAnimations="NoopAnimations"===O,this._disabledInteractive=W?.disabledInteractive??!1,U&&(this.tabIndex=(0,d.Udg)(U,0))}focus(m,v){v?this._focusMonitor.focusVia(this._inputElement,v,m):this._inputElement.nativeElement.focus(m)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((m,v)=>{m!==this.id&&v===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(m=>{!m&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new k(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(m){if(m.stopPropagation(),!this.checked&&!this.disabled){const v=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),v&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(m){this._onInputInteraction(m),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(m){this._disabled!==m&&(this._disabled=m,this._changeDetector.markForCheck())}_updateTabIndex(){const m=this.radioGroup;let v;if(v=m&&m.selected&&!this.disabled?m.selected===this?this.tabIndex:-1:this.tabIndex,v!==this._previousTabIndex){const A=this._inputElement?.nativeElement;A&&(A.setAttribute("tabindex",v+""),this._previousTabIndex=v,(0,d.mal)(()=>{queueMicrotask(()=>{m&&m.selected&&m.selected!==this&&document.activeElement===A&&(m.selected?._inputElement.nativeElement.focus(),document.activeElement===A&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(v){return new(v||S)(d.rXU(x,8),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(e.FN),d.rXU(n.zP),d.rXU(d.bc$,8),d.rXU(M,8),d.kS0("tabindex"))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["mat-radio-button"]],viewQuery:function(v,A){if(1&v&&(d.GBs(E,5),d.GBs(_,7,d.aKT)),2&v){let L;d.mGM(L=d.lsd())&&(A._inputElement=L.first),d.mGM(L=d.lsd())&&(A._rippleTrigger=L.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(v,A){1&v&&d.bIt("focus",function(){return A._inputElement.nativeElement.focus()}),2&v&&(d.BMQ("id",A.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),d.AVh("mat-primary","primary"===A.color)("mat-accent","accent"===A.color)("mat-warn","warn"===A.color)("mat-mdc-radio-checked",A.checked)("mat-mdc-radio-disabled",A.disabled)("mat-mdc-radio-disabled-interactive",A.disabledInteractive)("_mat-animation-noopable",A._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",m=>null==m?0:(0,d.Udg)(m)],checked:[2,"checked","checked",d.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",d.L39],required:[2,"required","required",d.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",d.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:u,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(v,A){if(1&v){const L=d.RV6();d.NAR(),d.j41(0,"div",2,0)(2,"div",3)(3,"div",4),d.bIt("click",function(O){return d.eBV(L),d.Njj(A._onTouchTargetClick(O))}),d.k0s(),d.j41(4,"input",5,1),d.bIt("change",function(O){return d.eBV(L),d.Njj(A._onInputInteraction(O))}),d.k0s(),d.j41(6,"div",6),d.nrm(7,"div",7)(8,"div",8),d.k0s(),d.j41(9,"div",9),d.nrm(10,"div",10),d.k0s()(),d.j41(11,"label",11),d.SdG(12),d.k0s()()}2&v&&(d.Y8G("labelPosition",A.labelPosition),d.R7$(2),d.AVh("mdc-radio--disabled",A.disabled),d.R7$(2),d.Y8G("id",A.inputId)("checked",A.checked)("disabled",A.disabled&&!A.disabledInteractive)("required",A.required),d.BMQ("name",A.name)("value",A.value)("aria-label",A.ariaLabel)("aria-labelledby",A.ariaLabelledby)("aria-describedby",A.ariaDescribedby)("aria-disabled",A.disabled&&A.disabledInteractive?"true":null),d.R7$(5),d.Y8G("matRippleTrigger",A._rippleTrigger.nativeElement)("matRippleDisabled",A._isRippleDisabled())("matRippleCentered",!0),d.R7$(2),d.Y8G("for",A.inputId))},dependencies:[g.r6,g.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return S})(),j=(()=>{class S{static#e=this.\u0275fac=function(v){return new(v||S)};static#t=this.\u0275mod=d.$C({type:S});static#n=this.\u0275inj=d.G2t({imports:[g.yE,b.MD,g.pZ,P,g.yE]})}return S})()},2798:(Ot,ve,s)=>{"use strict";s.d(ve,{VO:()=>qe,Ve:()=>Me});var e=s(7987),n=s(177),d=s(3953),h=s(6600),g=s(3719),b=s(494),E=s(9888),_=s(8203),u=s(5024),I=s(7336),k=s(9417),y=s(5286),x=s(9418),M=s(4670),B=s(3176),K=s(9090),P=s(8728),j=s(5006),S=s(522),w=s(7605),m=s(9493),v=s(9969);const A=["trigger"],L=["panel"],G=[[["mat-select-trigger"]],"*"],O=["mat-select-trigger","*"];function W(pe,he){if(1&pe&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&pe){const le=d.XpG();d.R7$(),d.JRh(le.placeholder)}}function U(pe,he){1&pe&&d.SdG(0)}function $(pe,he){if(1&pe&&(d.j41(0,"span",11),d.EFF(1),d.k0s()),2&pe){const le=d.XpG(2);d.R7$(),d.JRh(le.triggerValue)}}function te(pe,he){if(1&pe&&(d.j41(0,"span",5),d.DNE(1,U,1,0)(2,$,2,1,"span",11),d.k0s()),2&pe){const le=d.XpG();d.R7$(),d.vxM(le.customTrigger?1:2)}}function ie(pe,he){if(1&pe){const le=d.RV6();d.j41(0,"div",12,1),d.bIt("@transformPanel.done",function(Xe){d.eBV(le);const xt=d.XpG();return d.Njj(xt._panelDoneAnimatingStream.next(Xe.toState))})("keydown",function(Xe){d.eBV(le);const xt=d.XpG();return d.Njj(xt._handleKeydown(Xe))}),d.SdG(2,1),d.k0s()}if(2&pe){const le=d.XpG();d.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",le._getPanelTheme(),""),d.Y8G("ngClass",le.panelClass)("@transformPanel","showing"),d.BMQ("id",le.id+"-panel")("aria-multiselectable",le.multiple)("aria-label",le.ariaLabel||null)("aria-labelledby",le._getPanelAriaLabelledby())}}const me={transformPanelWrap:(0,v.hZ)("transformPanelWrap",[(0,v.kY)("* => void",(0,v.P)("@transformPanel",[(0,v.MA)()],{optional:!0}))]),transformPanel:(0,v.hZ)("transformPanel",[(0,v.wk)("void",(0,v.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,v.kY)("void => showing",(0,v.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,v.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,v.kY)("* => void",(0,v.i0)("100ms linear",(0,v.iF)({opacity:0})))])};let J=0;const ae=new d.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const pe=(0,d.WQX)(e.hJ);return()=>pe.scrollStrategies.reposition()}}),xe=new d.nKC("MAT_SELECT_CONFIG"),Fe={provide:ae,deps:[e.hJ],useFactory:function _e(pe){return()=>pe.scrollStrategies.reposition()}},Ae=new d.nKC("MatSelectTrigger");class Ye{constructor(he,le){this.source=he,this.value=le}}let qe=(()=>{class pe{_scrollOptionIntoView(le){const Ee=this.options.toArray()[le];if(Ee){const Xe=this.panel.nativeElement,xt=(0,h.jb)(le,this.options,this.optionGroups),dt=Ee._getHostElement();Xe.scrollTop=0===le&&1===xt?0:(0,h.TL)(dt.offsetTop,dt.offsetHeight,Xe.scrollTop,Xe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(le){return new Ye(this,le)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(le){this._hideSingleSelectionIndicator=le,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(le){this._placeholder=le,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(k.k0.required)??!1}set required(le){this._required=le,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(le){this._multiple=le}get compareWith(){return this._compareWith}set compareWith(le){this._compareWith=le,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(le){this._assignValue(le)&&this._onChange(le)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(le){this._errorStateTracker.matcher=le}get id(){return this._id}set id(le){this._id=le||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(le){this._errorStateTracker.errorState=le}constructor(le,Ee,Xe,xt,dt,Ct,Qt,_n,In,rn,$t,q,Ie,se){this._viewportRuler=le,this._changeDetectorRef=Ee,this._elementRef=dt,this._dir=Ct,this._parentFormField=In,this.ngControl=rn,this._liveAnnouncer=Ie,this._defaultOptions=se,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(fe,Ke)=>fe===Ke,this._uid="mat-select-"+J++,this._triggerAriaLabelledBy=null,this._destroy=new y.B7,this.stateChanges=new y.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+J++,this._panelDoneAnimatingStream=new y.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new y.B7,this.optionSelectionChanges=(0,x.v)(()=>{const fe=this.options;return fe?fe.changes.pipe((0,B.Z)(fe),(0,K.n)(()=>(0,M.h)(...fe.map(Ke=>Ke.onSelectionChange)))):this._initialized.pipe((0,K.n)(()=>this.optionSelectionChanges))}),this.openedChange=new d.bkB,this._openedStream=this.openedChange.pipe((0,P.p)(fe=>fe),(0,j.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,P.p)(fe=>!fe),(0,j.T)(()=>{})),this.selectionChange=new d.bkB,this.valueChange=new d.bkB,this._trackedModal=null,this._skipPredicate=fe=>!this.panelOpen&&fe.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=se?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=se.typeaheadDebounceInterval),this._errorStateTracker=new h.X0(xt,rn,_n,Qt,this.stateChanges),this._scrollStrategyFactory=q,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt($t)||0,this.id=this.id}ngOnInit(){this._selectionModel=new u.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,S.F)(),(0,w.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,w.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,w.Q)(this._destroy)).subscribe(le=>{le.added.forEach(Ee=>Ee.select()),le.removed.forEach(Ee=>Ee.deselect())}),this.options.changes.pipe((0,B.Z)(null),(0,w.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const le=this._getTriggerAriaLabelledby(),Ee=this.ngControl;if(le!==this._triggerAriaLabelledBy){const Xe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=le,le?Xe.setAttribute("aria-labelledby",le):Xe.removeAttribute("aria-labelledby")}Ee&&(this._previousControl!==Ee.control&&(void 0!==this._previousControl&&null!==Ee.disabled&&Ee.disabled!==this.disabled&&(this.disabled=Ee.disabled),this._previousControl=Ee.control),this.updateErrorState())}ngOnChanges(le){(le.disabled||le.userAriaDescribedBy)&&this.stateChanges.next(),le.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const le=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!le)return;const Ee=`${this.id}-panel`;this._trackedModal&&(0,E.Ae)(this._trackedModal,"aria-owns",Ee),(0,E.px)(le,"aria-owns",Ee),this._trackedModal=le}_clearFromModal(){this._trackedModal&&((0,E.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(le){this._assignValue(le)}registerOnChange(le){this._onChange=le}registerOnTouched(le){this._onTouched=le}setDisabledState(le){this.disabled=le,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const le=this._selectionModel.selected.map(Ee=>Ee.viewValue);return this._isRtl()&&le.reverse(),le.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(le){this.disabled||(this.panelOpen?this._handleOpenKeydown(le):this._handleClosedKeydown(le))}_handleClosedKeydown(le){const Ee=le.keyCode,Xe=Ee===I.n6||Ee===I.i7||Ee===I.UQ||Ee===I.LE,xt=Ee===I.Fm||Ee===I.t6,dt=this._keyManager;if(!dt.isTyping()&&xt&&!(0,I.rp)(le)||(this.multiple||le.altKey)&&Xe)le.preventDefault(),this.open();else if(!this.multiple){const Ct=this.selected;dt.onKeydown(le);const Qt=this.selected;Qt&&Ct!==Qt&&this._liveAnnouncer.announce(Qt.viewValue,1e4)}}_handleOpenKeydown(le){const Ee=this._keyManager,Xe=le.keyCode,xt=Xe===I.n6||Xe===I.i7,dt=Ee.isTyping();if(xt&&le.altKey)le.preventDefault(),this.close();else if(dt||Xe!==I.Fm&&Xe!==I.t6||!Ee.activeItem||(0,I.rp)(le))if(!dt&&this._multiple&&Xe===I.A&&le.ctrlKey){le.preventDefault();const Ct=this.options.some(Qt=>!Qt.disabled&&!Qt.selected);this.options.forEach(Qt=>{Qt.disabled||(Ct?Qt.select():Qt.deselect())})}else{const Ct=Ee.activeItemIndex;Ee.onKeydown(le),this._multiple&&xt&&le.shiftKey&&Ee.activeItem&&Ee.activeItemIndex!==Ct&&Ee.activeItem._selectViaInteraction()}else le.preventDefault(),Ee.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,m.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(le){if(this.options.forEach(Ee=>Ee.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&le)Array.isArray(le),le.forEach(Ee=>this._selectOptionByValue(Ee)),this._sortValues();else{const Ee=this._selectOptionByValue(le);Ee?this._keyManager.updateActiveItem(Ee):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(le){const Ee=this.options.find(Xe=>{if(this._selectionModel.isSelected(Xe))return!1;try{return null!=Xe.value&&this._compareWith(Xe.value,le)}catch{return!1}});return Ee&&this._selectionModel.select(Ee),Ee}_assignValue(le){return!!(le!==this._value||this._multiple&&Array.isArray(le))&&(this.options&&this._setSelectionByValue(le),this._value=le,!0)}_getOverlayWidth(le){return"auto"===this.panelWidth?(le instanceof e.$Q?le.elementRef:le||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const le of this.options)le._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new E.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const le=(0,M.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,w.Q)(le)).subscribe(Ee=>{this._onSelect(Ee.source,Ee.isUserInput),Ee.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,M.h)(...this.options.map(Ee=>Ee._stateChanges)).pipe((0,w.Q)(le)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(le,Ee){const Xe=this._selectionModel.isSelected(le);null!=le.value||this._multiple?(Xe!==le.selected&&(le.selected?this._selectionModel.select(le):this._selectionModel.deselect(le)),Ee&&this._keyManager.setActiveItem(le),this.multiple&&(this._sortValues(),Ee&&this.focus())):(le.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(le.value)),Xe!==this._selectionModel.isSelected(le)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const le=this.options.toArray();this._selectionModel.sort((Ee,Xe)=>this.sortComparator?this.sortComparator(Ee,Xe,le):le.indexOf(Ee)-le.indexOf(Xe)),this.stateChanges.next()}}_propagateChanges(le){let Ee;Ee=this.multiple?this.selected.map(Xe=>Xe.value):this.selected?this.selected.value:le,this._value=Ee,this.valueChange.emit(Ee),this._onChange(Ee),this.selectionChange.emit(this._getChangeEvent(Ee)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let le=-1;for(let Ee=0;Ee<this.options.length;Ee++)if(!this.options.get(Ee).disabled){le=Ee;break}this._keyManager.setActiveItem(le)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(le){this._elementRef.nativeElement.focus(le)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const le=this._parentFormField?.getLabelId();return this.ariaLabelledby?(le?le+" ":"")+this.ariaLabelledby:le}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const le=this._parentFormField?.getLabelId();let Ee=(le?le+" ":"")+this._valueId;return this.ariaLabelledby&&(Ee+=" "+this.ariaLabelledby),Ee}_panelDoneAnimating(le){this.openedChange.emit(le)}setDescribedByIds(le){le.length?this._elementRef.nativeElement.setAttribute("aria-describedby",le.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ee){return new(Ee||pe)(d.rXU(b.Xj),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(h.es),d.rXU(d.aKT),d.rXU(_.dS,8),d.rXU(k.cV,8),d.rXU(k.j4,8),d.rXU(g.xb,8),d.rXU(k.vO,10),d.kS0("tabindex"),d.rXU(ae),d.rXU(E.Ai),d.rXU(xe,8))};static#t=this.\u0275cmp=d.VBU({type:pe,selectors:[["mat-select"]],contentQueries:function(Ee,Xe,xt){if(1&Ee&&(d.wni(xt,Ae,5),d.wni(xt,h.wT,5),d.wni(xt,h.QC,5)),2&Ee){let dt;d.mGM(dt=d.lsd())&&(Xe.customTrigger=dt.first),d.mGM(dt=d.lsd())&&(Xe.options=dt),d.mGM(dt=d.lsd())&&(Xe.optionGroups=dt)}},viewQuery:function(Ee,Xe){if(1&Ee&&(d.GBs(A,5),d.GBs(L,5),d.GBs(e.WB,5)),2&Ee){let xt;d.mGM(xt=d.lsd())&&(Xe.trigger=xt.first),d.mGM(xt=d.lsd())&&(Xe.panel=xt.first),d.mGM(xt=d.lsd())&&(Xe._overlayDir=xt.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ee,Xe){1&Ee&&d.bIt("keydown",function(dt){return Xe._handleKeydown(dt)})("focus",function(){return Xe._onFocus()})("blur",function(){return Xe._onBlur()}),2&Ee&&(d.BMQ("id",Xe.id)("tabindex",Xe.disabled?-1:Xe.tabIndex)("aria-controls",Xe.panelOpen?Xe.id+"-panel":null)("aria-expanded",Xe.panelOpen)("aria-label",Xe.ariaLabel||null)("aria-required",Xe.required.toString())("aria-disabled",Xe.disabled.toString())("aria-invalid",Xe.errorState)("aria-activedescendant",Xe._getAriaActiveDescendant()),d.AVh("mat-mdc-select-disabled",Xe.disabled)("mat-mdc-select-invalid",Xe.errorState)("mat-mdc-select-required",Xe.required)("mat-mdc-select-empty",Xe.empty)("mat-mdc-select-multiple",Xe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",le=>null==le?0:(0,d.Udg)(le)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",d.L39],placeholder:"placeholder",required:[2,"required","required",d.L39],multiple:[2,"multiple","multiple",d.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",d.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",d.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[d.Jv_([{provide:g.qT,useExisting:pe},{provide:h.is,useExisting:pe}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:O,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ee,Xe){if(1&Ee){const xt=d.RV6();d.NAR(G),d.j41(0,"div",2,0),d.bIt("click",function(){return d.eBV(xt),d.Njj(Xe.open())}),d.j41(3,"div",3),d.DNE(4,W,2,1,"span",4)(5,te,3,1,"span",5),d.k0s(),d.j41(6,"div",6)(7,"div",7),d.qSk(),d.j41(8,"svg",8),d.nrm(9,"path",9),d.k0s()()()(),d.DNE(10,ie,3,9,"ng-template",10),d.bIt("backdropClick",function(){return d.eBV(xt),d.Njj(Xe.close())})("attach",function(){return d.eBV(xt),d.Njj(Xe._onAttached())})("detach",function(){return d.eBV(xt),d.Njj(Xe.close())})}if(2&Ee){const xt=d.sdS(1);d.R7$(3),d.BMQ("id",Xe._valueId),d.R7$(),d.vxM(Xe.empty?4:5),d.R7$(6),d.Y8G("cdkConnectedOverlayPanelClass",Xe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Xe._scrollStrategy)("cdkConnectedOverlayOrigin",Xe._preferredOverlayOrigin||xt)("cdkConnectedOverlayOpen",Xe.panelOpen)("cdkConnectedOverlayPositions",Xe._positions)("cdkConnectedOverlayWidth",Xe._overlayWidth)}},dependencies:[e.$Q,e.WB,n.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[me.transformPanel]},changeDetection:0})}return pe})(),Me=(()=>{class pe{static#e=this.\u0275fac=function(Ee){return new(Ee||pe)};static#t=this.\u0275mod=d.$C({type:pe});static#n=this.\u0275inj=d.G2t({providers:[Fe],imports:[n.MD,e.z_,h.Sy,h.yE,b.Gj,g.RG,h.Sy,h.yE]})}return pe})()},450:(Ot,ve,s)=>{"use strict";s.d(ve,{mV:()=>K,sG:()=>y});var e=s(3953),n=s(9417),d=s(9888),h=s(6600);const g=["switch"],b=["*"];function E(P,j){1&P&&(e.j41(0,"span",10),e.qSk(),e.j41(1,"svg",12),e.nrm(2,"path",13),e.k0s(),e.j41(3,"svg",14),e.nrm(4,"path",15),e.k0s()())}const _=new e.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),u={provide:n.kq,useExisting:(0,e.Rfq)(()=>y),multi:!0};class I{constructor(j,S){this.source=j,this.checked=S}}let k=0,y=(()=>{class P{_createChangeEvent(S){return new I(this,S)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(S){this._checked=S,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(S,w,m,v,A,L){this._elementRef=S,this._focusMonitor=w,this._changeDetectorRef=m,this.defaults=A,this._onChange=G=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new e.bkB,this.toggleChange=new e.bkB,this.tabIndex=parseInt(v)||0,this.color=A.color||"accent",this._noopAnimations="NoopAnimations"===L,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++k,this.hideIcon=A.hideIcon??!1,this.disabledInteractive=A.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(S=>{"keyboard"===S||"program"===S?(this._focused=!0,this._changeDetectorRef.markForCheck()):S||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(S){S.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(S){this.checked=!!S}registerOnChange(S){this._onChange=S}registerOnTouched(S){this._onTouched=S}validate(S){return this.required&&!0!==S.value?{required:!0}:null}registerOnValidatorChange(S){this._validatorOnChange=S}setDisabledState(S){this.disabled=S,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new I(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(w){return new(w||P)(e.rXU(e.aKT),e.rXU(d.FN),e.rXU(e.gRc),e.kS0("tabindex"),e.rXU(_),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["mat-slide-toggle"]],viewQuery:function(w,m){if(1&w&&e.GBs(g,5),2&w){let v;e.mGM(v=e.lsd())&&(m._switchElement=v.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(w,m){2&w&&(e.Mr5("id",m.id),e.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.HbH(m.color?"mat-"+m.color:""),e.AVh("mat-mdc-slide-toggle-focused",m._focused)("mat-mdc-slide-toggle-checked",m.checked)("_mat-animation-noopable",m._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",e.L39],color:"color",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",S=>null==S?0:(0,e.Udg)(S)],checked:[2,"checked","checked",e.L39],hideIcon:[2,"hideIcon","hideIcon",e.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",e.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[e.Jv_([u,{provide:n.cz,useExisting:P,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:b,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(w,m){if(1&w){const v=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"button",2,0),e.bIt("click",function(){return e.eBV(v),e.Njj(m._handleClick())}),e.nrm(3,"span",3),e.j41(4,"span",4)(5,"span",5)(6,"span",6),e.nrm(7,"span",7),e.k0s(),e.j41(8,"span",8),e.nrm(9,"span",9),e.k0s(),e.DNE(10,E,5,0,"span",10),e.k0s()()(),e.j41(11,"label",11),e.bIt("click",function(L){return e.eBV(v),e.Njj(L.stopPropagation())}),e.SdG(12),e.k0s()()}if(2&w){const v=e.sdS(2);e.Y8G("labelPosition",m.labelPosition),e.R7$(),e.AVh("mdc-switch--selected",m.checked)("mdc-switch--unselected",!m.checked)("mdc-switch--checked",m.checked)("mdc-switch--disabled",m.disabled)("mat-mdc-slide-toggle-disabled-interactive",m.disabledInteractive),e.Y8G("tabIndex",m.disabled&&!m.disabledInteractive?-1:m.tabIndex)("disabled",m.disabled&&!m.disabledInteractive),e.BMQ("id",m.buttonId)("name",m.name)("aria-label",m.ariaLabel)("aria-labelledby",m._getAriaLabelledBy())("aria-describedby",m.ariaDescribedby)("aria-required",m.required||null)("aria-checked",m.checked)("aria-disabled",m.disabled&&m.disabledInteractive?"true":null),e.R7$(8),e.Y8G("matRippleTrigger",v)("matRippleDisabled",m.disableRipple||m.disabled)("matRippleCentered",!0),e.R7$(),e.vxM(m.hideIcon?-1:10),e.R7$(),e.Y8G("for",m.buttonId),e.BMQ("id",m._labelId)}},dependencies:[h.r6,h.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return P})(),K=(()=>{class P{static#e=this.\u0275fac=function(w){return new(w||P)};static#t=this.\u0275mod=e.$C({type:P});static#n=this.\u0275inj=e.G2t({imports:[y,h.yE,h.yE]})}return P})()},3881:(Ot,ve,s)=>{"use strict";s.d(ve,{Ez:()=>ie,IV:()=>L,OU:()=>$});var e=s(8203),n=s(6860),d=s(3953),h=s(6600),g=s(9417),b=s(5286);const E=["knob"],_=["valueIndicatorContainer"];function u(me,Y){if(1&me&&(d.j41(0,"div",2,1)(2,"div",5)(3,"span",6),d.EFF(4),d.k0s()()()),2&me){const F=d.XpG();d.R7$(4),d.JRh(F.valueIndicatorText)}}const I=["trackActive"],k=["*"];function y(me,Y){if(1&me&&d.nrm(0,"div"),2&me){const F=Y.$implicit,N=Y.$index,J=d.XpG(3);d.HbH(0===F?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),d.xc7("transform",J._calcTickMarkTransform(N))}}function x(me,Y){if(1&me&&d.Z7z(0,y,1,4,"div",8,d.Vm6),2&me){const F=d.XpG(2);d.Dyx(F._tickMarks)}}function M(me,Y){if(1&me&&(d.j41(0,"div",6,1),d.DNE(2,x,2,0),d.k0s()),2&me){const F=d.XpG();d.R7$(2),d.vxM(F._cachedWidth?2:-1)}}function B(me,Y){if(1&me&&d.nrm(0,"mat-slider-visual-thumb",7),2&me){const F=d.XpG();d.Y8G("discrete",F.discrete)("thumbPosition",1)("valueIndicatorText",F.startValueIndicatorText)}}var K=function(me){return me[me.START=1]="START",me[me.END=2]="END",me}(K||{}),P=function(me){return me[me.ACTIVE=0]="ACTIVE",me[me.INACTIVE=1]="INACTIVE",me}(P||{});const j=new d.nKC("_MatSlider"),S=new d.nKC("_MatSliderThumb"),w=new d.nKC("_MatSliderRangeThumb"),m=new d.nKC("_MatSliderVisualThumb");let A=(()=>{class me{constructor(F,N,J,ae){this._cdr=F,this._ngZone=N,this._slider=ae,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,d.WQX)(n.OD),this._onPointerMove=_e=>{if(this._sliderInput._isFocused)return;const xe=this._hostElement.getBoundingClientRect(),Fe=this._slider._isCursorOnSliderThumb(_e,xe);this._isHovered=Fe,Fe?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=_e=>{0===_e.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=J.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const F=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{F.addEventListener("pointermove",this._onPointerMove),F.addEventListener("pointerdown",this._onDragStart),F.addEventListener("pointerup",this._onDragEnd),F.addEventListener("pointerleave",this._onMouseLeave),F.addEventListener("focus",this._onFocus),F.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const F=this._sliderInputEl;F&&(F.removeEventListener("pointermove",this._onPointerMove),F.removeEventListener("pointerdown",this._onDragStart),F.removeEventListener("pointerup",this._onDragEnd),F.removeEventListener("pointerleave",this._onMouseLeave),F.removeEventListener("focus",this._onFocus),F.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(F){return F?.state===h.Ex.FADING_IN||F?.state===h.Ex.VISIBLE}_showRipple(F,N){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||N))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:F,centered:!0,persistent:!0})}_hideRipple(F){if(F?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const N=this._getSibling();N._isShowingAnyRipple()||(this._hideValueIndicator(),N._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(N){return new(N||me)(d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(j))};static#t=this.\u0275cmp=d.VBU({type:me,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(N,J){if(1&N&&(d.GBs(h.r6,5),d.GBs(E,5),d.GBs(_,5)),2&N){let ae;d.mGM(ae=d.lsd())&&(J._ripple=ae.first),d.mGM(ae=d.lsd())&&(J._knob=ae.first),d.mGM(ae=d.lsd())&&(J._valueIndicatorContainer=ae.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[d.Jv_([{provide:m,useExisting:me}]),d.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(N,J){1&N&&(d.DNE(0,u,5,1,"div",2),d.nrm(1,"div",3,0)(3,"div",4)),2&N&&(d.vxM(J.discrete?0:-1),d.R7$(3),d.Y8G("matRippleDisabled",!0))},dependencies:[h.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return me})(),L=(()=>{class me{get disabled(){return this._disabled}set disabled(F){this._disabled=F;const N=this._getInput(K.END),J=this._getInput(K.START);N&&(N.disabled=this._disabled),J&&(J.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(F){this._discrete=F,this._updateValueIndicatorUIs()}get min(){return this._min}set min(F){const N=isNaN(F)?this._min:F;this._min!==N&&this._updateMin(N)}_updateMin(F){const N=this._min;this._min=F,this._isRange?this._updateMinRange({old:N,new:F}):this._updateMinNonRange(F),this._onMinMaxOrStepChange()}_updateMinRange(F){const N=this._getInput(K.END),J=this._getInput(K.START),ae=N.value,_e=J.value;J.min=F.new,N.min=Math.max(F.new,J.value),J.max=Math.min(N.max,N.value),J._updateWidthInactive(),N._updateWidthInactive(),F.new<F.old?this._onTranslateXChangeBySideEffect(N,J):this._onTranslateXChangeBySideEffect(J,N),ae!==N.value&&this._onValueChange(N),_e!==J.value&&this._onValueChange(J)}_updateMinNonRange(F){const N=this._getInput(K.END);if(N){const J=N.value;N.min=F,N._updateThumbUIByValue(),this._updateTrackUI(N),J!==N.value&&this._onValueChange(N)}}get max(){return this._max}set max(F){const N=isNaN(F)?this._max:F;this._max!==N&&this._updateMax(N)}_updateMax(F){const N=this._max;this._max=F,this._isRange?this._updateMaxRange({old:N,new:F}):this._updateMaxNonRange(F),this._onMinMaxOrStepChange()}_updateMaxRange(F){const N=this._getInput(K.END),J=this._getInput(K.START),ae=N.value,_e=J.value;N.max=F.new,J.max=Math.min(F.new,N.value),N.min=J.value,N._updateWidthInactive(),J._updateWidthInactive(),F.new>F.old?this._onTranslateXChangeBySideEffect(J,N):this._onTranslateXChangeBySideEffect(N,J),ae!==N.value&&this._onValueChange(N),_e!==J.value&&this._onValueChange(J)}_updateMaxNonRange(F){const N=this._getInput(K.END);if(N){const J=N.value;N.max=F,N._updateThumbUIByValue(),this._updateTrackUI(N),J!==N.value&&this._onValueChange(N)}}get step(){return this._step}set step(F){const N=isNaN(F)?this._step:F;this._step!==N&&this._updateStep(N)}_updateStep(F){this._step=F,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const F=this._getInput(K.END),N=this._getInput(K.START),J=F.value,ae=N.value,_e=N.value;F.min=this._min,N.max=this._max,F.step=this._step,N.step=this._step,this._platform.SAFARI&&(F.value=F.value,N.value=N.value),F.min=Math.max(this._min,N.value),N.max=Math.min(this._max,F.value),N._updateWidthInactive(),F._updateWidthInactive(),F.value<_e?this._onTranslateXChangeBySideEffect(N,F):this._onTranslateXChangeBySideEffect(F,N),J!==F.value&&this._onValueChange(F),ae!==N.value&&this._onValueChange(N)}_updateStepNonRange(){const F=this._getInput(K.END);if(F){const N=F.value;F.step=this._step,this._platform.SAFARI&&(F.value=F.value),F._updateThumbUIByValue(),N!==F.value&&this._onValueChange(F)}}constructor(F,N,J,ae,_e,xe){this._ngZone=F,this._cdr=N,this._elementRef=J,this._dir=ae,this._globalRippleOptions=_e,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Fe=>`${Fe}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,d.WQX)(n.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===xe,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const F=this._getInput(K.END),N=this._getInput(K.START);this._isRange=!!F&&!!N,this._cdr.detectChanges();const J=this._getThumb(K.END);this._rippleRadius=J._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(F,N):this._initUINonRange(F),this._updateTrackUI(F),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(F){F.initProps(),F.initUI(),this._updateValueIndicatorUI(F),this._hasViewInitialized=!0,F._updateThumbUIByValue()}_initUIRange(F,N){F.initProps(),F.initUI(),N.initProps(),N.initUI(),F._updateMinMax(),N._updateMinMax(),F._updateStaticStyles(),N._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,F._updateThumbUIByValue(),N._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const F=this._getInput(K.END),N=this._getInput(K.START);F._setIsLeftThumb(),N._setIsLeftThumb(),F.translateX=F._calcTranslateXByValue(),N.translateX=N._calcTranslateXByValue(),F._updateStaticStyles(),N._updateStaticStyles(),F._updateWidthInactive(),N._updateWidthInactive(),F._updateThumbUIByValue(),N._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(K.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(K.START)._isActive||this._getThumb(K.END)._isActive}_getValue(F=K.END){const N=this._getInput(F);return N?N.value:this.min}_skipUpdate(){return!(!this._getInput(K.START)?._skipUIUpdate&&!this._getInput(K.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(F){const N=this._trackActive.nativeElement.style;N.left=F.left,N.right=F.right,N.transformOrigin=F.transformOrigin,N.transform=F.transform}_calcTickMarkTransform(F){return`translateX(${F*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(F){this._hasViewInitialized&&(this._updateThumbUI(F),this._updateTrackUI(F),this._updateOverlappingThumbUI(F))}_onTranslateXChangeBySideEffect(F,N){this._hasViewInitialized&&(F._updateThumbUIByValue(),N._updateThumbUIByValue())}_onValueChange(F){this._hasViewInitialized&&(this._updateValueIndicatorUI(F),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const F=this._getInput(K.END),N=this._getInput(K.START);F._updateThumbUIByValue(),N._updateThumbUIByValue(),F._updateStaticStyles(),N._updateStaticStyles(),F._updateMinMax(),N._updateMinMax(),F._updateWidthInactive(),N._updateWidthInactive()}else{const F=this._getInput(K.END);F&&F._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const F=this._getInput(K.START),N=this._getInput(K.END);return!(!F||!N)&&N.translateX-F.translateX<20}_updateOverlappingThumbClassNames(F){const N=F.getSibling(),J=this._getThumb(F.thumbPosition);this._getThumb(N.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),J._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(F){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(F))}_updateThumbUI(F){this._skipUpdate()||(this._getThumb(F.thumbPosition===K.END?K.END:K.START)._hostElement.style.transform=`translateX(${F.translateX}px)`)}_updateValueIndicatorUI(F){if(this._skipUpdate())return;const N=this.displayWith(F.value);if(this._hasViewInitialized?F._valuetext.set(N):F._hostElement.setAttribute("aria-valuetext",N),this.discrete){F.thumbPosition===K.START?this.startValueIndicatorText=N:this.endValueIndicatorText=N;const J=this._getThumb(F.thumbPosition);N.length<3?J._hostElement.classList.add("mdc-slider__thumb--short-value"):J._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const F=this._getInput(K.END),N=this._getInput(K.START);F&&this._updateValueIndicatorUI(F),N&&this._updateValueIndicatorUI(N)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const F=this._step&&this._step>0?this._step:1,J=(Math.floor(this.max/F)*F-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*J-6}_updateTrackUI(F){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(F):this._updateTrackUINonRange(F))}_updateTrackUIRange(F){const N=F.getSibling();if(!N||!this._cachedWidth)return;const J=Math.abs(N.translateX-F.translateX)/this._cachedWidth;this._setTrackActiveStyles(F._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-N.translateX+"px",transformOrigin:"right",transform:`scaleX(${J})`}:{left:`${N.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${J})`})}_updateTrackUINonRange(F){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-F.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${F.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const F=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(F):this._updateTickMarkUINonRange(F),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(F){const N=this._getValue();let J=Math.max(Math.round((N-this.min)/F),0),ae=Math.max(Math.round((this.max-N)/F),0);this._isRtl?J++:ae++,this._tickMarks=Array(J).fill(P.ACTIVE).concat(Array(ae).fill(P.INACTIVE))}_updateTickMarkUIRange(F){const N=this._getValue(),J=this._getValue(K.START),ae=Math.max(Math.round((J-this.min)/F),0),_e=Math.max(Math.round((N-J)/F)+1,0),xe=Math.max(Math.round((this.max-N)/F),0);this._tickMarks=Array(ae).fill(P.INACTIVE).concat(Array(_e).fill(P.ACTIVE),Array(xe).fill(P.INACTIVE))}_getInput(F){return F===K.END&&this._input?this._input:this._inputs?.length?F===K.START?this._inputs.first:this._inputs.last:void 0}_getThumb(F){return F===K.END?this._thumbs?.last:this._thumbs?.first}_setTransition(F){this._hasAnimation=!this._platform.IOS&&F&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(F,N){const J=N.width/2,Fe=F.clientY-(N.y+J);return Math.pow(F.clientX-(N.x+J),2)+Math.pow(Fe,2)<Math.pow(J,2)}static#e=this.\u0275fac=function(N){return new(N||me)(d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(e.dS,8),d.rXU(h.$E,8),d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:me,selectors:[["mat-slider"]],contentQueries:function(N,J,ae){if(1&N&&(d.wni(ae,S,5),d.wni(ae,w,4)),2&N){let _e;d.mGM(_e=d.lsd())&&(J._input=_e.first),d.mGM(_e=d.lsd())&&(J._inputs=_e)}},viewQuery:function(N,J){if(1&N&&(d.GBs(I,5),d.GBs(m,5)),2&N){let ae;d.mGM(ae=d.lsd())&&(J._trackActive=ae.first),d.mGM(ae=d.lsd())&&(J._thumbs=ae)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(N,J){2&N&&(d.HbH("mat-"+(J.color||"primary")),d.AVh("mdc-slider--range",J._isRange)("mdc-slider--disabled",J.disabled)("mdc-slider--discrete",J.discrete)("mdc-slider--tick-marks",J.showTickMarks)("_mat-animation-noopable",J._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",d.L39],discrete:[2,"discrete","discrete",d.L39],showTickMarks:[2,"showTickMarks","showTickMarks",d.L39],min:[2,"min","min",d.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",d.L39],max:[2,"max","max",d.Udg],step:[2,"step","step",d.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[d.Jv_([{provide:j,useExisting:me}]),d.GFd,d.aNF],ngContentSelectors:k,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(N,J){1&N&&(d.NAR(),d.SdG(0),d.j41(1,"div",2),d.nrm(2,"div",3),d.j41(3,"div",4),d.nrm(4,"div",5,0),d.k0s(),d.DNE(6,M,3,1,"div",6),d.k0s(),d.DNE(7,B,1,3,"mat-slider-visual-thumb",7),d.nrm(8,"mat-slider-visual-thumb",7)),2&N&&(d.R7$(6),d.vxM(J.showTickMarks?6:-1),d.R7$(),d.vxM(J._isRange?7:-1),d.R7$(),d.Y8G("discrete",J.discrete)("thumbPosition",2)("valueIndicatorText",J.endValueIndicatorText))},dependencies:[A],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return me})();const W={provide:g.kq,useExisting:(0,d.Rfq)(()=>$),multi:!0};let $=(()=>{class me{get value(){return(0,d.Udg)(this._hostElement.value,0)}set value(F){const N=(F=isNaN(F)?0:F)+"";this._hasSetInitialValue?this._isActive||this._setValue(N):this._initialValue=N}_setValue(F){this._hostElement.value=F,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(F){this._translateX=F}get min(){return(0,d.Udg)(this._hostElement.min,0)}set min(F){this._hostElement.min=F+"",this._cdr.detectChanges()}get max(){return(0,d.Udg)(this._hostElement.max,0)}set max(F){this._hostElement.max=F+"",this._cdr.detectChanges()}get step(){return(0,d.Udg)(this._hostElement.step,0)}set step(F){this._hostElement.step=F+"",this._cdr.detectChanges()}get disabled(){return(0,d.L39)(this._hostElement.disabled)}set disabled(F){this._hostElement.disabled=F,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(F){this._isFocused=F}constructor(F,N,J,ae){this._ngZone=F,this._elementRef=N,this._cdr=J,this._slider=ae,this.valueChange=new d.bkB,this.dragStart=new d.bkB,this.dragEnd=new d.bkB,this.thumbPosition=K.END,this._valuetext=(0,d.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new b.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,d.WQX)(n.OD),this._hostElement=N.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(F){if(!this.disabled&&0===F.button){if(this._platform.IOS){const N=this._slider._isCursorOnSliderThumb(F,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=N,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(F,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(F),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(F){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(F)},0)}_fixValue(F){const N=F.clientX-this._slider._cachedLeft,J=this._slider._cachedWidth,ae=0===this._slider.step?1:this._slider.step,_e=Math.floor((this._slider.max-this._slider.min)/ae),Ae=Math.round((this._slider._isRtl?1-N/J:N/J)*_e)/_e*(this._slider.max-this._slider.min)+this._slider.min,Ye=Math.round(Ae/ae)*ae;if(Ye===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(F,{withAnimation:this._slider._hasAnimation}));this.value=Ye,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(F,{withAnimation:this._slider._hasAnimation})}_onPointerMove(F){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(F)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(F){const N=this._tickMarkOffset;return Math.max(Math.min(F,this._slider._cachedWidth-this._tickMarkOffset),N)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(F){return F.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(F){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(F)}_updateThumbUIByPointerEvent(F,N){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(F)),this._updateThumbUI(N)}_updateThumbUI(F){this._slider._setTransition(!!F?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(F){(this._isControlInitialized||null!==F)&&(this.value=F)}registerOnChange(F){this._onChangeFn=F,this._isControlInitialized=!0}registerOnTouched(F){this._onTouchedFn=F}setDisabledState(F){this.disabled=F}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(N){return new(N||me)(d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(j))};static#t=this.\u0275dir=d.FsC({type:me,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(N,J){1&N&&d.bIt("change",function(){return J._onChange()})("input",function(){return J._onInput()})("blur",function(){return J._onBlur()})("focus",function(){return J._onFocus()}),2&N&&d.BMQ("aria-valuetext",J._valuetext())},inputs:{value:[2,"value","value",d.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[d.Jv_([W,{provide:S,useExisting:me}]),d.GFd]})}return me})(),ie=(()=>{class me{static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275mod=d.$C({type:me});static#n=this.\u0275inj=d.G2t({imports:[h.yE,h.pZ]})}return me})()},5416:(Ot,ve,s)=>{"use strict";s.d(ve,{UG:()=>$,_T:()=>ie});var e=s(3953),n=s(8834),d=s(5286),h=s(177),g=s(9969),b=s(6939),E=s(6860),_=s(9888),u=s(9327),I=s(7987),k=s(7605),y=s(6600);function x(me,Y){if(1&me){const F=e.RV6();e.j41(0,"div",1)(1,"button",2),e.bIt("click",function(){e.eBV(F);const J=e.XpG();return e.Njj(J.action())}),e.EFF(2),e.k0s()()}if(2&me){const F=e.XpG();e.R7$(2),e.SpI(" ",F.data.action," ")}}const M=["label"];function B(me,Y){}const K=Math.pow(2,31)-1;class P{constructor(Y,F){this._overlayRef=F,this._afterDismissed=new d.B7,this._afterOpened=new d.B7,this._onAction=new d.B7,this._dismissedByAction=!1,this.containerInstance=Y,Y._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Y){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Y,K))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const j=new e.nKC("MatSnackBarData");class S{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let w=(()=>{class me{static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275dir=e.FsC({type:me,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return me})(),m=(()=>{class me{static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275dir=e.FsC({type:me,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return me})(),v=(()=>{class me{static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275dir=e.FsC({type:me,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return me})(),A=(()=>{class me{constructor(F,N){this.snackBarRef=F,this.data=N}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(N){return new(N||me)(e.rXU(P),e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:me,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(N,J){1&N&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.DNE(2,x,3,1,"div",1)),2&N&&(e.R7$(),e.SpI(" ",J.data.message,"\n"),e.R7$(),e.vxM(J.hasAction?2:-1))},dependencies:[n.$z,w,m,v],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return me})();const L={snackBarState:(0,g.hZ)("state",[(0,g.wk)("void, hidden",(0,g.iF)({transform:"scale(0.8)",opacity:0})),(0,g.wk)("visible",(0,g.iF)({transform:"scale(1)",opacity:1})),(0,g.kY)("* => visible",(0,g.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,g.kY)("* => void, * => hidden",(0,g.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,g.iF)({opacity:0})))])};let G=0,O=(()=>{class me extends b.lb{constructor(F,N,J,ae,_e){super(),this._ngZone=F,this._elementRef=N,this._changeDetectorRef=J,this._platform=ae,this.snackBarConfig=_e,this._document=(0,e.WQX)(h.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new d.B7,this._onExit=new d.B7,this._onEnter=new d.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+G++,this.attachDomPortal=xe=>{this._assertNotAttached();const Fe=this._portalOutlet.attachDomPortal(xe);return this._afterPortalAttached(),Fe},this._live="assertive"!==_e.politeness||_e.announcementMessage?"off"===_e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(F){this._assertNotAttached();const N=this._portalOutlet.attachComponentPortal(F);return this._afterPortalAttached(),N}attachTemplatePortal(F){this._assertNotAttached();const N=this._portalOutlet.attachTemplatePortal(F);return this._afterPortalAttached(),N}onAnimationEnd(F){const{fromState:N,toState:J}=F;if(("void"===J&&"void"!==N||"hidden"===J)&&this._completeExit(),"visible"===J){const ae=this._onEnter;this._ngZone.run(()=>{ae.next(),ae.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const F=this._elementRef.nativeElement,N=this.snackBarConfig.panelClass;N&&(Array.isArray(N)?N.forEach(_e=>F.classList.add(_e)):F.classList.add(N)),this._exposeToModals();const J=this._label.nativeElement,ae="mdc-snackbar__label";J.classList.toggle(ae,!J.querySelector(`.${ae}`))}_exposeToModals(){const F=this._liveElementId,N=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let J=0;J<N.length;J++){const ae=N[J],_e=ae.getAttribute("aria-owns");this._trackedModals.add(ae),_e?-1===_e.indexOf(F)&&ae.setAttribute("aria-owns",_e+" "+F):ae.setAttribute("aria-owns",F)}}_clearFromModals(){this._trackedModals.forEach(F=>{const N=F.getAttribute("aria-owns");if(N){const J=N.replace(this._liveElementId,"").trim();J.length>0?F.setAttribute("aria-owns",J):F.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const F=this._elementRef.nativeElement.querySelector("[aria-hidden]"),N=this._elementRef.nativeElement.querySelector("[aria-live]");if(F&&N){let J=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&F.contains(document.activeElement)&&(J=document.activeElement),F.removeAttribute("aria-hidden"),N.appendChild(F),J?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(N){return new(N||me)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(E.OD),e.rXU(S))};static#t=this.\u0275cmp=e.VBU({type:me,selectors:[["mat-snack-bar-container"]],viewQuery:function(N,J){if(1&N&&(e.GBs(b.I3,7),e.GBs(M,7)),2&N){let ae;e.mGM(ae=e.lsd())&&(J._portalOutlet=ae.first),e.mGM(ae=e.lsd())&&(J._label=ae.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(N,J){1&N&&e.Kam("@state.done",function(_e){return J.onAnimationEnd(_e)}),2&N&&e.zvX("@state",J._animationState)},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(N,J){1&N&&(e.j41(0,"div",1)(1,"div",2,0)(3,"div",3),e.DNE(4,B,0,0,"ng-template",4),e.k0s(),e.nrm(5,"div"),e.k0s()()),2&N&&(e.R7$(5),e.BMQ("aria-live",J._live)("role",J._role)("id",J._liveElementId))},dependencies:[b.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[L.snackBarState]}})}return me})();const U=new e.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function W(){return new S}});let $=(()=>{class me{get _openedSnackBarRef(){const F=this._parentSnackBar;return F?F._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(F){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=F:this._snackBarRefAtThisLevel=F}constructor(F,N,J,ae,_e,xe){this._overlay=F,this._live=N,this._injector=J,this._breakpointObserver=ae,this._parentSnackBar=_e,this._defaultConfig=xe,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=A,this.snackBarContainerComponent=O,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(F,N){return this._attach(F,N)}openFromTemplate(F,N){return this._attach(F,N)}open(F,N="",J){const ae={...this._defaultConfig,...J};return ae.data={message:F,action:N},ae.announcementMessage===F&&(ae.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ae)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(F,N){const ae=e.zZn.create({parent:N&&N.viewContainerRef&&N.viewContainerRef.injector||this._injector,providers:[{provide:S,useValue:N}]}),_e=new b.A8(this.snackBarContainerComponent,N.viewContainerRef,ae),xe=F.attach(_e);return xe.instance.snackBarConfig=N,xe.instance}_attach(F,N){const J={...new S,...this._defaultConfig,...N},ae=this._createOverlay(J),_e=this._attachSnackBarContainer(ae,J),xe=new P(_e,ae);if(F instanceof e.C4Q){const Fe=new b.VA(F,null,{$implicit:J.data,snackBarRef:xe});xe.instance=_e.attachTemplatePortal(Fe)}else{const Fe=this._createInjector(J,xe),Ae=new b.A8(F,void 0,Fe),Ye=_e.attachComponentPortal(Ae);xe.instance=Ye.instance}return this._breakpointObserver.observe(u.Rp.HandsetPortrait).pipe((0,k.Q)(ae.detachments())).subscribe(Fe=>{ae.overlayElement.classList.toggle(this.handsetCssClass,Fe.matches)}),J.announcementMessage&&_e._onAnnounce.subscribe(()=>{this._live.announce(J.announcementMessage,J.politeness)}),this._animateSnackBar(xe,J),this._openedSnackBarRef=xe,this._openedSnackBarRef}_animateSnackBar(F,N){F.afterDismissed().subscribe(()=>{this._openedSnackBarRef==F&&(this._openedSnackBarRef=null),N.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{F.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):F.containerInstance.enter(),N.duration&&N.duration>0&&F.afterOpened().subscribe(()=>F._dismissAfter(N.duration))}_createOverlay(F){const N=new I.rR;N.direction=F.direction;let J=this._overlay.position().global();const ae="rtl"===F.direction,_e="left"===F.horizontalPosition||"start"===F.horizontalPosition&&!ae||"end"===F.horizontalPosition&&ae,xe=!_e&&"center"!==F.horizontalPosition;return _e?J.left("0"):xe?J.right("0"):J.centerHorizontally(),"top"===F.verticalPosition?J.top("0"):J.bottom("0"),N.positionStrategy=J,this._overlay.create(N)}_createInjector(F,N){return e.zZn.create({parent:F&&F.viewContainerRef&&F.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:N},{provide:j,useValue:F.data}]})}static#e=this.\u0275fac=function(N){return new(N||me)(e.KVO(I.hJ),e.KVO(_.Ai),e.KVO(e.zZn),e.KVO(u.QP),e.KVO(me,12),e.KVO(U))};static#t=this.\u0275prov=e.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),ie=(()=>{class me{static#e=this.\u0275fac=function(N){return new(N||me)};static#t=this.\u0275mod=e.$C({type:me});static#n=this.\u0275inj=e.G2t({providers:[$],imports:[I.z_,b.jc,n.Hl,y.yE,A,y.yE]})}return me})()},2042:(Ot,ve,s)=>{"use strict";s.d(ve,{B4:()=>P,NQ:()=>G,aE:()=>L});var e=s(3953),n=s(9888),d=s(7336),h=s(6607),g=s(5286),b=s(4670),E=s(9969),_=s(6600);const u=["mat-sort-header",""],I=["*"];function k(O,W){if(1&O){const U=e.RV6();e.j41(0,"div",2),e.bIt("@arrowPosition.start",function(){e.eBV(U);const te=e.XpG();return e.Njj(te._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.eBV(U);const te=e.XpG();return e.Njj(te._disableViewStateAnimation=!1)}),e.nrm(1,"div",3),e.j41(2,"div",4),e.nrm(3,"div",5)(4,"div",6)(5,"div",7),e.k0s()()}if(2&O){const U=e.XpG();e.Y8G("@arrowOpacity",U._getArrowViewState())("@arrowPosition",U._getArrowViewState())("@allowChildren",U._getArrowDirectionState()),e.R7$(2),e.Y8G("@indicator",U._getArrowDirectionState()),e.R7$(),e.Y8G("@leftPointer",U._getArrowDirectionState()),e.R7$(),e.Y8G("@rightPointer",U._getArrowDirectionState())}}const K=new e.nKC("MAT_SORT_DEFAULT_OPTIONS");let P=(()=>{class O{get direction(){return this._direction}set direction(U){this._direction=U}constructor(U){this._defaultOptions=U,this._initializedStream=new h.m(1),this.sortables=new Map,this._stateChanges=new g.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new e.bkB,this.initialized=this._initializedStream}register(U){this.sortables.set(U.id,U)}deregister(U){this.sortables.delete(U.id)}sort(U){this.active!=U.id?(this.active=U.id,this.direction=U.start?U.start:this.start):this.direction=this.getNextSortDirection(U),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(U){if(!U)return"";let te=function j(O,W){let U=["asc","desc"];return"desc"==O&&U.reverse(),W||U.push(""),U}(U.start||this.start,U?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ie=te.indexOf(this.direction)+1;return ie>=te.length&&(ie=0),te[ie]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function($){return new($||O)(e.rXU(K,8))};static#t=this.\u0275dir=e.FsC({type:O,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",e.L39],disabled:[2,"matSortDisabled","disabled",e.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[e.GFd,e.OA$]})}return O})();const S=_.ed.ENTERING+" "+_.r5.STANDARD_CURVE,w={indicator:(0,E.hZ)("indicator",[(0,E.wk)("active-asc, asc",(0,E.iF)({transform:"translateY(0px)"})),(0,E.wk)("active-desc, desc",(0,E.iF)({transform:"translateY(10px)"})),(0,E.kY)("active-asc <=> active-desc",(0,E.i0)(S))]),leftPointer:(0,E.hZ)("leftPointer",[(0,E.wk)("active-asc, asc",(0,E.iF)({transform:"rotate(-45deg)"})),(0,E.wk)("active-desc, desc",(0,E.iF)({transform:"rotate(45deg)"})),(0,E.kY)("active-asc <=> active-desc",(0,E.i0)(S))]),rightPointer:(0,E.hZ)("rightPointer",[(0,E.wk)("active-asc, asc",(0,E.iF)({transform:"rotate(45deg)"})),(0,E.wk)("active-desc, desc",(0,E.iF)({transform:"rotate(-45deg)"})),(0,E.kY)("active-asc <=> active-desc",(0,E.i0)(S))]),arrowOpacity:(0,E.hZ)("arrowOpacity",[(0,E.wk)("desc-to-active, asc-to-active, active",(0,E.iF)({opacity:1})),(0,E.wk)("desc-to-hint, asc-to-hint, hint",(0,E.iF)({opacity:.54})),(0,E.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,E.iF)({opacity:0})),(0,E.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,E.i0)("0ms")),(0,E.kY)("* <=> *",(0,E.i0)(S))]),arrowPosition:(0,E.hZ)("arrowPosition",[(0,E.kY)("* => desc-to-hint, * => desc-to-active",(0,E.i0)(S,(0,E.i7)([(0,E.iF)({transform:"translateY(-25%)"}),(0,E.iF)({transform:"translateY(0)"})]))),(0,E.kY)("* => hint-to-desc, * => active-to-desc",(0,E.i0)(S,(0,E.i7)([(0,E.iF)({transform:"translateY(0)"}),(0,E.iF)({transform:"translateY(25%)"})]))),(0,E.kY)("* => asc-to-hint, * => asc-to-active",(0,E.i0)(S,(0,E.i7)([(0,E.iF)({transform:"translateY(25%)"}),(0,E.iF)({transform:"translateY(0)"})]))),(0,E.kY)("* => hint-to-asc, * => active-to-asc",(0,E.i0)(S,(0,E.i7)([(0,E.iF)({transform:"translateY(0)"}),(0,E.iF)({transform:"translateY(-25%)"})]))),(0,E.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,E.iF)({transform:"translateY(0)"})),(0,E.wk)("hint-to-desc, active-to-desc, desc",(0,E.iF)({transform:"translateY(-25%)"})),(0,E.wk)("hint-to-asc, active-to-asc, asc",(0,E.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,E.hZ)("allowChildren",[(0,E.kY)("* <=> *",[(0,E.P)("@*",(0,E.MA)(),{optional:!0})])])};let m=(()=>{class O{constructor(){this.changes=new g.B7}static#e=this.\u0275fac=function($){return new($||O)};static#t=this.\u0275prov=e.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})();const A={provide:m,deps:[[new e.Xx1,new e.kdw,m]],useFactory:function v(O){return O||new m}};let L=(()=>{class O{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(U){this._updateSortActionDescription(U)}constructor(U,$,te,ie,me,Y,F,N){this._intl=U,this._changeDetectorRef=$,this._sort=te,this._columnDef=ie,this._focusMonitor=me,this._elementRef=Y,this._ariaDescriber=F,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",N?.arrowPosition&&(this.arrowPosition=N?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(U=>{const $=!!U;$!==this._showIndicatorHint&&(this._setIndicatorHintVisible($),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(U){this._isDisabled()&&U||(this._showIndicatorHint=U,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(U){this._viewState=U||{},this._disableViewStateAnimation&&(this._viewState={toState:U.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(U){!this._isDisabled()&&(U.keyCode===d.t6||U.keyCode===d.Fm)&&(U.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const U=this._viewState.fromState;return(U?`${U}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(U){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,U)),this._sortActionDescription=U}_handleStateChanges(){this._rerenderSubscription=(0,b.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function($){return new($||O)(e.rXU(m),e.rXU(e.gRc),e.rXU(P,8),e.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),e.rXU(n.FN),e.rXU(e.aKT),e.rXU(n.vr,8),e.rXU(K,8))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function($,te){1&$&&e.bIt("click",function(){return te._handleClick()})("keydown",function(me){return te._handleKeydown(me)})("mouseenter",function(){return te._setIndicatorHintVisible(!0)})("mouseleave",function(){return te._setIndicatorHintVisible(!1)}),2&$&&(e.BMQ("aria-sort",te._getAriaSortAttribute()),e.AVh("mat-sort-header-disabled",te._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",e.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",e.L39]},exportAs:["matSortHeader"],standalone:!0,features:[e.GFd,e.aNF],attrs:u,ngContentSelectors:I,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function($,te){1&$&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.SdG(2),e.k0s(),e.DNE(3,k,6,6,"div",2),e.k0s()),2&$&&(e.AVh("mat-sort-header-sorted",te._isSorted())("mat-sort-header-position-before","before"===te.arrowPosition),e.BMQ("tabindex",te._isDisabled()?null:0)("role",te._isDisabled()?null:"button"),e.R7$(3),e.vxM(te._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[w.indicator,w.leftPointer,w.rightPointer,w.arrowOpacity,w.arrowPosition,w.allowChildren]},changeDetection:0})}return O})(),G=(()=>{class O{static#e=this.\u0275fac=function($){return new($||O)};static#t=this.\u0275mod=e.$C({type:O});static#n=this.\u0275inj=e.G2t({providers:[A],imports:[_.yE]})}return O})()},6850:(Ot,ve,s)=>{"use strict";s.d(ve,{RI:()=>Ht,T8:()=>nn,mq:()=>Qt});var e=s(3953),n=s(6600),d=s(6939),h=s(5286),g=s(3586),b=s(4421),E=s(4670),_=s(1235),u=s(5817),I=s(6651),k=s(4337),y=s(494),x=s(6860),M=s(8203),B=s(9888),K=s(7336),P=s(8170),j=s(7605),S=s(3020),w=s(3176),m=s(9090),v=s(7753),A=s(8728),L=s(522),G=s(2318),O=s(177),W=s(9969);const U=["*"];function $(ze,Bt){1&ze&&e.SdG(0)}const te=["tabListContainer"],ie=["tabList"],me=["tabListInner"],Y=["nextPaginator"],F=["previousPaginator"],N=ze=>({animationDuration:ze}),J=(ze,Bt)=>({value:ze,params:Bt});function ae(ze,Bt){}const _e=["tabBodyWrapper"],xe=["tabHeader"];function Fe(ze,Bt){}function Ae(ze,Bt){if(1&ze&&e.DNE(0,Fe,0,0,"ng-template",12),2&ze){const Te=e.XpG().$implicit;e.Y8G("cdkPortalOutlet",Te.templateLabel)}}function Ye(ze,Bt){if(1&ze&&e.EFF(0),2&ze){const Te=e.XpG().$implicit;e.JRh(Te.textLabel)}}function qe(ze,Bt){if(1&ze){const Te=e.RV6();e.j41(0,"div",7,2),e.bIt("click",function(){const Tt=e.eBV(Te),Wt=Tt.$implicit,We=Tt.$index,Pe=e.XpG(),Ue=e.sdS(1);return e.Njj(Pe._handleClick(Wt,Ue,We))})("cdkFocusChange",function(Tt){const Wt=e.eBV(Te).$index,We=e.XpG();return e.Njj(We._tabFocusChanged(Tt,Wt))}),e.nrm(2,"span",8)(3,"div",9),e.j41(4,"span",10)(5,"span",11),e.DNE(6,Ae,1,1,null,12)(7,Ye,1,1),e.k0s()()()}if(2&ze){const Te=Bt.$implicit,Ge=Bt.$index,Tt=e.sdS(1),Wt=e.XpG();e.HbH(Te.labelClass),e.AVh("mdc-tab--active",Wt.selectedIndex===Ge),e.Y8G("id",Wt._getTabLabelId(Ge))("disabled",Te.disabled)("fitInkBarToContent",Wt.fitInkBarToContent),e.BMQ("tabIndex",Wt._getTabIndex(Ge))("aria-posinset",Ge+1)("aria-setsize",Wt._tabs.length)("aria-controls",Wt._getTabContentId(Ge))("aria-selected",Wt.selectedIndex===Ge)("aria-label",Te.ariaLabel||null)("aria-labelledby",!Te.ariaLabel&&Te.ariaLabelledby?Te.ariaLabelledby:null),e.R7$(3),e.Y8G("matRippleTrigger",Tt)("matRippleDisabled",Te.disabled||Wt.disableRipple),e.R7$(3),e.vxM(Te.templateLabel?6:7)}}function Ne(ze,Bt){1&ze&&e.SdG(0)}function Me(ze,Bt){if(1&ze){const Te=e.RV6();e.j41(0,"mat-tab-body",13),e.bIt("_onCentered",function(){e.eBV(Te);const Tt=e.XpG();return e.Njj(Tt._removeTabBodyWrapperHeight())})("_onCentering",function(Tt){e.eBV(Te);const Wt=e.XpG();return e.Njj(Wt._setTabBodyWrapperHeight(Tt))}),e.k0s()}if(2&ze){const Te=Bt.$implicit,Ge=Bt.$index,Tt=e.XpG();e.HbH(Te.bodyClass),e.AVh("mat-mdc-tab-body-active",Tt.selectedIndex===Ge),e.Y8G("id",Tt._getTabContentId(Ge))("content",Te.content)("position",Te.position)("origin",Te.origin)("animationDuration",Tt.animationDuration)("preserveContent",Tt.preserveContent),e.BMQ("tabindex",null!=Tt.contentTabIndex&&Tt.selectedIndex===Ge?Tt.contentTabIndex:null)("aria-labelledby",Tt._getTabLabelId(Ge))("aria-hidden",Tt.selectedIndex!==Ge)}}const le=new e.nKC("MatTabContent");let Ee=(()=>{class ze{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:ze,selectors:[["","matTabContent",""]],standalone:!0,features:[e.Jv_([{provide:le,useExisting:ze}])]})}return ze})();const Xe=new e.nKC("MatTabLabel"),xt=new e.nKC("MAT_TAB");let dt=(()=>{class ze extends d.bV{constructor(Te,Ge,Tt){super(Te,Ge),this._closestTab=Tt}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.C4Q),e.rXU(e.c1b),e.rXU(xt,8))};static#t=this.\u0275dir=e.FsC({type:ze,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[e.Jv_([{provide:Xe,useExisting:ze}]),e.Vt3]})}return ze})();const Ct=new e.nKC("MAT_TAB_GROUP");let Qt=(()=>{class ze{get templateLabel(){return this._templateLabel}set templateLabel(Te){this._setTemplateLabelInput(Te)}get content(){return this._contentPortal}constructor(Te,Ge){this._viewContainerRef=Te,this._closestTabGroup=Ge,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new h.B7,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(Te){(Te.hasOwnProperty("textLabel")||Te.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new d.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Te){Te&&Te._closestTab===this&&(this._templateLabel=Te)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.c1b),e.rXU(Ct,8))};static#t=this.\u0275cmp=e.VBU({type:ze,selectors:[["mat-tab"]],contentQueries:function(Ge,Tt,Wt){if(1&Ge&&(e.wni(Wt,dt,5),e.wni(Wt,Ee,7,e.C4Q)),2&Ge){let We;e.mGM(We=e.lsd())&&(Tt.templateLabel=We.first),e.mGM(We=e.lsd())&&(Tt._explicitContent=We.first)}},viewQuery:function(Ge,Tt){if(1&Ge&&e.GBs(e.C4Q,7),2&Ge){let Wt;e.mGM(Wt=e.lsd())&&(Tt._implicitContent=Wt.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",e.L39],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[e.Jv_([{provide:xt,useExisting:ze}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:U,decls:1,vars:0,template:function(Ge,Tt){1&Ge&&(e.NAR(),e.DNE(0,$,1,0,"ng-template"))},encapsulation:2})}return ze})();const _n="mdc-tab-indicator--active",In="mdc-tab-indicator--no-transition";class rn{constructor(Bt){this._items=Bt}hide(){this._items.forEach(Bt=>Bt.deactivateInkBar())}alignToElement(Bt){const Te=this._items.find(Tt=>Tt.elementRef.nativeElement===Bt),Ge=this._currentItem;if(Te!==Ge&&(Ge?.deactivateInkBar(),Te)){const Tt=Ge?.elementRef.nativeElement.getBoundingClientRect?.();Te.activateInkBar(Tt),this._currentItem=Te}}}let $t=(()=>{class ze{constructor(){this._elementRef=(0,e.WQX)(e.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Te){this._fitToContent!==Te&&(this._fitToContent=Te,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Te){const Ge=this._elementRef.nativeElement;if(!Te||!Ge.getBoundingClientRect||!this._inkBarContentElement)return void Ge.classList.add(_n);const Tt=Ge.getBoundingClientRect(),Wt=Te.width/Tt.width,We=Te.left-Tt.left;Ge.classList.add(In),this._inkBarContentElement.style.setProperty("transform",`translateX(${We}px) scaleX(${Wt})`),Ge.getBoundingClientRect(),Ge.classList.remove(In),Ge.classList.add(_n),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(_n)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Te=this._elementRef.nativeElement.ownerDocument||document,Ge=this._inkBarElement=Te.createElement("span"),Tt=this._inkBarContentElement=Te.createElement("span");Ge.className="mdc-tab-indicator",Tt.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",Ge.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)};static#t=this.\u0275dir=e.FsC({type:ze,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",e.L39]},features:[e.GFd]})}return ze})(),se=(()=>{class ze extends $t{constructor(Te){super(),this.elementRef=Te,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:ze,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Ge,Tt){2&Ge&&(e.BMQ("aria-disabled",!!Tt.disabled),e.AVh("mat-mdc-tab-disabled",Tt.disabled))},inputs:{disabled:[2,"disabled","disabled",e.L39]},standalone:!0,features:[e.GFd,e.Vt3]})}return ze})();const fe=(0,x.BQ)({passive:!0});let Kt=(()=>{class ze{get selectedIndex(){return this._selectedIndex}set selectedIndex(Te){const Ge=isNaN(Te)?0:Te;this._selectedIndex!=Ge&&(this._selectedIndexChanged=!0,this._selectedIndex=Ge,this._keyManager&&this._keyManager.updateActiveItem(Ge))}constructor(Te,Ge,Tt,Wt,We,Pe,Ue){this._elementRef=Te,this._changeDetectorRef=Ge,this._viewportRuler=Tt,this._dir=Wt,this._ngZone=We,this._platform=Pe,this._animationMode=Ue,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new h.B7,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new h.B7,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.bkB,this.indexFocused=new e.bkB,this._sharedResizeObserver=(0,e.WQX)(P.a),this._injector=(0,e.WQX)(e.zZn),We.runOutsideAngular(()=>{(0,g.R)(Te.nativeElement,"mouseleave").pipe((0,j.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,g.R)(this._previousPaginator.nativeElement,"touchstart",fe).pipe((0,j.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,g.R)(this._nextPaginator.nativeElement,"touchstart",fe).pipe((0,j.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Te=this._dir?this._dir.change:(0,b.of)("ltr"),Ge=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe((0,S.B)(32),(0,j.Q)(this._destroyed)),Tt=this._viewportRuler.change(150).pipe((0,j.Q)(this._destroyed)),Wt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new B.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),(0,e.mal)(Wt,{injector:this._injector}),(0,E.h)(Te,Tt,Ge,this._items.changes,this._itemsResized()).pipe((0,j.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),Wt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(We=>{this.indexFocused.emit(We),this._setTabFocus(We)})}_itemsResized(){return"function"!=typeof ResizeObserver?_.w:this._items.changes.pipe((0,w.Z)(this._items),(0,m.n)(Te=>new u.c(Ge=>this._ngZone.runOutsideAngular(()=>{const Tt=new ResizeObserver(Wt=>Ge.next(Wt));return Te.forEach(Wt=>Tt.observe(Wt.elementRef.nativeElement)),()=>{Tt.disconnect()}}))),(0,v.i)(1),(0,A.p)(Te=>Te.some(Ge=>Ge.contentRect.width>0&&Ge.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Te){if(!(0,K.rp)(Te))switch(Te.keyCode){case K.Fm:case K.t6:if(this.focusIndex!==this.selectedIndex){const Ge=this._items.get(this.focusIndex);Ge&&!Ge.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Te))}break;default:this._keyManager.onKeydown(Te)}}_onContentChanges(){const Te=this._elementRef.nativeElement.textContent;Te!==this._currentTextContent&&(this._currentTextContent=Te||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Te){!this._isValidIndex(Te)||this.focusIndex===Te||!this._keyManager||this._keyManager.setActiveItem(Te)}_isValidIndex(Te){return!this._items||!!this._items.toArray()[Te]}_setTabFocus(Te){if(this._showPaginationControls&&this._scrollToLabel(Te),this._items&&this._items.length){this._items.toArray()[Te].focus();const Ge=this._tabListContainer.nativeElement;Ge.scrollLeft="ltr"==this._getLayoutDirection()?0:Ge.scrollWidth-Ge.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Te=this.scrollDistance,Ge="ltr"===this._getLayoutDirection()?-Te:Te;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Ge)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Te){this._scrollTo(Te)}_scrollHeader(Te){return this._scrollTo(this._scrollDistance+("before"==Te?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Te){this._stopInterval(),this._scrollHeader(Te)}_scrollToLabel(Te){if(this.disablePagination)return;const Ge=this._items?this._items.toArray()[Te]:null;if(!Ge)return;const Tt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Wt,offsetWidth:We}=Ge.elementRef.nativeElement;let Pe,Ue;"ltr"==this._getLayoutDirection()?(Pe=Wt,Ue=Pe+We):(Ue=this._tabListInner.nativeElement.offsetWidth-Wt,Pe=Ue-We);const De=this.scrollDistance,rt=this.scrollDistance+Tt;Pe<De?this.scrollDistance-=De-Pe:Ue>rt&&(this.scrollDistance+=Math.min(Ue-rt,Pe-De))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Tt=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;Tt||(this.scrollDistance=0),Tt!==this._showPaginationControls&&(this._showPaginationControls=Tt,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Te=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Ge=Te?Te.elementRef.nativeElement:null;Ge?this._inkBar.alignToElement(Ge):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Te,Ge){Ge&&null!=Ge.button&&0!==Ge.button||(this._stopInterval(),(0,I.O)(650,100).pipe((0,j.Q)((0,E.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:Tt,distance:Wt}=this._scrollHeader(Te);(0===Wt||Wt>=Tt)&&this._stopInterval()}))}_scrollTo(Te){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Ge=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Ge,Te)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Ge,distance:this._scrollDistance}}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(y.Xj),e.rXU(M.dS,8),e.rXU(e.SKi),e.rXU(x.OD),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:ze,inputs:{disablePagination:[2,"disablePagination","disablePagination",e.L39],selectedIndex:[2,"selectedIndex","selectedIndex",e.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.GFd]})}return ze})(),vn=(()=>{class ze extends Kt{constructor(Te,Ge,Tt,Wt,We,Pe,Ue){super(Te,Ge,Tt,Wt,We,Pe,Ue),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new rn(this._items),super.ngAfterContentInit()}_itemSelected(Te){Te.preventDefault()}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(y.Xj),e.rXU(M.dS,8),e.rXU(e.SKi),e.rXU(x.OD),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:ze,selectors:[["mat-tab-header"]],contentQueries:function(Ge,Tt,Wt){if(1&Ge&&e.wni(Wt,se,4),2&Ge){let We;e.mGM(We=e.lsd())&&(Tt._items=We)}},viewQuery:function(Ge,Tt){if(1&Ge&&(e.GBs(te,7),e.GBs(ie,7),e.GBs(me,7),e.GBs(Y,5),e.GBs(F,5)),2&Ge){let Wt;e.mGM(Wt=e.lsd())&&(Tt._tabListContainer=Wt.first),e.mGM(Wt=e.lsd())&&(Tt._tabList=Wt.first),e.mGM(Wt=e.lsd())&&(Tt._tabListInner=Wt.first),e.mGM(Wt=e.lsd())&&(Tt._nextPaginator=Wt.first),e.mGM(Wt=e.lsd())&&(Tt._previousPaginator=Wt.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(Ge,Tt){2&Ge&&e.AVh("mat-mdc-tab-header-pagination-controls-enabled",Tt._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==Tt._getLayoutDirection())},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",e.L39]},standalone:!0,features:[e.GFd,e.Vt3,e.aNF],ngContentSelectors:U,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(Ge,Tt){if(1&Ge){const Wt=e.RV6();e.NAR(),e.j41(0,"div",5,0),e.bIt("click",function(){return e.eBV(Wt),e.Njj(Tt._handlePaginatorClick("before"))})("mousedown",function(Pe){return e.eBV(Wt),e.Njj(Tt._handlePaginatorPress("before",Pe))})("touchend",function(){return e.eBV(Wt),e.Njj(Tt._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(Pe){return e.eBV(Wt),e.Njj(Tt._handleKeydown(Pe))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(Wt),e.Njj(Tt._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"div",10,4),e.bIt("mousedown",function(Pe){return e.eBV(Wt),e.Njj(Tt._handlePaginatorPress("after",Pe))})("click",function(){return e.eBV(Wt),e.Njj(Tt._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(Wt),e.Njj(Tt._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&Ge&&(e.AVh("mat-mdc-tab-header-pagination-disabled",Tt._disableScrollBefore),e.Y8G("matRippleDisabled",Tt._disableScrollBefore||Tt.disableRipple),e.R7$(3),e.AVh("_mat-animation-noopable","NoopAnimations"===Tt._animationMode),e.R7$(2),e.BMQ("aria-label",Tt.ariaLabel||null)("aria-labelledby",Tt.ariaLabelledby||null),e.R7$(5),e.AVh("mat-mdc-tab-header-pagination-disabled",Tt._disableScrollAfter),e.Y8G("matRippleDisabled",Tt._disableScrollAfter||Tt.disableRipple))},dependencies:[n.r6,G.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return ze})();const Pt=new e.nKC("MAT_TABS_CONFIG"),an={translateTab:(0,W.hZ)("translateTab",[(0,W.wk)("center, void, left-origin-center, right-origin-center",(0,W.iF)({transform:"none",visibility:"visible"})),(0,W.wk)("left",(0,W.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,W.wk)("right",(0,W.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,W.kY)("* => left, * => right, left => center, right => center",(0,W.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,W.kY)("void => left-origin-center",[(0,W.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,W.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,W.kY)("void => right-origin-center",[(0,W.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,W.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Et=(()=>{class ze extends d.I3{constructor(Te,Ge,Tt,Wt){super(Te,Ge,Wt),this._host=Tt,this._centeringSub=k.y.EMPTY,this._leavingSub=k.y.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,w.Z)(this._host._isCenterPosition(this._host._position))).subscribe(Te=>{this._host._content&&Te&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>bt)),e.rXU(O.qQ))};static#t=this.\u0275dir=e.FsC({type:ze,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[e.Vt3]})}return ze})(),bt=(()=>{class ze{set position(Te){this._positionIndex=Te,this._computePositionAnimationState()}constructor(Te,Ge,Tt){this._elementRef=Te,this._dir=Ge,this._dirChangeSubscription=k.y.EMPTY,this._translateTabComplete=new h.B7,this._onCentering=new e.bkB,this._beforeCentering=new e.bkB,this._afterLeavingCenter=new e.bkB,this._onCentered=new e.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,Ge&&(this._dirChangeSubscription=Ge.change.subscribe(Wt=>{this._computePositionAnimationState(Wt),Tt.markForCheck()})),this._translateTabComplete.pipe((0,L.F)((Wt,We)=>Wt.fromState===We.fromState&&Wt.toState===We.toState)).subscribe(Wt=>{this._isCenterPosition(Wt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Wt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Te){const Ge=this._isCenterPosition(Te.toState);this._beforeCentering.emit(Ge),Ge&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Te){return"center"==Te||"left-origin-center"==Te||"right-origin-center"==Te}_computePositionAnimationState(Te=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Te?"left":"right":this._positionIndex>0?"ltr"==Te?"right":"left":"center"}_computePositionFromOrigin(Te){const Ge=this._getLayoutDirection();return"ltr"==Ge&&Te<=0||"rtl"==Ge&&Te>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.aKT),e.rXU(M.dS,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:ze,selectors:[["mat-tab-body"]],viewQuery:function(Ge,Tt){if(1&Ge&&e.GBs(d.I3,5),2&Ge){let Wt;e.mGM(Wt=e.lsd())&&(Tt._portalHost=Wt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[e.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(Ge,Tt){if(1&Ge){const Wt=e.RV6();e.j41(0,"div",1,0),e.bIt("@translateTab.start",function(Pe){return e.eBV(Wt),e.Njj(Tt._onTranslateTabStarted(Pe))})("@translateTab.done",function(Pe){return e.eBV(Wt),e.Njj(Tt._translateTabComplete.next(Pe))}),e.DNE(2,ae,0,0,"ng-template",2),e.k0s()}2&Ge&&e.Y8G("@translateTab",e.l_i(3,J,Tt._position,e.eq3(1,N,Tt.animationDuration)))},dependencies:[Et,y.uv],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[an.translateTab]}})}return ze})(),Yt=0,nn=(()=>{class ze{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(Te){this._fitInkBarToContent=Te,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(Te){this._indexToSelect=isNaN(Te)?null:Te}get animationDuration(){return this._animationDuration}set animationDuration(Te){const Ge=Te+"";this._animationDuration=/^\d+$/.test(Ge)?Te+"ms":Ge}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Te){this._contentTabIndex=isNaN(Te)?null:Te}get backgroundColor(){return this._backgroundColor}set backgroundColor(Te){const Ge=this._elementRef.nativeElement.classList;Ge.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),Te&&Ge.add("mat-tabs-with-background",`mat-background-${Te}`),this._backgroundColor=Te}constructor(Te,Ge,Tt,Wt){this._elementRef=Te,this._changeDetectorRef=Ge,this._animationMode=Wt,this._tabs=new e.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=k.y.EMPTY,this._tabLabelSubscription=k.y.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new e.bkB,this.focusChange=new e.bkB,this.animationDone=new e.bkB,this.selectedTabChange=new e.bkB(!0),this._isServer=!(0,e.WQX)(x.OD).isBrowser,this._groupId=Yt++,this.animationDuration=Tt&&Tt.animationDuration?Tt.animationDuration:"500ms",this.disablePagination=!(!Tt||null==Tt.disablePagination)&&Tt.disablePagination,this.dynamicHeight=!(!Tt||null==Tt.dynamicHeight)&&Tt.dynamicHeight,null!=Tt?.contentTabIndex&&(this.contentTabIndex=Tt.contentTabIndex),this.preserveContent=!!Tt?.preserveContent,this.fitInkBarToContent=!(!Tt||null==Tt.fitInkBarToContent)&&Tt.fitInkBarToContent,this.stretchTabs=!Tt||null==Tt.stretchTabs||Tt.stretchTabs}ngAfterContentChecked(){const Te=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Te){const Ge=null==this._selectedIndex;if(!Ge){this.selectedTabChange.emit(this._createChangeEvent(Te));const Tt=this._tabBodyWrapper.nativeElement;Tt.style.minHeight=Tt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((Tt,Wt)=>Tt.isActive=Wt===Te),Ge||(this.selectedIndexChange.emit(Te),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Ge,Tt)=>{Ge.position=Tt-Te,null!=this._selectedIndex&&0==Ge.position&&!Ge.origin&&(Ge.origin=Te-this._selectedIndex)}),this._selectedIndex!==Te&&(this._selectedIndex=Te,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Te=this._clampTabIndex(this._indexToSelect);if(Te===this._selectedIndex){const Ge=this._tabs.toArray();let Tt;for(let Wt=0;Wt<Ge.length;Wt++)if(Ge[Wt].isActive){this._indexToSelect=this._selectedIndex=Wt,this._lastFocusedTabIndex=null,Tt=Ge[Wt];break}!Tt&&Ge[Te]&&Promise.resolve().then(()=>{Ge[Te].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Te))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,w.Z)(this._allTabs)).subscribe(Te=>{this._tabs.reset(Te.filter(Ge=>Ge._closestTabGroup===this||!Ge._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Te){const Ge=this._tabHeader;Ge&&(Ge.focusIndex=Te)}_focusChanged(Te){this._lastFocusedTabIndex=Te,this.focusChange.emit(this._createChangeEvent(Te))}_createChangeEvent(Te){const Ge=new yn;return Ge.index=Te,this._tabs&&this._tabs.length&&(Ge.tab=this._tabs.toArray()[Te]),Ge}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,E.h)(...this._tabs.map(Te=>Te._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Te){return Math.min(this._tabs.length-1,Math.max(Te||0,0))}_getTabLabelId(Te){return`mat-tab-label-${this._groupId}-${Te}`}_getTabContentId(Te){return`mat-tab-content-${this._groupId}-${Te}`}_setTabBodyWrapperHeight(Te){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const Ge=this._tabBodyWrapper.nativeElement;Ge.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Ge.style.height=Te+"px")}_removeTabBodyWrapperHeight(){const Te=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Te.clientHeight,Te.style.height="",this.animationDone.emit()}_handleClick(Te,Ge,Tt){Ge.focusIndex=Tt,Te.disabled||(this.selectedIndex=Tt)}_getTabIndex(Te){return Te===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Te,Ge){Te&&"mouse"!==Te&&"touch"!==Te&&(this._tabHeader.focusIndex=Ge)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(Pt,8),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:ze,selectors:[["mat-tab-group"]],contentQueries:function(Ge,Tt,Wt){if(1&Ge&&e.wni(Wt,Qt,5),2&Ge){let We;e.mGM(We=e.lsd())&&(Tt._allTabs=We)}},viewQuery:function(Ge,Tt){if(1&Ge&&(e.GBs(_e,5),e.GBs(xe,5)),2&Ge){let Wt;e.mGM(Wt=e.lsd())&&(Tt._tabBodyWrapper=Wt.first),e.mGM(Wt=e.lsd())&&(Tt._tabHeader=Wt.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(Ge,Tt){2&Ge&&(e.HbH("mat-"+(Tt.color||"primary")),e.xc7("--mat-tab-animation-duration",Tt.animationDuration),e.AVh("mat-mdc-tab-group-dynamic-height",Tt.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===Tt.headerPosition)("mat-mdc-tab-group-stretch-tabs",Tt.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",e.L39],dynamicHeight:[2,"dynamicHeight","dynamicHeight",e.L39],selectedIndex:[2,"selectedIndex","selectedIndex",e.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",e.Udg],disablePagination:[2,"disablePagination","disablePagination",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],preserveContent:[2,"preserveContent","preserveContent",e.L39],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[e.Jv_([{provide:Ct,useExisting:ze}]),e.GFd,e.aNF],ngContentSelectors:U,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(Ge,Tt){if(1&Ge){const Wt=e.RV6();e.NAR(),e.j41(0,"mat-tab-header",3,0),e.bIt("indexFocused",function(Pe){return e.eBV(Wt),e.Njj(Tt._focusChanged(Pe))})("selectFocusedIndex",function(Pe){return e.eBV(Wt),e.Njj(Tt.selectedIndex=Pe)}),e.Z7z(2,qe,8,17,"div",4,e.fX1),e.k0s(),e.DNE(4,Ne,1,0),e.j41(5,"div",5,1),e.Z7z(7,Me,1,13,"mat-tab-body",6,e.fX1),e.k0s()}2&Ge&&(e.Y8G("selectedIndex",Tt.selectedIndex||0)("disableRipple",Tt.disableRipple)("disablePagination",Tt.disablePagination)("aria-label",Tt.ariaLabel)("aria-labelledby",Tt.ariaLabelledby),e.R7$(2),e.Dyx(Tt._tabs),e.R7$(2),e.vxM(Tt._isServer?4:-1),e.R7$(),e.AVh("_mat-animation-noopable","NoopAnimations"===Tt._animationMode),e.R7$(2),e.Dyx(Tt._tabs))},dependencies:[vn,se,B.vR,n.r6,d.I3,bt],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return ze})();class yn{}let Ht=(()=>{class ze{static#e=this.\u0275fac=function(Ge){return new(Ge||ze)};static#t=this.\u0275mod=e.$C({type:ze});static#n=this.\u0275inj=e.G2t({imports:[n.yE,n.yE]})}return ze})()},4823:(Ot,ve,s)=>{"use strict";s.d(ve,{oV:()=>te,uc:()=>Y});var e=s(7605),n=s(4085),d=s(7336),h=s(3953),g=s(177),b=s(6860),E=s(9888),_=s(8203),u=s(7987),I=s(494),k=s(6939),y=s(5286),M=(s(9969),s(6600));const B=["tooltip"],j=new h.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const F=(0,h.WQX)(u.hJ);return()=>F.scrollStrategies.reposition({scrollThrottle:20})}}),w={provide:j,deps:[u.hJ],useFactory:function S(F){return()=>F.scrollStrategies.reposition({scrollThrottle:20})}},v=new h.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function m(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),L="tooltip-panel",G=(0,b.BQ)({passive:!0});let te=(()=>{class F{get position(){return this._position}set position(J){J!==this._position&&(this._position=J,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(J){this._positionAtOrigin=(0,n.he)(J),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(J){const ae=(0,n.he)(J);this._disabled!==ae&&(this._disabled=ae,ae?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(J){this._showDelay=(0,n.OE)(J)}get hideDelay(){return this._hideDelay}set hideDelay(J){this._hideDelay=(0,n.OE)(J),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(J){const ae=this._message;this._message=null!=J?String(J).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(ae)}get tooltipClass(){return this._tooltipClass}set tooltipClass(J){this._tooltipClass=J,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(J,ae,_e,xe,Fe,Ae,Ye,qe,Ne,Me,pe,he){this._overlay=J,this._elementRef=ae,this._scrollDispatcher=_e,this._viewContainerRef=xe,this._ngZone=Fe,this._platform=Ae,this._ariaDescriber=Ye,this._focusMonitor=qe,this._dir=Me,this._defaultOptions=pe,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=ie,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new y.B7,this._injector=(0,h.WQX)(h.zZn),this._scrollStrategy=Ne,this._document=he,pe&&(this._showDelay=pe.showDelay,this._hideDelay=pe.hideDelay,pe.position&&(this.position=pe.position),pe.positionAtOrigin&&(this.positionAtOrigin=pe.positionAtOrigin),pe.touchGestures&&(this.touchGestures=pe.touchGestures),pe.tooltipClass&&(this.tooltipClass=pe.tooltipClass)),Me.change.pipe((0,e.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.Q)(this._destroyed)).subscribe(J=>{J?"keyboard"===J&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const J=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ae,_e])=>{J.removeEventListener(ae,_e,G)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(J,this.message,"tooltip"),this._focusMonitor.stopMonitoring(J)}show(J=this.showDelay,ae){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const _e=this._createOverlay(ae);this._detach(),this._portal=this._portal||new k.A8(this._tooltipComponent,this._viewContainerRef);const xe=this._tooltipInstance=_e.attach(this._portal).instance;xe._triggerElement=this._elementRef.nativeElement,xe._mouseLeaveHideDelay=this._hideDelay,xe.afterHidden().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),xe.show(J)}hide(J=this.hideDelay){const ae=this._tooltipInstance;ae&&(ae.isVisible()?ae.hide(J):(ae._cancelPendingAnimations(),this._detach()))}toggle(J){this._isTooltipVisible()?this.hide():this.show(void 0,J)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(J){if(this._overlayRef){const xe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!J)&&xe._origin instanceof h.aKT)return this._overlayRef;this._detach()}const ae=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),_e=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&J||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ae);return _e.positionChanges.pipe((0,e.Q)(this._destroyed)).subscribe(xe=>{this._updateCurrentPositionClass(xe.connectionPair),this._tooltipInstance&&xe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:_e,panelClass:`${this._cssClassPrefix}-${L}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.Q)(this._destroyed)).subscribe(xe=>{this._isTooltipVisible()&&xe.keyCode===d._f&&!(0,d.rp)(xe)&&(xe.preventDefault(),xe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(J){const ae=J.getConfig().positionStrategy,_e=this._getOrigin(),xe=this._getOverlayPosition();ae.withPositions([this._addOffset({..._e.main,...xe.main}),this._addOffset({..._e.fallback,...xe.fallback})])}_addOffset(J){const _e=!this._dir||"ltr"==this._dir.value;return"top"===J.originY?J.offsetY=-8:"bottom"===J.originY?J.offsetY=8:"start"===J.originX?J.offsetX=_e?-8:8:"end"===J.originX&&(J.offsetX=_e?8:-8),J}_getOrigin(){const J=!this._dir||"ltr"==this._dir.value,ae=this.position;let _e;"above"==ae||"below"==ae?_e={originX:"center",originY:"above"==ae?"top":"bottom"}:"before"==ae||"left"==ae&&J||"right"==ae&&!J?_e={originX:"start",originY:"center"}:("after"==ae||"right"==ae&&J||"left"==ae&&!J)&&(_e={originX:"end",originY:"center"});const{x:xe,y:Fe}=this._invertPosition(_e.originX,_e.originY);return{main:_e,fallback:{originX:xe,originY:Fe}}}_getOverlayPosition(){const J=!this._dir||"ltr"==this._dir.value,ae=this.position;let _e;"above"==ae?_e={overlayX:"center",overlayY:"bottom"}:"below"==ae?_e={overlayX:"center",overlayY:"top"}:"before"==ae||"left"==ae&&J||"right"==ae&&!J?_e={overlayX:"end",overlayY:"center"}:("after"==ae||"right"==ae&&J||"left"==ae&&!J)&&(_e={overlayX:"start",overlayY:"center"});const{x:xe,y:Fe}=this._invertPosition(_e.overlayX,_e.overlayY);return{main:_e,fallback:{overlayX:xe,overlayY:Fe}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,h.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(J){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=J,this._tooltipInstance._markForCheck())}_invertPosition(J,ae){return"above"===this.position||"below"===this.position?"top"===ae?ae="bottom":"bottom"===ae&&(ae="top"):"end"===J?J="start":"start"===J&&(J="end"),{x:J,y:ae}}_updateCurrentPositionClass(J){const{overlayY:ae,originX:_e,originY:xe}=J;let Fe;if(Fe="center"===ae?this._dir&&"rtl"===this._dir.value?"end"===_e?"left":"right":"start"===_e?"left":"right":"bottom"===ae&&"top"===xe?"above":"below",Fe!==this._currentPosition){const Ae=this._overlayRef;if(Ae){const Ye=`${this._cssClassPrefix}-${L}-`;Ae.removePanelClass(Ye+this._currentPosition),Ae.addPanelClass(Ye+Fe)}this._currentPosition=Fe}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",J=>{let ae;this._setupPointerExitEventsIfNeeded(),void 0!==J.x&&void 0!==J.y&&(ae=J),this.show(void 0,ae)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",J=>{const ae=J.targetTouches?.[0],_e=ae?{x:ae.clientX,y:ae.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,_e)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const J=[];if(this._platformSupportsMouseEvents())J.push(["mouseleave",ae=>{const _e=ae.relatedTarget;(!_e||!this._overlayRef?.overlayElement.contains(_e))&&this.hide()}],["wheel",ae=>this._wheelListener(ae)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ae=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};J.push(["touchend",ae],["touchcancel",ae])}this._addListeners(J),this._passiveListeners.push(...J)}_addListeners(J){J.forEach(([ae,_e])=>{this._elementRef.nativeElement.addEventListener(ae,_e,G)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(J){if(this._isTooltipVisible()){const ae=this._document.elementFromPoint(J.clientX,J.clientY),_e=this._elementRef.nativeElement;ae!==_e&&!_e.contains(ae)&&this.hide()}}_disableNativeGesturesIfNecessary(){const J=this.touchGestures;if("off"!==J){const ae=this._elementRef.nativeElement,_e=ae.style;("on"===J||"INPUT"!==ae.nodeName&&"TEXTAREA"!==ae.nodeName)&&(_e.userSelect=_e.msUserSelect=_e.webkitUserSelect=_e.MozUserSelect="none"),("on"===J||!ae.draggable)&&(_e.webkitUserDrag="none"),_e.touchAction="none",_e.webkitTapHighlightColor="transparent"}}_syncAriaDescription(J){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,J,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(ae){return new(ae||F)(h.rXU(u.hJ),h.rXU(h.aKT),h.rXU(I.R),h.rXU(h.c1b),h.rXU(h.SKi),h.rXU(b.OD),h.rXU(E.vr),h.rXU(E.FN),h.rXU(j),h.rXU(_.dS),h.rXU(v,8),h.rXU(g.qQ))};static#t=this.\u0275dir=h.FsC({type:F,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(ae,_e){2&ae&&h.AVh("mat-mdc-tooltip-disabled",_e.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return F})(),ie=(()=>{class F{constructor(J,ae,_e){this._changeDetectorRef=J,this._elementRef=ae,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new y.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===_e}show(J){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},J)}hide(J){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},J)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:J}){(!J||!this._triggerElement.contains(J))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const J=this._elementRef.nativeElement.getBoundingClientRect();return J.height>24&&J.width>=200}_handleAnimationEnd({animationName:J}){(J===this._showAnimation||J===this._hideAnimation)&&this._finalizeAnimation(J===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(J){J?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(J){const ae=this._tooltip.nativeElement,_e=this._showAnimation,xe=this._hideAnimation;if(ae.classList.remove(J?xe:_e),ae.classList.add(J?_e:xe),this._isVisible!==J&&(this._isVisible=J,this._changeDetectorRef.markForCheck()),J&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Fe=getComputedStyle(ae);("0s"===Fe.getPropertyValue("animation-duration")||"none"===Fe.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}J&&this._onShow(),this._animationsDisabled&&(ae.classList.add("_mat-animation-noopable"),this._finalizeAnimation(J))}static#e=this.\u0275fac=function(ae){return new(ae||F)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:F,selectors:[["mat-tooltip-component"]],viewQuery:function(ae,_e){if(1&ae&&h.GBs(B,7),2&ae){let xe;h.mGM(xe=h.lsd())&&(_e._tooltip=xe.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(ae,_e){1&ae&&h.bIt("mouseleave",function(Fe){return _e._handleMouseLeave(Fe)})},standalone:!0,features:[h.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(ae,_e){if(1&ae){const xe=h.RV6();h.j41(0,"div",1,0),h.bIt("animationend",function(Ae){return h.eBV(xe),h.Njj(_e._handleAnimationEnd(Ae))}),h.j41(2,"div",2),h.EFF(3),h.k0s()()}2&ae&&(h.AVh("mdc-tooltip--multiline",_e._isMultiline),h.Y8G("ngClass",_e.tooltipClass),h.R7$(3),h.JRh(_e.message))},dependencies:[g.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return F})(),Y=(()=>{class F{static#e=this.\u0275fac=function(ae){return new(ae||F)};static#t=this.\u0275mod=h.$C({type:F});static#n=this.\u0275inj=h.G2t({providers:[w],imports:[E.Pd,g.MD,u.z_,M.yE,M.yE,I.Gj]})}return F})()},345:(Ot,ve,s)=>{"use strict";s.d(ve,{B7:()=>G,Bb:()=>xt,hE:()=>Qt,sG:()=>he,up:()=>Et});var e=s(177),n=s(3953);class d extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h extends d{static makeCurrent(){(0,e.ZD)(new h)}onAndCancel(Bt,Te,Ge){return Bt.addEventListener(Te,Ge),()=>{Bt.removeEventListener(Te,Ge)}}dispatchEvent(Bt,Te){Bt.dispatchEvent(Te)}remove(Bt){Bt.remove()}createElement(Bt,Te){return(Te=Te||this.getDefaultDocument()).createElement(Bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Bt){return Bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Bt){return Bt instanceof DocumentFragment}getGlobalEventTarget(Bt,Te){return"window"===Te?window:"document"===Te?Bt:"body"===Te?Bt.body:null}getBaseHref(Bt){const Te=function b(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==Te?null:function E(ze){return new URL(ze,document.baseURI).pathname}(Te)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(Bt){return(0,e._b)(document.cookie,Bt)}}let g=null,u=(()=>{class ze{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();const I=new n.nKC("");let k=(()=>{class ze{constructor(Te,Ge){this._zone=Ge,this._eventNameToPlugin=new Map,Te.forEach(Tt=>{Tt.manager=this}),this._plugins=Te.slice().reverse()}addEventListener(Te,Ge,Tt){return this._findPluginFor(Ge).addEventListener(Te,Ge,Tt)}getZone(){return this._zone}_findPluginFor(Te){let Ge=this._eventNameToPlugin.get(Te);if(Ge)return Ge;if(Ge=this._plugins.find(Wt=>Wt.supports(Te)),!Ge)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(Te,Ge),Ge}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(I),n.KVO(n.SKi))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();class y{constructor(Bt){this._doc=Bt}}const x="ng-app-id";let M=(()=>{class ze{constructor(Te,Ge,Tt,Wt={}){this.doc=Te,this.appId=Ge,this.nonce=Tt,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Wt),this.resetHostNodes()}addStyles(Te){for(const Ge of Te)1===this.changeUsageCount(Ge,1)&&this.onStyleAdded(Ge)}removeStyles(Te){for(const Ge of Te)this.changeUsageCount(Ge,-1)<=0&&this.onStyleRemoved(Ge)}ngOnDestroy(){const Te=this.styleNodesInDOM;Te&&(Te.forEach(Ge=>Ge.remove()),Te.clear());for(const Ge of this.getAllStyles())this.onStyleRemoved(Ge);this.resetHostNodes()}addHost(Te){this.hostNodes.add(Te);for(const Ge of this.getAllStyles())this.addStyleToHost(Te,Ge)}removeHost(Te){this.hostNodes.delete(Te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Te){for(const Ge of this.hostNodes)this.addStyleToHost(Ge,Te)}onStyleRemoved(Te){const Ge=this.styleRef;Ge.get(Te)?.elements?.forEach(Tt=>Tt.remove()),Ge.delete(Te)}collectServerRenderedStyles(){const Te=this.doc.head?.querySelectorAll(`style[${x}="${this.appId}"]`);if(Te?.length){const Ge=new Map;return Te.forEach(Tt=>{null!=Tt.textContent&&Ge.set(Tt.textContent,Tt)}),Ge}return null}changeUsageCount(Te,Ge){const Tt=this.styleRef;if(Tt.has(Te)){const Wt=Tt.get(Te);return Wt.usage+=Ge,Wt.usage}return Tt.set(Te,{usage:Ge,elements:[]}),Ge}getStyleElement(Te,Ge){const Tt=this.styleNodesInDOM,Wt=Tt?.get(Ge);if(Wt?.parentNode===Te)return Tt.delete(Ge),Wt.removeAttribute(x),Wt;{const We=this.doc.createElement("style");return this.nonce&&We.setAttribute("nonce",this.nonce),We.textContent=Ge,this.platformIsServer&&We.setAttribute(x,this.appId),Te.appendChild(We),We}}addStyleToHost(Te,Ge){const Tt=this.getStyleElement(Te,Ge),Wt=this.styleRef,We=Wt.get(Ge)?.elements;We?We.push(Tt):Wt.set(Ge,{elements:[Tt],usage:1})}resetHostNodes(){const Te=this.hostNodes;Te.clear(),Te.add(this.doc.head)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();const B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},K=/%COMP%/g,P="%COMP%",j=`_nghost-${P}`,S=`_ngcontent-${P}`,m=new n.nKC("",{providedIn:"root",factory:()=>!0});function L(ze,Bt){return Bt.map(Te=>Te.replace(K,ze))}let G=(()=>{class ze{constructor(Te,Ge,Tt,Wt,We,Pe,Ue,De=null){this.eventManager=Te,this.sharedStylesHost=Ge,this.appId=Tt,this.removeStylesOnCompDestroy=Wt,this.doc=We,this.platformId=Pe,this.ngZone=Ue,this.nonce=De,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(Pe),this.defaultRenderer=new O(Te,We,Ue,this.platformIsServer)}createRenderer(Te,Ge){if(!Te||!Ge)return this.defaultRenderer;this.platformIsServer&&Ge.encapsulation===n.gXe.ShadowDom&&(Ge={...Ge,encapsulation:n.gXe.Emulated});const Tt=this.getOrCreateRenderer(Te,Ge);return Tt instanceof me?Tt.applyToHost(Te):Tt instanceof ie&&Tt.applyStyles(),Tt}getOrCreateRenderer(Te,Ge){const Tt=this.rendererByCompId;let Wt=Tt.get(Ge.id);if(!Wt){const We=this.doc,Pe=this.ngZone,Ue=this.eventManager,De=this.sharedStylesHost,rt=this.removeStylesOnCompDestroy,Qe=this.platformIsServer;switch(Ge.encapsulation){case n.gXe.Emulated:Wt=new me(Ue,De,Ge,this.appId,rt,We,Pe,Qe);break;case n.gXe.ShadowDom:return new te(Ue,De,Te,Ge,We,Pe,this.nonce,Qe);default:Wt=new ie(Ue,De,Ge,rt,We,Pe,Qe)}Tt.set(Ge.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(k),n.KVO(M),n.KVO(n.sZ2),n.KVO(m),n.KVO(e.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();class O{constructor(Bt,Te,Ge,Tt){this.eventManager=Bt,this.doc=Te,this.ngZone=Ge,this.platformIsServer=Tt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Bt,Te){return Te?this.doc.createElementNS(B[Te]||Te,Bt):this.doc.createElement(Bt)}createComment(Bt){return this.doc.createComment(Bt)}createText(Bt){return this.doc.createTextNode(Bt)}appendChild(Bt,Te){($(Bt)?Bt.content:Bt).appendChild(Te)}insertBefore(Bt,Te,Ge){Bt&&($(Bt)?Bt.content:Bt).insertBefore(Te,Ge)}removeChild(Bt,Te){Te.remove()}selectRootElement(Bt,Te){let Ge="string"==typeof Bt?this.doc.querySelector(Bt):Bt;if(!Ge)throw new n.wOt(-5104,!1);return Te||(Ge.textContent=""),Ge}parentNode(Bt){return Bt.parentNode}nextSibling(Bt){return Bt.nextSibling}setAttribute(Bt,Te,Ge,Tt){if(Tt){Te=Tt+":"+Te;const Wt=B[Tt];Wt?Bt.setAttributeNS(Wt,Te,Ge):Bt.setAttribute(Te,Ge)}else Bt.setAttribute(Te,Ge)}removeAttribute(Bt,Te,Ge){if(Ge){const Tt=B[Ge];Tt?Bt.removeAttributeNS(Tt,Te):Bt.removeAttribute(`${Ge}:${Te}`)}else Bt.removeAttribute(Te)}addClass(Bt,Te){Bt.classList.add(Te)}removeClass(Bt,Te){Bt.classList.remove(Te)}setStyle(Bt,Te,Ge,Tt){Tt&(n.czy.DashCase|n.czy.Important)?Bt.style.setProperty(Te,Ge,Tt&n.czy.Important?"important":""):Bt.style[Te]=Ge}removeStyle(Bt,Te,Ge){Ge&n.czy.DashCase?Bt.style.removeProperty(Te):Bt.style[Te]=""}setProperty(Bt,Te,Ge){null!=Bt&&(Bt[Te]=Ge)}setValue(Bt,Te){Bt.nodeValue=Te}listen(Bt,Te,Ge){if("string"==typeof Bt&&!(Bt=(0,e.QT)().getGlobalEventTarget(this.doc,Bt)))throw new Error(`Unsupported event target ${Bt} for event ${Te}`);return this.eventManager.addEventListener(Bt,Te,this.decoratePreventDefault(Ge))}decoratePreventDefault(Bt){return Te=>{if("__ngUnwrap__"===Te)return Bt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Bt(Te)):Bt(Te))&&Te.preventDefault()}}}function $(ze){return"TEMPLATE"===ze.tagName&&void 0!==ze.content}class te extends O{constructor(Bt,Te,Ge,Tt,Wt,We,Pe,Ue){super(Bt,Wt,We,Ue),this.sharedStylesHost=Te,this.hostEl=Ge,this.shadowRoot=Ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const De=L(Tt.id,Tt.styles);for(const rt of De){const Qe=document.createElement("style");Pe&&Qe.setAttribute("nonce",Pe),Qe.textContent=rt,this.shadowRoot.appendChild(Qe)}}nodeOrShadowRoot(Bt){return Bt===this.hostEl?this.shadowRoot:Bt}appendChild(Bt,Te){return super.appendChild(this.nodeOrShadowRoot(Bt),Te)}insertBefore(Bt,Te,Ge){return super.insertBefore(this.nodeOrShadowRoot(Bt),Te,Ge)}removeChild(Bt,Te){return super.removeChild(null,Te)}parentNode(Bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Bt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ie extends O{constructor(Bt,Te,Ge,Tt,Wt,We,Pe,Ue){super(Bt,Wt,We,Pe),this.sharedStylesHost=Te,this.removeStylesOnCompDestroy=Tt,this.styles=Ue?L(Ue,Ge.styles):Ge.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class me extends ie{constructor(Bt,Te,Ge,Tt,Wt,We,Pe,Ue){const De=Tt+"-"+Ge.id;super(Bt,Te,Ge,Wt,We,Pe,Ue,De),this.contentAttr=function v(ze){return S.replace(K,ze)}(De),this.hostAttr=function A(ze){return j.replace(K,ze)}(De)}applyToHost(Bt){this.applyStyles(),this.setAttribute(Bt,this.hostAttr,"")}createElement(Bt,Te){const Ge=super.createElement(Bt,Te);return super.setAttribute(Ge,this.contentAttr,""),Ge}}let Y=(()=>{class ze extends y{constructor(Te){super(Te)}supports(Te){return!0}addEventListener(Te,Ge,Tt){return Te.addEventListener(Ge,Tt,!1),()=>this.removeEventListener(Te,Ge,Tt)}removeEventListener(Te,Ge,Tt){return Te.removeEventListener(Ge,Tt)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})(),F=(()=>{class ze extends y{constructor(Te){super(Te),this.delegate=(0,n.WQX)(n.zAP,{optional:!0})}supports(Te){return!!this.delegate&&this.delegate.supports(Te)}addEventListener(Te,Ge,Tt){return this.delegate.addEventListener(Te,Ge,Tt)}removeEventListener(Te,Ge,Tt){return this.delegate.removeEventListener(Te,Ge,Tt)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();const N=["alt","control","meta","shift"],J={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ae={alt:ze=>ze.altKey,control:ze=>ze.ctrlKey,meta:ze=>ze.metaKey,shift:ze=>ze.shiftKey};let _e=(()=>{class ze extends y{constructor(Te){super(Te)}supports(Te){return null!=ze.parseEventName(Te)}addEventListener(Te,Ge,Tt){const Wt=ze.parseEventName(Ge),We=ze.eventCallback(Wt.fullKey,Tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(Te,Wt.domEventName,We))}static parseEventName(Te){const Ge=Te.toLowerCase().split("."),Tt=Ge.shift();if(0===Ge.length||"keydown"!==Tt&&"keyup"!==Tt)return null;const Wt=ze._normalizeKey(Ge.pop());let We="",Pe=Ge.indexOf("code");if(Pe>-1&&(Ge.splice(Pe,1),We="code."),N.forEach(De=>{const rt=Ge.indexOf(De);rt>-1&&(Ge.splice(rt,1),We+=De+".")}),We+=Wt,0!=Ge.length||0===Wt.length)return null;const Ue={};return Ue.domEventName=Tt,Ue.fullKey=We,Ue}static matchEventFullKeyCode(Te,Ge){let Tt=J[Te.key]||Te.key,Wt="";return Ge.indexOf("code.")>-1&&(Tt=Te.code,Wt="code."),!(null==Tt||!Tt)&&(Tt=Tt.toLowerCase()," "===Tt?Tt="space":"."===Tt&&(Tt="dot"),N.forEach(We=>{We!==Tt&&(0,ae[We])(Te)&&(Wt+=We+".")}),Wt+=Tt,Wt===Ge)}static eventCallback(Te,Ge,Tt){return Wt=>{ze.matchEventFullKeyCode(Wt,Te)&&Tt.runGuarded(()=>Ge(Wt))}}static _normalizeKey(Te){return"esc"===Te?"escape":Te}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac})}return ze})();const he=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:e.AJ},{provide:n.PLl,useValue:function qe(){h.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function Me(){return(0,n.TL$)(document),document},deps:[]}]),le=new n.nKC(""),Ee=[{provide:n.e01,useClass:class _{addToWindow(Bt){n.JZv.getAngularTestability=(Ge,Tt=!0)=>{const Wt=Bt.findTestabilityInTree(Ge,Tt);if(null==Wt)throw new n.wOt(5103,!1);return Wt},n.JZv.getAllAngularTestabilities=()=>Bt.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>Bt.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(Ge=>{const Tt=n.JZv.getAllAngularTestabilities();let Wt=Tt.length;const We=function(){Wt--,0==Wt&&Ge()};Tt.forEach(Pe=>{Pe.whenStable(We)})})}findTestabilityInTree(Bt,Te,Ge){return null==Te?null:Bt.getTestability(Te)??(Ge?(0,e.QT)().isShadowRoot(Te)?this.findTestabilityInTree(Bt,Te.host,!0):this.findTestabilityInTree(Bt,Te.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],Xe=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function Ne(){return new n.zcH},deps:[]},{provide:I,useClass:Y,multi:!0,deps:[e.qQ,n.SKi,n.Agw]},{provide:I,useClass:_e,multi:!0,deps:[e.qQ]},{provide:I,useClass:F,multi:!0},G,M,k,{provide:n._9s,useExisting:G},{provide:e.N0,useClass:u,deps:[]},[]];let xt=(()=>{class ze{constructor(Te){}static withServerTransition(Te){return{ngModule:ze,providers:[{provide:n.sZ2,useValue:Te.appId}]}}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(le,12))};static#t=this.\u0275mod=n.$C({type:ze});static#n=this.\u0275inj=n.G2t({providers:[...Xe,...Ee],imports:[e.MD,n.Hbi]})}return ze})(),Qt=(()=>{class ze{constructor(Te){this._doc=Te}getTitle(){return this._doc.title}setTitle(Te){this._doc.title=Te||""}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})(),Et=(()=>{class ze{static#e=this.\u0275fac=function(Ge){return new(Ge||ze)};static#t=this.\u0275prov=n.jDH({token:ze,factory:function(Ge){let Tt=null;return Tt=Ge?new(Ge||ze):n.KVO(bt),Tt},providedIn:"root"})}return ze})(),bt=(()=>{class ze extends Et{constructor(Te){super(),this._doc=Te}sanitize(Te,Ge){if(null==Ge)return null;switch(Te){case n.WPN.NONE:return Ge;case n.WPN.HTML:return(0,n.ZF7)(Ge,"HTML")?(0,n.rcV)(Ge):(0,n.h9k)(this._doc,String(Ge)).toString();case n.WPN.STYLE:return(0,n.ZF7)(Ge,"Style")?(0,n.rcV)(Ge):Ge;case n.WPN.SCRIPT:if((0,n.ZF7)(Ge,"Script"))return(0,n.rcV)(Ge);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(Ge,"URL")?(0,n.rcV)(Ge):(0,n.$MX)(String(Ge));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(Ge,"ResourceURL"))return(0,n.rcV)(Ge);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(Te){return(0,n.Kcf)(Te)}bypassSecurityTrustStyle(Te){return(0,n.cWb)(Te)}bypassSecurityTrustScript(Te){return(0,n.UyX)(Te)}bypassSecurityTrustUrl(Te){return(0,n.osQ)(Te)}bypassSecurityTrustResourceUrl(Te){return(0,n.e5t)(Te)}static#e=this.\u0275fac=function(Ge){return new(Ge||ze)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})()},2091:(Ot,ve,s)=>{"use strict";s.d(ve,{nX:()=>$s,j5:()=>Ei,wF:()=>hn,L6:()=>Wi,Z:()=>Dt,gx:()=>Gi,Ix:()=>Mo,Wk:()=>or,wQ:()=>$d,iI:()=>D_,n3:()=>xo});var e=s(3953),n=s(8982),d=s(4787),h=s(4421),g=s(9928),b=s(9714),E=s(9994),_=s(1639),u=s(9418),I=s(8167),k=s(4526),y=s(1235),x=s(4725),M=s(5286),B=s(4337),K=s(177),P=s(5006),j=s(9090),S=s(9493),w=s(3176),m=s(8728),v=s(8456),A=s(4046),L=s(3574),G=s(8841),O=s(3921),W=s(762);class ${constructor(ye,de,Oe=!1){this.accumulator=ye,this.seed=de,this.hasSeed=Oe}call(ye,de){return de.subscribe(new te(ye,this.accumulator,this.seed,this.hasSeed))}}class te extends W.v{constructor(ye,de,Oe,ut){super(ye),this.accumulator=de,this._seed=Oe,this.hasSeed=ut,this.index=0}get seed(){return this._seed}set seed(ye){this.hasSeed=!0,this._seed=ye}_next(ye){if(this.hasSeed)return this._tryNext(ye);this.seed=ye,this.destination.next(ye)}_tryNext(ye){const de=this.index++;let Oe;try{Oe=this.accumulator(this.seed,ye,de)}catch(ut){this.destination.error(ut)}this.seed=Oe,this.destination.next(Oe)}}var ie=s(7849),me=s(434);function Y(ce){return function(de){return 0===ce?(0,y.I)():de.lift(new F(ce))}}class F{constructor(ye){if(this.total=ye,this.total<0)throw new me.k}call(ye,de){return de.subscribe(new N(ye,this.total))}}class N extends W.v{constructor(ye,de){super(ye),this.total=de,this.ring=new Array,this.count=0}_next(ye){const de=this.ring,Oe=this.total,ut=this.count++;de.length<Oe?de.push(ye):de[ut%Oe]=ye}_complete(){const ye=this.destination;let de=this.count;if(de>0){const Oe=this.count>=this.total?this.total:this.count,ut=this.ring;for(let Lt=0;Lt<Oe;Lt++){const Zt=de++%Oe;ye.next(ut[Zt])}}ye.complete()}}var J=s(3314),ae=s(5241);class Fe{constructor(ye){this.value=ye}call(ye,de){return de.subscribe(new Ae(ye,this.value))}}class Ae extends W.v{constructor(ye,de){super(ye),this.value=de}_next(ye){this.destination.next(this.value)}}var Ye=s(7312),qe=s(3110),Ne=s(7605),Me=s(6201),pe=s(345);const he="primary",le=Symbol("RouteTitle");class Ee{constructor(ye){this.params=ye||{}}has(ye){return Object.prototype.hasOwnProperty.call(this.params,ye)}get(ye){if(this.has(ye)){const de=this.params[ye];return Array.isArray(de)?de[0]:de}return null}getAll(ye){if(this.has(ye)){const de=this.params[ye];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function Xe(ce){return new Ee(ce)}function xt(ce,ye,de){const Oe=de.path.split("/");if(Oe.length>ce.length||"full"===de.pathMatch&&(ye.hasChildren()||Oe.length<ce.length))return null;const ut={};for(let Lt=0;Lt<Oe.length;Lt++){const Zt=Oe[Lt],wn=ce[Lt];if(":"===Zt[0])ut[Zt.substring(1)]=wn;else if(Zt!==wn.path)return null}return{consumed:ce.slice(0,Oe.length),posParams:ut}}function Ct(ce,ye){const de=ce?Qt(ce):void 0,Oe=ye?Qt(ye):void 0;if(!de||!Oe||de.length!=Oe.length)return!1;let ut;for(let Lt=0;Lt<de.length;Lt++)if(ut=de[Lt],!_n(ce[ut],ye[ut]))return!1;return!0}function Qt(ce){return[...Object.keys(ce),...Object.getOwnPropertySymbols(ce)]}function _n(ce,ye){if(Array.isArray(ce)&&Array.isArray(ye)){if(ce.length!==ye.length)return!1;const de=[...ce].sort(),Oe=[...ye].sort();return de.every((ut,Lt)=>Oe[Lt]===ut)}return ce===ye}function In(ce){return ce.length>0?ce[ce.length-1]:null}function rn(ce){return(0,n.A)(ce)?ce:(0,e.jNT)(ce)?(0,d.H)(Promise.resolve(ce)):(0,h.of)(ce)}const $t={exact:function fe(ce,ye,de){if(!Yt(ce.segments,ye.segments)||!vn(ce.segments,ye.segments,de)||ce.numberOfChildren!==ye.numberOfChildren)return!1;for(const Oe in ye.children)if(!ce.children[Oe]||!fe(ce.children[Oe],ye.children[Oe],de))return!1;return!0},subset:It},q={exact:function se(ce,ye){return Ct(ce,ye)},subset:function Ke(ce,ye){return Object.keys(ye).length<=Object.keys(ce).length&&Object.keys(ye).every(de=>_n(ce[de],ye[de]))},ignored:()=>!0};function Ie(ce,ye,de){return $t[de.paths](ce.root,ye.root,de.matrixParams)&&q[de.queryParams](ce.queryParams,ye.queryParams)&&!("exact"===de.fragment&&ce.fragment!==ye.fragment)}function It(ce,ye,de){return Kt(ce,ye,ye.segments,de)}function Kt(ce,ye,de,Oe){if(ce.segments.length>de.length){const ut=ce.segments.slice(0,de.length);return!(!Yt(ut,de)||ye.hasChildren()||!vn(ut,de,Oe))}if(ce.segments.length===de.length){if(!Yt(ce.segments,de)||!vn(ce.segments,de,Oe))return!1;for(const ut in ye.children)if(!ce.children[ut]||!It(ce.children[ut],ye.children[ut],Oe))return!1;return!0}{const ut=de.slice(0,ce.segments.length),Lt=de.slice(ce.segments.length);return!!(Yt(ce.segments,ut)&&vn(ce.segments,ut,Oe)&&ce.children[he])&&Kt(ce.children[he],ye,Lt,Oe)}}function vn(ce,ye,de){return ye.every((Oe,ut)=>q[de](ce[ut].parameters,Oe.parameters))}class Pt{constructor(ye=new an([],{}),de={},Oe=null){this.root=ye,this.queryParams=de,this.fragment=Oe}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return Mn.serialize(this)}}class an{constructor(ye,de){this.segments=ye,this.children=de,this.parent=null,Object.values(de).forEach(Oe=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Et{constructor(ye,de){this.path=ye,this.parameters=de}get parameterMap(){return this._parameterMap??=Xe(this.parameters),this._parameterMap}toString(){return Tt(this)}}function Yt(ce,ye){return ce.length===ye.length&&ce.every((de,Oe)=>de.path===ye[Oe].path)}let nn=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:()=>new yn,providedIn:"root"})}return ce})();class yn{parse(ye){const de=new Mt(ye);return new Pt(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(ye){const de=`/${Fn(ye.root,!0)}`,Oe=function We(ce){const ye=Object.entries(ce).map(([de,Oe])=>Array.isArray(Oe)?Oe.map(ut=>`${Ht(de)}=${Ht(ut)}`).join("&"):`${Ht(de)}=${Ht(Oe)}`).filter(de=>de);return ye.length?`?${ye.join("&")}`:""}(ye.queryParams);return`${de}${Oe}${"string"==typeof ye.fragment?`#${function ze(ce){return encodeURI(ce)}(ye.fragment)}`:""}`}}const Mn=new yn;function Ln(ce){return ce.segments.map(ye=>Tt(ye)).join("/")}function Fn(ce,ye){if(!ce.hasChildren())return Ln(ce);if(ye){const de=ce.children[he]?Fn(ce.children[he],!1):"",Oe=[];return Object.entries(ce.children).forEach(([ut,Lt])=>{ut!==he&&Oe.push(`${ut}:${Fn(Lt,!1)}`)}),Oe.length>0?`${de}(${Oe.join("//")})`:de}{const de=function Xt(ce,ye){let de=[];return Object.entries(ce.children).forEach(([Oe,ut])=>{Oe===he&&(de=de.concat(ye(ut,Oe)))}),Object.entries(ce.children).forEach(([Oe,ut])=>{Oe!==he&&(de=de.concat(ye(ut,Oe)))}),de}(ce,(Oe,ut)=>ut===he?[Fn(ce.children[he],!1)]:[`${ut}:${Fn(Oe,!1)}`]);return 1===Object.keys(ce.children).length&&null!=ce.children[he]?`${Ln(ce)}/${de[0]}`:`${Ln(ce)}/(${de.join("//")})`}}function $n(ce){return encodeURIComponent(ce).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ht(ce){return $n(ce).replace(/%3B/gi,";")}function Bt(ce){return $n(ce).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Te(ce){return decodeURIComponent(ce)}function Ge(ce){return Te(ce.replace(/\+/g,"%20"))}function Tt(ce){return`${Bt(ce.path)}${function Wt(ce){return Object.entries(ce).map(([ye,de])=>`;${Bt(ye)}=${Bt(de)}`).join("")}(ce.parameters)}`}const Pe=/^[^\/()?;#]+/;function Ue(ce){const ye=ce.match(Pe);return ye?ye[0]:""}const De=/^[^\/()?;=#]+/,Qe=/^[^=?&#]+/,et=/^[^&#]+/;class Mt{constructor(ye){this.url=ye,this.remaining=ye}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const ye={};if(this.consumeOptional("?"))do{this.parseQueryParam(ye)}while(this.consumeOptional("&"));return ye}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ye=[];for(this.peekStartsWith("(")||ye.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ye.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(ye.length>0||Object.keys(de).length>0)&&(Oe[he]=new an(ye,de)),Oe}parseSegment(){const ye=Ue(this.remaining);if(""===ye&&this.peekStartsWith(";"))throw new e.wOt(4009,!1);return this.capture(ye),new Et(Te(ye),this.parseMatrixParams())}parseMatrixParams(){const ye={};for(;this.consumeOptional(";");)this.parseParam(ye);return ye}parseParam(ye){const de=function rt(ce){const ye=ce.match(De);return ye?ye[0]:""}(this.remaining);if(!de)return;this.capture(de);let Oe="";if(this.consumeOptional("=")){const ut=Ue(this.remaining);ut&&(Oe=ut,this.capture(Oe))}ye[Te(de)]=Te(Oe)}parseQueryParam(ye){const de=function vt(ce){const ye=ce.match(Qe);return ye?ye[0]:""}(this.remaining);if(!de)return;this.capture(de);let Oe="";if(this.consumeOptional("=")){const Zt=function Re(ce){const ye=ce.match(et);return ye?ye[0]:""}(this.remaining);Zt&&(Oe=Zt,this.capture(Oe))}const ut=Ge(de),Lt=Ge(Oe);if(ye.hasOwnProperty(ut)){let Zt=ye[ut];Array.isArray(Zt)||(Zt=[Zt],ye[ut]=Zt),Zt.push(Lt)}else ye[ut]=Lt}parseParens(ye){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=Ue(this.remaining),ut=this.remaining[Oe.length];if("/"!==ut&&")"!==ut&&";"!==ut)throw new e.wOt(4010,!1);let Lt;Oe.indexOf(":")>-1?(Lt=Oe.slice(0,Oe.indexOf(":")),this.capture(Lt),this.capture(":")):ye&&(Lt=he);const Zt=this.parseChildren();de[Lt]=1===Object.keys(Zt).length?Zt[he]:new an([],Zt),this.consumeOptional("//")}return de}peekStartsWith(ye){return this.remaining.startsWith(ye)}consumeOptional(ye){return!!this.peekStartsWith(ye)&&(this.remaining=this.remaining.substring(ye.length),!0)}capture(ye){if(!this.consumeOptional(ye))throw new e.wOt(4011,!1)}}function nt(ce){return ce.segments.length>0?new an([],{[he]:ce}):ce}function Ze(ce){const ye={};for(const[Oe,ut]of Object.entries(ce.children)){const Lt=Ze(ut);if(Oe===he&&0===Lt.segments.length&&Lt.hasChildren())for(const[Zt,wn]of Object.entries(Lt.children))ye[Zt]=wn;else(Lt.segments.length>0||Lt.hasChildren())&&(ye[Oe]=Lt)}return function qt(ce){if(1===ce.numberOfChildren&&ce.children[he]){const ye=ce.children[he];return new an(ce.segments.concat(ye.segments),ye.children)}return ce}(new an(ce.segments,ye))}function Vt(ce){return ce instanceof Pt}function xn(ce){let ye;const ut=nt(function de(Lt){const Zt={};for(const Tn of Lt.children){const ci=de(Tn);Zt[Tn.outlet]=ci}const wn=new an(Lt.url,Zt);return Lt===ce&&(ye=wn),wn}(ce.root));return ye??ut}function Wn(ce,ye,de,Oe){let ut=ce;for(;ut.parent;)ut=ut.parent;if(0===ye.length)return Ii(ut,ut,ut,de,Oe);const Lt=function ys(ce){if("string"==typeof ce[0]&&1===ce.length&&"/"===ce[0])return new ss(!0,0,ce);let ye=0,de=!1;const Oe=ce.reduce((ut,Lt,Zt)=>{if("object"==typeof Lt&&null!=Lt){if(Lt.outlets){const wn={};return Object.entries(Lt.outlets).forEach(([Tn,ci])=>{wn[Tn]="string"==typeof ci?ci.split("/"):ci}),[...ut,{outlets:wn}]}if(Lt.segmentPath)return[...ut,Lt.segmentPath]}return"string"!=typeof Lt?[...ut,Lt]:0===Zt?(Lt.split("/").forEach((wn,Tn)=>{0==Tn&&"."===wn||(0==Tn&&""===wn?de=!0:".."===wn?ye++:""!=wn&&ut.push(wn))}),ut):[...ut,Lt]},[]);return new ss(de,ye,Oe)}(ye);if(Lt.toRoot())return Ii(ut,ut,new an([],{}),de,Oe);const Zt=function mn(ce,ye,de){if(ce.isAbsolute)return new $i(ye,!0,0);if(!de)return new $i(ye,!1,NaN);if(null===de.parent)return new $i(de,!0,0);const Oe=Xn(ce.commands[0])?0:1;return function gt(ce,ye,de){let Oe=ce,ut=ye,Lt=de;for(;Lt>ut;){if(Lt-=ut,Oe=Oe.parent,!Oe)throw new e.wOt(4005,!1);ut=Oe.segments.length}return new $i(Oe,!1,ut-Lt)}(de,de.segments.length-1+Oe,ce.numberOfDoubleDots)}(Lt,ut,ce),wn=Zt.processChildren?bn(Zt.segmentGroup,Zt.index,Lt.commands):St(Zt.segmentGroup,Zt.index,Lt.commands);return Ii(ut,Zt.segmentGroup,wn,de,Oe)}function Xn(ce){return"object"==typeof ce&&null!=ce&&!ce.outlets&&!ce.segmentPath}function ti(ce){return"object"==typeof ce&&null!=ce&&ce.outlets}function Ii(ce,ye,de,Oe,ut){let Zt,Lt={};Oe&&Object.entries(Oe).forEach(([Tn,ci])=>{Lt[Tn]=Array.isArray(ci)?ci.map(Kn=>`${Kn}`):`${ci}`}),Zt=ce===ye?de:yi(ce,ye,de);const wn=nt(Ze(Zt));return new Pt(wn,Lt,ut)}function yi(ce,ye,de){const Oe={};return Object.entries(ce.children).forEach(([ut,Lt])=>{Oe[ut]=Lt===ye?de:yi(Lt,ye,de)}),new an(ce.segments,Oe)}class ss{constructor(ye,de,Oe){if(this.isAbsolute=ye,this.numberOfDoubleDots=de,this.commands=Oe,ye&&Oe.length>0&&Xn(Oe[0]))throw new e.wOt(4003,!1);const ut=Oe.find(ti);if(ut&&ut!==In(Oe))throw new e.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $i{constructor(ye,de,Oe){this.segmentGroup=ye,this.processChildren=de,this.index=Oe}}function St(ce,ye,de){if(ce??=new an([],{}),0===ce.segments.length&&ce.hasChildren())return bn(ce,ye,de);const Oe=function st(ce,ye,de){let Oe=0,ut=ye;const Lt={match:!1,pathIndex:0,commandIndex:0};for(;ut<ce.segments.length;){if(Oe>=de.length)return Lt;const Zt=ce.segments[ut],wn=de[Oe];if(ti(wn))break;const Tn=`${wn}`,ci=Oe<de.length-1?de[Oe+1]:null;if(ut>0&&void 0===Tn)break;if(Tn&&ci&&"object"==typeof ci&&void 0===ci.outlets){if(!At(Tn,ci,Zt))return Lt;Oe+=2}else{if(!At(Tn,{},Zt))return Lt;Oe++}ut++}return{match:!0,pathIndex:ut,commandIndex:Oe}}(ce,ye,de),ut=de.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<ce.segments.length){const Lt=new an(ce.segments.slice(0,Oe.pathIndex),{});return Lt.children[he]=new an(ce.segments.slice(Oe.pathIndex),ce.children),bn(Lt,0,ut)}return Oe.match&&0===ut.length?new an(ce.segments,{}):Oe.match&&!ce.hasChildren()?it(ce,ye,de):Oe.match?bn(ce,0,ut):it(ce,ye,de)}function bn(ce,ye,de){if(0===de.length)return new an(ce.segments,{});{const Oe=function pt(ce){return ti(ce[0])?ce[0].outlets:{[he]:ce}}(de),ut={};if(Object.keys(Oe).some(Lt=>Lt!==he)&&ce.children[he]&&1===ce.numberOfChildren&&0===ce.children[he].segments.length){const Lt=bn(ce.children[he],ye,de);return new an(ce.segments,Lt.children)}return Object.entries(Oe).forEach(([Lt,Zt])=>{"string"==typeof Zt&&(Zt=[Zt]),null!==Zt&&(ut[Lt]=St(ce.children[Lt],ye,Zt))}),Object.entries(ce.children).forEach(([Lt,Zt])=>{void 0===Oe[Lt]&&(ut[Lt]=Zt)}),new an(ce.segments,ut)}}function it(ce,ye,de){const Oe=ce.segments.slice(0,ye);let ut=0;for(;ut<de.length;){const Lt=de[ut];if(ti(Lt)){const Tn=Gt(Lt.outlets);return new an(Oe,Tn)}if(0===ut&&Xn(de[0])){Oe.push(new Et(ce.segments[ye].path,Se(de[0]))),ut++;continue}const Zt=ti(Lt)?Lt.outlets[he]:`${Lt}`,wn=ut<de.length-1?de[ut+1]:null;Zt&&wn&&Xn(wn)?(Oe.push(new Et(Zt,Se(wn))),ut+=2):(Oe.push(new Et(Zt,{})),ut++)}return new an(Oe,{})}function Gt(ce){const ye={};return Object.entries(ce).forEach(([de,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(ye[de]=it(new an([],{}),0,Oe))}),ye}function Se(ce){const ye={};return Object.entries(ce).forEach(([de,Oe])=>ye[de]=`${Oe}`),ye}function At(ce,ye,de){return ce==de.path&&Ct(ye,de.parameters)}const ne="imperative";var ke=function(ce){return ce[ce.NavigationStart=0]="NavigationStart",ce[ce.NavigationEnd=1]="NavigationEnd",ce[ce.NavigationCancel=2]="NavigationCancel",ce[ce.NavigationError=3]="NavigationError",ce[ce.RoutesRecognized=4]="RoutesRecognized",ce[ce.ResolveStart=5]="ResolveStart",ce[ce.ResolveEnd=6]="ResolveEnd",ce[ce.GuardsCheckStart=7]="GuardsCheckStart",ce[ce.GuardsCheckEnd=8]="GuardsCheckEnd",ce[ce.RouteConfigLoadStart=9]="RouteConfigLoadStart",ce[ce.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ce[ce.ChildActivationStart=11]="ChildActivationStart",ce[ce.ChildActivationEnd=12]="ChildActivationEnd",ce[ce.ActivationStart=13]="ActivationStart",ce[ce.ActivationEnd=14]="ActivationEnd",ce[ce.Scroll=15]="Scroll",ce[ce.NavigationSkipped=16]="NavigationSkipped",ce}(ke||{});class He{constructor(ye,de){this.id=ye,this.url=de}}class Dt extends He{constructor(ye,de,Oe="imperative",ut=null){super(ye,de),this.type=ke.NavigationStart,this.navigationTrigger=Oe,this.restoredState=ut}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends He{constructor(ye,de,Oe){super(ye,de),this.urlAfterRedirects=Oe,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bn=function(ce){return ce[ce.Redirect=0]="Redirect",ce[ce.SupersededByNewNavigation=1]="SupersededByNewNavigation",ce[ce.NoDataFromResolver=2]="NoDataFromResolver",ce[ce.GuardRejected=3]="GuardRejected",ce}(Bn||{}),ai=function(ce){return ce[ce.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ce[ce.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ce}(ai||{});class Ei extends He{constructor(ye,de,Oe,ut){super(ye,de),this.reason=Oe,this.code=ut,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class es extends He{constructor(ye,de,Oe,ut){super(ye,de),this.reason=Oe,this.code=ut,this.type=ke.NavigationSkipped}}class Wi extends He{constructor(ye,de,Oe,ut){super(ye,de),this.error=Oe,this.target=ut,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zi extends He{constructor(ye,de,Oe,ut){super(ye,de),this.urlAfterRedirects=Oe,this.state=ut,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends He{constructor(ye,de,Oe,ut){super(ye,de),this.urlAfterRedirects=Oe,this.state=ut,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends He{constructor(ye,de,Oe,ut,Lt){super(ye,de),this.urlAfterRedirects=Oe,this.state=ut,this.shouldActivate=Lt,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Js extends He{constructor(ye,de,Oe,ut){super(ye,de),this.urlAfterRedirects=Oe,this.state=ut,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends He{constructor(ye,de,Oe,ut){super(ye,de),this.urlAfterRedirects=Oe,this.state=ut,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{constructor(ye){this.route=ye,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ho{constructor(ye){this.route=ye,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class io{constructor(ye){this.snapshot=ye,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(ye){this.snapshot=ye,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(ye){this.snapshot=ye,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(ye){this.snapshot=ye,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(ye,de,Oe){this.routerEvent=ye,this.position=de,this.anchor=Oe,this.type=ke.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zs{}class nr{constructor(ye,de){this.url=ye,this.navigationBehaviorOptions=de}}function _o(ce){return ce.outlet||he}function ir(ce){if(!ce)return null;if(ce.routeConfig?._injector)return ce.routeConfig._injector;for(let ye=ce.parent;ye;ye=ye.parent){const de=ye.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class Ve{get injector(){return ir(this.route?.snapshot)??this.rootInjector}set injector(ye){}constructor(ye){this.rootInjector=ye,this.outlet=null,this.route=null,this.children=new jt(this.rootInjector),this.attachRef=null}}let jt=(()=>{class ce{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Oe){const ut=this.getOrCreateContext(de);ut.outlet=Oe,this.contexts.set(de,ut)}onChildOutletDestroyed(de){const Oe=this.getContext(de);Oe&&(Oe.outlet=null,Oe.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Oe=this.getContext(de);return Oe||(Oe=new Ve(this.rootInjector),this.contexts.set(de,Oe)),Oe}getContext(de){return this.contexts.get(de)||null}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.KVO(e.uvJ))};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();class un{constructor(ye){this._root=ye}get root(){return this._root.value}parent(ye){const de=this.pathFromRoot(ye);return de.length>1?de[de.length-2]:null}children(ye){const de=kn(ye,this._root);return de?de.children.map(Oe=>Oe.value):[]}firstChild(ye){const de=kn(ye,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(ye){const de=Bi(ye,this._root);return de.length<2?[]:de[de.length-2].children.map(ut=>ut.value).filter(ut=>ut!==ye)}pathFromRoot(ye){return Bi(ye,this._root).map(de=>de.value)}}function kn(ce,ye){if(ce===ye.value)return ye;for(const de of ye.children){const Oe=kn(ce,de);if(Oe)return Oe}return null}function Bi(ce,ye){if(ce===ye.value)return[ye];for(const de of ye.children){const Oe=Bi(ce,de);if(Oe.length)return Oe.unshift(ye),Oe}return[]}class vi{constructor(ye,de){this.value=ye,this.children=de}toString(){return`TreeNode(${this.value})`}}function Ki(ce){const ye={};return ce&&ce.children.forEach(de=>ye[de.value.outlet]=de),ye}class ji extends un{constructor(ye,de){super(ye),this.snapshot=de,ws(this,ye)}toString(){return this.snapshot.toString()}}function Ks(ce){const ye=function vs(ce){const Lt=new Ws([],{},{},"",{},he,ce,null,{});return new qs("",new vi(Lt,[]))}(ce),de=new g.t([new Et("",{})]),Oe=new g.t({}),ut=new g.t({}),Lt=new g.t({}),Zt=new g.t(""),wn=new $s(de,Oe,Lt,Zt,ut,he,ce,ye.root);return wn.snapshot=ye.root,new ji(new vi(wn,[]),ye)}class $s{constructor(ye,de,Oe,ut,Lt,Zt,wn,Tn){this.urlSubject=ye,this.paramsSubject=de,this.queryParamsSubject=Oe,this.fragmentSubject=ut,this.dataSubject=Lt,this.outlet=Zt,this.component=wn,this._futureSnapshot=Tn,this.title=this.dataSubject?.pipe((0,P.T)(ci=>ci[le]))??(0,h.of)(void 0),this.url=ye,this.params=de,this.queryParams=Oe,this.fragment=ut,this.data=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,P.T)(ye=>Xe(ye))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,P.T)(ye=>Xe(ye))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(ce,ye,de="emptyOnly"){let Oe;const{routeConfig:ut}=ce;return Oe=null===ye||"always"!==de&&""!==ut?.path&&(ye.component||ye.routeConfig?.loadComponent)?{params:{...ce.params},data:{...ce.data},resolve:{...ce.data,...ce._resolvedData??{}}}:{params:{...ye.params,...ce.params},data:{...ye.data,...ce.data},resolve:{...ce.data,...ye.data,...ut?.data,...ce._resolvedData}},ut&&ri(ut)&&(Oe.resolve[le]=ut.title),Oe}class Ws{get title(){return this.data?.[le]}constructor(ye,de,Oe,ut,Lt,Zt,wn,Tn,ci){this.url=ye,this.params=de,this.queryParams=Oe,this.fragment=ut,this.data=Lt,this.outlet=Zt,this.component=wn,this.routeConfig=Tn,this._resolve=ci}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qs extends un{constructor(ye,de){super(de),this.url=ye,ws(this,de)}toString(){return Po(this._root)}}function ws(ce,ye){ye.value._routerState=ce,ye.children.forEach(de=>ws(ce,de))}function Po(ce){const ye=ce.children.length>0?` { ${ce.children.map(Po).join(", ")} } `:"";return`${ce.value}${ye}`}function Lo(ce){if(ce.snapshot){const ye=ce.snapshot,de=ce._futureSnapshot;ce.snapshot=de,Ct(ye.queryParams,de.queryParams)||ce.queryParamsSubject.next(de.queryParams),ye.fragment!==de.fragment&&ce.fragmentSubject.next(de.fragment),Ct(ye.params,de.params)||ce.paramsSubject.next(de.params),function dt(ce,ye){if(ce.length!==ye.length)return!1;for(let de=0;de<ce.length;++de)if(!Ct(ce[de],ye[de]))return!1;return!0}(ye.url,de.url)||ce.urlSubject.next(de.url),Ct(ye.data,de.data)||ce.dataSubject.next(de.data)}else ce.snapshot=ce._futureSnapshot,ce.dataSubject.next(ce._futureSnapshot.data)}function Co(ce,ye){const de=Ct(ce.params,ye.params)&&function bt(ce,ye){return Yt(ce,ye)&&ce.every((de,Oe)=>Ct(de.parameters,ye[Oe].parameters))}(ce.url,ye.url);return de&&!(!ce.parent!=!ye.parent)&&(!ce.parent||Co(ce.parent,ye.parent))}function ri(ce){return"string"==typeof ce.title||null===ce.title}let xo=(()=>{class ce{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new e.bkB,this.deactivateEvents=new e.bkB,this.attachEvents=new e.bkB,this.detachEvents=new e.bkB,this.parentContexts=(0,e.WQX)(jt),this.location=(0,e.WQX)(e.c1b),this.changeDetector=(0,e.WQX)(e.gRc),this.inputBinder=(0,e.WQX)(na,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Oe,previousValue:ut}=de.name;if(Oe)return;this.isTrackedInParentContexts(ut)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ut)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Oe){this.activated=de,this._activatedRoute=Oe,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Oe){if(this.isActivated)throw new e.wOt(4013,!1);this._activatedRoute=de;const ut=this.location,Zt=de.snapshot.component,wn=this.parentContexts.getOrCreateContext(this.name).children,Tn=new vo(de,wn,ut.injector);this.activated=ut.createComponent(Zt,{index:ut.length,injector:Tn,environmentInjector:Oe}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275dir=e.FsC({type:ce,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.OA$]})}return ce})();class vo{__ngOutletInjector(ye){return new vo(this.route,this.childContexts,ye)}constructor(ye,de,Oe){this.route=ye,this.childContexts=de,this.parent=Oe}get(ye,de){return ye===$s?this.route:ye===jt?this.childContexts:this.parent.get(ye,de)}}const na=new e.nKC("");let Da=(()=>{class ce{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Oe}=de,ut=(0,b.zV)([Oe.queryParams,Oe.params,Oe.data]).pipe((0,j.n)(([Lt,Zt,wn],Tn)=>(wn={...Lt,...Zt,...wn},0===Tn?(0,h.of)(wn):Promise.resolve(wn)))).subscribe(Lt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Oe||null===Oe.component)return void this.unsubscribeFromRouteData(de);const Zt=(0,e.HJs)(Oe.component);if(Zt)for(const{templateName:wn}of Zt.inputs)de.activatedComponentRef.setInput(wn,Lt[wn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,ut)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function zo(ce,ye,de){if(de&&ce.shouldReuseRoute(ye.value,de.value.snapshot)){const Oe=de.value;Oe._futureSnapshot=ye.value;const ut=function Ir(ce,ye,de){return ye.children.map(Oe=>{for(const ut of de.children)if(ce.shouldReuseRoute(Oe.value,ut.value.snapshot))return zo(ce,Oe,ut);return zo(ce,Oe)})}(ce,ye,de);return new vi(Oe,ut)}{if(ce.shouldAttach(ye.value)){const Lt=ce.retrieve(ye.value);if(null!==Lt){const Zt=Lt.route;return Zt.value._futureSnapshot=ye.value,Zt.children=ye.children.map(wn=>zo(ce,wn)),Zt}}const Oe=function jr(ce){return new $s(new g.t(ce.url),new g.t(ce.params),new g.t(ce.queryParams),new g.t(ce.fragment),new g.t(ce.data),ce.outlet,ce.component,ce)}(ye.value),ut=ye.children.map(Lt=>zo(ce,Lt));return new vi(Oe,ut)}}class jo{constructor(ye,de){this.redirectTo=ye,this.navigationBehaviorOptions=de}}const Ur="ngNavigationCancelingError";function Za(ce,ye){const{redirectTo:de,navigationBehaviorOptions:Oe}=Vt(ye)?{redirectTo:ye,navigationBehaviorOptions:void 0}:ye,ut=Hs(!1,Bn.Redirect);return ut.url=de,ut.navigationBehaviorOptions=Oe,ut}function Hs(ce,ye){const de=new Error(`NavigationCancelingError: ${ce||""}`);return de[Ur]=!0,de.cancellationCode=ye,de}function kl(ce){return!!ce&&ce[Ur]}class Pl{constructor(ye,de,Oe,ut,Lt){this.routeReuseStrategy=ye,this.futureState=de,this.currState=Oe,this.forwardEvent=ut,this.inputBindingEnabled=Lt}activate(ye){const de=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,Oe,ye),Lo(this.futureState.root),this.activateChildRoutes(de,Oe,ye)}deactivateChildRoutes(ye,de,Oe){const ut=Ki(de);ye.children.forEach(Lt=>{const Zt=Lt.value.outlet;this.deactivateRoutes(Lt,ut[Zt],Oe),delete ut[Zt]}),Object.values(ut).forEach(Lt=>{this.deactivateRouteAndItsChildren(Lt,Oe)})}deactivateRoutes(ye,de,Oe){const ut=ye.value,Lt=de?de.value:null;if(ut===Lt)if(ut.component){const Zt=Oe.getContext(ut.outlet);Zt&&this.deactivateChildRoutes(ye,de,Zt.children)}else this.deactivateChildRoutes(ye,de,Oe);else Lt&&this.deactivateRouteAndItsChildren(de,Oe)}deactivateRouteAndItsChildren(ye,de){ye.value.component&&this.routeReuseStrategy.shouldDetach(ye.value.snapshot)?this.detachAndStoreRouteSubtree(ye,de):this.deactivateRouteAndOutlet(ye,de)}detachAndStoreRouteSubtree(ye,de){const Oe=de.getContext(ye.value.outlet),ut=Oe&&ye.value.component?Oe.children:de,Lt=Ki(ye);for(const Zt of Object.values(Lt))this.deactivateRouteAndItsChildren(Zt,ut);if(Oe&&Oe.outlet){const Zt=Oe.outlet.detach(),wn=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(ye.value.snapshot,{componentRef:Zt,route:ye,contexts:wn})}}deactivateRouteAndOutlet(ye,de){const Oe=de.getContext(ye.value.outlet),ut=Oe&&ye.value.component?Oe.children:de,Lt=Ki(ye);for(const Zt of Object.values(Lt))this.deactivateRouteAndItsChildren(Zt,ut);Oe&&(Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated()),Oe.attachRef=null,Oe.route=null)}activateChildRoutes(ye,de,Oe){const ut=Ki(de);ye.children.forEach(Lt=>{this.activateRoutes(Lt,ut[Lt.value.outlet],Oe),this.forwardEvent(new Tr(Lt.value.snapshot))}),ye.children.length&&this.forwardEvent(new Mr(ye.value.snapshot))}activateRoutes(ye,de,Oe){const ut=ye.value,Lt=de?de.value:null;if(Lo(ut),ut===Lt)if(ut.component){const Zt=Oe.getOrCreateContext(ut.outlet);this.activateChildRoutes(ye,de,Zt.children)}else this.activateChildRoutes(ye,de,Oe);else if(ut.component){const Zt=Oe.getOrCreateContext(ut.outlet);if(this.routeReuseStrategy.shouldAttach(ut.snapshot)){const wn=this.routeReuseStrategy.retrieve(ut.snapshot);this.routeReuseStrategy.store(ut.snapshot,null),Zt.children.onOutletReAttached(wn.contexts),Zt.attachRef=wn.componentRef,Zt.route=wn.route.value,Zt.outlet&&Zt.outlet.attach(wn.componentRef,wn.route.value),Lo(wn.route.value),this.activateChildRoutes(ye,null,Zt.children)}else Zt.attachRef=null,Zt.route=ut,Zt.outlet&&Zt.outlet.activateWith(ut,Zt.injector),this.activateChildRoutes(ye,null,Zt.children)}else this.activateChildRoutes(ye,null,Oe)}}class us{constructor(ye){this.path=ye,this.route=this.path[this.path.length-1]}}class Uo{constructor(ye,de){this.component=ye,this.route=de}}function po(ce,ye,de){const Oe=ce._root;return Xo(Oe,ye?ye._root:null,de,[Oe.value])}function Na(ce,ye){const de=Symbol(),Oe=ye.get(ce,de);return Oe===de?"function"!=typeof ce||(0,e.LfX)(ce)?ye.get(ce):ce:Oe}function Xo(ce,ye,de,Oe,ut={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=Ki(ye);return ce.children.forEach(Zt=>{(function sr(ce,ye,de,Oe,ut={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=ce.value,Zt=ye?ye.value:null,wn=de?de.getContext(ce.value.outlet):null;if(Zt&&Lt.routeConfig===Zt.routeConfig){const Tn=function Ui(ce,ye,de){if("function"==typeof de)return de(ce,ye);switch(de){case"pathParamsChange":return!Yt(ce.url,ye.url);case"pathParamsOrQueryParamsChange":return!Yt(ce.url,ye.url)||!Ct(ce.queryParams,ye.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(ce,ye)||!Ct(ce.queryParams,ye.queryParams);default:return!Co(ce,ye)}}(Zt,Lt,Lt.routeConfig.runGuardsAndResolvers);Tn?ut.canActivateChecks.push(new us(Oe)):(Lt.data=Zt.data,Lt._resolvedData=Zt._resolvedData),Xo(ce,ye,Lt.component?wn?wn.children:null:de,Oe,ut),Tn&&wn&&wn.outlet&&wn.outlet.isActivated&&ut.canDeactivateChecks.push(new Uo(wn.outlet.component,Zt))}else Zt&&ha(ye,wn,ut),ut.canActivateChecks.push(new us(Oe)),Xo(ce,null,Lt.component?wn?wn.children:null:de,Oe,ut)})(Zt,Lt[Zt.value.outlet],de,Oe.concat([Zt.value]),ut),delete Lt[Zt.value.outlet]}),Object.entries(Lt).forEach(([Zt,wn])=>ha(wn,de.getContext(Zt),ut)),ut}function ha(ce,ye,de){const Oe=Ki(ce),ut=ce.value;Object.entries(Oe).forEach(([Lt,Zt])=>{ha(Zt,ut.component?ye?ye.children.getContext(Lt):null:ye,de)}),de.canDeactivateChecks.push(new Uo(ut.component&&ye&&ye.outlet&&ye.outlet.isActivated?ye.outlet.component:null,ut))}function Fo(ce){return"function"==typeof ce}function ct(ce){return ce instanceof E.G||"EmptyError"===ce?.name}const we=Symbol("INITIAL_VALUE");function kt(){return(0,j.n)(ce=>(0,b.zV)(ce.map(ye=>ye.pipe((0,S.s)(1),(0,w.Z)(we)))).pipe((0,P.T)(ye=>{for(const de of ye)if(!0!==de){if(de===we)return we;if(!1===de||pn(de))return de}return!0}),(0,m.p)(ye=>ye!==we),(0,S.s)(1)))}function pn(ce){return Vt(ce)||ce instanceof jo}function js(ce){return(0,I.F)((0,G.M)(ye=>{if("boolean"!=typeof ye)throw Za(0,ye)}),(0,P.T)(ye=>!0===ye))}class Sr{constructor(ye){this.segmentGroup=ye||null}}class Oa extends Error{constructor(ye){super(),this.urlTree=ye}}function _a(ce){return(0,k.$)(new Sr(ce))}class Ba{constructor(ye,de){this.urlSerializer=ye,this.urlTree=de}lineralizeSegments(ye,de){let Oe=[],ut=de.root;for(;;){if(Oe=Oe.concat(ut.segments),0===ut.numberOfChildren)return(0,h.of)(Oe);if(ut.numberOfChildren>1||!ut.children[he])return(0,k.$)(new e.wOt(4e3,!1));ut=ut.children[he]}}applyRedirectCommands(ye,de,Oe,ut,Lt){if("string"!=typeof de){const wn=de,{queryParams:Tn,fragment:ci,routeConfig:Kn,url:Ci,outlet:Ms,params:rr,data:lo,title:os}=ut,Ka=(0,e.N4e)(Lt,()=>wn({params:rr,data:lo,queryParams:Tn,fragment:ci,routeConfig:Kn,url:Ci,outlet:Ms,title:os}));if(Ka instanceof Pt)throw new Oa(Ka);de=Ka}const Zt=this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),ye,Oe);if("/"===de[0])throw new Oa(Zt);return Zt}applyRedirectCreateUrlTree(ye,de,Oe,ut){const Lt=this.createSegmentGroup(ye,de.root,Oe,ut);return new Pt(Lt,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(ye,de){const Oe={};return Object.entries(ye).forEach(([ut,Lt])=>{if("string"==typeof Lt&&":"===Lt[0]){const wn=Lt.substring(1);Oe[ut]=de[wn]}else Oe[ut]=Lt}),Oe}createSegmentGroup(ye,de,Oe,ut){const Lt=this.createSegments(ye,de.segments,Oe,ut);let Zt={};return Object.entries(de.children).forEach(([wn,Tn])=>{Zt[wn]=this.createSegmentGroup(ye,Tn,Oe,ut)}),new an(Lt,Zt)}createSegments(ye,de,Oe,ut){return de.map(Lt=>":"===Lt.path[0]?this.findPosParam(ye,Lt,ut):this.findOrReturn(Lt,Oe))}findPosParam(ye,de,Oe){const ut=Oe[de.path.substring(1)];if(!ut)throw new e.wOt(4001,!1);return ut}findOrReturn(ye,de){let Oe=0;for(const ut of de){if(ut.path===ye.path)return de.splice(Oe),ut;Oe++}return ye}}const xr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nl(ce,ye,de,Oe,ut){const Lt=pa(ce,ye,de);return Lt.matched?(Oe=function Dr(ce,ye){return ce.providers&&!ce._injector&&(ce._injector=(0,e.Ol2)(ce.providers,ye,`Route: ${ce.path}`)),ce._injector??ye}(ye,Oe),function xs(ce,ye,de,Oe){const ut=ye.canMatch;if(!ut||0===ut.length)return(0,h.of)(!0);const Lt=ut.map(Zt=>{const wn=Na(Zt,ce);return rn(function tt(ce){return ce&&Fo(ce.canMatch)}(wn)?wn.canMatch(ye,de):(0,e.N4e)(ce,()=>wn(ye,de)))});return(0,h.of)(Lt).pipe(kt(),js())}(Oe,ye,de).pipe((0,P.T)(Zt=>!0===Zt?Lt:{...xr}))):(0,h.of)(Lt)}function pa(ce,ye,de){if("**"===ye.path)return function Hi(ce){return{matched:!0,parameters:ce.length>0?In(ce).parameters:{},consumedSegments:ce,remainingSegments:[],positionalParamSegments:{}}}(de);if(""===ye.path)return"full"===ye.pathMatch&&(ce.hasChildren()||de.length>0)?{...xr}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const ut=(ye.matcher||xt)(de,ce,ye);if(!ut)return{...xr};const Lt={};Object.entries(ut.posParams??{}).forEach(([wn,Tn])=>{Lt[wn]=Tn.path});const Zt=ut.consumed.length>0?{...Lt,...ut.consumed[ut.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:ut.consumed,remainingSegments:de.slice(ut.consumed.length),parameters:Zt,positionalParamSegments:ut.posParams??{}}}function sc(ce,ye,de,Oe){return de.length>0&&function sa(ce,ye,de){return de.some(Oe=>gl(ce,ye,Oe)&&_o(Oe)!==he)}(ce,de,Oe)?{segmentGroup:new an(ye,mr(Oe,new an(de,ce.children))),slicedSegments:[]}:0===de.length&&function oc(ce,ye,de){return de.some(Oe=>gl(ce,ye,Oe))}(ce,de,Oe)?{segmentGroup:new an(ce.segments,$a(ce,de,Oe,ce.children)),slicedSegments:de}:{segmentGroup:new an(ce.segments,ce.children),slicedSegments:de}}function $a(ce,ye,de,Oe){const ut={};for(const Lt of de)if(gl(ce,ye,Lt)&&!Oe[_o(Lt)]){const Zt=new an([],{});ut[_o(Lt)]=Zt}return{...Oe,...ut}}function mr(ce,ye){const de={};de[he]=ye;for(const Oe of ce)if(""===Oe.path&&_o(Oe)!==he){const ut=new an([],{});de[_o(Oe)]=ut}return de}function gl(ce,ye,de){return(!(ce.hasChildren()||ye.length>0)||"full"!==de.pathMatch)&&""===de.path}class ja{}class _d{constructor(ye,de,Oe,ut,Lt,Zt,wn){this.injector=ye,this.configLoader=de,this.rootComponentType=Oe,this.config=ut,this.urlTree=Lt,this.paramsInheritanceStrategy=Zt,this.urlSerializer=wn,this.applyRedirects=new Ba(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ye){return new e.wOt(4002,`'${ye.segmentGroup}'`)}recognize(){const ye=sc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ye).pipe((0,P.T)(({children:de,rootSnapshot:Oe})=>{const ut=new vi(Oe,de),Lt=new qs("",ut),Zt=function dn(ce,ye,de=null,Oe=null){return Wn(xn(ce),ye,de,Oe)}(Oe,[],this.urlTree.queryParams,this.urlTree.fragment);return Zt.queryParams=this.urlTree.queryParams,Lt.url=this.urlSerializer.serialize(Zt),{state:Lt,tree:Zt}}))}match(ye){const de=new Ws([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ye,he,de).pipe((0,P.T)(Oe=>({children:Oe,rootSnapshot:de})),(0,O.W)(Oe=>{if(Oe instanceof Oa)return this.urlTree=Oe.urlTree,this.match(Oe.urlTree.root);throw Oe instanceof Sr?this.noMatchError(Oe):Oe}))}processSegmentGroup(ye,de,Oe,ut,Lt){return 0===Oe.segments.length&&Oe.hasChildren()?this.processChildren(ye,de,Oe,Lt):this.processSegment(ye,de,Oe,Oe.segments,ut,!0,Lt).pipe((0,P.T)(Zt=>Zt instanceof vi?[Zt]:[]))}processChildren(ye,de,Oe,ut){const Lt=[];for(const Zt of Object.keys(Oe.children))"primary"===Zt?Lt.unshift(Zt):Lt.push(Zt);return(0,d.H)(Lt).pipe((0,L.H)(Zt=>{const wn=Oe.children[Zt],Tn=function ta(ce,ye){const de=ce.filter(Oe=>_o(Oe)===ye);return de.push(...ce.filter(Oe=>_o(Oe)!==ye)),de}(de,Zt);return this.processSegmentGroup(ye,Tn,wn,Zt,ut)}),function U(ce,ye){let de=!1;return arguments.length>=2&&(de=!0),function(ut){return ut.lift(new $(ce,ye,de))}}((Zt,wn)=>(Zt.push(...wn),Zt)),(0,ie.U)(null),function _e(ce,ye){const de=arguments.length>=2;return Oe=>Oe.pipe(ce?(0,m.p)((ut,Lt)=>ce(ut,Lt,Oe)):ae.D,Y(1),de?(0,ie.U)(ye):(0,J.v)(()=>new E.G))}(),(0,v.ZZ)(Zt=>{if(null===Zt)return _a(Oe);const wn=gr(Zt);return function Rs(ce){ce.sort((ye,de)=>ye.value.outlet===he?-1:de.value.outlet===he?1:ye.value.outlet.localeCompare(de.value.outlet))}(wn),(0,h.of)(wn)}))}processSegment(ye,de,Oe,ut,Lt,Zt,wn){return(0,d.H)(de).pipe((0,L.H)(Tn=>this.processSegmentAgainstRoute(Tn._injector??ye,de,Tn,Oe,ut,Lt,Zt,wn).pipe((0,O.W)(ci=>{if(ci instanceof Sr)return(0,h.of)(null);throw ci}))),(0,A.$)(Tn=>!!Tn),(0,O.W)(Tn=>{if(ct(Tn))return function tl(ce,ye,de){return 0===ye.length&&!ce.children[de]}(Oe,ut,Lt)?(0,h.of)(new ja):_a(Oe);throw Tn}))}processSegmentAgainstRoute(ye,de,Oe,ut,Lt,Zt,wn,Tn){return _o(Oe)===Zt||Zt!==he&&gl(ut,Lt,Oe)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(ye,ut,Oe,Lt,Zt,Tn):this.allowRedirects&&wn?this.expandSegmentAgainstRouteUsingRedirect(ye,ut,de,Oe,Lt,Zt,Tn):_a(ut):_a(ut)}expandSegmentAgainstRouteUsingRedirect(ye,de,Oe,ut,Lt,Zt,wn){const{matched:Tn,parameters:ci,consumedSegments:Kn,positionalParamSegments:Ci,remainingSegments:Ms}=pa(de,ut,Lt);if(!Tn)return _a(de);"string"==typeof ut.redirectTo&&"/"===ut.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const rr=new Ws(Lt,ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mt(ut),_o(ut),ut.component??ut._loadedComponent??null,ut,_t(ut)),lo=go(rr,wn,this.paramsInheritanceStrategy);rr.params=Object.freeze(lo.params),rr.data=Object.freeze(lo.data);const os=this.applyRedirects.applyRedirectCommands(Kn,ut.redirectTo,Ci,rr,ye);return this.applyRedirects.lineralizeSegments(ut,os).pipe((0,v.ZZ)(Ka=>this.processSegment(ye,Oe,de,Ka.concat(Ms),Zt,!1,wn)))}matchSegmentAgainstRoute(ye,de,Oe,ut,Lt,Zt){const wn=Nl(de,Oe,ut,ye);return"**"===Oe.path&&(de.children={}),wn.pipe((0,j.n)(Tn=>Tn.matched?this.getChildConfig(ye=Oe._injector??ye,Oe,ut).pipe((0,j.n)(({routes:ci})=>{const Kn=Oe._loadedInjector??ye,{parameters:Ci,consumedSegments:Ms,remainingSegments:rr}=Tn,lo=new Ws(Ms,Ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mt(Oe),_o(Oe),Oe.component??Oe._loadedComponent??null,Oe,_t(Oe)),os=go(lo,Zt,this.paramsInheritanceStrategy);lo.params=Object.freeze(os.params),lo.data=Object.freeze(os.data);const{segmentGroup:Ka,slicedSegments:Vl}=sc(de,Ms,rr,ci);if(0===Vl.length&&Ka.hasChildren())return this.processChildren(Kn,ci,Ka,lo).pipe((0,P.T)(Xc=>new vi(lo,Xc)));if(0===ci.length&&0===Vl.length)return(0,h.of)(new vi(lo,[]));const yl=_o(Oe)===Lt;return this.processSegment(Kn,ci,Ka,Vl,yl?he:Lt,!0,lo).pipe((0,P.T)(Xc=>new vi(lo,Xc instanceof vi?[Xc]:[])))})):_a(de)))}getChildConfig(ye,de,Oe){return de.children?(0,h.of)({routes:de.children,injector:ye}):de.loadChildren?void 0!==de._loadedRoutes?(0,h.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function ic(ce,ye,de,Oe){const ut=ye.canLoad;if(void 0===ut||0===ut.length)return(0,h.of)(!0);const Lt=ut.map(Zt=>{const wn=Na(Zt,ce);return rn(function ml(ce){return ce&&Fo(ce.canLoad)}(wn)?wn.canLoad(ye,de):(0,e.N4e)(ce,()=>wn(ye,de)))});return(0,h.of)(Lt).pipe(kt(),js())}(ye,de,Oe).pipe((0,v.ZZ)(ut=>ut?this.configLoader.loadChildren(ye,de).pipe((0,G.M)(Lt=>{de._loadedRoutes=Lt.routes,de._loadedInjector=Lt.injector})):function Or(){return(0,k.$)(Hs(!1,Bn.GuardRejected))}())):(0,h.of)({routes:[],injector:ye})}}function Bl(ce){const ye=ce.value.routeConfig;return ye&&""===ye.path}function gr(ce){const ye=[],de=new Set;for(const Oe of ce){if(!Bl(Oe)){ye.push(Oe);continue}const ut=ye.find(Lt=>Oe.value.routeConfig===Lt.value.routeConfig);void 0!==ut?(ut.children.push(...Oe.children),de.add(ut)):ye.push(Oe)}for(const Oe of de){const ut=gr(Oe.children);ye.push(new vi(Oe.value,ut))}return ye.filter(Oe=>!de.has(Oe))}function mt(ce){return ce.data||{}}function _t(ce){return ce.resolve||{}}function en(ce){const ye=ce.children.map(de=>en(de)).flat();return[ce,...ye]}function Zn(ce){return(0,j.n)(ye=>{const de=ce(ye);return de?(0,d.H)(de).pipe((0,P.T)(()=>ye)):(0,h.of)(ye)})}let Si=(()=>{class ce{buildTitle(de){let Oe,ut=de.root;for(;void 0!==ut;)Oe=this.getResolvedTitleForRoute(ut)??Oe,ut=ut.children.find(Lt=>Lt.outlet===he);return Oe}getResolvedTitleForRoute(de){return de.data[le]}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:()=>(0,e.WQX)(li),providedIn:"root"})}return ce})(),li=(()=>{class ce extends Si{constructor(de){super(),this.title=de}updateTitle(de){const Oe=this.buildTitle(de);void 0!==Oe&&this.title.setTitle(Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.KVO(pe.hE))};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const ei=new e.nKC("",{providedIn:"root",factory:()=>({})});let Ri=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275cmp=e.VBU({type:ce,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(Oe,ut){1&Oe&&e.nrm(0,"router-outlet")},dependencies:[xo],encapsulation:2})}return ce})();function Ds(ce){const ye=ce.children&&ce.children.map(Ds),de=ye?{...ce,children:ye}:{...ce};return!de.component&&!de.loadComponent&&(ye||de.loadChildren)&&de.outlet&&de.outlet!==he&&(de.component=Ri),de}const Zi=new e.nKC("");let so=(()=>{class ce{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.WQX)(e.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,h.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Oe=rn(de.loadComponent()).pipe((0,P.T)(vl),(0,G.M)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=Lt}),(0,Ye.j)(()=>{this.componentLoaders.delete(de)})),ut=new x.G(Oe,()=>new M.B7).pipe((0,qe.B)());return this.componentLoaders.set(de,ut),ut}loadChildren(de,Oe){if(this.childrenLoaders.get(Oe))return this.childrenLoaders.get(Oe);if(Oe._loadedRoutes)return(0,h.of)({routes:Oe._loadedRoutes,injector:Oe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Oe);const Lt=function Ro(ce,ye,de,Oe){return rn(ce.loadChildren()).pipe((0,P.T)(vl),(0,v.ZZ)(ut=>ut instanceof e.Co$||Array.isArray(ut)?(0,h.of)(ut):(0,d.H)(ye.compileModuleAsync(ut))),(0,P.T)(ut=>{Oe&&Oe(ce);let Lt,Zt,wn=!1;return Array.isArray(ut)?(Zt=ut,!0):(Lt=ut.create(de).injector,Zt=Lt.get(Zi,[],{optional:!0,self:!0}).flat()),{routes:Zt.map(Ds),injector:Lt}}))}(Oe,this.compiler,de,this.onLoadEndListener).pipe((0,Ye.j)(()=>{this.childrenLoaders.delete(Oe)})),Zt=new x.G(Lt,()=>new M.B7).pipe((0,qe.B)());return this.childrenLoaders.set(Oe,Zt),Zt}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function vl(ce){return function bs(ce){return ce&&"object"==typeof ce&&"default"in ce}(ce)?ce.default:ce}let fa=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:()=>(0,e.WQX)(ge),providedIn:"root"})}return ce})(),ge=(()=>{class ce{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Oe){return de}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const yt=new e.nKC(""),Be=new e.nKC("");function ft(ce,ye,de){const Oe=ce.get(Be),ut=ce.get(K.qQ);return ce.get(e.SKi).runOutsideAngular(()=>{if(!ut.startViewTransition||Oe.skipNextTransition)return Oe.skipNextTransition=!1,new Promise(ci=>setTimeout(ci));let Lt;const Zt=new Promise(ci=>{Lt=ci}),wn=ut.startViewTransition(()=>(Lt(),function sn(ce){return new Promise(ye=>{(0,e.mal)({read:()=>setTimeout(ye)},{injector:ce})})}(ce))),{onViewTransitionCreated:Tn}=Oe;return Tn&&(0,e.N4e)(ce,()=>Tn({transition:wn,from:ye,to:de})),Zt})}const Rn=new e.nKC("");let Un=(()=>{class ce{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new M.B7,this.transitionAbortSubject=new M.B7,this.configLoader=(0,e.WQX)(so),this.environmentInjector=(0,e.WQX)(e.uvJ),this.urlSerializer=(0,e.WQX)(nn),this.rootContexts=(0,e.WQX)(jt),this.location=(0,e.WQX)(K.aZ),this.inputBindingEnabled=null!==(0,e.WQX)(na,{optional:!0}),this.titleStrategy=(0,e.WQX)(Si),this.options=(0,e.WQX)(ei,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.WQX)(fa),this.createViewTransition=(0,e.WQX)(yt,{optional:!0}),this.navigationErrorHandler=(0,e.WQX)(Rn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ut=>this.events.next(new ho(ut)),this.configLoader.onLoadStartListener=ut=>this.events.next(new mo(ut))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const Oe=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:Oe})}setupNavigations(de,Oe,ut){return this.transitions=new g.t({id:0,currentUrlTree:Oe,currentRawUrl:Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe),urlAfterRedirects:this.urlHandlingStrategy.extract(Oe),rawUrl:Oe,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ne,restoredState:null,currentSnapshot:ut.snapshot,targetSnapshot:null,currentRouterState:ut,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,m.p)(Lt=>0!==Lt.id),(0,P.T)(Lt=>({...Lt,extractedUrl:this.urlHandlingStrategy.extract(Lt.rawUrl)})),(0,j.n)(Lt=>{let Zt=!1,wn=!1;return(0,h.of)(Lt).pipe((0,j.n)(Tn=>{if(this.navigationId>Lt.id)return this.cancelNavigationTransition(Lt,"",Bn.SupersededByNewNavigation),y.w;this.currentTransition=Lt,this.currentNavigation={id:Tn.id,initialUrl:Tn.rawUrl,extractedUrl:Tn.extractedUrl,targetBrowserUrl:"string"==typeof Tn.extras.browserUrl?this.urlSerializer.parse(Tn.extras.browserUrl):Tn.extras.browserUrl,trigger:Tn.source,extras:Tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ci=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ci&&"reload"!==(Tn.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const Ci="";return this.events.next(new es(Tn.id,this.urlSerializer.serialize(Tn.rawUrl),Ci,ai.IgnoredSameUrlNavigation)),Tn.resolve(!1),y.w}if(this.urlHandlingStrategy.shouldProcessUrl(Tn.rawUrl))return(0,h.of)(Tn).pipe((0,j.n)(Ci=>{const Ms=this.transitions?.getValue();return this.events.next(new Dt(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),Ci.source,Ci.restoredState)),Ms!==this.transitions?.getValue()?y.w:Promise.resolve(Ci)}),function Nt(ce,ye,de,Oe,ut,Lt){return(0,v.ZZ)(Zt=>function Kc(ce,ye,de,Oe,ut,Lt,Zt="emptyOnly"){return new _d(ce,ye,de,Oe,ut,Zt,Lt).recognize()}(ce,ye,de,Oe,Zt.extractedUrl,ut,Lt).pipe((0,P.T)(({state:wn,tree:Tn})=>({...Zt,targetSnapshot:wn,urlAfterRedirects:Tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,G.M)(Ci=>{Lt.targetSnapshot=Ci.targetSnapshot,Lt.urlAfterRedirects=Ci.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ci.urlAfterRedirects};const Ms=new zi(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),this.urlSerializer.serialize(Ci.urlAfterRedirects),Ci.targetSnapshot);this.events.next(Ms)}));if(ci&&this.urlHandlingStrategy.shouldProcessUrl(Tn.currentRawUrl)){const{id:Ci,extractedUrl:Ms,source:rr,restoredState:lo,extras:os}=Tn,Ka=new Dt(Ci,this.urlSerializer.serialize(Ms),rr,lo);this.events.next(Ka);const Vl=Ks(this.rootComponentType).snapshot;return this.currentTransition=Lt={...Tn,targetSnapshot:Vl,urlAfterRedirects:Ms,extras:{...os,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ms,(0,h.of)(Lt)}{const Ci="";return this.events.next(new es(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),Ci,ai.IgnoredByUrlHandlingStrategy)),Tn.resolve(!1),y.w}}),(0,G.M)(Tn=>{const ci=new Ji(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(ci)}),(0,P.T)(Tn=>(this.currentTransition=Lt={...Tn,guards:po(Tn.targetSnapshot,Tn.currentSnapshot,this.rootContexts)},Lt)),function Fi(ce,ye){return(0,v.ZZ)(de=>{const{targetSnapshot:Oe,currentSnapshot:ut,guards:{canActivateChecks:Lt,canDeactivateChecks:Zt}}=de;return 0===Zt.length&&0===Lt.length?(0,h.of)({...de,guardsResult:!0}):function ps(ce,ye,de,Oe){return(0,d.H)(ce).pipe((0,v.ZZ)(ut=>function qa(ce,ye,de,Oe,ut){const Lt=ye&&ye.routeConfig?ye.routeConfig.canDeactivate:null;if(!Lt||0===Lt.length)return(0,h.of)(!0);const Zt=Lt.map(wn=>{const Tn=ir(ye)??ut,ci=Na(wn,Tn);return rn(function Ll(ce){return ce&&Fo(ce.canDeactivate)}(ci)?ci.canDeactivate(ce,ye,de,Oe):(0,e.N4e)(Tn,()=>ci(ce,ye,de,Oe))).pipe((0,A.$)())});return(0,h.of)(Zt).pipe(kt())}(ut.component,ut.route,de,ye,Oe)),(0,A.$)(ut=>!0!==ut,!0))}(Zt,Oe,ut,ce).pipe((0,v.ZZ)(wn=>wn&&function Bd(ce){return"boolean"==typeof ce}(wn)?function zs(ce,ye,de,Oe){return(0,d.H)(ye).pipe((0,L.H)(ut=>(0,_.x)(function Sa(ce,ye){return null!==ce&&ye&&ye(new io(ce)),(0,h.of)(!0)}(ut.route.parent,Oe),function Ni(ce,ye){return null!==ce&&ye&&ye(new Ts(ce)),(0,h.of)(!0)}(ut.route,Oe),function Fl(ce,ye,de){const Oe=ye[ye.length-1],Lt=ye.slice(0,ye.length-1).reverse().map(Zt=>function Ia(ce){const ye=ce.routeConfig?ce.routeConfig.canActivateChild:null;return ye&&0!==ye.length?{node:ce,guards:ye}:null}(Zt)).filter(Zt=>null!==Zt).map(Zt=>(0,u.v)(()=>{const wn=Zt.guards.map(Tn=>{const ci=ir(Zt.node)??de,Kn=Na(Tn,ci);return rn(function _s(ce){return ce&&Fo(ce.canActivateChild)}(Kn)?Kn.canActivateChild(Oe,ce):(0,e.N4e)(ci,()=>Kn(Oe,ce))).pipe((0,A.$)())});return(0,h.of)(wn).pipe(kt())}));return(0,h.of)(Lt).pipe(kt())}(ce,ut.path,de),function Ec(ce,ye,de){const Oe=ye.routeConfig?ye.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,h.of)(!0);const ut=Oe.map(Lt=>(0,u.v)(()=>{const Zt=ir(ye)??de,wn=Na(Lt,Zt);return rn(function Jo(ce){return ce&&Fo(ce.canActivate)}(wn)?wn.canActivate(ye,ce):(0,e.N4e)(Zt,()=>wn(ye,ce))).pipe((0,A.$)())}));return(0,h.of)(ut).pipe(kt())}(ce,ut.route,de))),(0,A.$)(ut=>!0!==ut,!0))}(Oe,Lt,ce,ye):(0,h.of)(wn)),(0,P.T)(wn=>({...de,guardsResult:wn})))})}(this.environmentInjector,Tn=>this.events.next(Tn)),(0,G.M)(Tn=>{if(Lt.guardsResult=Tn.guardsResult,Tn.guardsResult&&"boolean"!=typeof Tn.guardsResult)throw Za(0,Tn.guardsResult);const ci=new Qn(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot,!!Tn.guardsResult);this.events.next(ci)}),(0,m.p)(Tn=>!!Tn.guardsResult||(this.cancelNavigationTransition(Tn,"",Bn.GuardRejected),!1)),Zn(Tn=>{if(Tn.guards.canActivateChecks.length)return(0,h.of)(Tn).pipe((0,G.M)(ci=>{const Kn=new Js(ci.id,this.urlSerializer.serialize(ci.extractedUrl),this.urlSerializer.serialize(ci.urlAfterRedirects),ci.targetSnapshot);this.events.next(Kn)}),(0,j.n)(ci=>{let Kn=!1;return(0,h.of)(ci).pipe(function Rt(ce,ye){return(0,v.ZZ)(de=>{const{targetSnapshot:Oe,guards:{canActivateChecks:ut}}=de;if(!ut.length)return(0,h.of)(de);const Lt=new Set(ut.map(Tn=>Tn.route)),Zt=new Set;for(const Tn of Lt)if(!Zt.has(Tn))for(const ci of en(Tn))Zt.add(ci);let wn=0;return(0,d.H)(Zt).pipe((0,L.H)(Tn=>Lt.has(Tn)?function tn(ce,ye,de,Oe){const ut=ce.routeConfig,Lt=ce._resolve;return void 0!==ut?.title&&!ri(ut)&&(Lt[le]=ut.title),function On(ce,ye,de,Oe){const ut=Qt(ce);if(0===ut.length)return(0,h.of)({});const Lt={};return(0,d.H)(ut).pipe((0,v.ZZ)(Zt=>function Pn(ce,ye,de,Oe){const ut=ir(ye)??Oe,Lt=Na(ce,ut);return rn(Lt.resolve?Lt.resolve(ye,de):(0,e.N4e)(ut,()=>Lt(ye,de)))}(ce[Zt],ye,de,Oe).pipe((0,A.$)(),(0,G.M)(wn=>{if(wn instanceof jo)throw Za(new yn,wn);Lt[Zt]=wn}))),Y(1),function xe(ce){return ye=>ye.lift(new Fe(ce))}(Lt),(0,O.W)(Zt=>ct(Zt)?y.w:(0,k.$)(Zt)))}(Lt,ce,ye,Oe).pipe((0,P.T)(Zt=>(ce._resolvedData=Zt,ce.data=go(ce,ce.parent,de).resolve,null)))}(Tn,Oe,ce,ye):(Tn.data=go(Tn,Tn.parent,ce).resolve,(0,h.of)(void 0))),(0,G.M)(()=>wn++),Y(1),(0,v.ZZ)(Tn=>wn===Zt.size?(0,h.of)(de):y.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,G.M)({next:()=>Kn=!0,complete:()=>{Kn||this.cancelNavigationTransition(ci,"",Bn.NoDataFromResolver)}}))}),(0,G.M)(ci=>{const Kn=new Gi(ci.id,this.urlSerializer.serialize(ci.extractedUrl),this.urlSerializer.serialize(ci.urlAfterRedirects),ci.targetSnapshot);this.events.next(Kn)}))}),Zn(Tn=>{const ci=Kn=>{const Ci=[];Kn.routeConfig?.loadComponent&&!Kn.routeConfig._loadedComponent&&Ci.push(this.configLoader.loadComponent(Kn.routeConfig).pipe((0,G.M)(Ms=>{Kn.component=Ms}),(0,P.T)(()=>{})));for(const Ms of Kn.children)Ci.push(...ci(Ms));return Ci};return(0,b.zV)(ci(Tn.targetSnapshot.root)).pipe((0,ie.U)(null),(0,S.s)(1))}),Zn(()=>this.afterPreactivation()),(0,j.n)(()=>{const{currentSnapshot:Tn,targetSnapshot:ci}=Lt,Kn=this.createViewTransition?.(this.environmentInjector,Tn.root,ci.root);return Kn?(0,d.H)(Kn).pipe((0,P.T)(()=>Lt)):(0,h.of)(Lt)}),(0,P.T)(Tn=>{const ci=function ia(ce,ye,de){const Oe=zo(ce,ye._root,de?de._root:void 0);return new ji(Oe,ye)}(de.routeReuseStrategy,Tn.targetSnapshot,Tn.currentRouterState);return this.currentTransition=Lt={...Tn,targetRouterState:ci},this.currentNavigation.targetRouterState=ci,Lt}),(0,G.M)(()=>{this.events.next(new Zs)}),((ce,ye,de,Oe)=>(0,P.T)(ut=>(new Pl(ye,ut.targetRouterState,ut.currentRouterState,de,Oe).activate(ce),ut)))(this.rootContexts,de.routeReuseStrategy,Tn=>this.events.next(Tn),this.inputBindingEnabled),(0,S.s)(1),(0,G.M)({next:Tn=>{Zt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Tn.targetRouterState.snapshot),Tn.resolve(!0)},complete:()=>{Zt=!0}}),(0,Ne.Q)(this.transitionAbortSubject.pipe((0,G.M)(Tn=>{throw Tn}))),(0,Ye.j)(()=>{!Zt&&!wn&&this.cancelNavigationTransition(Lt,"",Bn.SupersededByNewNavigation),this.currentTransition?.id===Lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,O.W)(Tn=>{if(wn=!0,kl(Tn))this.events.next(new Ei(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Tn.message,Tn.cancellationCode)),function fr(ce){return kl(ce)&&Vt(ce.url)}(Tn)?this.events.next(new nr(Tn.url,Tn.navigationBehaviorOptions)):Lt.resolve(!1);else{const ci=new Wi(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Tn,Lt.targetSnapshot??void 0);try{const Kn=(0,e.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ci));if(Kn instanceof jo){const{message:Ci,cancellationCode:Ms}=Za(0,Kn);this.events.next(new Ei(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Ci,Ms)),this.events.next(new nr(Kn.redirectTo,Kn.navigationBehaviorOptions))}else{this.events.next(ci);const Ci=de.errorHandler(Tn);Lt.resolve(!!Ci)}}catch(Kn){this.options.resolveNavigationPromiseOnError?Lt.resolve(!1):Lt.reject(Kn)}}return y.w}))}))}cancelNavigationTransition(de,Oe,ut){const Lt=new Ei(de.id,this.urlSerializer.serialize(de.extractedUrl),Oe,ut);this.events.next(Lt),de.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const de=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Oe=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return de.toString()!==Oe?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function fi(ce){return ce!==ne}let Eo=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:()=>(0,e.WQX)(Ys),providedIn:"root"})}return ce})();class Xi{shouldDetach(ye){return!1}store(ye,de){}shouldAttach(ye){return!1}retrieve(ye){return null}shouldReuseRoute(ye,de){return ye.routeConfig===de.routeConfig}}let Ys=(()=>{class ce extends Xi{static#e=this.\u0275fac=(()=>{let de;return function(ut){return(de||(de=e.xGo(ce)))(ut||ce)}})();static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Jn=(()=>{class ce{static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:()=>(0,e.WQX)(Is),providedIn:"root"})}return ce})(),Is=(()=>{class ce extends Jn{constructor(){super(...arguments),this.location=(0,e.WQX)(K.aZ),this.urlSerializer=(0,e.WQX)(nn),this.options=(0,e.WQX)(ei,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.WQX)(fa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ks(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Oe=>{"popstate"===Oe.type&&de(Oe.url,Oe.state)})}handleRouterEvent(de,Oe){if(de instanceof Dt)this.stateMemento=this.createStateMemento();else if(de instanceof es)this.rawUrlTree=Oe.initialUrl;else if(de instanceof zi){if("eager"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange){const ut=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl);this.setBrowserUrl(Oe.targetBrowserUrl??ut,Oe)}}else de instanceof Zs?(this.currentUrlTree=Oe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange&&this.setBrowserUrl(Oe.targetBrowserUrl??this.rawUrlTree,Oe)):de instanceof Ei&&(de.code===Bn.GuardRejected||de.code===Bn.NoDataFromResolver)?this.restoreHistory(Oe):de instanceof Wi?this.restoreHistory(Oe,!0):de instanceof hn&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Oe){const ut=de instanceof Pt?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(ut)||Oe.extras.replaceUrl){const Zt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId)};this.location.replaceState(ut,"",Zt)}else{const Lt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId+1)};this.location.go(ut,"",Lt)}}restoreHistory(de,Oe=!1){if("computed"===this.canceledNavigationResolution){const Lt=this.currentPageId-this.browserPageId;0!==Lt?this.location.historyGo(Lt):this.currentUrlTree===de.finalUrl&&0===Lt&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Oe}:{navigationId:de}}static#e=this.\u0275fac=(()=>{let de;return function(ut){return(de||(de=e.xGo(ce)))(ut||ce)}})();static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();var Cs=function(ce){return ce[ce.COMPLETE=0]="COMPLETE",ce[ce.FAILED=1]="FAILED",ce[ce.REDIRECTING=2]="REDIRECTING",ce}(Cs||{});function ro(ce,ye){ce.events.pipe((0,m.p)(de=>de instanceof hn||de instanceof Ei||de instanceof Wi||de instanceof es),(0,P.T)(de=>de instanceof hn||de instanceof es?Cs.COMPLETE:de instanceof Ei&&(de.code===Bn.Redirect||de.code===Bn.SupersededByNewNavigation)?Cs.REDIRECTING:Cs.FAILED),(0,m.p)(de=>de!==Cs.REDIRECTING),(0,S.s)(1)).subscribe(()=>{ye()})}function bl(ce){throw ce}const ma={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mo=(()=>{class ce{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,e.WQX)(e.H3F),this.stateManager=(0,e.WQX)(Jn),this.options=(0,e.WQX)(ei,{optional:!0})||{},this.pendingTasks=(0,e.WQX)(e.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.WQX)(Un),this.urlSerializer=(0,e.WQX)(nn),this.location=(0,e.WQX)(K.aZ),this.urlHandlingStrategy=(0,e.WQX)(fa),this._events=new M.B7,this.errorHandler=this.options.errorHandler||bl,this.navigated=!1,this.routeReuseStrategy=(0,e.WQX)(Eo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,e.WQX)(Zi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,e.WQX)(na,{optional:!0}),this.eventsSubscription=new B.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Oe=>{try{const ut=this.navigationTransitions.currentTransition,Lt=this.navigationTransitions.currentNavigation;if(null!==ut&&null!==Lt)if(this.stateManager.handleRouterEvent(Oe,Lt),Oe instanceof Ei&&Oe.code!==Bn.Redirect&&Oe.code!==Bn.SupersededByNewNavigation)this.navigated=!0;else if(Oe instanceof hn)this.navigated=!0;else if(Oe instanceof nr){const Zt=Oe.navigationBehaviorOptions,wn=this.urlHandlingStrategy.merge(Oe.url,ut.currentRawUrl),Tn={browserUrl:ut.extras.browserUrl,info:ut.extras.info,skipLocationChange:ut.extras.skipLocationChange,replaceUrl:ut.extras.replaceUrl||"eager"===this.urlUpdateStrategy||fi(ut.source),...Zt};this.scheduleNavigation(wn,ne,null,Tn,{resolve:ut.resolve,reject:ut.reject,promise:ut.promise})}(function ni(ce){return!(ce instanceof Zs||ce instanceof nr)})(Oe)&&this._events.next(Oe)}catch(ut){this.navigationTransitions.transitionAbortSubject.next(ut)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ne,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((de,Oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(de,"popstate",Oe)},0)})}navigateToSyncWithBrowser(de,Oe,ut){const Lt={replaceUrl:!0},Zt=ut?.navigationId?ut:null;if(ut){const Tn={...ut};delete Tn.navigationId,delete Tn.\u0275routerPageId,0!==Object.keys(Tn).length&&(Lt.state=Tn)}const wn=this.parseUrl(de);this.scheduleNavigation(wn,Oe,Zt,Lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Ds),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Oe={}){const{relativeTo:ut,queryParams:Lt,fragment:Zt,queryParamsHandling:wn,preserveFragment:Tn}=Oe,ci=Tn?this.currentUrlTree.fragment:Zt;let Ci,Kn=null;switch(wn??this.options.defaultQueryParamsHandling){case"merge":Kn={...this.currentUrlTree.queryParams,...Lt};break;case"preserve":Kn=this.currentUrlTree.queryParams;break;default:Kn=Lt||null}null!==Kn&&(Kn=this.removeEmptyProps(Kn));try{Ci=xn(ut?ut.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),Ci=this.currentUrlTree.root}return Wn(Ci,de,Kn,ci??null)}navigateByUrl(de,Oe={skipLocationChange:!1}){const ut=Vt(de)?de:this.parseUrl(de),Lt=this.urlHandlingStrategy.merge(ut,this.rawUrlTree);return this.scheduleNavigation(Lt,ne,null,Oe)}navigate(de,Oe={skipLocationChange:!1}){return function Ua(ce){for(let ye=0;ye<ce.length;ye++)if(null==ce[ye])throw new e.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Oe),Oe)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Oe){let ut;if(ut=!0===Oe?{...ma}:!1===Oe?{...nl}:Oe,Vt(de))return Ie(this.currentUrlTree,de,ut);const Lt=this.parseUrl(de);return Ie(this.currentUrlTree,Lt,ut)}removeEmptyProps(de){return Object.entries(de).reduce((Oe,[ut,Lt])=>(null!=Lt&&(Oe[ut]=Lt),Oe),{})}scheduleNavigation(de,Oe,ut,Lt,Zt){if(this.disposed)return Promise.resolve(!1);let wn,Tn,ci;Zt?(wn=Zt.resolve,Tn=Zt.reject,ci=Zt.promise):ci=new Promise((Ci,Ms)=>{wn=Ci,Tn=Ms});const Kn=this.pendingTasks.add();return ro(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Kn))}),this.navigationTransitions.handleNavigationRequest({source:Oe,restoredState:ut,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:Lt,resolve:wn,reject:Tn,promise:ci,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ci.catch(Ci=>Promise.reject(Ci))}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),or=(()=>{class ce{constructor(de,Oe,ut,Lt,Zt,wn){this.router=de,this.route=Oe,this.tabIndexAttribute=ut,this.renderer=Lt,this.el=Zt,this.locationStrategy=wn,this.href=null,this.onChanges=new M.B7,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Tn=Zt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tn||"area"===Tn,this.isAnchorElement?this.subscription=de.events.subscribe(ci=>{ci instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Vt(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Oe,ut,Lt,Zt){const wn=this.urlTree;return!!(null===wn||this.isAnchorElement&&(0!==de||Oe||ut||Lt||Zt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(wn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const de=this.urlTree;this.href=null!==de&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(de)):null;const Oe=null===this.href?null:(0,e.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Oe)}applyAttributeValue(de,Oe){const ut=this.renderer,Lt=this.el.nativeElement;null!==Oe?ut.setAttribute(Lt,de,Oe):ut.removeAttribute(Lt,de)}get urlTree(){return null===this.routerLinkInput?null:Vt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.rXU(Mo),e.rXU($s),e.kS0("tabindex"),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(K.hb))};static#t=this.\u0275dir=e.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Oe,ut){1&Oe&&e.bIt("click",function(Zt){return ut.onClick(Zt.button,Zt.ctrlKey,Zt.shiftKey,Zt.altKey,Zt.metaKey)}),2&Oe&&e.BMQ("target",ut.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",e.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",e.L39],replaceUrl:[2,"replaceUrl","replaceUrl",e.L39],routerLink:"routerLink"},standalone:!0,features:[e.GFd,e.OA$]})}return ce})(),$d=(()=>{class ce{get isActive(){return this._isActive}constructor(de,Oe,ut,Lt,Zt){this.router=de,this.element=Oe,this.renderer=ut,this.cdr=Lt,this.link=Zt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.bkB,this.routerEventsSubscription=de.events.subscribe(wn=>{wn instanceof hn&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,Me.U)()).subscribe(de=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const de=[...this.links.toArray(),this.link].filter(Oe=>!!Oe).map(Oe=>Oe.onChanges);this.linkInputChangesSubscription=(0,d.H)(de).pipe((0,Me.U)()).subscribe(Oe=>{this._isActive!==this.isLinkActive(this.router)(Oe)&&this.update()})}set routerLinkActive(de){const Oe=Array.isArray(de)?de:de.split(" ");this.classes=Oe.filter(ut=>!!ut)}ngOnChanges(de){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const de=this.hasActiveLinks();this.classes.forEach(Oe=>{de?this.renderer.addClass(this.element.nativeElement,Oe):this.renderer.removeClass(this.element.nativeElement,Oe)}),de&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==de&&(this._isActive=de,this.cdr.markForCheck(),this.isActiveChange.emit(de))})}isLinkActive(de){const Oe=function ac(ce){return!!ce.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ut=>{const Lt=ut.urlTree;return!!Lt&&de.isActive(Lt,Oe)}}hasActiveLinks(){const de=this.isLinkActive(this.router);return this.link&&de(this.link)||this.links.some(de)}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.rXU(Mo),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(or,8))};static#t=this.\u0275dir=e.FsC({type:ce,selectors:[["","routerLinkActive",""]],contentQueries:function(Oe,ut,Lt){if(1&Oe&&e.wni(Lt,or,5),2&Oe){let Zt;e.mGM(Zt=e.lsd())&&(ut.links=Zt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.OA$]})}return ce})();class $l{}let vr=(()=>{class ce{constructor(de,Oe,ut,Lt,Zt){this.router=de,this.injector=ut,this.preloadingStrategy=Lt,this.loader=Zt}setUpPreloading(){this.subscription=this.router.events.pipe((0,m.p)(de=>de instanceof hn),(0,L.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Oe){const ut=[];for(const Lt of Oe){Lt.providers&&!Lt._injector&&(Lt._injector=(0,e.Ol2)(Lt.providers,de,`Route: ${Lt.path}`));const Zt=Lt._injector??de,wn=Lt._loadedInjector??Zt;(Lt.loadChildren&&!Lt._loadedRoutes&&void 0===Lt.canLoad||Lt.loadComponent&&!Lt._loadedComponent)&&ut.push(this.preloadConfig(Zt,Lt)),(Lt.children||Lt._loadedRoutes)&&ut.push(this.processRoutes(wn,Lt.children??Lt._loadedRoutes))}return(0,d.H)(ut).pipe((0,Me.U)())}preloadConfig(de,Oe){return this.preloadingStrategy.preload(Oe,()=>{let ut;ut=Oe.loadChildren&&void 0===Oe.canLoad?this.loader.loadChildren(de,Oe):(0,h.of)(null);const Lt=ut.pipe((0,v.ZZ)(Zt=>null===Zt?(0,h.of)(void 0):(Oe._loadedRoutes=Zt.routes,Oe._loadedInjector=Zt.injector,this.processRoutes(Zt.injector??de,Zt.routes))));if(Oe.loadComponent&&!Oe._loadedComponent){const Zt=this.loader.loadComponent(Oe);return(0,d.H)([Lt,Zt]).pipe((0,Me.U)())}return Lt})}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.KVO(Mo),e.KVO(e.Ql9),e.KVO(e.uvJ),e.KVO($l),e.KVO(so))};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const il=new e.nKC("");let Vr=(()=>{class ce{constructor(de,Oe,ut,Lt,Zt={}){this.urlSerializer=de,this.transitions=Oe,this.viewportScroller=ut,this.zone=Lt,this.options=Zt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Zt.scrollPositionRestoration||="disabled",Zt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof hn?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof es&&de.code===ai.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof tr&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Oe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tr(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Oe))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Oe){e.QTQ()};static#t=this.\u0275prov=e.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function Vo(ce,ye){return{\u0275kind:ce,\u0275providers:ye}}function Go(){const ce=(0,e.WQX)(e.zZn);return ye=>{const de=ce.get(e.o8S);if(ye!==de.components[0])return;const Oe=ce.get(Mo),ut=ce.get(Mc);1===ce.get(Ps)&&Oe.initialNavigation(),ce.get(lc,null,e.$GK.Optional)?.setUpPreloading(),ce.get(il,null,e.$GK.Optional)?.init(),Oe.resetRootComponentType(de.componentTypes[0]),ut.closed||(ut.next(),ut.complete(),ut.unsubscribe())}}const Mc=new e.nKC("",{factory:()=>new M.B7}),Ps=new e.nKC("",{providedIn:"root",factory:()=>1}),lc=new e.nKC("");function pd(ce){return Vo(0,[{provide:lc,useExisting:vr},{provide:$l,useExisting:ce}])}function jl(ce){return Vo(9,[{provide:yt,useValue:ft},{provide:Be,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const Wc=new e.nKC("ROUTER_FORROOT_GUARD"),ga=[K.aZ,{provide:nn,useClass:yn},Mo,jt,{provide:$s,useFactory:function Eh(ce){return ce.routerState.root},deps:[Mo]},so,[]];let D_=(()=>{class ce{constructor(de){}static forRoot(de,Oe){return{ngModule:ce,providers:[ga,[],{provide:Zi,multi:!0,useValue:de},{provide:Wc,useFactory:Ud,deps:[[Mo,new e.Xx1,new e.kdw]]},{provide:ei,useValue:Oe||{}},Oe?.useHash?{provide:K.hb,useClass:K.fw}:{provide:K.hb,useClass:K.Sm},{provide:il,useFactory:()=>{const ce=(0,e.WQX)(K.Xr),ye=(0,e.WQX)(e.SKi),de=(0,e.WQX)(ei),Oe=(0,e.WQX)(Un),ut=(0,e.WQX)(nn);return de.scrollOffset&&ce.setOffset(de.scrollOffset),new Vr(ut,Oe,ce,ye,de)}},Oe?.preloadingStrategy?pd(Oe.preloadingStrategy).\u0275providers:[],Oe?.initialNavigation?sl(Oe):[],Oe?.bindToComponentInputs?Vo(8,[Da,{provide:na,useExisting:Da}]).\u0275providers:[],Oe?.enableViewTransitions?jl().\u0275providers:[],[{provide:fo,useFactory:Go},{provide:e.iLQ,multi:!0,useExisting:fo}]]}}static forChild(de){return{ngModule:ce,providers:[{provide:Zi,multi:!0,useValue:de}]}}static#e=this.\u0275fac=function(Oe){return new(Oe||ce)(e.KVO(Wc,8))};static#t=this.\u0275mod=e.$C({type:ce});static#n=this.\u0275inj=e.G2t({})}return ce})();function Ud(ce){return"guarded"}function sl(ce){return["disabled"===ce.initialNavigation?Vo(3,[{provide:e.hnV,multi:!0,useFactory:()=>{const ye=(0,e.WQX)(Mo);return()=>{ye.setUpLocationChangeListener()}}},{provide:Ps,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?Vo(2,[{provide:Ps,useValue:0},{provide:e.hnV,multi:!0,deps:[e.zZn],useFactory:ye=>{const de=ye.get(K.hj,Promise.resolve());return()=>de.then(()=>new Promise(Oe=>{const ut=ye.get(Mo),Lt=ye.get(Mc);ro(ut,()=>{Oe(!0)}),ye.get(Un).afterPreactivation=()=>(Oe(!0),Lt.closed?(0,h.of)(void 0):Lt),ut.initialNavigation()}))}}]).\u0275providers:[]]}const fo=new e.nKC("")},1780:(Ot,ve,s)=>{"use strict";s.d(ve,{D9:()=>ie,Wr:()=>y,c$:()=>$,h:()=>me});var e=s(3953),n=s(4421),d=s(8982),h=s(696),g=s(1639),b=s(9418),E=s(9493),_=s(8712),u=s(5006),I=s(3574),k=s(9090);class y{}let x=(()=>{class Y extends y{getTranslation(N){return(0,n.of)({})}}return Y.\u0275fac=(()=>{let F;return function(J){return(F||(F=e.xGo(Y)))(J||Y)}})(),Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})();class M{}let B=(()=>{class Y{handle(N){return N.key}}return Y.\u0275fac=function(N){return new(N||Y)},Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})();function K(Y,F){if(Y===F)return!0;if(null===Y||null===F)return!1;if(Y!=Y&&F!=F)return!0;let ae,_e,xe,N=typeof Y;if(N==typeof F&&"object"==N){if(!Array.isArray(Y)){if(Array.isArray(F))return!1;for(_e in xe=Object.create(null),Y){if(!K(Y[_e],F[_e]))return!1;xe[_e]=!0}for(_e in F)if(!(_e in xe)&&typeof F[_e]<"u")return!1;return!0}if(!Array.isArray(F))return!1;if((ae=Y.length)==F.length){for(_e=0;_e<ae;_e++)if(!K(Y[_e],F[_e]))return!1;return!0}}return!1}function P(Y){return typeof Y<"u"&&null!==Y}function j(Y){return Y&&"object"==typeof Y&&!Array.isArray(Y)}function S(Y,F){let N=Object.assign({},Y);return j(Y)&&j(F)&&Object.keys(F).forEach(J=>{j(F[J])?J in Y?N[J]=S(Y[J],F[J]):Object.assign(N,{[J]:F[J]}):Object.assign(N,{[J]:F[J]})}),N}class w{}let m=(()=>{class Y extends w{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(N,J){let ae;return ae="string"==typeof N?this.interpolateString(N,J):"function"==typeof N?this.interpolateFunction(N,J):N,ae}getValue(N,J){let ae="string"==typeof J?J.split("."):[J];J="";do{J+=ae.shift(),!P(N)||!P(N[J])||"object"!=typeof N[J]&&ae.length?ae.length?J+=".":N=void 0:(N=N[J],J="")}while(ae.length);return N}interpolateFunction(N,J){return N(J)}interpolateString(N,J){return J?N.replace(this.templateMatcher,(ae,_e)=>{let xe=this.getValue(J,_e);return P(xe)?xe:ae}):N}}return Y.\u0275fac=(()=>{let F;return function(J){return(F||(F=e.xGo(Y)))(J||Y)}})(),Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})();class v{}let A=(()=>{class Y extends v{compile(N,J){return N}compileTranslations(N,J){return N}}return Y.\u0275fac=(()=>{let F;return function(J){return(F||(F=e.xGo(Y)))(J||Y)}})(),Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.bkB,this.onLangChange=new e.bkB,this.onDefaultLangChange=new e.bkB}}const G=new e.nKC("USE_STORE"),O=new e.nKC("USE_DEFAULT_LANG"),W=new e.nKC("DEFAULT_LANGUAGE"),U=new e.nKC("USE_EXTEND");let $=(()=>{class Y{constructor(N,J,ae,_e,xe,Fe=!0,Ae=!1,Ye=!1,qe){this.store=N,this.currentLoader=J,this.compiler=ae,this.parser=_e,this.missingTranslationHandler=xe,this.useDefaultLang=Fe,this.isolate=Ae,this.extend=Ye,this.pending=!1,this._onTranslationChange=new e.bkB,this._onLangChange=new e.bkB,this._onDefaultLangChange=new e.bkB,this._langs=[],this._translations={},this._translationRequests={},qe&&this.setDefaultLang(qe)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(N){this.isolate?this._defaultLang=N:this.store.defaultLang=N}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(N){this.isolate?this._currentLang=N:this.store.currentLang=N}get langs(){return this.isolate?this._langs:this.store.langs}set langs(N){this.isolate?this._langs=N:this.store.langs=N}get translations(){return this.isolate?this._translations:this.store.translations}set translations(N){this.isolate?this._translations=N:this.store.translations=N}setDefaultLang(N){if(N===this.defaultLang)return;let J=this.retrieveTranslations(N);typeof J<"u"?(null==this.defaultLang&&(this.defaultLang=N),J.pipe((0,E.s)(1)).subscribe(ae=>{this.changeDefaultLang(N)})):this.changeDefaultLang(N)}getDefaultLang(){return this.defaultLang}use(N){if(N===this.currentLang)return(0,n.of)(this.translations[N]);let J=this.retrieveTranslations(N);return typeof J<"u"?(this.currentLang||(this.currentLang=N),J.pipe((0,E.s)(1)).subscribe(ae=>{this.changeLang(N)}),J):(this.changeLang(N),(0,n.of)(this.translations[N]))}retrieveTranslations(N){let J;return(typeof this.translations[N]>"u"||this.extend)&&(this._translationRequests[N]=this._translationRequests[N]||this.getTranslation(N),J=this._translationRequests[N]),J}getTranslation(N){this.pending=!0;const J=this.currentLoader.getTranslation(N).pipe((0,_.t)(1),(0,E.s)(1));return this.loadingTranslations=J.pipe((0,u.T)(ae=>this.compiler.compileTranslations(ae,N)),(0,_.t)(1),(0,E.s)(1)),this.loadingTranslations.subscribe({next:ae=>{this.translations[N]=this.extend&&this.translations[N]?{...ae,...this.translations[N]}:ae,this.updateLangs(),this.pending=!1},error:ae=>{this.pending=!1}}),J}setTranslation(N,J,ae=!1){J=this.compiler.compileTranslations(J,N),this.translations[N]=(ae||this.extend)&&this.translations[N]?S(this.translations[N],J):J,this.updateLangs(),this.onTranslationChange.emit({lang:N,translations:this.translations[N]})}getLangs(){return this.langs}addLangs(N){N.forEach(J=>{-1===this.langs.indexOf(J)&&this.langs.push(J)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(N,J,ae){let _e;if(J instanceof Array){let xe={},Fe=!1;for(let Ae of J)xe[Ae]=this.getParsedResult(N,Ae,ae),(0,d.A)(xe[Ae])&&(Fe=!0);if(Fe){const Ae=J.map(Ye=>(0,d.A)(xe[Ye])?xe[Ye]:(0,n.of)(xe[Ye]));return(0,h.p)(Ae).pipe((0,u.T)(Ye=>{let qe={};return Ye.forEach((Ne,Me)=>{qe[J[Me]]=Ne}),qe}))}return xe}if(N&&(_e=this.parser.interpolate(this.parser.getValue(N,J),ae)),typeof _e>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(_e=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],J),ae)),typeof _e>"u"){let xe={key:J,translateService:this};typeof ae<"u"&&(xe.interpolateParams=ae),_e=this.missingTranslationHandler.handle(xe)}return typeof _e<"u"?_e:J}get(N,J){if(!P(N)||!N.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,I.H)(ae=>(ae=this.getParsedResult(ae,N,J),(0,d.A)(ae)?ae:(0,n.of)(ae))));{let ae=this.getParsedResult(this.translations[this.currentLang],N,J);return(0,d.A)(ae)?ae:(0,n.of)(ae)}}getStreamOnTranslationChange(N,J){if(!P(N)||!N.length)throw new Error('Parameter "key" required');return(0,g.x)((0,b.v)(()=>this.get(N,J)),this.onTranslationChange.pipe((0,k.n)(ae=>{const _e=this.getParsedResult(ae.translations,N,J);return"function"==typeof _e.subscribe?_e:(0,n.of)(_e)})))}stream(N,J){if(!P(N)||!N.length)throw new Error('Parameter "key" required');return(0,g.x)((0,b.v)(()=>this.get(N,J)),this.onLangChange.pipe((0,k.n)(ae=>{const _e=this.getParsedResult(ae.translations,N,J);return(0,d.A)(_e)?_e:(0,n.of)(_e)})))}instant(N,J){if(!P(N)||!N.length)throw new Error('Parameter "key" required');let ae=this.getParsedResult(this.translations[this.currentLang],N,J);if((0,d.A)(ae)){if(N instanceof Array){let _e={};return N.forEach((xe,Fe)=>{_e[N[Fe]]=N[Fe]}),_e}return N}return ae}set(N,J,ae=this.currentLang){this.translations[ae][N]=this.compiler.compile(J,ae),this.updateLangs(),this.onTranslationChange.emit({lang:ae,translations:this.translations[ae]})}changeLang(N){this.currentLang=N,this.onLangChange.emit({lang:N,translations:this.translations[N]}),null==this.defaultLang&&this.changeDefaultLang(N)}changeDefaultLang(N){this.defaultLang=N,this.onDefaultLangChange.emit({lang:N,translations:this.translations[N]})}reloadLang(N){return this.resetLang(N),this.getTranslation(N)}resetLang(N){this._translationRequests[N]=void 0,this.translations[N]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let N=window.navigator.languages?window.navigator.languages[0]:null;return N=N||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof N>"u"?void 0:(-1!==N.indexOf("-")&&(N=N.split("-")[0]),-1!==N.indexOf("_")&&(N=N.split("_")[0]),N)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let N=window.navigator.languages?window.navigator.languages[0]:null;return N=N||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,N}}return Y.\u0275fac=function(N){return new(N||Y)(e.KVO(L),e.KVO(y),e.KVO(v),e.KVO(w),e.KVO(M),e.KVO(O),e.KVO(G),e.KVO(U),e.KVO(W))},Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})(),ie=(()=>{class Y{constructor(N,J){this.translate=N,this._ref=J,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(N,J,ae){let _e=xe=>{this.value=void 0!==xe?xe:N,this.lastKey=N,this._ref.markForCheck()};if(ae){let xe=this.translate.getParsedResult(ae,N,J);(0,d.A)(xe.subscribe)?xe.subscribe(_e):_e(xe)}this.translate.get(N,J).subscribe(_e)}transform(N,...J){if(!N||!N.length)return N;if(K(N,this.lastKey)&&K(J,this.lastParams))return this.value;let ae;if(P(J[0])&&J.length)if("string"==typeof J[0]&&J[0].length){let _e=J[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ae=JSON.parse(_e)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${J[0]}`)}}else"object"==typeof J[0]&&!Array.isArray(J[0])&&(ae=J[0]);return this.lastKey=N,this.lastParams=J,this.updateValue(N,ae),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(_e=>{this.lastKey&&_e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(N,ae,_e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(_e=>{this.lastKey&&(this.lastKey=null,this.updateValue(N,ae,_e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(N,ae))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Y.\u0275fac=function(N){return new(N||Y)(e.rXU($,16),e.rXU(e.gRc,16))},Y.\u0275pipe=e.EJ8({name:"translate",type:Y,pure:!1}),Y.\u0275prov=e.jDH({token:Y,factory:Y.\u0275fac}),Y})(),me=(()=>{class Y{static forRoot(N={}){return{ngModule:Y,providers:[N.loader||{provide:y,useClass:x},N.compiler||{provide:v,useClass:A},N.parser||{provide:w,useClass:m},N.missingTranslationHandler||{provide:M,useClass:B},L,{provide:G,useValue:N.isolate},{provide:O,useValue:N.useDefaultLang},{provide:U,useValue:N.extend},{provide:W,useValue:N.defaultLanguage},$]}}static forChild(N={}){return{ngModule:Y,providers:[N.loader||{provide:y,useClass:x},N.compiler||{provide:v,useClass:A},N.parser||{provide:w,useClass:m},N.missingTranslationHandler||{provide:M,useClass:B},{provide:G,useValue:N.isolate},{provide:O,useValue:N.useDefaultLang},{provide:U,useValue:N.extend},{provide:W,useValue:N.defaultLanguage},$]}}}return Y.\u0275fac=function(N){return new(N||Y)},Y.\u0275mod=e.$C({type:Y}),Y.\u0275inj=e.G2t({}),Y})()},1666:(Ot,ve,s)=>{"use strict";s.d(ve,{q:()=>n});let e={};function n(){return e}},8488:(Ot,ve,s)=>{"use strict";s.d(ve,{m:()=>h});const e=(g,b)=>{switch(g){case"P":return b.date({width:"short"});case"PP":return b.date({width:"medium"});case"PPP":return b.date({width:"long"});default:return b.date({width:"full"})}},n=(g,b)=>{switch(g){case"p":return b.time({width:"short"});case"pp":return b.time({width:"medium"});case"ppp":return b.time({width:"long"});default:return b.time({width:"full"})}},h={p:n,P:(g,b)=>{const E=g.match(/(P+)(p+)?/)||[],_=E[1],u=E[2];if(!u)return e(g,b);let I;switch(_){case"P":I=b.dateTime({width:"short"});break;case"PP":I=b.dateTime({width:"medium"});break;case"PPP":I=b.dateTime({width:"long"});break;default:I=b.dateTime({width:"full"})}return I.replace("{{date}}",e(_,b)).replace("{{time}}",n(u,b))}}},6708:(Ot,ve,s)=>{"use strict";function e(n){return d=>{const g=(n?Math[n]:Math.trunc)(d);return 0===g?0:g}}s.d(ve,{u:()=>e})},5872:(Ot,ve,s)=>{"use strict";s.d(ve,{G:()=>n});var e=s(4273);function n(d){const h=(0,e.a)(d),g=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()));return g.setUTCFullYear(h.getFullYear()),+d-+g}},7195:(Ot,ve,s)=>{"use strict";s.d(ve,{Ss:()=>b,ef:()=>h,xM:()=>g});const e=/^D+$/,n=/^Y+$/,d=["D","DD","YY","YYYY"];function h(_){return e.test(_)}function g(_){return n.test(_)}function b(_,u,I){const k=function E(_,u,I){const k="Y"===_[0]?"years":"days of the month";return`Use \`${_.toLowerCase()}\` instead of \`${_}\` (in \`${u}\`) for formatting ${k} to the input \`${I}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(_,u,I);if(console.warn(k),d.includes(_))throw new RangeError(k)}},9015:(Ot,ve,s)=>{"use strict";s.d(ve,{W:()=>g});var e=s(906),n=s(5458),d=s(7729),h=s(4273);function g(E,_){const{years:u=0,months:I=0,weeks:k=0,days:y=0,hours:x=0,minutes:M=0,seconds:B=0}=_,K=(0,h.a)(E),P=I||u?(0,n.P)(K,I+12*u):K,j=y||k?(0,e.f)(P,y+7*k):P,m=1e3*(B+60*(M+60*x));return(0,d.w)(E,j.getTime()+m)}},906:(Ot,ve,s)=>{"use strict";s.d(ve,{f:()=>d});var e=s(4273),n=s(7729);function d(g,b){const E=(0,e.a)(g);return isNaN(b)?(0,n.w)(g,NaN):(b&&E.setDate(E.getDate()+b),E)}},3368:(Ot,ve,s)=>{"use strict";s.d(ve,{L:()=>d});var e=s(1113),n=s(9857);function d(g,b){return(0,e.A)(g,b*n.s0)}},1113:(Ot,ve,s)=>{"use strict";s.d(ve,{A:()=>d});var e=s(4273),n=s(7729);function d(g,b){const E=+(0,e.a)(g);return(0,n.w)(g,E+b)}},7926:(Ot,ve,s)=>{"use strict";s.d(ve,{z:()=>d});var e=s(1113),n=s(9857);function d(g,b){return(0,e.A)(g,b*n.Cg)}},5458:(Ot,ve,s)=>{"use strict";s.d(ve,{P:()=>d});var e=s(4273),n=s(7729);function d(g,b){const E=(0,e.a)(g);if(isNaN(b))return(0,n.w)(g,NaN);if(!b)return E;const _=E.getDate(),u=(0,n.w)(g,E.getTime());return u.setMonth(E.getMonth()+b+1,0),_>=u.getDate()?u:(E.setFullYear(u.getFullYear(),u.getMonth(),_),E)}},6299:(Ot,ve,s)=>{"use strict";s.d(ve,{e:()=>n});var e=s(5458);function n(h,g){return(0,e.P)(h,12*g)}},9857:(Ot,ve,s)=>{"use strict";s.d(ve,{Cg:()=>E,F6:()=>y,Nw:()=>k,_m:()=>u,my:()=>g,s0:()=>_,w4:()=>b}),Math.pow(10,8);const g=6048e5,b=864e5,E=6e4,_=36e5,u=1e3,k=43200,y=1440},7729:(Ot,ve,s)=>{"use strict";function e(d,h){return d instanceof Date?new d.constructor(h):new Date(h)}s.d(ve,{w:()=>e})},129:(Ot,ve,s)=>{"use strict";s.d(ve,{m:()=>h});var e=s(9857),n=s(3601),d=s(5872);function h(b,E){const _=(0,n.o)(b),u=(0,n.o)(E),I=+_-(0,d.G)(_),k=+u-(0,d.G)(u);return Math.round((I-k)/e.w4)}},4415:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>d});var e=s(129),n=s(4273);function d(b,E){const _=(0,n.a)(b),u=(0,n.a)(E),I=h(_,u),k=Math.abs((0,e.m)(_,u));_.setDate(_.getDate()-I*k);const x=I*(k-+(h(_,u)===-I));return 0===x?0:x}function h(b,E){const _=b.getFullYear()-E.getFullYear()||b.getMonth()-E.getMonth()||b.getDate()-E.getDate()||b.getHours()-E.getHours()||b.getMinutes()-E.getMinutes()||b.getSeconds()-E.getSeconds()||b.getMilliseconds()-E.getMilliseconds();return _<0?-1:_>0?1:_}},4812:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>n});var e=s(4273);function n(h,g){return+(0,e.a)(h)-+(0,e.a)(g)}},2037:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>h});var e=s(6708),n=s(9857),d=s(4812);function h(b,E,_){const u=(0,d.b)(b,E)/n.Cg;return(0,e.u)(_?.roundingMethod)(u)}},5705:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>d});var e=s(6708),n=s(4812);function d(g,b,E){const _=(0,n.b)(g,b)/1e3;return(0,e.u)(E?.roundingMethod)(_)}},4512:(Ot,ve,s)=>{"use strict";s.d(ve,{D:()=>n});var e=s(4273);function n(h){const g=(0,e.a)(h);return g.setHours(23,59,59,999),g}},350:(Ot,ve,s)=>{"use strict";s.d(ve,{V:()=>n});var e=s(4273);function n(h){const g=(0,e.a)(h);return g.setSeconds(59,999),g}},4903:(Ot,ve,s)=>{"use strict";s.d(ve,{GP:()=>me});var e=s(3501),n=s(1666),d=s(129),h=s(4273),g=s(7729);var I=s(6453),k=s(910),y=s(7012),x=s(6045);function M(N,J){return(N<0?"-":"")+Math.abs(N).toString().padStart(J,"0")}const B={y(N,J){const ae=N.getFullYear(),_e=ae>0?ae:1-ae;return M("yy"===J?_e%100:_e,J.length)},M(N,J){const ae=N.getMonth();return"M"===J?String(ae+1):M(ae+1,2)},d:(N,J)=>M(N.getDate(),J.length),a(N,J){const ae=N.getHours()/12>=1?"pm":"am";switch(J){case"a":case"aa":return ae.toUpperCase();case"aaa":return ae;case"aaaaa":return ae[0];default:return"am"===ae?"a.m.":"p.m."}},h:(N,J)=>M(N.getHours()%12||12,J.length),H:(N,J)=>M(N.getHours(),J.length),m:(N,J)=>M(N.getMinutes(),J.length),s:(N,J)=>M(N.getSeconds(),J.length),S(N,J){const ae=J.length,_e=N.getMilliseconds();return M(Math.trunc(_e*Math.pow(10,ae-3)),J.length)}},P={G:function(N,J,ae){const _e=N.getFullYear()>0?1:0;switch(J){case"G":case"GG":case"GGG":return ae.era(_e,{width:"abbreviated"});case"GGGGG":return ae.era(_e,{width:"narrow"});default:return ae.era(_e,{width:"wide"})}},y:function(N,J,ae){if("yo"===J){const _e=N.getFullYear();return ae.ordinalNumber(_e>0?_e:1-_e,{unit:"year"})}return B.y(N,J)},Y:function(N,J,ae,_e){const xe=(0,x.h)(N,_e),Fe=xe>0?xe:1-xe;return"YY"===J?M(Fe%100,2):"Yo"===J?ae.ordinalNumber(Fe,{unit:"year"}):M(Fe,J.length)},R:function(N,J){return M((0,k.p)(N),J.length)},u:function(N,J){return M(N.getFullYear(),J.length)},Q:function(N,J,ae){const _e=Math.ceil((N.getMonth()+1)/3);switch(J){case"Q":return String(_e);case"QQ":return M(_e,2);case"Qo":return ae.ordinalNumber(_e,{unit:"quarter"});case"QQQ":return ae.quarter(_e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return ae.quarter(_e,{width:"narrow",context:"formatting"});default:return ae.quarter(_e,{width:"wide",context:"formatting"})}},q:function(N,J,ae){const _e=Math.ceil((N.getMonth()+1)/3);switch(J){case"q":return String(_e);case"qq":return M(_e,2);case"qo":return ae.ordinalNumber(_e,{unit:"quarter"});case"qqq":return ae.quarter(_e,{width:"abbreviated",context:"standalone"});case"qqqqq":return ae.quarter(_e,{width:"narrow",context:"standalone"});default:return ae.quarter(_e,{width:"wide",context:"standalone"})}},M:function(N,J,ae){const _e=N.getMonth();switch(J){case"M":case"MM":return B.M(N,J);case"Mo":return ae.ordinalNumber(_e+1,{unit:"month"});case"MMM":return ae.month(_e,{width:"abbreviated",context:"formatting"});case"MMMMM":return ae.month(_e,{width:"narrow",context:"formatting"});default:return ae.month(_e,{width:"wide",context:"formatting"})}},L:function(N,J,ae){const _e=N.getMonth();switch(J){case"L":return String(_e+1);case"LL":return M(_e+1,2);case"Lo":return ae.ordinalNumber(_e+1,{unit:"month"});case"LLL":return ae.month(_e,{width:"abbreviated",context:"standalone"});case"LLLLL":return ae.month(_e,{width:"narrow",context:"standalone"});default:return ae.month(_e,{width:"wide",context:"standalone"})}},w:function(N,J,ae,_e){const xe=(0,y.N)(N,_e);return"wo"===J?ae.ordinalNumber(xe,{unit:"week"}):M(xe,J.length)},I:function(N,J,ae){const _e=(0,I.s)(N);return"Io"===J?ae.ordinalNumber(_e,{unit:"week"}):M(_e,J.length)},d:function(N,J,ae){return"do"===J?ae.ordinalNumber(N.getDate(),{unit:"date"}):B.d(N,J)},D:function(N,J,ae){const _e=function _(N){const J=(0,h.a)(N);return(0,d.m)(J,function b(N){const J=(0,h.a)(N),ae=(0,g.w)(N,0);return ae.setFullYear(J.getFullYear(),0,1),ae.setHours(0,0,0,0),ae}(J))+1}(N);return"Do"===J?ae.ordinalNumber(_e,{unit:"dayOfYear"}):M(_e,J.length)},E:function(N,J,ae){const _e=N.getDay();switch(J){case"E":case"EE":case"EEE":return ae.day(_e,{width:"abbreviated",context:"formatting"});case"EEEEE":return ae.day(_e,{width:"narrow",context:"formatting"});case"EEEEEE":return ae.day(_e,{width:"short",context:"formatting"});default:return ae.day(_e,{width:"wide",context:"formatting"})}},e:function(N,J,ae,_e){const xe=N.getDay(),Fe=(xe-_e.weekStartsOn+8)%7||7;switch(J){case"e":return String(Fe);case"ee":return M(Fe,2);case"eo":return ae.ordinalNumber(Fe,{unit:"day"});case"eee":return ae.day(xe,{width:"abbreviated",context:"formatting"});case"eeeee":return ae.day(xe,{width:"narrow",context:"formatting"});case"eeeeee":return ae.day(xe,{width:"short",context:"formatting"});default:return ae.day(xe,{width:"wide",context:"formatting"})}},c:function(N,J,ae,_e){const xe=N.getDay(),Fe=(xe-_e.weekStartsOn+8)%7||7;switch(J){case"c":return String(Fe);case"cc":return M(Fe,J.length);case"co":return ae.ordinalNumber(Fe,{unit:"day"});case"ccc":return ae.day(xe,{width:"abbreviated",context:"standalone"});case"ccccc":return ae.day(xe,{width:"narrow",context:"standalone"});case"cccccc":return ae.day(xe,{width:"short",context:"standalone"});default:return ae.day(xe,{width:"wide",context:"standalone"})}},i:function(N,J,ae){const _e=N.getDay(),xe=0===_e?7:_e;switch(J){case"i":return String(xe);case"ii":return M(xe,J.length);case"io":return ae.ordinalNumber(xe,{unit:"day"});case"iii":return ae.day(_e,{width:"abbreviated",context:"formatting"});case"iiiii":return ae.day(_e,{width:"narrow",context:"formatting"});case"iiiiii":return ae.day(_e,{width:"short",context:"formatting"});default:return ae.day(_e,{width:"wide",context:"formatting"})}},a:function(N,J,ae){const xe=N.getHours()/12>=1?"pm":"am";switch(J){case"a":case"aa":return ae.dayPeriod(xe,{width:"abbreviated",context:"formatting"});case"aaa":return ae.dayPeriod(xe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return ae.dayPeriod(xe,{width:"narrow",context:"formatting"});default:return ae.dayPeriod(xe,{width:"wide",context:"formatting"})}},b:function(N,J,ae){const _e=N.getHours();let xe;switch(xe=12===_e?"noon":0===_e?"midnight":_e/12>=1?"pm":"am",J){case"b":case"bb":return ae.dayPeriod(xe,{width:"abbreviated",context:"formatting"});case"bbb":return ae.dayPeriod(xe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return ae.dayPeriod(xe,{width:"narrow",context:"formatting"});default:return ae.dayPeriod(xe,{width:"wide",context:"formatting"})}},B:function(N,J,ae){const _e=N.getHours();let xe;switch(xe=_e>=17?"evening":_e>=12?"afternoon":_e>=4?"morning":"night",J){case"B":case"BB":case"BBB":return ae.dayPeriod(xe,{width:"abbreviated",context:"formatting"});case"BBBBB":return ae.dayPeriod(xe,{width:"narrow",context:"formatting"});default:return ae.dayPeriod(xe,{width:"wide",context:"formatting"})}},h:function(N,J,ae){if("ho"===J){let _e=N.getHours()%12;return 0===_e&&(_e=12),ae.ordinalNumber(_e,{unit:"hour"})}return B.h(N,J)},H:function(N,J,ae){return"Ho"===J?ae.ordinalNumber(N.getHours(),{unit:"hour"}):B.H(N,J)},K:function(N,J,ae){const _e=N.getHours()%12;return"Ko"===J?ae.ordinalNumber(_e,{unit:"hour"}):M(_e,J.length)},k:function(N,J,ae){let _e=N.getHours();return 0===_e&&(_e=24),"ko"===J?ae.ordinalNumber(_e,{unit:"hour"}):M(_e,J.length)},m:function(N,J,ae){return"mo"===J?ae.ordinalNumber(N.getMinutes(),{unit:"minute"}):B.m(N,J)},s:function(N,J,ae){return"so"===J?ae.ordinalNumber(N.getSeconds(),{unit:"second"}):B.s(N,J)},S:function(N,J){return B.S(N,J)},X:function(N,J,ae){const _e=N.getTimezoneOffset();if(0===_e)return"Z";switch(J){case"X":return S(_e);case"XXXX":case"XX":return w(_e);default:return w(_e,":")}},x:function(N,J,ae){const _e=N.getTimezoneOffset();switch(J){case"x":return S(_e);case"xxxx":case"xx":return w(_e);default:return w(_e,":")}},O:function(N,J,ae){const _e=N.getTimezoneOffset();switch(J){case"O":case"OO":case"OOO":return"GMT"+j(_e,":");default:return"GMT"+w(_e,":")}},z:function(N,J,ae){const _e=N.getTimezoneOffset();switch(J){case"z":case"zz":case"zzz":return"GMT"+j(_e,":");default:return"GMT"+w(_e,":")}},t:function(N,J,ae){return M(Math.trunc(N.getTime()/1e3),J.length)},T:function(N,J,ae){return M(N.getTime(),J.length)}};function j(N,J=""){const ae=N>0?"-":"+",_e=Math.abs(N),xe=Math.trunc(_e/60),Fe=_e%60;return 0===Fe?ae+String(xe):ae+String(xe)+J+M(Fe,2)}function S(N,J){return N%60==0?(N>0?"-":"+")+M(Math.abs(N)/60,2):w(N,J)}function w(N,J=""){const ae=N>0?"-":"+",_e=Math.abs(N);return ae+M(Math.trunc(_e/60),2)+J+M(_e%60,2)}var m=s(8488),v=s(7195);const W=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$=/^'([^]*?)'?$/,te=/''/g,ie=/[a-zA-Z]/;function me(N,J,ae){const _e=(0,n.q)(),xe=ae?.locale??_e.locale??e.c,Fe=ae?.firstWeekContainsDate??ae?.locale?.options?.firstWeekContainsDate??_e.firstWeekContainsDate??_e.locale?.options?.firstWeekContainsDate??1,Ae=ae?.weekStartsOn??ae?.locale?.options?.weekStartsOn??_e.weekStartsOn??_e.locale?.options?.weekStartsOn??0,Ye=(0,h.a)(N);if(!function G(N){if(!function A(N){return N instanceof Date||"object"==typeof N&&"[object Date]"===Object.prototype.toString.call(N)}(N)&&"number"!=typeof N)return!1;const J=(0,h.a)(N);return!isNaN(Number(J))}(Ye))throw new RangeError("Invalid time value");let qe=J.match(U).map(Me=>{const pe=Me[0];return"p"===pe||"P"===pe?(0,m.m[pe])(Me,xe.formatLong):Me}).join("").match(W).map(Me=>{if("''"===Me)return{isToken:!1,value:"'"};const pe=Me[0];if("'"===pe)return{isToken:!1,value:Y(Me)};if(P[pe])return{isToken:!0,value:Me};if(pe.match(ie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");return{isToken:!1,value:Me}});xe.localize.preprocessor&&(qe=xe.localize.preprocessor(Ye,qe));const Ne={firstWeekContainsDate:Fe,weekStartsOn:Ae,locale:xe};return qe.map(Me=>{if(!Me.isToken)return Me.value;const pe=Me.value;return(!ae?.useAdditionalWeekYearTokens&&(0,v.xM)(pe)||!ae?.useAdditionalDayOfYearTokens&&(0,v.ef)(pe))&&(0,v.Ss)(pe,J,String(N)),(0,P[pe[0]])(Ye,pe,xe.localize,Ne)}).join("")}function Y(N){const J=N.match($);return J?J[1].replace(te,"'"):N}},141:(Ot,ve,s)=>{"use strict";s.d(ve,{m:()=>A});var e=s(7729),h=s(4273);function g(G,O){const W=(0,h.a)(G),U=(0,h.a)(O),$=W.getTime()-U.getTime();return $<0?-1:$>0?1:$}var E=s(9857),I=s(4512);function B(G,O){const W=(0,h.a)(G),U=(0,h.a)(O),$=g(W,U),te=Math.abs(function _(G,O){const W=(0,h.a)(G),U=(0,h.a)(O);return 12*(W.getFullYear()-U.getFullYear())+(W.getMonth()-U.getMonth())}(W,U));let ie;if(te<1)ie=0;else{1===W.getMonth()&&W.getDate()>27&&W.setDate(30),W.setMonth(W.getMonth()-$*te);let me=g(W,U)===-$;(function x(G){const O=(0,h.a)(G);return+(0,I.D)(O)==+function k(G){const O=(0,h.a)(G),W=O.getMonth();return O.setFullYear(O.getFullYear(),W+1,0),O.setHours(23,59,59,999),O}(O)})((0,h.a)(G))&&1===te&&1===g(G,U)&&(me=!1),ie=$*(te-Number(me))}return 0===ie?0:ie}var P=s(5705),j=s(3501),S=s(1666),w=s(5872);function A(G,O){return function m(G,O,W){const U=(0,S.q)(),$=W?.locale??U.locale??j.c,ie=g(G,O);if(isNaN(ie))throw new RangeError("Invalid time value");const me=Object.assign({},W,{addSuffix:W?.addSuffix,comparison:ie});let Y,F;ie>0?(Y=(0,h.a)(O),F=(0,h.a)(G)):(Y=(0,h.a)(G),F=(0,h.a)(O));const N=(0,P.O)(F,Y),J=((0,w.G)(F)-(0,w.G)(Y))/1e3,ae=Math.round((N-J)/60);let _e;if(ae<2)return W?.includeSeconds?N<5?$.formatDistance("lessThanXSeconds",5,me):N<10?$.formatDistance("lessThanXSeconds",10,me):N<20?$.formatDistance("lessThanXSeconds",20,me):N<40?$.formatDistance("halfAMinute",0,me):$.formatDistance(N<60?"lessThanXMinutes":"xMinutes",1,me):0===ae?$.formatDistance("lessThanXMinutes",1,me):$.formatDistance("xMinutes",ae,me);if(ae<45)return $.formatDistance("xMinutes",ae,me);if(ae<90)return $.formatDistance("aboutXHours",1,me);if(ae<E.F6){const xe=Math.round(ae/60);return $.formatDistance("aboutXHours",xe,me)}if(ae<2520)return $.formatDistance("xDays",1,me);if(ae<E.Nw){const xe=Math.round(ae/E.F6);return $.formatDistance("xDays",xe,me)}if(ae<2*E.Nw)return _e=Math.round(ae/E.Nw),$.formatDistance("aboutXMonths",_e,me);if(_e=B(F,Y),_e<12){const xe=Math.round(ae/E.Nw);return $.formatDistance("xMonths",xe,me)}{const xe=_e%12,Fe=Math.trunc(_e/12);return xe<3?$.formatDistance("aboutXYears",Fe,me):xe<9?$.formatDistance("overXYears",Fe,me):$.formatDistance("almostXYears",Fe+1,me)}}(G,function n(G){return(0,e.w)(G,Date.now())}(G),O)}},2659:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>h});var e=s(3501),n=s(1666);const d=["years","months","weeks","days","hours","minutes","seconds"];function h(b,E){const _=(0,n.q)(),u=E?.locale??_.locale??e.c,I=E?.format??d,k=E?.zero??!1,y=E?.delimiter??" ";return u.formatDistance?I.reduce((M,B)=>{const K=`x${B.replace(/(^.)/,j=>j.toUpperCase())}`,P=b[B];return void 0!==P&&(k||b[B])?M.concat(u.formatDistance(K,P)):M},[]).join(y):""}},6453:(Ot,ve,s)=>{"use strict";s.d(ve,{s:()=>_});var e=s(9857),n=s(8152),d=s(910),h=s(7729),E=s(4273);function _(I){const k=(0,E.a)(I),y=+(0,n.b)(k)-+function g(I){const k=(0,d.p)(I),y=(0,h.w)(I,0);return y.setFullYear(k,0,4),y.setHours(0,0,0,0),(0,n.b)(y)}(k);return Math.round(y/e.my)+1}},910:(Ot,ve,s)=>{"use strict";s.d(ve,{p:()=>h});var e=s(7729),n=s(8152),d=s(4273);function h(b){const E=(0,d.a)(b),_=E.getFullYear(),u=(0,e.w)(b,0);u.setFullYear(_+1,0,4),u.setHours(0,0,0,0);const I=(0,n.b)(u),k=(0,e.w)(b,0);k.setFullYear(_,0,4),k.setHours(0,0,0,0);const y=(0,n.b)(k);return E.getTime()>=I.getTime()?_+1:E.getTime()>=y.getTime()?_:_-1}},5987:(Ot,ve,s)=>{"use strict";s.d(ve,{_:()=>n});var e=s(4273);function n(h){return Math.trunc(+(0,e.a)(h)/1e3)}},7012:(Ot,ve,s)=>{"use strict";s.d(ve,{N:()=>u});var e=s(9857),n=s(7793),d=s(7729),h=s(6045),g=s(1666),_=s(4273);function u(k,y){const x=(0,_.a)(k),M=+(0,n.k)(x,y)-+function b(k,y){const x=(0,g.q)(),M=y?.firstWeekContainsDate??y?.locale?.options?.firstWeekContainsDate??x.firstWeekContainsDate??x.locale?.options?.firstWeekContainsDate??1,B=(0,h.h)(k,y),K=(0,d.w)(k,0);return K.setFullYear(B,0,M),K.setHours(0,0,0,0),(0,n.k)(K,y)}(x,y);return Math.round(M/e.my)+1}},6045:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>g});var e=s(7729),n=s(7793),d=s(4273),h=s(1666);function g(E,_){const u=(0,d.a)(E),I=u.getFullYear(),k=(0,h.q)(),y=_?.firstWeekContainsDate??_?.locale?.options?.firstWeekContainsDate??k.firstWeekContainsDate??k.locale?.options?.firstWeekContainsDate??1,x=(0,e.w)(E,0);x.setFullYear(I+1,0,y),x.setHours(0,0,0,0);const M=(0,n.k)(x,_),B=(0,e.w)(E,0);B.setFullYear(I,0,y),B.setHours(0,0,0,0);const K=(0,n.k)(B,_);return u.getTime()>=M.getTime()?I+1:u.getTime()>=K.getTime()?I:I-1}},9824:(Ot,ve,s)=>{"use strict";s.d(ve,{d:()=>n});var e=s(4273);function n(h,g){const b=(0,e.a)(h),E=(0,e.a)(g);return b.getTime()>E.getTime()}},9255:(Ot,ve,s)=>{"use strict";s.d(ve,{Y:()=>n});var e=s(4273);function n(h,g){return+(0,e.a)(h)<+(0,e.a)(g)}},5818:(Ot,ve,s)=>{"use strict";s.d(ve,{r:()=>n});var e=s(3601);function n(h,g){return+(0,e.o)(h)==+(0,e.o)(g)}},2544:(Ot,ve,s)=>{"use strict";s.d(ve,{H:()=>n});var e=s(2357);function n(h,g){return+(0,e.c)(h)==+(0,e.c)(g)}},7518:(Ot,ve,s)=>{"use strict";s.d(ve,{t:()=>n});var e=s(4273);function n(h,g){const b=(0,e.a)(h),E=(0,e.a)(g);return b.getFullYear()===E.getFullYear()&&b.getMonth()===E.getMonth()}},3501:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>J});const e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function d(_e){return(xe={})=>{const Fe=xe.width?String(xe.width):_e.defaultWidth;return _e.formats[Fe]||_e.formats[_e.defaultWidth]}}const E={date:d({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:d({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function I(_e){return(xe,Fe)=>{let Ye;if("formatting"===(Fe?.context?String(Fe.context):"standalone")&&_e.formattingValues){const Ne=_e.defaultFormattingWidth||_e.defaultWidth,Me=Fe?.width?String(Fe.width):Ne;Ye=_e.formattingValues[Me]||_e.formattingValues[Ne]}else{const Ne=_e.defaultWidth,Me=Fe?.width?String(Fe.width):_e.defaultWidth;Ye=_e.values[Me]||_e.values[Ne]}return Ye[_e.argumentCallback?_e.argumentCallback(xe):xe]}}function S(_e){return(xe,Fe={})=>{const Ae=Fe.width,qe=xe.match(Ae&&_e.matchPatterns[Ae]||_e.matchPatterns[_e.defaultMatchWidth]);if(!qe)return null;const Ne=qe[0],Me=Ae&&_e.parsePatterns[Ae]||_e.parsePatterns[_e.defaultParseWidth],pe=Array.isArray(Me)?function m(_e,xe){for(let Fe=0;Fe<_e.length;Fe++)if(xe(_e[Fe]))return Fe}(Me,Ee=>Ee.test(Ne)):function w(_e,xe){for(const Fe in _e)if(Object.prototype.hasOwnProperty.call(_e,Fe)&&xe(_e[Fe]))return Fe}(Me,Ee=>Ee.test(Ne));let he;return he=_e.valueCallback?_e.valueCallback(pe):pe,he=Fe.valueCallback?Fe.valueCallback(he):he,{value:he,rest:xe.slice(Ne.length)}}}const J={code:"en-US",formatDistance:(_e,xe,Fe)=>{let Ae;const Ye=e[_e];return Ae="string"==typeof Ye?Ye:1===xe?Ye.one:Ye.other.replace("{{count}}",xe.toString()),Fe?.addSuffix?Fe.comparison&&Fe.comparison>0?"in "+Ae:Ae+" ago":Ae},formatLong:E,formatRelative:(_e,xe,Fe,Ae)=>_[_e],localize:{ordinalNumber:(_e,xe)=>{const Fe=Number(_e),Ae=Fe%100;if(Ae>20||Ae<10)switch(Ae%10){case 1:return Fe+"st";case 2:return Fe+"nd";case 3:return Fe+"rd"}return Fe+"th"},era:I({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:I({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:I({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:I({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:I({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function v(_e){return(xe,Fe={})=>{const Ae=xe.match(_e.matchPattern);if(!Ae)return null;const Ye=Ae[0],qe=xe.match(_e.parsePattern);if(!qe)return null;let Ne=_e.valueCallback?_e.valueCallback(qe[0]):qe[0];return Ne=Fe.valueCallback?Fe.valueCallback(Ne):Ne,{value:Ne,rest:xe.slice(Ye.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:_e=>parseInt(_e,10)}),era:S({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:S({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:S({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:S({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:S({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9548:(Ot,ve,s)=>{"use strict";s.d(ve,{X:()=>h});var e=s(6708),n=s(7729),d=s(4273);function h(b,E){const _=E?.nearestTo??1;if(_<1||_>30)return(0,n.w)(b,NaN);const u=(0,d.a)(b),I=u.getSeconds()/60,k=u.getMilliseconds()/1e3/60,y=u.getMinutes()+I+k,B=(0,e.u)(E?.roundingMethod??"round")(y/_)*_,K=(0,n.w)(b,u);return K.setMinutes(B,0,0),K}},1406:(Ot,ve,s)=>{"use strict";s.d(ve,{h:()=>h});var e=s(7729),n=s(2596),d=s(4273);function h(b,E){let _=(0,d.a)(b);return isNaN(+_)?(0,e.w)(b,NaN):(null!=E.year&&_.setFullYear(E.year),null!=E.month&&(_=(0,n.Z)(_,E.month)),null!=E.date&&_.setDate(E.date),null!=E.hours&&_.setHours(E.hours),null!=E.minutes&&_.setMinutes(E.minutes),null!=E.seconds&&_.setSeconds(E.seconds),null!=E.milliseconds&&_.setMilliseconds(E.milliseconds),_)}},5611:(Ot,ve,s)=>{"use strict";s.d(ve,{a:()=>n});var e=s(4273);function n(h,g){const b=(0,e.a)(h);return b.setHours(g),b}},2596:(Ot,ve,s)=>{"use strict";s.d(ve,{Z:()=>g});var e=s(7729),n=s(4273);function g(E,_){const u=(0,n.a)(E),I=u.getFullYear(),k=u.getDate(),y=(0,e.w)(E,0);y.setFullYear(I,_,15),y.setHours(0,0,0,0);const x=function d(E){const _=(0,n.a)(E),u=_.getFullYear(),I=_.getMonth(),k=(0,e.w)(E,0);return k.setFullYear(u,I+1,0),k.setHours(0,0,0,0),k.getDate()}(y);return u.setMonth(_,Math.min(k,x)),u}},3601:(Ot,ve,s)=>{"use strict";s.d(ve,{o:()=>n});var e=s(4273);function n(h){const g=(0,e.a)(h);return g.setHours(0,0,0,0),g}},8152:(Ot,ve,s)=>{"use strict";s.d(ve,{b:()=>n});var e=s(7793);function n(h){return(0,e.k)(h,{weekStartsOn:1})}},2357:(Ot,ve,s)=>{"use strict";s.d(ve,{c:()=>n});var e=s(4273);function n(h){const g=(0,e.a)(h);return g.setSeconds(0,0),g}},9497:(Ot,ve,s)=>{"use strict";s.d(ve,{w:()=>n});var e=s(4273);function n(h){const g=(0,e.a)(h);return g.setDate(1),g.setHours(0,0,0,0),g}},7793:(Ot,ve,s)=>{"use strict";s.d(ve,{k:()=>d});var e=s(4273),n=s(1666);function d(g,b){const E=(0,n.q)(),_=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??E.weekStartsOn??E.locale?.options?.weekStartsOn??0,u=(0,e.a)(g),I=u.getDay(),k=(I<_?7:0)+I-_;return u.setDate(u.getDate()-k),u.setHours(0,0,0,0),u}},3901:(Ot,ve,s)=>{"use strict";s.d(ve,{O:()=>n});var e=s(3368);function n(h,g){return(0,e.L)(h,-g)}},4273:(Ot,ve,s)=>{"use strict";function e(d){const h=Object.prototype.toString.call(d);return d instanceof Date||"object"==typeof d&&"[object Date]"===h?new d.constructor(+d):"number"==typeof d||"[object Number]"===h||"string"==typeof d||"[object String]"===h?new Date(d):new Date(NaN)}s.d(ve,{a:()=>e})},222:(Ot,ve,s)=>{"use strict";s.d(ve,{qg:()=>Te,xI:()=>Ln});let n={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function d(Wt){n=Wt}const h=/[&<>"']/,g=new RegExp(h.source,"g"),b=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,E=new RegExp(b.source,"g"),_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=Wt=>_[Wt];function I(Wt,We){if(We){if(h.test(Wt))return Wt.replace(g,u)}else if(b.test(Wt))return Wt.replace(E,u);return Wt}const k=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,x=/(^|[^\[])\^/g;function M(Wt,We){let Pe="string"==typeof Wt?Wt:Wt.source;We=We||"";const Ue={replace:(De,rt)=>{let Qe="string"==typeof rt?rt:rt.source;return Qe=Qe.replace(x,"$1"),Pe=Pe.replace(De,Qe),Ue},getRegex:()=>new RegExp(Pe,We)};return Ue}function B(Wt){try{Wt=encodeURI(Wt).replace(/%25/g,"%")}catch{return null}return Wt}const K={exec:()=>null};function P(Wt,We){const Ue=Wt.replace(/\|/g,(rt,Qe,vt)=>{let et=!1,Re=Qe;for(;--Re>=0&&"\\"===vt[Re];)et=!et;return et?"|":" |"}).split(/ \|/);let De=0;if(Ue[0].trim()||Ue.shift(),Ue.length>0&&!Ue[Ue.length-1].trim()&&Ue.pop(),We)if(Ue.length>We)Ue.splice(We);else for(;Ue.length<We;)Ue.push("");for(;De<Ue.length;De++)Ue[De]=Ue[De].trim().replace(/\\\|/g,"|");return Ue}function j(Wt,We,Pe){const Ue=Wt.length;if(0===Ue)return"";let De=0;for(;De<Ue;){const rt=Wt.charAt(Ue-De-1);if(rt!==We||Pe){if(rt===We||!Pe)break;De++}else De++}return Wt.slice(0,Ue-De)}function w(Wt,We,Pe,Ue){const De=We.href,rt=We.title?I(We.title):null,Qe=Wt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Wt[0].charAt(0)){Ue.state.inLink=!0;const vt={type:"link",raw:Pe,href:De,title:rt,text:Qe,tokens:Ue.inlineTokens(Qe)};return Ue.state.inLink=!1,vt}return{type:"image",raw:Pe,href:De,title:rt,text:I(Qe)}}class v{options;rules;lexer;constructor(We){this.options=We||n}space(We){const Pe=this.rules.block.newline.exec(We);if(Pe&&Pe[0].length>0)return{type:"space",raw:Pe[0]}}code(We){const Pe=this.rules.block.code.exec(We);if(Pe){const Ue=Pe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Pe[0],codeBlockStyle:"indented",text:this.options.pedantic?Ue:j(Ue,"\n")}}}fences(We){const Pe=this.rules.block.fences.exec(We);if(Pe){const Ue=Pe[0],De=function m(Wt,We){const Pe=Wt.match(/^(\s+)(?:```)/);if(null===Pe)return We;const Ue=Pe[1];return We.split("\n").map(De=>{const rt=De.match(/^\s+/);if(null===rt)return De;const[Qe]=rt;return Qe.length>=Ue.length?De.slice(Ue.length):De}).join("\n")}(Ue,Pe[3]||"");return{type:"code",raw:Ue,lang:Pe[2]?Pe[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Pe[2],text:De}}}heading(We){const Pe=this.rules.block.heading.exec(We);if(Pe){let Ue=Pe[2].trim();if(/#$/.test(Ue)){const De=j(Ue,"#");(this.options.pedantic||!De||/ $/.test(De))&&(Ue=De.trim())}return{type:"heading",raw:Pe[0],depth:Pe[1].length,text:Ue,tokens:this.lexer.inline(Ue)}}}hr(We){const Pe=this.rules.block.hr.exec(We);if(Pe)return{type:"hr",raw:j(Pe[0],"\n")}}blockquote(We){const Pe=this.rules.block.blockquote.exec(We);if(Pe){let Ue=j(Pe[0],"\n").split("\n"),De="",rt="";const Qe=[];for(;Ue.length>0;){let vt=!1;const et=[];let Re;for(Re=0;Re<Ue.length;Re++)if(/^ {0,3}>/.test(Ue[Re]))et.push(Ue[Re]),vt=!0;else{if(vt)break;et.push(Ue[Re])}Ue=Ue.slice(Re);const Mt=et.join("\n"),nt=Mt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");De=De?`${De}\n${Mt}`:Mt,rt=rt?`${rt}\n${nt}`:nt;const Ze=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(nt,Qe,!0),this.lexer.state.top=Ze,0===Ue.length)break;const qt=Qe[Qe.length-1];if("code"===qt?.type)break;if("blockquote"===qt?.type){const Vt=qt,dn=Vt.raw+"\n"+Ue.join("\n"),xn=this.blockquote(dn);Qe[Qe.length-1]=xn,De=De.substring(0,De.length-Vt.raw.length)+xn.raw,rt=rt.substring(0,rt.length-Vt.text.length)+xn.text;break}if("list"!==qt?.type);else{const Vt=qt,dn=Vt.raw+"\n"+Ue.join("\n"),xn=this.list(dn);Qe[Qe.length-1]=xn,De=De.substring(0,De.length-qt.raw.length)+xn.raw,rt=rt.substring(0,rt.length-Vt.raw.length)+xn.raw,Ue=dn.substring(Qe[Qe.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:De,tokens:Qe,text:rt}}}list(We){let Pe=this.rules.block.list.exec(We);if(Pe){let Ue=Pe[1].trim();const De=Ue.length>1,rt={type:"list",raw:"",ordered:De,start:De?+Ue.slice(0,-1):"",loose:!1,items:[]};Ue=De?`\\d{1,9}\\${Ue.slice(-1)}`:`\\${Ue}`,this.options.pedantic&&(Ue=De?Ue:"[*+-]");const Qe=new RegExp(`^( {0,3}${Ue})((?:[\t ][^\\n]*)?(?:\\n|$))`);let vt=!1;for(;We;){let et=!1,Re="",Mt="";if(!(Pe=Qe.exec(We))||this.rules.block.hr.test(We))break;Re=Pe[0],We=We.substring(Re.length);let nt=Pe[2].split("\n",1)[0].replace(/^\t+/,Wn=>" ".repeat(3*Wn.length)),Ze=We.split("\n",1)[0],qt=!nt.trim(),Vt=0;if(this.options.pedantic?(Vt=2,Mt=nt.trimStart()):qt?Vt=Pe[1].length+1:(Vt=Pe[2].search(/[^ ]/),Vt=Vt>4?1:Vt,Mt=nt.slice(Vt),Vt+=Pe[1].length),qt&&/^ *$/.test(Ze)&&(Re+=Ze+"\n",We=We.substring(Ze.length+1),et=!0),!et){const Wn=new RegExp(`^ {0,${Math.min(3,Vt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Xn=new RegExp(`^ {0,${Math.min(3,Vt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ti=new RegExp(`^ {0,${Math.min(3,Vt-1)}}(?:\`\`\`|~~~)`),Ii=new RegExp(`^ {0,${Math.min(3,Vt-1)}}#`);for(;We;){const yi=We.split("\n",1)[0];if(Ze=yi,this.options.pedantic&&(Ze=Ze.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ti.test(Ze)||Ii.test(Ze)||Wn.test(Ze)||Xn.test(We))break;if(Ze.search(/[^ ]/)>=Vt||!Ze.trim())Mt+="\n"+Ze.slice(Vt);else{if(qt||nt.search(/[^ ]/)>=4||ti.test(nt)||Ii.test(nt)||Xn.test(nt))break;Mt+="\n"+Ze}!qt&&!Ze.trim()&&(qt=!0),Re+=yi+"\n",We=We.substring(yi.length+1),nt=Ze.slice(Vt)}}rt.loose||(vt?rt.loose=!0:/\n *\n *$/.test(Re)&&(vt=!0));let xn,dn=null;this.options.gfm&&(dn=/^\[[ xX]\] /.exec(Mt),dn&&(xn="[ ] "!==dn[0],Mt=Mt.replace(/^\[[ xX]\] +/,""))),rt.items.push({type:"list_item",raw:Re,task:!!dn,checked:xn,loose:!1,text:Mt,tokens:[]}),rt.raw+=Re}rt.items[rt.items.length-1].raw=rt.items[rt.items.length-1].raw.trimEnd(),rt.items[rt.items.length-1].text=rt.items[rt.items.length-1].text.trimEnd(),rt.raw=rt.raw.trimEnd();for(let et=0;et<rt.items.length;et++)if(this.lexer.state.top=!1,rt.items[et].tokens=this.lexer.blockTokens(rt.items[et].text,[]),!rt.loose){const Re=rt.items[et].tokens.filter(nt=>"space"===nt.type),Mt=Re.length>0&&Re.some(nt=>/\n.*\n/.test(nt.raw));rt.loose=Mt}if(rt.loose)for(let et=0;et<rt.items.length;et++)rt.items[et].loose=!0;return rt}}html(We){const Pe=this.rules.block.html.exec(We);if(Pe)return{type:"html",block:!0,raw:Pe[0],pre:"pre"===Pe[1]||"script"===Pe[1]||"style"===Pe[1],text:Pe[0]}}def(We){const Pe=this.rules.block.def.exec(We);if(Pe){const Ue=Pe[1].toLowerCase().replace(/\s+/g," "),De=Pe[2]?Pe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",rt=Pe[3]?Pe[3].substring(1,Pe[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Pe[3];return{type:"def",tag:Ue,raw:Pe[0],href:De,title:rt}}}table(We){const Pe=this.rules.block.table.exec(We);if(!Pe||!/[:|]/.test(Pe[2]))return;const Ue=P(Pe[1]),De=Pe[2].replace(/^\||\| *$/g,"").split("|"),rt=Pe[3]&&Pe[3].trim()?Pe[3].replace(/\n[ \t]*$/,"").split("\n"):[],Qe={type:"table",raw:Pe[0],header:[],align:[],rows:[]};if(Ue.length===De.length){for(const vt of De)/^ *-+: *$/.test(vt)?Qe.align.push("right"):/^ *:-+: *$/.test(vt)?Qe.align.push("center"):/^ *:-+ *$/.test(vt)?Qe.align.push("left"):Qe.align.push(null);for(let vt=0;vt<Ue.length;vt++)Qe.header.push({text:Ue[vt],tokens:this.lexer.inline(Ue[vt]),header:!0,align:Qe.align[vt]});for(const vt of rt)Qe.rows.push(P(vt,Qe.header.length).map((et,Re)=>({text:et,tokens:this.lexer.inline(et),header:!1,align:Qe.align[Re]})));return Qe}}lheading(We){const Pe=this.rules.block.lheading.exec(We);if(Pe)return{type:"heading",raw:Pe[0],depth:"="===Pe[2].charAt(0)?1:2,text:Pe[1],tokens:this.lexer.inline(Pe[1])}}paragraph(We){const Pe=this.rules.block.paragraph.exec(We);if(Pe){const Ue="\n"===Pe[1].charAt(Pe[1].length-1)?Pe[1].slice(0,-1):Pe[1];return{type:"paragraph",raw:Pe[0],text:Ue,tokens:this.lexer.inline(Ue)}}}text(We){const Pe=this.rules.block.text.exec(We);if(Pe)return{type:"text",raw:Pe[0],text:Pe[0],tokens:this.lexer.inline(Pe[0])}}escape(We){const Pe=this.rules.inline.escape.exec(We);if(Pe)return{type:"escape",raw:Pe[0],text:I(Pe[1])}}tag(We){const Pe=this.rules.inline.tag.exec(We);if(Pe)return!this.lexer.state.inLink&&/^<a /i.test(Pe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Pe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Pe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Pe[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Pe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Pe[0]}}link(We){const Pe=this.rules.inline.link.exec(We);if(Pe){const Ue=Pe[2].trim();if(!this.options.pedantic&&/^</.test(Ue)){if(!/>$/.test(Ue))return;const Qe=j(Ue.slice(0,-1),"\\");if((Ue.length-Qe.length)%2==0)return}else{const Qe=function S(Wt,We){if(-1===Wt.indexOf(We[1]))return-1;let Pe=0;for(let Ue=0;Ue<Wt.length;Ue++)if("\\"===Wt[Ue])Ue++;else if(Wt[Ue]===We[0])Pe++;else if(Wt[Ue]===We[1]&&(Pe--,Pe<0))return Ue;return-1}(Pe[2],"()");if(Qe>-1){const et=(0===Pe[0].indexOf("!")?5:4)+Pe[1].length+Qe;Pe[2]=Pe[2].substring(0,Qe),Pe[0]=Pe[0].substring(0,et).trim(),Pe[3]=""}}let De=Pe[2],rt="";if(this.options.pedantic){const Qe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(De);Qe&&(De=Qe[1],rt=Qe[3])}else rt=Pe[3]?Pe[3].slice(1,-1):"";return De=De.trim(),/^</.test(De)&&(De=this.options.pedantic&&!/>$/.test(Ue)?De.slice(1):De.slice(1,-1)),w(Pe,{href:De&&De.replace(this.rules.inline.anyPunctuation,"$1"),title:rt&&rt.replace(this.rules.inline.anyPunctuation,"$1")},Pe[0],this.lexer)}}reflink(We,Pe){let Ue;if((Ue=this.rules.inline.reflink.exec(We))||(Ue=this.rules.inline.nolink.exec(We))){const rt=Pe[(Ue[2]||Ue[1]).replace(/\s+/g," ").toLowerCase()];if(!rt){const Qe=Ue[0].charAt(0);return{type:"text",raw:Qe,text:Qe}}return w(Ue,rt,Ue[0],this.lexer)}}emStrong(We,Pe,Ue=""){let De=this.rules.inline.emStrongLDelim.exec(We);if(!(!De||De[3]&&Ue.match(/[\p{L}\p{N}]/u))&&(!De[1]&&!De[2]||!Ue||this.rules.inline.punctuation.exec(Ue))){const Qe=[...De[0]].length-1;let vt,et,Re=Qe,Mt=0;const nt="*"===De[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(nt.lastIndex=0,Pe=Pe.slice(-1*We.length+Qe);null!=(De=nt.exec(Pe));){if(vt=De[1]||De[2]||De[3]||De[4]||De[5]||De[6],!vt)continue;if(et=[...vt].length,De[3]||De[4]){Re+=et;continue}if((De[5]||De[6])&&Qe%3&&!((Qe+et)%3)){Mt+=et;continue}if(Re-=et,Re>0)continue;et=Math.min(et,et+Re+Mt);const Ze=[...De[0]][0].length,qt=We.slice(0,Qe+De.index+Ze+et);if(Math.min(Qe,et)%2){const dn=qt.slice(1,-1);return{type:"em",raw:qt,text:dn,tokens:this.lexer.inlineTokens(dn)}}const Vt=qt.slice(2,-2);return{type:"strong",raw:qt,text:Vt,tokens:this.lexer.inlineTokens(Vt)}}}}codespan(We){const Pe=this.rules.inline.code.exec(We);if(Pe){let Ue=Pe[2].replace(/\n/g," ");const De=/[^ ]/.test(Ue),rt=/^ /.test(Ue)&&/ $/.test(Ue);return De&&rt&&(Ue=Ue.substring(1,Ue.length-1)),Ue=I(Ue,!0),{type:"codespan",raw:Pe[0],text:Ue}}}br(We){const Pe=this.rules.inline.br.exec(We);if(Pe)return{type:"br",raw:Pe[0]}}del(We){const Pe=this.rules.inline.del.exec(We);if(Pe)return{type:"del",raw:Pe[0],text:Pe[2],tokens:this.lexer.inlineTokens(Pe[2])}}autolink(We){const Pe=this.rules.inline.autolink.exec(We);if(Pe){let Ue,De;return"@"===Pe[2]?(Ue=I(Pe[1]),De="mailto:"+Ue):(Ue=I(Pe[1]),De=Ue),{type:"link",raw:Pe[0],text:Ue,href:De,tokens:[{type:"text",raw:Ue,text:Ue}]}}}url(We){let Pe;if(Pe=this.rules.inline.url.exec(We)){let Ue,De;if("@"===Pe[2])Ue=I(Pe[0]),De="mailto:"+Ue;else{let rt;do{rt=Pe[0],Pe[0]=this.rules.inline._backpedal.exec(Pe[0])?.[0]??""}while(rt!==Pe[0]);Ue=I(Pe[0]),De="www."===Pe[1]?"http://"+Pe[0]:Pe[0]}return{type:"link",raw:Pe[0],text:Ue,href:De,tokens:[{type:"text",raw:Ue,text:Ue}]}}}inlineText(We){const Pe=this.rules.inline.text.exec(We);if(Pe){let Ue;return Ue=this.lexer.state.inRawBlock?Pe[0]:I(Pe[0]),{type:"text",raw:Pe[0],text:Ue}}}}const O=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,U=/(?:[*+-]|\d{1,9}[.)])/,$=M(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,U).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),te=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,me=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Y=M(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",me).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),F=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,U).getRegex(),N="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",J=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ae=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",J).replace("tag",N).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_e=M(te).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N).getRegex(),Fe={blockquote:M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_e).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Y,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:O,html:ae,lheading:$,list:F,newline:/^(?: *(?:\n|$))+/,paragraph:_e,table:K,text:/^[^\n]+/},Ae=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N).getRegex(),Ye={...Fe,table:Ae,paragraph:M(te).replace("hr",O).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ae).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N).getRegex()},qe={...Fe,html:M("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",J).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(te).replace("hr",O).replace("heading"," *#{1,6} *[^\n]").replace("lheading",$).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ne=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,pe=/^( {2,}|\\)\n(?!\s*$)/,le="\\p{P}\\p{S}",Ee=M(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,le).getRegex(),xt=M(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,le).getRegex(),dt=M("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,le).getRegex(),Ct=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,le).getRegex(),Qt=M(/\\([punct])/,"gu").replace(/punct/g,le).getRegex(),_n=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),In=M(J).replace("(?:--\x3e|$)","--\x3e").getRegex(),rn=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",In).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),$t=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q=M(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",$t).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ie=M(/^!?\[(label)\]\[(ref)\]/).replace("label",$t).replace("ref",me).getRegex(),se=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",me).getRegex(),Ke={_backpedal:K,anyPunctuation:Qt,autolink:_n,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:pe,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:K,emStrongLDelim:xt,emStrongRDelimAst:dt,emStrongRDelimUnd:Ct,escape:Ne,link:q,nolink:se,punctuation:Ee,reflink:Ie,reflinkSearch:M("reflink|nolink(?!\\()","g").replace("reflink",Ie).replace("nolink",se).getRegex(),tag:rn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:K},It={...Ke,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",$t).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$t).getRegex()},Kt={...Ke,escape:M(Ne).replace("])","~|])").getRegex(),url:M(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vn={...Kt,br:M(pe).replace("{2,}","*").getRegex(),text:M(Kt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Pt={normal:Fe,gfm:Ye,pedantic:qe},an={normal:Ke,gfm:Kt,breaks:vn,pedantic:It};class Et{tokens;options;state;tokenizer;inlineQueue;constructor(We){this.tokens=[],this.tokens.links=Object.create(null),this.options=We||n,this.options.tokenizer=this.options.tokenizer||new v,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Pe={block:Pt.normal,inline:an.normal};this.options.pedantic?(Pe.block=Pt.pedantic,Pe.inline=an.pedantic):this.options.gfm&&(Pe.block=Pt.gfm,Pe.inline=this.options.breaks?an.breaks:an.gfm),this.tokenizer.rules=Pe}static get rules(){return{block:Pt,inline:an}}static lex(We,Pe){return new Et(Pe).lex(We)}static lexInline(We,Pe){return new Et(Pe).inlineTokens(We)}lex(We){We=We.replace(/\r\n|\r/g,"\n"),this.blockTokens(We,this.tokens);for(let Pe=0;Pe<this.inlineQueue.length;Pe++){const Ue=this.inlineQueue[Pe];this.inlineTokens(Ue.src,Ue.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(We,Pe=[],Ue=!1){let De,rt,Qe;for(We=this.options.pedantic?We.replace(/\t/g,"    ").replace(/^ +$/gm,""):We.replace(/^( *)(\t+)/gm,(vt,et,Re)=>et+"    ".repeat(Re.length));We;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(vt=>!!(De=vt.call({lexer:this},We,Pe))&&(We=We.substring(De.raw.length),Pe.push(De),!0)))){if(De=this.tokenizer.space(We)){We=We.substring(De.raw.length),1===De.raw.length&&Pe.length>0?Pe[Pe.length-1].raw+="\n":Pe.push(De);continue}if(De=this.tokenizer.code(We)){We=We.substring(De.raw.length),rt=Pe[Pe.length-1],!rt||"paragraph"!==rt.type&&"text"!==rt.type?Pe.push(De):(rt.raw+="\n"+De.raw,rt.text+="\n"+De.text,this.inlineQueue[this.inlineQueue.length-1].src=rt.text);continue}if(De=this.tokenizer.fences(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.heading(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.hr(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.blockquote(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.list(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.html(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.def(We)){We=We.substring(De.raw.length),rt=Pe[Pe.length-1],!rt||"paragraph"!==rt.type&&"text"!==rt.type?this.tokens.links[De.tag]||(this.tokens.links[De.tag]={href:De.href,title:De.title}):(rt.raw+="\n"+De.raw,rt.text+="\n"+De.raw,this.inlineQueue[this.inlineQueue.length-1].src=rt.text);continue}if(De=this.tokenizer.table(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(De=this.tokenizer.lheading(We)){We=We.substring(De.raw.length),Pe.push(De);continue}if(Qe=We,this.options.extensions&&this.options.extensions.startBlock){let vt=1/0;const et=We.slice(1);let Re;this.options.extensions.startBlock.forEach(Mt=>{Re=Mt.call({lexer:this},et),"number"==typeof Re&&Re>=0&&(vt=Math.min(vt,Re))}),vt<1/0&&vt>=0&&(Qe=We.substring(0,vt+1))}if(this.state.top&&(De=this.tokenizer.paragraph(Qe))){rt=Pe[Pe.length-1],Ue&&"paragraph"===rt?.type?(rt.raw+="\n"+De.raw,rt.text+="\n"+De.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):Pe.push(De),Ue=Qe.length!==We.length,We=We.substring(De.raw.length);continue}if(De=this.tokenizer.text(We)){We=We.substring(De.raw.length),rt=Pe[Pe.length-1],rt&&"text"===rt.type?(rt.raw+="\n"+De.raw,rt.text+="\n"+De.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=rt.text):Pe.push(De);continue}if(We){const vt="Infinite loop on byte: "+We.charCodeAt(0);if(this.options.silent){console.error(vt);break}throw new Error(vt)}}return this.state.top=!0,Pe}inline(We,Pe=[]){return this.inlineQueue.push({src:We,tokens:Pe}),Pe}inlineTokens(We,Pe=[]){let Ue,De,rt,vt,et,Re,Qe=We;if(this.tokens.links){const Mt=Object.keys(this.tokens.links);if(Mt.length>0)for(;null!=(vt=this.tokenizer.rules.inline.reflinkSearch.exec(Qe));)Mt.includes(vt[0].slice(vt[0].lastIndexOf("[")+1,-1))&&(Qe=Qe.slice(0,vt.index)+"["+"a".repeat(vt[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(vt=this.tokenizer.rules.inline.blockSkip.exec(Qe));)Qe=Qe.slice(0,vt.index)+"["+"a".repeat(vt[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(vt=this.tokenizer.rules.inline.anyPunctuation.exec(Qe));)Qe=Qe.slice(0,vt.index)+"++"+Qe.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;We;)if(et||(Re=""),et=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Mt=>!!(Ue=Mt.call({lexer:this},We,Pe))&&(We=We.substring(Ue.raw.length),Pe.push(Ue),!0)))){if(Ue=this.tokenizer.escape(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.tag(We)){We=We.substring(Ue.raw.length),De=Pe[Pe.length-1],De&&"text"===Ue.type&&"text"===De.type?(De.raw+=Ue.raw,De.text+=Ue.text):Pe.push(Ue);continue}if(Ue=this.tokenizer.link(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.reflink(We,this.tokens.links)){We=We.substring(Ue.raw.length),De=Pe[Pe.length-1],De&&"text"===Ue.type&&"text"===De.type?(De.raw+=Ue.raw,De.text+=Ue.text):Pe.push(Ue);continue}if(Ue=this.tokenizer.emStrong(We,Qe,Re)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.codespan(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.br(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.del(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(Ue=this.tokenizer.autolink(We)){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(!this.state.inLink&&(Ue=this.tokenizer.url(We))){We=We.substring(Ue.raw.length),Pe.push(Ue);continue}if(rt=We,this.options.extensions&&this.options.extensions.startInline){let Mt=1/0;const nt=We.slice(1);let Ze;this.options.extensions.startInline.forEach(qt=>{Ze=qt.call({lexer:this},nt),"number"==typeof Ze&&Ze>=0&&(Mt=Math.min(Mt,Ze))}),Mt<1/0&&Mt>=0&&(rt=We.substring(0,Mt+1))}if(Ue=this.tokenizer.inlineText(rt)){We=We.substring(Ue.raw.length),"_"!==Ue.raw.slice(-1)&&(Re=Ue.raw.slice(-1)),et=!0,De=Pe[Pe.length-1],De&&"text"===De.type?(De.raw+=Ue.raw,De.text+=Ue.text):Pe.push(Ue);continue}if(We){const Mt="Infinite loop on byte: "+We.charCodeAt(0);if(this.options.silent){console.error(Mt);break}throw new Error(Mt)}}return Pe}}class bt{options;parser;constructor(We){this.options=We||n}space(We){return""}code({text:We,lang:Pe,escaped:Ue}){const De=(Pe||"").match(/^\S*/)?.[0],rt=We.replace(/\n$/,"")+"\n";return De?'<pre><code class="language-'+I(De)+'">'+(Ue?rt:I(rt,!0))+"</code></pre>\n":"<pre><code>"+(Ue?rt:I(rt,!0))+"</code></pre>\n"}blockquote({tokens:We}){return`<blockquote>\n${this.parser.parse(We)}</blockquote>\n`}html({text:We}){return We}heading({tokens:We,depth:Pe}){return`<h${Pe}>${this.parser.parseInline(We)}</h${Pe}>\n`}hr(We){return"<hr>\n"}list(We){const Pe=We.ordered,Ue=We.start;let De="";for(let vt=0;vt<We.items.length;vt++)De+=this.listitem(We.items[vt]);const rt=Pe?"ol":"ul";return"<"+rt+(Pe&&1!==Ue?' start="'+Ue+'"':"")+">\n"+De+"</"+rt+">\n"}listitem(We){let Pe="";if(We.task){const Ue=this.checkbox({checked:!!We.checked});We.loose?We.tokens.length>0&&"paragraph"===We.tokens[0].type?(We.tokens[0].text=Ue+" "+We.tokens[0].text,We.tokens[0].tokens&&We.tokens[0].tokens.length>0&&"text"===We.tokens[0].tokens[0].type&&(We.tokens[0].tokens[0].text=Ue+" "+We.tokens[0].tokens[0].text)):We.tokens.unshift({type:"text",raw:Ue+" ",text:Ue+" "}):Pe+=Ue+" "}return Pe+=this.parser.parse(We.tokens,!!We.loose),`<li>${Pe}</li>\n`}checkbox({checked:We}){return"<input "+(We?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:We}){return`<p>${this.parser.parseInline(We)}</p>\n`}table(We){let Pe="",Ue="";for(let rt=0;rt<We.header.length;rt++)Ue+=this.tablecell(We.header[rt]);Pe+=this.tablerow({text:Ue});let De="";for(let rt=0;rt<We.rows.length;rt++){const Qe=We.rows[rt];Ue="";for(let vt=0;vt<Qe.length;vt++)Ue+=this.tablecell(Qe[vt]);De+=this.tablerow({text:Ue})}return De&&(De=`<tbody>${De}</tbody>`),"<table>\n<thead>\n"+Pe+"</thead>\n"+De+"</table>\n"}tablerow({text:We}){return`<tr>\n${We}</tr>\n`}tablecell(We){const Pe=this.parser.parseInline(We.tokens),Ue=We.header?"th":"td";return(We.align?`<${Ue} align="${We.align}">`:`<${Ue}>`)+Pe+`</${Ue}>\n`}strong({tokens:We}){return`<strong>${this.parser.parseInline(We)}</strong>`}em({tokens:We}){return`<em>${this.parser.parseInline(We)}</em>`}codespan({text:We}){return`<code>${We}</code>`}br(We){return"<br>"}del({tokens:We}){return`<del>${this.parser.parseInline(We)}</del>`}link({href:We,title:Pe,tokens:Ue}){const De=this.parser.parseInline(Ue),rt=B(We);if(null===rt)return De;let Qe='<a href="'+(We=rt)+'"';return Pe&&(Qe+=' title="'+Pe+'"'),Qe+=">"+De+"</a>",Qe}image({href:We,title:Pe,text:Ue}){const De=B(We);if(null===De)return Ue;let rt=`<img src="${We=De}" alt="${Ue}"`;return Pe&&(rt+=` title="${Pe}"`),rt+=">",rt}text(We){return"tokens"in We&&We.tokens?this.parser.parseInline(We.tokens):We.text}}class Yt{strong({text:We}){return We}em({text:We}){return We}codespan({text:We}){return We}del({text:We}){return We}html({text:We}){return We}text({text:We}){return We}link({text:We}){return""+We}image({text:We}){return""+We}br(){return""}}class Xt{options;renderer;textRenderer;constructor(We){this.options=We||n,this.options.renderer=this.options.renderer||new bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yt}static parse(We,Pe){return new Xt(Pe).parse(We)}static parseInline(We,Pe){return new Xt(Pe).parseInline(We)}parse(We,Pe=!0){let Ue="";for(let De=0;De<We.length;De++){const rt=We[De];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rt.type]){const vt=rt,et=this.options.extensions.renderers[vt.type].call({parser:this},vt);if(!1!==et||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(vt.type)){Ue+=et||"";continue}}const Qe=rt;switch(Qe.type){case"space":Ue+=this.renderer.space(Qe);continue;case"hr":Ue+=this.renderer.hr(Qe);continue;case"heading":Ue+=this.renderer.heading(Qe);continue;case"code":Ue+=this.renderer.code(Qe);continue;case"table":Ue+=this.renderer.table(Qe);continue;case"blockquote":Ue+=this.renderer.blockquote(Qe);continue;case"list":Ue+=this.renderer.list(Qe);continue;case"html":Ue+=this.renderer.html(Qe);continue;case"paragraph":Ue+=this.renderer.paragraph(Qe);continue;case"text":{let vt=Qe,et=this.renderer.text(vt);for(;De+1<We.length&&"text"===We[De+1].type;)vt=We[++De],et+="\n"+this.renderer.text(vt);Ue+=Pe?this.renderer.paragraph({type:"paragraph",raw:et,text:et,tokens:[{type:"text",raw:et,text:et}]}):et;continue}default:{const vt='Token with "'+Qe.type+'" type was not found.';if(this.options.silent)return console.error(vt),"";throw new Error(vt)}}}return Ue}parseInline(We,Pe){Pe=Pe||this.renderer;let Ue="";for(let De=0;De<We.length;De++){const rt=We[De];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rt.type]){const vt=this.options.extensions.renderers[rt.type].call({parser:this},rt);if(!1!==vt||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(rt.type)){Ue+=vt||"";continue}}const Qe=rt;switch(Qe.type){case"escape":case"text":Ue+=Pe.text(Qe);break;case"html":Ue+=Pe.html(Qe);break;case"link":Ue+=Pe.link(Qe);break;case"image":Ue+=Pe.image(Qe);break;case"strong":Ue+=Pe.strong(Qe);break;case"em":Ue+=Pe.em(Qe);break;case"codespan":Ue+=Pe.codespan(Qe);break;case"br":Ue+=Pe.br(Qe);break;case"del":Ue+=Pe.del(Qe);break;default:{const vt='Token with "'+Qe.type+'" type was not found.';if(this.options.silent)return console.error(vt),"";throw new Error(vt)}}}return Ue}}class nn{options;constructor(We){this.options=We||n}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(We){return We}postprocess(We){return We}processAllTokens(We){return We}}const Mn=new class yn{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(Et.lex,Xt.parse);parseInline=this.#t(Et.lexInline,Xt.parseInline);Parser=Xt;Renderer=bt;TextRenderer=Yt;Lexer=Et;Tokenizer=v;Hooks=nn;constructor(...We){this.use(...We)}walkTokens(We,Pe){let Ue=[];for(const De of We)switch(Ue=Ue.concat(Pe.call(this,De)),De.type){case"table":{const rt=De;for(const Qe of rt.header)Ue=Ue.concat(this.walkTokens(Qe.tokens,Pe));for(const Qe of rt.rows)for(const vt of Qe)Ue=Ue.concat(this.walkTokens(vt.tokens,Pe));break}case"list":Ue=Ue.concat(this.walkTokens(De.items,Pe));break;default:{const rt=De;this.defaults.extensions?.childTokens?.[rt.type]?this.defaults.extensions.childTokens[rt.type].forEach(Qe=>{const vt=rt[Qe].flat(1/0);Ue=Ue.concat(this.walkTokens(vt,Pe))}):rt.tokens&&(Ue=Ue.concat(this.walkTokens(rt.tokens,Pe)))}}return Ue}use(...We){const Pe=this.defaults.extensions||{renderers:{},childTokens:{}};return We.forEach(Ue=>{const De={...Ue};if(De.async=this.defaults.async||De.async||!1,Ue.extensions&&(Ue.extensions.forEach(rt=>{if(!rt.name)throw new Error("extension name required");if("renderer"in rt){const Qe=Pe.renderers[rt.name];Pe.renderers[rt.name]=Qe?function(...vt){let et=rt.renderer.apply(this,vt);return!1===et&&(et=Qe.apply(this,vt)),et}:rt.renderer}if("tokenizer"in rt){if(!rt.level||"block"!==rt.level&&"inline"!==rt.level)throw new Error("extension level must be 'block' or 'inline'");const Qe=Pe[rt.level];Qe?Qe.unshift(rt.tokenizer):Pe[rt.level]=[rt.tokenizer],rt.start&&("block"===rt.level?Pe.startBlock?Pe.startBlock.push(rt.start):Pe.startBlock=[rt.start]:"inline"===rt.level&&(Pe.startInline?Pe.startInline.push(rt.start):Pe.startInline=[rt.start]))}"childTokens"in rt&&rt.childTokens&&(Pe.childTokens[rt.name]=rt.childTokens)}),De.extensions=Pe),Ue.renderer){const rt=this.defaults.renderer||new bt(this.defaults);for(const Qe in Ue.renderer){if(!(Qe in rt))throw new Error(`renderer '${Qe}' does not exist`);if(["options","parser"].includes(Qe))continue;const vt=Qe;let et=Ue.renderer[vt];Ue.useNewRenderer||(et=this.#e(et,vt,rt));const Re=rt[vt];rt[vt]=(...Mt)=>{let nt=et.apply(rt,Mt);return!1===nt&&(nt=Re.apply(rt,Mt)),nt||""}}De.renderer=rt}if(Ue.tokenizer){const rt=this.defaults.tokenizer||new v(this.defaults);for(const Qe in Ue.tokenizer){if(!(Qe in rt))throw new Error(`tokenizer '${Qe}' does not exist`);if(["options","rules","lexer"].includes(Qe))continue;const et=Ue.tokenizer[Qe],Re=rt[Qe];rt[Qe]=(...Mt)=>{let nt=et.apply(rt,Mt);return!1===nt&&(nt=Re.apply(rt,Mt)),nt}}De.tokenizer=rt}if(Ue.hooks){const rt=this.defaults.hooks||new nn;for(const Qe in Ue.hooks){if(!(Qe in rt))throw new Error(`hook '${Qe}' does not exist`);if("options"===Qe)continue;const et=Ue.hooks[Qe],Re=rt[Qe];rt[Qe]=nn.passThroughHooks.has(Qe)?Mt=>{if(this.defaults.async)return Promise.resolve(et.call(rt,Mt)).then(Ze=>Re.call(rt,Ze));const nt=et.call(rt,Mt);return Re.call(rt,nt)}:(...Mt)=>{let nt=et.apply(rt,Mt);return!1===nt&&(nt=Re.apply(rt,Mt)),nt}}De.hooks=rt}if(Ue.walkTokens){const rt=this.defaults.walkTokens,Qe=Ue.walkTokens;De.walkTokens=function(vt){let et=[];return et.push(Qe.call(this,vt)),rt&&(et=et.concat(rt.call(this,vt))),et}}this.defaults={...this.defaults,...De}}),this}#e(We,Pe,Ue){switch(Pe){case"heading":return function(De){return De.type&&De.type===Pe?We.call(this,Ue.parser.parseInline(De.tokens),De.depth,function y(Wt){return Wt.replace(k,(We,Pe)=>"colon"===(Pe=Pe.toLowerCase())?":":"#"===Pe.charAt(0)?"x"===Pe.charAt(1)?String.fromCharCode(parseInt(Pe.substring(2),16)):String.fromCharCode(+Pe.substring(1)):"")}(Ue.parser.parseInline(De.tokens,Ue.parser.textRenderer))):We.apply(this,arguments)};case"code":return function(De){return De.type&&De.type===Pe?We.call(this,De.text,De.lang,!!De.escaped):We.apply(this,arguments)};case"table":return function(De){if(!De.type||De.type!==Pe)return We.apply(this,arguments);let rt="",Qe="";for(let et=0;et<De.header.length;et++)Qe+=this.tablecell({text:De.header[et].text,tokens:De.header[et].tokens,header:!0,align:De.align[et]});rt+=this.tablerow({text:Qe});let vt="";for(let et=0;et<De.rows.length;et++){const Re=De.rows[et];Qe="";for(let Mt=0;Mt<Re.length;Mt++)Qe+=this.tablecell({text:Re[Mt].text,tokens:Re[Mt].tokens,header:!1,align:De.align[Mt]});vt+=this.tablerow({text:Qe})}return We.call(this,rt,vt)};case"blockquote":return function(De){if(!De.type||De.type!==Pe)return We.apply(this,arguments);const rt=this.parser.parse(De.tokens);return We.call(this,rt)};case"list":return function(De){if(!De.type||De.type!==Pe)return We.apply(this,arguments);const rt=De.ordered,Qe=De.start,vt=De.loose;let et="";for(let Re=0;Re<De.items.length;Re++){const Mt=De.items[Re],nt=Mt.checked,Ze=Mt.task;let qt="";if(Mt.task){const Vt=this.checkbox({checked:!!nt});vt?Mt.tokens.length>0&&"paragraph"===Mt.tokens[0].type?(Mt.tokens[0].text=Vt+" "+Mt.tokens[0].text,Mt.tokens[0].tokens&&Mt.tokens[0].tokens.length>0&&"text"===Mt.tokens[0].tokens[0].type&&(Mt.tokens[0].tokens[0].text=Vt+" "+Mt.tokens[0].tokens[0].text)):Mt.tokens.unshift({type:"text",text:Vt+" "}):qt+=Vt+" "}qt+=this.parser.parse(Mt.tokens,vt),et+=this.listitem({type:"list_item",raw:qt,text:qt,task:Ze,checked:!!nt,loose:vt,tokens:Mt.tokens})}return We.call(this,et,rt,Qe)};case"html":return function(De){return De.type&&De.type===Pe?We.call(this,De.text,De.block):We.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(De){return De.type&&De.type===Pe?We.call(this,this.parser.parseInline(De.tokens)):We.apply(this,arguments)};case"escape":case"codespan":case"text":return function(De){return De.type&&De.type===Pe?We.call(this,De.text):We.apply(this,arguments)};case"link":return function(De){return De.type&&De.type===Pe?We.call(this,De.href,De.title,this.parser.parseInline(De.tokens)):We.apply(this,arguments)};case"image":return function(De){return De.type&&De.type===Pe?We.call(this,De.href,De.title,De.text):We.apply(this,arguments)}}return We}setOptions(We){return this.defaults={...this.defaults,...We},this}lexer(We,Pe){return Et.lex(We,Pe??this.defaults)}parser(We,Pe){return Xt.parse(We,Pe??this.defaults)}#t(We,Pe){return(Ue,De)=>{const rt={...De},Qe={...this.defaults,...rt};!0===this.defaults.async&&!1===rt.async&&(Qe.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),Qe.async=!0);const vt=this.#n(!!Qe.silent,!!Qe.async);if(typeof Ue>"u"||null===Ue)return vt(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Ue)return vt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ue)+", string expected"));if(Qe.hooks&&(Qe.hooks.options=Qe),Qe.async)return Promise.resolve(Qe.hooks?Qe.hooks.preprocess(Ue):Ue).then(et=>We(et,Qe)).then(et=>Qe.hooks?Qe.hooks.processAllTokens(et):et).then(et=>Qe.walkTokens?Promise.all(this.walkTokens(et,Qe.walkTokens)).then(()=>et):et).then(et=>Pe(et,Qe)).then(et=>Qe.hooks?Qe.hooks.postprocess(et):et).catch(vt);try{Qe.hooks&&(Ue=Qe.hooks.preprocess(Ue));let et=We(Ue,Qe);Qe.hooks&&(et=Qe.hooks.processAllTokens(et)),Qe.walkTokens&&this.walkTokens(et,Qe.walkTokens);let Re=Pe(et,Qe);return Qe.hooks&&(Re=Qe.hooks.postprocess(Re)),Re}catch(et){return vt(et)}}}#n(We,Pe){return Ue=>{if(Ue.message+="\nPlease report this to https://github.com/markedjs/marked.",We){const De="<p>An error occurred:</p><pre>"+I(Ue.message+"",!0)+"</pre>";return Pe?Promise.resolve(De):De}if(Pe)return Promise.reject(Ue);throw Ue}}};function Ln(Wt,We){return Mn.parse(Wt,We)}Ln.options=Ln.setOptions=function(Wt){return Mn.setOptions(Wt),d(Ln.defaults=Mn.defaults),Ln},Ln.getDefaults=function e(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Ln.defaults=n,Ln.use=function(...Wt){return Mn.use(...Wt),d(Ln.defaults=Mn.defaults),Ln},Ln.walkTokens=function(Wt,We){return Mn.walkTokens(Wt,We)},Ln.parseInline=Mn.parseInline,Ln.Parser=Xt,Ln.parser=Xt.parse,Ln.Renderer=bt,Ln.TextRenderer=Yt,Ln.Lexer=Et,Ln.lexer=Et.lex,Ln.Tokenizer=v,Ln.Hooks=nn,Ln.parse=Ln;const Te=Ln},467:(Ot,ve,s)=>{"use strict";function e(d,h,g,b,E,_,u){try{var I=d[_](u),k=I.value}catch(y){return void g(y)}I.done?h(k):Promise.resolve(k).then(b,E)}function n(d){return function(){var h=this,g=arguments;return new Promise(function(b,E){var _=d.apply(h,g);function u(k){e(_,b,E,u,I,"next",k)}function I(k){e(_,b,E,u,I,"throw",k)}u(void 0)})}}s.d(ve,{A:()=>n})}},Ot=>{Ot(Ot.s=7949)}]);