(self.webpackChunkconcierge=self.webpackChunkconcierge||[]).push([[806],{806:(Jf,L,C)=>{"use strict";C.r(L),C.d(L,{SurveysModule:()=>Bg});var P=C(8048),V=C(177),k=C(9417),R=C(8834),Ie=C(2765),te=C(4006),Me=C(3719),ht=C(4816),i=C(3953),_=(C(4085),C(6860),C(6600)),lt=(C(4337),C(4670),C(5286),C(2318));let Tr=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=i.$C({type:l});static#n=this.\u0275inj=i.G2t({imports:[_.yE,_.yE]})}return l})();C(9888),C(5024),C(7336),C(7605);let qr=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=i.$C({type:l});static#n=this.\u0275inj=i.G2t({imports:[lt.w5,V.MD,_.yE,_.pZ,_.O5,Tr]})}return l})();var jt=C(9115),_n=C(2798),Ni=C(450),tn=C(6450),Ct=C(6850),Be=C(3141),qi=C(6815),Un=C(363),nn=C(2185),ye=C(467),se=C(7375),Le=C(9631),Hi=C(3881);let Wn=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=i.$C({type:l});static#n=this.\u0275inj=i.G2t({imports:[V.MD,k.YN,k.X1,Me.RG,_n.Ve,Ni.mV,Le.fS,ht.m_,R.Hl,Hi.Ez]})}return l})();function Jl(l){if(!l)return[];let d=[];return l.forEach(a=>{const{title:c,description:f}=a,v=(a.elements||[]).map(O=>O.id);d.push({title:c,description:f,question_order:v})}),d}function Qi(l){const{id:d,title:a,description:c,type:f,isRequired:v,options:O,tags:q,rateMax:ne,choices:le}=l;return{id:d,title:a,description:c,type:f,options:O,choices:le,tags:q,required:v,max_rating:ne}}function on(l){return{id:l.id,title:l.title,description:l.description,name:`${l.id}`,type:l.type,rateMax:l.max_rating,choices:l.choices||[],isRequired:l.required||!1,tags:l.tags||[],deleted:l.deleted||!1}}function Gi(l){return l.replace(/_/g," ")}function Xe(l){return Qr(l).map(d=>({name:Gi(d[0]),value:d[1]}))}function _t(l){let d={};return Qr(l).forEach(a=>d[a[1]]=Gi(a[0])),d}function Qr(l){return Object.entries(l).filter(d=>isNaN(Number(d[0])))}var xn=function(l){return l.None="NONE",l.Reserved="RESERVED",l.Checked_In="CHECKEDIN",l.Checked_Out="CHECKEDOUT",l.Rejected="REJECTED",l.Cancelled="CANCELLED",l.Visitor="VISITOR",l}(xn||{}),Je=function(l){return l.Single_Line_Text="text",l.Comment_Box="comment",l.Radio_Group="radiogroup",l.Drop_Down="dropdown",l.Check_Box="checkbox",l.Rating="rating",l}(Je||{});const we=Xe(Je),oe=Xe(xn),Bt=_t(Je),Yn=_t(xn);let rn=(()=>{class l{set value(a){a&&(this.question=a),this.hasValue=!!a}constructor(){this.preview=!1,this.hasValue=!1,this.placeholderTitle="Enter your question here"}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["base-question"]],inputs:{preview:"preview",value:"value"},decls:0,vars:0,template:function(c,f){},encapsulation:2})}return l})();function Zl(l,d){1&l&&(i.j41(0,"div",1)(1,"mat-form-field",2),i.nrm(2,"input",3),i.j41(3,"mat-hint"),i.EFF(4,"*Type your answer above"),i.k0s()()())}let A=(()=>{class l extends rn{constructor(){super()}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["single-line-text"]],features:[i.Vt3],decls:1,vars:1,consts:[["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["apppearance","outline"],["matInput","","type","text"]],template:function(c,f){1&c&&i.DNE(0,Zl,5,0,"div",0),2&c&&i.Y8G("ngIf",f.preview)},dependencies:[V.bT,Me.rl,Me.MV,Le.fg],encapsulation:2})}return l})();function eu(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",9)(1,"span"),i.EFF(2),i.k0s(),i.j41(3,"mat-form-field",10)(4,"input",11),i.mxI("ngModelChange",function(f){const v=i.eBV(a).$implicit;return i.DH7(v.text,f)||(v.text=f),i.Njj(f)}),i.k0s()(),i.j41(5,"button",12),i.bIt("click",function(){const f=i.eBV(a).index,v=i.XpG(3);return i.Njj(v.deleteOption(f))}),i.j41(6,"mat-icon"),i.EFF(7," delete_outline "),i.k0s()()()}if(2&l){const a=d.$implicit,c=d.index;i.R7$(2),i.SpI("",c+1,". "),i.R7$(),i.Y8G("subscriptSizing","dynamic"),i.R7$(),i.Mz_("name","item",c,""),i.R50("ngModel",a.text)}}function wn(l,d){if(1&l){const a=i.RV6();i.qex(0),i.j41(1,"div",5),i.DNE(2,eu,8,5,"div",6),i.k0s(),i.j41(3,"button",7),i.bIt("click",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.addOption())}),i.j41(4,"div",8)(5,"mat-icon"),i.EFF(6,"add_circle"),i.k0s(),i.j41(7,"span"),i.EFF(8,"Add option"),i.k0s()()(),i.bVm()}if(2&l){const a=i.XpG(2);i.R7$(2),i.Y8G("ngForOf",a.question.choices)}}function $i(l,d){if(1&l&&(i.j41(0,"mat-option",14),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.value),i.R7$(),i.JRh(a.text)}}function ut(l,d){if(1&l&&(i.j41(0,"mat-form-field")(1,"mat-select"),i.DNE(2,$i,2,2,"mat-option",13),i.k0s()()),2&l){const a=i.XpG(3);i.R7$(2),i.Y8G("ngForOf",a.question.choices)}}function sn(l,d){if(1&l&&i.DNE(0,ut,3,1,"mat-form-field",4),2&l){i.XpG();const a=i.sdS(6),c=i.XpG();i.Y8G("ngIf",c.isDropDown)("ngIfElse",a)}}function tu(l,d){if(1&l&&(i.j41(0,"div",9),i.nrm(1,"input",16),i.j41(2,"span"),i.EFF(3),i.k0s()()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("type",c.multiple?"checkbox":"radio"),i.R7$(2),i.JRh(a.text)}}function Ke(l,d){if(1&l&&(i.j41(0,"div",15),i.DNE(1,tu,4,2,"div",6),i.k0s()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngForOf",a.question.choices)}}function nu(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",3),i.DNE(2,wn,9,1,"ng-container",4)(3,sn,1,2,"ng-template",null,0,i.C5r)(5,Ke,2,1,"ng-template",null,1,i.C5r),i.k0s(),i.bVm()),2&l){const a=i.sdS(4),c=i.XpG();i.R7$(2),i.Y8G("ngIf",!c.preview)("ngIfElse",a)}}let Pn=(()=>{class l extends rn{get isDropDown(){return this.question?.type===Je.Drop_Down}get multiple(){return this.question?.type===Je.Check_Box}ngOnInit(){this.question?.choices||(this.question.choices=[])}addOption(){this.question.choices.push({text:""})}deleteOption(a){this.question.choices.splice(a,1)}static#e=this.\u0275fac=(()=>{let a;return function(f){return(a||(a=i.xGo(l)))(f||l)}})();static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["selection"]],features:[i.Vt3],decls:1,vars:1,consts:[["previewState",""],["inputType",""],[4,"ngIf"],[1,"flex","flex-col","w-full"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","w-full","mb-4","pl-2"],["class","flex flex-row w-full items-center space-x-3 pb-3",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],[1,"flex","flex-row","items-center","text-gray-800"],[1,"flex","flex-row","w-full","items-center","space-x-3","pb-3"],["appearance","outline",1,"w-full",3,"subscriptSizing"],["matInput","","type","text",3,"ngModelChange","ngModel","name"],["matSuffix","","mat-icon-button","",3,"click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col","w-full","pl-2"],["name","options",3,"type"]],template:function(c,f){1&c&&i.DNE(0,nu,7,2,"ng-container",2),2&c&&i.Y8G("ngIf",f.question)},dependencies:[V.Sq,V.bT,k.me,k.BC,k.vS,Me.rl,Me.yw,_n.VO,_.wT,Le.fg,ht.An,R.$z,R.iY],styles:[".item-textbox[_ngcontent-%COMP%]{padding:.25rem}"],changeDetection:0})}return l})();function iu(l,d){1&l&&(i.j41(0,"div",1)(1,"mat-form-field",2),i.nrm(2,"textarea",3),i.j41(3,"mat-hint"),i.EFF(4,"*Type your answer above. Multiple lines supported"),i.k0s()()())}let $e=(()=>{class l extends rn{constructor(){super()}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["multi-line-text"]],features:[i.Vt3],decls:1,vars:1,consts:[["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["appearance","outline"],["matInput","","cols","30","rows","5"]],template:function(c,f){1&c&&i.DNE(0,iu,5,0,"div",0),2&c&&i.Y8G("ngIf",f.preview)},dependencies:[V.bT,Me.rl,Me.MV,Le.fg],encapsulation:2})}return l})();function Vn(l,d){if(1&l&&(i.j41(0,"div",4)(1,"span",5),i.EFF(2),i.k0s()()),2&l){const a=d.$implicit;i.R7$(2),i.JRh(a)}}function ou(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",6)(1,"mat-slider",7)(2,"input",8),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.question.rateMax,f)||(v.question.rateMax=f),i.Njj(f)}),i.k0s()(),i.j41(3,"span",9),i.EFF(4,"Move the slider to adjust the rating options"),i.k0s()()}if(2&l){const a=i.XpG();i.R7$(),i.Y8G("max",10)("min",3)("thumbLabel",!0)("step",1),i.R7$(),i.R50("ngModel",a.question.rateMax)}}let Gr=(()=>{class l extends rn{constructor(){super()}ngOnInit(){this.question.rateMax||(this.question.rateMax=3)}generateArray(a){return Array.from({length:a},(c,f)=>f+1)}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["rating"]],features:[i.Vt3],decls:4,vars:2,consts:[[1,"flex","flex-col","w-full","p-4"],[1,"flex","flex-row","items-center","mb-4","space-x-2"],["class","flex justify-center items-center h-10 w-10 border rounded-full",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"flex","justify-center","items-center","h-10","w-10","border","rounded-full"],[1,"font-semibold"],[1,"flex","flex-col"],[3,"max","min","thumbLabel","step"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-xs"]],template:function(c,f){1&c&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,Vn,3,1,"div",2),i.k0s(),i.DNE(3,ou,5,5,"div",3),i.k0s()),2&c&&(i.R7$(2),i.Y8G("ngForOf",f.generateArray(f.question.rateMax)),i.R7$(),i.Y8G("ngIf",!f.preview))},dependencies:[V.Sq,V.bT,k.me,k.BC,k.vS,Hi.IV,Hi.OU],encapsulation:2})}return l})();function ce(l,d){1&l&&(i.j41(0,"mat-error",9),i.EFF(1,"Please enter a question"),i.k0s())}function ru(l,d){if(1&l){const a=i.RV6();i.qex(0),i.j41(1,"mat-form-field",6)(2,"input",7),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.question.title,f)||(v.question.title=f),i.Njj(f)}),i.k0s(),i.DNE(3,ce,2,0,"mat-error",8),i.k0s(),i.bVm()}if(2&l){const a=i.XpG();i.R7$(2),i.R50("ngModel",a.question.title),i.R7$(),i.Y8G("ngIf",!(null!=a.question&&a.question.title))}}function su(l,d){if(1&l&&(i.j41(0,"span",10),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.question.title||"No question")}}function zi(l,d){if(1&l&&(i.qex(0),i.nrm(1,"multi-line-text",11),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("question",a.question)("preview",a.preview)}}function Ui(l,d){if(1&l&&(i.qex(0),i.nrm(1,"single-line-text",11),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("question",a.question)("preview",a.preview)}}function au(l,d){if(1&l&&(i.qex(0),i.nrm(1,"selection",12),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.question)("preview",a.preview)}}function Xn(l,d){if(1&l&&(i.qex(0),i.nrm(1,"selection",12),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.question)("preview",a.preview)}}function de(l,d){if(1&l&&(i.qex(0),i.nrm(1,"selection",12),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.question)("preview",a.preview)}}function lu(l,d){if(1&l&&(i.qex(0),i.nrm(1,"rating",12),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.question)("preview",a.preview)}}function uu(l,d){if(1&l&&(i.j41(0,"option",16),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.value),i.R7$(),i.SpI(" ",a.name," ")}}function Jn(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",13)(1,"select",14),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.question.type,f)||(v.question.type=f),i.Njj(f)}),i.DNE(2,uu,2,2,"option",15),i.k0s(),i.j41(3,"mat-slide-toggle",14),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.question.isRequired,f)||(v.question.isRequired=f),i.Njj(f)}),i.EFF(4," Required"),i.k0s()()}if(2&l){const a=i.XpG();i.R7$(),i.R50("ngModel",a.question.type),i.R7$(),i.Y8G("ngForOf",a.typeOptions),i.R7$(),i.R50("ngModel",a.question.isRequired)}}let cu=(()=>{class l{set value(a){a&&(this.question=a),this.hasValue=!!a}constructor(){this.preview=!1,this.QuestionType=Je,this.typeOptions=we,this.hasValue=!1}get valid(){if(!this.question?.title)return!1;const a=this.question;let c=!0;switch(a.type){case Je.Check_Box:case Je.Radio_Group:case Je.Drop_Down:const f=a.choices?.map(v=>!!v?.text?.length);c=!!f?.length&&f.reduce((v,O)=>v&&O);break;case Je.Rating:c=a.rateMax>=3}return c}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["placeos-question"]],inputs:{preview:"preview",value:"value"},decls:12,vars:10,consts:[["previewTitle",""],[1,"border","bg-base-100","shadow","flex","flex-col","w-full","items-center","justify-between","px-4","py-2","pt-4"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","w-full","mb-4",3,"ngSwitch"],[4,"ngSwitchCase"],["class","flex flex-row w-full items-center justify-end space-x-4",4,"ngIf"],["appearance","outline",1,"w-full"],["matInput","","placeholder","Enter your question here","type","text",3,"ngModelChange","ngModel"],["class","input-error",4,"ngIf"],[1,"input-error"],[1,"text-xl","w-full","mb-4"],[3,"question","preview"],[3,"value","preview"],[1,"flex","flex-row","w-full","items-center","justify-end","space-x-4"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(c,f){if(1&c&&(i.j41(0,"div",1),i.DNE(1,ru,4,2,"ng-container",2)(2,su,2,1,"ng-template",null,0,i.C5r),i.j41(4,"div",3),i.DNE(5,zi,2,2,"ng-container",4)(6,Ui,2,2,"ng-container",4)(7,au,2,2,"ng-container",4)(8,Xn,2,2,"ng-container",4)(9,de,2,2,"ng-container",4)(10,lu,2,2,"ng-container",4),i.k0s(),i.DNE(11,Jn,5,3,"div",5),i.k0s()),2&c){const v=i.sdS(3);i.R7$(),i.Y8G("ngIf",!f.preview)("ngIfElse",v),i.R7$(3),i.Y8G("ngSwitch",f.question.type),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Comment_Box),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Single_Line_Text),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Check_Box),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Radio_Group),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Drop_Down),i.R7$(),i.Y8G("ngSwitchCase",f.QuestionType.Rating),i.R7$(),i.Y8G("ngIf",!f.preview)}},dependencies:[V.Sq,V.bT,V.ux,V.e1,k.xH,k.y7,k.me,k.wz,k.BC,k.vS,Me.rl,Me.TL,Ni.sG,Le.fg,A,Pn,$e,Gr],encapsulation:2})}return l})();var ze=C(9596),ke=C(9928),an=C(696),xt=C(4421),Re=C(5006),Fe=C(4046),Ae=C(3921);let Kn=(()=>{class l{set loading(a){this._loading.next(a)}set stats(a){this._stats.next(a)}constructor(){this._loading=new ke.t(""),this.loading$=this._loading.asObservable(),this._stats=new ke.t({lives:0,drafts:0,responses:0}),this.stats$=this._stats.asObservable()}initStats(a){var c=this;return(0,ye.A)(function*(){if(!a?.length)return;const f={lives:0,drafts:0,responses:0};c.loading="Loading statistics";const v=yield c.getBuildingSurveys(a);let O=[];if(v.forEach(q=>{q.trigger===xn.None?f.drafts+=1:f.lives+=1,O.push(c.getSurveyResponses(`${q.id}`))}),O.length>0){const q=yield(0,an.p)(O).pipe((0,Re.T)(ne=>ne.reduce((le,Pe)=>le+Pe,0))).toPromise();f.responses=q}c.stats=f,c.loading=""})()}getBuildingSurveys(a){return(0,ye.A)(function*(){return(0,ze.uT)({building_id:a}).pipe((0,Fe.$)(),(0,Ae.W)(c=>((0,se.UG)("Error loading surveys"),(0,xt.of)(null)))).toPromise()})()}getSurveyResponses(a){return(0,ye.A)(function*(){return(0,ze.elf)({survey_id:a}).pipe((0,Fe.$)(),(0,Re.T)(c=>c?.length||0),(0,Ae.W)(c=>(0,xt.of)(0))).toPromise()})()}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();var Se=C(8712),wt=C(9434),$r=C(3208),Ue=C(9183);function Zn(l,d){if(1&l&&(i.j41(0,"div",12),i.nrm(1,"img",13),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.Y8G("source",a.building.image)}}function zr(l,d){1&l&&(i.j41(0,"div",12)(1,"span")(2,"app-icon",14),i.EFF(3,"domain"),i.k0s()()())}function We(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",16)(2,"div",17)(3,"h3"),i.EFF(4,"Live Surveys"),i.k0s(),i.j41(5,"p",18),i.EFF(6),i.k0s()(),i.j41(7,"div",17)(8,"h3"),i.EFF(9,"Draft Surveys"),i.k0s(),i.j41(10,"p",18),i.EFF(11),i.k0s()(),i.j41(12,"div",17)(13,"h3"),i.EFF(14,"Total Answers"),i.k0s(),i.j41(15,"p",18),i.EFF(16),i.k0s()()(),i.bVm()),2&l){const a=d.ngIf;i.R7$(6),i.SpI(" ",(null==a?null:a.lives)||0," "),i.R7$(5),i.SpI(" ",(null==a?null:a.drafts)||0," "),i.R7$(5),i.SpI(" ",(null==a?null:a.responses)||0," ")}}function ot(l,d){if(1&l&&(i.qex(0),i.DNE(1,We,17,3,"ng-container",15),i.nI1(2,"async"),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,1,a.stats$))}}function Ur(l,d){if(1&l&&(i.j41(0,"div",19)(1,"div",20),i.nrm(2,"mat-spinner",21),i.j41(3,"span"),i.EFF(4),i.nI1(5,"async"),i.k0s()()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("diameter",32),i.R7$(2),i.JRh(i.bMT(5,2,a.loading$))}}let pu=(()=>{class l{constructor(a,c,f){this._settings=a,this.router=c,this.service=f,this.loading$=this.service.loading$.pipe((0,Se.t)(1)),this.stats$=this.service.stats$.pipe((0,Se.t)(1))}ngOnInit(){this.service.initStats(this.building.id)}navigate(){this.router.navigate([this._settings.get("app.default_route").includes("new")?"/surveys/new":"/survey","survey-list",this.building.id])}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(se.h$),i.rXU(Be.Ix),i.rXU(Kn))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["building-list-item"]],inputs:{building:"building"},features:[i.Jv_([Kn])],decls:21,vars:8,consts:[["loadState",""],[1,"building-wrapper","bg-base-100","my-4","mx-auto","rounded-md","overflow-hidden"],["class","image-container",4,"ngIf"],[1,"details-container","my-4","mx-8","w-full","relative"],[1,"location-wrapper"],["aria-hidden","false","aria-label","Material icon of location pointer",1,"location-icon"],[1,"building-title"],[4,"ngIf","ngIfElse"],[1,"flex","justify-end","w-full","mt-4"],["btn","","matRipple","",1,"inverse",3,"click"],[1,"ml-2"],[1,"ml-1","text-2xl"],[1,"image-container"],["auth","","alt","image of building",1,"flex","object-fill",3,"source"],[1,"domain-icon"],[4,"ngIf"],[1,"flex","py-4","justify-end","space-x-2"],[1,"flex","flex-col","items-center","flex-1"],[1,"text-4xl"],[1,"flex","absolute","inset-0","opacity-60","bg-base-100","z-10"],[1,"flex","flex-col","m-auto","items-center"],[3,"diameter"]],template:function(c,f){if(1&c){const v=i.RV6();i.j41(0,"section",1),i.DNE(1,Zn,2,1,"div",2)(2,zr,4,0,"div",2),i.j41(3,"div",3)(4,"div",4)(5,"app-icon",5),i.EFF(6,"location_on"),i.k0s(),i.j41(7,"span"),i.EFF(8),i.k0s()(),i.j41(9,"span",6),i.EFF(10),i.k0s(),i.DNE(11,ot,3,3,"ng-container",7),i.nI1(12,"async"),i.j41(13,"div",8)(14,"button",9),i.bIt("click",function(){return i.eBV(v),i.Njj(f.navigate())}),i.j41(15,"span",10),i.EFF(16,"View"),i.k0s(),i.j41(17,"app-icon",11),i.EFF(18,"chevron_right"),i.k0s()()()()(),i.DNE(19,Ur,6,4,"ng-template",null,0,i.C5r)}if(2&c){let v;const O=i.sdS(20);i.R7$(),i.Y8G("ngIf",f.building.image),i.R7$(),i.Y8G("ngIf",!f.building.image),i.R7$(6),i.SpI(" ",f.building.address," "),i.R7$(2),i.SpI(" ",f.building.display_name," "),i.R7$(),i.Y8G("ngIf",!(null!=(v=i.bMT(12,6,f.loading$))&&v.length))("ngIfElse",O)}},dependencies:[V.bT,wt.R,$r.U,_.r6,Ue.LG,V.Jj],styles:[".building-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:relative;justify-content:flex-start;height:260px;max-width:68rem;border:1px solid #e6e6e6;box-shadow:0 2px 4px #051c2c1a}.options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--b1);position:absolute;height:48px;width:48px;top:10px;left:10px;border:1px solid #e6e6e6;border-radius:3px}.menu-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90px;width:135px;justify-content:center}.image-container[_ngcontent-%COMP%]{display:flex;height:100%;width:380px;background-color:#00000038;align-items:center;justify-content:center}.details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:600px}.location-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:20px}.location-icon[_ngcontent-%COMP%]{color:#5295f7;margin-right:10px}.domain-icon[_ngcontent-%COMP%]{display:flex;color:#fff;height:100%;width:100%}.building-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.details-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:14px;font-weight:400;color:#020202;margin-bottom:10px;justify-content:space-between;height:70px}.button-container[_ngcontent-%COMP%]{display:flex;position:absolute;bottom:20px;right:20px}"]})}return l})();function Wr(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"building-list-item",4),i.k0s()),2&l){const a=d.$implicit;i.R7$(),i.Y8G("building",a)}}let ln=(()=>{class l{constructor(a){this._org=a,this.buildings$=this._org.building_list}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(nn.yb))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["building-list"]],decls:8,vars:9,consts:[[1,"flex","flex-col","p-4","h-full"],[1,"flex","w-full","items-center","justify-between","py-4","bg-base-100","max-w-[68rem]","m-auto"],[1,"text-2xl"],[4,"ngFor","ngForOf"],[3,"building"]],template:function(c,f){if(1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"span",2),i.EFF(3),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()(),i.DNE(6,Wr,2,1,"div",3),i.nI1(7,"async"),i.k0s()),2&c){let v;i.R7$(3),i.Lme(" ",null==(v=i.bMT(4,3,f.buildings$))?null:v.length," Building",(null==(v=i.bMT(5,5,f.buildings$))?null:v.length)>1?"s":""," "),i.R7$(3),i.Y8G("ngForOf",i.bMT(7,7,f.buildings$))}},dependencies:[V.Sq,pu,V.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;overflow:auto;background-color:var(--b1)}"]})}return l})(),Wi=(()=>{class l{constructor(a){this.router=a}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(Be.Ix))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["placeos-not-found"]],decls:14,vars:1,consts:[[1,"flex","flex-1","flex-col","z-0","bg-base-200","h-full","overflow-y-auto"],[1,"flex","flex-col","border-b","border-base-200","py-5","h-full","items-center","justify-center"],[1,"mx-3","flex","flex-row"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"mb-3"],[1,"text-3xl","font-bold","mr-auto","text-gray-700"],[1,"flex","flex-row"],[1,"font-bold","mx-1"]],template:function(c,f){1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.nrm(3,"img",3),i.k0s(),i.j41(4,"div",2)(5,"div",4)(6,"span",5),i.EFF(7," Page not found"),i.k0s()()(),i.j41(8,"div",2)(9,"span",6),i.EFF(10," The page "),i.j41(11,"span",7),i.EFF(12),i.k0s(),i.EFF(13," was not found. "),i.k0s()()()()),2&c&&(i.R7$(12),i.SpI(" ",f.router.url," "))}})}return l})();var ue=C(3237),Yi=C(6939),Xi=C(345);const Tn=["template"],In=["actionContent"],Nt=l=>({model:l}),ei=(l,d)=>({name:l,data:d,default:"sv-action-bar-item"});function du(l,d){1&l&&(i.qex(0),i.nrm(1,"div",5),i.bVm())}function fu(l,d){}function Ji(l,d){if(1&l&&(i.j41(0,"div",1)(1,"div",2),i.DNE(2,du,2,0,"ng-container",3)(3,fu,0,0,"ng-template",4),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.getActionRootCss()),i.Y8G("id",a.id),i.R7$(2),i.Y8G("ngIf",a.model.needSeparator),i.R7$(),i.Y8G("component",i.l_i(7,ei,a.model.component,i.eq3(5,Nt,a.model)))}}const Rn=["container"];function hu(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-action",5),i.bVm()),2&l){const a=d.$implicit;i.R7$(),i.Y8G("model",a)}}function mu(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",3,1),i.bIt("click",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.onClick(f))}),i.DNE(2,hu,2,1,"ng-container",4),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.getRootCss()),i.R7$(2),i.Y8G("ngForOf",a.model.renderedActions)}}function gu(l,d){if(1&l&&i.DNE(0,mu,3,3,"div",2),2&l){const a=i.XpG();i.Y8G("ngIf",a.model.hasActions)}}const qt=(l,d,a,c,f)=>({left:l,top:d,height:a,minWidth:c,width:f}),K=(l,d)=>({name:l,data:d});function Ki(l,d){}function Yr(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ki,0,0,"ng-template",8),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("component",i.l_i(3,K,a.model.popupHeaderTemplate,i.eq3(1,Nt,a.model)))}}function Xr(l,d){if(1&l&&(i.j41(0,"div",10),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.model.title)}}function yu(l,d){}function Zi(l,d){if(1&l&&(i.j41(0,"div",11),i.nrm(1,"sv-ng-action-bar",12),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.Y8G("model",a.model.footerToolbar)}}const vu=["svgContainer"],Sn=["*"];function Ht(l,d){1&l&&i.eu8(0)}function eo(l,d){if(1&l&&(i.j41(0,"h1"),i.DNE(1,Ht,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function to(l,d){1&l&&i.eu8(0)}function bu(l,d){if(1&l&&(i.j41(0,"h2"),i.DNE(1,to,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Cu(l,d){1&l&&i.eu8(0)}function _u(l,d){if(1&l&&(i.j41(0,"h3"),i.DNE(1,Cu,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Pt(l,d){1&l&&i.eu8(0)}function ah(l,d){if(1&l&&(i.j41(0,"h4"),i.DNE(1,Pt,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function xu(l,d){1&l&&i.eu8(0)}function wu(l,d){if(1&l&&(i.j41(0,"h5"),i.DNE(1,xu,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Jr(l,d){1&l&&i.eu8(0)}function Pu(l,d){if(1&l&&(i.j41(0,"h6"),i.DNE(1,Jr,1,0,"ng-container",4),i.k0s()),2&l){i.XpG();const a=i.sdS(8),c=i.XpG();i.HbH(c.element.cssTitle),i.BMQ("id",c.element.ariaTitleId)("tabindex",c.element.titleTabIndex)("aria-expanded",c.element.titleAriaExpanded)("role",c.element.titleAriaRole)("aria-label",c.ariaLabel),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Vu(l,d){1&l&&i.SdG(0)}function ti(l,d){if(1&l&&(i.qex(0,2),i.DNE(1,eo,2,8,"h1",3)(2,bu,2,8,"h2",3)(3,_u,2,8,"h3",3)(4,ah,2,8,"h4",3)(5,wu,2,8,"h5",3)(6,Pu,2,8,"h6",3),i.bVm(),i.DNE(7,Vu,1,0,"ng-template",null,1,i.C5r)),2&l){const a=i.XpG();i.Y8G("ngSwitch",a.tagName),i.R7$(),i.Y8G("ngSwitchCase","h1"),i.R7$(),i.Y8G("ngSwitchCase","h2"),i.R7$(),i.Y8G("ngSwitchCase","h3"),i.R7$(),i.Y8G("ngSwitchCase","h4"),i.R7$(),i.Y8G("ngSwitchCase","h5"),i.R7$(),i.Y8G("ngSwitchCase","h6")}}function Tu(l,d){}function Iu(l,d){1&l&&i.eu8(0)}function I(l,d){if(1&l&&(i.qex(0),i.DNE(1,Iu,1,0,"ng-container",3),i.bVm()),2&l){i.XpG();const a=i.sdS(3);i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Ye(l,d){1&l&&i.eu8(0)}function Ze(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",4)(2,"span",5),i.DNE(3,Ye,1,0,"ng-container",3),i.k0s(),i.nrm(4,"sv-ng-action-bar",6),i.k0s(),i.bVm()),2&l){i.XpG();const a=i.sdS(3),c=i.XpG();i.R7$(3),i.Y8G("ngTemplateOutlet",a),i.R7$(),i.Y8G("model",c.element.getTitleToolbar())}}function Kr(l,d){if(1&l&&i.nrm(0,"sv-ng-string",6),2&l){const a=i.XpG(3);i.Y8G("model",a.element.locTitle)}}function Zr(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.cssClasses.requiredText),i.BMQ("aria-hidden",!0),i.R7$(),i.JRh(a.element.requiredText)}}function es(l,d){if(1&l&&(i.j41(0,"span",10),i.EFF(1),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.element.cssTitleNumber),i.BMQ("aria-hidden",!0),i.R7$(),i.JRh(a.element.no)}}function ts(l,d){1&l&&(i.j41(0,"span"),i.EFF(1,"\xa0"),i.k0s())}function Ru(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.cssClasses.requiredText),i.BMQ("aria-hidden",!0),i.R7$(),i.JRh(a.element.requiredText)}}function Su(l,d){1&l&&(i.j41(0,"span"),i.EFF(1,"\xa0"),i.k0s())}function Ou(l,d){1&l&&(i.j41(0,"span"),i.EFF(1,"\xa0"),i.k0s())}function ni(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.cssClasses.requiredText),i.BMQ("aria-hidden",!0),i.R7$(),i.JRh(a.element.requiredText)}}function Eu(l,d){if(1&l&&(i.qex(0),i.DNE(1,Zr,2,4,"span",8)(2,es,2,4,"span",9)(3,ts,2,0,"span",2)(4,Ru,2,4,"span",8)(5,Su,2,0,"span",2),i.nrm(6,"sv-ng-string",6),i.DNE(7,Ou,2,0,"span",2)(8,ni,2,4,"span",8),i.bVm()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("ngIf",a.element.isRequireTextOnStart),i.R7$(),i.Y8G("ngIf",a.element.no),i.R7$(),i.Y8G("ngIf",a.element.no),i.R7$(),i.Y8G("ngIf",a.element.isRequireTextBeforeTitle),i.R7$(),i.Y8G("ngIf",a.element.isRequireTextBeforeTitle),i.R7$(),i.Y8G("model",a.element.locTitle),i.R7$(),i.Y8G("ngIf",a.element.isRequireTextAfterTitle),i.R7$(),i.Y8G("ngIf",a.element.isRequireTextAfterTitle)}}function Du(l,d){if(1&l&&i.DNE(0,Kr,1,1,"sv-ng-string",7)(1,Eu,9,8,"ng-container",2),2&l){const a=i.XpG(2);i.Y8G("ngIf",a.element.isTitleRenderedAsString),i.R7$(),i.Y8G("ngIf",!a.element.isTitleRenderedAsString)}}function Mu(l,d){if(1&l&&i.DNE(0,I,2,1,"ng-container",2)(1,Ze,5,2,"ng-container",2)(2,Du,2,2,"ng-template",null,1,i.C5r),2&l){const a=i.XpG();i.Y8G("ngIf",!a.element.hasTitleActions),i.R7$(),i.Y8G("ngIf",a.element.hasTitleActions)}}function ns(l,d){if(1&l&&(i.j41(0,"sv-ng-dynamic-head",2),i.nrm(1,"sv-ng-element-title-actions",3),i.k0s()),2&l){const a=i.XpG(2);i.Y8G("tagName",a.element.titleTagName)("element",a.element),i.R7$(),i.Y8G("element",a.element)}}function tt(l,d){if(1&l&&i.DNE(0,ns,2,3,"sv-ng-dynamic-head",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.element.hasTitle)}}const Qt=["sv-ng-survey-header",""],Ne=l=>({data:l});function Gt(l,d){}function is(l,d){if(1&l&&i.DNE(0,Gt,0,0,"ng-template",2),2&l){const a=i.XpG();i.Y8G("component",i.l_i(3,K,a.survey.getElementWrapperComponentName(a.survey,"logo-image"),i.eq3(1,Ne,a.survey.getElementWrapperComponentData(a.survey,"logo-image"))))}}function os(l,d){if(1&l&&i.nrm(0,"div",5),2&l){const a=i.XpG(2);i.HbH(a.survey.css.description),i.Y8G("model",a.survey.locDescription)}}function rs(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-element-title",3),i.DNE(2,os,1,3,"div",4),i.k0s()),2&l){const a=i.XpG();i.HbH(a.survey.css.headerText),i.xc7("max-width",a.survey.titleMaxWidth),i.R7$(),i.Y8G("element",a.survey),i.R7$(),i.Y8G("ngIf",a.survey.renderedHasDescription)}}function ss(l,d){}function as(l,d){if(1&l&&i.DNE(0,ss,0,0,"ng-template",2),2&l){const a=i.XpG();i.Y8G("component",i.l_i(3,K,a.survey.getElementWrapperComponentName(a.survey,"logo-image"),i.eq3(1,Ne,a.survey.getElementWrapperComponentData(a.survey,"logo-image"))))}}const no=["sv-ng-errors",""],ls=(l,d,a)=>({element:l,cssClasses:d,error:a});function us(l,d){}function io(l,d){if(1&l&&(i.qex(0),i.DNE(1,us,0,0,"ng-template",1),i.bVm()),2&l){const a=d.$implicit,c=i.XpG();i.R7$(),i.Y8G("component",i.l_i(5,K,c.element.survey.questionErrorComponent,i.sMw(1,ls,c.element,c.element.cssClasses,a)))}}function cs(l,d){}function ku(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",3,1),i.bIt("focusin",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.focusIn())}),i.DNE(2,cs,0,0,"ng-template",4),i.k0s()}if(2&l){const a=i.XpG(2);i.Aen(a.rootStyle),i.HbH(a.model.cssClasses.questionWrapper),i.R7$(2),i.Y8G("component",i.l_i(5,K,a.componentName,a.componentData))}}function un(l,d){if(1&l&&i.DNE(0,ku,3,8,"div",2),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.model)}}const Au=l=>({element:l});function je(l,d){if(1&l&&i.nrm(0,"sv-ng-element",5),2&l){const a=i.XpG().$implicit;i.Y8G("model",a)}}function oo(l,d){}function Lu(l,d){if(1&l&&i.DNE(0,oo,0,0,"ng-template",6),2&l){const a=i.XpG().$implicit;i.Y8G("component",i.l_i(3,K,a.skeletonComponentName,i.eq3(1,Au,a)))}}function ro(l,d){if(1&l&&(i.qex(0),i.DNE(1,je,1,1,"sv-ng-element",3)(2,Lu,1,6,null,4),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("ngIf",c.row.isNeedRender),i.R7$(),i.Y8G("ngIf",!c.row.isNeedRender&&a.skeletonComponentName)}}function J(l,d){if(1&l&&(i.j41(0,"div",null,1),i.DNE(2,ro,3,2,"ng-container",2),i.k0s()),2&l){const a=i.XpG();i.HbH(a.row.getRowCss()),i.R7$(2),i.Y8G("ngForOf",a.row.visibleElements)("ngForTrackBy",a.trackElementBy)}}const Fu=["pageContainer"],mt=l=>({componentData:l});function so(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-string",7),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.cssClasses.page.description),i.R7$(),i.Y8G("model",a.model.locDescription)}}function ao(l,d){if(1&l&&i.nrm(0,"div",8),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function ps(l,d){if(1&l&&i.nrm(0,"sv-ng-row",10),2&l){const a=i.XpG().$implicit;i.Y8G("row",a)}}function ds(l,d){if(1&l&&(i.qex(0),i.DNE(1,ps,1,1,"ng-template",9),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(3,K,c.model.survey.getRowWrapperComponentName(a),i.eq3(1,mt,c.model.survey.getRowWrapperComponentData(a))))}}function fs(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",null,1),i.nrm(3,"sv-ng-element-title",3),i.DNE(4,so,2,3,"div",4)(5,ao,1,1,"div",5)(6,ds,2,6,"ng-container",6),i.k0s(),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.HbH(a.model.cssRoot),i.R7$(2),i.Y8G("element",a.model),i.R7$(),i.Y8G("ngIf",a.model._showDescription),i.R7$(),i.Y8G("ngIf",a.model.hasVisibleErrors),i.R7$(),i.Y8G("ngForOf",a.model.visibleRows)}}function ju(l,d){if(1&l&&i.DNE(0,fs,7,6,"ng-container",2),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.survey&&!!a.model&&a.model.isVisible&&!!a.model.survey)}}const $t=l=>({visibility:l});function Bu(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",2)(2,"span"),i.EFF(3),i.k0s(),i.nrm(4,"sv-action-bar",3),i.k0s(),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Aen(i.eq3(6,$t,a.notifier.active?"visible":"hidden")),i.HbH(a.notifier.css),i.R7$(2),i.JRh(a.notifier.message),i.R7$(),i.Y8G("model",a.notifier.actionBar)}}function Nu(l,d){if(1&l&&i.DNE(0,Bu,5,8,"ng-container",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.notifier.isDisplayed)}}const hs=["surveyContainer"],lo=l=>({survey:l,container:"header",needRenderWrapper:!1}),Vt=l=>({name:"sv-components-container",data:l}),ms=l=>({survey:l,container:"footer",needRenderWrapper:!1}),uo=l=>({survey:l,container:"left"}),co=l=>({survey:l,container:"center"}),ii=l=>({survey:l,container:"contentTop"}),gs=l=>({survey:l,container:"contentBottom"}),oi=l=>({survey:l,container:"right"}),ys=l=>({survey:l,container:"completePage"});function vs(l,d){1&l&&i.nrm(0,"sv-svg-bundle")}function qu(l,d){if(1&l&&i.nrm(0,"div"),2&l){const a=i.XpG(3);i.Aen(a.model.backgroundImageStyle),i.HbH(a.model.css.rootBackgroundImage)}}function bs(l,d){if(1&l&&i.nrm(0,"div",13),2&l){const a=i.XpG(3);i.HbH(a.model.css.header),i.Y8G("survey",a.model)}}function he(l,d){}function Tt(l,d){}function Hu(l,d){}function po(l,d){}function ri(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-page",16),i.bVm()),2&l){const a=i.XpG(4);i.R7$(),i.Y8G("model",a.model.activePage)("survey",a.model)}}function Qu(l,d){}function si(l,d){1&l&&i.nrm(0,"sv-brand-info")}function Gu(l,d){}function fo(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Tt,0,0,"ng-template",9),i.j41(2,"div",14),i.DNE(3,Hu,0,0,"ng-template",9),i.j41(4,"div",15),i.DNE(5,po,0,0,"ng-template",9)(6,ri,2,2,"ng-container",4)(7,Qu,0,0,"ng-template",9)(8,si,1,0,"sv-brand-info",4),i.k0s()(),i.DNE(9,Gu,0,0,"ng-template",9),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.bodyContainerCss),i.R7$(),i.Y8G("component",i.eq3(16,Vt,i.eq3(14,uo,a.model))),i.R7$(2),i.Y8G("component",i.eq3(20,Vt,i.eq3(18,co,a.model))),i.R7$(),i.HbH(a.model.bodyCss),i.xc7("max-width",a.model.renderedWidth),i.Y8G("id",a.model.activePage?a.model.activePage.id:""),i.R7$(),i.Y8G("component",i.eq3(24,Vt,i.eq3(22,ii,a.model))),i.R7$(),i.Y8G("ngIf",a.model.activePage),i.R7$(),i.Y8G("component",i.eq3(28,Vt,i.eq3(26,gs,a.model))),i.R7$(),i.Y8G("ngIf",a.model.showBrandInfo),i.R7$(),i.Y8G("component",i.eq3(32,Vt,i.eq3(30,oi,a.model)))}}function On(l,d){}function ho(l,d){if(1&l&&(i.nrm(0,"div",17),i.nI1(1,"safeHtml")),2&l){const a=i.XpG(3);i.HbH(a.model.completedCss),i.Y8G("innerHtml",i.bMT(1,3,a.model.processedCompletedHtml),i.npT)}}function En(l,d){}function $u(l,d){if(1&l&&i.DNE(0,En,0,0,"ng-template",9),2&l){const a=i.XpG(3);i.Y8G("component",i.eq3(3,Vt,i.eq3(1,ys,a.model)))}}function ct(l,d){if(1&l&&(i.nrm(0,"div",17),i.nI1(1,"safeHtml")),2&l){const a=i.XpG(3);i.HbH(a.model.completedBeforeCss),i.Y8G("innerHtml",i.bMT(1,3,a.model.processedCompletedBeforeHtml),i.npT)}}function mo(l,d){if(1&l&&i.nrm(0,"div",17),2&l){const a=i.XpG(3);i.HbH(a.model.loadingBodyCss),i.Y8G("innerHtml",a.model.processedLoadingHtml,i.npT)}}function Cs(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.css.bodyEmpty),i.R7$(),i.JRh(a.model.emptySurveyText)}}function go(l,d){if(1&l&&(i.j41(0,"div",3,1),i.DNE(2,vs,1,0,"sv-svg-bundle",4),i.j41(3,"div"),i.DNE(4,qu,1,4,"div",5),i.j41(5,"form",6),i.nrm(6,"div",7),i.j41(7,"div"),i.DNE(8,bs,1,3,"div",8)(9,he,0,0,"ng-template",9)(10,fo,10,34,"div",10)(11,On,0,0,"ng-template",9)(12,ho,2,5,"div",11)(13,$u,1,5,null,4)(14,ct,2,5,"div",11)(15,mo,1,3,"div",11)(16,Cs,2,3,"div",10),i.k0s()(),i.nrm(17,"sv-notifier",12),i.k0s()()),2&l){const a=i.XpG(2);i.Aen(a.model.themeVariables),i.HbH(a.model.getRootCss()),i.Y8G("lang",a.model.locale||"en")("dir",a.model.localeDir),i.R7$(2),i.Y8G("ngIf",a.model.needRenderIcons),i.R7$(),i.HbH(a.model.wrapperFormCss),i.R7$(),i.Y8G("ngIf",!!a.model.renderBackgroundImage),i.R7$(2),i.Y8G("hidden",a.model.hasLogo),i.R7$(),i.HbH(a.model.css.container),i.R7$(),i.Y8G("ngIf","basic"===a.model.headerView&&a.model.renderedHasHeader),i.R7$(),i.Y8G("component",i.eq3(25,Vt,i.eq3(23,lo,a.model))),i.R7$(),i.Y8G("ngIf",a.model.isShowingPage),i.R7$(),i.Y8G("component",i.eq3(29,Vt,i.eq3(27,ms,a.model))),i.R7$(),i.Y8G("ngIf","completed"===a.model.state&&a.model.showCompletedPage),i.R7$(),i.Y8G("ngIf","completed"===a.model.state&&a.model.showCompletedPage),i.R7$(),i.Y8G("ngIf","completedbefore"===a.model.state),i.R7$(),i.Y8G("ngIf","loading"===a.model.state),i.R7$(),i.Y8G("ngIf","empty"===a.model.state),i.R7$(),i.Y8G("notifier",a.model.notifier)}}function ai(l,d){if(1&l&&i.DNE(0,go,18,31,"div",2),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.model)}}const yo=["sv-ng-svg-icon",""],vo=["contentElement"],Ps=["sv-ng-element-header",""];function Wu(l,d){if(1&l&&i.nrm(0,"div",3),2&l){const a=i.XpG();i.HbH(a.element.cssDescription),i.xc7("display",a.element.hasDescription?"":"none"),i.Y8G("model",a.element.locDescription),i.BMQ("id",a.element.ariaDescriptionId)}}function ui(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-action-bar",4),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("model",a.element.additionalTitleToolbar)}}function Vs(l,d){if(1&l){const a=i.RV6();i.j41(0,"textarea",2),i.bIt("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.question.onCommentChange(f))})("input",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.question.onCommentInput(f))}),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.question.cssClasses.other),i.xc7("resize",a.question.resizeStyle),i.Y8G("id",a.question.commentId)("value",a.comment)("disabled",a.question.isInputReadOnly),i.BMQ("maxlength",a.question.getOthersMaxLength())("aria-required",a.question.ariaRequired||a.question.a11y_input_ariaRequired)("aria-label",a.question.ariaLabel||a.question.a11y_input_ariaLabel)("placeholder",a.question.renderedCommentPlaceholder)("rows",a.question.commentAreaRows)}}function Yu(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.question.comment)}}const xe=["elementContainer"],Xu=(l,d)=>({name:l,data:d,default:"skeleton-question"});function Ju(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function Ku(l,d){if(1&l&&i.nrm(0,"div",8),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function Ts(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(4);i.Y8G("element",a.model)}}function bo(l,d){}function Zu(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"div",12)(2,"sv-ng-comment",13),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.model.getCommentAreaCss(!1)),i.R7$(),i.Y8G("model",a.model.locCommentText),i.R7$(),i.Y8G("question",a.model)}}function ec(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(4);i.Y8G("element",a.model)}}function Co(l,d){if(1&l&&i.nrm(0,"div",12),2&l){const a=i.XpG(4);i.HbH(a.model.cssDescription),i.Y8G("model",a.model.locDescription),i.BMQ("id",a.model.ariaDescriptionId)}}function _o(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,Ts,1,1,"div",4)(2,bo,0,0,"ng-template",6)(3,Zu,3,4,"div",10)(4,ec,1,1,"div",4)(5,Co,1,4,"div",11),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.cssContent),i.Y8G("visible",a.model.renderedIsExpanded),i.R7$(),i.Y8G("ngIf",a.model.showErrorOnTop&&a.model.hasVisibleErrors),i.R7$(),i.Y8G("component",i.l_i(10,Xu,a.getComponentName(),i.eq3(8,Nt,a.model))),i.R7$(),i.Y8G("ngIf",a.model.hasComment),i.R7$(),i.Y8G("ngIf",a.model.showErrorOnBottom&&a.model.hasVisibleErrors),i.R7$(),i.Y8G("ngIf",a.model.hasDescriptionUnderInput)}}function Is(l,d){if(1&l&&i.nrm(0,"div",8),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function xo(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function tc(l,d){if(1&l&&(i.j41(0,"div",3,1),i.DNE(2,Ju,1,1,"div",4)(3,Ku,1,1,"div",5)(4,_o,6,13,"ng-template",6)(5,Is,1,1,"div",5)(6,xo,1,1,"div",4),i.k0s()),2&l){const a=i.XpG(2);i.Aen(a.model.getRootStyle()),i.HbH(a.model.getRootCss()),i.Y8G("id",a.model.id),i.BMQ("data-name",a.model.name)("role",a.model.ariaRole)("aria-required",a.model.ariaRequired)("aria-invalid",a.model.ariaInvalid)("aria-labelledby",a.model.ariaLabelledBy)("aria-describedby",a.model.ariaDescribedBy)("aria-expanded",a.model.ariaExpanded),i.R7$(2),i.Y8G("ngIf",a.model.showErrorsAboveQuestion&&a.model.hasVisibleErrors),i.R7$(),i.Y8G("ngIf",a.model.hasTitleOnLeftTop),i.R7$(),i.Y8G("component",i.l_i(17,K,a.getQuestionContentWrapperComponentName(),a.getQuestionContentWrapperComponentData())),i.R7$(),i.Y8G("ngIf",a.model.hasTitleOnBottom),i.R7$(),i.Y8G("ngIf",a.model.showErrorsBelowQuestion&&a.model.hasVisibleErrors)}}function Te(l,d){if(1&l&&i.DNE(0,tc,7,20,"div",2),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.model)}}function ci(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.className),i.R7$(),i.JRh(a.model.renderedHtml)}}function Rs(l,d){if(1&l&&(i.nrm(0,"span",2),i.nI1(1,"safeHtml")),2&l){const a=i.XpG();i.HbH(a.className),i.Y8G("innerHtml",i.bMT(1,3,a.model.renderedHtml),i.npT)}}const nc=(l,d)=>({left:l,top:d}),ic=["containerRef"],wo=["inputElement"],It=(l,d)=>({model:l,question:d});function Po(l,d){if(1&l&&(i.j41(0,"div")(1,"span"),i.EFF(2),i.k0s()()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.hintPrefix),i.R7$(2),i.JRh(a.dropdownModel.hintStringPrefix)}}function oc(l,d){if(1&l&&(i.j41(0,"div")(1,"span",11),i.EFF(2),i.k0s(),i.j41(3,"span"),i.EFF(4),i.k0s()()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.hintSuffix),i.R7$(2),i.JRh(a.dropdownModel.inputStringRendered),i.R7$(2),i.JRh(a.dropdownModel.hintStringSuffix)}}function Dn(l,d){}function Ss(l,d){if(1&l&&(i.qex(0),i.DNE(1,Dn,0,0,"ng-template",12),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(4,K,a.model.inputFieldComponentName,i.l_i(1,It,a.dropdownModel.getSelectedAction(),a.model)))}}function rc(l,d){if(1&l&&i.nrm(0,"sv-ng-string",13),2&l){const a=i.XpG(2);i.Y8G("model",a.model.selectedItemLocText)}}function pi(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",14),i.bIt("click",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.clear(f))}),i.qSk(),i.nrm(1,"svg",15),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.cleanButton),i.Y8G("visible",a.model.showClearButton),i.R7$(),i.Y8G("iconName",a.model.cssClasses.cleanButtonIconId)("partCss",a.model.cssClasses.cleanButtonSvg)("title",a.model.clearCaption)("size","auto")}}function Os(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",6),i.bIt("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.blur(f))})("keydown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.keyhandler(f))}),i.DNE(1,Po,3,3,"div",4),i.j41(2,"div"),i.DNE(3,oc,5,4,"div",4)(4,Ss,2,7,"ng-container",7)(5,rc,1,1,"sv-ng-string",8),i.j41(6,"input",9,0),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.dropdownModel.inputStringRendered,f)||(v.dropdownModel.inputStringRendered=f),i.Njj(f)}),i.bIt("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.inputChange(f))})("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.blur(f))})("focus",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.focus(f))}),i.k0s()(),i.DNE(8,pi,2,7,"div",10),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.BMQ("tabindex",a.dropdownModel.noTabIndex?null:0)("disabled",!!a.model.isDisabledAttr||null)("id",a.model.inputId)("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage)("role",a.model.ariaRole)("aria-controls",a.dropdownModel.listElementId)("aria-expanded",a.model.ariaExpanded)("aria-activedescendant",a.dropdownModel.ariaActivedescendant),i.R7$(),i.Y8G("ngIf",a.dropdownModel.showHintPrefix),i.R7$(),i.HbH(a.model.cssClasses.controlValue),i.R7$(),i.Y8G("ngIf",a.dropdownModel.showHintString),i.R7$(),i.Y8G("ngIf",a.dropdownModel.showInputFieldComponent),i.R7$(),i.Y8G("ngIf",a.model.showSelectedItemLocText),i.R7$(),i.HbH(a.model.cssClasses.filterStringInput),i.R50("ngModel",a.dropdownModel.inputStringRendered),i.BMQ("role",a.dropdownModel.filterStringEnabled?a.model.ariaRole:null)("id",a.model.getInputId())("inputmode",a.dropdownModel.inputMode)("tabindex",a.dropdownModel.noTabIndex?null:-1)("disabled",!!a.model.isDisabledAttr||null)("aria-controls",a.dropdownModel.listElementId)("aria-label",a.model.a11y_input_ariaLabel)("aria-labelledby",a.model.a11y_input_ariaLabelledBy)("aria-describedby",a.model.a11y_input_ariaDescribedBy)("aria-expanded",a.model.ariaExpanded)("aria-activedescendant",a.dropdownModel.ariaActivedescendant)("placeholder",a.dropdownModel.placeholderRendered)("readonly",!!a.dropdownModel.filterReadOnly||null),i.R7$(2),i.Y8G("ngIf",a.model.allowClear&&a.model.cssClasses.cleanButtonIconId)}}function sc(l,d){if(1&l&&i.nrm(0,"sv-ng-popup",16),2&l){const a=i.XpG();i.Y8G("popupModel",a.dropdownModel.popupModel)}}function be(l,d){if(1&l&&i.nrm(0,"sv-ng-string",13),2&l){const a=i.XpG(2);i.Y8G("model",a.model.selectedItemLocText)}}function Es(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,be,1,1,"sv-ng-string",8),i.j41(2,"div"),i.EFF(3),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.BMQ("id",a.model.inputId)("tabindex",a.model.isDisabledAttr?null:0)("disabled",!!a.model.isDisabledAttr||null)("aria-label",a.model.a11y_input_ariaLabel)("aria-labelledby",a.model.a11y_input_ariaLabelledBy)("aria-describedby",a.model.a11y_input_ariaDescribedBy),i.R7$(),i.Y8G("ngIf",a.model.selectedItemLocText),i.R7$(2),i.JRh(a.model.readOnlyText)}}function di(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",17),i.bIt("pointerdown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.chevronPointerDown(f))}),i.qSk(),i.nrm(1,"svg",18),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.cssClasses.chevronButton),i.R7$(),i.Y8G("iconName",a.model.cssClasses.chevronButtonIconId)("partCss",a.model.cssClasses.chevronButtonSvg)("size","auto")}}function ac(l,d){if(1&l&&(i.j41(0,"div")(1,"span"),i.EFF(2),i.k0s()()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.hintPrefix),i.R7$(2),i.JRh(a.model.hintStringPrefix)}}function lc(l,d){if(1&l&&(i.j41(0,"div")(1,"span",3),i.EFF(2),i.k0s(),i.j41(3,"span"),i.EFF(4),i.k0s()()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.hintSuffix),i.R7$(2),i.JRh(a.model.inputStringRendered),i.R7$(2),i.JRh(a.model.hintStringSuffix)}}function uc(l,d){if(1&l){const a=i.RV6();i.j41(0,"div"),i.DNE(1,ac,3,3,"div",1),i.j41(2,"div"),i.DNE(3,lc,5,4,"div",1),i.j41(4,"input",2),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.model.inputStringRendered,f)||(v.model.inputStringRendered=f),i.Njj(f)}),i.bIt("keydown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.inputKeyHandler(f))})("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onBlur(f))})("focus",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onFocus(f))}),i.k0s()()()}if(2&l){const a=i.XpG();i.HbH(a.question.cssClasses.hint),i.R7$(),i.Y8G("ngIf",a.model.showHintPrefix),i.R7$(),i.HbH(a.question.cssClasses.hintSuffixWrapper),i.R7$(),i.Y8G("ngIf",a.model.showHintString),i.R7$(),i.HbH(a.question.cssClasses.filterStringInput),i.R50("ngModel",a.model.inputStringRendered),i.BMQ("id",a.question.getInputId())("inputmode",a.model.inputMode)("role",a.model.filterStringEnabled?a.question.ariaRole:null)("readonly",!!a.model.filterReadOnly||null)("disabled",!!a.question.isDisabledAttr||null)("size",a.model.inputStringRendered?null:1)("aria-label",a.question.a11y_input_ariaLabel)("aria-labelledby",a.question.a11y_input_ariaLabelledBy)("aria-describedby",a.question.a11y_input_ariaDescribedBy)("aria-controls",a.model.listElementId)("aria-expanded",a.question.ariaExpanded)("aria-activedescendant",a.model.ariaActivedescendant)("placeholder",a.model.filterStringPlaceholder)}}const cc=l=>({name:"sv-tagbox-filter",data:l});function Ds(l,d){if(1&l&&i.nrm(0,"sv-ng-tagbox-item",10),2&l){const a=d.$implicit,c=i.XpG(3);i.Y8G("item",a)("question",c.model)}}function pc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ds,1,2,"sv-ng-tagbox-item",9),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngForOf",a.model.selectedChoices)}}function dc(l,d){}function Vo(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",11),i.bIt("click",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.clear(f))}),i.qSk(),i.nrm(1,"svg",12),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.cleanButton),i.Y8G("visible",a.model.showClearButton),i.R7$(),i.Y8G("iconName",a.model.cssClasses.cleanButtonIconId)("partCss",a.model.cssClasses.cleanButtonSvg)("title",a.model.clearCaption)("size","auto")}}function Ms(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",5),i.bIt("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.blur(f))})("keydown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.keyhandler(f))}),i.j41(1,"div"),i.DNE(2,pc,2,1,"ng-container",6)(3,dc,0,0,"ng-template",7),i.k0s(),i.DNE(4,Vo,2,7,"div",8),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.BMQ("tabindex",a.dropdownModel.noTabIndex?null:0)("disabled",!!a.model.isDisabledAttr||null)("id",a.model.inputId)("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage)("role",a.model.ariaRole)("aria-controls",a.dropdownModel.listElementId)("aria-expanded",a.model.ariaExpanded)("aria-activedescendant",a.dropdownModel.ariaActivedescendant),i.R7$(),i.HbH(a.model.cssClasses.controlValue),i.R7$(),i.Y8G("ngIf",!a.model.isEmpty()),i.R7$(),i.Y8G("component",i.eq3(21,cc,i.l_i(18,It,a.dropdownModel,a.model))),i.R7$(),i.Y8G("ngIf",a.model.allowClear&&a.model.cssClasses.cleanButtonIconId)}}function To(l,d){if(1&l&&i.nrm(0,"sv-ng-popup",13),2&l){const a=i.XpG();i.Y8G("popupModel",a.model.popupModel)}}function Mn(l,d){if(1&l&&i.nrm(0,"sv-ng-string",15),2&l){const a=i.XpG(2);i.Y8G("model",a.model.locReadOnlyText)}}function ks(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Mn,1,1,"sv-ng-string",14),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.BMQ("id",a.model.inputId)("tabindex",a.model.isDisabledAttr?null:0)("disabled",!!a.model.isDisabledAttr||null)("aria-label",a.model.a11y_input_ariaLabel)("aria-labelledby",a.model.a11y_input_ariaLabelledBy)("aria-describedby",a.model.a11y_input_ariaDescribedBy),i.R7$(),i.Y8G("ngIf",a.model.locReadOnlyText)}}function As(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",16),i.bIt("pointerdown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.chevronPointerDown(f))}),i.qSk(),i.nrm(1,"svg",17),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.cssClasses.chevronButton),i.R7$(),i.Y8G("iconName",a.model.cssClasses.chevronButtonIconId)("partCss",a.model.cssClasses.chevronButtonSvg)("size","auto")}}function fi(l,d){}function hi(l,d){if(1&l&&(i.j41(0,"option",1),i.EFF(1),i.k0s(),i.DNE(2,fi,0,0,"ng-template")),2&l){const a=i.XpG();i.Y8G("value",a.item.value)("disabled",!a.item.isEnabled),i.R7$(),i.JRh(a.item.text)}}function fc(l,d){if(1&l){const a=i.RV6();i.j41(0,"textarea",2),i.bIt("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onOtherValueChange(f))})("input",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onOtherValueInput(f))}),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.question.cssClasses.other),i.xc7("resize",a.question.resizeStyle),i.Y8G("id",a.otherId)("value",a.otherValue)("disabled",a.question.isInputReadOnly),i.BMQ("maxlength",a.question.getOthersMaxLength())("aria-required",a.question.ariaRequired||a.question.a11y_input_ariaRequired)("aria-label",a.question.ariaLabel||a.question.a11y_input_ariaLabel)("placeholder",a.otherPlaceholder)("rows",a.question.commentAreaRows)}}function hc(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.otherValue)}}const mc=l=>({item:l}),kn=l=>({name:"sv-dropdown-option-item",data:l});function gc(l,d){if(1&l&&(i.j41(0,"option",7),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.R7$(),i.JRh(a.model.placeholder)}}function Ls(l,d){}function yc(l,d){1&l&&i.DNE(0,Ls,0,0,"ng-template",8),2&l&&i.Y8G("component",i.eq3(3,kn,i.eq3(1,mc,d.$implicit)))}function Fs(l,d){if(1&l){const a=i.RV6();i.j41(0,"select",4),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.editableValue,f)||(v.editableValue=f),i.Njj(f)}),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.click(f))})("keyup",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.keyup(f))}),i.DNE(1,gc,2,1,"option",5)(2,yc,1,5,null,6),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.R50("ngModel",a.editableValue),i.Y8G("disabled",a.model.isInputReadOnly)("required",a.model.isRequired),i.BMQ("id",a.model.inputId)("autocomplete",a.model.autocomplete)("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage),i.R7$(),i.Y8G("ngIf",a.model.allowClear),i.R7$(),i.Y8G("ngForOf",a.model.visibleChoices)}}function js(l,d){if(1&l&&(i.j41(0,"div",9),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.getControlClass()),i.BMQ("id",a.model.inputId),i.R7$(),i.JRh(a.model.readOnlyText)}}function Bs(l,d){if(1&l&&(i.j41(0,"div"),i.qSk(),i.nrm(1,"svg",10),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.chevronButton),i.R7$(),i.Y8G("iconName",a.model.cssClasses.chevronButtonIconId)("partCss",a.model.cssClasses.chevronButtonSvg)("size","auto")}}function zt(l,d){if(1&l&&i.nrm(0,"div",11),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.xc7("display",a.model.isFlowLayout?"inline":""),i.Y8G("question",a.model)}}function vc(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"img"),i.nI1(2,"safeUrl"),i.k0s()),2&l){const a=i.XpG();i.HbH(a.survey.logoClassNames),i.R7$(),i.HbH(a.survey.css.logoImage),i.xc7("width",a.survey.renderedStyleLogoWidth)("height",a.survey.renderedStyleLogoHeight)("object-fit",a.survey.logoFit),i.BMQ("src",i.bMT(2,14,a.survey.locLogo.renderedHtml),i.B4B)("width",a.survey.renderedLogoWidth)("height",a.survey.renderedLogoHeight)("alt",a.survey.locTitle.renderedHtml)}}function ve(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.remainingCharacterCounter),i.R7$(),i.JRh(a.counter.remainingCharacterCounter)}}function Rt(l,d){if(1&l&&i.eu8(0,5),2&l){i.XpG();const a=i.sdS(4);i.Y8G("ngTemplateOutlet",a)}}function St(l,d){1&l&&i.nrm(0,"option",8),2&l&&i.Y8G("value",d.$implicit)}function Ns(l,d){if(1&l&&(i.j41(0,"div"),i.eu8(1,5),i.j41(2,"datalist",6),i.DNE(3,St,1,1,"option",7),i.k0s()()),2&l){const a=i.XpG(),c=i.sdS(4);i.R7$(),i.Y8G("ngTemplateOutlet",c),i.R7$(),i.Y8G("id",a.model.dataListId),i.R7$(),i.Y8G("ngForOf",a.model.dataList)}}function Io(l,d){if(1&l&&(i.j41(0,"div",null,1),i.EFF(2),i.k0s()),2&l){const a=i.XpG();i.R7$(2),i.JRh(a.value)}}function Ro(l,d){if(1&l&&i.nrm(0,"sv-ng-character-counter",11),2&l){const a=i.XpG(2);i.Y8G("counter",a.model.characterCounter)("remainingCharacterCounter",a.model.cssClasses.remainingCharacterCounter)}}function An(l,d){if(1&l){const a=i.RV6();i.j41(0,"input",9,2),i.bIt("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onChange(f))})("keyup",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onKeyUp(f))})("keydown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onKeyDown(f))})("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.blur(f))})("focus",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onFocus(f))})("compositionupdate",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onCompositionUpdate(f))}),i.k0s(),i.DNE(3,Ro,1,2,"sv-ng-character-counter",10)}if(2&l){const a=i.XpG();i.Aen(a.model.inputStyle),i.HbH(a.model.getControlClass()),i.Y8G("value",a.value)("disabled",a.model.isDisabledAttr)("type",a.model.inputType)("id",a.model.inputId)("readonly",a.model.isReadOnlyAttr),i.BMQ("list",a.model.dataListId)("placeholder",a.model.renderedPlaceholder||"")("size",a.model.renderedInputSize)("maxlength",a.model.getMaxLength())("min",a.model.renderedMin)("max",a.model.renderedMax)("step",a.model.renderedStep)("max",a.model.renderedMax)("aria-required",a.model.a11y_input_ariaRequired)("aria-label",a.model.a11y_input_ariaLabel)("aria-labelledby",a.model.a11y_input_ariaLabelledBy)("aria-describedby",a.model.a11y_input_ariaDescribedBy)("aria-invalid",a.model.a11y_input_ariaInvalid)("aria-errormessage",a.model.a11y_input_ariaErrormessage)("autocomplete",a.model.autocomplete),i.R7$(3),i.Y8G("ngIf",a.model.getMaxLength())}}function So(l,d){if(1&l&&(i.j41(0,"legend",5),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.model.locTitle.renderedHtml)}}function Oo(l,d){}function Ut(l,d){if(1&l&&(i.qex(0),i.DNE(1,Oo,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function bc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ut,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.headItems)("ngForTrackBy",a.trackItemBy)}}function Wt(l,d){}function qs(l,d){if(1&l&&(i.qex(0),i.DNE(1,Wt,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Eo(l,d){if(1&l&&(i.qex(0),i.DNE(1,qs,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.bodyItems)("ngForTrackBy",a.trackItemBy)}}function Cc(l,d){}function Do(l,d){if(1&l&&(i.qex(0),i.DNE(1,Cc,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Hs(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Do,2,4,"ng-container",6),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.rootRow),i.R7$(),i.Y8G("ngForOf",a.model.dataChoices)("ngForTrackBy",a.trackItemBy)}}function Mo(l,d){}function _c(l,d){if(1&l&&(i.qex(0),i.DNE(1,Mo,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Ot(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,_c,2,4,"ng-container",6),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(2);i.HbH(c.model.getColumnClass()),i.R7$(),i.Y8G("ngForOf",a)("ngForTrackBy",c.trackItemBy)}}function mi(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.DNE(2,Ot,2,4,"div",8),i.k0s(),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.rootMultiColumn),i.R7$(),i.Y8G("ngForOf",a.model.columns)("ngForTrackBy",a.trackColumnBy)}}function xc(l,d){}function gt(l,d){if(1&l&&(i.qex(0),i.DNE(1,xc,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Ln(l,d){if(1&l&&(i.qex(0),i.DNE(1,gt,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.footItems)("ngForTrackBy",a.trackItemBy)}}function Qs(l,d){if(1&l&&i.nrm(0,"div",10),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.Y8G("question",a.model)}}function Gs(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"input",11),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.clearValue(!0))}),i.k0s()()}if(2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.clearButton),i.Y8G("value",a.model.clearButtonCaption)}}function $s(l,d){if(1&l&&(i.j41(0,"legend",5),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.model.locTitle.renderedHtml)}}function ko(l,d){}function zs(l,d){if(1&l&&(i.qex(0),i.DNE(1,ko,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Us(l,d){if(1&l&&(i.qex(0),i.DNE(1,zs,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.headItems)("ngForTrackBy",a.trackItemBy)}}function Ws(l,d){}function gi(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ws,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function wc(l,d){if(1&l&&(i.qex(0),i.DNE(1,gi,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.bodyItems)("ngForTrackBy",a.trackItemBy)}}function Ao(l,d){}function Ys(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ao,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Pc(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Ys,2,4,"ng-container",6),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.rootRow),i.R7$(),i.Y8G("ngForOf",a.model.dataChoices)("ngForTrackBy",a.trackItemBy)}}function Lo(l,d){}function yi(l,d){if(1&l&&(i.qex(0),i.DNE(1,Lo,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Vc(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,yi,2,4,"ng-container",6),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(2);i.HbH(c.model.getColumnClass()),i.R7$(),i.Y8G("ngForOf",a)("ngForTrackBy",c.trackItemBy)}}function pt(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.DNE(2,Vc,2,4,"div",8),i.k0s(),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.rootMultiColumn),i.R7$(),i.Y8G("ngForOf",a.model.columns)("ngForTrackBy",a.trackColumnBy)}}function Xs(l,d){}function Tc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Xs,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Js(l,d){if(1&l&&(i.qex(0),i.DNE(1,Tc,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.footItems)("ngForTrackBy",a.trackItemBy)}}function Ks(l,d){if(1&l&&i.nrm(0,"div",10),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.Y8G("question",a.model)}}function dn(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"input",11),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.clearValue(!0))}),i.k0s()()}if(2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.clearButton),i.Y8G("value",a.model.clearButtonCaption)}}function Fo(l,d){if(1&l&&(i.j41(0,"legend",5),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.JRh(a.model.locTitle.renderedHtml)}}function Zs(l,d){}function jo(l,d){if(1&l&&(i.qex(0),i.DNE(1,Zs,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function vi(l,d){if(1&l&&(i.qex(0),i.DNE(1,jo,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.headItems)("ngForTrackBy",a.trackItemBy)}}function Bo(l,d){}function ea(l,d){if(1&l&&(i.qex(0),i.DNE(1,Bo,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function No(l,d){if(1&l&&(i.qex(0),i.DNE(1,ea,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.bodyItems)("ngForTrackBy",a.trackItemBy)}}function ta(l,d){}function Ic(l,d){if(1&l&&(i.qex(0),i.DNE(1,ta,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function na(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Ic,2,4,"ng-container",6),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.rootRow),i.R7$(),i.Y8G("ngForOf",a.model.dataChoices)("ngForTrackBy",a.trackItemBy)}}function Rc(l,d){}function Sc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Rc,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function bi(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,Sc,2,4,"ng-container",6),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(2);i.HbH(c.model.getColumnClass()),i.R7$(),i.Y8G("ngForOf",a)("ngForTrackBy",c.trackItemBy)}}function Oc(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.DNE(2,bi,2,4,"div",8),i.k0s(),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.rootMultiColumn),i.R7$(),i.Y8G("ngForOf",a.model.columns)("ngForTrackBy",a.trackColumnBy)}}function ia(l,d){}function Ec(l,d){if(1&l&&(i.qex(0),i.DNE(1,ia,0,0,"ng-template",7),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Fn(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ec,2,4,"ng-container",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.footItems)("ngForTrackBy",a.trackItemBy)}}function Dc(l,d){if(1&l&&i.nrm(0,"div",10),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.Y8G("question",a.model)}}function Mc(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"input",11),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.clearValue(!0))}),i.k0s()()}if(2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.clearButton),i.Y8G("value",a.model.clearButtonCaption)}}function oa(l,d){if(1&l&&i.nrm(0,"div",3),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.Y8G("question",a.model)}}function kc(l,d){if(1&l&&i.nrm(0,"div",3),2&l){const a=i.XpG();i.HbH(a.model.getCommentAreaCss(!0)),i.Y8G("question",a.model)}}const Ci=(l,d,a)=>({model:l,item:d,index:a});function ra(l,d){if(1&l&&i.nrm(0,"span",5),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.minText),i.Y8G("model",a.model.locMinRateDescription)}}function Ac(l,d){}function Et(l,d){if(1&l&&i.DNE(0,Ac,0,0,"ng-template",6),2&l){const a=d.$implicit,c=d.index,f=i.XpG();i.Y8G("component",i.l_i(5,K,f.model.itemComponent,i.sMw(1,Ci,f.model,a,c)))}}function qo(l,d){if(1&l&&i.nrm(0,"span",5),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.maxText),i.Y8G("model",a.model.locMaxRateDescription)}}function Lc(l,d){if(1&l&&i.nrm(0,"span",4),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.sliderText),i.Y8G("model",a.model.getCheckedLabel())}}function sa(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",8)),2&l){const a=i.XpG(3);i.HbH(a.question.cssClasses.checkedItemSvgIcon),i.Y8G("iconName",a.question.cssClasses.checkedItemSvgIconId)("size","auto")}}function Fc(l,d){if(1&l&&(i.j41(0,"span"),i.DNE(1,sa,1,4,"svg",7),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.checkedItemDecorator),i.R7$(),i.Y8G("ngIf",a.question.cssClasses.checkedItemSvgIconId)}}function aa(l,d){if(1&l){const a=i.RV6();i.j41(0,"img",9),i.bIt("load",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.question.onContentLoaded(v.model,f))})("error",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.onErrorHandler())}),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.image),i.xc7("object-fit",a.question.imageFit),i.BMQ("src",a.model.locImageLink.renderedHtml,i.B4B)("width",a.question.renderedImageWidth)("height",a.question.renderedImageHeight)("alt",a.model.locText.renderedHtml)}}function jc(l,d){if(1&l){const a=i.RV6();i.j41(0,"video",10),i.bIt("loadedmetadata",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.question.onContentLoaded(v.model,f))})("error",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.onErrorHandler())}),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.image),i.xc7("object-fit",a.question.imageFit),i.BMQ("src",a.model.locImageLink.renderedHtml,i.B4B)("width",a.question.renderedImageWidth)("height",a.question.renderedImageHeight)}}function la(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",8)),2&l){const a=i.XpG(3);i.HbH(a.question.cssClasses.itemNoImageSvgIcon),i.Y8G("iconName",a.question.cssClasses.itemNoImageSvgIconId)("size",48)}}function Bc(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,la,1,4,"svg",7),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.itemNoImage),i.xc7("width",a.question.renderedImageWidth+"px")("height",a.question.renderedImageHeight+"px")("object-fit",a.question.imageFit),i.R7$(),i.Y8G("ngIf",a.question.cssClasses.itemNoImageSvgIconId)}}function Dt(l,d){if(1&l&&i.nrm(0,"span",11),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.itemText),i.Y8G("model",a.model.locText)}}function Ho(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"label")(2,"input",1),i.bIt("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onChange(f))}),i.k0s(),i.j41(3,"div")(4,"div"),i.DNE(5,Fc,2,3,"span",2)(6,aa,1,8,"img",3)(7,jc,1,7,"video",4)(8,Bc,2,9,"div",5),i.k0s(),i.DNE(9,Dt,1,3,"span",6),i.k0s()()()}if(2&l){const a=i.XpG();i.HbH(a.question.getItemClass(a.model)),i.R7$(),i.HbH(a.question.cssClasses.label),i.R7$(),i.HbH(a.question.cssClasses.itemControl),i.Y8G("type",a.question.inputType)("id",a.question.getItemId(a.model))("checked",a.question.isItemSelected(a.model))("disabled",!a.question.getItemEnabled(a.model))("readonly",a.question.isReadOnlyAttr),i.BMQ("name",a.question.questionName)("value",a.model.value)("aria-required",a.question.ariaRequired)("aria-label",a.question.ariaLabel)("aria-invalid",a.question.ariaInvalid)("aria-errormessage",a.question.ariaErrormessage),i.R7$(),i.HbH(a.question.cssClasses.itemDecorator),i.R7$(),i.HbH(a.question.cssClasses.imageContainer),i.R7$(),i.Y8G("ngIf",a.question.cssClasses.checkedItemDecorator),i.R7$(),i.Y8G("ngIf",a.model.locImageLink.renderedHtml&&!a.model.contentNotLoaded&&"image"===a.question.contentMode),i.R7$(),i.Y8G("ngIf",a.model.locImageLink.renderedHtml&&!a.model.contentNotLoaded&&"video"===a.question.contentMode),i.R7$(),i.Y8G("ngIf",!a.model.locImageLink.renderedHtml||a.model.contentNotLoaded),i.R7$(),i.Y8G("ngIf",a.question.showLabel)}}function Nc(l,d){}function Qo(l,d){if(1&l&&(i.qex(0),i.DNE(1,Nc,0,0,"ng-template",4),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function qc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Qo,2,4,"ng-container",3),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.visibleChoices)}}function ua(l,d){}function Ve(l,d){if(1&l&&(i.qex(0),i.DNE(1,ua,0,0,"ng-template",4),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(1,K,c.getItemValueComponentName(a),c.getItemValueComponentData(a)))}}function Hc(l,d){if(1&l&&(i.j41(0,"div",6),i.DNE(1,Ve,2,4,"ng-container",3),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(2);i.HbH(c.model.getColumnClass()),i.R7$(),i.Y8G("ngForOf",a)}}function ca(l,d){if(1&l&&(i.qex(0),i.DNE(1,Hc,2,3,"div",5),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngForOf",a.model.columns)}}const fa=(l,d,a)=>({survey:l,container:d,model:a});function $o(l,d){}function zo(l,d){if(1&l&&(i.qex(0),i.DNE(1,$o,0,0,"ng-template",4),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(4);i.R7$(),i.Y8G("component",i.l_i(5,K,a.component,i.sMw(1,fa,c.survey,c.container,a.data)))}}function Qe(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,zo,2,8,"ng-container",3),i.k0s()),2&l){const a=i.XpG(3);i.HbH("sv-components-column sv-components-container-"+a.container),i.R7$(),i.Y8G("ngForOf",a.components)}}function _i(l,d){if(1&l&&(i.qex(0),i.DNE(1,Qe,2,3,"div",2),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngIf",a.components.length>0)}}function Qc(l,d){}function Uo(l,d){if(1&l&&(i.qex(0),i.DNE(1,Qc,0,0,"ng-template",4),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(5,K,a.component,i.sMw(1,fa,c.survey,c.container,a.data)))}}function Gc(l,d){if(1&l&&(i.qex(0),i.DNE(1,Uo,2,8,"ng-container",3),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngForOf",a.components)}}function fn(l,d){if(1&l&&i.DNE(0,_i,2,1,"ng-container",1)(1,Gc,2,1,"ng-container",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.isNeedRenderWrapper),i.R7$(),i.Y8G("ngIf",!a.isNeedRenderWrapper&&a.components.length>0)}}const jn=l=>({processEsc:!1,disableTabStop:l});function ha(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",4)),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.itemIcon),i.Y8G("iconName",a.model.iconName)("size",a.model.iconSize)("title",a.model.tooltip||a.model.title)}}function dt(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.getActionBarItemTitleCss()),i.R7$(),i.JRh(a.model.title)}}function ma(l,d){}function Bn(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",1),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.doAction(f))})("mousedown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.doMouseDown(f))})("focus",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.doFocus(f))}),i.DNE(1,ha,1,5,"svg",2)(2,dt,2,3,"span",3),i.k0s(),i.DNE(3,ma,0,0,"ng-template")}if(2&l){const a=i.XpG();i.HbH(a.model.getActionBarItemCss()),i.Y8G("key2click",i.eq3(10,jn,a.model.disableTabStop))("disabled",a.model.disabled),i.BMQ("title",a.model.tooltip||a.model.title)("aria-checked",a.model.ariaChecked)("aria-expanded",a.model.ariaExpanded)("role",a.model.ariaRole),i.R7$(),i.Y8G("ngIf",a.model.iconName),i.R7$(),i.Y8G("ngIf",a.model.hasTitle)}}function $c(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",5)),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.itemIcon),i.Y8G("iconName",a.model.iconName)("size",a.model.iconSize)("title",a.model.tooltip||a.model.title)}}function zc(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.getActionBarItemTitleCss()),i.R7$(),i.JRh(a.model.title)}}function ga(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",1),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.action(v.model,v.model.getIsTrusted(f)))}),i.DNE(1,$c,1,5,"svg",2)(2,zc,2,3,"span",3),i.k0s(),i.nrm(3,"sv-ng-popup",4)}if(2&l){const a=i.XpG();i.HbH(a.model.getActionBarItemCss()),i.Y8G("key2click",i.eq3(10,jn,a.model.disableTabStop))("title",a.model.tooltip||a.model.title)("disabled",a.model.disabled),i.BMQ("role",a.model.ariaRole),i.R7$(),i.Y8G("ngIf",a.model.iconName),i.R7$(),i.Y8G("ngIf",a.model.hasTitle),i.R7$(),i.Y8G("popupModel",a.model.popupModel)("getTarget",a.getTarget)}}function ya(l,d){1&l&&i.eu8(0)}function Uc(l,d){if(1&l&&(i.j41(0,"label",6),i.DNE(1,ya,1,0,"ng-container",7),i.k0s()),2&l){i.XpG();const a=i.sdS(5),c=i.XpG();i.HbH(c.question.getLabelClass(c.model)),i.Y8G("model",c.model)("question",c.question),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function va(l,d){1&l&&i.eu8(0)}function ba(l,d){if(1&l){const a=i.RV6();i.j41(0,"label",8),i.bIt("mousedown",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.question.onMouseDown())}),i.DNE(1,va,1,0,"ng-container",7),i.k0s()}if(2&l){i.XpG();const a=i.sdS(5),c=i.XpG();i.HbH(c.question.getLabelClass(c.model)),i.Y8G("model",c.model)("question",c.question),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function Wo(l,d){if(1&l&&(i.qSk(),i.j41(0,"svg"),i.nrm(1,"use"),i.k0s()),2&l){const a=i.XpG(4);i.HbH(a.question.cssClasses.itemDecorator),i.R7$(),i.BMQ("href",a.question.itemSvgIcon,null,"xlink")}}function Wc(l,d){if(1&l&&(i.j41(0,"span"),i.DNE(1,Wo,2,3,"svg",9),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.question.cssClasses.materialDecorator),i.R7$(),i.Y8G("ngIf",a.question.itemSvgIcon)}}function xi(l,d){if(1&l&&(i.j41(0,"span"),i.nrm(1,"sv-ng-string",10),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.question.getControlLabelClass(a.model)),i.R7$(),i.Y8G("model",a.model.locText)}}function Yo(l,d){if(1&l&&i.DNE(0,Wc,2,3,"span",9)(1,xi,2,3,"span",9),2&l){const a=i.XpG(2);i.Y8G("ngIf",a.question.cssClasses.materialDecorator),i.R7$(),i.Y8G("ngIf",!a.model.hideCaption)}}function Yc(l,d){if(1&l&&(i.j41(0,"div",2),i.qex(1,3),i.DNE(2,Uc,2,5,"label",4)(3,ba,2,5,"label",5),i.bVm(),i.DNE(4,Yo,2,2,"ng-template",null,1,i.C5r),i.k0s()),2&l){const a=i.XpG();i.HbH(a.question.getItemClass(a.model)),i.R7$(),i.Y8G("ngSwitch",a.inputType),i.R7$(),i.Y8G("ngSwitchCase","checkbox"),i.R7$(),i.Y8G("ngSwitchCase","radio")}}function Xc(l,d){if(1&l&&i.nrm(0,"div",1),2&l){const a=i.XpG();i.Y8G("id",a.element.id)}}function wi(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",2)),2&l){const a=i.XpG(2);i.HbH(a.model.getProgressCss()),i.xc7("stroke-dasharray",a.circleLength)("stroke-dashoffset",a.progress),i.Y8G("size","auto")("iconName","icon-timercircle")}}function Jc(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.minorTextCss),i.R7$(),i.JRh(a.model.clockMinorText)}}function yt(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,wi,1,8,"svg",1),i.j41(2,"div")(3,"span"),i.EFF(4),i.k0s(),i.DNE(5,Jc,2,3,"span",0),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.rootCss),i.R7$(),i.Y8G("ngIf",a.model.showProgress),i.R7$(),i.HbH(a.model.textContainerCss),i.R7$(),i.HbH(a.model.majorTextCss),i.R7$(),i.JRh(a.model.clockMajorText),i.R7$(),i.Y8G("ngIf",a.model.clockMinorText)}}function Kc(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.survey.getCss().timerRoot),i.R7$(),i.JRh(a.model.text)}}const Zc=(l,d)=>({model:l,listModel:d});function Xo(l,d){if(1&l&&(i.qex(0),i.nrm(1,"div"),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.HbH(a.listModel.cssClasses.itemSeparator)}}function Jo(l,d){}function Ca(l,d){if(1&l){const a=i.RV6();i.j41(0,"li",1),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.click(f))})("pointerdown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.pointerdown(f))}),i.DNE(1,Xo,2,2,"ng-container",2),i.j41(2,"div",3),i.bIt("mouseover",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.listModel.onItemHover(f.model))})("mouseleave",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.listModel.onItemLeave(f.model))}),i.DNE(3,Jo,0,0,"ng-template",4),i.k0s()()}if(2&l){const a=i.XpG();i.HbH(a.class),i.Y8G("key2click",i.eq3(13,jn,a.model.disableTabStop))("visible",a.listModel.isItemVisible(a.model)),i.BMQ("id",a.elementId)("aria-selected",a.ariaSelected?"true":"false"),i.R7$(),i.Y8G("ngIf",a.model.needSeparator),i.R7$(),i.HbH(a.listModel.cssClasses.itemBody),i.xc7("padding-inline-start",a.paddingLeft),i.BMQ("title",a.model.locTitle.calculatedText),i.R7$(),i.Y8G("component",i.l_i(18,K,a.itemComponent,i.l_i(15,Zc,a.model,a.listModel)))}}const Nn=["listContainerElement"];function ep(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",8),i.bIt("click",function(f){i.eBV(a);const v=i.XpG(3);return i.Njj(v.model.onClickSearchClearButton(f))}),i.qSk(),i.nrm(1,"svg",5),i.k0s()}if(2&l){const a=i.XpG(3);i.HbH(a.model.cssClasses.searchClearButtonIcon),i.R7$(),i.Y8G("iconName","icon-searchclear")("size","auto")}}function tp(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"div"),i.qSk(),i.nrm(2,"svg",5),i.k0s(),i.joV(),i.j41(3,"input",6),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG(2);return i.DH7(v.model.filterString,f)||(v.model.filterString=f),i.Njj(f)}),i.bIt("keyup",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.onGoToItems(f))}),i.k0s(),i.DNE(4,ep,2,4,"button",7),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.filter),i.R7$(),i.HbH(a.model.cssClasses.filterIcon),i.R7$(),i.Y8G("iconName","icon-search")("size","auto"),i.R7$(),i.HbH(a.model.cssClasses.filterInput),i.R50("ngModel",a.model.filterString),i.BMQ("aria-label",a.model.filterStringPlaceholder||"")("placeholder",a.model.filterStringPlaceholder||""),i.R7$(),i.Y8G("ngIf",a.model.showSearchClearButton&&!!a.model.filterString)}}function Ge(l,d){if(1&l&&i.nrm(0,"sv-ng-list-item",11),2&l){const a=d.$implicit,c=i.XpG(3);i.Y8G("listModel",c.model)("model",a)}}function np(l,d){if(1&l){const a=i.RV6();i.j41(0,"ul",9),i.bIt("mousedown",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.onMouseDown(f))})("keydown",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.onKeyDown(f))})("mousemove",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.onMouseMove(f))}),i.DNE(1,Ge,1,2,"sv-ng-list-item",10),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.getListClass()),i.Y8G("visible",!a.model.isEmpty),i.BMQ("id",a.model.elementId),i.R7$(),i.Y8G("ngForOf",a.model.renderedActions)("ngForTrackBy",a.trackItemBy)}}function Ko(l,d){if(1&l&&(i.j41(0,"div",null,1),i.DNE(2,tp,5,12,"div",2),i.j41(3,"div",3)(4,"div"),i.EFF(5),i.k0s()(),i.DNE(6,np,2,6,"ul",4),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.root),i.R7$(2),i.Y8G("ngIf",a.model.showFilter),i.R7$(),i.HbH(a.model.cssClasses.emptyContainer),i.Y8G("visible",a.model.isEmpty),i.R7$(),i.HbH(a.model.cssClasses.emptyText),i.BMQ("aria-label",a.model.emptyMessage||""),i.R7$(),i.JRh(a.model.emptyMessage),i.R7$(),i.Y8G("ngIf",a.model.renderElements)}}function ip(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",3)),2&l){const a=i.XpG(2);i.HbH(a.listModel.cssClasses.itemIcon),i.Y8G("iconName",a.model.iconName)("size",a.model.iconSize)}}function Mt(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",3)),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.itemMarkerIcon),i.Y8G("iconName",a.model.markerIconName)("size",a.model.markerIconSize)}}function _a(l,d){if(1&l&&(i.DNE(0,ip,1,4,"svg",1),i.nrm(1,"sv-ng-string",2),i.DNE(2,Mt,1,4,"svg",1)),2&l){const a=i.XpG();i.Y8G("ngIf",a.model.iconName),i.R7$(),i.Y8G("model",a.model.locTitle),i.R7$(),i.Y8G("ngIf",a.model.markerIconName)}}function Yt(l,d){if(1&l&&i.nrm(0,"sv-ng-list-item-content",1)(1,"sv-ng-popup",2),2&l){const a=i.XpG();i.Y8G("model",a.model)("listModel",a.listModel),i.R7$(),i.Y8G("popupModel",a.model.popupModel)}}function xa(l,d){if(1&l){const a=i.RV6();i.j41(0,"label",1),i.bIt("mousedown",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onMouseDown())}),i.j41(1,"input",2),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onClick(f))}),i.k0s(),i.nrm(2,"span",3),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.getItemClassByText(a.item.itemValue,a.item.text)),i.R7$(),i.Y8G("value",a.item.value)("disabled",a.model.isDisabledAttr)("readonly",a.model.isReadOnlyAttr)("checked",a.model.value===a.item.value),i.BMQ("name",a.model.questionName)("id",a.model.getInputId(a.index))("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage),i.R7$(),i.HbH(a.model.cssClasses.itemText),i.Y8G("model",a.item.locText),i.BMQ("data-text",a.item.text)}}function wa(l,d){if(1&l){const a=i.RV6();i.j41(0,"label",1),i.bIt("mouseover",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onItemMouseIn(f.item))})("mouseout",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onItemMouseOut(f.item))})("mousedown",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onMouseDown())}),i.j41(1,"input",2),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onClick(f))}),i.k0s(),i.qSk(),i.nrm(2,"svg",3)(3,"svg",3),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.getItemClass(a.item.itemValue,a.item.highlight)),i.R7$(),i.Y8G("value",a.item.value)("disabled",a.model.isDisabledAttr)("readonly",a.model.isReadOnlyAttr)("checked",a.model.value===a.item.value),i.BMQ("name",a.model.questionName)("id",a.model.getInputId(a.index))("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage),i.R7$(),i.HbH("sv-star"),i.Y8G("iconName",a.model.itemStarIcon)("size","auto")("title",a.item.text),i.R7$(),i.HbH("sv-star-2"),i.Y8G("iconName",a.model.itemStarIconAlt)("size","auto")("title",a.item.text)}}function Pa(l,d){if(1&l){const a=i.RV6();i.j41(0,"label",1),i.bIt("mouseover",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onItemMouseIn(f.item))})("mouseout",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onItemMouseOut(f.item))})("mousedown",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onMouseDown())}),i.j41(1,"input",2),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onClick(f))}),i.k0s(),i.qSk(),i.nrm(2,"svg",3),i.k0s()}if(2&l){const a=i.XpG();i.Aen(a.model.getItemStyle(a.item.itemValue,a.item.highlight)),i.HbH(a.model.getItemClass(a.item.itemValue,a.item.highlight)),i.R7$(),i.Y8G("value",a.item.value)("disabled",a.model.isDisabledAttr)("readonly",a.model.isReadOnlyAttr)("checked",a.model.value===a.item.value),i.BMQ("name",a.model.questionName)("id",a.model.getInputId(a.index))("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage),i.R7$(),i.Y8G("iconName",a.model.getItemSmileyIconName(a.item.itemValue))("size","auto")("title",a.item.text)}}function Va(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",4),i.nrm(2,"sv-ng-string",5),i.k0s(),i.bVm()),2&l){const a=i.XpG(2);i.R7$(2),i.Y8G("model",a.model.description)}}function Ta(l,d){if(1&l&&(i.j41(0,"div",1)(1,"span",2),i.EFF(2),i.k0s(),i.DNE(3,Va,3,1,"ng-container",3),i.k0s()),2&l){const a=i.XpG();i.R7$(2),i.JRh(a.model.title),i.R7$(),i.Y8G("ngIf",!!a.model.description)}}function Ia(l,d){if(1&l&&(i.qSk(),i.j41(0,"svg"),i.nrm(1,"use"),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.checkboxItemDecorator),i.R7$(),i.BMQ("href",a.model.svgIcon,null,"xlink")}}function Ra(l,d){if(1&l&&(i.j41(0,"span",5),i.nrm(1,"sv-ng-element-title-actions",6),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.checkboxControlLabel),i.Y8G("id",a.model.labelRenderedAriaID),i.R7$(),i.Y8G("element",a.model)}}function op(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG();i.HbH(a.model.cssDescription),i.Y8G("model",a.model.locDescription),i.BMQ("id",a.model.ariaDescriptionId)}}function Sa(l,d){if(1&l&&(i.qSk(),i.j41(0,"svg"),i.nrm(1,"use"),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.itemRadioDecorator),i.R7$(),i.BMQ("href",a.question.itemSvgIcon,null,"xlink")}}function rp(l,d){if(1&l&&(i.j41(0,"span"),i.DNE(1,Sa,2,3,"svg",2),i.k0s()),2&l){const a=i.XpG();i.HbH(a.question.cssClasses.materialRadioDecorator),i.R7$(),i.Y8G("ngIf",a.question.itemSvgIcon)}}function sp(l,d){if(1&l&&i.nrm(0,"sv-ng-boolean-radio-item",2),2&l){const a=i.XpG();i.Y8G("value",!0)("locText",a.model.locLabelTrue)("question",a.model)}}function Zo(l,d){if(1&l&&i.nrm(0,"sv-ng-boolean-radio-item",2),2&l){const a=i.XpG();i.Y8G("value",!0)("locText",a.model.locLabelTrue)("question",a.model)}}function er(l,d){if(1&l&&(i.j41(0,"div")(1,"div",1)(2,"span"),i.EFF(3),i.k0s()(),i.j41(4,"span"),i.EFF(5),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.getProgressCssClasses(a.container)),i.R7$(),i.HbH(a.model.css.progressBar),i.xc7("width",a.model.progressValue+"%"),i.R7$(),i.HbH(a.getProgressTextInBarCss(a.model.css)),i.R7$(),i.SpI(" ",a.model.progressText," "),i.R7$(),i.HbH(a.getProgressTextUnderBarCss(a.model.css)),i.R7$(),i.SpI(" ",a.model.progressText," ")}}const ap=["progressButtonsListContainer"];function lp(l,d){if(1&l&&(i.j41(0,"div")(1,"div",5),i.EFF(2),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.survey.css.progressButtonsHeader),i.R7$(),i.HbH(a.survey.css.progressButtonsPageTitle),i.Y8G("title",a.model.headerText),i.R7$(),i.JRh(a.model.headerText)}}function Oa(l,d){if(1&l&&(i.j41(0,"div",5),i.nrm(1,"sv-ng-string",8),i.k0s()),2&l){const a=i.XpG().$implicit,c=i.XpG();i.HbH(c.survey.css.progressButtonsPageTitle),i.Y8G("title",a.renderedNavigationTitle),i.R7$(),i.Y8G("model",a.locNavigationTitle)}}function tr(l,d){if(1&l&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&l){const a=i.XpG().$implicit,c=i.XpG();i.HbH(c.survey.css.progressButtonsPageDescription),i.Y8G("title",a.locNavigationDescription.renderedHtml),i.R7$(),i.SpI(" ",a.locNavigationDescription.renderedHtml," ")}}function Ea(l,d){if(1&l){const a=i.RV6();i.j41(0,"li",6),i.bIt("click",function(){const f=i.eBV(a),v=f.$implicit,O=f.index,q=i.XpG();return i.Njj(q.model.isListElementClickable(O)?q.model.clickListElement(v):null)}),i.nrm(1,"div"),i.DNE(2,Oa,2,4,"div",7)(3,tr,2,4,"div",7),i.j41(4,"div"),i.nrm(5,"div")(6,"div"),i.j41(7,"span"),i.EFF(8),i.k0s()()()}if(2&l){const a=d.$implicit,c=d.index,f=i.XpG();i.HbH(f.model.getListElementCss(c)),i.BMQ("data-page-number",f.model.getItemNumber(a)),i.R7$(),i.HbH(f.survey.css.progressButtonsConnector),i.R7$(),i.Y8G("ngIf",f.canShowItemTitles),i.R7$(),i.Y8G("ngIf",f.canShowItemTitles),i.R7$(),i.HbH(f.survey.css.progressButtonsButton),i.R7$(),i.HbH(f.survey.css.progressButtonsButtonBackground),i.R7$(),i.HbH(f.survey.css.progressButtonsButtonContent),i.R7$(2),i.JRh(f.model.getItemNumber(a))}}function Da(l,d){if(1&l&&(i.j41(0,"div")(1,"div",5),i.EFF(2),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.survey.css.progressButtonsFooter),i.R7$(),i.HbH(a.survey.css.progressButtonsPageTitle),i.Y8G("title",a.model.footerText),i.R7$(),i.JRh(a.model.footerText)}}function up(l,d){if(1&l&&i.nrm(0,"sv-ng-list",3),2&l){const a=i.XpG(2);i.Y8G("model",a.model.listModel)}}function cp(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",4),i.bIt("click",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.togglePopup())}),i.qSk(),i.nrm(1,"svg",5),i.joV(),i.nrm(2,"sv-ng-popup",6),i.k0s()}if(2&l){const a=i.XpG(2);i.R7$(),i.Y8G("iconName",a.model.icon)("size",24),i.R7$(),i.Y8G("popupModel",a.model.popupModel)}}function pp(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,up,1,1,"sv-ng-list",1)(2,cp,3,3,"div",2),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.containerCss),i.R7$(),i.Y8G("ngIf",!a.model.isMobile),i.R7$(),i.Y8G("ngIf",a.model.isMobile)}}const Pi=["panelContainer"];function dp(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function fp(l,d){if(1&l&&i.nrm(0,"div",8),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function nr(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(3);i.Y8G("element",a.model)}}function hp(l,d){if(1&l&&i.nrm(0,"sv-ng-row",12),2&l){const a=i.XpG().$implicit;i.Y8G("row",a)}}function mp(l,d){if(1&l&&(i.qex(0),i.DNE(1,hp,1,1,"ng-template",11),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(4);i.R7$(),i.Y8G("component",i.l_i(3,K,c.model.survey.getRowWrapperComponentName(a),i.eq3(1,mt,c.model.survey.getRowWrapperComponentData(a))))}}function ir(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,mp,2,6,"ng-container",9),i.nrm(2,"sv-ng-action-bar",10),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.cssClasses.panel.content),i.xc7("padding-left",a.model.innerPaddingLeft),i.BMQ("id",a.model.contentId),i.R7$(),i.Y8G("ngForOf",a.model.visibleRows)("ngForTrackBy",a.trackRowBy),i.R7$(),i.Y8G("model",a.model.getFooterToolbar())}}function or(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",3,1),i.bIt("focusin",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.focusIn())}),i.DNE(2,dp,1,1,"div",4)(3,fp,1,1,"div",5)(4,nr,1,1,"div",4)(5,ir,3,8,"div",6),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.getContainerCss()),i.BMQ("id",a.model.id),i.R7$(2),i.Y8G("ngIf",a.model.showErrorsAbovePanel&&a.model.hasVisibleErrors),i.R7$(),i.Y8G("ngIf",a.model.hasDescription||a.model.hasTitle),i.R7$(),i.Y8G("ngIf",!a.model.showErrorsAbovePanel&&a.model.hasVisibleErrors),i.R7$(),i.Y8G("ngIf",a.model.renderedIsExpanded)}}function gp(l,d){if(1&l&&i.DNE(0,or,6,7,"div",2),2&l){const a=i.XpG();i.Y8G("ngIf",a.canRender)}}function hn(l,d){if(1&l){const a=i.RV6();i.j41(0,"input",1),i.bIt("mousedown",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.buttonMouseDown())})("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.action())}),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.innerCss),i.Y8G("value",a.model.title)("disabled",a.model.disabled),i.BMQ("title",a.model.getTooltip())}}function yp(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"a",8),i.nI1(2,"safeUrl"),i.bIt("click",function(f){i.eBV(a);const v=i.XpG().$implicit,O=i.XpG(3);return i.Njj(O.question.doDownloadFile(f,v))}),i.EFF(3),i.k0s()()}if(2&l){const a=i.XpG().$implicit,c=i.XpG(3);i.HbH(c.question.cssClasses.fileSign),i.R7$(),i.xc7("width",c.question.imageWidth),i.BMQ("href",i.bMT(2,8,a.content),i.B4B)("title",a.name)("download",a.name),i.R7$(2),i.JRh(a.name)}}function rr(l,d){if(1&l&&(i.nrm(0,"img",9),i.nI1(1,"safeUrl")),2&l){const a=i.XpG().$implicit,c=i.XpG(3);i.xc7("height",c.question.imageHeight)("width",c.question.imageWidth),i.BMQ("src",i.bMT(1,5,a.content),i.B4B)}}function vp(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",10)),2&l){const a=i.XpG(4);i.Y8G("iconName",a.question.cssClasses.defaultImageIconId)("partCss",a.question.cssClasses.defaultImage)("size","auto")}}function Vi(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",12)),2&l){const a=i.XpG(5);i.Y8G("title",a.question.removeFileCaption)("partCss",a.question.cssClasses.removeFileSvg)("iconName",a.question.cssClasses.removeFileSvgIconId)("size","auto")}}function Ma(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",8),i.bIt("click",function(f){i.eBV(a);const v=i.XpG().$implicit,O=i.XpG(3);return i.Njj(O.question.doRemoveFile(v,f))}),i.j41(1,"span"),i.EFF(2),i.k0s(),i.DNE(3,Vi,1,4,"svg",11),i.k0s()}if(2&l){const a=i.XpG(4);i.HbH(a.question.getRemoveButtonCss()),i.R7$(),i.HbH(a.question.cssClasses.removeFile),i.R7$(),i.JRh(a.question.removeFileCaption),i.R7$(),i.Y8G("ngIf",a.question.cssClasses.removeFileSvgIconId)}}function ka(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"a",8),i.nI1(2,"safeUrl"),i.bIt("click",function(f){i.eBV(a);const v=i.XpG().$implicit,O=i.XpG(3);return i.Njj(O.question.doDownloadFile(f,v))}),i.EFF(3),i.k0s()()}if(2&l){const a=i.XpG().$implicit,c=i.XpG(3);i.HbH(c.question.cssClasses.fileSignBottom),i.R7$(),i.xc7("width",c.question.imageWidth),i.BMQ("href",i.bMT(2,8,a.content),i.B4B)("title",a.name)("download",a.name),i.R7$(2),i.JRh(a.name)}}function bp(l,d){if(1&l){const a=i.RV6();i.j41(0,"span",3),i.bIt("click",function(f){i.eBV(a);const v=i.XpG(3);return i.Njj(v.question.doDownloadFileFromContainer(f))}),i.DNE(1,yp,4,10,"div",4),i.j41(2,"div"),i.DNE(3,rr,2,7,"img",5)(4,vp,1,3,"svg",6)(5,Ma,4,6,"div",7),i.k0s(),i.DNE(6,ka,4,10,"div",4),i.k0s()}if(2&l){const a=d.$implicit,c=d.index,f=i.XpG(3);i.HbH(f.question.cssClasses.previewItem),i.Y8G("visible",a&&f.question.isPreviewVisible(c)),i.R7$(),i.Y8G("ngIf",a.name&&f.question.cssClasses.fileSign),i.R7$(),i.HbH(f.question.getImageWrapperCss(a)),i.R7$(),i.Y8G("ngIf",f.question.canPreviewImage(a)),i.R7$(),i.Y8G("ngIf",f.question.defaultImage(a)),i.R7$(),i.Y8G("ngIf",a.name&&!f.question.isReadOnly),i.R7$(),i.Y8G("ngIf",a.name&&f.question.cssClasses.fileSignBottom)}}function Aa(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.DNE(2,bp,7,10,"span",2),i.k0s(),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.HbH(a.question.cssClasses.fileList||void 0),i.R7$(),i.Y8G("ngForOf",a.question.previewValue)("ngForTrackBy",a.trackFilesFn)}}function Cp(l,d){if(1&l&&i.DNE(0,Aa,3,4,"ng-container",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.question.showPreviewContainer)}}const mn=(l,d)=>({minWidth:l,width:d}),_p=(l,d,a,c,f)=>({cellChangedOwner:l,question:d,row:a,column:c,columnIndex:f});function La(l,d){1&l&&i.nrm(0,"td")}function Fa(l,d){if(1&l&&i.nrm(0,"sv-ng-string",7),2&l){const a=i.XpG().$implicit;i.Y8G("model",a.locText)}}function Ti(l,d){if(1&l&&(i.j41(0,"th"),i.DNE(1,Fa,1,1,"ng-template",6),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(3);i.Aen(i.l_i(5,mn,c.model.columnMinWidth,c.model.columnMinWidth)),i.HbH(c.model.cssClasses.headerCell),i.R7$(),i.Y8G("component",i.l_i(10,K,c.model.getColumnHeaderWrapperComponentName(a),i.eq3(8,mt,c.model.getColumnHeaderWrapperComponentData(a))))}}function sr(l,d){if(1&l&&(i.j41(0,"thead")(1,"tr"),i.DNE(2,La,1,0,"td",3)(3,Ti,2,13,"th",5),i.k0s()()),2&l){const a=i.XpG(2);i.R7$(2),i.Y8G("ngIf",a.model.hasRows),i.R7$(),i.Y8G("ngForOf",a.model.visibleColumns)}}function xp(l,d){if(1&l&&i.nrm(0,"sv-ng-string",7),2&l){const a=i.XpG(2).$implicit;i.Y8G("model",a.locText)}}function wp(l,d){if(1&l&&(i.j41(0,"td"),i.DNE(1,xp,1,1,"ng-template",6),i.k0s()),2&l){const a=i.XpG().$implicit,c=i.XpG(2);i.Aen(i.l_i(5,mn,c.model.rowTitleWidth,c.model.rowTitleWidth)),i.HbH(a.rowTextClasses),i.R7$(),i.Y8G("component",i.l_i(10,K,c.model.getRowHeaderWrapperComponentName(a),i.eq3(8,mt,c.model.getRowHeaderWrapperComponentData(a))))}}function ja(l,d){if(1&l){const a=i.RV6();i.j41(0,"td",10),i.bIt("click",function(){const f=i.eBV(a).$implicit,v=i.XpG(2).$implicit,O=i.XpG(2);return i.Njj(O.onCellChanged(v,f))}),i.k0s()}if(2&l){const a=d.$implicit,c=i.XpG(2).$implicit,f=i.XpG(2);i.HbH(f.model.getItemClass(c,a)),i.Y8G("model",f.model.getCellDisplayLocText(c.name,a))}}function Pp(l,d){if(1&l&&(i.qex(0),i.DNE(1,ja,1,3,"td",9),i.bVm()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("ngForOf",a.model.visibleColumns)}}function Ba(l,d){}function Vp(l,d){if(1&l&&(i.j41(0,"td"),i.DNE(1,Ba,0,0,"ng-template",6),i.k0s()),2&l){const a=d.$implicit,c=d.index,f=i.XpG(2).$implicit,v=i.XpG(2);i.HbH(v.model.cssClasses.cell),i.BMQ("data-responsive-title",a.locText.renderedHtml),i.R7$(),i.Y8G("component",i.l_i(10,K,v.model.cellComponent,i.s1E(4,_p,v,v.model,f,a,c)))}}function Tp(l,d){if(1&l&&(i.qex(0),i.DNE(1,Vp,2,13,"td",4),i.bVm()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("ngForOf",a.model.visibleColumns)("ngForTrackBy",a.trackColumnByFn)}}function Ip(l,d){if(1&l&&(i.j41(0,"tr"),i.DNE(1,wp,2,13,"td",8)(2,Pp,2,1,"ng-container",3)(3,Tp,2,2,"ng-container",3),i.k0s()),2&l){const a=d.$implicit,c=i.XpG(2);i.HbH(a.rowClasses||void 0),i.R7$(),i.Y8G("ngIf",c.model.hasRows),i.R7$(),i.Y8G("ngIf",c.model.hasCellText),i.R7$(),i.Y8G("ngIf",!c.model.hasCellText)}}function Rp(l,d){if(1&l&&(i.j41(0,"div",null,1)(2,"fieldset")(3,"legend",2),i.EFF(4),i.k0s(),i.j41(5,"table"),i.DNE(6,sr,4,2,"thead",3),i.j41(7,"tbody"),i.DNE(8,Ip,4,5,"tr",4),i.k0s()()()()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.tableWrapper),i.R7$(4),i.JRh(a.model.locTitle.renderedHtml),i.R7$(),i.HbH(a.model.getTableCss()),i.R7$(),i.Y8G("ngIf",a.model.showHeader),i.R7$(2),i.Y8G("ngForOf",a.model.visibleRows)("ngForTrackBy",a.trackRowByFn)}}function Sp(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",3)),2&l){const a=i.XpG(2);i.Y8G("title",a.question.chooseButtonText)("iconName",a.question.cssClasses.chooseFileIconId)("size","auto")}}function Op(l,d){if(1&l){const a=i.RV6();i.j41(0,"label",1),i.bIt("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.question.chooseFile(f))}),i.DNE(1,Sp,1,3,"svg",2),i.j41(2,"span"),i.EFF(3),i.k0s()()}if(2&l){const a=i.XpG();i.HbH(a.question.getChooseFileCss()),i.BMQ("for",a.question.inputId)("aria-label",a.question.chooseButtonText),i.R7$(),i.Y8G("ngIf",a.question.cssClasses.chooseFileIconId),i.R7$(2),i.JRh(a.question.chooseButtonText)}}function Ep(l,d){1&l&&(i.j41(0,"div",1),i.qSk(),i.nrm(1,"svg",2),i.k0s()),2&l&&(i.R7$(),i.Y8G("iconName","icon-loading")("size","auto"))}const kt=l=>({question:l}),Na=l=>({css:l}),Dp=l=>({name:"sv-file-preview",data:l});function Mp(l,d){if(1&l&&i.nrm(0,"input",10),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.fileInput),i.BMQ("id",a.model.inputId)("aria-required",a.model.ariaRequired)("aria-label",a.model.ariaLabel)("aria-invalid",a.model.ariaInvalid)("aria-errormessage",a.model.ariaErrormessage)("multiple",a.model.multipleRendered)("title",a.model.inputTitle)("accept",a.model.acceptedTypes)("capture",a.model.renderCapture)}}function qa(l,d){if(1&l&&i.nrm(0,"input",11),2&l){const a=i.XpG();i.HbH(a.model.getReadOnlyFileCss()),i.BMQ("id",a.model.inputId)("multiple",a.model.multipleRendered)("placeholder",a.model.title)}}function At(l,d){if(1&l&&i.nrm(0,"input",12),2&l){const a=i.XpG();i.HbH(a.model.getReadOnlyFileCss()),i.BMQ("id",a.model.inputId)("multiple",a.model.multipleRendered)("placeholder",a.model.title)}}function Ha(l,d){if(1&l&&i.nrm(0,"sv-ng-choose-file-btn",15),2&l){const a=i.XpG(2);i.Y8G("data",i.eq3(1,kt,a.model))}}function uh(l,d){if(1&l&&i.nrm(0,"sv-ng-action-bar",16),2&l){const a=i.XpG(2);i.Y8G("model",a.model.actionsContainer)}}function Qa(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.noFileChosen),i.R7$(),i.JRh(a.model.noFileChosenCaption)}}function ar(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"span",13),i.j41(2,"div"),i.DNE(3,Ha,1,3,"sv-ng-choose-file-btn",14)(4,uh,1,1,"sv-ng-action-bar",9)(5,Qa,2,3,"span",7),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.getFileDecoratorCss()),i.R7$(),i.HbH(a.model.cssClasses.dragAreaPlaceholder),i.Y8G("model",a.model.locRenderedPlaceholder),i.R7$(),i.HbH(a.model.cssClasses.wrapper),i.R7$(),i.Y8G("ngIf",a.model.showChooseButton),i.R7$(),i.Y8G("ngIf",a.model.actionsContainerVisible),i.R7$(),i.Y8G("ngIf",a.model.isEmpty())}}function kp(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.nrm(2,"sv-ng-loading-indicator"),i.k0s(),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.loadingIndicator)}}function Ap(l,d){1&l&&i.eu8(0)}function Lp(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ap,1,0,"ng-container",17),i.bVm()),2&l){i.XpG();const a=i.sdS(16);i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function r(l,d){1&l&&i.eu8(0)}function t(l,d){if(1&l&&(i.qex(0),i.DNE(1,r,1,0,"ng-container",18),i.bVm()),2&l){const a=i.XpG(),c=i.sdS(14);i.R7$(),i.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",i.eq3(2,Na,a.model.showRemoveButton))}}function e(l,d){}function n(l,d){if(1&l&&(i.qex(0),i.DNE(1,e,0,0,"ng-template",19),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("component",i.eq3(3,Dp,i.eq3(1,kt,a.model)))}}function o(l,d){1&l&&i.eu8(0)}function s(l,d){if(1&l&&(i.qex(0),i.DNE(1,o,1,0,"ng-container",18),i.bVm()),2&l){const a=i.XpG(),c=i.sdS(14);i.R7$(),i.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",i.eq3(2,Na,a.model.showRemoveButtonBottom))}}function u(l,d){if(1&l&&i.nrm(0,"sv-action-bar",16),2&l){const a=i.XpG();i.Y8G("model",a.model.fileNavigator)}}function p(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",22)),2&l){const a=i.XpG(2);i.Y8G("iconName",a.model.cssClasses.removeButtonIconId)("size","auto")("title",a.model.clearButtonCaption)}}function h(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.doClean())}),i.j41(1,"span"),i.EFF(2),i.k0s(),i.DNE(3,p,1,3,"svg",21),i.k0s()}if(2&l){const a=d.css,c=i.XpG();i.HbH(a),i.R7$(2),i.JRh(c.model.clearButtonCaption),i.R7$(),i.Y8G("ngIf",c.model.cssClasses.removeButtonIconId)}}function m(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-action",16)(2,"sv-ng-action",16)(3,"video",23)(4,"sv-ng-action",16),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.videoContainer),i.R7$(),i.Y8G("model",a.model.changeCameraAction),i.R7$(),i.Y8G("model",a.model.closeCameraAction),i.R7$(),i.HbH(a.model.cssClasses.video),i.BMQ("id",a.model.videoId),i.R7$(),i.Y8G("model",a.model.takePictureAction)}}function x(l,d){if(1&l){const a=i.RV6();i.j41(0,"textarea",4,0),i.bIt("input",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onInput(f))})("keydown",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onKeyDown(f))})("change",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onChange(f))})("focus",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onFocus(f))})("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.model.onBlur(f))}),i.k0s()}if(2&l){const a=i.XpG();i.HbH(a.model.className),i.xc7("resize",a.model.resizeStyle),i.Y8G("readonly",a.model.isReadOnlyAttr)("disabled",a.model.isDisabledAttr)("id",a.model.inputId)("value",a.model.value||null),i.BMQ("maxlength",a.model.getMaxLength())("cols",a.model.cols)("rows",a.model.rows)("placeholder",a.model.renderedPlaceholder)("aria-required",a.model.a11y_input_ariaRequired)("aria-label",a.model.a11y_input_ariaLabel)("aria-labelledby",a.model.a11y_input_ariaLabelledBy)("aria-describedby",a.model.a11y_input_ariaDescribedBy)("aria-invalid",a.model.a11y_input_ariaInvalid)("aria-errormessage",a.model.a11y_input_ariaErrormessage)}}function T(l,d){if(1&l&&i.nrm(0,"sv-ng-character-counter",5),2&l){const a=i.XpG();i.Y8G("counter",a.model.characterCounter)("remainingCharacterCounter",a.model.cssClasses.remainingCharacterCounter)}}function D(l,d){if(1&l&&(i.j41(0,"div",null,0),i.EFF(2),i.k0s()),2&l){const a=i.XpG();i.R7$(2),i.JRh(a.model.value)}}function B(l,d){if(1&l&&i.nrm(0,"img",6),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.backgroundImage),i.xc7("width",a.model.renderedCanvasWidth),i.Y8G("src",a.model.backgroundImage,i.B4B)}}function j(l,d){1&l&&(i.j41(0,"span"),i.EFF(1,"\u2716"),i.k0s())}function X(l,d){if(1&l&&(i.qSk(),i.nrm(0,"svg",9)),2&l){const a=i.XpG(2);i.Y8G("iconName",a.model.cssClasses.clearButtonIconId)("size","auto")}}function U(l,d){if(1&l){const a=i.RV6();i.j41(0,"div")(1,"button",7),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.clearValue(!0))}),i.DNE(2,j,2,0,"span",5)(3,X,1,2,"svg",8),i.k0s()()}if(2&l){const a=i.XpG();i.HbH(a.model.cssClasses.controls),i.R7$(),i.HbH(a.model.cssClasses.clearButton),i.Y8G("title",a.model.clearButtonCaption),i.R7$(),i.Y8G("ngIf",!a.model.cssClasses.clearButtonIconId),i.R7$(),i.Y8G("ngIf",a.model.cssClasses.clearButtonIconId)}}function $(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.nrm(2,"sv-ng-loading-indicator"),i.k0s(),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.HbH(a.model.cssClasses.loadingIndicator)}}const Z=["sv-ng-multipletext-item",""];function Ce(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.requiredText),i.R7$(),i.JRh(a.item.editor.requiredText)}}function et(l,d){1&l&&(i.j41(0,"span"),i.EFF(1,"\xa0"),i.k0s())}function rt(l,d){if(1&l&&(i.j41(0,"span",5),i.EFF(1),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.requiredText),i.R7$(),i.JRh(a.item.editor.requiredText)}}function Lt(l,d){if(1&l){const a=i.RV6();i.qex(0),i.j41(1,"label")(2,"span"),i.DNE(3,Ce,2,3,"span",1),i.nrm(4,"sv-ng-string",2),i.DNE(5,et,2,0,"span",0)(6,rt,2,3,"span",3),i.k0s(),i.j41(7,"div",4),i.bIt("focusin",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.item.focusIn())}),i.nrm(8,"sv-ng-text-question",2),i.k0s()(),i.bVm()}if(2&l){const a=i.XpG();i.R7$(),i.HbH(a.question.getItemLabelCss(a.item)),i.R7$(),i.Aen(i.l_i(13,mn,a.question.itemTitleWidth,a.question.itemTitleWidth)),i.HbH(a.question.getItemTitleCss()),i.R7$(),i.Y8G("ngIf",a.item.editor.isRequireTextBeforeTitle||a.item.editor.isRequireTextOnStart),i.R7$(),i.Y8G("model",a.item.locTitle),i.R7$(),i.Y8G("ngIf",a.item.editor.isRequireTextAfterTitle),i.R7$(),i.Y8G("ngIf",a.item.editor.isRequireTextAfterTitle),i.R7$(),i.HbH(a.question.getItemCss()),i.R7$(),i.Y8G("model",a.item.editor)}}function lr(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(2);i.Y8G("element",a.item.editor)}}function qn(l,d){if(1&l&&(i.qex(0),i.DNE(1,lr,1,1,"div",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngIf",a.item.editor.hasVisibleErrors)}}function Fp(l,d){if(1&l&&(i.qex(0),i.nrm(1,"td",3),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(3);i.R7$(),i.HbH(a.className),i.Y8G("question",c.question)("model",a)}}function jp(l,d){if(1&l&&(i.j41(0,"tr"),i.DNE(1,Fp,2,4,"ng-container",2),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.row),i.R7$(),i.Y8G("ngForOf",a.model.cells)("ngForTrackBy",a.trackItemBy)}}function Ga(l,d){if(1&l&&i.DNE(0,jp,2,4,"tr",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.model.isVisible)}}function Bp(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-multipletext-row",2),i.bVm()),2&l){const a=d.$implicit,c=i.XpG();i.R7$(),i.Y8G("model",a)("question",c.model)}}function $a(l,d){}function za(l,d){if(1&l&&(i.qex(0),i.DNE(1,$a,0,0,"ng-template",3),i.bVm()),2&l){const a=d.$implicit,c=d.index,f=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,f.getItemValueComponentName(a),f.getItemValueComponentData(a,c)))}}function Ua(l,d){if(1&l&&(i.j41(0,"div",null,0),i.DNE(2,za,2,4,"ng-container",2),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.rootClass),i.R7$(2),i.Y8G("ngForOf",a.model.renderedRankingChoices)("ngForTrackBy",a.trackItemBy)}}function Np(l,d){}function qp(l,d){if(1&l&&(i.qex(0),i.DNE(1,Np,0,0,"ng-template",3),i.bVm()),2&l){const a=d.$implicit,c=d.index,f=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,f.getItemValueComponentName(a),f.getItemValueComponentData(a,c,!0)))}}function Wa(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.containerPlaceholder),i.Y8G("model",a.model.locSelectToRankEmptyRankedAreaText)}}function Hp(l,d){}function Qp(l,d){if(1&l&&(i.qex(0),i.DNE(1,Hp,0,0,"ng-template",3),i.bVm()),2&l){const a=d.$implicit,c=d.index,f=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,f.getItemValueComponentName(a),f.getItemValueComponentData(a,c)))}}function Gp(l,d){if(1&l&&i.nrm(0,"div",7),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.containerPlaceholder),i.Y8G("model",a.model.locSelectToRankEmptyUnrankedAreaText)}}function $p(l,d){if(1&l&&(i.j41(0,"div",null,0)(2,"div",4),i.DNE(3,qp,2,4,"ng-container",2)(4,Wa,1,3,"div",5),i.k0s(),i.nrm(5,"div"),i.j41(6,"div",6),i.DNE(7,Qp,2,4,"ng-container",2)(8,Gp,1,3,"div",5),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.model.rootClass),i.R7$(2),i.HbH(a.model.getContainerClasses("from")),i.R7$(),i.Y8G("ngForOf",a.model.renderedUnRankingChoices)("ngForTrackBy",a.trackItemBy),i.R7$(),i.Y8G("ngIf",0===a.model.renderedUnRankingChoices.length),i.R7$(),i.HbH(a.model.cssClasses.containersDivider),i.R7$(),i.HbH(a.model.getContainerClasses("to")),i.R7$(),i.Y8G("ngForOf",a.model.renderedRankingChoices)("ngForTrackBy",a.trackItemBy),i.R7$(),i.Y8G("ngIf",0===a.model.renderedRankingChoices.length)}}const zp=(l,d)=>({item:l,cssClasses:d});function Up(l,d){if(1&l&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.question.getItemIndexClasses(a.model)),i.R7$(),i.JRh(a.question.getNumberByIndex(a.index))}}function Wp(l,d){if(1&l&&(i.j41(0,"div"),i.qSk(),i.j41(1,"svg"),i.nrm(2,"use"),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.question.getItemIndexClasses(a.model)),i.R7$(2),i.BMQ("href",a.question.dashSvgIcon,null,"xlink")}}function Yp(l,d){}function Xp(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-string",1),i.k0s()),2&l){const a=i.XpG();i.HbH(a.cssClasses.controlLabel),i.R7$(),i.Y8G("model",a.item.locText)}}function Jp(l,d){if(1&l){const a=i.RV6();i.j41(0,"span",2),i.bIt("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onInput(f))})("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onClick(f))}),i.k0s()}if(2&l){const a=i.XpG();i.Y8G("innerHtml",a.model.renderedHtml,i.npT)}}function Kp(l,d){if(1&l){const a=i.RV6();i.j41(0,"span",3),i.bIt("blur",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onInput(f))})("click",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.onClick(f))}),i.EFF(1),i.k0s()}if(2&l){const a=i.XpG();i.R7$(),i.JRh(a.model.renderedHtml)}}function Zp(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",1),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.addPanelClick())}),i.j41(1,"span"),i.nrm(2,"sv-ng-string",2),i.k0s()()}if(2&l){const a=i.XpG();i.HbH(a.question.getAddButtonCss()),i.R7$(),i.HbH(a.question.cssClasses.buttonAddText),i.R7$(),i.Y8G("model",a.question.locPanelAddText)}}const ur=l=>({width:l}),ed=(l,d)=>({panel:l,question:d}),td=l=>({name:"sv-paneldynamic-remove-btn",data:l});function nd(l,d){if(1&l&&i.nrm(0,"sv-ng-paneldynamic-add-btn",8),2&l){const a=i.XpG(2);i.Y8G("data",i.eq3(1,kt,a.model))}}function id(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"span",7),i.DNE(2,nd,1,3,"sv-ng-paneldynamic-add-btn",6),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.noEntriesPlaceholder),i.R7$(),i.Y8G("model",a.model.locNoEntriesText),i.R7$(),i.Y8G("ngIf",a.model.canAddPanel)}}function od(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.progress),i.R7$(),i.Aen(i.eq3(6,ur,a.model.progress)),i.HbH(a.model.cssClasses.progressBar)}}function rd(l,d){if(1&l&&i.eu8(0,10),2&l){i.XpG();const a=i.sdS(13);i.Y8G("ngTemplateOutlet",a)}}function sd(l,d){}function ad(l,d){}function ld(l,d){if(1&l&&(i.qex(0),i.DNE(1,ad,0,0,"ng-template",11),i.bVm()),2&l){const a=i.XpG().$implicit,c=i.XpG();i.R7$(),i.Y8G("component",i.eq3(6,td,i.eq3(4,Ne,i.l_i(1,ed,a,c.model))))}}function ud(l,d){if(1&l&&i.nrm(0,"hr"),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.separator)}}function cd(l,d){if(1&l&&(i.qex(0),i.j41(1,"div"),i.DNE(2,sd,0,0,"ng-template",11)(3,ld,2,8,"ng-container",12),i.k0s(),i.DNE(4,ud,1,2,"hr",3),i.bVm()),2&l){const a=d.$implicit,c=d.index,f=i.XpG();i.R7$(),i.HbH(f.model.getPanelWrapperCss(a)),i.R7$(),i.Y8G("component",i.l_i(5,K,f.getPanelComponentName(a),f.getPanelComponentData(a))),i.R7$(),i.Y8G("ngIf","right"===f.model.panelRemoveButtonLocation&&f.model.canRemovePanel&&"collapsed"!=a.state),i.R7$(),i.Y8G("ngIf",f.model.showSeparator(c))}}function pd(l,d){if(1&l&&i.eu8(0,10),2&l){i.XpG();const a=i.sdS(13);i.Y8G("ngTemplateOutlet",a)}}function dd(l,d){if(1&l&&i.nrm(0,"sv-ng-paneldynamic-add-btn",8),2&l){const a=i.XpG();i.Y8G("data",i.eq3(1,kt,a.model))}}function fd(l,d){if(1&l&&i.eu8(0,10),2&l){i.XpG();const a=i.sdS(11);i.Y8G("ngTemplateOutlet",a)}}function hd(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.cssClasses.progress),i.R7$(),i.Aen(i.eq3(6,ur,a.model.progress)),i.HbH(a.model.cssClasses.progressBar)}}function md(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-action-bar",13),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.cssClasses.footerButtonsContainer),i.R7$(),i.Y8G("model",a.model.footerToolbar)}}function gd(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"hr"),i.DNE(2,hd,2,8,"div",3)(3,md,2,3,"div",3),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.footer),i.R7$(),i.HbH(a.model.cssClasses.separator),i.R7$(),i.Y8G("ngIf",a.model.isRangeShowing&&a.model.isProgressBottomShowing),i.R7$(),i.Y8G("ngIf",a.model.footerToolbar.visibleActions.length)}}function yd(l,d){if(1&l&&i.DNE(0,gd,4,6,"div",3),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.model.cssClasses.footer)}}function vd(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.progress),i.R7$(),i.Aen(i.eq3(6,ur,a.model.progress)),i.HbH(a.model.cssClasses.progressBar)}}function bd(l,d){if(1&l&&(i.j41(0,"div")(1,"div",14)(2,"div"),i.nrm(3,"sv-ng-paneldynamic-prev-btn",8),i.DNE(4,vd,2,8,"div",3),i.nrm(5,"sv-ng-paneldynamic-next-btn",8),i.k0s(),i.nrm(6,"sv-ng-paneldynamic-add-btn",8)(7,"sv-ng-paneldynamic-progress-text",8),i.k0s()()),2&l){const a=i.XpG();i.HbH(a.progressCssClass),i.R7$(),i.HbH(a.progressCssClass),i.R7$(),i.HbH(a.model.cssClasses.progressContainer),i.R7$(),i.Y8G("data",i.eq3(11,kt,a.model)),i.R7$(),i.Y8G("ngIf",a.model.isRangeShowing),i.R7$(),i.Y8G("data",i.eq3(13,kt,a.model)),i.R7$(),i.Y8G("data",i.eq3(15,kt,a.model)),i.R7$(),i.Y8G("data",i.eq3(17,kt,a.model))}}function Cd(l,d){}function Ya(l,d){if(1&l&&(i.qex(0),i.DNE(1,Cd,0,0,"ng-template",2),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("component",i.l_i(1,K,a.componentName,a.componentData))}}function _d(l,d){1&l&&i.eu8(0)}function xd(l,d){if(1&l&&(i.qex(0),i.DNE(1,_d,1,0,"ng-container",3),i.bVm()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngTemplateOutlet",a.contentTempl)}}function wd(l,d){if(1&l&&i.DNE(0,Ya,2,4,"ng-container",1)(1,xd,2,1,"ng-container",1),2&l){const a=i.XpG();i.Y8G("ngIf",!!a.componentName),i.R7$(),i.Y8G("ngIf",!a.componentName&&a.contentTempl)}}const Pd=["content"],Vd=(l,d)=>({model:l,css:d});function Td(l,d){if(1&l&&(i.nrm(0,"div",3),i.nI1(1,"safeHtml")),2&l){const a=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,a.customHtml),i.npT)}}function Id(l,d){}function Rd(l,d){if(1&l&&(i.qex(0),i.DNE(1,Id,0,0,"ng-template",4),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("component",i.l_i(4,K,a.componentName,i.l_i(1,Vd,a.model,a.css)))}}function Sd(l,d){if(1&l&&(i.qSk(),i.j41(0,"svg"),i.nrm(1,"use"),i.k0s()),2&l){const a=i.XpG();i.HbH(a.question.cssClasses.itemDecorator),i.R7$(),i.BMQ("href",a.question.itemSvgIcon,null,"xlink")}}function Od(l,d){if(1&l&&i.nrm(0,"span",4),2&l){const a=i.XpG();i.HbH(a.question.cssClasses.cellResponsiveTitle),i.Y8G("model",a.column.locText)}}function Ed(l,d){if(1&l&&(i.qSk(),i.j41(0,"svg"),i.nrm(1,"use"),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.question.cssClasses.dragElementDecorator),i.R7$(),i.BMQ("href",a.question.iconDragElement,null,"xlink")}}function Dd(l,d){1&l&&i.nrm(0,"span",3)}function Md(l,d){if(1&l&&i.DNE(0,Ed,2,3,"svg",1)(1,Dd,1,0,"span",2),2&l){const a=i.XpG();i.Y8G("ngIf",a.question.iconDragElement),i.R7$(),i.Y8G("ngIf",!a.question.iconDragElement)}}const kd=["cellContainer"],Ad=(l,d)=>({row:l,question:d});function Ld(l,d){if(1&l&&i.nrm(0,"sv-ng-matrix-drag-drop-icon",10),2&l){const a=i.XpG(3);i.Y8G("model",i.eq3(4,Ne,i.l_i(1,Ad,a.row,a.question)))}}function Fd(l,d){if(1&l&&i.nrm(0,"sv-action-bar",11),2&l){const a=i.XpG(3);i.Y8G("model",a.cell.item.getData())("handleClick",!1)}}function Xa(l,d){}function Ja(l,d){if(1&l&&(i.qex(0),i.DNE(1,Xa,0,0,"ng-template",12),i.bVm()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(1,K,a.panelComponentName,a.panelComponentData))}}function Ka(l,d){if(1&l&&i.nrm(0,"div",13),2&l){const a=i.XpG(3);i.Y8G("element",a.cell.question)}}function Za(l,d){if(1&l&&i.nrm(0,"span",14),2&l){const a=i.XpG(3);i.HbH(a.cell.responsiveTitleCss),i.Y8G("model",a.cell.responsiveLocTitle)}}function jd(l,d){}function Bd(l,d){if(1&l&&i.DNE(0,jd,0,0,"ng-template",12),2&l){const a=i.XpG(5);i.Y8G("component",i.l_i(3,K,a.getComponentName(a.cell.question),i.eq3(1,Nt,a.cell.question)))}}function Nd(l,d){if(1&l&&(i.qex(0),i.DNE(1,Bd,1,6,"ng-template",12),i.bVm()),2&l){const a=i.XpG(4);i.R7$(),i.Y8G("component",i.l_i(3,K,a.question.getCellWrapperComponentName(a.cell.cell),i.eq3(1,mt,a.question.getCellWrapperComponentData(a.cell.cell))))}}function qd(l,d){}function Hd(l,d){if(1&l&&i.DNE(0,qd,0,0,"ng-template",12),2&l){const a=i.XpG(4);i.Y8G("component",i.l_i(3,K,a.cell.question.getComponentName(),i.eq3(1,Nt,a.cell.question)))}}function Qd(l,d){if(1&l&&i.nrm(0,"sv-ng-selebase-item",17),2&l){const a=i.XpG(5);i.Y8G("showLabel",!1)("inputType",a.cell.isCheckbox?"checkbox":"radio")("question",a.cell.question)("model",a.cell.item)}}function Gd(l,d){if(1&l&&(i.qex(0),i.DNE(1,Qd,1,4,"ng-template",12),i.bVm()),2&l){const a=i.XpG(4);i.R7$(),i.Y8G("component",i.l_i(3,K,a.question.getCellWrapperComponentName(a.cell.cell),i.eq3(1,mt,a.question.getCellWrapperComponentData(a.cell.cell))))}}function $d(l,d){if(1&l&&i.nrm(0,"div",18),2&l){const a=i.XpG(4);i.HbH(a.cell.question.getCommentAreaCss(!0)),i.Y8G("question",a.cell.question)}}function zd(l,d){if(1&l&&(i.j41(0,"div",15),i.DNE(1,Nd,2,6,"ng-container",6)(2,Hd,1,6,null,6)(3,Gd,2,6,"ng-container",6)(4,$d,1,3,"div",16),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.cell.cellQuestionWrapperClassName),i.Y8G("visible",a.cell.question.isVisible),i.R7$(),i.Y8G("ngIf",!a.cell.isChoice&&a.cell.question.isDefaultRendering()),i.R7$(),i.Y8G("ngIf",!a.cell.isChoice&&!a.cell.question.isDefaultRendering()),i.R7$(),i.Y8G("ngIf",a.cell.isItemChoice),i.R7$(),i.Y8G("ngIf",a.cell.isOtherChoice)}}function Ud(l,d){if(1&l&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&l){const a=i.XpG(5);i.HbH(a.question.cssClasses.cellRequiredText),i.R7$(),i.JRh(a.cell.requiredText)}}function Wd(l,d){if(1&l&&(i.nrm(0,"sv-ng-string",10),i.DNE(1,Ud,2,3,"span",19)),2&l){const a=i.XpG(4);i.Y8G("model",a.cell.locTitle),i.R7$(),i.Y8G("ngIf",a.isRequiredCell)}}function Yd(l,d){if(1&l&&(i.qex(0),i.DNE(1,Wd,2,2,"ng-template",12),i.bVm()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("component",i.l_i(3,K,a.question.getCellWrapperComponentName(a.cell),i.eq3(1,mt,a.question.getCellWrapperComponentData(a.cell))))}}function Xd(l,d){if(1&l){const a=i.RV6();i.j41(0,"td",3,1),i.bIt("focusin",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.cell.focusIn())}),i.DNE(2,Ld,1,6,"sv-ng-matrix-drag-drop-icon",4)(3,Fd,1,2,"sv-action-bar",5)(4,Ja,2,4,"ng-container",6)(5,Ka,1,1,"div",7)(6,Za,1,3,"span",8)(7,zd,5,7,"div",9)(8,Yd,2,6,"ng-container",6),i.k0s()}if(2&l){const a=i.XpG(2);i.Aen(a.getCellStyle()),i.HbH(a.cell.className),i.Y8G("title",a.cell.getTitle()),i.BMQ("colspan",a.cell.colSpans),i.R7$(2),i.Y8G("ngIf",a.cell.isDragHandlerCell),i.R7$(),i.Y8G("ngIf",a.cell.isActionsCell),i.R7$(),i.Y8G("ngIf",a.cell.hasPanel),i.R7$(),i.Y8G("ngIf",a.cell.isErrorsCell&&(null==a.cell.question?null:a.cell.question.hasVisibleErrors)),i.R7$(),i.Y8G("ngIf",a.cell.showResponsiveTitle),i.R7$(),i.Y8G("ngIf",a.cell.hasQuestion),i.R7$(),i.Y8G("ngIf",a.cell.hasTitle)}}function Jd(l,d){if(1&l&&i.DNE(0,Xd,9,13,"td",2),2&l){const a=i.XpG();i.Y8G("ngIf",a.canRender)}}function el(l,d){if(1&l&&(i.qex(0),i.j41(1,"span"),i.EFF(2,"\xa0"),i.k0s(),i.j41(3,"span"),i.EFF(4),i.k0s(),i.bVm()),2&l){const a=i.XpG(2);i.R7$(3),i.HbH(a.question.cssClasses.cellRequiredText),i.R7$(),i.JRh(a.column.requiredText)}}function Kd(l,d){if(1&l&&i.DNE(0,el,5,3,"ng-container",1),2&l){const a=i.XpG();i.Y8G("ngIf",a.column.isRenderedRequired)}}function tl(l,d){if(1&l&&i.nrm(0,"sv-ng-matrixdropdown-cell",5),2&l){const a=d.$implicit,c=i.XpG(3);i.Y8G("cell",a)("question",c.question)}}function Zd(l,d){if(1&l){const a=i.RV6();i.j41(0,"tr",3,1),i.bIt("pointerdown",function(f){i.eBV(a);const v=i.XpG(2);return i.Njj(v.question.onPointerDown(f,v.row))}),i.DNE(2,tl,1,2,"sv-ng-matrixdropdown-cell",4),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.className),i.BMQ("data-sv-drop-target-matrix-row",a.row&&a.row.id),i.R7$(2),i.Y8G("ngForOf",a.model.cells)("ngForTrackBy",a.trackCellBy)}}function ef(l,d){if(1&l&&i.DNE(0,Zd,3,5,"tr",2),2&l){const a=i.XpG();i.Y8G("ngIf",a.model.visible)}}const tf=l=>({overflowX:l});function nf(l,d){if(1&l&&i.nrm(0,"sv-ng-matrixheaderrequired",7),2&l){const a=i.XpG(3).$implicit,c=i.XpG(2);i.Y8G("column",a.column)("question",c.question)}}function of(l,d){if(1&l&&(i.nrm(0,"sv-ng-string",5),i.DNE(1,nf,1,2,"sv-ng-matrixheaderrequired",6)),2&l){const a=i.XpG(2).$implicit;i.Y8G("model",a.locTitle),i.R7$(),i.Y8G("ngIf",!!a.column)}}function rf(l,d){if(1&l&&(i.j41(0,"th"),i.DNE(1,of,2,2,"ng-template",4),i.k0s()),2&l){const a=i.XpG().$implicit,c=i.XpG(2);i.Aen(i.l_i(5,mn,a.minWidth,a.width)),i.HbH(a.className),i.R7$(),i.Y8G("component",i.l_i(10,K,c.question.getColumnHeaderWrapperComponentName(a),i.eq3(8,mt,c.question.getColumnHeaderWrapperComponentData(a))))}}function sf(l,d){if(1&l&&i.nrm(0,"td"),2&l){const a=i.XpG().$implicit;i.Aen(i.l_i(4,mn,a.minWidth,a.width)),i.HbH(a.className)}}function af(l,d){if(1&l&&(i.qex(0),i.DNE(1,rf,2,13,"th",3)(2,sf,1,7,"td",3),i.bVm()),2&l){const a=d.$implicit;i.R7$(),i.Y8G("ngIf",a.hasTitle),i.R7$(),i.Y8G("ngIf",!a.hasTitle)}}function cr(l,d){if(1&l&&(i.j41(0,"thead")(1,"tr"),i.DNE(2,af,3,2,"ng-container",2),i.k0s()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("ngForOf",a.table.headerRow.cells)("ngForTrackBy",a.trackCellBy)}}function nl(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-matrix-row",8),i.bVm()),2&l){const a=d.$implicit,c=i.XpG();i.R7$(),i.Y8G("model",a)("question",c.question)}}function lf(l,d){if(1&l&&i.nrm(0,"sv-ng-matrixdropdown-cell",10),2&l){const a=d.$implicit,c=i.XpG(2);i.Y8G("cell",a)("question",c.question)}}function il(l,d){if(1&l&&(i.j41(0,"tfoot")(1,"tr"),i.DNE(2,lf,1,2,"sv-ng-matrixdropdown-cell",9),i.k0s()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("ngForOf",a.table.footerRow.cells)("ngForTrackBy",a.trackCellBy)}}function ol(l,d){if(1&l&&i.nrm(0,"sv-ng-matrix-table",2),2&l){const a=i.XpG(2);i.Y8G("question",a.model)("table",a.model.renderedTable)}}function uf(l,d){if(1&l&&i.DNE(0,ol,1,2,"sv-ng-matrix-table",1),2&l){const a=i.XpG();i.Y8G("ngIf",null==a.model.renderedTable?null:a.model.renderedTable.showTable)}}function rl(l,d){1&l&&i.eu8(0)}function sl(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,rl,1,0,"ng-container",5),i.k0s()),2&l){i.XpG();const a=i.sdS(7),c=i.XpG();i.HbH(c.model.cssClasses.footer),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function al(l,d){if(1&l&&i.nrm(0,"sv-ng-matrix-table",6),2&l){const a=i.XpG(2);i.Y8G("question",a.model)("table",a.model.renderedTable)}}function ll(l,d){1&l&&i.eu8(0)}function ul(l,d){if(1&l&&(i.qex(0),i.DNE(1,ll,1,0,"ng-container",5),i.bVm()),2&l){i.XpG(2);const a=i.sdS(7);i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function cf(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"div",7),i.DNE(2,ul,2,1,"ng-container",8),i.k0s()),2&l){const a=i.XpG(2);i.HbH(a.model.cssClasses.emptyRowsSection),i.R7$(),i.HbH(a.model.cssClasses.emptyRowsText),i.Y8G("model",a.model.locEmptyRowsText),i.R7$(),i.Y8G("ngIf",a.model.renderedTable.showAddRow)}}function pf(l,d){1&l&&i.eu8(0)}function df(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,pf,1,0,"ng-container",5),i.k0s()),2&l){i.XpG();const a=i.sdS(7),c=i.XpG();i.HbH(c.model.cssClasses.footer),i.R7$(),i.Y8G("ngTemplateOutlet",a)}}function ff(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",9),i.bIt("click",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.model.addRowUI())}),i.nrm(1,"sv-ng-string",10)(2,"span"),i.k0s()}if(2&l){const a=i.XpG(2);i.HbH(a.model.getAddRowButtonCss(!0)),i.R7$(),i.Y8G("model",a.model.locAddRowText),i.R7$(),i.HbH(a.model.cssClasses.iconAdd)}}function hf(l,d){if(1&l&&(i.j41(0,"div",null,1),i.DNE(2,sl,2,3,"div",3)(3,al,1,2,"sv-ng-matrix-table",4)(4,cf,3,6,"div",3)(5,df,2,3,"div",3),i.k0s(),i.DNE(6,ff,3,5,"ng-template",null,2,i.C5r)),2&l){const a=i.XpG();i.R7$(2),i.Y8G("ngIf",a.model.renderedTable.showAddRowOnTop),i.R7$(),i.Y8G("ngIf",null==a.model.renderedTable?null:a.model.renderedTable.showTable),i.R7$(),i.Y8G("ngIf",!a.model.renderedTable.showTable),i.R7$(),i.Y8G("ngIf",a.model.renderedTable.showAddRowOnBottom)}}const Ii=(l,d,a)=>({objectFit:l,width:d,height:a});function cl(l,d){if(1&l){const a=i.RV6();i.j41(0,"img",5),i.bIt("load",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onLoadHandler())})("error",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onErrorHandler())}),i.k0s()}if(2&l){const a=i.XpG();i.Aen(i.sMw(9,Ii,a.model.imageFit,a.model.renderedStyleWidth,a.model.renderedStyleHeight)),i.HbH(a.model.getImageCss()),i.Y8G("visible",!!a.model.locImageLink.renderedHtml&&!a.model.contentNotLoaded),i.BMQ("src",a.model.locImageLink.renderedHtml,i.B4B)("alt",a.model.altText||a.model.title)("width",a.model.renderedWidth)("height",a.model.renderedHeight)}}function mf(l,d){if(1&l){const a=i.RV6();i.j41(0,"video",6),i.bIt("loadedmetadata",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onLoadHandler())})("error",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.model.onErrorHandler())}),i.k0s()}if(2&l){const a=i.XpG();i.Aen(i.sMw(8,Ii,a.model.imageFit,a.model.renderedStyleWidth,a.model.renderedStyleHeight)),i.HbH(a.model.getImageCss()),i.Y8G("visible",!!a.model.locImageLink.renderedHtml&&!a.model.contentNotLoaded),i.BMQ("src",a.model.locImageLink.renderedHtml,i.B4B)("width",a.model.renderedWidth)("height",a.model.renderedHeight)}}function gf(l,d){if(1&l&&(i.nrm(0,"iframe"),i.nI1(1,"safeResourceUrl")),2&l){const a=i.XpG();i.Aen(i.sMw(9,Ii,a.model.imageFit,a.model.renderedStyleWidth,a.model.renderedStyleHeight)),i.HbH(a.model.getImageCss()),i.BMQ("src",i.bMT(1,7,a.model.locImageLink.renderedHtml),i.f$h)("width",a.model.renderedWidth)("height",a.model.renderedHeight)}}function yf(l,d){if(1&l&&(i.j41(0,"div"),i.qSk(),i.nrm(1,"svg",7),i.k0s()),2&l){const a=i.XpG();i.HbH(a.model.cssClasses.noImage),i.R7$(),i.Y8G("iconName",a.model.cssClasses.noImageSvgIconId)("size",48)}}function vf(l,d){}const Ri=l=>({maxWidth:l});function bf(l,d){}function Cf(l,d){if(1&l&&(i.j41(0,"div",5)(1,"div"),i.DNE(2,bf,0,0,"ng-template",6),i.k0s()()),2&l){const a=i.XpG(2);i.R7$(),i.HbH(a.model.survey.logoClassNames),i.R7$(),i.Y8G("component",i.l_i(5,K,a.model.survey.getElementWrapperComponentName(a.model.survey,"logo-image"),i.eq3(3,Ne,a.model.survey.getElementWrapperComponentData(a.model.survey,"logo-image"))))}}function pl(l,d){if(1&l&&(i.j41(0,"div",7),i.nrm(1,"sv-ng-element-title",8),i.k0s()),2&l){const a=i.XpG(2);i.Aen(i.eq3(3,Ri,a.model.textAreaWidth)),i.R7$(),i.Y8G("element",a.model.survey)}}function _f(l,d){if(1&l&&i.nrm(0,"div",11),2&l){const a=i.XpG(3);i.HbH(a.model.survey.css.description),i.Y8G("model",a.model.survey.locDescription)}}function xf(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,_f,1,3,"div",10),i.k0s()),2&l){const a=i.XpG(2);i.Aen(i.eq3(3,Ri,a.model.textAreaWidth)),i.R7$(),i.Y8G("ngIf",a.model.survey.renderedHasDescription)}}function wf(l,d){if(1&l&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Cf,3,8,"div",2)(3,pl,2,5,"div",3)(4,xf,2,5,"div",4),i.k0s()()),2&l){const a=i.XpG();i.Aen(a.model.style),i.HbH(a.model.css),i.R7$(),i.Aen(a.model.contentStyle),i.R7$(),i.Y8G("ngIf",a.model.showLogo),i.R7$(),i.Y8G("ngIf",a.model.showTitle),i.R7$(),i.Y8G("ngIf",a.model.showDescription)}}function Pf(l,d){}function Vf(l,d){if(1&l&&(i.j41(0,"div",5)(1,"div"),i.DNE(2,Pf,0,0,"ng-template",6),i.k0s()()),2&l){const a=i.XpG(2);i.R7$(),i.HbH(a.model.survey.logoClassNames),i.R7$(),i.Y8G("component",i.l_i(5,K,a.model.survey.getElementWrapperComponentName(a.model.survey,"logo-image"),i.eq3(3,Ne,a.model.survey.getElementWrapperComponentData(a.model.survey,"logo-image"))))}}function Tf(l,d){if(1&l&&(i.j41(0,"div",7),i.nrm(1,"sv-ng-element-title",8),i.k0s()),2&l){const a=i.XpG(2);i.Aen(i.eq3(3,Ri,a.model.renderedtextAreaWidth)),i.R7$(),i.Y8G("element",a.model.survey)}}function If(l,d){if(1&l&&i.nrm(0,"div",11),2&l){const a=i.XpG(3);i.HbH(a.model.survey.css.description),i.Y8G("model",a.model.survey.locDescription)}}function Rf(l,d){if(1&l&&(i.j41(0,"div",9),i.DNE(1,If,1,3,"div",10),i.k0s()),2&l){const a=i.XpG(2);i.Aen(i.eq3(3,Ri,a.model.renderedtextAreaWidth)),i.R7$(),i.Y8G("ngIf",a.model.survey.renderedHasDescription)}}function Sf(l,d){if(1&l&&(i.j41(0,"div",1),i.DNE(1,Vf,3,8,"div",2)(2,Tf,2,5,"div",3)(3,Rf,2,5,"div",4),i.k0s()),2&l){const a=i.XpG();i.R7$(),i.Y8G("ngIf",a.model.survey.hasLogo),i.R7$(),i.Y8G("ngIf",a.model.survey.hasTitle),i.R7$(),i.Y8G("ngIf",a.model.survey.renderedHasDescription)}}const Of=l=>({height:l});function Ef(l,d){if(1&l&&i.nrm(0,"div"),2&l){const a=i.XpG(3);i.Aen(a.model.backgroundImageStyle),i.HbH(a.model.backgroundImageClasses)}}function Df(l,d){if(1&l&&(i.qex(0),i.nrm(1,"sv-ng-header-cell",6),i.bVm()),2&l){const a=d.$implicit;i.R7$(),i.Y8G("model",a)}}function dl(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Df,2,1,"ng-container",5),i.k0s()),2&l){const a=i.XpG(3);i.HbH(a.model.contentClasses),i.xc7("width",a.model.maxWidth),i.R7$(),i.Y8G("ngForOf",a.model.cells)}}function fl(l,d){if(1&l&&(i.j41(0,"div"),i.nrm(1,"sv-ng-header-mobile",6),i.k0s()),2&l){const a=i.XpG(3);i.R7$(),i.Y8G("model",a.model)}}function Mf(l,d){if(1&l&&(i.j41(0,"div"),i.DNE(1,Ef,1,4,"div",2)(2,dl,2,5,"div",3)(3,fl,2,1,"div",4),i.k0s()),2&l){const a=i.XpG(2);i.Aen(i.eq3(7,Of,a.model.renderedHeight)),i.HbH(a.model.headerClasses),i.R7$(),i.Y8G("ngIf",!!a.model.backgroundImage),i.R7$(),i.Y8G("ngIf",!a.survey.isMobile),i.R7$(),i.Y8G("ngIf",a.survey.isMobile)}}function kf(l,d){if(1&l&&i.DNE(0,Mf,4,9,"div",1),2&l){const a=i.XpG();i.Y8G("ngIf","advanced"===a.survey.headerView)}}let Ee=(()=>{class l{constructor(a){this.viewContainerRef=a}ngOnInit(){var a;this.templateRef&&(this.embeddedView=null===(a=this.viewContainerRef)||void 0===a?void 0:a.createEmbeddedView(this.templateRef))}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.c1b))},l.\u0275cmp=i.VBU({type:l,selectors:[["ng-component"]],viewQuery:function(a,c){if(1&a&&i.GBs(Tn,7,i.C4Q),2&a){let f;i.mGM(f=i.lsd())&&(c.templateRef=f.first)}},decls:0,vars:0,template:function(a,c){},encapsulation:2}),l})(),re=(()=>{class l extends Ee{constructor(a,c){super(c),this.changeDetectorRef=a,this.isModelSubsribed=!1,this.isDestroyed=!1}get surveyModel(){return this.getModel().getSurvey()}ngDoCheck(){this.previousModel!==this.getModel()&&(this.unMakeBaseElementAngular(this.previousModel),this.makeBaseElementAngular(this.getModel()),this.onModelChanged(),this.previousModel=this.getModel()),this.setIsRendering(!0)}onModelChanged(){}setIsRendering(a){const c=this.getModel();c&&(c.isRendering=a)}getIsRendering(){const a=this.getModel();return!!a&&!!a.isRendering}ngOnDestroy(){this.isDestroyed=!0,this.unMakeBaseElementAngular(this.getModel()),this.previousModel=void 0}makeBaseElementAngular(a){a&&!a.__ngImplemented&&(this.isModelSubsribed=!0,a.__ngImplemented=!0,a.iteratePropertiesHash((c,f)=>{var v=c[f];Array.isArray(v)&&(v.onArrayChanged=q=>{this.update(f)})}),a.setPropertyValueCoreHandler=(c,f,v)=>{c[f]!==v&&(c[f]=v,this.update(f))},a.enableOnElementRenderedEvent())}unMakeBaseElementAngular(a){a&&this.isModelSubsribed&&(this.isModelSubsribed=!1,a.__ngImplemented=!1,a.setPropertyValueCoreHandler=void 0,a.iteratePropertiesHash((c,f)=>{var v=c[f];Array.isArray(v)&&(v.onArrayChanged=()=>{})}),a.disableOnElementRenderedEvent())}update(a){this.getIsRendering()||(this.beforeUpdate(),a&&this.getPropertiesToUpdateSync().indexOf(a)>-1?(this.detectChanges(),this.afterUpdate(!0)):queueMicrotask(()=>{this.isDestroyed||(this.setIsRendering(!0),this.detectChanges()),this.afterUpdate()}))}getChangeDetectorRef(){return this.embeddedView?this.embeddedView:this.changeDetectorRef}getPropertiesToUpdateSync(){return[]}detectChanges(){this.getChangeDetectorRef().detectChanges()}getShouldReattachChangeDetector(){return!0}beforeUpdate(){this.setIsRendering(!0)}afterUpdate(a=!1){this.setIsRendering(!1);const c=this.getModel();c&&!this.isDestroyed&&c.afterRerender()}ngAfterViewChecked(){this.setIsRendering(!1)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc),i.rXU(i.c1b))},l.\u0275cmp=i.VBU({type:l,selectors:[["ng-component"]],features:[i.Vt3],decls:0,vars:0,template:function(a,c){},encapsulation:2}),l})();class N{constructor(){this.creatorHash={}}registerComponent(d,a){this.creatorHash[d]=a}getAllTypes(){var d=new Array;for(var a in this.creatorHash)d.push(a);return d.sort()}isComponentRegistered(d){return!!this.creatorHash[d]}create(d,a,c){var f=this.creatorHash[a];return f?d.createComponent(c.resolveComponentFactory(f)):null}}N.Instance=new N;let fe=(()=>{class l{constructor(a,c,f){this.containerRef=a,this.templateRef=c,this.resolver=f}ngOnChanges(a){var c;const f=a.component;f.currentValue.name!==(null===(c=f.previousValue)||void 0===c?void 0:c.name)||void 0===f.currentValue.name&&void 0===f.previousValue&&!this.componentInstance?this.createComponent():this.updateComponentData()}createComponent(){if(this.containerRef.clear(),N.Instance.isComponentRegistered(this.component.name)?this.componentInstance=N.Instance.create(this.containerRef,this.component.name,this.resolver).instance:this.component.default&&(this.componentInstance=N.Instance.create(this.containerRef,this.component.default,this.resolver).instance),!this.componentInstance)throw new Error(`Can't create component with name: ${this.component.name} and default: ${this.component.default}`);this.componentInstance.contentTempl=this.templateRef,this.updateComponentData()}updateComponentData(){const a=this.component.data;Object.keys(a).forEach(c=>{this.componentInstance[c]=a[c]})}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i.OM3))},l.\u0275dir=i.FsC({type:l,selectors:[["","component",""]],inputs:{component:"component"},features:[i.OA$]}),l})(),pr=(()=>{class l extends re{getModel(){return this.model}getPropertiesToUpdateSync(){return["mode"]}get id(){return this.model.id||""}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-action"]],viewQuery:function(a,c){if(1&a&&i.GBs(In,7,i.c1b),2&a){let f;i.mGM(f=i.lsd())&&(c.actionContent=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"id"],[1,"sv-action__content"],[4,"ngIf"],[3,"component"],[1,"sv-action-bar-separator"]],template:function(a,c){1&a&&i.DNE(0,Ji,4,10,"ng-template",null,0,i.C5r)},dependencies:[V.bT,fe],styles:["[_nghost-%COMP%] { display: none; }"]}),l})();N.Instance.registerComponent("sv-action",pr);let st=(()=>{class l extends re{getModel(){return this.model}get allowOnClick(){return void 0===this.handleClick||this.handleClick}onModelChanged(){var a;super.onModelChanged(),null===(a=this.previousModel)||void 0===a||a.resetResponsivityManager(),this.model.hasActions&&this.container&&this.container.nativeElement&&this.model.initResponsivityManager(this.container.nativeElement)}onClick(a){this.allowOnClick&&a.stopPropagation()}ngAfterViewInit(){this.model.hasActions&&this.model.initResponsivityManager(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.resetResponsivityManager()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-action-bar"],["sv-ng-action-bar"]],viewQuery:function(a,c){if(1&a&&i.GBs(Rn,5),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{model:"model",handleClick:"handleClick"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","click",4,"ngIf"],[3,"click"],[4,"ngFor","ngForOf"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,gu,1,1,"ng-template",null,0,i.C5r)},dependencies:[pr,V.bT,V.Sq],styles:["[_nghost-%COMP%] { display: none }"]}),l})();N.Instance.registerComponent("sv-action-bar",st);let ft=(()=>{class l{constructor(a){this.el=a}ngOnChanges(a){a.visible.currentValue?this.show():this.hide()}hide(){this.el.nativeElement.style.display="none"}show(){this.el.nativeElement.style.display=""}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.aKT))},l.\u0275dir=i.FsC({type:l,selectors:[["","visible",""]],inputs:{visible:"visible"},features:[i.OA$]}),l})(),hl=(()=>{class l extends re{constructor(a){super(a),this.changeDetectorRef.detach()}getModel(){return this.model}get applyButtonText(){const a=this.model;return a?a.applyButtonText:null}apply(){const a=this.model;a&&a.apply()}getPropertiesToUpdateSync(){return["height"]}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}afterUpdate(a=!1){super.afterUpdate(a),a||!this.model.isPositionSet&&this.model.isVisible&&this.model.updateOnShowing()}clickInside(a){a.stopPropagation()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-popup-container"],["","sv-ng-popup-container",""]],inputs:{model:"model"},features:[i.Vt3],decls:10,vars:18,consts:[["tabindex","-1",1,"sv-popup",3,"click","keydown","visible"],[1,"sv-popup__container",3,"click"],[1,"sv-popup__shadow"],[4,"ngIf"],[1,"sv-popup__body-content"],["class","sv-popup__body-header",4,"ngIf"],[1,"sv-popup__scrolling-content"],[1,"sv-popup__content"],[3,"component"],["class","sv-popup__body-footer",4,"ngIf"],[1,"sv-popup__body-header"],[1,"sv-popup__body-footer"],[3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div",0),i.bIt("click",function(v){return c.model.clickOutside(v)})("keydown",function(v){return c.model.onKeyDown(v)}),i.j41(1,"div",1),i.bIt("click",function(v){return c.clickInside(v)}),i.j41(2,"div",2),i.DNE(3,Yr,2,6,"ng-container",3),i.j41(4,"div",4),i.DNE(5,Xr,2,1,"div",5),i.j41(6,"div",6)(7,"div",7),i.DNE(8,yu,0,0,"ng-template",8),i.k0s()(),i.DNE(9,Zi,2,1,"div",9),i.k0s()()()()),2&a&&(i.HbH(c.model.styleClass),i.Y8G("visible",c.model.isVisible),i.R7$(),i.Aen(i.s1E(9,qt,c.model.left,c.model.top,c.model.height,c.model.minWidth,c.model.width)),i.R7$(2),i.Y8G("ngIf",c.model.showHeader),i.R7$(2),i.Y8G("ngIf",c.model.title),i.R7$(3),i.Y8G("component",i.l_i(15,K,c.model.contentComponentName,c.model.contentComponentData)),i.R7$(),i.Y8G("ngIf",c.model.showFooter))},dependencies:[st,ft,V.bT,fe],encapsulation:2}),l})(),dr=(()=>{class l{constructor(a,c,f){this.injector=a,this.applicationRef=c,this.componentFactoryResolver=f}createComponent(a){const c=new Yi.aI(a.container,this.componentFactoryResolver,this.applicationRef,this.injector),f=new Yi.A8(hl),v=c.attach(f);return a.setComponentElement(a.container.children[0]),v.instance.model=a,v.changeDetectorRef.detectChanges(),c}}return l.\u0275fac=function(a){return new(a||l)(i.KVO(i.zZn),i.KVO(i.o8S),i.KVO(i.OM3))},l.\u0275prov=i.jDH({token:l,factory:l.\u0275fac}),l})(),ml=(()=>{class l{constructor(a){this.popupService=a,this.functionDefined=!1}showDialog(a,c){return(this.model=(0,ue.createPopupModalViewModel)(a,c)).onVisibilityChanged.add((O,q)=>{q.isVisible||(this.portalHost.detach(),this.model.dispose())}),this.portalHost=this.popupService.createComponent(this.model),this.model.model.isVisible=!0,this.model}ngOnInit(){ue.settings.showModal||(this.functionDefined=!0,ue.settings.showModal=(a,c,f,v,O,q,ne="popup")=>{const le=(0,ue.createDialogOptions)(a,c,f,v,void 0,void 0,O,q,ne);return this.showDialog(le)},ue.settings.showDialog=(a,c)=>this.showDialog(a,c))}ngOnDestroy(){var a,c;null===(a=this.portalHost)||void 0===a||a.detach(),null===(c=this.model)||void 0===c||c.dispose(),this.functionDefined&&(ue.settings.showModal=void 0,ue.settings.showDialog=void 0)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(dr))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-modal-container"]],decls:0,vars:0,template:function(a,c){},styles:["[_nghost-%COMP%]{display:none}"]}),l})(),gl=(()=>{class l{ngOnInit(){this.svgContainer.nativeElement.innerHTML=ue.SvgRegistry.iconsRenderedHtml()}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-svg-bundle"]],viewQuery:function(a,c){if(1&a&&i.GBs(vu,7),2&a){let f;i.mGM(f=i.lsd())&&(c.svgContainer=f.first)}},decls:2,vars:0,consts:[["svgContainer",""],["id","sv-icon-holder-global-container"]],template:function(a,c){1&a&&(i.qSk(),i.nrm(0,"svg",1,0))},styles:["[_nghost-%COMP%] { display: none; }"]}),l})(),yl=(()=>{class l extends Ee{get ariaLabel(){return this.element.titleAriaLabel}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-dynamic-head"]],inputs:{tagName:"tagName",element:"element"},features:[i.Vt3],ngContentSelectors:Sn,decls:2,vars:0,consts:[["template",""],["titleContent",""],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],[4,"ngTemplateOutlet"]],template:function(a,c){1&a&&(i.NAR(),i.DNE(0,ti,9,7,"ng-template",null,0,i.C5r))},dependencies:[V.ux,V.e1,V.T3],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),ae=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-string"],["","sv-ng-string",""]],inputs:{model:"model"},decls:1,vars:6,consts:[[3,"component"]],template:function(a,c){1&a&&i.DNE(0,Tu,0,0,"ng-template",0),2&a&&i.Y8G("component",i.l_i(3,K,c.model.renderAs,i.eq3(1,Nt,c.model.renderAsData)))},dependencies:[fe],encapsulation:2}),l})(),fr=(()=>{class l extends Ee{get cssClasses(){return(this.element.isPanel?this.element.cssClasses.panel:this.element.cssClasses)||{}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-element-title-actions"]],inputs:{element:"element"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["elementTitleContent",""],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"sv-title-actions"],[1,"sv-title-actions__title"],[3,"model"],[3,"model",4,"ngIf"],[3,"class",4,"ngIf"],["style","position: static",3,"class",4,"ngIf"],[2,"position","static"]],template:function(a,c){1&a&&i.DNE(0,Mu,4,2,"ng-template",null,0,i.C5r)},dependencies:[st,ae,V.bT,V.T3],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),Hn=(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-element-title"]],inputs:{element:"element"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"tagName","element",4,"ngIf"],[3,"tagName","element"],[3,"element"]],template:function(a,c){1&a&&i.DNE(0,tt,1,1,"ng-template",null,0,i.C5r)},dependencies:[yl,fr,V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),vl=(()=>{class l{constructor(a,c){this.viewContainerRef=a,this.changeDetectorRef=c}ngAfterViewInit(){this.survey.afterRenderHeader(this.viewContainerRef.element.nativeElement),this.survey.locLogo.onChanged=()=>{this.changeDetectorRef.detectChanges()}}ngOnDestroy(){this.survey.locLogo.onChanged=()=>{}}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.c1b),i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["","sv-ng-survey-header",""]],inputs:{survey:"survey"},attrs:Qt,decls:4,vars:5,consts:[[4,"ngIf"],[3,"class","maxWidth",4,"ngIf"],[3,"component"],[3,"element"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&(i.DNE(0,is,1,6,null,0)(1,rs,3,6,"div",1)(2,as,1,6,null,0),i.nrm(3,"div")),2&a&&(i.Y8G("ngIf",c.survey.isLogoBefore),i.R7$(),i.Y8G("ngIf",c.survey.renderedHasTitle),i.R7$(),i.Y8G("ngIf",c.survey.isLogoAfter),i.R7$(),i.HbH(c.survey.css.headerClose))},dependencies:[Hn,ae,V.bT,fe],encapsulation:2}),l})(),gn=(()=>{class l{constructor(){}get role(){return"alert"}get id(){return this.element.id+"_errors"}get ariaLive(){return"polite"}get class(){return this.element.cssError}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["","sv-ng-errors",""]],hostVars:5,hostBindings:function(a,c){2&a&&(i.Mr5("id",c.id),i.BMQ("role",c.role)("aria-live",c.ariaLive),i.HbH(c.class))},inputs:{element:"element",location:"location"},attrs:no,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"component"]],template:function(a,c){1&a&&i.DNE(0,io,2,8,"ng-container",0),2&a&&i.Y8G("ngForOf",c.element.errors)},dependencies:[V.Sq,fe],encapsulation:2}),l})(),y=(()=>{class l extends re{getModel(){return this.model}get elementComponentName(){return this.model.isPanel?"panel":"question"}onModelChanged(){var a;super.onModelChanged(),this.previousModel&&this.previousModel.setWrapperElement(void 0),this.model&&null!==(a=this.container)&&void 0!==a&&a.nativeElement&&this.model.setWrapperElement(this.container.nativeElement)}get componentName(){const a=this.surveyModel;if(a){const c=a.getElementWrapperComponentName(this.model);if(c)return c}return this.elementComponentName}get rootStyle(){return this.model.cssClasses?this.model.rootStyle:{}}get componentData(){const a=this.surveyModel;let c;return a&&(c=a.getElementWrapperComponentData(this.model)),{componentName:this.elementComponentName,componentData:{model:this.model,data:c}}}ngAfterViewInit(){var a;this.model&&null!==(a=this.container)&&void 0!==a&&a.nativeElement&&this.model.setWrapperElement(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.setWrapperElement(void 0)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-element"]],viewQuery:function(a,c){if(1&a&&i.GBs(Rn,5,i.aKT),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","style","focusin",4,"ngIf"],[3,"focusin"],[3,"component"]],template:function(a,c){1&a&&i.DNE(0,un,1,1,"ng-template",null,0,i.C5r)},dependencies:[V.bT,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),Y=(()=>{class l extends re{constructor(a,c,f){super(a,c),this.ngZone=f}getModel(){return this.row}trackElementBy(a,c){return c.name+a}ngAfterViewInit(){var a;const c=null===(a=this.container)||void 0===a?void 0:a.nativeElement;c&&(this.row.setRootElement(c),this.row.isNeedRender||this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.row.startLazyRendering(c)},10)}))}onModelChanged(){var a;super.onModelChanged(),this.previousModel&&(this.previousModel.setRootElement(void 0),!(null===(a=this.container)||void 0===a)&&a.nativeElement&&this.row.setRootElement(this.container.nativeElement),this.row.isNeedRender=this.previousModel.isNeedRender,this.stopLazyRendering())}stopLazyRendering(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}ngOnDestroy(){super.ngOnDestroy(),this.row.setRootElement(void 0),this.stopLazyRendering()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc),i.rXU(i.c1b),i.rXU(i.SKi))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-row"]],viewQuery:function(a,c){if(1&a&&i.GBs(Rn,5,i.aKT),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{row:"row"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["container",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model",4,"ngIf"],[4,"ngIf"],[3,"model"],[3,"component"]],template:function(a,c){1&a&&i.DNE(0,J,3,4,"ng-template",null,0,i.C5r)},dependencies:[y,V.Sq,V.bT,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),Si=(()=>{class l extends re{getModel(){return this.model}onModelChanged(){this.pageContainerRef&&this.pageContainerRef.nativeElement&&this.model.survey.afterRenderPage(this.pageContainerRef.nativeElement)}ngAfterViewInit(){var a,c;null===(a=this.model.survey)||void 0===a||a.afterRenderPage(null===(c=this.pageContainerRef)||void 0===c?void 0:c.nativeElement)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["page"],["sv-ng-page"]],viewQuery:function(a,c){if(1&a&&i.GBs(Fu,5,i.aKT),2&a){let f;i.mGM(f=i.lsd())&&(c.pageContainerRef=f.first)}},inputs:{model:"model",survey:"survey"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["pageContainer",""],[4,"ngIf"],[3,"element"],[3,"class",4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"],["sv-ng-errors","",3,"element"],[3,"component"],[3,"row"]],template:function(a,c){1&a&&i.DNE(0,ju,1,1,"ng-template",null,0,i.C5r)},dependencies:[Hn,ae,gn,Y,V.bT,V.Sq,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})(),at=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-brand-info"]],decls:10,vars:0,consts:[[1,"sv-brand-info"],["href","https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page",1,"sv-brand-info__logo"],["src","https://surveyjs.io/Content/Images/poweredby.svg"],[1,"sv-brand-info__text"],["href","https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"],[1,"sv-brand-info__terms"],["href","https://surveyjs.io/TermsOfUse"]],template:function(a,c){1&a&&(i.j41(0,"div",0)(1,"a",1),i.nrm(2,"img",2),i.k0s(),i.j41(3,"div",3),i.EFF(4,"Try and see how easy it is to "),i.j41(5,"a",4),i.EFF(6,"create a survey"),i.k0s()(),i.j41(7,"div",5)(8,"a",6),i.EFF(9,"Terms of Use & Privacy Statement"),i.k0s()()())},encapsulation:2}),l})();N.Instance.registerComponent("sv-brand-info",at);let hr=(()=>{class l extends re{getStateElement(){return this.notifier}getModel(){return this.notifier}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-notifier"]],inputs:{notifier:"notifier"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["role","alert","aria-live","polite"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,Nu,1,1,"ng-template",null,0,i.C5r)},dependencies:[st,V.bT],styles:["[_nghost-%COMP%] { display: none; }"]}),l})(),Q=(()=>{class l{constructor(a){this.domSanitizer=a}transform(a){return this.domSanitizer.bypassSecurityTrustHtml(a)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(Xi.up,16))},l.\u0275pipe=i.EJ8({name:"safeHtml",type:l,pure:!0}),l})(),z=(()=>{class l extends re{constructor(){super(...arguments),this.isSurveyUpdated=!1}getModel(){return this.model}onModelChanged(){this.previousModel&&(this.previousModel.destroyResizeObserver(),this.previousModel.renderCallback=void 0),this.model&&(this.model.renderCallback=()=>{this.detectChanges()}),this.isSurveyUpdated=!0}ngOnDestroy(){super.ngOnDestroy(),this.model&&(this.model.rootElement=void 0,this.model.destroyResizeObserver(),this.model.renderCallback=void 0)}ngAfterViewInit(){this.isSurveyUpdated=!0}ngAfterViewChecked(){this.model&&this.isSurveyUpdated&&(this.model.afterRenderSurvey(this.rootEl.nativeElement),this.model.startTimerFromUI()),super.ngAfterViewChecked()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["survey-content"]],viewQuery:function(a,c){if(1&a&&i.GBs(hs,5),2&a){let f;i.mGM(f=i.lsd())&&(c.rootEl=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["surveyContainer",""],[3,"class","style","lang","dir",4,"ngIf"],[3,"lang","dir"],[4,"ngIf"],[3,"class","style",4,"ngIf"],["onsubmit","return false;"],[1,"sv_custom_header",3,"hidden"],["sv-ng-survey-header","",3,"class","survey",4,"ngIf"],[3,"component"],[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[3,"notifier"],["sv-ng-survey-header","",3,"survey"],[1,"sv-components-column","sv-components-column--expandable"],[3,"id"],[3,"model","survey"],[3,"innerHtml"]],template:function(a,c){1&a&&i.DNE(0,ai,1,1,"ng-template",null,0,i.C5r)},dependencies:[gl,vl,Si,at,hr,V.bT,k.qT,k.cb,k.cV,fe,Q],encapsulation:2}),l})();N.Instance.registerComponent("survey",z);let Qn=(()=>{class l extends re{constructor(a){super(a),a.detach()}getModel(){return this.model}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["survey"]],inputs:{model:"model"},features:[i.Vt3],decls:2,vars:1,consts:[[3,"model"]],template:function(a,c){1&a&&i.nrm(0,"sv-ng-modal-container")(1,"survey-content",0),2&a&&(i.R7$(),i.Y8G("model",c.model))},dependencies:[ml,z],encapsulation:2}),l})(),_e=(()=>{class l{constructor(a){this.viewContaierRef=a}createSvg(){this.iconName&&ue.createSvg(this.size,this.width,this.height,this.iconName,this.viewContaierRef.element.nativeElement,this.title)}get rootClass(){let a="sv-svg-icon";return!this.css&&this.partCss?a+=" "+this.partCss:this.css&&(a=this.css),a}get rootRole(){return"img"}ngOnChanges(){const a=this.viewContaierRef.element.nativeElement;a.innerHTML="",a.appendChild(document.createElementNS("http://www.w3.org/2000/svg","use")),this.createSvg()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.c1b))},l.\u0275cmp=i.VBU({type:l,selectors:[["","sv-ng-svg-icon",""]],hostVars:3,hostBindings:function(a,c){2&a&&(i.Mr5("[attr.role]",c.rootRole),i.HbH(c.rootClass))},inputs:{size:"size",width:"width",height:"height",iconName:"iconName",partCss:"partCss",css:"css",title:"title"},features:[i.OA$],attrs:yo,decls:0,vars:0,template:function(a,c){},encapsulation:2}),l})(),De=(()=>{class l extends re{getModel(){return this.model}ngAfterViewInit(){var a;this.model&&this.model.afterRenderQuestionElement(null===(a=this.elementContentRef)||void 0===a?void 0:a.nativeElement)}ngOnDestroy(){var a;this.model&&this.model.beforeDestroyQuestionElement(null===(a=this.elementContentRef)||void 0===a?void 0:a.nativeElement),super.ngOnDestroy()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["ng-component"]],viewQuery:function(a,c){if(1&a&&i.GBs(vo,5),2&a){let f;i.mGM(f=i.lsd())&&(c.elementContentRef=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:0,vars:0,template:function(a,c){},encapsulation:2}),l})();function bl(l){return l.customWidget?"survey-customwidget":l.isDefaultRendering()?l.getTemplate()+"-question":l.getComponentName()}let ee=(()=>{class l{constructor(){}get rootClass(){return this.element.cssHeader}get width(){return this.element.titleWidth}click(a){void 0!==this.element.clickTitleFunction&&this.element.clickTitleFunction(a)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["","sv-ng-element-header",""]],hostVars:4,hostBindings:function(a,c){1&a&&i.bIt("click",function(v){return c.click(v)}),2&a&&(i.HbH(c.rootClass),i.xc7("width",c.width))},inputs:{element:"element"},attrs:Ps,decls:3,vars:3,consts:[[3,"element"],["sv-ng-string","",3,"class","model","display",4,"ngIf"],[4,"ngIf"],["sv-ng-string","",3,"model"],[3,"model"]],template:function(a,c){1&a&&(i.nrm(0,"sv-ng-element-title",0),i.DNE(1,Wu,1,6,"div",1)(2,ui,2,1,"ng-container",2)),2&a&&(i.Y8G("element",c.element),i.R7$(),i.Y8G("ngIf",c.element.hasDescriptionUnderTitle),i.R7$(),i.Y8G("ngIf",c.element.hasAdditionalTitleToolbar))},dependencies:[Hn,ae,st,V.bT],encapsulation:2}),l})(),Xt=(()=>{class l{constructor(){}get comment(){return this.question.comment?this.question.comment:""}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-comment"],["","sv-ng-comment",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"change","input","id","value","disabled"]],template:function(a,c){1&a&&i.DNE(0,Vs,1,12,"textarea",0)(1,Yu,2,1,"div",1),2&a&&(i.Y8G("ngIf",!c.question.isReadOnlyRenderDiv()),i.R7$(),i.Y8G("ngIf",c.question.isReadOnlyRenderDiv()))},dependencies:[V.bT],encapsulation:2}),l})();N.Instance.registerComponent("question",(()=>{class l extends Ee{getModel(){return this.model}ngAfterViewInit(){var a,c;null!==(a=this.rootEl)&&void 0!==a&&a.nativeElement&&this.model.afterRender(null===(c=this.rootEl)||void 0===c?void 0:c.nativeElement)}ngOnDestroy(){this.model&&this.model.destroyResizeObserver()}getComponentName(){return bl(this.model)}getQuestionContentWrapperComponentName(){return this.model.survey.getQuestionContentWrapperComponentName(this.model)}getQuestionContentWrapperComponentData(){return{componentData:{model:this.model,data:this.model.survey.getElementWrapperComponentData(this.model)}}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-question"]],viewQuery:function(a,c){if(1&a&&i.GBs(xe,5),2&a){let f;i.mGM(f=i.lsd())&&(c.rootEl=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["elementContainer",""],[3,"class","style","id",4,"ngIf"],[3,"id"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"component"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],["role","presentation",3,"visible"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"],[3,"question"]],template:function(a,c){1&a&&i.DNE(0,Te,1,1,"ng-template",null,0,i.C5r)},dependencies:[gn,ee,ae,Xt,V.bT,fe,ft],encapsulation:2}),l})()),N.Instance.registerComponent(ue.LocalizableString.defaultRenderer,(()=>{class l{constructor(a){this.changeDetectorRef=a,this.className=""}ngDoCheck(){this.model!==this.previousModel&&(this.className=this.model.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer",this.previousModel&&this.clearOnChanged(this.previousModel),this.model&&(this.model.onChanged=()=>{this.changeDetectorRef.detectChanges()}),this.previousModel=this.model)}clearOnChanged(a){a.onChanged=()=>{}}ngOnDestroy(){this.model&&this.clearOnChanged(this.model)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-string-viewer"],["string-viewer"],["","sv-ng-string-viewer",""]],inputs:{model:"model"},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[3,"innerHtml"]],template:function(a,c){1&a&&i.DNE(0,ci,2,3,"span",0)(1,Rs,2,5,"span",1),2&a&&(i.Y8G("ngIf",!c.model.hasHtml),i.R7$(),i.Y8G("ngIf",c.model.hasHtml))},dependencies:[V.bT,Q]}),l})()),N.Instance.registerComponent("popup-pointer",(()=>{class l extends re{get popupModel(){return this.model}getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-popup-pointer"],["","sv-ng-popup-pointer",""]],inputs:{model:"model"},features:[i.Vt3],decls:1,vars:5,consts:[[1,"sv-popup__pointer"]],template:function(a,c){1&a&&i.nrm(0,"span",0),2&a&&i.Aen(i.l_i(2,nc,c.popupModel.pointerTarget.left,c.popupModel.pointerTarget.top))},encapsulation:2}),l})());let yn=(()=>{class l extends re{constructor(a,c){super(c,a)}getModel(){return this.popupModel}onModelChanged(){var a;this.model&&(this.model.resetComponentElement(),this.model.dispose()),this.model=(0,ue.createPopupViewModel)(this.popupModel,null===(a=this.viewContainerRef)||void 0===a?void 0:a.element.nativeElement),this.setContainerElement()}setContainerElement(){var a,c;if(null!==(a=this.containerRef)&&void 0!==a&&a.nativeElement){const f=this.containerRef.nativeElement;this.model.setComponentElement(f,this.getTarget?this.getTarget(f.parentElement):null===(c=f?.parentElement)||void 0===c?void 0:c.parentElement,this.getArea?this.getArea(f.parentElement):void 0)}}ngAfterViewInit(){this.setContainerElement()}ngOnInit(){this.onModelChanged()}ngOnDestroy(){this.model.resetComponentElement(),this.model.dispose(),super.ngOnDestroy()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.c1b),i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-popup"],["","sv-ng-popup",""]],viewQuery:function(a,c){if(1&a&&i.GBs(ic,5),2&a){let f;i.mGM(f=i.lsd())&&(c.containerRef=f.first)}},inputs:{popupModel:"popupModel",getTarget:"getTarget",getArea:"getArea"},features:[i.Vt3],decls:3,vars:1,consts:[["containerRef",""],[3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.nrm(2,"sv-ng-popup-container",1),i.k0s()),2&a&&(i.R7$(2),i.Y8G("model",c.model))},dependencies:[hl],encapsulation:2}),l})();N.Instance.registerComponent("skeleton-question",(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["question-skeleton"]],inputs:{model:"model"},decls:5,vars:2,consts:[[1,"sv-skeleton--not-implemented"]],template:function(a,c){1&a&&(i.j41(0,"div",0)(1,"div"),i.EFF(2),i.k0s(),i.j41(3,"div"),i.EFF(4),i.k0s()()),2&a&&(i.R7$(2),i.JRh(c.model.getType()+" question type renderer is not implemented yet."),i.R7$(2),i.JRh(c.model.value))},styles:[".sv-skeleton--not-implemented[_ngcontent-%COMP%]{width:100%;min-width:300px;min-height:40px;border:1px solid red;text-align:center}"]}),l})());let G=(()=>{class l extends re{get dropdownModel(){var a;return null===(a=this.model)||void 0===a?void 0:a.dropdownListModel}getModel(){return this.model.dropdownListModel}ngOnInit(){super.ngOnInit()}click(a){var c;null===(c=this.dropdownModel)||void 0===c||c.onClick(a)}chevronPointerDown(a){var c;null===(c=this.dropdownModel)||void 0===c||c.chevronPointerDown(a)}clear(a){var c;null===(c=this.dropdownModel)||void 0===c||c.onClear(a)}keyhandler(a){var c;null===(c=this.dropdownModel)||void 0===c||c.keyHandler(a)}blur(a){this.model.onBlur(a),this.updateInputDomElement()}focus(a){this.model.onFocus(a)}inputChange(a){this.detectChanges()}updateInputDomElement(){var a;if(null!==(a=this.inputElementRef)&&void 0!==a&&a.nativeElement){const c=this.inputElementRef.nativeElement;ue.Helpers.isTwoValueEquals(this.model.inputStringRendered,c.value,!1,!0,!1)||(c.value=this.model.inputStringRendered||"")}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-dropdown"],["","sv-ng-dropdown",""]],viewQuery:function(a,c){if(1&a&&i.GBs(wo,5),2&a){let f;i.mGM(f=i.lsd())&&(c.inputElementRef=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:5,vars:6,consts:[["inputElement",""],[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],[3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"model",4,"ngIf"],["type","text","autocomplete","off",3,"ngModelChange","change","blur","focus","ngModel"],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[2,"visibility","hidden"],[3,"component"],[3,"model"],["aria-hidden","true",3,"click","visible"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(a,c){1&a&&(i.j41(0,"div",1),i.bIt("click",function(v){return c.click(v)}),i.DNE(1,Os,9,36,"div",2)(2,sc,1,1,"sv-ng-popup",3)(3,Es,4,10,"div",4)(4,di,2,5,"div",5),i.k0s()),2&a&&(i.HbH(c.model.cssClasses.selectWrapper),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.cssClasses.chevronButtonIconId))},dependencies:[ae,_e,yn,V.bT,fe,k.me,k.BC,k.vS,ft],encapsulation:2}),l})();N.Instance.registerComponent("sv-tagbox-filter",(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-tagbox-filter"]],inputs:{model:"model",question:"question"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["type","text","autocomplete","off",3,"ngModelChange","keydown","blur","focus","ngModel"],[2,"visibility","hidden"]],template:function(a,c){1&a&&i.DNE(0,uc,5,22,"ng-template",null,0,i.C5r)},dependencies:[V.bT,k.me,k.BC,k.vS],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let mr=(()=>{class l extends re{removeItem(a){this.question.dropdownListModel.deselectItem(this.item.value),a.stopPropagation()}getModel(){return this.item}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-tagbox-item"],["","sv-ng-tagbox-item",""]],inputs:{item:"item",question:"question"},features:[i.Vt3],decls:4,vars:6,consts:[[1,"sv-tagbox__item"],["sv-ng-string","",1,"sv-tagbox__item-text",3,"model"],[3,"click"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(a,c){1&a&&(i.j41(0,"div",0),i.nrm(1,"div",1),i.j41(2,"div",2),i.bIt("click",function(v){return c.removeItem(v)}),i.qSk(),i.nrm(3,"svg",3),i.k0s()()),2&a&&(i.R7$(),i.Y8G("model",c.item.locText),i.R7$(),i.HbH(c.question.cssClasses.cleanItemButton),i.R7$(),i.Y8G("iconName",c.question.cssClasses.cleanItemButtonIconId)("partCss",c.question.cssClasses.cleanItemButtonSvg)("size","auto"))},dependencies:[ae,_e],encapsulation:2}),l})();N.Instance.registerComponent("sv-tagbox-item",mr);let Jt=(()=>{class l{get dropdownModel(){var a;return null===(a=this.model)||void 0===a?void 0:a.dropdownListModel}getModel(){return this.model}ngOnInit(){this.model.dropdownListModel||(this.model.dropdownListModel=new ue.DropdownMultiSelectListModel(this.model))}click(a){var c;null===(c=this.dropdownModel)||void 0===c||c.onClick(a)}chevronPointerDown(a){var c;null===(c=this.dropdownModel)||void 0===c||c.chevronPointerDown(a)}clear(a){var c;null===(c=this.dropdownModel)||void 0===c||c.onClear(a)}keyhandler(a){var c;null===(c=this.dropdownModel)||void 0===c||c.keyHandler(a)}blur(a){var c;null===(c=this.model)||void 0===c||c.onBlur(a)}focus(a){var c;null===(c=this.model)||void 0===c||c.onFocus(a)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-tagbox"],["","sv-ng-tagbox",""]],inputs:{model:"model"},decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],[3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"component"],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[3,"item","question",4,"ngFor","ngForOf"],[3,"item","question"],["aria-hidden","true",3,"click","visible"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],[3,"model",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(a,c){1&a&&(i.j41(0,"div",0),i.bIt("click",function(v){return c.click(v)}),i.DNE(1,Ms,5,23,"div",1)(2,To,1,1,"sv-ng-popup",2)(3,ks,2,9,"div",3)(4,As,2,5,"div",4),i.k0s()),2&a&&(i.HbH(c.model.cssClasses.selectWrapper),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.cssClasses.chevronButtonIconId))},dependencies:[mr,_e,yn,ae,V.bT,V.Sq,fe,ft],encapsulation:2}),l})();N.Instance.registerComponent("sv-dropdown-option-item",(()=>{class l extends re{onModelChanged(){this.item.locText&&(this.item.locText.onChanged=()=>{this.detectChanges()})}getModel(){return this.item}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-dropdown-option-item"],["","sv-ng-dropdown-option-item",""]],inputs:{item:"item"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"value","disabled"]],template:function(a,c){1&a&&i.DNE(0,hi,3,3,"ng-template",null,0,i.C5r)},dependencies:[k.xH,k.y7],encapsulation:2}),l})());let vt=(()=>{class l{constructor(){}get otherValue(){return this.question.otherValue||""}onOtherValueChange(a){this.question.onOtherValueChange(a)}onOtherValueInput(a){this.question.onOtherValueInput(a)}get otherId(){return this.question.otherId}get otherPlaceholder(){return this.question.otherPlaceholder}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-comment-other"],["","sv-ng-comment-other",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"change","input","id","value","disabled"]],template:function(a,c){1&a&&i.DNE(0,fc,1,12,"textarea",0)(1,hc,2,1,"div",1),2&a&&(i.Y8G("ngIf",!c.question.isReadOnlyRenderDiv()),i.R7$(),i.Y8G("ngIf",c.question.isReadOnlyRenderDiv()))},dependencies:[V.bT],encapsulation:2}),l})();N.Instance.registerComponent("dropdown-select-question",(()=>{class l{get editableValue(){return this.model.renderedValue||""}set editableValue(a){this.model.renderedValue=""===a?void 0:a}click(a){this.model.onClick(a)}keyup(a){this.model.onKeyUp(a)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-dropdown-select-question"]],inputs:{model:"model"},decls:6,vars:8,consts:[[3,"ngModel","disabled","class","required","ngModelChange","click","keyup",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","display","question",4,"ngIf"],[3,"ngModelChange","click","keyup","ngModel","disabled","required"],["value","",4,"ngIf"],[4,"ngFor","ngForOf"],["value",""],[3,"component"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-comment-other","",3,"question"]],template:function(a,c){1&a&&(i.j41(0,"div")(1,"div"),i.DNE(2,Fs,3,13,"select",0)(3,js,2,4,"div",1)(4,Bs,2,5,"div",2),i.k0s(),i.DNE(5,zt,1,5,"div",3),i.k0s()),2&a&&(i.HbH(c.model.renderCssRoot),i.R7$(),i.HbH(c.model.cssClasses.selectWrapper),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.isReadOnly),i.R7$(),i.Y8G("ngIf",c.model.cssClasses.chevronButtonIconId),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected))},dependencies:[_e,vt,V.bT,k.wz,k.BC,k.vS,k.YS,k.xH,k.y7,V.Sq,fe],encapsulation:2}),l})()),ue.RendererFactory.Instance.registerRenderer("dropdown","select","dropdown-select-question");let Oi=(()=>{class l{constructor(a){this.domSanitizer=a}transform(a){return this.domSanitizer.bypassSecurityTrustUrl(a)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(Xi.up,16))},l.\u0275pipe=i.EJ8({name:"safeUrl",type:l,pure:!0}),l})(),wl=(()=>{class l{constructor(a){this.domSanitizer=a}transform(a){return this.domSanitizer.bypassSecurityTrustResourceUrl(a)}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(Xi.up,16))},l.\u0275pipe=i.EJ8({name:"safeResourceUrl",type:l,pure:!0}),l})();N.Instance.registerComponent("sv-logo-image",(()=>{class l extends Ee{get survey(){return this.data}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-logo-image"]],inputs:{data:"data"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""]],template:function(a,c){1&a&&i.DNE(0,vc,3,16,"ng-template",null,0,i.C5r)},dependencies:[Oi],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let Ei=(()=>{class l extends re{getModel(){return this.counter}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-character-counter"]],inputs:{counter:"counter",remainingCharacterCounter:"remainingCharacterCounter"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""]],template:function(a,c){1&a&&i.DNE(0,ve,2,3,"ng-template",null,0,i.C5r)},styles:["[_nghost-%COMP%] { display: none; }"]}),l})();N.Instance.registerComponent("character-counter",Ei);let Di=(()=>{class l extends De{get value(){var a;return null!==(a=this.model.inputValue)&&void 0!==a?a:""}blur(a){this.model.onBlur(a),this.updateInputDomElement()}updateInputDomElement(){var a;if(null!==(a=this.inputElementRef)&&void 0!==a&&a.nativeElement){const c=this.inputElementRef.nativeElement;ue.Helpers.isTwoValueEquals(this.value,c.value,!1,!0,!1)||(c.value=this.value)}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-text-question"]],viewQuery:function(a,c){if(1&a&&i.GBs(wo,5),2&a){let f;i.mGM(f=i.lsd())&&(c.inputElementRef=f.first)}},features:[i.Vt3],decls:5,vars:3,consts:[["input",""],["contentElement",""],["inputElement","","contentElement",""],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"change","keyup","keydown","blur","focus","compositionupdate","value","disabled","type","id","readonly"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[3,"counter","remainingCharacterCounter"]],template:function(a,c){1&a&&i.DNE(0,Rt,1,1,"ng-container",3)(1,Ns,4,3,"div",4)(2,Io,3,1,"div",4)(3,An,4,25,"ng-template",null,0,i.C5r),2&a&&(i.Y8G("ngIf",!c.model.dataListId&&!c.model.isReadOnlyRenderDiv()),i.R7$(),i.Y8G("ngIf",c.model.dataListId&&!c.model.isReadOnlyRenderDiv()),i.R7$(),i.Y8G("ngIf",c.model.isReadOnlyRenderDiv()))},dependencies:[Ei,V.bT,V.T3,V.Sq,k.xH,k.y7]}),l})();N.Instance.registerComponent("text-question",Di),N.Instance.registerComponent("html-question",(()=>{class l extends De{onModelChanged(){super.onModelChanged(),this.model.locHtml.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){this.model.locHtml.onChanged=()=>{},super.ngOnDestroy()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-html-question"]],features:[i.Vt3],decls:3,vars:5,consts:[["contentElement",""],[3,"innerHTML"]],template:function(a,c){1&a&&(i.nrm(0,"div",1,0),i.nI1(2,"safeHtml")),2&a&&(i.HbH(c.model.renderCssRoot),i.Y8G("innerHTML",i.bMT(2,3,c.model.locHtml.renderedHtml),i.npT))},dependencies:[Q],encapsulation:2}),l})());let vn=(()=>{class l extends De{constructor(){super(...arguments),this.inputType="checkbox",this.showLegend=!0}getDefaultComponentName(){return"sv-ng-selectbase-item"}trackItemBy(a,c){return c.value}trackColumnBy(a){return a}getItemValueComponentName(a){return this.model.getItemValueWrapperComponentName(a)||this.getDefaultComponentName()}getItemValueComponentData(a){return{componentName:this.model.getPropertyByName("itemComponent").isDefaultValue(this.model.itemComponent)?this.getDefaultComponentName():this.model.itemComponent,componentData:{question:this.model,model:a,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(a)}}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-selectbase"]],inputs:{model:"model"},features:[i.Vt3],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(a,c){1&a&&(i.j41(0,"fieldset",null,0),i.DNE(2,So,2,1,"legend",1)(3,bc,2,2,"ng-container",2)(4,Eo,2,2,"ng-container",2)(5,Hs,2,4,"div",3)(6,mi,3,4,"ng-container",2)(7,Ln,2,2,"ng-container",2)(8,Qs,1,3,"div",4)(9,Gs,2,3,"div",2),i.k0s()),2&a&&(i.HbH(c.model.getSelectBaseRootCss()),i.BMQ("role",c.model.a11y_input_ariaRole)("aria-required",c.model.a11y_input_ariaRequired)("aria-label",c.model.a11y_input_ariaLabel)("aria-labelledby",c.model.a11y_input_ariaLabelledBy)("aria-describedby",c.model.a11y_input_ariaDescribedBy)("aria-invalid",c.model.a11y_input_ariaInvalid)("aria-errormessage",c.model.a11y_input_ariaErrormessage),i.R7$(2),i.Y8G("ngIf",c.showLegend),i.R7$(),i.Y8G("ngIf",c.model.hasHeadItems),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&!c.model.blockedRow),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&c.model.blockedRow),i.R7$(),i.Y8G("ngIf",c.model.hasColumns),i.R7$(),i.Y8G("ngIf",c.model.hasFootItems),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected),i.R7$(),i.Y8G("ngIf",c.model.showClearButtonInContent))},dependencies:[vt,V.bT,V.Sq,fe],encapsulation:2}),l})();N.Instance.registerComponent("selectbase",vn),N.Instance.registerComponent("radiogroup-question",(()=>{class l extends vn{ngOnInit(){this.inputType="radio",this.showLegend=!1,super.ngOnInit()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-radiogroup-question"]],features:[i.Vt3],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(a,c){1&a&&(i.j41(0,"fieldset",null,0),i.DNE(2,$s,2,1,"legend",1)(3,Us,2,2,"ng-container",2)(4,wc,2,2,"ng-container",2)(5,Pc,2,4,"div",3)(6,pt,3,4,"ng-container",2)(7,Js,2,2,"ng-container",2)(8,Ks,1,3,"div",4)(9,dn,2,3,"div",2),i.k0s()),2&a&&(i.HbH(c.model.getSelectBaseRootCss()),i.BMQ("role",c.model.a11y_input_ariaRole)("aria-required",c.model.a11y_input_ariaRequired)("aria-label",c.model.a11y_input_ariaLabel)("aria-labelledby",c.model.a11y_input_ariaLabelledBy)("aria-describedby",c.model.a11y_input_ariaDescribedBy)("aria-invalid",c.model.a11y_input_ariaInvalid)("aria-errormessage",c.model.a11y_input_ariaErrormessage),i.R7$(2),i.Y8G("ngIf",c.showLegend),i.R7$(),i.Y8G("ngIf",c.model.hasHeadItems),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&!c.model.blockedRow),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&c.model.blockedRow),i.R7$(),i.Y8G("ngIf",c.model.hasColumns),i.R7$(),i.Y8G("ngIf",c.model.hasFootItems),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected),i.R7$(),i.Y8G("ngIf",c.model.showClearButtonInContent))},dependencies:[vt,V.bT,V.Sq,fe],encapsulation:2}),l})());let yr=(()=>{class l{constructor(){}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-radiogroup-item"],["","sv-ng-radiogroup-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Sn,decls:2,vars:11,consts:[["type","radio",3,"ngModelChange","name","id","disabled","readonly","ngModel","value"]],template:function(a,c){1&a&&(i.NAR(),i.j41(0,"input",0),i.mxI("ngModelChange",function(v){return i.DH7(c.question.renderedValue,v)||(c.question.renderedValue=v),v}),i.k0s(),i.SdG(1)),2&a&&(i.HbH(c.question.cssClasses.itemControl),i.Y8G("name",c.question.questionName)("id",c.question.getItemId(c.model))("disabled",!c.question.getItemEnabled(c.model))("readonly",c.question.isReadOnlyAttr),i.R50("ngModel",c.question.renderedValue),i.Y8G("value",c.model.value),i.BMQ("name",c.question.questionName)("aria-errormessage",c.question.ariaErrormessage)("value",c.model.value))},dependencies:[k.Fm,k.me,k.BC,k.vS]}),l})();N.Instance.registerComponent("checkbox-question",(()=>{class l extends vn{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-checkbox-question"]],features:[i.Vt3],decls:10,vars:17,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"click","value"]],template:function(a,c){1&a&&(i.j41(0,"fieldset",null,0),i.DNE(2,Fo,2,1,"legend",1)(3,vi,2,2,"ng-container",2)(4,No,2,2,"ng-container",2)(5,na,2,4,"div",3)(6,Oc,3,4,"ng-container",2)(7,Fn,2,2,"ng-container",2)(8,Dc,1,3,"div",4)(9,Mc,2,3,"div",2),i.k0s()),2&a&&(i.HbH(c.model.getSelectBaseRootCss()),i.BMQ("role",c.model.a11y_input_ariaRole)("aria-required",c.model.a11y_input_ariaRequired)("aria-label",c.model.a11y_input_ariaLabel)("aria-labelledby",c.model.a11y_input_ariaLabelledBy)("aria-describedby",c.model.a11y_input_ariaDescribedBy)("aria-invalid",c.model.a11y_input_ariaInvalid)("aria-errormessage",c.model.a11y_input_ariaErrormessage),i.R7$(2),i.Y8G("ngIf",c.showLegend),i.R7$(),i.Y8G("ngIf",c.model.hasHeadItems),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&!c.model.blockedRow),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns&&c.model.blockedRow),i.R7$(),i.Y8G("ngIf",c.model.hasColumns),i.R7$(),i.Y8G("ngIf",c.model.hasFootItems),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected),i.R7$(),i.Y8G("ngIf",c.model.showClearButtonInContent))},dependencies:[vt,V.bT,V.Sq,fe],encapsulation:2}),l})());let vr=(()=>{class l{constructor(){}onChange(a){this.question.clickItemHandler(this.model,a.target.checked)}onSelectAllChange(a){this.question.toggleSelectAll()}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-checkbox-item"],["","sv-ng-checkbox-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Sn,decls:2,vars:9,consts:[["type","checkbox",3,"change","name","id","required","disabled","readonly","checked","value"]],template:function(a,c){1&a&&(i.NAR(),i.j41(0,"input",0),i.bIt("change",function(v){return c.onChange(v)}),i.k0s(),i.SdG(1)),2&a&&(i.HbH(c.question.cssClasses.itemControl),i.Y8G("name",c.question.name+c.model.id)("id",c.question.getItemId(c.model))("required",c.question.hasRequiredError())("disabled",!c.question.getItemEnabled(c.model))("readonly",c.question.isReadOnlyAttr)("checked",c.question.isItemSelected(c.model))("value",c.model.value))}}),l})();N.Instance.registerComponent("dropdown-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-dropdown-question"]],features:[i.Vt3],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.nrm(2,"sv-ng-dropdown",1),i.DNE(3,oa,1,3,"div",2),i.k0s()),2&a&&(i.HbH(c.model.renderCssRoot),i.R7$(2),i.Y8G("model",c.model),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected))},dependencies:[G,vt,V.bT],encapsulation:2}),l})()),N.Instance.registerComponent("tagbox-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-tagbox-question"]],features:[i.Vt3],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.nrm(2,"sv-ng-tagbox",1),i.DNE(3,kc,1,3,"div",2),i.k0s()),2&a&&(i.HbH(c.model.renderCssRoot),i.R7$(2),i.Y8G("model",c.model),i.R7$(),i.Y8G("ngIf",c.model.isOtherSelected))},dependencies:[Jt,vt,V.bT],encapsulation:2}),l})()),N.Instance.registerComponent("rating-question",(()=>{class l extends De{trackByFn(a){return a}onClick(a){a.stopPropagation(),this.model.setValueFromClick(a.target.value)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-question"]],features:[i.Vt3],decls:7,vars:6,consts:[["contentElement",""],["role","radiogroup"],["role","presentation",1,"sv-hidden"],["sv-ng-string","",3,"class","model",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-string","",3,"model"],[3,"component"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0)(2,"fieldset",1),i.nrm(3,"legend",2),i.DNE(4,ra,1,3,"span",3)(5,Et,1,8,null,4)(6,qo,1,3,"span",3),i.k0s()()),2&a&&(i.HbH(c.model.ratingRootCss),i.R7$(4),i.Y8G("ngIf",c.model.hasMinLabel),i.R7$(),i.Y8G("ngForOf",c.model.renderedRateItems)("ngForTrackBy",c.trackByFn),i.R7$(),i.Y8G("ngIf",c.model.hasMaxLabel))},dependencies:[ae,V.bT,V.Sq,fe],encapsulation:2}),l})()),N.Instance.registerComponent("boolean-question",(()=>{class l extends De{onChange(a){this.model.booleanValue=a.target.value}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-boolean-question"]],features:[i.Vt3],decls:11,vars:35,consts:[["contentElement",""],[3,"keydown"],["type","checkbox",3,"ngModelChange","disabled","readonly","indeterminate","value","ngModel"],[3,"click"],["sv-ng-string","",3,"model"],["sv-ng-string","",3,"class","model",4,"ngIf"]],template:function(a,c){if(1&a){const f=i.RV6();i.j41(0,"div",1,0),i.bIt("keydown",function(O){return i.eBV(f),i.Njj(c.model.onKeyDownCore(O))}),i.j41(2,"label")(3,"input",2),i.mxI("ngModelChange",function(O){return i.eBV(f),i.DH7(c.model.booleanValue,O)||(c.model.booleanValue=O),i.Njj(O)}),i.k0s(),i.j41(4,"div",3),i.bIt("click",function(O){return i.eBV(f),i.Njj(c.model.onLabelClick(O,c.model.swapOrder))}),i.nrm(5,"span",4),i.k0s(),i.j41(6,"div",3),i.bIt("click",function(O){return i.eBV(f),i.Njj(c.model.onSwitchClickModel(O))}),i.j41(7,"span"),i.DNE(8,Lc,1,3,"span",5),i.k0s()(),i.j41(9,"div",3),i.bIt("click",function(O){return i.eBV(f),i.Njj(c.model.onLabelClick(O,!c.model.swapOrder))}),i.nrm(10,"span",4),i.k0s()()()}2&a&&(i.HbH(c.model.cssClasses.root),i.R7$(2),i.HbH(c.model.getItemCss()),i.R7$(),i.HbH(c.model.cssClasses.control),i.Y8G("disabled",c.model.isDisabledAttr)("readonly",c.model.isReadOnlyAttr)("indeterminate",c.model.isIndeterminate)("value",c.model.booleanValue),i.R50("ngModel",c.model.booleanValue),i.BMQ("name",c.model.name)("id",c.model.inputId)("role",c.model.a11y_input_ariaRole)("aria-required",c.model.a11y_input_ariaRequired)("aria-label",c.model.a11y_input_ariaLabel)("aria-labelledby",c.model.a11y_input_ariaLabelledBy)("aria-describedby",c.model.a11y_input_ariaDescribedBy)("aria-invalid",c.model.a11y_input_ariaInvalid)("aria-errormessage",c.model.a11y_input_ariaErrormessage),i.R7$(),i.HbH(c.model.cssClasses.sliderGhost),i.R7$(),i.HbH(c.model.getLabelCss(c.model.swapOrder)),i.Y8G("model",c.model.locLabelLeft),i.R7$(),i.HbH(c.model.cssClasses.switch),i.R7$(),i.HbH(c.model.cssClasses.slider),i.R7$(),i.Y8G("ngIf",c.model.cssClasses.sliderText&&c.model.isDeterminated),i.R7$(),i.HbH(c.model.cssClasses.sliderGhost),i.R7$(),i.HbH(c.model.getLabelCss(!c.model.swapOrder)),i.Y8G("model",c.model.locLabelRight))},dependencies:[ae,k.Zm,k.BC,k.vS,V.bT],encapsulation:2}),l})()),N.Instance.registerComponent("sv-ng-imagepicker-item",(()=>{class l extends re{getModel(){return this.model}onChange(a){if(!this.question.isReadOnlyAttr)if(this.question.multiSelect)if(a.target.checked)this.question.value=this.question.value.concat(a.target.value);else{var c=this.question.value;c.splice(this.question.value.indexOf(a.target.value),1),this.question.value=c}else this.question.value=a.target.value}ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){super.ngOnDestroy(),this.model.locImageLink.onChanged=()=>{}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-imagepicker-item"]],inputs:{question:"question",model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"change","type","id","checked","disabled","readonly"],[3,"class",4,"ngIf"],[3,"class","objectFit","load","error",4,"ngIf"],["controls","",3,"class","objectFit","loadedmetadata","error",4,"ngIf"],[3,"class","width","height","objectFit",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"load","error"],["controls","",3,"loadedmetadata","error"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&i.DNE(0,Ho,10,26,"ng-template",null,0,i.C5r)},dependencies:[_e,ae,V.bT],styles:["[_nghost-%COMP%] { display: none; }"]}),l})()),N.Instance.registerComponent("imagepicker-question",(()=>{class l extends De{getItemValueComponentName(a){return this.model.getItemValueWrapperComponentName(a)||"sv-ng-imagepicker-item"}getItemValueComponentData(a){return{componentName:"sv-ng-imagepicker-item",componentData:{question:this.model,model:a,data:this.model.getItemValueWrapperComponentData(a)}}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-imagepicker-question"]],features:[i.Vt3],decls:6,vars:5,consts:[["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf"],["role","presentation"]],template:function(a,c){1&a&&(i.j41(0,"fieldset",null,0)(2,"legend",1),i.EFF(3),i.k0s(),i.DNE(4,qc,2,1,"ng-container",2)(5,ca,2,1,"ng-container",2),i.k0s()),2&a&&(i.HbH(c.model.getSelectBaseRootCss()),i.R7$(3),i.JRh(c.model.locTitle.renderedHtml),i.R7$(),i.Y8G("ngIf",!c.model.hasColumns),i.R7$(),i.Y8G("ngIf",c.model.hasColumns))},dependencies:[V.bT,V.Sq,fe],encapsulation:2}),l})()),N.Instance.registerComponent("sv-components-container",(()=>{class l extends Ee{get components(){return this.survey.getContainerContent(this.container)}get isNeedRenderWrapper(){return!1!==this.needRenderWrapper}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-components-container"],["","sv-components-container",""],["sv-ng-components-container"]],inputs:{survey:"survey",container:"container",needRenderWrapper:"needRenderWrapper"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(a,c){1&a&&i.DNE(0,fn,2,2,"ng-template",null,0,i.C5r)},dependencies:[V.bT,V.Sq,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let Mi=(()=>{class l{constructor(a){this.el=a,this.isSubscribed=!1,this.options=Object.assign({},l.defaultOptions),this.onkeyup=c=>(c.preventDefault(),c.stopPropagation(),(0,ue.doKey2ClickUp)(c,this.options),!1),this.subscribeEventListeners()}onkeydown(a){(0,ue.doKey2ClickDown)(a,this.options)}blur(a){(0,ue.doKey2ClickBlur)(a)}get element(){return this.el.nativeElement}subscribeEventListeners(){this.isSubscribed||(this.element.tabIndex=0,this.element.addEventListener("keyup",this.onkeyup.bind(this)),this.element.addEventListener("keydown",this.onkeydown.bind(this)),this.element.addEventListener("blur",this.blur),this.isSubscribed=!0)}unsubscribeEventListeners(){this.isSubscribed&&(this.element.tabIndex=-1,this.element.removeEventListener("keyup",this.onkeyup.bind(this)),this.element.removeEventListener("keydown",this.onkeydown.bind(this)),this.element.removeEventListener("blur",this.blur),this.isSubscribed=!1)}ngOnChanges(a){const c=a.key2click.currentValue;c.disableTabStop?this.unsubscribeEventListeners():this.subscribeEventListeners(),this.options=Object.assign({},l.defaultOptions,c)}ngOnDestroy(){this.unsubscribeEventListeners()}}return l.defaultOptions={processEsc:!0,disableTabStop:!1},l.\u0275fac=function(a){return new(a||l)(i.rXU(i.aKT))},l.\u0275dir=i.FsC({type:l,selectors:[["","key2click",""]],inputs:{key2click:"key2click"},features:[i.OA$]}),l})();N.Instance.registerComponent("sv-action-bar-item",(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-action-bar-item"]],inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["type","button",3,"click","mousedown","focus","key2click","disabled"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(a,c){1&a&&i.DNE(0,Bn,4,12,"ng-template",null,0,i.C5r)},dependencies:[_e,Mi,V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-action-bar-item-dropdown",(()=>{class l extends re{constructor(){super(...arguments),this.getTarget=ue.getActionDropdownButtonTarget}getModel(){return this.model}ngOnInit(){super.ngOnInit(),this.viewModel=new ue.ActionDropdownViewModel(this.model)}ngOnDestroy(){this.viewModel.dispose(),super.ngOnDestroy()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-action-bar-item-dropdown"]],inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["type","button",3,"click","key2click","title","disabled"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"popupModel","getTarget"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(a,c){1&a&&i.DNE(0,ga,4,12,"ng-template",null,0,i.C5r)},dependencies:[_e,yn,Mi,V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let br=(()=>{class l extends re{constructor(){super(...arguments),this.showLabel=!0}getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-selectbase-item"],["sv-ng-selebase-item"]],inputs:{question:"question",model:"model",inputType:"inputType",showLabel:"showLabel"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["itemDecorator",""],["role","presentation"],[3,"ngSwitch"],["sv-ng-checkbox-item","",3,"class","model","question",4,"ngSwitchCase"],["sv-ng-radiogroup-item","",3,"class","model","question","mousedown",4,"ngSwitchCase"],["sv-ng-checkbox-item","",3,"model","question"],[4,"ngTemplateOutlet"],["sv-ng-radiogroup-item","",3,"mousedown","model","question"],[3,"class",4,"ngIf"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,Yc,6,5,"ng-template",null,0,i.C5r)},dependencies:[vr,yr,ae,V.ux,V.e1,V.T3,V.bT],styles:["[_nghost-%COMP%] { display: none; }"]}),l})();N.Instance.registerComponent("sv-ng-selectbase-item",br),N.Instance.registerComponent("sv-skeleton",(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-skeleton"]],inputs:{element:"element"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[1,"sv-skeleton-element",3,"id"]],template:function(a,c){1&a&&i.DNE(0,Xc,1,1,"ng-template",null,0,i.C5r)},styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-timerpanel",(()=>{class l extends re{constructor(){super(...arguments),this.circleLengthValue=440}getStateElement(){return this.model}getModel(){return this.model}get circleLength(){return this.circleLengthValue}get progress(){return-this.model.progress*this.circleLength}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-timerpanel"]],inputs:{model:"model"},features:[i.Vt3],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"class","stroke-dasharray","stroke-dashoffset","size","iconName",4,"ngIf"],["sv-ng-svg-icon","",3,"size","iconName"]],template:function(a,c){1&a&&i.DNE(0,yt,6,9,"div",0)(1,Kc,2,3,"div",0),2&a&&(i.Y8G("ngIf",c.model.isRunning&&c.model.showTimerAsClock),i.R7$(),i.Y8G("ngIf",c.model.isRunning&&!c.model.showTimerAsClock))},dependencies:[_e,V.bT],encapsulation:2}),l})());let Kt=(()=>{class l extends re{get elementId(){var a;return null===(a=this.model)||void 0===a?void 0:a.elementId}get ariaSelected(){return this.listModel.isItemSelected(this.model)||""}get class(){return this.listModel.getItemClass(this.model)}get paddingLeft(){return this.listModel.getItemIndent(this.model)}click(a){this.listModel.onItemClick(this.model),a.stopPropagation()}pointerdown(a){this.listModel.onPointerDown(a,this.model)}get itemComponent(){return this.model.component||this.listModel.itemComponent}getModel(){return this.model}ngAfterViewInit(){this.listModel.onLastItemRended(this.model)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-list-item"],["","sv-ng-list-item",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["role","option",3,"click","pointerdown","key2click","visible"],[4,"ngIf"],[3,"mouseover","mouseleave"],[3,"component"]],template:function(a,c){1&a&&i.DNE(0,Ca,4,21,"ng-template",null,0,i.C5r)},dependencies:[Mi,ft,V.bT,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("sv-list-item",Kt);let El=(()=>{class l extends re{constructor(){super(...arguments),this.trackItemBy=(a,c)=>c.id}getModel(){return this.model}onGoToItems(a){this.model.goToItems(a)}onMouseDown(a){a.preventDefault()}onKeyDown(a){this.model.onKeyDown(a)}onMouseMove(a){this.model.onMouseMove(a)}getPropertiesToUpdateSync(){return["renderElements"]}ngAfterViewInit(){var a;null!==(a=this.listContainerElement)&&void 0!==a&&a.nativeElement&&this.model.initListContainerHtmlElement(this.listContainerElement.nativeElement)}ngOnDestroy(){this.model.initListContainerHtmlElement(void 0),super.ngOnDestroy()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-list"],["","sv-ng-list",""]],viewQuery:function(a,c){if(1&a&&i.GBs(Nn,5),2&a){let f;i.mGM(f=i.lsd())&&(c.listContainerElement=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["listContainerElement",""],[3,"class",4,"ngIf"],[3,"visible"],["role","listbox",3,"class","visible","mousedown","keydown","mousemove",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],["type","text",3,"ngModelChange","keyup","ngModel"],[3,"class","click",4,"ngIf"],[3,"click"],["role","listbox",3,"mousedown","keydown","mousemove","visible"],[3,"listModel","model",4,"ngFor","ngForOf","ngForTrackBy"],[3,"listModel","model"]],template:function(a,c){1&a&&i.DNE(0,Ko,7,11,"ng-template",null,0,i.C5r)},dependencies:[_e,Kt,V.bT,k.me,k.BC,k.vS,ft,V.Sq],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("sv-list",El);let bn=(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-list-item-content"],["","sv-ng-list-item-content",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],[3,"model"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&i.DNE(0,_a,3,3,"ng-template",null,0,i.C5r)},dependencies:[_e,ae,V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("sv-list-item-content",bn),N.Instance.registerComponent("sv-list-item-group",(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-list-item-group"],["","sv-ng-list-item-group",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"model","listModel"],[3,"popupModel"]],template:function(a,c){1&a&&i.DNE(0,Yt,2,3,"ng-template",null,0,i.C5r)},dependencies:[bn,yn],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-rating-item",(()=>{class l extends re{onClick(a){this.model.setValueFromClick(a.target.value),a.stopPropagation()}getModel(){return this.item}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-item"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&i.DNE(0,xa,3,16,"ng-template",null,0,i.C5r)},dependencies:[ae],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-rating-item-star",(()=>{class l extends re{onClick(a){this.model.setValueFromClick(a.target.value),a.stopPropagation()}getModel(){return this.item}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-item-star"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(a,c){1&a&&i.DNE(0,wa,4,22,"ng-template",null,0,i.C5r)},dependencies:[_e],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-rating-item-smiley",(()=>{class l extends re{onClick(a){this.model.setValueFromClick(a.target.value),a.stopPropagation()}getModel(){return this.item}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-item-smiley"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"click","value","disabled","readonly","checked"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(a,c){1&a&&i.DNE(0,Pa,3,17,"ng-template",null,0,i.C5r)},dependencies:[_e],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("sv-rating-dropdown-item",(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-dropdown-item"],["","sv-ng-rating-dropdown-item",""]],inputs:{element:"element",model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[1,"sd-rating-dropdown-item"],[1,"sd-rating-dropdown-item_text"],[4,"ngIf"],[1,"sd-rating-dropdown-item_description"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,Ta,4,2,"ng-template",null,0,i.C5r)},dependencies:[ae,V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})()),N.Instance.registerComponent("rating-dropdown-question",(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-rating-dropdown-question"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div"),i.nrm(1,"sv-ng-dropdown",0),i.k0s()),2&a&&(i.HbH(c.model.cssClasses.rootDropdown),i.R7$(),i.Y8G("model",c.model))},dependencies:[G],encapsulation:2}),l})()),ue.RendererFactory.Instance.registerRenderer("rating","dropdown","rating-dropdown-question"),N.Instance.registerComponent("boolean-checkbox-question",(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-boolean-checkbox-question"]],inputs:{model:"model"},decls:9,vars:25,consts:[["type","checkbox",3,"ngModelChange","value","id","ngModel","disabled","readonly","indeterminate"],[3,"class",4,"ngIf"],[1,"check"],[3,"class","id",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],[3,"id"],[3,"element"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div")(1,"div")(2,"label")(3,"input",0),i.mxI("ngModelChange",function(v){return i.DH7(c.model.booleanValue,v)||(c.model.booleanValue=v),v}),i.k0s(),i.j41(4,"span"),i.DNE(5,Ia,2,3,"svg",1),i.nrm(6,"span",2),i.k0s(),i.DNE(7,Ra,2,4,"span",3),i.k0s(),i.DNE(8,op,1,4,"div",4),i.k0s()()),2&a&&(i.HbH(c.model.cssClasses.rootCheckbox),i.R7$(),i.HbH(c.model.getCheckboxItemCss()),i.R7$(),i.HbH(c.model.cssClasses.checkboxLabel),i.R7$(),i.HbH(c.model.cssClasses.controlCheckbox),i.Y8G("value",c.model.booleanValue)("id",c.model.inputId),i.R50("ngModel",c.model.booleanValue),i.Y8G("value",c.model.booleanValue)("disabled",c.model.isDisabledAttr)("readonly",c.model.isReadOnlyAttr)("indeterminate",c.model.isIndeterminate),i.BMQ("name",c.model.name)("aria-required",c.model.ariaRequired)("aria-label",c.model.ariaLabel)("aria-invalid",c.model.ariaInvalid)("aria-errormessage",c.model.ariaErrormessage),i.R7$(),i.HbH(c.model.cssClasses.checkboxMaterialDecorator),i.R7$(),i.Y8G("ngIf",!!c.model.svgIcon),i.R7$(2),i.Y8G("ngIf",c.model.isLabelRendered),i.R7$(),i.Y8G("ngIf",c.model.canRenderLabelDescription))},dependencies:[fr,ae,k.Zm,k.BC,k.vS,V.bT],encapsulation:2}),l})()),ue.RendererFactory.Instance.registerRenderer("boolean","checkbox","boolean-checkbox-question");let E=(()=>{class l{constructor(){}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-boolean-radio-item"]],inputs:{question:"question",value:"value",locText:"locText"},decls:5,vars:16,consts:[["role","presentation"],["type","radio",3,"ngModelChange","value","ngModel","disabled","readonly"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div",0)(1,"label")(2,"input",1),i.mxI("ngModelChange",function(v){return i.DH7(c.question.booleanValue,v)||(c.question.booleanValue=v),v}),i.k0s(),i.DNE(3,rp,2,3,"span",2),i.nrm(4,"span",3),i.k0s()()),2&a&&(i.HbH(c.question.getRadioItemClass(c.question.cssClasses,c.value)),i.R7$(),i.HbH(c.question.cssClasses.radioLabel),i.R7$(),i.HbH(c.question.cssClasses.itemRadioControl||""),i.Y8G("value",c.value),i.R50("ngModel",c.question.booleanValue),i.Y8G("disabled",c.question.isDisabledAttr)("readonly",c.question.isReadOnlyAttr),i.BMQ("name",c.question.name)("aria-errormessage",c.question.ariaErrormessage),i.R7$(),i.Y8G("ngIf",c.question.cssClasses.materialRadioDecorator),i.R7$(),i.HbH(c.question.cssClasses.radioControlLabel),i.Y8G("model",c.locText))},dependencies:[ae,k.Fm,k.me,k.BC,k.vS,V.bT],encapsulation:2}),l})();N.Instance.registerComponent("boolean-radio-question",(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-boolean-radio-question"]],inputs:{model:"model"},decls:5,vars:9,consts:[["role","presentation"],[3,"value","locText","question",4,"ngIf"],[3,"value","locText","question"]],template:function(a,c){1&a&&(i.j41(0,"div")(1,"fieldset",0),i.DNE(2,sp,1,3,"sv-ng-boolean-radio-item",1),i.nrm(3,"sv-ng-boolean-radio-item",2),i.DNE(4,Zo,1,3,"sv-ng-boolean-radio-item",1),i.k0s()()),2&a&&(i.HbH(c.model.cssClasses.rootRadio),i.R7$(),i.HbH(c.model.cssClasses.radioFieldset),i.R7$(),i.Y8G("ngIf",c.model.swapOrder),i.R7$(),i.Y8G("value",!1)("locText",c.model.locLabelFalse)("question",c.model),i.R7$(),i.Y8G("ngIf",!c.model.swapOrder))},dependencies:[E,V.bT],encapsulation:2}),l})()),ue.RendererFactory.Instance.registerRenderer("boolean","radio","boolean-radio-question");let H=(()=>{class l extends Ee{getProgressTextInBarCss(a){return ue.SurveyProgressModel.getProgressTextInBarCss(a)}getProgressTextUnderBarCss(a){return ue.SurveyProgressModel.getProgressTextUnderBarCss(a)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-progress-default"]],inputs:{container:"container",model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"]],template:function(a,c){1&a&&i.DNE(0,er,6,12,"ng-template",null,0,i.C5r)},encapsulation:2}),l})();N.Instance.registerComponent("sv-progress-progress",H),N.Instance.registerComponent("sv-progress-pages",H),N.Instance.registerComponent("sv-progress-questions",H),N.Instance.registerComponent("sv-progress-correctquestions",H),N.Instance.registerComponent("sv-progress-requiredquestions",H),N.Instance.registerComponent("sv-progress-buttons",(()=>{class l{constructor(a){this.changeDetectorRef=a,this.hasScroller=!1,this.canShowHeader=!1,this.canShowFooter=!1,this.canShowItemTitles=!0}onResize(a){this.canShowItemTitles=a,this.canShowHeader=!this.canShowItemTitles,this.changeDetectorRef.detectChanges()}onUpdateScroller(a){this.hasScroller=a,this.changeDetectorRef.detectChanges()}onUpdateSettings(){this.canShowItemTitles=this.model.showItemTitles,this.canShowFooter=!this.model.showItemTitles,this.changeDetectorRef.detectChanges()}ngOnInit(){}ngOnChanges(a){}clickScrollButton(a){this.progressButtonsListContainer&&(this.progressButtonsListContainer.nativeElement.scrollLeft+=70*(a?-1:1))}ngAfterViewInit(){var a;null!==(a=this.progressButtonsListContainer)&&void 0!==a&&a.nativeElement&&(this.respManager=new ue.ProgressButtonsResponsivityManager(this.model,this.progressButtonsListContainer.nativeElement,this))}ngOnDestroy(){var a;null===(a=this.respManager)||void 0===a||a.dispose()}}return l.\u0275fac=function(a){return new(a||l)(i.rXU(i.gRc))},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-progress-buttons"]],viewQuery:function(a,c){if(1&a&&i.GBs(ap,5),2&a){let f;i.mGM(f=i.lsd())&&(c.progressButtonsListContainer=f.first)}},inputs:{model:"model",survey:"survey",container:"container"},features:[i.OA$],decls:10,vars:17,consts:[["progressButtonsListContainer",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"],[3,"class",4,"ngIf"],["role","button",3,"click"],[3,"class","click",4,"ngFor","ngForOf"],[3,"title"],[3,"click"],[3,"class","title",4,"ngIf"],[3,"model"]],template:function(a,c){if(1&a){const f=i.RV6();i.j41(0,"div",1),i.DNE(1,lp,3,6,"div",2),i.j41(2,"div")(3,"div",3),i.bIt("click",function(){return i.eBV(f),i.Njj(c.clickScrollButton(!0))}),i.k0s(),i.j41(4,"div",null,0)(6,"ul"),i.DNE(7,Ea,9,14,"li",4),i.k0s()(),i.j41(8,"div",3),i.bIt("click",function(){return i.eBV(f),i.Njj(c.clickScrollButton(!1))}),i.k0s()(),i.DNE(9,Da,3,6,"div",2),i.k0s()}2&a&&(i.HbH(c.model.getRootCss(c.container)),i.xc7("max-width",c.model.progressWidth),i.R7$(),i.Y8G("ngIf",c.canShowHeader),i.R7$(),i.HbH(c.survey.css.progressButtonsContainer),i.R7$(),i.HbH(c.model.getScrollButtonCss(c.hasScroller,!0)),i.R7$(),i.HbH(c.survey.css.progressButtonsListContainer),i.R7$(2),i.HbH(c.survey.css.progressButtonsList),i.R7$(),i.Y8G("ngForOf",c.survey.visiblePages),i.R7$(),i.HbH(c.model.getScrollButtonCss(c.hasScroller,!1)),i.R7$(),i.Y8G("ngIf",c.canShowFooter))},dependencies:[ae,V.bT,V.Sq],encapsulation:2}),l})()),N.Instance.registerComponent("sv-navigation-toc",(()=>{class l extends Ee{ngOnInit(){super.ngOnInit()}ngOnChanges(a){}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-navigation-toc"],["sv-ng-navigation-toc"]],inputs:{model:"model"},features:[i.Vt3,i.OA$],decls:2,vars:0,consts:[["template",""],[3,"model",4,"ngIf"],["data-bind","key2click",3,"click",4,"ngIf"],[3,"model"],["data-bind","key2click",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"popupModel"]],template:function(a,c){1&a&&i.DNE(0,pp,3,4,"ng-template",null,0,i.C5r)},dependencies:[El,_e,yn,V.bT],styles:["[_nghost-%COMP%] { display: none; }"]}),l})());let ge=(()=>{class l extends re{constructor(){super(...arguments),this.trackRowBy=(a,c)=>c.id}getModel(){return this.model}ngAfterViewInit(){var a,c;null!==(a=this.panelContainerRef)&&void 0!==a&&a.nativeElement&&(null===(c=this.model.survey)||void 0===c||c.afterRenderPanel(this.model,this.panelContainerRef.nativeElement))}get canRender(){return this.model&&this.model.survey&&this.model.getIsContentVisible()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-panel"],["","sv-ng-panel",""]],viewQuery:function(a,c){if(1&a&&i.GBs(Pi,5,i.aKT),2&a){let f;i.mGM(f=i.lsd())&&(c.panelContainerRef=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["panelContainer",""],[3,"class","focusin",4,"ngIf"],[3,"focusin"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"paddingLeft","class",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"component"],[3,"row"]],template:function(a,c){1&a&&i.DNE(0,gp,1,1,"ng-template",null,0,i.C5r)},dependencies:[gn,ee,Y,st,V.bT,V.Sq,fe],encapsulation:2}),l})();N.Instance.registerComponent("panel",ge),N.Instance.registerComponent("sv-nav-btn",(()=>{class l{getModel(){return this.model}buttonMouseDown(){return this.model.data&&this.model.data.mouseDown()}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-nav-btn"]],inputs:{model:"model"},decls:1,vars:1,consts:[["type","button",3,"value","class","disabled","mousedown","click",4,"ngIf"],["type","button",3,"mousedown","click","value","disabled"]],template:function(a,c){1&a&&i.DNE(0,hn,1,5,"input",0),2&a&&i.Y8G("ngIf",c.model.visible)},dependencies:[V.bT],styles:["[_nghost-%COMP%] { display: contents; }"]}),l})()),N.Instance.registerComponent("sv-file-preview",(()=>{class l extends Ee{constructor(){super(...arguments),this.trackFilesFn=a=>this.question.inputId+"_"+a}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-file-preview"]],inputs:{question:"question"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"visible","class","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","visible"],[3,"class",4,"ngIf"],["alt","File preview",3,"height","width",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","partCss","size",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"click"],["alt","File preview"],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size"]],template:function(a,c){1&a&&i.DNE(0,Cp,1,1,"ng-template",null,0,i.C5r)},dependencies:[_e,V.bT,V.Sq,ft,Oi],encapsulation:2}),l})()),N.Instance.registerComponent("matrix-question",(()=>{class l extends De{ngOnInit(){this.model.visibleRowsChangedCallback=()=>{this.detectChanges()},super.ngOnInit()}onCellChanged(a,c){a.value=c.value,this.detectChanges()}trackRowByFn(a,c){return"column-"+c.name+"-"+a}trackColumnByFn(a,c){return"column-"+c.value+"-"+a}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-question"]],features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"style","class",4,"ngFor","ngForOf"],[3,"component"],[3,"model"],[3,"class","style",4,"ngIf"],["sv-ng-string","",3,"class","model","click",4,"ngFor","ngForOf"],["sv-ng-string","",3,"click","model"]],template:function(a,c){1&a&&i.DNE(0,Rp,9,8,"ng-template",null,0,i.C5r)},dependencies:[ae,V.bT,V.Sq,fe],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let dh=(()=>{class l extends Ee{get question(){return this.model&&this.model.data.question||this.data.question}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-choose-file-btn"]],inputs:{data:"data",model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["tabindex","0",3,"click","key2click"],["sv-ng-svg-icon","",3,"title","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","iconName","size"]],template:function(a,c){1&a&&i.DNE(0,Op,4,6,"ng-template",null,0,i.C5r)},dependencies:[_e,Mi,V.bT],encapsulation:2}),l})();N.Instance.registerComponent("sv-file-choose-btn",dh);let fh=(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-loading-indicator"]],features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[1,"sd-loading-indicator"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&i.DNE(0,Ep,2,2,"ng-template",null,0,i.C5r)},dependencies:[_e],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("file-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-file-question"]],features:[i.Vt3],decls:17,vars:14,consts:[["contentElement",""],["fileCleanButton",""],["fileVideo",""],["tabindex","-1","type","file",3,"class",4,"ngIf"],["type","file","readonly","","style","color: transparent",3,"class",4,"ngIf"],["type","file","disabled","","style","color: transparent",3,"class",4,"ngIf"],[3,"dragenter","drop","dragover","dragleave"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"model",4,"ngIf"],["tabindex","-1","type","file"],["type","file","readonly","",2,"color","transparent"],["type","file","disabled","",2,"color","transparent"],["sv-ng-string","",3,"model"],[3,"data",4,"ngIf"],[3,"data"],[3,"model"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"component"],["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size","title",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"],["autoplay","","playsinline",""]],template:function(a,c){if(1&a){const f=i.RV6();i.j41(0,"div",null,0),i.DNE(2,Mp,1,11,"input",3)(3,qa,1,5,"input",4)(4,At,1,5,"input",5),i.j41(5,"div",6),i.bIt("dragenter",function(O){return i.eBV(f),i.Njj(c.model.onDragEnter(O))})("drop",function(O){return i.eBV(f),i.Njj(c.model.onDrop(O))})("dragover",function(O){return i.eBV(f),i.Njj(c.model.onDragOver(O))})("dragleave",function(O){return i.eBV(f),i.Njj(c.model.onDragLeave(O))}),i.DNE(6,ar,6,10,"div",7)(7,kp,3,2,"ng-container",8)(8,Lp,2,1,"ng-container",8)(9,t,2,4,"ng-container",8)(10,n,2,5,"ng-container",8)(11,s,2,4,"ng-container",8)(12,u,1,1,"sv-action-bar",9),i.k0s()(),i.DNE(13,h,4,4,"ng-template",null,1,i.C5r)(15,m,5,8,"ng-template",null,2,i.C5r)}2&a&&(i.HbH(c.model.fileRootCss),i.R7$(2),i.Y8G("ngIf",!c.model.isReadOnlyAttr&&!c.model.isDisabledAttr&&c.model.hasFileUI),i.R7$(),i.Y8G("ngIf",c.model.isReadOnlyAttr),i.R7$(),i.Y8G("ngIf",c.model.isDisabledAttr),i.R7$(),i.HbH(c.model.cssClasses.dragArea),i.R7$(),i.Y8G("ngIf",c.model.showFileDecorator),i.R7$(),i.Y8G("ngIf",c.model.showLoadingIndicator),i.R7$(),i.Y8G("ngIf",c.model.isPlayingVideo),i.R7$(),i.Y8G("ngIf",c.model.showRemoveButton),i.R7$(),i.Y8G("ngIf",c.model.allowShowPreview),i.R7$(),i.Y8G("ngIf",c.model.showRemoveButtonBottom),i.R7$(),i.Y8G("ngIf",c.model.fileNavigatorVisible))},dependencies:[ae,dh,st,fh,_e,pr,V.bT,V.T3,fe],encapsulation:2}),l})()),N.Instance.registerComponent("comment-question",(()=>{class l extends De{onChange(a){this.model.value=a.target.value}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-question-comment"]],features:[i.Vt3],decls:3,vars:3,consts:[["contentElement",""],[3,"readonly","disabled","id","class","value","resize","input","keydown","change","focus","blur",4,"ngIf"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[4,"ngIf"],[3,"input","keydown","change","focus","blur","readonly","disabled","id","value"],[3,"counter","remainingCharacterCounter"]],template:function(a,c){1&a&&i.DNE(0,x,2,18,"textarea",1)(1,T,1,2,"sv-ng-character-counter",2)(2,D,3,1,"div",3),2&a&&(i.Y8G("ngIf",!c.model.isReadOnlyRenderDiv()),i.R7$(),i.Y8G("ngIf",!c.model.isReadOnlyRenderDiv()&&c.model.getMaxLength()),i.R7$(),i.Y8G("ngIf",c.model.isReadOnlyRenderDiv()))},dependencies:[Ei,V.bT],encapsulation:2}),l})()),N.Instance.registerComponent("signaturepad-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-signature-component"]],features:[i.Vt3],decls:8,vars:13,consts:[["contentElement",""],["sv-ng-string","",3,"visible","model"],[3,"src","width","class",4,"ngIf"],["tabindex","-1",3,"blur"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"src"],["type","button",3,"click","title"],["sv-ng-svg-icon","",3,"iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){if(1&a){const f=i.RV6();i.j41(0,"div",null,0),i.nrm(2,"div",1),i.j41(3,"div"),i.DNE(4,B,1,5,"img",2),i.j41(5,"canvas",3),i.bIt("blur",function(O){return i.eBV(f),i.Njj(c.model.onBlur(O))}),i.k0s()(),i.DNE(6,U,4,7,"div",4)(7,$,3,2,"ng-container",5),i.k0s()}2&a&&(i.HbH(c.model.cssClasses.root),i.xc7("width",c.model.renderedCanvasWidth),i.R7$(2),i.HbH(c.model.cssClasses.placeholder),i.Y8G("visible",c.model.needShowPlaceholder())("model",c.model.locRenderedPlaceholder),i.R7$(2),i.Y8G("ngIf",!!c.model.backgroundImage),i.R7$(),i.HbH(c.model.cssClasses.canvas),i.R7$(),i.Y8G("ngIf",c.model.canShowClearButton),i.R7$(),i.Y8G("ngIf",c.model.showLoadingIndicator))},dependencies:[ae,_e,fh,ft,V.bT],encapsulation:2}),l})());let Uh=(()=>{class l extends re{getModel(){return this.model.isErrorsCell?null:this.model.item.editor}get item(){return this.model.item}get editor(){return this.model.item.editor}ngDoCheck(){super.ngDoCheck(),this.model.isErrorsCell&&this.editor.registerFunctionOnPropertyValueChanged("errors",()=>{this.update()},"__ngSubscription")}ngOnDestroy(){super.ngOnDestroy(),this.model.isErrorsCell&&this.editor.unRegisterFunctionOnPropertyValueChanged("errors","__ngSubscription")}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["","sv-ng-multipletext-item",""]],inputs:{question:"question",model:"model"},features:[i.Vt3],attrs:Z,decls:2,vars:2,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"class",4,"ngIf"],[3,"focusin"],["aria-hidden","true"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-errors","",3,"element"]],template:function(a,c){1&a&&i.DNE(0,Lt,9,16,"ng-container",0)(1,qn,2,1,"ng-container",0),2&a&&(i.Y8G("ngIf",!c.model.isErrorsCell),i.R7$(),i.Y8G("ngIf",c.model.isErrorsCell))},dependencies:[ae,Di,gn,V.bT],encapsulation:2}),l})(),Wh=(()=>{class l extends re{getModel(){return this.model}trackItemBy(a,c){return"item"+c.item.editor.id}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-multipletext-row"]],inputs:{question:"question",model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-multipletext-item","",3,"question","model"]],template:function(a,c){1&a&&i.DNE(0,Ga,1,1,"ng-template",null,0,i.C5r)},dependencies:[Uh,V.bT,V.Sq],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("multipletext-question",(()=>{class l extends De{constructor(){super(...arguments),this.trackRowBy=a=>this.model.inputId+"rowkey"+a}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-multipletext-question"]],features:[i.Vt3],decls:4,vars:4,consts:[["contentElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","question"]],template:function(a,c){1&a&&(i.j41(0,"table",null,0)(2,"tbody"),i.DNE(3,Bp,2,2,"ng-container",1),i.k0s()()),2&a&&(i.HbH(c.model.getQuestionRootCss()),i.R7$(3),i.Y8G("ngForOf",c.model.getRows())("ngForTrackBy",c.trackRowBy))},dependencies:[Wh,V.Sq],encapsulation:2}),l})()),N.Instance.registerComponent("ranking-question",(()=>{class l extends vn{constructor(){super(...arguments),this.inputType="",this.trackItemBy=(a,c)=>c.value+"-"+a+"-item"}getDefaultComponentName(){return"sv-ng-ranking-item"}getItemValueComponentData(a,c,f){return{componentName:this.getDefaultComponentName(),componentData:{question:this.model,model:a,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(a),index:c,unrankedItem:f}}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-ranking-question"]],features:[i.Vt3],decls:2,vars:2,consts:[["contentElement",""],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["data-ranking","from-container"],["sv-ng-string","",3,"class","model",4,"ngIf"],["data-ranking","to-container"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&i.DNE(0,Ua,3,4,"div",1)(1,$p,9,14,"div",1),2&a&&(i.Y8G("ngIf",!c.model.selectToRankEnabled),i.R7$(),i.Y8G("ngIf",c.model.selectToRankEnabled))},dependencies:[ae,V.bT,V.Sq,fe],encapsulation:2}),l})()),N.Instance.registerComponent("sv-ng-ranking-item",(()=>{class l extends re{getModel(){return this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-ranking-item"]],inputs:{question:"question",model:"model",index:"index",unrankedItem:"unrankedItem"},features:[i.Vt3],decls:13,vars:25,consts:[["elseBlock",""],[3,"keydown","pointerdown","pointerup"],["tabindex","-1",2,"outline","none"],[3,"class",4,"ngIf","ngIfElse"],[3,"component"]],template:function(a,c){if(1&a){const f=i.RV6();i.j41(0,"div",1),i.bIt("keydown",function(O){return i.eBV(f),i.Njj(c.question.handleKeydown(O,c.model))})("pointerdown",function(O){return i.eBV(f),i.Njj(c.question.handlePointerDown(O,c.model,O.currentTarget))})("pointerup",function(O){return i.eBV(f),i.Njj(c.question.handlePointerUp(O,c.model,O.currentTarget))}),i.j41(1,"div",2),i.nrm(2,"div"),i.j41(3,"div")(4,"div"),i.qSk(),i.j41(5,"svg"),i.nrm(6,"use"),i.k0s(),i.j41(7,"svg"),i.nrm(8,"use"),i.k0s()(),i.DNE(9,Up,2,3,"div",3)(10,Wp,3,3,"ng-template",null,0,i.C5r)(12,Yp,0,0,"ng-template",4),i.k0s()()()}if(2&a){const f=i.sdS(11);i.HbH(c.question.getItemClass(c.model)),i.BMQ("tabindex",c.question.getItemTabIndex(c.model))("data-sv-drop-target-ranking-item",c.index),i.R7$(2),i.HbH(c.question.cssClasses.itemGhostNode),i.R7$(),i.HbH(c.question.cssClasses.itemContent),i.R7$(),i.HbH(c.question.cssClasses.itemIconContainer),i.R7$(),i.HbH(c.question.getIconHoverCss()),i.R7$(),i.BMQ("href",c.question.dragDropSvgIcon,null,"xlink"),i.R7$(),i.HbH(c.question.getIconFocusCss()),i.R7$(),i.BMQ("href",c.question.arrowsSvgIcon,null,"xlink"),i.R7$(),i.Y8G("ngIf",!c.unrankedItem&&c.question.getNumberByIndex(c.index))("ngIfElse",f),i.R7$(3),i.Y8G("component",i.l_i(22,K,c.question.itemComponent,i.l_i(19,zp,c.model,c.question.cssClasses)))}},dependencies:[V.bT,fe],encapsulation:2}),l})()),N.Instance.registerComponent("sv-ranking-item",(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ranking-item"]],inputs:{item:"item",cssClasses:"cssClasses"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,Xp,2,3,"ng-template",null,0,i.C5r)},dependencies:[ae],styles:["[_nghost-%COMP%] { display: none; }"]}),l})()),N.Instance.registerComponent(ue.LocalizableString.editableRenderer,(()=>{class l{constructor(){this.onInput=a=>{this.model.text=a.target.innerText},this.onClick=a=>{a.preventDefault(),a.stopPropagation()}}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-string-editor"]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-editor","contenteditable","true",3,"innerHtml","blur","click",4,"ngIf"],["class","sv-string-editor","contenteditable","true",3,"blur","click",4,"ngIf"],["contenteditable","true",1,"sv-string-editor",3,"blur","click","innerHtml"],["contenteditable","true",1,"sv-string-editor",3,"blur","click"]],template:function(a,c){1&a&&i.DNE(0,Jp,1,1,"span",0)(1,Kp,2,1,"span",1),2&a&&(i.Y8G("ngIf",c.model.hasHtml),i.R7$(),i.Y8G("ngIf",!c.model.hasHtml))},dependencies:[V.bT],encapsulation:2}),l})());let _r=(()=>{class l{get question(){return this.model&&this.model.data.question||this.data.question}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["ng-component"]],inputs:{data:"data",model:"model"},decls:0,vars:0,template:function(a,c){},encapsulation:2}),l})(),hh=(()=>{class l extends _r{addPanelClick(){this.question.addPanelUI()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-add-btn"]],features:[i.Vt3],decls:1,vars:1,consts:[["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,Zp,3,5,"button",0),2&a&&i.Y8G("ngIf",c.question.canAddPanel)},dependencies:[ae,V.bT],encapsulation:2}),l})();N.Instance.registerComponent("sv-paneldynamic-add-btn",hh);let mh=(()=>{class l extends _r{nextPanelClick(){this.question.goToNextPanel()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-next-btn"]],features:[i.Vt3],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&(i.j41(0,"div",0),i.bIt("click",function(){return c.nextPanelClick()}),i.qSk(),i.nrm(1,"svg",1),i.k0s()),2&a&&(i.HbH(c.question.getNextButtonCss()),i.BMQ("title",c.question.panelNextText),i.R7$(),i.Y8G("iconName",c.question.cssClasses.progressBtnIcon)("size","auto"))},dependencies:[_e],encapsulation:2}),l})();N.Instance.registerComponent("sv-paneldynamic-next-btn",mh);let gh=(()=>{class l extends _r{prevPanelClick(){this.question.goToPrevPanel()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-prev-btn"]],features:[i.Vt3],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&(i.j41(0,"div",0),i.bIt("click",function(){return c.prevPanelClick()}),i.qSk(),i.nrm(1,"svg",1),i.k0s()),2&a&&(i.HbH(c.question.getPrevButtonCss()),i.BMQ("title",c.question.panelPrevText),i.R7$(),i.Y8G("iconName",c.question.cssClasses.progressBtnIcon)("size","auto"))},dependencies:[_e],encapsulation:2}),l})();N.Instance.registerComponent("sv-paneldynamic-prev-btn",gh),N.Instance.registerComponent("sv-paneldynamic-remove-btn",(()=>{class l extends _r{get panel(){return(this.data?this.data:this.model.data).panel}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-remove-btn"]],features:[i.Vt3],decls:4,vars:7,consts:[["type","button",3,"click"],[3,"model"]],template:function(a,c){1&a&&(i.j41(0,"button",0),i.bIt("click",function(){return c.question.removePanelUI(c.panel)}),i.j41(1,"span"),i.nrm(2,"sv-ng-string",1),i.k0s(),i.nrm(3,"span"),i.k0s()),2&a&&(i.HbH(c.question.getPanelRemoveButtonCss()),i.R7$(),i.HbH(c.question.cssClasses.buttonRemoveText),i.R7$(),i.Y8G("model",c.question.locPanelRemoveText),i.R7$(),i.HbH(c.question.cssClasses.iconRemove))},dependencies:[ae],encapsulation:2}),l})());let yh=(()=>{class l extends _r{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-progress-text"]],features:[i.Vt3],decls:2,vars:3,template:function(a,c){1&a&&(i.j41(0,"div"),i.EFF(1),i.k0s()),2&a&&(i.HbH(c.question.cssClasses.progressText),i.R7$(),i.JRh(c.question.progressText))},encapsulation:2}),l})();N.Instance.registerComponent("sv-paneldynamic-progress-text",yh),N.Instance.registerComponent("paneldynamic-question",(()=>{class l extends De{trackPanelBy(a,c){return c.id}onModelChanged(){super.onModelChanged(),this.model.panelCountChangedCallback=()=>{this.update()},this.model.currentIndexChangedCallback=()=>{this.update()},this.model.renderModeChangedCallback=()=>{this.update()}}get progressCssClass(){return this.model.isProgressTopShowing?this.model.cssClasses.progressTop:this.model.cssClasses.progressBottom}ngOnDestroy(){this.model.panelCountChangedCallback=()=>{},this.model.currentIndexChangedCallback=()=>{},this.model.renderModeChangedCallback=()=>{},super.ngOnDestroy()}getPanelComponentName(a){const c=this.surveyModel;if(c){const f=c.getElementWrapperComponentName(a);if(f)return f}return"panel"}getPanelComponentData(a){const c=this.surveyModel;let f;return c&&(f=c.getElementWrapperComponentData(a)),{componentName:"panel",componentData:{model:a,data:f}}}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-paneldynamic-question"]],features:[i.Vt3],decls:14,vars:12,consts:[["contentElement",""],["progressV2",""],["progress",""],[3,"class",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"data",4,"ngIf"],["sv-ng-string","",3,"model"],[3,"data"],["role","progressbar"],[3,"ngTemplateOutlet"],[3,"component"],[4,"ngIf"],[3,"model"],[2,"clear","both"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.DNE(2,id,3,4,"div",3)(3,od,2,8,"div",3)(4,rd,1,1,"ng-container",4),i.j41(5,"div"),i.DNE(6,cd,5,8,"ng-container",5),i.k0s(),i.DNE(7,pd,1,1,"ng-container",4)(8,dd,1,3,"sv-ng-paneldynamic-add-btn",6)(9,fd,1,1,"ng-container",4),i.k0s(),i.DNE(10,yd,1,1,"ng-template",null,1,i.C5r)(12,bd,8,19,"ng-template",null,2,i.C5r)),2&a&&(i.HbH(c.model.cssClasses.root),i.R7$(2),i.Y8G("ngIf",c.model.getShowNoEntriesPlaceholder()),i.R7$(),i.Y8G("ngIf",!c.model.showLegacyNavigation&&c.model.isProgressTopShowing&&c.model.isRangeShowing),i.R7$(),i.Y8G("ngIf",c.model.showLegacyNavigation&&c.model.isProgressTopShowing),i.R7$(),i.HbH(c.model.cssClasses.panelsContainer),i.R7$(),i.Y8G("ngForOf",c.model.renderedPanels)("ngForTrackBy",c.trackPanelBy),i.R7$(),i.Y8G("ngIf",c.model.showLegacyNavigation&&c.model.isProgressBottomShowing),i.R7$(),i.Y8G("ngIf",c.model.showLegacyNavigation&&c.model.isRenderModeList),i.R7$(),i.Y8G("ngIf",c.model.showNavigation))},dependencies:[ae,hh,st,gh,mh,yh,V.bT,V.T3,V.Sq,fe],encapsulation:2}),l})()),N.Instance.registerComponent(ue.SurveyModel.TemplateRendererComponentName,(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-template-renderer"]],inputs:{componentName:"componentName",componentData:"componentData",contentTempl:"contentTempl"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"component"],[4,"ngTemplateOutlet"]],template:function(a,c){1&a&&i.DNE(0,wd,2,2,"ng-template",null,0,i.C5r)},dependencies:[V.bT,fe,V.T3],styles:["[_nghost-%COMP%]{display:none}"]}),l})());let im=(()=>{class l{get hasDefaultRender(){return this.model.customWidget.isDefaultRender||this.hasAngularComponent}get hasHtml(){return!!this.model.customWidget.htmlTemplate}get customHtml(){return this.model.customWidget.htmlTemplate}get hasAngularComponent(){return N.Instance.isComponentRegistered(this.model.customWidget.name)}get componentName(){return this.hasAngularComponent?this.model.customWidget.name:this.model.getTemplate()+"-question"}ngAfterViewInit(){this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnChanges(a){void 0!==a.model.previousValue&&void 0!==a.model.currentValue&&this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnDestroy(){this.model.customWidget.willUnmount(this.model,this.container.nativeElement)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-custom-widget"]],viewQuery:function(a,c){if(1&a&&i.GBs(Pd,5),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{css:"css",model:"model"},features:[i.OA$],decls:4,vars:2,consts:[["content",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[3,"component"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.DNE(2,Td,2,3,"div",1)(3,Rd,2,7,"ng-container",2),i.k0s()),2&a&&(i.R7$(2),i.Y8G("ngIf",c.hasHtml),i.R7$(),i.Y8G("ngIf",c.hasDefaultRender))},dependencies:[V.bT,fe,Q],encapsulation:2}),l})();N.Instance.registerComponent("survey-customwidget",im),N.Instance.registerComponent("survey-matrix-cell",(()=>{class l extends re{getModel(){return this.row.item}onChange(){this.cellChangedOwner.onCellChanged(this.row,this.column)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-cell"],["","sv-ng-matrix-cell",""]],inputs:{question:"question",column:"column",row:"row",columnIndex:"columnIndex",cellChangedOwner:"cellChangedOwner"},features:[i.Vt3],ngContentSelectors:Sn,decls:6,vars:18,consts:[[3,"mousedown"],["type","radio",3,"change","name","value","checked","readonly","disabled"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&(i.NAR(),i.j41(0,"label",0),i.bIt("mousedown",function(){return c.question.onMouseDown()}),i.j41(1,"input",1),i.bIt("change",function(){return c.onChange()}),i.k0s(),i.j41(2,"span"),i.DNE(3,Sd,2,3,"svg",2),i.k0s(),i.DNE(4,Od,1,3,"span",3),i.k0s(),i.SdG(5)),2&a&&(i.HbH(c.question.getItemClass(c.row,c.column)),i.R7$(),i.HbH(c.question.cssClasses.itemValue),i.Y8G("name",c.row.fullName)("value",c.column.value)("checked",c.row.value===c.column.value)("readonly",c.row.isReadOnlyAttr)("disabled",c.row.isDisabledAttr),i.BMQ("id",c.question.inputId+"_"+c.row.name+"_"+c.columnIndex)("aria-required",c.question.a11y_input_ariaRequired)("aria-label",c.question.getCellAriaLabel(c.row.locText.renderedHtml,c.column.locText.renderedHtml))("aria-invalid",c.question.a11y_input_ariaInvalid)("aria-errormessage",c.question.a11y_input_ariaErrormessage),i.R7$(),i.HbH(c.question.cssClasses.materialDecorator),i.R7$(),i.Y8G("ngIf",c.question.itemSvgIcon),i.R7$(),i.Y8G("ngIf",c.question.isMobile))},dependencies:[ae,V.bT],encapsulation:2}),l})());let vh=(()=>{class l extends Ee{get question(){return this.model.data.question}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-drag-drop-icon"]],inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag"]],template:function(a,c){1&a&&i.DNE(0,Md,2,2,"ng-template",null,0,i.C5r)},dependencies:[V.bT],styles:["[_nghost-%COMP%]{display:none}"]}),l})();N.Instance.registerComponent("sv-matrix-drag-drop-icon",vh);let bh=(()=>{class l extends re{getModel(){return this.cell.hasQuestion?this.cell.question:this.cell.column?this.cell.column:null}get row(){return this.cell.row}ngDoCheck(){var a;super.ngDoCheck(),this.cell.isErrorsCell&&null!==(a=this.cell)&&void 0!==a&&a.question&&this.cell.question.registerFunctionOnPropertiesValueChanged(["errors","visible"],()=>{this.update()},"__ngSubscription")}get panelComponentName(){const a=this.cell.panel,c=a.survey;if(c){const f=c.getElementWrapperComponentName(a);if(f)return f}return"panel"}get panelComponentData(){const a=this.cell.panel,c=a.survey;let f;return c&&(f=c.getElementWrapperComponentData(a)),{componentName:"panel",componentData:{model:a,data:f}}}getComponentName(a){return bl(a)}getCellStyle(){return this.cell.width||this.cell.minWidth?{width:this.cell.width,minWidth:this.cell.minWidth}:null}get isRequiredCell(){return!!this.cell.column&&this.cell.column.isRenderedRequired}ngAfterViewInit(){var a;if(!this.cell.hasQuestion||!this.question||!this.question.survey)return;const c=null===(a=this.cellContainer)||void 0===a?void 0:a.nativeElement;if(c){const v=this.cell.question;this.question.survey.matrixAfterCellRender(this.question,{cell:this.cell.cell,cellQuestion:v,htmlElement:c,row:this.cell.row,column:this.cell.cell.column}),v.afterRenderCore(c)}}ngOnDestroy(){var a;super.ngOnDestroy(),this.cell.isErrorsCell&&null!==(a=this.cell)&&void 0!==a&&a.question&&this.cell.question.unRegisterFunctionOnPropertiesValueChanged(["errors","visible"],"__ngSubscription")}get canRender(){return this.question&&this.question.survey&&this.cell.isVisible}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrixdropdown-cell"]],viewQuery:function(a,c){if(1&a&&i.GBs(kd,5),2&a){let f;i.mGM(f=i.lsd())&&(c.cellContainer=f.first)}},inputs:{question:"question",cell:"cell"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["cellContainer",""],[3,"class","title","style","focusin",4,"ngIf"],[3,"focusin","title"],[3,"model",4,"ngIf"],[3,"model","handleClick",4,"ngIf"],[4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],[3,"class","visible",4,"ngIf"],[3,"model"],[3,"model","handleClick"],[3,"component"],["sv-ng-errors","",3,"element"],["sv-ng-string","",3,"model"],[3,"visible"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[3,"showLabel","inputType","question","model"],["sv-ng-comment-other","",3,"question"],[3,"class",4,"ngIf"]],template:function(a,c){1&a&&i.DNE(0,Jd,1,1,"ng-template",null,0,i.C5r)},dependencies:[vh,st,gn,ae,br,vt,V.bT,fe,ft],styles:["[_nghost-%COMP%] { display: none; }"]}),l})(),rm=(()=>{class l extends re{getModel(){return this.column}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrixheaderrequired"]],inputs:{column:"column",question:"question"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[4,"ngIf"]],template:function(a,c){1&a&&i.DNE(0,Kd,1,1,"ng-template",null,0,i.C5r)},dependencies:[V.bT],styles:["[_nghost-%COMP%] { display: none; }"]}),l})(),sm=(()=>{class l extends re{getModel(){return this.model}get row(){return this.model.row}trackCellBy(a,c){return c.id}onModelChanged(){var a;super.onModelChanged(),this.previousModel&&this.previousModel.setRootElement(void 0),this.model&&null!==(a=this.container)&&void 0!==a&&a.nativeElement&&this.model.setRootElement(this.container.nativeElement)}ngAfterViewInit(){var a;this.model&&null!==(a=this.container)&&void 0!==a&&a.nativeElement&&this.model.setRootElement(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.setRootElement(void 0)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-row"]],viewQuery:function(a,c){if(1&a&&i.GBs(Rn,5,i.aKT),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{model:"model",question:"question"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["container",""],[3,"class","pointerdown",4,"ngIf"],[3,"pointerdown"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(a,c){1&a&&i.DNE(0,ef,1,1,"ng-template",null,0,i.C5r)},dependencies:[bh,V.bT,V.Sq],styles:["[_nghost-%COMP%] { display: none; }"]}),l})(),Ch=(()=>{class l extends re{getModel(){return this.table}trackCellBy(a,c){return c.id}trackRowBy(a,c){return c.id}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-table"]],inputs:{question:"question",table:"table"},features:[i.Vt3],decls:7,vars:12,consts:[["contentElement",""],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","style",4,"ngIf"],[3,"component"],[3,"model"],[3,"column","question",4,"ngIf"],[3,"column","question"],[3,"model","question"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0)(2,"table"),i.DNE(3,cr,3,2,"thead",1),i.j41(4,"tbody"),i.DNE(5,nl,2,2,"ng-container",2),i.k0s(),i.DNE(6,il,3,2,"tfoot",1),i.k0s()()),2&a&&(i.Aen(i.eq3(10,tf,c.question.showHorizontalScroll?"scroll":"")),i.HbH(c.question.cssClasses.tableWrapper),i.R7$(2),i.HbH(c.question.getTableCss()),i.R7$(),i.Y8G("ngIf",c.table.showHeader),i.R7$(2),i.Y8G("ngForOf",c.table.renderedRows)("ngForTrackBy",c.trackRowBy),i.R7$(),i.Y8G("ngIf",c.table.showFooter))},dependencies:[ae,rm,sm,bh,V.bT,V.Sq,fe],encapsulation:2}),l})();N.Instance.registerComponent("matrixdropdown-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrixdropdown-question"]],features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"question","table",4,"ngIf"],[3,"question","table"]],template:function(a,c){1&a&&i.DNE(0,uf,1,1,"ng-template",null,0,i.C5r)},dependencies:[Ch,V.bT],encapsulation:2}),l})()),N.Instance.registerComponent("matrixdynamic-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrixdynamic-question"]],features:[i.Vt3],decls:2,vars:0,consts:[["template",""],["contentElement",""],["addRowButton",""],[3,"class",4,"ngIf"],[3,"question","table",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"question","table"],["sv-ng-string","",3,"model"],[4,"ngIf"],["type","button",3,"click"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,hf,8,4,"ng-template",null,0,i.C5r)},dependencies:[Ch,ae,V.bT,V.T3],encapsulation:2}),l})()),N.Instance.registerComponent("sv-matrix-remove-button",(()=>{class l{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-remove-btn"]],inputs:{model:"model"},decls:3,vars:6,consts:[["type","button",3,"click","disabled"],[3,"model"]],template:function(a,c){1&a&&(i.j41(0,"button",0),i.bIt("click",function(){return c.question.removeRowUI(c.row)}),i.nrm(1,"sv-ng-string",1)(2,"span"),i.k0s()),2&a&&(i.HbH(c.question.getRemoveRowButtonCss()),i.Y8G("disabled",c.question.isInputReadOnly),i.R7$(),i.Y8G("model",c.question.locRemoveRowText),i.R7$(),i.HbH(c.question.cssClasses.iconRemove))},dependencies:[ae],encapsulation:2}),l})()),N.Instance.registerComponent("sv-matrix-detail-button",(()=>{class l{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-matrix-detail-btn"]],inputs:{model:"model"},decls:2,vars:8,consts:[["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&(i.j41(0,"button",0),i.bIt("click",function(){return c.row.showHideDetailPanelClick()}),i.qSk(),i.nrm(1,"svg",1),i.k0s()),2&a&&(i.HbH(c.question.getDetailPanelButtonCss(c.row)),i.BMQ("aria-expanded",c.question.getIsDetailPanelShowing(c.row)?"true":"false")("aria-controls",c.question.getIsDetailPanelShowing(c.row)?c.row.detailPanelId:null),i.R7$(),i.HbH(c.question.getDetailPanelIconCss(c.row)),i.Y8G("iconName",c.question.getDetailPanelIconId(c.row))("size","auto"))},dependencies:[_e],encapsulation:2}),l})()),N.Instance.registerComponent("expression-question",(()=>{class l extends De{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-expression"]],features:[i.Vt3],decls:3,vars:3,consts:[["contentElement",""]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.EFF(2),i.k0s()),2&a&&(i.HbH(c.model.cssClasses.root),i.R7$(2),i.JRh(c.model.formatedValue))},encapsulation:2}),l})()),N.Instance.registerComponent("image-question",(()=>{class l extends De{ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()},super.ngAfterViewInit()}ngOnDestroy(){this.model.locImageLink.onChanged=()=>{},super.ngOnDestroy()}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-image-question"]],features:[i.Vt3],decls:6,vars:6,consts:[["contentElement",""],[3,"visible","class","style","load","error",4,"ngIf"],["controls","",3,"visible","class","style","loadedmetadata","error",4,"ngIf"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf"],[3,"load","error","visible"],["controls","",3,"loadedmetadata","error","visible"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(a,c){1&a&&(i.j41(0,"div",null,0),i.DNE(2,cl,1,13,"img",1)(3,mf,1,12,"video",2)(4,gf,2,13,"iframe",3)(5,yf,2,4,"div",4),i.k0s()),2&a&&(i.HbH(c.model.cssClasses.root),i.R7$(2),i.Y8G("ngIf","image"===c.model.renderedMode),i.R7$(),i.Y8G("ngIf","video"===c.model.renderedMode),i.R7$(),i.Y8G("ngIf","youtube"===c.model.renderedMode),i.R7$(),i.Y8G("ngIf",!c.model.locImageLink.renderedHtml||c.model.contentNotLoaded))},dependencies:[_e,V.bT,ft,wl],encapsulation:2}),l})()),N.Instance.registerComponent("sv-question-error",(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["sv-question-error"]],inputs:{error:"error",cssClasses:"cssClasses",element:"element"},decls:3,vars:5,consts:[["aria-hidden","true"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&(i.j41(0,"div"),i.nrm(1,"span",0)(2,"span",1),i.k0s()),2&a&&(i.R7$(),i.HbH(c.cssClasses?c.cssClasses.error.icon:"panel-error-icon"),i.R7$(),i.HbH(c.cssClasses?c.cssClasses.error.item:"panel-error-item"),i.Y8G("model",c.error.locText))},dependencies:[ae],encapsulation:2}),l})()),N.Instance.registerComponent("custom-question",(()=>{class l extends De{get contentQuestion(){return this.model.contentQuestion}getComponentName(a){return bl(a)}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-custom-question"]],features:[i.Vt3],decls:1,vars:6,consts:[[3,"component"]],template:function(a,c){1&a&&i.DNE(0,vf,0,0,"ng-template",0),2&a&&i.Y8G("component",i.l_i(3,K,c.getComponentName(c.contentQuestion),i.eq3(1,Nt,c.contentQuestion)))},dependencies:[fe],encapsulation:2}),l})()),N.Instance.registerComponent("composite-question",(()=>{class l extends De{get contentPanel(){return this.model.contentPanel}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-composite-question"]],features:[i.Vt3],decls:1,vars:1,consts:[[3,"model"]],template:function(a,c){1&a&&i.nrm(0,"sv-ng-panel",0),2&a&&i.Y8G("model",c.contentPanel)},dependencies:[ge],encapsulation:2}),l})());let _h=(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-header-cell"]],viewQuery:function(a,c){if(1&a&&i.GBs(In,7,i.c1b),2&a){let f;i.mGM(f=i.lsd())&&(c.actionContent=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[1,"sv-header__cell-content"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&i.DNE(0,wf,5,9,"ng-template",null,0,i.C5r)},dependencies:[Hn,ae,V.bT,fe],styles:["[_nghost-%COMP%] { display: none; }"]}),l})();N.Instance.registerComponent("sv-header-cell",_h);let xh=(()=>{class l extends Ee{}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-ng-header-mobile"]],viewQuery:function(a,c){if(1&a&&i.GBs(In,7,i.c1b),2&a){let f;i.mGM(f=i.lsd())&&(c.actionContent=f.first)}},inputs:{model:"model"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[1,"sv-header--mobile"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(a,c){1&a&&i.DNE(0,Sf,4,3,"ng-template",null,0,i.C5r)},dependencies:[Hn,ae,V.bT,fe],styles:["[_nghost-%COMP%] { display: none; }"]}),l})();N.Instance.registerComponent("sv-header-cell",xh),N.Instance.registerComponent("sv-header",(()=>{class l extends re{getModel(){return this.model.survey=this.survey,this.model}}return l.\u0275fac=(()=>{let d;return function(c){return(d||(d=i.xGo(l)))(c||l)}})(),l.\u0275cmp=i.VBU({type:l,selectors:[["sv-header"],["sv-ng-header"]],viewQuery:function(a,c){if(1&a&&i.GBs(Rn,5),2&a){let f;i.mGM(f=i.lsd())&&(c.container=f.first)}},inputs:{model:"model",survey:"survey"},features:[i.Vt3],decls:2,vars:0,consts:[["template",""],[3,"class","style",4,"ngIf"],[3,"style","class",4,"ngIf"],[3,"class","width",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"]],template:function(a,c){1&a&&i.DNE(0,kf,1,1,"ng-template",null,0,i.C5r)},dependencies:[_h,xh,V.bT,V.Sq],styles:["[_nghost-%COMP%] { display: none }"]}),l})());let ym=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=i.$C({type:l}),l.\u0275inj=i.G2t({providers:[dr],imports:[[V.MD,k.YN]]}),l})();var vm=C(7394),xr=C(9714),zf=C(8841),Uf=C(8728),Ft=C(7312);const bm=["questionElement"];let wh=(()=>{class l{constructor(a,c){this._data=a,this._dialog_ref=c,this.isEdit=!1,this.isEdit=this._data?.id>0,this.question=this._data||function Yl(){return{title:"",name:"",tags:[],type:Je.Single_Line_Text,isRequired:!1,deleted:!1}}()}ngOnInit(){}done(){this._dialog_ref.close(this.question)}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(te.Vh),i.rXU(te.CP))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["mod-question-overlay"]],viewQuery:function(c,f){if(1&c&&i.GBs(bm,5),2&c){let v;i.mGM(v=i.lsd())&&(f.questionElement=v.first)}},decls:13,vars:4,consts:[["questionElement",""],[1,"flex","items-center","justify-between","px-2","w-full"],[1,"px-2"],["icon","","matRipple","","mat-dialog-close",""],["mat-dialog-content","",1,"min-w-[40rem]","overflow-x-hidden"],[3,"value"],["mat-dialog-actions","",1,"flex","flex-row","justify-end","space-x-2","px-4","py-2"],["btn","","matRipple","",3,"click","disabled"]],template:function(c,f){if(1&c){const v=i.RV6();i.j41(0,"header",1)(1,"h2",2),i.EFF(2),i.k0s(),i.j41(3,"button",3)(4,"app-icon"),i.EFF(5,"close"),i.k0s()()(),i.j41(6,"main",4)(7,"section"),i.nrm(8,"placeos-question",5,0),i.k0s()(),i.j41(10,"div",6)(11,"button",7),i.bIt("click",function(){return i.eBV(v),i.Njj(f.done())}),i.EFF(12),i.k0s()()}if(2&c){const v=i.sdS(9);i.R7$(2),i.SpI("",f.isEdit?"Update":"Add"," Question"),i.R7$(6),i.Y8G("value",f.question),i.R7$(3),i.Y8G("disabled",!v.valid),i.R7$(),i.SpI(" ",f.isEdit?"Update":"Add to bank"," ")}},dependencies:[te.tx,te.E7,te.Yi,wt.R,_.r6,cu],encapsulation:2})}return l})(),Wf=(()=>{class l extends se.Tv{get questions(){return this._questions.getValue()}set questions(a){this._questions.next(a)}set withdrawnQuestions(a){this._withdrawnQuestions.next(a)}get withdrawnQuestions(){return this._withdrawnQuestions.getValue()}get loading(){return this._loading.getValue()}set loading(a){this._loading.next(a)}constructor(a){super(),this._dialog=a,this._questions=new ke.t([]),this.questions$=this._questions.asObservable(),this._withdrawnQuestions=new ke.t([]),this.withdrawnQuestions$=this._withdrawnQuestions.asObservable(),this._loading=new ke.t(""),this.loading$=this._loading.asObservable(),this._filter=new ke.t({search:"",type:""}),this.filter$=this._filter.asObservable(),this.filteredQuestions$=(0,xr.zV)([this.questions$,this.withdrawnQuestions$,this.filter$]).pipe((0,Re.T)(([c,f,v])=>{if(!c)return[];const O=f.map(le=>le.id),{search:q,type:ne}=v;return c.filter(le=>!O.includes(le.id)).filter(le=>!ne?.length||le.type===ne).filter(le=>le.title.includes(q)).filter(le=>!le.deleted)}),(0,zf.M)(c=>this.filteredQuestions=c)),this.filteredQuestions=[],this.loadQuestions()}resetTransaction(){this.withdrawnQuestions=[],this._filter.next({search:"",type:""})}setFilter(a){this._filter.next({...this._filter.getValue(),...a})}getQuestion(a){return this.filteredQuestions[a]}withdrawFilteredQuestion(a){const c=this.filteredQuestions[a];return this.withdrawnQuestions=[...this.withdrawnQuestions,c],c}setWithdrawnQuestions(a){this.withdrawnQuestions=[...a]}depositQuestions(a){let c=[...this.withdrawnQuestions];a.forEach(f=>{const v=c.findIndex(O=>O.id===f.id);v>-1&&c.splice(v,1)}),this.withdrawnQuestions=c}onDrop(a){const{container:c,previousContainer:f,previousIndex:v}=a;if(c!==f){const q=f.data.splice(v,1);this.depositQuestions(q)}}confirmDeleteQuestion(a){var c=this;return(0,ye.A)(function*(){if(!a)return;const f=yield(0,se.GE)({title:"Confirm delete question",content:`Are you sure you want to delete this question? \n \n                            <pre>'${a.title}'</pre> \n\n                            Note: This action is irreversible.`,icon:{class:"material-icons",content:"delete"}},c._dialog);"done"===f.reason&&(f.close(),c.deleteQuestion(a))})()}modQuestionOverlay(a,c){const f=this._dialog.open(wh,{data:a});this.subscription("mod dialog",f.afterClosed().pipe((0,Uf.p)(v=>!!v)).subscribe(v=>{c?this.editQuestion(v):this.saveQuestion(v)}))}deleteQuestion(a){var c=this;return(0,ye.A)(function*(){c.loading="Deleting question from bank...",yield(0,ze.V0P)(`${a.id}`).pipe((0,Fe.$)(),(0,zf.M)(()=>c.removeQuestionFromStore(a)),(0,Ae.W)(v=>c.handleError("Error deleting question",null)),(0,Ft.j)(()=>c.loading="")).toPromise()})()}loadQuestions(){var a=this;return(0,ye.A)(function*(){a.loading="Loading questions";const c=yield(0,ze.Ilu)().pipe((0,Fe.$)(),(0,Re.T)(f=>f?.map(v=>on(v))||[]),(0,Ae.W)(f=>a.handleError("Error loading questions",[])),(0,Ft.j)(()=>a.loading="")).toPromise();a.questions=c})()}saveQuestion(a){var c=this;return(0,ye.A)(function*(){c.loading="Saving question to bank...";const f=yield(0,ze.AfL)(Qi(a)).pipe((0,Fe.$)(),(0,Re.T)(v=>on(v)),(0,Ae.W)(v=>c.handleError("Error adding question",null)),(0,Ft.j)(()=>c.loading="")).toPromise();f&&((0,se.VX)("Successfully added question to bank"),c.addQuestionToStore(f))})()}editQuestion(a){var c=this;return(0,ye.A)(function*(){c.loading="Updating question...";const f=yield(0,vm.sr)(`${a.id}`,Qi(a)).pipe((0,Fe.$)(),(0,Re.T)(v=>on(v)),(0,Ae.W)(v=>c.handleError("Error updating question",null)),(0,Ft.j)(()=>c.loading="")).toPromise();f?.id===a.id?c.updateQuestionInStore(f):(c.addQuestionToStore(f),c.markQuestionDeletedInStore(a.id))})()}handleError(a,c){return(0,se.UG)(a),c}removeQuestionFromStore(a){let c=[...this.questions],f=c.findIndex(v=>v.id===a.id);f>-1&&c.splice(f,1),this.questions=c}addQuestionToStore(a){let c=[...this.questions];c.push(a),this.questions=c}updateQuestionInStore(a){let c=[...this.questions];const f=c.findIndex(v=>v.id===a.id);f>-1&&(c[f]=a,this.questions=c)}markQuestionDeletedInStore(a){let c=[...this.questions];const f=c.findIndex(v=>v.id===a);f>-1&&(c[f].deleted=!0,this.questions=c)}static#e=this.\u0275fac=function(c){return new(c||l)(i.KVO(te.bZ))};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();var Cm=C(3586),_m=C(3020),xm=C(522);const wm=["searchInput"];function Pm(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",5),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.clearSearch())}),i.j41(1,"app-icon"),i.EFF(2,"close"),i.k0s()()}}let Ph=(()=>{class l extends se.Tv{constructor(){super(),this.placeholder="",this.classNames="",this.search="",this.onSearch=new i.bkB}clearSearch(){this.input.nativeElement.value="",this.onSearch.emit("")}ngAfterViewInit(){this.search$=(0,Cm.R)(this.input.nativeElement,"keyup").pipe((0,Re.T)(a=>a.target.value),(0,_m.B)(500),(0,xm.F)()),this.subscription("search-input",this.search$.subscribe(a=>this.onSearch.emit(a)))}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["search-input"]],viewQuery:function(c,f){if(1&c&&i.GBs(wm,7),2&c){let v;i.mGM(v=i.lsd())&&(f.input=v.first)}},inputs:{placeholder:"placeholder",classNames:"classNames",search:"search"},outputs:{onSearch:"onSearch"},features:[i.Vt3],decls:6,vars:6,consts:[["searchInput",""],["appearance","outline","subscriptSizing","dynamic"],["matPrefix","",1,"-ml-3","mr-1"],["matInput","","autocomplete","off","type","text",3,"ngModelChange","placeholder","ngModel"],["class","sm text-xs","matSuffix","","icon","","matRipple","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","icon","","matRipple","","aria-label","Clear",1,"sm","text-xs",3,"click"]],template:function(c,f){if(1&c){const v=i.RV6();i.j41(0,"mat-form-field",1)(1,"app-icon",2),i.EFF(2,"search"),i.k0s(),i.j41(3,"input",3,0),i.mxI("ngModelChange",function(q){return i.eBV(v),i.DH7(f.search,q)||(f.search=q),i.Njj(q)}),i.k0s(),i.DNE(5,Pm,3,0,"button",4),i.k0s()}if(2&c){const v=i.sdS(4);i.ZvI("w-full ",f.classNames?f.classNames:""," "),i.R7$(3),i.Y8G("placeholder",f.placeholder),i.R50("ngModel",f.search),i.R7$(2),i.Y8G("ngIf",null==v.value?null:v.value.length)}},dependencies:[V.bT,k.me,k.BC,k.vS,Me.rl,Me.JW,Me.yw,wt.R,_.r6,Le.fg],encapsulation:2})}return l})();function Vm(l,d){if(1&l&&(i.j41(0,"div",16)(1,"div",17),i.nrm(2,"mat-spinner",18),i.j41(3,"span"),i.EFF(4),i.nI1(5,"async"),i.k0s()()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("diameter",32),i.R7$(2),i.JRh(i.bMT(5,2,a.loading$))}}function Tm(l,d){if(1&l&&(i.j41(0,"mat-option",19),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.value),i.R7$(),i.SpI(" ",a.name," ")}}function Im(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",20)(1,"div",21)(2,"app-icon"),i.EFF(3,"drag_indicator"),i.k0s()(),i.j41(4,"div",22)(5,"span"),i.EFF(6),i.k0s(),i.j41(7,"span",23),i.EFF(8),i.k0s()(),i.j41(9,"button",24)(10,"app-icon"),i.EFF(11,"more_vert"),i.k0s()(),i.j41(12,"mat-menu",null,1)(14,"button",25),i.bIt("click",function(){const f=i.eBV(a).$implicit,v=i.XpG();return i.Njj(v.onAddQuestion(f))}),i.j41(15,"app-icon"),i.EFF(16,"content_copy"),i.k0s(),i.j41(17,"span"),i.EFF(18,"Duplicate"),i.k0s()(),i.j41(19,"button",25),i.bIt("click",function(){const f=i.eBV(a).$implicit,v=i.XpG();return i.Njj(v.onEditQuestion(f))}),i.j41(20,"app-icon"),i.EFF(21,"edit"),i.k0s(),i.j41(22,"span"),i.EFF(23,"Edit"),i.k0s()(),i.j41(24,"button",25),i.bIt("click",function(){const f=i.eBV(a).$implicit,v=i.XpG();return i.Njj(v.onDeleteQuestion(f))}),i.j41(25,"app-icon"),i.EFF(26,"delete"),i.k0s(),i.j41(27,"span"),i.EFF(28,"Delete"),i.k0s()()()()}if(2&l){const a=d.$implicit,c=i.sdS(13),f=i.XpG();i.R7$(6),i.JRh(a.title),i.R7$(2),i.JRh(f.typeMap[a.type]),i.R7$(),i.Y8G("matMenuTriggerFor",c)}}function Rm(l,d){1&l&&i.nrm(0,"div")}function Sm(l,d){1&l&&(i.j41(0,"div",26)(1,"span"),i.EFF(2,"No questions found"),i.k0s(),i.j41(3,"span"),i.EFF(4,"Click "),i.j41(5,"i"),i.EFF(6,"Add"),i.k0s(),i.EFF(7," to add some questions."),i.k0s()())}let Vh=(()=>{class l{constructor(a){this.service=a,this.loading$=this.service.loading$.pipe((0,Se.t)(1)),this.questions$=this.service.filteredQuestions$.pipe((0,Se.t)(1)),this.filters$=this.service.filter$.pipe((0,Se.t)(1)),this.onDrop=c=>this.service.onDrop(c),this.onAddQuestion=c=>this.service.modQuestionOverlay(c?{...c,id:0}:null),this.onEditQuestion=c=>this.service.modQuestionOverlay(c,!0),this.onDeleteQuestion=c=>this.service.confirmDeleteQuestion(c),this.setFilter=c=>this.service.setFilter(c),this.typeOptions=we,this.typeMap=Bt}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(Wf))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["question-bank"]],decls:26,vars:17,consts:[["noQuestions",""],["actionsMenu","matMenu"],[1,"flex","flex-col","w-full","h-full","bg-base-200","border-l","relative"],["class","flex absolute inset-0 opacity-60 bg-base-100 z-10",4,"ngIf"],[1,"flex","items-center","pt-2","px-4","w-full"],[1,"ml-auto"],["icon","","matRipple","",3,"click"],[1,"flex","w-full","pb-3","px-4","border-b","space-x-2"],[1,"flex-1",3,"onSearch"],["appearance","outline","subscriptSizing","dynamic",1,"w-44"],[3,"selectionChange","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["cdkDropList","",1,"flex","flex-col","min-h-0","h-full","w-full","space-y-3","p-4","overflow-y-auto",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","","class","bg-base-100 border flex w-full items-center pr-2 space-x-3",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"flex","absolute","inset-0","opacity-60","bg-base-100","z-10"],[1,"flex","flex-col","m-auto","items-center"],[3,"diameter"],[3,"value"],["cdkDrag","",1,"bg-base-100","border","flex","w-full","items-center","pr-2","space-x-3"],["cdkDragHandle","",1,"flex","flex-col","justify-center","h-full","hover:cursor-move","p-1","bg-base-200"],[1,"flex","flex-col","w-full","py-3"],[1,"text-sm","text-gray-600"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","flex-col","items-center","h-20","m-auto","text-gray-600"]],template:function(c,f){if(1&c){const v=i.RV6();i.j41(0,"div",2),i.DNE(1,Vm,6,4,"div",3),i.nI1(2,"async"),i.j41(3,"header",4)(4,"span"),i.EFF(5,"Question Bank"),i.k0s(),i.j41(6,"div",5)(7,"button",6),i.bIt("click",function(){return i.eBV(v),i.Njj(f.onAddQuestion())}),i.j41(8,"app-icon"),i.EFF(9,"add_circle_outline"),i.k0s()()()(),i.j41(10,"div",7)(11,"search-input",8),i.bIt("onSearch",function(q){return i.eBV(v),i.Njj(f.setFilter({search:q}))}),i.k0s(),i.j41(12,"mat-form-field",9)(13,"mat-select",10),i.nI1(14,"async"),i.bIt("selectionChange",function(q){return i.eBV(v),i.Njj(f.setFilter({type:q.value}))}),i.j41(15,"mat-option",11),i.EFF(16,"All types"),i.k0s(),i.DNE(17,Tm,2,2,"mat-option",12),i.k0s()()(),i.j41(18,"div",13),i.nI1(19,"async"),i.bIt("cdkDropListDropped",function(q){return i.eBV(v),i.Njj(f.onDrop(q))}),i.DNE(20,Im,29,3,"div",14),i.nI1(21,"async"),i.DNE(22,Rm,1,0,"div",15),i.nI1(23,"async"),i.k0s()(),i.DNE(24,Sm,8,0,"ng-template",null,0,i.C5r)}if(2&c){let v,O;const q=i.sdS(25);i.R7$(),i.Y8G("ngIf",i.bMT(2,7,f.loading$).length),i.R7$(12),i.Y8G("value",(null==(v=i.bMT(14,9,f.filters$))?null:v.type)||""),i.R7$(4),i.Y8G("ngForOf",f.typeOptions),i.R7$(),i.Y8G("cdkDropListData",i.bMT(19,11,f.questions$)),i.R7$(2),i.Y8G("ngForOf",i.bMT(21,13,f.questions$)),i.R7$(2),i.Y8G("ngIf",(null==(O=i.bMT(23,15,f.questions$))?null:O.length)>0)("ngIfElse",q)}},dependencies:[V.Sq,V.bT,P.O7,P.T1,P.Fb,Me.rl,_n.VO,_.wT,wt.R,jt.kk,jt.fb,jt.Cp,_.r6,Ue.LG,Ph,V.Jj],styles:["[_nghost-%COMP%]{height:100%}"]})}return l})(),Yf=(()=>{class l{constructor(a,c,f){this.bank=a,this._settings=c,this._dialog=f,this.selectedPageIndex=0}get selectedPage(){return this.survey?.pages[this.selectedPageIndex]}setUISurvey(a){var c=this;return(0,ye.A)(function*(){if(c.bank.resetTransaction(),!a)return;c.survey=a;const{pages:f}=a;if(f?.length>0){let v=[];f.forEach(O=>{v=[...v,...O.elements||[]]}),v.length>0&&c.bank.setWithdrawnQuestions(v)}})()}getUISurvey(){return this.survey}addSurveyPage(){if(!this.survey)return;let a=this.survey.pages||[];a.push({title:"",elements:[]}),this.survey.pages=a,this.selectedPageIndex=a.length-1}confirmDeletePage(a){var c=this;return(0,ye.A)(function*(){if(a<1)return;const f=yield(0,se.GE)({title:"Confirm delete page",content:"Are you sure you want to delete this page?\n \n                          All marked-for-deletion questions will also be removed.",icon:{class:"material-icons",content:"delete"}},c._dialog);"done"===f.reason&&(f.close(),c.removeSurveyPage(a))})()}removeQuestionFromSurvey(a){var c=this;return(0,ye.A)(function*(){if(c.selectedPage.elements[a]?.deleted){const O=yield(0,se.GE)({title:"Question marked for deletion",content:"This question has been marked for deletion.\n \n                                You will not be able to add this question back after removing it from the survey.\n \n                                Are you sure you want to delete this question?",icon:{class:"material-icons",content:"delete"}},c._dialog);if("done"!==O.reason)return;O.close()}const v=c.selectedPage.elements.splice(a,1);c.bank.depositQuestions(v)})()}onDropQuestionToSurvey(a,c){if(!c)return;const{previousIndex:f,previousContainer:v,currentIndex:O,container:q}=a;if(q!==v){const ne=this.bank.withdrawFilteredQuestion(f);c.elements.splice(O,0,ne)}else{const ne=c.elements.splice(f,1);c.elements.splice(O,0,ne[0])}}onPreview(){const a=this._settings.get("app.survey.logo");let c={};a?.length&&(c={logo:a,logoWidth:"200px",logoPosition:"right"}),this.surveyModel=new ue.Model({...c,...this.survey})}removeSurveyPage(a){if(0===a)return;let c=this.survey.pages||[];const f=c[a];f?.elements?.length&&this.bank.depositQuestions(f.elements),c.splice(a,1),this.survey.pages=c,this.selectedPageIndex=0}static#e=this.\u0275fac=function(c){return new(c||l)(i.KVO(Wf),i.KVO(se.h$),i.KVO(te.bZ))};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();function Om(l,d){if(1&l){const a=i.RV6();i.j41(0,"a",28),i.bIt("click",function(){const f=i.eBV(a).index,v=i.XpG(3);return i.Njj(v.selectedPageIndex=f)}),i.EFF(1),i.k0s()}if(2&l){const a=d.$implicit,c=d.index,f=i.XpG(3);i.Y8G("active",f.selectedPage===a),i.R7$(),i.SpI(" Page ",c+1," ")}}function Em(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",36),i.bIt("click",function(){i.eBV(a);const f=i.XpG(4);return i.Njj(f.removeSurveyPage(f.selectedPageIndex))}),i.EFF(1," Remove page "),i.k0s()}}function Dm(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",37)(1,"div",38)(2,"span",39),i.EFF(3),i.k0s()(),i.nrm(4,"placeos-question",40),i.j41(5,"div",41)(6,"app-icon",42),i.EFF(7,"drag_indicator"),i.k0s(),i.j41(8,"button",43),i.bIt("click",function(){const f=i.eBV(a).index,v=i.XpG(4);return i.Njj(v.onRemove(f))}),i.j41(9,"app-icon"),i.EFF(10),i.k0s()()()()}if(2&l){const a=d.$implicit,c=d.index;i.R7$(3),i.JRh(c+1),i.R7$(),i.Y8G("preview",!0)("value",a),i.R7$(6),i.JRh(a.deleted?"delete_forever":"delete")}}function Mm(l,d){1&l&&i.nrm(0,"div")}function km(l,d){if(1&l){const a=i.RV6();i.qex(0),i.j41(1,"div",29)(2,"mat-form-field",30)(3,"input",31),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG(3);return i.DH7(v.selectedPage.title,f)||(v.selectedPage.title=f),i.Njj(f)}),i.k0s()(),i.DNE(4,Em,2,0,"button",32),i.k0s(),i.j41(5,"div",33),i.bIt("cdkDropListDropped",function(f){i.eBV(a);const v=i.XpG(3);return i.Njj(v.onDrop(f,v.selectedPage))}),i.DNE(6,Dm,11,4,"div",34)(7,Mm,1,0,"div",35),i.k0s(),i.bVm()}if(2&l){const a=i.XpG(3),c=i.sdS(2);i.R7$(2),i.Y8G("subscriptSizing","dynamic"),i.R7$(),i.R50("ngModel",a.selectedPage.title),i.R7$(),i.Y8G("ngIf",a.selectedPageIndex>0),i.R7$(),i.Y8G("cdkDropListData",a.selectedPage.elements),i.R7$(),i.Y8G("ngForOf",a.selectedPage.elements),i.R7$(),i.Y8G("ngIf",(null==a.selectedPage||null==a.selectedPage.elements?null:a.selectedPage.elements.length)>0)("ngIfElse",c)}}function Am(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"nav",21),i.DNE(4,Om,2,2,"a",22),i.k0s(),i.j41(5,"button",23),i.bIt("click",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.addSurveyPage())}),i.j41(6,"app-icon"),i.EFF(7,"add_circle_outline"),i.k0s()()(),i.j41(8,"div",24,2),i.DNE(10,km,8,7,"ng-container",25),i.k0s()(),i.j41(11,"div",26),i.nrm(12,"question-bank",27),i.k0s()()}if(2&l){const a=i.sdS(9),c=i.XpG(2);i.R7$(3),i.Y8G("tabPanel",a),i.R7$(),i.Y8G("ngForOf",c.survey.pages),i.R7$(6),i.Y8G("ngIf",c.selectedPage)}}function Lm(l,d){if(1&l&&i.nrm(0,"survey",46),2&l){const a=i.XpG(3);i.Y8G("model",a.service.surveyModel)}}function Fm(l,d){if(1&l&&(i.j41(0,"div",44),i.DNE(1,Lm,1,1,"survey",45),i.k0s()),2&l){const a=i.XpG(2);i.R7$(),i.Y8G("ngIf",a.service.surveyModel)}}function jm(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"label",7),i.EFF(4,"Title"),i.k0s(),i.j41(5,"mat-form-field",8)(6,"input",9),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.survey.title,f)||(v.survey.title=f),i.Njj(f)}),i.k0s()()(),i.j41(7,"div",6)(8,"label",10),i.EFF(9,"Description"),i.k0s(),i.j41(10,"mat-form-field",11)(11,"input",12),i.mxI("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.DH7(v.survey.description,f)||(v.survey.description=f),i.Njj(f)}),i.k0s()()()(),i.j41(12,"nav",13)(13,"a",14),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.switchView("design"))}),i.EFF(14," Questions "),i.k0s(),i.j41(15,"a",14),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.switchView("preview"))}),i.EFF(16," Preview "),i.k0s()(),i.j41(17,"div",15,1),i.DNE(19,Am,13,3,"div",16)(20,Fm,2,1,"div",17),i.k0s()()}if(2&l){const a=i.sdS(18),c=i.XpG();i.R7$(6),i.R50("ngModel",c.survey.title),i.R7$(5),i.R50("ngModel",c.survey.description),i.R7$(),i.Y8G("tabPanel",a),i.R7$(),i.Y8G("active","design"===c.view),i.R7$(2),i.Y8G("active","preview"===c.view),i.R7$(4),i.Y8G("ngIf","design"===c.view),i.R7$(),i.Y8G("ngIf","preview"===c.view)}}function Bm(l,d){1&l&&(i.j41(0,"div",47),i.nrm(1,"img",48),i.j41(2,"span"),i.EFF(3,"Drag and drop questions from the question bank here"),i.k0s()())}let Th=(()=>{class l{constructor(a){this.service=a,this.view="design",this.onDrop=(c,f)=>this.service.onDropQuestionToSurvey(c,f),this.onRemove=c=>this.service.removeQuestionFromSurvey(c),this.addSurveyPage=()=>this.service.addSurveyPage(),this.removeSurveyPage=c=>this.service.confirmDeletePage(c)}get selectedPageIndex(){return this.service.selectedPageIndex}set selectedPageIndex(a){this.service.selectedPageIndex=a}get selectedPage(){return this.service.selectedPage}get survey(){return this.service.getUISurvey()}switchView(a){this.view=a,"preview"===a&&this.service.onPreview()}onTabChange(a){1===a.index&&this.service.onPreview()}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(Yf))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["survey-builder"]],decls:3,vars:1,consts:[["noQuestion",""],["tabPanel",""],["pagePanel",""],["cdkDropListGroup","","class","flex flex-col h-full w-full bg-base-100 overflow-y-auto",4,"ngIf"],["cdkDropListGroup","",1,"flex","flex-col","h-full","w-full","bg-base-100","overflow-y-auto"],[1,"flex","flex-row","items-center","w-full","space-x-4","px-4","pt-4","pb-2"],[1,"flex","flex-col","w-1/2"],["for","title"],["name","title","appearance","outline","subscriptSizing","dynamic"],["matInput","","required","","placeholder","Title...",1,"text-xl",3,"ngModelChange","ngModel"],["for","desc"],["name","desc","appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Description...",3,"ngModelChange","ngModel"],["mat-tab-nav-bar","",1,"flex","bg-base-200",3,"tabPanel"],["mat-tab-link","",3,"click","active"],["mat-tab-nav-panel","",1,"flex","min-h-0","h-full","w-full","bg-base-200"],["class","mt-0 flex min-h-0 h-full w-full",4,"ngIf"],["class","flex flex-col h-full w-full px-6 overflow-y-auto",4,"ngIf"],[1,"mt-0","flex","min-h-0","h-full","w-full"],[1,"flex","flex-col","h-full","w-4/6","min-w-[43rem]","space-y-3","overflow-y-auto"],[1,"flex","flex-row","items-center","justify-end","w-full","space-x-2","pr-2"],["mat-tab-nav-bar","",1,"max-w-xl",3,"tabPanel"],["mat-tab-link","","class","rounded-b-md border-x",3,"active","click",4,"ngFor","ngForOf"],["icon","","matRipple","","title","Add new page",3,"click"],[1,"flex","flex-col","py-2","px-6","pt-0","w-full","overflow-x-hidden"],[4,"ngIf"],[1,"flex","flex-col","w-2/6"],[1,"w-full"],["mat-tab-link","",1,"rounded-b-md","border-x",3,"click","active"],[1,"flex","flex-row","items-center","justify-end","space-x-2","w-full","mb-4"],["appearance","fill",1,"flex-1",3,"subscriptSizing"],["matInput","","placeholder","Page title...","type","text",3,"ngModelChange","ngModel"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["cdkDropList","",1,"flex","flex-col","w-full","space-y-3",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","","class","flex flex-row rounded-md items-start w-full bg-base-200 py-1",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","warn",3,"click"],["cdkDrag","",1,"flex","flex-row","rounded-md","items-start","w-full","bg-base-200","py-1"],[1,"flex","flex-col","px-2","h-full"],[1,"text-lg"],[1,"flex-1",3,"preview","value"],[1,"flex","flex-col","items-center","h-full","py-2"],["cdkDragHandle","",1,"hover:cursor-move"],["icon","","matRipple","",1,"mt-auto",3,"click"],[1,"flex","flex-col","h-full","w-full","px-6","overflow-y-auto"],[3,"model",4,"ngIf"],[3,"model"],[1,"flex","flex-col","m-auto","h-52","justify-center","space-y-2","text-gray-600"],["src","assets/icons/dragdrop.svg","alt","Icon of drag and drop",1,"h-12"]],template:function(c,f){1&c&&i.DNE(0,jm,21,7,"div",3)(1,Bm,4,0,"ng-template",null,0,i.C5r),2&c&&i.Y8G("ngIf",f.survey)},dependencies:[V.Sq,V.bT,k.me,k.BC,k.YS,k.vS,Ct.Bu,Ct.Ql,P.O7,P.RK,P.T1,P.Fb,R.$z,Me.rl,wt.R,_.r6,Le.fg,cu,Qn,Vh],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;min-height:0}"]})}return l})(),wr=(()=>{class l{get loading(){return this._loading.getValue()}set loading(a){this._loading.next(a)}constructor(a,c,f,v){this._settings=a,this.router=c,this.builder=f,this.dialog=v,this._loading=new ke.t(""),this.loading$=this._loading.asObservable(),this._options=new ke.t({zone_id:"",building_id:"",trigger:xn.None}),this._options$=this._options.asObservable()}loadSurvey(a){var c=this;return(0,ye.A)(function*(){if(!a?.length)return void c.builder.setUISurvey({title:"New Survey Title",description:"",pages:[{title:"",elements:[]}]});const f=yield c.getSurveyDetails(a);f&&(c.builder.setUISurvey(f),c.setOptions({zone_id:f.zone_id,building_id:f.building_id,trigger:f.trigger}))})()}getSurveyDetails(a){var c=this;return(0,ye.A)(function*(){c.loading="Loading survey...";const f=yield Promise.all([c.getSurvey(a),c.getSurveyQuestions(a)]);c.loading="";const[v,O]=f;return v?function Hr(l,d){const{id:a,title:c,description:f,trigger:v,zone_id:O,building_id:q,pages:ne}=l;let le=new Map;d.forEach(Ml=>le.set(Ml.id,Ml));let Pe=[];return ne.forEach(Ml=>{const{title:Ng,description:qg,question_order:Hg}=Ml;let Nh=[];Hg.forEach(Qg=>Nh.push(le.get(Qg))),Pe.push({title:Ng,description:qg,elements:Nh})}),{id:a,title:c,description:f,trigger:v,zone_id:O,building_id:q,pages:Pe}}(v,O):null})()}confirmDeleteSurvey(a){var c=this;return(0,ye.A)(function*(){const f=yield(0,se.GE)({title:"Confirm delete question",content:"Are you sure you want to delete this survey? \n\n                            Note: This action is irreversible.",icon:{class:"material-icons",content:"delete"}},c.dialog);"done"===f.reason&&(f.close(),yield c.deleteSurvey(a))})()}saveSurvey(){const a=this.builder.getUISurvey();if(!this.validateSurvey(a))return!1;const{id:c,title:f,description:v,pages:O}=a,{zone_id:q,building_id:ne,trigger:le}=this._options.getValue();let Pe={id:c,title:f,description:v,trigger:le,zone_id:q?.length?q:ne,building_id:ne,pages:Jl(O)};c>0?this.updateSurvey(Pe):this.createSurvey(Pe)}setOptions(a){a&&this._options.next({...this._options.getValue(),...a})}back(){const a=this._options.getValue()?.building_id||"";this.router.navigate(a?.length?[this._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys","survey-list",a]:[this._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys"])}getSurvey(a){return(0,ze.IkJ)(a).pipe((0,Fe.$)(),(0,Ae.W)(c=>((0,se.UG)("Error loading survey"),null))).toPromise()}getSurveyQuestions(a){return(0,ze.Ilu)({survey_id:a}).pipe((0,Fe.$)(),(0,Re.T)(c=>c.map(f=>on(f))),(0,Ae.W)(c=>((0,se.UG)("Error loading survey questions"),[]))).toPromise()}validateSurvey(a){const c=this._options.getValue();if(!a)return(0,se.UG)("Survey is not valid"),!1;if(!a.title?.length)return(0,se.UG)("Please enter a valid title for the survey"),!1;if(!c.building_id?.length)return(0,se.UG)("Please select a valid building for this survey"),!1;let f=[];return a.pages.forEach(v=>f=[...f,...v.elements]),0!==f.length||((0,se.UG)("Please add at least 1 question to any page"),!1)}deleteSurvey(a){var c=this;return(0,ye.A)(function*(){c.loading="Deleting survey...",(yield(0,ze.FLc)(`${a}`).pipe((0,Fe.$)(),(0,Ft.j)(()=>c.loading="")).toPromise())&&(0,se.VX)("Successfully deleted survey")})()}createSurvey(a){var c=this;return(0,ye.A)(function*(){c.loading="Adding survey...",(yield(0,ze.I_p)(a).pipe((0,Fe.$)(),(0,Ae.W)(v=>((0,se.UG)("Failed to create survey"),(0,xt.of)(null))),(0,Ft.j)(()=>c.loading="")).toPromise())&&((0,se.VX)("Survey created successfully"),c.back())})()}updateSurvey(a){var c=this;return(0,ye.A)(function*(){c.loading="Updating survey...",(yield(0,ze.cUy)(`${a.id}`,a).pipe((0,Fe.$)(),(0,Ae.W)(v=>((0,se.UG)("Failed to update survey"),(0,xt.of)(null))),(0,Ft.j)(()=>c.loading="")).toPromise())&&((0,se.VX)("Survey updated successfully"),c.back())})()}static#e=this.\u0275fac=function(c){return new(c||l)(i.KVO(se.h$),i.KVO(Be.Ix),i.KVO(Yf),i.KVO(te.bZ))};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();function Nm(l,d){if(1&l&&(i.j41(0,"mat-option",6),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.id),i.R7$(),i.JRh(a.display_name||a.name)}}function qm(l,d){if(1&l&&(i.j41(0,"mat-option",6),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.id),i.R7$(),i.SpI(" ",a.display_name||a.name," ")}}function Hm(l,d){if(1&l&&(i.j41(0,"mat-option",6),i.EFF(1),i.k0s()),2&l){const a=d.$implicit;i.Y8G("value",a.value),i.R7$(),i.SpI(" ",a.name," ")}}let Ih=(()=>{class l extends se.Tv{constructor(a,c,f){super(),this._org=a,this._actRoute=c,this._survey=f,this.selected_building=null,this.levels=[],this.options$=this._survey._options$.pipe((0,Se.t)(1)),this.buildings$=this._org.building_list,this.levels$=(0,xr.zV)([this.options$,this._org.level_list]).pipe((0,Re.T)(([v,O])=>{const{building_id:q}=v;return q?.length?O.filter(ne=>ne.parent_id===q):[]})),this.triggerOptions=oe,this.updateOptions=v=>this._survey.setOptions(v),this.onSave=()=>this._survey.saveSurvey(),this.onCancel=()=>this._survey.back()}ngOnInit(){var a=this;return(0,ye.A)(function*(){a.subscription("query_params",a._actRoute.queryParams.subscribe(c=>{const f=c.building_id;f?.length&&a.updateOptions({building_id:f})}))})()}onBuildingChange(a){a?.length&&this.doBuildingChange(a)}doBuildingChange(a){a?.length&&this.updateOptions({zone_id:a,building_id:a})}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(nn.yb),i.rXU(Be.nX),i.rXU(wr))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["survey-creator-topbar"]],features:[i.Vt3],decls:33,vars:19,consts:[[1,"flex","flex-row","items-center","justify-between","bg-base-100","px-4","w-full","space-x-2"],[1,"flex","flex-1","space-x-2","pt-2","w-[calc(100%-18rem)]","max-w-[44rem]","overflow-hidden"],[1,"flex-1","w-1/4"],["appearance","outline",1,"w-full","no-subscript"],[3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","items-center","ml-auto","space-x-2","mt-8"],["btn","","matRipple","",1,"inverse","w-32",3,"click"],["btn","","matRipple","",1,"w-32",3,"click"]],template:function(c,f){1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),i.EFF(4,"Building"),i.k0s(),i.j41(5,"mat-form-field",3)(6,"mat-select",4),i.nI1(7,"async"),i.bIt("valueChange",function(O){return f.onBuildingChange(O)}),i.DNE(8,Nm,2,2,"mat-option",5),i.nI1(9,"async"),i.k0s()()(),i.j41(10,"div",2)(11,"label"),i.EFF(12,"Level"),i.k0s(),i.j41(13,"mat-form-field",3)(14,"mat-select",4),i.nI1(15,"async"),i.bIt("valueChange",function(O){return f.updateOptions({zone_id:O})}),i.j41(16,"mat-option",6),i.nI1(17,"async"),i.EFF(18," All Levels "),i.k0s(),i.DNE(19,qm,2,2,"mat-option",5),i.nI1(20,"async"),i.k0s()()(),i.j41(21,"div",2)(22,"label"),i.EFF(23,"Trigger"),i.k0s(),i.j41(24,"mat-form-field",3)(25,"mat-select",4),i.nI1(26,"async"),i.bIt("valueChange",function(O){return f.updateOptions({trigger:O})}),i.DNE(27,Hm,2,2,"mat-option",5),i.k0s()()()(),i.j41(28,"div",7)(29,"button",8),i.bIt("click",function(){return f.onCancel()}),i.EFF(30," Cancel "),i.k0s(),i.j41(31,"button",9),i.bIt("click",function(){return f.onSave()}),i.EFF(32," Save "),i.k0s()()()),2&c&&(i.R7$(6),i.Y8G("value",i.bMT(7,7,f.options$).building_id),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,9,f.buildings$)),i.R7$(6),i.Y8G("value",i.bMT(15,11,f.options$).zone_id),i.R7$(2),i.Y8G("value",i.bMT(17,13,f.options$).building_id),i.R7$(3),i.Y8G("ngForOf",i.bMT(20,15,f.levels$)),i.R7$(6),i.Y8G("value",i.bMT(26,17,f.options$).trigger),i.R7$(2),i.Y8G("ngForOf",f.triggerOptions))},dependencies:[V.Sq,Me.rl,_n.VO,_.wT,_.r6,V.Jj],encapsulation:2})}return l})();function Qm(l,d){if(1&l&&(i.j41(0,"div",2)(1,"div",3),i.nrm(2,"mat-spinner",4),i.j41(3,"span"),i.EFF(4),i.nI1(5,"async"),i.k0s()()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("diameter",32),i.R7$(2),i.JRh(i.bMT(5,2,a.loading$))}}let Rh=(()=>{class l extends se.Tv{constructor(a,c){super(),this._survey=a,this._route=c,this.loading$=this._survey.loading$.pipe((0,Se.t)(1))}ngOnInit(){this.subscription("route_param",this._route.queryParams.subscribe(a=>{this._survey.loadSurvey(a?.survey_id||"")}))}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(wr),i.rXU(Be.nX))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["mod-survey"]],features:[i.Vt3],decls:4,vars:3,consts:[["class","flex absolute inset-0 opacity-60 bg-base-100 z-10",4,"ngIf"],[1,"flex","flex-1","items-center"],[1,"flex","absolute","inset-0","opacity-60","bg-base-100","z-10"],[1,"flex","flex-col","m-auto","items-center"],[3,"diameter"]],template:function(c,f){1&c&&(i.DNE(0,Qm,6,4,"div",0),i.nI1(1,"async"),i.nrm(2,"survey-creator-topbar",1)(3,"survey-builder")),2&c&&i.Y8G("ngIf",i.bMT(1,1,f.loading$).length)},dependencies:[V.bT,Ue.LG,Th,Ih,V.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background-color:var(--b1)}"]})}return l})(),Sh=(()=>{class l{get loading(){return this._loading.getValue()}set loading(a){this._loading.next(a)}constructor(a,c,f){this._survey=a,this._settings=c,this._org=f,this._loading=new ke.t(""),this.loading$=this._loading.asObservable()}loadSurvey(a){var c=this;return(0,ye.A)(function*(){c.loading="Loading survey...",yield c._org.initialised.pipe((0,Uf.p)(O=>!!O),(0,Fe.$)()).toPromise();const v=yield c._survey.getSurveyDetails(a);c.loading="",v&&(c.uiSurvey=v,c.surveyModel=new ue.Model(c.generateSurveyModal(v)),c.surveyModel.onComplete.add(O=>{c.processSurveyAnswer(O)}))})()}generateSurveyModal(a){const c=this._settings.get("app.survey.logo");let f={};return c?.length&&(f={logo:c,logoWidth:"200px",logoPosition:"right"}),{...f,...a}}processSurveyAnswer(a){var c=this;return(0,ye.A)(function*(){const{id:f,pages:v}=c.uiSurvey,O=a.data;let q=[],ne=[];v.forEach(le=>ne=[...ne,...le.elements||[]]),ne.forEach(le=>{O[le.id]&&q.push({question_id:le.id,type:le.type,survey_id:f,answer_json:O[le.id]})}),c.saveSurveyAnswer(q)})()}saveSurveyAnswer(a){var c=this;return(0,ye.A)(function*(){c.loading="Saving survey answers...",(yield(0,ze.YiA)(a).pipe((0,Fe.$)(),(0,Ae.W)(v=>((0,se.UG)("Failed to save survey answers"),(0,xt.of)(null))),(0,Ft.j)(()=>c.loading="")).toPromise())&&(0,se.VX)("Survey answers have been recorded")})()}static#e=this.\u0275fac=function(c){return new(c||l)(i.KVO(wr),i.KVO(se.h$),i.KVO(nn.yb))};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();function Gm(l,d){if(1&l&&(i.j41(0,"div",4)(1,"div",5),i.nrm(2,"mat-spinner",6),i.j41(3,"span"),i.EFF(4),i.nI1(5,"async"),i.k0s()()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("diameter",32),i.R7$(2),i.JRh(i.bMT(5,2,a.loading$))}}let Oh=(()=>{class l extends se.Tv{constructor(a,c){super(),this.route=a,this.service=c,this.loading$=this.service.loading$}ngOnInit(){this.subscription("route-param",this.route.params.subscribe(a=>{const c=a?.id||"";c?.length&&this.service.loadSurvey(c)}))}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(Be.nX),i.rXU(Sh))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["run-survey"]],features:[i.Jv_([Sh]),i.Vt3],decls:5,vars:4,consts:[[1,"flex","flex-col","min-h-0","h-full","w-full","bg-base-100","relative","items-center","pb-6","overflow-y-auto"],["class","flex absolute inset-0 opacity-60 bg-base-100 z-10",4,"ngIf"],[1,"flex","flex-col","w-full","max-w-6xl"],[3,"model"],[1,"flex","absolute","inset-0","opacity-60","bg-base-100","z-10"],[1,"flex","flex-col","m-auto","items-center"],[3,"diameter"]],template:function(c,f){1&c&&(i.j41(0,"main",0),i.DNE(1,Gm,6,4,"div",1),i.nI1(2,"async"),i.j41(3,"div",2),i.nrm(4,"survey",3),i.k0s()()),2&c&&(i.R7$(),i.Y8G("ngIf",i.bMT(2,2,f.loading$).length),i.R7$(3),i.Y8G("model",f.service.surveyModel))},dependencies:[V.bT,Ue.LG,Qn,V.Jj],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%}"]})}return l})();var Eh=C(9493);let Dh=(()=>{class l{set loading(a){this._loading.next(a)}set surveys(a){this._surveys.next(a)}constructor(a,c,f,v){this._settings=a,this.router=c,this.org=f,this.survey=v,this._loading=new ke.t(""),this.loading$=this._loading.asObservable(),this._trigger=new ke.t(0),this._surveys=new ke.t([]),this.surveys$=this._surveys.asObservable(),this._building_id=new ke.t(""),this.building$=(0,xr.zV)([this.org.building_list,this._building_id]).pipe((0,Re.T)(([O,q])=>O.find(ne=>ne.id===q))),this.levelNameMap$=(0,xr.zV)([this.building$,this.org.level_list]).pipe((0,Re.T)(([O,q])=>{let ne={};return O&&(ne[O.id]="All Levels",q.filter(Pe=>Pe.parent_id===O?.id).forEach(Pe=>ne[Pe.id]=Pe.display_name||Pe.name)),ne}))}initBuilding(a){a?.length&&(this._building_id.next(a),this.loadBuildingSurveys(a))}reloadBuilding(){const a=this._building_id.getValue();this.loadBuildingSurveys(a)}deleteSurvey(a){var c=this;return(0,ye.A)(function*(){yield c.survey.confirmDeleteSurvey(a),c.reloadBuilding()})()}editSurvey(a){this.router.navigate([this._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys","builder"],{queryParams:{survey_id:a}})}newSurvey(){var a=this;return(0,ye.A)(function*(){const c=yield a.building$.pipe((0,Eh.s)(1)).toPromise();a.router.navigate([a._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys","builder"],{queryParams:{building_id:c?.id||""}})})()}back(){this.router.navigate([this._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys"])}loadBuildingSurveys(a){var c=this;return(0,ye.A)(function*(){if(!a?.length)return;c.loading="Loading surveys...";const f=yield(0,ze.uT)({building_id:a}).pipe((0,Fe.$)(),(0,Ae.W)(v=>((0,se.UG)("Error loading surveys"),[])),(0,Ft.j)(()=>c.loading="")).toPromise();c.surveys=f.sort((v,O)=>`${v.zone_id}`.localeCompare(O.zone_id))})()}static#e=this.\u0275fac=function(c){return new(c||l)(i.KVO(se.h$),i.KVO(Be.Ix),i.KVO(nn.yb),i.KVO(wr))};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();var $m=C(8328);const zm=()=>({key:"title",name:"Title"}),Um=l=>({key:"zone_id",name:"Level",content:l}),Wm=l=>({key:"trigger",name:"Trigger",content:l}),Ym=()=>({key:"id",name:"Link",show:!1}),Xm=l=>({key:"actions",name:" ",content:l,size:"3.5rem",sortable:!1}),Jm=(l,d,a,c,f)=>[l,d,a,c,f];function Km(l,d){if(1&l&&(i.j41(0,"div",15),i.EFF(1),i.k0s()),2&l){const a=d.data,c=i.XpG();i.R7$(),i.SpI(" ",c.levelMap[a]||a," ")}}function Zm(l,d){if(1&l&&(i.j41(0,"div",15),i.EFF(1),i.k0s()),2&l){const a=d.data;i.R7$(),i.SpI(" ",a," ")}}function eg(l,d){if(1&l){const a=i.RV6();i.j41(0,"div",16)(1,"button",17)(2,"app-icon"),i.EFF(3,"more_vert"),i.k0s()(),i.j41(4,"mat-menu",null,3)(6,"button",18),i.bIt("click",function(){const f=i.eBV(a).row,v=i.XpG();return i.Njj(v.onViewStats(f.id))}),i.j41(7,"div",19)(8,"app-icon",20),i.EFF(9,"analytics"),i.k0s(),i.j41(10,"span"),i.EFF(11,"Survey Responses"),i.k0s()()(),i.j41(12,"button",18),i.bIt("click",function(){const f=i.eBV(a).row,v=i.XpG();return i.Njj(v.onEdit(f.id))}),i.j41(13,"div",19)(14,"app-icon",20),i.EFF(15,"edit"),i.k0s(),i.j41(16,"span"),i.EFF(17,"Edit Survey"),i.k0s()()(),i.j41(18,"button",18),i.bIt("click",function(){const f=i.eBV(a).row,v=i.XpG();return i.Njj(v.onDelete(f.id))}),i.j41(19,"div",19)(20,"app-icon",21),i.EFF(21," delete "),i.k0s(),i.j41(22,"span"),i.EFF(23,"Delete Survey"),i.k0s()()()()()}if(2&l){const a=i.sdS(5);i.R7$(),i.Y8G("matMenuTriggerFor",a)}}let Mh=(()=>{class l extends se.Tv{constructor(a,c,f,v){super(),this._settings=a,this._route=c,this._router=f,this._service=v,this.levelMap={},this.loading$=this._service.loading$.pipe((0,Se.t)(1)),this.building$=this._service.building$.pipe((0,Se.t)(1)),this.surveys$=this._service.surveys$,this.triggerMap=Yn,this.onEdit=O=>this._service.editSurvey(O),this.onDelete=O=>this._service.deleteSurvey(O),this.newSurvey=()=>this._service.newSurvey(),this.back=()=>this._service.back(),this.onViewStats=O=>this._router.navigate([this._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys","responses",O]),this.displayedColumns=["title","level","trigger","actions"]}get building_name(){return this._service.building?.display_name||this._service.building?.name||""}ngOnInit(){var a=this;return(0,ye.A)(function*(){a.subscription("route-param",a._route.params.subscribe(c=>{a._service.initBuilding(c.id||"")})),a.subscription("level_map",a._service.levelNameMap$.subscribe(c=>a.levelMap=c))})()}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(se.h$),i.rXU(Be.nX),i.rXU(Be.Ix),i.rXU(Dh))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["survey-listings"]],features:[i.Jv_([Dh]),i.Vt3],decls:24,vars:20,consts:[["level_template",""],["trigger_template",""],["action_template",""],["actionsMenu","matMenu"],[1,"flex","items-center","justify-between","px-8","py-4","w-full"],[1,"flex"],["icon","","matRipple","",3,"click"],[1,"flex","mr-2"],[1,"flex","flex-col"],[1,"text-2xl"],[1,"text-4xl"],["btn","","matRipple","",1,"space-x-2",3,"click"],[1,"ml-2"],[1,"flex","flex-1","h-1/2","w-full","overflow-auto","px-8"],["empty_message","No surveys found. Click on <i>Add survey</i> to create new surveys for this building.",1,"min-w-[36rem]","w-full","block","text-sm",3,"data","columns","sortable"],[1,"p-4"],[1,"flex","items-center","space-x-2","mx-auto","p-2"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-xl"],[1,"text-error","text-xl"]],template:function(c,f){if(1&c){const v=i.RV6();i.j41(0,"div",4)(1,"div",5)(2,"button",6),i.bIt("click",function(){return i.eBV(v),i.Njj(f.back())}),i.j41(3,"app-icon",7),i.EFF(4,"arrow_back"),i.k0s()(),i.j41(5,"div",8)(6,"span",9),i.EFF(7,"Survey Listing "),i.k0s(),i.j41(8,"span",10),i.EFF(9),i.nI1(10,"async"),i.k0s()()(),i.j41(11,"button",11),i.bIt("click",function(){return i.eBV(v),i.Njj(f.newSurvey())}),i.j41(12,"span",12),i.EFF(13,"Add New Survey"),i.k0s(),i.j41(14,"app-icon"),i.EFF(15,"add"),i.k0s()()(),i.j41(16,"div",13),i.nrm(17,"simple-table",14),i.k0s(),i.DNE(18,Km,2,1,"ng-template",null,0,i.C5r)(20,Zm,2,1,"ng-template",null,1,i.C5r)(22,eg,24,1,"ng-template",null,2,i.C5r)}if(2&c){let v;const O=i.sdS(19),q=i.sdS(21),ne=i.sdS(23);i.R7$(9),i.JRh((null==(v=i.bMT(10,4,f.building$))?null:v.display_name)||f.building_name),i.R7$(8),i.Y8G("data",f.surveys$)("columns",i.s1E(14,Jm,i.lJ4(6,zm),i.eq3(7,Um,O),i.eq3(9,Wm,q),i.lJ4(11,Ym),i.eq3(12,Xm,ne)))("sortable",!0)}},dependencies:[wt.R,$m.O,jt.kk,jt.fb,jt.Cp,_.r6,V.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background-color:var(--b1)}.mat-column-actions[_ngcontent-%COMP%]{width:4rem}.mat-column-trigger[_ngcontent-%COMP%]{width:12rem}"]})}return l})();var tg=C(9090);let kh=(()=>{class l{set options(a){this._options.next(a)}set loading(a){this._loading.next(a)}set survey(a){this._survey.next(a)}set stats(a){this._stats.next(a)}constructor(){this._options=new ke.t({survey_id:null,start:null,end:null}),this.options$=this._options.asObservable(),this._loading=new ke.t(""),this.loading$=this._loading.asObservable(),this._survey=new ke.t(null),this.survey$=this._survey.asObservable(),this._stats=new ke.t({question_count:0,answer_count:0}),this.stats$=this._stats.asObservable(),this.survey_responses$=this.options$.pipe((0,Uf.p)(a=>!!a?.survey_id?.length),(0,tg.n)(a=>this.getSurveyResponses(a))),this.paged_responses$=(0,xr.zV)([this.survey_responses$,this.survey$]).pipe((0,Re.T)(([a,c])=>{if(!a.length)return[];let f={};a.forEach(O=>f[O.question.id]=O);let v=[];return c.pages.forEach(O=>{let q={title:O.title,responses:[]};O.question_order.forEach(ne=>q.responses.push(f[ne])),v.push(q)}),v}))}setOptions(a){this.options={...this._options.getValue(),...a}}getSurveyResponses(a){this.loading="Loading survey responses";const{survey_id:c,start:f,end:v}=a,O=f?Math.floor(f.getTime()/1e3):void 0,q=v?Math.floor(v.getTime()/1e3):void 0;return(0,an.p)([(0,ze.Ilu)({survey_id:c}).pipe((0,Re.T)(ne=>ne?.map(le=>on(le))||[]),(0,Ae.W)(ne=>this.handleError("Error loading survey questions"))),(0,ze.elf)({survey_id:c,created_after:O,created_before:q}).pipe((0,Ae.W)(ne=>this.handleError("Error loading survey answers"))),(0,ze.IkJ)(c).pipe((0,Ae.W)(ne=>this.handleError("Error loading survey details")))]).pipe((0,Fe.$)(),(0,zf.M)(([ne,le,Pe])=>{this.survey=Pe,this.stats={question_count:ne.length,answer_count:le.length}}),(0,Re.T)(([ne,le])=>ne?.length&&le?.length?this.sortQuestionsAnswers(ne,le):[]),(0,Ft.j)(()=>this.loading=""))}sortQuestionsAnswers(a,c){let f=a.reduce((v,O)=>(v[O.id]={question:O,answers:[]},v),{});return c.forEach(v=>{f[v.question_id]&&f[v.question_id].answers.push(v)}),Object.values(f)}handleError(a,c=null){return(0,se.UG)(a),(0,xt.of)(c)}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}return l})();var Pr=C(5084);let Xf=(()=>{class l extends se.Tv{set data(a){this._data.next(a)}set value(a){a&&(this.data=a),this.hasData=!!a}constructor(){super(),this._data=new ke.t([]),this.data$=this._data.asObservable(),this.hasData=!1,this.widget_id="e-"+function Kl(l){let d="";for(let f=0;f<l;f++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}(7)}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["base-widget"]],inputs:{question:"question",value:"value"},features:[i.Vt3],decls:0,vars:0,template:function(c,f){},encapsulation:2})}return l})();const rg=(l,d,a,c)=>({"bg-error":l,"bg-warning":d,"bg-info":a,"bg-success":c}),sg=l=>({width:l});function ag(l,d){if(1&l&&(i.j41(0,"div",4)(1,"div",5)(2,"span"),i.EFF(3),i.k0s(),i.j41(4,"div",6),i.nrm(5,"span",7),i.k0s()(),i.j41(6,"div",8)(7,"span",9),i.EFF(8),i.nI1(9,"percent"),i.k0s()()()),2&l){const a=d.$implicit;i.R7$(3),i.JRh(a.name),i.R7$(2),i.Y8G("ngClass",i.ziG(6,rg,a.percentage<=25,a.percentage>25&&a.percentage<=50,a.percentage>50&&a.percentage<=75,a.percentage>75))("ngStyle",i.eq3(11,sg,a.percentage+"%")),i.R7$(3),i.JRh(i.bMT(9,4,a.percentage/100))}}function lg(l,d){if(1&l&&(i.qex(0),i.DNE(1,ag,10,13,"div",3),i.bVm()),2&l){const a=d.ngIf;i.R7$(),i.Y8G("ngForOf",a)}}let ug=(()=>{class l extends Xf{constructor(){super(),this.chart_data$=this.data$.pipe((0,Re.T)(a=>function ng(l,d){if(!l?.length)return[];const c=l.length;let f={};return l.reduce(l[0].type===Je.Check_Box?(q,ne)=>q.concat(ne.answer_json):(q,ne)=>(q.push(ne.answer_json),q),[]).forEach(q=>{f[q]?f[q]+=1:f[q]=1}),d?.length&&d.forEach(q=>{f[q]||(f[q]=0)}),Object.keys(f).map(q=>({name:q,count:f[q],percentage:Math.round(f[q]/c*1e3)/10})).sort((q,ne)=>q.percentage<ne.percentage?1:q.percentage>ne.percentage?-1:0)}(a,this.question?.choices?.map(c=>c.text)||[])))}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["selection-widget"]],features:[i.Vt3],decls:7,vars:6,consts:[[1,"flex","flex-col","min-h-0","max-h-[22rem]","h-full","w-full","overflow-y-auto","relative","p-2"],[1,"flex","flex-1","justify-end","mx-4"],[4,"ngIf"],["class","flex flex-1 mx-4 pt-2 pb-3 space-x-4",4,"ngFor","ngForOf"],[1,"flex","flex-1","mx-4","pt-2","pb-3","space-x-4"],[1,"flex","flex-1","flex-col","space-y-1"],[1,"progress-bar","bg-base-200","h-1"],[1,"progress-bar-fill","h-1","rounded-lg",3,"ngClass","ngStyle"],[1,"flex","items-center","w-12"],[1,"text-2xl","font-thin"]],template:function(c,f){if(1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"span"),i.EFF(3),i.nI1(4,"async"),i.k0s()(),i.DNE(5,lg,2,1,"ng-container",2),i.nI1(6,"async"),i.k0s()),2&c){let v;i.R7$(3),i.SpI("",(null==(v=i.bMT(4,2,f.data$))?null:v.length)||0," answers"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,4,f.chart_data$))}},dependencies:[V.YU,V.Sq,V.bT,V.B3,V.Jj,V.m1],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;padding-bottom:.5rem}"]})}return l})();const Ah=l=>({width:l});function cg(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",5)(2,"span",6),i.EFF(3),i.nI1(4,"number"),i.k0s(),i.j41(5,"span",7),i.EFF(6),i.nI1(7,"number"),i.k0s()(),i.j41(8,"div",8),i.nrm(9,"span",9),i.k0s(),i.j41(10,"span"),i.EFF(11),i.k0s(),i.bVm()),2&l){const a=d.ngIf,c=i.XpG(2);i.R7$(3),i.SpI("",i.i5U(4,4,a.average||0,"1.1")," "),i.R7$(3),i.SpI("/ ",i.i5U(7,7,c.maxRate,"1.1"),""),i.R7$(3),i.Y8G("ngStyle",i.eq3(10,Ah,a.percentage+"%")),i.R7$(2),i.SpI("",a.total," ratings")}}function pg(l,d){if(1&l&&(i.j41(0,"div",10)(1,"div",11)(2,"span"),i.EFF(3),i.k0s()(),i.j41(4,"div",12),i.nrm(5,"span",13),i.k0s(),i.j41(6,"div",14)(7,"span"),i.EFF(8),i.nI1(9,"percent"),i.k0s()()()),2&l){const a=d.$implicit,c=d.index;i.R7$(3),i.SpI(" ",c+1,""),i.R7$(2),i.Y8G("ngStyle",i.eq3(5,Ah,a+"%")),i.R7$(3),i.SpI(" ",i.bMT(9,3,a/100),"")}}function dg(l,d){if(1&l&&(i.qex(0),i.j41(1,"div",1)(2,"div",2),i.DNE(3,cg,12,12,"ng-container",0),i.nI1(4,"async"),i.k0s(),i.j41(5,"div",3),i.DNE(6,pg,10,7,"div",4),i.k0s()(),i.bVm()),2&l){const a=d.ngIf,c=i.XpG();i.R7$(3),i.Y8G("ngIf",i.bMT(4,2,c.stats$)),i.R7$(3),i.Y8G("ngForOf",a)}}let fg=(()=>{class l extends Xf{get maxRate(){return this.question?.rateMax||10}constructor(){super(),this.chart_data$=this.data$.pipe((0,Re.T)(a=>function ig(l,d){const a=l.reduce((v,O)=>(v.push(O.answer_json),v),[]);let c=Array.from({length:d},(v,O)=>0);a.forEach(v=>{c[v-1]+=1});const f=a.length;return c.forEach((v,O)=>c[O]=Math.round(v/f*1e3)/10),c}(a,this.maxRate)),(0,Se.t)(1)),this.stats$=this.data$.pipe((0,Re.T)(a=>function og(l,d){const a=l.reduce((O,q)=>(O.push(q.answer_json),O),[]),c=a.reduce((O,q)=>O+q),f=Math.round(c/a.length*10)/10;return{average:f,percentage:Math.round(f/d*1e3)/10,total:a.length}}(a,this.maxRate)),(0,Se.t)(1))}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["ratings-widget"]],features:[i.Vt3],decls:2,vars:3,consts:[[4,"ngIf"],[1,"flex","flex-row","space-x-4","p-4"],[1,"flex","flex-col","w-1/3","relative","justify-center","items-center","space-y-4"],[1,"flex","w-2/3","flex-col-reverse"],["class","flex flex-row w-full items-center space-x-4",4,"ngFor","ngForOf"],[1,"flex","flex-row","items-end"],[1,"text-6xl"],[1,"font-thin"],[1,"progress-bar","bg-base-200","h-5"],[1,"progress-bar-fill","bg-warning","h-5","rounded-lg",3,"ngStyle"],[1,"flex","flex-row","w-full","items-center","space-x-4"],[1,"w-3","flex","justify-end"],[1,"progress-bar","bg-base-200","h-3"],[1,"progress-bar-fill","bg-warning","h-3",3,"ngStyle"],[1,"min-w-[1.5rem]","flex","justify-end"]],template:function(c,f){1&c&&(i.DNE(0,dg,7,4,"ng-container",0),i.nI1(1,"async")),2&c&&i.Y8G("ngIf",i.bMT(1,1,f.chart_data$))},dependencies:[V.Sq,V.bT,V.B3,V.Jj,V.QX,V.m1],styles:["[_nghost-%COMP%]{padding-bottom:.5rem}"]})}return l})();function hg(l,d){if(1&l&&(i.j41(0,"div",3)(1,"blockquote")(2,"span",4),i.EFF(3),i.k0s()()()),2&l){const a=d.$implicit;i.R7$(3),i.JRh(a)}}function mg(l,d){if(1&l&&(i.qex(0),i.DNE(1,hg,4,1,"div",2),i.bVm()),2&l){const a=d.ngIf;i.R7$(),i.Y8G("ngForOf",a)}}let gg=(()=>{class l extends Xf{constructor(){super(),this.chart_data$=this.data$.pipe((0,Re.T)(a=>a.reduce((c,f)=>(c.push(f.answer_json),c),[])))}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["table-widget"]],features:[i.Vt3],decls:3,vars:3,consts:[[1,"flex","flex-col","min-h-0","max-h-[22rem]","h-full","w-full","overflow-y-auto","relative"],[4,"ngIf"],["class","flex flex-1 p-2 border-b mx-4",4,"ngFor","ngForOf"],[1,"flex","flex-1","p-2","border-b","mx-4"],[1,"text-gray-700"]],template:function(c,f){1&c&&(i.j41(0,"div",0),i.DNE(1,mg,2,1,"ng-container",1),i.nI1(2,"async"),i.k0s()),2&c&&(i.R7$(),i.Y8G("ngIf",i.bMT(2,1,f.chart_data$)))},dependencies:[V.Sq,V.bT,V.Jj],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;padding-bottom:.5rem}blockquote[_ngcontent-%COMP%]:after, blockquote[_ngcontent-%COMP%]:before{font-size:1.3rem}blockquote[_ngcontent-%COMP%]:after{content:close-quote;vertical-align:bottom;margin-left:.25rem}blockquote[_ngcontent-%COMP%]:before{content:open-quote;vertical-align:top;margin-right:.25rem}"]})}return l})();const yg=(l,d)=>[l,d],vg=(l,d,a)=>[l,d,a];function bg(l,d){if(1&l&&(i.qex(0),i.nrm(1,"table-widget",5),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.response.answers)}}function Cg(l,d){if(1&l&&(i.qex(0),i.nrm(1,"selection-widget",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.response.answers)("question",a.response.question)}}function _g(l,d){if(1&l&&(i.qex(0),i.nrm(1,"ratings-widget",6),i.bVm()),2&l){const a=i.XpG();i.R7$(),i.Y8G("value",a.response.answers)("question",a.response.question)}}let xg=(()=>{class l{constructor(){this.QuestionType=Je}get type(){return this.response?.question?.type||"empty"}ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["survey-widget"]],inputs:{response:"response"},decls:8,vars:11,consts:[[1,"flex","flex-col","flex-1","p-2","w-full"],[1,"flex","flex-col","h-full","w-full","bg-base-100","rounded","shadow","border","border-base-200"],[1,"p-4","pb-2","text-xl"],[1,"flex","flex-col","w-full"],[4,"ngIf"],[3,"value"],[3,"value","question"]],template:function(c,f){1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.EFF(3),i.k0s(),i.j41(4,"div",3),i.DNE(5,bg,2,1,"ng-container",4)(6,Cg,2,2,"ng-container",4)(7,_g,2,2,"ng-container",4),i.k0s()()()),2&c&&(i.R7$(3),i.SpI(" ",(null==f.response||null==f.response.question?null:f.response.question.title)||""," "),i.R7$(2),i.Y8G("ngIf",i.l_i(4,yg,f.QuestionType.Comment_Box,f.QuestionType.Single_Line_Text).includes(f.type)),i.R7$(),i.Y8G("ngIf",i.sMw(7,vg,f.QuestionType.Drop_Down,f.QuestionType.Radio_Group,f.QuestionType.Check_Box).includes(f.type)),i.R7$(),i.Y8G("ngIf",f.QuestionType.Rating===f.type))},dependencies:[V.bT,ug,fg,gg],styles:["[_nghost-%COMP%]{display:flex}"]})}return l})();function wg(l,d){if(1&l&&(i.j41(0,"div",5)(1,"div",6),i.nrm(2,"mat-spinner",7),i.j41(3,"span"),i.EFF(4),i.nI1(5,"async"),i.k0s()()()),2&l){const a=i.XpG();i.R7$(2),i.Y8G("diameter",32),i.R7$(2),i.JRh(i.bMT(5,2,a.loading$))}}function Pg(l,d){if(1&l){const a=i.RV6();i.j41(0,"button",10),i.bIt("click",function(){i.eBV(a);const f=i.XpG(2);return i.Njj(f.clearDates())}),i.j41(1,"app-icon"),i.EFF(2,"close"),i.k0s()()}}function Vg(l,d){if(1&l&&(i.j41(0,"div",28)(1,"span",29),i.EFF(2),i.k0s()()),2&l){const a=i.XpG(),c=a.$implicit,f=a.index;i.R7$(2),i.Lme("Page ",f+1," ",null!=c.title&&c.title.length?"- "+c.title:"","")}}function Tg(l,d){1&l&&i.nrm(0,"survey-widget",30),2&l&&i.Y8G("response",d.$implicit)}function Ig(l,d){if(1&l&&(i.qex(0),i.DNE(1,Vg,3,2,"div",25),i.j41(2,"div",26),i.DNE(3,Tg,1,1,"survey-widget",27),i.k0s(),i.bVm()),2&l){const a=d.$implicit,c=i.XpG(2).ngIf;i.R7$(),i.Y8G("ngIf",c.length>1),i.R7$(2),i.Y8G("ngForOf",a.responses)}}function Rg(l,d){if(1&l&&(i.qex(0),i.DNE(1,Ig,4,2,"ng-container",24),i.bVm()),2&l){const a=i.XpG().ngIf;i.R7$(),i.Y8G("ngForOf",a)}}function Sg(l,d){if(1&l&&(i.qex(0),i.DNE(1,Rg,2,1,"ng-container",4),i.bVm()),2&l){const a=d.ngIf;i.XpG(2);const c=i.sdS(7);i.R7$(),i.Y8G("ngIf",(null==a?null:a.length)>0)("ngIfElse",c)}}function Og(l,d){if(1&l){const a=i.RV6();i.qex(0),i.j41(1,"header",8)(2,"div",9)(3,"button",10),i.bIt("click",function(){i.eBV(a);const f=i.XpG();return i.Njj(f.back())}),i.j41(4,"app-icon",11),i.EFF(5,"arrow_back"),i.k0s()(),i.j41(6,"div",9)(7,"span",12),i.EFF(8),i.nI1(9,"async"),i.k0s()()(),i.j41(10,"mat-form-field",13)(11,"mat-date-range-input",14),i.bIt("stateChanges",function(f){i.eBV(a);const v=i.XpG();return i.Njj(v.datePicked(f))}),i.j41(12,"input",15),i.nI1(13,"async"),i.bIt("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.Njj(f?v.setStartDate(f):"")}),i.k0s(),i.j41(14,"input",16),i.nI1(15,"async"),i.bIt("ngModelChange",function(f){i.eBV(a);const v=i.XpG();return i.Njj(f?v.setEndDate(f):"")}),i.k0s()(),i.j41(16,"div",17),i.nrm(17,"mat-datepicker-toggle",18),i.DNE(18,Pg,3,0,"button",19),i.nI1(19,"async"),i.k0s(),i.nrm(20,"mat-date-range-picker",null,2),i.k0s()(),i.j41(22,"div",20)(23,"div",21)(24,"h3"),i.EFF(25,"Total Questions"),i.k0s(),i.j41(26,"p",22),i.EFF(27),i.nI1(28,"async"),i.k0s()(),i.j41(29,"div",21)(30,"h3"),i.EFF(31,"Total Answers"),i.k0s(),i.j41(32,"p",22),i.EFF(33),i.nI1(34,"async"),i.k0s()(),i.j41(35,"div",21)(36,"h3"),i.EFF(37,"Triggers On"),i.k0s(),i.j41(38,"p",12),i.EFF(39),i.nI1(40,"async"),i.k0s()()(),i.DNE(41,Sg,2,2,"ng-container",23),i.nI1(42,"async"),i.bVm()}if(2&l){let a,c,f,v,O,q,ne;const le=i.sdS(21),Pe=i.XpG();i.R7$(8),i.SpI(" Survey Responses - ",(null==(a=i.bMT(9,10,Pe.survey$))?null:a.title)||""," "),i.R7$(3),i.Y8G("rangePicker",le),i.R7$(),i.Y8G("ngModel",null==(c=i.bMT(13,12,Pe.options$))?null:c.start),i.R7$(2),i.Y8G("ngModel",null==(f=i.bMT(15,14,Pe.options$))?null:f.end),i.R7$(3),i.Y8G("for",le),i.R7$(),i.Y8G("ngIf",null==(v=i.bMT(19,16,Pe.options$))?null:v.end),i.R7$(9),i.SpI(" ",(null==(O=i.bMT(28,18,Pe.stats$))?null:O.question_count)||0," "),i.R7$(6),i.SpI(" ",(null==(q=i.bMT(34,20,Pe.stats$))?null:q.answer_count)||0," "),i.R7$(6),i.SpI(" ",Pe.triggerMap[null==(ne=i.bMT(40,22,Pe.survey$))?null:ne.trigger]," "),i.R7$(2),i.Y8G("ngIf",i.bMT(42,24,Pe.pagedResponses$))}}function Eg(l,d){1&l&&(i.j41(0,"div",31)(1,"span",32),i.EFF(2,"Invalid survey identity"),i.k0s()())}function Dg(l,d){1&l&&(i.j41(0,"div",33)(1,"span",32),i.EFF(2,"No responses found"),i.k0s()())}let Lh=(()=>{class l extends se.Tv{constructor(a,c,f,v){super(),this._settings=a,this.service=c,this.router=f,this.route=v,this.surveyId$=this.route.params.pipe((0,Re.T)(O=>O.id||"")),this.survey$=this.service.survey$,this.pagedResponses$=this.service.paged_responses$,this.options$=this.service.options$.pipe((0,Se.t)(1)),this.stats$=this.service.stats$.pipe((0,Se.t)(1)),this.loading$=this.service.loading$.pipe((0,Se.t)(1)),this.triggerMap=Yn}ngOnInit(){this.subscription("params",this.surveyId$.subscribe(a=>{a?.length&&this.service.setOptions({survey_id:a})}))}setStartDate(a){a&&(this.start_date=a)}setEndDate(a){!this.start_date||!a||this.service.setOptions({start:this.start_date,end:a})}clearDates(){this.service.setOptions({start:null,end:null})}back(){var a=this;return(0,ye.A)(function*(){const c=yield a.survey$.pipe((0,Eh.s)(1)).toPromise();a.router.navigate([a._settings.get("app.default_route").includes("new")?"/surveys/new":"/surveys","survey-list",c.building_id||""])})()}static#e=this.\u0275fac=function(c){return new(c||l)(i.rXU(se.h$),i.rXU(kh),i.rXU(Be.Ix),i.rXU(Be.nX))};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["survey-responses"]],features:[i.Jv_([kh]),i.Vt3],decls:8,vars:7,consts:[["noId",""],["noRecords",""],["picker",""],["class","flex absolute inset-0 opacity-60 bg-base-100 z-10",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"flex","absolute","inset-0","opacity-60","bg-base-100","z-10"],[1,"flex","flex-col","m-auto","items-center"],[3,"diameter"],[1,"flex","justify-between","items-center","w-full","pb-4","border-b","mt-4","pl-2"],[1,"flex","flex-row","items-center"],["icon","","matRipple","",3,"click"],[1,"flex","mr-2"],[1,"text-2xl"],["appearance","outline","subscriptSizing","dynamic",1,"w-72","mr-4"],[3,"stateChanges","rangePicker"],["matStartDate","","readonly","","placeholder","Start date",3,"ngModelChange","ngModel"],["matEndDate","","readonly","","placeholder","End date",3,"ngModelChange","ngModel"],["matSuffix","",1,"flex","items-center"],[3,"for"],["icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex","p-4","border-b","justify-end","space-x-2"],[1,"flex","flex-col","items-center","flex-1"],[1,"text-4xl"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","flex w-full px-3 pt-2 space-x-2",4,"ngIf"],[1,"flex","flex-wrap","w-full","pt-2"],["class","w-full lg:w-1/2 2xl:w-1/3",3,"response",4,"ngFor","ngForOf"],[1,"flex","w-full","px-3","pt-2","space-x-2"],[1,"font-thin","text-xl"],[1,"w-full","lg:w-1/2","2xl:w-1/3",3,"response"],[1,"flex","flex-col","w-full","h-full","items-center","justify-center"],[1,"text-lg","text-gray-700"],[1,"flex","flex-col","w-full","min-h-[10rem]","items-center","justify-center"]],template:function(c,f){if(1&c&&(i.DNE(0,wg,6,4,"div",3),i.nI1(1,"async"),i.DNE(2,Og,43,26,"ng-container",4),i.nI1(3,"async"),i.DNE(4,Eg,3,0,"ng-template",null,0,i.C5r)(6,Dg,3,0,"ng-template",null,1,i.C5r)),2&c){const v=i.sdS(5);i.Y8G("ngIf",i.bMT(1,3,f.loading$).length),i.R7$(2),i.Y8G("ngIf",i.bMT(3,5,f.surveyId$))("ngIfElse",v)}},dependencies:[V.Sq,V.bT,k.me,k.BC,k.vS,Me.rl,Me.yw,wt.R,_.r6,Pr.bU,Pr.el,Pr.xR,Pr.IG,Pr.SG,Ue.LG,xg,V.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background-color:var(--b1);overflow:auto}"]})}return l})();var Mg=C(4605);const kg=["app-survey",""];let Fh=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["","app-survey",""]],attrs:kg,decls:3,vars:0,consts:[[1,"relative","w-full","flex","flex-col","bg-base-200"]],template:function(c,f){1&c&&(i.nrm(0,"sidebar"),i.j41(1,"main",0),i.nrm(2,"router-outlet"),i.k0s())},dependencies:[Be.n3,Mg.k],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;background-color:var(--b1)}"]})}return l})();var Ag=C(5189),Lg=C(6843);const Fg=["app-new-survey",""];let jh=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["","app-new-survey",""]],attrs:Fg,decls:5,vars:0,consts:[[1,"flex","flex-1","h-px"],[1,"flex","flex-col","flex-1","w-1/2","h-full"]],template:function(c,f){1&c&&(i.nrm(0,"app-topbar"),i.j41(1,"div",0),i.nrm(2,"app-sidebar"),i.j41(3,"main",1),i.nrm(4,"router-outlet"),i.k0s()())},dependencies:[Be.n3,Ag.S,Lg.c],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background-color:var(--b1)}"]})}return l})();ue.StylesManager.applyTheme("modern");const Bh=[{path:"",component:ln},{path:"survey-list/:id",component:Mh},{path:"builder",component:Rh},{path:"responses/:id",component:Lh},{path:"**",pathMatch:"full",component:Wi}],jg=[{path:"new",component:jh,children:Bh},{path:"run/:id",component:Oh},{path:"",component:Fh,children:Bh},{path:"404",component:Wi},{path:"**",pathMatch:"full",component:Wi}];let Bg=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=i.$C({type:l});static#n=this.\u0275inj=i.G2t({providers:[Yf,Wf,wr],imports:[V.MD,Be.iI.forChild(jg),te.hM,Ie.g7,k.YN,k.X1,ht.m_,Ct.RI,P.ad,R.Hl,_n.Ve,Ni.mV,qi.hI,Be.iI,tn.tP,jt.Cn,qr,Me.RG,Un.r,Wn,ym]})}return l})()},3237:function(Jf){Jf.exports=function(L){var C={};function P(V){if(C[V])return C[V].exports;var k=C[V]={i:V,l:!1,exports:{}};return L[V].call(k.exports,k,k.exports,P),k.l=!0,k.exports}return P.m=L,P.c=C,P.d=function(V,k,R){P.o(V,k)||Object.defineProperty(V,k,{enumerable:!0,get:R})},P.r=function(V){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})},P.t=function(V,k){if(1&k&&(V=P(V)),8&k||4&k&&"object"==typeof V&&V&&V.__esModule)return V;var R=Object.create(null);if(P.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:V}),2&k&&"string"!=typeof V)for(var Ie in V)P.d(R,Ie,function(te){return V[te]}.bind(null,Ie));return R},P.n=function(V){var k=V&&V.__esModule?function(){return V.default}:function(){return V};return P.d(k,"a",k),k},P.o=function(V,k){return Object.prototype.hasOwnProperty.call(V,k)},P.p="",P(P.s="./src/entries/core.ts")}({"./packages/survey-core/src/images sync \\.svg$":
/*!******************************************************************!*\
                !*** ./packages/survey-core/src/images sync nonrecursive \.svg$ ***!
                \******************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C,P){var V={"./ArrowDown_34x34.svg":"./packages/survey-core/src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./packages/survey-core/src/images/ArrowLeft.svg","./ArrowRight.svg":"./packages/survey-core/src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./packages/survey-core/src/images/Arrow_downGREY_10x10.svg","./ChangeCamera.svg":"./packages/survey-core/src/images/ChangeCamera.svg","./ChooseFile.svg":"./packages/survey-core/src/images/ChooseFile.svg","./Clear.svg":"./packages/survey-core/src/images/Clear.svg","./CloseCamera.svg":"./packages/survey-core/src/images/CloseCamera.svg","./DefaultFile.svg":"./packages/survey-core/src/images/DefaultFile.svg","./Delete.svg":"./packages/survey-core/src/images/Delete.svg","./Down_34x34.svg":"./packages/survey-core/src/images/Down_34x34.svg","./Left.svg":"./packages/survey-core/src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images/ModernRadio.svg","./More.svg":"./packages/survey-core/src/images/More.svg","./NavMenu_24x24.svg":"./packages/survey-core/src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./packages/survey-core/src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./packages/survey-core/src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./packages/survey-core/src/images/RemoveFile.svg","./Right.svg":"./packages/survey-core/src/images/Right.svg","./SearchClear.svg":"./packages/survey-core/src/images/SearchClear.svg","./ShowCamera.svg":"./packages/survey-core/src/images/ShowCamera.svg","./TakePicture.svg":"./packages/survey-core/src/images/TakePicture.svg","./TakePicture_24x24.svg":"./packages/survey-core/src/images/TakePicture_24x24.svg","./TimerCircle.svg":"./packages/survey-core/src/images/TimerCircle.svg","./V2Check.svg":"./packages/survey-core/src/images/V2Check.svg","./V2Check_24x24.svg":"./packages/survey-core/src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./packages/survey-core/src/images/V2DragElement_16x16.svg","./back-to-panel_16x16.svg":"./packages/survey-core/src/images/back-to-panel_16x16.svg","./chevron.svg":"./packages/survey-core/src/images/chevron.svg","./clear_16x16.svg":"./packages/survey-core/src/images/clear_16x16.svg","./close_16x16.svg":"./packages/survey-core/src/images/close_16x16.svg","./collapseDetail.svg":"./packages/survey-core/src/images/collapseDetail.svg","./drag-n-drop.svg":"./packages/survey-core/src/images/drag-n-drop.svg","./expandDetail.svg":"./packages/survey-core/src/images/expandDetail.svg","./full-screen_16x16.svg":"./packages/survey-core/src/images/full-screen_16x16.svg","./loading.svg":"./packages/survey-core/src/images/loading.svg","./minimize_16x16.svg":"./packages/survey-core/src/images/minimize_16x16.svg","./next_16x16.svg":"./packages/survey-core/src/images/next_16x16.svg","./no-image.svg":"./packages/survey-core/src/images/no-image.svg","./ranking-arrows.svg":"./packages/survey-core/src/images/ranking-arrows.svg","./ranking-dash.svg":"./packages/survey-core/src/images/ranking-dash.svg","./rating-star-2.svg":"./packages/survey-core/src/images/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images/rating-star.svg","./restore_16x16.svg":"./packages/survey-core/src/images/restore_16x16.svg","./search.svg":"./packages/survey-core/src/images/search.svg"};function k(Ie){var te=R(Ie);return P(te)}function R(Ie){if(!P.o(V,Ie)){var te=new Error("Cannot find module '"+Ie+"'");throw te.code="MODULE_NOT_FOUND",te}return V[Ie]}k.keys=function(){return Object.keys(V)},k.resolve=R,L.exports=k,k.id="./packages/survey-core/src/images sync \\.svg$"},"./packages/survey-core/src/images/ArrowDown_34x34.svg":
/*!*************************************************************!*\
                !*** ./packages/survey-core/src/images/ArrowDown_34x34.svg ***!
                \*************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./packages/survey-core/src/images/ArrowLeft.svg":
/*!*******************************************************!*\
                !*** ./packages/survey-core/src/images/ArrowLeft.svg ***!
                \*******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images/ArrowRight.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/ArrowRight.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./packages/survey-core/src/images/Arrow_downGREY_10x10.svg":
/*!******************************************************************!*\
                !*** ./packages/survey-core/src/images/Arrow_downGREY_10x10.svg ***!
                \******************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images/ChangeCamera.svg":
/*!**********************************************************!*\
                !*** ./packages/survey-core/src/images/ChangeCamera.svg ***!
                \**********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./packages/survey-core/src/images/ChooseFile.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/ChooseFile.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./packages/survey-core/src/images/Clear.svg":
/*!***************************************************!*\
                !*** ./packages/survey-core/src/images/Clear.svg ***!
                \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images/CloseCamera.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/CloseCamera.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.41 12L20.7 4.71C21.09 4.32 21.09 3.69 20.7 3.3C20.31 2.91 19.68 2.91 19.29 3.3L12 10.59L4.71 3.29C4.32 2.9 3.68 2.9 3.29 3.29C2.9 3.68 2.9 4.32 3.29 4.71L10.58 12L3.29 19.29C2.9 19.68 2.9 20.31 3.29 20.7C3.49 20.9 3.74 20.99 4 20.99C4.26 20.99 4.51 20.89 4.71 20.7L12 13.41L19.29 20.7C19.49 20.9 19.74 20.99 20 20.99C20.26 20.99 20.51 20.89 20.71 20.7C21.1 20.31 21.1 19.68 20.71 19.29L13.42 12H13.41Z"></path></svg>'},"./packages/survey-core/src/images/DefaultFile.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/DefaultFile.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images/Delete.svg":
/*!****************************************************!*\
                !*** ./packages/survey-core/src/images/Delete.svg ***!
                \****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./packages/survey-core/src/images/Down_34x34.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/Down_34x34.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./packages/survey-core/src/images/Left.svg":
/*!**************************************************!*\
                !*** ./packages/survey-core/src/images/Left.svg ***!
                \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckChecked.svg":
/*!***********************************************************************!*\
                !*** ./packages/survey-core/src/images/ModernBooleanCheckChecked.svg ***!
                \***********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckInd.svg":
/*!*******************************************************************!*\
                !*** ./packages/survey-core/src/images/ModernBooleanCheckInd.svg ***!
                \*******************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckUnchecked.svg":
/*!*************************************************************************!*\
                !*** ./packages/survey-core/src/images/ModernBooleanCheckUnchecked.svg ***!
                \*************************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images/ModernCheck.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/ModernCheck.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images/ModernRadio.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/ModernRadio.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images/More.svg":
/*!**************************************************!*\
                !*** ./packages/survey-core/src/images/More.svg ***!
                \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./packages/survey-core/src/images/NavMenu_24x24.svg":
/*!***********************************************************!*\
                !*** ./packages/survey-core/src/images/NavMenu_24x24.svg ***!
                \***********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./packages/survey-core/src/images/ProgressButton.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/ProgressButton.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images/ProgressButtonV2.svg":
/*!**************************************************************!*\
                !*** ./packages/survey-core/src/images/ProgressButtonV2.svg ***!
                \**************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images/RemoveFile.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/RemoveFile.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images/Right.svg":
/*!***************************************************!*\
                !*** ./packages/survey-core/src/images/Right.svg ***!
                \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./packages/survey-core/src/images/SearchClear.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/SearchClear.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images/ShowCamera.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/ShowCamera.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z" fill="black" fill-opacity="0.45"></path></svg>'},"./packages/survey-core/src/images/TakePicture.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/TakePicture.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./packages/survey-core/src/images/TakePicture_24x24.svg":
/*!***************************************************************!*\
                !*** ./packages/survey-core/src/images/TakePicture_24x24.svg ***!
                \***************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./packages/survey-core/src/images/TimerCircle.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/TimerCircle.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images/V2Check.svg":
/*!*****************************************************!*\
                !*** ./packages/survey-core/src/images/V2Check.svg ***!
                \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./packages/survey-core/src/images/V2Check_24x24.svg":
/*!***********************************************************!*\
                !*** ./packages/survey-core/src/images/V2Check_24x24.svg ***!
                \***********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./packages/survey-core/src/images/V2DragElement_16x16.svg":
/*!*****************************************************************!*\
                !*** ./packages/survey-core/src/images/V2DragElement_16x16.svg ***!
                \*****************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./packages/survey-core/src/images/back-to-panel_16x16.svg":
/*!*****************************************************************!*\
                !*** ./packages/survey-core/src/images/back-to-panel_16x16.svg ***!
                \*****************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15.0001 6C15.0001 6.55 14.5501 7 14.0001 7H10.0001C9.45006 7 9.00006 6.55 9.00006 6V2C9.00006 1.45 9.45006 1 10.0001 1C10.5501 1 11.0001 1.45 11.0001 2V3.59L13.2901 1.29C13.4901 1.09 13.7401 1 14.0001 1C14.2601 1 14.5101 1.1 14.7101 1.29C15.1001 1.68 15.1001 2.31 14.7101 2.7L12.4201 4.99H14.0101C14.5601 4.99 15.0101 5.44 15.0101 5.99L15.0001 6ZM6.00006 9H2.00006C1.45006 9 1.00006 9.45 1.00006 10C1.00006 10.55 1.45006 11 2.00006 11H3.59006L1.29006 13.29C0.900059 13.68 0.900059 14.31 1.29006 14.7C1.68006 15.09 2.31006 15.09 2.70006 14.7L4.99006 12.41V14C4.99006 14.55 5.44006 15 5.99006 15C6.54006 15 6.99006 14.55 6.99006 14V10C6.99006 9.45 6.54006 9 5.99006 9H6.00006Z"></path></svg>'},"./packages/survey-core/src/images/chevron.svg":
/*!*****************************************************!*\
                !*** ./packages/survey-core/src/images/chevron.svg ***!
                \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./packages/survey-core/src/images/clear_16x16.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/clear_16x16.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images/close_16x16.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/close_16x16.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./packages/survey-core/src/images/collapseDetail.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/collapseDetail.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/drag-n-drop.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/drag-n-drop.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"></path></svg>'},"./packages/survey-core/src/images/expandDetail.svg":
/*!**********************************************************!*\
                !*** ./packages/survey-core/src/images/expandDetail.svg ***!
                \**********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/full-screen_16x16.svg":
/*!***************************************************************!*\
                !*** ./packages/survey-core/src/images/full-screen_16x16.svg ***!
                \***************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>'},"./packages/survey-core/src/images/loading.svg":
/*!*****************************************************!*\
                !*** ./packages/survey-core/src/images/loading.svg ***!
                \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_885_24957)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_885_24957"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images/minimize_16x16.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/minimize_16x16.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./packages/survey-core/src/images/next_16x16.svg":
/*!********************************************************!*\
                !*** ./packages/survey-core/src/images/next_16x16.svg ***!
                \********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>'},"./packages/survey-core/src/images/no-image.svg":
/*!******************************************************!*\
                !*** ./packages/survey-core/src/images/no-image.svg ***!
                \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./packages/survey-core/src/images/ranking-arrows.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/ranking-arrows.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images/ranking-dash.svg":
/*!**********************************************************!*\
                !*** ./packages/survey-core/src/images/ranking-dash.svg ***!
                \**********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/rating-star-2.svg":
/*!***********************************************************!*\
                !*** ./packages/survey-core/src/images/rating-star-2.svg ***!
                \***********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images/rating-star-small-2.svg":
/*!*****************************************************************!*\
                !*** ./packages/survey-core/src/images/rating-star-small-2.svg ***!
                \*****************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images/rating-star-small.svg":
/*!***************************************************************!*\
                !*** ./packages/survey-core/src/images/rating-star-small.svg ***!
                \***************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images/rating-star.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/rating-star.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images/restore_16x16.svg":
/*!***********************************************************!*\
                !*** ./packages/survey-core/src/images/restore_16x16.svg ***!
                \***********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./packages/survey-core/src/images/search.svg":
/*!****************************************************!*\
                !*** ./packages/survey-core/src/images/search.svg ***!
                \****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./packages/survey-core/src/images/smiley sync \\.svg$":
/*!*************************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley sync nonrecursive \.svg$ ***!
                \*************************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C,P){var V={"./average.svg":"./packages/survey-core/src/images/smiley/average.svg","./excellent.svg":"./packages/survey-core/src/images/smiley/excellent.svg","./good.svg":"./packages/survey-core/src/images/smiley/good.svg","./normal.svg":"./packages/survey-core/src/images/smiley/normal.svg","./not-good.svg":"./packages/survey-core/src/images/smiley/not-good.svg","./perfect.svg":"./packages/survey-core/src/images/smiley/perfect.svg","./poor.svg":"./packages/survey-core/src/images/smiley/poor.svg","./terrible.svg":"./packages/survey-core/src/images/smiley/terrible.svg","./very-good.svg":"./packages/survey-core/src/images/smiley/very-good.svg","./very-poor.svg":"./packages/survey-core/src/images/smiley/very-poor.svg"};function k(Ie){var te=R(Ie);return P(te)}function R(Ie){if(!P.o(V,Ie)){var te=new Error("Cannot find module '"+Ie+"'");throw te.code="MODULE_NOT_FOUND",te}return V[Ie]}k.keys=function(){return Object.keys(V)},k.resolve=R,L.exports=k,k.id="./packages/survey-core/src/images/smiley sync \\.svg$"},"./packages/survey-core/src/images/smiley/average.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/average.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images/smiley/excellent.svg":
/*!**************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/excellent.svg ***!
                \**************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./packages/survey-core/src/images/smiley/good.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/good.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images/smiley/normal.svg":
/*!***********************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/normal.svg ***!
                \***********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images/smiley/not-good.svg":
/*!*************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/not-good.svg ***!
                \*************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images/smiley/perfect.svg":
/*!************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/perfect.svg ***!
                \************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images/smiley/poor.svg":
/*!*********************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/poor.svg ***!
                \*********************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images/smiley/terrible.svg":
/*!*************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/terrible.svg ***!
                \*************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images/smiley/very-good.svg":
/*!**************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/very-good.svg ***!
                \**************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images/smiley/very-poor.svg":
/*!**************************************************************!*\
                !*** ./packages/survey-core/src/images/smiley/very-poor.svg ***!
                \**************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(L,C){L.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/entries/core.ts":
/*!*******************************************!*\
                !*** ./src/entries/core.ts + 126 modules ***!
                \*******************************************/
/*! exports provided: Version, ReleaseDate, checkLibraryVersion, setLicenseKey, slk, hasLicense, settings, Helpers, AnswerCountValidator, EmailValidator, NumericValidator, RegexValidator, SurveyValidator, TextValidator, ValidatorResult, ExpressionValidator, ValidatorRunner, ItemValue, Base, Event, EventBase, ArrayChanges, ComputedUpdater, SurveyError, SurveyElementCore, SurveyElement, DragTypeOverMeEnum, CalculatedValue, CustomError, AnswerRequiredError, OneAnswerRequiredError, RequreNumericError, ExceedSizeError, LocalizableString, LocalizableStrings, HtmlConditionItem, UrlConditionItem, ChoicesRestful, ChoicesRestfull, FunctionFactory, registerFunction, ConditionRunner, ExpressionRunner, ExpressionExecutor, Operand, Const, BinaryOperand, Variable, FunctionOperand, ArrayOperand, UnaryOperand, ConditionsParser, ProcessValue, JsonError, JsonIncorrectTypeError, JsonMetadata, JsonMetadataClass, JsonMissingTypeError, JsonMissingTypeErrorBase, JsonObject, JsonObjectProperty, JsonRequiredPropertyError, JsonUnknownPropertyError, Serializer, property, propertyArray, MatrixDropdownCell, MatrixDropdownRowModelBase, QuestionMatrixDropdownModelBase, MatrixDropdownColumn, matrixDropdownColumnTypes, QuestionMatrixDropdownRenderedCell, QuestionMatrixDropdownRenderedRow, QuestionMatrixDropdownRenderedErrorRow, QuestionMatrixDropdownRenderedTable, MatrixDropdownRowModel, QuestionMatrixDropdownModel, MatrixDynamicRowModel, QuestionMatrixDynamicModel, MatrixRowModel, MatrixCells, QuestionMatrixModel, QuestionMatrixBaseModel, MultipleTextItemModel, MultipleTextCell, MultipleTextErrorCell, MutlipleTextErrorRow, MutlipleTextRow, QuestionMultipleTextModel, MultipleTextEditorModel, PanelModel, PanelModelBase, QuestionRowModel, FlowPanelModel, PageModel, DefaultTitleModel, Question, QuestionNonValue, QuestionEmptyModel, QuestionCheckboxBase, QuestionSelectBase, QuestionCheckboxModel, QuestionTagboxModel, QuestionRankingModel, QuestionCommentModel, QuestionDropdownModel, QuestionFactory, ElementFactory, QuestionFileModel, QuestionHtmlModel, QuestionRadiogroupModel, QuestionRatingModel, RenderedRatingItem, QuestionExpressionModel, QuestionTextBase, CharacterCounter, QuestionTextModel, QuestionBooleanModel, QuestionImagePickerModel, ImageItemValue, QuestionImageModel, QuestionSignaturePadModel, QuestionPanelDynamicModel, QuestionPanelDynamicItem, SurveyTimer, SurveyTimerModel, tryFocusPage, createTOCListModel, getTocRootCss, TOCModel, SurveyProgressModel, ProgressButtons, ProgressButtonsResponsivityManager, SurveyModel, SurveyTrigger, SurveyTriggerComplete, SurveyTriggerSetValue, SurveyTriggerVisible, SurveyTriggerCopyValue, SurveyTriggerRunExpression, SurveyTriggerSkip, Trigger, PopupSurveyModel, SurveyWindowModel, TextPreProcessor, Notifier, Cover, CoverCell, dxSurveyService, englishStrings, surveyLocalization, surveyStrings, QuestionCustomWidget, CustomWidgetCollection, QuestionCustomModel, QuestionCompositeModel, ComponentQuestionJSON, ComponentCollection, ListModel, MultiSelectListModel, PopupModel, createDialogOptions, PopupBaseViewModel, PopupDropdownViewModel, PopupModalViewModel, createPopupViewModel, createPopupModalViewModel, DropdownListModel, DropdownMultiSelectListModel, QuestionButtonGroupModel, ButtonGroupItemModel, ButtonGroupItemValue, IsMobile, IsTouch, _setIsTouch, confirmAction, confirmActionAsync, detectIEOrEdge, doKey2ClickUp, doKey2ClickDown, doKey2ClickBlur, loadFileFromBase64, increaseHeightByContent, createSvg, chooseFiles, sanitizeEditableContent, InputMaskBase, InputMaskPattern, InputMaskNumeric, InputMaskDateTime, InputMaskCurrency, CssClassBuilder, surveyCss, defaultV2Css, defaultV2ThemeName, DragDropCore, DragDropChoices, DragDropRankingSelectToRank, StylesManager, defaultStandardCss, modernCss, SvgIconRegistry, SvgRegistry, SvgBundleViewModel, RendererFactory, ResponsivityManager, VerticalResponsivityManager, unwrap, getOriginalEvent, getElement, createDropdownActionModel, createDropdownActionModelAdvanced, createPopupModelWithListModel, getActionDropdownButtonTarget, BaseAction, Action, ActionDropdownViewModel, AnimationUtils, AnimationPropertyUtils, AnimationGroupUtils, AnimationProperty, AnimationBoolean, AnimationGroup, AnimationTab, AdaptiveActionContainer, defaultActionBarCss, ActionContainer, DragOrClickHelper, Model */function(L,C,P){"use strict";P.r(C),P.d(C,"Version",function(){return Ti}),P.d(C,"ReleaseDate",function(){return sr}),P.d(C,"checkLibraryVersion",function(){return xp}),P.d(C,"setLicenseKey",function(){return wp}),P.d(C,"slk",function(){return ja}),P.d(C,"hasLicense",function(){return Pp}),P.d(C,"settings",function(){return I}),P.d(C,"Helpers",function(){return R}),P.d(C,"AnswerCountValidator",function(){return ss}),P.d(C,"EmailValidator",function(){return no}),P.d(C,"NumericValidator",function(){return os}),P.d(C,"RegexValidator",function(){return as}),P.d(C,"SurveyValidator",function(){return Gt}),P.d(C,"TextValidator",function(){return rs}),P.d(C,"ValidatorResult",function(){return Ne}),P.d(C,"ExpressionValidator",function(){return ls}),P.d(C,"ValidatorRunner",function(){return is}),P.d(C,"ItemValue",function(){return J}),P.d(C,"Base",function(){return oe}),P.d(C,"Event",function(){return Yn}),P.d(C,"EventBase",function(){return it}),P.d(C,"ArrayChanges",function(){return Bt}),P.d(C,"ComputedUpdater",function(){return we}),P.d(C,"SurveyError",function(){return Ye}),P.d(C,"SurveyElementCore",function(){return Zn}),P.d(C,"SurveyElement",function(){return We}),P.d(C,"DragTypeOverMeEnum",function(){return zr}),P.d(C,"CalculatedValue",function(){return mt}),P.d(C,"CustomError",function(){return tt}),P.d(C,"AnswerRequiredError",function(){return Kr}),P.d(C,"OneAnswerRequiredError",function(){return Zr}),P.d(C,"RequreNumericError",function(){return es}),P.d(C,"ExceedSizeError",function(){return ts}),P.d(C,"LocalizableString",function(){return ot}),P.d(C,"LocalizableStrings",function(){return Ur}),P.d(C,"HtmlConditionItem",function(){return ps}),P.d(C,"UrlConditionItem",function(){return ds}),P.d(C,"ChoicesRestful",function(){return $t}),P.d(C,"ChoicesRestfull",function(){return Bu}),P.d(C,"FunctionFactory",function(){return pe}),P.d(C,"registerFunction",function(){return Ll}),P.d(C,"ConditionRunner",function(){return Xe}),P.d(C,"ExpressionRunner",function(){return _t}),P.d(C,"ExpressionExecutor",function(){return on}),P.d(C,"Operand",function(){return Ct}),P.d(C,"Const",function(){return nn}),P.d(C,"BinaryOperand",function(){return Be}),P.d(C,"Variable",function(){return ye}),P.d(C,"FunctionOperand",function(){return se}),P.d(C,"ArrayOperand",function(){return Un}),P.d(C,"UnaryOperand",function(){return qi}),P.d(C,"ConditionsParser",function(){return Hr}),P.d(C,"ProcessValue",function(){return He}),P.d(C,"JsonError",function(){return Zt}),P.d(C,"JsonIncorrectTypeError",function(){return Ir}),P.d(C,"JsonMetadata",function(){return Tr}),P.d(C,"JsonMetadataClass",function(){return kl}),P.d(C,"JsonMissingTypeError",function(){return Li}),P.d(C,"JsonMissingTypeErrorBase",function(){return en}),P.d(C,"JsonObject",function(){return Oe}),P.d(C,"JsonObjectProperty",function(){return $n}),P.d(C,"JsonRequiredPropertyError",function(){return Rr}),P.d(C,"JsonUnknownPropertyError",function(){return Ai}),P.d(C,"Serializer",function(){return M}),P.d(C,"property",function(){return _}),P.d(C,"propertyArray",function(){return qe}),P.d(C,"MatrixDropdownCell",function(){return yo}),P.d(C,"MatrixDropdownRowModelBase",function(){return cn}),P.d(C,"QuestionMatrixDropdownModelBase",function(){return pn}),P.d(C,"MatrixDropdownColumn",function(){return On}),P.d(C,"matrixDropdownColumnTypes",function(){return fo}),P.d(C,"QuestionMatrixDropdownRenderedCell",function(){return ct}),P.d(C,"QuestionMatrixDropdownRenderedRow",function(){return mo}),P.d(C,"QuestionMatrixDropdownRenderedErrorRow",function(){return Cs}),P.d(C,"QuestionMatrixDropdownRenderedTable",function(){return go}),P.d(C,"MatrixDropdownRowModel",function(){return xs}),P.d(C,"QuestionMatrixDropdownModel",function(){return ws}),P.d(C,"MatrixDynamicRowModel",function(){return Is}),P.d(C,"QuestionMatrixDynamicModel",function(){return xo}),P.d(C,"MatrixRowModel",function(){return Gs}),P.d(C,"MatrixCells",function(){return $s}),P.d(C,"QuestionMatrixModel",function(){return ko}),P.d(C,"QuestionMatrixBaseModel",function(){return lo}),P.d(C,"MultipleTextItemModel",function(){return jo}),P.d(C,"MultipleTextCell",function(){return No}),P.d(C,"MultipleTextErrorCell",function(){return ta}),P.d(C,"MutlipleTextErrorRow",function(){return ea}),P.d(C,"MutlipleTextRow",function(){return Bo}),P.d(C,"QuestionMultipleTextModel",function(){return vi}),P.d(C,"MultipleTextEditorModel",function(){return Zs}),P.d(C,"PanelModel",function(){return hi}),P.d(C,"PanelModelBase",function(){return fi}),P.d(C,"QuestionRowModel",function(){return As}),P.d(C,"FlowPanelModel",function(){return na}),P.d(C,"PageModel",function(){return kn}),P.d(C,"DefaultTitleModel",function(){return Rc}),P.d(C,"Question",function(){return je}),P.d(C,"QuestionNonValue",function(){return bi}),P.d(C,"QuestionEmptyModel",function(){return ia}),P.d(C,"QuestionCheckboxBase",function(){return An}),P.d(C,"QuestionSelectBase",function(){return Ro}),P.d(C,"QuestionCheckboxModel",function(){return Fn}),P.d(C,"QuestionTagboxModel",function(){return qo}),P.d(C,"QuestionRankingModel",function(){return Ho}),P.d(C,"QuestionCommentModel",function(){return Qo}),P.d(C,"QuestionDropdownModel",function(){return Ln}),P.d(C,"QuestionFactory",function(){return he}),P.d(C,"ElementFactory",function(){return Tt}),P.d(C,"QuestionFileModel",function(){return Go}),P.d(C,"QuestionHtmlModel",function(){return da}),P.d(C,"QuestionRadiogroupModel",function(){return $o}),P.d(C,"QuestionRatingModel",function(){return Uo}),P.d(C,"RenderedRatingItem",function(){return _i}),P.d(C,"QuestionExpressionModel",function(){return po}),P.d(C,"QuestionTextBase",function(){return gi}),P.d(C,"CharacterCounter",function(){return Ws}),P.d(C,"QuestionTextModel",function(){return yi}),P.d(C,"QuestionBooleanModel",function(){return jn}),P.d(C,"QuestionImagePickerModel",function(){return Bn}),P.d(C,"ImageItemValue",function(){return ma}),P.d(C,"QuestionImageModel",function(){return Wo}),P.d(C,"QuestionSignaturePadModel",function(){return Xo}),P.d(C,"QuestionPanelDynamicModel",function(){return Ko}),P.d(C,"QuestionPanelDynamicItem",function(){return Ge}),P.d(C,"SurveyTimer",function(){return Po}),P.d(C,"SurveyTimerModel",function(){return Ss}),P.d(C,"tryFocusPage",function(){return Fs}),P.d(C,"createTOCListModel",function(){return js}),P.d(C,"getTocRootCss",function(){return Bs}),P.d(C,"TOCModel",function(){return zt}),P.d(C,"SurveyProgressModel",function(){return ip}),P.d(C,"ProgressButtons",function(){return Ls}),P.d(C,"ProgressButtonsResponsivityManager",function(){return yc}),P.d(C,"SurveyModel",function(){return Rt}),P.d(C,"SurveyTrigger",function(){return Yt}),P.d(C,"SurveyTriggerComplete",function(){return wa}),P.d(C,"SurveyTriggerSetValue",function(){return Pa}),P.d(C,"SurveyTriggerVisible",function(){return xa}),P.d(C,"SurveyTriggerCopyValue",function(){return Ia}),P.d(C,"SurveyTriggerRunExpression",function(){return Ta}),P.d(C,"SurveyTriggerSkip",function(){return Va}),P.d(C,"Trigger",function(){return _a}),P.d(C,"PopupSurveyModel",function(){return Sa}),P.d(C,"SurveyWindowModel",function(){return rp}),P.d(C,"TextPreProcessor",function(){return uo}),P.d(C,"Notifier",function(){return Os}),P.d(C,"Cover",function(){return di}),P.d(C,"CoverCell",function(){return Es}),P.d(C,"dxSurveyService",function(){return wo}),P.d(C,"englishStrings",function(){return Ie}),P.d(C,"surveyLocalization",function(){return te}),P.d(C,"surveyStrings",function(){return Me}),P.d(C,"QuestionCustomWidget",function(){return us}),P.d(C,"CustomWidgetCollection",function(){return io}),P.d(C,"QuestionCustomModel",function(){return vs}),P.d(C,"QuestionCompositeModel",function(){return bs}),P.d(C,"ComponentQuestionJSON",function(){return gs}),P.d(C,"ComponentCollection",function(){return oi}),P.d(C,"ListModel",function(){return Pn}),P.d(C,"MultiSelectListModel",function(){return oa}),P.d(C,"PopupModel",function(){return Vn}),P.d(C,"createDialogOptions",function(){return ou}),P.d(C,"PopupBaseViewModel",function(){return Eo}),P.d(C,"PopupDropdownViewModel",function(){return Mo}),P.d(C,"PopupModalViewModel",function(){return Zo}),P.d(C,"createPopupViewModel",function(){return lp}),P.d(C,"createPopupModalViewModel",function(){return ap}),P.d(C,"DropdownListModel",function(){return mi}),P.d(C,"DropdownMultiSelectListModel",function(){return ra}),P.d(C,"QuestionButtonGroupModel",function(){return Da}),P.d(C,"ButtonGroupItemModel",function(){return up}),P.d(C,"ButtonGroupItemValue",function(){return Ea}),P.d(C,"IsMobile",function(){return ui}),P.d(C,"IsTouch",function(){return xe}),P.d(C,"_setIsTouch",function(){return Xu}),P.d(C,"confirmAction",function(){return Wr}),P.d(C,"confirmActionAsync",function(){return ln}),P.d(C,"detectIEOrEdge",function(){return ue}),P.d(C,"doKey2ClickUp",function(){return Xr}),P.d(C,"doKey2ClickDown",function(){return yu}),P.d(C,"doKey2ClickBlur",function(){return Yr}),P.d(C,"loadFileFromBase64",function(){return Yi}),P.d(C,"increaseHeightByContent",function(){return Zi}),P.d(C,"createSvg",function(){return hu}),P.d(C,"chooseFiles",function(){return Jr}),P.d(C,"sanitizeEditableContent",function(){return _u}),P.d(C,"InputMaskBase",function(){return Pi}),P.d(C,"InputMaskPattern",function(){return or}),P.d(C,"InputMaskNumeric",function(){return rr}),P.d(C,"InputMaskDateTime",function(){return mn}),P.d(C,"InputMaskCurrency",function(){return Fa}),P.d(C,"CssClassBuilder",function(){return A}),P.d(C,"surveyCss",function(){return Te}),P.d(C,"defaultV2Css",function(){return ci}),P.d(C,"defaultV2ThemeName",function(){return Rs}),P.d(C,"DragDropCore",function(){return bo}),P.d(C,"DragDropChoices",function(){return sa}),P.d(C,"DragDropRankingSelectToRank",function(){return la}),P.d(C,"StylesManager",function(){return qa}),P.d(C,"defaultStandardCss",function(){return At}),P.d(C,"modernCss",function(){return Ha}),P.d(C,"SvgIconRegistry",function(){return Qa}),P.d(C,"SvgRegistry",function(){return ar}),P.d(C,"SvgBundleViewModel",function(){}),P.d(C,"RendererFactory",function(){return cs}),P.d(C,"ResponsivityManager",function(){return rn}),P.d(C,"VerticalResponsivityManager",function(){return Zl}),P.d(C,"unwrap",function(){return gu}),P.d(C,"getOriginalEvent",function(){return vu}),P.d(C,"getElement",function(){return In}),P.d(C,"createDropdownActionModel",function(){return su}),P.d(C,"createDropdownActionModelAdvanced",function(){return zi}),P.d(C,"createPopupModelWithListModel",function(){return Ui}),P.d(C,"getActionDropdownButtonTarget",function(){return au}),P.d(C,"BaseAction",function(){return Xn}),P.d(C,"Action",function(){return de}),P.d(C,"ActionDropdownViewModel",function(){return lu}),P.d(C,"AnimationUtils",function(){return xt}),P.d(C,"AnimationPropertyUtils",function(){return Re}),P.d(C,"AnimationGroupUtils",function(){return Fe}),P.d(C,"AnimationProperty",function(){return Ae}),P.d(C,"AnimationBoolean",function(){return Kn}),P.d(C,"AnimationGroup",function(){return Se}),P.d(C,"AnimationTab",function(){return wt}),P.d(C,"AdaptiveActionContainer",function(){return Jn}),P.d(C,"defaultActionBarCss",function(){return $i}),P.d(C,"ActionContainer",function(){return ut}),P.d(C,"DragOrClickHelper",function(){return Co}),P.d(C,"Model",function(){return Rt});var V=function(){function r(){}return r.isAvailable=function(){return typeof window<"u"},r.isFileReaderAvailable=function(){return!!r.isAvailable()&&!!window.FileReader},r.getLocation=function(){if(r.isAvailable())return window.location},r.getVisualViewport=function(){return r.isAvailable()?window.visualViewport:null},r.getInnerWidth=function(){if(r.isAvailable())return window.innerWidth},r.getInnerHeight=function(){return r.isAvailable()?window.innerHeight:null},r.getWindow=function(){if(r.isAvailable())return window},r.hasOwn=function(t){if(r.isAvailable())return t in window},r.getSelection=function(){if(r.isAvailable()&&window.getSelection)return window.getSelection()},r.requestAnimationFrame=function(t){if(r.isAvailable())return window.requestAnimationFrame(t)},r.addEventListener=function(t,e){r.isAvailable()&&window.addEventListener(t,e)},r.removeEventListener=function(t,e){r.isAvailable()&&window.removeEventListener(t,e)},r.matchMedia=function(t){return!r.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(t)},r}(),k=function(){function r(){}return r.isAvailable=function(){return typeof document<"u"},r.getBody=function(){if(r.isAvailable())return document.body},r.getDocumentElement=function(){if(r.isAvailable())return document.documentElement},r.getDocument=function(){if(r.isAvailable())return document},r.getCookie=function(){if(r.isAvailable())return document.cookie},r.setCookie=function(t){r.isAvailable()&&(document.cookie=t)},r.activeElementBlur=function(){if(r.isAvailable()){var t=document.activeElement;t&&t.blur&&t.blur()}},r.createElement=function(t){if(r.isAvailable())return document.createElement(t)},r.getComputedStyle=function(t){return r.isAvailable()?document.defaultView.getComputedStyle(t):new CSSStyleDeclaration},r.addEventListener=function(t,e){r.isAvailable()&&document.addEventListener(t,e)},r.removeEventListener=function(t,e){r.isAvailable()&&document.removeEventListener(t,e)},r}(),R=function(){function r(){}return r.isValueEmpty=function(t){if(Array.isArray(t)&&0===t.length)return!0;if(t&&r.isValueObject(t)&&t.constructor===Object){for(var e in t)if(!r.isValueEmpty(t[e]))return!1;return!0}return!t&&0!==t&&!1!==t},r.isArrayContainsEqual=function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++){for(var o=0;o<e.length&&!r.isTwoValueEquals(t[n],e[o]);o++);if(o===e.length)return!1}return!0},r.isArraysEqual=function(t,e,n,o,s){if(void 0===n&&(n=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;if(n){for(var u=[],p=[],h=0;h<t.length;h++)u.push(t[h]),p.push(e[h]);u.sort(),p.sort(),t=u,e=p}for(h=0;h<t.length;h++)if(!r.isTwoValueEquals(t[h],e[h],n,o,s))return!1;return!0},r.compareStrings=function(t,e){var n=I.comparator.normalizeTextCallback;if(t&&(t=n(t,"compare").trim()),e&&(e=n(e,"compare").trim()),!t&&!e)return 0;if(!t)return-1;if(!e)return 1;if(t===e)return 0;for(var o=-1,s=0;s<t.length&&s<e.length;s++){if(this.isCharDigit(t[s])&&this.isCharDigit(e[s])){o=s;break}if(t[s]!==e[s])break}if(o>-1){var u=this.getNumberFromStr(t,o),p=this.getNumberFromStr(e,o);if(!Number.isNaN(u)&&!Number.isNaN(p)&&u!==p)return u>p?1:-1}return t>e?1:-1},r.isTwoValueEquals=function(t,e,n,o,s){if(void 0===n&&(n=!1),t===e||Array.isArray(t)&&0===t.length&&typeof e>"u"||Array.isArray(e)&&0===e.length&&typeof t>"u"||null==t&&""===e||null==e&&""===t)return!0;if(void 0===s&&(s=I.comparator.trimStrings),void 0===o&&(o=I.comparator.caseSensitive),"string"==typeof t&&"string"==typeof e){var u=I.comparator.normalizeTextCallback;return t=u(t,"compare"),e=u(e,"compare"),s&&(t=t.trim(),e=e.trim()),o||(t=t.toLowerCase(),e=e.toLowerCase()),t===e}if(t instanceof Date&&e instanceof Date)return t.getTime()==e.getTime();if(r.isConvertibleToNumber(t)&&r.isConvertibleToNumber(e)&&parseInt(t)===parseInt(e)&&parseFloat(t)===parseFloat(e))return!0;if(!r.isValueEmpty(t)&&r.isValueEmpty(e)||r.isValueEmpty(t)&&!r.isValueEmpty(e))return!1;if((!0===t||!1===t)&&"string"==typeof e)return t.toString()===e.toLocaleLowerCase();if((!0===e||!1===e)&&"string"==typeof t)return e.toString()===t.toLocaleLowerCase();if(!r.isValueObject(t)&&!r.isValueObject(e))return t==e;if(!r.isValueObject(t)||!r.isValueObject(e))return!1;if(t.equals&&e.equals)return t.equals(e);if(Array.isArray(t)&&Array.isArray(e))return r.isArraysEqual(t,e,n,o,s);for(var p in t)if(t.hasOwnProperty(p)&&(!e.hasOwnProperty(p)||!this.isTwoValueEquals(t[p],e[p],n,o,s)))return!1;for(p in e)if(e.hasOwnProperty(p)&&!t.hasOwnProperty(p))return!1;return!0},r.randomizeArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[n],t[n]=o}return t},r.getUnbindValue=function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(r.getUnbindValue(t[n]));return e}return!t||!r.isValueObject(t)||t instanceof Date?t:JSON.parse(JSON.stringify(t))},r.createCopy=function(t){var e={};if(!t)return e;for(var n in t)e[n]=t[n];return e},r.isConvertibleToNumber=function(t){return null!=t&&!Array.isArray(t)&&!isNaN(t)},r.isValueObject=function(t,e){return t instanceof Object&&(!e||!Array.isArray(t))},r.isNumber=function(t){return!isNaN(this.getNumber(t))},r.getNumber=function(t){var e=r.getNumberCore(t);return I.parseNumber(t,e)},r.getNumberCore=function(t){if("string"==typeof t){if(!t.trim())return NaN;if(0==t.indexOf("0x"))return t.length>32?NaN:parseInt(t);if(r.isStringHasOperator(t))return NaN}t=this.prepareStringToNumber(t);var e=parseFloat(t);return isNaN(e)||!isFinite(t)?NaN:e},r.isStringHasOperator=function(t){if(t.lastIndexOf("-")>0||t.lastIndexOf("+")>0)return!1;for(var e="*^/%",n=0;n<4;n++)if(t.indexOf(e[n])>-1)return!0;return!1},r.prepareStringToNumber=function(t){if("string"!=typeof t||!t)return t;var e=t.indexOf(",");return e>-1&&t.indexOf(",",e+1)<0?t.replace(",","."):t},r.getMaxLength=function(t,e){return t<0&&(t=e),t>0?t:null},r.getRemainingCharacterCounterText=function(t,e){return!e||e<=0||!I.showMaxLengthIndicator?"":[t?t.length:"0",e].join("/")},r.getNumberByIndex=function(t,e){if(t<0)return"";var n=1,o="",s=".",u=!0,p="A",h="";if(e){for(var m=(h=e).length-1,x=!1,T=0;T<h.length;T++)if(r.isCharDigit(h[T])){x=!0;break}for(var D=function(){return x&&!r.isCharDigit(h[m])||r.isCharNotLetterAndDigit(h[m])};m>=0&&D();)m--;var B="";for(m<h.length-1&&(B=h.substring(m+1),h=h.substring(0,m+1)),m=h.length-1;m>=0&&!D()&&(m--,x););p=h.substring(m+1),o=h.substring(0,m+1),parseInt(p)?n=parseInt(p):1==p.length&&(u=!1),(B||o)&&(s=B)}if(u){for(var j=(t+n).toString();j.length<p.length;)j="0"+j;return o+j+s}return o+String.fromCharCode(p.charCodeAt(0)+t)+s},r.isCharNotLetterAndDigit=function(t){return t.toUpperCase()==t.toLowerCase()&&!r.isCharDigit(t)},r.isCharDigit=function(t){return t>="0"&&t<="9"},r.getNumberFromStr=function(t,e){if(!this.isCharDigit(t[e]))return NaN;for(var n="";e<t.length&&this.isCharDigit(t[e]);)n+=t[e],e++;return n?this.getNumber(n):NaN},r.countDecimals=function(t){if(r.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},r.correctAfterPlusMinis=function(t,e,n){var o=r.countDecimals(t),s=r.countDecimals(e);if(o>0||s>0){var u=Math.max(o,s);n=parseFloat(n.toFixed(u))}return n},r.sumAnyValues=function(t,e){if(!r.isNumber(t)||!r.isNumber(e)){if(Array.isArray(t)&&Array.isArray(e))return[].concat(t).concat(e);if(Array.isArray(t)||Array.isArray(e)){var n=Array.isArray(t)?t:e,o=n===t?e:t;if("string"==typeof o){var s=n.join(", ");return n===t?s+o:o+s}if("number"==typeof o){for(var u=0,p=0;p<n.length;p++)"number"==typeof n[p]&&(u=r.correctAfterPlusMinis(u,n[p],u+n[p]));return r.correctAfterPlusMinis(u,o,u+o)}}return t+e}return"string"==typeof t||"string"==typeof e?t+e:r.correctAfterPlusMinis(t,e,t+e)},r.correctAfterMultiple=function(t,e,n){var o=r.countDecimals(t)+r.countDecimals(e);return o>0&&(n=parseFloat(n.toFixed(o))),n},r.convertArrayValueToObject=function(t,e,n){void 0===n&&(n=void 0);var o=new Array;if(!t||!Array.isArray(t))return o;for(var s=0;s<t.length;s++){var u=void 0;Array.isArray(n)&&(u=r.findObjByPropValue(n,e,t[s])),u||((u={})[e]=t[s]),o.push(u)}return o},r.findObjByPropValue=function(t,e,n){for(var o=0;o<t.length;o++)if(r.isTwoValueEquals(t[o][e],n))return t[o]},r.convertArrayObjectToValue=function(t,e){var n=new Array;if(!t||!Array.isArray(t))return n;for(var o=0;o<t.length;o++){var s=t[o]?t[o][e]:void 0;r.isValueEmpty(s)||n.push(s)}return n},r.convertDateToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},r.convertDateTimeToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return this.convertDateToString(t)+" "+e(t.getHours())+":"+e(t.getMinutes())},r.convertValToQuestionVal=function(t,e){return t instanceof Date?"datetime-local"===e?r.convertDateTimeToString(t):r.convertDateToString(t):t},r.compareVerions=function(t,e){if(!t&&!e)return 0;for(var n=t.split("."),o=e.split("."),s=n.length,u=o.length,p=0;p<s&&p<u;p++){var h=n[p],m=o[p];if(h.length!==m.length)return h.length<m.length?-1:1;if(h!==m)return h<m?-1:1}return s===u?0:s<u?-1:1},r}();String.prototype.format||(String.prototype.format=function(){var r=arguments;return this.replace(/{(\d+)}/g,function(t,e){return typeof r[e]<"u"?r[e]:t})});var Ie={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:"No entries yet.\nClick the button below to add a new entry.",noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel"},te={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(r){this.useEnglishNames=r},setupLocale:function(r,t,e,n,o){this.locales[r]=t,this.localeNames[r]=e,this.localeNamesInEnglish[r]=n,void 0!==o&&(this.localeDirections[r]=o)},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(r){"cz"===r&&(r="cs"),this.currentLocaleValue=r},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(r){"cz"===r&&(r="cs"),this.defaultLocaleValue=r},getLocaleStrings:function(r){return this.locales[r]},getString:function(r,t){var e=this;void 0===t&&(t=null);var n=new Array,o=function(h){var m=e.locales[h];m&&n.push(m)},s=function(h){if(h){o(h);var m=h.indexOf("-");m<1||(h=h.substring(0,m),o(h))}};s(t),s(this.currentLocale),s(this.defaultLocale),"en"!==this.defaultLocale&&o("en");for(var u=0;u<n.length;u++){var p=n[u][r];if(void 0!==p)return p}return this.onGetExternalString(r,t)},getLocaleName:function(r,t){return r?(void 0===t&&(t=this.showNamesInEnglish),(t?this.localeNamesInEnglish:this.localeNames)[r]||(t?this.localeNames:this.localeNamesInEnglish)[r]||r):""},getLocales:function(r){var t=this;void 0===r&&(r=!1);var e=[];e.push("");var n=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){n={};for(var o=0;o<this.supportedLocales.length;o++)n[this.supportedLocales[o]]=!0}for(var s in n)r&&s==this.defaultLocale||e.push(s);var u=function(p){return t.getLocaleName(p).toLowerCase()};return e.sort(function(p,h){var m=u(p),x=u(h);return m===x?0:m<x?-1:1}),e},onGetExternalString:function(r,t){}},Me=Ie;te.locales.en=Ie,te.localeNames.en="english";var ht=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),i=function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r};function nt(r,t,e){var n=r.getLocalizableString(e);if(!n){var o=void 0;"object"==typeof t.localizable&&t.localizable.defaultStr&&(o=t.localizable.defaultStr),n=r.createLocalizableString(e,r,!0,o),"object"==typeof t.localizable&&"function"==typeof t.localizable.onGetTextCallback&&(n.onGetTextCallback=t.localizable.onGetTextCallback)}}function _(r){return void 0===r&&(r={}),function(t,e){var n=function(o,s){if(s&&"object"==typeof s&&s.type===we.ComputedUpdaterType){oe.startCollectDependencies(function(){return o[e]=s.updater()},o,e);var u=s.updater(),p=oe.finishCollectDependencies();return s.setDependencies(p),o.dependencies[e]&&o.dependencies[e].dispose(),o.dependencies[e]=s,u}return s};r&&r.localizable?(Object.defineProperty(t,e,{get:function(){return function ki(r,t,e){nt(r,t,e);var n=r.getLocalizableStringText(e);if(n)return n;if("object"==typeof t.localizable&&t.localizable.defaultStr){var o=r.getLocale?r.getLocale():"";return te.getString(t.localizable.defaultStr,o)}return""}(this,r,e)},set:function(o){nt(this,r,e);var s=n(this,o);this.setLocalizableStringText(e,s),r&&r.onSet&&r.onSet(s,this)}}),Object.defineProperty(t,"object"==typeof r.localizable&&r.localizable.name?r.localizable.name:"loc"+e.charAt(0).toUpperCase()+e.slice(1),{get:function(){return nt(this,r,e),this.getLocalizableString(e)}})):Object.defineProperty(t,e,{get:function(){var o=null;return r&&("function"==typeof r.getDefaultValue&&(o=r.getDefaultValue(this)),void 0!==r.defaultValue&&(o=r.defaultValue)),this.getPropertyValue(e,o)},set:function(o){var s=n(this,o),u=this.getPropertyValue(e);this.setPropertyValue(e,s),r&&r.onSet&&r.onSet(s,this,u)}})}}function Vr(r,t,e){r.ensureArray(e,function(n,o){var s=t?t.onPush:null;s&&s(n,o,r)},function(n,o){var s=t?t.onRemove:null;s&&s(n,o,r)})}function qe(r){return function(t,e){Object.defineProperty(t,e,{get:function(){return Vr(this,r,e),this.getPropertyValue(e)},set:function(n){Vr(this,r,e);var o=this.getPropertyValue(e);n!==o&&(o?o.splice.apply(o,i([0,o.length],n||[])):this.setPropertyValue(e,n),r&&r.onSet&&r.onSet(n,this))}})}}var $n=function(){function r(t,e,n){void 0===n&&(n=!1),this.name=e,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=t,this.isRequiredValue=n,this.idValue=r.Index++}return Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(t){"itemvalues"===t&&(t="itemvalue[]"),"textitems"===t&&(t="textitem[]"),this.typeValue=t,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(t){t!==this.isRequired&&(this.isRequiredValue=t,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(t){this.isUniqueValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(t){this.uniquePropertyValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),r.prototype.getDefaultValue=function(t){var e=this.defaultValueFunc?this.defaultValueFunc(t):this.defaultValueValue;return r.getItemValuesDefaultValue&&M.isDescendantOf(this.className,"itemvalue")&&(e=r.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),e},Object.defineProperty(r.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(t){this.defaultValueValue=t},enumerable:!1,configurable:!0}),r.prototype.isDefaultValue=function(t){return this.isDefaultValueByObj(void 0,t)},r.prototype.isDefaultValueByObj=function(t,e){var n=this.getDefaultValue(t);return R.isValueEmpty(n)?this.isLocalizable?null==e:!1===e&&("boolean"==this.type||"switch"==this.type)&&!this.defaultValueFunc||""===e||R.isValueEmpty(e):R.isTwoValueEquals(e,n,!1,!0,!1)},r.prototype.getSerializableValue=function(t){return this.onSerializeValue?this.onSerializeValue(t):this.getValue(t)},r.prototype.getValue=function(t){return this.onGetValue?this.onGetValue(t):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].getJson():t[this.name]},r.prototype.getPropertyValue=function(t){return this.isLocalizable?t[this.serializationProperty]?t[this.serializationProperty].text:null:this.getValue(t)},Object.defineProperty(r.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),r.prototype.settingValue=function(t,e){return!this.onSettingValue||t.isLoadingFromJson?e:this.onSettingValue(t,e)},r.prototype.setValue=function(t,e,n){this.onSetValue?this.onSetValue(t,e,n):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].setJson(e):(e&&"string"==typeof e&&("number"==this.type&&(e=parseInt(e)),("boolean"==this.type||"switch"==this.type)&&(e="true"===e.toLowerCase())),t[this.name]=e)},r.prototype.validateValue=function(t){var e=this.choices;return!Array.isArray(e)||0===e.length||e.indexOf(t)>-1},r.prototype.getObjType=function(t){return this.classNamePart?t.replace(this.classNamePart,""):t},Object.defineProperty(r.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),r.prototype.getChoices=function(t,e){return void 0===e&&(e=null),null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(t,e):null},r.prototype.setChoices=function(t,e){void 0===e&&(e=null),this.choicesValue=t,this.choicesfunc=e},r.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},r.prototype.setBaseValue=function(t){this.baseValue=t},Object.defineProperty(r.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(t){this.readOnlyValue=t},enumerable:!1,configurable:!0}),r.prototype.isEnable=function(t){return!this.readOnly&&(!t||!this.enableIf||this.enableIf(this.getOriginalObj(t)))},r.prototype.isVisible=function(t,e){return void 0===e&&(e=null),!(!this.visible||this.layout&&this.layout!=t)&&(!this.visibleIf||!e||this.visibleIf(this.getOriginalObj(e)))},r.prototype.getOriginalObj=function(t){if(t&&t.getOriginalObj){var e=t.getOriginalObj();if(e&&M.findProperty(e.getType(),this.name))return e}return t},Object.defineProperty(r.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(t){this.visibleValue=t},enumerable:!1,configurable:!0}),r.prototype.isAvailableInVersion=function(t){return!(!this.alternativeName&&!this.oldName)||this.isAvailableInVersionCore(t)},r.prototype.getSerializedName=function(t){return this.alternativeName?this.isAvailableInVersionCore(t)?this.name:this.alternativeName||this.oldName:this.name},r.prototype.getSerializedProperty=function(t,e){return!this.oldName||this.isAvailableInVersionCore(e)?this:t&&t.getType?M.findProperty(t.getType(),this.oldName):null},r.prototype.isAvailableInVersionCore=function(t){return!t||!this.version||R.compareVerions(this.version,t)<=0},Object.defineProperty(r.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(t){this.isLocalizableValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(t){this.dataListValue=t},enumerable:!1,configurable:!0}),r.prototype.mergeWith=function(t){for(var e=r.mergableValues,n=0;n<e.length;n++)this.mergeValue(t,e[n])},r.prototype.addDependedProperty=function(t){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(t)<0&&this.dependedProperties.push(t)},r.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},r.prototype.schemaType=function(){if("choicesByUrl"!==this.className)return"string"===this.className?this.className:this.className||this.baseClassName?"array":"switch"==this.type?"boolean":"boolean"==this.type||"number"==this.type?this.type:"string"},r.prototype.schemaRef=function(){if(this.className)return this.className},r.prototype.mergeValue=function(t,e){null==this[e]&&null!=t[e]&&(this[e]=t[e])},r.Index=1,r.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],r}(),lt=function(){function r(){}return r.addProperty=function(t,e){t=t.toLowerCase();var n=r.properties;n[t]||(n[t]=[]),n[t].push(e)},r.removeProperty=function(t,e){t=t.toLowerCase();var n=r.properties;if(n[t])for(var o=n[t],s=0;s<o.length;s++)if(o[s].name==e){n[t].splice(s,1);break}},r.removeAllProperties=function(t){t=t.toLowerCase(),delete r.properties[t]},r.addClass=function(t,e){t=t.toLowerCase(),e&&(e=e.toLowerCase()),r.parentClasses[t]=e},r.getProperties=function(t){t=t.toLowerCase();for(var e=[],n=r.properties;t;){var o=n[t];if(o)for(var s=0;s<o.length;s++)e.push(o[s]);t=r.parentClasses[t]}return e},r.createProperties=function(t){!t||!t.getType||r.createPropertiesCore(t,t.getType())},r.createPropertiesCore=function(t,e){var n=r.properties;n[e]&&r.createPropertiesInObj(t,n[e]);var o=r.parentClasses[e];o&&r.createPropertiesCore(t,o)},r.createPropertiesInObj=function(t,e){for(var n=0;n<e.length;n++)r.createPropertyInObj(t,e[n])},r.createPropertyInObj=function(t,e){if(!(r.checkIsPropertyExists(t,e.name)||e.serializationProperty&&r.checkIsPropertyExists(t,e.serializationProperty))){if(e.isLocalizable&&e.serializationProperty&&t.createCustomLocalizableObj){t.createCustomLocalizableObj(e.name).defaultValue=e.defaultValue;var o={get:function(){return t.getLocalizableString(e.name)}};Object.defineProperty(t,e.serializationProperty,o);var s={get:function(){return t.getLocalizableStringText(e.name)},set:function(h){t.setLocalizableStringText(e.name,h)}};Object.defineProperty(t,e.name,s)}else{var u=e.defaultValue,p=e.isArray||"multiplevalues"===e.type;"function"==typeof t.createNewArray&&(M.isDescendantOf(e.className,"itemvalue")?(t.createNewArray(e.name,function(h){h.locOwner=t,h.ownerPropertyName=e.name}),p=!0):p&&t.createNewArray(e.name),p&&(Array.isArray(u)&&t.setPropertyValue(e.name,u),u=null)),t.getPropertyValue&&t.setPropertyValue&&(s={get:function(){return e.onGetValue?e.onGetValue(t):t.getPropertyValue(e.name,u)},set:function(m){e.onSetValue?e.onSetValue(t,m,null):t.setPropertyValue(e.name,m)}},Object.defineProperty(t,e.name,s))}("condition"===e.type||"expression"===e.type)&&e.onExecuteExpression&&t.addExpressionProperty(e.name,e.onExecuteExpression)}},r.checkIsPropertyExists=function(t,e){return t.hasOwnProperty(e)||t[e]},r.properties={},r.parentClasses={},r}(),kl=function(){function r(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=null),this.name=t,this.creator=n,this.parentName=o,t=t.toLowerCase(),this.isCustomValue=!n&&"survey"!==t,this.parentName&&(this.parentName=this.parentName.toLowerCase(),lt.addClass(t,this.parentName),n&&this.makeParentRegularClass()),this.properties=new Array;for(var s=0;s<e.length;s++)this.createProperty(e[s],this.isCustom)}return r.prototype.find=function(t){for(var e=0;e<this.properties.length;e++)if(this.properties[e].name==t)return this.properties[e];return null},r.prototype.findProperty=function(t){return this.fillAllProperties(),this.hashProperties[t]},r.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},r.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var t=this.getAllProperties(),e=0;e<t.length;e++)t[e].isRequired&&this.requiredProperties.push(t[e]);return this.requiredProperties},r.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var t=M.getChildrenClasses(this.name),e=0;e<t.length;e++)t[e].resetAllProperties()},Object.defineProperty(r.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),r.prototype.fillAllProperties=function(){var t=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var e={};this.properties.forEach(function(s){return e[s.name]=s});var n=this.parentName?M.findClass(this.parentName):null;n&&n.getAllProperties().forEach(function(s){var u=e[s.name];u?(u.mergeWith(s),t.addPropCore(u)):t.addPropCore(s)}),this.properties.forEach(function(s){t.hashProperties[s.name]||t.addPropCore(s)})}},r.prototype.addPropCore=function(t){this.allProperties.push(t),this.hashProperties[t.name]=t,t.alternativeName&&(this.hashProperties[t.alternativeName]=t)},r.prototype.isOverridedProp=function(t){return!!this.parentName&&!!M.findProperty(this.parentName,t)},r.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var t=0;t<this.properties.length;t++)this.properties[t].isCustom=!1;lt.removeAllProperties(this.name),this.makeParentRegularClass()}},r.prototype.makeParentRegularClass=function(){if(this.parentName){var t=M.findClass(this.parentName);t&&t.hasRegularChildClass()}},r.prototype.createProperty=function(t,e){void 0===e&&(e=!1);var n="string"==typeof t?t:t.name;if(n){var o=null,s=n.indexOf(r.typeSymbol);s>-1&&(o=n.substring(s+1),n=n.substring(0,s));var u=this.getIsPropertyNameRequired(n)||!!t.isRequired;n=this.getPropertyName(n);var p=new $n(this,n,u);return o&&(p.type=o),"object"==typeof t&&(t.type&&(p.type=t.type),void 0!==t.default&&(p.defaultValue=t.default),void 0!==t.defaultFunc&&(p.defaultValueFunc=t.defaultFunc),R.isValueEmpty(t.isSerializable)||(p.isSerializable=t.isSerializable),R.isValueEmpty(t.isLightSerializable)||(p.isLightSerializable=t.isLightSerializable),R.isValueEmpty(t.maxLength)||(p.maxLength=t.maxLength),void 0!==t.displayName&&(p.displayName=t.displayName),R.isValueEmpty(t.category)||(p.category=t.category),R.isValueEmpty(t.categoryIndex)||(p.categoryIndex=t.categoryIndex),R.isValueEmpty(t.nextToProperty)||(p.nextToProperty=t.nextToProperty),R.isValueEmpty(t.overridingProperty)||(p.overridingProperty=t.overridingProperty),R.isValueEmpty(t.visibleIndex)||(p.visibleIndex=t.visibleIndex),R.isValueEmpty(t.showMode)||(p.showMode=t.showMode),R.isValueEmpty(t.maxValue)||(p.maxValue=t.maxValue),R.isValueEmpty(t.minValue)||(p.minValue=t.minValue),R.isValueEmpty(t.dataList)||(p.dataList=t.dataList),R.isValueEmpty(t.isDynamicChoices)||(p.isDynamicChoices=t.isDynamicChoices),R.isValueEmpty(t.isBindable)||(p.isBindable=t.isBindable),R.isValueEmpty(t.isUnique)||(p.isUnique=t.isUnique),R.isValueEmpty(t.uniqueProperty)||(p.uniquePropertyName=t.uniqueProperty),R.isValueEmpty(t.isArray)||(p.isArray=t.isArray),(!0===t.visible||!1===t.visible)&&(p.visible=t.visible),t.visibleIf&&(p.visibleIf=t.visibleIf),t.enableIf&&(p.enableIf=t.enableIf),t.onExecuteExpression&&(p.onExecuteExpression=t.onExecuteExpression),t.onPropertyEditorUpdate&&(p.onPropertyEditorUpdate=t.onPropertyEditorUpdate),!0===t.readOnly&&(p.readOnly=!0),t.choices&&p.setChoices("function"!=typeof t.choices?t.choices:null,"function"==typeof t.choices?t.choices:null),t.baseValue&&p.setBaseValue(t.baseValue),t.onSerializeValue&&(p.onSerializeValue=t.onSerializeValue),t.onGetValue&&(p.onGetValue=t.onGetValue),t.onSetValue&&(p.onSetValue=t.onSetValue),t.onSettingValue&&(p.onSettingValue=t.onSettingValue),t.isLocalizable&&(t.serializationProperty="loc"+p.name),t.serializationProperty&&(p.serializationProperty=t.serializationProperty,p.serializationProperty&&0==p.serializationProperty.indexOf("loc")&&(p.isLocalizable=!0)),t.isLocalizable&&(p.isLocalizable=t.isLocalizable),t.className&&(p.className=t.className),t.baseClassName&&(p.baseClassName=t.baseClassName,p.isArray=!0),!0===p.isArray&&(p.isArray=!0),t.classNamePart&&(p.classNamePart=t.classNamePart),t.alternativeName&&(p.alternativeName=t.alternativeName),t.oldName&&(p.oldName=t.oldName),t.layout&&(p.layout=t.layout),t.version&&(p.version=t.version),t.dependsOn&&this.addDependsOnProperties(p,t.dependsOn)),this.properties.push(p),e&&!this.isOverridedProp(p.name)&&(p.isCustom=!0,lt.addProperty(this.name,p)),p}},r.prototype.addDependsOnProperties=function(t,e){var n=Array.isArray(e)?e:[e];t.dependsOn=n;for(var o=0;o<n.length;o++)this.addDependsOnProperty(t,n[o])},r.prototype.addDependsOnProperty=function(t,e){var n=this.find(e);n||(n=M.findProperty(this.parentName,e)),n&&n.addDependedProperty(t.name)},r.prototype.getIsPropertyNameRequired=function(t){return t.length>0&&t[0]==r.requiredSymbol},r.prototype.getPropertyName=function(t){return this.getIsPropertyNameRequired(t)&&(t=t.slice(1)),t},r.requiredSymbol="!",r.typeSymbol=":",r}(),Tr=function(){function r(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return r.prototype.getObjPropertyValue=function(t,e){if(this.isObjWrapper(t)&&this.isNeedUseObjWrapper(t,e)){var n=t.getOriginalObj(),o=M.findProperty(n.getType(),e);if(o)return this.getObjPropertyValueCore(n,o)}var s=M.findProperty(t.getType(),e);return s?this.getObjPropertyValueCore(t,s):t[e]},r.prototype.setObjPropertyValue=function(t,e,n){if(t[e]!==n)if(t[e]&&t[e].setJson)t[e].setJson(n);else{if(Array.isArray(n)){for(var o=[],s=0;s<n.length;s++)o.push(n[s]);n=o}t[e]=n}},r.prototype.getObjPropertyValueCore=function(t,e){if(!e.isSerializable)return t[e.name];if(e.isLocalizable){if(e.isArray)return t[e.name];if(e.serializationProperty)return t[e.serializationProperty].text}return t.getPropertyValue(e.name)},r.prototype.isObjWrapper=function(t){return!!t.getOriginalObj&&!!t.getOriginalObj()},r.prototype.isNeedUseObjWrapper=function(t,e){if(!t.getDynamicProperties)return!0;var n=t.getDynamicProperties();if(!Array.isArray(n))return!1;for(var o=0;o<n.length;o++)if(n[o].name===e)return!0;return!1},r.prototype.addClass=function(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=null),t=t.toLowerCase();var s=new kl(t,e,n,o);return this.classes[t]=s,o&&(o=o.toLowerCase(),this.childrenClasses[o]||(this.childrenClasses[o]=[]),this.childrenClasses[o].push(s)),s},r.prototype.removeClass=function(t){var e=this.findClass(t);if(e&&(delete this.classes[e.name],e.parentName)){var n=this.childrenClasses[e.parentName].indexOf(e);n>-1&&this.childrenClasses[e.parentName].splice(n,1)}},r.prototype.overrideClassCreatore=function(t,e){this.overrideClassCreator(t,e)},r.prototype.overrideClassCreator=function(t,e){t=t.toLowerCase();var n=this.findClass(t);n&&(n.creator=e)},r.prototype.getProperties=function(t){var e=this.findClass(t);return e?e.getAllProperties():[]},r.prototype.getPropertiesByObj=function(t){var e=t&&t.getType?t.getType():void 0;if(!e)return[];for(var n=this.getProperties(e),o=this.getDynamicPropertiesByObj(t),s=o.length-1;s>=0;s--)this.findProperty(e,o[s].name)&&o.splice(s,1);return 0===o.length?n:[].concat(n).concat(o)},r.prototype.addDynamicPropertiesIntoObj=function(t,e,n){var o=this;n.forEach(function(s){o.addDynamicPropertyIntoObj(t,e,s.name,!1),s.serializationProperty&&o.addDynamicPropertyIntoObj(t,e,s.serializationProperty,!0),s.alternativeName&&o.addDynamicPropertyIntoObj(t,e,s.alternativeName,!1)})},r.prototype.addDynamicPropertyIntoObj=function(t,e,n,o){var s={configurable:!0,get:function(){return e[n]}};o||(s.set=function(u){e[n]=u}),Object.defineProperty(t,n,s)},r.prototype.getDynamicPropertiesByObj=function(t,e){if(void 0===e&&(e=null),!t||!t.getType)return[];if(t.getDynamicProperties)return t.getDynamicProperties();if(!t.getDynamicType&&!e)return[];var n=e||t.getDynamicType();return this.getDynamicPropertiesByTypes(t.getType(),n)},r.prototype.getDynamicPropertiesByTypes=function(t,e,n){if(!e)return[];var o=e+"-"+t;if(this.dynamicPropsCache[o])return this.dynamicPropsCache[o];var s=this.getProperties(e);if(!s||0==s.length)return[];for(var u={},p=this.getProperties(t),h=0;h<p.length;h++)u[p[h].name]=p[h];var m=[];n||(n=[]);for(var x=0;x<s.length;x++){var T=s[x];n.indexOf(T.name)<0&&this.canAddDybamicProp(T,u[T.name])&&m.push(T)}return this.dynamicPropsCache[o]=m,m},r.prototype.canAddDybamicProp=function(t,e){if(!e)return!0;if(t===e)return!1;for(var n=t.classInfo;n&&n.parentName;){if((t=this.findProperty(n.parentName,t.name))&&t===e)return!0;n=t?t.classInfo:void 0}return!1},r.prototype.hasOriginalProperty=function(t,e){return!!this.getOriginalProperty(t,e)},r.prototype.getOriginalProperty=function(t,e){return this.findProperty(t.getType(),e)||(this.isObjWrapper(t)?this.findProperty(t.getOriginalObj().getType(),e):null)},r.prototype.getProperty=function(t,e){var n=this.findProperty(t,e);if(!n)return n;var o=this.findClass(t);if(n.classInfo===o)return n;var s=new $n(o,n.name,n.isRequired);return s.mergeWith(n),s.isArray=n.isArray,o.properties.push(s),o.resetAllProperties(),s},r.prototype.findProperty=function(t,e){var n=this.findClass(t);return n?n.findProperty(e):null},r.prototype.findProperties=function(t,e){var n=new Array,o=this.findClass(t);if(!o)return n;for(var s=0;s<e.length;s++){var u=o.findProperty(e[s]);u&&n.push(u)}return n},r.prototype.getAllPropertiesByName=function(t){for(var e=new Array,n=this.getAllClasses(),o=0;o<n.length;o++)for(var s=this.findClass(n[o]),u=0;u<s.properties.length;u++)if(s.properties[u].name==t){e.push(s.properties[u]);break}return e},r.prototype.getAllClasses=function(){var t=new Array;for(var e in this.classes)t.push(e);return t},r.prototype.createClass=function(t,e){void 0===e&&(e=void 0),t=t.toLowerCase();var n=this.findClass(t);if(!n)return null;if(n.creator)return n.creator(e);for(var o=n.parentName;o;){if(!(n=this.findClass(o)))return null;if(o=n.parentName,n.creator)return this.createCustomType(t,n.creator,e)}return null},r.prototype.createCustomType=function(t,e,n){void 0===n&&(n=void 0),t=t.toLowerCase();var o=e(n),s=t,u=o.getTemplate?o.getTemplate():o.getType();return o.getType=function(){return s},o.getTemplate=function(){return u},lt.createProperties(o),o},r.prototype.getChildrenClasses=function(t,e){void 0===e&&(e=!1),t=t.toLowerCase();var n=[];return this.fillChildrenClasses(t,e,n),n},r.prototype.getRequiredProperties=function(t){var e=this.findClass(t);if(!e)return[];for(var n=e.getRequiredProperties(),o=[],s=0;s<n.length;s++)o.push(n[s].name);return o},r.prototype.addProperties=function(t,e){t=t.toLowerCase();for(var n=this.findClass(t),o=0;o<e.length;o++)this.addCustomPropertyCore(n,e[o])},r.prototype.addProperty=function(t,e){return this.addCustomPropertyCore(this.findClass(t),e)},r.prototype.addCustomPropertyCore=function(t,e){if(!t)return null;var n=t.createProperty(e,!0);return n&&(this.clearDynamicPropsCache(t),t.resetAllProperties()),n},r.prototype.removeProperty=function(t,e){var n=this.findClass(t);if(!n)return!1;var o=n.find(e);o&&(this.clearDynamicPropsCache(n),this.removePropertyFromClass(n,o),n.resetAllProperties(),lt.removeProperty(n.name,e))},r.prototype.clearDynamicPropsCache=function(t){this.dynamicPropsCache={}},r.prototype.removePropertyFromClass=function(t,e){var n=t.properties.indexOf(e);n<0||t.properties.splice(n,1)},r.prototype.fillChildrenClasses=function(t,e,n){var o=this.childrenClasses[t];if(o)for(var s=0;s<o.length;s++)(!e||o[s].creator)&&n.push(o[s]),this.fillChildrenClasses(o[s].name,e,n)},r.prototype.findClass=function(t){t=t.toLowerCase();var e=this.classes[t];if(!e){var n=this.alternativeNames[t];if(n&&n!=t)return this.findClass(n)}return e},r.prototype.isDescendantOf=function(t,e){if(!t||!e)return!1;t=t.toLowerCase(),e=e.toLowerCase();var n=this.findClass(t);if(!n)return!1;var o=n;do{if(o.name===e)return!0;o=this.classes[o.parentName]}while(o);return!1},r.prototype.addAlterNativeClassName=function(t,e){this.alternativeNames[e.toLowerCase()]=t.toLowerCase()},r.prototype.generateSchema=function(t){void 0===t&&(t=void 0),t||(t="survey");var e=this.findClass(t);if(!e)return null;var n={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(e,n,n.definitions,!0),n},r.prototype.generateLocStrClass=function(){var t={},e=M.findProperty("survey","locale");if(e){var n=e.getChoices(null);Array.isArray(n)&&(n.indexOf("en")<0&&n.splice(0,0,"en"),n.splice(0,0,"default"),n.forEach(function(o){o&&(t[o]={type:"string"})}))}return{$id:"locstring",type:"object",properties:t}},r.prototype.generateSchemaProperties=function(t,e,n,o){if(t){var s=e.properties,u=[];("question"===t.name||"panel"===t.name)&&(s.type={type:"string"},u.push("type"));for(var p=0;p<t.properties.length;p++){var h=t.properties[p];t.parentName&&M.findProperty(t.parentName,h.name)||(s[h.name]=this.generateSchemaProperty(h,n,o),h.isRequired&&u.push(h.name))}u.length>0&&(e.required=u)}},r.prototype.generateSchemaProperty=function(t,e,n){if(t.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",n)}]};var o=t.schemaType(),s=t.schemaRef(),u={};if(o&&(u.type=o),t.hasChoices){var p=t.getChoices(null);Array.isArray(p)&&p.length>0&&(u.enum=this.getChoicesValues(p))}if(s&&("array"===o?u.items="string"===t.className?{type:t.className}:{$ref:this.getChemeRefName(t.className,n)}:u.$ref=this.getChemeRefName(s,n),this.generateChemaClass(t.className,e,!1)),t.baseClassName){var h=this.getChildrenClasses(t.baseClassName,!0);"question"==t.baseClassName&&h.push(this.findClass("panel")),u.items={anyOf:[]};for(var m=0;m<h.length;m++){var x=h[m].name;u.items.anyOf.push({$ref:this.getChemeRefName(x,n)}),this.generateChemaClass(x,e,!1)}}return u},r.prototype.getChemeRefName=function(t,e){return e?"#/definitions/"+t:t},r.prototype.generateChemaClass=function(t,e,n){if(!e[t]){var o=this.findClass(t);if(o){var s=!!o.parentName&&"base"!=o.parentName;s&&this.generateChemaClass(o.parentName,e,n);var u={type:"object",$id:t};e[t]=u;var p={properties:{}};this.generateSchemaProperties(o,p,e,n),s?u.allOf=[{$ref:this.getChemeRefName(o.parentName,n)},{properties:p.properties}]:u.properties=p.properties,Array.isArray(p.required)&&(u.required=p.required)}}},r.prototype.getChoicesValues=function(t){var e=new Array;return t.forEach(function(n){e.push("object"==typeof n&&void 0!==n.value?n.value:n)}),e},r}(),Zt=function(){function r(t,e){this.type=t,this.message=e,this.description="",this.at=-1,this.end=-1}return r.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},r}(),Ai=function(r){function t(e,n){var o=r.call(this,"unknownproperty","Unknown property in class '"+n+"': '"+e+"'.")||this;return o.propertyName=e,o.className=n,o}return ht(t,r),t}(Zt),en=function(r){function t(e,n,o){var s=r.call(this,n,o)||this;return s.baseClassName=e,s.type=n,s.message=o,s}return ht(t,r),t}(Zt),Li=function(r){function t(e,n){var o=r.call(this,n,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'.")||this;return o.propertyName=e,o.baseClassName=n,o}return ht(t,r),t}(en),Ir=function(r){function t(e,n){var o=r.call(this,n,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'.")||this;return o.propertyName=e,o.baseClassName=n,o}return ht(t,r),t}(en),Rr=function(r){function t(e,n){var o=r.call(this,"requiredproperty","The property '"+e+"' is required in class '"+n+"'.")||this;return o.propertyName=e,o.className=n,o}return ht(t,r),t}(Zt),Al=function(r){function t(e,n){var o=r.call(this,"arrayproperty","The property '"+e+"' should be an array in '"+n+"'.")||this;return o.propertyName=e,o.className=n,o}return ht(t,r),t}(Zt),Kf=function(r){function t(e,n){var o=r.call(this,"incorrectvalue","The property value: '"+n+"' is incorrect for property '"+e.name+"'.")||this;return o.property=e,o.value=n,o}return ht(t,r),t}(Zt),Oe=function(){function r(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(r,"metaData",{get:function(){return r.metaDataValue},enumerable:!1,configurable:!0}),r.prototype.toJsonObject=function(t,e){return this.toJsonObjectCore(t,null,e)},r.prototype.toObject=function(t,e,n){this.toObjectCore(t,e,n);var o=this.getRequiredError(e,t);o&&this.addNewError(o,t,e)},r.prototype.toObjectCore=function(t,e,n){if(t){var o=null,s=void 0,u=!0;if(e.getType&&(s=e.getType(),o=M.getProperties(s),u=!!s&&!M.isDescendantOf(s,"itemvalue")),o){e.startLoadingFromJson&&e.startLoadingFromJson(t),o=this.addDynamicProperties(e,t,o),this.options=n;var p={};p[r.typePropertyName]=!0;var h={};for(var m in t)this.setPropertyValueToObj(t,e,m,o,p,h,s,u,n);this.options=void 0,e.endLoadingFromJson&&e.endLoadingFromJson()}}},r.prototype.setPropertyValueToObj=function(t,e,n,o,s,u,p,h,m){var x=this;if(!s[n]){if(n===r.positionPropertyName)return void(e[n]=t[n]);var T=this.findProperty(o,n);if(!T&&h&&this.addNewError(new Ai(n.toString(),p),t,e),T){var D=T.dependsOn;Array.isArray(D)&&(u[n]=!0,D.forEach(function(B){u[B]||x.setPropertyValueToObj(t,e,B,o,s,u,p,h,m)})),this.valueToObj(t[n],e,T,t,m),s[n]=!0}}},r.prototype.toJsonObjectCore=function(t,e,n){if(!t||!t.getType)return t;if(!t.isSurvey&&"function"==typeof t.getData)return t.getData();var o={};null!=e&&!e.className&&(o[r.typePropertyName]=e.getObjType(t.getType()));var s=!0===n;return(!n||!0===n)&&(n={}),s&&(n.storeDefaults=s),this.propertiesToJson(t,M.getProperties(t.getType()),o,n),this.propertiesToJson(t,this.getDynamicProperties(t),o,n),o},r.prototype.getDynamicProperties=function(t){return M.getDynamicPropertiesByObj(t)},r.prototype.addDynamicProperties=function(t,e,n){if(!t.getDynamicPropertyName&&!t.getDynamicProperties)return n;if(t.getDynamicPropertyName){var o=t.getDynamicPropertyName();if(!o)return n;o&&e[o]&&(t[o]=e[o])}var s=this.getDynamicProperties(t);return 0===s.length?n:[].concat(n).concat(s)},r.prototype.propertiesToJson=function(t,e,n,o){for(var s=0;s<e.length;s++)this.valueToJson(t,n,e[s],o)},r.prototype.valueToJson=function(t,e,n,o){o||(o={}),!(!1===n.isSerializable||!1===n.isLightSerializable&&this.lightSerializing)&&(o.version&&!n.isAvailableInVersion(o.version)||this.valueToJsonCore(t,e,n,o))},r.prototype.valueToJsonCore=function(t,e,n,o){var s=n.getSerializedProperty(t,o.version);if(s&&s!==n)this.valueToJsonCore(t,e,s,o);else{var u=n.getSerializableValue(t);if(o.storeDefaults||!n.isDefaultValueByObj(t,u)){if(this.isValueArray(u)){for(var p=[],h=0;h<u.length;h++)p.push(this.toJsonObjectCore(u[h],n,o));u=p.length>0?p:null}else u=this.toJsonObjectCore(u,n,o);if(null!=u){var m=n.getSerializedName(o.version),x="function"==typeof t.getPropertyValue&&null!==t.getPropertyValue(m,null);(o.storeDefaults&&x||!n.isDefaultValueByObj(t,u))&&(!M.onSerializingProperty||!M.onSerializingProperty(t,n,u,e))&&(e[m]=this.removePosOnValueToJson(n,u))}}}},r.prototype.valueToObj=function(t,e,n,o,s){if(null!=t){if(this.removePos(n,t),null!=n&&n.hasToUseSetValue)return void n.setValue(e,t,this);if(n.isArray&&!Array.isArray(t)&&t&&(t=[t],this.addNewError(new Al(o&&n.alternativeName&&o[n.alternativeName]?n.alternativeName:n.name,e.getType()),o||t,e)),this.isValueArray(t))return void this.valueToArray(t,e,n.name,n,s);var p=this.createNewObj(t,n);p.newObj&&(this.toObjectCore(t,p.newObj,s),t=p.newObj),p.error||(null!=n?(n.setValue(e,t,this),s&&s.validatePropertyValues&&(n.validateValue(t)||this.addNewError(new Kf(n,t),o,e))):e[n.name]=t)}},r.prototype.removePosOnValueToJson=function(t,e){return!t.isCustom||!e||this.removePosFromObj(e),e},r.prototype.removePos=function(t,e){!t||!t.type||t.type.indexOf("value")<0||this.removePosFromObj(e)},r.prototype.removePosFromObj=function(t){if(t&&"function"!=typeof t.getType){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.removePosFromObj(t[e]);if("object"==typeof t)for(var n in t[r.positionPropertyName]&&delete t[r.positionPropertyName],t)this.removePosFromObj(t[n])}},r.prototype.isValueArray=function(t){return t&&Array.isArray(t)},r.prototype.createNewObj=function(t,e){var n={newObj:null,error:null},o=this.getClassNameForNewObj(t,e);return n.newObj=o?M.createClass(o,t):null,n.error=this.checkNewObjectOnErrors(n.newObj,t,e,o),n},r.prototype.getClassNameForNewObj=function(t,e){var n=null!=e&&e.className?e.className:void 0;if(n||(n=t[r.typePropertyName]),!n)return n;n=n.toLowerCase();var o=e.classNamePart;return o&&n.indexOf(o)<0&&(n+=o),n},r.prototype.checkNewObjectOnErrors=function(t,e,n,o){var s=null;return t?s=this.getRequiredError(t,e):n.baseClassName&&(s=o?new Ir(n.name,n.baseClassName):new Li(n.name,n.baseClassName)),s&&this.addNewError(s,e,t),s},r.prototype.getRequiredError=function(t,e){if(!t.getType||"function"==typeof t.getData)return null;var n=M.findClass(t.getType());if(!n)return null;var o=n.getRequiredProperties();if(!Array.isArray(o))return null;for(var s=0;s<o.length;s++){var u=o[s];if(R.isValueEmpty(u.defaultValue)&&!e[u.name])return new Rr(u.name,t.getType())}return null},r.prototype.addNewError=function(t,e,n){if(t.jsonObj=e,t.element=n,this.errors.push(t),e){var o=e[r.positionPropertyName];o&&(t.at=o.start,t.end=o.end)}},r.prototype.valueToArray=function(t,e,n,o,s){if(!e[n]||this.isValueArray(e[n])){e[n]&&t.length>0&&e[n].splice(0,e[n].length);var u=e[n]?e[n]:[];this.addValuesIntoArray(t,u,o,s),e[n]||(e[n]=u)}},r.prototype.addValuesIntoArray=function(t,e,n,o){for(var s=0;s<t.length;s++){var u=this.createNewObj(t[s],n);u.newObj?(t[s].name&&(u.newObj.name=t[s].name),t[s].valueName&&(u.newObj.valueName=t[s].valueName.toString()),e.push(u.newObj),this.toObjectCore(t[s],u.newObj,o)):u.error||e.push(t[s])}},r.prototype.findProperty=function(t,e){if(!t)return null;for(var n=0;n<t.length;n++){var o=t[n];if(o.name==e||o.alternativeName==e)return o}return null},r.typePropertyName="type",r.positionPropertyName="pos",r.metaDataValue=new Tr,r}(),M=Oe.metaData,Sr="@survey",He=function(){function r(){this.values=null,this.properties=null}return r.prototype.getFirstName=function(t,e){if(void 0===e&&(e=null),!t)return t;var n="";if(e&&(n=this.getFirstPropertyName(t,e)))return n;for(var o=0;o<t.length;o++){var s=t[o];if("."==s||"["==s)break;n+=s}return n},r.prototype.hasValue=function(t,e){return void 0===e&&(e=null),e||(e=this.values),this.getValueCore(t,e).hasValue},r.prototype.getValue=function(t,e){return void 0===e&&(e=null),e||(e=this.values),this.getValueCore(t,e).value},r.prototype.setValue=function(t,e,n){if(e){var o=this.getNonNestedObject(t,e,!0);o&&(e=o.text,(t=o.value)&&e&&(t[e]=n))}},r.prototype.getValueInfo=function(t){if(t.path)return t.value=this.getValueFromPath(t.path,this.values),t.hasValue=null!==t.value&&!R.isValueEmpty(t.value),void(!t.hasValue&&t.path.length>1&&"length"==t.path[t.path.length-1]&&(t.hasValue=!0,t.value=0));var e=this.getValueCore(t.name,this.values);t.value=e.value,t.hasValue=e.hasValue,t.path=e.hasValue?e.path:null,t.sctrictCompare=e.sctrictCompare},r.prototype.isAnyKeyChanged=function(t,e){for(var n=0;n<e.length;n++){var o=e[n];if(o){var s=o.toLowerCase();if(t.hasOwnProperty(o)||o!==s&&t.hasOwnProperty(s))return!0;var u=this.getFirstName(o);if(t.hasOwnProperty(u)){if(o===u)return!0;var p=t[u];if(null!=p){if(!p.hasOwnProperty("oldValue")||!p.hasOwnProperty("newValue"))return!0;var h={};h[u]=p.oldValue;var m=this.getValue(o,h);h[u]=p.newValue;var x=this.getValue(o,h);if(!R.isTwoValueEquals(m,x,!1,!1,!1))return!0}}}}return!1},r.prototype.getValueFromPath=function(t,e){if(2===t.length&&t[0]===Sr)return this.getValueFromSurvey(t[1]);for(var n=0;e&&n<t.length;){var o=t[n];if(R.isNumber(o)&&Array.isArray(e)&&o>=e.length)return null;e=e[o],n++}return e},r.prototype.getValueCore=function(t,e){var n=this.getQuestionDirectly(t);if(n)return{hasValue:!0,value:n.value,path:[t],sctrictCompare:n.requireStrictCompare};var o=this.getValueFromValues(t,e);if(t&&!o.hasValue){var s=this.getValueFromSurvey(t);void 0!==s&&(o.hasValue=!0,o.value=s,o.path=[Sr,t])}return o},r.prototype.getQuestionDirectly=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(t)},r.prototype.getValueFromSurvey=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(t.toLocaleLowerCase())},r.prototype.getValueFromValues=function(t,e){var n={hasValue:!1,value:null,path:null},o=e;if(!o&&0!==o&&!1!==o)return n;t&&t.lastIndexOf(".length")>-1&&t.lastIndexOf(".length")===t.length-7&&(n.value=0,n.hasValue=!0);var s=this.getNonNestedObject(o,t,!1);return s&&(n.path=s.path,n.value=s.text?this.getObjectValue(s.value,s.text):s.value,n.hasValue=!R.isValueEmpty(n.value)),n},r.prototype.getNonNestedObject=function(t,e,n){for(var o=new Array,s=0,u=this.getNonNestedObjectCore(t,e,n,o);!u&&s<o.length;)s=o.length,u=this.getNonNestedObjectCore(t,e,n,o);return u},r.prototype.getNonNestedObjectCore=function(t,e,n,o){var s=this.getFirstPropertyName(e,t,n,o);s&&o.push(s);for(var u=s?[s]:null;e!=s&&t;){if("["==e[0]){var h=this.getObjInArray(t,e);if(!h)return null;t=h.value,e=h.text,u.push(h.index)}else{if(!s&&e==this.getFirstName(e))return{value:t,text:e,path:u};if(t=this.getObjectValue(t,s),R.isValueEmpty(t)&&!n)return null;e=e.substring(s.length)}e&&"."==e[0]&&(e=e.substring(1)),(s=this.getFirstPropertyName(e,t,n,o))&&u.push(s)}return{value:t,text:e,path:u}},r.prototype.getObjInArray=function(t,e){if(!Array.isArray(t))return null;for(var n=1,o="";n<e.length&&"]"!=e[n];)o+=e[n],n++;return e=n<e.length?e.substring(n+1):"",(n=this.getIntValue(o))<0||n>=t.length?null:{value:t[n],text:e,index:n}},r.prototype.getFirstPropertyName=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=void 0),!t||(e||(e={}),e.hasOwnProperty(t)))return t;var s=t.toLowerCase(),u=s[0],p=u.toUpperCase();for(var h in e)if(!(Array.isArray(o)&&o.indexOf(h)>-1)){var m=h[0];if(m===p||m===u){var x=h.toLowerCase();if(x==s)return h;if(s.length<=x.length)continue;var T=s[x.length];if("."!=T&&"["!=T)continue;if(x==s.substring(0,x.length))return h}}if(n&&"["!==t[0]){var D=t.indexOf(".");return D>-1&&(e[t=t.substring(0,D)]={}),t}return""},r.prototype.getObjectValue=function(t,e){return e?t[e]:null},r.prototype.getIntValue=function(t){return"0"==t||(0|t)>0&&t%1==0?Number(t):-1},r}(),bt=function(){function r(){}return r.disposedObjectChangedProperty=function(t,e){r.warn('An attempt to set a property "'+t+'" of a disposed object "'+e+'"')},r.inCorrectQuestionValue=function(t,e){var n=JSON.stringify(e,null,3);r.warn("An attempt to assign an incorrect value"+n+' to the following question: "'+t+'"')},r.warn=function(t){console.warn(t)},r.error=function(t){console.error(t)},r}(),pe=function(){function r(){this.functionHash={},this.isAsyncHash={}}return r.prototype.register=function(t,e,n){void 0===n&&(n=!1),this.functionHash[t]=e,n&&(this.isAsyncHash[t]=!0)},r.prototype.unregister=function(t){delete this.functionHash[t],delete this.isAsyncHash[t]},r.prototype.hasFunction=function(t){return!!this.functionHash[t]},r.prototype.isAsyncFunction=function(t){return!!this.isAsyncHash[t]},r.prototype.clear=function(){this.functionHash={}},r.prototype.getAll=function(){var t=[];for(var e in this.functionHash)t.push(e);return t.sort()},r.prototype.run=function(t,e,n,o){void 0===n&&(n=null);var s=this.functionHash[t];if(!s)return bt.warn("Unknown function name: "+t),null;var u={func:s};if(n)for(var p in n)u[p]=n[p];return u.func(e,o)},r.Instance=new r,r}(),Ll=pe.Instance.register;function Cn(r,t){if(null!=r)if(Array.isArray(r))for(var e=0;e<r.length;e++)Cn(r[e],t);else R.isNumber(r)&&(r=R.getNumber(r)),t.push(r)}function Or(r){var t=[];Cn(r,t);for(var e=0,n=0;n<t.length;n++)e=R.correctAfterPlusMinis(e,t[n],e+t[n]);return e}function Er(r,t){var e=[];Cn(r,e);for(var n=void 0,o=0;o<e.length;o++)void 0===n&&(n=e[o]),t?n>e[o]&&(n=e[o]):n<e[o]&&(n=e[o]);return n}function Dr(r,t,e,n,o,s){return!r||R.isValueEmpty(r[t])||s&&!s.run(r)?e:n(e,o?function Hl(r){return"string"==typeof r?R.isNumber(r)?R.getNumber(r):void 0:r}(r[t]):1)}function zn(r,t,e,n){void 0===n&&(n=!0);var o=function ql(r,t){if(r.length<2||r.length>3)return null;var e=r[0];if(!e||!Array.isArray(e)&&!Array.isArray(Object.keys(e)))return null;var n=r[1];if("string"!=typeof n&&!(n instanceof String))return null;var o=r.length>2?r[2]:void 0;if("string"!=typeof o&&!(o instanceof String)&&(o=void 0),!o){var s=Array.isArray(t)&&t.length>2?t[2]:void 0;s&&s.toString()&&(o=s.toString())}return{data:e,name:n,expression:o}}(r,t);if(o){var s=o.expression?new Xe(o.expression):void 0;s&&s.isAsync&&(s=void 0);var u=void 0;if(Array.isArray(o.data))for(var p=0;p<o.data.length;p++)u=Dr(o.data[p],o.name,u,e,n,s);else for(var h in o.data)u=Dr(o.data[h],o.name,u,e,n,s);return u}}function Mr(r,t){var e=zn(r,t,function(n,o){return null==n&&(n=0),null==o||null==o?n:R.correctAfterPlusMinis(n,o,n+o)});return void 0!==e?e:0}function Ar(r,t){var e=zn(r,t,function(n,o){return null==n&&(n=0),null==o||null==o?n:n+1},!1);return void 0!==e?e:0}function Fr(r,t,e){if("days"===e)return Br([r,t]);var n=r?new Date(r):new Date,o=t?new Date(t):new Date;e=e||"years";var u=12*(o.getFullYear()-n.getFullYear())+o.getMonth()-n.getMonth();return o.getDate()<n.getDate()&&(u-=1),"months"===e?u:~~(u/12)}function ji(r){if(!r)return!1;for(var t=r.questions,e=0;e<t.length;e++)if(!t[e].validate(!1))return!1;return!0}function zl(r){var t=new Date;return I.localization.useLocalTimeZone?t.setHours(0,0,0,0):t.setUTCHours(0,0,0,0),Array.isArray(r)&&1==r.length&&t.setDate(t.getDate()+r[0]),t}function Br(r){if(!Array.isArray(r)||2!==r.length||!r[0]||!r[1])return 0;var t=new Date(r[0]),e=new Date(r[1]),n=Math.abs(e-t);return Math.ceil(n/864e5)}function Bi(r){var t=zl(void 0);return r&&r[0]&&(t=new Date(r[0])),t}function Nr(r,t){if(r&&t){for(var e=r.question;e&&e.parent;){if(n=e.parent.getQuestionByName(t))return n;e=e.parentQuestion}for(var o=["row","panel","survey"],s=0;s<o.length;s++){var n,u=r[o[s]];if(u&&u.getQuestionByName&&(n=u.getQuestionByName(t)))return n}return null}}function qr(r,t){return t.length>1&&!R.isValueEmpty(t[1])?r.getDisplayValue(!0,t[1]):r.displayValue}pe.Instance.register("sum",Or),pe.Instance.register("min",function Fl(r){return Er(r,!0)}),pe.Instance.register("max",function jl(r){return Er(r,!1)}),pe.Instance.register("count",function Bl(r){var t=[];return Cn(r,t),t.length}),pe.Instance.register("avg",function Nl(r){var t=[];Cn(r,t);var e=Or(r);return t.length>0?e/t.length:0}),pe.Instance.register("sumInArray",Mr),pe.Instance.register("minInArray",function kr(r,t){return zn(r,t,function(e,n){return null==e?n:null==n||null==n||e<n?e:n})}),pe.Instance.register("maxInArray",function Ql(r,t){return zn(r,t,function(e,n){return null==e?n:null==n||null==n||e>n?e:n})}),pe.Instance.register("countInArray",Ar),pe.Instance.register("avgInArray",function Zf(r,t){var e=Ar(r,t);return 0==e?0:Mr(r,t)/e}),pe.Instance.register("iif",function Lr(r){return r||3===r.length?r[0]?r[1]:r[2]:""}),pe.Instance.register("getDate",function Gl(r){return!r&&r.length<1||!r[0]?null:new Date(r[0])}),pe.Instance.register("age",function $l(r){return!Array.isArray(r)||r.length<1||!r[0]?null:Fr(r[0],void 0,(r.length>1?r[1]:"")||"years")}),pe.Instance.register("dateDiff",function Fi(r){return!Array.isArray(r)||r.length<2||!r[0]||!r[1]?null:Fr(r[0],r[1],(r.length>2?r[2]:"")||"days")}),pe.Instance.register("isContainerReady",function eh(r){if(!r&&r.length<1||!r[0]||!this.survey)return!1;var t=r[0],e=this.survey.getPageByName(t);if(e||(e=this.survey.getPanelByName(t)),!e){var n=this.survey.getQuestionByName(t);if(!n||!Array.isArray(n.panels))return!1;if(!(r.length>1)){for(var o=0;o<n.panels.length;o++)if(!ji(n.panels[o]))return!1;return!0}r[1]<n.panels.length&&(e=n.panels[r[1]])}return ji(e)}),pe.Instance.register("isDisplayMode",function th(){return this.survey&&this.survey.isDisplayMode}),pe.Instance.register("currentDate",function nh(){return new Date}),pe.Instance.register("today",zl),pe.Instance.register("getYear",function ih(r){if(1===r.length&&r[0])return new Date(r[0]).getFullYear()}),pe.Instance.register("currentYear",function jr(){return(new Date).getFullYear()}),pe.Instance.register("diffDays",Br),pe.Instance.register("year",function oh(r){return Bi(r).getFullYear()}),pe.Instance.register("month",function rh(r){return Bi(r).getMonth()+1}),pe.Instance.register("day",function Ul(r){return Bi(r).getDate()}),pe.Instance.register("weekday",function Wl(r){return Bi(r).getDay()}),pe.Instance.register("displayValue",function jt(r){var t=this,e=Nr(this,r[0]);if(!e)return"";if(e.isReady)this.returnResult(qr(e,r));else{var n=function(o,s){o.isReady&&(o.onReadyChanged.remove(n),t.returnResult(qr(o,r)))};e.onReadyChanged.add(n)}},!0),pe.Instance.register("propertyValue",function _n(r){if(2===r.length&&r[0]&&r[1]){var t=Nr(this,r[0]);return t?t[r[1]]:void 0}}),pe.Instance.register("substring",function Ni(r){if(r.length<2)return"";var t=r[0];if(!t||"string"!=typeof t)return"";var e=r[1];if(!R.isNumber(e))return"";var n=r.length>2?r[2]:void 0;return R.isNumber(n)?t.substring(e,n):t.substring(e)});var tn=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ct=function(){function r(){}return r.prototype.toString=function(t){return void 0===t&&(t=void 0),""},r.prototype.hasFunction=function(){return!1},r.prototype.hasAsyncFunction=function(){return!1},r.prototype.addToAsyncList=function(t){},r.prototype.isEqual=function(t){return!!t&&t.getType()===this.getType()&&this.isContentEqual(t)},r.prototype.areOperatorsEquals=function(t,e){return!t&&!e||!!t&&t.isEqual(e)},r}(),Be=function(r){function t(e,n,o,s){void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=!1);var u=r.call(this)||this;return u.operatorName=e,u.left=n,u.right=o,u.isArithmeticValue=s,u.consumer=s?Le.binaryFunctions.arithmeticOp(e):Le.binaryFunctions[e],null==u.consumer&&Le.throwInvalidOperatorError(e),u}return tn(t,r),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),t.prototype.getIsOperandRequireStrict=function(e){return!!e&&e.requireStrictCompare},t.prototype.getType=function(){return"binary"},Object.defineProperty(t.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),t.prototype.isContentEqual=function(e){var n=e;return n.operator===this.operator&&this.areOperatorsEquals(this.left,n.left)&&this.areOperatorsEquals(this.right,n.right)},t.prototype.evaluateParam=function(e,n){return null==e?null:e.evaluate(n)},t.prototype.evaluate=function(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return"("+Le.safeToString(this.left,e)+" "+Le.operatorToString(this.operatorName)+" "+Le.safeToString(this.right,e)+")"},t.prototype.setVariables=function(e){null!=this.left&&this.left.setVariables(e),null!=this.right&&this.right.setVariables(e)},t.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},t.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)},t}(Ct),qi=function(r){function t(e,n){var o=r.call(this)||this;return o.expressionValue=e,o.operatorName=n,o.consumer=Le.unaryFunctions[n],null==o.consumer&&Le.throwInvalidOperatorError(n),o}return tn(t,r),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"unary"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return Le.operatorToString(this.operatorName)+" "+this.expression.toString(e)},t.prototype.isContentEqual=function(e){return e.operator==this.operator&&this.areOperatorsEquals(this.expression,e.expression)},t.prototype.hasFunction=function(){return this.expression.hasFunction()},t.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.expression.addToAsyncList(e)},t.prototype.evaluate=function(e){var n=this.expression.evaluate(e);return this.consumer.call(this,n)},t.prototype.setVariables=function(e){this.expression.setVariables(e)},t}(Ct),Un=function(r){function t(e){var n=r.call(this)||this;return n.values=e,n}return tn(t,r),t.prototype.getType=function(){return"array"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return"["+this.values.map(function(o){return o.toString(e)}).join(", ")+"]"},t.prototype.evaluate=function(e){return this.values.map(function(n){return n.evaluate(e)})},t.prototype.setVariables=function(e){this.values.forEach(function(n){n.setVariables(e)})},t.prototype.hasFunction=function(){return this.values.some(function(e){return e.hasFunction()})},t.prototype.hasAsyncFunction=function(){return this.values.some(function(e){return e.hasAsyncFunction()})},t.prototype.addToAsyncList=function(e){this.values.forEach(function(n){return n.addToAsyncList(e)})},t.prototype.isContentEqual=function(e){var n=e;if(n.values.length!==this.values.length)return!1;for(var o=0;o<this.values.length;o++)if(!n.values[o].isEqual(this.values[o]))return!1;return!0},t}(Ct),nn=function(r){function t(e){var n=r.call(this)||this;return n.value=e,n}return tn(t,r),t.prototype.getType=function(){return"const"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return this.value.toString()},Object.defineProperty(t.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(){return this.getCorrectValue(this.value)},t.prototype.setVariables=function(e){},t.prototype.getCorrectValue=function(e){if(!e||"string"!=typeof e)return e;if(Le.isBooleanValue(e))return"true"===e.toLowerCase();if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(R.isNumber(e)){if("0"===e[0]&&0!=e.indexOf("0x")){var n=e.length,o=n>1&&("."===e[1]||","===e[1]);if(!o&&n>1||o&&n<2)return e}return R.getNumber(e)}return e},t.prototype.isContentEqual=function(e){return e.value==this.value},t.prototype.isQuote=function(e){return"'"==e||'"'==e},t}(Ct),ye=function(r){function t(e){var n=r.call(this,e)||this;return n.variableName=e,n.valueInfo={},n.useValueAsItIs=!1,n.variableName&&n.variableName.length>1&&n.variableName[0]===t.DisableConversionChar&&(n.variableName=n.variableName.substring(1),n.useValueAsItIs=!0),n}return tn(t,r),Object.defineProperty(t,"DisableConversionChar",{get:function(){return I.expressionDisableConversionChar},set:function(e){I.expressionDisableConversionChar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!0===this.valueInfo.sctrictCompare},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"variable"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return"{"+(this.useValueAsItIs?t.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(t.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},t.prototype.setVariables=function(e){e.push(this.variableName)},t.prototype.getCorrectValue=function(e){return this.useValueAsItIs?e:r.prototype.getCorrectValue.call(this,e)},t.prototype.isContentEqual=function(e){return e.variable==this.variable},t}(nn),se=function(r){function t(e,n){var o=r.call(this)||this;return o.originalValue=e,o.parameters=n,o.isReadyValue=!1,Array.isArray(n)&&0===n.length&&(o.parameters=new Un([])),o}return tn(t,r),t.prototype.getType=function(){return"function"},t.prototype.evaluateAsync=function(e){var n=this;this.isReadyValue=!1;var o=new He;o.values=R.createCopy(e.values),o.properties=R.createCopy(e.properties),o.properties.returnResult=function(s){n.asynResult=s,n.isReadyValue=!0,n.onAsyncReady()},this.evaluateCore(o)},t.prototype.evaluate=function(e){return this.isReady?this.asynResult:this.evaluateCore(e)},t.prototype.evaluateCore=function(e){return pe.Instance.run(this.originalValue,this.parameters.evaluate(e),e.properties,this.parameters.values)},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return this.originalValue+"("+this.parameters.toString(e)+")"},t.prototype.setVariables=function(e){this.parameters.setVariables(e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.hasFunction=function(){return!0},t.prototype.hasAsyncFunction=function(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()},t.prototype.isAsyncFunction=function(){return pe.Instance.isAsyncFunction(this.originalValue)},t.prototype.addToAsyncList=function(e){var n=void 0;if(this.isAsyncFunction()&&(n={operand:this}),this.parameters.hasAsyncFunction()){var o=new Array;this.parameters.addToAsyncList(o),o.forEach(function(s){return s.parent=n}),n||(n={}),n.children=o}n&&e.push(n)},t.prototype.isContentEqual=function(e){return e.originalValue==this.originalValue&&this.areOperatorsEquals(e.parameters,this.parameters)},t}(Ct),Le=function(){function r(){}return r.throwInvalidOperatorError=function(t){throw new Error("Invalid operator: '"+t+"'")},r.safeToString=function(t,e){return null==t?"":t.toString(e)},r.toOperandString=function(t){return t&&!R.isNumber(t)&&!r.isBooleanValue(t)&&(t="'"+t+"'"),t},r.isBooleanValue=function(t){return!!t&&("true"===t.toLowerCase()||"false"===t.toLowerCase())},r.countDecimals=function(t){if(R.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},r.plusMinus=function(t,e,n){var o=r.countDecimals(t),s=r.countDecimals(e);if(o>0||s>0){var u=Math.max(o,s);n=parseFloat(n.toFixed(u))}return n},r.isTwoValueEquals=function(t,e,n){return void 0===n&&(n=!0),"undefined"===t&&(t=void 0),"undefined"===e&&(e=void 0),R.isTwoValueEquals(t,e,n)},r.operatorToString=function(t){return r.signs[t]??t},r.convertValForDateCompare=function(t,e){if(e instanceof Date&&"string"==typeof t){var n=new Date(t);return n.setHours(0,0,0),n}return t},r.unaryFunctions={empty:function(t){return R.isValueEmpty(t)},notempty:function(t){return!r.unaryFunctions.empty(t)},negate:function(t){return!t}},r.binaryFunctions={arithmeticOp:function(t){var e=function(n,o){return R.isValueEmpty(n)?"number"==typeof o?0:"string"==typeof n?n:"string"==typeof o?"":Array.isArray(o)?[]:0:n};return function(n,o){n=e(n,o),o=e(o,n);var s=r.binaryFunctions[t];return null==s?null:s.call(this,n,o)}},and:function(t,e){return t&&e},or:function(t,e){return t||e},plus:function(t,e){return R.sumAnyValues(t,e)},minus:function(t,e){return R.correctAfterPlusMinis(t,e,t-e)},mul:function(t,e){return R.correctAfterMultiple(t,e,t*e)},div:function(t,e){return e?t/e:null},mod:function(t,e){return e?t%e:null},power:function(t,e){return Math.pow(t,e)},greater:function(t,e){return null!=t&&null!=e&&(t=r.convertValForDateCompare(t,e))>r.convertValForDateCompare(e,t)},less:function(t,e){return null!=t&&null!=e&&(t=r.convertValForDateCompare(t,e))<r.convertValForDateCompare(e,t)},greaterorequal:function(t,e){return!!r.binaryFunctions.equal(t,e)||r.binaryFunctions.greater(t,e)},lessorequal:function(t,e){return!!r.binaryFunctions.equal(t,e)||r.binaryFunctions.less(t,e)},equal:function(t,e,n){return t=r.convertValForDateCompare(t,e),e=r.convertValForDateCompare(e,t),r.isTwoValueEquals(t,e,!0!==n)},notequal:function(t,e,n){return!r.binaryFunctions.equal(t,e,n)},contains:function(t,e){return r.binaryFunctions.containsCore(t,e,!0)},notcontains:function(t,e){return!t&&!R.isValueEmpty(e)||r.binaryFunctions.containsCore(t,e,!1)},anyof:function(t,e){if(R.isValueEmpty(t)&&R.isValueEmpty(e))return!0;if(R.isValueEmpty(t)||!Array.isArray(t)&&0===t.length)return!1;if(R.isValueEmpty(e))return!0;if(!Array.isArray(t))return r.binaryFunctions.contains(e,t);if(!Array.isArray(e))return r.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(r.binaryFunctions.contains(t,e[n]))return!0;return!1},allof:function(t,e){if(!t&&!R.isValueEmpty(e))return!1;if(!Array.isArray(e))return r.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(!r.binaryFunctions.contains(t,e[n]))return!1;return!0},containsCore:function(t,e,n){if(!t&&0!==t&&!1!==t)return!1;if(t.length||(t=t.toString(),("string"==typeof e||e instanceof String)&&(t=t.toUpperCase(),e=e.toUpperCase())),"string"==typeof t||t instanceof String){if(!e)return!1;e=e.toString();var o=t.indexOf(e)>-1;return n?o:!o}for(var s=Array.isArray(e)?e:[e],u=0;u<s.length;u++){var p=0;for(e=s[u];p<t.length&&!r.isTwoValueEquals(t[p],e);p++);if(p==t.length)return!n}return n}},r.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},r}(),Hi=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wn=function(r){function t(e,n,o,s){var u=r.call(this)||this;return u.message=e,u.expected=n,u.found=o,u.location=s,u.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(u,t),u}return Hi(t,r),t.buildMessage=function(e,n){function o(x){return x.charCodeAt(0).toString(16).toUpperCase()}function s(x){return x.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+o(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+o(T)})}function u(x){return x.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(T){return"\\x0"+o(T)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(T){return"\\x"+o(T)})}function p(x){switch(x.type){case"literal":return'"'+s(x.text)+'"';case"class":var T=x.parts.map(function(D){return Array.isArray(D)?u(D[0])+"-"+u(D[1]):u(D)});return"["+(x.inverted?"^":"")+T+"]";case"any":return"any character";case"end":return"end of input";case"other":return x.description}}return"Expected "+function h(x){var D,B,T=x.map(p);if(T.sort(),T.length>0){for(D=1,B=1;D<T.length;D++)T[D-1]!==T[D]&&(T[B]=T[D],B++);T.length=B}switch(T.length){case 1:return T[0];case 2:return T[0]+" or "+T[1];default:return T.slice(0,-1).join(", ")+", or "+T[T.length-1]}}(e)+" but "+function m(x){return x?'"'+s(x)+'"':"end of input"}(n)+" found."},t}(Error);var Xl=function Yl(r,t){t=void 0!==t?t:{};var Qn,e={},n={Expression:Jt},o=Jt,s=function(g,b){return Dl(g,b,!0)},u="||",p=ee("||",!1),h="or",m=ee("or",!0),x=function(){return"or"},T="&&",D=ee("&&",!1),B="and",j=ee("and",!0),X=function(){return"and"},U=function(g,b){return Dl(g,b)},$="<=",Z=ee("<=",!1),Ce="lessorequal",et=ee("lessorequal",!0),rt=function(){return"lessorequal"},Lt=">=",lr=ee(">=",!1),qn="greaterorequal",Fp=ee("greaterorequal",!0),jp=function(){return"greaterorequal"},Ga="==",Bp=ee("==",!1),$a="equal",za=ee("equal",!0),Ua=function(){return"equal"},Np="=",qp=ee("=",!1),Wa="!=",Hp=ee("!=",!1),Qp="notequal",Gp=ee("notequal",!0),$p=function(){return"notequal"},zp="<",Up=ee("<",!1),Wp="less",Yp=ee("less",!0),Xp=function(){return"less"},Jp=">",Kp=ee(">",!1),Zp="greater",ur=ee("greater",!0),ed=function(){return"greater"},td="+",nd=ee("+",!1),id=function(){return"plus"},od="-",rd=ee("-",!1),sd=function(){return"minus"},ad="*",ld=ee("*",!1),ud=function(){return"mul"},cd="/",pd=ee("/",!1),dd=function(){return"div"},fd="%",hd=ee("%",!1),md=function(){return"mod"},gd="^",yd=ee("^",!1),vd="power",bd=ee("power",!0),Cd=function(){return"power"},Ya="*=",_d=ee("*=",!1),xd="contains",wd=ee("contains",!0),Pd="contain",Vd=ee("contain",!0),Td=function(){return"contains"},Id="notcontains",Rd=ee("notcontains",!0),Sd="notcontain",Od=ee("notcontain",!0),Ed=function(){return"notcontains"},Dd="anyof",Md=ee("anyof",!0),kd=function(){return"anyof"},Ad="allof",Ld=ee("allof",!0),Fd=function(){return"allof"},Xa="(",Ja=ee("(",!1),Ka=")",Za=ee(")",!1),jd=function(g){return g},Bd=function(g,b){return new se(g,b)},Nd="!",qd=ee("!",!1),Hd="negate",Qd=ee("negate",!0),Gd=function(g){return new qi(g,"negate")},$d=function(g,b){return new qi(g,b)},zd="empty",Ud=ee("empty",!0),Wd=function(){return"empty"},Yd="notempty",Xd=ee("notempty",!0),Jd=function(){return"notempty"},el="undefined",Kd=ee("undefined",!1),tl="null",Zd=ee("null",!1),ef=function(){return null},tf=function(g){return new nn(g)},nf="{",of=ee("{",!1),rf="}",sf=ee("}",!1),af=function(g){return new ye(g)},cr=function(g){return g},nl="''",lf=ee("''",!1),il=function(){return""},ol='""',uf=ee('""',!1),rl="'",sl=ee("'",!1),al=function(g){return"'"+g+"'"},ll='"',ul=ee('"',!1),cf="[",pf=ee("[",!1),df="]",ff=ee("]",!1),hf=function(g){return g},Ii=",",cl=ee(",",!1),mf=function(g,b){if(null==g)return new Un([]);var S=[g];if(Array.isArray(b))for(var w=function $f(g){return[].concat.apply([],g)}(b),E=3;E<w.length;E+=4)S.push(w[E]);return new Un(S)},gf="true",yf=ee("true",!0),vf=function(){return!0},Ri="false",bf=ee("false",!0),Cf=function(){return!1},pl="0x",_f=ee("0x",!1),xf=function(){return parseInt(_e(),16)},wf=/^[\-]/,Pf=Xt(["-"],!1,!1),Vf=function(g,b){return null==g?b:-b},Tf=".",If=ee(".",!1),Rf=function(){return parseFloat(_e())},Sf=function(){return parseInt(_e(),10)},Of="0",Ef=ee("0",!1),Df=function(){return 0},dl=function(g){return g.join("")},fl="\\'",Mf=ee("\\'",!1),kf=function(){return"'"},Ee='\\"',re=ee('\\"',!1),N=function(){return'"'},fe=/^[^"']/,pr=Xt(['"',"'"],!0,!1),st=function(){return _e()},ft=/^[^{}]/,hl=Xt(["{","}"],!0,!1),dr=/^[0-9]/,ml=Xt([["0","9"]],!1,!1),gl=/^[1-9]/,yl=Xt([["1","9"]],!1,!1),ae=/^[a-zA-Z_]/,fr=Xt([["a","z"],["A","Z"],"_"],!1,!1),Hn=function Cl(g){return{type:"other",description:g}}("whitespace"),vl=/^[ \t\n\r]/,gn=Xt([" ","\t","\n","\r"],!1,!1),y=0,Y=0,Si=[{line:1,column:1}],at=0,hr=[],Q=0,z={};if(void 0!==t.startRule){if(!(t.startRule in n))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=n[t.startRule]}function _e(){return r.substring(Y,y)}function ee(g,b){return{type:"literal",text:g,ignoreCase:b}}function Xt(g,b,S){return{type:"class",parts:g,inverted:b,ignoreCase:S}}function yn(g){var S,b=Si[g];if(b)return b;for(S=g-1;!Si[S];)S--;for(b={line:(b=Si[S]).line,column:b.column};S<g;)10===r.charCodeAt(S)?(b.line++,b.column=1):b.column++,S++;return Si[g]=b,b}function G(g){y<at||(y>at&&(at=y,hr=[]),hr.push(g))}function Jt(){var g,S,w,E,F,H,W,me,ge=34*y+0,Cr=z[ge];if(Cr)return y=Cr.nextPos,Cr.result;if(g=y,ie()!==e)if((S=vt())!==e){for(w=[],E=y,(F=ie())!==e&&(H=_l())!==e&&(W=ie())!==e&&(me=vt())!==e?E=F=[F,H,W,me]:(y=E,E=e);E!==e;)w.push(E),E=y,(F=ie())!==e&&(H=_l())!==e&&(W=ie())!==e&&(me=vt())!==e?E=F=[F,H,W,me]:(y=E,E=e);w!==e&&(E=ie())!==e?(Y=g,g=s(S,w)):(y=g,g=e)}else y=g,g=e;else y=g,g=e;return z[ge]={nextPos:y,result:g},g}function _l(){var g,b,S=34*y+1,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,2)===u?(b=u,y+=2):(b=e,0===Q&&G(p)),b===e&&(r.substr(y,2).toLowerCase()===h?(b=r.substr(y,2),y+=2):(b=e,0===Q&&G(m))),b!==e&&(Y=g,b=x()),z[S]={nextPos:y,result:g=b},g)}function vt(){var g,b,S,w,E,F,H,W,me=34*y+2,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=Oi())!==e){for(S=[],w=y,(E=ie())!==e&&(F=xl())!==e&&(H=ie())!==e&&(W=Oi())!==e?w=E=[E,F,H,W]:(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=xl())!==e&&(H=ie())!==e&&(W=Oi())!==e?w=E=[E,F,H,W]:(y=w,w=e);S!==e?(Y=g,g=b=s(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function xl(){var g,b,S=34*y+3,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,2)===T?(b=T,y+=2):(b=e,0===Q&&G(D)),b===e&&(r.substr(y,3).toLowerCase()===B?(b=r.substr(y,3),y+=3):(b=e,0===Q&&G(j))),b!==e&&(Y=g,b=X()),z[S]={nextPos:y,result:g=b},g)}function Oi(){var g,b,S,w,E,F,H,W,me=34*y+4,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=gr())!==e){for(S=[],w=y,(E=ie())!==e&&(F=wl())!==e&&(H=ie())!==e&&(W=gr())!==e?w=E=[E,F,H,W]:(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=wl())!==e&&(H=ie())!==e&&(W=gr())!==e?w=E=[E,F,H,W]:(y=w,w=e);S!==e?(Y=g,g=b=U(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function wl(){var g,b,S=34*y+5,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,2)===$?(b=$,y+=2):(b=e,0===Q&&G(Z)),b===e&&(r.substr(y,11).toLowerCase()===Ce?(b=r.substr(y,11),y+=11):(b=e,0===Q&&G(et))),b!==e&&(Y=g,b=rt()),(g=b)===e&&(g=y,r.substr(y,2)===Lt?(b=Lt,y+=2):(b=e,0===Q&&G(lr)),b===e&&(r.substr(y,14).toLowerCase()===qn?(b=r.substr(y,14),y+=14):(b=e,0===Q&&G(Fp))),b!==e&&(Y=g,b=jp()),(g=b)===e&&(g=y,r.substr(y,2)===Ga?(b=Ga,y+=2):(b=e,0===Q&&G(Bp)),b===e&&(r.substr(y,5).toLowerCase()===$a?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(za))),b!==e&&(Y=g,b=Ua()),(g=b)===e&&(g=y,61===r.charCodeAt(y)?(b=Np,y++):(b=e,0===Q&&G(qp)),b===e&&(r.substr(y,5).toLowerCase()===$a?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(za))),b!==e&&(Y=g,b=Ua()),(g=b)===e&&(g=y,r.substr(y,2)===Wa?(b=Wa,y+=2):(b=e,0===Q&&G(Hp)),b===e&&(r.substr(y,8).toLowerCase()===Qp?(b=r.substr(y,8),y+=8):(b=e,0===Q&&G(Gp))),b!==e&&(Y=g,b=$p()),(g=b)===e&&(g=y,60===r.charCodeAt(y)?(b=zp,y++):(b=e,0===Q&&G(Up)),b===e&&(r.substr(y,4).toLowerCase()===Wp?(b=r.substr(y,4),y+=4):(b=e,0===Q&&G(Yp))),b!==e&&(Y=g,b=Xp()),(g=b)===e&&(g=y,62===r.charCodeAt(y)?(b=Jp,y++):(b=e,0===Q&&G(Kp)),b===e&&(r.substr(y,7).toLowerCase()===Zp?(b=r.substr(y,7),y+=7):(b=e,0===Q&&G(ur))),b!==e&&(Y=g,b=ed()),g=b)))))),z[S]={nextPos:y,result:g},g)}function gr(){var g,b,S,w,E,F,H,W,me=34*y+6,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=Di())!==e){for(S=[],w=y,(E=ie())!==e&&(F=Ei())!==e&&(H=ie())!==e&&(W=Di())!==e?w=E=[E,F,H,W]:(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=Ei())!==e&&(H=ie())!==e&&(W=Di())!==e?w=E=[E,F,H,W]:(y=w,w=e);S!==e?(Y=g,g=b=s(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function Ei(){var g,b,S=34*y+7,w=z[S];return w?(y=w.nextPos,w.result):(g=y,43===r.charCodeAt(y)?(b=td,y++):(b=e,0===Q&&G(nd)),b!==e&&(Y=g,b=id()),(g=b)===e&&(g=y,45===r.charCodeAt(y)?(b=od,y++):(b=e,0===Q&&G(rd)),b!==e&&(Y=g,b=sd()),g=b),z[S]={nextPos:y,result:g},g)}function Di(){var g,b,S,w,E,F,H,W,me=34*y+8,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=vn())!==e){for(S=[],w=y,(E=ie())!==e&&(F=Pl())!==e&&(H=ie())!==e&&(W=vn())!==e?w=E=[E,F,H,W]:(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=Pl())!==e&&(H=ie())!==e&&(W=vn())!==e?w=E=[E,F,H,W]:(y=w,w=e);S!==e?(Y=g,g=b=s(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function Pl(){var g,b,S=34*y+9,w=z[S];return w?(y=w.nextPos,w.result):(g=y,42===r.charCodeAt(y)?(b=ad,y++):(b=e,0===Q&&G(ld)),b!==e&&(Y=g,b=ud()),(g=b)===e&&(g=y,47===r.charCodeAt(y)?(b=cd,y++):(b=e,0===Q&&G(pd)),b!==e&&(Y=g,b=dd()),(g=b)===e&&(g=y,37===r.charCodeAt(y)?(b=fd,y++):(b=e,0===Q&&G(hd)),b!==e&&(Y=g,b=md()),g=b)),z[S]={nextPos:y,result:g},g)}function vn(){var g,b,S,w,E,F,H,W,me=34*y+10,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=yr())!==e){for(S=[],w=y,(E=ie())!==e&&(F=Vl())!==e&&(H=ie())!==e&&(W=yr())!==e?w=E=[E,F,H,W]:(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=Vl())!==e&&(H=ie())!==e&&(W=yr())!==e?w=E=[E,F,H,W]:(y=w,w=e);S!==e?(Y=g,g=b=s(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function Vl(){var g,b,S=34*y+11,w=z[S];return w?(y=w.nextPos,w.result):(g=y,94===r.charCodeAt(y)?(b=gd,y++):(b=e,0===Q&&G(yd)),b===e&&(r.substr(y,5).toLowerCase()===vd?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(bd))),b!==e&&(Y=g,b=Cd()),z[S]={nextPos:y,result:g=b},g)}function yr(){var g,b,S,w,E,F,H,W,me=34*y+12,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=vr())!==e){for(S=[],w=y,(E=ie())!==e&&(F=Tl())!==e&&(H=ie())!==e?((W=vr())===e&&(W=null),W!==e?w=E=[E,F,H,W]:(y=w,w=e)):(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e&&(F=Tl())!==e&&(H=ie())!==e?((W=vr())===e&&(W=null),W!==e?w=E=[E,F,H,W]:(y=w,w=e)):(y=w,w=e);S!==e?(Y=g,g=b=U(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function Tl(){var g,b,S=34*y+13,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,2)===Ya?(b=Ya,y+=2):(b=e,0===Q&&G(_d)),b===e&&(r.substr(y,8).toLowerCase()===xd?(b=r.substr(y,8),y+=8):(b=e,0===Q&&G(wd)),b===e&&(r.substr(y,7).toLowerCase()===Pd?(b=r.substr(y,7),y+=7):(b=e,0===Q&&G(Vd)))),b!==e&&(Y=g,b=Td()),(g=b)===e&&(g=y,r.substr(y,11).toLowerCase()===Id?(b=r.substr(y,11),y+=11):(b=e,0===Q&&G(Rd)),b===e&&(r.substr(y,10).toLowerCase()===Sd?(b=r.substr(y,10),y+=10):(b=e,0===Q&&G(Od))),b!==e&&(Y=g,b=Ed()),(g=b)===e&&(g=y,r.substr(y,5).toLowerCase()===Dd?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(Md)),b!==e&&(Y=g,b=kd()),(g=b)===e&&(g=y,r.substr(y,5).toLowerCase()===Ad?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(Ld)),b!==e&&(Y=g,b=Fd()),g=b))),z[S]={nextPos:y,result:g},g)}function vr(){var g,b,w,F,H=34*y+14,W=z[H];return W?(y=W.nextPos,W.result):(g=y,40===r.charCodeAt(y)?(b=Xa,y++):(b=e,0===Q&&G(Ja)),b!==e&&ie()!==e&&(w=Jt())!==e&&ie()!==e?(41===r.charCodeAt(y)?(F=Ka,y++):(F=e,0===Q&&G(Za)),F===e&&(F=null),F!==e?(Y=g,g=b=jd(w)):(y=g,g=e)):(y=g,g=e),g===e&&(g=function Ff(){var g,b,S,w,E,F=34*y+15,H=z[F];return H?(y=H.nextPos,H.result):(g=y,(b=Ol())!==e?(40===r.charCodeAt(y)?(S=Xa,y++):(S=e,0===Q&&G(Ja)),S!==e&&(w=Hf())!==e?(41===r.charCodeAt(y)?(E=Ka,y++):(E=e,0===Q&&G(Za)),E===e&&(E=null),E!==e?(Y=g,g=b=Bd(b,w)):(y=g,g=e)):(y=g,g=e)):(y=g,g=e),z[F]={nextPos:y,result:g},g)}())===e&&(g=function jf(){var g,b,w,E=34*y+16,F=z[E];return F?(y=F.nextPos,F.result):(g=y,33===r.charCodeAt(y)?(b=Nd,y++):(b=e,0===Q&&G(qd)),b===e&&(r.substr(y,6).toLowerCase()===Hd?(b=r.substr(y,6),y+=6):(b=e,0===Q&&G(Qd))),b!==e&&ie()!==e&&(w=Jt())!==e?(Y=g,g=b=Gd(w)):(y=g,g=e),g===e&&(g=y,(b=Il())!==e&&ie()!==e&&(w=function Bf(){var g,b,S=34*y+17,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,5).toLowerCase()===zd?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(Ud)),b!==e&&(Y=g,b=Wd()),(g=b)===e&&(g=y,r.substr(y,8).toLowerCase()===Yd?(b=r.substr(y,8),y+=8):(b=e,0===Q&&G(Xd)),b!==e&&(Y=g,b=Jd()),g=b),z[S]={nextPos:y,result:g},g)}())!==e?(Y=g,g=b=$d(b,w)):(y=g,g=e)),z[E]={nextPos:y,result:g},g)}())===e&&(g=Il())===e&&(g=function qf(){var g,b,S,w,E=34*y+20,F=z[E];return F?(y=F.nextPos,F.result):(g=y,91===r.charCodeAt(y)?(b=cf,y++):(b=e,0===Q&&G(pf)),b!==e&&(S=Hf())!==e?(93===r.charCodeAt(y)?(w=df,y++):(w=e,0===Q&&G(ff)),w!==e?(Y=g,g=b=hf(S)):(y=g,g=e)):(y=g,g=e),z[E]={nextPos:y,result:g},g)}()),z[H]={nextPos:y,result:g},g)}function Il(){var g,S,w,E,F=34*y+18,H=z[F];return H?(y=H.nextPos,H.result):(g=y,ie()!==e?(r.substr(y,9)===el?(S=el,y+=9):(S=e,0===Q&&G(Kd)),S===e&&(r.substr(y,4)===tl?(S=tl,y+=4):(S=e,0===Q&&G(Zd))),S!==e?(Y=g,g=ef()):(y=g,g=e)):(y=g,g=e),g===e&&(g=y,ie()!==e&&(S=function Nf(){var g,b,S,w,E=34*y+19,F=z[E];return F?(y=F.nextPos,F.result):(g=y,(b=function ph(){var g,b,S=34*y+22,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,4).toLowerCase()===gf?(b=r.substr(y,4),y+=4):(b=e,0===Q&&G(yf)),b!==e&&(Y=g,b=vf()),(g=b)===e&&(g=y,r.substr(y,5).toLowerCase()===Ri?(b=r.substr(y,5),y+=5):(b=e,0===Q&&G(bf)),b!==e&&(Y=g,b=Cf()),g=b),z[S]={nextPos:y,result:g},g)}())!==e&&(Y=g,b=cr(b)),(g=b)===e&&(g=y,(b=function Qf(){var g,b,S,w=34*y+23,E=z[w];return E?(y=E.nextPos,E.result):(g=y,r.substr(y,2)===pl?(b=pl,y+=2):(b=e,0===Q&&G(_f)),b!==e&&(S=Kt())!==e?(Y=g,g=b=xf()):(y=g,g=e),g===e&&(g=y,wf.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(Pf)),b===e&&(b=null),b!==e&&(S=function Mi(){var g,b,S,E=34*y+24,F=z[E];return F?(y=F.nextPos,F.result):(g=y,(b=Kt())!==e?(46===r.charCodeAt(y)?(S=Tf,y++):(S=e,0===Q&&G(If)),S!==e&&Kt()!==e?(Y=g,g=b=Rf()):(y=g,g=e)):(y=g,g=e),g===e&&(g=y,(b=function El(){var g,b,S=34*y+31,w=z[S];if(w)return y=w.nextPos,w.result;if(g=[],gl.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(yl)),b!==e)for(;b!==e;)g.push(b),gl.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(yl));else g=e;return z[S]={nextPos:y,result:g},g}())!==e?((S=Kt())===e&&(S=null),S!==e?(Y=g,g=b=Sf()):(y=g,g=e)):(y=g,g=e),g===e&&(g=y,48===r.charCodeAt(y)?(b=Of,y++):(b=e,0===Q&&G(Ef)),b!==e&&(Y=g,b=Df()),g=b)),z[E]={nextPos:y,result:g},g)}())!==e?(Y=g,g=b=Vf(b,S)):(y=g,g=e)),z[w]={nextPos:y,result:g},g)}())!==e&&(Y=g,b=cr(b)),(g=b)===e&&(g=y,(b=Ol())!==e&&(Y=g,b=cr(b)),(g=b)===e&&(g=y,r.substr(y,2)===nl?(b=nl,y+=2):(b=e,0===Q&&G(lf)),b!==e&&(Y=g,b=il()),(g=b)===e&&(g=y,r.substr(y,2)===ol?(b=ol,y+=2):(b=e,0===Q&&G(uf)),b!==e&&(Y=g,b=il()),(g=b)===e&&(g=y,39===r.charCodeAt(y)?(b=rl,y++):(b=e,0===Q&&G(sl)),b!==e&&(S=Rl())!==e?(39===r.charCodeAt(y)?(w=rl,y++):(w=e,0===Q&&G(sl)),w!==e?(Y=g,g=b=al(S)):(y=g,g=e)):(y=g,g=e),g===e&&(g=y,34===r.charCodeAt(y)?(b=ll,y++):(b=e,0===Q&&G(ul)),b!==e&&(S=Rl())!==e?(34===r.charCodeAt(y)?(w=ll,y++):(w=e,0===Q&&G(ul)),w!==e?(Y=g,g=b=al(S)):(y=g,g=e)):(y=g,g=e))))))),z[E]={nextPos:y,result:g},g)}())!==e?(Y=g,g=tf(S)):(y=g,g=e),g===e&&(g=y,ie()!==e?(123===r.charCodeAt(y)?(S=nf,y++):(S=e,0===Q&&G(of)),S!==e&&(w=function Gf(){var g,b,S,w=34*y+25,E=z[w];if(E)return y=E.nextPos,E.result;if(g=y,b=[],(S=Sl())!==e)for(;S!==e;)b.push(S),S=Sl();else b=e;return b!==e&&(Y=g,b=dl(b)),z[w]={nextPos:y,result:g=b},g}())!==e?(125===r.charCodeAt(y)?(E=rf,y++):(E=e,0===Q&&G(sf)),E!==e?(Y=g,g=af(w)):(y=g,g=e)):(y=g,g=e)):(y=g,g=e))),z[F]={nextPos:y,result:g},g)}function Hf(){var g,b,S,w,E,F,H,W,me=34*y+21,ge=z[me];if(ge)return y=ge.nextPos,ge.result;if(g=y,(b=Jt())===e&&(b=null),b!==e){for(S=[],w=y,(E=ie())!==e?(44===r.charCodeAt(y)?(F=Ii,y++):(F=e,0===Q&&G(cl)),F!==e&&(H=ie())!==e&&(W=Jt())!==e?w=E=[E,F,H,W]:(y=w,w=e)):(y=w,w=e);w!==e;)S.push(w),w=y,(E=ie())!==e?(44===r.charCodeAt(y)?(F=Ii,y++):(F=e,0===Q&&G(cl)),F!==e&&(H=ie())!==e&&(W=Jt())!==e?w=E=[E,F,H,W]:(y=w,w=e)):(y=w,w=e);S!==e?(Y=g,g=b=mf(b,S)):(y=g,g=e)}else y=g,g=e;return z[me]={nextPos:y,result:g},g}function Rl(){var g,b,S,w=34*y+26,E=z[w];if(E)return y=E.nextPos,E.result;if(g=y,b=[],(S=br())!==e)for(;S!==e;)b.push(S),S=br();else b=e;return b!==e&&(Y=g,b=dl(b)),z[w]={nextPos:y,result:g=b},g}function br(){var g,b,S=34*y+27,w=z[S];return w?(y=w.nextPos,w.result):(g=y,r.substr(y,2)===fl?(b=fl,y+=2):(b=e,0===Q&&G(Mf)),b!==e&&(Y=g,b=kf()),(g=b)===e&&(g=y,r.substr(y,2)===Ee?(b=Ee,y+=2):(b=e,0===Q&&G(re)),b!==e&&(Y=g,b=N()),(g=b)===e&&(g=y,fe.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(pr)),b!==e&&(Y=g,b=st()),g=b)),z[S]={nextPos:y,result:g},g)}function Sl(){var g,b,S=34*y+28,w=z[S];return w?(y=w.nextPos,w.result):(g=y,ft.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(hl)),b!==e&&(Y=g,b=st()),z[S]={nextPos:y,result:g=b},g)}function Ol(){var g,S,w,E,F,H,W=34*y+29,me=z[W];if(me)return y=me.nextPos,me.result;if(g=y,bn()!==e){if(S=[],w=y,(E=Kt())!==e){for(F=[],H=bn();H!==e;)F.push(H),H=bn();F!==e?w=E=[E,F]:(y=w,w=e)}else y=w,w=e;for(;w!==e;)if(S.push(w),w=y,(E=Kt())!==e){for(F=[],H=bn();H!==e;)F.push(H),H=bn();F!==e?w=E=[E,F]:(y=w,w=e)}else y=w,w=e;S!==e?(Y=g,g=st()):(y=g,g=e)}else y=g,g=e;return z[W]={nextPos:y,result:g},g}function Kt(){var g,b,S=34*y+30,w=z[S];if(w)return y=w.nextPos,w.result;if(g=[],dr.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(ml)),b!==e)for(;b!==e;)g.push(b),dr.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(ml));else g=e;return z[S]={nextPos:y,result:g},g}function bn(){var g,b,S=34*y+32,w=z[S];if(w)return y=w.nextPos,w.result;if(g=[],ae.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(fr)),b!==e)for(;b!==e;)g.push(b),ae.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(fr));else g=e;return z[S]={nextPos:y,result:g},g}function ie(){var g,b,S=34*y+33,w=z[S];if(w)return y=w.nextPos,w.result;for(Q++,g=[],vl.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(gn));b!==e;)g.push(b),vl.test(r.charAt(y))?(b=r.charAt(y),y++):(b=e,0===Q&&G(gn));return Q--,g===e&&(b=e,0===Q&&G(Hn)),z[S]={nextPos:y,result:g},g}function Dl(g,b,S){return void 0===S&&(S=!1),b.reduce(function(w,E){return new Be(E[1],w,E[3],S)},g)}if((Qn=o())!==e&&y===r.length)return Qn;throw Qn!==e&&y<r.length&&G({type:"end"}),function mr(g,b,S){return new Wn(Wn.buildMessage(g,b),g,b,S)}(hr,at<r.length?r.charAt(at):null,function Gn(g,b){var S=yn(g),w=yn(b);return{start:{offset:g,line:S.line,column:S.column},end:{offset:b,line:w.line,column:w.column}}}(at,at<r.length?at+1:at))},Jl=function(){return function r(t,e){this.at=t,this.code=e}}(),Hr=function(){function r(){}return r.prototype.patchExpression=function(t){return t.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},r.prototype.createCondition=function(t){return this.parseExpression(t)},r.prototype.parseExpression=function(t){try{var e=r.parserCache[t];return void 0===e&&((e=Xl(this.patchExpression(t))).hasAsyncFunction()||(r.parserCache[t]=e)),e}catch(n){n instanceof Wn&&(this.conditionError=new Jl(n.location.start.offset,n.message))}},Object.defineProperty(r.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),r.parserCache={},r}(),Qi=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),on=function(){function r(t){this.processValue=new He,this.parser=new Hr,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(t)}return Object.defineProperty(r.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),r.prototype.setExpression=function(t){this.expression!==t&&(this.expressionValue=t,this.operand=this.parser.parseExpression(t),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},r.prototype.getVariables=function(){if(!this.operand)return[];var t=[];return this.operand.setVariables(t),t},r.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(r.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),r.prototype.canRun=function(){return!!this.operand},r.prototype.run=function(t,e){if(void 0===e&&(e=null),!this.operand)return this.expression&&bt.warn("Invalid expression: "+this.expression),null;if(this.processValue.values=t,this.processValue.properties=e,!this.isAsync)return this.runValues();this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var n=0;n<this.asyncFuncList.length;n++)this.runAsyncItem(this.asyncFuncList[n]);return!1},r.prototype.runAsyncItem=function(t){var e=this;t.children?t.children.forEach(function(n){return e.runAsyncItem(n)}):this.runAsyncItemCore(t)},r.prototype.runAsyncItemCore=function(t){var e=this;t.operand?(t.operand.onAsyncReady=function(){return e.doAsyncFunctionReady(t)},t.operand.evaluateAsync(this.processValue)):this.doAsyncFunctionReady(t)},r.prototype.doAsyncFunctionReady=function(t){if(t.parent&&this.isAsyncChildrenReady(t))this.runAsyncItemCore(t.parent);else{for(var e=0;e<this.asyncFuncList.length;e++)if(!this.isAsyncFuncReady(this.asyncFuncList[e]))return;this.runValues()}},r.prototype.isAsyncFuncReady=function(t){return!(t.operand&&!t.operand.isReady)&&this.isAsyncChildrenReady(t)},r.prototype.isAsyncChildrenReady=function(t){if(t.children)for(var e=0;e<t.children.length;e++)if(!this.isAsyncFuncReady(t.children[e]))return!1;return!0},r.prototype.runValues=function(){var t=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(t),t},r.createExpressionExecutor=function(t){return new r(t)},r}(),Gi=function(){function r(t){this._id=r.IdCounter++,this.expression=t}return Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(t){var e=this;this.expressionExecutor&&t===this.expression||(this.expressionExecutor=on.createExpressionExecutor(t),this.expressionExecutor.onComplete=function(n){e.doOnComplete(n)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),r.prototype.getVariables=function(){return void 0===this.variables&&(this.variables=this.expressionExecutor.getVariables()),this.variables},r.prototype.hasFunction=function(){return void 0===this.containsFunc&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(r.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),r.prototype.canRun=function(){return this.expressionExecutor.canRun()},r.prototype.runCore=function(t,e){return void 0===e&&(e=null),this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(this.id),this.expressionExecutor.run(t,e)},r.prototype.doOnComplete=function(t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(this.id)},r.IdCounter=1,r}(),Xe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Qi(t,r),t.prototype.run=function(e,n){return void 0===n&&(n=null),1==this.runCore(e,n)},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(1==e),r.prototype.doOnComplete.call(this,e)},t}(Gi),_t=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Qi(t,r),t.prototype.run=function(e,n){return void 0===n&&(n=null),this.runCore(e,n)},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(e),r.prototype.doOnComplete.call(this,e)},t}(Gi),Qr=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xn=function(){function r(t){this.obj=t,this.properties=null,this.values=null}return r.prototype.getType=function(){return"bindings"},r.prototype.getNames=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)this.properties[e].isVisible("",this.obj)&&t.push(this.properties[e].name);return t},r.prototype.getProperties=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)t.push(this.properties[e]);return t},r.prototype.setBinding=function(t,e){this.values||(this.values={});var n=this.getJson();n!==e&&(e?this.values[t]=e:(delete this.values[t],0==Object.keys(this.values).length&&(this.values=null)),this.onChangedJSON(n))},r.prototype.clearBinding=function(t){this.setBinding(t,"")},r.prototype.isEmpty=function(){if(!this.values)return!0;for(var t in this.values)return!1;return!0},r.prototype.getValueNameByPropertyName=function(t){if(this.values)return this.values[t]},r.prototype.getPropertiesByValueName=function(t){if(!this.values)return[];var e=[];for(var n in this.values)this.values[n]==t&&e.push(n);return e},r.prototype.getJson=function(){if(!this.isEmpty()){var t={};for(var e in this.values)t[e]=this.values[e];return t}},r.prototype.setJson=function(t){var e=this.getJson();if(this.values=null,t)for(var n in this.values={},t)this.values[n]=t[n];this.onChangedJSON(e)},r.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var t=M.getPropertiesByObj(this.obj),e=0;e<t.length;e++)t[e].isBindable&&this.properties.push(t[e])}},r.prototype.onChangedJSON=function(t){this.obj&&this.obj.onBindingChanged(t,this.getJson())},r}(),Je=function(){function r(t,e,n){this.currentDependency=t,this.target=e,this.property=n,this.dependencies=[],this.id=""+ ++r.DependenciesCount}return r.prototype.addDependency=function(t,e){this.target===t&&this.property===e||this.dependencies.some(function(n){return n.obj===t&&n.prop===e})||(this.dependencies.push({obj:t,prop:e,id:this.id}),t.registerPropertyChangedHandlers([e],this.currentDependency,this.id))},r.prototype.dispose=function(){this.dependencies.forEach(function(t){t.obj.unregisterPropertyChangedHandlers([t.prop],t.id)})},r.DependenciesCount=0,r}(),we=function(){function r(t){this._updater=t,this.dependencies=void 0,this.type=r.ComputedUpdaterType}return Object.defineProperty(r.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),r.prototype.setDependencies=function(t){this.clearDependencies(),this.dependencies=t},r.prototype.getDependencies=function(){return this.dependencies},r.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},r.prototype.dispose=function(){this.clearDependencies()},r.ComputedUpdaterType="__dependency_computed",r}(),oe=function(){function r(){this.dependencies={},this.propertyHash=r.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRenderedEvent=!0,this.onElementRenderedEventEnabled=!1,this._onElementRerendered=new it,this.bindingsValue=new xn(this),lt.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return r.finishCollectDependencies=function(){var t=r.currentDependencis;return r.currentDependencis=void 0,t},r.startCollectDependencies=function(t,e,n){if(void 0!==r.currentDependencis)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");r.currentDependencis=new Je(t,e,n)},r.collectDependency=function(t,e){void 0!==r.currentDependencis&&r.currentDependencis.addDependency(t,e)},Object.defineProperty(r,"commentSuffix",{get:function(){return I.commentSuffix},set:function(t){I.commentSuffix=t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"commentPrefix",{get:function(){return r.commentSuffix},set:function(t){r.commentSuffix=t},enumerable:!1,configurable:!0}),r.prototype.isValueEmpty=function(t,e){return void 0===e&&(e=!0),e&&(t=this.trimValue(t)),R.isValueEmpty(t)},r.prototype.equals=function(t){return!(!t||this.isDisposed||t.isDisposed||this.getType()!=t.getType())&&this.equalsCore(t)},r.prototype.equalsCore=function(t){return this.name===t.name&&R.isTwoValueEquals(this.toJSON(),t.toJSON(),!1,!0,!1)},r.prototype.trimValue=function(t){return t&&("string"==typeof t||t instanceof String)?t.trim():t},r.prototype.isPropertyEmpty=function(t){return""!==t&&this.isValueEmpty(t)},r.createPropertiesHash=function(){return{}},r.prototype.dispose=function(){for(var t=this,e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(n){return t.dependencies[n].dispose()})},Object.defineProperty(r.prototype,"isDisposed",{get:function(){return!0===this.isDisposedValue},enumerable:!1,configurable:!0}),r.prototype.addEvent=function(){var t=new it;return this.eventList.push(t),t},r.prototype.onBaseCreating=function(){},r.prototype.getType=function(){return"base"},r.prototype.isDescendantOf=function(t){return M.isDescendantOf(this.getType(),t)},r.prototype.getSurvey=function(t){return void 0===t&&(t=!1),null},Object.defineProperty(r.prototype,"isDesignMode",{get:function(){var t=this.getSurvey();return!!t&&t.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDesignModeV2",{get:function(){return I.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),r.prototype.checkBindings=function(t,e){},r.prototype.updateBindings=function(t,e){var n=this.bindings.getValueNameByPropertyName(t);n&&this.updateBindingValue(n,e)},r.prototype.updateBindingValue=function(t,e){},r.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(r.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),r.prototype.getIsLoadingFromJson=function(){return!(!this.loadingOwner||!this.loadingOwner.isLoadingFromJson)||this.isLoadingFromJsonValue},r.prototype.startLoadingFromJson=function(t){this.isLoadingFromJsonValue=!0,this.jsonObj=t},r.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},r.prototype.toJSON=function(t){return(new Oe).toJsonObject(this,t)},r.prototype.fromJSON=function(t,e){(new Oe).toObject(t,this,e),this.onSurveyLoad()},r.prototype.onSurveyLoad=function(){},r.prototype.clone=function(){var t=M.createClass(this.getType());return t.fromJSON(this.toJSON()),t},r.prototype.getPropertyByName=function(t){var e=this.getType();return(!this.classMetaData||this.classMetaData.name!==e)&&(this.classMetaData=M.findClass(e)),this.classMetaData?this.classMetaData.findProperty(t):null},r.prototype.isPropertyVisible=function(t){var e=this.getPropertyByName(t);return!!e&&e.isVisible("",this)},r.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},r.prototype.getProgressInfo=function(){return r.createProgressInfo()},r.prototype.localeChanged=function(){},r.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var t in this.arraysInfo)if((e=this.arraysInfo[t])&&e.isItemValues){var n=this.getPropertyValue(t);n&&r.itemValueLocStrChanged&&r.itemValueLocStrChanged(n)}if(this.localizableStrings)for(var t in this.localizableStrings){var e;(e=this.getLocalizableString(t))&&e.strChanged()}},r.prototype.getPropertyValue=function(t,e){void 0===e&&(e=null);var n=this.getPropertyValueWithoutDefault(t);if(this.isPropertyEmpty(n)){var o=this.localizableStrings?this.localizableStrings[t]:void 0;if(o)return o.text;if(null!=e)return e;var s=this.getDefaultPropertyValue(t);if(void 0!==s)return s}return n},r.prototype.getDefaultPropertyValue=function(t){var e=this.getPropertyByName(t);if(!(!e||e.isCustom&&this.isCreating)){var n=e.defaultValue;if(e.defaultValueFunc||!this.isPropertyEmpty(n)&&!Array.isArray(n))return n;var o=this.localizableStrings?this.localizableStrings[t]:void 0;if(o&&o.localizationName)return this.getLocalizationString(o.localizationName);if("boolean"==e.type||"switch"==e.type)return!1;if(e.isCustom&&e.onGetValue)return e.onGetValue(this)}},r.prototype.hasDefaultPropertyValue=function(t){return void 0!==this.getDefaultPropertyValue(t)},r.prototype.resetPropertyValue=function(t){var e=this.localizableStrings?this.localizableStrings[t]:void 0;e?(this.setLocalizableStringText(t,void 0),e.clear()):this.setPropertyValue(t,void 0)},r.prototype.getPropertyValueWithoutDefault=function(t){return this.getPropertyValueCore(this.propertyHash,t)},r.prototype.getPropertyValueCore=function(t,e){return this.isLoadingFromJson||r.collectDependency(this,e),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(t,e):t[e]},r.prototype.geValueFromHash=function(){return this.propertyHash.value},r.prototype.setPropertyValueCore=function(t,e,n){this.setPropertyValueCoreHandler?this.isDisposedValue?bt.disposedObjectChangedProperty(e,this.getType()):this.setPropertyValueCoreHandler(t,e,n):t[e]=n},Object.defineProperty(r.prototype,"isEditingSurveyElement",{get:function(){var t=this.getSurvey();return!!t&&t.isEditingSurveyElement},enumerable:!1,configurable:!0}),r.prototype.iteratePropertiesHash=function(t){var e=this,n=[];for(var o in this.propertyHash)"value"===o&&this.isEditingSurveyElement&&Array.isArray(this.value)||n.push(o);n.forEach(function(s){return t(e.propertyHash,s)})},r.prototype.setPropertyValue=function(t,e){if(!this.isLoadingFromJson){var n=this.getPropertyByName(t);n&&(e=n.settingValue(this,e))}var o=this.getPropertyValue(t);o&&Array.isArray(o)&&this.arraysInfo&&(!e||Array.isArray(e))?this.isTwoValueEquals(o,e)||this.setArrayPropertyDirectly(t,e):(this.setPropertyValueDirectly(t,e),!this.isDisposedValue&&!this.isTwoValueEquals(o,e)&&this.propertyValueChanged(t,o,e))},r.prototype.setArrayPropertyDirectly=function(t,e,n){void 0===n&&(n=!0);var o=this.arraysInfo[t];this.setArray(t,this.getPropertyValue(t),e,!!o&&o.isItemValues,o?n&&o.onPush:null)},r.prototype.setPropertyValueDirectly=function(t,e){this.setPropertyValueCore(this.propertyHash,t,e)},r.prototype.clearPropertyValue=function(t){this.setPropertyValueCore(this.propertyHash,t,null),delete this.propertyHash[t]},r.prototype.onPropertyValueChangedCallback=function(t,e,n,o,s){},r.prototype.itemValuePropertyChanged=function(t,e,n,o){this.onItemValuePropertyChanged.fire(this,{obj:t,name:e,oldValue:n,newValue:o,propertyName:t.ownerPropertyName})},r.prototype.onPropertyValueChanged=function(t,e,n){},r.prototype.propertyValueChanged=function(t,e,n,o,s){if(!this.isLoadingFromJson&&(this.updateBindings(t,n),this.onPropertyValueChanged(t,e,n),this.onPropertyChanged.fire(this,{name:t,oldValue:e,newValue:n}),this.doPropertyValueChangedCallback(t,e,n,o,this),this.checkConditionPropertyChanged(t),this.onPropChangeFunctions))for(var u=0;u<this.onPropChangeFunctions.length;u++)this.onPropChangeFunctions[u].name==t&&this.onPropChangeFunctions[u].func(n,o)},r.prototype.onBindingChanged=function(t,e){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",t,e)},Object.defineProperty(r.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.doPropertyValueChangedCallback=function(t,e,n,o,s){var u=function(h){h&&h.onPropertyValueChangedCallback&&h.onPropertyValueChangedCallback(t,e,n,s,o)};if(this.isInternal)u(this);else{s||(s=this);var p=this.getSurvey();p||(p=this),u(p),p!==this&&u(this)}},r.prototype.addExpressionProperty=function(t,e,n){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[t]={onExecute:e,canRun:n}},r.prototype.getDataFilteredValues=function(){return{}},r.prototype.getDataFilteredProperties=function(){return{}},r.prototype.runConditionCore=function(t,e){if(this.expressionInfo)for(var n in this.expressionInfo)this.runConditionItemCore(n,t,e)},r.prototype.canRunConditions=function(){return!this.isDesignMode},r.prototype.checkConditionPropertyChanged=function(t){!this.expressionInfo||!this.expressionInfo[t]||this.canRunConditions()&&this.runConditionItemCore(t,this.getDataFilteredValues(),this.getDataFilteredProperties())},r.prototype.runConditionItemCore=function(t,e,n){var o=this,s=this.expressionInfo[t],u=this.getPropertyValue(t);u&&(s.canRun&&!s.canRun(this)||(s.runner||(s.runner=this.createExpressionRunner(u),s.runner.onRunComplete=function(p){s.onExecute(o,p)}),s.runner.expression=u,s.runner.run(e,n)))},r.prototype.doBeforeAsynRun=function(t){this.asynExpressionHash||(this.asynExpressionHash=[]);var e=!this.isAsyncExpressionRunning;this.asynExpressionHash[t]=!0,e&&this.onAsyncRunningChanged()},r.prototype.doAfterAsynRun=function(t){this.asynExpressionHash&&(delete this.asynExpressionHash[t],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},r.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(r.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),r.prototype.createExpressionRunner=function(t){var e=this,n=new _t(t);return n.onBeforeAsyncRun=function(o){e.doBeforeAsynRun(o)},n.onAfterAsyncRun=function(o){e.doAfterAsynRun(o)},n},r.prototype.registerPropertyChangedHandlers=function(t,e,n){void 0===n&&(n=null);for(var o=0;o<t.length;o++)this.registerFunctionOnPropertyValueChanged(t[o],e,n)},r.prototype.unregisterPropertyChangedHandlers=function(t,e){void 0===e&&(e=null);for(var n=0;n<t.length;n++)this.unRegisterFunctionOnPropertyValueChanged(t[n],e)},r.prototype.registerFunctionOnPropertyValueChanged=function(t,e,n){if(void 0===n&&(n=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),n)for(var o=0;o<this.onPropChangeFunctions.length;o++){var s=this.onPropChangeFunctions[o];if(s.name==t&&s.key==n)return void(s.func=e)}this.onPropChangeFunctions.push({name:t,func:e,key:n})},r.prototype.registerFunctionOnPropertiesValueChanged=function(t,e,n){void 0===n&&(n=null),this.registerPropertyChangedHandlers(t,e,n)},r.prototype.unRegisterFunctionOnPropertyValueChanged=function(t,e){if(void 0===e&&(e=null),this.onPropChangeFunctions)for(var n=0;n<this.onPropChangeFunctions.length;n++){var o=this.onPropChangeFunctions[n];if(o.name==t&&o.key==e)return void this.onPropChangeFunctions.splice(n,1)}},r.prototype.unRegisterFunctionOnPropertiesValueChanged=function(t,e){void 0===e&&(e=null),this.unregisterPropertyChangedHandlers(t,e)},r.prototype.createCustomLocalizableObj=function(t){return this.getLocalizableString(t)||this.createLocalizableString(t,this,!1,!0)},r.prototype.getLocale=function(){var t=this.getSurvey();return t?t.getLocale():""},r.prototype.getLocalizationString=function(t){return te.getString(t,this.getLocale())},r.prototype.getLocalizationFormatString=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.getLocalizationString(t);return o&&o.format?o.format.apply(o,e):""},r.prototype.createLocalizableString=function(t,e,n,o){var s=this;void 0===n&&(n=!1),void 0===o&&(o=!1);var u=new ot(e,n,t);o&&(u.localizationName=!0===o?t:o),u.onStrChanged=function(h,m){s.propertyValueChanged(t,h,m)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[t]=u;var p=this.getPropertyByName(t);return u.disableLocalization=p&&!1===p.isLocalizable,u},r.prototype.getLocalizableString=function(t){return this.localizableStrings?this.localizableStrings[t]:null},r.prototype.getLocalizableStringText=function(t,e){void 0===e&&(e=""),r.collectDependency(this,t);var n=this.getLocalizableString(t);return n?n.text||e:""},r.prototype.setLocalizableStringText=function(t,e){var n=this.getLocalizableString(t);n&&n.text!=e&&(n.text=e)},r.prototype.addUsedLocales=function(t){if(this.localizableStrings)for(var e in this.localizableStrings)(n=this.getLocalizableString(e))&&this.AddLocStringToUsedLocales(n,t);if(this.arraysInfo)for(var e in this.arraysInfo){var o=this.getPropertyByName(e);if(o&&o.isSerializable){var s=this.getPropertyValue(e);if(s&&s.length)for(var u=0;u<s.length;u++){var n;(n=s[u])&&n.addUsedLocales&&n.addUsedLocales(t)}}}},r.prototype.searchText=function(t,e){var n=[];this.getSearchableLocalizedStrings(n);for(var o=0;o<n.length;o++)n[o].setFindText(t)&&e.push({element:this,str:n[o]})},r.prototype.getSearchableLocalizedStrings=function(t){if(this.localizableStrings){var e=[];this.getSearchableLocKeys(e);for(var n=0;n<e.length;n++){var o=this.getLocalizableString(e[n]);o&&t.push(o)}}if(this.arraysInfo){var s=[];for(this.getSearchableItemValueKeys(s),n=0;n<s.length;n++){var u=this.getPropertyValue(s[n]);if(u)for(var p=0;p<u.length;p++)t.push(u[p].locText)}}},r.prototype.getSearchableLocKeys=function(t){},r.prototype.getSearchableItemValueKeys=function(t){},r.prototype.AddLocStringToUsedLocales=function(t,e){for(var n=t.getLocales(),o=0;o<n.length;o++)e.indexOf(n[o])<0&&e.push(n[o])},r.prototype.createItemValues=function(t){var e=this,n=this.createNewArray(t,function(o){if(o.locOwner=e,o.ownerPropertyName=t,"function"==typeof o.getSurvey){var s=o.getSurvey();s&&"function"==typeof s.makeReactive&&s.makeReactive(o)}});return this.arraysInfo[t].isItemValues=!0,n},r.prototype.notifyArrayChanged=function(t,e){t.onArrayChanged&&t.onArrayChanged(e)},r.prototype.createNewArrayCore=function(t){var e=null;return this.createArrayCoreHandler&&(e=this.createArrayCoreHandler(this.propertyHash,t)),e||(e=new Array,this.setPropertyValueCore(this.propertyHash,t,e)),e},r.prototype.ensureArray=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!this.arraysInfo||!this.arraysInfo[t])return this.createNewArray(t,e,n)},r.prototype.createNewArray=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=this.createNewArrayCore(t);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[t]={onPush:e,isItemValues:!1};var s=this;return o.push=function(u){var p=Object.getPrototypeOf(o).push.call(o,u);if(!s.isDisposedValue){e&&e(u,o.length-1);var h=new Bt(o.length-1,0,[u],[]);s.propertyValueChanged(t,o,o,h),s.notifyArrayChanged(o,h)}return p},o.shift=function(){var u=Object.getPrototypeOf(o).shift.call(o);if(!s.isDisposedValue&&u){n&&n(u);var p=new Bt(o.length-1,1,[],[]);s.propertyValueChanged(t,o,o,p),s.notifyArrayChanged(o,p)}return u},o.unshift=function(u){var p=Object.getPrototypeOf(o).unshift.call(o,u);if(!s.isDisposedValue){e&&e(u,o.length-1);var h=new Bt(0,0,[u],[]);s.propertyValueChanged(t,o,o,h),s.notifyArrayChanged(o,h)}return p},o.pop=function(){var u=Object.getPrototypeOf(o).pop.call(o);if(!s.isDisposedValue){n&&n(u);var p=new Bt(o.length-1,1,[],[]);s.propertyValueChanged(t,o,o,p),s.notifyArrayChanged(o,p)}return u},o.splice=function(u,p){for(var h,m=[],x=2;x<arguments.length;x++)m[x-2]=arguments[x];u||(u=0),p||(p=0);var T=(h=Object.getPrototypeOf(o).splice).call.apply(h,function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r}([o,u,p],m));if(m||(m=[]),!s.isDisposedValue){if(n&&T)for(var D=0;D<T.length;D++)n(T[D]);if(e)for(D=0;D<m.length;D++)e(m[D],u+D);var B=new Bt(u,p,m,T);s.propertyValueChanged(t,o,o,B),s.notifyArrayChanged(o,B)}return T},o},r.prototype.getItemValueType=function(){},r.prototype.setArray=function(t,e,n,o,s){var u=[].concat(e);if(Object.getPrototypeOf(e).splice.call(e,0,e.length),n)for(var p=0;p<n.length;p++){var h=n[p];o&&r.createItemValue&&(h=r.createItemValue(h,this.getItemValueType())),Object.getPrototypeOf(e).push.call(e,h),s&&s(e[p])}var m=new Bt(0,u.length,e,u);this.propertyValueChanged(t,u,e,m),this.notifyArrayChanged(e,m)},r.prototype.isTwoValueEquals=function(t,e,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),R.isTwoValueEquals(t,e,!1,!n,o)},r.copyObject=function(t,e){for(var n in e){var o=e[n];"object"==typeof o&&this.copyObject(o={},e[n]),t[n]=o}},r.prototype.copyCssClasses=function(t,e){e&&("string"==typeof e||e instanceof String?t.root=e:r.copyObject(t,e))},r.prototype.getValueInLowCase=function(t){return t&&"string"==typeof t?t.toLowerCase():t},r.prototype.getElementsInDesign=function(t){return void 0===t&&(t=!1),[]},Object.defineProperty(r.prototype,"animationAllowed",{get:function(){return this.getIsAnimationAllowed()},enumerable:!1,configurable:!0}),r.prototype.getIsAnimationAllowed=function(){return I.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRenderedEvent)},r.prototype.blockAnimations=function(){this.animationAllowedLock--},r.prototype.releaseAnimations=function(){this.animationAllowedLock++},r.prototype.enableOnElementRenderedEvent=function(){this.onElementRenderedEventEnabled=!0},r.prototype.disableOnElementRenderedEvent=function(){this.onElementRenderedEventEnabled=!1},Object.defineProperty(r.prototype,"onElementRerendered",{get:function(){return this.supportOnElementRenderedEvent&&this.onElementRenderedEventEnabled?this._onElementRerendered:void 0},enumerable:!1,configurable:!0}),r.prototype.afterRerender=function(){var t;null===(t=this.onElementRerendered)||void 0===t||t.fire(this,void 0)},r.currentDependencis=void 0,r}(),Bt=function(){return function r(t,e,n,o){this.index=t,this.deleteCount=e,this.itemsToAdd=n,this.deletedItems=o}}(),Yn=function(){function r(){}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),r.prototype.fireByCreatingOptions=function(t,e){if(this.callbacks)for(var n=0;n<this.callbacks.length;n++)if(this.callbacks[n](t,e()),!this.callbacks)return},r.prototype.fire=function(t,e){if(this.callbacks)for(var n=[].concat(this.callbacks),o=0;o<n.length;o++)if(n[o](t,e),!this.callbacks)return},r.prototype.clear=function(){this.callbacks=void 0},r.prototype.add=function(t){this.hasFunc(t)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(t),this.fireCallbackChanged())},r.prototype.remove=function(t){if(this.hasFunc(t)){var e=this.callbacks.indexOf(t,0);this.callbacks.splice(e,1),this.fireCallbackChanged()}},r.prototype.hasFunc=function(t){return null!=this.callbacks&&this.callbacks.indexOf(t,0)>-1},r.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},r}(),it=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Qr(t,r),t}(Yn),sh=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rn=function(){function r(t,e,n,o,s){var u=this;void 0===o&&(o=null),this.container=t,this.model=e,this.itemsSelector=n,this.dotsItemSize=o,this.delayedUpdateFunction=s,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=function(p){return k.getComputedStyle(p)},this.model.updateCallback=function(p){p&&(u.isInitialized=!1),setTimeout(function(){u.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(p){V.requestAnimationFrame(function(){u.process()})}),this.resizeObserver.observe(this.container.parentElement))}return r.prototype.getDimensions=function(t){return{scroll:t.scrollWidth,offset:t.offsetWidth}},r.prototype.getAvailableSpace=function(){var t=this.getComputedStyle(this.container),e=this.container.offsetWidth;return"border-box"===t.boxSizing&&(e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),e},r.prototype.calcItemSize=function(t){return t.offsetWidth},r.prototype.calcMinDimension=function(t){var e=this.minDimensionConst;return t.iconSize&&this.recalcMinDimensionConst&&(e=2*t.iconSize+this.paddingSizeConst),t.canShrink?e+(t.needSeparator?this.separatorSize:0):t.maxDimension},r.prototype.getRenderedVisibleActionsCount=function(){var t=this,e=0;return this.container.querySelectorAll(this.itemsSelector).forEach(function(n){t.calcItemSize(n)>0&&e++}),e},r.prototype.calcItemsSizes=function(){var t=this;if(!this.isInitialized){var e=this.model.actions;(this.container.querySelectorAll(this.itemsSelector)||[]).forEach(function(o,s){t.calcActionDimensions(e[s],o)})}},r.prototype.calcActionDimensions=function(t,e){t.maxDimension=this.calcItemSize(e),t.minDimension=this.calcMinDimension(t)},Object.defineProperty(r.prototype,"isContainerVisible",{get:function(){return to(this.container)},enumerable:!1,configurable:!0}),r.prototype.process=function(){var t=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var e=function(){var o,s=t.dotsItemSize;if(!t.dotsItemSize){var u=null===(o=t.container)||void 0===o?void 0:o.querySelector(".sv-dots");s=u&&t.calcItemSize(u)||t.dotsSizeConst}t.model.fit(t.getAvailableSpace(),s)};if(this.isInitialized)e();else{var n=function(){t.calcItemsSizes(),t.isInitialized=!0,e()};this.getRenderedVisibleActionsCount()<this.model.visibleActions.length?this.delayedUpdateFunction?this.delayedUpdateFunction(n):queueMicrotask?queueMicrotask(n):n():n()}}},r.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},r}(),Zl=function(r){function t(e,n,o,s,u,p){void 0===u&&(u=40);var h=r.call(this,e,n,o,s,p)||this;return h.minDimensionConst=u,h.recalcMinDimensionConst=!1,h}return sh(t,r),t.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},t.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),n=this.container.offsetHeight;return"border-box"===e.boxSizing&&(n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)),n},t.prototype.calcItemSize=function(e){return e.offsetHeight},t.prototype.calcActionDimensions=function(e,n){e.maxDimension=this.calcItemSize(n),e.minDimension=this.calcItemSize(n)},t}(rn),A=function(){function r(){this.classes=[]}return r.prototype.isEmpty=function(){return""===this.toString()},r.prototype.append=function(t,e){return void 0===e&&(e=!0),t&&e&&("string"==typeof t&&(t=t.trim()),this.classes.push(t)),this},r.prototype.toString=function(){return this.classes.join(" ")},r}(),eu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},$i={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},ut=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.sizeMode="default",e}return eu(t,r),t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getRenderedActions=function(){return this.actions},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.actions.forEach(function(e){e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})},t.prototype.raiseUpdate=function(e){this.isEmpty=!this.actions.some(function(n){return n.visible}),this.updateCallback&&this.updateCallback(e)},t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){e.setActionCssClasses(n)}),this.raiseUpdate(!0)},t.prototype.onPush=function(e){this.setActionCssClasses(e),e.owner=this,this.raiseUpdate(!0)},t.prototype.onRemove=function(e){e.owner=null,this.raiseUpdate(!0)},t.prototype.setActionCssClasses=function(e){e.cssClasses=this.cssClasses},Object.defineProperty(t.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleActions",{get:function(){return this.actions.filter(function(e){return!1!==e.visible})},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){var e="small"===this.sizeMode?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return(new A).append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},t.prototype.getDefaultCssClasses=function(){return $i},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(e){var n=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Pt(e,this.cssClasses),this.actions.forEach(function(o){n.setActionCssClasses(o)})},enumerable:!1,configurable:!0}),t.prototype.createAction=function(e){return e instanceof Xn?e:new de(e)},t.prototype.addAction=function(e,n){void 0===n&&(n=!0);var o=this.createAction(e);return this.actions.push(o),this.sortItems(),o},t.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(e){return void 0===e.visibleIndex||e.visibleIndex>=0})).sort(function(e,n){return e.visibleIndex-n.visibleIndex})},t.prototype.setItems=function(e,n){var o=this;void 0===n&&(n=!0),this.actions=e.map(function(s){return o.createAction(s)}),n&&this.sortItems()},t.prototype.popupAfterShowCallback=function(e){},t.prototype.mouseOverHandler=function(e){var n=this;e.isHovered=!0,this.actions.forEach(function(o){o===e&&e.popupModel&&(e.showPopupDelayed(n.subItemsShowDelay),n.popupAfterShowCallback(e))})},t.prototype.initResponsivityManager=function(e,n){},t.prototype.resetResponsivityManager=function(){},t.prototype.getActionById=function(e){for(var n=0;n<this.actions.length;n++)if(this.actions[n].id===e)return this.actions[n];return null},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.actions.forEach(function(e){return e.dispose()}),this.actions.length=0},wn([qe({onSet:function(e,n){n.onSet()},onPush:function(e,n,o){o.onPush(e)},onRemove:function(e,n,o){o.onRemove(e)}})],t.prototype,"actions",void 0),wn([_({})],t.prototype,"containerCss",void 0),wn([_({defaultValue:!1})],t.prototype,"isEmpty",void 0),wn([_({defaultValue:300})],t.prototype,"subItemsShowDelay",void 0),wn([_({defaultValue:300})],t.prototype,"subItemsHideDelay",void 0),t}(oe),sn=function(){function r(){}return r.focusElement=function(t){t&&t.focus()},r.visibility=function(t){var e=k.getComputedStyle(t);return"none"!==e.display&&"hidden"!==e.visibility&&(!t.parentElement||this.visibility(t.parentElement))},r.getNextElementPreorder=function(t){var e=t.nextElementSibling?t.nextElementSibling:t.parentElement.firstElementChild;return this.visibility(e)?e:this.getNextElementPreorder(e)},r.getNextElementPostorder=function(t){var e=t.previousElementSibling?t.previousElementSibling:t.parentElement.lastElementChild;return this.visibility(e)?e:this.getNextElementPostorder(e)},r.hasHorizontalScroller=function(t){return!!t&&t.scrollWidth>t.offsetWidth},r.hasVerticalScroller=function(t){return!!t&&t.scrollHeight>t.offsetHeight},r}(),tu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ke=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},nu={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},Pn=function(r){function t(e,n,o,s,u){var p=r.call(this)||this;if(p.onSelectionChanged=n,p.allowSelection=o,p.elementId=u,p.onItemClick=function(m){if(!p.isItemDisabled(m)){p.isExpanded=!1,p.allowSelection&&(p.selectedItem=m),p.onSelectionChanged&&p.onSelectionChanged(m);var x=m.action;x&&x(m)}},p.onItemHover=function(m){p.mouseOverHandler(m)},p.isItemDisabled=function(m){return void 0!==m.enabled&&!m.enabled},p.isItemSelected=function(m){return p.areSameItems(p.selectedItem,m)},p.isItemFocused=function(m){return p.areSameItems(p.focusedItem,m)},p.getListClass=function(){return(new A).append(p.cssClasses.itemsContainer).append(p.cssClasses.itemsContainerFiltering,!!p.filterString&&p.visibleActions.length!==p.visibleItems.length).toString()},p.getItemClass=function(m){return(new A).append(p.cssClasses.item).append(p.cssClasses.itemWithIcon,!!m.iconName).append(p.cssClasses.itemDisabled,p.isItemDisabled(m)).append(p.cssClasses.itemFocused,p.isItemFocused(m)).append(p.cssClasses.itemSelected,p.isItemSelected(m)).append(p.cssClasses.itemGroup,m.hasSubItems).append(p.cssClasses.itemHovered,m.isHovered).append(p.cssClasses.itemTextWrap,p.textWrapEnabled).append(m.css).toString()},p.getItemIndent=function(m){return((m.level||0)+1)*t.INDENT+"px"},-1!==Object.keys(e).indexOf("items")){var h=e;Object.keys(h).forEach(function(m){switch(m){case"items":p.setItems(h.items);break;case"onFilterStringChangedCallback":p.setOnFilterStringChangedCallback(h.onFilterStringChangedCallback);break;case"onTextSearchCallback":p.setOnTextSearchCallback(h.onTextSearchCallback);break;default:p[m]=h[m]}})}else p.setItems(e),p.selectedItem=s;return p}return tu(t,r),t.prototype.hasText=function(e,n){if(!n)return!0;var o=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,n);var s=o.toLocaleLowerCase();return(s=I.comparator.normalizeTextCallback(s,"filter")).indexOf(n.toLocaleLowerCase())>-1},t.prototype.isItemVisible=function(e){return e.visible&&(!this.shouldProcessFilter||this.hasText(e,this.filterString))},t.prototype.getRenderedActions=function(){var e=r.prototype.getRenderedActions.call(this);if(this.filterString){var n=[];return e.forEach(function(o){n.push(o),o.items&&o.items.forEach(function(s){var u=new de(s);u.iconName||(u.iconName=o.iconName),n.push(u)})}),n}return e},Object.defineProperty(t.prototype,"visibleItems",{get:function(){var e=this;return this.visibleActions.filter(function(n){return e.isItemVisible(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),t.prototype.onFilterStringChanged=function(e){var n=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.isEmpty=0===this.renderedActions.filter(function(o){return n.isItemVisible(o)}).length},t.prototype.scrollToItem=function(e,n){var o=this;void 0===n&&(n=0),setTimeout(function(){if(o.listContainerHtmlElement){var s=o.listContainerHtmlElement.querySelector("."+e);s&&setTimeout(function(){s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},n)}},n)},t.prototype.setOnFilterStringChangedCallback=function(e){this.onFilterStringChangedCallback=e},t.prototype.setOnTextSearchCallback=function(e){this.onTextSearchCallback=e},t.prototype.setItems=function(e,n){var o=this;void 0===n&&(n=!0),r.prototype.setItems.call(this,e,n),this.elementId&&this.renderedActions.forEach(function(s){s.elementId=o.elementId+s.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},t.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>t.MINELEMENTCOUNT),r.prototype.onSet.call(this)},t.prototype.getDefaultCssClasses=function(){return nu},t.prototype.popupAfterShowCallback=function(e){this.addScrollEventListener(function(){e.hidePopup()})},t.prototype.onItemLeave=function(e){e.hidePopupDelayed(this.subItemsHideDelay)},t.prototype.areSameItems=function(e,n){return this.areSameItemsCallback?this.areSameItemsCallback(e,n):!!e&&!!n&&e.id==n.id},Object.defineProperty(t.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new de({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),t.prototype.goToItems=function(e){if("ArrowDown"===e.key||40===e.keyCode){var o=e.target.parentElement.parentElement.querySelector("ul"),s=function bu(r){for(var t,e=0;e<r.children.length;e++)!t&&"none"!==getComputedStyle(r.children[e]).display&&(t=r.children[e]);return t}(o);o&&s&&(sn.focusElement(s),e.preventDefault())}},t.prototype.onMouseMove=function(e){this.resetFocusedItem()},t.prototype.onKeyDown=function(e){var n=e.target;"ArrowDown"===e.key||40===e.keyCode?(sn.focusElement(sn.getNextElementPreorder(n)),e.preventDefault()):("ArrowUp"===e.key||38===e.keyCode)&&(sn.focusElement(sn.getNextElementPostorder(n)),e.preventDefault())},t.prototype.onPointerDown=function(e,n){},t.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},t.prototype.onClickSearchClearButton=function(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},t.prototype.resetFocusedItem=function(){this.focusedItem=void 0},t.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},t.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},t.prototype.initFocusedItem=function(){var e=this;this.focusedItem=this.visibleItems.filter(function(n){return n.visible&&e.isItemSelected(n)})[0],this.focusedItem||this.focusFirstVisibleItem()},t.prototype.focusNextVisibleItem=function(){if(this.focusedItem){var e=this.visibleItems,n=e.indexOf(this.focusedItem),o=e[n+1];o?this.focusedItem=o:this.focusFirstVisibleItem()}else this.initFocusedItem()},t.prototype.focusPrevVisibleItem=function(){if(this.focusedItem){var e=this.visibleItems,n=e.indexOf(this.focusedItem),o=e[n-1];o?this.focusedItem=o:this.focusLastVisibleItem()}else this.initFocusedItem()},t.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},t.prototype.initListContainerHtmlElement=function(e){this.listContainerHtmlElement=e},t.prototype.onLastItemRended=function(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=sn.hasVerticalScroller(this.scrollableContainer))},t.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},t.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},t.prototype.addScrollEventListener=function(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},t.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},t.INDENT=16,t.MINELEMENTCOUNT=10,Ke([_({defaultValue:!0,onSet:function(e,n){n.onSet()}})],t.prototype,"searchEnabled",void 0),Ke([_({defaultValue:!1})],t.prototype,"showFilter",void 0),Ke([_({defaultValue:!1})],t.prototype,"forceShowFilter",void 0),Ke([_({defaultValue:!1})],t.prototype,"isExpanded",void 0),Ke([_({})],t.prototype,"selectedItem",void 0),Ke([_()],t.prototype,"focusedItem",void 0),Ke([_({onSet:function(e,n){n.onFilterStringChanged(n.filterString)}})],t.prototype,"filterString",void 0),Ke([_({defaultValue:!1})],t.prototype,"hasVerticalScroller",void 0),Ke([_({defaultValue:!0})],t.prototype,"isAllDataLoaded",void 0),Ke([_({defaultValue:!1})],t.prototype,"showSearchClearButton",void 0),Ke([_({defaultValue:!0})],t.prototype,"renderElements",void 0),Ke([_({defaultValue:!1})],t.prototype,"textWrapEnabled",void 0),Ke([_({defaultValue:"sv-list-item-content"})],t.prototype,"itemComponent",void 0),t}(ut),iu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$e=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Vn=function(r){function t(e,n,o,s){var u=r.call(this)||this;if(u.focusFirstInputSelector="",u.onCancel=function(){},u.onApply=function(){return!0},u.onHide=function(){},u.onShow=function(){},u.onDispose=function(){},u.onVisibilityChanged=u.addEvent(),u.onFooterActionsCreated=u.addEvent(),u.onRecalculatePosition=u.addEvent(),u.contentComponentName=e,u.contentComponentData=n,o&&"string"==typeof o)u.verticalPosition=o,u.horizontalPosition=s;else if(o){var p=o;for(var h in p)u[h]=p[h]}return u}return iu(t,r),t.prototype.refreshInnerModel=function(){var e=this.contentComponentData.model;e&&e.refresh&&e.refresh()},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))},enumerable:!1,configurable:!0}),t.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},t.prototype.show=function(){this.isVisible||(this.isVisible=!0)},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.recalculatePosition=function(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})},t.prototype.updateFooterActions=function(e){var n={actions:e};return this.onFooterActionsCreated.fire(this,n),n.actions},t.prototype.updateDisplayMode=function(e){switch(e){case"dropdown":this.displayMode="popup";break;case"popup":this.displayMode="overlay",this.overlayDisplayMode="tablet-dropdown-overlay";break;case"overlay":this.displayMode="overlay",this.overlayDisplayMode="dropdown-overlay"}},t.prototype.onHiding=function(){this.refreshInnerModel(),this.onHide()},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.onDispose()},$e([_()],t.prototype,"contentComponentName",void 0),$e([_()],t.prototype,"contentComponentData",void 0),$e([_({defaultValue:"bottom"})],t.prototype,"verticalPosition",void 0),$e([_({defaultValue:"left"})],t.prototype,"horizontalPosition",void 0),$e([_({defaultValue:!0})],t.prototype,"showPointer",void 0),$e([_({defaultValue:!1})],t.prototype,"isModal",void 0),$e([_({defaultValue:!0})],t.prototype,"canShrink",void 0),$e([_({defaultValue:!0})],t.prototype,"isFocusedContent",void 0),$e([_({defaultValue:!0})],t.prototype,"isFocusedContainer",void 0),$e([_({defaultValue:""})],t.prototype,"cssClass",void 0),$e([_({defaultValue:""})],t.prototype,"title",void 0),$e([_({defaultValue:"auto"})],t.prototype,"overlayDisplayMode",void 0),$e([_({defaultValue:"popup"})],t.prototype,"displayMode",void 0),$e([_({defaultValue:"flex"})],t.prototype,"positionMode",void 0),t}(oe);function ou(r,t,e,n,o,s,u,p,h){return void 0===o&&(o=function(){}),void 0===s&&(s=function(){}),void 0===h&&(h="popup"),bt.warn("The `showModal()` and `createDialogOptions()` methods are obsolete. Use the `showDialog()` method instead."),{componentName:r,data:t,onApply:e,onCancel:n,onHide:o,onShow:s,cssClass:u,title:p,displayMode:h}}var Gr=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ce=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function su(r,t,e){return t.locOwner=e,zi(r,t,t)}function zi(r,t,e){var n,o=t.onSelectionChanged;t.onSelectionChanged=function(h){for(var m=[],x=1;x<arguments.length;x++)m[x-1]=arguments[x];p.hasTitle&&(p.title=h.title),o&&o(h,m)};var s=Ui(t,e),u=Object.assign({},r,{component:"sv-action-bar-item-dropdown",popupModel:s,action:function(h,m){r.action&&r.action(),s.isFocusedContent=s.isFocusedContent||!m,s.show()}}),p=new de(u);return p.data=null===(n=s.contentComponentData)||void 0===n?void 0:n.model,p}function Ui(r,t){var e=new Pn(r);e.onSelectionChanged=function(s){r.onSelectionChanged&&r.onSelectionChanged(s),o.hide()};var n=t||{};n.onDispose=function(){e.dispose()};var o=new Vn("sv-list",{model:e},n);return o.isFocusedContent=e.showFilter,o.onShow=function(){n.onShow&&n.onShow(),e.scrollToSelectedItem()},o}function au(r){return r?.previousElementSibling}var Xn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.rendredIdValue=t.getNextRendredId(),e.markerIconSize=16,e}return Gr(t,r),t.getNextRendredId=function(){return t.renderedId++},Object.defineProperty(t.prototype,"renderedId",{get:function(){return this.rendredIdValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},set:function(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisible()},set:function(e){this.setVisible(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(e){this.setEnabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.getComponent()},set:function(e){this.setComponent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(e){this.setLocTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getTitle()},set:function(e){this.setTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||$i},set:function(e){this.cssClassesValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.visible&&"popup"!==this.mode&&"removed"!==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return void 0!==this.enabled&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShrink",{get:function(){return!this.disableShrink&&!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return("small"!=this.mode&&(this.showTitle||void 0===this.showTitle)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSubItems",{get:function(){return!!this.items&&this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.getActionBarItemTitleCss=function(){return(new A).append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},t.prototype.getActionBarItemCss=function(){return(new A).append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},t.prototype.getActionRootCss=function(){return(new A).append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},t.prototype.getTooltip=function(){return this.tooltip||this.title},t.prototype.getIsTrusted=function(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted},t.prototype.showPopup=function(){this.popupModel&&this.popupModel.show()},t.prototype.hidePopup=function(){this.popupModel&&this.popupModel.hide()},t.prototype.clearPopupTimeouts=function(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},t.prototype.showPopupDelayed=function(e){var n=this;this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.showPopup()},e)},t.prototype.hidePopupDelayed=function(e){var o,n=this;null!==(o=this.popupModel)&&void 0!==o&&o.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.hidePopup(),n.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)},t.renderedId=1,ce([_()],t.prototype,"tooltip",void 0),ce([_()],t.prototype,"showTitle",void 0),ce([_()],t.prototype,"innerCss",void 0),ce([_()],t.prototype,"active",void 0),ce([_()],t.prototype,"pressed",void 0),ce([_()],t.prototype,"data",void 0),ce([_()],t.prototype,"popupModel",void 0),ce([_()],t.prototype,"needSeparator",void 0),ce([_()],t.prototype,"template",void 0),ce([_({defaultValue:"large"})],t.prototype,"mode",void 0),ce([_()],t.prototype,"visibleIndex",void 0),ce([_()],t.prototype,"disableTabStop",void 0),ce([_()],t.prototype,"disableShrink",void 0),ce([_()],t.prototype,"disableHide",void 0),ce([_({defaultValue:!1})],t.prototype,"needSpace",void 0),ce([_()],t.prototype,"ariaChecked",void 0),ce([_()],t.prototype,"ariaExpanded",void 0),ce([_({defaultValue:"button"})],t.prototype,"ariaRole",void 0),ce([_()],t.prototype,"iconName",void 0),ce([_({defaultValue:24})],t.prototype,"iconSize",void 0),ce([_()],t.prototype,"markerIconName",void 0),ce([_()],t.prototype,"markerIconSize",void 0),ce([_()],t.prototype,"css",void 0),ce([_({defaultValue:!1})],t.prototype,"isPressed",void 0),ce([_({defaultValue:!1})],t.prototype,"isHovered",void 0),t}(oe),de=function(r){function t(e){var n=r.call(this)||this;if(n.innerItem=e,n.locTitleChanged=function(){n.setPropertyValue("_title",n.locTitle.renderedHtml||void 0)},n.locTitle=e?e.locTitle:null,e)for(var o in e)"locTitle"===o||"title"===o&&n.locTitle&&n.title||(n[o]=e[o]);return n.locTitleName&&n.locTitleChanged(),n.registerFunctionOnPropertyValueChanged("_title",function(){n.raiseUpdate(!0)}),n.locStrChangedInPopupModel(),n}return Gr(t,r),t.prototype.raiseUpdate=function(e){void 0===e&&(e=!1),this.updateCallback&&this.updateCallback(e)},t.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},t.prototype.setSubItems=function(e){this.markerIconName="icon-next_16x16",this.component="sv-list-item-group",this.items=function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r}([],e.items);var n=Object.assign({},e);n.searchEnabled=!1;var o=Ui(n,{horizontalPosition:"right",showPointer:!1,canShrink:!1});o.cssClass="sv-popup-inner",this.popupModel=o},t.prototype.getLocTitle=function(){return this.locTitleValue},t.prototype.setLocTitle=function(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},t.prototype.getTitle=function(){return this._title},t.prototype.setTitle=function(e){this._title=e},Object.defineProperty(t.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(e){this.locTitle.localizationName=e},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},t.prototype.doAction=function(e){var n=e.originalEvent?e.originalEvent:e;return this.action(this,n.isTrusted),n.preventDefault(),n.stopPropagation(),!0},t.prototype.doMouseDown=function(e){this.isMouseDown=!0},t.prototype.doFocus=function(e){this.onFocus&&this.onFocus(this.isMouseDown,e.originalEvent?e.originalEvent:e),this.isMouseDown=!1},t.prototype.locStrChangedInPopupModel=function(){if(this.popupModel&&this.popupModel.contentComponentData&&this.popupModel.contentComponentData.model){var e=this.popupModel.contentComponentData.model;Array.isArray(e.actions)&&e.actions.forEach(function(o){o.locStrsChanged&&o.locStrsChanged()})}},t.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=te.getString(this.locTooltipName,this.locTitle.locale))},t.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.owner?this.owner.getMarkdownHtml(e,n):void 0},t.prototype.getProcessedText=function(e){return this.owner?this.owner.getProcessedText(e):e},t.prototype.getRenderer=function(e){return this.owner?this.owner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.owner?this.owner.getRendererContext(e):e},t.prototype.setVisible=function(e){this._visible=e},t.prototype.getVisible=function(){return this._visible},t.prototype.setEnabled=function(e){this._enabled=e},t.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},t.prototype.setComponent=function(e){this._component=e},t.prototype.getComponent=function(){return this._component},t.prototype.dispose=function(){this.updateCallback=void 0,this.action=void 0,r.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose(),this.locTitleValue&&(this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0)},ce([_()],t.prototype,"id",void 0),ce([_({defaultValue:!0,onSet:function(e,n){n.raiseUpdate()}})],t.prototype,"_visible",void 0),ce([_({onSet:function(e,n){n.locTooltipChanged()}})],t.prototype,"locTooltipName",void 0),ce([_()],t.prototype,"_enabled",void 0),ce([_()],t.prototype,"action",void 0),ce([_()],t.prototype,"onFocus",void 0),ce([_()],t.prototype,"_component",void 0),ce([_()],t.prototype,"items",void 0),ce([_({onSet:function(e,n){n.locTitleValue.text!==e&&(n.locTitleValue.text=e)}})],t.prototype,"_title",void 0),t}(Xn),lu=function(){function r(t){this.item=t,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return r.prototype.setupPopupCallbacks=function(){var t=this,e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],function(){t.item.pressed=!!e.isVisible},this.funcKey)},r.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},r.prototype.dispose=function(){this.removePopupCallbacks()},r}(),uu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jn=function(r){function t(){var e=r.call(this)||this;return e.minVisibleItemsCount=0,e.isResponsivenessDisabled=!1,e.dotsItem=zi({id:"dotsItem-id"+t.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:te.getString("more")},{items:[],allowSelection:!1}),e}return uu(t,r),t.prototype.hideItemsGreaterN=function(e){var n=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-n.length));var o=[];n.forEach(function(s){e<=0&&(s.removePriority?s.mode="removed":(s.mode="popup",o.push(s.innerItem))),e--}),this.hiddenItemsListModel.setItems(o)},t.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(e){return!e.disableHide}).sort(function(e,n){return e.removePriority||0-n.removePriority||0})},t.prototype.getVisibleItemsCount=function(e){this.visibleActions.filter(function(u){return u.disableHide}).forEach(function(u){return e-=u.minDimension});for(var n=this.getActionsToHide().map(function(u){return u.minDimension}),o=0,s=0;s<n.length;s++)if((o+=n[s])>e)return s;return s},t.prototype.updateItemMode=function(e,n){for(var o=this.visibleActions,s=o.length-1;s>=0;s--)n>e&&!o[s].disableShrink?(n-=o[s].maxDimension-o[s].minDimension,o[s].mode="small"):o[s].mode="large";if(n>e){var u=this.visibleActions.filter(function(p){return p.removePriority});for(u.sort(function(p,h){return p.removePriority-h.removePriority}),s=0;s<u.length;s++)n>e&&(n-=o[s].disableShrink?u[s].maxDimension:u[s].minDimension,u[s].mode="removed")}},Object.defineProperty(t.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){return n.updateCallback=function(o){return e.raiseUpdate(o)}}),r.prototype.onSet.call(this)},t.prototype.onPush=function(e){var n=this;e.updateCallback=function(o){return n.raiseUpdate(o)},r.prototype.onPush.call(this,e)},t.prototype.getRenderedActions=function(){return 1===this.actions.length&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},t.prototype.raiseUpdate=function(e){this.isResponsivenessDisabled||r.prototype.raiseUpdate.call(this,e)},t.prototype.fit=function(e,n){if(!(e<=0)){this.dotsItem.visible=!1;var o=0,s=0;this.visibleActions.forEach(function(p){o+=p.minDimension,s+=p.maxDimension}),e>=s?this.setActionsMode("large"):e<o?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e-n)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e,s)}},t.prototype.initResponsivityManager=function(e,n){this.responsivityManager=new rn(e,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,n)},t.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},t.prototype.setActionsMode=function(e){this.actions.forEach(function(n){"small"==e&&n.disableShrink||(n.mode=e)})},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},t.ContainerID=1,t}(ut);(function(){function r(t,e){var n=this;void 0===e&&(e=!1),this.func=t,this.isMultiple=e,this._isCompleted=!1,this.execute=function(){n._isCompleted||(n.func(),n._isCompleted=!n.isMultiple)}}r.prototype.discard=function(){this._isCompleted=!0},Object.defineProperty(r.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!1,configurable:!0})})(),function(){function r(t){void 0===t&&(t=100),this.interval=t,setTimeout(r.Instance().tick,t)}r.Instance=function(){return r.instance||(r.instance=new r),r.instance},r.prototype.tick=function(){try{for(var t=[],e=0;e<r.tasks.length;e++){var n=r.tasks[e];n.execute(),n.isCompleted?"function"==typeof n.dispose&&n.dispose():t.push(n)}r.tasks=t}finally{setTimeout(r.Instance().tick,this.interval)}},r.schedule=function(t){r.tasks.push(t)},r.instance=void 0,r.tasks=[]}();var an=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xt=function(){function r(){this.cancelQueue=[]}return r.prototype.getMsFromRule=function(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))},r.prototype.reflow=function(t){return t.offsetHeight},r.prototype.getAnimationsCount=function(t){var e="";return getComputedStyle&&(e=getComputedStyle(t).animationName),e&&"none"!=e?e.split(", ").length:0},r.prototype.getAnimationDuration=function(t){for(var e=getComputedStyle(t),n=e.animationDelay.split(", "),o=e.animationDuration.split(", "),s=0,u=0;u<Math.max(o.length,n.length);u++)s=Math.max(s,this.getMsFromRule(o[u%o.length])+this.getMsFromRule(n[u%n.length]));return s},r.prototype.addCancelCallback=function(t){this.cancelQueue.push(t)},r.prototype.removeCancelCallback=function(t){this.cancelQueue.indexOf(t)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(t),1)},r.prototype.onAnimationEnd=function(t,e,n){var s,o=this,u=this.getAnimationsCount(t),p=function(m){void 0===m&&(m=!0),o.afterAnimationRun(t,n),e(m),clearTimeout(s),o.removeCancelCallback(p),t.removeEventListener("animationend",h)},h=function(m){m.target==m.currentTarget&&--u<=0&&p(!1)};u>0?(t.addEventListener("animationend",h),this.addCancelCallback(p),s=setTimeout(function(){p(!1)},this.getAnimationDuration(t)+10)):(this.afterAnimationRun(t,n),e(!0))},r.prototype.afterAnimationRun=function(t,e){t&&e&&e.onAfterRunAnimation&&e.onAfterRunAnimation(t)},r.prototype.beforeAnimationRun=function(t,e){t&&e&&e.onBeforeRunAnimation&&e.onBeforeRunAnimation(t)},r.prototype.getCssClasses=function(t){return t.cssClass.replace(/\s+$/,"").split(/\s+/)},r.prototype.runAnimation=function(t,e,n){t&&e?.cssClass?(this.reflow(t),this.getCssClasses(e).forEach(function(o){t.classList.add(o)}),this.onAnimationEnd(t,n,e)):n(!0)},r.prototype.clearHtmlElement=function(t,e){t&&e.cssClass&&this.getCssClasses(e).forEach(function(n){t.classList.remove(n)})},r.prototype.onNextRender=function(t,e){var n=this;if(void 0===e&&(e=!1),!e&&V.isAvailable()){var o=function(){t(!0),cancelAnimationFrame(s)},s=V.requestAnimationFrame(function(){s=V.requestAnimationFrame(function(){t(!1),n.removeCancelCallback(o)})});this.addCancelCallback(o)}else t(!0)},r.prototype.cancel=function(){[].concat(this.cancelQueue).forEach(function(e){return e()}),this.cancelQueue=[]},r}(),Re=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return an(t,r),t.prototype.onEnter=function(e){var n=this,o=e.getAnimatedElement(),s=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(o,s),this.runAnimation(o,s,function(){n.clearHtmlElement(o,s)})},t.prototype.onLeave=function(e,n){var o=this,s=e.getAnimatedElement(),u=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(s,u),this.runAnimation(s,u,function(p){n(),o.onNextRender(function(){o.clearHtmlElement(s,u)},p)})},t}(xt),Fe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return an(t,r),t.prototype.runGroupAnimation=function(e,n,o,s,u){var p=this,h={isAddingRunning:n.length>0,isDeletingRunning:o.length>0,isReorderingRunning:s.length>0},m=n.map(function($){return e.getAnimatedElement($)}),x=n.map(function($){return e.getEnterOptions?e.getEnterOptions($,h):{}}),T=o.map(function($){return e.getAnimatedElement($)}),D=o.map(function($){return e.getLeaveOptions?e.getLeaveOptions($,h):{}}),B=s.map(function($){return e.getAnimatedElement($.item)}),j=s.map(function($){return e.getReorderOptions?e.getReorderOptions($.item,$.movedForward,h):{}});n.forEach(function($,Z){p.beforeAnimationRun(m[Z],x[Z])}),o.forEach(function($,Z){p.beforeAnimationRun(T[Z],D[Z])}),s.forEach(function($,Z){p.beforeAnimationRun(B[Z],j[Z])});var X=n.length+o.length+B.length,U=function($){--X<=0&&(u&&u(),p.onNextRender(function(){n.forEach(function(Z,Ce){p.clearHtmlElement(m[Ce],x[Ce])}),o.forEach(function(Z,Ce){p.clearHtmlElement(T[Ce],D[Ce])}),s.forEach(function(Z,Ce){p.clearHtmlElement(B[Ce],j[Ce])})},$))};n.forEach(function($,Z){p.runAnimation(m[Z],x[Z],U)}),o.forEach(function($,Z){p.runAnimation(T[Z],D[Z],U)}),s.forEach(function($,Z){p.runAnimation(B[Z],j[Z],U)})},t}(xt),Ae=function(){function r(t,e,n){var o=this;this.animationOptions=t,this.update=e,this.getCurrentValue=n,this._debouncedSync=function ke(r){var o,t=this,e=!1,n=!1;return{run:function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];n=!1,o=s,e||(e=!0,queueMicrotask(function(){n||r.apply(t,o),n=!1,e=!1}))},cancel:function(){n=!0}}}(function(s){o.animation.cancel();try{o._sync(s)}catch{o.update(s)}})}return r.prototype.onNextRender=function(t,e){var n=this,o=this.animationOptions.getRerenderEvent();if(o){var u=function(){o.remove(p),n.cancelCallback=void 0},p=function(){t(),u()};this.cancelCallback=function(){e&&e(),u()},o.add(p)}else{if(!V.isAvailable())throw new Error("Can't get next render");var s=V.requestAnimationFrame(function(){t(),n.cancelCallback=void 0});this.cancelCallback=function(){e&&e(),cancelAnimationFrame(s),n.cancelCallback=void 0}}},r.prototype.sync=function(t){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(t):(this.cancel(),this.update(t))},r.prototype.cancel=function(){this._debouncedSync.cancel(),this.cancelCallback&&this.cancelCallback(),this.animation.cancel()},r}(),Kn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.animation=new Re,e}return an(t,r),t.prototype._sync=function(e){var n=this;e!==this.getCurrentValue()?e?(this.onNextRender(function(){n.animation.onEnter(n.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,function(){n.update(e)}):this.update(e)},t}(Ae),Se=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.animation=new Fe,e}return an(t,r),t.prototype._sync=function(e){var o,s,n=this,u=this.getCurrentValue(),p=null===(o=this.animationOptions.allowSyncRemovalAddition)||void 0===o||o,h=function Pu(r,t,e){var n=new Map,o=new Map,s=new Map,u=new Map;r.forEach(function(U){var $=e(U);if(n.has($))throw new Error("keys must be unique");n.set(e(U),U)}),t.forEach(function(U){var $=e(U);if(o.has($))throw new Error("keys must be unique");o.set($,U)});var p=[],h=[];o.forEach(function(U,$){n.has($)?s.set($,s.size):p.push(U)}),n.forEach(function(U,$){o.has($)?u.set($,u.size):h.push(U)});var m=[];s.forEach(function(U,$){var Z=u.get($),Ce=o.get($);Z!==U&&m.push({item:Ce,movedForward:Z<U})});var x=new Array(r.length),T=0,D=Array.from(s.keys());r.forEach(function(U,$){s.has(e(U))?(x[$]=o.get(D[T]),T++):x[$]=U});var B=new Map,j=[];x.forEach(function(U){var $=e(U);o.has($)?j.length>0&&(B.set($,j),j=[]):j.push(U)});var X=new Array;return o.forEach(function(U,$){B.has($)&&B.get($).forEach(function(Z){X.push(Z)}),X.push(U)}),j.forEach(function(U){X.push(U)}),{reorderedItems:m,deletedItems:h,addedItems:p,mergedItems:X}}(u,e,null!==(s=this.animationOptions.getKey)&&void 0!==s?s:function(j){return j}),m=h.addedItems,x=h.deletedItems,T=h.reorderedItems,D=h.mergedItems;!p&&(T.length>0||m.length>0)&&(x=[],D=e);var B=function(){n.animation.runGroupAnimation(n.animationOptions,m,x,T,function(){x.length>0&&n.update(e)})};[m,x,T].some(function(j){return j.length>0})?x.length<=0||T.length>0||m.length>0?(this.onNextRender(B,function(){n.update(e)}),this.update(D)):B():this.update(e)},t}(Ae),wt=function(r){function t(e,n,o,s){var u=r.call(this,e,n,o)||this;return u.mergeValues=s,u.animation=new Fe,u}return an(t,r),t.prototype._sync=function(e){var n=this,o=[].concat(this.getCurrentValue());if(o[0]!==e[0]){var s=this.mergeValues?this.mergeValues(e,o):[].concat(o,e);this.onNextRender(function(){n.animation.runGroupAnimation(n.animationOptions,e,o,[],function(){n.update(e)})},function(){return n.update(e)}),this.update(s,!0)}else this.update(e)},t}(Ae),$r=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ue=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Zn=function(r){function t(){var e=r.call(this)||this;return e.createLocTitleProperty(),e}return $r(t,r),t.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(t.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(e){this.setLocalizableStringText("title",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){},t.prototype.updateDescriptionVisibility=function(e){var n=!1;if(this.isDesignMode){var o=M.findProperty(this.getType(),"description");n=!!o?.placeholder}this.hasDescription=!!e||n&&this.isDesignMode},Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTagName",{get:function(){var e=this.getDefaultTitleTagName(),n=this.getSurvey();return n?n.getElementTitleTagName(this,e):e},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleTagName=function(){return I.titleTags[this.getType()]},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return null},t.prototype.getTitleOwner=function(){},Object.defineProperty(t.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),t.prototype.toggleState=function(){},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),t.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},Ue([_()],t.prototype,"hasDescription",void 0),Ue([_({localizable:!0,onSet:function(e,n){n.updateDescriptionVisibility(e)}})],t.prototype,"description",void 0),t}(oe),zr=function(r){return r[r.InsideEmptyPanel=1]="InsideEmptyPanel",r[r.MultilineRight=2]="MultilineRight",r[r.MultilineLeft=3]="MultilineLeft",r[r.Top=4]="Top",r[r.Right=5]="Right",r[r.Bottom=6]="Bottom",r[r.Left=7]="Left",r}(zr||{}),We=function(r){function t(e){var n=r.call(this)||this;return n.selectedElementInDesignValue=n,n.disableDesignActions=t.CreateDisabledDesignElements,n.parentQuestionValue=null,n.isContentElement=!1,n.isEditableTemplateElement=!1,n.isInteractiveDesignElement=!0,n.isSingleInRow=!0,n._renderedIsExpanded=!0,n._isAnimatingCollapseExpand=!1,n.animationCollapsed=new Kn(n.getExpandCollapseAnimationOptions(),function(o){n._renderedIsExpanded=o,n.animationAllowed&&(o?n.isAnimatingCollapseExpand=!0:n.updateElementCss(!1))},function(){return n.renderedIsExpanded}),n.name=e,n.createNewArray("errors"),n.createNewArray("titleActions"),n.registerPropertyChangedHandlers(["isReadOnly"],function(){n.onReadOnlyChanged()}),n.registerPropertyChangedHandlers(["errors"],function(){n.updateVisibleErrors()}),n.registerPropertyChangedHandlers(["isSingleInRow"],function(){n.updateElementCss(!1)}),n.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],function(){n.updateRootStyle()}),n}return $r(t,r),t.getProgressInfoByElements=function(e,n){for(var o=oe.createProgressInfo(),s=0;s<e.length;s++)if(e[s].isVisible){var u=e[s].getProgressInfo();o.questionCount+=u.questionCount,o.answeredQuestionCount+=u.answeredQuestionCount,o.requiredQuestionCount+=u.requiredQuestionCount,o.requiredAnsweredQuestionCount+=u.requiredAnsweredQuestionCount}return n&&o.questionCount>0&&(0==o.requiredQuestionCount&&(o.requiredQuestionCount=1),o.answeredQuestionCount>0&&(o.requiredAnsweredQuestionCount=1)),o},t.ScrollElementToTop=function(e,n,o){var s=I.environment.root;if(!e||typeof s>"u")return!1;var u=s.getElementById(e);return t.ScrollElementToViewCore(u,!1,n,o)},t.ScrollElementToViewCore=function(e,n,o,s){if(!e||!e.scrollIntoView)return!1;var u=o?-1:e.getBoundingClientRect().top,p=u<0,h=-1;if(!p&&n&&(p=(h=e.getBoundingClientRect().left)<0),!p&&V.isAvailable()){var m=V.getInnerHeight();if(!(p=m>0&&m<u)&&n){var x=V.getInnerWidth();p=x>0&&x<h}}return p&&e.scrollIntoView(s),p},t.GetFirstNonTextElement=function(e,n){if(void 0===n&&(n=!1),!e||!e.length||0==e.length)return null;if(n){var o=e[0];"#text"===o.nodeName&&(o.data=""),"#text"===(o=e[e.length-1]).nodeName&&(o.data="")}for(var s=0;s<e.length;s++)if("#text"!=e[s].nodeName&&"#comment"!=e[s].nodeName)return e[s];return null},t.FocusElement=function(e){if(!e||!k.isAvailable())return!1;var n=t.focusElementCore(e);return n||setTimeout(function(){t.focusElementCore(e)},10),n},t.focusElementCore=function(e){var n=I.environment.root;if(!n)return!1;var o=n.getElementById(e);return!(!o||o.disabled||"none"===o.style.display||null===o.offsetParent||(t.ScrollElementToViewCore(o,!0,!1),o.focus(),0))},Object.defineProperty(t.prototype,"colSpan",{get:function(){return this.getPropertyValue("colSpan",1)},set:function(e){this.setPropertyValue("colSpan",e)},enumerable:!1,configurable:!0}),t.prototype.onPropertyValueChanged=function(e,n,o){r.prototype.onPropertyValueChanged.call(this,e,n,o),"state"===e&&(this.updateElementCss(!1),this.notifyStateChanged(n),this.stateChangedCallback&&this.stateChangedCallback())},t.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(t.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),t.prototype.setParentQuestion=function(e){this.parentQuestionValue=e,this.onParentQuestionChanged()},t.prototype.onParentQuestionChanged=function(){},Object.defineProperty(t.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!("collapsed"===this.state&&!this.isDesignMode)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChanged=function(e){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return"collapsed"===this.state&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return"expanded"===this.state},enumerable:!1,configurable:!0}),t.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},t.prototype.expand=function(){this.state="expanded"},t.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):!this.isExpanded||(this.collapse(),!1)},Object.defineProperty(t.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},t.prototype.createActionContainer=function(e){var n=e?new Jn:new ut;return this.survey&&this.survey.getCss().actionBar&&(n.cssClasses=this.survey.getCss().actionBar),n},Object.defineProperty(t.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),t.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},t.prototype.getDefaultTitleActions=function(){return[]},t.prototype.updateTitleActions=function(){var e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)},Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return void 0!==this.state&&"default"!==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){return this.isPage||"default"===this.state?void 0:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){if(!this.isPage&&"default"!==this.state)return"expanded"===this.state?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){if(!this.isPage&&"default"!==this.state)return"button"},enumerable:!1,configurable:!0}),t.prototype.setSurveyImpl=function(e,n){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},t.prototype.canRunConditions=function(){return r.prototype.canRunConditions.call(this)&&!!this.data},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getDataFilteredProperties=function(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e},Object.defineProperty(t.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),t.prototype.__setData=function(e){I.supportCreatorV2&&(this.surveyDataValue=e)},Object.defineProperty(t.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.surveyValue||this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue},t.prototype.setSurveyCore=function(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(t.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClassesValue",{get:function(){return this.getPropertyValueWithoutDefault("cssClassesValue")},set:function(e){this.setPropertyValue("cssClassesValue",e)},enumerable:!1,configurable:!0}),t.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){var e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){},t.prototype.updateElementCssCore=function(e){},Object.defineProperty(t.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.clearCssClasses()},t.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},t.prototype.getIsLoadingFromJson=function(){return!!r.prototype.getIsLoadingFromJson.call(this)||!!this.surveyValue&&this.surveyValue.isLoadingFromJson},Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){var n=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&n&&this.onNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.getValidName=function(e){return e},t.prototype.onNameChanged=function(e){},t.prototype.updateBindingValue=function(e,n){this.data&&!this.isTwoValueEquals(n,this.data.getValue(e))&&this.data.setValue(e,n,!1)},Object.defineProperty(t.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(e){this.setPropertyValue("errors",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisibleErrors=function(){for(var e=0,n=0;n<this.errors.length;n++)this.errors[n].visible&&e++;this.hasVisibleErrors=e>0},Object.defineProperty(t.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),t.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},t.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(t.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(e){this.selectedElementInDesignValue=e},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidgets=function(){},t.prototype.onSurveyLoad=function(){},Object.defineProperty(t.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),t.prototype.onFirstRendering=function(){this.wasRenderedValue=!0,this.ensureCssClassesValue()},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},t.prototype.setVisibleIndex=function(e){return 0},t.prototype.delete=function(e){},t.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,n):this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,e):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.survey&&"function"==typeof this.survey.getRendererContextForString?this.survey.getRendererContextForString(this,e):this.locOwner&&"function"==typeof this.locOwner.getRendererContext?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},t.prototype.removeSelfFromList=function(e){if(e&&Array.isArray(e)){var n=e.indexOf(this);n>-1&&e.splice(n,1)}},Object.defineProperty(t.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getProcessedHtml=function(e){return e&&this.textProcessor?this.textProcessor.processText(e,!0):e},t.prototype.onSetData=function(){},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),t.prototype.getPage=function(e){for(;e&&e.parent;)e=e.parent;return e&&"page"==e.getType()?e:null},t.prototype.moveToBase=function(e,n,o){if(void 0===o&&(o=null),!n)return!1;e.removeElement(this);var s=-1;return R.isNumber(o)&&(s=parseInt(o)),-1==s&&o&&o.getType&&(s=n.indexOf(o)),n.addElement(this,s),!0},t.prototype.setPage=function(e,n){var o=this.getPage(e);"string"==typeof n&&this.getSurvey().pages.forEach(function(u){n===u.name&&(n=u)}),o!==n&&(e&&e.removeElement(this),n&&n.addElement(this,-1))},t.prototype.getSearchableLocKeys=function(e){e.push("title"),e.push("description")},Object.defineProperty(t.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&"sd-root-modern"==this.survey.getCss().root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&!this.parent.originalPage||void 0===this.parent},enumerable:!1,configurable:!0}),t.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(t.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),t.prototype.canHaveFrameStyles=function(){return void 0!==this.parent&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)},t.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()},t.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()},t.prototype.getCssRoot=function(e){var n=!!this.isCollapsed||!!this.isExpanded;return(new A).append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,n&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,n).append(e.nested,this.getIsNested()).toString()},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(e){this.setPropertyValue("maxWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),t.prototype.getRootStyle=function(){var e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(e){this.setPropertyValue("paddingLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),t.prototype.updateRootStyle=function(){var n,e={};if(this.parent&&(n=this.parent.getColumsForElement(this).reduce(function(u,p){return p.effectiveWidth+u},0))&&100!==n&&(e.flexGrow=0,e.flexShrink=0,e.flexBasis=n+"%",e.minWidth=void 0,e.maxWidth=void 0),0==Object.keys(e).length){var s=this.minWidth;"auto"!=s&&(s="min(100%, "+s+")"),this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=s,e.maxWidth=this.maxWidth)}this.rootStyle=e},t.prototype.isContainsSelection=function(e){var n=void 0,o=k.getDocument();if(k.isAvailable()&&o&&o.selection)n=o.selection.createRange().parentElement();else{var s=V.getSelection();if(s&&s.rangeCount>0){var u=s.getRangeAt(0);u.startOffset!==u.endOffset&&(n=u.startContainer.parentNode)}}return n==e},Object.defineProperty(t.prototype,"clickTitleFunction",{get:function(){var e=this;if(this.needClickTitleFunction())return function(n){if(!n||!e.isContainsSelection(n.target))return e.processTitleClick()}},enumerable:!1,configurable:!0}),t.prototype.needClickTitleFunction=function(){return"default"!==this.state},t.prototype.processTitleClick=function(){"default"!==this.state&&this.toggleState()},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return null},t.prototype.getCssTitle=function(e){var n="default"!==this.state;return(new A).append(e.title).append(e.titleNumInline,(this.no||"").length>4||n).append(e.titleExpandable,n).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()},Object.defineProperty(t.prototype,"isDisabledStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[0]},enumerable:!1,configurable:!0}),t.prototype.getIsDisableAndReadOnlyStyles=function(e){var n=this.isPreviewStyle,o=e||this.isReadOnly;return[o&&!n,!this.isDefaultV2Theme&&(o||n)]},Object.defineProperty(t.prototype,"isPreviewStyle",{get:function(){return!!this.survey&&"preview"===this.survey.state},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(e){e.updateText()})},t.prototype.setWrapperElement=function(e){this.wrapperElement=e},t.prototype.getWrapperElement=function(){return this.wrapperElement},Object.defineProperty(t.prototype,"isAnimatingCollapseExpand",{get:function(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded},set:function(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))},enumerable:!1,configurable:!0}),t.prototype.onElementExpanded=function(e){},t.prototype.getExpandCollapseAnimationOptions=function(){var e=this,n=function(s){e.isAnimatingCollapseExpand=!0,s.style.setProperty("--animation-height",s.offsetHeight+"px")},o=function(s){e.isAnimatingCollapseExpand=!1};return{getRerenderEvent:function(){return e.onElementRerendered},getEnterOptions:function(){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).contentFadeIn,onBeforeRunAnimation:n,onAfterRunAnimation:function(u){o(),e.onElementExpanded(!0)}}},getLeaveOptions:function(){return{cssClass:(e.isPanel?e.cssClasses.panel:e.cssClasses).contentFadeOut,onBeforeRunAnimation:n,onAfterRunAnimation:o}},getAnimatedElement:function(){var s,u=e.isPanel?e.cssClasses.panel:e.cssClasses;if(u.content){var p=Ht(u.content);if(p)return null===(s=e.getWrapperElement())||void 0===s?void 0:s.querySelector(":scope "+p)}},isAnimationEnabled:function(){return e.isExpandCollapseAnimationEnabled}}},Object.defineProperty(t.prototype,"isExpandCollapseAnimationEnabled",{get:function(){return this.animationAllowed&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedIsExpanded",{get:function(){return!!this._renderedIsExpanded},set:function(e){var n=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!n&&this.renderedIsExpanded&&this.onElementExpanded(!1)},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){return r.prototype.getIsAnimationAllowed.call(this)&&!!this.survey&&!this.survey.isEndLoadingFromJson},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},t.CreateDisabledDesignElements=!1,Ue([_({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),Ue([_({defaultValue:!1})],t.prototype,"isDragMe",void 0),Ue([_({onSet:function(e,n){n.colSpan=e}})],t.prototype,"effectiveColSpan",void 0),Ue([_({defaultValue:!1})],t.prototype,"hasVisibleErrors",void 0),Ue([_({defaultValue:!0})],t.prototype,"isSingleInRow",void 0),Ue([_({defaultValue:!0})],t.prototype,"allowRootStyle",void 0),Ue([_()],t.prototype,"rootStyle",void 0),Ue([_()],t.prototype,"_renderedIsExpanded",void 0),t}(Zn),ot=function(){function r(t,e,n){var o;void 0===e&&(e=!1),this.owner=t,this.useMarkdown=e,this.name=n,this.values={},this.htmlValues={},this._allowLineBreaks=!1,this.onStringChanged=new it,t instanceof Zn&&(this._allowLineBreaks="text"==(null===(o=M.findProperty(t.getType(),n))||void 0===o?void 0:o.type)),this.onCreating()}return Object.defineProperty(r,"defaultLocale",{get:function(){return I.localization.defaultLocaleName},set:function(t){I.localization.defaultLocaleName=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localizationName",{get:function(){return this._localizationName},set:function(t){this._localizationName!=t&&(this._localizationName=t,this.strChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allowLineBreaks",{get:function(){return this._allowLineBreaks},enumerable:!1,configurable:!0}),r.prototype.getIsMultiple=function(){return!1},Object.defineProperty(r.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var t=this.owner.getLocale();if(t||!this.sharedData)return t}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),r.prototype.strChanged=function(){this.searchableText=void 0,(void 0!==this.renderedText||!this.isEmpty||this.onGetTextCallback||this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(r.prototype,"text",{get:function(){return this.pureText},set:function(t){this.setLocaleText(this.locale,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),r.prototype.calcText=function(){var t=this.pureText;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t)),t},Object.defineProperty(r.prototype,"pureText",{get:function(){var t=this.locale;t||(t=this.defaultLoc);var e=this.getValue(t);if(this.isValueEmpty(e)&&t===this.defaultLoc&&(e=this.getValue(te.defaultLocale)),this.isValueEmpty(e)){var n=this.getRootDialect(t);n&&(e=this.getValue(n))}return this.isValueEmpty(e)&&t!==this.defaultLoc&&(e=this.getValue(this.defaultLoc)),this.isValueEmpty(e)&&this.getLocalizationName()&&(e=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(e=this.onGetLocalizationTextCallback(e))),e||(e=this.defaultValue||""),e},enumerable:!1,configurable:!0}),r.prototype.getRootDialect=function(t){if(!t)return t;var e=t.indexOf("-");return e>-1?t.substring(0,e):""},r.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},r.prototype.getLocalizationStr=function(){var t=this.getLocalizationName();return t?te.getString(t,this.locale):""},Object.defineProperty(r.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),r.prototype.getLocaleText=function(t){return this.getLocaleTextCore(t)||""},r.prototype.getLocaleTextCore=function(t){return t||(t=this.defaultLoc),this.getValue(t)},r.prototype.isLocaleTextEqualsWithDefault=function(t,e){var n=this.getLocaleTextCore(t);return n===e||this.isValueEmpty(n)&&this.isValueEmpty(e)},r.prototype.clear=function(){this.setJson(void 0)},r.prototype.clearLocale=function(t){this.setLocaleText(t,void 0)},r.prototype.setLocaleText=function(t,e){if(t=this.getValueLoc(t),this.storeDefaultText||!this.isLocaleTextEqualsWithDefault(t,e)){if(I.localization.storeDuplicatedTranslations||this.isValueEmpty(e)||!t||t==this.defaultLoc||this.getValue(t)||e!=this.getLocaleText(this.defaultLoc)){t||(t=this.defaultLoc);var u=this.onStrChanged&&t===this.curLocale?this.pureText:void 0;delete this.htmlValues[t],this.isValueEmpty(e)?this.deleteValue(t):"string"==typeof e&&(this.canRemoveLocValue(t,e)?this.setLocaleText(t,null):(this.setValue(t,e),t==this.defaultLoc&&this.deleteValuesEqualsToDefault(e))),this.fireStrChanged(t,u)}}else{if(!this.isValueEmpty(e)||t&&t!==this.defaultLoc)return;var n=te.defaultLocale,o=this.getValue(n);n&&!this.isValueEmpty(o)&&(this.setValue(n,e),this.fireStrChanged(n,o))}},r.prototype.isValueEmpty=function(t){return null==t||!this.localizationName&&""===t},Object.defineProperty(r.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),r.prototype.canRemoveLocValue=function(t,e){if(I.localization.storeDuplicatedTranslations||t===this.defaultLoc)return!1;var n=this.getRootDialect(t);if(n){var o=this.getLocaleText(n);return o?o==e:this.canRemoveLocValue(n,e)}return e==this.getLocaleText(this.defaultLoc)},r.prototype.fireStrChanged=function(t,e){if(this.strChanged(),this.onStrChanged){var n=this.pureText;(t!==this.curLocale||e!==n)&&this.onStrChanged(e,n)}},r.prototype.hasNonDefaultText=function(){var t=this.getValuesKeys();return 0!=t.length&&(t.length>1||t[0]!=this.defaultLoc)},r.prototype.getLocales=function(){var t=this.getValuesKeys();return 0==t.length?[]:t},r.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var t=this.getValuesKeys();if(0==t.length)return null;if(1==t.length&&t[0]==I.localization.defaultLocaleName&&!I.serialization.localizableStringSerializeAsObject)return this.values[t[0]];var e={};for(var n in this.values)e[n]=this.values[n];return e},r.prototype.setJson=function(t){if(this.sharedData)this.sharedData.setJson(t);else if(this.values={},this.htmlValues={},null!=t){if("string"==typeof t)this.setLocaleText(null,t);else for(var e in t)this.setLocaleText(e,t[e]);this.strChanged()}},Object.defineProperty(r.prototype,"renderAs",{get:function(){return this.owner&&"function"==typeof this.owner.getRenderer&&this.owner.getRenderer(this.name)||r.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderAsData",{get:function(){return this.owner&&"function"==typeof this.owner.getRendererContext&&this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),r.prototype.equals=function(t){return this.sharedData?this.sharedData.equals(t):!(!t||!t.values)&&R.isTwoValueEquals(this.values,t.values,!1,!0,!1)},r.prototype.setFindText=function(t){if(this.searchText!=t){if(this.searchText=t,!this.searchableText){var e=this.textOrHtml;this.searchableText=e?e.toLowerCase():""}var n=this.searchableText,o=n&&t?n.indexOf(t):void 0;return o<0&&(o=void 0),(null!=o||this.searchIndex!=o)&&(this.searchIndex=o,this.onSearchChanged&&this.onSearchChanged()),null!=this.searchIndex}},r.prototype.onChanged=function(){},r.prototype.onCreating=function(){},r.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var t=this.locale;if(t||(t=this.defaultLoc),void 0!==this.htmlValues[t])return!!this.htmlValues[t];var e=this.calculatedText;if(!e)return this.setHtmlValue(t,""),!1;if(this.getLocalizationName()&&e===this.getLocalizationStr())return this.setHtmlValue(t,""),!1;var n=this.owner.getMarkdownHtml(e,this.name);return this.setHtmlValue(t,n),!!n},r.prototype.setHtmlValue=function(t,e){this.htmlValues[t]=e},r.prototype.getHtmlValue=function(){var t=this.locale;return t||(t=this.defaultLoc),this.htmlValues[t]},r.prototype.deleteValuesEqualsToDefault=function(t){if(!I.localization.storeDuplicatedTranslations)for(var e=this.getValuesKeys(),n=0;n<e.length;n++)e[n]!=this.defaultLoc&&this.getValue(e[n])==t&&this.deleteValue(e[n])},r.prototype.getValue=function(t){return this.sharedData?this.sharedData.getValue(t):this.values[this.getValueLoc(t)]},r.prototype.setValue=function(t,e){this.sharedData?this.sharedData.setValue(t,e):this.values[this.getValueLoc(t)]=e},r.prototype.deleteValue=function(t){this.sharedData?this.sharedData.deleteValue(t):delete this.values[this.getValueLoc(t)]},r.prototype.getValueLoc=function(t){return this.disableLocalization?I.localization.defaultLocaleName:t},r.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(r.prototype,"defaultLoc",{get:function(){return I.localization.defaultLocaleName},enumerable:!1,configurable:!0}),r.SerializeAsObject=!1,r.defaultRenderer="sv-string-viewer",r.editableRenderer="sv-string-editor",r}(),Ur=function(){function r(t){this.owner=t,this.values={}}return r.prototype.getIsMultiple=function(){return!0},Object.defineProperty(r.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue("")},set:function(t){this.setValue("",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(t){this.value=t?t.split("\n"):[]},enumerable:!1,configurable:!0}),r.prototype.getLocaleText=function(t){var e=this.getValueCore(t,!t||t===this.locale);return e&&Array.isArray(e)&&0!=e.length?e.join("\n"):""},r.prototype.setLocaleText=function(t,e){var n=e?e.split("\n"):null;this.setValue(t,n)},r.prototype.getValue=function(t){return this.getValueCore(t)},r.prototype.getValueCore=function(t,e){if(void 0===e&&(e=!0),t=this.getLocale(t),this.values[t])return this.values[t];if(e){var n=I.localization.defaultLocaleName;if(t!==n&&this.values[n])return this.values[n]}return[]},r.prototype.setValue=function(t,e){t=this.getLocale(t);var n=R.createCopy(this.values);e&&0!=e.length?this.values[t]=e:delete this.values[t],this.onValueChanged&&this.onValueChanged(n,this.values)},r.prototype.hasValue=function(t){return void 0===t&&(t=""),!this.isEmpty&&this.getValue(t).length>0},Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),r.prototype.getLocale=function(t){return t||(t=this.locale)||I.localization.defaultLocaleName},r.prototype.getLocales=function(){var t=this.getValuesKeys();return 0==t.length?[]:t},r.prototype.getJson=function(){var t=this.getValuesKeys();return 0==t.length?null:1!=t.length||t[0]!=I.localization.defaultLocaleName||I.serialization.localizableStringSerializeAsObject?R.createCopy(this.values):this.values[t[0]]},r.prototype.setJson=function(t){if(this.values={},t)if(Array.isArray(t))this.setValue(null,t);else for(var e in t)this.setValue(e,t[e])},r.prototype.getValuesKeys=function(){return Object.keys(this.values)},r}();function Wr(r){return I&&I.confirmActionFunc?I.confirmActionFunc(r):confirm(r)}function ln(r,t,e,n,o){var s=function(u){u?t():e&&e()};I&&I.confirmActionAsync&&I.confirmActionAsync(r,s,void 0,n,o)||s(Wr(r))}function ue(){if(typeof ue.isIEOrEdge>"u"){var r=navigator.userAgent,t=r.indexOf("MSIE "),e=r.indexOf("Trident/"),n=r.indexOf("Edge/");ue.isIEOrEdge=n>0||e>0||t>0}return ue.isIEOrEdge}function Yi(r,t){try{for(var e=atob(r.split(",")[1]),n=r.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(e.length),s=new Uint8Array(o),u=0;u<e.length;u++)s[u]=e.charCodeAt(u);var p=new Blob([o],{type:n});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(p,t)}catch{}}var Tn=function(r){return!!r&&!(!("host"in r)||!r.host)},In=function(r){return"string"==typeof r?I.environment.root.getElementById(r):r};function ei(r){var t=I.environment.root;return r?r.scrollHeight>r.clientHeight&&("scroll"===getComputedStyle(r).overflowY||"auto"===getComputedStyle(r).overflowY)||r.scrollWidth>r.clientWidth&&("scroll"===getComputedStyle(r).overflowX||"auto"===getComputedStyle(r).overflowX)?r:ei(r.parentElement):Tn(t)?t.host:t.documentElement}function fu(r){var t=V.getLocation();!r||!t||(t.href=function mu(r){return r&&(r.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(r):r)}(r))}function Ji(r){return r?["url(",r,")"].join(""):""}function hu(r,t,e,n,o,s){if(o){"auto"!==r&&(o.style.width=(r||t||16)+"px",o.style.height=(r||e||16)+"px");var u=o.childNodes[0],p=function Rn(r){return r&&I.customIcons[r]||r}(n);u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+p);var h=o.getElementsByTagName("title")[0];if(!s)return void(h&&o.removeChild(h));h||(h=k.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),o.appendChild(h)),h.textContent=s}}function gu(r){return"function"!=typeof r?r:r()}function qt(r){if("string"==typeof r){if(!isNaN(Number(r)))return Number(r);if(r.includes("px"))return parseFloat(r)}if("number"==typeof r)return r}function K(r){if(void 0===qt(r))return r}var Ki="sv-focused--by-key";function Yr(r){var t=r.target;!t||!t.classList||t.classList.remove(Ki)}function Xr(r,t){if(!r.target||"true"!==r.target.contentEditable){var e=r.target;if(e){var n=r.which||r.keyCode;if(9===n)return void(e.classList&&!e.classList.contains(Ki)&&e.classList.add(Ki));if(t){if(!t.__keyDownReceived)return;t.__keyDownReceived=!1}13===n||32===n?e.click&&e.click():(!t||t.processEsc)&&27===n&&e.blur&&e.blur()}}}function yu(r,t){if(void 0===t&&(t={processEsc:!0}),t&&(t.__keyDownReceived=!0),!r.target||"true"!==r.target.contentEditable){var e=r.which||r.keyCode,n=[13,32];t.processEsc&&n.push(27),-1!==n.indexOf(e)&&r.preventDefault()}}function Zi(r,t){if(r){t||(t=function(n){return k.getComputedStyle(n)});var e=t(r);r.style.height="auto",r.scrollHeight&&(r.style.height=r.scrollHeight+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px")}}function vu(r){return r.originalEvent||r}function Sn(r){r.preventDefault(),r.stopPropagation()}function Ht(r){return r?r.replace(/\s*?([\w-]+)\s*?/g,".$1"):r}function eo(r){return getComputedStyle?Number.parseFloat(getComputedStyle(r).width):r.offsetWidth}function to(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)}function _u(r,t){if(void 0===t&&(t=!0),V.isAvailable()&&k.isAvailable()&&r.childNodes.length>0){var e=V.getSelection();if(0==e.rangeCount)return;var n=e.getRangeAt(0);n.setStart(n.endContainer,n.endOffset),n.setEndAfter(r.lastChild),e.removeAllRanges(),e.addRange(n);var o=e.toString(),s=r.innerText;o=o.replace(/\r/g,""),t&&(o=o.replace(/\n/g,""),s=s.replace(/\n/g,""));var u=o.length;for(r.innerText=s,(n=k.getDocument().createRange()).setStart(r.firstChild,0),n.setEnd(r.firstChild,0),e.removeAllRanges(),e.addRange(n);e.toString().length<s.length-u;){var p=e.toString().length;if(e.modify("extend","forward","character"),e.toString().length==p)break}(n=e.getRangeAt(0)).setStart(n.endContainer,n.endOffset)}}function Pt(r,t){if(t&&r&&"object"==typeof t)for(var e in r){var n=r[e];!Array.isArray(n)&&n&&"object"==typeof n?((!t[e]||"object"!=typeof t[e])&&(t[e]={}),Pt(n,t[e])):t[e]=n}}function Jr(r,t){V.isFileReaderAvailable()&&(r.value="",r.onchange=function(e){if(V.isFileReaderAvailable()&&r&&r.files&&!(r.files.length<1)){for(var n=[],o=0;o<r.files.length;o++)n.push(r.files[o]);t(n)}},r.click())}!function(){function r(){this._result=""}r.prototype.log=function(t){this._result+="->"+t},Object.defineProperty(r.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0})}();var ti=typeof globalThis<"u"?globalThis.document:(void 0).document,Tu=ti?{root:ti,_rootElement:k.getBody(),get rootElement(){var r;return null!==(r=this._rootElement)&&void 0!==r?r:k.getBody()},set rootElement(r){this._rootElement=r},_popupMountContainer:k.getBody(),get popupMountContainer(){var r;return null!==(r=this._popupMountContainer)&&void 0!==r?r:k.getBody()},set popupMountContainer(r){this._popupMountContainer=r},svgMountContainer:ti.head,stylesSheetsMountContainer:ti.head}:void 0,I={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(r){this.designMode.showEmptyDescriptions=r},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(r){this.designMode.showEmptyTitles=r},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(r){this.localization.useLocalTimeZone=r},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(r){this.localization.storeDuplicatedTranslations=r},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(r){this.localization.defaultLocaleName=r},web:{onBeforeRequestChoices:function(r,t){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(r){this.web.encodeUrlParams=r},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(r){this.web.cacheLoadedChoices=r},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(r){this.web.cacheLoadedChoices=r},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(r){this.web.disableQuestionWhileLoadingChoices=r},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(r){this.web.surveyServiceUrl=r},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(r){this.triggers.executeCompleteOnValueChanged=r},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(r){this.triggers.changeNavigationButtonsOnComplete=r},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(r){this.triggers.executeSkipOnValueChanged=r},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(r){this.serialization.itemValueSerializeAsObject=r},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(r){this.serialization.itemValueSerializeDisplayText=r},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(r){this.serialization.localizableStringSerializeAsObject=r},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(r){this.lazyRender.enabled=r},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(r){this.lazyRender.firstBatchSize=r},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:{file:{minWidth:"240px"},comment:{minWidth:"200px"}},rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(r){this.matrix.defaultRowName=r},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(r){this.matrix.defaultCellType=r},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(r){this.matrix.totalsSuffix=r},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(r){this.matrix.maxRowCount=r},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(r){this.matrix.maxRowCountInCondition=r},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(r){this.matrix.renderRemoveAsIcon=r},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(r){this.panel.maxPanelCountInCondition=r},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(r){this.panel.maxPanelCount=r},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(r){this.readOnly.commentRenderMode=r},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(r){this.readOnly.textRenderMode=r},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(r){this.numbering.includeQuestionsWithHiddenTitle=r},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(r){this.numbering.includeQuestionsWithHiddenNumber=r},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(r,t){return r}},expressionDisableConversionChar:"#",get commentPrefix(){return I.commentSuffix},set commentPrefix(r){I.commentSuffix=r},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:function(r){return confirm(r)},confirmActionAsync:function(r,t,e,n,o){return function xu(r,t,e,n,o){var s=new ot(void 0),u=I.showDialog({componentName:"sv-string-viewer",data:{locStr:s,locString:s,model:s},onApply:function(){return t(!0),!0},onCancel:function(){return t(!1),!1},title:r,displayMode:"popup",isFocusedContent:!1,cssClass:"sv-popup--confirm-delete"},o),p=u.footerToolbar,h=p.getActionById("apply"),m=p.getActionById("cancel");return m.title=te.getString("cancel",n),m.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",h.title=e||te.getString("ok",n),h.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",function wu(r){r.width="min-content"}(u),!0}(r,t,e,n,o)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:Tu,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,parseNumber:function(r,t){return t}},Ye=function(){function r(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.text=t,this.errorOwner=e,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return r.prototype.equals=function(t){return!(!t||!t.getErrorType||this.getErrorType()!==t.getErrorType())&&this.text===t.text&&this.visible===t.visible},Object.defineProperty(r.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new ot(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),r.prototype.getText=function(){var t=this.text;return t||(t=this.getDefaultText()),this.errorOwner&&(t=this.errorOwner.getErrorCustomText(t,this)),t},r.prototype.getErrorType=function(){return"base"},r.prototype.getDefaultText=function(){return""},r.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},r.prototype.getLocalizationString=function(t){return te.getString(t,this.getLocale())},r.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},r}(),Ze=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kr=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"required"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},t}(Ye),Zr=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"requireoneanswer"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},t}(Ye),es=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"requirenumeric"},t.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},t}(Ye),ts=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,null,n)||this;return o.maxSize=e,o.locText.text=o.getText(),o}return Ze(t,r),t.prototype.getErrorType=function(){return"exceedsize"},t.prototype.getDefaultText=function(){return te.getString("exceedMaxSize").format(this.getTextSize())},t.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var o=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,o)).toFixed([0,0,2,3,3][o])+" "+["Bytes","KB","MB","GB","TB"][o]},t}(Ye),Ru=function(r){function t(e,n,o){void 0===o&&(o=null);var s=r.call(this,null,o)||this;return s.status=e,s.response=n,s}return Ze(t,r),t.prototype.getErrorType=function(){return"webrequest"},t.prototype.getDefaultText=function(){var e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""},t}(Ye),Su=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"webrequestempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},t}(Ye),Ou=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"otherempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},t}(Ye),ni=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"uploadingfile"},t.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},t}(Ye),Eu=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"requiredinallrowserror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},t}(Ye),Du=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"eachrowuniqueeerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},t}(Ye),Mu=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,null,n)||this;return o.minRowCount=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"minrowcounterror"},t.prototype.getDefaultText=function(){return te.getString("minRowCountError").format(this.minRowCount)},t}(Ye),ns=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"keyduplicationerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},t}(Ye),tt=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this,e,n)||this;return o.text=e,o}return Ze(t,r),t.prototype.getErrorType=function(){return"custom"},t}(Ye),Qt=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ne=function(){return function r(t,e){void 0===e&&(e=null),this.value=t,this.error=e}}(),Gt=function(r){function t(){var e=r.call(this)||this;return e.createLocalizableString("text",e,!0),e}return Qt(t,r),t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(t.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),t.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},t.prototype.getDefaultErrorText=function(e){return""},t.prototype.validate=function(e,n,o,s){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),null},Object.defineProperty(t.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.errorOwner?this.errorOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e},t.prototype.createCustomError=function(e){var n=this,o=new tt(this.getErrorText(e),this.errorOwner);return o.onUpdateErrorTextCallback=function(s){return s.text=n.getErrorText(e)},o},t.prototype.toString=function(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e},t}(oe),is=function(){function r(){}return r.prototype.run=function(t){var e=this,n=[],o=null,s=null;this.prepareAsyncValidators();for(var u=[],p=t.getValidators(),h=0;h<p.length;h++){var m=p[h];!o&&m.isValidateAllValues&&(o=t.getDataFilteredValues(),s=t.getDataFilteredProperties()),m.isAsync&&(this.asyncValidators.push(m),m.onAsyncCompleted=function(T){if(T&&T.error&&u.push(T.error),e.onAsyncCompleted){for(var D=0;D<e.asyncValidators.length;D++)if(e.asyncValidators[D].isRunning)return;e.onAsyncCompleted(u)}})}for(p=t.getValidators(),h=0;h<p.length;h++){var x=(m=p[h]).validate(t.validatedValue,t.getValidatorTitle(),o,s);x&&x.error&&n.push(x.error)}return 0==this.asyncValidators.length&&this.onAsyncCompleted&&this.onAsyncCompleted([]),n},r.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var t=0;t<this.asyncValidators.length;t++)this.asyncValidators[t].onAsyncCompleted=null;this.asyncValidators=[]},r}(),os=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this)||this;return o.minValue=e,o.maxValue=n,o}return Qt(t,r),t.prototype.getType=function(){return"numericvalidator"},t.prototype.validate=function(e,n,o,s){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),this.isValueEmpty(e))return null;if(!R.isNumber(e))return new Ne(null,new es(this.text,this.errorOwner));var u=new Ne(R.getNumber(e));return null!==this.minValue&&this.minValue>u.value||null!==this.maxValue&&this.maxValue<u.value?(u.error=this.createCustomError(n),u):"number"==typeof e?null:u},t.prototype.getDefaultErrorText=function(e){var n=e||this.getLocalizationString("value");return null!==this.minValue&&null!==this.maxValue?this.getLocalizationFormatString("numericMinMax",n,this.minValue,this.maxValue):null!==this.minValue?this.getLocalizationFormatString("numericMin",n,this.minValue):this.getLocalizationFormatString("numericMax",n,this.maxValue)},Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e)},enumerable:!1,configurable:!0}),t}(Gt),rs=function(r){function t(){return r.call(this)||this}return Qt(t,r),t.prototype.getType=function(){return"textvalidator"},t.prototype.validate=function(e,n,o,s){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),this.isValueEmpty(e)?null:this.allowDigits||/^[A-Za-z\s\.]*$/.test(e)?this.minLength>0&&e.length<this.minLength||this.maxLength>0&&e.length>this.maxLength?new Ne(null,this.createCustomError(n)):null:new Ne(null,this.createCustomError(n))},t.prototype.getDefaultErrorText=function(e){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(t.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(e){this.setPropertyValue("minLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(e){this.setPropertyValue("allowDigits",e)},enumerable:!1,configurable:!0}),t}(Gt),ss=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this)||this;return o.minCount=e,o.maxCount=n,o}return Qt(t,r),t.prototype.getType=function(){return"answercountvalidator"},t.prototype.validate=function(e,n,o,s){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),null==e||e.constructor!=Array)return null;var u=e.length;return 0==u?null:this.minCount&&u<this.minCount?new Ne(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&u>this.maxCount?new Ne(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},t.prototype.getDefaultErrorText=function(e){return e},Object.defineProperty(t.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(e){this.setPropertyValue("minCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)},enumerable:!1,configurable:!0}),t}(Gt),as=function(r){function t(e){void 0===e&&(e=null);var n=r.call(this)||this;return n.regex=e,n}return Qt(t,r),t.prototype.getType=function(){return"regexvalidator"},t.prototype.validate=function(e,n,o,s){if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),!this.regex||this.isValueEmpty(e))return null;var u=this.createRegExp();if(Array.isArray(e))for(var p=0;p<e.length;p++){var h=this.hasError(u,e[p],n);if(h)return h}return this.hasError(u,e,n)},t.prototype.hasError=function(e,n,o){return e.test(n)?null:new Ne(n,this.createCustomError(o))},Object.defineProperty(t.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(e){this.setPropertyValue("regex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insensitive",{get:function(){return this.getPropertyValue("insensitive")},set:function(e){this.setPropertyValue("insensitive",e)},enumerable:!1,configurable:!0}),t.prototype.createRegExp=function(){return new RegExp(this.regex,this.insensitive?"i":"")},t}(Gt),no=function(r){function t(){var e=r.call(this)||this;return e.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,e}return Qt(t,r),t.prototype.getType=function(){return"emailvalidator"},t.prototype.validate=function(e,n,o,s){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),!e||this.re.test(e)?null:new Ne(e,this.createCustomError(n))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationString("invalidEmail")},t}(Gt),ls=function(r){function t(e){void 0===e&&(e=null);var n=r.call(this)||this;return n.conditionRunner=null,n.isRunningValue=!1,n.expression=e,n}return Qt(t,r),t.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),t.prototype.validate=function(e,n,o,s){var u=this;if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(h){u.isRunningValue=!1,u.onAsyncCompleted&&u.onAsyncCompleted(u.generateError(h,e,n))},this.isRunningValue=!0;var p=this.conditionRunner.run(o,s);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(p,e,n))},t.prototype.generateError=function(e,n,o){return e?null:new Ne(n,this.createCustomError(o))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationFormatString("invalidExpression",this.expression)},t.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new Xe(this.expression),!0)},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t}(Gt);M.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),M.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new os},"surveyvalidator"),M.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new rs},"surveyvalidator"),M.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new ss},"surveyvalidator"),M.addClass("regexvalidator",["regex",{name:"insensitive:boolean",visible:!1}],function(){return new as},"surveyvalidator"),M.addClass("emailvalidator",[],function(){return new no},"surveyvalidator"),M.addClass("expressionvalidator",["expression:condition"],function(){return new ls},"surveyvalidator");var us=function(){function r(t,e){this.name=t,this.widgetJson=e,this.htmlTemplate=e.htmlTemplate?e.htmlTemplate:""}return r.prototype.afterRender=function(t,e){var n=this;this.widgetJson.afterRender&&(t.localeChangedCallback=function(){n.widgetJson.willUnmount&&n.widgetJson.willUnmount(t,e),n.widgetJson.afterRender(t,e)},this.widgetJson.afterRender(t,e))},r.prototype.willUnmount=function(t,e){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(t,e)},r.prototype.getDisplayValue=function(t,e){return void 0===e&&(e=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(t,e):null},r.prototype.validate=function(t){if(this.widgetJson.validate)return this.widgetJson.validate(t)},r.prototype.isFit=function(t){return!(!this.isLibraryLoaded()||!this.widgetJson.isFit)&&this.widgetJson.isFit(t)},Object.defineProperty(r.prototype,"canShowInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox&&"customtype"==io.Instance.getActivatedBy(this.name)&&(!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox},set:function(t){this.widgetJson.showInToolbox=t},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},r.prototype.activatedByChanged=function(t){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(t)},r.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||1==this.widgetJson.widgetIsLoaded()},Object.defineProperty(r.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),r}(),io=function(){function r(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new Yn}return Object.defineProperty(r.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),r.prototype.add=function(t,e){void 0===e&&(e="property"),this.addCustomWidget(t,e)},r.prototype.addCustomWidget=function(t,e){void 0===e&&(e="property");var n=t.name;n||(n="widget_"+this.widgets.length+1);var o=new us(n,t);return this.widgetsValues.push(o),o.init(),this.widgetsActivatedBy[n]=e,o.activatedByChanged(e),this.onCustomWidgetAdded.fire(o,null),o},r.prototype.getActivatedBy=function(t){return this.widgetsActivatedBy[t]||"property"},r.prototype.setActivatedBy=function(t,e){if(t&&e){var n=this.getCustomWidgetByName(t);n&&(this.widgetsActivatedBy[t]=e,n.activatedByChanged(e))}},r.prototype.clear=function(){this.widgetsValues=[]},r.prototype.getCustomWidgetByName=function(t){for(var e=0;e<this.widgets.length;e++)if(this.widgets[e].name==t)return this.widgets[e];return null},r.prototype.getCustomWidget=function(t){for(var e=0;e<this.widgetsValues.length;e++)if(this.widgetsValues[e].isFit(t))return this.widgetsValues[e];return null},r.Instance=new r,r}(),cs=function(){function r(){this.renderersHash={},this.defaultHash={}}return r.prototype.unregisterRenderer=function(t,e){delete this.renderersHash[t][e],this.defaultHash[t]===e&&delete this.defaultHash[t]},r.prototype.registerRenderer=function(t,e,n,o){void 0===o&&(o=!1),this.renderersHash[t]||(this.renderersHash[t]={}),this.renderersHash[t][e]=n,o&&(this.defaultHash[t]=e)},r.prototype.getRenderer=function(t,e){var n=this.renderersHash[t];if(n){if(e&&n[e])return n[e];var o=this.defaultHash[t];if(o&&n[o])return n[o]}return"default"},r.prototype.getRendererByQuestion=function(t){return this.getRenderer(t.getType(),t.renderAs)},r.prototype.clear=function(){this.renderersHash={}},r.Instance=new r,r}(),ku=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),un=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Au=function(){return function r(t,e,n){this.name=t,this.canRun=e,this.doComplete=n,this.runSecondCheck=function(o){return!1}}}(),je=function(r){function t(e){var n=r.call(this,e)||this;return n.customWidgetData={isNeedRender:!0},n.hasCssErrorCallback=function(){return!1},n.isReadyValue=!0,n.dependedQuestions=[],n.onReadyChanged=n.addEvent(),n.triggersInfo=[],n.isRunningValidatorsValue=!1,n.isValueChangedInSurvey=!1,n.allowNotifyValueChanged=!0,n.id=t.getQuestionId(),n.onCreating(),n.createNewArray("validators",function(s){s.errorOwner=n}),n.addExpressionProperty("visibleIf",function(s,u){n.visible=!0===u},function(s){return!n.areInvisibleElementsShowing}),n.addExpressionProperty("enableIf",function(s,u){n.readOnly=!1===u}),n.addExpressionProperty("requiredIf",function(s,u){n.isRequired=!0===u}),n.createLocalizableString("commentText",n,!0,"otherItemText"),n.createLocalizableString("requiredErrorText",n),n.addTriggerInfo("resetValueIf",function(){return!n.isEmpty()},function(){n.clearValue(),n.updateValueWithDefaults()}),n.addTriggerInfo("setValueIf",function(){return!0},function(){return n.runSetValueExpression()}).runSecondCheck=function(s){return n.checkExpressionIf(s)},n.registerPropertyChangedHandlers(["width"],function(){n.updateQuestionCss(),n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["isRequired"],function(){!n.isRequired&&n.errors.length>0&&n.validate(),n.locTitle.strChanged(),n.clearCssClasses()}),n.registerPropertyChangedHandlers(["indent","rightIndent"],function(){n.onIndentChanged()}),n.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){n.initCommentFromSurvey()}),n.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){n.updateQuestionCss()}),n.registerPropertyChangedHandlers(["_isMobile"],function(){n.onMobileChanged()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var s;null===(s=n.parent)||void 0===s||s.updateColumns()}),n}return ku(t,r),t.getQuestionId=function(){return"sq_"+t.questionCounter++},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===I.readOnly.commentRenderMode},t.prototype.allowMobileInDesignMode=function(){return!1},t.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},t.prototype.setIsMobile=function(e){var n=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=n},t.prototype.getIsMobile=function(){return this._isMobile},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this.getIsMobile()},set:function(e){this._isMobile=e},enumerable:!1,configurable:!0}),t.prototype.themeChanged=function(e){},t.prototype.getDefaultTitle=function(){return this.name},t.prototype.createLocTitleProperty=function(){var e=this,n=r.prototype.createLocTitleProperty.call(this);return n.storeDefaultText=!0,n.onGetTextCallback=function(o){return o||(o=e.getDefaultTitle()),e.survey?e.survey.getUpdatedQuestionTitle(e,o):o},this.locProcessedTitle=new ot(this,!0),this.locProcessedTitle.sharedData=n,n},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():r.prototype.getSurvey.call(this)},t.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){var n=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.onValueNameChanged=function(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},t.prototype.onNameChanged=function(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},t.prototype.updateIsReady=function(){var e=this.getIsQuestionReady();if(e)for(var n=this.getIsReadyDependsOn(),o=0;o<n.length;o++)if(!n[o].getIsQuestionReady()){e=!1;break}this.setIsReady(e)},t.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},t.prototype.getAreNestedQuestionsReady=function(){var e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!e[n].isReady)return!1;return!0},t.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},t.prototype.setIsReady=function(e){var n=this.isReadyValue;this.isReadyValue=e,n!=e&&(this.getIsReadyDependends().forEach(function(o){return o.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:n}))},t.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},t.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},t.prototype.getIsReadyDependendCore=function(e){var n=this;if(!this.survey)return[];var o=this.survey.questionsByValueName(this.getValueName()),s=new Array;return o.forEach(function(u){u!==n&&s.push(u)}),e||(this.parentQuestion&&s.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(u){return s.push(u)})),s},t.prototype.choicesLoaded=function(){},Object.defineProperty(t.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return null},t.prototype.delete=function(e){void 0===e&&(e=!0),this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()},t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.addDependedQuestion=function(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)},t.prototype.removeDependedQuestion=function(e){if(e){var n=this.dependedQuestions.indexOf(e);n>-1&&this.dependedQuestions.splice(n,1)}},t.prototype.updateDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()},t.prototype.updateDependedQuestion=function(){},t.prototype.resetDependedQuestion=function(){},Object.defineProperty(t.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),t.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},t.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),t.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},t.prototype.notifyStateChanged=function(e){r.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.onHidingContent()},t.prototype.updateIsVisibleProp=function(){var e=this.getPropertyValue("isVisible"),n=this.isVisible;e!==n&&(this.setPropertyValue("isVisible",n),n||this.onHidingContent())},Object.defineProperty(t.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)},enumerable:!1,configurable:!0}),t.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(!!this.areInvisibleElementsShowing||this.isVisibleCore())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),t.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){},Object.defineProperty(t.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(e){this.setPropertyValue("hideNumber",e),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"question"},Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.moveTo=function(e,n){return void 0===n&&(n=null),this.moveToBase(this.parent,e,n)},t.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:r.prototype.getProgressInfo.call(this)},t.prototype.ensureSetValueExpressionRunner=function(){var e=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new _t(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(n){e.runExpressionSetValue(n)})},t.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},t.prototype.checkExpressionIf=function(e){return this.ensureSetValueExpressionRunner(),!!this.setValueExpressionRunner&&(new He).isAnyKeyChanged(e,this.setValueExpressionRunner.getVariables())},t.prototype.addTriggerInfo=function(e,n,o){var s=new Au(e,n,o);return this.triggersInfo.push(s),s},t.prototype.runTriggerInfo=function(e,n,o){var s=this[e.name],u={};u[n]=o,s&&!e.isRunning&&e.canRun()?(e.runner?e.runner.expression=s:(e.runner=new _t(s),e.runner.onRunComplete=function(p){!0===p&&e.doComplete(),e.isRunning=!1}),((new He).isAnyKeyChanged(u,e.runner.getVariables())||e.runSecondCheck(u))&&(e.isRunning=!0,e.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))):e.runSecondCheck(u)&&e.doComplete()},t.prototype.runTriggers=function(e,n){var o=this;this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||this.triggersInfo.forEach(function(s){o.runTriggerInfo(s,e,n)})},t.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e),this.survey&&(this.survey.questionCreated(this),!0!==n&&this.runConditions(),this.calcRenderedCommentPlaceholder(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(e){var n="hidden"==this.titleLocation||"hidden"==e;this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),n&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),t.prototype.getTitleOwner=function(){return this},t.prototype.getIsTitleRenderedAsString=function(){return"hidden"===this.titleLocation},t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return!1},t.prototype.notifySurveyVisibilityChanged=function(){if(this.survey&&!this.isLoadingFromJson){this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());var e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},t.prototype.clearValueOnHidding=function(e){e&&this.clearValueIfInvisible()},Object.defineProperty(t.prototype,"titleWidth",{get:function(){if(this.parent&&"left"===this.getTitleLocation()){var e=this.parent.getColumsForElement(this),n=e.length;if(0!==n&&e[0].questionTitleWidth)return e[0].questionTitleWidth;var o=this.getPercentQuestionTitleWidth();if(!o&&this.parent){var s=this.parent.getQuestionTitleWidth();return s&&!isNaN(s)&&(s+="px"),s}return o/(n||1)+"%"}},enumerable:!1,configurable:!0}),t.prototype.getPercentQuestionTitleWidth=function(){var e=!!this.parent&&this.parent.getQuestionTitleWidth();if(e&&"%"===e[e.length-1])return parseInt(e)},t.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return"left"===e&&!this.isAllowTitleLeft&&(e="top"),e},t.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(t.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var e=this.getTitleLocation();return"left"===e||"top"===e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(e){this.setPropertyValue("errorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getErrorLocation=function(){return"default"!==this.errorLocation?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},t.prototype.getChildErrorLocation=function(e){return this.getErrorLocation()},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){return this.name},t.prototype.getDefaultTitleTagName=function(){return I.titleTags.question},Object.defineProperty(t.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),t.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},t.prototype.needClickTitleFunction=function(){return r.prototype.needClickTitleFunction.call(this)||this.hasInput},t.prototype.processTitleClick=function(){var e=this;if(r.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){e.focus()},1),!0},Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(e){this.setLocalizableStringText("commentText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(e){this.commentPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCommentPlaceholder",{get:function(){return this.getPropertyValue("renderedCommentPlaceholder")},enumerable:!1,configurable:!0}),t.prototype.calcRenderedCommentPlaceholder=function(){this.setPropertyValue("renderedCommentPlaceholder",this.isReadOnly?void 0:this.commentPlaceHolder)},t.prototype.getAllErrors=function(){return this.errors.slice()},t.prototype.getErrorByType=function(e){for(var n=0;n<this.errors.length;n++)if(this.errors[n].getErrorType()===e)return this.errors[n];return null},Object.defineProperty(t.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidget=function(){this.customWidgetValue=io.Instance.getCustomWidget(this)},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.calcRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.updateCommentElements=function(){if(this.autoGrowComment&&Array.isArray(this.commentElements))for(var e=0;e<this.commentElements.length;e++){var n=this.commentElements[e];n&&Zi(n)}},t.prototype.onCommentInput=function(e){this.isInputTextUpdate?e.target&&(this.comment=e.target.value):this.updateCommentElements()},t.prototype.onCommentChange=function(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)},t.prototype.afterRenderQuestionElement=function(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)},t.prototype.afterRender=function(e){var n=this;this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(o){var u=I.environment.root.getElementById(o);u&&n.commentElements.push(u)}),this.updateCommentElements()),this.checkForResponsiveness(e))},t.prototype.afterRenderCore=function(e){},t.prototype.getCommentElementsId=function(){return[this.commentId]},t.prototype.beforeDestroyQuestionElement=function(e){this.commentElements=void 0},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.locProcessedTitle.textOrHtml||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={error:{}};return this.copyCssClasses(n,e.question),this.copyCssClasses(n.error,e.error),this.updateCssClasses(n,e),this.survey&&this.survey.updateQuestionCssClasses(this,n),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(n),n},Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),t.prototype.setCssRoot=function(e){this.setPropertyValue("cssRoot",e)},t.prototype.getCssRoot=function(e){var n=this.hasCssError();return(new A).append(r.prototype.getCssRoot.call(this,e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,n).append(e.hasErrorTop,n&&"top"==this.getErrorLocation()).append(e.hasErrorBottom,n&&"bottom"==this.getErrorLocation()).append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),t.prototype.setCssHeader=function(e){this.setPropertyValue("cssHeader",e)},t.prototype.getCssHeader=function(e){return(new A).append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()},t.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(t.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),t.prototype.setCssContent=function(e){this.setPropertyValue("cssContent",e)},t.prototype.getCssContent=function(e){return(new A).append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),t.prototype.setCssTitle=function(e){this.setPropertyValue("cssTitle",e)},t.prototype.getCssTitle=function(e){return(new A).append(r.prototype.getCssTitle.call(this,e)).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),t.prototype.setCssDescription=function(e){this.setPropertyValue("cssDescription",e)},t.prototype.getCssDescription=function(e){return(new A).append(e.description,this.hasDescriptionUnderTitle).append(e.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},t.prototype.showErrorOnCore=function(e){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===e},Object.defineProperty(t.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"top"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"bottom"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),t.prototype.setCssError=function(e){this.setPropertyValue("cssError",e)},t.prototype.getCssError=function(e){return(new A).append(e.error.root).append(e.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).append(e.error.locationTop,this.showErrorOnTop).append(e.error.locationBottom,this.showErrorOnBottom).toString()},t.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},t.prototype.getRootCss=function(){return(new A).append(this.cssRoot).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getQuestionRootCss=function(){return(new A).append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e),e&&this.updateQuestionCss(!0),this.onIndentChanged()},t.prototype.updateQuestionCss=function(e){this.isLoadingFromJson||!this.survey||!0!==e&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},t.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},t.prototype.updateElementCssCore=function(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))},t.prototype.updateCssClasses=function(e,n){if(n.question){var o=n[this.getCssType()],s=(new A).append(e.title).append(n.question.titleRequired,this.isRequired);e.title=s.toString();var u=(new A).append(e.root).append(o,this.isRequired&&!!n.question.required);if(null==o)e.root=u.toString();else if("string"==typeof o||o instanceof String)e.root=u.append(o.toString()).toString();else for(var p in e.root=u.toString(),o)e[p]=o[p]}},t.prototype.getCssType=function(){return this.getType()},Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},t.prototype.getIndentSize=function(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"},t.prototype.focus=function(e,n){if(void 0===e&&(e=!1),!this.isDesignMode&&this.isVisible&&this.survey){var o=this.page;o&&this.survey.activePage!==o?this.survey.focusQuestionByInstance(this,e):this.focuscore(e,n)}},t.prototype.focuscore=function(e,n){void 0===e&&(e=!1),this.survey&&(this.expandAllParents(),this.survey.scrollElementToTop(this,this,null,this.id,n)),this.focusInputElement(e)},t.prototype.focusInputElement=function(e){var n=e?this.getFirstErrorInputElementId():this.getFirstInputElementId();We.FocusElement(n)&&this.fireCallback(this.focusCallback)},Object.defineProperty(t.prototype,"isValidateVisitedEmptyFields",{get:function(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return!1},t.prototype.onBlur=function(e){this.onBlurCore(e)},t.prototype.onFocus=function(e){this.onFocusCore(e)},t.prototype.onBlurCore=function(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)},t.prototype.onFocusCore=function(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields},t.prototype.expandAllParents=function(){this.expandAllParentsCore(this)},t.prototype.expandAllParentsCore=function(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))},t.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},t.prototype.fireCallback=function(e){e&&e()},t.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},t.prototype.onCreating=function(){},t.prototype.getFirstQuestionToFocus=function(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null},t.prototype.getFirstInputElementId=function(){return this.inputId},t.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},t.prototype.getProcessedTextValue=function(e){var n=e.name.toLocaleLowerCase();e.isExists=-1!==Object.keys(t.TextPreprocessorValuesMap).indexOf(n)||void 0!==this[e.name],e.value=this[t.TextPreprocessorValuesMap[n]||e.name]},t.prototype.supportComment=function(){var e=this.getPropertyByName("showCommentArea");return!e||e.visible},t.prototype.supportOther=function(){return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(e){this.showCommentArea=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){return this.id+"_ariaDescription"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(e){this.showOtherItem=e},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){},Object.defineProperty(t.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,n=!!this.parentQuestion&&this.parentQuestion.isReadOnly,o=!!this.survey&&this.survey.isDisplayMode,s=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||o||n||s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInputReadOnly",{get:function(){return void 0!==this.forceIsInputReadOnly?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return this.isDesignModeV2},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),r.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.calcRenderedCommentPlaceholder()},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){},t.prototype.runCondition=function(e,n){this.isDesignMode||(n||(n={}),n.question=this,this.runConditionCore(e,n),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e,n)))},Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),t.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var e=R.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(e=this.survey.getUpdatedQuestionNo(this,e)),e},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.calcRenderedCommentPlaceholder(),this.onIndentChanged()},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},t.prototype.initDataFromSurvey=function(){if(this.data){var e=this.data.getValue(this.getValueName());(!R.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}},t.prototype.initCommentFromSurvey=function(){this.updateCommentFromSurvey(this.data&&this.requireUpdateCommentValue?this.data.getComment(this.getValueName()):"")},t.prototype.runExpression=function(e){if(this.survey&&e)return this.survey.runExpression(e)},Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.survey&&this.survey.commentAreaRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValueCore()},set:function(e){this.setNewValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getFilteredValue=function(){return this.value},t.prototype.getFilteredName=function(){return this.getValueName()},Object.defineProperty(t.prototype,"valueForSurvey",{get:function(){return this.valueForSurveyCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.valueForSurveyCore=function(e){return this.valueToDataCallback?this.valueToDataCallback(e):e},t.prototype.valueFromDataCore=function(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e},t.prototype.clearValue=function(e){void 0!==this.value&&(this.value=void 0),this.comment&&!0!==e&&(this.comment=void 0),this.setValueChangedDirectly(!1)},t.prototype.clearValueOnly=function(){this.clearValue(!0)},t.prototype.unbindValue=function(){this.clearValue()},t.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},t.prototype.initDataUI=function(){},t.prototype.getUnbindValue=function(e){return this.isValueSurveyElement(e)?e:R.getUnbindValue(e)},t.prototype.isValueSurveyElement=function(e){return!!e&&(Array.isArray(e)?e.length>0&&this.isValueSurveyElement(e[0]):!!e.getType&&!!e.onPropertyChanged)},t.prototype.canClearValueAsInvisible=function(e){return!(("onHiddenContainer"!==e||this.isParentVisible)&&(this.isVisibleInSurvey||this.page&&this.page.isStartPage||this.survey&&this.survey.hasVisibleQuestionByValueName(this.getValueName())))},Object.defineProperty(t.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0},enumerable:!1,configurable:!0}),t.prototype.clearValueIfInvisible=function(e){void 0===e&&(e="onHidden");var n=this.getClearIfInvisible();"none"!==n&&("onHidden"===e&&"onComplete"===n||"onHiddenContainer"===e&&n!==e||this.clearValueIfInvisibleCore(e))},t.prototype.clearValueIfInvisibleCore=function(e){this.canClearValueAsInvisible(e)&&(this.clearValue(),this.setValueChangedDirectly(void 0))},Object.defineProperty(t.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(e){this.setPropertyValue("clearIfInvisible",e)},enumerable:!1,configurable:!0}),t.prototype.getClearIfInvisible=function(){var e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):"default"!==e?e:"onComplete"},Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValue=function(e,n){void 0===n&&(n=void 0);var o=this.calcDisplayValue(e,n);return this.survey&&(o=this.survey.getQuestionDisplayValue(this,o)),this.displayValueCallback?this.displayValueCallback(o):o},t.prototype.calcDisplayValue=function(e,n){if(void 0===n&&(n=void 0),this.customWidget){var o=this.customWidget.getDisplayValue(this,n);if(o)return o}return n=n??this.createValueCopy(),this.isValueEmpty(n,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,n)},t.prototype.getDisplayValueCore=function(e,n){return n},t.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){this.isValueExpression(e)?this.defaultValueExpression=e.substring(1):(this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(e){this.setPropertyValue("resetValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(e){this.setPropertyValue("setValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(e){this.setPropertyValue("setValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var o={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(s){return"object"==typeof s?JSON.stringify(s):s}};return!0===e.includeQuestionTypes&&(o.questionType=this.getType()),(e.calculations||[]).forEach(function(s){o[s.propertyName]=n.getPlainDataCalculatedValue(s.propertyName)}),this.hasComment&&(o.isNode=!0,o.data=[{name:0,isComment:!0,title:"Comment",value:I.commentSuffix,displayValue:this.comment,getString:function(s){return"object"==typeof s?JSON.stringify(s):s},isNode:!1}]),o}},t.prototype.getPlainDataCalculatedValue=function(e){return this[e]},Object.defineProperty(t.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),t.prototype.getQuizQuestionCount=function(){return 1},t.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},t.prototype.checkIfAnswerCorrect=function(){var e=R.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),I.comparator.caseSensitive,!0),n=e?1:0,o={result:e,correctAnswer:n,correctAnswers:n,incorrectAnswers:this.quizQuestionCount-n};return this.survey&&this.survey.onCorrectQuestionAnswer(this,o),o.result},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},t.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(t.prototype,"isValueDefault",{get:function(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClearValueOnHidden",{get:function(){var e=this.getClearIfInvisible();return"none"!==e&&"onComplete"!==e&&("onHidden"===e||"onHiddenContainer"===e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){return null},t.prototype.getDefaultValue=function(){return this.defaultValue},t.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},t.prototype.getDefaultRunner=function(e,n){return!e&&n&&(e=this.createExpressionRunner(n)),e&&(e.expression=n),e},t.prototype.setDefaultValue=function(){var e=this;this.setDefaultValueCore(function(n){e.isTwoValueEquals(e.value,n)||(e.value=n)})},t.prototype.setDefaultValueCore=function(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(n){return e(n)})},t.prototype.isValueExpression=function(e){return!!e&&"string"==typeof e&&e.length>0&&"="==e[0]},t.prototype.setValueAndRunExpression=function(e,n,o,s,u){var p=this;void 0===s&&(s=null),void 0===u&&(u=null);var h=function(m){p.runExpressionSetValueCore(m,o)};this.runDefaultValueExpression(e,s,u,h)||h(n)},t.prototype.convertFuncValuetoQuestionValue=function(e){return R.convertValToQuestionVal(e)},t.prototype.runExpressionSetValueCore=function(e,n){n(this.convertFuncValuetoQuestionValue(e))},t.prototype.runExpressionSetValue=function(e){var n=this;this.runExpressionSetValueCore(e,function(o){n.isTwoValueEquals(n.value,o)||(n.value=o)})},t.prototype.runDefaultValueExpression=function(e,n,o,s){var u=this;return void 0===n&&(n=null),void 0===o&&(o=null),!(!e||!this.data||(s||(s=function(p){u.runExpressionSetValue(p)}),n||(n=this.defaultValueExpression?this.data.getFilteredValues():{}),o||(o=this.defaultValueExpression?this.data.getFilteredProperties():{}),e&&e.canRun&&(e.onRunComplete=function(p){null==p&&(p=u.defaultValue),u.isChangingViaDefaultValue=!0,s(p),u.isChangingViaDefaultValue=!1},e.run(n,o)),0))},Object.defineProperty(t.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(e){if(e){var n=e.toString().trim();n!==e&&(e=n)===this.comment&&this.setPropertyValueDirectly("comment",e)}this.comment!=e&&(this.setQuestionComment(e),this.updateCommentElements())},enumerable:!1,configurable:!0}),t.prototype.getCommentAreaCss=function(e){return void 0===e&&(e=!1),(new A).append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).toString()},t.prototype.getQuestionComment=function(){return this.questionComment},t.prototype.setQuestionComment=function(e){this.setNewComment(e)},t.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(t.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(e){this.setPropertyValue("isAnswered",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsAnswered=function(){var e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()},t.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(t.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(e){this.setPropertyValue("validators",e)},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},t.prototype.getSupportedValidators=function(){for(var e=[],n=this.getType();n;){var o=I.supportedValidators[n];if(o)for(var s=o.length-1;s>=0;s--)e.splice(0,0,o[s]);n=M.findClass(n).parentName}return e},t.prototype.addConditionObjectsByContext=function(e,n){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})},t.prototype.getNestedQuestions=function(e){void 0===e&&(e=!1);var n=[];return this.collectNestedQuestions(n,e),1===n.length&&n[0]===this?[]:n},t.prototype.collectNestedQuestions=function(e,n){void 0===n&&(n=!1),(!n||this.isVisible)&&this.collectNestedQuestionsCore(e,n)},t.prototype.collectNestedQuestionsCore=function(e,n){e.push(this)},t.prototype.getConditionJson=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=(new Oe).toJsonObject(this);return o.type=this.getType(),o},t.prototype.hasErrors=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=null);var o=this.checkForErrors(!!n&&!0===n.isOnValueChanged);return e&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,o),this.errors=o,this.errors!==o&&this.errors.forEach(function(s){return s.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&n&&e&&o.length>0&&this.expand(),o.length>0},t.prototype.validate=function(e,n){return void 0===e&&(e=!0),void 0===n&&(n=null),n&&n.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,n)},Object.defineProperty(t.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),t.prototype.addError=function(e){if(e){var n;n="string"==typeof e||e instanceof String?this.addCustomError(e):e,this.errors.push(n)}},t.prototype.addCustomError=function(e){return new tt(e,this.survey)},t.prototype.removeError=function(e){if(e){var n=this.errors,o=n.indexOf(e);-1!==o&&n.splice(o,1)}},t.prototype.checkForErrors=function(e){var n=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(n,e),n},t.prototype.canCollectErrors=function(){return!this.isReadOnly||I.readOnly.enableValidation},t.prototype.collectErrors=function(e,n){if(this.onCheckForErrors(e,n),!(e.length>0)&&this.canRunValidators(n)){var o=this.runValidators();if(o.length>0){e.length=0;for(var s=0;s<o.length;s++)e.push(o[s])}if(this.survey&&0==e.length){var u=this.fireSurveyValidation();u&&e.push(u)}}},t.prototype.canRunValidators=function(e){return!0},t.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},t.prototype.onCheckForErrors=function(e,n){var o=this;if((!n||this.isOldAnswered)&&this.hasRequiredError()){var s=new Kr(this.requiredErrorText,this);s.onUpdateErrorTextCallback=function(p){p.text=o.requiredErrorText},e.push(s)}if(!this.isEmpty()&&this.customWidget){var u=this.customWidget.validate(this);u&&e.push(this.addCustomError(u))}},t.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(t.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),t.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},t.prototype.runValidators=function(){var e=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new is,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(n){e.doOnAsyncCompleted(n)},this.validatorRunner.run(this)},t.prototype.doOnAsyncCompleted=function(e){for(var n=0;n<e.length;n++)this.errors.push(e[n]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},t.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},t.prototype.setNewValue=function(e){this.isNewValueEqualsToValue(e)||this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))},t.prototype.checkIsValueCorrect=function(e){var n=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return n||bt.inCorrectQuestionValue(this.name,e),n},t.prototype.isNewValueCorrect=function(e){return!0},t.prototype.isNewValueEqualsToValue=function(e){var n=this.value;return!(!this.isTwoValueEquals(e,n,!1,!1)||e===n&&n&&(Array.isArray(n)||"object"==typeof n))},t.prototype.isTextValue=function(){return!1},t.prototype.getIsInputTextUpdate=function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(t.prototype,"isInputTextUpdate",{get:function(){return this.getIsInputTextUpdate()&&this.isTextValue()},enumerable:!1,configurable:!0}),t.prototype.setNewValueInData=function(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)},t.prototype.getValueCore=function(){return this.questionValue},t.prototype.setValueCore=function(e){this.setQuestionValue(e),null!=this.data&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},t.prototype.canSetValueToSurvey=function(){return!0},t.prototype.valueFromData=function(e){return e},t.prototype.valueToData=function(e){return e},t.prototype.convertToCorrectValue=function(e){return e},t.prototype.onValueChanged=function(){},t.prototype.onMouseDown=function(){this.isMouseDown=!0},t.prototype.setNewComment=function(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))},t.prototype.setCommentIntoData=function(e){null!=this.data&&this.data.setComment(this.getValueName(),e,!!this.getIsInputTextUpdate()&&"text")},t.prototype.getValidName=function(e){return oo(e)},t.prototype.updateValueFromSurvey=function(e,n){var o=this;if(void 0===n&&(n=!1),e=this.getUnbindValue(e),e=this.valueFromDataCore(e),this.checkIsValueCorrect(e)){var s=this.isValueEmpty(e);!s&&this.defaultValueExpression?this.setDefaultValueCore(function(u){o.updateValueFromSurveyCore(e,o.isTwoValueEquals(e,u))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),n&&s&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},t.prototype.updateValueFromSurveyCore=function(e,n){this.isChangingViaDefaultValue=n,this.setQuestionValue(this.valueFromData(e)),this.isChangingViaDefaultValue=!1},t.prototype.updateCommentFromSurvey=function(e){this.questionComment=e},t.prototype.onChangeQuestionValue=function(e){},t.prototype.setValueChangedDirectly=function(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),e=this.convertToCorrectValue(e);var o=this.isTwoValueEquals(this.questionValue,e);!o&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,o||this.onChangeQuestionValue(e),!o&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),n&&this.updateIsAnswered()},Object.defineProperty(t.prototype,"isParentChangingViaDefaultValue",{get:function(){var e;return!0===(null===(e=this.data)||void 0===e?void 0:e.isChangingViaDefaultValue)},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){},t.prototype.setVisibleIndex=function(e){return(!this.isVisible||!this.hasTitle&&!I.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!I.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1},t.prototype.removeElement=function(e){return!1},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.supportGoNextPageError=function(){return!0},t.prototype.clearIncorrectValues=function(){},t.prototype.clearOnDeletingContainer=function(){},t.prototype.clearErrors=function(){this.errors=[]},t.prototype.clearUnusedValues=function(){},t.prototype.onAnyValueChanged=function(e,n){},t.prototype.checkBindings=function(e,n){if(!this.bindings.isEmpty()&&this.data)for(var o=this.bindings.getPropertiesByValueName(e),s=0;s<o.length;s++){var u=o[s];this.isValueEmpty(n)&&R.isNumber(this[u])&&(n=0),this[u]=n}},t.prototype.getComponentName=function(){return cs.Instance.getRendererByQuestion(this)},t.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.getComponentName()},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.getValidatorTitle=function(){return null},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.processPopupVisiblilityChanged=function(e,n){this.survey.processPopupVisiblityChanged(this,e,n)},t.prototype.processOpenDropdownMenu=function(e){this.survey.processOpenDropdownMenu(this,e)},t.prototype.onTextKeyDownHandler=function(e){13===e.keyCode&&this.survey.questionEditFinishCallback(this,e)},t.prototype.transformToMobileView=function(){},t.prototype.transformToDesktopView=function(){},t.prototype.needResponsiveWidth=function(){return!1},t.prototype.supportResponsiveness=function(){return!1},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},t.prototype.checkForResponsiveness=function(e){var n=this;this.needResponsiveness()&&(this.isCollapsed?this.registerPropertyChangedHandlers(["state"],function(){n.isExpanded&&(n.initResponsiveness(e),n.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))},"for-responsiveness"):this.initResponsiveness(e))},t.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},t.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},t.prototype.triggerResponsiveness=function(e){void 0===e&&(e=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)},t.prototype.initResponsiveness=function(e){var n=this;if(this.destroyResizeObserver(),e&&this.isDefaultRendering()){var o=this.getObservedElementSelector();if(!o)return;if(!e.querySelector(o))return;var u=!1,p=void 0;this.triggerResponsivenessCallback=function(h){h&&(p=void 0,n.renderAs="default",u=!1);var m=function(){var x=e.querySelector(o);!p&&n.isDefaultRendering()&&(p=x.scrollWidth),u=!(u||!to(x))&&n.processResponsiveness(p,eo(x))};h?setTimeout(m,1):m()},this.resizeObserver=new ResizeObserver(function(h){V.requestAnimationFrame(function(){n.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var h=e.querySelector(o);n.processResponsiveness(p,eo(h))},0)},this.resizeObserver.observe(e)}},t.prototype.getCompactRenderAs=function(){return"default"},t.prototype.getDesktopRenderAs=function(){return"default"},t.prototype.onBeforeSetCompactRenderer=function(){},t.prototype.onBeforeSetDesktopRenderer=function(){},t.prototype.processResponsiveness=function(e,n){if(n=Math.round(n),Math.abs(e-n)>2){var o=this.renderAs;return e>n?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),o!==this.renderAs}return!1},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},t.prototype.resetDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaErrormessage",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaErrormessage",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),t.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},t.questionCounter=100,un([_({defaultValue:!1})],t.prototype,"_isMobile",void 0),un([_()],t.prototype,"forceIsInputReadOnly",void 0),un([_()],t.prototype,"ariaExpanded",void 0),un([_({localizable:!0,onSet:function(e,n){return n.calcRenderedCommentPlaceholder()}})],t.prototype,"commentPlaceholder",void 0),un([_()],t.prototype,"renderAs",void 0),un([_({defaultValue:!1})],t.prototype,"inMatrixMode",void 0),t}(We);function oo(r){if(!r)return r;for(r=r.trim().replace(/[\{\}]+/g,"");r&&r[0]===I.expressionDisableConversionChar;)r=r.substring(1);return r}M.addClass("question",[{name:"!name",onSettingValue:function(r,t){return oo(t)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return I.minWidth}},{name:"maxWidth",defaultFunc:function(){return I.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(r){return r.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(r){var t=r?r.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(r){var t=r?r.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(r,t){r&&t&&(t.placeholder=r.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(r){if(!r)return!0;if("hidden"===r.titleLocation)return!1;var t=r?r.parent:null;if(t&&"off"===t.showQuestionNumbers)return!1;var n=r?r.survey:null;return!n||"off"!==n.showQuestionNumbers||!!t&&"onpanel"===t.showQuestionNumbers}},{name:"valueName",onSettingValue:function(r,t){return oo(t)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(r){return r.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(r){return r.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(r){return r.hasComment}}]),M.addAlterNativeClassName("question","questionbase");var Lu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ro=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},J=function(r){function t(e,n,o){void 0===n&&(n=null),void 0===o&&(o="itemvalue");var s=r.call(this)||this;return s.typeName=o,s.ownerPropertyName="",s.locTextValue=new ot(s,!0,"text"),s.locTextValue.onStrChanged=function(u,p){p==s.value&&(p=void 0),s.propertyValueChanged("text",u,p)},s.locTextValue.onGetTextCallback=function(u){return u||(R.isValueEmpty(s.value)?null:s.value.toString())},n&&(s.locText.text=n),e&&"object"==typeof e?s.setData(e):s.value=e,"itemvalue"!=s.getType()&&lt.createProperties(s),s.data=s,s.onCreating(),s}return Lu(t,r),t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},Object.defineProperty(t,"Separator",{get:function(){return I.itemValueSeparator},set:function(e){I.itemValueSeparator=e},enumerable:!1,configurable:!0}),t.setData=function(e,n,o){e.length=0;for(var s=0;s<n.length;s++){var u=n[s],p=u&&"function"==typeof u.getType?u.getType():o??"itemvalue",h=M.createClass(p);h.setData(u),u.originalItem&&(h.originalItem=u.originalItem),e.push(h)}},t.getData=function(e){for(var n=[],o=0;o<e.length;o++)n.push(e[o].getData());return n},t.getItemByValue=function(e,n){if(!Array.isArray(e))return null;for(var o=R.isValueEmpty(n),s=0;s<e.length;s++)if(o&&R.isValueEmpty(e[s].value)||R.isTwoValueEquals(e[s].value,n,!1,!0,!1))return e[s];return null},t.getTextOrHtmlByValue=function(e,n){var o=t.getItemByValue(e,n);return null!==o?o.locText.textOrHtml:""},t.locStrsChanged=function(e){for(var n=0;n<e.length;n++)e[n].locStrsChanged()},t.runConditionsForItems=function(e,n,o,s,u,p,h){return void 0===p&&(p=!0),t.runConditionsForItemsCore(e,n,o,s,u,!0,p,h)},t.runEnabledConditionsForItems=function(e,n,o,s,u){return t.runConditionsForItemsCore(e,null,n,o,s,!1,!0,u)},t.runConditionsForItemsCore=function(e,n,o,s,u,p,h,m){void 0===h&&(h=!0),s||(s={});for(var x=s.item,T=s.choice,D=!1,B=0;B<e.length;B++){var j=e[B];s.item=j.value,s.choice=j.value;var X=!(!h||!j.getConditionRunner)&&j.getConditionRunner(p);X||(X=o);var U=!0;X&&(U=X.run(s,u)),m&&(U=m(j,U)),n&&U&&n.push(j),U!=(p?j.isVisible:j.isEnabled)&&(D=!0,p?j.setIsVisible&&j.setIsVisible(U):j.setIsEnabled&&j.setIsEnabled(U))}return x?s.item=x:delete s.item,T?s.choice=T:delete s.choice,D},t.prototype.onCreating=function(){},t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},t.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(t.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),t.prototype.setLocText=function(e){this.locTextValue=e},Object.defineProperty(t.prototype,"locOwner",{get:function(){return this._locOwner},set:function(e){this._locOwner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){var n=void 0;if(!R.isValueEmpty(e)){var o=e.toString(),s=o.indexOf(I.itemValueSeparator);s>-1&&(e=o.slice(0,s),n=o.slice(s+1))}this.setPropertyValue("value",e),n&&(this.text=n),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(e){this.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(e){this.locText.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),t.prototype.canSerializeValue=function(){var e=this.value;return null!=e&&!Array.isArray(e)&&"object"!=typeof e},t.prototype.getData=function(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,R.isValueEmpty(e.value))return e;var n=this.canSerializeValue();return n&&(I.serialization.itemValueSerializeAsObject||I.serialization.itemValueSerializeDisplayText)||1!=Object.keys(e).length?(I.serialization.itemValueSerializeDisplayText&&void 0===e.text&&n&&(e.text=this.value.toString()),e):this.value},t.prototype.toJSON=function(){var e={},n=M.getProperties(this.getType());(!n||0==n.length)&&(n=M.getProperties("itemvalue"));for(var o=new Oe,s=0;s<n.length;s++){var u=n[s];"text"===u.name&&!this.locText.hasNonDefaultText()&&R.isTwoValueEquals(this.value,this.text,!1,!0,!1)||o.valueToJson(this,e,u)}return e},t.prototype.setData=function(e){if(!R.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&1===Object.keys(e).length&&(e.value=e.text),typeof e.value<"u"){var n;n="function"==typeof e.toJSON?e.toJSON():e,(new Oe).toObject(n,this)}else this.value=e;this.locText.strChanged()}},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.getPropertyValueWithoutDefault("isVisible");return void 0===e||e},enumerable:!1,configurable:!0}),t.prototype.setIsVisible=function(e){this.setPropertyValue("isVisible",e)},Object.defineProperty(t.prototype,"isEnabled",{get:function(){var e=this.getPropertyValueWithoutDefault("isEnabled");return void 0===e||e},enumerable:!1,configurable:!0}),t.prototype.setIsEnabled=function(e){this.setPropertyValue("isEnabled",e)},t.prototype.addUsedLocales=function(e){this.AddLocStringToUsedLocales(this.locTextValue,e)},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locText.strChanged()},t.prototype.onPropertyValueChanged=function(e,n,o){"value"===e&&!this.hasText&&this.locText.strChanged();var s="itemValuePropertyChanged";!this.locOwner||!this.locOwner[s]||this.locOwner[s](this,e,n,o)},t.prototype.getConditionRunner=function(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()},t.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new Xe(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},t.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new Xe(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(t.prototype,"selected",{get:function(){var e=this,n=this._locOwner;return n instanceof je&&n.isItemSelected&&void 0===this.selectedValue&&(this.selectedValue=new we(function(){return n.isItemSelected(e)})),this.selectedValue},enumerable:!1,configurable:!0}),t.prototype.getComponent=function(){return this._locOwner instanceof je?this.componentValue||this._locOwner.itemComponent:this.componentValue},t.prototype.setComponent=function(e){this.componentValue=e},t.prototype.getEnabled=function(){return this.isEnabled},t.prototype.setEnabled=function(e){this.setIsEnabled(e)},t.prototype.getVisible=function(){return(void 0===this.isVisible||this.isVisible)&&(void 0===this._visible||this._visible)},t.prototype.setVisible=function(e){this._visible=e},t.prototype.getLocTitle=function(){return this.locText},t.prototype.getTitle=function(){return this.text},t.prototype.setLocTitle=function(e){},t.prototype.setTitle=function(e){},ro([_({defaultValue:!0})],t.prototype,"_visible",void 0),ro([_()],t.prototype,"selectedValue",void 0),ro([_()],t.prototype,"icon",void 0),t}(Xn);oe.createItemValue=function(r,t){var e=null;return(e=t?Oe.metaData.createClass(t,{}):"function"==typeof r.getType?new J(null,void 0,r.getType()):new J(null)).setData(r),e},oe.itemValueLocStrChanged=function(r){J.locStrsChanged(r)},$n.getItemValuesDefaultValue=function(r,t){var e=new Array;return J.setData(e,Array.isArray(r)?r:[],t),e},M.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(r){return!r||"rateValues"!==r.ownerPropertyName}}],function(r){return new J(r)});var Fu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mt=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this)||this;return o.expressionIsRunning=!1,o.isCalculated=!1,e&&(o.name=e),n&&(o.expression=n),o}return Fu(t,r),t.prototype.setOwner=function(e){this.data=e,this.rerunExpression()},t.prototype.getType=function(){return"calculatedvalue"},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(t.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(e){this.setPropertyValue("includeIntoResult",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(e){this.setPropertyValue("expression",e),this.rerunExpression()},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.resetCalculation=function(){this.isCalculated=!1},t.prototype.doCalculation=function(e,n,o){this.isCalculated||(this.runExpressionCore(e,n,o),this.isCalculated=!0)},t.prototype.runExpression=function(e,n){this.runExpressionCore(null,e,n)},Object.defineProperty(t.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){this.data&&this.data.setVariable(this.name,e)},Object.defineProperty(t.prototype,"canRunExpression",{get:function(){return!(!this.data||this.isLoadingFromJson||!this.expression||this.expressionIsRunning||!this.name)},enumerable:!1,configurable:!0}),t.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},t.prototype.runExpressionCore=function(e,n,o){this.canRunExpression&&(this.ensureExpression(n),this.locCalculation(),e&&this.runDependentExpressions(e,n,o),this.expressionRunner.run(n,o))},t.prototype.runDependentExpressions=function(e,n,o){var s=this.expressionRunner.getVariables();if(s)for(var u=0;u<e.length;u++){var p=e[u];p===this||s.indexOf(p.name)<0||(p.doCalculation(e,n,o),n[p.name]=p.value)}},t.prototype.ensureExpression=function(e){var n=this;this.expressionRunner||(this.expressionRunner=new _t(this.expression),this.expressionRunner.onRunComplete=function(o){R.isTwoValueEquals(o,n.value,!1,!0,!1)||n.setValue(o),n.unlocCalculation()})},t}(oe);M.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new mt},"base");var so=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ao=function(r){function t(e){void 0===e&&(e=null);var n=r.call(this)||this;return n.expression=e,n}return so(t,r),t.prototype.getType=function(){return"expressionitem"},t.prototype.runCondition=function(e,n){return!!this.expression&&new Xe(this.expression).run(e,n)},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.locOwner},t}(oe),ps=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this,e)||this;return o.createLocalizableString("html",o),o.html=n,o}return so(t,r),t.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t}(ao),ds=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this,e)||this;return o.createLocalizableString("url",o),o.url=n,o}return so(t,r),t.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(t.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(e){this.setLocalizableStringText("url",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),t}(ao);M.addClass("expressionitem",["expression:condition"],function(){return new ao},"base"),M.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new ps},"expressionitem"),M.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new ds},"expressionitem");var fs=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ju=function(){function r(){this.parser=new DOMParser}return r.prototype.assignValue=function(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]=void 0!==t[e]?[t[e]].concat(n):"object"==typeof n&&1===Object.keys(n).length&&Object.keys(n)[0]===e?n[e]:n},r.prototype.xml2Json=function(t,e){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;n++){var o=t.children[n],s={};this.xml2Json(o,s),this.assignValue(e,o.nodeName,s)}else this.assignValue(e,t.nodeName,t.textContent)},r.prototype.parseXmlString=function(t){var e=this.parser.parseFromString(t,"text/xml"),n={};return this.xml2Json(e,n),n},r}(),$t=function(r){function t(){var e=r.call(this)||this;return e.lastObjHash="",e.isRunningValue=!1,e.processedUrl="",e.processedPath="",e.isUsingCacheFromUrl=void 0,e.error=null,e.createItemValue=function(n){return new J(n)},e.registerPropertyChangedHandlers(["url"],function(){e.owner&&e.owner.setPropertyValue("isUsingRestful",!!e.url)}),e}return fs(t,r),Object.defineProperty(t,"EncodeParameters",{get:function(){return I.web.encodeUrlParams},set:function(e){I.web.encodeUrlParams=e},enumerable:!1,configurable:!0}),t.clearCache=function(){t.itemsResult={},t.sendingSameRequests={}},t.addSameRequest=function(e){if(!e.isUsingCache)return!1;var o=t.sendingSameRequests[e.objHash];return o?(o.push(e),e.isRunningValue=!0,!0):(t.sendingSameRequests[e.objHash]=[],!1)},t.unregisterSameRequests=function(e,n){if(e.isUsingCache){var o=t.sendingSameRequests[e.objHash];if(delete t.sendingSameRequests[e.objHash],o)for(var s=0;s<o.length;s++)o[s].isRunningValue=!1,o[s].getResultCallback&&o[s].getResultCallback(n)}},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return I.web.onBeforeRequestChoices},set:function(e){I.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t.getCachedItemsResult=function(e){var o=t.itemsResult[e.objHash];return!!o&&(e.getResultCallback&&e.getResultCallback(o),!0)},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner?this.owner.survey:null},t.prototype.run=function(e){if(void 0===e&&(e=null),this.url&&this.getResultCallback){if(this.processedText(e),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(t.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(t.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&I.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),t.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(t.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),t.prototype.useChangedItemsResults=function(){return t.getCachedItemsResult(this)},t.prototype.doEmptyResultCallback=function(e){var n=[];this.updateResultCallback&&(n=this.updateResultCallback(n,e)),this.getResultCallback(n)},t.prototype.processedText=function(e){var n=this.url;if(n&&(n=n.replace(t.cacheText,"").replace(t.noCacheText,"")),e){var o=e.processTextEx(n,!1,I.web.encodeUrlParams),s=e.processTextEx(this.path,!1,I.web.encodeUrlParams);o.hasAllValuesOnLastRun&&s.hasAllValuesOnLastRun?(this.processedUrl=o.text,this.processedPath=s.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=n,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},t.prototype.parseResponse=function(e){var n;if(e&&"function"==typeof e.indexOf&&0===e.indexOf("<"))n=(new ju).parseXmlString(e);else try{n=JSON.parse(e)}catch{n=(e||"").split("\n").map(function(u){return u.trim(" ")}).filter(function(u){return!!u})}return n},t.prototype.sendRequest=function(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n=this,o=this.objHash;e.onload=function(){n.beforeLoadRequest(),200===e.status?n.onLoad(n.parseResponse(e.response),o):n.onError(e.statusText,e.responseText)};var s={request:e};I.web.onBeforeRequestChoices&&I.web.onBeforeRequestChoices(this,s),this.beforeSendRequest(),s.request.send()},t.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),t.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),n=new Array,o=0;o<e.length;o++)n.push(this.getCustomPropertyName(e[o].name));return n},t.prototype.getCustomPropertyName=function(e){return e+"Name"},t.prototype.getCustomProperties=function(){for(var e=M.getProperties(this.itemValueType),n=[],o=0;o<e.length;o++)"value"===e[o].name||"text"===e[o].name||"visibleIf"===e[o].name||"enableIf"===e[o].name||n.push(e[o]);return n},t.prototype.setData=function(e){this.clear(),e.url&&(this.url=e.url),e.path&&(this.path=e.path),e.valueName&&(this.valueName=e.valueName),e.titleName&&(this.titleName=e.titleName),e.imageLinkName&&(this.imageLinkName=e.imageLinkName),void 0!==e.allowEmptyResponse&&(this.allowEmptyResponse=e.allowEmptyResponse),void 0!==e.attachOriginalItems&&(this.attachOriginalItems=e.attachOriginalItems);for(var n=this.getCustomPropertiesNames(),o=0;o<n.length;o++)e[n[o]]&&(this[n[o]]=e[n[o]])},t.prototype.getData=function(){if(this.isEmpty)return null;var e={};this.url&&(e.url=this.url),this.path&&(e.path=this.path),this.valueName&&(e.valueName=this.valueName),this.titleName&&(e.titleName=this.titleName),this.imageLinkName&&(e.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(e.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(e.attachOriginalItems=this.attachOriginalItems);for(var n=this.getCustomPropertiesNames(),o=0;o<n.length;o++)this[n[o]]&&(e[n[o]]=this[n[o]]);return e},Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(t.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(t.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=M.findProperty(this.owner.getType(),"choices");return e&&"itemvalue[]"!=e.type?e.type:"itemvalue"},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.url=void 0,this.path=void 0,this.valueName=void 0,this.titleName=void 0,this.imageLinkName=void 0;for(var e=this.getCustomPropertiesNames(),n=0;n<e.length;n++)this[e[n]]&&(this[e[n]]="")},t.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},t.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},t.prototype.onLoad=function(e,n){void 0===n&&(n=null),n||(n=this.objHash);var o=new Array,s=this.getResultAfterPath(e);if(s&&s.length)for(var u=0;u<s.length;u++){var p=s[u];if(p){var h=this.getItemValueCallback?this.getItemValueCallback(p):this.getValue(p),m=this.createItemValue(h);this.setTitle(m,p),this.setCustomProperties(m,p),this.attachOriginalItems&&(m.originalItem=p);var x=this.getImageLink(p);x&&(m.imageLink=x),o.push(m)}}else this.allowEmptyResponse||(this.error=new Su(null,this.owner));this.updateResultCallback&&(o=this.updateResultCallback(o,e)),this.isUsingCache&&(t.itemsResult[n]=o),this.callResultCallback(o,n),t.unregisterSameRequests(this,o)},t.prototype.callResultCallback=function(e,n){n==this.objHash&&this.getResultCallback(e)},t.prototype.setCustomProperties=function(e,n){for(var o=this.getCustomProperties(),s=0;s<o.length;s++){var u=o[s],p=this.getValueCore(n,this.getPropertyBinding(u.name));this.isValueEmpty(p)||(e[u.name]=p)}},t.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},t.prototype.onError=function(e,n){this.error=new Ru(e,n,this.owner),this.doEmptyResultCallback(n),t.unregisterSameRequests(this,[])},t.prototype.getResultAfterPath=function(e){if(!e||!this.processedPath)return e;for(var n=this.getPathes(),o=0;o<n.length;o++)if(!(e=e[n[o]]))return null;return e},t.prototype.getPathes=function(){var e=[];return 0==(e=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&e.push(this.processedPath),e},t.prototype.getValue=function(e){return e?this.valueName?this.getValueCore(e,this.valueName):e instanceof Object?Object.keys(e).length<1?null:e[Object.keys(e)[0]]:e:null},t.prototype.setTitle=function(e,n){var s=this.getValueCore(n,this.titleName?this.titleName:"title");s&&("string"==typeof s?e.text=s:e.locText.setJson(s))},t.prototype.getImageLink=function(e){return this.getValueCore(e,this.imageLinkName?this.imageLinkName:"imageLink")},t.prototype.getValueCore=function(e,n){if(!e)return null;if(n.indexOf(".")<0)return e[n];for(var o=n.split("."),s=0;s<o.length;s++)if(!(e=e[o[s]]))return null;return e},Object.defineProperty(t.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),t.cacheText="{CACHE}",t.noCacheText="{NOCACHE}",t.itemsResult={},t.sendingSameRequests={},t}(oe),Bu=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return fs(t,r),Object.defineProperty(t,"EncodeParameters",{get:function(){return $t.EncodeParameters},set:function(e){$t.EncodeParameters=e},enumerable:!1,configurable:!0}),t.clearCache=function(){$t.clearCache()},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return I.web.onBeforeRequestChoices},set:function(e){I.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t}($t);M.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(r){return!!r&&!!r.owner&&"imagepicker"==r.owner.getType()}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new $t});var Nu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hs=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},lo=function(r){function t(e){var n=r.call(this,e)||this;return n.generatedVisibleRows=null,n.generatedTotalRow=null,n.filteredRows=null,n.filteredColumns=null,n.columns=n.createColumnValues(),n.rows=n.createItemValues("rows"),n}return Nu(t,r),t.prototype.createColumnValues=function(){return this.createItemValues("columns")},t.prototype.getType=function(){return"matrixbase"},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var n=this.processRowsOnSet(e);this.setPropertyValue("rows",n),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.processRowsOnSet=function(e){return e},t.prototype.getVisibleRows=function(){return[]},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runItemsCondition(e,n)},t.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):!(this.isLoadingFromJson||!this.data)&&this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.onColumnsChanged=function(){},t.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},t.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&this.onVisibleChanged()},t.prototype.isVisibleCore=function(){var e=r.prototype.isVisibleCore.call(this);return e&&this.hideIfRowsEmpty?this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0):e},t.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},t.prototype.hasRowsAsItems=function(){return!0},t.prototype.runItemsCondition=function(e,n){var o=null;if(this.filteredRows&&!R.isValueEmpty(this.defaultValue)){o=[];for(var s=0;s<this.filteredRows.length;s++)o.push(this.filteredRows[s])}var u=this.hasRowsAsItems()&&this.runConditionsForRows(e,n),p=this.runConditionsForColumns(e,n);return(u=p||u)&&(this.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),o&&this.restoreNewVisibleRowsValues(o),this.clearGeneratedRows(),p&&this.onColumnsChanged(),this.onRowsChanged()),u},t.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},t.prototype.runConditionsForRows=function(e,n){var o=!!this.survey&&this.survey.areInvisibleElementsShowing,s=!o&&this.rowsVisibleIf?new Xe(this.rowsVisibleIf):null;this.filteredRows=[];var u=J.runConditionsForItems(this.rows,this.filteredRows,s,e,n,!o);return J.runEnabledConditionsForItems(this.rows,void 0,e,n),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),u},t.prototype.runConditionsForColumns=function(e,n){var s=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new Xe(this.columnsVisibleIf):null;this.filteredColumns=[];var u=J.runConditionsForItems(this.columns,this.filteredColumns,s,e,n,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),u},t.prototype.clearIncorrectValues=function(){var e=this.value;if(e){var n=null,o=!1,s=this.filteredRows?this.filteredRows:this.rows,u=this.filteredColumns?this.filteredColumns:this.columns;for(var p in e)J.getItemByValue(s,p)&&J.getItemByValue(u,e[p])?(null==n&&(n={}),n[p]=e[p]):o=!0;o&&(this.value=n),r.prototype.clearIncorrectValues.call(this)}},t.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var e=this.getUnbindValue(this.value),n=this.rows,o=0;o<n.length;o++){var s=n[o].value;e[s]&&!n[o].isVisible&&delete e[s]}this.isTwoValueEquals(e,this.value)||(this.value=e)}},t.prototype.restoreNewVisibleRowsValues=function(e){var n=this.filteredRows?this.filteredRows:this.rows,o=this.defaultValue,s=this.getUnbindValue(this.value),u=!1;for(var p in o)J.getItemByValue(n,p)&&!J.getItemByValue(e,p)&&(null==s&&(s={}),s[p]=o[p],u=!0);u&&(this.value=s)},t.prototype.needResponsiveWidth=function(){return!0},Object.defineProperty(t.prototype,"columnsAutoWidth",{get:function(){return!this.isMobile&&!this.columns.some(function(e){return!!e.width})},enumerable:!1,configurable:!0}),t.prototype.getTableCss=function(){var e;return(new A).append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!(null===(e=this.renderedTable)||void 0===e||!e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,"top"===this.verticalAlign).append(this.cssClasses.rootVerticalAlignMiddle,"middle"===this.verticalAlign).toString()},Object.defineProperty(t.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMode",{get:function(){return this.getPropertyValue("displayMode")},set:function(e){this.setPropertyValue("displayMode",e)},enumerable:!1,configurable:!0}),t.prototype.getCellAriaLabel=function(e,n){return(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase()+" "+e+", "+(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase()+" "+n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getIsMobile=function(){return"auto"==this.displayMode?r.prototype.getIsMobile.call(this):"list"===this.displayMode},hs([_()],t.prototype,"verticalAlign",void 0),hs([_()],t.prototype,"alternateRows",void 0),t}(je);M.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");var Vt=function(){return function r(){}}(),ms=function(){return function r(t,e){this.name=t,this.returnDisplayValue=e,this.isExists=!1,this.canProcess=!0}}(),uo=function(){function r(){this._unObservableValues=[void 0]}return Object.defineProperty(r.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(t){this._unObservableValues[0]=t},enumerable:!1,configurable:!0}),r.prototype.process=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.hasAllValuesOnLastRunValue=!0,!t||!this.onProcess)return t;for(var o=this.getItems(t),s=o.length-1;s>=0;s--){var u=o[s],p=this.getName(t.substring(u.start+1,u.end));if(p){var h=new ms(p,e);if(this.onProcess(h),!h.isExists){h.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}R.isValueEmpty(h.value)&&(this.hasAllValuesOnLastRunValue=!1);var m=R.isValueEmpty(h.value)?"":h.value;n&&(m=encodeURIComponent(m)),t=t.substring(0,u.start)+m+t.substring(u.end+1)}}return t},r.prototype.processValue=function(t,e){var n=new ms(t,e);return this.onProcess&&this.onProcess(n),n},Object.defineProperty(r.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),r.prototype.getItems=function(t){for(var e=[],n=t.length,o=-1,s="",u=0;u<n;u++)if("{"==(s=t[u])&&(o=u),"}"==s){if(o>-1){var p=new Vt;p.start=o,p.end=u,e.push(p)}o=-1}return e},r.prototype.getName=function(t){if(t)return t.trim()},r}(),co=function(){function r(t){var e=this;this.variableName=t,this.textPreProcessor=new uo,this.textPreProcessor.onProcess=function(n){e.getProcessedTextValue(n)}}return r.prototype.processValue=function(t,e){return this.textPreProcessor.processValue(t,e)},Object.defineProperty(r.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),r.prototype.getValues=function(){return this.panel?this.panel.getValue():null},r.prototype.getQuestionByName=function(t){return this.panel?this.panel.getQuestionByValueName(t):null},r.prototype.getParentTextProcessor=function(){return null},r.prototype.onCustomProcessText=function(t){return!1},r.prototype.getQuestionDisplayText=function(t){return t.displayValue},r.prototype.getProcessedTextValue=function(t){if(t&&!this.onCustomProcessText(t)){var e=(new He).getFirstName(t.name);if(t.isExists=e==this.variableName,t.canProcess=t.isExists,t.canProcess){t.name=t.name.replace(this.variableName+".",""),e=(new He).getFirstName(t.name);var n=this.getQuestionByName(e),o={};if(n)o[e]=t.returnDisplayValue?this.getQuestionDisplayText(n):n.value;else{var s=this.panel?this.getValues():null;s&&(o[e]=s[e])}t.value=(new He).getValue(t.name,o)}}},r.prototype.processText=function(t,e){return this.survey&&this.survey.isDesignMode?t:(t=this.textPreProcessor.process(t,e),t=this.processTextCore(this.getParentTextProcessor(),t,e),this.processTextCore(this.survey,t,e))},r.prototype.processTextEx=function(t,e){t=this.processText(t,e);var n=this.textPreProcessor.hasAllValuesOnLastRun,o={hasAllValuesOnLastRun:!0,text:t};return this.survey&&(o=this.survey.processTextEx(t,e,!1)),o.hasAllValuesOnLastRun=o.hasAllValuesOnLastRun&&n,o},r.prototype.processTextCore=function(t,e,n){return t?t.processText(e,n):e},r}(),ii=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gs=function(){function r(t,e){this.name=t,this.json=e;var n=this;M.addClass(t,[],function(o){return oi.Instance.createQuestion(o?o.name:"",n)},"question"),this.onInit()}return r.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},r.prototype.onCreated=function(t){this.json.onCreated&&this.json.onCreated(t)},r.prototype.onLoaded=function(t){this.json.onLoaded&&this.json.onLoaded(t)},r.prototype.onAfterRender=function(t,e){this.json.onAfterRender&&this.json.onAfterRender(t,e)},r.prototype.onAfterRenderContentElement=function(t,e,n){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(t,e,n)},r.prototype.onUpdateQuestionCssClasses=function(t,e,n){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(t,e,n)},r.prototype.onSetQuestionValue=function(t,e){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(t,e),this.json.onValueSet&&this.json.onValueSet(t,e)},r.prototype.onPropertyChanged=function(t,e,n){this.json.onPropertyChanged&&this.json.onPropertyChanged(t,e,n)},r.prototype.onValueChanged=function(t,e,n){this.json.onValueChanged&&this.json.onValueChanged(t,e,n)},r.prototype.onValueChanging=function(t,e,n){return this.json.onValueChanging?this.json.onValueChanging(t,e,n):n},r.prototype.onGetErrorText=function(t){if(this.json.getErrorText)return this.json.getErrorText(t)},r.prototype.onItemValuePropertyChanged=function(t,e,n,o,s){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(t,{obj:e,propertyName:n,name:o,newValue:s})},r.prototype.getDisplayValue=function(t,e,n){return this.json.getDisplayValue?this.json.getDisplayValue(n):n.getDisplayValue(t,e)},Object.defineProperty(r.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),r.prototype.setValueToQuestion=function(t){var e=this.json.valueToQuestion||this.json.setValue;return e?e(t):t},r.prototype.getValueFromQuestion=function(t){var e=this.json.valueFromQuestion||this.json.getValue;return e?e(t):t},Object.defineProperty(r.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),r.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties},r.prototype.calcDynamicProperties=function(){var t=this.json.inheritBaseProps;if(!t||!this.json.questionJSON)return[];var e=this.json.questionJSON.type;if(!e)return[];if(Array.isArray(t)){var n=[];return t.forEach(function(u){var p=M.findProperty(e,u);p&&n.push(p)}),n}var o=[];for(var s in this.json.questionJSON)o.push(s);return M.getDynamicPropertiesByTypes(this.name,e,o)},r}(),oi=function(){function r(){this.customQuestionValues=[]}return r.prototype.add=function(t){if(t){var e=t.name;if(!e)throw"Attribute name is missed";if(e=e.toLowerCase(),this.getCustomQuestionByName(e))throw"There is already registered custom question with name '"+e+"'";if(M.findClass(e))throw"There is already class with name '"+e+"'";var n=new gs(e,t);this.onAddingJson&&this.onAddingJson(e,n.isComposite),this.customQuestionValues.push(n)}},r.prototype.remove=function(t){if(!t)return!1;var e=this.getCustomQuestionIndex(t.toLowerCase());return!(e<0||(this.removeByIndex(e),0))},Object.defineProperty(r.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),r.prototype.getCustomQuestionByName=function(t){var e=this.getCustomQuestionIndex(t);return e>=0?this.customQuestionValues[e]:void 0},r.prototype.getCustomQuestionIndex=function(t){for(var e=0;e<this.customQuestionValues.length;e++)if(this.customQuestionValues[e].name===t)return e;return-1},r.prototype.removeByIndex=function(t){M.removeClass(this.customQuestionValues[t].name),this.customQuestionValues.splice(t,1)},r.prototype.clear=function(t){for(var e=this.customQuestionValues.length-1;e>=0;e--)(t||!this.customQuestionValues[e].json.internal)&&this.removeByIndex(e)},r.prototype.createQuestion=function(t,e){return e.isComposite?this.createCompositeModel(t,e):this.createCustomModel(t,e)},r.prototype.createCompositeModel=function(t,e){return this.onCreateComposite?this.onCreateComposite(t,e):new bs(t,e)},r.prototype.createCustomModel=function(t,e){return this.onCreateCustom?this.onCreateCustom(t,e):new vs(t,e)},r.Instance=new r,r}(),ys=function(r){function t(e,n){var o=r.call(this,e)||this;return o.customQuestion=n,lt.createProperties(o),We.CreateDisabledDesignElements=!0,o.locQuestionTitle=o.createLocalizableString("questionTitle",o),o.locQuestionTitle.setJson(o.customQuestion.defaultQuestionTitle),o.createWrapper(),We.CreateDisabledDesignElements=!1,o.customQuestion&&o.customQuestion.onCreated(o),o}return ii(t,r),t.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},t.prototype.localeChanged=function(){r.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},t.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?r.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.getElement()&&this.getElement().addUsedLocales(e)},t.prototype.needResponsiveWidth=function(){var e=this.getElement();return!!e&&e.needResponsiveWidth()},t.prototype.createWrapper=function(){},t.prototype.onPropertyValueChanged=function(e,n,o){r.prototype.onPropertyValueChanged.call(this,e,n,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,o)},t.prototype.itemValuePropertyChanged=function(e,n,o,s){r.prototype.itemValuePropertyChanged.call(this,e,n,o,s),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,n,s)},t.prototype.onFirstRendering=function(){var e=this.getElement();e&&e.onFirstRendering(),r.prototype.onFirstRendering.call(this)},t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this);var e=this.getElement();e&&e.onHidingContent()},t.prototype.getProgressInfo=function(){var e=r.prototype.getProgressInfo.call(this);return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&0==e.requiredQuestionCount&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e},t.prototype.initElement=function(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)},t.prototype.setSurveyImpl=function(e,n){this.isSettingValOnLoading=!0,r.prototype.setSurveyImpl.call(this,e,n),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},t.prototype.afterRenderQuestionElement=function(e){},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)},t.prototype.onUpdateQuestionCssClasses=function(e,n){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,n)},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)},t.prototype.setNewValue=function(e){r.prototype.setNewValue.call(this,e),this.updateElementCss()},t.prototype.onCheckForErrors=function(e,n){if(r.prototype.onCheckForErrors.call(this,e,n),this.customQuestion){var o=this.customQuestion.onGetErrorText(this);o&&e.push(new tt(o,this))}},t.prototype.getSurveyData=function(){return this},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getValue=function(e){return this.value},t.prototype.setValue=function(e,n,o,s){if(this.data){this.customQuestion&&this.customQuestion.onValueChanged(this,e,n);var u=this.convertDataName(e),p=this.convertDataValue(e,n);this.valueToDataCallback&&(p=this.valueToDataCallback(p)),this.data.setValue(u,p,o,s),this.updateIsAnswered(),this.updateElementCss()}},t.prototype.getQuestionByName=function(e){},t.prototype.isValueChanging=function(e,n){if(this.customQuestion){var o=n;if(n=this.customQuestion.onValueChanging(this,e,n),!R.isTwoValueEquals(n,o)){var s=this.getQuestionByName(e);if(s)return s.value=n,!0}}return!1},t.prototype.convertDataName=function(e){return this.getValueName()},t.prototype.convertDataValue=function(e,n){return n},t.prototype.getVariable=function(e){return this.data?this.data.getVariable(e):null},t.prototype.setVariable=function(e,n){this.data&&this.data.setVariable(e,n)},t.prototype.getComment=function(e){return this.data?this.data.getComment(this.getValueName()):""},t.prototype.setComment=function(e,n,o){this.data&&this.data.setComment(this.getValueName(),n,o)},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},t.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},t.prototype.findQuestionByName=function(e){return this.data?this.data.findQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},t.prototype.getContentDisplayValueCore=function(e,n,o){return o?this.customQuestion.getDisplayValue(e,n,o):r.prototype.getDisplayValueCore.call(this,e,n)},t}(je),vs=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ii(t,r),t.prototype.getTemplate=function(){return"custom"},t.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},t.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},t.prototype.getOriginalObj=function(){return this.questionWrapper},t.prototype.createWrapper=function(){var e=this;this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=function(n,o,s,u,p){e.getDynamicProperty(n)&&e.propertyValueChanged(n,o,s,p)})},t.prototype.getDynamicProperty=function(e){for(var n=this.getDynamicProperties(),o=0;o<n.length;o++)if(n[o].name===e)return n[o];return null},t.prototype.getElement=function(){return this.contentQuestion},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,n)},t.prototype.getQuestionByName=function(e){return this.contentQuestion},t.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):r.prototype.getDefaultTitle.call(this)},t.prototype.setValue=function(e,n,o,s){this.isValueChanging(e,n)||r.prototype.setValue.call(this,e,n,o,s)},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},t.prototype.hasErrors=function(e,n){if(void 0===e&&(e=!0),void 0===n&&(n=null),!this.contentQuestion)return!1;var o=this.contentQuestion.hasErrors(e,n);this.errors=[];for(var s=0;s<this.contentQuestion.errors.length;s++)this.errors.push(this.contentQuestion.errors[s]);return o||(o=r.prototype.hasErrors.call(this,e,n)),this.updateElementCss(),o},t.prototype.focus=function(e){void 0===e&&(e=!1),this.contentQuestion?this.contentQuestion.focus(e):r.prototype.focus.call(this,e)},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.contentQuestion&&this.contentQuestion.afterRender(e)},Object.defineProperty(t.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),t.prototype.createQuestion=function(){var e=this,n=this.customQuestion.json,o=null;if(n.questionJSON){this.hasJSONTitle=!!n.questionJSON.title;var s=n.questionJSON.type;if(!s||!M.findClass(s))throw"type attribute in questionJSON is empty or incorrect";(o=M.createClass(s)).fromJSON(n.questionJSON),o=this.checkCreatedQuestion(o)}else n.createQuestion&&(o=this.checkCreatedQuestion(n.createQuestion()));return this.initElement(o),o&&(o.isContentElement=!0,o.name||(o.name="question"),o.onUpdateCssClassesCallback=function(u){e.onUpdateQuestionCssClasses(o,u)},o.hasCssErrorCallback=function(){return e.errors.length>0},o.setValueChangedDirectlyCallback=function(u){e.setValueChangedDirectly(u)}),o},t.prototype.checkCreatedQuestion=function(e){return e&&(e.isQuestion||(e=Array.isArray(e.questions)&&e.questions.length>0?e.questions[0]:M.createClass("text"),bt.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.contentQuestion&&this.contentQuestion.runCondition(e,n)},t.prototype.convertDataName=function(e){var n=this.contentQuestion;if(!n||e===this.getValueName())return r.prototype.convertDataName.call(this,e);var o=e.replace(n.getValueName(),this.getValueName());return 0==o.indexOf(this.getValueName())?o:r.prototype.convertDataName.call(this,e)},t.prototype.convertDataValue=function(e,n){return this.convertDataName(e)==r.prototype.convertDataName.call(this,e)?this.getContentQuestionValue():n},t.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}},t.prototype.setContentQuestionValue=function(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)},t.prototype.canSetValueToSurvey=function(){return!1},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)},t.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():r.prototype.getValueCore.call(this)},t.prototype.setValueChangedDirectly=function(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,r.prototype.setValueChangedDirectly.call(this,e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)},t.prototype.createDynamicProperties=function(e){if(e){var n=this.getDynamicProperties();Array.isArray(n)&&M.addDynamicPropertiesIntoObj(this,e,n)}},t.prototype.initElement=function(e){var n=this;r.prototype.initElement.call(this,e),e&&(e.parent=this,e.afterRenderQuestionCallback=function(o,s){n.customQuestion&&n.customQuestion.onAfterRenderContentElement(n,o,s)})},t.prototype.updateElementCss=function(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),r.prototype.updateElementCss.call(this,e)},t.prototype.updateElementCssCore=function(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),r.prototype.updateElementCssCore.call(this,e)},t.prototype.getDisplayValueCore=function(e,n){return r.prototype.getContentDisplayValueCore.call(this,e,n,this.contentQuestion)},t}(ys),qu=function(r){function t(e,n){var o=r.call(this,n)||this;return o.composite=e,o.variableName=n,o}return ii(t,r),Object.defineProperty(t.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),t}(co),bs=function(r){function t(e,n){var o=r.call(this,e,n)||this;return o.customQuestion=n,o.settingNewValue=!1,o.textProcessing=new qu(o,t.ItemVariableName),o}return ii(t,r),t.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},t.prototype.getTemplate=function(){return"composite"},t.prototype.getElement=function(){return this.contentPanel},t.prototype.getCssRoot=function(e){return(new A).append(r.prototype.getCssRoot.call(this,e)).append(e.composite).toString()},Object.defineProperty(t.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=null);var o=r.prototype.hasErrors.call(this,e,n);return this.contentPanel&&this.contentPanel.hasErrors(e,!1,n)||o},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e),this.contentPanel&&this.contentPanel.updateElementCss(e)},t.prototype.dispose=function(){this.unConnectEditingObj(),r.prototype.dispose.call(this)},t.prototype.updateEditingObj=function(){var n,e=this,o=null===(n=this.data)||void 0===n?void 0:n.getEditingSurveyElement();if(o){var s=o[this.getValueName()];return s&&!s.onPropertyChanged&&(s=void 0),s!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=s,s&&(this.onEditingObjPropertyChanged=function(u,p){e.setNewValueIntoQuestion(p.name,e.editingObjValue[p.name])},s.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}},t.prototype.unConnectEditingObj=function(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getTextProcessor=function(){return this.textProcessing},t.prototype.findQuestionByName=function(e){return this.getQuestionByName(e)||r.prototype.findQuestionByName.call(this,e)},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e);for(var n=this.contentPanel.questions,o=0;o<n.length;o++)n[o].clearValueIfInvisible(e)},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n);for(var o=this.contentPanel.questions,s=0;s<o.length;s++)o[s].onAnyValueChanged(e,n)},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.createPanel=function(){var e=this,n=M.createClass("panel");n.showQuestionNumbers="off",n.renderWidth="100%";var o=this.customQuestion.json;return o.elementsJSON&&n.fromJSON({elements:o.elementsJSON}),o.createElements&&o.createElements(n,this),this.initElement(n),n.readOnly=this.isReadOnly,n.questions.forEach(function(s){return s.onUpdateCssClassesCallback=function(u){e.onUpdateQuestionCssClasses(s,u)}}),this.setAfterRenderCallbacks(n),n},t.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateValueFromSurvey=function(e,n){void 0===n&&(n=!1),this.updateEditingObj(),r.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),r.prototype.onSurveyLoad.call(this),this.contentPanel){var e=this.getContentPanelValue();R.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1},t.prototype.setIsContentElement=function(e){e.isContentElement=!0;for(var n=e.elements,o=0;o<n.length;o++){var s=n[o];s.isPanel?this.setIsContentElement(s):s.isContentElement=!0}},t.prototype.setVisibleIndex=function(e){var n=r.prototype.setVisibleIndex.call(this,e);return this.isVisible&&this.contentPanel&&(n+=this.contentPanel.setVisibleIndex(e)),n},t.prototype.runCondition=function(e,n){if(r.prototype.runCondition.call(this,e,n),this.contentPanel){var o=e[t.ItemVariableName];e[t.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(e,n),delete e[t.ItemVariableName],o&&(e[t.ItemVariableName]=o)}},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e);var n=e||{};this.contentPanel&&this.contentPanel.questions.forEach(function(o){o.onSurveyValueChanged(n[o.getValueName()])})},t.prototype.getValue=function(e){var n=this.value;return n?n[e]:null},t.prototype.getQuestionByName=function(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0},t.prototype.setValue=function(e,n,o,s){if(this.settingNewValue)this.setNewValueIntoQuestion(e,n);else if(!this.isValueChanging(e,n)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var u=0,p=this.contentPanel.questions.length+1;u<p&&this.updateValueCoreWithPanelValue();)u++;this.setNewValueIntoQuestion(e,n),r.prototype.setValue.call(this,e,n,o,s),this.settingNewValue=!1,this.runPanelTriggers(t.ItemVariableName+"."+e,n)}},t.prototype.runPanelTriggers=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(o){o.runTriggers(e,n)})},t.prototype.getFilteredValues=function(){var e=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(e[t.ItemVariableName]=this.contentPanel.getValue()),e},t.prototype.updateValueCoreWithPanelValue=function(){var e=this.getContentPanelValue();return!this.isTwoValueEquals(this.getValueCore(),e)&&(this.setValueCore(e),!0)},t.prototype.getContentPanelValue=function(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)},t.prototype.getValueForContentPanel=function(e){return this.customQuestion.getValueFromQuestion(e)},t.prototype.setNewValueIntoQuestion=function(e,n){var o=this.getQuestionByName(e);o&&!this.isTwoValueEquals(n,o.value)&&(o.value=n)},t.prototype.addConditionObjectsByContext=function(e,n){if(this.contentPanel)for(var o=this.contentPanel.questions,s=this.name,u=this.title,p=0;p<o.length;p++)e.push({name:s+"."+o[p].name,text:u+"."+o[p].title,question:o[p]})},t.prototype.collectNestedQuestionsCore=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(o){return o.collectNestedQuestions(e,n)})},t.prototype.convertDataValue=function(e,n){var o=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return o||(o={}),o.getType||(o=R.getUnbindValue(o)),this.isValueEmpty(n)&&!this.isEditingSurveyElement?delete o[e]:o[e]=n,this.getContentPanelValue(o)},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),r.prototype.setQuestionValue.call(this,e,n)},t.prototype.setValuesIntoQuestions=function(e){if(this.contentPanel){e=this.getValueForContentPanel(e);var n=this.settingNewValue;this.settingNewValue=!0;for(var o=this.contentPanel.questions,s=0;s<o.length;s++){var u=o[s].getValueName(),p=e?e[u]:void 0,h=o[s];!this.isTwoValueEquals(h.value,p)&&(void 0!==p||!h.isEmpty())&&(h.value=p)}this.settingNewValue=n}},t.prototype.getDisplayValueCore=function(e,n){return r.prototype.getContentDisplayValueCore.call(this,e,n,this.contentPanel)},t.prototype.setAfterRenderCallbacks=function(e){var n=this;if(e&&this.customQuestion)for(var o=e.questions,s=0;s<o.length;s++)o[s].afterRenderQuestionCallback=function(u,p){n.customQuestion.onAfterRenderContentElement(n,u,p)}},t.ItemVariableName="composite",t}(ys),he=function(){function r(){}return Object.defineProperty(r,"DefaultChoices",{get:function(){return[te.getString("choices_Item")+"1",te.getString("choices_Item")+"2",te.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultColums",{get:function(){var t=te.getString("matrix_column")+" ";return[t+"1",t+"2",t+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultRows",{get:function(){var t=te.getString("matrix_row")+" ";return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(r,"DefaultMutlipleTextItems",{get:function(){var t=te.getString("multipletext_itemname");return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),r.prototype.registerQuestion=function(t,e,n){void 0===n&&(n=!0),Tt.Instance.registerElement(t,e,n)},r.prototype.registerCustomQuestion=function(t){Tt.Instance.registerCustomQuestion(t)},r.prototype.unregisterElement=function(t,e){void 0===e&&(e=!1),Tt.Instance.unregisterElement(t,e)},r.prototype.clear=function(){Tt.Instance.clear()},r.prototype.getAllTypes=function(){return Tt.Instance.getAllTypes()},r.prototype.createQuestion=function(t,e){return Tt.Instance.createElement(t,e)},r.Instance=new r,r}(),Tt=function(){function r(){var t=this;this.creatorHash={},this.registerCustomQuestion=function(e,n){void 0===n&&(n=!0),t.registerElement(e,function(s){var u=M.createClass(e);return u&&(u.name=s),u},n)}}return r.prototype.registerElement=function(t,e,n){void 0===n&&(n=!0),this.creatorHash[t]={showInToolbox:n,creator:e}},r.prototype.clear=function(){this.creatorHash={}},r.prototype.unregisterElement=function(t,e){void 0===e&&(e=!1),delete this.creatorHash[t],e&&M.removeClass(t)},r.prototype.getAllToolboxTypes=function(){return this.getAllTypesCore(!0)},r.prototype.getAllTypes=function(){return this.getAllTypesCore(!1)},r.prototype.createElement=function(t,e){var n=this.creatorHash[t];if(n&&n.creator)return n.creator(e);var o=oi.Instance.getCustomQuestionByName(t);return o?oi.Instance.createQuestion(e,o):null},r.prototype.getAllTypesCore=function(t){var e=new Array;for(var n in this.creatorHash)(!t||this.creatorHash[n].showInToolbox)&&e.push(n);return e.sort()},r.Instance=new r,r}(),Hu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),po=function(r){function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("format",n),n.registerPropertyChangedHandlers(["expression"],function(){n.expressionRunner&&(n.expressionRunner=n.createRunner())}),n.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){n.updateFormatedValue()}),n}return Hu(t,r),t.prototype.getType=function(){return"expression"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(e){this.setLocalizableStringText("format",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.expression&&!this.expressionIsRunning&&(this.runIfReadOnly||!this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(e,n))},t.prototype.canCollectErrors=function(){return!0},t.prototype.hasRequiredError=function(){return!1},t.prototype.createRunner=function(){var e=this,n=this.createExpressionRunner(this.expression);return n.onRunComplete=function(o){e.value=e.roundValue(o),e.unlocCalculation()},n},Object.defineProperty(t.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runIfReadOnly",{get:function(){return!0===this.runIfReadOnlyValue},set:function(e){this.runIfReadOnlyValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),t.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},t.prototype.onValueChanged=function(){this.updateFormatedValue()},t.prototype.updateValueFromSurvey=function(e,n){r.prototype.updateValueFromSurvey.call(this,e,n),this.updateFormatedValue()},t.prototype.getDisplayValueCore=function(e,n){var o=n??this.defaultValue,s="";if(!this.isValueEmpty(o)){var u=this.getValueAsStr(o);s=this.format?this.format.format(u):u}return this.survey&&(s=this.survey.getExpressionDisplayValue(this,o,s)),s},Object.defineProperty(t.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(e){this.setPropertyValue("displayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(e){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(e)<0||this.setPropertyValue("currency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(e){this.setPropertyValue("useGrouping",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(e){this.setPropertyValue("precision",e)},enumerable:!1,configurable:!0}),t.prototype.roundValue=function(e){if(e!==1/0)return this.precision<0||!R.isNumber(e)?e:parseFloat(e.toFixed(this.precision))},t.prototype.getValueAsStr=function(e){if("date"==this.displayStyle){var n=new Date(e);if(n&&n.toLocaleDateString)return n.toLocaleDateString()}if("none"!=this.displayStyle&&R.isNumber(e)){var o=this.getLocale();o||(o="en");var s={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(s.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(s.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(o,s)}return e.toString()},t}(je);M.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD",visibleIf:function(r){return"currency"===r.displayStyle}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new po("")},"question"),he.Instance.registerQuestion("expression",function(r){return new po(r)});var Qu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function si(r,t,e,n){r.storeOthersAsComment=!!e&&e.storeOthersAsComment,(!r.choices||0==r.choices.length)&&r.choicesByUrl.isEmpty&&(r.choices=e.choices),r.choicesByUrl.isEmpty||r.choicesByUrl.run(n.getTextProcessor())}var fo={dropdown:{onCellQuestionUpdate:function(r,t,e,n){!function Gu(r,t,e,n){si(r,0,e,n),r.locPlaceholder&&r.locPlaceholder.isEmpty&&!e.locPlaceholder.isEmpty&&(r.optionsCaption=e.optionsCaption)}(r,0,e,n)}},checkbox:{onCellQuestionUpdate:function(r,t,e,n){si(r,0,e,n),r.colCount=t.colCount>-1?t.colCount:e.columnColCount}},radiogroup:{onCellQuestionUpdate:function(r,t,e,n){si(r,0,e,n),r.colCount=t.colCount>-1?t.colCount:e.columnColCount}},tagbox:{onCellQuestionUpdate:function(r,t,e,n){si(r,0,e,n)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(r,t,e,n){r.renderAs=t.renderAs}},expression:{},rating:{}},On=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this)||this;return o.colOwnerValue=null,o.indexValue=-1,o._hasVisibleCell=!0,o.previousChoicesId=void 0,o.createLocalizableString("totalFormat",o),o.createLocalizableString("cellHint",o),o.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){o.doShowInMultipleColumnsChanged()}),o.registerPropertyChangedHandlers(["visible"],function(){o.doColumnVisibilityChanged()}),o.updateTemplateQuestion(),o.name=e,n?o.title=n:o.templateQuestion.locTitle.strChanged(),o}return Qu(t,r),t.getColumnTypes=function(){var e=[];for(var n in fo)e.push(n);return e},t.prototype.getOriginalObj=function(){return this.templateQuestion},t.prototype.getClassNameProperty=function(){return"cellType"},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.colOwner?this.colOwner.survey:null},t.prototype.endLoadingFromJson=function(){var e=this;r.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return e.getSurvey()}},t.prototype.getDynamicPropertyName=function(){return"cellType"},t.prototype.getDynamicType=function(){return"default"===this.cellType?"question":this.calcCellQuestionType(null)},Object.defineProperty(t.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.templateQuestion.addUsedLocales(e)},Object.defineProperty(t.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e){this.indexValue=e},t.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColumnVisible",{get:function(){return!!this.isDesignMode||this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.templateQuestion.visible},set:function(e){this.templateQuestion.visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),t.prototype.getVisibleMultipleChoices=function(){var e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;for(var n=new Array,o=0;o<e.length;o++){var s=e[o];this._visiblechoices.indexOf(s.value)>-1&&n.push(s)}return n},Object.defineProperty(t.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),t.prototype.setVisibleChoicesInCell=function(e){this._visiblechoices=e},Object.defineProperty(t.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++)if(e[n].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(e){this.setPropertyValue("isRenderedRequired",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsRenderedRequired=function(e){this.isRenderedRequired=e||this.isRequired},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(e){this.templateQuestion.resetValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(e){this.templateQuestion.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(e){this.templateQuestion.setValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.templateQuestion.setValueExpression},set:function(e){this.templateQuestion.setValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(e){this.setLocalizableStringText("cellHint",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalAlignment",{get:function(){return this.getPropertyValue("totalAlignment")},set:function(e){this.setPropertyValue("totalAlignment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(e)<0||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(e){this.templateQuestion.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.colOwner?this.colOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.colOwner?this.colOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},t.prototype.createCellQuestion=function(e){var n=this.calcCellQuestionType(e),o=this.createNewQuestion(n);return this.callOnCellQuestionUpdate(o,e),o},t.prototype.startLoadingFromJson=function(e){r.prototype.startLoadingFromJson.call(this,e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())},t.prototype.updateCellQuestion=function(e,n,o){void 0===o&&(o=null),this.setQuestionProperties(e,o)},t.prototype.callOnCellQuestionUpdate=function(e,n){var o=e.getType(),s=fo[o];s&&s.onCellQuestionUpdate&&s.onCellQuestionUpdate(e,this,this.colOwner,n)},t.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},t.prototype.calcCellQuestionType=function(e){var n=this.getDefaultCellQuestionType();return e&&this.colOwner&&(n=this.colOwner.getCustomCellType(this,e,n)),n},t.prototype.getDefaultCellQuestionType=function(e){return e||(e=this.cellType),"default"!==e?e:this.colOwner?this.colOwner.getCellType():I.matrix.defaultCellType},t.prototype.updateTemplateQuestion=function(e){var n=this,o=this.getDefaultCellQuestionType(e),s=this.templateQuestion?this.templateQuestion.getType():"";o!==s&&(this.templateQuestion&&this.removeProperties(s),this.templateQuestionValue=this.createNewQuestion(o),this.templateQuestion.locOwner=this,this.addProperties(o),this.templateQuestion.onPropertyChanged.add(function(u,p){n.propertyValueChanged(p.name,p.oldValue,p.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(u,p){n.doItemValuePropertyChanged(p.propertyName,p.obj,p.name,p.newValue,p.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return n.getSurvey()}),this.templateQuestion.locTitle.strChanged())},t.prototype.createNewQuestion=function(e){var n=M.createClass(e);return n||(n=M.createClass("text")),n.loadingOwner=this,n.isEditableTemplateElement=!0,n.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(n),this.setParentQuestionToTemplate(n),n},t.prototype.setParentQuestionToTemplate=function(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)},t.prototype.setQuestionProperties=function(e,n){var o=this;if(void 0===n&&(n=null),this.templateQuestion){var s=(new Oe).toJsonObject(this.templateQuestion,!0);if(n&&n(s),s.type=e.getType(),"default"===this.cellType&&this.colOwner&&this.colOwner.hasChoices()&&delete s.choices,delete s.itemComponent,this.jsonObj&&Object.keys(this.jsonObj).forEach(function(p){s[p]=o.jsonObj[p]}),"random"===s.choicesOrder){s.choicesOrder="none";var u=this.templateQuestion.visibleChoices;Array.isArray(u)&&(s.choices=u)}(new Oe).toObject(s,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=function(){if(o.isShowInMultipleColumns&&(!o.previousChoicesId||o.previousChoicesId===e.id)){o.previousChoicesId=e.id;var p=e.visibleChoices;o.templateQuestion.choices=p,o.propertyValueChanged("choices",p,p)}}}},t.prototype.propertyValueChanged=function(e,n,o){if(r.prototype.propertyValueChanged.call(this,e,n,o),"isRequired"===e&&this.updateIsRenderedRequired(o),this.colOwner&&!this.isLoadingFromJson){if(this.isShowInMultipleColumns){if("choicesOrder"===e)return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}M.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,o)}},t.prototype.doItemValuePropertyChanged=function(e,n,o,s,u){M.hasOriginalProperty(n,o)&&null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,n,o,s,u)},t.prototype.doShowInMultipleColumnsChanged=function(){null!=this.colOwner&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},t.prototype.doColumnVisibilityChanged=function(){null!=this.colOwner&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)},t.prototype.getProperties=function(e){return M.getDynamicPropertiesByObj(this,e)},t.prototype.removeProperties=function(e){for(var n=this.getProperties(e),o=0;o<n.length;o++){var s=n[o];delete this[s.name],s.serializationProperty&&delete this[s.serializationProperty]}},t.prototype.addProperties=function(e){var n=this.getProperties(e);M.addDynamicPropertiesIntoObj(this,this.templateQuestion,n)},t}(oe);M.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(r,t){r&&t&&(t.placeholder=r.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var r=On.getColumnTypes();return r.splice(0,0,"default"),r}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(r,t){r&&t&&(t.value=r.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(r){return r.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:function(r){return!r.isShowInMultipleColumns},default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:function(r){return!r.isShowInMultipleColumns}},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:function(r){return r.hasTotal}},{name:"totalDisplayStyle",visibleIf:function(r){return r.hasTotal},default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:function(r){return r.hasTotal},default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:function(r){return r.hasTotal},choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:function(r){return r.hasTotal}},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:function(r){return r.hasTotal}},{name:"renderAs",default:"default",visible:!1}],function(){return new On("")});var ho=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),En=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ct=function(){function r(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=r.counter++}return Object.defineProperty(r.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"item",{get:function(){return this.itemValue},set:function(t){this.itemValue=t,t&&(t.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){var t=(new A).append(this.classNameValue);return this.hasQuestion&&t.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),t.toString()},set:function(t){this.classNameValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellQuestionWrapperClassName",{get:function(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var t;return!this.hasQuestion&&!this.isErrorsCell||!(null!==(t=this.matrix)&&void 0!==t&&t.isMobile)||this.question.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showResponsiveTitle",{get:function(){var t;return this.hasQuestion&&(null===(t=this.matrix)||void 0===t?void 0:t.isMobile)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"responsiveTitleCss",{get:function(){return(new A).append(this.matrix.cssClasses.cellResponsiveTitle).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"responsiveLocTitle",{get:function(){return this.cell.column.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var t=this.cell.column.cellHint;return t?""===t.trim()?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),r.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},r.prototype.calculateFinalClassName=function(t){var e=this.cell.question.cssClasses,n=(new A).append(e.itemValue,!!e).append(e.asCell,!!e);return n.append(t.cell,n.isEmpty()&&!!t).append(t.choiceCell,this.isChoice).toString()},r.prototype.focusIn=function(){this.question&&this.question.focusIn()},r.counter=1,r}(),mo=function(r){function t(e,n){void 0===n&&(n=!1);var o=r.call(this)||this;return o.cssClasses=e,o.isDetailRow=n,o.hasEndActions=!1,o.isErrorsRow=!1,o.cells=[],o.idValue=t.counter++,o}return ho(t,r),Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){var e,n;return(new A).append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,null===(e=this.row)||void 0===e?void 0:e.hasPanel).append(this.cssClasses.expandedRow,(null===(n=this.row)||void 0===n?void 0:n.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.counter=1,En([_({defaultValue:!1})],t.prototype,"isGhostRow",void 0),En([_({defaultValue:!1})],t.prototype,"isAdditionalClasses",void 0),En([_({defaultValue:!0})],t.prototype,"visible",void 0),t}(oe),Cs=function(r){function t(e){var n=r.call(this,e)||this;return n.isErrorsRow=!0,n}return ho(t,r),Object.defineProperty(t.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return(new A).append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),t.prototype.onAfterCreated=function(){var e=this,n=function(){e.visible=e.cells.some(function(o){return o.question&&o.question.hasVisibleErrors})};this.cells.forEach(function(o){o.question&&o.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n)}),n()},t}(mo),go=function(r){function t(e){var n=r.call(this)||this;return n.matrix=e,n._renderedRows=[],n.renderedRowsAnimation=new Se(n.getRenderedRowsAnimationOptions(),function(o){n._renderedRows=o},function(){return n._renderedRows}),n.hasActionCellInRowsValues={},n.build(),n}return ho(t,r),t.prototype.getIsAnimationAllowed=function(){return r.prototype.getIsAnimationAllowed.call(this)&&this.matrix.animationAllowed},t.prototype.getRenderedRowsAnimationOptions=function(){var e=this,n=function(o){o.querySelectorAll(":scope > td > *").forEach(function(s){s.style.setProperty("--animation-height",s.offsetHeight+"px")})};return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(o){return o.getRootElement()},getLeaveOptions:function(){return{cssClass:e.cssClasses.rowFadeOut,onBeforeRunAnimation:n}},getEnterOptions:function(){return{cssClass:e.cssClasses.rowFadeIn,onBeforeRunAnimation:n}}}},t.prototype.updateRenderedRows=function(){this.renderedRows=this.rows},Object.defineProperty(t.prototype,"renderedRows",{get:function(){return this._renderedRows},set:function(e){this.renderedRowsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),t.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(t.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsTop",{get:function(){return"top"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsBottom",{get:function(){return"bottom"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),t.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},t.prototype.updateShowTableAndAddRow=function(){var e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);var n=this.matrix.canAddRow&&e,o=n,s=n;o&&(o="default"===this.matrix.getAddRowLocation()?!this.matrix.isColumnLayoutHorizontal:"bottom"!==this.matrix.getAddRowLocation()),s&&"topBottom"!==this.matrix.getAddRowLocation()&&(s=!o),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",o),this.setPropertyValue("showAddRowOnBottom",s)},t.prototype.onAddedRow=function(e,n){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var o=this.getRenderedRowIndexByIndex(n);this.rowsActions.splice(n,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,1==this.matrix.visibleRows.length&&!this.matrix.showHeader,o),this.updateShowTableAndAddRow()}},t.prototype.getRenderedRowIndexByIndex=function(e){for(var n=0,o=0,s=0;s<this.rows.length;s++){if(o===e){(this.rows[s].isErrorsRow||this.rows[s].isDetailRow)&&n++;break}n++,!this.rows[s].isErrorsRow&&!this.rows[s].isDetailRow&&o++}return o<e?this.rows.length:n},t.prototype.getRenderedDataRowCount=function(){for(var e=0,n=0;n<this.rows.length;n++)!this.rows[n].isErrorsRow&&!this.rows[n].isDetailRow&&e++;return e},t.prototype.onRemovedRow=function(e){var n=this.getRenderedRowIndex(e);if(!(n<0)){this.rowsActions.splice(n,1);var o=1;n<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[n+1].isErrorsRow&&o++,n<this.rows.length-1&&(this.rows[n+1].isDetailRow||this.showCellErrorsBottom&&n+1<this.rows.length-1&&this.rows[n+2].isDetailRow)&&o++,n>0&&this.showCellErrorsTop&&this.rows[n-1].isErrorsRow&&(n--,o++),this.rows.splice(n,o),this.updateShowTableAndAddRow()}},t.prototype.onDetailPanelChangeVisibility=function(e,n){var o=this.getRenderedRowIndex(e);if(!(o<0)){var s=o;this.showCellErrorsBottom&&s++;var u=s<this.rows.length-1&&this.rows[s+1].isDetailRow?s+1:-1;if(!(n&&u>-1||!n&&u<0))if(n){var p=this.createDetailPanelRow(e,this.rows[o]);this.rows.splice(s+1,0,p)}else this.rows.splice(u,1)}},t.prototype.getRenderedRowIndex=function(e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].row==e)return n;return-1},t.prototype.buildRowsActions=function(){this.rowsActions=[];for(var e=this.matrix.visibleRows,n=0;n<e.length;n++)this.rowsActions.push(this.buildRowActions(e[n]))},t.prototype.createRenderedRow=function(e,n){return void 0===n&&(n=!1),new mo(e,n)},t.prototype.createErrorRenderedRow=function(e){return new Cs(e)},t.prototype.buildHeader=function(){var n=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",n),n){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var o=0;o<this.matrix.visibleColumns.length;o++){var s=this.matrix.visibleColumns[o];s.isColumnVisible&&(this.matrix.IsMultiplyColumn(s)?this.createMutlipleColumnsHeader(s):this.headerRow.cells.push(this.createHeaderCell(s)))}else{var u=this.matrix.visibleRows;for(o=0;o<u.length;o++){var p=this.createTextCell(u[o].locText);this.setHeaderCellCssClasses(p),p.row=u[o],this.headerRow.cells.push(p)}this.matrix.hasFooter&&(p=this.createTextCell(this.matrix.getFooterText()),this.setHeaderCellCssClasses(p),this.headerRow.cells.push(p))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var e=this.createTextCell(this.matrix.getFooterText());e.className=(new A).append(e.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(e)}for(var n=this.matrix.visibleTotalRow.cells,o=0;o<n.length;o++){var s=n[o];if(s.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(s.column))this.createMutlipleColumnsFooter(this.footerRow,s);else{var u=this.createEditCell(s);s.column&&this.setHeaderCellWidth(s.column,u),u.className=(new A).append(u.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(u)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildRows=function(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()},t.prototype.hasActionCellInRows=function(e){return void 0===this.hasActionCellInRowsValues[e]&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]},t.prototype.hasActionsCellInLocaltion=function(e){var n=this;return!("end"!=e||!this.hasRemoveRows)||this.matrix.visibleRows.some(function(o,s){return!n.isValueEmpty(n.getRowActions(s,e))})},t.prototype.canRemoveRow=function(e){return this.matrix.canRemoveRow(e)},t.prototype.buildHorizontalRows=function(){for(var e=this.matrix.visibleRows,n=[],o=0;o<e.length;o++)this.addHorizontalRow(n,e[o],0==o&&!this.matrix.showHeader);return n},t.prototype.addHorizontalRow=function(e,n,o,s){void 0===s&&(s=-1);var u=this.createHorizontalRow(n,o),p=this.createErrorRow(u);if(u.row=n,s<0&&(s=e.length),this.matrix.isMobile){for(var h=[],m=0;m<u.cells.length;m++)this.showCellErrorsTop&&!p.cells[m].isEmpty&&h.push(p.cells[m]),h.push(u.cells[m]),this.showCellErrorsBottom&&!p.cells[m].isEmpty&&h.push(p.cells[m]);u.cells=h,e.splice(s,0,u)}else e.splice.apply(e,function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r}([s,0],this.showCellErrorsTop?[p,u]:[u,p])),s++;n.isDetailPanelShowing&&e.splice(s+1,0,this.createDetailPanelRow(n,u))},t.prototype.getRowDragCell=function(e){var n=new ct,o=this.matrix.lockedRowCount;return n.isDragHandlerCell=o<1||e>=o,n.isEmpty=!n.isDragHandlerCell,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[e],n},t.prototype.getActionsCellClassName=function(e){var n=this;void 0===e&&(e=null);var o=(new A).append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e?.isDragHandlerCell).append(this.cssClasses.detailRowCell,e?.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);return e.isActionsCell&&this.cssClasses.actionsCellPrefix&&e.item.value.actions.forEach(function(u){o.append(n.cssClasses.actionsCellPrefix+"--"+u.id)}),o.toString()},t.prototype.getRowActionsCell=function(e,n,o){void 0===o&&(o=!1);var s=this.getRowActions(e,n);if(!this.isValueEmpty(s)){var u=new ct,p=this.matrix.allowAdaptiveActions?new Jn:new ut;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(p.cssClasses=this.matrix.survey.getCss().actionBar),p.setItems(s);var h=new J(p);return u.item=h,u.isActionsCell=!0,u.isDragHandlerCell=!1,u.isDetailRowCell=o,u.className=this.getActionsCellClassName(u),u.row=this.matrix.visibleRows[e],u}return null},t.prototype.getRowActions=function(e,n){var o=this.rowsActions[e];return Array.isArray(o)?o.filter(function(s){return s.location||(s.location="start"),s.location===n}):[]},t.prototype.buildRowActions=function(e){var n=[];return this.setDefaultRowActions(e,n),this.matrix.survey&&(n=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,n)),n},Object.defineProperty(t.prototype,"showRemoveButtonAsIcon",{get:function(){return I.matrix.renderRemoveAsIcon&&this.matrix.survey&&"sd-root-modern"===this.matrix.survey.css.root},enumerable:!1,configurable:!0}),t.prototype.setDefaultRowActions=function(e,n){var o=this,s=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&n.push(new de(this.showRemoveButtonAsIcon?{id:"remove-row",iconName:"icon-delete",iconSize:"auto",component:"sv-action-bar-item",innerCss:(new A).append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:s.removeRowText,enabled:!s.isInputReadOnly,data:{row:e,question:s},action:function(){s.removeRowUI(e)}}:{id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}})),e.hasPanel&&(this.matrix.isMobile?n.unshift(new de({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(u){u.title=o.matrix.getLocalizationString(e.isDetailPanelShowing?"showDetails":"hideDetails"),e.showHideDetailPanelClick()}})):n.push(new de({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))},t.prototype.createErrorRow=function(e){for(var n=this.createErrorRenderedRow(this.cssClasses),o=0;o<e.cells.length;o++){var s=e.cells[o];s.hasQuestion?this.matrix.IsMultiplyColumn(s.cell.column)?n.cells.push(s.isFirstChoice?this.createErrorCell(s.cell):this.createEmptyCell(!0)):n.cells.push(this.createErrorCell(s.cell)):n.cells.push(this.createEmptyCell(!0))}return n.onAfterCreated(),n},t.prototype.createHorizontalRow=function(e,n){var o=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var s=this.matrix.visibleRows.indexOf(e);o.cells.push(this.getRowDragCell(s))}this.addRowActionsCell(e,o,"start"),this.matrix.hasRowText&&((u=this.createTextCell(e.locText)).row=e,o.cells.push(u),this.setHeaderCellWidth(null,u),u.className=(new A).append(u.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString());for(var p=0;p<e.cells.length;p++){var h=e.cells[p];if(h.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(h.column))this.createMutlipleEditCells(o,h);else{h.column.isShowInMultipleColumns&&h.question.visibleChoices.map(function(x){return x.hideCaption=!1});var u=this.createEditCell(h);o.cells.push(u),n&&this.setHeaderCellWidth(h.column,u)}}return this.addRowActionsCell(e,o,"end"),o},t.prototype.addRowActionsCell=function(e,n,o){var s=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(o)){var u=this.getRowActionsCell(s,o,n.isDetailRow);if(u)n.cells.push(u),n.hasEndActions=!0;else{var p=new ct;p.isEmpty=!0,p.isDetailRowCell=n.isDetailRow,n.cells.push(p)}}},t.prototype.createDetailPanelRow=function(e,n){var o=this.matrix.isDesignMode,s=this.createRenderedRow(this.cssClasses,!0);s.row=e;var u=new ct;this.matrix.hasRowText&&(u.colSpans=2),u.isEmpty=!0,o||s.cells.push(u);var p=null;this.hasActionCellInRows("end")&&((p=new ct).isEmpty=!0);var h=new ct;return h.panel=e.detailPanel,h.colSpans=n.cells.length-(o?0:u.colSpans)-(p?p.colSpans:0),h.className=this.cssClasses.detailPanelCell,s.cells.push(h),p&&(this.matrix.isMobile?this.addRowActionsCell(e,s,"end"):s.cells.push(p)),"function"==typeof this.matrix.onCreateDetailPanelRenderedRowCallback&&this.matrix.onCreateDetailPanelRenderedRowCallback(s),s},t.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,n=[],o=0;o<e.length;o++){var s=e[o];if(s.isColumnVisible)if(this.matrix.IsMultiplyColumn(s))this.createMutlipleVerticalRows(n,s,o);else{var u=this.createVerticalRow(s,o),p=this.createErrorRow(u);this.showCellErrorsTop?(n.push(p),n.push(u)):(n.push(u),n.push(p))}}return this.hasActionCellInRows("end")&&n.push(this.createEndVerticalActionRow()),n},t.prototype.createMutlipleVerticalRows=function(e,n,o){var s=this.getMultipleColumnChoices(n);if(s)for(var u=0;u<s.length;u++){var p=this.createVerticalRow(n,o,s[u],u),h=this.createErrorRow(p);this.showCellErrorsTop?(e.push(h),e.push(p)):(e.push(p),e.push(h))}},t.prototype.createVerticalRow=function(e,n,o,s){void 0===o&&(o=null),void 0===s&&(s=-1);var u=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var h=this.createTextCell(o?o.locText:e.locTitle);h.column=e,h.className=(new A).append(h.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),u.cells.push(h)}for(var m=this.matrix.visibleRows,x=0;x<m.length;x++){var T=o,D=s>=0?s:x,B=m[x].cells[n],j=o?B.question.visibleChoices:void 0;j&&D<j.length&&(T=j[D]);var X=this.createEditCell(B,T);X.item=T,X.choiceIndex=D,u.cells.push(X)}return this.matrix.hasTotal&&u.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[n])),u},t.prototype.createEndVerticalActionRow=function(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var n=this.matrix.visibleRows,o=0;o<n.length;o++)e.cells.push(this.getRowActionsCell(o,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e},t.prototype.createMutlipleEditCells=function(e,n,o){void 0===o&&(o=!1);var s=o?this.getMultipleColumnChoices(n.column):n.question.visibleChoices;if(s)for(var u=0;u<s.length;u++){var p=this.createEditCell(n,o?void 0:s[u]);o||(this.setItemCellCssClasses(p),p.choiceIndex=u),e.cells.push(p)}},t.prototype.setItemCellCssClasses=function(e){e.className=(new A).append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()},t.prototype.createEditCell=function(e,n){void 0===n&&(n=void 0);var o=new ct;return o.cell=e,o.row=e.row,o.question=e.question,o.matrix=this.matrix,o.item=n,o.isOtherChoice=!!n&&!!e.question&&e.question.otherItem===n,o.className=o.calculateFinalClassName(this.cssClasses),o},t.prototype.createErrorCell=function(e,n){void 0===n&&(n=void 0);var o=new ct;return o.question=e.question,o.row=e.row,o.matrix=this.matrix,o.isErrorsCell=!0,o.className=(new A).append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),o},t.prototype.createMutlipleColumnsFooter=function(e,n){this.createMutlipleEditCells(e,n,!0)},t.prototype.createMutlipleColumnsHeader=function(e){var n=this.getMultipleColumnChoices(e);if(n)for(var o=0;o<n.length;o++){var s=this.createTextCell(n[o].locText);this.setHeaderCell(e,s),this.setHeaderCellCssClasses(s),this.headerRow.cells.push(s)}},t.prototype.getMultipleColumnChoices=function(e){var n=e.templateQuestion.choices;return n&&Array.isArray(n)&&0==n.length?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(n=e.getVisibleMultipleChoices())&&Array.isArray(n)?n:null},t.prototype.setHeaderCellCssClasses=function(e,n){e.className=(new A).append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+n,!!n).toString()},t.prototype.createHeaderCell=function(e,n){void 0===n&&(n=null);var o=e?this.createTextCell(e.locTitle):this.createEmptyCell();return o.column=e,this.setHeaderCell(e,o),n||(n=e&&"default"!==e.cellType?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(o,n),o},t.prototype.setHeaderCell=function(e,n){this.setHeaderCellWidth(e,n)},t.prototype.setHeaderCellWidth=function(e,n){n.minWidth=null!=e?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),n.width=null!=e?e.width:this.matrix.getRowTitleWidth()},t.prototype.createTextCell=function(e){var n=new ct;return n.locTitle=e,this.cssClasses.cell&&(n.className=this.cssClasses.cell),n},t.prototype.createEmptyCell=function(e){void 0===e&&(e=!1);var n=this.createTextCell(null);return n.isEmpty=!0,n.className=(new A).append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),n},En([qe({onPush:function(e,n,o){o.updateRenderedRows()},onRemove:function(e,n,o){o.updateRenderedRows()}})],t.prototype,"rows",void 0),En([qe()],t.prototype,"_renderedRows",void 0),t}(oe),ai=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yo=function(){function r(t,e,n){this.column=t,this.row=e,this.data=n,this.questionValue=this.createQuestion(t,e,n),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(e)}return r.prototype.updateCellQuestionTitleDueToAccessebility=function(t){var e=this;this.questionValue.locTitle.onGetTextCallback=function(n){if(!t||!t.getSurvey())return e.questionValue.title;var o=t.getAccessbilityText();return o?e.column.colOwner.getCellAriaLabel(o,e.questionValue.title):e.questionValue.title}},r.prototype.locStrsChanged=function(){this.question.locStrsChanged()},r.prototype.createQuestion=function(t,e,n){var o=this,s=n.createQuestion(this.row,this.column);return s.readOnlyCallback=function(){return!o.row.isRowEnabled()},s.validateValueCallback=function(){return n.validateCell(e,t.name,e.value)},lt.getProperties(t.getType()).forEach(function(u){var p=u.name;void 0!==t[p]&&(s[p]=t[p])}),s},Object.defineProperty(r.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.question.value},set:function(t){this.question.value=t},enumerable:!1,configurable:!0}),r.prototype.getQuestionWrapperClassName=function(t){return t},r.prototype.runCondition=function(t,e){this.question.runCondition(t,e)},r}(),zu=function(r){function t(e,n,o){var s=r.call(this,e,n,o)||this;return s.column=e,s.row=n,s.data=o,s.updateCellQuestion(),s}return ai(t,r),t.prototype.createQuestion=function(e,n,o){var s=M.createClass("expression");return s.setSurveyImpl(n),s},t.prototype.locStrsChanged=function(){this.updateCellQuestion(),r.prototype.locStrsChanged.call(this)},t.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},t.prototype.getQuestionWrapperClassName=function(e){var n=r.prototype.getQuestionWrapperClassName.call(this,e);if(!n)return n;this.question.expression&&"''"!=this.question.expression&&(n+=" "+e+"--expression");var o=this.column.totalAlignment;return"auto"===o&&"dropdown"===this.column.cellType&&(o="left"),n+" "+e+"--"+o},t.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"''";var e=this.column.totalType+"InArray";return pe.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""},t}(yo),Uu=function(r){function t(e,n,o){var s=r.call(this,n)||this;return s.row=e,s.variableName=n,s.parentTextProcessor=o,s}return ai(t,r),t.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(t.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.row.value},t.prototype.getQuestionByName=function(e){return this.row.getQuestionByName(e)},t.prototype.onCustomProcessText=function(e){return e.name==cn.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):e.name==cn.RowValueVariableName&&(e.isExists=!0,e.value=this.row.rowName,!0)},t}(co),cn=function(){function r(t,e){var n=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=t,this.subscribeToChanges(e),this.textPreProcessor=new Uu(this,r.RowVariableName,t?t.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(n.getSurvey().isDesignMode)return!0;n.showHideDetailPanel()},this.idValue=r.getId()}return r.getId=function(){return"srow_"+r.idCounter++},Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),r.prototype.isRowEnabled=function(){return!0},r.prototype.isRowHasEnabledCondition=function(){return!1},Object.defineProperty(r.prototype,"value",{get:function(){for(var t={},e=this.questions,n=0;n<e.length;n++){var o=e[n];o.isEmpty()||(t[o.getValueName()]=o.value),o.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(t[o.getValueName()+oe.commentSuffix]=o.comment)}return t},set:function(t){this.isSettingValue=!0,this.subscribeToChanges(t);for(var e=this.questions,n=0;n<e.length;n++){var o=e[n],s=this.getCellValue(t,o.getValueName()),u=o.comment,p=t?t[o.getValueName()+oe.commentSuffix]:"";null==p&&(p=""),o.updateValueFromSurvey(s),(p||this.isTwoValueEquals(u,o.comment))&&o.updateCommentFromSurvey(p),o.onSurveyValueChanged(s)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),r.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(r.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),r.prototype.setIsDetailPanelShowing=function(t){!t&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,t),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},r.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},r.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},r.prototype.hideDetailPanel=function(t){void 0===t&&(t=!1),this.setIsDetailPanelShowing(!1),t&&(this.detailPanelValue=null)},r.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var t=this.detailPanelValue.questions,e=this.data.getRowValue(this.data.getRowIndex(this));if(!R.isValueEmpty(e))for(var n=0;n<t.length;n++){var o=t[n].getValueName(),s=this.editingObj?M.getObjPropertyValue(this.editingObj,o):e[o];R.isValueEmpty(s)||(t[n].value=s)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},r.prototype.getAllValues=function(){return this.value},r.prototype.getFilteredValues=function(){var t=this.data?this.data.getDataFilteredValues():{},e=this.validationValues;if(e)for(var n in e)t[n]=e[n];return t.row=this.getAllValues(),this.applyRowVariablesToValues(t,this.rowIndex),t},r.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},r.prototype.applyRowVariablesToValues=function(t,e){t[r.IndexVariableName]=e,t[r.RowValueVariableName]=this.rowName},r.prototype.runCondition=function(t,e){this.data&&(t[r.OwnerVariableName]=this.data.value);var n=this.rowIndex;this.applyRowVariablesToValues(t,n);var o=R.createCopy(e);o[r.RowVariableName]=this;for(var s=n>0?this.data.getRowValue(this.rowIndex-1):this.value,u=0;u<this.cells.length;u++)u>0&&Pt(this.value,s),t[r.RowVariableName]=s,this.cells[u].runCondition(t,o);this.detailPanel&&this.detailPanel.runCondition(t,o),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()},r.prototype.getNamesWithDefaultValues=function(){var t=[];return this.questions.forEach(function(e){e.isValueDefault&&t.push(e.getValueName())}),t},r.prototype.clearValue=function(t){for(var e=this.questions,n=0;n<e.length;n++)e[n].clearValue(t)},r.prototype.onAnyValueChanged=function(t,e){for(var n=this.questions,o=0;o<n.length;o++)n[o].onAnyValueChanged(t,e)},r.prototype.getDataValueCore=function(t,e){var n=this.getSurvey();return n?n.getDataValueCore(t,e):t[e]},r.prototype.getValue=function(t){var e=this.getQuestionByName(t);return e?e.value:null},r.prototype.setValue=function(t,e){this.setValueCore(t,e,!1)},r.prototype.getVariable=function(t){},r.prototype.setVariable=function(t,e){},r.prototype.getComment=function(t){var e=this.getQuestionByName(t);return e?e.comment:""},r.prototype.setComment=function(t,e,n){this.setValueCore(t,e,!0)},r.prototype.findQuestionByName=function(t){if(t){var e=r.RowVariableName+".";if(0===t.indexOf(e))return this.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},r.prototype.getEditingSurveyElement=function(){},r.prototype.setValueCore=function(t,e,n){if(!this.isSettingValue){this.updateQuestionsValue(t,e,n),n||this.updateSharedQuestionsValue(t,e);var o=this.value,s=n?t+oe.commentSuffix:t,u=e,p=this.getQuestionByName(t),h=this.data.onRowChanging(this,s,o);p&&!this.isTwoValueEquals(h,u)&&(this.isSettingValue=!0,n?p.comment=h:p.value=h,this.isSettingValue=!1,o=this.value),this.data.isValidateOnValueChanging&&this.hasQuestonError(p)||(this.data.onRowChanged(this,s,o,null==e&&!p||n&&!e&&!!p),s&&this.runTriggers(li.RowVariableName+"."+s,o),this.onAnyValueChanged(r.RowVariableName,""))}},r.prototype.updateQuestionsValue=function(t,e,n){if(this.detailPanel){var o=this.getQuestionByColumnName(t),s=this.detailPanel.getQuestionByName(t);if(o&&s){var p=this.isTwoValueEquals(e,n?o.comment:o.value)?s:o;this.isSettingValue=!0,n?p.comment=e:p.value=e,this.isSettingValue=!1}}},r.prototype.updateSharedQuestionsValue=function(t,e){var n=this.getQuestionsByValueName(t);if(n.length>1)for(var o=0;o<n.length;o++)R.isTwoValueEquals(n[o].value,e)||(this.isSettingValue=!0,n[o].updateValueFromSurvey(e),this.isSettingValue=!1)},r.prototype.runTriggers=function(t,e){t&&this.questions.forEach(function(n){return n.runTriggers(t,e)})},r.prototype.hasQuestonError=function(t){if(!t)return!1;if(t.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(t.isEmpty())return!1;var e=this.getCellByColumnName(t.name);return!!(e&&e.column&&e.column.isUnique)&&this.data.checkIfValueInRowDuplicated(this,t)},Object.defineProperty(r.prototype,"isEmpty",{get:function(){var t=this.value;if(R.isValueEmpty(t))return!0;for(var e in t)if(null!=t[e])return!1;return!0},enumerable:!1,configurable:!0}),r.prototype.getQuestionByColumn=function(t){var e=this.getCellByColumn(t);return e?e.question:null},r.prototype.getCellByColumn=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column==t)return this.cells[e];return null},r.prototype.getCellByColumnName=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column.name==t)return this.cells[e];return null},r.prototype.getQuestionByColumnName=function(t){var e=this.getCellByColumnName(t);return e?e.question:null},Object.defineProperty(r.prototype,"questions",{get:function(){for(var t=[],e=0;e<this.cells.length;e++)t.push(this.cells[e].question);var n=this.detailPanel?this.detailPanel.questions:[];for(e=0;e<n.length;e++)t.push(n[e]);return t},enumerable:!1,configurable:!0}),r.prototype.getQuestionByName=function(t){return this.getQuestionByColumnName(t)||(this.detailPanel?this.detailPanel.getQuestionByName(t):null)},r.prototype.getQuestionsByName=function(t){var e=[],n=this.getQuestionByColumnName(t);return n&&e.push(n),this.detailPanel&&(n=this.detailPanel.getQuestionByName(t))&&e.push(n),e},r.prototype.getQuestionsByValueName=function(t){for(var e=[],n=0;n<this.cells.length;n++){var o=this.cells[n];o.question&&o.question.getValueName()===t&&e.push(o.question)}return this.detailPanel&&(e=e.concat(this.detailPanel.getQuestionsByValueName(t))),e},r.prototype.getSharedQuestionByName=function(t){return this.data?this.data.getSharedQuestionByName(t,this):null},r.prototype.clearIncorrectValues=function(t){for(var e in t){var n=this.getQuestionByName(e);if(n){var o=n.value;n.clearIncorrectValues(),this.isTwoValueEquals(o,n.value)||this.setValue(e,n.value)}else!this.getSharedQuestionByName(e)&&e.indexOf(I.matrix.totalsSuffix)<0&&this.setValue(e,null)}},r.prototype.getLocale=function(){return this.data?this.data.getLocale():""},r.prototype.getMarkdownHtml=function(t,e){return this.data?this.data.getMarkdownHtml(t,e):void 0},r.prototype.getRenderer=function(t){return this.data?this.data.getRenderer(t):null},r.prototype.getRendererContext=function(t){return this.data?this.data.getRendererContext(t):t},r.prototype.getProcessedText=function(t){return this.data?this.data.getProcessedText(t):t},r.prototype.locStrsChanged=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},r.prototype.updateCellQuestionOnColumnChanged=function(t,e,n){var o=this.getCellByColumn(t);o&&this.updateCellOnColumnChanged(o,e,n)},r.prototype.updateCellQuestionOnColumnItemValueChanged=function(t,e,n,o,s,u){var p=this.getCellByColumn(t);p&&this.updateCellOnColumnItemValueChanged(p,e,n,o,s,u)},r.prototype.onQuestionReadOnlyChanged=function(){for(var t=this.questions,e=0;e<t.length;e++){var n=t[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}if(this.detailPanel){var o=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=o||!this.isRowEnabled()}},r.prototype.hasErrors=function(t,e,n){var o=!1,s=this.cells;if(!s)return o;this.validationValues=e.validationValues;for(var u=0;u<s.length;u++)if(s[u]){var p=s[u].question;!p||!p.visible||(p.onCompletedAsyncValidators=function(m){n()},(!e||!0!==e.isOnValueChanged||!p.isEmpty())&&(o=p.hasErrors(t,e)||o))}if(this.hasPanel){this.ensureDetailPanel();var h=this.detailPanel.hasErrors(t,!1,e);!e.hideErroredPanel&&h&&t&&(e.isSingleDetailPanel&&(e.hideErroredPanel=!0),this.showDetailPanel()),o=h||o}return this.validationValues=void 0,o},r.prototype.updateCellOnColumnChanged=function(t,e,n){"choices"===e&&Array.isArray(n)&&0===n.length&&this.data&&(n=this.data.choices),t.question[e]=n},r.prototype.updateCellOnColumnItemValueChanged=function(t,e,n,o,s,u){var p=t.question[e];if(Array.isArray(p)){var m=J.getItemByValue(p,"value"===o?u:n.value);m&&(m[o]=s)}},r.prototype.buildCells=function(t){this.isSettingValue=!0;for(var e=this.data.columns,n=0;n<e.length;n++){var o=e[n],s=this.createCell(o);this.cells.push(s);var u=this.getCellValue(t,o.name);if(!R.isValueEmpty(u)){s.question.value=u;var p=o.name+oe.commentSuffix;t&&!R.isValueEmpty(t[p])&&(s.question.comment=t[p])}}this.isSettingValue=!1},r.prototype.isTwoValueEquals=function(t,e){return R.isTwoValueEquals(t,e,!1,!0,!1)},r.prototype.getCellValue=function(t,e){return this.editingObj?M.getObjPropertyValue(this.editingObj,e):t?t[e]:void 0},r.prototype.createCell=function(t){return new yo(t,this,this.data)},r.prototype.getSurveyData=function(){return this},r.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},r.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(r.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},r.prototype.subscribeToChanges=function(t){var e=this;!t||!t.getType||!t.onPropertyChanged||t!==this.editingObj&&(this.editingObjValue=t,this.onEditingObjPropertyChanged=function(n,o){e.updateOnSetValue(o.name,o.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},r.prototype.updateOnSetValue=function(t,e){this.isSettingValue=!0;for(var n=this.getQuestionsByName(t),o=0;o<n.length;o++)n[o].value=e;this.isSettingValue=!1},r.RowVariableName="row",r.OwnerVariableName="self",r.IndexVariableName="rowIndex",r.RowValueVariableName="rowValue",r.idCounter=1,r}(),li=function(r){function t(e){var n=r.call(this,e,null)||this;return n.buildCells(null),n}return ai(t,r),t.prototype.createCell=function(e){return new zu(e,this,this.data)},t.prototype.setValue=function(e,n){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},t.prototype.runCondition=function(e,n){var s,o=0;do{s=R.getUnbindValue(this.value),r.prototype.runCondition.call(this,e,n),o++}while(!R.isTwoValueEquals(s,this.value)&&o<3)},t.prototype.updateCellOnColumnChanged=function(e,n,o){e.updateCellQuestion()},t}(cn),pn=function(r){function t(e){var n=r.call(this,e)||this;return n.isRowChanging=!1,n.lockResetRenderedTable=!1,n.isDoingonAnyValueChanged=!1,n.createItemValues("choices"),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.detailPanelValue=n.createNewDetailPanel(),n.detailPanel.selectedElementInDesign=n,n.detailPanel.renderWidth="100%",n.detailPanel.isInteractiveDesignElement=!1,n.detailPanel.showTitle=!1,n.registerPropertyChangedHandlers(["columns","cellType"],function(){n.updateColumnsAndRows()}),n.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){n.clearRowsAndResetRenderedTable()}),n.registerPropertyChangedHandlers(["transposeData","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],function(){n.resetRenderedTable()}),n}return ai(t,r),Object.defineProperty(t,"defaultCellType",{get:function(){return I.matrix.defaultCellType},set:function(e){I.matrix.defaultCellType=e},enumerable:!1,configurable:!0}),t.addDefaultColumns=function(e){for(var n=he.DefaultColums,o=0;o<n.length;o++)e.addColumn(n[o])},t.prototype.createColumnValues=function(){var e=this;return this.createNewArray("columns",function(n){n.colOwner=e,e.onAddColumn&&e.onAddColumn(n),e.survey&&e.survey.matrixColumnAdded(e,n)},function(n){n.colOwner=null,e.onRemoveColumn&&e.onRemoveColumn(n)})},t.prototype.getType=function(){return"matrixdropdownbase"},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),t.prototype.beginUpdate=function(){this.isUpdating=!0},t.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},t.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},t.prototype.itemValuePropertyChanged=function(e,n,o,s){r.prototype.itemValuePropertyChanged.call(this,e,n,o,s),"choices"===e.ownerPropertyName&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(t.prototype,"transposeData",{get:function(){return this.getPropertyValue("transposeData")},set:function(e){this.setPropertyValue("transposeData",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return this.transposeData?"vertical":"horizontal"},set:function(e){this.transposeData="vertical"===e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(e){this.columnLayout=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){var n=e.parent?this.detailErrorLocation:this.cellErrorLocation;return"default"!==n?n:r.prototype.getChildErrorLocation.call(this,e)},Object.defineProperty(t.prototype,"isColumnLayoutHorizontal",{get:function(){return!!this.isMobile||!this.transposeData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUniqueCaseSensitive",{get:function(){return void 0!==this.isUniqueCaseSensitiveValue?this.isUniqueCaseSensitiveValue:I.comparator.caseSensitive},set:function(e){this.isUniqueCaseSensitiveValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(e){this.setPropertyValue("detailPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(t.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),t.prototype.createNewDetailPanel=function(){return M.createClass("panel")},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return null},Object.defineProperty(t.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){return!0},t.prototype.onPointerDown=function(e,n){},t.prototype.onRowsChanged=function(){this.resetRenderedTable(),r.prototype.onRowsChanged.call(this)},t.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},t.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}},t.prototype.onEndRowRemoving=function(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)},Object.defineProperty(t.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(e){this.setPropertyValue("renderedTable",e)},enumerable:!1,configurable:!0}),t.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},t.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},t.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();r.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(t.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new go(this)},t.prototype.onMatrixRowCreated=function(e){if(this.survey)for(var n={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},o=0;o<this.visibleColumns.length;o++){n.column=this.visibleColumns[o],n.columnName=n.column.name;var s=e.cells[o];n.cell=s,n.cellQuestion=s.question,n.value=s.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(n),this.survey.matrixCellCreated(this,n)}},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",I.matrix.defaultCellType)},set:function(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)},enumerable:!1,configurable:!0}),t.prototype.isSelectCellType=function(){return M.isDescendantOf(this.cellType,"selectbase")},t.prototype.updateColumnsCellType=function(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()},t.prototype.updateColumnsIndexes=function(e){for(var n=0;n<e.length;n++)e[n].setIndex(n)},Object.defineProperty(t.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(e){e<0||e>4||this.setPropertyValue("columnColCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(e){this.setPropertyValue("horizontalScroll",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)},enumerable:!1,configurable:!0}),t.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.hasChoices=function(){return this.choices.length>0},t.prototype.onColumnPropertyChanged=function(e,n,o){if(this.updateHasFooter(),this.generatedVisibleRows){for(var s=0;s<this.generatedVisibleRows.length;s++)this.generatedVisibleRows[s].updateCellQuestionOnColumnChanged(e,n,o);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,n,o),this.onColumnsChanged(),"isRequired"==n&&this.resetRenderedTable()}},t.prototype.onColumnItemValuePropertyChanged=function(e,n,o,s,u,p){if(this.generatedVisibleRows)for(var h=0;h<this.generatedVisibleRows.length;h++)this.generatedVisibleRows[h].updateCellQuestionOnColumnItemValueChanged(e,n,o,s,u,p)},t.prototype.onShowInMultipleColumnsChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnVisibilityChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnCellTypeChanged=function(e){this.resetTableAndRows()},t.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},t.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(t.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return"default"},t.prototype.getShowColumnsIfEmpty=function(){return!1},t.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},t.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(t.prototype,"hasTotal",{get:function(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return this.cellType},t.prototype.getCustomCellType=function(e,n,o){if(!this.survey)return o;var s={rowValue:n.value,row:n,column:e,columnName:e.name,cellType:o};return this.survey.matrixCellCreating(this,s),s.cellType},t.prototype.getConditionJson=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);for(var o="",s=n.length-1;s>=0&&"."!=n[s];s--)o=n[s]+o;var u=void 0,p=this.getColumnByName(o);return p?u=p.createCellQuestion(null):"none"!==this.detailPanelMode&&(u=this.detailPanel.getQuestionByName(o)),u?u.getConditionJson(e):null},t.prototype.clearIncorrectValues=function(){var e=this.visibleRows;if(e)for(var n=0;n<e.length;n++)e[n].clearIncorrectValues(this.getRowValue(n))},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(e){e.clearErrors()})},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(e){e.localeChanged()})},t.prototype.runFuncForCellQuestions=function(e){if(this.generatedVisibleRows)for(var n=0;n<this.generatedVisibleRows.length;n++)for(var o=this.generatedVisibleRows[n],s=0;s<o.cells.length;s++)e(o.cells[s].question)},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n);var s,o=0;do{s=R.getUnbindValue(this.totalValue),this.runCellsCondition(e,n),this.runTotalsCondition(e,n),o++}while(!R.isTwoValueEquals(s,this.totalValue)&&o<3)},t.prototype.runTriggers=function(e,n){r.prototype.runTriggers.call(this,e,n),this.runFuncForCellQuestions(function(o){o.runTriggers(e,n)})},t.prototype.shouldRunColumnExpression=function(){return!1},t.prototype.runCellsCondition=function(e,n){if(this.generatedVisibleRows){for(var o=this.getRowConditionValues(e),s=this.generatedVisibleRows,u=0;u<s.length;u++)s[u].runCondition(o,n);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},t.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var e=!1,n=0;n<this.visibleColumns.length;n++){var o=this.visibleColumns[n];!o.visibleIf&&!o.isFilteredMultipleColumns||(e=this.isColumnVisibilityChanged(o)||e)}e&&this.resetRenderedTable()}},t.prototype.checkColumnsRenderedRequired=function(){for(var e=this.generatedVisibleRows,n=0;n<this.visibleColumns.length;n++){var o=this.visibleColumns[n];if(o.requiredIf){for(var s=e.length>0,u=0;u<e.length;u++)if(!e[u].cells[n].question.isRequired){s=!1;break}o.updateIsRenderedRequired(s)}}},t.prototype.isColumnVisibilityChanged=function(e){for(var n=e.isColumnVisible,o=e.isFilteredMultipleColumns,s=o?e.getVisibleChoicesInCell:[],u=new Array,p=!1,h=this.generatedVisibleRows,m=0;m<h.length;m++){var x=h[m].cells[e.index],T=x?.question;if(T&&T.isVisible){if(p=!0,!o)break;this.updateNewVisibleChoices(T,u)}}return e.hasVisibleCell=p,!(!o||(e.setVisibleChoicesInCell(u),R.isArraysEqual(s,u,!0,!1,!1)))||n!==e.isColumnVisible},t.prototype.updateNewVisibleChoices=function(e,n){var o=e.visibleChoices;if(Array.isArray(o))for(var s=0;s<o.length;s++){var u=o[s];n.indexOf(u.value)<0&&n.push(u.value)}},t.prototype.runTotalsCondition=function(e,n){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),n)},t.prototype.getRowConditionValues=function(e){var n=e;n||(n={});var o={};return this.isValueEmpty(this.totalValue)||(o=JSON.parse(JSON.stringify(this.totalValue))),n.row={},n.totalRow=o,n},t.prototype.IsMultiplyColumn=function(e){return e.isShowInMultipleColumns&&!this.isMobile},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=this.columns,n=0;n<e.length;n++)e[n].locStrsChanged();var o=this.generatedVisibleRows;if(o){for(n=0;n<o.length;n++)o[n].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},t.prototype.getColumnByName=function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].name==e)return this.columns[n];return null},t.prototype.getColumnName=function(e){return this.getColumnByName(e)},t.prototype.getColumnWidth=function(e){var n;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:(null===(n=I.matrix.columnWidthsByType[e.cellType])||void 0===n?void 0:n.minWidth)||""},Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),t.prototype.addColumn=function(e,n){void 0===n&&(n=null);var o=new On(e,n);return this.columns.push(o),o},t.prototype.getVisibleRows=function(){var e=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(n){return e.onMatrixRowCreated(n)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},t.prototype.updateValueOnRowsGeneration=function(e){for(var n=this.createNewValue(!0),o=this.createNewValue(),s=0;s<e.length;s++){var u=e[s];if(!u.editingObj){var p=this.getRowValue(s),h=u.value;this.isTwoValueEquals(p,h)||(o=this.getNewValueOnRowChanged(u,"",h,!1,o).value)}}this.isTwoValueEquals(n,o)||(this.isRowChanging=!0,this.setNewValue(o),this.isRowChanging=!1)},Object.defineProperty(t.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),t.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(t.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},t.prototype.getRowValue=function(e){if(e<0)return null;var n=this.visibleRows;if(e>=n.length)return null;var o=this.createNewValue();return this.getRowValueCore(n[e],o)},t.prototype.checkIfValueInRowDuplicated=function(e,n){return!!this.generatedVisibleRows&&this.isValueInColumnDuplicated(n.name,!0,e)},t.prototype.setRowValue=function(e,n){if(e<0)return null;var o=this.visibleRows;if(e>=o.length)return null;o[e].value=n,this.onRowChanged(o[e],"",n,!1)},t.prototype.generateRows=function(){return null},t.prototype.generateTotalRow=function(){return new li(this)},t.prototype.createNewValue=function(e){void 0===e&&(e=!1);var n=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(n)?null:n},t.prototype.getRowValueCore=function(e,n,o){void 0===o&&(o=!1);var s=n&&n[e.rowName]?n[e.rowName]:null;return!s&&o&&(s={},n&&(n[e.rowName]=s)),s},t.prototype.getRowObj=function(e){var n=this.getRowValueCore(e,this.value);return n&&n.getType?n:null},t.prototype.getRowDisplayValue=function(e,n,o){if(!o||n.editingObj)return o;for(var s=Object.keys(o),u=0;u<s.length;u++){var p=s[u],h=n.getQuestionByName(p);if(h||(h=this.getSharedQuestionByName(p,n)),h){var m=h.getDisplayValue(e,o[p]);e&&h.title&&h.title!==p?(o[h.title]=m,delete o[p]):o[p]=m}}return o},t.prototype.getPlainData=function(e){var n=this;void 0===e&&(e={includeEmpty:!0});var o=r.prototype.getPlainData.call(this,e);if(o){o.isNode=!0;var s=Array.isArray(o.data)?[].concat(o.data):[];o.data=this.visibleRows.map(function(u){var p={name:u.dataName,title:u.text,value:u.value,displayValue:n.getRowDisplayValue(!1,u,u.value),getString:function(h){return"object"==typeof h?JSON.stringify(h):h},isNode:!0,data:u.cells.map(function(h){return h.question.getPlainData(e)}).filter(function(h){return!!h})};return(e.calculations||[]).forEach(function(h){p[h.propertyName]=u[h.propertyName]}),p}),o.data=o.data.concat(s)}return o},t.prototype.addConditionObjectsByContext=function(e,n){var o=[].concat(this.columns);"none"!==this.detailPanelMode&&(o=o.concat(this.detailPanel.questions));var s=!!n&&o.indexOf(n)>-1,u=!0===n||s,p=this.getConditionObjectsRowIndeces();u&&p.push(-1);for(var h=0;h<p.length;h++){var m=p[h],x=m>-1?this.getConditionObjectRowName(m):"row";if(x)for(var T=m>-1?this.getConditionObjectRowText(m):"row",D=m>-1||!0===n,B=D&&-1===m?".":"",j=(D?this.getValueName():"")+B+x+".",X=(D?this.processedTitle:"")+B+T+".",U=0;U<o.length;U++){var $=o[U];if(-1!==m||n!==$){var Z={name:j+$.name,text:X+$.fullTitle,question:this};-1===m&&!0===n?Z.context=this:s&&j.startsWith("row.")&&(Z.context=n),e.push(Z)}}}},t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this);var e=[];this.collectNestedQuestions(e,!0),e.forEach(function(n){return n.onHidingContent()})},t.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1),e},t.prototype.collectNestedQuestionsCore=function(e,n){this.collectNestedQuestonsInRows(this.visibleRows,e,n)},t.prototype.collectNestedQuestonsInRows=function(e,n,o){Array.isArray(e)&&e.forEach(function(s){s.questions.forEach(function(u){return u.collectNestedQuestions(n,o)})})},t.prototype.getConditionObjectRowName=function(e){return""},t.prototype.getConditionObjectRowText=function(e){return this.getConditionObjectRowName(e)},t.prototype.getConditionObjectsRowIndeces=function(){return[]},t.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return We.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var e=oe.createProgressInfo();return this.updateProgressInfoByValues(e),0===e.requiredQuestionCount&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e},t.prototype.updateProgressInfoByValues=function(e){},t.prototype.updateProgressInfoByRow=function(e,n){for(var o=0;o<this.columns.length;o++){var s=this.columns[o];if(s.templateQuestion.hasInput){var u=!R.isValueEmpty(n[s.name]);!u&&s.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=s.isRequired,e.answeredQuestionCount+=u?1:0,e.requiredAnsweredQuestionCount+=u&&s.isRequired?1:0)}}},t.prototype.getCellQuestions=function(){var e=[];return this.runFuncForCellQuestions(function(n){e.push(n)}),e},t.prototype.onBeforeValueChanged=function(e){},t.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var e=this.createNewValue(),n=0;n<this.generatedVisibleRows.length;n++)this.generatedVisibleRows[n].value=this.getRowValueCore(this.generatedVisibleRows[n],e);this.isRowChanging=!1}},t.prototype.setQuestionValue=function(e){r.prototype.setQuestionValue.call(this,e,!1),this.onSetQuestionValue(),this.updateIsAnswered()},t.prototype.supportGoNextPageAutomatic=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var n=0;n<e.length;n++){var o=this.generatedVisibleRows[n].cells;if(o)for(var s=0;s<o.length;s++){var u=o[s].question;if(u&&(!u.supportGoNextPageAutomatic()||!u.value))return!1}}return!0},t.prototype.getContainsErrors=function(){return r.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(e){return e.containsErrors},!1)},t.prototype.getIsAnswered=function(){return r.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(e){return e.isAnswered},!0)},t.prototype.checkForAnswersOrErrors=function(e,n){void 0===n&&(n=!1);var o=this.generatedVisibleRows;if(!o)return!1;for(var s=0;s<o.length;s++){var u=o[s].cells;if(u)for(var p=0;p<u.length;p++)if(u[p]){var h=u[p].question;if(h&&h.isVisible)if(e(h)){if(!n)return!0}else if(n)return!1}}return!!n},t.prototype.hasErrors=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=null);var o=this.hasErrorInRows(e,n),s=this.isValueDuplicated();return r.prototype.hasErrors.call(this,e,n)||o||s},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var n=this.generatedVisibleRows[e].cells;if(n)for(var o=0;o<n.length;o++)if(n[o]){var s=n[o].question;if(s&&s.isRunningValidators)return!0}}return!1},t.prototype.getAllErrors=function(){var e=r.prototype.getAllErrors.call(this),n=this.generatedVisibleRows;if(null===n)return e;for(var o=0;o<n.length;o++)for(var s=n[o],u=0;u<s.cells.length;u++){var p=s.cells[u].question.getAllErrors();p&&p.length>0&&(e=e.concat(p))}return e},t.prototype.hasErrorInRows=function(e,n){var o=this,s=this.generatedVisibleRows;this.generatedVisibleRows||(s=this.visibleRows);var u=!1;if(n||(n={}),!s)return n;n.validationValues=this.getDataFilteredValues(),n.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var p=0;p<s.length;p++)u=s[p].hasErrors(e,n,function(){o.raiseOnCompletedAsyncValidators()})||u;return u},t.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),n=!1,o=0;o<e.length;o++)n=this.isValueInColumnDuplicated(e[o],!0)||n;return n},t.prototype.getUniqueColumnsNames=function(){for(var e=new Array,n=0;n<this.columns.length;n++)this.columns[n].isUnique&&e.push(this.columns[n].name);return e},t.prototype.isValueInColumnDuplicated=function(e,n,o){var s=this.getDuplicatedRows(e);return n&&this.showDuplicatedErrorsInRows(s,e),this.removeDuplicatedErrorsInRows(s,e),o?s.indexOf(o)>-1:s.length>0},t.prototype.getDuplicatedRows=function(e){for(var n={},o=[],s=this.generatedVisibleRows,u=0;u<s.length;u++){var p=void 0,h=s[u].getQuestionByName(e);if(h)p=h.value;else{var m=this.getRowValue(u);p=m?m[e]:void 0}this.isValueEmpty(p)||(!this.isUniqueCaseSensitive&&"string"==typeof p&&(p=p.toLocaleLowerCase()),n[p]||(n[p]=[]),n[p].push(s[u]))}for(var x in n)n[x].length>1&&n[x].forEach(function(T){return o.push(T)});return o},t.prototype.showDuplicatedErrorsInRows=function(e,n){var o=this;e.forEach(function(s){var u=s.getQuestionByName(n),p=o.detailPanel.getQuestionByName(n);!u&&p&&(s.showDetailPanel(),s.detailPanel&&(u=s.detailPanel.getQuestionByName(n))),u&&(p&&s.showDetailPanel(),o.addDuplicationError(u))})},t.prototype.removeDuplicatedErrorsInRows=function(e,n){var o=this;this.generatedVisibleRows.forEach(function(s){if(e.indexOf(s)<0){var u=s.getQuestionByName(n);u&&o.removeDuplicationError(u)}})},t.prototype.getDuplicationError=function(e){for(var n=e.errors,o=0;o<n.length;o++)if("keyduplicationerror"===n[o].getErrorType())return n[o];return null},t.prototype.addDuplicationError=function(e){this.getDuplicationError(e)||e.addError(new ns(this.keyDuplicationError,this))},t.prototype.removeDuplicationError=function(e){e.removeError(this.getDuplicationError(e))},t.prototype.getFirstQuestionToFocus=function(e){return this.getFirstCellQuestion(e)},t.prototype.getFirstInputElementId=function(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:r.prototype.getFirstInputElementId.call(this)},t.prototype.getFirstErrorInputElementId=function(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:r.prototype.getFirstErrorInputElementId.call(this)},t.prototype.getFirstCellQuestion=function(e){if(!this.generatedVisibleRows)return null;for(var n=0;n<this.generatedVisibleRows.length;n++)for(var o=this.generatedVisibleRows[n].cells,s=0;s<o.length;s++)if(!e||o[s].question.currentErrorCount>0)return o[s].question;return null},t.prototype.onReadOnlyChanged=function(){if(r.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()},t.prototype.createQuestion=function(e,n){return this.createQuestionCore(e,n)},t.prototype.createQuestionCore=function(e,n){var o=n.createCellQuestion(e);return o.setSurveyImpl(e),o.setParentQuestion(this),o.inMatrixMode=!0,o},t.prototype.deleteRowValue=function(e,n){return e&&(delete e[n.rowName],this.isObject(e)&&0==Object.keys(e).length?null:e)},t.prototype.onAnyValueChanged=function(e,n){if(!this.isUpdateLocked&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var o=this.visibleRows,s=0;s<o.length;s++)o[s].onAnyValueChanged(e,n);var u=this.visibleTotalRow;u&&u.onAnyValueChanged(e,n),this.isDoingonAnyValueChanged=!1}},t.prototype.isObject=function(e){return null!==e&&"object"==typeof e},t.prototype.getOnCellValueChangedOptions=function(e,n,o){return{row:e,columnName:n,rowValue:o,value:o?o[n]:null,getCellQuestion:function(u){return e.getQuestionByName(u)},cellQuestion:e.getQuestionByName(n),column:this.getColumnByName(n)}},t.prototype.onCellValueChanged=function(e,n,o){if(this.survey){var s=this.getOnCellValueChangedOptions(e,n,o);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(s),this.survey.matrixCellValueChanged(this,s)}},t.prototype.validateCell=function(e,n,o){if(this.survey){var s=this.getOnCellValueChangedOptions(e,n,o);return this.survey.matrixCellValidate(this,s)}},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),t.prototype.onRowChanging=function(e,n,o){if(!this.survey&&!this.cellValueChangingCallback)return o?o[n]:null;var s=this.getOnCellValueChangedOptions(e,n,o),u=this.getRowValueCore(e,this.createNewValue(),!0);return s.oldValue=u?u[n]:null,this.cellValueChangingCallback&&(s.value=this.cellValueChangingCallback(e,n,s.value,s.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,s),s.value},t.prototype.onRowChanged=function(e,n,o,s){var u=n?this.getRowObj(e):null;if(u){var p=null;o&&!s&&(p=o[n]),this.isRowChanging=!0,M.setObjPropertyValue(u,n,p),this.isRowChanging=!1,this.onCellValueChanged(e,n,u)}else{var h=this.createNewValue(!0),m=this.getNewValueOnRowChanged(e,n,o,s,this.createNewValue());if(this.isTwoValueEquals(h,m.value))return;this.isRowChanging=!0,this.setNewValue(m.value),this.isRowChanging=!1,n&&this.onCellValueChanged(e,n,m.rowValue)}this.getUniqueColumnsNames().indexOf(n)>-1&&this.isValueInColumnDuplicated(n,!!u)},t.prototype.getNewValueOnRowChanged=function(e,n,o,s,u){var p=this.getRowValueCore(e,u,!0);s&&delete p[n];for(var h=0;h<e.cells.length;h++)delete p[m=e.cells[h].question.getValueName()];if(o)for(var m in o=JSON.parse(JSON.stringify(o)))this.isValueEmpty(o[m])||(p[m]=o[m]);return this.isObject(p)&&0===Object.keys(p).length&&(u=this.deleteRowValue(u,e)),{value:u,rowValue:p}},t.prototype.getRowIndex=function(e){return this.generatedVisibleRows?this.visibleRows.indexOf(e):-1},t.prototype.getElementsInDesign=function(e){var n;return void 0===e&&(e=!1),n="none"==this.detailPanelMode?r.prototype.getElementsInDesign.call(this,e):e?[this.detailPanel]:this.detailElements,this.columns.concat(n)},t.prototype.hasDetailPanel=function(e){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0))},t.prototype.getIsDetailPanelShowing=function(e){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var n=0==this.visibleRows.indexOf(e);return n&&(e.detailPanel||e.showDetailPanel()),n}return this.getPropertyValue("isRowShowing"+e.id,!1)},t.prototype.setIsDetailPanelShowing=function(e,n){if(n!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,n),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,n),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,n),n&&"underRowSingle"===this.detailPanelMode))for(var o=this.visibleRows,s=0;s<o.length;s++)o[s].id!==e.id&&o[s].isDetailPanelShowing&&o[s].hideDetailPanel()},t.prototype.getDetailPanelButtonCss=function(e){var n=(new A).append(this.getPropertyValue("detailButtonCss"+e.id));return n.append(this.cssClasses.detailButton,""===n.toString()).toString()},t.prototype.getDetailPanelIconCss=function(e){var n=(new A).append(this.getPropertyValue("detailIconCss"+e.id));return n.append(this.cssClasses.detailIcon,""===n.toString()).toString()},t.prototype.getDetailPanelIconId=function(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},t.prototype.updateDetailPanelButtonCss=function(e){var n=this.cssClasses,o=this.getIsDetailPanelShowing(e),s=(new A).append(n.detailIcon).append(n.detailIconExpanded,o);this.setPropertyValue("detailIconCss"+e.id,s.toString());var u=(new A).append(n.detailButton).append(n.detailButtonExpanded,o);this.setPropertyValue("detailButtonCss"+e.id,u.toString())},t.prototype.createRowDetailPanel=function(e){var n=this;if(this.isDesignMode)return this.detailPanel;var o=this.createNewDetailPanel();o.readOnly=this.isReadOnly||!e.isRowEnabled(),o.setSurveyImpl(e);var s=this.detailPanel.toJSON();return(new Oe).toObject(s,o),o.renderWidth="100%",o.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,o),o.questions.forEach(function(u){return u.setParentQuestion(n)}),o.onSurveyLoad(),o},t.prototype.getSharedQuestionByName=function(e,n){if(!this.survey||!this.valueName)return null;var o=this.getRowIndex(n);return o<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,o)},t.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+I.matrix.totalsSuffix,this.totalValue,!1)},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null},t.prototype.isMatrixReadOnly=function(){return this.isReadOnly},t.prototype.getQuestionFromArray=function(e,n){return n>=this.visibleRows.length?null:this.visibleRows[n].getQuestionByName(e)},t.prototype.isMatrixValueEmpty=function(e){if(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(this.isObject(e[n])&&Object.keys(e[n]).length>0)return!1;return!0}return 0==Object.keys(e).length}},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getCellTemplateData=function(e){return this.SurveyModel.getMatrixCellTemplateData(e)},t.prototype.getCellWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof li?"row-footer":"cell")},t.prototype.getCellWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof li?"row-footer":"cell")},t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")},Object.defineProperty(t.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),t.prototype.onMobileChanged=function(){r.prototype.onMobileChanged.call(this),this.resetRenderedTable()},t.prototype.getRootCss=function(){return(new A).append(r.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},t}(lo);M.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"columnsVisibleIf",visible:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(r){return!!r&&"none"!=r.detailPanelMode}},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:function(r){return r.isSelectCellType()}},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return On.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new pn("")},"matrixbase");var _s=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xs=function(r){function t(e,n,o,s){var u=r.call(this,o,s)||this;return u.name=e,u.item=n,u.buildCells(s),u}return _s(t,r),Object.defineProperty(t.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),t.prototype.isRowEnabled=function(){return this.item.isEnabled},t.prototype.isRowHasEnabledCondition=function(){return!!this.item.enableIf},t}(cn),ws=function(r){function t(e){var n=r.call(this,e)||this;return n.defaultValuesInRows={},n.createLocalizableString("totalText",n,!0),n.registerPropertyChangedHandlers(["rows"],function(){n.clearGeneratedRows(),n.resetRenderedTable(),n.filterItems()||n.onRowsChanged(),n.clearIncorrectValues()}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return _s(t,r),t.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(t.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(e){this.setLocalizableStringText("totalText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return this.locTotalText},t.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;var o=this.visibleRows,s={};if(!o)return s;for(var u=0;u<o.length;u++){var p=o[u].rowName,h=n[p];if(h){if(e){var m=J.getTextOrHtmlByValue(this.rows,p);m&&(p=m)}s[p]=this.getRowDisplayValue(e,o[u],h)}}return s},t.prototype.getConditionObjectRowName=function(e){return"."+this.rows[e].value},t.prototype.getConditionObjectRowText=function(e){return"."+this.rows[e].calculatedText},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=0;n<this.rows.length;n++)e.push(n);return e},t.prototype.isNewValueCorrect=function(e){return R.isValueObject(e,!0)},t.prototype.clearIncorrectValues=function(){var e=this.value;if(e){var n=null,o=!1,s=this.filteredRows?this.filteredRows:this.rows;for(var u in e)J.getItemByValue(s,u)?(null==n&&(n={}),n[u]=e[u]):o=!0;o&&(this.value=n),r.prototype.clearIncorrectValues.call(this)}},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.clearInvisibleValuesInRows()},t.prototype.clearGeneratedRows=function(){var e=this;this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(function(n){e.defaultValuesInRows[n.rowName]=n.getNamesWithDefaultValues()}),r.prototype.clearGeneratedRows.call(this))},t.prototype.getRowValueForCreation=function(e,n){var o=e[n];if(!o)return o;var s=this.defaultValuesInRows[n];return!Array.isArray(s)||0===s.length||s.forEach(function(u){delete o[u]}),o},t.prototype.generateRows=function(){var e=new Array,n=this.filteredRows?this.filteredRows:this.rows;if(!n||0===n.length)return e;var o=this.value;o||(o={});for(var s=0;s<n.length;s++){var u=n[s];this.isValueEmpty(u.value)||e.push(this.createMatrixRow(u,this.getRowValueForCreation(o,u.value)))}return e},t.prototype.createMatrixRow=function(e,n){return new xs(e.value,e,this,n)},t.prototype.getSearchableItemValueKeys=function(e){e.push("rows")},t.prototype.updateProgressInfoByValues=function(e){var n=this.value;n||(n={});for(var o=0;o<this.rows.length;o++)this.updateProgressInfoByRow(e,n[this.rows[o].value]||{})},t}(pn);M.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new ws("")},"matrixdropdownbase"),he.Instance.registerQuestion("matrixdropdown",function(r){var t=new ws(r);return t.choices=[1,2,3,4,5],t.rows=he.DefaultRows,pn.addDefaultColumns(t),t});var r,vo=!1,Ps=null;typeof navigator<"u"&&navigator&&V.isAvailable()&&(Ps=navigator.userAgent||navigator.vendor||V.hasOwn("opera")),(r=Ps)&&("MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substring(0,4)))&&(vo=!0);var ui=vo||!1,Vs={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return V.isAvailable()&&(V.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0};Vs.hasMouse=function Ju(r){if(!r||ui)return!1;var t=r("(pointer:fine)"),e=r("(any-hover:hover)");return!!t&&t.matches||!!e&&e.matches}(V.matchMedia);var xe=Vs.isTouch;function Xu(r){xe=r}typeof window<"u"&&window.addEventListener("touchmove",function(r){Ts.PreventScrolling&&r.preventDefault()},{passive:!1});var Ts=function(){function r(t,e,n){var o=this;void 0===e&&(e=!0),void 0===n&&(n=!1),this.dd=t,this.longTap=e,this.fitToContainer=n,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(s){s.preventDefault(),o.currentX=s.pageX,o.currentY=s.pageY,!o.isMicroMovement&&(o.returnUserSelectBack(),o.stopLongTap())},this.stopLongTap=function(s){clearTimeout(o.timeoutID),o.timeoutID=null,document.removeEventListener("pointerup",o.stopLongTap),document.removeEventListener("pointermove",o.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(s){o.clear()},this.handleEscapeButton=function(s){27==s.keyCode&&o.clear()},this.onContextMenu=function(s){s.preventDefault(),s.stopPropagation()},this.dragOver=function(s){o.moveShortcutElement(s),o.draggedElementShortcut.style.cursor="grabbing",o.dd.dragOver(s)},this.clear=function(){cancelAnimationFrame(o.scrollIntervalId),document.removeEventListener("pointermove",o.dragOver),document.removeEventListener("pointercancel",o.handlePointerCancel),document.removeEventListener("keydown",o.handleEscapeButton),document.removeEventListener("pointerup",o.drop),o.draggedElementShortcut.removeEventListener("pointerup",o.drop),xe&&o.draggedElementShortcut.removeEventListener("contextmenu",o.onContextMenu),o.draggedElementShortcut.parentElement.removeChild(o.draggedElementShortcut),o.dd.clear(),o.draggedElementShortcut=null,o.scrollIntervalId=null,xe&&(o.savedTargetNode.style.cssText=null,o.savedTargetNode&&o.savedTargetNode.parentElement.removeChild(o.savedTargetNode),o.insertNodeToParentAtIndex(o.savedTargetNodeParent,o.savedTargetNode,o.savedTargetNodeIndex),r.PreventScrolling=!1),o.savedTargetNode=null,o.savedTargetNodeParent=null,o.savedTargetNodeIndex=null,o.returnUserSelectBack()},this.drop=function(){o.dd.drop(),o.clear()},this.draggedElementShortcut=null}return Object.defineProperty(r.prototype,"documentOrShadowRoot",{get:function(){return I.environment.root},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rootElement",{get:function(){return Tn(I.environment.root)?this.rootContainer||I.environment.root.host:this.rootContainer||I.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMicroMovement",{get:function(){var e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<5&&n<5},enumerable:!1,configurable:!0}),r.prototype.startLongTapProcessing=function(t,e,n,o,s){var u=this;void 0===s&&(s=!1),this.startX=t.pageX,this.startY=t.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){u.doStartDrag(t,e,n,o),s||(u.savedTargetNode=t.target,u.savedTargetNode.style.cssText="\n          position: absolute;\n          height: 1px!important;\n          width: 1px!important;\n          overflow: hidden;\n          clip: rect(1px 1px 1px 1px);\n          clip: rect(1px, 1px, 1px, 1px);\n        ",u.savedTargetNodeParent=u.savedTargetNode.parentElement,u.savedTargetNodeIndex=u.getNodeIndexInParent(u.savedTargetNode),u.rootElement.appendChild(u.savedTargetNode)),u.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},r.prototype.moveShortcutElement=function(t){var e=this.rootElement.getBoundingClientRect().x,n=this.rootElement.getBoundingClientRect().y,o=this.rootElement.scrollLeft,s=this.rootElement.scrollTop;this.doScroll(t.clientY,t.clientX);var u=this.draggedElementShortcut.offsetHeight,p=this.draggedElementShortcut.offsetWidth,h=this.draggedElementShortcut.shortcutXOffset||p/2,m=this.draggedElementShortcut.shortcutYOffset||u/2;0!==document.querySelectorAll("[dir='rtl']").length&&(h=p/2,m=u/2);var x=document.documentElement.clientHeight,T=document.documentElement.clientWidth,D=t.pageX,B=t.pageY,j=t.clientX,X=t.clientY;e-=o,n-=s;var U=this.getShortcutBottomCoordinate(X,u,m);return this.getShortcutRightCoordinate(j,p,h)>=T?(this.draggedElementShortcut.style.left=T-p-e+"px",void(this.draggedElementShortcut.style.top=X-m-n+"px")):j-h<=0?(this.draggedElementShortcut.style.left=D-j-e+"px",void(this.draggedElementShortcut.style.top=X-n-m+"px")):U>=x?(this.draggedElementShortcut.style.left=j-h-e+"px",void(this.draggedElementShortcut.style.top=x-u-n+"px")):X-m<=0?(this.draggedElementShortcut.style.left=j-h-e+"px",void(this.draggedElementShortcut.style.top=B-X-n+"px")):(this.draggedElementShortcut.style.left=j-e-h+"px",void(this.draggedElementShortcut.style.top=X-n-m+"px"))},r.prototype.getShortcutBottomCoordinate=function(t,e,n){return t+e-n},r.prototype.getShortcutRightCoordinate=function(t,e,n){return t+e-n},r.prototype.requestAnimationFrame=function(t){return requestAnimationFrame(t)},r.prototype.scrollByDrag=function(t,e,n){var u,p,h,m,o=this,s=100;"HTML"===t.tagName?(u=0,p=document.documentElement.clientHeight,h=0,m=document.documentElement.clientWidth):(u=t.getBoundingClientRect().top,p=t.getBoundingClientRect().bottom,h=t.getBoundingClientRect().left,m=t.getBoundingClientRect().right);var x=function(){var T=e-u<=s,D=p-e<=s,B=n-h<=s,j=m-n<=s;!T||B||j?!D||B||j?!j||T||D?B&&!T&&!D&&(t.scrollLeft-=15):t.scrollLeft+=15:t.scrollTop+=15:t.scrollTop-=15,o.scrollIntervalId=o.requestAnimationFrame(x)};this.scrollIntervalId=this.requestAnimationFrame(x)},r.prototype.doScroll=function(t,e){cancelAnimationFrame(this.scrollIntervalId);var n=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var o=this.documentOrShadowRoot.elementFromPoint(e,t);this.draggedElementShortcut.style.display=n||"block";var s=ei(o);this.scrollByDrag(s,t,e)},r.prototype.doStartDrag=function(t,e,n,o){xe&&(r.PreventScrolling=!0),3!==t.which&&(this.dd.dragInit(t,e,n,o),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(t),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),xe?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},r.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},r.prototype.startDrag=function(t,e,n,o,s){void 0===s&&(s=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),xe?this.startLongTapProcessing(t,e,n,o,s):this.doStartDrag(t,e,n,o)},r.prototype.getNodeIndexInParent=function(t){return function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r}([],t.parentElement.childNodes).indexOf(t)},r.prototype.insertNodeToParentAtIndex=function(t,e,n){t.insertBefore(e,t.childNodes[n])},r.PreventScrolling=!1,r}(),bo=function(){function r(t,e,n,o){var u,s=this;this.surveyValue=t,this.creator=e,this._isBottom=null,this.onGhostPositionChanged=new it,this.onDragStart=new it,this.onDragEnd=new it,this.onDragClear=new it,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){s.allowDropHere=!1,s.doBanDropHere(),s.dropTarget=null,s.domAdapter.draggedElementShortcut.style.cursor="not-allowed",s.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=o||new Ts(this,n,null===(u=this.survey)||void 0===u?void 0:u.fitToContainer)}return Object.defineProperty(r.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(t){this._isBottom=t,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),r.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(r.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"survey",{get:function(){var t;return this.surveyValue||(null===(t=this.creator)||void 0===t?void 0:t.survey)},enumerable:!1,configurable:!0}),r.prototype.startDrag=function(t,e,n,o,s){void 0===s&&(s=!1),this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(t,e,n,o,s)},r.prototype.getRootElement=function(t,e){return e?e.rootElement:t.rootElement},r.prototype.dragInit=function(t,e,n,o){this.draggedElement=e,this.parentElement=n;var s=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(s,o,t),this.onStartDrag(t),this.onDragStart.fire(this,{fromElement:this.draggedElement&&this.draggedElement.parent,draggedElement:this.draggedElement})},r.prototype.onStartDrag=function(t){},r.prototype.isDropTargetDoesntChanged=function(t){return this.dropTarget===this.prevDropTarget&&t===this.isBottom},r.prototype.getShortcutText=function(t){return t?.shortcutText},r.prototype.createDraggedElementShortcut=function(t,e,n){var o=k.createElement("div");return o&&(o.innerText=t,o.className=this.getDraggedElementClass()),o},r.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},r.prototype.doDragOver=function(){},r.prototype.afterDragOver=function(t){},r.prototype.findDropTargetNodeFromPoint=function(t,e){var n=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!k.isAvailable())return null;var o=this.domAdapter.documentOrShadowRoot.elementFromPoint(t,e);return this.domAdapter.draggedElementShortcut.style.display=n||"block",o?this.findDropTargetNodeByDragOverNode(o):null},r.prototype.getDataAttributeValueByNode=function(t){var e=this,n="svDropTarget";return this.draggedElementType.split("-").forEach(function(s){n+=e.capitalizeFirstLetter(s)}),t.dataset[n]},r.prototype.getDropTargetByNode=function(t,e){var n=this.getDataAttributeValueByNode(t);return this.getDropTargetByDataAttributeValue(n,t,e)},r.prototype.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},r.prototype.calculateVerticalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.y+e.height/2},r.prototype.calculateHorizontalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.x+e.width/2},r.prototype.calculateIsBottom=function(t,e){return!1},r.prototype.findDropTargetNodeByDragOverNode=function(t){return t.closest(this.dropTargetDataAttributeName)},r.prototype.dragOver=function(t){var e=this.findDropTargetNodeFromPoint(t.clientX,t.clientY);if(e){this.dropTarget=this.getDropTargetByNode(e,t);var n=this.isDropTargetValid(this.dropTarget,e);if(this.doDragOver(),n){var o=this.calculateIsBottom(t.clientY,e);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(o)&&(this.isBottom=null,this.isBottom=o,this.draggedElement!=this.dropTarget&&this.afterDragOver(e),this.prevDropTarget=this.dropTarget)}else this.banDropHere()}else this.banDropHere()},r.prototype.drop=function(){if(this.allowDropHere){var t=this.draggedElement.parent,e=this.doDrop();this.onDragEnd.fire(this,{fromElement:t,draggedElement:e,toElement:this.dropTarget})}},r.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,{})},r}(),Zu=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ec=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.fromIndex=null,e.toIndex=null,e.doDrop=function(){return e.parentElement.moveRowByIndex(e.fromIndex,e.toIndex),e.parentElement},e}return Zu(t,r),Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),t.prototype.onStartDrag=function(){var e=k.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")},t.prototype.createDraggedElementShortcut=function(e,n,o){var s=this,u=k.createElement("div");if(u){u.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));\n        ";if(n){var h=n.closest("[data-sv-drop-target-matrix-row]"),m=h.cloneNode(!0);m.style.cssText="\n        box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n        background-color: var(--sjs-general-backcolor, var(--background, #fff));\n        display: flex;\n        flex-grow: 0;\n        flex-shrink: 0;\n        align-items: center;\n        line-height: 0;\n        width: "+h.offsetWidth+"px;\n      ",m.classList.remove("sv-matrix__drag-drop--moveup"),m.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,u.appendChild(m);var x=n.getBoundingClientRect();u.shortcutXOffset=o.clientX-x.x,u.shortcutYOffset=o.clientY-x.y}return this.parentElement.renderedTable.rows.forEach(function(D,B){D.row===s.draggedElement&&(D.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),u}},t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.renderedTable.rows.filter(function(s){return s.row&&s.row.id===e})[0].row},t.prototype.canInsertIntoThisRow=function(e){var n=this.parentElement.lockedRowCount;return n<=0||e.rowIndex>n},t.prototype.isDropTargetValid=function(e,n){return this.canInsertIntoThisRow(e)},t.prototype.calculateIsBottom=function(e){var o=this.parentElement.renderedTable.rows.map(function(s){return s.row});return o.indexOf(this.dropTarget)-o.indexOf(this.draggedElement)>0},t.prototype.afterDragOver=function(e){var n=this;if(!this.isDropTargetDoesntChanged(this.isBottom)){var o,s,u,p=this.parentElement.renderedTable.rows;p.forEach(function(h,m){h.row===n.dropTarget&&(o=m),h.row===n.draggedElement&&(s=m,(u=h).isGhostRow=!0)}),p.splice(s,1),p.splice(o,0,u),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),r.prototype.ghostPositionChanged.call(this)}},t.prototype.clear=function(){this.parentElement.renderedTable.rows.forEach(function(o){o.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null;var n=k.getBody();n&&(n.style.userSelect=this.restoreUserSelectValue||"initial"),r.prototype.clear.call(this)},t}(bo),Co=function(){function r(t){var e=this;this.dragHandler=t,this.onPointerUp=function(n){e.clearListeners()},this.tryToStartDrag=function(n){if(e.currentX=n.pageX,e.currentY=n.pageY,!e.isMicroMovement)return e.clearListeners(),e.dragHandler(e.pointerDownEvent,e.currentTarget,e.itemModel),!0}}return r.prototype.onPointerDown=function(t,e){xe?this.dragHandler(t,t.currentTarget,e):(this.pointerDownEvent=t,this.currentTarget=t.currentTarget,this.startX=t.pageX,this.startY=t.pageY,k.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=e)},Object.defineProperty(r.prototype,"isMicroMovement",{get:function(){var e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<10&&n<10},enumerable:!1,configurable:!0}),r.prototype.clearListeners=function(){this.pointerDownEvent&&(k.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},r}(),_o=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Is=function(r){function t(e,n,o){var s=r.call(this,n,o)||this;return s.index=e,s.buildCells(o),s}return _o(t,r),Object.defineProperty(t.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),t.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(t.prototype,"shortcutText",{get:function(){var n=this.data.visibleRows.indexOf(this)+1,o=this.cells.length>1?this.cells[1].questionValue:void 0,s=this.cells.length>0?this.cells[0].questionValue:void 0;return o&&o.value||s&&s.value||""+n},enumerable:!1,configurable:!0}),t}(cn),xo=function(r){function t(e){var n=r.call(this,e)||this;return n.rowCounter=0,n.setRowCountValueFromData=!1,n.startDragMatrixRow=function(s,u){n.dragDropMatrixRows.startDrag(s,n.draggedRow,n,s.target)},n.initialRowCount=n.getDefaultPropertyValue("rowCount"),n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete"),n.createLocalizableString("addRowText",n).onGetTextCallback=function(s){return s||n.defaultAddRowText},n.createLocalizableString("removeRowText",n,!1,"removeRow"),n.createLocalizableString("emptyRowsText",n,!1,!0),n.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){n.updateShowTableAndAddRow()}),n.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly","lockedRowCount"],function(){n.clearRowsAndResetRenderedTable()}),n.dragOrClickHelper=new Co(n.startDragMatrixRow),n}return _o(t,r),t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.dragDropMatrixRows=new ec(this.survey,null,!0)},t.prototype.isBanStartDrag=function(e){var n=e.target;return"true"===n.getAttribute("contenteditable")||"INPUT"===n.nodeName||!this.isDragHandleAreaValid(n)},t.prototype.isDragHandleAreaValid=function(e){return"icon"!==this.survey.matrixDragHandleArea||e.classList.contains(this.cssClasses.dragElementDecorator)},t.prototype.onPointerDown=function(e,n){!n||!this.isRowsDragAndDrop||this.isBanStartDrag(e)||n.isDetailPanelShowing||(this.draggedRow=n,this.dragOrClickHelper.onPointerDown(e))},t.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(e){this.setPropertyValue("defaultRowValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(e){this.setPropertyValue("defaultValueFromLastRow",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return r.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},t.prototype.valueFromData=function(e){if(this.minRowCount<1)return r.prototype.valueFromData.call(this,e);Array.isArray(e)||(e=[]);for(var n=e.length;n<this.minRowCount;n++)e.push({});return e},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultRowValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.rowCount){for(var e=[],n=0;n<this.rowCount;n++)e.push(this.defaultRowValue);this.value=e}}else r.prototype.setDefaultValue.call(this)},t.prototype.moveRowByIndex=function(e,n){var o=this.createNewValue();if(Array.isArray(o)||!(Math.max(e,n)>=o.length)){var s=o[e];o.splice(e,1),o.splice(n,0,s),this.value=o}},t.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},t.prototype.initDataUI=function(){},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(!(e<0||e>I.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var n=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var o=this.value;o.splice(e),this.value=o}if(this.isUpdateLocked)return void(this.initialRowCount=e);if(this.generatedVisibleRows||0==n){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var s=n;s<e;s++){var u=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(u),this.onMatrixRowCreated(u)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),t.prototype.updateProgressInfoByValues=function(e){var n=this.value;Array.isArray(n)||(n=[]);for(var o=0;o<this.rowCount;o++)this.updateProgressInfoByRow(e,o<n.length?n[o]:{})},t.prototype.getValueForNewRow=function(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e},Object.defineProperty(t.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(e){this.setPropertyValue("allowRowsDragAndDrop",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lockedRowCount",{get:function(){return this.getPropertyValue("lockedRowCount",0)},set:function(e){this.setPropertyValue("lockedRowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new tc(this)},Object.defineProperty(t.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(e){this.setPropertyValue("rowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e),e>this.maxRowCount&&(this.maxRowCount=e),this.rowCount<e&&(this.rowCount=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(e){e<=0||(e>I.matrix.maxRowCount&&(e=I.matrix.maxRowCount),e!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",e),e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(e){this.setPropertyValue("allowAddRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){if(!this.survey)return!0;var n=e.rowIndex-1;return!(this.lockedRowCount>0&&n<this.lockedRowCount)&&this.survey.matrixAllowRemoveRow(this,n,e)},t.prototype.addRowUI=function(){this.addRow(!0)},t.prototype.getQuestionToFocusOnAddingRow=function(){for(var e=this.visibleRows[this.visibleRows.length-1],n=0;n<e.cells.length;n++){var o=e.cells[n].question;if(o&&o.isVisible&&!o.isReadOnly)return o}return null},t.prototype.addRow=function(e){var n=this.rowCount,o=this.canAddRow,s={question:this,canAddRow:o,allow:o};if(this.survey&&this.survey.matrixBeforeRowAdded(s),(o!==s.allow?s.allow:o!==s.canAddRow?s.canAddRow:o)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&n!==this.rowCount)){var p=this.getQuestionToFocusOnAddingRow();p&&p.focus()}},Object.defineProperty(t.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(e){this.setPropertyValue("detailPanelShowOnAdding",e)},enumerable:!1,configurable:!0}),t.prototype.hasRowsAsItems=function(){return!1},t.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,r.prototype.unbindValue.call(this)},t.prototype.isValueSurveyElement=function(e){return this.isEditingSurveyElement||r.prototype.isValueSurveyElement.call(this,e)},t.prototype.addRowCore=function(){var e=this.rowCount;this.rowCount=this.rowCount+1;var n=this.getDefaultRowValue(!0),o=null;if(this.isValueEmpty(n)||(o=this.createNewValue()).length==this.rowCount&&(o[o.length-1]=n,this.value=o),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(n))){var s=this.visibleRows[this.rowCount-1];this.isValueEmpty(s.value)||(o||(o=this.createNewValue()),!this.isValueSurveyElement(o)&&!this.isTwoValueEquals(o[o.length-1],s.value)&&(o[o.length-1]=s.value,this.value=o))}this.survey&&e+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},t.prototype.getDefaultRowValue=function(e){for(var n=null,o=0;o<this.columns.length;o++){var s=this.columns[o].templateQuestion;s&&!this.isValueEmpty(s.getDefaultValue())&&((n=n||{})[this.columns[o].name]=s.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var u in this.defaultRowValue)(n=n||{})[u]=this.defaultRowValue[u];if(e&&this.defaultValueFromLastRow){var p=this.value;if(p&&Array.isArray(p)&&p.length>=this.rowCount-1){var h=p[this.rowCount-2];for(var u in h)(n=n||{})[u]=h[u]}}return n},t.prototype.removeRowUI=function(e){if(e&&e.rowName){var n=this.visibleRows.indexOf(e);if(n<0)return;e=n}this.removeRow(e)},t.prototype.isRequireConfirmOnRowDelete=function(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var n=this.createNewValue();return!(this.isValueEmpty(n)||!Array.isArray(n)||e>=n.length||this.isValueEmpty(n[e]))},t.prototype.removeRow=function(e,n){var o=this;if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var s=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(void 0===n&&(n=this.isRequireConfirmOnRowDelete(e)),n)return void ln(this.confirmDeleteText,function(){o.removeRowAsync(e,s)},void 0,this.getLocale(),this.survey.rootElement);this.removeRowAsync(e,s)}},t.prototype.removeRowAsync=function(e,n){n&&this.survey&&!this.survey.matrixRowRemoving(this,e,n)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.onEndRowRemoving(n))},t.prototype.removeRowCore=function(e){var n=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var o=[];(o=Array.isArray(this.value)&&e<this.value.length?this.createValueCopy():this.createNewValue()).splice(e,1),o=this.deleteRowValue(o,null),this.isRowChanging=!0,this.value=o,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,n)},Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(e){this.setLocalizableStringText("addRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(e){this.setPropertyValue("addRowLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(t.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(e){this.setPropertyValue("hideColumnsIfEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(t.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(e){this.setLocalizableStringText("removeRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(e){this.setLocalizableStringText("emptyRowsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n||!Array.isArray(n))return n;for(var o=this.getUnbindValue(n),s=this.visibleRows,u=0;u<s.length&&u<o.length;u++){var p=o[u];p&&(o[u]=this.getRowDisplayValue(e,s[u],p))}return o},t.prototype.getConditionObjectRowName=function(e){return"["+e.toString()+"]"},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=Math.max(this.rowCount,1),o=0;o<Math.min(I.matrix.maxRowCountInCondition,n);o++)e.push(o);return e},t.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(e,n){r.prototype.onCheckForErrors.call(this,e,n),!n&&this.hasErrorInMinRows()&&e.push(new Mu(this.minRowCount,this))},t.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,n=0;n<this.generatedVisibleRows.length;n++)this.generatedVisibleRows[n].isEmpty||e++;return e<this.minRowCount},t.prototype.getUniqueColumnsNames=function(){var e=r.prototype.getUniqueColumnsNames.call(this),n=this.keyName;return n&&e.indexOf(n)<0&&e.push(n),e},t.prototype.generateRows=function(){var e=new Array;if(0===this.rowCount)return e;for(var n=this.createNewValue(),o=0;o<this.rowCount;o++)e.push(this.createMatrixRow(this.getRowValueByIndex(n,o)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=n),e},t.prototype.createMatrixRow=function(e){return new Is(this.rowCounter++,this,e)},t.prototype.getInsertedDeletedIndex=function(e,n){for(var o=Math.min(e.length,n.length),s=0;s<o;s++)if(n[s]!==e[s].editingObj)return s;return o},t.prototype.isEditingObjectValueChanged=function(){var e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;var n=this.lastDeletedRow;this.lastDeletedRow=void 0;var o=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(o.length-e.length)>1||o.length===e.length)return!1;var s=this.getInsertedDeletedIndex(o,e);if(o.length>e.length){this.lastDeletedRow=o[s];var u=o[s];o.splice(s,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(u)}else{var p;p=n&&n.editingObj===e[s]?n:this.createMatrixRow(e[s]),o.splice(s,0,p),n||this.onMatrixRowCreated(p),this.isRendredTableCreated&&this.renderedTable.onAddedRow(p,s)}return this.setPropertyValueDirectly("rowCount",e.length),!0},t.prototype.updateValueFromSurvey=function(e,n){void 0===n&&(n=!1),this.setRowCountValueFromData=!0,r.prototype.updateValueFromSurvey.call(this,e,n),this.setRowCountValueFromData=!1},t.prototype.onBeforeValueChanged=function(e){if(e&&Array.isArray(e)){var n=e.length;if(n!=this.rowCount&&(this.setRowCountValueFromData||!(n<this.initialRowCount))&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=n,this.generatedVisibleRows)){if(n==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var o=this.getRowValueByIndex(e,n-1),s=this.createMatrixRow(o);this.generatedVisibleRows.push(s),this.onMatrixRowCreated(s),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},t.prototype.createNewValue=function(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var n=this.getDefaultRowValue(!1);n=n||{};for(var o=e.length;o<this.rowCount;o++)e.push(this.getUnbindValue(n));return e},t.prototype.deleteRowValue=function(e,n){for(var o=!0,s=0;s<e.length;s++)if(this.isObject(e[s])&&Object.keys(e[s]).length>0){o=!1;break}return o?null:e},t.prototype.getRowValueByIndex=function(e,n){return Array.isArray(e)&&n>=0&&n<e.length?e[n]:null},t.prototype.getRowValueCore=function(e,n,o){if(void 0===o&&(o=!1),!this.generatedVisibleRows)return{};var s=this.getRowValueByIndex(n,this.generatedVisibleRows.indexOf(e));return!s&&o&&(s={}),s},t.prototype.getAddRowButtonCss=function(e){return void 0===e&&(e=!1),(new A).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()},t.prototype.getRemoveRowButtonCss=function(){return(new A).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},t.prototype.getRootCss=function(){var e;return(new A).append(r.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(null!==(e=this.renderedTable)&&void 0!==e&&e.showTable)).toString()},t}(pn),tc=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _o(t,r),t.prototype.setDefaultRowActions=function(e,n){r.prototype.setDefaultRowActions.call(this,e,n)},t}(go);M.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:I.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(r){return!r||r.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(r){return!r||r.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(r){return"none"!==r.detailPanelMode}},"allowRowsDragAndDrop:switch"],function(){return new xo("")},"matrixdropdownbase"),he.Instance.registerQuestion("matrixdynamic",function(r){var t=new xo(r);return t.choices=[1,2,3,4,5],pn.addDefaultColumns(t),t});var Te={currentType:"",getCss:function(){var r=this.currentType?this[this.currentType]:ci;return r||(r=ci),r},getAvailableThemes:function(){return Object.keys(this).filter(function(r){return-1===["currentType","getCss","getAvailableThemes"].indexOf(r)})}},ci={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentFadeIn:"sd-element__content--fade-in",contentFadeOut:"sd-element__content--fade-out",fadeIn:"sd-element-wrapper--fade-in",fadeOut:"sd-element-wrapper--fade-out",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleHidden:"sd-element__title--hidden",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",headerHidden:"sd-panel__header--hidden",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperFadeIn:"sd-paneldynamic__panel-wrapper--fade-in",panelWrapperFadeOut:"sd-paneldynamic__panel-wrapper--fade-out",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowFadeIn:"sd-row--fade-in",rowDelayedFadeIn:"sd-row--delayed-fade-in",rowFadeOut:"sd-row--fade-out",pageRow:"sd-page__row",question:{contentFadeIn:"sd-element__content--fade-in",contentFadeOut:"sd-element__content--fade-out",mobile:"sd-question--mobile",fadeIn:"sd-element-wrapper--fade-in",fadeOut:"sd-element-wrapper--fade-out",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-v2check",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowFadeIn:"sd-table__row--fade-in",rowFadeOut:"sd-table__row--fade-out",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowFadeIn:"sd-table__row--fade-in",rowFadeOut:"sd-table__row--fade-out",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},Rs="defaultV2";Te[Rs]=ci;var wo=function(){function r(){}return Object.defineProperty(r,"serviceUrl",{get:function(){return I.web.surveyServiceUrl},set:function(t){I.web.surveyServiceUrl=t},enumerable:!1,configurable:!0}),r.prototype.loadSurvey=function(t,e){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/getSurvey?surveyId="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var o=JSON.parse(n.response);e(200==n.status,o,n.response)},n.send()},r.prototype.getSurveyJsonAndIsCompleted=function(t,e,n){var o=new XMLHttpRequest;o.open("GET",this.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+t+"&clientId="+e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var s=JSON.parse(o.response);n(200==o.status,s?s.survey:null,s?s.isCompleted:null,o.response)},o.send()},r.prototype.canSendResult=function(t){return!this.isSurveJSIOService||JSON.stringify(t).length<65536},Object.defineProperty(r.prototype,"isSurveJSIOService",{get:function(){return this.serviceUrl.indexOf("surveyjs.io")>=0},enumerable:!1,configurable:!0}),r.prototype.sendResult=function(t,e,n,o,s){void 0===o&&(o=null),void 0===s&&(s=!1),this.canSendResult(e)?this.sendResultCore(t,e,n,o,s):n(!1,te.getString("savingExceedSize",this.locale),void 0)},r.prototype.sendResultCore=function(t,e,n,o,s){void 0===o&&(o=null),void 0===s&&(s=!1);var u=new XMLHttpRequest;u.open("POST",this.serviceUrl+"/post/"),u.setRequestHeader("Content-Type","application/json; charset=utf-8");var p={postId:t,surveyResult:JSON.stringify(e)};o&&(p.clientId=o),s&&(p.isPartialCompleted=!0);var h=JSON.stringify(p);u.onload=u.onerror=function(){n&&n(200===u.status,u.response,u)},u.send(h)},r.prototype.sendFile=function(t,e,n){var o=new XMLHttpRequest;o.onload=o.onerror=function(){n&&n(200==o.status,JSON.parse(o.response))},o.open("POST",this.serviceUrl+"/upload/",!0);var s=new FormData;s.append("file",e),s.append("postId",t),o.send(s)},r.prototype.getResult=function(t,e,n){var o=new XMLHttpRequest;o.open("GET",this.serviceUrl+"/getResult?resultId="+t+"&name="+e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var p=null,h=null;if(200==o.status)for(var m in h=[],(p=JSON.parse(o.response)).QuestionResult)h.push({name:m,value:p.QuestionResult[m]});n(200==o.status,p,h,o.response)},o.send()},r.prototype.isCompleted=function(t,e,n){var o=new XMLHttpRequest;o.open("GET",this.serviceUrl+"/isCompleted?resultId="+t+"&clientId="+e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var p=null;200==o.status&&(p=JSON.parse(o.response)),n(200==o.status,p,o.response)},o.send()},Object.defineProperty(r.prototype,"serviceUrl",{get:function(){return r.serviceUrl||""},enumerable:!1,configurable:!0}),r}(),It={setTimeout:function(r){return It.safeTimeOut(r,1e3)},clearTimeout:function(r){clearTimeout(r)},safeTimeOut:function(r,t){return t<=0?(r(),0):setTimeout(r,t)},now:function(){return Date.now()}},Po=function(){function r(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new it}return Object.defineProperty(r,"instance",{get:function(){return r.instanceValue||(r.instanceValue=new r),r.instanceValue},enumerable:!1,configurable:!0}),r.prototype.start=function(t){var e=this;void 0===t&&(t=null),t&&this.onTimer.add(t),this.prevTimeInMs=It.now(),this.timerId<0&&(this.timerId=It.setTimeout(function(){e.doTimer()})),this.listenerCounter++},r.prototype.stop=function(t){void 0===t&&(t=null),t&&this.onTimer.remove(t),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(It.clearTimeout(this.timerId),this.timerId=-1)},r.prototype.doTimer=function(){var t=this;if((this.onTimer.isEmpty||0==this.listenerCounter)&&(this.timerId=-1),!(this.timerId<0)){var e=It.now(),n=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,n<0&&(n=1);var o=this.timerId;this.onTimer.fire(this,{seconds:n}),o===this.timerId&&(this.timerId=It.setTimeout(function(){t.doTimer()}))}},r.instanceValue=null,r}(),oc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ss=function(r){function t(e){var n=r.call(this)||this;return n.timerFunc=null,n.surveyValue=e,n.onCreating(),n}return oc(t,r),Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),t.prototype.onCreating=function(){},t.prototype.start=function(){var e=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){e.update()}),this.timerFunc=function(n,o){e.doTimer(o.seconds)},this.setIsRunning(!0),this.update(),Po.instance.start(this.timerFunc)))},t.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),Po.instance.stop(this.timerFunc))},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsRunning=function(e){this.setPropertyValue("isRunning",e)},t.prototype.update=function(){this.updateText(),this.updateProgress()},t.prototype.doTimer=function(e){var n=this.survey.currentPage;if(n){var o=n.getMaxTimeToFinish();o>0&&o<n.timeSpent+e&&(e=o-n.timeSpent),n.timeSpent=n.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimer&&this.onTimer(n)},t.prototype.updateProgress=function(){var e=this,n=this.survey.timerInfo,o=n.spent,s=n.limit;s?(0==o?(this.progress=0,setTimeout(function(){e.progress=Math.floor((o+1)/s*100)/100},0)):o<=s&&(this.progress=Math.floor((o+1)/s*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},t.prototype.updateText=function(){var e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(t.prototype,"showProgress",{get:function(){return void 0!==this.progress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootCss",{get:function(){return(new A).append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),t.prototype.getProgressCss=function(){return(new A).append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(t.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),Dn([_()],t.prototype,"text",void 0),Dn([_()],t.prototype,"progress",void 0),Dn([_()],t.prototype,"clockMajorText",void 0),Dn([_()],t.prototype,"clockMinorText",void 0),Dn([_({defaultValue:0})],t.prototype,"spent",void 0),t}(oe),rc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pi=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Os=function(r){function t(e){var n=r.call(this)||this;return n.cssClasses=e,n.timeout=I.notifications.lifetime,n.timer=void 0,n.actionsVisibility={},n.showActions=!0,n.actionBar=new ut,n.actionBar.updateCallback=function(o){n.actionBar.actions.forEach(function(s){return s.cssClasses={}})},n.css=n.cssClasses.root,n}return rc(t,r),t.prototype.getCssClass=function(e){return(new A).append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,"error"!==e&&"success"!==e).append(this.cssClasses.error,"error"===e).append(this.cssClasses.success,"success"===e).append(this.cssClasses.shown,this.active).toString()},t.prototype.updateActionsVisibility=function(e){var n=this;this.actionBar.actions.forEach(function(o){return o.visible=n.showActions&&n.actionsVisibility[o.id]===e})},t.prototype.notify=function(e,n,o){var s=this;void 0===n&&(n="info"),void 0===o&&(o=!1),this.isDisplayed=!0,setTimeout(function(){s.updateActionsVisibility(n),s.message=e,s.active=!0,s.css=s.getCssClass(n),s.timer&&(clearTimeout(s.timer),s.timer=void 0),o||(s.timer=setTimeout(function(){s.timer=void 0,s.active=!1,s.css=s.getCssClass(n)},s.timeout))},1)},t.prototype.addAction=function(e,n){e.visible=!1,e.innerCss=this.cssClasses.button;var o=this.actionBar.addAction(e);this.actionsVisibility[o.id]=n},pi([_({defaultValue:!1})],t.prototype,"active",void 0),pi([_({defaultValue:!1})],t.prototype,"isDisplayed",void 0),pi([_()],t.prototype,"message",void 0),pi([_()],t.prototype,"css",void 0),t}(oe),sc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),be=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Es=function(){function r(t,e,n){this.cover=t,this.positionX=e,this.positionY=n}return r.prototype.calcRow=function(t){return"top"===t?1:"middle"===t?2:3},r.prototype.calcColumn=function(t){return"left"===t?1:"center"===t?2:3},r.prototype.calcAlignItems=function(t){return"left"===t?"flex-start":"center"===t?"center":"flex-end"},r.prototype.calcAlignText=function(t){return"left"===t?"start":"center"===t?"center":"end"},r.prototype.calcJustifyContent=function(t){return"top"===t?"flex-start":"middle"===t?"center":"flex-end"},Object.defineProperty(r.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"css",{get:function(){return r.CLASSNAME+" "+r.CLASSNAME+"--"+this.positionX+" "+r.CLASSNAME+"--"+this.positionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){var t={};return t.gridColumn=this.calcColumn(this.positionX),t.gridRow=this.calcRow(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"contentStyle",{get:function(){var t={};return t.textAlign=this.calcAlignText(this.positionX),t.alignItems=this.calcAlignItems(this.positionX),t.justifyContent=this.calcJustifyContent(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),r.CLASSNAME="sv-header__cell",r}(),di=function(r){function t(){var e=r.call(this)||this;return e.cells=[],["top","middle","bottom"].forEach(function(n){return["left","center","right"].forEach(function(o){return e.cells.push(new Es(e,o,n))})}),e.init(),e}return sc(t,r),t.prototype.calcBackgroundSize=function(e){return"fill"===e?"100% 100%":"tile"===e?"auto":e},t.prototype.updateHeaderClasses=function(){this.headerClasses=(new A).append("sv-header").append("sv-header__without-background","transparent"===this.backgroundColor&&!this.backgroundImage).append("sv-header__background-color--none","transparent"===this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",!this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",!!this.backgroundColor&&"transparent"!==this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()},t.prototype.updateContentClasses=function(){var e=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth="survey"===this.inheritWidthFrom&&!!e&&"static"===e&&this.survey.renderedWidth,this.contentClasses=(new A).append("sv-header__content").append("sv-header__content--static","survey"===this.inheritWidthFrom&&!!e&&"static"===e).append("sv-header__content--responsive","container"===this.inheritWidthFrom||!!e&&"responsive"===e).toString()},t.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=(new A).append("sv-header__background-image").append("sv-header__background-image--contain","contain"===this.backgroundImageFit).append("sv-header__background-image--tile","tile"===this.backgroundImageFit).toString()},t.prototype.fromTheme=function(e){r.prototype.fromJSON.call(this,e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()},t.prototype.init=function(){this.renderBackgroundImage=Ji(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()},t.prototype.getType=function(){return"cover"},Object.defineProperty(t.prototype,"renderedHeight",{get:function(){return this.height&&(this.survey&&!this.survey.isMobile||!this.survey)?Math.max(this.height,this.actualHeight+40)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this._survey},set:function(e){var n=this;this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(o,s){("widthMode"==s.name||"width"==s.name)&&n.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),t.prototype.propertyValueChanged=function(e,n,o){r.prototype.propertyValueChanged.call(this,e,n,o),("backgroundColor"===e||"backgroundImage"===e||"overlapEnabled"===e)&&this.updateHeaderClasses(),"inheritWidthFrom"===e&&this.updateContentClasses(),"backgroundImageFit"===e&&this.updateBackgroundImageClasses()},t.prototype.calculateActualHeight=function(e,n,o){var s=["top","middle","bottom"],u=s.indexOf(this.logoPositionY),p=s.indexOf(this.titlePositionY),h=s.indexOf(this.descriptionPositionY),m=["left","center","right"],x=m.indexOf(this.logoPositionX),T=m.indexOf(this.titlePositionX),D=m.indexOf(this.descriptionPositionX),B=[[0,0,0],[0,0,0],[0,0,0]];return B[u][x]=e,B[p][T]+=n,B[h][D]+=o,B.reduce(function(j,X){return j+Math.max.apply(Math,X)},0)},t.prototype.processResponsiveness=function(e){if(this.survey&&this.survey.rootElement){var n=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],o=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],s=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],u=n?n.getBoundingClientRect().height:0,p=o?o.getBoundingClientRect().height:0,h=s?s.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(u,p,h)}},Object.defineProperty(t.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||"transparent"!==this.backgroundColor},enumerable:!1,configurable:!0}),be([_({defaultValue:0})],t.prototype,"actualHeight",void 0),be([_()],t.prototype,"height",void 0),be([_()],t.prototype,"inheritWidthFrom",void 0),be([_()],t.prototype,"textAreaWidth",void 0),be([_()],t.prototype,"textGlowEnabled",void 0),be([_()],t.prototype,"overlapEnabled",void 0),be([_()],t.prototype,"backgroundColor",void 0),be([_()],t.prototype,"titleColor",void 0),be([_()],t.prototype,"descriptionColor",void 0),be([_({onSet:function(e,n){n.renderBackgroundImage=Ji(e)}})],t.prototype,"backgroundImage",void 0),be([_()],t.prototype,"renderBackgroundImage",void 0),be([_()],t.prototype,"backgroundImageFit",void 0),be([_()],t.prototype,"backgroundImageOpacity",void 0),be([_()],t.prototype,"logoPositionX",void 0),be([_()],t.prototype,"logoPositionY",void 0),be([_()],t.prototype,"titlePositionX",void 0),be([_()],t.prototype,"titlePositionY",void 0),be([_()],t.prototype,"descriptionPositionX",void 0),be([_()],t.prototype,"descriptionPositionY",void 0),be([_()],t.prototype,"logoStyle",void 0),be([_()],t.prototype,"titleStyle",void 0),be([_()],t.prototype,"descriptionStyle",void 0),be([_()],t.prototype,"headerClasses",void 0),be([_()],t.prototype,"contentClasses",void 0),be([_()],t.prototype,"maxWidth",void 0),be([_()],t.prototype,"backgroundImageClasses",void 0),t}(oe);M.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new di});var ac=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uc=function(){return function r(t){this.type=t,this.timestamp=new Date}}(),cc=function(r){function t(){var e=r.call(this)||this;return e.taskList=[],e.onAllTasksCompleted=e.addEvent(),e}return ac(t,r),t.prototype.runTask=function(e,n){var o=this,s=new uc(e);return this.taskList.push(s),this.hasActiveTasks=!0,n(function(){return o.taskFinished(s)}),s},t.prototype.waitAndExecute=function(e){this.hasActiveTasks?this.onAllTasksCompleted.add(function(){e()}):e()},t.prototype.taskFinished=function(e){var n=this.taskList.indexOf(e);n>-1&&this.taskList.splice(n,1),this.hasActiveTasks&&0==this.taskList.length&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_({defaultValue:!1})],t.prototype,"hasActiveTasks",void 0),t}(oe),Ds=function(){return function r(t,e,n){void 0===n&&(n=-1),this.source=t,this.target=e,this.nestedPanelDepth=n}}(),pc=function(){function r(t){this.panel=t}return r.prototype.dragDropAddTarget=function(t){var e=this.dragDropFindRow(t.target);this.dragDropAddTargetToRow(t,e)&&this.panel.updateRowsRemoveElementFromRow(t.target,e)},r.prototype.dragDropFindRow=function(t){if(!t||t.isPage)return null;for(var e=t,n=this.panel.rows,o=0;o<n.length;o++)if(n[o].elements.indexOf(e)>-1)return n[o];for(o=0;o<this.panel.elements.length;o++){var s=this.panel.elements[o].getPanel();if(s){var u=s.dragDropFindRow(e);if(u)return u}}return null},r.prototype.dragDropMoveElement=function(t,e,n){n>t.parent.elements.indexOf(t)&&n--,this.panel.removeElement(t),this.panel.addElement(e,n)},r.prototype.updateRowsOnElementAdded=function(t,e,n,o){n||((n=new Ds(null,t)).target=t,n.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?n.destination=o:(n.isBottom=e>0,n.destination=0==e?this.panel.elements[1]:this.panel.elements[e-1])),this.dragDropAddTargetToRow(n,null)},r.prototype.dragDropAddTargetToRow=function(t,e){if(!t.destination||this.dragDropAddTargetToEmptyPanel(t))return!0;var o=this.dragDropFindRow(t.destination);return!o||(t.target.startWithNewLine?this.dragDropAddTargetToNewRow(t,o,e):this.dragDropAddTargetToExistingRow(t,o,e))},r.prototype.dragDropAddTargetToEmptyPanel=function(t){if(t.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,t.target,t.isBottom),!0;var e=t.destination;if(e.isPanel&&!t.isEdge){if(t.target.template===e)return!1;if(t.nestedPanelDepth<0||t.nestedPanelDepth>=e.depth)return this.dragDropAddTargetToEmptyPanelCore(e,t.target,t.isBottom),!0}return!1},r.prototype.dragDropAddTargetToExistingRow=function(t,e,n){var o=e.elements.indexOf(t.destination);if(0==o&&!t.isBottom&&!this.panel.isDesignModeV2&&e.elements[0].startWithNewLine)return e.index>0?(t.isBottom=!0,t.destination=(e=e.panel.rows[e.index-1]).elements[e.elements.length-1],this.dragDropAddTargetToExistingRow(t,e,n)):this.dragDropAddTargetToNewRow(t,e,n);var s=-1;n==e&&(s=e.elements.indexOf(t.target)),t.isBottom&&o++;var u=this.panel.findRowByElement(t.source);return(u!=e||u.elements.indexOf(t.source)!=o)&&o!=s&&(s>-1&&(e.elements.splice(s,1),s<o&&o--),e.elements.splice(o,0,t.target),e.updateVisible(),s<0)},r.prototype.dragDropAddTargetToNewRow=function(t,e,n){var o=e.panel.createRowAndSetLazy(e.panel.rows.length);this.panel.isDesignModeV2&&o.setIsLazyRendering(!1),o.addElement(t.target);var s=e.index;if(t.isBottom&&s++,n&&n.panel==o.panel&&n.index==s)return!1;var u=this.panel.findRowByElement(t.source);return!(u&&u.panel==o.panel&&1==u.elements.length&&u.index==s||(e.panel.rows.splice(s,0,o),0))},r.prototype.dragDropAddTargetToEmptyPanelCore=function(t,e,n){var o=t.createRow();o.addElement(e),0==t.elements.length||n?t.rows.push(o):t.rows.splice(0,0,o)},r}(),dc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vo=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ms=function(r){function t(e,n){var o=r.call(this)||this;return o.effectiveWidth=e,o.questionTitleWidth=n,o}return dc(t,r),t.prototype.getType=function(){return"panellayoutcolumn"},t.prototype.isEmpty=function(){return!this.width&&!this.questionTitleWidth},Vo([_()],t.prototype,"width",void 0),Vo([_({onSet:function(e,n,o){e!==o&&(n.width=e)}})],t.prototype,"effectiveWidth",void 0),Vo([_()],t.prototype,"questionTitleWidth",void 0),t}(oe);M.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],function(r){return new Ms});var To=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ks=function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r},As=function(r){function t(e){var n=r.call(this)||this;return n.panel=e,n._scrollableParent=void 0,n._updateVisibility=void 0,n.visibleElementsAnimation=new Se(n.getVisibleElementsAnimationOptions(),function(o){n.setWidth(o),n.setPropertyValue("visibleElements",o)},function(){return n.visibleElements}),n.idValue=t.getRowId(),n.visible=e.areInvisibleElementsShowing,n.createNewArray("elements"),n.createNewArray("visibleElements"),n}return To(t,r),t.getRowId=function(){return"pr_"+t.rowCounter++},t.prototype.startLazyRendering=function(e,n){var o=this;if(void 0===n&&(n=ei),k.isAvailable()){this._scrollableParent=n(e),this._scrollableParent===k.getDocumentElement()&&(this._scrollableParent=V.getWindow());var s=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!s,s&&(this._updateVisibility=function(){var u=function Nt(r,t){if(void 0===t&&(t=0),typeof I.environment>"u")return!1;var e=I.environment.root,n=Tn(e)?e.host.clientHeight:e.documentElement.clientHeight,o=r.getBoundingClientRect(),p=Math.max(n,V.getInnerHeight())+t,m=o.bottom;return Math.max(-t,o.top)<=Math.min(p,m)}(e,50);!o.isNeedRender&&u&&(o.isNeedRender=!0,o.stopLazyRendering())},setTimeout(function(){o._scrollableParent&&o._scrollableParent.addEventListener&&o._scrollableParent.addEventListener("scroll",o._updateVisibility),o.ensureVisibility()},10))}},t.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},t.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},t.prototype.setIsLazyRendering=function(e){this.isLazyRenderingValue=e,this.isNeedRender=!e},t.prototype.isLazyRendering=function(){return!0===this.isLazyRenderingValue},Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.equalsCore=function(e){return this==e},Object.defineProperty(t.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){var e;return r.prototype.getIsAnimationAllowed.call(this)&&this.visible&&(null===(e=this.panel)||void 0===e?void 0:e.animationAllowed)},t.prototype.getVisibleElementsAnimationOptions=function(){var e=this,n=function(o){o.style.setProperty("--animation-height",o.offsetHeight+"px"),o.style.setProperty("--animation-width",eo(o)+"px")};return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},allowSyncRemovalAddition:!1,getAnimatedElement:function(o){return o.getWrapperElement()},getLeaveOptions:function(o){return{cssClass:(o.isPanel?o.cssClasses.panel:o.cssClasses).fadeOut,onBeforeRunAnimation:n}},getEnterOptions:function(o){return{cssClass:(o.isPanel?o.cssClasses.panel:o.cssClasses).fadeIn,onBeforeRunAnimation:n}}}},Object.defineProperty(t.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},set:function(e){if(!e.length)return this.visible=!1,void this.visibleElementsAnimation.cancel();this.visible=!0,this.visibleElementsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(e){this.setPropertyValue("isneedrender",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisible=function(){for(var e=[],n=0;n<this.elements.length;n++)this.elements[n].isVisible&&e.push(this.elements[n]);this.visibleElements=e},t.prototype.addElement=function(e){this.elements.push(e),this.updateVisible()},Object.defineProperty(t.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.setWidth=function(e){var n,o=e.length;if(0!=o){for(var s=1===e.length,u=0,p=[],h=0;h<this.elements.length;h++)if((m=this.elements[h]).isVisible){m.isSingleInRow=s;var x=this.getElementWidth(m);x&&(m.renderWidth=this.getRenderedWidthFromWidth(x),p.push(m)),m.rightIndent=u<o-1&&!(this.panel.isDefaultV2Theme||null!==(n=this.panel.parentQuestion)&&void 0!==n&&n.isDefaultV2Theme)?1:0,u++}else m.renderWidth="";for(h=0;h<this.elements.length;h++){var m;!(m=this.elements[h]).isVisible||p.indexOf(m)>-1||(m.renderWidth=0==p.length?Number.parseFloat((100/o).toFixed(6))+"%":this.getRenderedCalcWidth(m,p,o))}}},t.prototype.getRenderedCalcWidth=function(e,n,o){for(var s="100%",u=0;u<n.length;u++)s+=" - "+n[u].renderWidth;var p=o-n.length;return p>1&&(s="("+s+")/"+p.toString()),"calc("+s+")"},t.prototype.getElementWidth=function(e){var n=e.width;return n&&"string"==typeof n?n.trim():""},t.prototype.getRenderedWidthFromWidth=function(e){return R.isNumber(e)?e+"px":e},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.stopLazyRendering()},t.prototype.getRowCss=function(){return(new A).append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.rowCounter=100,Mn([_({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),t}(oe),fi=function(r){function t(e){void 0===e&&(e="");var n=r.call(this,e)||this;return n.isQuestionsReady=!1,n.questionsValue=new Array,n._columns=void 0,n._columnsReady=!1,n.rowsAnimation=new Se(n.getRowsAnimationOptions(),function(o){n.setPropertyValue("visibleRows",o)},function(){return n.visibleRows}),n.isRandomizing=!1,n.onColumnPropertyValueChangedCallback=function(o,s,u,p,h){n._columnsReady&&(n.updateColumnWidth(n.layoutColumns),n.updateRootStyle())},n.locCountRowUpdates=0,n.createNewArray("rows",function(o,s){n.onAddRow(o)},function(o){n.onRemoveRow(o)}),n.createNewArray("visibleRows"),n.elementsValue=n.createNewArray("elements",n.onAddElement.bind(n),n.onRemoveElement.bind(n)),n.id=t.getPanelId(),n.addExpressionProperty("visibleIf",function(o,s){n.visible=!0===s},function(o){return!n.areInvisibleElementsShowing}),n.addExpressionProperty("enableIf",function(o,s){n.readOnly=!1===s}),n.addExpressionProperty("requiredIf",function(o,s){n.isRequired=!0===s}),n.createLocalizableString("requiredErrorText",n),n.createLocalizableString("navigationTitle",n,!0).onGetTextCallback=function(o){return o||n.title||n.name},n.registerPropertyChangedHandlers(["questionTitleLocation"],function(){n.onVisibleChanged.bind(n),n.updateElementCss(!0)}),n.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){n.updateVisibleIndexes()}),n.dragDropPanelHelper=new pc(n),n}return To(t,r),t.getPanelId=function(){return"sp_"+t.panelCounter++},t.prototype.onAddRow=function(e){var n=this;this.onRowVisibleChanged(),e.onVisibleChangedCallback=function(){return n.onRowVisibleChanged()}},t.prototype.getRowsAnimationOptions=function(){var e=this,n=function(o){o.style.setProperty("--animation-height",o.offsetHeight+"px")};return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},getAnimatedElement:function(o){return o.getRootElement()},getLeaveOptions:function(o){return{cssClass:e.cssClasses.rowFadeOut,onBeforeRunAnimation:n}},getEnterOptions:function(o,s){var u=e.cssClasses;return{cssClass:(new A).append(u.rowFadeIn).append(u.rowDelayedFadeIn,s.isDeletingRunning).toString(),onBeforeRunAnimation:n}}}},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getPropertyValue("visibleRows")},set:function(e){this.rowsAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.onRemoveRow=function(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(function(n){return n.visible}),e.onVisibleChangedCallback=void 0},t.prototype.onRowVisibleChanged=function(){this.visibleRows=this.rows.filter(function(e){return e.visible})},t.prototype.getType=function(){return"panelbase"},t.prototype.setSurveyImpl=function(e,n){this.blockAnimations(),r.prototype.setSurveyImpl.call(this,e,n),this.isDesignMode&&this.onVisibleChanged();for(var o=0;o<this.elements.length;o++)this.elements[o].setSurveyImpl(e,n);this.releaseAnimations()},t.prototype.endLoadingFromJson=function(){var e=this;r.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged(),this.layoutColumns.forEach(function(n){n.onPropertyValueChangedCallback=e.onColumnPropertyValueChangedCallback})},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.locTitle.textOrHtml.length>0||this.isDesignMode&&this.showTitle&&this.isInteractiveDesignElement&&I.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),t.prototype.delete=function(e){void 0===e&&(e=!0),this.deletePanel(),this.removeFromParent(),e&&this.dispose()},t.prototype.deletePanel=function(){for(var e=this.elements,n=0;n<e.length;n++){var o=e[n];o.isPanel&&o.deletePanel(),this.onRemoveElementNotifySurvey(o)}},t.prototype.removeFromParent=function(){},t.prototype.canShowTitle=function(){return!0},Object.defineProperty(t.prototype,"_showDescription",{get:function(){return!(!this.hasTitle&&this.isDesignMode)&&(this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&I.designMode.showEmptyDescriptions)},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()},t.prototype.getMarkdownHtml=function(e,n){return"navigationTitle"===n&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:r.prototype.getMarkdownHtml.call(this,e,n)},Object.defineProperty(t.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.canRandomize=function(e){return e&&"initial"!==this.questionsOrder||"random"===this.questionsOrder},t.prototype.randomizeElements=function(e){if(this.canRandomize(e)&&!this.isRandomizing){this.isRandomizing=!0;for(var n=[],o=this.elements,s=0;s<o.length;s++)n.push(o[s]);var u=R.randomizeArray(n);this.setArrayPropertyDirectly("elements",u,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(t.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={panel:{},error:{},row:"",rowFadeIn:"",rowFadeOut:"",rowDelayedFadeIn:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(n.panel,e.panel),this.copyCssClasses(n.error,e.error),e.pageRow&&(n.pageRow=e.pageRow),e.rowCompact&&(n.rowCompact=e.rowCompact),e.row&&(n.row=e.row),e.rowFadeIn&&(n.rowFadeIn=e.rowFadeIn),e.rowFadeOut&&(n.rowFadeOut=e.rowFadeOut),e.rowDelayedFadeIn&&(n.rowDelayedFadeIn=e.rowDelayedFadeIn),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,n),n},Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this},t.prototype.getLayoutType=function(){return"row"},t.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(t.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var n=this.elements[e];if(n.isPanel)for(var o=n.questions,s=0;s<o.length;s++)this.questionsValue.push(o[s]);else this.questionsValue.push(n)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),t.prototype.getQuestions=function(e){var n=this.questions;if(!e)return n;var o=[];return n.forEach(function(s){o.push(s),s.getNestedQuestions().forEach(function(u){return o.push(u)})}),o},t.prototype.getValidName=function(e){return e&&e.trim()},t.prototype.getQuestionByName=function(e){for(var n=this.questions,o=0;o<n.length;o++)if(n[o].name==e)return n[o];return null},t.prototype.getElementByName=function(e){for(var n=this.elements,o=0;o<n.length;o++){var s=n[o];if(s.name==e)return s;var u=s.getPanel();if(u){var p=u.getElementByName(e);if(p)return p}}return null},t.prototype.getQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);return n.length>0?n[0]:null},t.prototype.getQuestionsByValueName=function(e){for(var n=[],o=this.questions,s=0;s<o.length;s++)o[s].getValueName()==e&&n.push(o[s]);return n},t.prototype.getValue=function(){var e={};return this.collectValues(e,0),e},t.prototype.collectValues=function(e,n){var o=this.elements;0===n&&(o=this.questions);for(var u=0;u<o.length;u++){var p=o[u];if(p.isPanel||p.isPage){var h={};p.collectValues(h,n-1)&&(e[p.name]=h)}else{var m=p;if(!m.isEmpty()){var x=m.getValueName();if(e[x]=m.value,this.data){var T=this.data.getComment(x);T&&(e[x+oe.commentSuffix]=T)}}}}return!0},t.prototype.getDisplayValue=function(e){for(var n={},o=this.questions,s=0;s<o.length;s++){var u=o[s];u.isEmpty()||(n[e?u.title:u.getValueName()]=u.getDisplayValue(e))}return n},t.prototype.getComments=function(){var e={};if(!this.data)return e;for(var n=this.questions,o=0;o<n.length;o++){var s=n[o],u=this.data.getComment(s.getValueName());u&&(e[s.getValueName()]=u)}return e},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()},t.prototype.clearErrors=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]},t.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(t.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),this.elements},t.prototype.containsElement=function(e){for(var n=0;n<this.elements.length;n++){var o=this.elements[n];if(o==e)return!0;var s=o.getPanel();if(s&&s.containsElement(e))return!0}return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),t.prototype.searchText=function(e,n){r.prototype.searchText.call(this,e,n);for(var o=0;o<this.elements.length;o++)this.elements[o].searchText(e,n)},t.prototype.hasErrors=function(e,n,o){return void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===o&&(o=null),!this.validate(e,n,o)},t.prototype.validate=function(e,n,o){return void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===o&&(o=null),!0!==(o=o||{fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1}).result&&(o.result=!1),this.hasErrorsCore(o),!o.result},t.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},t.prototype.onQuestionValueChanged=function(e){var n=this.questions.indexOf(e);if(!(n<0))for(var s=this.questions.length-1,p=n+5<s?n+5:s,h=n-5>0?n-5:0;h<=p;h++)if(h!==n){var m=this.questions[h];m.errors.length>0&&m.validate(!1)&&m.validate(!0)}},t.prototype.hasErrorsInPanels=function(e){var n=[];if(this.hasRequiredError(e,n),this.survey){var o=this.survey.validatePanel(this);o&&(n.push(o),e.result=!0)}e.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,n),this.errors=n)},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.hasRequiredError=function(e,n){if(this.isRequired){var o=[];if(this.addQuestionsToList(o,!0),0!=o.length){for(var s=0;s<o.length;s++)if(!o[s].isEmpty())return;e.result=!0,n.push(new Zr(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=o[0])}}},t.prototype.hasErrorsCore=function(e){for(var n=this.elements,o=null,s=null,u=0;u<n.length;u++)if((o=n[u]).isVisible)if(o.isPanel)o.hasErrorsCore(e);else{var p=o;p.validate(e.fireCallback,e)||(s||(s=p),e.firstErrorQuestion||(e.firstErrorQuestion=p),e.result=!0)}this.hasErrorsInPanels(e),this.updateContainsErrors(),!s&&this.errors.length>0&&(s=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=s)),e.fireCallback&&s&&(s===e.firstErrorQuestion&&e.focusOnFirstError?s.focus(!0):s.expandAllParents())},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.elements,o=0;o<n.length;o++)if(n[o].containsErrors)return!0;return!1},t.prototype.updateElementVisibility=function(){for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.setPropertyValue("isVisible",n.isVisible),n.isPanel&&n.updateElementVisibility()}},t.prototype.getFirstQuestionToFocus=function(e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),!e&&!n&&this.isCollapsed)return null;for(var o=this.elements,s=0;s<o.length;s++){var u=o[s];if(u.isVisible&&(n||!u.isCollapsed))if(u.isPanel){var p=u.getFirstQuestionToFocus(e,n);if(p)return p}else{var h=u.getFirstQuestionToFocus(e);if(h)return h}}return null},t.prototype.focusFirstQuestion=function(){var e=this.getFirstQuestionToFocus();e&&e.focus()},t.prototype.focusFirstErrorQuestion=function(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()},t.prototype.addQuestionsToList=function(e,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),this.addElementsToList(e,n,o,!1)},t.prototype.addPanelsIntoList=function(e,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1),this.addElementsToList(e,n,o,!0)},t.prototype.addElementsToList=function(e,n,o,s){n&&!this.visible||this.addElementsToListCore(e,this.elements,n,o,s)},t.prototype.addElementsToListCore=function(e,n,o,s,u){for(var p=0;p<n.length;p++){var h=n[p];o&&!h.visible||((u&&h.isPanel||!u&&!h.isPanel)&&e.push(h),h.isPanel?h.addElementsToListCore(e,h.elements,o,s,u):s&&this.addElementsToListCore(e,h.getElementsInDesign(!1),o,s,u))}},t.prototype.calcMaxRowColSpan=function(){var e=0;return this.rows.forEach(function(n){var o=0,s=!1;n.elements.forEach(function(u){u.width&&(s=!0),o+=u.colSpan||1}),!s&&o>e&&(e=o)}),e},t.prototype.updateColumnWidth=function(e){var n=0,o=0;if(e.forEach(function(p){p.width?(n+=p.width,p.setPropertyValue("effectiveWidth",p.width)):o++}),o)for(var s=function Vu(r){return Math.round(100*r)/100}((100-n)/o),u=0;u<e.length;u++)e[u].width||e[u].setPropertyValue("effectiveWidth",s)},t.prototype.updateColumns=function(){this._columns=void 0,this.updateRootStyle()},t.prototype.updateRootStyle=function(){var e;r.prototype.updateRootStyle.call(this),null===(e=this.elements)||void 0===e||e.forEach(function(n){return n.updateRootStyle()})},t.prototype.updateCustomWidgets=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()},Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},t.prototype.availableQuestionTitleWidth=function(){return"left"===this.getQuestionTitleLocation()||this.hasElementWithTitleLocationLeft()},t.prototype.hasElementWithTitleLocationLeft=function(){return this.elements.some(function(n){return n instanceof t?n.hasElementWithTitleLocationLeft():n instanceof je?"left"===n.getTitleLocation():void 0})},t.prototype.getQuestionTitleWidth=function(){return this.questionTitleWidth||this.parent&&this.parent.getQuestionTitleWidth()},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||this.generateColumns(),this._columns||[]},enumerable:!1,configurable:!0}),t.prototype.generateColumns=function(){var e=this.calcMaxRowColSpan(),n=[].concat(this.layoutColumns);if(e<=this.layoutColumns.length)n=this.layoutColumns.slice(0,e);else for(var o=this.layoutColumns.length;o<e;o++){var s=new Ms;s.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback,n.push(s)}this._columns=n;try{this._columnsReady=!1,this.updateColumnWidth(n)}finally{this._columnsReady=!0}this.layoutColumns=n},t.prototype.getColumsForElement=function(e){var n=this.findRowByElement(e);if(!n||!this.survey||!this.survey.gridLayoutEnabled)return[];for(var o=n.elements.length-1;o>=0&&n.elements[o].getPropertyValueWithoutDefault("colSpan");)o--;for(var s=n.elements.indexOf(e),u=0,p=0;p<s;p++)u+=n.elements[p].colSpan;var h=e.getPropertyValueWithoutDefault("colSpan");if(!h&&s===o){var m=0;for(p=0;p<n.elements.length;p++)p!==o&&(m+=n.elements[p].colSpan);h=this.columns.length-m}var x=this.columns.slice(u,u+(h||1));return e.setPropertyValue("effectiveColSpan",x.length),x},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.getProgressInfo=function(){return We.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},t.prototype.createRowAndSetLazy=function(e){var n=this.createRow();return n.setIsLazyRendering(this.isLazyRenderInRow(e)),n},t.prototype.createRow=function(){return new As(this)},t.prototype.onSurveyLoad=function(){this.blockAnimations(),r.prototype.onSurveyLoad.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations()},t.prototype.onFirstRendering=function(){r.prototype.onFirstRendering.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].onFirstRendering();this.onRowsChanged()},t.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var e=0;e<this.elements.length;e++)this.elements[e].isPanel&&this.elements[e].updateRows();this.onRowsChanged()}},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(e){e.ensureVisibility()})},t.prototype.onRowsChanged=function(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())},t.prototype.blockRowsUpdates=function(){this.locCountRowUpdates++},t.prototype.releaseRowsUpdates=function(){this.locCountRowUpdates--},t.prototype.updateRowsBeforeElementRemoved=function(e){var n=this,o=this.findRowByElement(e),s=this.rows.indexOf(o),u=o.elements.indexOf(e);o.elements.splice(u,1),0==o.elements.length?this.rows.splice(s,1):!o.elements[0].startWithNewLine&&this.rows[s-1]?(o.elements.forEach(function(p){return n.rows[s-1].addElement(p)}),this.rows.splice(s,1)):o.updateVisible()},t.prototype.updateRowsOnElementAdded=function(e){var n=this,o=this.elements.indexOf(e),s=this.elements[o+1],u=function(T){var D=n.createRowAndSetLazy(T);return n.isDesignModeV2&&D.setIsLazyRendering(!1),n.rows.splice(T,0,D),D},p=function(T,D,B){for(var j,X=[],U=3;U<arguments.length;U++)X[U-3]=arguments[U];var $=(j=T.elements).splice.apply(j,ks([D,B],X));return T.updateVisible(),$};if(s){var h=this.findRowByElement(s);if(h){var m=this.rows.indexOf(h),x=h.elements.indexOf(s);0==x?s.startWithNewLine?e.startWithNewLine||m<1?u(m).addElement(e):this.rows[m-1].addElement(e):p(h,0,0,e):e.startWithNewLine?p.apply(void 0,ks([u(m+1),0,0],[e].concat(p(h,x,h.elements.length)))):p(h,x,0,e)}}else 0==o||e.startWithNewLine?p(u(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e)},t.prototype.onAddElement=function(e,n){var o=this;e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),e.isPanel?this.survey&&this.survey.panelAdded(e,n,this,this.root):this.survey&&this.survey.questionAdded(e,n,this,this.root),this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],function(){o.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],function(){o.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)},t.prototype.onRemoveElement=function(e){e.parent=null,this.markQuestionListDirty(),e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))},t.prototype.onRemoveElementNotifySurvey=function(e){this.survey&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))},t.prototype.onElementVisibilityChanged=function(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},t.prototype.onElementStartWithNewLineChanged=function(e){this.locCountRowUpdates>0||(this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e))},t.prototype.updateRowsVisibility=function(e){for(var n=this.rows,o=0;o<n.length;o++){var s=n[o];if(s.elements.indexOf(e)>-1){s.updateVisible(),s.visible&&!s.isNeedRender&&(s.isNeedRender=!0);break}}},t.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},t.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var e=new Array,n=0;n<this.elements.length;n++){var o=this.elements[n],s=0==n||o.startWithNewLine,u=s?this.createRowAndSetLazy(e.length):e[e.length-1];s&&e.push(u),u.addElement(o)}for(n=0;n<e.length;n++)e[n].updateVisible();return e},t.prototype.isLazyRenderInRow=function(e){return!(!this.survey||!this.survey.isLazyRendering)&&(e>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows())},t.prototype.canRenderFirstRows=function(){return this.isPage},t.prototype.getDragDropInfo=function(){var e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0},t.prototype.updateRowsOnElementRemoved=function(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())},t.prototype.updateRowsRemoveElementFromRow=function(e,n){if(n&&n.panel){var o=n.elements.indexOf(e);o<0||(n.elements.splice(o,1),n.elements.length>0?(this.blockRowsUpdates(),n.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),n.updateVisible()):n.index>=0&&n.panel.rows.splice(n.index,1))}},t.prototype.findRowByElement=function(e){for(var n=this.rows,o=0;o<n.length;o++)if(n[o].elements.indexOf(e)>-1)return n[o];return null},t.prototype.elementWidthChanged=function(e){if(!this.isLoadingFromJson){var n=this.findRowByElement(e);n&&n.updateVisible()}},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),t.prototype.getRenderedTitle=function(e){return null!=this.textProcessor?this.textProcessor.processText(e,!0):e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){this.questions.forEach(function(e){return e.onHidingContent()})},t.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&"none"!==this.survey.getQuestionClearIfInvisible("default")&&!this.isLoadingFromJson))for(var e=this.questions,n=this.isVisible,o=0;o<e.length;o++){var s=e[o];n?s.updateValueWithDefaults():(s.clearValueIfInvisible("onHiddenContainer"),s.onHidingContent())}},t.prototype.notifyStateChanged=function(e){r.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.questions.forEach(function(n){return n.onHidingContent()})},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),t.prototype.getIsContentVisible=function(e){if(this.areInvisibleElementsShowing)return!0;for(var n=0;n<this.elements.length;n++)if(this.elements[n]!=e&&this.elements[n].isVisible)return!0;return!1},t.prototype.getIsPageVisible=function(e){return this.visible&&this.getIsContentVisible(e)},t.prototype.setVisibleIndex=function(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var n=e;e+=this.beforeSetVisibleIndex(e);for(var o=this.getPanelStartIndex(e),s=o,u=0;u<this.elements.length;u++)s+=this.elements[u].setVisibleIndex(s);return this.isContinueNumbering()&&(e+=s-o),e-n},t.prototype.updateVisibleIndexes=function(){void 0!==this.lastVisibleIndex&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},t.prototype.resetVisibleIndexes=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].setVisibleIndex(-1)},t.prototype.beforeSetVisibleIndex=function(e){return 0},t.prototype.getPanelStartIndex=function(e){return e},t.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e);for(var n=0;n<this.elements.length;n++)this.elements[n].updateElementCss(e)},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.addElement=function(e,n){return void 0===n&&(n=-1),!!this.canAddElement(e)&&(n<0||n>=this.elements.length?this.elements.push(e):this.elements.splice(n,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0)},t.prototype.insertElement=function(e,n,o){if(void 0===o&&(o="bottom"),n){this.blockRowsUpdates();var s=this.elements.indexOf(n),u=this.findRowByElement(n);"left"==o||"right"==o?"right"==o?(e.startWithNewLine=!1,s++):0==u.elements.indexOf(n)?(n.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,s="top"==o?this.elements.indexOf(u.elements[0]):this.elements.indexOf(u.elements[u.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,s)}else this.addElement(e)},t.prototype.insertElementAfter=function(e,n){var o=this.elements.indexOf(n);o>=0&&this.addElement(e,o+1)},t.prototype.insertElementBefore=function(e,n){var o=this.elements.indexOf(n);o>=0&&this.addElement(e,o)},t.prototype.canAddElement=function(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())},t.prototype.addQuestion=function(e,n){return void 0===n&&(n=-1),this.addElement(e,n)},t.prototype.addPanel=function(e,n){return void 0===n&&(n=-1),this.addElement(e,n)},t.prototype.addNewQuestion=function(e,n,o){void 0===n&&(n=null),void 0===o&&(o=-1);var s=he.Instance.createQuestion(e,n);return this.addQuestion(s,o)?s:null},t.prototype.addNewPanel=function(e){void 0===e&&(e=null);var n=this.createNewPanel(e);return this.addPanel(n)?n:null},t.prototype.indexOf=function(e){return this.elements.indexOf(e)},t.prototype.createNewPanel=function(e){var n=M.createClass("panel");return n.name=e,n},t.prototype.removeElement=function(e){var n=this.elements.indexOf(e);if(n<0){for(var o=0;o<this.elements.length;o++)if(this.elements[o].removeElement(e))return!0;return!1}return this.elements.splice(n,1),this.updateColumns(),!0},t.prototype.removeQuestion=function(e){this.removeElement(e)},t.prototype.runCondition=function(e,n){if(!this.isDesignMode&&!this.isLoadingFromJson){for(var o=this.elements.slice(),s=0;s<o.length;s++)o[s].runCondition(e,n);this.runConditionCore(e,n)}},t.prototype.onAnyValueChanged=function(e,n){for(var o=this.elements,s=0;s<o.length;s++)o[s].onAnyValueChanged(e,n)},t.prototype.checkBindings=function(e,n){for(var o=this.elements,s=0;s<o.length;s++)o[s].checkBindings(e,n)},t.prototype.dragDropAddTarget=function(e){this.dragDropPanelHelper.dragDropAddTarget(e)},t.prototype.dragDropFindRow=function(e){return this.dragDropPanelHelper.dragDropFindRow(e)},t.prototype.dragDropMoveElement=function(e,n,o){this.dragDropPanelHelper.dragDropMoveElement(e,n,o)},t.prototype.needResponsiveWidth=function(){var e=!1;return this.elements.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(function(n){n.elements.length>1&&(e=!0)}),e},Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return"default"!==this.questionErrorLocation?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},Object.defineProperty(t.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return(new A).append(e.error.root).toString()},t.prototype.getSerializableColumnsValue=function(){for(var e=-1,n=this.layoutColumns.length-1;n>=0;n--)if(!this.layoutColumns[n].isEmpty()){e=n;break}return this.layoutColumns.slice(0,e+1)},t.prototype.dispose=function(){if(r.prototype.dispose.call(this),this.rows){for(var e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}for(e=0;e<this.elements.length;e++)this.elements[e].dispose();this.elements.splice(0,this.elements.length)},t.panelCounter=100,Mn([qe()],t.prototype,"layoutColumns",void 0),Mn([_({defaultValue:!0})],t.prototype,"showTitle",void 0),Mn([_({defaultValue:!0})],t.prototype,"showDescription",void 0),Mn([_()],t.prototype,"questionTitleWidth",void 0),t}(We),hi=function(r){function t(e){void 0===e&&(e="");var n=r.call(this,e)||this;return n.createNewArray("footerActions"),n.registerPropertyChangedHandlers(["width"],function(){n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){n.onIndentChanged()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var o;null===(o=n.parent)||void 0===o||o.updateColumns()}),n.registerPropertyChangedHandlers(["title"],function(){n.calcHasTextInTitle()}),n}return To(t,r),t.prototype.getType=function(){return"panel"},Object.defineProperty(t.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),e?this.parent?this.parent.getSurvey(e):null:r.prototype.getSurvey.call(this,e)},Object.defineProperty(t.prototype,"hasTextInTitle",{get:function(){return this.getPropertyValue("hasTextInTitle")},enumerable:!1,configurable:!0}),t.prototype.calcHasTextInTitle=function(){this.setPropertyValue("hasTextInTitle",!!this.title)},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.onIndentChanged(),this.calcHasTextInTitle()},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.onIndentChanged(),this.calcHasTextInTitle()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){return(new A).append(this.cssClasses.panel.header).append(this.cssClasses.panel.headerHidden,!this.hasTextInTitle&&!this.hasDescription&&this.isDesignMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.moveTo=function(e,n){return void 0===n&&(n=null),this.moveToBase(this.parent,e,n)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),t.prototype.getTitleOwner=function(){return this},Object.defineProperty(t.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:r.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),t.prototype.setNo=function(e){this.setPropertyValue("no",R.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},t.prototype.notifyStateChanged=function(e){this.isLoadingFromJson||this.locTitle.strChanged(),r.prototype.notifyStateChanged.call(this,e)},t.prototype.createLocTitleProperty=function(){var e=this,n=r.prototype.createLocTitleProperty.call(this);return n.onGetTextCallback=function(o){return!o&&("default"!==e.state||e.isDesignMode&&e.isDefaultV2Theme&&e.isInteractiveDesignElement)&&(o=e.name),o},n},t.prototype.beforeSetVisibleIndex=function(e){var n=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(n=e),this.setPropertyValue("visibleIndex",n),this.setNo(n),n<0?0:1},t.prototype.getPanelStartIndex=function(e){return"off"==this.showQuestionNumbers?-1:"onpanel"==this.showQuestionNumbers?0:e},t.prototype.isContinueNumbering=function(){return"off"!=this.showQuestionNumbers&&"onpanel"!=this.showQuestionNumbers},t.prototype.notifySurveyOnVisibilityChanged=function(){null!=this.survey&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},t.prototype.getRenderedTitle=function(e){if(!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return r.prototype.getRenderedTitle.call(this,e)},Object.defineProperty(t.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(e){this.setPropertyValue("innerIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(e){this.setPropertyValue("innerPaddingLeft",e)},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},t.prototype.getIndentSize=function(e){if(e<1)return"";var n=this.survey.css;return n&&n.question.indent?e*n.question.indent+"px":""},t.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(e){(e instanceof je||e instanceof t)&&e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),t.prototype.getFooterToolbar=function(){var n,o,e=this;if(!this.footerToolbarValue){var s=this.footerActions;this.hasEditButton&&s.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:function(){e.cancelPreview()}}),s=this.onGetFooterActionsCallback?this.onGetFooterActionsCallback():null===(n=this.survey)||void 0===n?void 0:n.getUpdatedPanelFooterActions(this,s),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var u=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";u||(u=null===(o=this.cssClasses.panel)||void 0===o?void 0:o.footer),u&&(this.footerToolbarValue.containerCss=u),this.footerToolbarValue.setItems(s)}return this.footerToolbarValue},Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return!(!this.survey||"preview"!==this.survey.state)&&this.parent&&this.parent instanceof kn},enumerable:!1,configurable:!0}),t.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return(new A).append(this.getCssTitle(this.cssClasses.panel)).append(this.cssClasses.panel.titleHidden,!this.hasTextInTitle&&this.isDesignMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){var n=(new A).append(r.prototype.getCssError.call(this,e)).append(e.panel.errorsContainer);return n.append("panel-error-root",n.isEmpty()).toString()},t.prototype.onVisibleChanged=function(){r.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},t.prototype.needResponsiveWidth=function(){return!this.startWithNewLine||r.prototype.needResponsiveWidth.call(this)},t.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},t.prototype.getHasFrameV2=function(){return r.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},t.prototype.getIsNested=function(){return r.prototype.getIsNested.call(this)&&void 0!==this.parent},Object.defineProperty(t.prototype,"showPanelAsPage",{get:function(){var e=this;return!!e.originalPage||e.survey.isShowingPreview&&e.survey.isSinglePage&&!!e.parent&&!!e.parent.originalPage},enumerable:!1,configurable:!0}),t.prototype.onElementExpanded=function(e){var n=this;if(null!=this.survey&&!this.isLoadingFromJson){var o=this.getFirstQuestionToFocus(!1);o&&setTimeout(function(){!n.isDisposed&&n.survey&&n.survey.scrollElementToTop(o,o,null,o.inputId,!1,{behavior:"smooth"})},e?0:15)}},t.prototype.getCssRoot=function(e){return(new A).append(r.prototype.getCssRoot.call(this,e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},t}(fi);M.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(r){return!!r&&r.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"layoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:function(r){return r.getSerializableColumnsValue()},visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new fi}),M.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return I.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(r){return r.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(r){return!!r&&!!r.survey&&r.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(r){var t=r?r.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(r){var t=r?r.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new hi},"panelbase"),Tt.Instance.registerElement("panel",function(r){return new hi(r)});var fc=function(){function r(t){this.page=t}return r.prototype.getDragDropInfo=function(){return this.dragDropInfo},r.prototype.dragDropStart=function(t,e,n){void 0===n&&(n=-1),this.dragDropInfo=new Ds(t,e,n)},r.prototype.dragDropMoveTo=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),!this.dragDropInfo||(this.dragDropInfo.destination=t,this.dragDropInfo.isBottom=e,this.dragDropInfo.isEdge=n,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var o=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,o)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},r.prototype.correctDragDropInfo=function(t){if(t.destination){var e=t.destination.isPanel?t.destination:null;e&&(t.target.isLayoutTypeSupported(e.getChildrenLayoutType())||(t.isEdge=!0))}},r.prototype.dragDropAllowFromSurvey=function(){var t=this.dragDropInfo.destination;if(!t||!this.page.survey)return!0;var e=null,n=null,o=t.isPage||!this.dragDropInfo.isEdge&&t.isPanel?t:t.parent;if(!t.isPage){var s=t.parent;if(s){var u=s.elements,p=u.indexOf(t);p>-1&&(e=t,n=t,this.dragDropInfo.isBottom?e=p<u.length-1?u[p+1]:null:n=p>0?u[p-1]:null)}}return this.page.survey.dragAndDropAllow({allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:o,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:n,insertBefore:e})},r.prototype.dragDropFinish=function(t){if(void 0===t&&(t=!1),this.dragDropInfo){var e=this.dragDropInfo.target,n=this.dragDropInfo.source,o=this.dragDropInfo.destination,s=this.page.dragDropFindRow(e),u=this.dragDropGetElementIndex(e,s);this.page.updateRowsRemoveElementFromRow(e,s);var p=[],h=[];if(!t&&s){if(this.page.isDesignModeV2){var x=n&&n.parent&&n.parent.dragDropFindRow(n);s.panel.elements[u]&&s.panel.elements[u].startWithNewLine&&s.elements.length>1&&s.panel.elements[u]===o&&(p.push(e),h.push(s.panel.elements[u])),e.startWithNewLine&&s.elements.length>1&&(!s.panel.elements[u]||!s.panel.elements[u].startWithNewLine)&&h.push(e),x&&x.elements[0]===n&&x.elements[1]&&p.push(x.elements[1]),s.elements.length<=1&&p.push(e),e.startWithNewLine&&s.elements.length>1&&s.elements[0]!==o&&h.push(e)}this.page.survey.startMovingQuestion(),n&&n.parent&&(s.panel==n.parent?(s.panel.dragDropMoveElement(n,e,u),u=-1):n.parent.removeElement(n)),u>-1&&s.panel.addElement(e,u),this.page.survey.stopMovingQuestion()}return p.map(function(T){T.startWithNewLine=!0}),h.map(function(T){T.startWithNewLine=!1}),this.dragDropInfo=null,t?null:e}},r.prototype.dragDropGetElementIndex=function(t,e){if(!e)return-1;var n=e.elements.indexOf(t);if(0==e.index)return n;var o=e.panel.rows[e.index-1];return n+e.panel.elements.indexOf(o.elements[o.elements.length-1])+1},r.prototype.dragDropCanDropTagert=function(){var t=this.dragDropInfo.destination;return!(t&&!t.isPage)||this.dragDropCanDropCore(this.dragDropInfo.target,t)},r.prototype.dragDropCanDropSource=function(){var t=this.dragDropInfo.source;if(!t)return!0;var e=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(t,e))return!1;if(this.page.isDesignModeV2){if(this.page.dragDropFindRow(t)!==this.page.dragDropFindRow(e)&&(!t.startWithNewLine&&e.startWithNewLine||t.startWithNewLine&&!e.startWithNewLine))return!0;var s=this.page.dragDropFindRow(e);if(s&&1==s.elements.length)return!0}return this.dragDropCanDropNotNext(t,e,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},r.prototype.dragDropCanDropCore=function(t,e){if(!e)return!0;if(this.dragDropIsSameElement(e,t))return!1;if(t.isPanel){var n=t;if(n.containsElement(e)||n.getElementByName(e.name))return!1}return!0},r.prototype.dragDropCanDropNotNext=function(t,e,n,o){if(!e||e.isPanel&&!n||typeof t.parent>"u"||t.parent!==e.parent)return!0;var s=t.parent,u=s.elements.indexOf(t),p=s.elements.indexOf(e);return p<u&&!o&&p--,o&&p++,u<p?p-u>1:u-p>0},r.prototype.dragDropIsSameElement=function(t,e){return t==e||t.name==e.name},r}(),hc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kn=function(r){function t(e){void 0===e&&(e="");var n=r.call(this,e)||this;return n.hasShownValue=!1,n.timeSpent=0,n.locTitle.onGetTextCallback=function(o){return n.canShowPageNumber()&&o?n.num+". "+o:o},n.createLocalizableString("navigationDescription",n,!0),n.dragDropPageHelper=new fc(n),n}return hc(t,r),t.prototype.getType=function(){return"page"},t.prototype.toString=function(){return this.name},Object.defineProperty(t.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},t.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(t.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(e){this.setLocalizableStringText("navigationTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(e){this.setLocalizableStringText("navigationDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),t.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(t.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(e){this.setPropertyValue("passed",e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},t.prototype.onFirstRendering=function(){this.wasShown||r.prototype.onFirstRendering.call(this)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(e){this.setPropertyValue("visibleIndex",e)},enumerable:!1,configurable:!0}),t.prototype.canRenderFirstRows=function(){return!this.isDesignMode||0==this.visibleIndex},Object.defineProperty(t.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowFadeIn:"",rowFadeOut:"",rowDelayedFadeIn:""};return this.copyCssClasses(n.page,e.page),this.copyCssClasses(n.error,e.error),e.pageTitle&&(n.pageTitle=e.pageTitle),e.pageDescription&&(n.pageDescription=e.pageDescription),e.row&&(n.row=e.row),e.pageRow&&(n.pageRow=e.pageRow),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),e.rowCompact&&(n.rowCompact=e.rowCompact),e.rowFadeIn&&(n.rowFadeIn=e.rowFadeIn),e.rowDelayedFadeIn&&(n.rowDelayedFadeIn=e.rowDelayedFadeIn),e.rowFadeOut&&(n.rowFadeOut=e.rowFadeOut),this.survey&&this.survey.updatePageCssClasses(this,n),n},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.cssClasses.page?(new A).append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.cssClasses.page&&this.survey?(new A).append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!(this.survey.renderedHasHeader||this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString():""},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return(new A).append(r.prototype.getCssError.call(this,e)).append(e.page.errorsContainer).toString()},Object.defineProperty(t.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(e){this.setPropertyValue("navigationButtonsVisibility",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),t.prototype.setWasShown=function(e){if(e!=this.hasShownValue&&(this.hasShownValue=e,!this.isDesignMode&&!0===e)){for(var n=this.elements,o=0;o<n.length;o++)n[o].isPanel&&n[o].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},t.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},t.prototype.getAllPanels=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=new Array;return this.addPanelsIntoList(o,e,n),o},t.prototype.getPanels=function(e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.getAllPanels(e,n)},Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(e){this.setPropertyValue("maxTimeToFinish",e)},enumerable:!1,configurable:!0}),t.prototype.getMaxTimeToFinish=function(){if(0!==this.maxTimeToFinish)return this.maxTimeToFinish;var e=this.survey?this.survey.maxTimeToFinishPage:0;return e>0?e:0},t.prototype.onNumChanged=function(e){},t.prototype.onVisibleChanged=function(){this.isRandomizing||(r.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},t.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},t.prototype.dragDropStart=function(e,n,o){void 0===o&&(o=-1),this.dragDropPageHelper.dragDropStart(e,n,o)},t.prototype.dragDropMoveTo=function(e,n,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),this.dragDropPageHelper.dragDropMoveTo(e,n,o)},t.prototype.dragDropFinish=function(e){return void 0===e&&(e=!1),this.dragDropPageHelper.dragDropFinish(e)},t.prototype.ensureRowsVisibility=function(){r.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(e){return e.ensureRowsVisibility()})},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_({defaultValue:-1,onSet:function(e,n){return n.onNumChanged(e)}})],t.prototype,"num",void 0),t}(fi);M.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(r){return!!r.survey&&("buttons"===r.survey.progressBarType||r.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(r){return!!r.survey&&"buttons"===r.survey.progressBarType},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new kn},"panelbase");var gc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ls=function(r){function t(e){var n=r.call(this)||this;return n.survey=e,n.onResize=n.addEvent(),n}return gc(t,r),t.prototype.isListElementClickable=function(e){return!(this.survey.onServerValidateQuestions&&!this.survey.onServerValidateQuestions.isEmpty&&"onComplete"!==this.survey.checkErrorsMode)||e<=this.survey.currentPageNo+1},t.prototype.getRootCss=function(e){void 0===e&&(e="center");var n=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(n+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(-1!==["footer","contentBottom"].indexOf(e)?"bottom":"top"),n+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(n+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(n+=" "+this.survey.css.progressButtonsFitSurveyWidth),n},t.prototype.getListElementCss=function(e){if(!(e>=this.survey.visiblePages.length))return(new A).append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()},t.prototype.getScrollButtonCss=function(e,n){return(new A).append(this.survey.css.progressButtonsImageButtonLeft,n).append(this.survey.css.progressButtonsImageButtonRight,!n).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()},t.prototype.clickListElement=function(e){e instanceof kn||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)},t.prototype.isListContainerHasScroller=function(e){var n=e.querySelector("."+this.survey.css.progressButtonsListContainer);return!!n&&n.scrollWidth>n.offsetWidth},t.prototype.isCanShowItemTitles=function(e){var n=e.querySelector("ul");if(!n||n.children.length<2)return!0;if(n.clientWidth>n.parentElement.clientWidth)return!1;for(var o=n.children[0].clientWidth,s=0;s<n.children.length;s++)if(Math.abs(n.children[s].clientWidth-o)>5)return!1;return!0},t.prototype.clearConnectorsWidth=function(e){for(var n=e.querySelectorAll(".sd-progress-buttons__connector"),o=0;o<n.length;o++)n[o].style.width=""},t.prototype.adjustConnectors=function(e){var n=e.querySelector("ul");if(n)for(var o=e.querySelectorAll(".sd-progress-buttons__connector"),s=this.showItemNumbers?36:20,u=(n.clientWidth-s)/(n.children.length-1)-s,p=0;p<o.length;p++)o[p].style.width=u+"px"},Object.defineProperty(t.prototype,"isFitToSurveyWidth",{get:function(){return"defaultV2"===Te.currentType&&"survey"===this.survey.progressBarInheritWidthFrom&&"static"==this.survey.widthMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressWidth",{get:function(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemNumbers",{get:function(){return"defaultV2"===Te.currentType&&this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemTitles",{get:function(){return"defaultV2"!==Te.currentType||this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),t.prototype.getItemNumber=function(e){var n="";return this.showItemNumbers&&(n+=this.survey.visiblePages.indexOf(e)+1),n},Object.defineProperty(t.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),t.prototype.processResponsiveness=function(e){this.onResize.fire(this,{width:e})},t}(oe),yc=function(){function r(t,e,n){var o=this;this.model=t,this.element=e,this.viewModel=n,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(s,u){if(o.viewModel.onUpdateScroller(s.isListContainerHasScroller(o.element)),o.model.clearConnectorsWidth(o.element),s.showItemTitles)return s.survey.isMobile?(o.prevWidth=u.width,o.canShowItemTitles=!1,o.model.adjustConnectors(o.element),void o.viewModel.onResize(o.canShowItemTitles)):(void 0!==o.timer&&clearTimeout(o.timer),void(o.timer=setTimeout(function(){(void 0===o.prevWidth||o.prevWidth<u.width&&!o.canShowItemTitles||o.prevWidth>u.width&&o.canShowItemTitles)&&(o.prevWidth=u.width,o.canShowItemTitles=s.isCanShowItemTitles(o.element),o.viewModel.onResize(o.canShowItemTitles),o.timer=void 0)},10)));o.model.adjustConnectors(o.element)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return o.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return r.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},r.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},r}();function Fs(r,t){return r.isDesignMode||t.focusFirstQuestion(),!0}function js(r,t){var e,n="singlePage"===r.questionsOnPageMode?null===(e=r.pages[0])||void 0===e?void 0:e.elements:r.pages,o=(n||[]).map(function(h){return new de({id:h.name,locTitle:h.locNavigationTitle,action:function(){return k.activeElementBlur(),t&&t(),h instanceof kn?r.tryNavigateToPage(h):Fs(r,h)},visible:new we(function(){return h.isVisible&&!h.isStartPage})})}),s=o.filter(function(h){return!!r.currentPage&&h.id===r.currentPage.name})[0]||o.filter(function(h){return h.id===n[0].name})[0],p=new Pn({items:o,onSelectionChanged:function(h){h.action()&&(p.selectedItem=h)},allowSelection:!0,searchEnabled:!1,locOwner:r,selectedItem:s});return p.allowSelection=!1,r.onCurrentPageChanged.add(function(h,m){p.selectedItem=o.filter(function(x){return!!r.currentPage&&x.id===r.currentPage.name})[0]}),p}function Bs(r,t){void 0===t&&(t=!1);var e=zt.RootStyle;return t?e+" "+zt.RootStyle+"--mobile":(e+=" "+zt.RootStyle+"--"+(r.tocLocation||"").toLowerCase(),zt.StickyPosition&&(e+=" "+zt.RootStyle+"--sticky"),e)}var zt=function(){function r(t){var e=this;this.survey=t,this.icon="icon-navmenu_24x24",this.togglePopup=function(){e.popupModel.toggleVisibility()},this.listModel=js(t,function(){e.popupModel.isVisible=!1}),this.popupModel=new Vn("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="plain",this.popupModel.displayMode=new we(function(){return e.isMobile?"overlay":"popup"}),r.StickyPosition&&(t.onAfterRenderSurvey.add(function(n,o){return e.initStickyTOCSubscriptions(o.htmlElement)}),this.initStickyTOCSubscriptions(t.rootElement))}return r.prototype.initStickyTOCSubscriptions=function(t){var e=this;r.StickyPosition&&t&&(t.addEventListener("scroll",function(n){e.updateStickyTOCSize(t)}),this.updateStickyTOCSize(t))},r.prototype.updateStickyTOCSize=function(t){if(t){var e=t.querySelector("."+r.RootStyle);if(e&&(e.style.height="",!this.isMobile&&r.StickyPosition&&t)){var n=t.getBoundingClientRect().height,s=t.querySelector("advanced"===this.survey.headerView?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title")),u=s?s.getBoundingClientRect().height:0;e.style.height=n-(t.scrollTop>u?0:u-t.scrollTop)-1+"px"}}},Object.defineProperty(r.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"containerCss",{get:function(){return Bs(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){this.popupModel.dispose(),this.listModel.dispose()},r.RootStyle="sv_progress-toc",r.StickyPosition=!0,r}(),vc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ve=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rt=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this)||this;o.valuesHash={},o.variablesHash={},o.onTriggerExecuted=o.addEvent(),o.onCompleting=o.addEvent(),o.onComplete=o.addEvent(),o.onShowingPreview=o.addEvent(),o.onNavigateToUrl=o.addEvent(),o.onStarted=o.addEvent(),o.onPartialSend=o.addEvent(),o.onCurrentPageChanging=o.addEvent(),o.onCurrentPageChanged=o.addEvent(),o.onValueChanging=o.addEvent(),o.onValueChanged=o.addEvent(),o.onVariableChanged=o.addEvent(),o.onQuestionVisibleChanged=o.addEvent(),o.onVisibleChanged=o.onQuestionVisibleChanged,o.onPageVisibleChanged=o.addEvent(),o.onPanelVisibleChanged=o.addEvent(),o.onQuestionCreated=o.addEvent(),o.onQuestionAdded=o.addEvent(),o.onQuestionRemoved=o.addEvent(),o.onPanelAdded=o.addEvent(),o.onPanelRemoved=o.addEvent(),o.onPageAdded=o.addEvent(),o.onValidateQuestion=o.addEvent(),o.onSettingQuestionErrors=o.addEvent(),o.onServerValidateQuestions=o.addEvent(),o.onValidatePanel=o.addEvent(),o.onErrorCustomText=o.addEvent(),o.onValidatedErrorsOnCurrentPage=o.addEvent(),o.onProcessHtml=o.addEvent(),o.onGetQuestionDisplayValue=o.addEvent(),o.onGetQuestionTitle=o.addEvent(),o.onGetTitleTagName=o.addEvent(),o.onGetQuestionNo=o.addEvent(),o.onProgressText=o.addEvent(),o.onTextMarkdown=o.addEvent(),o.onTextRenderAs=o.addEvent(),o.onSendResult=o.addEvent(),o.onGetResult=o.addEvent(),o.onOpenFileChooser=o.addEvent(),o.onUploadFiles=o.addEvent(),o.onDownloadFile=o.addEvent(),o.onClearFiles=o.addEvent(),o.onLoadChoicesFromServer=o.addEvent(),o.onLoadedSurveyFromService=o.addEvent(),o.onProcessTextValue=o.addEvent(),o.onUpdateQuestionCssClasses=o.addEvent(),o.onUpdatePanelCssClasses=o.addEvent(),o.onUpdatePageCssClasses=o.addEvent(),o.onUpdateChoiceItemCss=o.addEvent(),o.onAfterRenderSurvey=o.addEvent(),o.onAfterRenderHeader=o.addEvent(),o.onAfterRenderPage=o.addEvent(),o.onAfterRenderQuestion=o.addEvent(),o.onAfterRenderQuestionInput=o.addEvent(),o.onAfterRenderPanel=o.addEvent(),o.onFocusInQuestion=o.addEvent(),o.onFocusInPanel=o.addEvent(),o.onShowingChoiceItem=o.addEvent(),o.onChoicesLazyLoad=o.addEvent(),o.onChoicesSearch=o.addEvent(),o.onGetChoiceDisplayValue=o.addEvent(),o.onMatrixRowAdded=o.addEvent(),o.onMatrixRowAdding=o.addEvent(),o.onMatrixBeforeRowAdded=o.onMatrixRowAdding,o.onMatrixRowRemoving=o.addEvent(),o.onMatrixRowRemoved=o.addEvent(),o.onMatrixRenderRemoveButton=o.addEvent(),o.onMatrixAllowRemoveRow=o.onMatrixRenderRemoveButton,o.onMatrixDetailPanelVisibleChanged=o.addEvent(),o.onMatrixCellCreating=o.addEvent(),o.onMatrixCellCreated=o.addEvent(),o.onAfterRenderMatrixCell=o.addEvent(),o.onMatrixAfterCellRender=o.onAfterRenderMatrixCell,o.onMatrixCellValueChanged=o.addEvent(),o.onMatrixCellValueChanging=o.addEvent(),o.onMatrixCellValidate=o.addEvent(),o.onMatrixColumnAdded=o.addEvent(),o.onMultipleTextItemAdded=o.addEvent(),o.onDynamicPanelAdded=o.addEvent(),o.onDynamicPanelRemoved=o.addEvent(),o.onDynamicPanelRemoving=o.addEvent(),o.onTimer=o.addEvent(),o.onTimerPanelInfoText=o.addEvent(),o.onDynamicPanelItemValueChanged=o.addEvent(),o.onGetDynamicPanelTabTitle=o.addEvent(),o.onDynamicPanelCurrentIndexChanged=o.addEvent(),o.onIsAnswerCorrect=o.addEvent(),o.onDragDropAllow=o.addEvent(),o.onScrollingElementToTop=o.addEvent(),o.onLocaleChangedEvent=o.addEvent(),o.onGetQuestionTitleActions=o.addEvent(),o.onGetPanelTitleActions=o.addEvent(),o.onGetPageTitleActions=o.addEvent(),o.onGetPanelFooterActions=o.addEvent(),o.onGetMatrixRowActions=o.addEvent(),o.onElementContentVisibilityChanged=o.addEvent(),o.onGetExpressionDisplayValue=o.addEvent(),o.onPopupVisibleChanged=o.addEvent(),o.onOpenDropdownMenu=o.addEvent(),o.onElementWrapperComponentName=o.addEvent(),o.onElementWrapperComponentData=o.addEvent(),o.jsonErrors=null,o.cssValue=null,o.hideRequiredErrors=!1,o.cssVariables={},o._isMobile=!1,o._isCompact=!1,o._isDesignMode=!1,o.validationAllowSwitchPages=!1,o.validationAllowComplete=!1,o.isNavigationButtonPressed=!1,o.mouseDownPage=null,o.isCalculatingProgressText=!1,o.onResize=new it,o.isCurrentPageRendering=!0,o.isCurrentPageRendered=void 0,o.isTriggerIsRunning=!1,o.triggerValues=null,o.triggerKeys=null,o.conditionValues=null,o.isValueChangedOnRunningCondition=!1,o.conditionRunnerCounter=0,o.conditionUpdateVisibleIndexes=!1,o.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,o.isEndLoadingFromJson=null,o.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},o.needRenderIcons=!0,o.skippedPages=[],o.skeletonComponentName="sv-skeleton",o.taskManager=new cc,o.questionErrorComponent="sv-question-error",o.onBeforeRunConstructor();var s=function(p){return"<h3>"+p+"</h3>"};o.createHtmlLocString("completedHtml","completingSurvey",s),o.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",s,"completed-before"),o.createHtmlLocString("loadingHtml","loadingSurvey",s,"loading"),o.createLocalizableString("emptySurveyText",o,!0,"emptySurvey"),o.createLocalizableString("logo",o,!1),o.createLocalizableString("startSurveyText",o,!1,!0),o.createLocalizableString("pagePrevText",o,!1,!0),o.createLocalizableString("pageNextText",o,!1,!0),o.createLocalizableString("completeText",o,!1,!0),o.createLocalizableString("previewText",o,!1,!0),o.createLocalizableString("editText",o,!1,!0),o.createLocalizableString("questionTitleTemplate",o,!0),o.timerModelValue=new Ss(o),o.timerModelValue.onTimer=function(p){o.doTimer(p)},o.createNewArray("pages",function(p){o.doOnPageAdded(p)},function(p){o.doOnPageRemoved(p)}),o.createNewArray("triggers",function(p){p.setOwner(o)}),o.createNewArray("calculatedValues",function(p){p.setOwner(o)}),o.createNewArray("completedHtmlOnCondition",function(p){p.locOwner=o}),o.createNewArray("navigateToUrlOnCondition",function(p){p.locOwner=o}),o.registerPropertyChangedHandlers(["locale"],function(){o.onSurveyLocaleChanged()}),o.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){o.onFirstPageIsStartedChanged()}),o.registerPropertyChangedHandlers(["mode"],function(){o.onModeChanged()}),o.registerPropertyChangedHandlers(["progressBarType"],function(){o.updateProgressText()}),o.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){o.resetVisibleIndexes()}),o.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage","isShowingPreview"],function(){o.updateState()}),o.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){o.onStateAndCurrentPageChanged()}),o.registerPropertyChangedHandlers(["logo","logoPosition"],function(){o.updateHasLogo()}),o.registerPropertyChangedHandlers(["backgroundImage"],function(){o.updateRenderBackgroundImage()}),o.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){o.updateBackgroundImageStyle()}),o.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){o.updateButtonsVisibility()}),o.onGetQuestionNo.onCallbacksChanged=function(){o.resetVisibleIndexes()},o.onProgressText.onCallbacksChanged=function(){o.updateProgressText()},o.onTextMarkdown.onCallbacksChanged=function(){o.locStrsChanged()},o.onProcessHtml.onCallbacksChanged=function(){o.locStrsChanged()},o.onGetQuestionTitle.onCallbacksChanged=function(){o.locStrsChanged()},o.onUpdatePageCssClasses.onCallbacksChanged=function(){o.currentPage&&o.currentPage.updateElementCss()},o.onUpdatePanelCssClasses.onCallbacksChanged=function(){o.currentPage&&o.currentPage.updateElementCss()},o.onUpdateQuestionCssClasses.onCallbacksChanged=function(){o.currentPage&&o.currentPage.updateElementCss()},o.onShowingChoiceItem.onCallbacksChanged=function(){o.rebuildQuestionChoices()},o.navigationBarValue=o.createNavigationBar(),o.navigationBar.locOwner=o,o.onBeforeCreating(),e&&(("string"==typeof e||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(o.clientId=e.clientId),o.fromJSON(e),o.surveyId&&o.loadSurveyFromService(o.surveyId,o.clientId)),o.onCreating(),n&&o.render(n),o.updateCss(),o.setCalculatedWidthModeUpdater(),o.notifier=new Os(o.css.saveData),o.notifier.addAction(o.createTryAgainAction(),"error"),o.onPopupVisibleChanged.add(function(p,h){o.onScrollCallback=h.visible?function(){h.popup.hide()}:void 0}),o.progressBarValue=new Ls(o),o.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:o.timerModel}),o.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:o.progressBar,processResponsiveness:function(p){return o.progressBar.processResponsiveness&&o.progressBar.processResponsiveness(p)}}),o.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:o}),o.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:o}),o.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:o}),o.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:o});var u=new zt(o);return o.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:u,processResponsiveness:function(p){return u.updateStickyTOCSize(o.rootElement)}}),o.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:o.navigationBar}),o.locTitle.onStringChanged.add(function(){return o.titleIsEmpty=o.locTitle.isEmpty}),o}return vc(t,r),Object.defineProperty(t.prototype,"platformName",{get:function(){return t.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentSuffix",{get:function(){return I.commentSuffix},set:function(e){I.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(e){this.commentSuffix=e},enumerable:!1,configurable:!0}),t.prototype.processClosedPopup=function(e,n){throw new Error("Method not implemented.")},t.prototype.createTryAgainAction=function(){var e=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){e.isCompleted?e.saveDataOnComplete():e.doComplete()}}},t.prototype.createHtmlLocString=function(e,n,o,s){var u=this,p=this.createLocalizableString(e,this,!1,n);p.onGetLocalizationTextCallback=o,s&&(p.onGetTextCallback=function(h){return u.processHtml(h,s)})},t.prototype.getType=function(){return"survey"},t.prototype.onPropertyValueChanged=function(e,n,o){"questionsOnPageMode"===e&&this.onQuestionsOnPageModeChanged(n)},Object.defineProperty(t.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),t.prototype.render=function(e){void 0===e&&(e=null),this.renderCallback&&this.renderCallback()},t.prototype.updateSurvey=function(e,n){var o=function(){if("model"==u||"children"==u)return"continue";if(0==u.indexOf("on")&&s[u]&&s[u].add){var p=e[u];s[u].add(function(m,x){p(m,x)})}else s[u]=e[u]},s=this;for(var u in e)o();e&&e.data&&this.onValueChanged.add(function(p,h){e.data[h.name]=h.value})},t.prototype.getCss=function(){return this.css},t.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=(new A).append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=(new A).append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=(new A).append(this.css.body).append(this.css.bodyLoading).toString()},t.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(t.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,Te.getCss())),this.cssValue},set:function(e){this.setCss(e)},enumerable:!1,configurable:!0}),t.prototype.setCss=function(e,n){void 0===n&&(n=!0),n?this.mergeValues(e,this.css):this.cssValue=e,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssSurveyNavigationButton",{get:function(){return(new A).append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyCss",{get:function(){return(new A).append(this.css.body).append(this.css.bodyWithTimer,"none"!=this.showTimerPanel&&"running"===this.state).append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),t.prototype.insertAdvancedHeader=function(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:function(n){return e.processResponsiveness(n)}})},t.prototype.getNavigationCss=function(e,n){return(new A).append(e).append(n).toString()},Object.defineProperty(t.prototype,"lazyRendering",{get:function(){return!0===this.lazyRenderingValue},set:function(e){if(this.lazyRendering!==e){this.lazyRenderingValue=e;var n=this.currentPage;n&&n.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||I.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||I.lazyRender.firstBatchSize},set:function(e){this.lazyRenderingFirstBatchSizeValue=e},enumerable:!1,configurable:!0}),t.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var e=this.currentPage;e&&function du(r){var t=I.environment;if(t){var n=t.root.getElementById(r);if(n){var o=ei(n);o&&setTimeout(function(){return o.dispatchEvent(new CustomEvent("scroll"))},10)}}}(e.id)}},Object.defineProperty(t.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(e){this.setPropertyValue("triggers",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(e){this.setPropertyValue("calculatedValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(e){this.setPropertyValue("surveyId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(e){this.setPropertyValue("surveyPostId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(e){this.setPropertyValue("clientId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(e){this.setPropertyValue("cookieName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(e){this.setPropertyValue("sendResultOnPageNext",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(e){this.setPropertyValue("surveyShowDataSaving",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(e){this.setPropertyValue("focusFirstQuestionAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(e){this.setPropertyValue("focusOnFirstError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(e){(!0===e||void 0===e)&&(e="bottom"),!1===e&&(e="none"),this.setPropertyValue("showNavigationButtons",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(e){this.setPropertyValue("showPrevButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(e){this.setPropertyValue("showCompleteButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(e){this.setPropertyValue("showTOC",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(e){this.setPropertyValue("tocLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(e){this.setPropertyValue("showTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(e){this.setPropertyValue("showPageTitles",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(e){this.setPropertyValue("showCompletedPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(e){this.setPropertyValue("navigateToUrl",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(e){this.setPropertyValue("navigateToUrlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.getNavigateToUrl=function(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),n=e?e.url:this.navigateToUrl;return n&&(n=this.processText(n,!1)),n},t.prototype.navigateTo=function(){var n={url:this.getNavigateToUrl(),allow:!0};this.onNavigateToUrl.fire(this,n),n.url&&n.allow&&fu(n.url)},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(e){this.setPropertyValue("requiredText",e)},enumerable:!1,configurable:!0}),t.prototype.beforeSettingQuestionErrors=function(e,n){this.makeRequiredErrorsInvisible(n),this.onSettingQuestionErrors.fire(this,{question:e,errors:n})},t.prototype.beforeSettingPanelErrors=function(e,n){this.makeRequiredErrorsInvisible(n)},t.prototype.makeRequiredErrorsInvisible=function(e){if(this.hideRequiredErrors)for(var n=0;n<e.length;n++){var o=e[n].getErrorType();("required"==o||"requireoneanswer"==o)&&(e[n].visible=!1)}},Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(e){this.setPropertyValue("maxTextLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(e){this.setPropertyValue("maxOthersLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(e){this.setPropertyValue("goNextPageAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic")},set:function(e){this.setPropertyValue("allowCompleteSurveyAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(e){this.setPropertyValue("checkErrorsMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateVisitedEmptyFields",{get:function(){return this.getPropertyValue("validateVisitedEmptyFields")},set:function(e){this.setPropertyValue("validateVisitedEmptyFields",e)},enumerable:!1,configurable:!0}),t.prototype.getValidateVisitedEmptyFields=function(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange},Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(e){this.setPropertyValue("autoGrowComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(e){this.setPropertyValue("allowResizeComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.getPropertyValue("commentAreaRows")},set:function(e){this.setPropertyValue("commentAreaRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(e){!0===e&&(e="onComplete"),!1===e&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(e){void 0===e&&(e=!1);for(var n=0;n<this.pages.length;n++)this.pages[n].clearIncorrectValues();if(e){var o=this.data,s=!1;for(var u in o)if(!this.getQuestionByValueName(u)&&!this.iscorrectValueWithPostPrefix(u,I.commentSuffix)&&!this.iscorrectValueWithPostPrefix(u,I.matrix.totalsSuffix)){var p=this.getCalculatedValueByName(u);p&&p.includeIntoResult||(s=!0,delete o[u])}s&&(this.data=o)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n){return e.indexOf(n)===e.length-n.length&&!!this.getQuestionByValueName(e.substring(0,e.indexOf(n)))},Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||te.currentLocale},set:function(e){e===te.defaultLocale&&!te.currentLocale&&(e=""),this.setPropertyValue("locale",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},Object.defineProperty(t.prototype,"localeDir",{get:function(){return te.localeDirections[this.locale]},enumerable:!1,configurable:!0}),t.prototype.getUsedLocales=function(){var e=new Array;this.addUsedLocales(e);var n=e.indexOf("default");if(n>-1){var o=te.defaultLocale,s=e.indexOf(o);s>-1&&e.splice(s,1),n=e.indexOf("default"),e[n]=o}return e},t.prototype.localeChanged=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()},t.prototype.getLocale=function(){return this.locale},t.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(r.prototype.locStrsChanged.call(this),this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(s){return s.locStrsChanged()});else{var e=this.activePage;e&&e.locStrsChanged();for(var n=this.visiblePages,o=0;o<n.length;o++)n[o].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},t.prototype.getMarkdownHtml=function(e,n){return this.getSurveyMarkdownHtml(this,e,n)},t.prototype.getRenderer=function(e){return this.getRendererForString(this,e)},t.prototype.getRendererContext=function(e){return this.getRendererContextForString(this,e)},t.prototype.getRendererForString=function(e,n){var o=this.getBuiltInRendererForString(e,n),s={element:e,name:n,renderAs:o=this.elementWrapperComponentNameCore(o,e,"string",n)};return this.onTextRenderAs.fire(this,s),s.renderAs},t.prototype.getRendererContextForString=function(e,n){return this.elementWrapperDataCore(n,e,"string")},t.prototype.getExpressionDisplayValue=function(e,n,o){var s={question:e,value:n,displayValue:o};return this.onGetExpressionDisplayValue.fire(this,s),s.displayValue},t.prototype.getBuiltInRendererForString=function(e,n){if(this.isDesignMode)return ot.editableRenderer},t.prototype.getProcessedText=function(e){return this.processText(e,!0)},t.prototype.getLocString=function(e){return this.getLocalizationString(e)},t.prototype.getErrorCustomText=function(e,n){return this.getSurveyErrorCustomText(this,e,n)},t.prototype.getSurveyErrorCustomText=function(e,n,o){var s={text:n,name:o.getErrorType(),obj:e,error:o};return this.onErrorCustomText.fire(this,s),s.text},t.prototype.getQuestionDisplayValue=function(e,n){var o={question:e,displayValue:n};return this.onGetQuestionDisplayValue.fire(this,o),o.displayValue},Object.defineProperty(t.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(e){this.setLocalizableStringText("emptySurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(e){this.setLocalizableStringText("logo",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(e){this.setPropertyValue("logoWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?qt(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?K(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(e){this.setPropertyValue("logoHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?qt(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?K(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(e){this.setPropertyValue("logoPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&"none"!==this.logoPosition)},Object.defineProperty(t.prototype,"isLogoBefore",{get:function(){return!this.isDesignMode&&this.renderedHasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoClassNames",{get:function(){return(new A).append(this.css.logo).append({left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(e){this.setPropertyValue("logoFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),t.prototype.setIsMobile=function(e){void 0===e&&(e=!0),this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(function(n){return n.setIsMobile(e)}))},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompact",{get:function(){return this._isCompact},set:function(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),t.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(t.prototype,"titleMaxWidth",{get:function(){return function Xi(){return V.isAvailable()&&V.hasOwn("orientation")}()||this.isMobile||this.isValueEmpty(this.isLogoImageChoosen())||I.supportCreatorV2||"left"!==this.logoPosition&&"right"!==this.logoPosition?"":"calc(100% - 5px - 2em - "+this.logoWidth+")"},enumerable:!1,configurable:!0}),t.prototype.updateRenderBackgroundImage=function(){this.renderBackgroundImage=Ji(this.backgroundImage)},Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(e){this.setPropertyValue("backgroundOpacity",e)},enumerable:!1,configurable:!0}),t.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},t.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=(new A).append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!!this.backgroundImage&&"fixed"===this.backgroundImageAttachment).toString()},Object.defineProperty(t.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(e){this.setLocalizableStringText("completedHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(e){this.setPropertyValue("completedHtmlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.runExpression=function(e){if(!e)return null;var n=this.getFilteredValues(),o=this.getFilteredProperties();return new _t(e).run(n,o)},t.prototype.runCondition=function(e){if(!e)return!1;var n=this.getFilteredValues(),o=this.getFilteredProperties();return new Xe(e).run(n,o)},t.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(t.prototype,"renderedCompletedHtml",{get:function(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml},enumerable:!1,configurable:!0}),t.prototype.getExpressionItemOnRunCondition=function(e){if(0==e.length)return null;for(var n=this.getFilteredValues(),o=this.getFilteredProperties(),s=0;s<e.length;s++)if(e[s].runCondition(n,o))return e[s];return null},Object.defineProperty(t.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(e){this.setLocalizableStringText("completedBeforeHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(e){this.setLocalizableStringText("loadingHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),t.prototype.addNavigationItem=function(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)},Object.defineProperty(t.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(e){this.setLocalizableStringText("startSurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(e){this.setLocalizableStringText("pagePrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(e){this.setLocalizableStringText("pageNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(e){this.setLocalizableStringText("completeText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(e){this.setLocalizableStringText("previewText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(e){this.setLocalizableStringText("editText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),t.prototype.getElementTitleTagName=function(e,n){if(this.onGetTitleTagName.isEmpty)return n;var o={element:e,tagName:n};return this.onGetTitleTagName.fire(this,o),o.tagName},Object.defineProperty(t.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(e){"numRequireTitle"!==e&&"requireNumTitle"!==e&&"numTitle"!=e&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitlePatternOptions=function(){var e=new Array,n=this.getLocalizationString("questionTitlePatternText"),o=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:o+" "+n+" "+this.requiredText}),e.push({value:"numRequireTitle",text:o+" "+this.requiredText+" "+n}),e.push({value:"numTitle",text:o+" "+n}),e},Object.defineProperty(t.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(e,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),t.prototype.getNewTitlePattern=function(e){if(e){for(var n=[];e.indexOf("{")>-1;){var o=(e=e.substring(e.indexOf("{")+1)).indexOf("}");if(o<0)break;n.push(e.substring(0,o)),e=e.substring(o+1)}if(n.length>1){if("require"==n[0])return"requireNumTitle";if("require"==n[1]&&3==n.length)return"numRequireTitle";if(n.indexOf("require")<0)return"numTitle"}if(1==n.length&&"title"==n[0])return"numTitle"}return"numTitleRequire"},t.prototype.getNewQuestionTitleElement=function(e,n,o,s){if(n="{"+n+"}",!e||e.indexOf(n)<0)return o;for(var u=e.indexOf(n),p="",h="",m=u-1;m>=0&&"}"!=e[m];m--);for(m<u-1&&(p=e.substring(m+1,u)),m=u+=n.length;m<e.length&&"{"!=e[m];m++);for(m>u&&(h=e.substring(u,m)),m=0;m<p.length&&p.charCodeAt(m)<33;)m++;for(p=p.substring(m),m=h.length-1;m>=0&&h.charCodeAt(m)<33;)m--;return h=h.substring(0,m+1),p||h?p+(o||s)+h:o},Object.defineProperty(t.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),t.prototype.getUpdatedQuestionTitle=function(e,n){if(this.onGetQuestionTitle.isEmpty)return n;var o={question:e,title:n};return this.onGetQuestionTitle.fire(this,o),o.title},t.prototype.getUpdatedQuestionNo=function(e,n){if(this.onGetQuestionNo.isEmpty)return n;var o={question:e,no:n};return this.onGetQuestionNo.fire(this,o),o.no},Object.defineProperty(t.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){!0===e&&(e="on"),!1===e&&(e="off"),(e="onpage"===(e=e.toLowerCase())?"onPage":e)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(e){this.setPropertyValue("showProgressBar",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(e){"correctquestion"===e&&(e="correctQuestion"),"requiredquestion"===e&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarComponentName",{get:function(){var e=this.progressBarType;return!I.legacyProgressBarView&&"defaultV2"===Te.currentType&&St(e,"pages")&&(e="buttons"),"progress-"+e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&-1!==["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar||"topbottom"===this.showProgressBar)},enumerable:!1,configurable:!0}),t.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},t.prototype.getProgressCssClasses=function(e){return void 0===e&&(e=""),(new A).append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||"header"==e)).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||"footer"==e)).toString()},t.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.startedPage&&this.startedPage.updateElementCss(e);for(var n=this.visiblePages,o=0;o<n.length;o++)n[o].updateElementCss(e);this.updateCss()},Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(e){this.setPropertyValue("questionDescriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(e){(e=e.toLowerCase())!=this.mode&&("edit"!=e&&"display"!=e||this.setPropertyValue("mode",e))},enumerable:!1,configurable:!0}),t.prototype.onModeChanged=function(){for(var e=0;e<this.pages.length;e++){var n=this.pages[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(t.prototype,"data",{get:function(){for(var e={},n=this.getValuesKeys(),o=0;o<n.length;o++){var s=n[o],u=this.getDataValueCore(this.valuesHash,s);void 0!==u&&(e[s]=u)}return this.setCalculatedValuesIntoResult(e),e},set:function(e){this.valuesHash={},this.setDataCore(e,!e)},enumerable:!1,configurable:!0}),t.prototype.mergeData=function(e){if(e){var n=this.data;this.mergeValues(e,n),this.setDataCore(n)}},t.prototype.setDataCore=function(e,n){if(void 0===n&&(n=!1),n&&(this.valuesHash={}),e)for(var o in e){var s="string"==typeof o?o.trim():o;this.setDataValueCore(this.valuesHash,s,e[o])}this.updateAllQuestionsValue(n),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(n)},Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){var n=e||{includePages:!1,includePanels:!1};return n.includePages||n.includePanels?this.getStructuredData(!!n.includePages,n.includePanels?-1:n.includePages?1:0):this.data},t.prototype.getStructuredData=function(e,n){if(void 0===e&&(e=!0),void 0===n&&(n=-1),0===n)return this.data;var o={};return this.pages.forEach(function(s){if(e){var u={};s.collectValues(u,n-1)&&(o[s.name]=u)}else s.collectValues(o,n)}),o},t.prototype.setStructuredData=function(e,n){if(void 0===n&&(n=!1),e){var o={};for(var s in e)if(this.getQuestionByValueName(s))o[s]=e[s];else{var p=this.getPageByName(s);p||(p=this.getPanelByName(s)),p&&this.collectDataFromPanel(p,o,e[s])}n?this.mergeData(o):this.data=o}},t.prototype.collectDataFromPanel=function(e,n,o){for(var s in o){var u=e.getElementByName(s);u&&(u.isPanel?this.collectDataFromPanel(u,n,o[s]):n[s]=o[s])}},Object.defineProperty(t.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(e){var n=this;if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var o=this.getAllQuestions(),s=0;s<o.length;s++)o[s].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(u,p){M.hasOriginalProperty(n.editingObj,p.name)&&("locale"===p.name&&n.setDataCore({}),n.updateOnSetValue(p.name,n.editingObj[p.name],p.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),t.prototype.unConnectEditingObj=function(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},Object.defineProperty(t.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),t.prototype.setCalculatedValuesIntoResult=function(e){for(var n=0;n<this.calculatedValues.length;n++){var o=this.calculatedValues[n];o.includeIntoResult&&o.name&&void 0!==this.getVariable(o.name)&&(e[o.name]=this.getVariable(o.name))}},t.prototype.getAllValues=function(){return this.data},t.prototype.getPlainData=function(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var n=[],o=[];if(this.getAllQuestions().forEach(function(m){var x=m.getPlainData(e);x&&(n.push(x),o.push(m.valueName||m.name))}),e.includeValues)for(var s=this.getValuesKeys(),u=0;u<s.length;u++){var p=s[u];if(-1==o.indexOf(p)){var h=this.getDataValueCore(this.valuesHash,p);h&&n.push({name:p,title:p,value:h,displayValue:h,isNode:!1,getString:function(m){return"object"==typeof m?JSON.stringify(m):m}})}}return n},t.prototype.getFilteredValues=function(){var e={};for(var n in this.variablesHash)e[n]=this.variablesHash[n];this.addCalculatedValuesIntoFilteredValues(e);for(var o=this.getValuesKeys(),s=0;s<o.length;s++)e[n=o[s]]=this.getDataValueCore(this.valuesHash,n);return this.getAllQuestions().forEach(function(u){u.hasFilteredValue&&(e[u.getFilteredName()]=u.getFilteredValue())}),e},t.prototype.addCalculatedValuesIntoFilteredValues=function(e){for(var n=this.calculatedValues,o=0;o<n.length;o++)e[n[o].name]=n[o].value},t.prototype.getFilteredProperties=function(){return{survey:this}},t.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=M.getPropertiesByObj(this.editingObj),n=[],o=0;o<e.length;o++)n.push(e[o].name);return n},t.prototype.getDataValueCore=function(e,n){return this.editingObj?M.getObjPropertyValue(this.editingObj,n):this.getDataFromValueHash(e,n)},t.prototype.setDataValueCore=function(e,n,o){this.editingObj?M.setObjPropertyValue(this.editingObj,n,o):this.setDataToValueHash(e,n,o)},t.prototype.deleteDataValueCore=function(e,n){this.editingObj?this.editingObj[n]=null:this.deleteDataFromValueHash(e,n)},t.prototype.getDataFromValueHash=function(e,n){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,n):e[n]},t.prototype.setDataToValueHash=function(e,n,o){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,n,o):e[n]=o},t.prototype.deleteDataFromValueHash=function(e,n){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,n):delete e[n]},Object.defineProperty(t.prototype,"comments",{get:function(){for(var e={},n=this.getValuesKeys(),o=0;o<n.length;o++){var s=n[o];s.indexOf(this.commentSuffix)>0&&(e[s]=this.getDataValueCore(this.valuesHash,s))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var e=new Array,n=0;n<this.pages.length;n++)this.isPageInVisibleList(this.pages[n])&&e.push(this.pages[n]);return e},enumerable:!1,configurable:!0}),t.prototype.isPageInVisibleList=function(e){return this.isDesignMode||e.isVisible&&!e.isStartPage},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startedPage",{get:function(){var e=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return e&&(e.onFirstRendering(),e.setWasShown(!0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(e){if(!this.isLoadingFromJson){var n=this.getPageByObject(e);if((!e||n)&&(n||!this.isCurrentPageAvailable)&&!(null!=n&&this.visiblePages.indexOf(n)<0)&&n!=this.currentPage){var s=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(n,s)||(this.setPropertyValue("currentPage",n),n&&(n.onFirstRendering(),n.updateCustomWidgets(),n.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(n,s))}}},enumerable:!1,configurable:!0}),t.prototype.tryNavigateToPage=function(e){if(this.isDesignMode)return!1;var n=this.visiblePages.indexOf(e);if(n<0||n>=this.visiblePageCount||n===this.currentPageNo)return!1;if(n<this.currentPageNo||this.isValidateOnComplete)return this.currentPageNo=n,!0;for(var o=this.currentPageNo;o<n;o++){var s=this.visiblePages[o];if(!s.validate(!0,!0))return!1;s.passed=!0}return this.currentPage=e,!0},t.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(t.prototype,"isCurrentPageAvailable",{get:function(){var e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)},enumerable:!1,configurable:!0}),t.prototype.isPageExistsInSurvey=function(e){return this.pages.indexOf(e)>-1||!!this.onContainsPageCallback&&this.onContainsPageCallback(e)},Object.defineProperty(t.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowStartingPage",{get:function(){return"starting"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(e){this.setPropertyValue("matrixDragHandleArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPage",{get:function(){return"running"==this.state||"preview"==this.state||this.isShowStartingPage},enumerable:!1,configurable:!0}),t.prototype.updateActivePage=function(){var e=this.isShowStartingPage?this.startedPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)},t.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},t.prototype.getPageByObject=function(e){if(!e)return null;if(e.getType&&"page"==e.getType())return e;if("string"==typeof e||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var n=Number(e),o=this.visiblePages;return e<0||e>=o.length?null:o[n]}return e},Object.defineProperty(t.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(e){var n=this.visiblePages;e<0||e>=n.length||(this.currentPage=n[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}},t.prototype.scrollToTopOnPageChange=function(e){void 0===e&&(e=!0);var n=this.activePage;n&&(e&&n.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(n.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),t.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},t.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(e){this.setPropertyValue("isCompleted",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(e){this.setPropertyValue("isStartedState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(e){this.setPropertyValue("isCompletedBefore",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(e){this.setPropertyValue("isLoading",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),t.prototype.setCompletedState=function(e,n){this.setPropertyValue("completedState",e),n||("saving"==e&&(n=this.getLocalizationString("savingData")),"error"==e&&(n=this.getLocalizationString("savingDataError")),"success"==e&&(n=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",n),"completed"===this.state&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,"error"===e)},t.prototype.notify=function(e,n,o){void 0===o&&(o=!1),this.notifier.showActions=o,this.notifier.notify(e,n,o)},t.prototype.clear=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var o=0;o<this.pages.length;o++)this.pages[o].timeSpent=0,this.pages[o].setWasShown(!1),this.pages[o].passed=!1;this.onFirstPageIsStartedChanged(),n&&(this.currentPage=this.firstVisiblePage),e&&this.updateValuesWithDefaults()},t.prototype.mergeValues=function(e,n){Pt(e,n)},t.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var e=0;e<this.pages.length;e++)for(var n=this.pages[e].questions,o=0;o<n.length;o++)n[o].updateValueWithDefaults()},t.prototype.updateCustomWidgets=function(e){e&&e.updateCustomWidgets()},t.prototype.currentPageChanging=function(e,n){var o=this.createPageChangeEventOptions(e,n);o.allow=!0,o.allowChanging=!0,this.onCurrentPageChanging.fire(this,o);var s=o.allowChanging&&o.allow;return s&&(this.isCurrentPageRendering=!0),s},t.prototype.currentPageChanged=function(e,n){this.notifyQuestionsOnHidingContent(n);var o=this.createPageChangeEventOptions(e,n);n&&!n.passed&&n.validate(!1)&&(n.passed=!0),!0===this.isCurrentPageRendered&&(this.isCurrentPageRendered=!1),this.onCurrentPageChanged.fire(this,o)},t.prototype.notifyQuestionsOnHidingContent=function(e){e&&e.questions.forEach(function(n){return n.onHidingContent()})},t.prototype.createPageChangeEventOptions=function(e,n){var o=e&&n?e.visibleIndex-n.visibleIndex:0;return{oldCurrentPage:n,newCurrentPage:e,isNextPage:1===o,isPrevPage:-1===o,isGoingForward:o>0,isGoingBackward:o<0,isAfterPreview:!0===this.changeCurrentPageFromPreview}},t.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var e=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?e.requiredQuestionCount>=1?Math.ceil(100*e.requiredAnsweredQuestionCount/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(100*e.answeredQuestionCount/e.questionCount):100}var n=this.visiblePages,o=n.indexOf(this.currentPage);return Math.ceil(100*o/n.length)},Object.defineProperty(t.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var e=this.currentPage;return e?"show"===e.navigationButtonsVisibility?"none"===this.showNavigationButtons?"bottom":this.showNavigationButtons:"hide"===e.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),t.prototype.getIsNavigationButtonsShowingOn=function(e){var n=this.isNavigationButtonsShowing;return"both"==n||n==e},Object.defineProperty(t.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayMode",{get:function(){return"display"==this.mode&&!this.isDesignMode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),t.prototype.setDesignMode=function(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(t.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(e){var n=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(n))},enumerable:!1,configurable:!0}),t.prototype.updateAllElementsVisibility=function(e){for(var n=0;n<this.pages.length;n++){var o=this.pages[n];o.updateElementVisibility(),e.indexOf(o)>-1!=o.isVisible&&this.onPageVisibleChanged.fire(this,{page:o,visible:o.isVisible})}},Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAnyQuestionAnswered",{get:function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCookie",{get:function(){if(!this.cookieName)return!1;var e=k.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),t.prototype.setCookie=function(){this.cookieName&&k.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},t.prototype.deleteCookie=function(){this.cookieName&&k.setCookie(this.cookieName+"=;")},Object.defineProperty(t.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(e){this.validationEnabled=!e},enumerable:!1,configurable:!0}),t.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},t.prototype.hasErrorsOnNavigate=function(e){var n=this;if(!this.isEditMode||this.ignoreValidation)return!1;var o=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,s=function(u){(!u||o)&&n.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?!!this.isLastPage&&!0!==this.validate(!0,this.focusOnFirstError,s,!0)&&!o:!0!==this.validateCurrentPage(s)&&!o},t.prototype.checkForAsyncQuestionValidation=function(e,n){var o=this;this.clearAsyncValidationQuesitons();for(var s=function(){if(e[p].isRunningValidators){var h=e[p];h.onCompletedAsyncValidators=function(m){o.onCompletedAsyncQuestionValidators(h,n,m)},u.asyncValidationQuesitons.push(e[p])}},u=this,p=0;p<e.length;p++)s();return this.asyncValidationQuesitons.length>0},t.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,n=0;n<e.length;n++)e[n].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},t.prototype.onCompletedAsyncQuestionValidators=function(e,n,o){if(o){if(this.clearAsyncValidationQuesitons(),n(!0),this.focusOnFirstError&&e&&e.page&&e.page===this.currentPage){for(var s=this.currentPage.questions,u=0;u<s.length;u++)if(s[u]!==e&&s[u].errors.length>0)return;e.focus(!0)}}else{for(var p=this.asyncValidationQuesitons,h=0;h<p.length;h++)if(p[h].isRunningValidators)return;n(!1)}},Object.defineProperty(t.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),t.prototype.hasCurrentPageErrors=function(e){return this.hasPageErrors(void 0,e)},t.prototype.validateCurrentPage=function(e){return this.validatePage(void 0,e)},t.prototype.hasPageErrors=function(e,n){var o=this.validatePage(e,n);return void 0===o?o:!o},t.prototype.validatePage=function(e,n){return e||(e=this.activePage),!e||!this.checkIsPageHasErrors(e)&&(!n||!this.checkForAsyncQuestionValidation(e.questions,function(o){return n(o)})||void 0)},t.prototype.hasErrors=function(e,n,o){void 0===e&&(e=!0),void 0===n&&(n=!1);var s=this.validate(e,n,o);return void 0===s?s:!s},t.prototype.validate=function(e,n,o,s){void 0===e&&(e=!0),void 0===n&&(n=!1),o&&(e=!0);for(var u=this.visiblePages,p=!0,h={fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1},m=0;m<u.length;m++)u[m].validate(e,n,h)||(p=!1);return h.firstErrorQuestion&&(n||s)&&(n?h.firstErrorQuestion.focus(!0):this.currentPage=h.firstErrorQuestion.page),p&&o?!this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(x){return o(x)})||void 0:p},t.prototype.ensureUniqueNames=function(e){if(void 0===e&&(e=null),null==e)for(var n=0;n<this.pages.length;n++)this.ensureUniqueName(this.pages[n]);else this.ensureUniqueName(e)},t.prototype.ensureUniqueName=function(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var n=e.elements,o=0;o<n.length;o++)this.ensureUniqueNames(n[o]);else this.ensureUniqueQuestionName(e)},t.prototype.ensureUniquePageName=function(e){var n=this;return this.ensureUniqueElementName(e,function(o){return n.getPageByName(o)})},t.prototype.ensureUniquePanelName=function(e){var n=this;return this.ensureUniqueElementName(e,function(o){return n.getPanelByName(o)})},t.prototype.ensureUniqueQuestionName=function(e){var n=this;return this.ensureUniqueElementName(e,function(o){return n.getQuestionByName(o)})},t.prototype.ensureUniqueElementName=function(e,n){var o=n(e.name);if(o&&o!=e){for(var s=this.getNewName(e.name);n(s);)s=this.getNewName(e.name);e.name=s}},t.prototype.getNewName=function(e){for(var n=e.length;n>0&&e[n-1]>="0"&&e[n-1]<="9";)n--;var o=e.substring(0,n),s=0;return n<e.length&&(s=parseInt(e.substring(n))),o+ ++s},t.prototype.checkIsCurrentPageHasErrors=function(e){return void 0===e&&(e=void 0),this.checkIsPageHasErrors(this.activePage,e)},t.prototype.checkIsPageHasErrors=function(e,n){if(void 0===n&&(n=void 0),void 0===n&&(n=this.focusOnFirstError),!e)return!0;var o=!e.validate(!0,n);return this.fireValidatedErrorsOnPage(e),o},t.prototype.fireValidatedErrorsOnPage=function(e){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&e){for(var n=e.questions,o=new Array,s=new Array,u=0;u<n.length;u++){var p=n[u];if(p.errors.length>0){o.push(p);for(var h=0;h<p.errors.length;h++)s.push(p.errors[h])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:o,errors:s,page:e})}},t.prototype.prevPage=function(){var e=this;if(this.isFirstPage||"starting"===this.state)return!1;this.resetNavigationButton();var n=this.skippedPages.find(function(u){return u.to==e.currentPage});if(n)this.currentPage=n.from,this.skippedPages.splice(this.skippedPages.indexOf(n),1);else{var o=this.visiblePages,s=o.indexOf(this.currentPage);this.currentPage=o[s-1]}return!0},t.prototype.completeLastPage=function(){this.isValidateOnComplete&&this.cancelPreview();var e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e},t.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},t.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},t.prototype.nextPageUIClick=function(){if(!this.mouseDownPage||this.mouseDownPage===this.activePage)return this.mouseDownPage=null,this.nextPage()},t.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},t.prototype.showPreview=function(){return this.resetNavigationButton(),!(!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))||(this.showPreviewCore(),0))},t.prototype.showPreviewCore=function(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow},t.prototype.cancelPreview=function(e){void 0===e&&(e=null),this.isShowingPreview&&(this.gotoPageFromPreview=e,this.isShowingPreview=!1)},t.prototype.cancelPreviewByPage=function(e){this.cancelPreview(e.originalPage)},t.prototype.doCurrentPageComplete=function(e){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(e))&&this.doCurrentPageCompleteCore(e)},t.prototype.doCurrentPageCompleteCore=function(e){return!this.doServerValidation(e)&&(e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0))},Object.defineProperty(t.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(e){this.questionsOnPageMode=e?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(e){this.setPropertyValue("questionsOnPageMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(e){this.setPropertyValue("firstPageIsStarted",e)},enumerable:!1,configurable:!0}),t.prototype.isPageStarted=function(e){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===e},Object.defineProperty(t.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(e){this.setPropertyValue("showPreviewBeforeComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowPreviewBeforeComplete",{get:function(){var e=this.showPreviewBeforeComplete;return"showAllQuestions"==e||"showAnsweredQuestions"==e},enumerable:!1,configurable:!0}),t.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},t.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode)if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0,!1)):(this.runningPages&&this.restoreOriginalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var e=this.gotoPageFromPreview;this.gotoPageFromPreview=null,R.isValueEmpty(e)&&this.visiblePageCount>0&&(e=this.visiblePages[this.visiblePageCount-1]),e&&(this.changeCurrentPageFromPreview=!0,this.currentPage=e,this.changeCurrentPageFromPreview=!1)}},t.prototype.onQuestionsOnPageModeChanged=function(e,n){void 0===n&&(n=!1),!this.isShowingPreview&&("standard"==this.questionsOnPageMode||this.isDesignMode?(this.originalPages&&this.restoreOriginalPages(this.originalPages),this.originalPages=void 0):((!e||"standard"==e)&&(this.originalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage,n)),this.runConditions(),this.updateVisibleIndexes())},t.prototype.restoreOriginalPages=function(e){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var n=0;n<e.length;n++){var o=e[n];o.setWasShown(!1),this.pages.push(o)}},t.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},t.prototype.setupPagesForPageModes=function(e,n){var o=this;this.questionHashesClear(),this.firstPageIsStarted&&this.pages.length>0&&this.pages[0].questions.forEach(function(m){return o.questionHashesAdded(m)}),this.isLockingUpdateOnPageModes=!n;var s=this.getPageStartIndex();r.prototype.startLoadingFromJson.call(this);var u=this.createPagesForQuestionOnPageMode(e,s);this.pages.splice(s,this.pages.length-s);for(var h=0;h<u.length;h++)this.pages.push(u[h]);for(r.prototype.endLoadingFromJson.call(this),h=0;h<u.length;h++)u[h].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage(),this.isLockingUpdateOnPageModes=!1},t.prototype.createPagesForQuestionOnPageMode=function(e,n){return e?[this.createSinglePage(n)]:this.createPagesForEveryQuestion(n)},t.prototype.createSinglePage=function(e){var n=this.createNewPage("all");n.setSurveyImpl(this);for(var o=e;o<this.pages.length;o++){var s=this.pages[o],u=M.createClass("panel");u.originalPage=s,n.addPanel(u);var p=(new Oe).toJsonObject(s);(new Oe).toObject(p,u),this.showPageTitles||(u.title="")}return n},t.prototype.createPagesForEveryQuestion=function(e){for(var n=[],o=e;o<this.pages.length;o++){var s=this.pages[o];s.setWasShown(!0);for(var u=0;u<s.elements.length;u++){var p=s.elements[u],h=M.createClass(p.getType());if(h){var m=new Oe;m.lightSerializing=!0;var x=m.toJsonObject(s),T=M.createClass(s.getType());T.fromJSON(x),T.name=p.name,T.setSurveyImpl(this),n.push(T);var D=(new Oe).toJsonObject(p);T.addElement(h),(new Oe).toObject(D,h);for(var B=0;B<T.questions.length;B++)this.questionHashesAdded(T.questions[B])}}}return n},Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),t.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(t.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),t.prototype.updateIsFirstLastPageState=function(){var e=this.currentPage;this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage)},t.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||"running"!==this.state)return!1;var e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0},t.prototype.calcIsShowNextButton=function(){return"running"===this.state&&!this.isLastPage&&!this.canBeCompletedByTrigger},t.prototype.calcIsCompleteButtonVisible=function(){return this.isEditMode&&("running"===this.state&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||"preview"===this.state)&&this.showCompleteButton},t.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state&&this.isLastPage},t.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},Object.defineProperty(t.prototype,"firstVisiblePage",{get:function(){for(var e=this.pages,n=0;n<e.length;n++)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastVisiblePage",{get:function(){for(var e=this.pages,n=e.length-1;n>=0;n--)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),t.prototype.doComplete=function(e,n){if(void 0===e&&(e=!1),!this.isCompleted)return this.checkOnCompletingEvent(e,n)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,n),this.setCookie(),!0):(this.isCompleted=!1,!1)},t.prototype.saveDataOnComplete=function(e,n){var o=this;void 0===e&&(e=!1);var s=this.hasCookie,u=function(D){x=!0,o.setCompletedState("saving",D)},p=function(D){o.setCompletedState("error",D)},h=function(D){o.setCompletedState("success",D),o.navigateTo()},m=function(D){o.setCompletedState("","")},x=!1;this.onComplete.fire(this,{isCompleteOnTrigger:e,completeTrigger:n,showSaveInProgress:u,showSaveError:p,showSaveSuccess:h,clearSaveMessages:m,showDataSaving:u,showDataSavingError:p,showDataSavingSuccess:h,showDataSavingClear:m}),!s&&this.surveyPostId&&this.sendResult(),x||this.navigateTo()},t.prototype.checkOnCompletingEvent=function(e,n){var o={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:n};return this.onCompleting.fire(this,o),o.allowComplete&&o.allow},t.prototype.start=function(){return!(!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))||(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),0))},Object.defineProperty(t.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsValidatingOnServer=function(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())},t.prototype.createServerValidationOptions=function(e,n){var o=this,s={data:{},errors:{},survey:this,complete:function(){o.completeServerValidation(s,n)}};if(e&&this.isValidateOnComplete)s.data=this.data;else for(var u=this.activePage.questions,p=0;p<u.length;p++){var h=u[p];if(h.visible){var m=this.getValue(h.getValueName());this.isValueEmpty(m)||(s.data[h.getValueName()]=m)}}return s},t.prototype.onIsValidatingOnServerChanged=function(){},t.prototype.doServerValidation=function(e,n){var o=this;if(void 0===n&&(n=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var s="function"==typeof this.onServerValidateQuestions;return this.serverValidationEventCount=s?1:this.onServerValidateQuestions.length,s?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,n)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return o.createServerValidationOptions(e,n)}),!0},t.prototype.completeServerValidation=function(e,n){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&0===Object.keys(e.errors).length))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),e||e.survey)){var o=e.survey,s=!1;if(e.errors){var u=this.focusOnFirstError;for(var p in e.errors){var h=o.getQuestionByName(p);h&&h.errors&&(s=!0,h.addError(new tt(e.errors[p],this)),u&&(u=!1,h.page&&(this.currentPage=h.page),h.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}s||(n?this.showPreviewCore():o.isLastPage?o.doComplete():o.doNextPage())}},t.prototype.doNextPage=function(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),e===this.currentPage){var n=this.visiblePages,o=n.indexOf(this.currentPage);this.currentPage=n[o+1]}},t.prototype.setCompleted=function(e){this.doComplete(!0,e)},t.prototype.canBeCompleted=function(e,n){var o;if(I.triggers.changeNavigationButtonsOnComplete){var s=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),n?this.completedByTriggers[e.id]={trigger:e,pageId:null===(o=this.currentPage)||void 0===o?void 0:o.id}:delete this.completedByTriggers[e.id],s!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(t.prototype,"canBeCompletedByTrigger",{get:function(){var e;if(!this.completedByTriggers)return!1;var n=Object.keys(this.completedByTriggers);if(0===n.length)return!1;var o=null===(e=this.currentPage)||void 0===e?void 0:e.id;if(!o)return!0;for(var s=0;s<n.length;s++)if(o===this.completedByTriggers[n[s]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedHtml",{get:function(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getProgressInfo=function(){return We.getProgressInfoByElements(this.isDesignMode?this.pages:this.visiblePages,!1)},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.getPropertyValue("progressText","");return e||(this.updateProgressText(),e=this.getPropertyValue("progressText","")),e},enumerable:!1,configurable:!0}),t.prototype.updateProgressText=function(e){void 0===e&&(e=!1),!(this.isCalculatingProgressText||this.isShowingPreview||this.isLockingUpdateOnPageModes)&&(e&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},t.prototype.getProgressText=function(){if(!this.isDesignMode&&null==this.currentPage)return"";var e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},n=this.progressBarType.toLowerCase();if("questions"===n||"requiredquestions"===n||"correctquestions"===n||!this.onProgressText.isEmpty){var o=this.getProgressInfo();e.questionCount=o.questionCount,e.answeredQuestionCount=o.answeredQuestionCount,e.requiredQuestionCount=o.requiredQuestionCount,e.requiredAnsweredQuestionCount=o.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onProgressText.fire(this,e),e.text},t.prototype.getProgressTextCore=function(e){var n=this.progressBarType.toLowerCase();if("questions"===n)return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if("requiredquestions"===n)return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if("correctquestions"===n){var o=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",o,e.questionCount)}var s=this.isDesignMode?this.pages:this.visiblePages,u=s.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",u,s.length)},t.prototype.getRootCss=function(){return(new A).append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!I.animationEnabled).append(this.css.rootReadOnly,"display"===this.mode&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},t.prototype.afterRenderSurvey=function(e){var n=this;this.destroyResizeObserver(),Array.isArray(e)&&(e=We.GetFirstNonTextElement(e));var o=e,s=this.css.variables;if(s){var u=Number.parseFloat(k.getComputedStyle(o).getPropertyValue(s.mobileWidth));if(u){var p=!1;this.resizeObserver=new ResizeObserver(function(h){V.requestAnimationFrame(function(){p=!(p||!to(o))&&n.processResponsiveness(o.offsetWidth,u,o.offsetHeight)})}),this.resizeObserver.observe(o)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.addScrollEventListener()},t.prototype.processResponsiveness=function(e,n,o){var s=e<n,u=this.isMobile!==s;return this.setIsMobile(s),this.layoutElements.forEach(function(h){return h.processResponsiveness&&h.processResponsiveness(e)}),this.onResize.fire(this,{height:o,width:e}),u},t.prototype.triggerResponsiveness=function(e){this.getAllQuestions().forEach(function(n){n.triggerResponsiveness(e)})},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},t.prototype.updateQuestionCssClasses=function(e,n){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:n})},t.prototype.updatePanelCssClasses=function(e,n){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:n})},t.prototype.updatePageCssClasses=function(e,n){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:n})},t.prototype.updateChoiceItemCss=function(e,n){n.question=e,this.onUpdateChoiceItemCss.fire(this,n)},t.prototype.afterRenderPage=function(e){var n=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var o=!1===this.isCurrentPageRendered;setTimeout(function(){return n.scrollToTopOnPageChange(o)},1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})},t.prototype.afterRenderHeader=function(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})},t.prototype.afterRenderQuestion=function(e,n){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:n})},t.prototype.afterRenderQuestionInput=function(e,n){if(!this.onAfterRenderQuestionInput.isEmpty){var o=e.inputId,s=I.environment.root;if(o&&n.id!==o&&typeof s<"u"){var u=s.getElementById(o);u&&(n=u)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:n})}},t.prototype.afterRenderPanel=function(e,n){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:n})},t.prototype.whenQuestionFocusIn=function(e){this.onFocusInQuestion.fire(this,{question:e})},t.prototype.whenPanelFocusIn=function(e){this.onFocusInPanel.fire(this,{panel:e})},t.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(e){return e.surveyChoiceItemVisibilityChange()})},t.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},t.prototype.getChoiceItemVisibility=function(e,n,o){var s={question:e,item:n,visible:o};return this.onShowingChoiceItem.fire(this,s),s.visible},t.prototype.loadQuestionChoices=function(e){this.onChoicesLazyLoad.fire(this,e)},t.prototype.getChoiceDisplayValue=function(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)},t.prototype.matrixBeforeRowAdded=function(e){this.onMatrixRowAdding.fire(this,e)},t.prototype.matrixRowAdded=function(e,n){this.onMatrixRowAdded.fire(this,{question:e,row:n})},t.prototype.matrixColumnAdded=function(e,n){this.onMatrixColumnAdded.fire(this,{question:e,column:n})},t.prototype.multipleTextItemAdded=function(e,n){this.onMultipleTextItemAdded.fire(this,{question:e,item:n})},t.prototype.getQuestionByValueNameFromArray=function(e,n,o){var s=this.getQuestionsByValueName(e);if(s){for(var u=0;u<s.length;u++){var p=s[u].getQuestionFromArray(n,o);if(p)return p}return null}},t.prototype.matrixRowRemoved=function(e,n,o){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:n,row:o})},t.prototype.matrixRowRemoving=function(e,n,o){var s={question:e,rowIndex:n,row:o,allow:!0};return this.onMatrixRowRemoving.fire(this,s),s.allow},t.prototype.matrixAllowRemoveRow=function(e,n,o){var s={question:e,rowIndex:n,row:o,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,s),s.allow},t.prototype.matrixDetailPanelVisibleChanged=function(e,n,o,s){this.onMatrixDetailPanelVisibleChanged.fire(this,{question:e,rowIndex:n,row:o,visible:s,detailPanel:o.detailPanel})},t.prototype.matrixCellCreating=function(e,n){n.question=e,this.onMatrixCellCreating.fire(this,n)},t.prototype.matrixCellCreated=function(e,n){n.question=e,this.onMatrixCellCreated.fire(this,n)},t.prototype.matrixAfterCellRender=function(e,n){n.question=e,this.onAfterRenderMatrixCell.fire(this,n)},t.prototype.matrixCellValueChanged=function(e,n){n.question=e,this.onMatrixCellValueChanged.fire(this,n)},t.prototype.matrixCellValueChanging=function(e,n){n.question=e,this.onMatrixCellValueChanging.fire(this,n)},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChanged",{get:function(){return"onValueChanged"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChange",{get:function(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnComplete",{get:function(){return"onComplete"===this.checkErrorsMode||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),t.prototype.matrixCellValidate=function(e,n){return n.question=e,this.onMatrixCellValidate.fire(this,n),n.error?new tt(n.error,this):null},t.prototype.dynamicPanelAdded=function(e,n,o){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var s=e.panels;void 0===n&&(o=s[n=s.length-1]),this.onDynamicPanelAdded.fire(this,{question:e,panel:o,panelIndex:n})}},t.prototype.dynamicPanelRemoved=function(e,n,o){for(var s=o?o.questions:[],u=0;u<s.length;u++)s[u].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:n,panel:o})},t.prototype.dynamicPanelRemoving=function(e,n,o){var s={question:e,panelIndex:n,panel:o,allow:!0};return this.onDynamicPanelRemoving.fire(this,s),s.allow},t.prototype.dynamicPanelItemValueChanged=function(e,n){n.question=e,n.panelIndex=n.itemIndex,n.panelData=n.itemValue,this.onDynamicPanelItemValueChanged.fire(this,n)},t.prototype.dynamicPanelGetTabTitle=function(e,n){n.question=e,this.onGetDynamicPanelTabTitle.fire(this,n)},t.prototype.dynamicPanelCurrentIndexChanged=function(e,n){n.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,n)},t.prototype.dragAndDropAllow=function(e){return this.onDragDropAllow.fire(this,e),e.allow},t.prototype.elementContentVisibilityChanged=function(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})},t.prototype.getUpdatedPanelFooterActions=function(e,n,o){var s={question:o,panel:e,actions:n};return this.onGetPanelFooterActions.fire(this,s),s.actions},t.prototype.getUpdatedElementTitleActions=function(e,n){return e.isPage?this.getUpdatedPageTitleActions(e,n):e.isPanel?this.getUpdatedPanelTitleActions(e,n):this.getUpdatedQuestionTitleActions(e,n)},t.prototype.getUpdatedQuestionTitleActions=function(e,n){var o={question:e,titleActions:n};return this.onGetQuestionTitleActions.fire(this,o),o.titleActions},t.prototype.getUpdatedPanelTitleActions=function(e,n){var o={panel:e,titleActions:n};return this.onGetPanelTitleActions.fire(this,o),o.titleActions},t.prototype.getUpdatedPageTitleActions=function(e,n){var o={page:e,titleActions:n};return this.onGetPageTitleActions.fire(this,o),o.titleActions},t.prototype.getUpdatedMatrixRowActions=function(e,n,o){var s={question:e,actions:o,row:n};return this.onGetMatrixRowActions.fire(this,s),s.actions},t.prototype.scrollElementToTop=function(e,n,o,s,u,p){var h={element:e,question:n,page:o,elementId:s,cancel:!1};this.onScrollingElementToTop.fire(this,h),h.cancel||We.ScrollElementToTop(h.elementId,u,p)},t.prototype.chooseFiles=function(e,n,o){this.onOpenFileChooser.isEmpty?Jr(e,n):this.onOpenFileChooser.fire(this,{input:e,element:o&&o.element||this.survey,elementType:o&&o.elementType,item:o&&o.item,propertyName:o&&o.propertyName,callback:n,context:o})},t.prototype.uploadFiles=function(e,n,o,s){var u=this;this.onUploadFiles.isEmpty?s("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(p){u.onUploadFiles.fire(u,{question:e,name:n,files:o||[],callback:function(h,m){s(h,m),p()}})}),this.surveyPostId&&this.uploadFilesCore(n,o,s)},t.prototype.downloadFile=function(e,n,o,s){this.onDownloadFile.isEmpty&&s&&s("skipped",o.content||o),this.onDownloadFile.fire(this,{question:e,name:n,content:o.content||o,fileValue:o,callback:s})},t.prototype.clearFiles=function(e,n,o,s,u){this.onClearFiles.isEmpty&&u&&u("success",o),this.onClearFiles.fire(this,{question:e,name:n,value:o,fileName:s,callback:u})},t.prototype.updateChoicesFromServer=function(e,n,o){var s={question:e,choices:n,serverResult:o};return this.onLoadChoicesFromServer.fire(this,s),s.choices},t.prototype.loadedChoicesFromServer=function(e){this.locStrsChanged()},t.prototype.createSurveyService=function(){return new wo},t.prototype.uploadFilesCore=function(e,n,o){var s=this,u=[];n.forEach(function(p){o&&o("uploading",p),s.createSurveyService().sendFile(s.surveyPostId,p,function(h,m){h?(u.push({content:m,file:p}),u.length===n.length&&o&&o("success",u)):o&&o("error",{response:m,file:p})})})},t.prototype.getPage=function(e){return this.pages[e]},t.prototype.addPage=function(e,n){void 0===n&&(n=-1),null!=e&&(n<0||n>=this.pages.length?this.pages.push(e):this.pages.splice(n,0,e))},t.prototype.addNewPage=function(e,n){void 0===e&&(e=null),void 0===n&&(n=-1);var o=this.createNewPage(e);return this.addPage(o,n),o},t.prototype.removePage=function(e){var n=this.pages.indexOf(e);n<0||(this.pages.splice(n,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},t.prototype.getQuestionByName=function(e,n){if(void 0===n&&(n=!1),!e)return null;n&&(e=e.toLowerCase());var s=(n?this.questionHashes.namesInsensitive:this.questionHashes.names)[e];return s?s[0]:null},t.prototype.findQuestionByName=function(e){return this.getQuestionByName(e)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getQuestionByValueName=function(e,n){void 0===n&&(n=!1);var o=this.getQuestionsByValueName(e,n);return o?o[0]:null},t.prototype.getQuestionsByValueName=function(e,n){return void 0===n&&(n=!1),(n?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[e]||null},t.prototype.getCalculatedValueByName=function(e){for(var n=0;n<this.calculatedValues.length;n++)if(e==this.calculatedValues[n].name)return this.calculatedValues[n];return null},t.prototype.getQuestionsByNames=function(e,n){void 0===n&&(n=!1);var o=[];if(!e)return o;for(var s=0;s<e.length;s++)if(e[s]){var u=this.getQuestionByName(e[s],n);u&&o.push(u)}return o},t.prototype.getPageByElement=function(e){for(var n=0;n<this.pages.length;n++){var o=this.pages[n];if(o.containsElement(e))return o}return null},t.prototype.getPageByQuestion=function(e){return this.getPageByElement(e)},t.prototype.getPageByName=function(e){for(var n=0;n<this.pages.length;n++)if(this.pages[n].name==e)return this.pages[n];return null},t.prototype.getPagesByNames=function(e){var n=[];if(!e)return n;for(var o=0;o<e.length;o++)if(e[o]){var s=this.getPageByName(e[o]);s&&n.push(s)}return n},t.prototype.getAllQuestions=function(e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),o&&(n=!1);for(var s=[],u=0;u<this.pages.length;u++)this.pages[u].addQuestionsToList(s,e,n);if(!o)return s;var p=[];return s.forEach(function(h){p.push(h),h.getNestedQuestions(e).forEach(function(m){return p.push(m)})}),p},t.prototype.getQuizQuestions=function(){for(var e=new Array,o=this.getPageStartIndex();o<this.pages.length;o++)if(this.pages[o].isVisible)for(var s=this.pages[o].questions,u=0;u<s.length;u++){var p=s[u];p.quizQuestionCount>0&&e.push(p)}return e},t.prototype.getPanelByName=function(e,n){void 0===n&&(n=!1);var o=this.getAllPanels();n&&(e=e.toLowerCase());for(var s=0;s<o.length;s++){var u=o[s].name;if(n&&(u=u.toLowerCase()),u==e)return o[s]}return null},t.prototype.getAllPanels=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);for(var o=new Array,s=0;s<this.pages.length;s++)this.pages[s].addPanelsIntoList(o,e,n);return o},t.prototype.createNewPage=function(e){var n=M.createClass("page");return n.name=e,n},t.prototype.questionOnValueChanging=function(e,n,o){if(this.editingObj){var s=M.findProperty(this.editingObj.getType(),e);s&&(n=s.settingValue(this.editingObj,n))}if(this.onValueChanging.isEmpty)return n;var u={name:e,question:this.getQuestionByValueName(o||e),value:this.getUnbindValue(n),oldValue:this.getValue(e)};return this.onValueChanging.fire(this,u),u.value},t.prototype.updateQuestionValue=function(e,n){if(!this.isLoadingFromJson){var o=this.getQuestionsByValueName(e);if(o)for(var s=0;s<o.length;s++){var u=o[s].value;(u===n&&Array.isArray(u)&&this.editingObj||!this.isTwoValueEquals(u,n))&&o[s].updateValueFromSurvey(n,!1)}}},t.prototype.checkQuestionErrorOnValueChanged=function(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)},t.prototype.checkQuestionErrorOnValueChangedCore=function(e){var n=e.getAllErrors().length,o=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(n>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),o},t.prototype.checkErrorsOnValueChanging=function(e,n){if(this.isLoadingFromJson)return!1;var o=this.getQuestionsByValueName(e);if(!o)return!1;for(var s=!1,u=0;u<o.length;u++){var p=o[u];this.isTwoValueEquals(p.valueForSurvey,n)||(p.value=n),this.checkQuestionErrorOnValueChangedCore(p)&&(s=!0),s=s||p.errors.length>0}return s},t.prototype.notifyQuestionOnValueChanged=function(e,n,o){if(!this.isLoadingFromJson){var s=this.getQuestionsByValueName(e);if(s)for(var u=0;u<s.length;u++){var p=s[u];this.checkQuestionErrorOnValueChanged(p),p.onSurveyValueChanged(n),this.onValueChanged.fire(this,{name:e,question:p,value:n})}else this.onValueChanged.fire(this,{name:e,question:null,value:n});this.isDisposed||(this.checkElementsBindings(e,n),this.notifyElementsOnAnyValueOrVariableChanged(e,o))}},t.prototype.checkElementsBindings=function(e,n){this.isRunningElementsBindings=!0;for(var o=0;o<this.pages.length;o++)this.pages[o].checkBindings(e,n);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},t.prototype.notifyElementsOnAnyValueOrVariableChanged=function(e,n){if("processing"!==this.isEndLoadingFromJson){if(this.isRunningConditions)return void(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0);for(var o=0;o<this.pages.length;o++)this.pages[o].onAnyValueChanged(e,n);this.isEndLoadingFromJson||this.locStrsChanged()}},t.prototype.updateAllQuestionsValue=function(e){for(var n=this.getAllQuestions(),o=0;o<n.length;o++){var s=n[o],u=s.getValueName();s.updateValueFromSurvey(this.getValue(u),e),s.requireUpdateCommentValue&&s.updateCommentFromSurvey(this.getComment(u))}},t.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].onSurveyValueChanged(this.getValue(e[n].getValueName()))},t.prototype.checkOnPageTriggers=function(e){for(var n=this.getCurrentPageQuestions(!0),o={},s=0;s<n.length;s++){var p=n[s].getValueName();o[p]=this.getValue(p)}this.addCalculatedValuesIntoFilteredValues(o),this.checkTriggers(o,!0,e)},t.prototype.getCurrentPageQuestions=function(e){void 0===e&&(e=!1);var n=[],o=this.currentPage;if(!o)return n;for(var s=0;s<o.questions.length;s++){var u=o.questions[s];!e&&!u.visible||!u.name||n.push(u)}return n},t.prototype.checkTriggers=function(e,n,o,s){if(void 0===o&&(o=!1),!this.isCompleted&&0!=this.triggers.length&&!this.isDisplayMode){if(this.isTriggerIsRunning){for(var u in this.triggerValues=this.getFilteredValues(),e)this.triggerKeys[u]=e[u];return}var p=!1;if(!o&&s&&this.hasRequiredValidQuestionTrigger){var h=this.getQuestionByValueName(s);p=h&&!h.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();for(var m=this.getFilteredProperties(),x=this.canBeCompletedByTrigger,T=0;T<this.triggers.length;T++){var D=this.triggers[T];p&&D.requireValidQuestion||D.checkExpression(n,o,this.triggerKeys,this.triggerValues,m)}x!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},t.prototype.checkTriggersAndRunConditions=function(e,n,o){var s={};s[e]={newValue:n,oldValue:o},this.runConditionOnValueChanged(e,n),this.checkTriggers(s,!1,!1,e)},Object.defineProperty(t.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.doElementsOnLoad=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()},Object.defineProperty(t.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),t.prototype.runExpressions=function(){this.runConditions()},t.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),n=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(n),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<I.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},t.prototype.runConditionOnValueChanged=function(e,n){this.isRunningConditions?(this.conditionValues[e]=n,this.isValueChangedOnRunningCondition=!0):(this.runConditions(),this.runQuestionsTriggers(e,n))},t.prototype.runConditionsCore=function(e){for(var n=this.pages,o=0;o<this.calculatedValues.length;o++)this.calculatedValues[o].resetCalculation();for(o=0;o<this.calculatedValues.length;o++)this.calculatedValues[o].doCalculation(this.calculatedValues,this.conditionValues,e);r.prototype.runConditionCore.call(this,this.conditionValues,e);for(var s=0;s<n.length;s++)n[s].runCondition(this.conditionValues,e)},t.prototype.runQuestionsTriggers=function(e,n){this.isDisplayMode||this.isDesignMode||this.getAllQuestions().forEach(function(s){return s.runTriggers(e,n)})},t.prototype.checkIfNewPagesBecomeVisible=function(e){var n=this.pages.indexOf(this.currentPage);if(!(n<=e+1))for(var o=e+1;o<n;o++)if(this.pages[o].isVisible){this.currentPage=this.pages[o];break}},t.prototype.sendResult=function(e,n,o){var s=this;if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=!1),this.isEditMode&&(o&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(n&&(this.clientId=n),!o||this.clientId))){var u=this.createSurveyService();u.locale=this.getLocale();var p=this.surveyShowDataSaving||!o&&u.isSurveJSIOService;p&&this.setCompletedState("saving",""),u.sendResult(e,this.data,function(h,m,x){(p||u.isSurveJSIOService)&&(h?s.setCompletedState("success",""):s.setCompletedState("error",m)),s.onSendResult.fire(s,{success:h,response:m,request:x})},this.clientId,o)}},t.prototype.getResult=function(e,n){var o=this;this.createSurveyService().getResult(e,n,function(s,u,p,h){o.onGetResult.fire(o,{success:s,data:u,dataList:p,response:h})})},t.prototype.loadSurveyFromService=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null),e&&(this.surveyId=e),n&&(this.clientId=n);var o=this;this.isLoading=!0,this.onLoadingSurveyFromService(),n?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(s,u,p,h){s&&(o.isCompletedBefore="completed"==p,o.loadSurveyFromServiceJson(u)),o.isLoading=!1}):this.createSurveyService().loadSurvey(this.surveyId,function(s,u,p){s&&o.loadSurveyFromServiceJson(u),o.isLoading=!1})},t.prototype.loadSurveyFromServiceJson=function(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},t.prototype.onLoadingSurveyFromService=function(){},t.prototype.onLoadSurveyFromService=function(){},t.prototype.resetVisibleIndexes=function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)e[n].setVisibleIndex(-1);this.updateVisibleIndexes()},t.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson||this.isLockingUpdateOnPageModes)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty)return void(this.conditionUpdateVisibleIndexes=!0);if(this.isRunningElementsBindings)return void(this.updateVisibleIndexAfterBindings=!0);if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var e=this.visiblePages,n=0;n<e.length;n++)e[n].setVisibleIndex(0);else{var o="on"==this.showQuestionNumbers?0:-1;for(n=0;n<this.pages.length;n++)o+=this.pages[n].setVisibleIndex(o)}this.updateProgressText(!0)}},t.prototype.updatePageVisibleIndexes=function(e){this.updateButtonsVisibility();for(var n=0,o=0;o<this.pages.length;o++){var s=this.pages[o],u=s.isVisible&&(o>0||!s.isStartPage);s.visibleIndex=u?n++:-1,s.num=u?s.visibleIndex+1:-1}},t.prototype.fromJSON=function(e,n){if(e){this.questionHashesClear(),this.jsonErrors=null;var o=new Oe;o.toObject(e,this,n),o.errors.length>0&&(this.jsonErrors=o.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},t.prototype.startLoadingFromJson=function(e){r.prototype.startLoadingFromJson.call(this,e),e&&e.locale&&(this.locale=e.locale)},t.prototype.setJsonObject=function(e){this.fromJSON(e)},t.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard",!0),r.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.titleIsEmpty=this.locTitle.isEmpty,this.setCalculatedWidthModeUpdater()},t.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},t.prototype.updateNavigationBarCss=function(){var e=this.navigationBar;e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer},t.prototype.createNavigationBar=function(){var e=new ut;return e.setItems(this.createNavigationActions()),e},t.prototype.createNavigationActions=function(){var e=this,n="sv-nav-btn",o=new de({id:"sv-nav-start",visible:new we(function(){return e.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return e.start()},component:n}),s=new de({id:"sv-nav-prev",visible:new we(function(){return e.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return e.prevPage()},component:n}),u=new de({id:"sv-nav-next",visible:new we(function(){return e.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return e.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return e.nextPageUIClick()},component:n}),p=new de({id:"sv-nav-preview",visible:new we(function(){return e.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return e.showPreview()},component:n}),h=new de({id:"sv-nav-complete",visible:new we(function(){return e.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return e.taskManager.waitAndExecute(function(){return e.completeLastPage()})},component:n});return this.updateNavigationItemCssCallback=function(){o.innerCss=e.cssNavigationStart,s.innerCss=e.cssNavigationPrev,u.innerCss=e.cssNavigationNext,p.innerCss=e.cssNavigationPreview,h.innerCss=e.cssNavigationComplete},[o,s,u,p,h]},t.prototype.onBeforeRunConstructor=function(){},t.prototype.onBeforeCreating=function(){},t.prototype.onCreating=function(){},t.prototype.getProcessedTextValue=function(e){if(this.getProcessedTextValueCore(e),!this.onProcessTextValue.isEmpty){var n=this.isValueEmpty(e.value);this.onProcessTextValue.fire(this,e),e.isExists=e.isExists||n&&!this.isValueEmpty(e.value)}},t.prototype.getBuiltInVariableValue=function(e){if("pageno"===e){var n=this.currentPage;return null!=n?this.visiblePages.indexOf(n)+1:0}return"pagecount"===e?this.visiblePageCount:"correctedanswers"===e||"correctanswers"===e||"correctedanswercount"===e?this.getCorrectedAnswerCount():"incorrectedanswers"===e||"incorrectanswers"===e||"incorrectedanswercount"===e?this.getInCorrectedAnswerCount():"questioncount"===e?this.getQuizQuestionCount():void 0},t.prototype.getProcessedTextValueCore=function(e){var n=e.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(n)){var o=this.getBuiltInVariableValue(n);if(void 0!==o)return e.isExists=!0,void(e.value=o);if("locale"===n)return e.isExists=!0,void(e.value=this.locale?this.locale:te.defaultLocale);var s=this.getVariable(n);if(void 0!==s)return e.isExists=!0,void(e.value=s);var u=this.getFirstName(n);if(u){var p=u.useDisplayValuesInDynamicTexts;e.isExists=!0;var h=u.getValueName().toLowerCase();n=(n=h+n.substring(h.length)).toLocaleLowerCase();var m={};return m[h]=e.returnDisplayValue&&p?u.getDisplayValue(!1,void 0):u.value,void(e.value=(new He).getValue(n,m))}this.getProcessedValuesWithoutQuestion(e)}},t.prototype.getProcessedValuesWithoutQuestion=function(e){var n=this.getValue(e.name);if(void 0!==n)return e.isExists=!0,void(e.value=n);var o=new He,s=o.getFirstName(e.name);if(s!==e.name){var u={},p=this.getValue(s);R.isValueEmpty(p)&&(p=this.getVariable(s)),!R.isValueEmpty(p)&&(u[s]=p,e.value=o.getValue(e.name,u),e.isExists=o.hasValue(e.name,u))}},t.prototype.getFirstName=function(e){var n;e=e.toLowerCase();do{n=this.getQuestionByValueName(e,!0),e=this.reduceFirstName(e)}while(!n&&e);return n},t.prototype.reduceFirstName=function(e){var n=e.lastIndexOf("."),o=e.lastIndexOf("[");if(n<0&&o<0)return"";var s=Math.max(n,o);return e.substring(0,s)},t.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},t.prototype.hasVisibleQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);if(!n)return!1;for(var o=0;o<n.length;o++){var s=n[o];if(s.isVisible&&s.isParentVisible&&!s.parentQuestion)return!0}return!1},t.prototype.questionsByValueName=function(e){return this.getQuestionsByValueName(e)||[]},t.prototype.clearInvisibleQuestionValues=function(){for(var e="none"===this.clearInvisibleValues?"none":"onComplete",n=this.getAllQuestions(),o=0;o<n.length;o++)n[o].clearValueIfInvisible(e)},t.prototype.getVariable=function(e){if(!e)return null;e=e.toLowerCase();var n=this.variablesHash[e];return this.isValueEmpty(n)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&(new He).hasValue(e,this.variablesHash)?(new He).getValue(e,this.variablesHash):n},t.prototype.setVariable=function(e,n){if(e){var o=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=n,this.notifyElementsOnAnyValueOrVariableChanged(e),R.isTwoValueEquals(o,n)||(this.checkTriggersAndRunConditions(e,n,o),this.onVariableChanged.fire(this,{name:e,value:n}))}},t.prototype.getVariableNames=function(){var e=[];for(var n in this.variablesHash)e.push(n);return e},t.prototype.getUnbindValue=function(e){return this.editingObj?e:R.getUnbindValue(e)},t.prototype.getValue=function(e){if(!e||0==e.length)return null;var n=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(n)},t.prototype.setValue=function(e,n,o,s,u){if(void 0===o&&(o=!1),void 0===s&&(s=!0),!this.isLockingUpdateOnPageModes){var p=n;if(s&&(p=this.questionOnValueChanging(e,n)),(!this.isValidateOnValueChanging||!this.checkErrorsOnValueChanging(e,p))&&(this.editingObj||!this.isValueEqual(e,p)||!this.isTwoValueEquals(p,n))){var h=this.getValue(e);this.isValueEmpyOnSetValue(e,p)?this.deleteDataValueCore(this.valuesHash,e):(p=this.getUnbindValue(p),this.setDataValueCore(this.valuesHash,e,p)),this.updateOnSetValue(e,p,h,o,s,u)}}},t.prototype.isValueEmpyOnSetValue=function(e,n){return!(!this.isValueEmpty(n,!1)||this.editingObj&&null!=n&&this.editingObj.getDefaultPropertyValue(e)!==n)},t.prototype.updateOnSetValue=function(e,n,o,s,u,p){void 0===s&&(s=!1),void 0===u&&(u=!0),this.updateQuestionValue(e,n),!0!==s&&!this.isDisposed&&!this.isRunningElementsBindings&&(p=p||e,this.checkTriggersAndRunConditions(e,n,o),u&&this.notifyQuestionOnValueChanged(e,n,p),"text"!==s&&this.tryGoNextPageAutomatic(e))},t.prototype.isValueEqual=function(e,n){(""===n||void 0===n)&&(n=null);var o=this.getValue(e);return(""===o||void 0===o)&&(o=null),null===n||null===o?n===o:this.isTwoValueEquals(n,o)},t.prototype.doOnPageAdded=function(e){e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),this.runningPages||(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.onPageAdded.fire(this,{page:e}))},t.prototype.doOnPageRemoved=function(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},t.prototype.generateNewName=function(e,n){for(var o={},s=0;s<e.length;s++)o[e[s].name]=!0;for(var u=1;o[n+u];)u++;return n+u},t.prototype.tryGoNextPageAutomatic=function(e){var n=this;if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var o=this.getQuestionByValueName(e);if(o&&(!o||o.visible&&o.supportGoNextPageAutomatic())&&(o.validate(!1)||o.supportGoNextPageError())){var s=this.getCurrentPageQuestions();if(!(s.indexOf(o)<0)){for(var u=0;u<s.length;u++)if(s[u].hasInput&&s[u].isEmpty())return;if((!this.isLastPage||!0===this.goNextPageAutomatic&&this.allowCompleteSurveyAutomatic)&&!this.checkIsCurrentPageHasErrors(!1)){var p=this.currentPage;It.safeTimeOut(function(){p===n.currentPage&&(n.isLastPage?n.isShowPreviewBeforeComplete?n.showPreview():n.completeLastPage():n.nextPage())},I.autoAdvanceDelay)}}}}},t.prototype.getComment=function(e){return this.getValue(e+this.commentSuffix)||""},t.prototype.setComment=function(e,n,o){if(void 0===o&&(o=!1),n||(n=""),!this.isTwoValueEquals(n,this.getComment(e))){var s=e+this.commentSuffix;n=this.questionOnValueChanging(s,n,e),this.isValueEmpty(n)?this.deleteDataValueCore(this.valuesHash,s):this.setDataValueCore(this.valuesHash,s,n);var u=this.getQuestionsByValueName(e);if(u)for(var p=0;p<u.length;p++)u[p].updateCommentFromSurvey(n),this.checkQuestionErrorOnValueChanged(u[p]);o||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),"text"!==o&&this.tryGoNextPageAutomatic(e);var h=this.getQuestionByValueName(e);h&&(this.onValueChanged.fire(this,{name:s,question:h,value:n}),h.comment=n,h.comment!=n&&(h.comment=n))}},t.prototype.clearValue=function(e){this.setValue(e,null),this.setComment(e,null)},Object.defineProperty(t.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(e){this.setPropertyValue("clearValueOnDisableItems",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionClearIfInvisible=function(e){return this.isShowingPreview||this.runningPages?"none":"default"!==e?e:this.clearInvisibleValues},t.prototype.questionVisibilityChanged=function(e,n,o){o&&this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:n})},t.prototype.pageVisibilityChanged=function(e,n){this.isLoadingFromJson||((n&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:n}))},t.prototype.panelVisibilityChanged=function(e,n){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:e,visible:n})},t.prototype.questionCreated=function(e){this.onQuestionCreated.fire(this,{question:e})},t.prototype.questionAdded=function(e,n,o,s){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:n,parent:o,page:s,parentPanel:o,rootPanel:s})},t.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!I.supportCreatorV2},t.prototype.questionRemoved=function(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.questionRenamed=function(e,n,o){this.questionHashesRemoved(e,n,o),this.questionHashesAdded(e)},t.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},t.prototype.questionHashesPanelAdded=function(e){if(!this.isLoadingFromJson)for(var n=e.questions,o=0;o<n.length;o++)this.questionHashesAdded(n[o])},t.prototype.questionHashesAdded=function(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())},t.prototype.questionHashesRemoved=function(e,n,o){n&&(this.questionHashRemovedCore(this.questionHashes.names,e,n),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,n.toLowerCase())),o&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,o),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,o.toLowerCase()))},t.prototype.questionHashAddedCore=function(e,n,o){var s;(s=e[o])?(s=e[o]).indexOf(n)<0&&s.push(n):e[o]=[n]},t.prototype.questionHashRemovedCore=function(e,n,o){var s=e[o];if(s){var u=s.indexOf(n);u>-1&&s.splice(u,1),0==s.length&&delete e[o]}},t.prototype.panelAdded=function(e,n,o,s){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:n,parent:o,page:s,parentPanel:o,rootPanel:s})},t.prototype.panelRemoved=function(e){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.validateQuestion=function(e){if(this.onValidateQuestion.isEmpty)return null;var n={name:e.name,question:e,value:e.value,error:null};return this.onValidateQuestion.fire(this,n),n.error?new tt(n.error,this):null},t.prototype.validatePanel=function(e){if(this.onValidatePanel.isEmpty)return null;var n={name:e.name,panel:e,error:null};return this.onValidatePanel.fire(this,n),n.error?new tt(n.error,this):null},t.prototype.processHtml=function(e,n){n||(n="");var o={html:e,reason:n};return this.onProcessHtml.fire(this,o),this.processText(o.html,!0)},t.prototype.processText=function(e,n){return this.processTextEx(e,n,!1).text},t.prototype.processTextEx=function(e,n,o){var s={text:this.processTextCore(e,n,o),hasAllValuesOnLastRun:!0};return s.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,s},Object.defineProperty(t.prototype,"textPreProcessor",{get:function(){var e=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new uo,this.textPreProcessorValue.onProcess=function(n){e.getProcessedTextValue(n)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),t.prototype.processTextCore=function(e,n,o){return void 0===o&&(o=!1),this.isDesignMode?e:this.textPreProcessor.process(e,n,o)},t.prototype.getSurveyMarkdownHtml=function(e,n,o){var s={element:e,text:n,name:o,html:null};return this.onTextMarkdown.fire(this,s),s.html},t.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},t.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},t.prototype.getQuizQuestionCount=function(){for(var e=this.getQuizQuestions(),n=0,o=0;o<e.length;o++)n+=e[o].quizQuestionCount;return n},t.prototype.getInCorrectedAnswerCount=function(){return this.getInCorrectAnswerCount()},t.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},t.prototype.onCorrectQuestionAnswer=function(e,n){this.onIsAnswerCorrect.isEmpty||(n.question=e,this.onIsAnswerCorrect.fire(this,n))},t.prototype.getCorrectedAnswerCountCore=function(e){for(var n=this.getQuizQuestions(),o=0,s=0;s<n.length;s++){var u=n[s],p=u.correctAnswerCount;o+=e?p:u.quizQuestionCount-p}return o},t.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},t.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(t.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(e){this.setPropertyValue("showTimerPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnTop",{get:function(){return"top"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnBottom",{get:function(){return"bottom"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(e){this.setPropertyValue("showTimerPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(e){this.setPropertyValue("widthMode",e)},enumerable:!1,configurable:!0}),t.prototype.setCalculatedWidthModeUpdater=function(){var e=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new we(function(){return e.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},t.prototype.calculateWidthMode=function(){if("auto"==this.widthMode){var e=!1;return this.pages.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width");return e&&!isNaN(e)&&(e+="px"),"static"==this.getPropertyValue("calculatedWidthMode")&&e||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerClock",{get:function(){var e,n;if(this.currentPage){var o=this.getTimerInfo(),s=o.spent,u=o.limit,p=o.minorSpent,h=o.minorLimit;e=this.getDisplayClockTime(u>0?u-s:s),void 0!==p&&(n=this.getDisplayClockTime(h>0?h-p:p))}return{majorText:e,minorText:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoText",{get:function(){var e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var n=new ot(this,!0);return n.text=e.text,n.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getTimerInfo=function(){var e=this.currentPage;if(!e)return{spent:0,limit:0};var n=e.timeSpent,o=this.timeSpent,s=e.getMaxTimeToFinish(),u=this.maxTimeToFinish;return"page"==this.showTimerPanelMode?{spent:n,limit:s}:"survey"==this.showTimerPanelMode?{spent:o,limit:u}:s>0&&u>0?{spent:n,limit:s,minorSpent:o,minorLimit:u}:s>0?{spent:n,limit:s,minorSpent:o}:u>0?{spent:o,limit:u,minorSpent:n}:{spent:n,minorSpent:o}},t.prototype.getTimerInfoText=function(){var e=this.currentPage;if(!e)return"";var n=this.getDisplayTime(e.timeSpent),o=this.getDisplayTime(this.timeSpent),s=e.getMaxTimeToFinish(),u=this.getDisplayTime(s),p=this.getDisplayTime(this.maxTimeToFinish);return"page"==this.showTimerPanelMode?this.getTimerInfoPageText(e,n,u):"survey"==this.showTimerPanelMode?this.getTimerInfoSurveyText(o,p):"all"==this.showTimerPanelMode?s<=0&&this.maxTimeToFinish<=0?this.getLocalizationFormatString("timerSpentAll",n,o):s>0&&this.maxTimeToFinish>0?this.getLocalizationFormatString("timerLimitAll",n,u,o,p):this.getTimerInfoPageText(e,n,u)+" "+this.getTimerInfoSurveyText(o,p):""},t.prototype.getTimerInfoPageText=function(e,n,o){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",n,o):this.getLocalizationFormatString("timerSpentPage",n,o)},t.prototype.getTimerInfoSurveyText=function(e,n){return this.getLocalizationFormatString(this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey",e,n)},t.prototype.getDisplayClockTime=function(e){e<0&&(e=0);var n=Math.floor(e/60),o=e%60,s=o.toString();return o<10&&(s="0"+s),n+":"+s},t.prototype.getDisplayTime=function(e){var n=Math.floor(e/60),o=e%60,s="";return n>0&&(s+=n+" "+this.getLocalizationString("timerMin")),s&&0==o?s:(s&&(s+=" "),s+o+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(t.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),t.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},t.prototype.startTimerFromUI=function(){"none"!=this.showTimerPanel&&"running"===this.state&&this.startTimer()},t.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(t.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(e){this.timerModel.spent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(e){this.setPropertyValue("maxTimeToFinish",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(e){this.setPropertyValue("maxTimeToFinishPage",e)},enumerable:!1,configurable:!0}),t.prototype.doTimer=function(e){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish<=this.timeSpent&&(this.timeSpent=this.maxTimeToFinish,this.completeLastPage()),e){var n=e.getMaxTimeToFinish();n>0&&n==e.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(t.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this},t.prototype.getTextProcessor=function(){return this},t.prototype.getObjects=function(e,n){var o=[];return Array.prototype.push.apply(o,this.getPagesByNames(e)),Array.prototype.push.apply(o,this.getQuestionsByNames(n)),o},t.prototype.setTriggerValue=function(e,n,o){if(e)if(o)this.setVariable(e,n);else{var s=this.getQuestionByName(e);if(s)s.value=n;else{var u=new He,p=u.getFirstName(e);if(p==e)this.setValue(e,n);else{if(!this.getQuestionByName(p))return;var h=this.getUnbindValue(this.getFilteredValues());u.setValue(h,e,n),this.setValue(p,h[p])}}}},t.prototype.copyTriggerValue=function(e,n,o){var s;e&&n&&(s=o?this.processText("{"+n+"}",!0):(new He).getValue(n,this.getFilteredValues()),this.setTriggerValue(e,s,!1))},t.prototype.triggerExecuted=function(e){this.onTriggerExecuted.fire(this,{trigger:e})},t.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},t.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(t.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),t.prototype.focusQuestion=function(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))},t.prototype.focusQuestionByInstance=function(e,n){var o;if(void 0===n&&(n=!1),!e||!e.isVisible||!e.page)return!1;if((null===(o=this.focusingQuestionInfo)||void 0===o?void 0:o.question)===e)return!1;this.focusingQuestionInfo={question:e,onError:n},this.skippedPages.push({from:this.currentPage,to:e.page});var u=this.activePage!==e.page&&!e.page.isStartPage;return u&&(this.currentPage=e.page),u||this.focusQuestionInfo(),!0},t.prototype.focusQuestionInfo=function(){var e,n=null===(e=this.focusingQuestionInfo)||void 0===e?void 0:e.question;n&&!n.isDisposed&&n.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},t.prototype.questionEditFinishCallback=function(e,n){var o=this.enterKeyAction||I.enterKeyAction;if("loseFocus"==o&&n.target.blur(),"moveToNextEditor"==o){var s=this.currentPage.questions,u=s.indexOf(e);u>-1&&u<s.length-1?s[u+1].focus():n.target.blur()}},t.prototype.elementWrapperComponentNameCore=function(e,n,o,s,u){if(this.onElementWrapperComponentName.isEmpty)return e;var p={componentName:e,element:n,wrapperName:o,reason:s,item:u};return this.onElementWrapperComponentName.fire(this,p),p.componentName},t.prototype.elementWrapperDataCore=function(e,n,o,s,u){if(this.onElementWrapperComponentData.isEmpty)return e;var p={data:e,element:n,wrapperName:o,reason:s,item:u};return this.onElementWrapperComponentData.fire(this,p),p.data},t.prototype.getElementWrapperComponentName=function(e,n){return this.elementWrapperComponentNameCore("logo-image"===n?"sv-logo-image":t.TemplateRendererComponentName,e,"component",n)},t.prototype.getQuestionContentWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"content-component")},t.prototype.getRowWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"row")},t.prototype.getItemValueWrapperComponentName=function(e,n){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,n,"itemvalue",void 0,e)},t.prototype.getElementWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,e,"component",n)},t.prototype.getRowWrapperComponentData=function(e){return this.elementWrapperDataCore(e,e,"row")},t.prototype.getItemValueWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,n,"itemvalue",void 0,e)},t.prototype.getMatrixCellTemplateData=function(e){var n=e.question;return this.elementWrapperDataCore(n,n,"cell")},t.prototype.searchText=function(e){e&&(e=e.toLowerCase());for(var n=[],o=0;o<this.pages.length;o++)this.pages[o].searchText(e,n);return n},t.prototype.getSkeletonComponentName=function(e){return this.skeletonComponentName},t.prototype.addLayoutElement=function(e){var n=this.removeLayoutElement(e.id);return this.layoutElements.push(e),n},t.prototype.findLayoutElement=function(e){return this.layoutElements.filter(function(o){return o.id===e})[0]},t.prototype.removeLayoutElement=function(e){var n=this.findLayoutElement(e);if(n){var o=this.layoutElements.indexOf(n);this.layoutElements.splice(o,1)}return n},t.prototype.getContainerContent=function(e){for(var n=[],o=0,s=this.layoutElements;o<s.length;o++){var u=s[o];if("display"!==this.mode&&St(u.id,"timerpanel"))"header"===e&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&n.push(u),"footer"===e&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&n.push(u);else if("running"===this.state&&St(u.id,this.progressBarComponentName)){if("singlePage"!=this.questionsOnPageMode){var p=this.findLayoutElement("advanced-header"),h=p&&p.data,m=!h||h.hasBackground;St(this.showProgressBar,"aboveHeader")&&(m=!1),St(this.showProgressBar,"belowHeader")&&(m=!0),"header"===e&&!m&&(u.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(u)),"center"===e&&m&&(u.index&&delete u.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(u)),"footer"===e&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&n.push(u)}}else St(u.id,"buttons-navigation")?("contentTop"===e&&-1!==["top","both"].indexOf(this.isNavigationButtonsShowing)&&n.push(u),"contentBottom"===e&&-1!==["bottom","both"].indexOf(this.isNavigationButtonsShowing)&&n.push(u)):"running"===this.state&&St(u.id,"toc-navigation")&&this.showTOC?("left"===e&&-1!==["left","both"].indexOf(this.tocLocation)&&n.push(u),"right"===e&&-1!==["right","both"].indexOf(this.tocLocation)&&n.push(u)):St(u.id,"advanced-header")?("running"===this.state||"starting"===this.state)&&u.container===e&&n.push(u):(Array.isArray(u.container)&&-1!==u.container.indexOf(e)||u.container===e)&&n.push(u)}return n.sort(function(x,T){return(x.index||0)-(T.index||0)}),n},t.prototype.processPopupVisiblityChanged=function(e,n,o){this.onPopupVisibleChanged.fire(this,{question:e,popup:n,visible:o})},t.prototype.processOpenDropdownMenu=function(e,n){var o=Object.assign({question:e},n);this.onOpenDropdownMenu.fire(this,o),n.menuType=o.menuType},t.prototype.applyTheme=function(e){var n=this;if(e){if(Object.keys(e).forEach(function(s){"header"!==s&&("isPanelless"===s?n.isCompact=e[s]:n[s]=e[s])}),"advanced"===this.headerView||"header"in e){this.removeLayoutElement("advanced-header");var o=new di;o.fromTheme(e),this.insertAdvancedHeader(o)}this.themeChanged(e)}},t.prototype.themeChanged=function(e){this.getAllQuestions().forEach(function(n){return n.themeChanged(e)})},t.prototype.dispose=function(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(r.prototype.dispose.call(this),this.editingObj=null,this.pages){for(this.currentPage=null,e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},t.prototype._isElementShouldBeSticky=function(e){if(!e)return!1;var n=this.rootElement.querySelector(e);return!!n&&this.rootElement.scrollTop>0&&n.getBoundingClientRect().y<=this.rootElement.getBoundingClientRect().y},t.prototype.onScroll=function(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top")),this.onScrollCallback&&this.onScrollCallback()},t.prototype.addScrollEventListener=function(){var n,e=this;this.scrollHandler=function(){e.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(n=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===n||n.addEventListener("scroll",this.scrollHandler))},t.prototype.removeScrollEventListener=function(){var e;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(e=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===e||e.removeEventListener("scroll",this.scrollHandler)))},t.TemplateRendererComponentName="sv-template-renderer",t.platform="unknown",ve([_()],t.prototype,"completedCss",void 0),ve([_()],t.prototype,"completedBeforeCss",void 0),ve([_()],t.prototype,"loadingBodyCss",void 0),ve([_()],t.prototype,"containerCss",void 0),ve([_({onSet:function(e,n){n.updateCss()}})],t.prototype,"fitToContainer",void 0),ve([_({onSet:function(e,n){if("advanced"===e){if(!n.findLayoutElement("advanced-header")){var s=new di;s.logoPositionX="right"===n.logoPosition?"right":"left",s.logoPositionY="middle",s.titlePositionX="right"===n.logoPosition?"left":"right",s.titlePositionY="middle",s.descriptionPositionX="right"===n.logoPosition?"left":"right",s.descriptionPositionY="middle",n.insertAdvancedHeader(s)}}else n.removeLayoutElement("advanced-header")}})],t.prototype,"headerView",void 0),ve([_()],t.prototype,"showBrandInfo",void 0),ve([_()],t.prototype,"enterKeyAction",void 0),ve([_()],t.prototype,"lazyRenderingFirstBatchSizeValue",void 0),ve([_({defaultValue:!0})],t.prototype,"titleIsEmpty",void 0),ve([_({defaultValue:{}})],t.prototype,"cssVariables",void 0),ve([_()],t.prototype,"_isMobile",void 0),ve([_()],t.prototype,"_isCompact",void 0),ve([_({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImage",void 0),ve([_()],t.prototype,"renderBackgroundImage",void 0),ve([_()],t.prototype,"backgroundImageFit",void 0),ve([_({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImageAttachment",void 0),ve([_()],t.prototype,"backgroundImageStyle",void 0),ve([_()],t.prototype,"wrapperFormCss",void 0),ve([_({getDefaultValue:function(e){return"buttons"===e.progressBarType}})],t.prototype,"progressBarShowPageTitles",void 0),ve([_()],t.prototype,"progressBarShowPageNumbers",void 0),ve([_()],t.prototype,"progressBarInheritWidthFrom",void 0),ve([_({defaultValue:!0})],t.prototype,"validationEnabled",void 0),ve([_()],t.prototype,"rootCss",void 0),ve([_()],t.prototype,"gridLayoutEnabled",void 0),ve([_()],t.prototype,"calculatedWidthMode",void 0),ve([qe()],t.prototype,"layoutElements",void 0),t}(Zn);function St(r,t){return!(!r||!t)&&r.toUpperCase()===t.toUpperCase()}M.addClass("survey",[{name:"locale",choices:function(){return te.getLocales(!0)},onGetValue:function(r){return r.locale==te.defaultLocale?null:r.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(r){return r.originalPages||r.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(r){return null},onSetValue:function(r,t,e){r.pages.splice(0,r.pages.length);var n=r.addNewPage("");e.toObject({questions:t},n,e?.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0,visibleIf:function(r){return"none"!==r.showNavigationButtons}},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveheader","belowheader","bottom","topbottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:function(r){return"off"!==r.showProgressBar}},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:function(r){return"off"!==r.showProgressBar&&"pages"===r.progressBarType}},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:function(r){return"off"!==r.showProgressBar&&"pages"===r.progressBarType}},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:function(r){return"off"!==r.showProgressBar&&"pages"===r.progressBarType}},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(r){return!!r&&r.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(r,t){"autogonext"!==t&&(t=R.isTwoValueEquals(t,!0)),r.setPropertyValue("goNextPageAutomatic",t)}},{name:"allowCompleteSurveyAutomatic:boolean",default:!0,visibleIf:function(r){return!0===r.goNextPageAutomatic}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:function(r){return"onValueChanged"===r.checkErrorsMode}},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:function(r){return r.firstPageIsStarted}},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:function(r){return"none"!==r.showNavigationButtons&&r.showPrevButton}},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:function(r){return"none"!==r.showNavigationButtons}},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:function(r){return"none"!==r.showNavigationButtons}},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:function(r){return"noPreview"!==r.showPreviewBeforeComplete}},{name:"editText",serializationProperty:"locEditText",visibleIf:function(r){return"noPreview"!==r.showPreviewBeforeComplete}},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(r){return!r||"off"!==r.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(r){return r?r.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["page","survey","all"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:function(r){return"static"===r.widthMode}},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);var Ns=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Io=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ro=function(r){function t(e){var n=r.call(this,e)||this;n.otherItemValue=new J("other"),n.isSettingDefaultValue=!1,n.isSettingComment=!1,n.isRunningChoices=!1,n.isFirstLoadChoicesFromUrl=!0,n.isUpdatingChoicesDependedQuestions=!1,n.headItemsCount=0,n.footItemsCount=0,n.prevIsOtherSelected=!1,n.noneItemValue=n.createDefaultItem(I.noneItemValue,"noneText","noneItemText"),n.refuseItemValue=n.createDefaultItem(I.refuseItemValue,"refuseText","refuseItemText"),n.dontKnowItemValue=n.createDefaultItem(I.dontKnowItemValue,"dontKnowText","dontKnowItemText"),n.createItemValues("choices"),n.registerPropertyChangedHandlers(["choices"],function(){n.filterItems()||n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){n.onVisibleChanged()}),n.createNewArray("visibleChoices"),n.setNewRestfulProperty();var o=n.createLocalizableString("otherText",n.otherItemValue,!0,"otherItemText");return n.createLocalizableString("otherErrorText",n,!0,"otherRequiredError"),n.otherItemValue.locOwner=n,n.otherItemValue.setLocText(o),n.choicesByUrl.createItemValue=function(s){return n.createItemValue(s)},n.choicesByUrl.beforeSendRequestCallback=function(){n.onBeforeSendRequest()},n.choicesByUrl.getResultCallback=function(s){n.onLoadChoicesFromUrl(s)},n.choicesByUrl.updateResultCallback=function(s,u){return n.survey?n.survey.updateChoicesFromServer(n,s,u):s},n}return Ns(t,r),Object.defineProperty(t.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"selectbase"},t.prototype.dispose=function(){r.prototype.dispose.call(this);var e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this)},t.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(t.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),t.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},t.prototype.getItemValueType=function(){return"itemvalue"},t.prototype.createItemValue=function(e,n){var o=M.createClass(this.getItemValueType(),{value:e});return o.locOwner=this,n&&(o.text=n),o},Object.defineProperty(t.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),t.prototype.setCarryForwardQuestionType=function(e,n){this.setPropertyValue("carryForwardQuestionType",e?"select":n?"array":void 0)},Object.defineProperty(t.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),t.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},t.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),"none"!==this.choicesOrder&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(J.locStrsChanged(this.choicesFromUrl),J.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&J.locStrsChanged(this.visibleChoices)},t.prototype.updatePrevOtherErrorValue=function(e){var n=this.otherValue;e!==n&&(this.prevOtherErrorValue=n)},Object.defineProperty(t.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?this.setOtherValueInternally(e):this.comment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(e){this.setPropertyValue("otherValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(e){this.setPropertyValue("showNoneItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(e){this.showNoneItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(e){this.setLocalizableStringText("noneText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(e){this.setPropertyValue("showRefuseItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(e){this.setLocalizableStringText("refuseText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(e){this.setPropertyValue("showDontKnowItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(e){this.setLocalizableStringText("dontKnowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),t.prototype.createDefaultItem=function(e,n,o){var s=new J(e),u=this.createLocalizableString(n,s,!0,o);return s.locOwner=this,s.setLocText(u),s},Object.defineProperty(t.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n),this.choices.forEach(function(o){o.runConditionCore(e,n)})},t.prototype.isTextValue=function(){return!0},t.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0;var e=this.comment;r.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1,this.comment&&this.getStoreOthersAsComment()&&e!==this.comment&&(this.setValueCore(this.setOtherValueIntoValue(this.value)),this.setCommentIntoData(this.comment))},t.prototype.getIsMultipleValue=function(){return!1},t.prototype.convertDefaultValue=function(e){if(null==e||null==e)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e},t.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),n=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n)},t.prototype.runItemsCondition=function(e,n){this.setConditionalChoicesRunner();var o=this.runConditionsForItems(e,n);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),o&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),o},t.prototype.runItemsEnableCondition=function(e,n){var o=this;this.setConditionalEnableChoicesRunner(),J.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,n,function(u,p){return p&&o.onEnableItemCallBack(u)})&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},t.prototype.onAfterRunItemsEnableCondition=function(){},t.prototype.onEnableItemCallBack=function(e){return!0},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;null===(n=this.survey)||void 0===n||n.loadedChoicesFromServer(this)},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.waitingChoicesByURL?this.createItemValue(e,n):null},t.prototype.getSingleSelectedItem=function(){var e=this.selectedItemValues;if(this.isEmpty())return null;var n=J.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(n),!n&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),n||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},t.prototype.onGetSingleSelectedItem=function(e){},t.prototype.getMultipleSelectedItems=function(){return[]},t.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new Xe(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},t.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new Xe(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},t.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},t.prototype.changeItemVisibility=function(){var e=this;return this.canSurveyChangeItemVisibility()?function(n,o){return e.survey.getChoiceItemVisibility(e,n,o)}:null},t.prototype.runConditionsForItems=function(e,n){this.filteredChoicesValue=[];var o=this.changeItemVisibility();return J.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,n,!this.survey||!this.survey.areInvisibleElementsShowing,function(s,u){return o?o(s,u):u})},t.prototype.getHasOther=function(e){return this.getIsItemValue(e,this.otherItem)},t.prototype.getIsItemValue=function(e,n){return e===n.value},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.createRestful=function(){return new $t},t.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(t.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(e){this.setPropertyValue("autoOtherMode",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionComment=function(){return this.showCommentArea?r.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?r.prototype.getQuestionComment.call(this):this.otherValueCore},t.prototype.selectOtherValueFromComment=function(e){this.value=e?this.otherItem.value:void 0},t.prototype.setQuestionComment=function(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?r.prototype.setQuestionComment.call(this,e):(this.onUpdateCommentOnAutoOtherMode(e),this.getStoreOthersAsComment()?r.prototype.setQuestionComment.call(this,e):this.setOtherValueInternally(e),this.updateChoicesDependedQuestions())},t.prototype.onUpdateCommentOnAutoOtherMode=function(e){if(this.autoOtherMode){this.prevOtherValue=void 0;var n=this.isOtherSelected;(!n&&e||n&&!e)&&this.selectOtherValueFromComment(!!e)}},t.prototype.setOtherValueInternally=function(e){!this.isSettingComment&&e!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},t.prototype.clearValue=function(e){r.prototype.clearValue.call(this,e),this.prevOtherValue=void 0,this.selectedItemValues=void 0},t.prototype.updateCommentFromSurvey=function(e){r.prototype.updateCommentFromSurvey.call(this,e),this.prevOtherValue=void 0},Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(n){this.isReadOnlyAttr||(this.setPropertyValue("renderedValue",n),n=this.rendredValueToData(n),this.isTwoValueEquals(n,this.value)||(this.value=n))},enumerable:!1,configurable:!0}),t.prototype.setQuestionValue=function(e,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),!this.isLoadingFromJson&&!this.isTwoValueEquals(this.value,e)&&(r.prototype.setQuestionValue.call(this,e,n),this.setPropertyValue("renderedValue",this.rendredValueFromData(e)),this.updateChoicesDependedQuestions(),!this.hasComment&&o)){var s=this.isOtherSelected;if(s&&this.prevOtherValue){var u=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=u}!s&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},t.prototype.setValueCore=function(e){r.prototype.setValueCore.call(this,e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},t.prototype.setNewValue=function(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),r.prototype.setNewValue.call(this,e)},t.prototype.valueFromData=function(e){var n=J.getItemByValue(this.activeChoices,e);return n?n.value:r.prototype.valueFromData.call(this,e)},t.prototype.rendredValueFromData=function(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)},t.prototype.rendredValueToData=function(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)},t.prototype.renderedValueFromDataCore=function(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)},t.prototype.rendredValueToDataCore=function(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e},t.prototype.needConvertRenderedOtherToDataValue=function(){var e=this.otherValue;return!(!e||(e=e.trim(),!e))&&this.hasUnknownValue(e,!0,!1)},t.prototype.getIsQuestionReady=function(){return r.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},t.prototype.updateSelectedItemValues=function(){var e=this;if(!this.waitingGetChoiceDisplayValueResponse&&this.survey&&!this.isEmpty()){var n=this.value,o=Array.isArray(n)?n:[n];o.some(function(u){return!J.getItemByValue(e.choices,u)})&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:o,setItems:function(u){for(var p=[],h=1;h<arguments.length;h++)p[h-1]=arguments[h];if(e.waitingGetChoiceDisplayValueResponse=!1,u&&u.length){var m=u.map(function(x,T){return e.createItemValue(o[T],x)});e.setCustomValuesIntoItems(m,p),e.selectedItemValues=Array.isArray(n)?m:m[0],e.updateIsReady()}else e.updateIsReady()}}))}},t.prototype.setCustomValuesIntoItems=function(e,n){!Array.isArray(n)||0===n.length||n.forEach(function(o){var s=o.values,u=o.propertyName;if(Array.isArray(s))for(var p=0;p<e.length&&p<s.length;p++)e[p][u]=s[p]})},t.prototype.hasUnknownValue=function(e,n,o,s){if(void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===s&&(s=!1),!Array.isArray(e))return this.hasUnknownValueItem(e,n,o,s);for(var u=0;u<e.length;u++)if(this.hasUnknownValueItem(e,n,o,s))return!0;return!1},t.prototype.hasUnknownValueItem=function(e,n,o,s){if(void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===s&&(s=!1),!s&&this.isValueEmpty(e)||n&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var u=o?this.getFilteredChoices():this.activeChoices;return null==J.getItemByValue(u,e)},t.prototype.isValueDisabled=function(e){var n=J.getItemByValue(this.getFilteredChoices(),e);return!!n&&!n.isEnabled},Object.defineProperty(t.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(e){var n=this.getQuestionWithChoices();this.isLockVisibleChoices=!!n&&n.name===e,n&&n.name!==e&&(n.removeDependedQuestion(this),this.isDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(e){this.setPropertyValue("choicesFromQuestionMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(e){this.setPropertyValue("choiceValuesFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(e){this.setPropertyValue("choiceTextsFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(e){this.setPropertyValue("hideIfChoicesEmpty",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(e){(e=e.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(e){this.otherPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(e){this.setLocalizableStringText("otherErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChoices",{get:function(){for(var e=[],n=this.visibleChoices,o=0;o<n.length;o++)n[o].isEnabled&&e.push(n[o]);return e},enumerable:!1,configurable:!0}),t.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson&&!this.isDisposed){var e=new Array,n=this.calcVisibleChoices();n||(n=[]);for(var o=0;o<n.length;o++)e.push(n[o]);(!this.isTwoValueEquals(this.visibleChoices,e)||this.choicesLazyLoadEnabled)&&this.setArrayPropertyDirectly("visibleChoices",e)}},t.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var e=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(e,this.isAddDefaultItems),e},t.prototype.canUseFilteredChoices=function(){return!(this.isAddDefaultItems||this.showNoneItem||this.showRefuseItem||this.showDontKnowItem||this.hasOther||"none"!=this.choicesOrder)},t.prototype.setCanShowOptionItemCallback=function(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),t.prototype.addToVisibleChoices=function(e,n){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,n);var o=new Array;this.addNonChoicesItems(o,n),o.sort(function(p,h){return p.index===h.index?0:p.index<h.index?-1:1});for(var s=0;s<o.length;s++){var u=o[s];u.index<0?(e.splice(s,0,u.item),this.headItemsCount++):(e.push(u.item),this.footItemsCount++)}},t.prototype.addNewItemToVisibleChoices=function(e,n){var o=this;n&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",function(){o.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,n,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))},t.prototype.addNonChoicesItems=function(e,n){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,n,this.showNoneItem,I.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,n,this.showRefuseItem,I.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,n,this.showDontKnowItem,I.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,n,this.hasOther,I.specialChoicesOrder.otherItem)},t.prototype.addNonChoiceItem=function(e,n,o,s,u){this.canShowOptionItem(n,o,s)&&u.forEach(function(p){return e.push({index:p,item:n})})},t.prototype.canShowOptionItem=function(e,n,o){var s=n&&(!this.canShowOptionItemCallback||this.canShowOptionItemCallback(e))||o;return this.canSurveyChangeItemVisibility()?this.changeItemVisibility()(e,s):s},t.prototype.isItemInList=function(e){return e===this.otherItem?this.hasOther:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue},Object.defineProperty(t.prototype,"isAddDefaultItems",{get:function(){return I.showDefaultItemsInCreatorV2&&this.isDesignModeV2&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;void 0===e&&(e={includeEmpty:!0,includeQuestionTypes:!1});var o=r.prototype.getPlainData.call(this,e);if(o){var s=Array.isArray(this.value)?this.value:[this.value];o.isNode=!0,o.data=(o.data||[]).concat(s.map(function(u,p){var h=J.getItemByValue(n.visibleChoices,u),m={name:p,title:"Choice",value:u,displayValue:n.getChoicesDisplayValue(n.visibleChoices,u),getString:function(x){return"object"==typeof x?JSON.stringify(x):x},isNode:!1};return h&&(e.calculations||[]).forEach(function(x){m[x.propertyName]=h[x.propertyName]}),n.isOtherSelected&&n.otherItemValue===h&&(m.isOther=!0,m.displayValue=n.otherValue),m}))}return o},t.prototype.getDisplayValueCore=function(e,n){return this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,n):n},t.prototype.getDisplayValueEmpty=function(){return J.getTextOrHtmlByValue(this.visibleChoices,void 0)},t.prototype.getChoicesDisplayValue=function(e,n){if(n==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var o=this.getSingleSelectedItem();if(o&&this.isTwoValueEquals(o.value,n))return o.locText.textOrHtml;var s=J.getTextOrHtmlByValue(e,n);return""==s&&n?n:s},t.prototype.getDisplayArrayValue=function(e,n,o){for(var s=this,u=this.visibleChoices,p=[],h=[],m=0;m<n.length;m++)h.push(o?o(m):n[m]);if(R.isTwoValueEquals(this.value,h)&&this.getMultipleSelectedItems().forEach(function(T,D){return p.push(s.getItemDisplayValue(T,h[D]))}),0===p.length)for(m=0;m<h.length;m++){var x=this.getChoicesDisplayValue(u,h[m]);x&&p.push(x)}return p.join(I.choicesSeparator)},t.prototype.getItemDisplayValue=function(e,n){if(e===this.otherItem){if(this.hasOther&&this.showCommentArea&&n)return n;if(this.comment)return this.comment}return e.locText.textOrHtml},t.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(t.prototype,"activeChoices",{get:function(){var e=this.getCarryForwardQuestion();return"select"===this.carryForwardQuestionType?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):"array"===this.carryForwardQuestionType?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(e){this.setPropertyValue("isMessagePanelVisible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),t.prototype.getCarryForwardQuestion=function(e){var n=this.findCarryForwardQuestion(e),o=this.getQuestionWithChoicesCore(n),s=o?null:this.getQuestionWithArrayValue(n);return this.setCarryForwardQuestionType(!!o,!!s),o||s?n:null},t.prototype.getIsReadyDependsOn=function(){var e=r.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e},t.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},t.prototype.findCarryForwardQuestion=function(e){return e||(e=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},t.prototype.getQuestionWithChoicesCore=function(e){return e&&e.visibleChoices&&M.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null},t.prototype.getQuestionWithArrayValue=function(e){return e&&e.isValueArray?e:null},t.prototype.getChoicesFromArrayQuestion=function(e){if(this.isDesignMode)return[];var n=e.value;if(!Array.isArray(n))return[];for(var o=[],s=0;s<n.length;s++){var u=n[s];if(R.isValueObject(u)){var p=this.getValueKeyName(u);p&&!this.isValueEmpty(u[p])&&o.push(this.createItemValue(u[p],this.choiceTextsFromQuestion?u[this.choiceTextsFromQuestion]:void 0))}}return o},t.prototype.getValueKeyName=function(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var n=Object.keys(e);return n.length>0?n[0]:void 0},t.prototype.getChoicesFromSelectQuestion=function(e){if(this.isDesignMode)return[];for(var n=[],o="selected"==this.choicesFromQuestionMode||"unselected"!=this.choicesFromQuestionMode&&void 0,s=e.visibleChoices,u=0;u<s.length;u++)if(!e.isBuiltInChoice(s[u])){if(void 0===o){n.push(this.copyChoiceItem(s[u]));continue}var p=e.isItemSelected(s[u]);(p&&o||!p&&!o)&&n.push(this.copyChoiceItem(s[u]))}return"selected"===this.choicesFromQuestionMode&&!this.showOtherItem&&e.isOtherSelected&&e.comment&&n.push(this.createItemValue(e.otherItem.value,e.comment)),n},t.prototype.copyChoiceItem=function(e){var n=this.createItemValue(e.value);return n.setData(e),n},Object.defineProperty(t.prototype,"hasActiveChoices",{get:function(){var e=this.visibleChoices;(!e||0==e.length)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var n=0;n<e.length;n++)if(!this.isBuiltInChoice(e[n]))return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return this.isNoneItem(e)||e===this.otherItem||e===this.newItemValue},t.prototype.isNoneItem=function(e){return this.getNoneItems().indexOf(e)>-1},t.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},t.prototype.getChoices=function(){return this.choices},t.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},t.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},t.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},t.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},t.prototype.isSupportProperty=function(e){return!this.isDesignMode||this.getPropertyByName(e).visible},t.prototype.onCheckForErrors=function(e,n){var o=this;if(r.prototype.onCheckForErrors.call(this,e,n),this.hasOther&&this.isOtherSelected&&!this.otherValue&&(!n||this.prevOtherErrorValue)){var s=new Ou(this.otherErrorText,this);s.onUpdateErrorTextCallback=function(u){u.text=o.otherErrorText},e.push(s)}},t.prototype.setSurveyImpl=function(e,n){this.isRunningChoices=!0,r.prototype.setSurveyImpl.call(this,e,n),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},t.prototype.setSurveyCore=function(e){r.prototype.setSurveyCore.call(this,e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},t.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&!this.showCommentArea&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||this.hasChoicesUrl&&!this.choicesFromUrl)},t.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),r.prototype.onSurveyLoad.call(this)},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n),e!=this.getValueName()&&this.runChoicesByUrl();var o=this.choicesFromQuestion;e&&o&&(e===o||n===o)&&this.onVisibleChoicesChanged()},t.prototype.updateValueFromSurvey=function(e,n){var o="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(o=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(o=this.data.getComment(this.getValueName()))),r.prototype.updateValueFromSurvey.call(this,e,n),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),o&&this.setNewComment(o)},t.prototype.getCommentFromValue=function(e){return e},t.prototype.setOtherValueIntoValue=function(e){return this.otherItem.value},t.prototype.onOtherValueInput=function(e){this.isInputTextUpdate?e.target&&(this.otherValue=e.target.value):this.updateCommentElements()},t.prototype.onOtherValueChange=function(e){this.otherValue=e.target.value,this.otherValue!==e.target.value&&(e.target.value=this.otherValue)},t.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices&&!this.isDesignModeV2){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}},t.prototype.onBeforeSendRequest=function(){!0===I.web.disableQuestionWhileLoadingChoices&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},t.prototype.onLoadChoicesFromUrl=function(e){this.enableOnLoadingChoices&&(this.readOnly=!1);var n=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&n.push(this.choicesByUrl.error);var o=null,s=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,s=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var u=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,s);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(o=new Array,J.setData(o,e)),o)for(var p=0;p<o.length;p++)o[p].locOwner=this;this.setChoicesFromUrl(o,n,u)},t.prototype.canAvoidSettChoicesFromUrl=function(e){return!this.isFirstLoadChoicesFromUrl&&!((!e||Array.isArray(e)&&0===e.length)&&!this.isEmpty())&&R.isTwoValueEquals(this.choicesFromUrl,e)},t.prototype.setChoicesFromUrl=function(e,n,o){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var s=this.updateCachedValueForUrlRequests(o,e);if(s&&!this.isReadOnly){var u=!this.isTwoValueEquals(this.value,s.value);try{this.isValueEmpty(s.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=u,u?this.value=s.value:this.setQuestionValue(s.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=n,this.choicesLoaded()}},t.prototype.createCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var o=[],s=0;s<e.length;s++)o.push(this.createCachedValueForUrlRequests(e[s],!0));return o}return{value:e,isExists:!n||!this.hasUnknownValue(e)}},t.prototype.updateCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var o=[],s=0;s<e.length;s++){var u=this.updateCachedValueForUrlRequests(e[s],n);if(u&&!this.isValueEmpty(u.value)){var p=u.value;(m=J.getItemByValue(n,u.value))&&(p=m.value),o.push(p)}}return{value:o}}var m,h=e.isExists&&this.hasUnknownValue(e.value)?null:e.value;return(m=J.getItemByValue(n,h))&&(h=m.value),{value:h}},t.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},t.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.updateChoicesDependedQuestions()},t.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},t.prototype.isVisibleCore=function(){var e=r.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!e)return e;var n=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!n||n.length>0},t.prototype.sortVisibleChoices=function(e){if(this.isDesignMode)return e;var n=this.choicesOrder.toLowerCase();return"asc"==n?this.sortArray(e,1):"desc"==n?this.sortArray(e,-1):"random"==n?this.randomizeArray(e):e},t.prototype.sortArray=function(e,n){return e.sort(function(o,s){return R.compareStrings(o.calculatedText,s.calculatedText)*n})},t.prototype.randomizeArray=function(e){return R.randomizeArray(e)},Object.defineProperty(t.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||!this.canClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},t.prototype.canClearIncorrectValues=function(){return!(this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||0==this.choicesFromUrl.length))},t.prototype.hasValueToClearIncorrectValues=function(){return!(this.survey&&this.survey.keepIncorrectValues||this.keepIncorrectValues||this.isEmpty())},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.clearIncorrectValues()},t.prototype.isItemSelected=function(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)},t.prototype.isItemSelectedCore=function(e){return e.value===this.value},t.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},t.prototype.clearIncorrectValuesCore=function(){this.canClearValueAnUnknown(this.value)&&this.clearValue(!0)},t.prototype.canClearValueAnUnknown=function(e){return!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(e,!0,!0,!0)},t.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue(!0)},t.prototype.clearUnusedValues=function(){r.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},t.prototype.getColumnClass=function(){return(new A).append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},t.prototype.getItemIndex=function(e){return this.visibleChoices.indexOf(e)},t.prototype.getItemClass=function(e){var n={item:e},o=this.getItemClassCore(e,n);return n.css=o,this.survey&&this.survey.updateChoiceItemCss(this,n),n.css},t.prototype.getCurrentColCount=function(){return this.colCount},t.prototype.getItemClassCore=function(e,n){var o=(new A).append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&0===this.colCount).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&0!==this.colCount).append(this.cssClasses.itemOnError,this.hasCssError()),s=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),u=s[0],p=s[1],h=this.isItemSelected(e)||this.isOtherSelected&&this.otherItem.value===e.value,m=!(p||h||this.survey&&this.survey.isDesignMode),x=e===this.noneItem;return n.isDisabled=p||u,n.isChecked=h,n.isNone=x,o.append(this.cssClasses.itemDisabled,p).append(this.cssClasses.itemReadOnly,u).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,h).append(this.cssClasses.itemHover,m).append(this.cssClasses.itemNone,x).toString()},t.prototype.getLabelClass=function(e){return(new A).append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()},t.prototype.getControlLabelClass=function(e){return(new A).append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0},Object.defineProperty(t.prototype,"headItems",{get:function(){for(var e=this.separateSpecialChoices||this.isDesignMode?this.headItemsCount:0,n=[],o=0;o<e;o++)n.push(this.visibleChoices[o]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footItems",{get:function(){for(var e=this.separateSpecialChoices||this.isDesignMode?this.footItemsCount:0,n=[],o=this.visibleChoices,s=0;s<e;s++)n.push(o[o.length-e+s]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChoices",{get:function(){var e=this;return this.visibleChoices.filter(function(n){return!e.isBuiltInChoice(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=[],n=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var o=this.separateSpecialChoices||this.isDesignMode?this.dataChoices:this.visibleChoices;if("column"==I.showItemsInOrder)for(var s=0,u=o.length%n,p=0;p<n;p++){for(var h=[],m=s;m<s+Math.floor(o.length/n);m++)h.push(o[m]);u>0&&(u--,h.push(o[m]),m++),s=m,e.push(h)}else for(p=0;p<n;p++){for(h=[],m=p;m<o.length;m+=n)h.push(o[m]);e.push(h)}}return e},enumerable:!1,configurable:!0}),t.prototype.getItemsColumnKey=function(e){return(e||[]).map(function(n){return n.value||""}).join("")},Object.defineProperty(t.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowLayout",{get:function(){return 0==this.getCurrentColCount()&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blockedRow",{get:function(){return 0==this.getCurrentColCount()&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),t.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},t.prototype.getItemValueWrapperComponentName=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentName(e,this):Rt.TemplateRendererComponentName},t.prototype.getItemValueWrapperComponentData=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentData(e,this):e},t.prototype.ariaItemChecked=function(e){return this.renderedValue===e.value?"true":"false"},t.prototype.isOtherItem=function(e){return this.hasOther&&e.value==this.otherItem.value},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.getSelectBaseRootCss=function(){return(new A).append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getAriaItemLabel=function(e){return e.locText.renderedHtml},t.prototype.getItemId=function(e){return this.inputId+"_"+this.getItemIndex(e)},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.getItemEnabled=function(e){return!this.isDisabledAttr&&e.isEnabled},t.prototype.afterRender=function(e){r.prototype.afterRender.call(this,e),this.rootElement=e},t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.rootElement=void 0},t.prototype.focusOtherComment=function(){var e=this;this.rootElement&&setTimeout(function(){var n=e.rootElement.querySelector("textarea");n&&n.focus()},10)},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},t.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),t.prototype.updateCssClasses=function(e,n){if(r.prototype.updateCssClasses.call(this,e,n),this.dropdownListModel){var o={};Pt(n.list,o),Pt(e.list,o),e.list=o}},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},Io([_({onSet:function(e,n){n.onSelectedItemValuesChangedHandler(e)}})],t.prototype,"selectedItemValues",void 0),Io([_()],t.prototype,"separateSpecialChoices",void 0),Io([_({localizable:!0})],t.prototype,"otherPlaceholder",void 0),t}(je),An=function(r){function t(e){return r.call(this,e)||this}return Ns(t,r),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){r.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},t.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},t.prototype.getSearchableItemValueKeys=function(e){e.push("choices")},t}(Ro);function So(r,t){var e;if(!r)return!1;if(r.templateQuestion){var n=null===(e=r.colOwner)||void 0===e?void 0:e.data;if(!(r=r.templateQuestion).getCarryForwardQuestion(n))return!1}return r.carryForwardQuestionType===t}M.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return te.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(r){return So(r,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(r){return So(r,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(r){return So(r,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(r){return r.choicesByUrl.getData()},onSetValue:function(r,t){r.choicesByUrl.setData(t)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(r){return!r.choicesFromQuestion}},{name:"defaultValue:value",visibleIf:function(r){return!r.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:function(r){return!r.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(r){return r.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(r){return r.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(r){return r.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(r){return r.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),M.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");var Oo=function(){function r(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),r}(),Ut=function(){function r(){}return r.calculatePosition=function(t,e,n,o,s,u){void 0===u&&(u="flex");var p=t.left,h=t.top;return"flex"===u&&(p="center"==s?(t.left+t.right-n)/2:"left"==s?t.left-n:t.right),h="middle"==o?(t.top+t.bottom-e)/2:"top"==o?t.top-e:t.bottom,"center"!=s&&"middle"!=o&&("top"==o?h+=t.height:h-=t.height),{left:Math.round(p),top:Math.round(h)}},r.getCorrectedVerticalDimensions=function(t,e,n,o,s){void 0===s&&(s=!0);var u,p=n-r.bottomIndent;if("top"===o&&(u={height:e,top:t}),t<0)u={height:s?e+t:e,top:0};else if(e+t>n){var h=Math.min(e,p-t);u={height:s?h:e,top:s?t:t-(e-h)}}return u&&(u.height=Math.min(u.height,p),u.top=Math.max(u.top,0)),u},r.updateHorizontalDimensions=function(t,e,n,o,s,u){void 0===s&&(s="flex"),void 0===u&&(u={left:0,right:0}),e+=u.left+u.right;var p=void 0,h=t;return"center"===o&&("fixed"===s?(t+e>n&&(p=n-t),h-=u.left):t<0?(h=u.left,p=Math.min(e,n)):e+t>n&&(h=n-e,h=Math.max(h,u.left),p=Math.min(e,n))),"left"===o&&t<0&&(h=u.left,p=Math.min(e,n)),"right"===o&&e+t>n&&(p=n-t),{width:p-u.left-u.right,left:h}},r.updateVerticalPosition=function(t,e,n,o,s){if("middle"===o)return o;var u=e-(t.top+("center"!==n?t.height:0)),p=e+t.bottom-("center"!==n?t.height:0)-s;return u>0&&p<=0&&"top"==o?o="bottom":p>0&&u<=0&&"bottom"==o?o="top":p>0&&u>0&&(o=u<p?"top":"bottom"),o},r.updateHorizontalPosition=function(t,e,n,o){if("center"===n)return n;var s=e-t.left,u=e+t.right-o;return s>0&&u<=0&&"left"==n?n="right":u>0&&s<=0&&"right"==n?n="left":u>0&&s>0&&(n=s<u?"left":"right"),n},r.calculatePopupDirection=function(t,e){var n;return"center"==e&&"middle"!=t?n=t:"center"!=e&&(n=e),n},r.calculatePointerTarget=function(t,e,n,o,s,u,p){void 0===u&&(u=0),void 0===p&&(p=0);var h={};return"center"!=s?(h.top=t.top+t.height/2,h.left=t[s]):"middle"!=o&&(h.top=t[o],h.left=t.left+t.width/2),h.left=Math.round(h.left-n),h.top=Math.round(h.top-e),"left"==s&&(h.left-=u+p),"center"===s&&(h.left-=u),h},r.bottomIndent=16,r}(),bc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wt=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qs='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',Eo=function(r){function t(e){var n=r.call(this)||this;return n.popupSelector=".sv-popup",n.fixedPopupContainer=".sv-popup",n.containerSelector=".sv-popup__container",n.scrollingContentSelector=".sv-popup__scrolling-content",n.visibilityAnimation=new Kn(n,function(o){n._isVisible!==o&&(o?(n.updateBeforeShowing(),n.updateIsVisible(o)):(n.updateOnHiding(),n.updateIsVisible(o),n.updateAfterHiding(),n._isPositionSetValue=!1))},function(){return n._isVisible}),n.onVisibilityChanged=new it,n.onModelIsVisibleChangedCallback=function(){n.isVisible=n.model.isVisible},n._isPositionSetValue=!1,n.model=e,n.locale=n.model.locale,n}return bc(t,r),t.prototype.updateIsVisible=function(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})},t.prototype.updateBeforeShowing=function(){this.model.onShow()},t.prototype.updateAfterHiding=function(){this.model.onHiding()},t.prototype.getLeaveOptions=function(){return{cssClass:"sv-popup--animate-leave",onBeforeRunAnimation:function(e){e.setAttribute("inert","")},onAfterRunAnimation:function(e){return e.removeAttribute("inert")}}},t.prototype.getEnterOptions=function(){return{cssClass:"sv-popup--animate-enter"}},t.prototype.getAnimatedElement=function(){return this.getAnimationContainer()},t.prototype.isAnimationEnabled=function(){return"overlay"!==this.model.displayMode&&I.animationEnabled},t.prototype.getRerenderEvent=function(){return this.onElementRerendered},t.prototype.getAnimationContainer=function(){var e;return null===(e=this.container)||void 0===e?void 0:e.querySelector(this.fixedPopupContainer)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this.visibilityAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locale?this.locale:r.prototype.getLocale.call(this)},t.prototype.hidePopup=function(){this.model.isVisible=!1},t.prototype.getStyleClass=function(){return(new A).append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},t.prototype.getShowFooter=function(){return this.isOverlay},t.prototype.getShowHeader=function(){return!1},t.prototype.getPopupHeaderTemplate=function(){},t.prototype.createFooterActionBar=function(){var e=this;this.footerToolbarValue=new ut,this.footerToolbar.updateCallback=function(o){e.footerToolbarValue.actions.forEach(function(s){return s.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var n=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){e.cancel()}}];n=this.model.updateFooterActions(n),this.footerToolbarValue.setItems(n)},t.prototype.resetDimensionsAndPositionStyleProperties=function(){var e="inherit";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e},t.prototype.onModelChanging=function(e){},t.prototype.setupModel=function(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()},Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){this.setupModel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOverlay",{get:function(){return"overlay"===this.model.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.onKeyDown=function(e){"Tab"===e.key||9===e.keyCode?this.trapFocus(e):("Escape"===e.key||27===e.keyCode)&&this.hidePopup()},t.prototype.trapFocus=function(e){var n=this.container.querySelectorAll(qs),o=n[0],s=n[n.length-1];e.shiftKey?I.environment.root.activeElement===o&&(s.focus(),e.preventDefault()):I.environment.root.activeElement===s&&(o.focus(),e.preventDefault())},t.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},Object.defineProperty(t.prototype,"isPositionSet",{get:function(){return this._isPositionSetValue},enumerable:!1,configurable:!0}),t.prototype.updateOnShowing=function(){this.prevActiveElement=I.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0},t.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},t.prototype.focusContainer=function(){if(this.container){var e=this.container.querySelector(this.popupSelector);e?.focus()}},t.prototype.focusFirstInput=function(){var e=this;setTimeout(function(){if(e.container){var n=e.container.querySelector(e.model.focusFirstInputSelector||qs);n?n.focus():e.focusContainer()}},100)},t.prototype.clickOutside=function(e){this.hidePopup(),e?.stopPropagation()},t.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},t.prototype.initializePopupContainer=function(){if(!this.container){var e=k.createElement("div");this.createdContainer=e,In(I.environment.popupMountContainer).appendChild(e)}},t.prototype.setComponentElement=function(e,n,o){e&&(this.containerElement=e)},t.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},t.prototype.preventScrollOuside=function(e,n){for(var o=e.target;o!==this.container;){if("auto"===k.getComputedStyle(o).overflowY&&o.scrollHeight!==o.offsetHeight){var u=o.scrollTop;if(!(n>0&&Math.abs(o.scrollHeight-o.clientHeight-u)<1||n<0&&u<=0))return}o=o.parentElement}e.cancelable&&e.preventDefault()},Wt([_({defaultValue:"0px"})],t.prototype,"top",void 0),Wt([_({defaultValue:"0px"})],t.prototype,"left",void 0),Wt([_({defaultValue:"auto"})],t.prototype,"height",void 0),Wt([_({defaultValue:"auto"})],t.prototype,"width",void 0),Wt([_({defaultValue:"auto"})],t.prototype,"minWidth",void 0),Wt([_({defaultValue:!1})],t.prototype,"_isVisible",void 0),Wt([_()],t.prototype,"locale",void 0),t}(oe),Cc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Do=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function Hs(r,t){var e=r||V.getInnerWidth(),n=t||V.getInnerHeight();return Math.min(e,n)>=Mo.tabletSizeBreakpoint}var Mo=function(r){function t(e,n,o){var s=r.call(this,e)||this;return s.targetElement=n,s.areaElement=o,s.scrollEventCallBack=function(u){if(s.isOverlay&&xe)return u.stopPropagation(),void u.preventDefault();s.hidePopup()},s.resizeEventCallback=function(){if(V.isAvailable()){var u=V.getVisualViewport(),p=k.getDocumentElement();p&&u&&p.style.setProperty("--sv-popup-overlay-height",u.height*u.scale+"px")}},s.resizeWindowCallback=function(){s.isOverlay||s.updatePosition(!0,"vue"===Rt.platform||"vue3"===Rt.platform||"react"==Rt.platform)},s.clientY=0,s.isTablet=!1,s.touchStartEventCallback=function(u){s.clientY=u.touches[0].clientY},s.touchMoveEventCallback=function(u){s.preventScrollOuside(u,s.clientY-u.changedTouches[0].clientY)},s.model.onRecalculatePosition.add(s.recalculatePositionHandler),s}return Cc(t,r),t.prototype.calculateIsTablet=function(e,n){this.isTablet=Hs(e,n)},t.prototype.getAvailableAreaRect=function(){if(this.areaElement){var e=this.areaElement.getBoundingClientRect();return new Oo(e.x,e.y,e.width,e.height)}return new Oo(0,0,V.getInnerWidth(),V.getInnerHeight())},t.prototype.getTargetElementRect=function(){var e=this.targetElement.getBoundingClientRect(),n=this.getAvailableAreaRect();return new Oo(e.left-n.left,e.top-n.top,e.width,e.height)},t.prototype._updatePosition=function(){var e,n,o;if(this.targetElement){var s=this.getTargetElementRect(),u=this.getAvailableAreaRect(),p=null===(e=this.container)||void 0===e?void 0:e.querySelector(this.containerSelector);if(p){var h=null===(n=this.container)||void 0===n?void 0:n.querySelector(this.fixedPopupContainer),m=p.querySelector(this.scrollingContentSelector),x=k.getComputedStyle(p),T=parseFloat(x.marginLeft)||0,D=parseFloat(x.marginRight)||0,B=p.offsetHeight-m.offsetHeight+m.scrollHeight,j=p.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=s.width+"px");var X=this.model.verticalPosition,U=this.getActualHorizontalPosition();if(V.isAvailable()){var $=[B,.9*V.getInnerHeight(),null===(o=V.getVisualViewport())||void 0===o?void 0:o.height];B=Math.ceil(Math.min.apply(Math,$.filter(function(Lt){return"number"==typeof Lt}))),X=Ut.updateVerticalPosition(s,B,this.model.horizontalPosition,this.model.verticalPosition,u.height),U=Ut.updateHorizontalPosition(s,j,this.model.horizontalPosition,u.width)}this.popupDirection=Ut.calculatePopupDirection(X,U);var Z=Ut.calculatePosition(s,B,j+T+D,X,U,this.model.positionMode);if(V.isAvailable()){var Ce=Ut.getCorrectedVerticalDimensions(Z.top,B,u.height,X,this.model.canShrink);if(Ce&&(this.height=Ce.height+"px",Z.top=Ce.top),this.model.setWidthByTarget)this.width=s.width+"px",Z.left=s.left;else{var et=Ut.updateHorizontalDimensions(Z.left,j,V.getInnerWidth(),U,this.model.positionMode,{left:T,right:D});et&&(this.width=et.width?et.width+"px":void 0,Z.left=et.left)}}if(h){var rt=h.getBoundingClientRect();Z.top-=rt.top,Z.left-=rt.left}Z.left+=u.left,Z.top+=u.top,this.left=Z.left+"px",this.top=Z.top+"px",this.showHeader&&(this.pointerTarget=Ut.calculatePointerTarget(s,Z.top,Z.left,X,U,T,D),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},t.prototype.getActualHorizontalPosition=function(){var e=this.model.horizontalPosition;return k.isAvailable()&&"rtl"==k.getComputedStyle(k.getBody()).direction&&("left"===this.model.horizontalPosition?e="right":"right"===this.model.horizontalPosition&&(e="left")),e},t.prototype.getStyleClass=function(){var e=this.model.overlayDisplayMode;return r.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&"plain"!==e).append("sv-popup--tablet",this.isOverlay&&("tablet-dropdown-overlay"==e||"auto"==e&&this.isTablet)).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&(this.showHeader||"top"==this.popupDirection||"bottom"==this.popupDirection))},t.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},t.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},t.prototype.setComponentElement=function(e,n,o){r.prototype.setComponentElement.call(this,e),e&&e.parentElement&&!this.isModal&&(this.targetElement=n||e.parentElement,this.areaElement=o)},t.prototype.resetComponentElement=function(){r.prototype.resetComponentElement.call(this),this.targetElement=void 0},t.prototype.updateOnShowing=function(){this.prevActiveElement=I.environment.root.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),V.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(V.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(),this.resizeEventCallback()),V.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0},Object.defineProperty(t.prototype,"shouldCreateResizeCallback",{get:function(){return!!V.getVisualViewport()&&this.isOverlay&&xe},enumerable:!1,configurable:!0}),t.prototype.updatePosition=function(e,n){var o=this;void 0===n&&(n=!0),e&&(this.height="auto"),n?setTimeout(function(){o._updatePosition()},1):this._updatePosition()},t.prototype.updateOnHiding=function(){r.prototype.updateOnHiding.call(this),V.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(V.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),V.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},t.prototype.onModelChanging=function(e){var n=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(o,s){n.isOverlay||n.updatePosition(s.isResetHeight)}),r.prototype.onModelChanging.call(this,e),e.onRecalculatePosition.add(this.recalculatePositionHandler)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},t.tabletSizeBreakpoint=600,Do([_()],t.prototype,"isTablet",void 0),Do([_({defaultValue:"left"})],t.prototype,"popupDirection",void 0),Do([_({defaultValue:{left:"0px",top:"0px"}})],t.prototype,"pointerTarget",void 0),t}(Eo),_c=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ot=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},mi=function(r){function t(e,n){var o=r.call(this)||this;return o.question=e,o.onSelectionChanged=n,o.minPageSize=25,o.loadingItemHeight=40,o.timer=void 0,o._markdownMode=!1,o.filteredItems=void 0,o.selectedItemSelector=".sv-list__item--selected",o.itemSelector=".sv-list__item",o.itemsSettings={skip:0,take:0,totalCount:0,items:[]},o.popupCssClasses="sv-single-select-list",o.listModelFilterStringChanged=function(s){o.filterString!==s&&(o.filterString=s)},o.questionPropertyChangedHandler=function(s,u){o.onPropertyChangedHandler(s,u)},o.htmlCleanerElement=k.createElement("div"),o.question.ariaExpanded="false",e.onPropertyChanged.add(o.questionPropertyChangedHandler),o.showInputFieldComponent=o.question.showInputFieldComponent,o.listModel=o.createListModel(),o.updateAfterListModelCreated(o.listModel),o.setChoicesLazyLoadEnabled(o.question.choicesLazyLoadEnabled),o.setSearchEnabled(o.question.searchEnabled),o.setTextWrapEnabled(o.question.textWrapEnabled),o.createPopup(),o.resetItemsSettings(),o}return _c(t,r),Object.defineProperty(t.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),t.prototype.getFocusFirstInputSelector=function(){return xe?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},t.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},t.prototype.setItems=function(e,n){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=n,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},t.prototype.loadQuestionChoices=function(e){var n=this;this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(o,s){n.setItems(o||[],s||0),n.popupRecalculatePosition(n.itemsSettings.skip===n.itemsSettings.take),e&&e()}}),this.itemsSettings.skip+=this.itemsSettings.take},t.prototype.updateQuestionChoices=function(e){var n=this;(!this.itemsSettings.skip||this.itemsSettings.skip+1<this.itemsSettings.totalCount)&&(this.filterString&&I.dropdownSearchDelay>0?(this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout(function(){n.loadQuestionChoices(e)},I.dropdownSearchDelay)):this.loadQuestionChoices(e))},t.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},t.prototype.getDropdownMenuOptions=function(){var e=V.getInnerWidth(),n=V.getInnerHeight(),o=Hs(e,n),s="dropdown",u="desktop";return xe&&(s=o?"popup":"overlay",u=o?"tablet":"mobile"),{menuType:s,deviceType:u,hasTouchScreen:xe,screenHeight:n,screenWidth:e}},t.prototype.createPopup=function(){var e=this;this._popupModel=new Vn("sv-list",{model:this.listModel},{verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1}),this._popupModel.displayMode=xe?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=xe,this._popupModel.setWidthByTarget=!xe,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){e.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(o,s){if(s.isVisible&&(e.listModel.renderElements=!0),s.isVisible&&e.question.choicesLazyLoadEnabled&&(e.listModel.actions=[],e.resetItemsSettings(),e.updateQuestionChoices()),s.isVisible){e.updatePopupFocusFirstInputSelector();var u=e.getDropdownMenuOptions();e.question.processOpenDropdownMenu(u),e._popupModel.updateDisplayMode(u.menuType),e.question.onOpenedCallBack&&e.question.onOpenedCallBack()}s.isVisible||(e.onHidePopup(),e.question.choicesLazyLoadEnabled&&e.resetItemsSettings()),e.question.ariaExpanded=s.isVisible?"true":"false",e.question.processPopupVisiblilityChanged(e.popupModel,s.isVisible)})},t.prototype.setFilterStringToListModel=function(e){var n=this;if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0)return this.listModel.focusedItem=this.getAvailableItems().filter(function(o){return o.id==n.question.selectedItem.value})[0],void(this.listModel.filterString&&this.listModel.actions.map(function(o){return o.selectedValue=!1}));(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},t.prototype.setTextWrapEnabled=function(e){this.listModel.textWrapEnabled=e},t.prototype.popupRecalculatePosition=function(e){var n=this;setTimeout(function(){n.popupModel.recalculatePosition(e)},1)},t.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null},t.prototype.getAvailableItems=function(){return this.question.visibleChoices},t.prototype.setOnTextSearchCallbackForListModel=function(e){var n=this;e.setOnTextSearchCallback(function(o,s){if(n.filteredItems)return n.filteredItems.indexOf(o)>=0;var u=o.text.toLocaleLowerCase(),p=(u=I.comparator.normalizeTextCallback(u,"filter")).indexOf(s.toLocaleLowerCase());return"startsWith"==n.question.searchMode?0==p:p>-1})},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),o=this.onSelectionChanged;o||(o=function(p){e.question.value=p.id,e.question.searchEnabled&&e.applyInputString(p),e.popupModel.hide()});var u=new Pn({items:n,onSelectionChanged:o,allowSelection:!1,locOwner:this.question,elementId:this.listElementId});return this.setOnTextSearchCallbackForListModel(u),u.renderElements=!1,u.forceShowFilter=!0,u.areSameItemsCallback=function(p,h){return p===h},u},t.prototype.updateAfterListModelCreated=function(e){var n=this;e.isItemSelected=function(o){return!!o.selected},e.onPropertyChanged.add(function(o,s){"hasVerticalScroller"==s.name&&(n.hasScroll=s.newValue)}),e.isAllDataLoaded=!this.question.choicesLazyLoadEnabled,e.actions.forEach(function(o){return o.disableTabStop=!0})},t.prototype.updateCssClasses=function(e,n){this.popupModel.cssClass=(new A).append(e).append(this.popupCssClasses).toString(),this.listModel.cssClasses=n},t.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},t.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},t.prototype.onSetFilterString=function(){var e=this;if(this.filteredItems=void 0,this.filterString||this.popupModel.isVisible){var n={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,n),this.filteredItems=n.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();var o=function(){e.setFilterStringToListModel(e.filterString),e.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(o)):o()}},Object.defineProperty(t.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),t.prototype.applyInputString=function(e){var n=e?.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e?.locText.getHtmlValue()),this.hintString=""):(this.inputString=e?.title,this.hintString=e?.title)},t.prototype.cleanHtml=function(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""},t.prototype.fixInputCase=function(){var e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)},t.prototype.applyHintString=function(e){var n=e?.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=e?.title},Object.defineProperty(t.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(e){this.inputString=e,this.filterString=e,e?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringLC",{get:function(){var e;return(null===(e=this.hintString)||void 0===e?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputStringLC",{get:function(){var e;return(null===(e=this.inputString)||void 0===e?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringMiddle",{get:function(){var e=this.hintStringLC.indexOf(this.inputStringLC);return-1==e?null:this.hintString.substring(e,e+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputMode",{get:function(){return xe?"none":"text"},enumerable:!1,configurable:!0}),t.prototype.setSearchEnabled=function(e){this.listModel.searchEnabled=xe,this.listModel.showSearchClearButton=xe,this.searchEnabled=e},t.prototype.setChoicesLazyLoadEnabled=function(e){this.listModel.setOnFilterStringChangedCallback(e?this.listModelFilterStringChanged:void 0)},t.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},t.prototype.onClick=function(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))},t.prototype.chevronPointerDown=function(e){this._popupModel.isVisible&&e.preventDefault()},t.prototype.onPropertyChangedHandler=function(e,n){"value"==n.name&&(this.showInputFieldComponent=this.question.showInputFieldComponent),"textWrapEnabled"==n.name&&this.setTextWrapEnabled(n.newValue)},t.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},t.prototype.onClear=function(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())},t.prototype.getSelectedAction=function(){return this.question.selectedItem||null},t.prototype.changeSelectionWithKeyboard=function(e){var n,o=this.listModel.focusedItem;!o&&this.question.selectedItem?J.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(o),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=null===(n=this.listModel.focusedItem)||void 0===n?void 0:n.elementId},t.prototype.beforeScrollToFocusedItem=function(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},t.prototype.afterScrollToFocusedItem=function(){var e;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=null===(e=this.listModel.focusedItem)||void 0===e?void 0:e.elementId},t.prototype.keyHandler=function(e){var n=e.which||e.keyCode;if(this.popupModel.isVisible&&38===e.keyCode?(this.changeSelectionWithKeyboard(!0),e.preventDefault(),e.stopPropagation()):40===e.keyCode&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1),e.preventDefault(),e.stopPropagation()),9===e.keyCode)this.popupModel.hide();else if(this.popupModel.isVisible||13!==e.keyCode&&32!==e.keyCode)if(!this.popupModel.isVisible||13!==e.keyCode&&(32!==e.keyCode||this.question.searchEnabled&&this.inputString))if(46===n||8===n)this.searchEnabled||this.onClear(e);else if(27===e.keyCode)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((38===e.keyCode||40===e.keyCode||32===e.keyCode&&!this.question.searchEnabled)&&(e.preventDefault(),e.stopPropagation()),32===e.keyCode&&this.question.searchEnabled)return;Xr(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}else 13===e.keyCode&&this.question.searchEnabled&&!this.inputString&&this.question instanceof Ln&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),e.preventDefault(),e.stopPropagation();else 32===e.keyCode&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1)),13===e.keyCode&&this.question.survey.questionEditFinishCallback(this.question,e),e.preventDefault(),e.stopPropagation()},t.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},t.prototype.onScroll=function(e){var n=e.target;n.scrollHeight-(n.scrollTop+n.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},t.prototype.onBlur=function(e){this.focused=!1,this.popupModel.isVisible&&xe?this._popupModel.show():(Yr(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation())},t.prototype.onFocus=function(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},t.prototype.setInputStringFromSelectedItem=function(e){this.focused&&(this.question.searchEnabled&&e?this.applyInputString(e):this.inputString=null)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},t.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},Ot([_({defaultValue:!1})],t.prototype,"focused",void 0),Ot([_({defaultValue:!0})],t.prototype,"searchEnabled",void 0),Ot([_({defaultValue:"",onSet:function(e,n){n.onSetFilterString()}})],t.prototype,"filterString",void 0),Ot([_({defaultValue:"",onSet:function(e,n){n.question.inputHasValue=!!e}})],t.prototype,"inputString",void 0),Ot([_({})],t.prototype,"showInputFieldComponent",void 0),Ot([_()],t.prototype,"ariaActivedescendant",void 0),Ot([_({defaultValue:!1,onSet:function(e,n){e?n.listModel.addScrollEventListener(function(o){n.onScroll(o)}):n.listModel.removeScrollEventListener()}})],t.prototype,"hasScroll",void 0),Ot([_({defaultValue:""})],t.prototype,"hintString",void 0),t}(oe),xc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gt=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ln=function(r){function t(e){var n=r.call(this,e)||this;return n.lastSelectedItemValue=null,n.minMaxChoices=[],n.onOpened=n.addEvent(),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return xc(t,r),t.prototype.updateReadOnlyText=function(){var e=this.selectedItem?"":this.placeholder;"select"==this.renderAs&&(this.isOtherSelected?e=this.otherText:this.isNoneSelected?e=this.noneText:this.selectedItem&&(e=this.selectedItemText)),this.readOnlyText=e},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(t.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(e){this.allowClear=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||I.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"dropdown"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),t.prototype.onGetSingleSelectedItem=function(e){e&&(this.lastSelectedItemValue=e)},t.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},t.prototype.getChoices=function(){var e=r.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return e;for(var n=[],o=0;o<e.length;o++)n.push(e[o]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1)for(this.minMaxChoices=[],o=this.choicesMin;o<=this.choicesMax;o+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(o));return n.concat(this.minMaxChoices)},Object.defineProperty(t.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return(new A).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var e=this.suggestedItem||this.selectedItem;return e?.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemText",{get:function(){var e=this.selectedItem;return e?e.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return"select"!==this.renderAs&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new mi(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){var e;return null===(e=this.dropdownListModel)||void 0===e?void 0:e.popupModel},enumerable:!1,configurable:!0}),t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;null===(n=this.dropdownListModel)||void 0===n||n.setInputStringFromSelectedItem(e),r.prototype.onSelectedItemValuesChangedHandler.call(this,e)},t.prototype.hasUnknownValue=function(e,n,o,s){return!this.choicesLazyLoadEnabled&&r.prototype.hasUnknownValue.call(this,e,n,o,s)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=null===(e=this.otherValue)||void 0===e?void 0:e.trim();return!!n&&r.prototype.hasUnknownValue.call(this,n,!0,!1)},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):r.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),!this.isLoadingFromJson&&this.popupModel&&this.dropdownListModel.updateItems()},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.clearValue=function(e){var n;r.prototype.clearValue.call(this,e),this.lastSelectedItemValue=null,null===(n=this.dropdownListModel)||void 0===n||n.clear()},t.prototype.afterRenderCore=function(e){r.prototype.afterRenderCore.call(this,e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()},t.prototype.onClick=function(e){this.onOpenedCallBack&&this.onOpenedCallBack()},t.prototype.onKeyUp=function(e){46===(e.which||e.keyCode)&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){var n;null===(n=this.dropdownListModel)||void 0===n||n.onBlur(e),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){var n;null===(n=this.dropdownListModel)||void 0===n||n.onFocus(e),r.prototype.onFocusCore.call(this,e)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},gt([_()],t.prototype,"allowClear",void 0),gt([_({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),gt([_()],t.prototype,"searchMode",void 0),gt([_()],t.prototype,"textWrapEnabled",void 0),gt([_({defaultValue:!1})],t.prototype,"inputHasValue",void 0),gt([_({defaultValue:""})],t.prototype,"readOnlyText",void 0),gt([_({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),gt([_()],t.prototype,"choicesLazyLoadPageSize",void 0),gt([_()],t.prototype,"suggestedItem",void 0),t}(Ro);M.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:I.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new Ln("")},"selectbase"),he.Instance.registerQuestion("dropdown",function(r){var t=new Ln(r);return t.choices=he.DefaultChoices,t});var Qs=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gs=function(r){function t(e,n,o,s){var u=r.call(this)||this;return u.item=e,u.fullName=n,u.data=o,u.setValueDirectly(s),u.cellClick=function(p){u.value=p.value},u.registerPropertyChangedHandlers(["value"],function(){u.data&&u.data.onMatrixRowChanged(u)}),u.data&&u.data.hasErrorInRow(u)&&(u.hasError=!0),u}return Qs(t,r),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))},enumerable:!1,configurable:!0}),t.prototype.setValueDirectly=function(e){this.setPropertyValue("value",e)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.data.isReadOnlyAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return!this.item.enabled||this.data.isDisabledAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTextClasses",{get:function(){return(new A).append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasError",{get:function(){return this.getPropertyValue("hasError",!1)},set:function(e){this.setPropertyValue("hasError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowClasses",{get:function(){var e=this.data.cssClasses;return(new A).append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()},enumerable:!1,configurable:!0}),t}(oe),$s=function(){function r(t){this.cellsOwner=t,this.values={}}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),r.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},r.prototype.setCellText=function(t,e,n){if(t=this.getCellRowColumnValue(t,this.rows),e=this.getCellRowColumnValue(e,this.columns),t&&e){if(n)this.values[t]||(this.values[t]={}),this.values[t][e]||(this.values[t][e]=this.createString()),this.values[t][e].text=n;else if(this.values[t]&&this.values[t][e]){var o=this.values[t][e];o.text="",o.isEmpty&&(delete this.values[t][e],0==Object.keys(this.values[t]).length&&delete this.values[t])}this.valuesChanged()}},r.prototype.setDefaultCellText=function(t,e){this.setCellText(I.matrix.defaultRowName,t,e)},r.prototype.getCellLocText=function(t,e){return t=this.getCellRowColumnValue(t,this.rows),e=this.getCellRowColumnValue(e,this.columns),t&&e&&this.values[t]&&this.values[t][e]?this.values[t][e]:null},r.prototype.getDefaultCellLocText=function(t,e){return this.getCellLocText(I.matrix.defaultRowName,t)},r.prototype.getCellDisplayLocText=function(t,e){var n=this.getCellLocText(t,e);return n&&!n.isEmpty||(n=this.getCellLocText(I.matrix.defaultRowName,e))&&!n.isEmpty?n:("number"==typeof e&&(e=e>=0&&e<this.columns.length?this.columns[e]:null),e&&e.locText?e.locText:null)},r.prototype.getCellText=function(t,e){var n=this.getCellLocText(t,e);return n?n.calculatedText:null},r.prototype.getDefaultCellText=function(t){var e=this.getCellLocText(I.matrix.defaultRowName,t);return e?e.calculatedText:null},r.prototype.getCellDisplayText=function(t,e){var n=this.getCellDisplayLocText(t,e);return n?n.calculatedText:null},Object.defineProperty(r.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),r.prototype.getCellRowColumnValue=function(t,e){if(null==t)return null;if("number"==typeof t){if(t<0||t>=e.length)return null;t=e[t].value}return t.value?t.value:t},r.prototype.getJson=function(){if(this.isEmpty)return null;var t={};for(var e in this.values){var n={},o=this.values[e];for(var s in o)n[s]=o[s].getJson();t[e]=n}return t},r.prototype.setJson=function(t){if(this.values={},t)for(var e in t)if("pos"!=e){var n=t[e];for(var o in this.values[e]={},n)if("pos"!=o){var s=this.createString();s.setJson(n[o]),this.values[e][o]=s}}this.valuesChanged()},r.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var t in this.values){var e=this.values[t];for(var n in e)e[n].strChanged()}},r.prototype.createString=function(){return new ot(this.cellsOwner,!0)},r}(),ko=function(r){function t(e){var n=r.call(this,e)||this;return n.isRowChanging=!1,n.emptyLocalizableString=new ot(n),n.cellsValue=new $s(n),n.cellsValue.onValuesChanged=function(){n.updateHasCellText(),n.propertyValueChanged("cells",n.cells,n.cells)},n.registerPropertyChangedHandlers(["columns"],function(){n.onColumnsChanged()}),n.registerPropertyChangedHandlers(["rows"],function(){n.filterItems()||n.onRowsChanged()}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return Qs(t,r),t.prototype.getType=function(){return"matrix"},Object.defineProperty(t.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemComponent",{set:function(e){this.setPropertyValue("cellComponent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(e){this.setPropertyValue("isAllRowRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(e){this.setPropertyValue("eachRowUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(e){(e=e.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",e),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){return this.rows},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.addColumn=function(e,n){var o=new J(e,n);return this.columns.push(o),o},t.prototype.getItemClass=function(e,n){var o=e.value==n.value,u=!o&&!this.isReadOnly,p=this.hasCellText,h=this.cssClasses;return(new A).append(h.cell,p).append(p?h.cellText:h.label).append(h.itemOnError,!p&&(this.isAllRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(p?h.cellTextSelected:h.itemChecked,o).append(p?h.cellTextDisabled:h.itemDisabled,this.isDisabledStyle).append(p?h.cellTextReadOnly:h.itemReadOnly,this.isReadOnlyStyle).append(p?h.cellTextPreview:h.itemPreview,this.isPreviewStyle).append(h.itemHover,u&&!p).toString()},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},t.prototype.getQuizQuestionCount=function(){for(var e=0,n=0;n<this.rows.length;n++)this.isValueEmpty(this.correctAnswer[this.rows[n].value])||e++;return e},t.prototype.getCorrectAnswerCount=function(){for(var e=0,n=this.value,o=0;o<this.rows.length;o++){var s=this.rows[o].value;!this.isValueEmpty(n[s])&&this.isTwoValueEquals(this.correctAnswer[s],n[s])&&e++}return e},t.prototype.runItemsCondition=function(e,n){return J.runEnabledConditionsForItems(this.rows,void 0,e,n),r.prototype.runItemsCondition.call(this,e,n)},t.prototype.getVisibleRows=function(){var e=new Array,n=this.value;n||(n={});for(var o=this.filteredRows?this.filteredRows:this.rows,s=0;s<o.length;s++){var u=o[s];this.isValueEmpty(u.value)||e.push(this.createMatrixRow(u,this.id+"_"+u.value.toString().replace(/\s/g,"_"),n[u.value]))}return this.generatedVisibleRows=e,e},t.prototype.sortVisibleRows=function(e){return this.survey&&this.survey.isDesignMode?e:"random"===this.rowsOrder.toLowerCase()?R.randomizeArray(e):e},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},t.prototype.isNewValueCorrect=function(e){return R.isValueObject(e,!0)},t.prototype.processRowsOnSet=function(e){return this.sortVisibleRows(e)},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this.cellsValue},set:function(e){this.cells.setJson(e&&e.getJson?e.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},t.prototype.setCellText=function(e,n,o){this.cells.setCellText(e,n,o)},t.prototype.getCellText=function(e,n){return this.cells.getCellText(e,n)},t.prototype.setDefaultCellText=function(e,n){this.cells.setDefaultCellText(e,n)},t.prototype.getDefaultCellText=function(e){return this.cells.getDefaultCellText(e)},t.prototype.getCellDisplayText=function(e,n){return this.cells.getCellDisplayText(e,n)},t.prototype.getCellDisplayLocText=function(e,n){return this.cells.getCellDisplayLocText(e,n)||this.emptyLocalizableString},t.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&this.hasValuesInAllRows()},t.prototype.onCheckForErrors=function(e,n){if(r.prototype.onCheckForErrors.call(this,e,n),!n||this.hasCssError()){var o={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(!0,o),o.noValue&&e.push(new Eu(null,this)),o.isNotUnique&&e.push(new Du(null,this))}},t.prototype.hasValuesInAllRows=function(){var e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue},t.prototype.checkErrorsAllRows=function(e,n,o){var s=this,u=this.generatedVisibleRows;if(u||(u=this.visibleRows),u){var p=this.isAllRowRequired||o,h=this.eachRowUnique;if(n.noValue=!1,n.isNotUnique=!1,e&&(this.errorsInRow=void 0),p||h){for(var m={},x=0;x<u.length;x++){var T=u[x].value,D=this.isValueEmpty(T),B=h&&!D&&!0===m[T];D=D&&p,e&&(D||B)&&this.addErrorIntoRow(u[x]),D||(m[T]=!0),n.noValue=n.noValue||D,n.isNotUnique=n.isNotUnique||B}e&&u.forEach(function(j){j.hasError=s.hasErrorInRow(j)})}}},t.prototype.addErrorIntoRow=function(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0},t.prototype.refreshRowsErrors=function(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})},t.prototype.getIsAnswered=function(){return r.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},t.prototype.createMatrixRow=function(e,n,o){var s=new Gs(e,n,this,o);return this.onMatrixRowCreated(s),s},t.prototype.onMatrixRowCreated=function(e){},t.prototype.setQuestionValue=function(e,n){if(void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,this.isRowChanging||n),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var o=this.value;if(o||(o={}),0==this.rows.length)this.generatedVisibleRows[0].setValueDirectly(o);else for(var s=0;s<this.generatedVisibleRows.length;s++){var p=o[this.generatedVisibleRows[s].name];this.isValueEmpty(p)&&(p=null),this.generatedVisibleRows[s].setValueDirectly(p)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}},t.prototype.getDisplayValueCore=function(e,n){var o={};for(var s in n){var u=e?J.getTextOrHtmlByValue(this.rows,s):s;u||(u=s);var p=J.getTextOrHtmlByValue(this.columns,n[s]);p||(p=n[s]),o[u]=p}return o},t.prototype.getPlainData=function(e){var n=this;void 0===e&&(e={includeEmpty:!0});var o=r.prototype.getPlainData.call(this,e);if(o){var s=this.createValueCopy();o.isNode=!0,o.data=Object.keys(s||{}).map(function(u){var p=n.rows.filter(function(x){return x.value===u})[0],h={name:u,title:p?p.text:"row",value:s[u],displayValue:J.getTextOrHtmlByValue(n.visibleColumns,s[u]),getString:function(x){return"object"==typeof x?JSON.stringify(x):x},isNode:!1},m=J.getItemByValue(n.visibleColumns,s[u]);return m&&(e.calculations||[]).forEach(function(x){h[x.propertyName]=m[x.propertyName]}),h})}return o},t.prototype.addConditionObjectsByContext=function(e,n){for(var o=0;o<this.rows.length;o++){var s=this.rows[o];s.value&&e.push({name:this.getValueName()+"."+s.value,text:this.processedTitle+"."+s.calculatedText,question:this})}},t.prototype.getConditionJson=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var o=new Ln(n);o.choices=this.columns;var s=(new Oe).toJsonObject(o);return s.type=o.getType(),s},t.prototype.clearValueIfInvisibleCore=function(e){r.prototype.clearValueIfInvisibleCore.call(this,e),this.hasRows&&this.clearInvisibleValuesInRows()},t.prototype.getFirstInputElementId=function(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":r.prototype.getFirstInputElementId.call(this)},t.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var n=this.value;n||(n={}),n[e.name]=e.value,this.setNewValue(n)}else this.setNewValue(e.value);this.isRowChanging=!1}},t.prototype.getCorrectedRowValue=function(e){for(var n=0;n<this.columns.length;n++)if(e===this.columns[n].value)return e;for(n=0;n<this.columns.length;n++)if(this.isTwoValueEquals(e,this.columns[n].value))return this.columns[n].value;return e},t.prototype.hasErrorInRow=function(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]},t.prototype.getSearchableItemValueKeys=function(e){e.push("columns"),e.push("rows")},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")},t}(lo);M.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return te.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return te.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new ko("")},"matrixbase"),he.Instance.registerQuestion("matrix",function(r){var t=new ko(r);return t.rows=he.DefaultRows,t.columns=he.DefaultColums,t});var zs=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Us=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ws=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zs(t,r),t.prototype.updateRemainingCharacterCounter=function(e,n){this.remainingCharacterCounter=R.getRemainingCharacterCounterText(e,n)},Us([_()],t.prototype,"remainingCharacterCounter",void 0),t}(oe),gi=function(r){function t(e){var n=r.call(this,e)||this;return n.characterCounter=new Ws,n}return zs(t,r),t.prototype.isTextValue=function(){return!0},Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return R.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},t.prototype.updateRemainingCharacterCounter=function(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"textbase"},t.prototype.isEmpty=function(){return r.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return"default"==this.textUpdateMode?r.prototype.getIsInputTextUpdate.call(this):"onTyping"==this.textUpdateMode},Object.defineProperty(t.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),t.prototype.setRenderedPlaceholder=function(e){this.setPropertyValue("renderedPlaceholder",e)},t.prototype.onReadOnlyChanged=function(){r.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},t.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),r.prototype.onSurveyLoad.call(this)},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.calcRenderedPlaceholder()},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.calcRenderedPlaceholder=function(){var e=this.placeHolder;e&&!this.hasPlaceholder()&&(e=void 0),this.setRenderedPlaceholder(e)},t.prototype.hasPlaceholder=function(){return!this.isReadOnly},t.prototype.setNewValue=function(e){r.prototype.setNewValue.call(this,e),this.updateRemainingCharacterCounter(e)},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.updateRemainingCharacterCounter(e)},t.prototype.convertToCorrectValue=function(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e},t.prototype.getValueSeparator=function(){return", "},t.prototype.getControlCssClassBuilder=function(){return(new A).append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)},t.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Us([_({localizable:!0,onSet:function(e,n){return n.calcRenderedPlaceholder()}})],t.prototype,"placeholder",void 0),t}(je);M.addClass("textbase",[],function(){return new gi("")},"question");var wc=function(){function r(t,e,n){var o=this;this.inputMaskInstance=t,this.inputElement=e,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=function(u,p){if("saveMaskedValue"!==p.name){var h=o.inputMaskInstance.getMaskedValue(o.prevUnmaskedValue);o.inputElement.value=h}},this.clickHandler=function(u){o.inputElement.value==o.inputMaskInstance.getMaskedValue("")&&o.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=function(u){var p=o.createArgs(u),h=o.inputMaskInstance.processInput(p);o.inputElement.value=h.value,o.inputElement.setSelectionRange(h.caretPosition,h.caretPosition),h.cancelPreventDefault||u.preventDefault()},this.changeHandler=function(u){var p=o.inputMaskInstance.processInput({prevValue:"",insertedChars:u.target.value,selectionStart:0,selectionEnd:0});o.inputElement.value=p.value};var s=n;null==s&&(s=""),this.inputElement.value=t.getMaskedValue(s),this.prevUnmaskedValue=s,t.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}return r.prototype.createArgs=function(t){var e={insertedChars:t.data,selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd,prevValue:t.target.value,inputDirection:"forward"};return"deleteContentBackward"===t.inputType&&(e.inputDirection="backward",e.selectionStart===e.selectionEnd&&(e.selectionStart=Math.max(e.selectionStart-1,0))),"deleteContentForward"===t.inputType&&e.selectionStart===e.selectionEnd&&(e.selectionEnd+=1),e},r.prototype.addInputEventListener=function(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))},r.prototype.removeInputEventListener=function(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))},r.prototype.dispose=function(){this.removeInputEventListener(),this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)},r}(),Ao=/[0-9]/;function Ys(){var t=(M.getChildrenClasses("masksettings")||[]).map(function(e){var n=e.name;return-1!==e.name.indexOf("mask")&&(n=n.slice(0,n.indexOf("mask"))),n});return t.unshift("none"),t}var Pc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lo=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yi=function(r){function t(e){var n=r.call(this,e)||this;return n._isWaitingForEnter=!1,n.onCompositionUpdate=function(o){n.isInputTextUpdate&&setTimeout(function(){n.updateValueOnEvent(o)},1),n.updateRemainingCharacterCounter(o.target.value)},n.onKeyUp=function(o){n.isInputTextUpdate?(!n._isWaitingForEnter||13===o.keyCode)&&(n.updateValueOnEvent(o),n._isWaitingForEnter=!1):13===o.keyCode&&n.updateValueOnEvent(o),n.updateRemainingCharacterCounter(o.target.value)},n.onKeyDown=function(o){n.updateDateValidationMessage(o),n.onKeyDownPreprocess&&n.onKeyDownPreprocess(o),n.isInputTextUpdate&&(n._isWaitingForEnter=229===o.keyCode),n.onTextKeyDownHandler(o)},n.onChange=function(o){n.updateDateValidationMessage(o),o.target===I.environment.root.activeElement?n.isInputTextUpdate&&n.updateValueOnEvent(o):n.updateValueOnEvent(o),n.updateRemainingCharacterCounter(o.target.value)},n.createLocalizableString("minErrorText",n,!0,"minError"),n.createLocalizableString("maxErrorText",n,!0,"maxError"),n.setNewMaskSettingsProperty(),n.locDataListValue=new Ur(n),n.locDataListValue.onValueChanged=function(o,s){n.propertyValueChanged("dataList",o,s)},n.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){n.setRenderedMinMax()}),n.registerPropertyChangedHandlers(["inputType","size"],function(){n.updateInputSize(),n.calcRenderedPlaceholder()}),n}return Pc(t,r),t.prototype.createMaskAdapter=function(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new wc(this.maskInstance,this.input,this.value))},t.prototype.deleteMaskAdapter=function(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)},t.prototype.updateMaskAdapter=function(){this.deleteMaskAdapter(),this.createMaskAdapter()},t.prototype.onSetMaskType=function(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()},Object.defineProperty(t.prototype,"maskTypeIsEmpty",{get:function(){switch(this.inputType){case"tel":case"text":return"none"===this.maskType;default:return!0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){e&&(this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter())},enumerable:!1,configurable:!0}),t.prototype.setNewMaskSettingsProperty=function(){this.setPropertyValue("maskSettings",this.createMaskSettings())},t.prototype.createMaskSettings=function(){var e=this.maskType&&"none"!==this.maskType?this.maskType+"mask":"masksettings";M.findClass(e)||(e="masksettings");var n=M.createClass(e);return n.owner=this.survey,n},t.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},t.prototype.getType=function(){return"text"},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(e){("datetime_local"===(e=e.toLowerCase())||"datetime"===e)&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return this.isTextInput?r.prototype.getMaxLength.call(this):null},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e,n)},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(e){this.setPropertyValue("size",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),t.prototype.updateInputSize=function(){var e=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&e<1&&this.parent&&this.parent.itemSize&&(e=this.parent.itemSize),this.setPropertyValue("inputSize",e),this.setPropertyValue("inputWidth",e>0?"auto":"")},Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(e){this.isValueExpression(e)?this.minValueExpression=e.substring(1):this.setPropertyValue("min",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(e){this.isValueExpression(e)?this.maxValueExpression=e.substring(1):this.setPropertyValue("max",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(e){this.setPropertyValue("minValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(e){this.setPropertyValue("maxValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(e){this.setLocalizableStringText("minErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(e){this.setLocalizableStringText("maxErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMinMaxType",{get:function(){return pt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskInstance",{get:function(){return this.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this._inputValue},set:function(e){var n=e;this._inputValue=e,this.maskTypeIsEmpty||(n=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(n),n&&this.maskSettings.saveMaskedValue&&(n=this.maskInstance.getMaskedValue(n))),this.value=n},enumerable:!1,configurable:!0}),t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.updateInputValue()},t.prototype.updateInputValue=function(){this._inputValue=this.maskTypeIsEmpty?this.value:this.maskSettings.saveMaskedValue?this.value?this.value:this.maskInstance.getMaskedValue(""):this.maskInstance.getMaskedValue(this.value)},t.prototype.hasToConvertToUTC=function(e){return I.storeUtcDates&&this.isDateTimeLocaleType()&&!!e},t.prototype.valueForSurveyCore=function(e){return this.hasToConvertToUTC(e)&&(e=new Date(e).toISOString()),r.prototype.valueForSurveyCore.call(this,e)},t.prototype.valueFromDataCore=function(e){if(this.hasToConvertToUTC(e)){var n=new Date(e),s=new Date(n.getTime()-60*n.getTimezoneOffset()*1e3).toISOString();e=s.substring(0,s.length-2)}return r.prototype.valueFromDataCore.call(this,e)},t.prototype.onCheckForErrors=function(e,n){var o=this;if(r.prototype.onCheckForErrors.call(this,e,n),!n){if(this.isValueLessMin){var s=new tt(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);s.onUpdateErrorTextCallback=function(x){x.text=o.getMinMaxErrorText(o.minErrorText,o.getCalculatedMinMax(o.renderedMin))},e.push(s)}if(this.isValueGreaterMax){var u=new tt(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);u.onUpdateErrorTextCallback=function(x){x.text=o.getMinMaxErrorText(o.maxErrorText,o.getCalculatedMinMax(o.renderedMax))},e.push(u)}this.dateValidationMessage&&e.push(new tt(this.dateValidationMessage,this));var p=this.getValidatorTitle(),h=new no;if("email"===this.inputType&&!this.validators.some(function(x){return"emailvalidator"===x.getType()})){var m=h.validate(this.value,p);m&&m.error&&e.push(m.error)}}},t.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var e=!this.isValueLessMin&&!this.isValueGreaterMax;return"number"===this.inputType&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e},t.prototype.convertFuncValuetoQuestionValue=function(e){return R.convertValToQuestionVal(e,this.inputType)},t.prototype.getMinMaxErrorText=function(e,n){if(R.isValueEmpty(n))return e;var o=n.toString();return"date"===this.inputType&&n.toDateString&&(o=n.toDateString()),e.replace("{0}",o)},Object.defineProperty(t.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||this.isDateTimeLocaleType()},enumerable:!1,configurable:!0}),t.prototype.isDateTimeLocaleType=function(){return"datetime-local"===this.inputType},t.prototype.getCalculatedMinMax=function(e){return this.isValueEmpty(e)?e:this.isDateInputType?new Date(e):e},t.prototype.setRenderedMinMax=function(e,n){var o=this;void 0===e&&(e=null),void 0===n&&(n=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(s){!s&&o.isDateInputType&&I.minDate&&(s=I.minDate),o.setPropertyValue("renderedMin",s)},e,n),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(s){!s&&o.isDateInputType&&(s=I.maxDate?I.maxDate:"2999-12-31"),o.setPropertyValue("renderedMax",s)},e,n)},Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"number"!==this.inputType?void 0:"any":this.step},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return!!this.maskTypeIsEmpty&&r.prototype.getIsInputTextUpdate.call(this)},t.prototype.supportGoNextPageAutomatic=function(){return!this.getIsInputTextUpdate()&&!this.isDateInputType},t.prototype.supportGoNextPageError=function(){return!this.isDateInputType},Object.defineProperty(t.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(e){this.locDataList.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),t.prototype.canRunValidators=function(e){return this.errors.length>0||!e||this.supportGoNextPageError()},t.prototype.setNewValue=function(e){(e=this.correctValueType(e))&&(this.dateValidationMessage=void 0),r.prototype.setNewValue.call(this,e)},t.prototype.correctValueType=function(e){if(!e)return e;if("number"===this.inputType||"range"===this.inputType)return R.isNumber(e)?R.getNumber(e):"";if("month"===this.inputType){var n=new Date(e),o=0==n.toISOString().indexOf(e)&&-1==e.indexOf("T"),p=(o?n.getUTCMonth():n.getMonth())+1;return(o?n.getUTCFullYear():n.getFullYear())+"-"+(p<10?"0":"")+p}return e},t.prototype.hasPlaceholder=function(){return!this.isReadOnly&&"range"!==this.inputType},t.prototype.getControlCssClassBuilder=function(){var e=this.getMaxLength();return r.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===I.readOnly.textRenderMode},Object.defineProperty(t.prototype,"inputStyle",{get:function(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e},enumerable:!1,configurable:!0}),t.prototype.updateTextAlign=function(e){"auto"!==this.inputTextAlignment?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&"auto"!==this.maskSettings.getTextAlignment()&&(e.textAlign=this.maskSettings.getTextAlignment())},t.prototype.updateValueOnEvent=function(e){var n=e.target.value;this.isTwoValueEquals(this.value,n)||(this.inputValue=n)},t.prototype.updateDateValidationMessage=function(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0},t.prototype.onBlurCore=function(e){this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){this.updateRemainingCharacterCounter(e.target.value),r.prototype.onFocusCore.call(this,e)},t.prototype.afterRenderQuestionElement=function(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.deleteMaskAdapter()},Lo([_({onSet:function(e,n){n.onSetMaskType(e)}})],t.prototype,"maskType",void 0),Lo([_()],t.prototype,"inputTextAlignment",void 0),Lo([_()],t.prototype,"_inputValue",void 0),t}(gi),Vc=["number","range","date","datetime-local","month","time","week"];function pt(r){var t=r?r.inputType:"";return!!t&&Vc.indexOf(t)>-1}function Xs(r,t){var e=r.split(t);return 2===e.length&&R.isNumber(e[0])&&R.isNumber(e[1])?60*parseFloat(e[0])+parseFloat(e[1]):-1}function Js(r,t,e,n){var o=n?e:t;if(!pt(r)||R.isValueEmpty(t)||R.isValueEmpty(e))return o;if(0===r.inputType.indexOf("date")||"month"===r.inputType){var s="month"===r.inputType,u=new Date(s?t+"-01":t),p=new Date(s?e+"-01":e);if(!u||!p)return o;if(u>p)return n?t:e}if("week"===r.inputType||"time"===r.inputType)return function Tc(r,t,e){var n=Xs(r,e),o=Xs(t,e);return!(n<0||o<0)&&n>o}(t,e,"week"===r.inputType?"-W":":")?n?t:e:o;if("number"===r.inputType){if(!R.isNumber(t)||!R.isNumber(e))return o;if(R.getNumber(t)>R.getNumber(e))return n?t:e}return"string"==typeof t||"string"==typeof e?o:t>e?n?t:e:o}function Ks(r,t){r&&r.inputType&&(t.inputType="range"!==r.inputType?r.inputType:"number",t.textUpdateMode="onBlur")}M.addClass("text",[{name:"inputType",default:"text",choices:I.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(r){return!!r&&r.isTextInput}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(r){return!!r&&r.isTextInput}},{name:"autocomplete",alternativeName:"autoComplete",choices:I.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(r){return pt(r)},onPropertyEditorUpdate:function(r,t){Ks(r,t)},onSettingValue:function(r,t){return Js(r,t,r.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(r){return pt(r)},onSettingValue:function(r,t){return Js(r,r.min,t,!0)},onPropertyEditorUpdate:function(r,t){Ks(r,t)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(r){return"text"===r.inputType||"tel"===r.inputType},choices:function(r){return Ys()}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:function(r){return"text"===r.inputType||"tel"===r.inputType},onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,t){r.maskSettings.setData(t)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(r){return!!r&&("number"===r.inputType||"range"===r.inputType)}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(r){return!!r&&r.isTextInput}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(r){return!!r&&r.isTextInput}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(r){return!!r&&"text"===r.inputType}}],function(){return new yi("")},"textbase"),he.Instance.registerQuestion("text",function(r){return new yi(r)});var dn=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fo=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Zs=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dn(t,r),Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),t}(yi),jo=function(r){function t(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.call(this)||this;return o.focusIn=function(){o.editor.focusIn()},o.editorValue=o.createEditor(e),o.maskSettings=o.editorValue.maskSettings,o.editor.questionTitleTemplateCallback=function(){return""},o.editor.titleLocation="left",n&&(o.title=n),o}return dn(t,r),t.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(t.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),t.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(t.prototype,"name",{get:function(){return this.editor.name},set:function(e){this.editor.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),t.prototype.createEditor=function(e){return new Zs(e)},t.prototype.addUsedLocales=function(e){r.prototype.addUsedLocales.call(this,e),this.editor.addUsedLocales(e)},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this),this.editor.localeChanged()},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},t.prototype.setData=function(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(e){this.editor.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(e){this.editor.inputType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.editor.title},set:function(e){this.editor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(e){this.editor.maxLength=e},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){var e=this.getSurvey();return R.getMaxLength(this.maxLength,e?e.maxTextLength:-1)},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(e){this.editor.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(e){this.editor.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.editor.size},set:function(e){this.editor.size=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(e){this.editor.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(e){this.editor.minValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(e){this.editor.maxValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.editor.validators},set:function(e){this.editor.validators=e},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},Object.defineProperty(t.prototype,"maskType",{get:function(){return this.editor.maskType},set:function(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputTextAlignment",{get:function(){return this.editor.inputTextAlignment},set:function(e){this.editor.inputTextAlignment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){null!=this.data&&this.data.setMultipleTextValue(this.name,e)},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.editor.isEmpty()},t.prototype.onValueChanged=function(e){this.valueChangedCallback&&this.valueChangedCallback(e)},t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},t.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},t.prototype.getValue=function(e){return this.data?this.data.getMultipleTextValue(e):null},t.prototype.setValue=function(e,n){this.data&&this.data.setMultipleTextValue(e,n)},t.prototype.getVariable=function(e){},t.prototype.setVariable=function(e,n){},t.prototype.getComment=function(e){return null},t.prototype.setComment=function(e,n){},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},t.prototype.getFilteredValues=function(){return this.getAllValues()},t.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},t.prototype.findQuestionByName=function(e){var n=this.getSurvey();return n?n.getQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},t.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},t}(oe),vi=function(r){function t(e){var n=r.call(this,e)||this;return n.isMultipleItemValueChanging=!1,n.createNewArray("items",function(o){o.setData(n),n.survey&&n.survey.multipleTextItemAdded(n,o)}),n.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){n.calcVisibleRows()}),n.registerPropertyChangedHandlers(["itemSize"],function(){n.updateItemsSize()}),n}return dn(t,r),t.addDefaultItems=function(e){for(var n=he.DefaultMutlipleTextItems,o=0;o<n.length;o++)e.addItem(n[o])},t.prototype.getType=function(){return"multipletext"},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n);for(var o=0;o<this.items.length;o++)this.items[o].setData(this)},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){var n;null===(n=this.items)||void 0===n||n.map(function(o,s){return o.editor.id=e+"_"+s}),this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),r.prototype.onSurveyLoad.call(this)},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.performForEveryEditor(function(o){o.editor.updateValueFromSurvey(o.value)}),this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),this.performForEveryEditor(function(n){n.editor.onSurveyValueChanged(n.value)})},t.prototype.updateItemsSize=function(){this.performForEveryEditor(function(e){e.editor.updateInputSize()})},t.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(e){e.editor.onSurveyLoad()})},t.prototype.performForEveryEditor=function(e){for(var n=0;n<this.items.length;n++){var o=this.items[n];o.editor&&e(o)}},Object.defineProperty(t.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){this.setPropertyValue("items",e)},enumerable:!1,configurable:!0}),t.prototype.addItem=function(e,n){void 0===n&&(n=null);var o=this.createTextItem(e,n);return this.items.push(o),o},t.prototype.getItemByName=function(e){for(var n=0;n<this.items.length;n++)if(this.items[n].name==e)return this.items[n];return null},t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),r.prototype.getElementsInDesign.call(this,e).concat(this.items)},t.prototype.addConditionObjectsByContext=function(e,n){for(var o=0;o<this.items.length;o++){var s=this.items[o];e.push({name:this.getValueName()+"."+s.name,text:this.processedTitle+"."+s.fullTitle,question:this})}},t.prototype.collectNestedQuestionsCore=function(e,n){this.items.forEach(function(o){return o.editor.collectNestedQuestions(e,n)})},t.prototype.getConditionJson=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var o=this.getItemByName(n);if(!o)return null;var s=(new Oe).toJsonObject(o);return s.type="text",s},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()},Object.defineProperty(t.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(e){this.setPropertyValue("itemErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return"default"!==this.itemErrorLocation?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(t.prototype,"showItemErrorOnTop",{get:function(){return"top"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemErrorOnBottom",{get:function(){return"bottom"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){return this.getQuestionErrorLocation()},t.prototype.isNewValueCorrect=function(e){return R.isValueObject(e,!0)},t.prototype.supportGoNextPageAutomatic=function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0},Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<1||e>5||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(e){this.setPropertyValue("itemSize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(e){this.setPropertyValue("itemTitleWidth",e)},enumerable:!1,configurable:!0}),t.prototype.onRowCreated=function(e){return e},t.prototype.calcVisibleRows=function(){for(var s,u,e=this.colCount,n=this.items,o=0,p=[],h=0;h<n.length;h++)0==o&&(s=this.onRowCreated(new Bo),u=this.onRowCreated(new ea),this.showItemErrorOnTop?(p.push(u),p.push(s)):(p.push(s),p.push(u))),s.cells.push(new No(n[h],this)),u.cells.push(new ta(n[h],this)),(++o>=e||h==n.length-1)&&(o=0,u.onAfterCreated());this.rows=p},t.prototype.getRows=function(){return R.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this),this.onItemValueChanged()},t.prototype.createTextItem=function(e,n){return new jo(e,n)},t.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var n=null;this.value&&this.items[e].name in this.value&&(n=this.value[this.items[e].name]),this.items[e].onValueChanged(n)}},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.items.forEach(function(o){return o.editor.runCondition(e,n)})},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1},t.prototype.hasErrors=function(e,n){var o=this;void 0===e&&(e=!0),void 0===n&&(n=null);for(var s=!1,u=0;u<this.items.length;u++)this.items[u].editor.onCompletedAsyncValidators=function(p){o.raiseOnCompletedAsyncValidators()},(!n||!0!==n.isOnValueChanged||!this.items[u].editor.isEmpty())&&(s=this.items[u].editor.hasErrors(e,n)||s);return r.prototype.hasErrors.call(this,e)||s},t.prototype.getAllErrors=function(){for(var e=r.prototype.getAllErrors.call(this),n=0;n<this.items.length;n++){var o=this.items[n].editor.getAllErrors();o&&o.length>0&&(e=e.concat(o))}return e},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this);for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.items,o=0;o<n.length;o++)if(n[o].editor.containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!r.prototype.getIsAnswered.call(this))return!1;for(var e=0;e<this.items.length;e++){var n=this.items[e].editor;if(n.isVisible&&!n.isAnswered)return!1}return!0},t.prototype.getProgressInfo=function(){for(var e=[],n=0;n<this.items.length;n++)e.push(this.items[n].editor);return We.getProgressInfoByElements(e,this.isRequired)},t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;for(var o={},s=0;s<this.items.length;s++){var u=this.items[s],p=n[u.name];if(!R.isValueEmpty(p)){var h=u.name;e&&u.title&&(h=u.title),o[h]=u.editor.getDisplayValue(e,p)}}return o},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},t.prototype.setMultipleTextValue=function(e,n){this.isMultipleItemValueChanging=!0,this.isValueEmpty(n)&&(n=void 0);var o=this.value;o||(o={}),o[e]=n,this.setNewValue(o),this.isMultipleItemValueChanging=!1},t.prototype.getItemDefaultValue=function(e){return this.defaultValue?this.defaultValue[e]:null},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getItemLabelCss=function(e){return(new A).append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()},t.prototype.getItemCss=function(){return(new A).append(this.cssClasses.item).toString()},t.prototype.getItemTitleCss=function(){return(new A).append(this.cssClasses.itemTitle).toString()},Fo([qe()],t.prototype,"rows",void 0),t}(je),Bo=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isVisible=!0,e.cells=[],e}return dn(t,r),Fo([_()],t.prototype,"isVisible",void 0),Fo([qe()],t.prototype,"cells",void 0),t}(oe),ea=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return dn(t,r),t.prototype.onAfterCreated=function(){var e=this,n=function(){e.isVisible=e.cells.some(function(o){var s,u;return(null===(s=o.item)||void 0===s?void 0:s.editor)&&(null===(u=o.item)||void 0===u?void 0:u.editor.hasVisibleErrors)})};this.cells.forEach(function(o){var s,u;null!==(s=o.item)&&void 0!==s&&s.editor&&(null===(u=o.item)||void 0===u||u.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n))}),n()},t}(Bo),No=function(){function r(t,e){this.item=t,this.question=e,this.isErrorsCell=!1}return r.prototype.getClassName=function(){return(new A).append(this.question.cssClasses.cell).toString()},Object.defineProperty(r.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),r}(),ta=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isErrorsCell=!0,e}return dn(t,r),t.prototype.getClassName=function(){return(new A).append(r.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},t}(No);M.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:I.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(r){return"text"===r.inputType},choices:function(r){return Ys()}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:function(r){return"text"===r.inputType},onGetValue:function(r){return r.maskSettings.getData()},onSetValue:function(r,t){r.maskSettings.setData(t)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return pt(r)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new jo("")}),M.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0,visible:!1},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new vi("")},"question"),he.Instance.registerQuestion("multipletext",function(r){var t=new vi(r);return vi.addDefaultItems(t),t});var Ic=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),na=function(r){function t(e){void 0===e&&(e="");var n=r.call(this,e)||this;return n.createLocalizableString("content",n,!0),n.registerPropertyChangedHandlers(["content"],function(){n.onContentChanged()}),n}return Ic(t,r),t.prototype.getType=function(){return"flowpanel"},t.prototype.getChildrenLayoutType=function(){return"flow"},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(t.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(e){this.setLocalizableStringText("content",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(e){this.setPropertyValue("html",e)},enumerable:!1,configurable:!0}),t.prototype.onContentChanged=function(){var e;e=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()},t.prototype.produceHtml=function(){for(var e=[],n=/{(.*?(element:)[^$].*?)}/g,o=this.content,s=0,u=null;null!==(u=n.exec(o));){u.index>s&&(e.push(o.substring(s,u.index)),s=u.index);var p=this.getQuestionFromText(u[0]);e.push(p?this.getHtmlForQuestion(p):o.substring(s,u.index+u[0].length)),s=u.index+u[0].length}return s<o.length&&e.push(o.substring(s,o.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")},t.prototype.getQuestionFromText=function(e){return e=(e=e.substring(1,e.length-1)).replace(t.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)},t.prototype.getHtmlForQuestion=function(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""},t.prototype.getQuestionHtmlId=function(e){return this.name+"_"+e.id},t.prototype.onAddElement=function(e,n){r.prototype.onAddElement.call(this,e,n),this.addElementToContent(e),e.renderWidth=""},t.prototype.onRemoveElement=function(e){var n=this.getElementContentText(e);this.content=this.content.replace(n,""),r.prototype.onRemoveElement.call(this,e)},t.prototype.dragDropMoveElement=function(e,n,o){},t.prototype.addElementToContent=function(e){if(!this.isLoadingFromJson){var n=this.getElementContentText(e);this.insertTextAtCursor(n)||(this.content=this.content+n)}},t.prototype.insertTextAtCursor=function(e,n){if(void 0===n&&(n=null),!this.isDesignMode||!V.isAvailable())return!1;var o=V.getSelection();if(o.getRangeAt&&o.rangeCount){var s=o.getRangeAt(0);s.deleteContents();var u=new Text(e);s.insertNode(u);if(this.getContent){var h=this.getContent(n);this.content=h}return!0}return!1},t.prototype.getElementContentText=function(e){return"{"+t.contentElementNamePrefix+e.name+"}"},t.contentElementNamePrefix="element:",t}(hi);M.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new na},"panel");var Rc=function(){function r(){}return r.getIconCss=function(t,e){return(new A).append(t.icon).append(t.iconExpanded,!e).toString()},r}(),Sc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bi=function(r){function t(e){return r.call(this,e)||this}return Sc(t,r),t.prototype.getType=function(){return"nonvalue"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getTitleLocation=function(){return""},Object.defineProperty(t.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){return void 0===e&&(e=!0),void 0===n&&(n=null),!1},t.prototype.getAllErrors=function(){return[]},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.addConditionObjectsByContext=function(e,n){},t.prototype.getConditionJson=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(je);M.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new bi("")},"question");var Oc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ia=function(r){function t(e){return r.call(this,e)||this}return Oc(t,r),t.prototype.getType=function(){return"empty"},t}(je);M.addClass("empty",[],function(){return new ia("")},"question");var Ec=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fn=function(r){function t(e){var n=r.call(this,e)||this;return n.invisibleOldValues={},n.isChangingValueOnClearIncorrect=!1,n.selectAllItemValue=new J(""),n.selectAllItemValue.id="selectall",n.selectAllItemText=n.createLocalizableString("selectAllText",n.selectAllItem,!0,"selectAllItemText"),n.selectAllItem.locOwner=n,n.selectAllItem.setLocText(n.selectAllItemText),n.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){n.onVisibleChoicesChanged()}),n}return Ec(t,r),t.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},t.prototype.getType=function(){return"checkbox"},t.prototype.onCreating=function(){r.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(e){this.setPropertyValue("valuePropertyName",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){if(e&&e===this.valuePropertyName){var o=this.value;if(Array.isArray(o)&&n<o.length)return this}return null},Object.defineProperty(t.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(e){this.setLocalizableStringText("selectAllText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(e){this.setPropertyValue("showSelectAllItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(e){this.showSelectAllItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this.allElementsSelected()},set:function(e){e?this.selectAll():this.clearValue(!0)},enumerable:!1,configurable:!0}),t.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},t.prototype.allElementsSelected=function(){for(var e=this.getNoneItems(),n=0;n<e.length;n++)if(this.isItemSelected(e[n]))return!1;var o=this.getVisibleEnableItems();if(0===o.length)return!1;var s=this.value;if(!s||!Array.isArray(s)||0===s.length||s.length<o.length)return!1;var u=[];for(n=0;n<s.length;n++)u.push(this.getRealValue(s[n]));for(n=0;n<o.length;n++)if(u.indexOf(o[n].value)<0)return!1;return!0},t.prototype.selectAll=function(){for(var e=[],n=this.getVisibleEnableItems(),o=0;o<n.length;o++)e.push(n[o].value);this.renderedValue=e},t.prototype.clickItemHandler=function(e,n){if(!this.isReadOnlyAttr)if(e===this.selectAllItem)!0===n||!1===n?this.isAllSelected=n:this.toggleSelectAll();else if(this.isNoneItem(e))this.renderedValue=n?[e.value]:[];else{var o=[].concat(this.renderedValue||[]),s=o.indexOf(e.value);n?s<0&&o.push(e.value):s>-1&&o.splice(s,1),this.renderedValue=o}},t.prototype.isItemSelectedCore=function(e){if(e===this.selectAllItem)return this.isAllSelected;var n=this.renderedValue;if(!n||!Array.isArray(n))return!1;for(var o=0;o<n.length;o++)if(this.isTwoValueEquals(n[o],e.value))return!0;return!1},t.prototype.getRealValue=function(e){return e&&(this.valuePropertyName?e[this.valuePropertyName]:e)},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChoices",{get:function(){var e=this.renderedValue,n=this.visibleChoices,o=this.selectedItemValues;if(this.isEmpty())return[];var s=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,n):n,u=e.map(function(h){return J.getItemByValue(s,h)}).filter(function(h){return!!h});return!u.length&&!o&&this.updateSelectedItemValues(),this.validateItemValues(u)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),t.prototype.getFilteredName=function(){var e=r.prototype.getFilteredName.call(this);return this.hasFilteredValue&&(e+="-unwrapped"),e},t.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:r.prototype.getFilteredValue.call(this)},t.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},t.prototype.validateItemValues=function(e){var n=this;if(e.length)return e;var o=this.selectedItemValues;return o&&o.length?(this.defaultSelectedItemValues=[].concat(o),o):this.renderedValue.map(function(u){return n.createItemValue(u)})},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},t.prototype.onCheckForErrors=function(e,n){if(r.prototype.onCheckForErrors.call(this,e,n),!n&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var o=new tt(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(o)}},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},t.prototype.onEnableItemCallBack=function(e){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(e)},t.prototype.onAfterRunItemsEnableCondition=function(){this.updateSelectAllItemProps(),this.maxSelectedChoices<1?this.otherItem.setIsEnabled(!0):this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},t.prototype.updateSelectAllItemProps=function(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},t.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;var n=this.getVisibleEnableItems().length,o=this.maxSelectedChoices;return!(o>0&&o<n)&&n>0},t.prototype.getVisibleEnableItems=function(){for(var e=new Array,n=this.activeChoices,o=0;o<n.length;o++){var s=n[o];s.isEnabled&&s.isVisible&&e.push(s)}return e},t.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var e=this.value;return(Array.isArray(e)?e.length:0)>=this.maxSelectedChoices},t.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var e=this.value;return(Array.isArray(e)?e.length:0)<this.minSelectedChoices},t.prototype.getItemClassCore=function(e,n){return n.isSelectAllItem=e===this.selectAllItem,(new A).append(r.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemSelectAll,n.isSelectAllItem).toString()},t.prototype.updateValueFromSurvey=function(e,n){r.prototype.updateValueFromSurvey.call(this,e,n),this.invisibleOldValues={}},t.prototype.setDefaultValue=function(){r.prototype.setDefaultValue.call(this);var e=this.defaultValue;if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=this.getRealValue(e[n]);this.canClearValueAnUnknown(o)&&this.addIntoInvisibleOldValues(o)}},t.prototype.addIntoInvisibleOldValues=function(e){this.invisibleOldValues[e]=e},t.prototype.hasValueToClearIncorrectValues=function(){return r.prototype.hasValueToClearIncorrectValues.call(this)||!R.isValueEmpty(this.invisibleOldValues)},t.prototype.setNewValue=function(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var n=this.value;e||(e=[]),n||(n=[]),!this.isTwoValueEquals(n,e)&&(this.removeNoneItemsValues(n,e),r.prototype.setNewValue.call(this,e))},t.prototype.getIsMultipleValue=function(){return!0},t.prototype.getCommentFromValue=function(e){var n=this.getFirstUnknownIndex(e);return n<0?"":e[n]},t.prototype.setOtherValueIntoValue=function(e){var n=this.getFirstUnknownIndex(e);return n<0||e.splice(n,1,this.otherItem.value),e},t.prototype.getFirstUnknownIndex=function(e){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(this.hasUnknownValueItem(e[n],!1,!1))return n;return-1},t.prototype.removeNoneItemsValues=function(e,n){var o=[];if(this.showNoneItem&&o.push(this.noneItem.value),this.showRefuseItem&&o.push(this.refuseItem.value),this.showDontKnowItem&&o.push(this.dontKnowItem.value),o.length>0){var s=this.noneIndexInArray(e,o),u=this.noneIndexInArray(n,o);if(s.index>-1)if(s.val===u.val)n.length>0&&n.splice(u.index,1);else{var p=this.noneIndexInArray(n,[s.val]);p.index>-1&&p.index<n.length-1&&n.splice(p.index,1)}else if(u.index>-1&&n.length>1){var h=this.convertValueToObject([u.val])[0];n.splice(0,n.length,h)}}},t.prototype.noneIndexInArray=function(e,n){if(!Array.isArray(e))return{index:-1,val:void 0};for(var o=e.length-1;o>=0;o--){var s=n.indexOf(this.getRealValue(e[o]));if(s>-1)return{index:o,val:n[s]}}return{index:-1,val:void 0}},t.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&r.prototype.canUseFilteredChoices.call(this)},t.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},t.prototype.addNonChoicesItems=function(e,n){r.prototype.addNonChoicesItems.call(this,e,n),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,n,this.hasSelectAll,I.specialChoicesOrder.selectAllItem)},t.prototype.isBuiltInChoice=function(e){return e===this.selectAllItem||r.prototype.isBuiltInChoice.call(this,e)},t.prototype.isItemInList=function(e){return e==this.selectAllItem?this.hasSelectAll:r.prototype.isItemInList.call(this,e)},t.prototype.getDisplayValueEmpty=function(){var e=this;return J.getTextOrHtmlByValue(this.visibleChoices.filter(function(n){return n!=e.selectAllItemValue}),void 0)},t.prototype.getDisplayValueCore=function(e,n){if(!Array.isArray(n))return r.prototype.getDisplayValueCore.call(this,e,n);var o=this.valuePropertyName;return this.getDisplayArrayValue(e,n,function(u){var p=n[u];return o&&p[o]&&(p=p[o]),p})},t.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},t.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},t.prototype.clearIncorrectAndDisabledValues=function(e){var n=this.value,o=!1,s=this.restoreValuesFromInvisible();if(n||0!=s.length){if(!Array.isArray(n)||0==n.length){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,0==s.length)return;n=[]}for(var u=[],p=0;p<n.length;p++){var h=this.getRealValue(n[p]),m=this.canClearValueAnUnknown(h);!e&&!m||e&&!this.isValueDisabled(h)?u.push(n[p]):(o=!0,m&&this.addIntoInvisibleOldValues(n[p]))}for(p=0;p<s.length;p++)u.push(s[p]),o=!0;o&&(this.isChangingValueOnClearIncorrect=!0,0==u.length?this.clearValue(!0):this.value=u,this.isChangingValueOnClearIncorrect=!1)}},t.prototype.restoreValuesFromInvisible=function(){for(var e=[],n=this.visibleChoices,o=0;o<n.length;o++){var s=n[o];if(s!==this.selectAllItem){var u=n[o].value;R.isTwoValueEquals(u,this.invisibleOldValues[u])&&(this.isItemSelected(s)||e.push(u),delete this.invisibleOldValues[u])}}return e},t.prototype.getConditionJson=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.prototype.getConditionJson.call(this,e,n);return("contains"==e||"notcontains"==e)&&(o.type="radiogroup"),o.maxSelectedChoices=0,o.minSelectedChoices=0,o},t.prototype.isAnswerCorrect=function(){return R.isArrayContainsEqual(this.value,this.correctAnswer)},t.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},t.prototype.getIsItemValue=function(e,n){return!(!e||!Array.isArray(e))&&e.indexOf(n.value)>=0},t.prototype.valueFromData=function(e){if(!e)return e;if(!Array.isArray(e))return[r.prototype.valueFromData.call(this,e)];for(var n=[],o=0;o<e.length;o++){var s=J.getItemByValue(this.activeChoices,e[o]);n.push(s?s.value:e[o])}return n},t.prototype.rendredValueFromData=function(e){return e=this.convertValueFromObject(e),r.prototype.rendredValueFromData.call(this,e)},t.prototype.rendredValueToData=function(e){return e=r.prototype.rendredValueToData.call(this,e),this.convertValueToObject(e)},t.prototype.convertValueFromObject=function(e){return this.valuePropertyName?R.convertArrayObjectToValue(e,this.valuePropertyName):e},t.prototype.convertValueToObject=function(e){if(!this.valuePropertyName)return e;var n=void 0;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(n=this.data.getValue(this.getValueName())),R.convertArrayValueToObject(e,this.valuePropertyName,n)},t.prototype.renderedValueFromDataCore=function(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var n=0;n<e.length;n++){if(e[n]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[n],!0,!1)){this.otherValue=e[n];var o=e.slice();return o[n]=this.otherItem.value,o}}return e},t.prototype.rendredValueToDataCore=function(e){if(!e||!e.length)return e;for(var n=0;n<e.length;n++)if(e[n]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var o=e.slice();return o[n]=this.otherValue,o}return e},t.prototype.selectOtherValueFromComment=function(e){var n=[],o=this.renderedValue;if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]!==this.otherItem.value&&n.push(o[s]);e&&n.push(this.otherItem.value),this.value=n},Object.defineProperty(t.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(An);M.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(r,t){if(t<=0)return 0;var e=r.minSelectedChoices;return e>0&&t<e?e:t}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(r,t){if(t<=0)return 0;var e=r.maxSelectedChoices;return e>0&&t>e?e:t}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(r){return r.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new Fn("")},"checkboxbase"),he.Instance.registerQuestion("checkbox",function(r){var t=new Fn(r);return t.choices=he.DefaultChoices,t});var Dc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oa=function(r){function t(e){var n=r.call(this,e)||this;return n.onItemClick=function(o){n.isItemDisabled(o)||(n.isExpanded=!1,n.isItemSelected(o)?(n.selectedItems.splice(n.selectedItems.indexOf(o),1),n.onSelectionChanged&&n.onSelectionChanged(o,"removed")):(n.selectedItems.push(o),n.onSelectionChanged&&n.onSelectionChanged(o,"added")))},n.isItemDisabled=function(o){return void 0!==o.enabled&&!o.enabled},n.isItemSelected=function(o){return!!n.allowSelection&&n.selectedItems.filter(function(s){return n.areSameItems(s,o)}).length>0},n.setSelectedItems(e.selectedItems||[]),n}return Dc(t,r),t.prototype.updateItemState=function(){var e=this;this.actions.forEach(function(n){var o=e.isItemSelected(n);n.visible=!e.hideSelectedItems||!o})},t.prototype.updateState=function(){var e=this;this.updateItemState(),this.isEmpty=0===this.renderedActions.filter(function(n){return e.isItemVisible(n)}).length},t.prototype.setSelectedItems=function(e){this.selectedItems=e,this.updateState()},t.prototype.selectFocusedItem=function(){r.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_()],t.prototype,"hideSelectedItems",void 0),t}(Pn),kc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ci=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ra=function(r){function t(e,n){var o=r.call(this,e,n)||this;return o.popupCssClasses="sv-multi-select-list",o.setHideSelectedItems(e.hideSelectedItems),o.syncFilterStringPlaceholder(),o.closeOnSelect=e.closeOnSelect,o}return kc(t,r),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},t.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},t.prototype.syncFilterStringPlaceholder=function(){var e=this.getSelectedActions();this.filterStringPlaceholder=e.length||this.question.selectedItems.length||this.listModel.focusedItem?void 0:this.question.placeholder},t.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(e){return e.selected})},t.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&xe&&!this.isValueEmpty(this.question.value)?this.itemSelector:r.prototype.getFocusFirstInputSelector.call(this)},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),o=this.onSelectionChanged;o||(o=function(p,h){e.resetFilterString(),"selectall"===p.id?e.selectAllItems():"added"===h&&p.value===I.noneItemValue?e.selectNoneItem():"added"===h?e.selectItem(p.value):"removed"===h&&e.deselectItem(p.value),e.popupRecalculatePosition(!1),e.closeOnSelect&&(e.popupModel.isVisible=!1)});var u=new oa({items:n,onSelectionChanged:o,allowSelection:!1,locOwner:this.question,elementId:this.listElementId});return u.actions.forEach(function(p){return p.disableTabStop=!0}),this.setOnTextSearchCallbackForListModel(u),u.forceShowFilter=!0,u},t.prototype.resetFilterString=function(){r.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(t.prototype,"shouldResetAfterCancel",{get:function(){return xe&&!this.closeOnSelect},enumerable:!1,configurable:!0}),t.prototype.createPopup=function(){var e=this;r.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(n,o){e.shouldResetAfterCancel&&o.actions.push({id:"sv-dropdown-done-button",title:e.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){e.popupModel.isVisible=!1},enabled:new we(function(){return!e.isTwoValueEquals(e.question.renderedValue,e.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(n,o){e.shouldResetAfterCancel&&o.isVisible&&(e.previousValue=[].concat(e.question.renderedValue||[]))}),this.popupModel.onCancel=function(){e.shouldResetAfterCancel&&(e.question.renderedValue=e.previousValue,e.updateListState())}},t.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()},t.prototype.selectNoneItem=function(){this.question.renderedValue=[I.noneItemValue],this.updateListState()},t.prototype.selectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.push(e),this.question.renderedValue=n,this.updateListState()},t.prototype.deselectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.splice(n.indexOf(e),1),this.question.renderedValue=n,this.applyHintString(this.listModel.focusedItem),this.updateListState()},t.prototype.clear=function(){r.prototype.clear.call(this),this.syncFilterStringPlaceholder()},t.prototype.onClear=function(e){r.prototype.onClear.call(this,e),this.updateListState()},t.prototype.setHideSelectedItems=function(e){this.listModel.hideSelectedItems=e,this.updateListState()},t.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},t.prototype.inputKeyHandler=function(e){8===e.keyCode&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())},t.prototype.setInputStringFromSelectedItem=function(e){this.question.searchEnabled&&(this.inputString=null)},t.prototype.focusItemOnClickAndPopup=function(){},t.prototype.onEscape=function(){},t.prototype.beforeScrollToFocusedItem=function(e){},t.prototype.afterScrollToFocusedItem=function(){var e;null!==(e=this.listModel.focusedItem)&&void 0!==e&&e.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},t.prototype.onPropertyChangedHandler=function(e,n){r.prototype.onPropertyChangedHandler.call(this,e,n),("value"===n.name||"renderedValue"===n.name||"placeholder"===n.name)&&this.syncFilterStringPlaceholder()},Ci([_({defaultValue:""})],t.prototype,"filterStringPlaceholder",void 0),Ci([_({defaultValue:!0})],t.prototype,"closeOnSelect",void 0),Ci([_()],t.prototype,"previousValue",void 0),Ci([_({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],t.prototype,"doneButtonCaption",void 0),t}(mi),Ac=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Et=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qo=function(r){function t(e){var n=r.call(this,e)||this;return n.itemDisplayNameMap={},n.onOpened=n.addEvent(),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.createLocalizableString("readOnlyText",n,!0),n.deselectAllItemText=n.createLocalizableString("deselectAllText",n.selectAllItem,!0,"deselectAllItemText"),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return Ac(t,r),t.prototype.locStrsChanged=function(){var e;r.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),null===(e=this.dropdownListModel)||void 0===e||e.locStrsChanged()},t.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},t.prototype.getDefaultItemComponent=function(){return""},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.createDropdownListModel()},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.createDropdownListModel()},t.prototype.createDropdownListModel=function(){!this.dropdownListModel&&!this.isLoadingFromJson&&(this.dropdownListModel=new ra(this))},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(e){this.setLocalizableStringText("readOnlyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"tagbox"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){var e;return null===(e=this.dropdownListModel)||void 0===e?void 0:e.popupModel},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return(new A).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.hasUnknownValue=function(e,n,o,s){return!this.choicesLazyLoadEnabled&&r.prototype.hasUnknownValue.call(this,e,n,o,s)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=null===(e=this.otherValue)||void 0===e?void 0:e.trim();return!!n&&r.prototype.hasUnknownValue.call(this,n,!0,!1)},t.prototype.onVisibleChoicesChanged=function(){r.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):r.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.validateItemValues=function(e){var n=this;this.updateItemDisplayNameMap();var o=this.renderedValue;if(e.length&&e.length===o.length)return e;var s=this.selectedItemValues;if(!e.length&&s&&s.length)return this.defaultSelectedItemValues=[].concat(s),s;var u=e.map(function(p){return p.value});return o.filter(function(p){return-1===u.indexOf(p)}).forEach(function(p){var h=n.getItemIfChoicesNotContainThisValue(p,n.itemDisplayNameMap[p]);h&&e.push(h)}),e.sort(function(p,h){return o.indexOf(p.value)-o.indexOf(h.value)}),e},t.prototype.updateItemDisplayNameMap=function(){var e=this,n=function(o){e.itemDisplayNameMap[o.value]=o.text};(this.defaultSelectedItemValues||[]).forEach(n),(this.selectedItemValues||[]).forEach(n),this.visibleChoices.forEach(n)},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){var n;null===(n=this.dropdownListModel)||void 0===n||n.onBlur(e),r.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){var n;null===(n=this.dropdownListModel)||void 0===n||n.onFocus(e),r.prototype.onFocusCore.call(this,e)},t.prototype.allElementsSelected=function(){var e=r.prototype.allElementsSelected.call(this);return this.updateSelectAllItemText(e),e},t.prototype.updateSelectAllItemText=function(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModel&&this.dropdownListModel.dispose()},t.prototype.clearValue=function(e){var n;r.prototype.clearValue.call(this,e),null===(n=this.dropdownListModel)||void 0===n||n.clear()},Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||I.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Et([_()],t.prototype,"searchMode",void 0),Et([_()],t.prototype,"allowClear",void 0),Et([_({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),Et([_({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setHideSelectedItems(e)}})],t.prototype,"hideSelectedItems",void 0),Et([_({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),Et([_()],t.prototype,"choicesLazyLoadPageSize",void 0),Et([_({getDefaultValue:function(){return I.tagboxCloseOnSelect}})],t.prototype,"closeOnSelect",void 0),Et([_()],t.prototype,"textWrapEnabled",void 0),t}(Fn);M.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new qo("")},"checkbox"),he.Instance.registerQuestion("tagbox",function(r){var t=new qo(r);return t.choices=he.DefaultChoices,t});var Lc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sa=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.doDragOver=function(){"imagepicker"!==e.parentElement.getType()&&(e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="grabbing")},e.doBanDropHere=function(){"imagepicker"!==e.parentElement.getType()&&(e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="not-allowed")},e}return Lc(t,r),Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,o){if("imagepicker"===this.parentElement.getType())return this.createImagePickerShortcut(this.draggedElement,e,n,o);var s=k.createElement("div");if(s){s.className="sv-drag-drop-choices-shortcut";var p=n.closest("[data-sv-drop-target-item-value]").cloneNode(!0);p.classList.add("sv-drag-drop-choices-shortcut__content"),p.querySelector(".svc-item-value-controls__drag-icon").style.visibility="visible",p.querySelector(".svc-item-value-controls__remove").style.backgroundColor="transparent",p.classList.remove("svc-item-value--moveup"),p.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,s.appendChild(p);var x=n.getBoundingClientRect();return s.shortcutXOffset=o.clientX-x.x,s.shortcutYOffset=o.clientY-x.y,this.isBottom=null,"function"==typeof this.onShortcutCreated&&this.onShortcutCreated(s),s}},t.prototype.createImagePickerShortcut=function(e,n,o,s){var u=k.createElement("div");if(u){u.style.cssText=" \n      cursor: grabbing;\n      position: absolute;\n      z-index: 10000;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n    ";var p=o.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=p.querySelector(".svc-image-item-value-controls");var h=p.querySelector(".sd-imagepicker__image-container"),m=p.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),h.style.width=m.width+"px",h.style.height=m.height+"px",m.style.objectFit="cover",m.style.borderRadius="4px",u.appendChild(m),u}},t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.choices.filter(function(o){return""+o.value==e})[0]},t.prototype.getVisibleChoices=function(){var e=this.parentElement;return"ranking"===e.getType()?e.selectToRankEnabled?e.visibleChoices:e.rankingChoices:e.visibleChoices},t.prototype.isDropTargetValid=function(e,n){var o=this.getVisibleChoices();if("imagepicker"!==this.parentElement.getType()){var s=o.indexOf(this.dropTarget),u=o.indexOf(this.draggedElement);if(u>s&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(u<s&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return-1!==o.indexOf(e)},t.prototype.calculateIsBottom=function(e){var n=this.getVisibleChoices();return n.indexOf(this.dropTarget)-n.indexOf(this.draggedElement)>0},t.prototype.afterDragOver=function(e){if(!this.isDropTargetDoesntChanged(this.isBottom)){var n=this.getVisibleChoices(),o=n.indexOf(this.dropTarget),s=n.indexOf(this.draggedElement);n.splice(s,1),n.splice(o,0,this.draggedElement),"imagepicker"!==this.parentElement.getType()&&(s!==o&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),s>o&&(this.dropTarget.isDragDropMoveDown=!0),s<o&&(this.dropTarget.isDragDropMoveUp=!0),r.prototype.ghostPositionChanged.call(this))}},t.prototype.doDrop=function(){var e=this.parentElement.choices,n=this.getVisibleChoices().filter(function(u){return-1!==e.indexOf(u)}),o=e.indexOf(this.draggedElement),s=n.indexOf(this.draggedElement);return e.splice(o,1),e.splice(s,0,this.draggedElement),this.parentElement},t.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),r.prototype.clear.call(this)},t.prototype.updateVisibleChoices=function(e){"ranking"===e.getType()?e.updateRankingChoices():e.updateVisibleChoices()},t}(bo),Fc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aa=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isDragOverRootNode=!1,e.doDragOver=function(){e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="grabbing"},e.reorderRankedItem=function(n,o,s){if(o!=s){var u=n.rankingChoices,p=u[o];n.isValueSetByUser=!0,u.splice(o,1),u.splice(s,0,p),e.updateDraggedElementShortcut(s+1)}},e.doBanDropHere=function(){e.isDragOverRootNode?e.allowDropHere=!0:e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="not-allowed"},e}return Fc(t,r),Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,o){var s=k.createElement("div");if(s){s.className=this.shortcutClass+" sv-ranking-shortcut";var p=n.cloneNode(!0);s.appendChild(p);var h=n.getBoundingClientRect();s.style.left=h.x,s.style.top=h.y,this.domAdapter.rootElement.append(s);var m=s.offsetHeight,x=o.clientY;return x>h.y+m&&(x=h.y+m-10),s.shortcutXOffset=o.clientX-h.x,s.shortcutYOffset=x-h.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(s.style.width=n.offsetWidth+"px",s.style.height=n.offsetHeight+"px"),s}},Object.defineProperty(t.prototype,"shortcutClass",{get:function(){return(new A).append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,ui).toString()},enumerable:!1,configurable:!0}),t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]},t.prototype.findDropTargetNodeByDragOverNode=function(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),r.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getIsDragOverRootNode=function(e){return"string"==typeof e.className&&-1!==e.className.indexOf("sv-ranking")},t.prototype.isDropTargetValid=function(e,n){return-1!==this.parentElement.rankingChoices.indexOf(e)},t.prototype.calculateIsBottom=function(e,n){if(this.dropTarget instanceof J&&this.draggedElement!==this.dropTarget){var o=n.getBoundingClientRect();return e>=o.y+o.height/2}return r.prototype.calculateIsBottom.call(this,e)},t.prototype.getIndices=function(e,n,o){var s=n.indexOf(this.draggedElement),u=o.indexOf(this.dropTarget);return s<0&&this.draggedElement&&(this.draggedElement=J.getItemByValue(n,this.draggedElement.value)||this.draggedElement,s=n.indexOf(this.draggedElement)),-1===u?u=e.value.length:n==o?(!this.isBottom&&s<u&&u--,this.isBottom&&s>u&&u++):n!=o&&this.isBottom&&u++,{fromIndex:s,toIndex:u}},t.prototype.afterDragOver=function(e){var n=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices);this.reorderRankedItem(this.parentElement,n.fromIndex,n.toIndex)},t.prototype.updateDraggedElementShortcut=function(e){var n;if(null!==(n=this.domAdapter)&&void 0!==n&&n.draggedElementShortcut){var o=null!==e?e+"":"";this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index").innerText=o}},t.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,r.prototype.ghostPositionChanged.call(this)},t.prototype.doDrop=function(){return this.parentElement.setValue(),this.parentElement},t.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),r.prototype.clear.call(this)},t}(sa),jc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),la=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.selectToRank=function(n,o,s){var u=[].concat(n.rankingChoices);u.splice(s,0,n.unRankingChoices[o]),e.updateChoices(n,u)},e.unselectFromRank=function(n,o,s){var u=[].concat(n.rankingChoices);u.splice(o,1),e.updateChoices(n,u)},e}return jc(t,r),t.prototype.findDropTargetNodeByDragOverNode=function(e){if("from-container"===e.dataset.ranking||"to-container"===e.dataset.ranking)return e;var n=e.closest("[data-ranking='to-container']"),o=e.closest("[data-ranking='from-container']");return 0===this.parentElement.unRankingChoices.length&&o?o:0===this.parentElement.rankingChoices.length&&n?n:r.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]},t.prototype.getDropTargetByNode=function(e,n){return"to-container"===e.dataset.ranking?"to-container":"from-container"===e.dataset.ranking||e.closest("[data-ranking='from-container']")?"from-container":r.prototype.getDropTargetByNode.call(this,e,n)},t.prototype.isDropTargetValid=function(e,n){return"to-container"===e||"from-container"===e||r.prototype.isDropTargetValid.call(this,e,n)},t.prototype.afterDragOver=function(e){var n=this.parentElement,o=n.rankingChoices,s=n.unRankingChoices;this.isDraggedElementUnranked&&this.isDropTargetRanked?this.doRankBetween(e,s,o,this.selectToRank):this.isDraggedElementRanked&&this.isDropTargetRanked?this.doRankBetween(e,o,o,this.reorderRankedItem):!this.isDraggedElementRanked||this.isDropTargetRanked||this.doRankBetween(e,o,s,this.unselectFromRank)},t.prototype.doRankBetween=function(e,n,o,s){var u=this.parentElement,p=this.getIndices(u,n,o);s(u,p.fromIndex,p.toIndex,e)},Object.defineProperty(t.prototype,"isDraggedElementRanked",{get:function(){return-1!==this.parentElement.rankingChoices.indexOf(this.draggedElement)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDropTargetRanked",{get:function(){return"to-container"===this.dropTarget||-1!==this.parentElement.rankingChoices.indexOf(this.dropTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),t.prototype.updateChoices=function(e,n){e.isValueSetByUser=!0,e.rankingChoices=n,e.updateUnRankingChoices(n)},t}(aa),Bc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dt=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ho=function(r){function t(e){var n=r.call(this,e)||this;return n.domNode=null,n.onVisibleChoicesChanged=function(){if(r.prototype.onVisibleChoicesChanged.call(n),n.carryForwardStartUnranked&&!n.isValueSetByUser&&!n.selectToRankEnabled&&!n.defaultValue&&(n.value=[]),1===n.visibleChoices.length&&!n.selectToRankEnabled)return n.value=[],n.value.push(n.visibleChoices[0].value),void n.updateRankingChoices();n.isEmpty()||n.selectToRankEnabled||(n.visibleChoices.length>n.value.length&&n.addToValueByVisibleChoices(),n.visibleChoices.length<n.value.length&&n.removeFromValueByVisibleChoices()),n.updateRankingChoices()},n.localeChanged=function(){r.prototype.localeChanged.call(n),n.updateRankingChoicesSync()},n._rankingChoicesAnimation=new Se(n.getChoicesAnimationOptions(!0),function(o){n._renderedRankingChoices=o},function(){return n.renderedRankingChoices}),n._unRankingChoicesAnimation=new Se(n.getChoicesAnimationOptions(!1),function(o){n._renderedUnRankingChoices=o},function(){return n.renderedUnRankingChoices}),n.rankingChoices=[],n.unRankingChoices=[],n._renderedRankingChoices=[],n._renderedUnRankingChoices=[],n.handlePointerDown=function(o,s,u){var p=o.target;n.isDragStartNodeValid(p)&&n.isAllowStartDrag(p,s)&&(n.draggedChoiceValue=s.value,n.draggedTargetNode=u,n.dragOrClickHelper.onPointerDown(o))},n.startDrag=function(o){var s=J.getItemByValue(n.activeChoices,n.draggedChoiceValue);n.dragDropRankingChoices.startDrag(o,s,n,n.draggedTargetNode)},n.handlePointerUp=function(o,s,u){n.selectToRankEnabled&&n.isAllowStartDrag(o.target,s)&&n.handleKeydownSelectToRank(o,s," ",!1)},n.handleKeydown=function(o,s){if(!n.isReadOnlyAttr&&!n.isDesignMode){var u=o.key,p=n.rankingChoices.indexOf(s);if(n.selectToRankEnabled)return void n.handleKeydownSelectToRank(o,s);if("ArrowUp"===u&&p||"ArrowDown"===u&&p!==n.rankingChoices.length-1){var h="ArrowUp"==u?p-1:p+1;n.dragDropRankingChoices.reorderRankedItem(n,p,h),n.setValueAfterKeydown(h,"",!0,o)}}},n.focusItem=function(o,s){n.domNode&&(n.selectToRankEnabled&&s?n.domNode.querySelectorAll("[data-ranking='"+s+"'] ."+n.cssClasses.item)[o].focus():n.domNode.querySelectorAll("."+n.cssClasses.item)[o].focus())},n.isValueSetByUser=!1,n.setValue=function(){var o=[];n.rankingChoices.forEach(function(s){o.push(s.value)}),n.value=o,n.isValueSetByUser=!0},n.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){n.clearValue(!0),n.setDragDropRankingChoices(),n.updateRankingChoicesSync()}),n.dragOrClickHelper=new Co(n.startDrag),n}return Bc(t,r),t.prototype.getType=function(){return"ranking"},t.prototype.getItemTabIndex=function(e){if(!this.isDesignMode&&!e.disabled)return 0},t.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(t.prototype,"rootClass",{get:function(){return(new A).append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,"icon"===I.rankingDragHandleArea).append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&"horizontal"===this.renderedSelectToRankAreasLayout).append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&"vertical"===this.renderedSelectToRankAreasLayout).toString()},enumerable:!1,configurable:!0}),t.prototype.isItemSelectedCore=function(e){return!this.selectToRankEnabled||r.prototype.isItemSelectedCore.call(this,e)},t.prototype.getItemClassCore=function(e,n){return(new A).append(r.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()},t.prototype.getContainerClasses=function(e){var n=!1,o="to"===e,s="from"===e;return o?n=0===this.renderedRankingChoices.length:s&&(n=0===this.renderedUnRankingChoices.length),(new A).append(this.cssClasses.container).append(this.cssClasses.containerToMode,o).append(this.cssClasses.containerFromMode,s).append(this.cssClasses.containerEmptyMode,n).toString()},t.prototype.isItemCurrentDropTarget=function(e){return this.dragDropRankingChoices.dropTarget===e},Object.defineProperty(t.prototype,"ghostPositionCssClass",{get:function(){return"top"===this.ghostPosition?this.cssClasses.dragDropGhostPositionTop:"bottom"===this.ghostPosition?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),t.prototype.getItemIndexClasses=function(e){var n;return n=this.selectToRankEnabled?-1!==this.unRankingChoices.indexOf(e):this.isEmpty(),(new A).append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,n).toString()},t.prototype.getNumberByIndex=function(e){return this.isEmpty()?"":e+1+""},t.prototype.updateRankingChoicesSync=function(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()},t.prototype.isAnswerCorrect=function(){return R.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){r.prototype.onSurveyValueChanged.call(this,e),!this.isLoadingFromJson&&this.updateRankingChoices()},t.prototype.onSurveyLoad=function(){this.blockAnimations(),r.prototype.onSurveyLoad.call(this),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.addToValueByVisibleChoices=function(){var e=this.value.slice();this.visibleChoices.forEach(function(n){-1===e.indexOf(n.value)&&e.push(n.value)}),this.value=e},t.prototype.removeFromValueByVisibleChoices=function(){for(var e=this.value.slice(),n=this.visibleChoices,o=this.value.length-1;o>=0;o--)J.getItemByValue(n,this.value[o])||e.splice(o,1);this.value=e},t.prototype.getChoicesAnimationOptions=function(e){var n=this;return{getKey:function(o){return o.value},getRerenderEvent:function(){return n.onElementRerendered},isAnimationEnabled:function(){return n.animationAllowed&&!n.isDesignMode&&n.isVisible&&!!n.domNode},getReorderOptions:function(o,s){var u="";return o!==n.currentDropTarget&&(u=s?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:u}},getLeaveOptions:function(o){var s=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return"vertical"==n.renderedSelectToRankAreasLayout&&1==s.length&&s.indexOf(o)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:function(u){u.style.setProperty("--animation-height",u.offsetHeight+"px")}}},getEnterOptions:function(o){var s=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return"vertical"==n.renderedSelectToRankAreasLayout&&1==s.length&&s.indexOf(o)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:function(u){u.style.setProperty("--animation-height",u.offsetHeight+"px")}}},getAnimatedElement:function(o){var s,u=n.cssClasses,p="";n.selectToRankEnabled&&(!e&&u.containerFromMode?p=Ht(u.containerFromMode):e&&u.containerToMode&&(p=Ht(u.containerToMode)));var h=e?n.renderedRankingChoices.indexOf(o):n.renderedUnRankingChoices.indexOf(o);return null===(s=n.domNode)||void 0===s?void 0:s.querySelector(p+" [data-sv-drop-target-ranking-item='"+h+"']")},allowSyncRemovalAddition:!0}},Object.defineProperty(t.prototype,"rankingChoicesAnimation",{get:function(){return this._rankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unRankingChoicesAnimation",{get:function(){return this._unRankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedRankingChoices",{get:function(){return this._renderedRankingChoices},set:function(e){this.rankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedUnRankingChoices",{get:function(){return this._renderedUnRankingChoices},set:function(e){this.unRankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.updateRenderedRankingChoices=function(){this.renderedRankingChoices=this.rankingChoices},t.prototype.updateRenderedUnRankingChoices=function(){this.renderedUnRankingChoices=this.unRankingChoices},t.prototype.updateRankingChoices=function(e){var n=this;if(void 0===e&&(e=!1),this.selectToRankEnabled)this.updateRankingChoicesSelectToRankMode(e);else{var o=[];e&&(this.rankingChoices=[]),this.isEmpty()?this.rankingChoices=this.visibleChoices:(this.value.forEach(function(s){n.visibleChoices.forEach(function(u){u.value===s&&o.push(u)})}),this.rankingChoices=o)}},t.prototype.updateUnRankingChoices=function(e){var n=[];this.visibleChoices.forEach(function(o){n.push(o)}),e.forEach(function(o){n.forEach(function(s,u){s.value===o.value&&n.splice(u,1)})}),this.unRankingChoices=n},t.prototype.updateRankingChoicesSelectToRankMode=function(e){var n=this,o=[];this.isEmpty()||this.value.forEach(function(s){n.visibleChoices.forEach(function(u){u.value===s&&o.push(u)})}),this.updateUnRankingChoices(o),this.rankingChoices=o},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},t.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},t.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new la(this.survey,null,this.longTap):new aa(this.survey,null,this.longTap)},t.prototype.isDragStartNodeValid=function(e){return"icon"!==I.rankingDragHandleArea||e.classList.contains(this.cssClasses.itemIconHoverMod)},t.prototype.isAllowStartDrag=function(e,n){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(n)},t.prototype.canStartDragDueMaxSelectedChoices=function(e){return!this.selectToRankEnabled||!e.closest("[data-ranking='from-container']")||this.checkMaxSelectedChoicesUnreached()},t.prototype.canStartDragDueItemEnabled=function(e){return e.enabled},t.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var e=this.value;return(Array.isArray(e)?e.length:0)<this.maxSelectedChoices},t.prototype.afterRenderQuestionElement=function(e){this.domNode=e,r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.domNode=void 0,r.prototype.beforeDestroyQuestionElement.call(this,e)},t.prototype.supportSelectAll=function(){return!1},t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.handleKeydownSelectToRank=function(e,n,o,s){if(void 0===s&&(s=!0),!this.isDesignMode){var u=e.key;if(o&&(u=o)," "===u||"ArrowUp"===u||"ArrowDown"===u){var p=this.dragDropRankingChoices,h=this.rankingChoices,m=-1!==h.indexOf(n),T=(m?h:this.unRankingChoices).indexOf(n);if(!(T<0)){var D;if(" "===u&&!m){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(n))return;return p.selectToRank(this,T,D=this.value.length),void this.setValueAfterKeydown(D,"to-container",s,e)}if(m){if(" "===u)return p.unselectFromRank(this,T),D=this.unRankingChoices.indexOf(n),void this.setValueAfterKeydown(D,"from-container",s,e);var B="ArrowUp"===u?-1:"ArrowDown"===u?1:0;0!==B&&!((D=T+B)<0||D>=h.length)&&(p.reorderRankedItem(this,T,D),this.setValueAfterKeydown(D,"to-container",s,e))}}}}},t.prototype.setValueAfterKeydown=function(e,n,o,s){var u=this;void 0===o&&(o=!0),this.setValue(),o&&setTimeout(function(){u.focusItem(e,n)},1),s&&s.preventDefault()},t.prototype.getIconHoverCss=function(){return(new A).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},t.prototype.getIconFocusCss=function(){return(new A).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(t.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(e){this.setPropertyValue("longTap",e)},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return"sv-ranking-item"},Object.defineProperty(t.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(e){this.setPropertyValue("selectToRankEnabled",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(e){this.setPropertyValue("selectToRankAreasLayout",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),t.prototype.isMobileMode=function(){return ui},Object.defineProperty(t.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(e){this.setPropertyValue("useFullItemSizeForShortcut",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-n-drop"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-ranking-arrows"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-ranking-dash"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Dt([qe({onSet:function(e,n){return n.updateRenderedRankingChoices()},onRemove:function(e,n,o){return o.updateRenderedRankingChoices()},onPush:function(e,n,o){return o.updateRenderedRankingChoices()}})],t.prototype,"rankingChoices",void 0),Dt([qe({onSet:function(e,n){return n.updateRenderedUnRankingChoices()},onRemove:function(e,n,o){return o.updateRenderedUnRankingChoices()},onPush:function(e,n,o){return o.updateRenderedUnRankingChoices()}})],t.prototype,"unRankingChoices",void 0),Dt([qe()],t.prototype,"_renderedRankingChoices",void 0),Dt([qe()],t.prototype,"_renderedUnRankingChoices",void 0),Dt([_({defaultValue:null})],t.prototype,"currentDropTarget",void 0),Dt([_({defaultValue:!0})],t.prototype,"carryForwardStartUnranked",void 0),Dt([_({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],t.prototype,"selectToRankEmptyRankedAreaText",void 0),Dt([_({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],t.prototype,"selectToRankEmptyUnrankedAreaText",void 0),t}(Fn);M.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(r){return!!r.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new Ho("")},"checkbox"),he.Instance.registerQuestion("ranking",function(r){var t=new Ho(r);return t.choices=he.DefaultChoices,t});var Nc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qo=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nc(t,r),Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){this.setPropertyValue("rows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(e){this.setPropertyValue("cols",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(e){this.setPropertyValue("acceptCarriageReturn",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")},set:function(e){this.setPropertyValue("autoGrow",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAutoGrow",{get:function(){var e=this.autoGrow;return void 0===e&&this.survey?this.survey.autoGrowComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(e){this.setPropertyValue("allowResize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAllowResize",{get:function(){var e=this.allowResize;return(void 0===e&&this.survey?this.survey.allowResizeComment:!!e)&&!this.isPreviewStyle&&!this.isReadOnlyStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"comment"},t.prototype.afterRenderQuestionElement=function(e){this.element=I.environment.root.getElementById(this.inputId)||e,this.updateElement(),r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.updateElement=function(){var e=this;this.element&&this.renderedAutoGrow&&setTimeout(function(){return Zi(e.element)},1)},t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.element=void 0},t.prototype.onInput=function(e){this.isInputTextUpdate?this.value=e.target.value:this.updateElement(),this.updateRemainingCharacterCounter(e.target.value)},t.prototype.onBlurCore=function(e){r.prototype.onBlurCore.call(this,e)},t.prototype.onKeyDown=function(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&("Enter"===e.key||13===e.keyCode)&&(e.preventDefault(),e.stopPropagation())},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),r.prototype.setQuestionValue.call(this,e,n),this.updateElement()},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this),this.updateElement()},t.prototype.setNewValue=function(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp("(\r\n|\n|\r)","gm"),"")),r.prototype.setNewValue.call(this,e)},t.prototype.getValueSeparator=function(){return"\n"},Object.defineProperty(t.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),t}(gi);M.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:function(){}},{name:"allowResize:boolean",defaultFunc:function(){}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new Qo("")},"textbase"),he.Instance.registerQuestion("comment",function(r){return new Qo(r)});var qc=function(){function r(){this.canFlipValue=void 0}return r.clear=function(){r.cameraList=void 0,r.cameraIndex=-1},r.setCameraList=function(t){var e=function(n){var o=n.label.toLocaleLowerCase();return o.indexOf("user")>-1?"user":o.indexOf("enviroment")>-1?"enviroment":""};r.clear(),Array.isArray(t)&&t.length>0&&(r.cameraIndex=-1,t.sort(function(n,o){if(n===o)return 0;if(n.label!==o.label){var s=e(n),u=e(o);if(s!==u){if("user"===s)return-1;if("user"===u)return 1;if("enviroment"===s)return-1;if("enviroment"===u)return 1}}return t.indexOf(n)<t.indexOf(o)?-1:1})),r.cameraList=t},r.prototype.hasCamera=function(t){var e=this;void 0===r.cameraList?r.mediaDevicesCallback?r.mediaDevicesCallback(function(o){e.setVideoInputs(o),e.hasCameraCallback(t)}):typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(o){e.setVideoInputs(o),e.hasCameraCallback(t),e.updateCanFlipValue()}).catch(function(o){r.cameraList=null,e.hasCameraCallback(t)}):(r.cameraList=null,this.hasCameraCallback(t)):this.hasCameraCallback(t)},r.prototype.getMediaConstraints=function(t){var e=r.cameraList;if(Array.isArray(e)&&!(e.length<1)){r.cameraIndex<0&&(r.cameraIndex=0);var n=e[r.cameraIndex],o={};return n&&n.deviceId?o.deviceId={exact:n.deviceId}:o.facingMode=r.cameraFacingMode,t&&(t?.height&&(o.height={ideal:t.height}),t?.width&&(o.width={ideal:t.width})),{video:o,audio:!1}}},r.prototype.startVideo=function(t,e,n,o){var s=this;if(t){t.style.width="100%",t.style.height="auto",t.style.height="100%",t.style.objectFit="contain";var u=this.getMediaConstraints({width:n,height:o});navigator.mediaDevices.getUserMedia(u).then(function(p){var h;t.srcObject=p,!(null!==(h=r.cameraList[r.cameraIndex])&&void 0!==h&&h.deviceId)&&p.getTracks()[0].getCapabilities().facingMode&&(r.canSwitchFacingMode=!0,s.updateCanFlipValue()),t.play(),e(p)}).catch(function(p){e(void 0)})}else e(void 0)},r.prototype.getImageSize=function(t){return{width:t.videoWidth,height:t.videoHeight}},r.prototype.snap=function(t,e){if(!t||!k.isAvailable())return!1;var o=k.getDocument().createElement("canvas"),s=this.getImageSize(t);o.height=s.height,o.width=s.width;var u=o.getContext("2d");return u.clearRect(0,0,o.width,o.height),u.drawImage(t,0,0,o.width,o.height),o.toBlob(e,"image/png"),!0},r.prototype.updateCanFlipValue=function(){var t=r.cameraList;this.canFlipValue=Array.isArray(t)&&t.length>1||r.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},r.prototype.canFlip=function(t){return void 0===this.canFlipValue&&this.updateCanFlipValue(),t&&(this.onCanFlipChangedCallback=t),this.canFlipValue},r.prototype.flip=function(){this.canFlip()&&(r.canSwitchFacingMode?r.cameraFacingMode="user"===r.cameraFacingMode?"environment":"user":r.cameraIndex>=r.cameraList.length-1?r.cameraIndex=0:r.cameraIndex++)},r.prototype.hasCameraCallback=function(t){t(Array.isArray(r.cameraList))},r.prototype.setVideoInputs=function(t){var e=[];t.forEach(function(n){"videoinput"===n.kind&&e.push(n)}),r.setCameraList(e.length>0?e:null)},r.cameraIndex=-1,r.cameraFacingMode="user",r.canSwitchFacingMode=!1,r}(),ua=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ve=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function Hc(r,t,e){var n=atob(r.split(",")[1]),o=new Uint8Array(n.split("").map(function(s){return s.charCodeAt(0)})).buffer;return new File([o],t,{type:e})}var ca=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.isUploading=!1,e.onUploadStateChanged=e.addEvent(),e.onStateChanged=e.addEvent(),e}return ua(t,r),t.prototype.stateChanged=function(e){this.currentState!=e&&("loading"===e&&(this.isUploading=!0),"loaded"===e&&(this.isUploading=!1),"error"===e&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))},Object.defineProperty(t.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(e){this.setPropertyValue("storeDataAsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(e){this.setPropertyValue("waitForUpload",e)},enumerable:!1,configurable:!0}),t.prototype.clearValue=function(e){this.clearOnDeletingContainer(),r.prototype.clearValue.call(this,e)},t.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},t.prototype.onCheckForErrors=function(e,n){r.prototype.onCheckForErrors.call(this,e,n),this.isUploading&&this.waitForUpload&&e.push(new ni(this.getLocalizationString("uploadingFile"),this))},t.prototype.uploadFiles=function(e){var n=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,function(o,s){Array.isArray(o)&&(n.setValueFromResult(o),Array.isArray(s)&&(s.forEach(function(u){return n.errors.push(new ni(u,n))}),n.stateChanged("error"))),"success"===o&&Array.isArray(s)&&n.setValueFromResult(s),"error"===o&&("string"==typeof s&&n.errors.push(new ni(s,n)),Array.isArray(s)&&s.length>0&&s.forEach(function(u){return n.errors.push(new ni(u,n))}),n.stateChanged("error")),n.stateChanged("loaded")}))},t.prototype.loadPreview=function(e){},t.prototype.onChangeQuestionValue=function(e){r.prototype.onChangeQuestionValue.call(this,e),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(e)},Ve([_()],t.prototype,"isUploading",void 0),Ve([_({defaultValue:"empty"})],t.prototype,"currentState",void 0),t}(je),Go=function(r){function t(e){var n=r.call(this,e)||this;return n.isDragging=!1,n.fileNavigator=new ut,n.canFlipCameraValue=void 0,n.prevPreviewLength=0,n.calcAvailableItemsCount=function(o,s,u){var p=Math.floor(o/(s+u));return(p+1)*(s+u)-u<=o&&p++,p},n.dragCounter=0,n.onDragEnter=function(o){n.canDragDrop()&&(o.preventDefault(),n.isDragging=!0,n.dragCounter++)},n.onDragOver=function(o){if(!n.canDragDrop())return o.returnValue=!1,!1;o.dataTransfer.dropEffect="copy",o.preventDefault()},n.onDrop=function(o){n.canDragDrop()&&(n.isDragging=!1,n.dragCounter=0,o.preventDefault(),n.onChange(o.dataTransfer))},n.onDragLeave=function(o){n.canDragDrop()&&(n.dragCounter--,0===n.dragCounter&&(n.isDragging=!1))},n.doChange=function(o){n.onChange(o.target||o.srcElement)},n.doClean=function(){n.needConfirmRemoveFile?ln(n.confirmRemoveAllMessage,function(){n.clearFilesCore()},void 0,n.getLocale(),n.survey.rootElement):n.clearFilesCore()},n.doDownloadFileFromContainer=function(o){o.stopPropagation();var s=o.currentTarget;if(s&&s.getElementsByTagName){var u=s.getElementsByTagName("a")[0];u?.click()}},n.doDownloadFile=function(o,s){o.stopPropagation(),ue()&&(o.preventDefault(),Yi(s.content,s.name))},n.createLocalizableString("takePhotoCaption",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.actionsContainer=new ut,n.actionsContainer.locOwner=n,n.fileIndexAction=new de({id:"fileIndex",title:n.getFileIndexCaption(),enabled:!1}),n.prevFileAction=new de({id:"prevPage",iconSize:16,action:function(){n.indexToShow=n.previewValue.length&&(n.indexToShow-1+n.pagesCount)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.nextFileAction=new de({id:"nextPage",iconSize:16,action:function(){n.indexToShow=n.previewValue.length&&(n.indexToShow+1)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.takePictureAction=new de({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new we(function(){return(new A).append(n.cssClasses.contextButton).append(n.cssClasses.takePictureButton).toString()}),locTitle:n.locTakePhotoCaption,showTitle:!1,action:function(){n.snapPicture()}}),n.closeCameraAction=new de({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new we(function(){return(new A).append(n.cssClasses.contextButton).append(n.cssClasses.closeCameraButton).toString()}),action:function(){n.stopVideo()}}),n.changeCameraAction=new de({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new we(function(){return(new A).append(n.cssClasses.contextButton).append(n.cssClasses.changeCameraButton).toString()}),visible:new we(function(){return n.canFlipCamera()}),action:function(){n.flipCamera()}}),n.chooseFileAction=new de({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:n},enabledIf:function(){return!n.isInputReadOnly},component:"sv-file-choose-btn"}),n.startCameraAction=new de({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:n.locTakePhotoCaption,showTitle:new we(function(){return!n.isAnswered}),enabledIf:function(){return!n.isInputReadOnly},action:function(){n.startVideo()}}),n.cleanAction=new de({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:n.locClearButtonCaption,showTitle:!1,enabledIf:function(){return!n.isInputReadOnly},innerCss:new we(function(){return n.cssClasses.removeButton}),action:function(){n.doClean()}}),[n.closeCameraAction,n.changeCameraAction,n.takePictureAction].forEach(function(o){o.cssClasses={}}),n.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){n.updateActionsVisibility()}),n.actionsContainer.actions=[n.chooseFileAction,n.startCameraAction,n.cleanAction],n.fileNavigator.actions=[n.prevFileAction,n.fileIndexAction,n.nextFileAction],n}return ua(t,r),Object.defineProperty(t.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(e){this.isFileLoadingValue=e,this.updateIsReady()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileNavigatorVisible",{get:function(){return!this.isUploading&&!this.isPlayingVideo&&this.containsMultiplyFiles&&this.pageSize<this.previewValue.length&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionsContainerVisible",{get:function(){return!this.isUploading&&!this.isPlayingVideo&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVideoUI",{get:function(){return"file"!==this.currentMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFileUI",{get:function(){return"camera"!==this.currentMode},enumerable:!1,configurable:!0}),t.prototype.startVideo=function(){var e=this;"file"===this.currentMode||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){e.startVideoInCamera()},0))},Object.defineProperty(t.prototype,"videoHtmlElement",{get:function(){var e;return null===(e=this.rootElement)||void 0===e?void 0:e.querySelector("#"+this.videoId)},enumerable:!1,configurable:!0}),t.prototype.startVideoInCamera=function(){var e=this;this.camera.startVideo(this.videoHtmlElement,function(n){e.videoStream=n,n||e.stopVideo()},qt(this.imageWidth),qt(this.imageHeight))},t.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},t.prototype.snapPicture=function(){var e=this;this.isPlayingVideo&&(this.camera.snap(this.videoHtmlElement,function(o){if(o){var s=new File([o],"snap_picture.png",{type:"image/png"});e.loadFiles([s])}}),this.stopVideo())},t.prototype.canFlipCamera=function(){var e=this;return void 0===this.canFlipCameraValue&&(this.canFlipCameraValue=this.camera.canFlip(function(n){e.canFlipCameraValue=n})),this.canFlipCameraValue},t.prototype.flipCamera=function(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},t.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(e){e.stop()}),this.videoStream=void 0)},t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this),this.stopVideo()},t.prototype.updateElementCssCore=function(e){r.prototype.updateElementCssCore.call(this,e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()},t.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},t.prototype.updateFileNavigator=function(){this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},t.prototype.previewValueChanged=function(){var e=this;this.previewValue.length!==this.prevPreviewLength&&(this.indexToShow=this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0?this.pagesCount-1:this.indexToShow:Math.floor(this.prevPreviewLength/this.pageSize):0),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(function(){e.processResponsiveness(0,e._width)}),this.prevPreviewLength=this.previewValue.length},t.prototype.isPreviewVisible=function(e){return!this.fileNavigatorVisible||this.indexToShow*this.pageSize<=e&&e<(this.indexToShow+1)*this.pageSize},t.prototype.getType=function(){return"file"},Object.defineProperty(t.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(e){this.setPropertyValue("showPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(e){this.setPropertyValue("allowMultiple",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(e){this.setPropertyValue("acceptedTypes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(e){this.setPropertyValue("allowImagesPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(e){this.setPropertyValue("maxSize",e)},enumerable:!1,configurable:!0}),t.prototype.chooseFile=function(e){var n=this;if(this.rootElement){var o=this.rootElement.querySelector("#"+this.inputId);o&&(e.preventDefault(),e.stopImmediatePropagation(),o&&(this.survey?this.survey.chooseFiles(o,function(s){return n.loadFiles(s)},{element:this,elementType:this.getType(),propertyName:this.name}):o.click()))}},Object.defineProperty(t.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(e){this.setPropertyValue("needConfirmRemoveFile",e)},enumerable:!1,configurable:!0}),t.prototype.getConfirmRemoveMessage=function(e){return this.confirmRemoveMessage.format(e)},Object.defineProperty(t.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(e){this.setLocalizableStringText("takePhotoCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearButtonCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){var e=this;return void 0===this.locRenderedPlaceholderValue&&(this.locRenderedPlaceholderValue=new we(function(){var o=!e.isDesignMode&&e.hasFileUI||e.isDesignMode&&"camera"!=e.sourceType;return e.isReadOnly?e.locNoFileChosenCaption:o&&(!e.isDesignMode&&e.hasVideoUI||e.isDesignMode&&"file"!=e.sourceType)?e.locFileOrPhotoPlaceholder:o?e.locFilePlaceholder:e.locPhotoPlaceholder})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsPlayingVideo=function(e){this.setPropertyValue("isPlayingVideo",e)},t.prototype.updateCurrentMode=function(){var e=this;this.isDesignMode||("file"!==this.sourceType?this.camera.hasCamera(function(n){e.setPropertyValue("currentMode",n&&e.isDefaultV2Theme?e.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},t.prototype.updateActionsVisibility=function(){var e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&"camera"!==this.sourceType,this.startCameraAction.visible=!e&&this.hasVideoUI||e&&"file"!==this.sourceType,this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(t.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),t.prototype.clear=function(e){var n=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(o,s){"success"===o&&(n.value=void 0,n.errors=[],e&&e(),n.indexToShow=0,n.fileIndexAction.title=n.getFileIndexCaption())}))},Object.defineProperty(t.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFileDecorator",{get:function(){return!this.isPlayingVideo&&!this.showLoadingIndicator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowShowPreview",{get:function(){return!this.showLoadingIndicator&&!this.isPlayingVideo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonCore",{get:function(){var e=this.showLoadingIndicator,n=this.isReadOnly,o=this.isEmpty();return!(n||o||e||this.isDefaultV2Theme)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonBottom",{get:function(){var e=(new A).append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&e},enumerable:!1,configurable:!0}),t.prototype.defaultImage=function(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage},t.prototype.removeFile=function(e){this.removeFileByContent(this.value.filter(function(n){return n.name===e})[0])},t.prototype.removeFileByContent=function(e){var n=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,function(o,s){if("success"===o){var u=n.value;n.value=Array.isArray(u)?u.filter(function(p){return!R.isTwoValueEquals(p,e,!0,!1,!1)}):void 0}})},t.prototype.setValueFromResult=function(e){this.value=(this.value||[]).concat(e.map(function(n){return{name:n.file.name,type:n.file.type,content:n.content}}))},t.prototype.loadFiles=function(e){var n=this;if(this.survey&&(this.errors=[],this.allFilesOk(e))){var o=function(){n.stateChanged("loading");var s=[];n.storeDataAsText?e.forEach(function(u){var p=new FileReader;p.onload=function(h){(s=s.concat([{name:u.name,type:u.type,content:p.result}])).length===e.length&&(n.value=(n.value||[]).concat(s))},p.readAsDataURL(u)}):n.uploadFiles(e)};this.allowMultiple?o():this.clear(o)}},Object.defineProperty(t.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new qc),this.cameraValue},enumerable:!1,configurable:!0}),t.prototype.canPreviewImage=function(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)},t.prototype.loadPreview=function(e){var n=this;if(this.previewValue.splice(0,this.previewValue.length),this.showPreview&&e){var o=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?o.forEach(function(s){n.previewValue.push({name:s.name,type:s.type,content:s.content||s})}):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new pa(this,function(s,u){"error"!==s&&(u.forEach(function(p){n.previewValue.push(p)}),n.previewValueChanged()),n.isFileLoading=!1,n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(o)),this.previewValueChanged()}},t.prototype.getIsQuestionReady=function(){return r.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},t.prototype.allFilesOk=function(e){var n=this,o=this.errors?this.errors.length:0;return(e||[]).forEach(function(s){n.maxSize>0&&s.size>n.maxSize&&n.errors.push(new ts(n.maxSize,n))}),o===this.errors.length},t.prototype.isFileImage=function(e){if(!e||!e.content||!e.content.substring)return!1;var n="data:image",o=e.content&&e.content.substring(0,10);return(o=o&&o.toLowerCase())===n||!!e.type&&0===e.type.toLowerCase().indexOf("image/")},t.prototype.getPlainData=function(e){void 0===e&&(e={includeEmpty:!0});var n=r.prototype.getPlainData.call(this,e);if(n&&!this.isEmpty()){n.isNode=!1;var o=Array.isArray(this.value)?this.value:[this.value];n.data=o.map(function(s,u){return{name:u,title:"File",value:s.content&&s.content||s,displayValue:s.name&&s.name||s,getString:function(p){return"object"==typeof p?JSON.stringify(p):p},isNode:!1}})}return n},t.prototype.getImageWrapperCss=function(e){return(new A).append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()},t.prototype.getActionsContainerCss=function(e){return(new A).append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()},t.prototype.getRemoveButtonCss=function(){return(new A).append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},t.prototype.getChooseFileCss=function(){var e=this.isAnswered;return(new A).append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()},t.prototype.getReadOnlyFileCss=function(){return(new A).append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(t.prototype,"fileRootCss",{get:function(){return(new A).append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),t.prototype.getFileDecoratorCss=function(){return(new A).append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},t.prototype.onChange=function(e){if(V.isFileReaderAvailable()&&e&&e.files&&!(e.files.length<1)){for(var n=[],o=this.allowMultiple?e.files.length:1,s=0;s<o;s++)n.push(e.files[s]);e.value="",this.loadFiles(n)}},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=n.contextButton,this.actionsContainer.containerCss=n.actionsContainer,n},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getObservedElementSelector=function(){return Ht(this.cssClasses.dragArea)},t.prototype.getFileListSelector=function(){return Ht(this.cssClasses.fileList)},t.prototype.triggerResponsiveness=function(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),r.prototype.triggerResponsiveness.call(this)},t.prototype.processResponsiveness=function(e,n){var o=this;if(this._width=n,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var u=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(u){this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(k.getComputedStyle(u).gap));var p=Array.from(u.children).filter(function(h,m){return o.isPreviewVisible(m)})[0];p&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(k.getComputedStyle(p).width)))}}return!(!this.calculatedGapBetweenItems||!this.calculatedItemWidth||(this.pageSize=this.calcAvailableItemsCount(n,this.calculatedItemWidth,this.calculatedGapBetweenItems),0))},t.prototype.canDragDrop=function(){return!this.isInputReadOnly&&"camera"!==this.currentMode&&!this.isPlayingVideo},t.prototype.afterRenderQuestionElement=function(e){this.rootElement=e},t.prototype.beforeDestroyQuestionElement=function(e){this.rootElement=void 0},t.prototype.clearFilesCore=function(){if(this.rootElement){var e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()},t.prototype.doRemoveFile=function(e,n){var o=this;n.stopPropagation(),this.needConfirmRemoveFile?ln(this.getConfirmRemoveMessage(e.name),function(){o.removeFileCore(e)},void 0,this.getLocale(),this.survey.rootElement):this.removeFileCore(e)},t.prototype.removeFileCore=function(e){var n=this.previewValue.indexOf(e);this.removeFileByContent(-1===n?e:this.value[n])},t.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),r.prototype.dispose.call(this)},Ve([_()],t.prototype,"isDragging",void 0),Ve([qe({})],t.prototype,"previewValue",void 0),Ve([_({defaultValue:0})],t.prototype,"indexToShow",void 0),Ve([_({defaultValue:1,onSet:function(e,n){n.updateFileNavigator()}})],t.prototype,"pageSize",void 0),Ve([_({defaultValue:!1})],t.prototype,"containsMultiplyFiles",void 0),Ve([_()],t.prototype,"allowCameraAccess",void 0),Ve([_({onSet:function(e,n){n.isLoadingFromJson||n.updateCurrentMode()}})],t.prototype,"sourceType",void 0),Ve([_()],t.prototype,"canFlipCameraValue",void 0),Ve([_({localizable:{defaultStr:"confirmRemoveFile"}})],t.prototype,"confirmRemoveMessage",void 0),Ve([_({localizable:{defaultStr:"confirmRemoveAllFiles"}})],t.prototype,"confirmRemoveAllMessage",void 0),Ve([_({localizable:{defaultStr:"noFileChosen"}})],t.prototype,"noFileChosenCaption",void 0),Ve([_({localizable:{defaultStr:"chooseFileCaption"}})],t.prototype,"chooseButtonCaption",void 0),Ve([_({localizable:{defaultStr:"replaceFileCaption"}})],t.prototype,"replaceButtonCaption",void 0),Ve([_({localizable:{defaultStr:"removeFileCaption"}})],t.prototype,"removeFileCaption",void 0),Ve([_({localizable:{defaultStr:"loadingFile"}})],t.prototype,"loadingFileTitle",void 0),Ve([_({localizable:{defaultStr:"chooseFile"}})],t.prototype,"chooseFileTitle",void 0),Ve([_({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],t.prototype,"fileOrPhotoPlaceholder",void 0),Ve([_({localizable:{defaultStr:"photoPlaceholder"}})],t.prototype,"photoPlaceholder",void 0),Ve([_({localizable:{defaultStr:"filePlaceholder"}})],t.prototype,"filePlaceholder",void 0),Ve([_()],t.prototype,"locRenderedPlaceholderValue",void 0),t}(ca);M.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(r){return!!r.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return I.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return I.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return I.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return I.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new Go("")},"question"),he.Instance.registerQuestion("file",function(r){return new Go(r)});var pa=function(){function r(t,e){this.fileQuestion=t,this.callback=e,this.loaded=[]}return r.prototype.load=function(t){var e=this,n=0;this.loaded=new Array(t.length),t.forEach(function(o,s){e.fileQuestion.survey&&e.fileQuestion.survey.downloadFile(e.fileQuestion,e.fileQuestion.name,o,function(u,p){!e.fileQuestion||!e.callback||("error"!==u?(e.loaded[s]={content:p,name:o.name,type:o.type},++n===t.length&&e.callback(u,e.loaded)):e.callback("error",e.loaded))})})},r.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},r}(),lh=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),da=function(r){function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("html",n).onGetTextCallback=function(s){return n.survey&&!n.ignoreHtmlProgressing?n.processHtml(s):s},n}return lh(t,r),t.prototype.getType=function(){return"html"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getProcessedText=function(e){return this.ignoreHtmlProgressing?e:r.prototype.getProcessedText.call(this,e)},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),t.prototype.processHtml=function(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return(new A).append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0},enumerable:!1,configurable:!0}),t}(bi);M.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new da("")},"nonvalue"),he.Instance.registerQuestion("html",function(r){return new da(r)});var fa=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$o=function(r){function t(e){return r.call(this,e)||this}return fa(t,r),t.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},t.prototype.getType=function(){return"radiogroup"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(e){this.setPropertyValue("showClearButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&!this.isOtherSelected},t.prototype.getConditionJson=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=r.prototype.getConditionJson.call(this,e,n);return delete o.showClearButton,o},t.prototype.setNewComment=function(e){this.isMouseDown=!0,r.prototype.setNewComment.call(this,e),this.isMouseDown=!1},Object.defineProperty(t.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),t.prototype.clickItemHandler=function(e){this.isReadOnlyAttr||(this.renderedValue=e.value)},t.prototype.getDefaultTitleActions=function(){var e=this,n=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var o=new de({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){e.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new we(function(){return e.canShowClearButton})});n.push(o)}return n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),t}(An);M.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new $o("")},"checkboxbase"),he.Instance.registerQuestion("radiogroup",function(r){var t=new $o(r);return t.choices=he.DefaultChoices,t});var zo=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qe=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},_i=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this)||this;return o.itemValue=e,o.locString=n,o.locText.onStringChanged.add(o.onStringChangedCallback.bind(o)),o.onStringChangedCallback(),o}return zo(t,r),t.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(t.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),Qe([_({defaultValue:""})],t.prototype,"highlight",void 0),Qe([_({defaultValue:""})],t.prototype,"text",void 0),Qe([_()],t.prototype,"style",void 0),t}(oe),Qc=function(r){function t(e,n){var o=r.call(this,e)||this;return o.description=n,o}return zo(t,r),t}(J),Uo=function(r){function t(e){var n=r.call(this,e)||this;return n._syncPropertiesChanging=!1,n.createItemValues("rateValues"),n.createRenderedRateItems(),n.createLocalizableString("ratingOptionsCaption",n,!1,!0),n.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateType"],function(){n.setIconsToRateValues(),n.createRenderedRateItems(),n.updateRateCount()}),n.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){n.setIconsToRateValues(),n.createRenderedRateItems()}),n.registerSychProperties(["rateValues"],function(){n.autoGenerate=0==n.rateValues.length,n.setIconsToRateValues(),n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){n.updateColors(n.survey.themeVariables)}),n.registerFunctionOnPropertiesValueChanged(["displayMode"],function(){n.updateRenderAsBasedOnDisplayMode(!0)}),n.registerSychProperties(["autoGenerate"],function(){!n.autoGenerate&&0===n.rateValues.length&&n.setPropertyValue("rateValues",n.visibleRateValues),n.autoGenerate&&(n.rateValues.splice(0,n.rateValues.length),n.updateRateMax()),n.createRenderedRateItems()}),n.createLocalizableString("minRateDescription",n,!0),n.createLocalizableString("maxRateDescription",n,!0),n.initPropertyDependencies(),n}return zo(t,r),t.prototype.setIconsToRateValues=function(){var e=this;"smileys"==this.rateType&&this.rateValues.map(function(n){return n.icon=e.getItemSmiley(n)})},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,void 0!==this.jsonObj.rateMin&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMax&&this.updateRateMax(),void 0!==this.jsonObj.rateMax&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMin&&this.updateRateMin(),void 0===this.jsonObj.autoGenerate&&void 0!==this.jsonObj.rateValues&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},t.prototype.registerSychProperties=function(e,n){var o=this;this.registerFunctionOnPropertiesValueChanged(e,function(){o._syncPropertiesChanging||(o._syncPropertiesChanging=!0,n(),o._syncPropertiesChanging=!1)})},t.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},t.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},t.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},t.prototype.updateRateCount=function(){var e=0;(e=this.useRateValues()?this.rateValues.length:Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1)>10&&"smileys"==this.rateDisplayMode&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)},t.prototype.initPropertyDependencies=function(){var e=this;this.registerSychProperties(["rateCount"],function(){if(e.useRateValues())if(e.rateCount<e.rateValues.length){if(e.rateCount>=10&&"smileys"==e.rateDisplayMode)return;e.rateValues.splice(e.rateCount,e.rateValues.length-e.rateCount)}else for(var n=e.rateValues.length;n<e.rateCount;n++)e.rateValues.push(new J(te.getString("choices_Item")+(n+1)));else e.rateMax=e.rateMin+e.rateStep*(e.rateCount-1)}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){e.updateRateCount()})},Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var n,e=this;return!this.readOnly&&(null===(n=this.visibleRateValues.filter(function(o){return o.value==e.value})[0])||void 0===n?void 0:n.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(e){this.setPropertyValue("rateValues",e),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(e){this.setPropertyValue("rateMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(e){this.setPropertyValue("rateMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(e){this.setPropertyValue("rateStep",e)},enumerable:!1,configurable:!0}),t.prototype.updateColors=function(e){function n(s){var u=getComputedStyle(k.getDocumentElement());return u.getPropertyValue&&u.getPropertyValue(s)}function o(s,u){var p=!!e&&e[s];if(p||(p=n(u)),!p)return null;var h=k.createElement("canvas");if(!h)return null;var m=h.getContext("2d");m.fillStyle=p,"#000000"==m.fillStyle&&(m.fillStyle=n(u));var x=m.fillStyle;if(x.startsWith("rgba"))return x.substring(5,x.length-1).split(",").map(function(D){return+D.trim()});var T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(x);return T?[parseInt(T[1],16),parseInt(T[2],16),parseInt(T[3],16),1]:null}"monochrome"!==this.colorMode&&k.isAvailable()&&!t.colorsCalculated&&(t.badColor=o("--sjs-special-red","--sd-rating-bad-color"),t.normalColor=o("--sjs-special-yellow","--sd-rating-normal-color"),t.goodColor=o("--sjs-special-green","--sd-rating-good-color"),t.badColorLight=o("--sjs-special-red-light","--sd-rating-bad-color-light"),t.normalColorLight=o("--sjs-special-yellow-light","--sd-rating-normal-color-light"),t.goodColorLight=o("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0)},t.prototype.getDisplayValueCore=function(e,n){return this.useRateValues?J.getTextOrHtmlByValue(this.visibleRateValues,n)||n:r.prototype.getDisplayValueCore.call(this,e,n)},Object.defineProperty(t.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(e){return e.itemValue})},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return"dropdown"===this.renderAs},t.prototype.itemValuePropertyChanged=function(e,n,o,s){!this.useRateValues()&&void 0!==s&&(this.autoGenerate=!1),r.prototype.itemValuePropertyChanged.call(this,e,n,o,s)},t.prototype.createRenderedRateItems=function(){var e=this,n=[];n=this.useRateValues()?this.rateValues:this.createRateValues(),this.autoGenerate&&(this.rateMax=n[n.length-1].value),"smileys"==this.rateType&&n.length>10&&(n=n.slice(0,10)),this.renderedRateItems=n.map(function(o,s){var u=null;return e.displayRateDescriptionsAsExtremeItems&&(0==s&&(u=new _i(o,e.minRateDescription&&e.locMinRateDescription||o.locText)),s==n.length-1&&(u=new _i(o,e.maxRateDescription&&e.locMaxRateDescription||o.locText))),u||(u=new _i(o)),u})},t.prototype.createRateValues=function(){for(var e=[],n=this.rateMin,o=this.rateStep;n<=this.rateMax&&e.length<I.ratingMaximumRateValueCount;){var s=void 0;n===this.rateMin&&(s=this.minRateDescription&&this.locMinRateDescription),(n===this.rateMax||e.length===I.ratingMaximumRateValueCount)&&(s=this.maxRateDescription&&this.locMaxRateDescription);var u=new Qc(n,s);u.locOwner=this,u.ownerPropertyName="rateValues",e.push(u),n=this.correctValue(n+o,o)}return e},t.prototype.correctValue=function(e,n){if(!e||Math.round(e)==e)return e;for(var o=0;Math.round(n)!=n;)n*=10,o++;return parseFloat(e.toFixed(o))},t.prototype.getType=function(){return"rating"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},t.prototype.getInputId=function(e){return this.inputId+"_"+e},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown||"dropdown"===this.renderAs},t.prototype.supportOther=function(){return!1},t.prototype.getPlainDataCalculatedValue=function(e){var n=r.prototype.getPlainDataCalculatedValue.call(this,e);if(void 0!==n||!this.useRateValues||this.isEmpty())return n;var o=J.getItemByValue(this.visibleRateValues,this.value);return o?o[e]:void 0},Object.defineProperty(t.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(e){this.setLocalizableStringText("minRateDescription",e),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(e){this.setLocalizableStringText("maxRateDescription",e),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),t.prototype.updateRenderAsBasedOnDisplayMode=function(e){this.isDesignMode?(e||"dropdown"===this.renderAs)&&(this.renderAs="default"):(e||"auto"!==this.displayMode)&&(this.renderAs="dropdown"===this.displayMode?"dropdown":"default")},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),"dropdown"===this.renderAs&&"auto"===this.displayMode?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()},Object.defineProperty(t.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(e){this.rateType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return"stars"==this.rateType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSmiley",{get:function(){return"smileys"==this.rateType},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return"dropdown"==this.renderAs?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),t.prototype.valueToData=function(e){if(this.useRateValues()){var n=J.getItemByValue(this.rateValues,e);return n?n.value:e}return isNaN(e)?e:parseFloat(e)},t.prototype.setValueFromClick=function(e){if(!this.isReadOnlyAttr){this.value===("string"==typeof this.value?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(var n=0;n<this.renderedRateItems.length;n++)this.renderedRateItems[n].highlight="none"}},t.prototype.onItemMouseIn=function(e){if(!xe&&!this.isReadOnly&&e.itemValue.isEnabled&&!this.isDesignMode){var n=!0,o=null!=this.value;if("stars"!==this.rateType)return void(e.highlight="highlighted");for(var s=0;s<this.renderedRateItems.length;s++)this.renderedRateItems[s].highlight=(n&&!o?"highlighted":!n&&o&&"unhighlighted")||"none",this.renderedRateItems[s]==e&&(n=!1),this.renderedRateItems[s].itemValue.value==this.value&&(o=!1)}},t.prototype.onItemMouseOut=function(e){xe||this.renderedRateItems.forEach(function(n){return n.highlight="none"})},Object.defineProperty(t.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&"small"==I.matrix.rateSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratingRootCss",{get:function(){var e=("buttons"==this.displayMode||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",n="";return(this.hasMaxLabel||this.hasMinLabel)&&("top"==this.rateDescriptionLocation&&(n=this.cssClasses.rootLabelsTop),"bottom"==this.rateDescriptionLocation&&(n=this.cssClasses.rootLabelsBottom),"topBottom"==this.rateDescriptionLocation&&(n=this.cssClasses.rootLabelsDiagonal)),(new A).append(this.cssClasses.root).append(e).append(n).append(this.cssClasses.itemSmall,this.itemSmallMode&&"labels"!=this.rateType).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),t.prototype.getItemSmiley=function(e){var s=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,u=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"].slice(0,s),p=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"].filter(function(h){return-1!=u.indexOf(h)});return this.useRateValues()?p[this.rateValues.indexOf(e)]:p[e.value-this.rateMin]},t.prototype.getItemSmileyIconName=function(e){return"icon-"+this.getItemSmiley(e)},t.prototype.getItemClassByText=function(e,n){return this.getItemClass(e)},t.prototype.getRenderedItemColor=function(e,n){var o=n?t.badColorLight:t.badColor,s=n?t.goodColorLight:t.goodColor,u=(this.rateCount-1)/2,p=n?t.normalColorLight:t.normalColor;if(e<u?s=p:(o=p,e-=u),!o||!s)return null;for(var h=[0,0,0,0],m=0;m<4;m++)h[m]=o[m]+(s[m]-o[m])*e/u,m<3&&(h[m]=Math.trunc(h[m]));return"rgba("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},t.prototype.getItemStyle=function(e,n){if(void 0===n&&(n="none"),"monochrome"===this.scaleColorMode&&"default"==this.rateColorMode||this.isPreviewStyle||this.isReadOnlyStyle)return{};var o=this.visibleRateValues.indexOf(e),s=this.getRenderedItemColor(o,!1),u="highlighted"==n&&"colored"===this.scaleColorMode&&this.getRenderedItemColor(o,!0);return u?{"--sd-rating-item-color":s,"--sd-rating-item-color-light":u}:{"--sd-rating-item-color":s}},t.prototype.getItemClass=function(e,n){var o=this;void 0===n&&(n="none");var s=this.value==e.value;this.isStar&&(s=this.useRateValues()?this.rateValues.indexOf(this.rateValues.filter(function(qn){return qn.value==o.value})[0])>=this.rateValues.indexOf(e):this.value>=e.value);var p=!(this.isReadOnly||!e.isEnabled||this.value==e.value||this.survey&&this.survey.isDesignMode),h=this.renderedRateItems.filter(function(qn){return qn.itemValue==e})[0],m=this.isStar&&"highlighted"==h?.highlight,x=this.isStar&&"unhighlighted"==h?.highlight,T=this.cssClasses.item,D=this.cssClasses.selected,B=this.cssClasses.itemDisabled,j=this.cssClasses.itemReadOnly,X=this.cssClasses.itemPreview,U=this.cssClasses.itemHover,$=this.cssClasses.itemOnError,Z=null,Ce=null,et=null,rt=null,Lt=null;this.isStar&&(T=this.cssClasses.itemStar,D=this.cssClasses.itemStarSelected,B=this.cssClasses.itemStarDisabled,j=this.cssClasses.itemStarReadOnly,X=this.cssClasses.itemStarPreview,U=this.cssClasses.itemStarHover,$=this.cssClasses.itemStarOnError,Z=this.cssClasses.itemStarHighlighted,Ce=this.cssClasses.itemStarUnhighlighted,Lt=this.cssClasses.itemStarSmall),this.isSmiley&&(T=this.cssClasses.itemSmiley,D=this.cssClasses.itemSmileySelected,B=this.cssClasses.itemSmileyDisabled,j=this.cssClasses.itemSmileyReadOnly,X=this.cssClasses.itemSmileyPreview,U=this.cssClasses.itemSmileyHover,$=this.cssClasses.itemSmileyOnError,Z=this.cssClasses.itemSmileyHighlighted,et=this.cssClasses.itemSmileyScaleColored,rt=this.cssClasses.itemSmileyRateColored,Lt=this.cssClasses.itemSmileySmall);var lr=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText));return(new A).append(T).append(D,s).append(B,this.isDisabledStyle).append(j,this.isReadOnlyStyle).append(X,this.isPreviewStyle).append(U,p).append(Z,m).append(et,"colored"==this.scaleColorMode).append(rt,"scale"==this.rateColorMode&&s).append(Ce,x).append($,this.hasCssError()).append(Lt,this.itemSmallMode).append(this.cssClasses.itemFixedSize,lr).toString()},t.prototype.getControlClass=function(){return this.isEmpty(),(new A).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(e){this.setLocalizableStringText("ratingOptionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){return e.value==this.value},Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),t.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var n=this.getPropertyValue("rateStep"),o=this.getPropertyValue("rateMax"),s=this.getPropertyValue("rateMin");return"dropdown"!=this.displayMode&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||n&&(o-s)/n>9)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.onBeforeSetCompactRenderer=function(){this.dropdownListModelValue||(this.dropdownListModel=new mi(this))},t.prototype.getCompactRenderAs=function(){return"buttons"==this.displayMode?"default":"dropdown"},t.prototype.getDesktopRenderAs=function(){return"dropdown"==this.displayMode?"dropdown":"default"},Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return"dropdown"===this.renderAs&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e,this.updateElementCss()},enumerable:!1,configurable:!0}),t.prototype.updateCssClasses=function(e,n){if(r.prototype.updateCssClasses.call(this,e,n),this.dropdownListModel){var o={};Pt(n.list,o),Pt(e.list,o),e.list=o}},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},t.prototype.themeChanged=function(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables),this.createRenderedRateItems()},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},t.colorsCalculated=!1,Qe([_({defaultValue:!1})],t.prototype,"inputHasValue",void 0),Qe([_()],t.prototype,"autoGenerate",void 0),Qe([_()],t.prototype,"rateCount",void 0),Qe([qe()],t.prototype,"renderedRateItems",void 0),Qe([_({defaultValue:!1})],t.prototype,"hasMinRateDescription",void 0),Qe([_({defaultValue:!1})],t.prototype,"hasMaxRateDescription",void 0),Qe([_()],t.prototype,"displayRateDescriptionsAsExtremeItems",void 0),Qe([_()],t.prototype,"displayMode",void 0),Qe([_()],t.prototype,"rateDescriptionLocation",void 0),Qe([_()],t.prototype,"rateType",void 0),Qe([_()],t.prototype,"scaleColorMode",void 0),Qe([_()],t.prototype,"rateColorMode",void 0),t}(je);M.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(r){return"smileys"==r.rateDisplayMode},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(r){return"smileys"==r.rateDisplayMode&&"monochrome"==r.scaleColorMode},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:function(r,t){return t<2?2:t>I.ratingMaximumRateValueCount&&t>r.rateValues.length?I.ratingMaximumRateValueCount:t>10&&"smileys"==r.rateDisplayMode?10:t}},{name:"rateValues:itemvalue[]",baseValue:function(){return te.getString("choices_Item")},category:"rateValues",visibleIf:function(r){return!r.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:function(r,t){return t>r.rateMax-r.rateStep?r.rateMax-r.rateStep:t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:function(r,t){return t<r.rateMin+r.rateStep?r.rateMin+r.rateStep:t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(r,t){return t<=0&&(t=1),t>r.rateMax-r.rateMin&&(t=r.rateMax-r.rateMin),t},visibleIf:function(r){return!!r.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(r){return"labels"==r.rateType}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:function(r){return r?(r.getOriginalObj&&(r=r.getOriginalObj()),r.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new Uo("")},"question"),he.Instance.registerQuestion("rating",function(r){return new Uo(r)});var Gc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},jn=function(r){function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("labelFalse",n,!0,"booleanUncheckedLabel"),n.createLocalizableString("labelTrue",n,!0,"booleanCheckedLabel"),n}return Gc(t,r),t.prototype.getType=function(){return"boolean"},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.supportGoNextPageAutomatic=function(){return"checkbox"!==this.renderAs},Object.defineProperty(t.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(e){this.booleanValue=e},enumerable:!1,configurable:!0}),t.prototype.setBooleanValue=function(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=1==e?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){!0===e&&(e="true"),!1===e&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),t.prototype.getDefaultValue=function(){var e=this.defaultValue;if("indeterminate"!==e&&null!=e)return"true"==e?this.getValueTrue():this.getValueFalse()},Object.defineProperty(t.prototype,"locTitle",{get:function(){var e=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(e.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),t.prototype.beforeDestroyQuestionElement=function(e){r.prototype.beforeDestroyQuestionElement.call(this,e),this.leftAnswerElement=void 0},Object.defineProperty(t.prototype,"isLabelRendered",{get:function(){return"hidden"===this.titleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(e){this.setLocalizableStringText("labelTrue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeterminated",{get:function(){return null!=this.booleanValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelLeft",{get:function(){return this.getLocalizableString(this.swapOrder?"labelTrue":"labelFalse")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelRight",{get:function(){return this.getLocalizableString(this.swapOrder?"labelFalse":"labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(e){this.setLocalizableStringText("labelFalse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),t.prototype.getValueTrue=function(){return void 0===this.valueTrue||this.valueTrue},t.prototype.getValueFalse=function(){return void 0!==this.valueFalse&&this.valueFalse},t.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);var e=this.defaultValue;("indeterminate"===e||null==e)&&this.setBooleanValue(void 0)},t.prototype.isDefaultValueSet=function(e,n){return this.defaultValue==e||void 0!==n&&this.defaultValue===n},t.prototype.getDisplayValueCore=function(e,n){return n==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},t.prototype.getItemCssValue=function(e){return(new A).append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()},t.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},t.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},t.prototype.getLabelCss=function(e){return(new A).append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()},t.prototype.updateValueFromSurvey=function(e,n){void 0===n&&(n=!1),r.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onValueChanged=function(){r.prototype.onValueChanged.call(this)},Object.defineProperty(t.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),t.prototype.getCheckedLabel=function(){return!0===this.booleanValue?this.locLabelTrue:!1===this.booleanValue?this.locLabelFalse:void 0},t.prototype.setQuestionValue=function(e,n){void 0===n&&(n=!0),"true"===e&&"true"!==this.valueTrue&&(e=!0),"false"===e&&"false"!==this.valueFalse&&(e=!1),("indeterminate"===e||null===e)&&(e=void 0),r.prototype.setQuestionValue.call(this,e,n)},t.prototype.onLabelClick=function(e,n){return this.allowClick&&(Sn(e),this.booleanValue=n),!0},t.prototype.calculateBooleanValueByEvent=function(e,n){var o=!1;k.isAvailable()&&(o="rtl"==k.getComputedStyle(e.target).direction),this.booleanValue=o?!n:n},t.prototype.onSwitchClickModel=function(e){return!this.allowClick||(Sn(e),void this.calculateBooleanValueByEvent(e,e.offsetX/e.target.offsetWidth>.5))},t.prototype.onKeyDownCore=function(e){return("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,"ArrowRight"===e.key)),!0},t.prototype.getRadioItemClass=function(e,n){var o=void 0;return e.radioItem&&(o=e.radioItem),e.radioItemChecked&&n===this.booleanValue&&(o=(o?o+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(o+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(o+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(o+=" "+e.radioItemPreview),o},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getCompactRenderAs=function(){return"radio"},t.prototype.createActionContainer=function(e){return r.prototype.createActionContainer.call(this,"checkbox"!==this.renderAs)},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),fn([_()],t.prototype,"booleanValueRendered",void 0),fn([_()],t.prototype,"showTitle",void 0),fn([_({localizable:!0})],t.prototype,"label",void 0),fn([_({defaultValue:!1})],t.prototype,"swapOrder",void 0),fn([_()],t.prototype,"valueTrue",void 0),fn([_()],t.prototype,"valueFalse",void 0),t}(je);M.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new jn("")},"question"),he.Instance.registerQuestion("boolean",function(r){return new jn(r)});var ha=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dt=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ma=function(r){function t(e,n,o){void 0===n&&(n=null),void 0===o&&(o="imageitemvalue");var s=r.call(this,e,n,o)||this;return s.typeName=o,s.createLocalizableString("imageLink",s,!1),s}return ha(t,r),t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(t.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof Bn&&"video"==this.locOwner.contentMode?this.videoNotLoaded:this.imageNotLoaded},set:function(e){this.locOwner instanceof Bn&&"video"==this.locOwner.contentMode?this.videoNotLoaded=e:this.imageNotLoaded=e},enumerable:!1,configurable:!0}),dt([_({defaultValue:!1})],t.prototype,"videoNotLoaded",void 0),dt([_({defaultValue:!1})],t.prototype,"imageNotLoaded",void 0),t}(J),Bn=function(r){function t(e){var n=r.call(this,e)||this;return n.isResponsiveValue=!1,n.onContentLoaded=function(o,s){o.contentNotLoaded=!1;var u=s.target;o.aspectRatio="video"==n.contentMode?u.videoWidth/u.videoHeight:u.naturalWidth/u.naturalHeight,n._width&&n.processResponsiveness(0,n._width)},n.colCount=0,n.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){n._width&&n.processResponsiveness(0,n._width)}),n.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){n.calcIsResponsive()}),n.calcIsResponsive(),n}return ha(t,r),t.prototype.getType=function(){return"imagepicker"},t.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.multiSelect?R.isArrayContainsEqual(this.value,this.correctAnswer):r.prototype.isAnswerCorrect.call(this)},Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(e){this.setPropertyValue("multiSelect",e)},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){var n=this.value,o=e;if(this.isValueEmpty(n)||!o.imageLink||o.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(n,e.value);if(!Array.isArray(n))return!1;for(var s=0;s<n.length;s++)if(this.isTwoValueEquals(n[s],e.value))return!0;return!1},t.prototype.getItemEnabled=function(e){return!(!e.imageLink||e.contentNotLoaded)&&r.prototype.getItemEnabled.call(this,e)},t.prototype.clearIncorrectValues=function(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||0==e.length)return void this.clearValue(!0);for(var n=[],o=0;o<e.length;o++)this.hasUnknownValue(e[o],!0)||n.push(e[o]);if(n.length==e.length)return;0==n.length?this.clearValue(!0):this.value=n}else r.prototype.clearIncorrectValues.call(this)},t.prototype.getDisplayValueCore=function(e,n){return this.multiSelect||Array.isArray(n)?this.getDisplayArrayValue(e,n):r.prototype.getDisplayValueCore.call(this,e,n)},Object.defineProperty(t.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(e){this.setPropertyValue("showLabel",e)},enumerable:!1,configurable:!0}),t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},t.prototype.getValueCore=function(){var e=r.prototype.getValueCore.call(this);return void 0!==e?e:this.multiSelect?[]:e},t.prototype.convertValToArrayForMultSelect=function(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]},t.prototype.renderedValueFromDataCore=function(e){return this.convertValToArrayForMultSelect(e)},t.prototype.rendredValueToDataCore=function(e){return this.convertValToArrayForMultSelect(e)},Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageHeight",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight)||150},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageWidth",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth)||200},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return!1},t.prototype.addToVisibleChoices=function(e,n){this.addNewItemToVisibleChoices(e,n)},t.prototype.getSelectBaseRootCss=function(){return(new A).append(r.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,1==this.getCurrentColCount()).toString()},Object.defineProperty(t.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exactSizesAreEmpty",{get:function(){var e=this;return!["imageHeight","imageWidth"].some(function(n){return null!=e[n]})},enumerable:!1,configurable:!0}),t.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},t.prototype.getObservedElementSelector=function(){return Ht(this.cssClasses.root)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.needResponsiveWidth=function(){return this.colCount>2},t.prototype.getCurrentColCount=function(){return void 0===this.responsiveColCount||0===this.colCount?this.colCount:this.responsiveColCount},t.prototype.processResponsiveness=function(e,n){this._width=n=Math.floor(n);var o=function(Z,Ce,et){var rt=Math.floor(Z/(Ce+et));return(rt+1)*(Ce+et)-et<=Z&&rt++,rt};if(this.isResponsive){var D,s=this.choices.length+(this.isDesignMode?1:0),u=this.gapBetweenItems||0,p=this.minImageWidth,h=this.maxImageWidth,m=this.maxImageHeight,x=this.minImageHeight,T=this.colCount;if(0===T)if((u+p)*s-u>n){var B=o(n,p,u);D=Math.floor((n-u*(B-1))/B)}else D=Math.floor((n-u*(s-1))/s);else{var j=o(n,p,u);j<T?(this.responsiveColCount=j>=1?j:1,T=this.responsiveColCount):this.responsiveColCount=T,D=Math.floor((n-u*(T-1))/T)}D=Math.max(p,Math.min(D,h));var X=Number.MIN_VALUE;this.choices.forEach(function(Z){var Ce=D/Z.aspectRatio;X=Ce>X?Ce:X}),X>m?X=m:X<x&&(X=x);var U=this.responsiveImageWidth,$=this.responsiveImageHeight;return this.responsiveImageWidth=D,this.responsiveImageHeight=X,U!==this.responsiveImageWidth||$!==this.responsiveImageHeight}return!1},t.prototype.triggerResponsiveness=function(e){void 0===e&&(e=!0),e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),r.prototype.triggerResponsiveness.call(this,e)},t.prototype.afterRender=function(e){var n=this;r.prototype.afterRender.call(this,e);var o=this.getObservedElementSelector(),s=e&&o?e.querySelector(o):void 0;s&&(this.reCalcGapBetweenItemsCallback=function(){n.gapBetweenItems=Math.ceil(Number.parseFloat(k.getComputedStyle(s).gap))||16},this.reCalcGapBetweenItemsCallback())},dt([_({})],t.prototype,"responsiveImageHeight",void 0),dt([_({})],t.prototype,"responsiveImageWidth",void 0),dt([_({})],t.prototype,"isResponsiveValue",void 0),dt([_({})],t.prototype,"maxImageWidth",void 0),dt([_({})],t.prototype,"minImageWidth",void 0),dt([_({})],t.prototype,"maxImageHeight",void 0),dt([_({})],t.prototype,"minImageHeight",void 0),dt([_({})],t.prototype,"responsiveColCount",void 0),t}(An);M.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(r){return new ma(r)},"itemvalue"),M.addClass("responsiveImageSize",[],void 0,"number"),M.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return I.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return I.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return I.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return I.supportCreatorV2}}],function(){return new Bn("")},"checkboxbase"),M.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),M.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),M.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),M.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),he.Instance.registerQuestion("imagepicker",function(r){return new Bn(r)});var $c=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ga=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"],ya=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],Uc="https://www.youtube.com/",va="embed";function ba(r){if(!r)return!1;r=(r=r.toLowerCase()).replace(/^https?:\/\//,"");for(var t=0;t<ga.length;t++)if(0===r.indexOf(ga[t]+"/"))return!0;return!1}var Wo=function(r){function t(e){var n=r.call(this,e)||this;return n.createLocalizableString("imageLink",n,!1).onGetTextCallback=function(s){return function Wc(r,t){if(!r||!ba(r))return t?"":r;if(r.toLocaleLowerCase().indexOf(va)>-1)return r;for(var n="",o=r.length-1;o>=0&&"="!==r[o]&&"/"!==r[o];o--)n=r[o]+n;return Uc+va+"/"+n}(s,"youtube"==n.contentMode)},n.createLocalizableString("altText",n,!1),n.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return n.calculateRenderedMode()}),n}return $c(t,r),t.prototype.getType=function(){return"image"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(e){this.setLocalizableStringText("altText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?K(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHeight",{get:function(){return this.imageHeight?qt(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?K(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){return this.imageWidth?qt(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),t.prototype.getImageCss=function(){var e=this.getPropertyByName("imageHeight"),n=this.getPropertyByName("imageWidth"),o=e.isDefaultValue(this.imageHeight)&&n.isDefaultValue(this.imageWidth);return(new A).append(this.cssClasses.image).append(this.cssClasses.adaptive,o).toString()},t.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},t.prototype.setRenderedMode=function(e){this.setPropertyValue("renderedMode",e)},t.prototype.calculateRenderedMode=function(){"auto"!==this.contentMode?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},t.prototype.isYoutubeVideo=function(){return ba(this.imageLink)},t.prototype.isVideo=function(){var e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(var n=0;n<ya.length;n++)if(e.endsWith(ya[n]))return!0;return!1},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_({defaultValue:!1})],t.prototype,"contentNotLoaded",void 0),t}(bi);M.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new Wo("")},"nonvalue"),he.Instance.registerQuestion("image",function(r){return new Wo(r)});class xi{constructor(t,e,n,o){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=o||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class Yo{static fromPoints(t,e){const n=this.calculateControlPoints(t[0],t[1],t[2]).c2,o=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new Yo(t[1],n,o,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){const o=t.x-e.x,s=t.y-e.y,u=e.x-n.x,p=e.y-n.y,h_x=(t.x+e.x)/2,h_y=(t.y+e.y)/2,m_x=(e.x+n.x)/2,m_y=(e.y+n.y)/2,x=Math.sqrt(o*o+s*s),T=Math.sqrt(u*u+p*p),j=T/(x+T),U=e.x-(m_x+(h_x-m_x)*j),$=e.y-(m_y+(h_y-m_y)*j);return{c1:new xi(h_x+U,h_y+$),c2:new xi(m_x+U,m_y+$)}}constructor(t,e,n,o,s,u){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=o,this.startWidth=s,this.endWidth=u}length(){let n,o,e=0;for(let s=0;s<=10;s+=1){const u=s/10,p=this.point(u,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this.point(u,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const m=p-n,x=h-o;e+=Math.sqrt(m*m+x*x)}n=p,o=h}return e}point(t,e,n,o,s){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*o*(1-t)*t*t+s*t*t*t}}class Yc{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}}class wi extends Yc{constructor(t,e={}){super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=n=>{1===n.buttons&&this._strokeBegin(n)},this._handleMouseMove=n=>{this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{1===n.buttons&&this._strokeEnd(n)},this._handleTouchStart=n=>{n.cancelable&&n.preventDefault(),1===n.targetTouches.length&&this._strokeBegin(n.changedTouches[0])},this._handleTouchMove=n=>{n.cancelable&&n.preventDefault(),this._strokeMoveUpdate(n.targetTouches[0])},this._handleTouchEnd=n=>{n.target===this.canvas&&(n.cancelable&&n.preventDefault(),this._strokeEnd(n.changedTouches[0]))},this._handlePointerStart=n=>{n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._strokeMoveUpdate(n)},this._handlePointerEnd=n=>{this._drawingStroke&&(n.preventDefault(),this._strokeEnd(n))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in e?e.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?function Xc(r,t=250){let o,s,u,e=0,n=null;const p=()=>{e=Date.now(),n=null,o=r.apply(s,u),n||(s=null,u=[])};return function(...m){const x=Date.now(),T=t-(x-e);return s=this,u=m,T<=0||T>t?(n&&(clearTimeout(n),n=null),e=x,o=r.apply(s,u),n||(s=null,u=[])):n||(n=window.setTimeout(p,T)),o}}(wi.prototype._strokeUpdate,this.throttle):wi.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,o)=>{const s=new Image,u=e.ratio||window.devicePixelRatio||1,p=e.width||this.canvas.width/u,h=e.height||this.canvas.height/u,m=e.xOffset||0,x=e.yOffset||0;this._reset(this._getPointGroupOptions()),s.onload=()=>{this._ctx.drawImage(s,m,x,p,h),n()},s.onerror=T=>{o(T)},s.crossOrigin="anonymous",s.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){return"image/svg+xml"===t?("object"!=typeof e&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`):("number"!=typeof e&&(e=void 0),this.canvas.toDataURL(t,e))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;this._drawingStroke=!0;const n=this._getPointGroupOptions(),o=Object.assign(Object.assign({},n),{points:[]});this._data.push(o),this._reset(n),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(0===this._data.length)return void this._strokeBegin(t);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const s=this._createPoint(t.clientX,t.clientY,void 0!==t.pressure?t.pressure:void 0!==t.force?t.force:0),u=this._data[this._data.length-1],p=u.points,h=p.length>0&&p[p.length-1],m=!!h&&s.distanceTo(h)<=this.minDistance,x=this._getPointGroupOptions(u);if(!h||!h||!m){const T=this._addPoint(s,x);h?T&&this._drawCurve(T,x):this._drawDot(s,x),p.push({time:s.time,x:s.x,y:s.y,pressure:s.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t){this._drawingStroke&&(this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){const o=this.canvas.getBoundingClientRect();return new xi(t-o.left,e-o.top,n,(new Date).getTime())}_addPoint(t,e){const{_lastPoints:n}=this;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);const o=this._calculateCurveWidths(n[1],n[2],e),s=Yo.fromPoints(n,o);return n.shift(),s}return null}_calculateCurveWidths(t,e,n){const o=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(o,n),u={end:s,start:this._lastWidth};return this._lastVelocity=o,this._lastWidth=s,u}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){const o=this._ctx;o.moveTo(t,e),o.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){const n=this._ctx,o=t.endWidth-t.startWidth,s=2*Math.ceil(t.length());n.beginPath(),n.fillStyle=e.penColor;for(let u=0;u<s;u+=1){const p=u/s,h=p*p,m=h*p,x=1-p,T=x*x,D=T*x;let B=D*t.startPoint.x;B+=3*T*p*t.control1.x,B+=3*x*h*t.control2.x,B+=m*t.endPoint.x;let j=D*t.startPoint.y;j+=3*T*p*t.control1.y,j+=3*x*h*t.control2.y,j+=m*t.endPoint.y;const X=Math.min(t.startWidth+m*o,e.maxWidth);this._drawCurveSegment(B,j,X)}n.closePath(),n.fill()}_drawDot(t,e){const n=this._ctx,o=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,o),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(const o of t){const{points:s}=o,u=this._getPointGroupOptions(o);if(s.length>1)for(let p=0;p<s.length;p+=1){const h=s[p],m=new xi(h.x,h.y,h.pressure,h.time);0===p&&this._reset(u);const x=this._addPoint(m,u);x&&e(x,u)}else this._reset(u),n(s[0],u)}}toSVG({includeBackgroundColor:t=!1}={}){const e=this._data,n=Math.max(window.devicePixelRatio||1,1),u=this.canvas.width/n,p=this.canvas.height/n,h=document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),h.setAttribute("viewBox",`0 0 ${u} ${p}`),h.setAttribute("width",u.toString()),h.setAttribute("height",p.toString()),t&&this.backgroundColor){const m=document.createElement("rect");m.setAttribute("width","100%"),m.setAttribute("height","100%"),m.setAttribute("fill",this.backgroundColor),h.appendChild(m)}return this._fromData(e,(m,{penColor:x})=>{const T=document.createElement("path");if(!(isNaN(m.control1.x)||isNaN(m.control1.y)||isNaN(m.control2.x)||isNaN(m.control2.y))){const D=`M ${m.startPoint.x.toFixed(3)},${m.startPoint.y.toFixed(3)} C ${m.control1.x.toFixed(3)},${m.control1.y.toFixed(3)} ${m.control2.x.toFixed(3)},${m.control2.y.toFixed(3)} ${m.endPoint.x.toFixed(3)},${m.endPoint.y.toFixed(3)}`;T.setAttribute("d",D),T.setAttribute("stroke-width",(2.25*m.endWidth).toFixed(3)),T.setAttribute("stroke",x),T.setAttribute("fill","none"),T.setAttribute("stroke-linecap","round"),h.appendChild(T)}},(m,{penColor:x,dotSize:T,minWidth:D,maxWidth:B})=>{const j=document.createElement("circle");j.setAttribute("r",(T>0?T:(D+B)/2).toString()),j.setAttribute("cx",m.x.toString()),j.setAttribute("cy",m.y.toString()),j.setAttribute("fill",x),h.appendChild(j)}),h.outerHTML}}var Jc=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yt=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Xo=function(r){function t(e){var n=r.call(this,e)||this;return n.valueIsUpdatingInternally=!1,n.updateValueHandler=function(){n.scaleCanvas(!1,!0),n.refreshCanvas()},n}return Jc(t,r),t.prototype.getPenColorFromTheme=function(){var e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]},t.prototype.updateColors=function(e){var n=this.getPenColorFromTheme(),o=this.getPropertyByName("penColor");e.penColor=this.penColor||n||o.defaultValue||"#1ab394";var s=this.getPropertyByName("backgroundColor");e.backgroundColor=(this.backgroundImage?"transparent":this.backgroundColor)||(n?"transparent":void 0)||s.defaultValue||"#ffffff"},t.prototype.getCssRoot=function(e){return(new A).append(r.prototype.getCssRoot.call(this,e)).append(e.small,"300"===this.signatureWidth.toString()).toString()},t.prototype.getFormat=function(){return"jpeg"===this.dataFormat?"image/jpeg":"svg"===this.dataFormat?"image/svg+xml":""},t.prototype.updateValue=function(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}},t.prototype.getType=function(){return"signaturepad"},t.prototype.afterRenderQuestionElement=function(e){e&&(this.initSignaturePad(e),this.element=e),r.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){e&&this.destroySignaturePad(e)},t.prototype.themeChanged=function(e){this.signaturePad&&this.updateColors(this.signaturePad)},t.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},t.prototype.scaleCanvas=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var o=this.canvas,s=o.offsetWidth/this.containerWidth;(this.scale!=s||n)&&(this.scale=s,o.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*s,this.signaturePad.maxWidth=this.penMaxWidth*s,o.getContext("2d").scale(1/s,1/s),e&&this.refreshCanvas())},t.prototype.fromDataUrl=function(e){this.signaturePad.fromDataURL(e,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},t.prototype.fromUrl=function(e){var n=this,o=new Image;o.crossOrigin="anonymous",o.src=e,o.onload=function(){n.canvas.getContext("2d").drawImage(o,0,0);var u=n.canvas.toDataURL(n.getFormat());n.fromDataUrl(u)}},t.prototype.refreshCanvas=function(){!this.signaturePad||!this.canvas||(this.value?this.storeDataAsText?this.fromDataUrl(this.value):this.fromUrl(this.value):(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear(),this.valueWasChangedFromLastUpload=!1))},t.prototype.loadPreview=function(e){var n=this;if(!this.storeDataAsText){var o=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new pa(this,function(s,u){n.isFileLoading=!1,u&&u.length>0&&u[0].content&&"success"===s&&n.fromDataUrl(u[0].content),n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(o)}},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.loadPreview(this.value)},t.prototype.initSignaturePad=function(e){var n=this,o=e.getElementsByTagName("canvas")[0];this.canvas=o,this.resizeCanvas();var s=new wi(o,{backgroundColor:"#ffffff"});this.signaturePad=s,this.isInputReadOnly&&s.off(),this.readOnlyChangedCallback=function(){n.isInputReadOnly?s.off():s.on()},this.updateColors(s),s.addEventListener("beginStroke",function(){n.scaleCanvas(),n.isDrawingValue=!0,o.focus()},{once:!1}),s.addEventListener("endStroke",function(){n.isDrawingValue=!1,n.storeDataAsText?n.updateValue():n.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var u=function(p,h){("signatureWidth"===h.name||"signatureHeight"===h.name||"value"===h.name)&&(n.valueIsUpdatingInternally||n.updateValueHandler())};this.onPropertyChanged.add(u),this.signaturePad.propertyChangedHandler=u},t.prototype.destroySignaturePad=function(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(t.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(e){this.setPropertyValue("dataFormat",Jo(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(e){this.setPropertyValue("signatureWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(e){this.setPropertyValue("signatureHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerHeight",{get:function(){return this.signatureHeight||200},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerWidth",{get:function(){return this.signatureWidth||300},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPropertyValue("height",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(e){this.setPropertyValue("allowClear",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){var e=!this.nothingIsDrawn();return!this.isInputReadOnly&&this.allowClear&&e&&!this.isUploading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.nothingIsDrawn=function(){var e=this.isDrawingValue,n=this.isEmpty();return!e&&n&&!this.isUploading&&!this.valueWasChangedFromLastUpload},t.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},t.prototype.onBlurCore=function(e){if(r.prototype.onBlurCore.call(this,e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([Hc(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+Jo(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}},t.prototype.uploadResultItemToValue=function(e){return e.content},t.prototype.setValueFromResult=function(e){this.valueIsUpdatingInternally=!0,this.value=e?.length?e.map(function(n){return n.content})[0]:void 0,this.valueIsUpdatingInternally=!1},t.prototype.clearValue=function(e){this.valueWasChangedFromLastUpload=!1,r.prototype.clearValue.call(this,e),this.refreshCanvas()},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),300===this.signatureWidth&&this.width&&"number"==typeof this.width&&this.width&&(bt.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),200===this.signatureHeight&&this.height&&(bt.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},yt([_({defaultValue:!1})],t.prototype,"isDrawingValue",void 0),yt([_({defaultValue:!1})],t.prototype,"isReadyForUpload",void 0),yt([_({defaultValue:!1})],t.prototype,"valueWasChangedFromLastUpload",void 0),yt([_()],t.prototype,"signatureAutoScaleEnabled",void 0),yt([_()],t.prototype,"penMinWidth",void 0),yt([_()],t.prototype,"penMaxWidth",void 0),yt([_({})],t.prototype,"showPlaceholder",void 0),yt([_({localizable:{defaultStr:"signaturePlaceHolder"}})],t.prototype,"placeholder",void 0),yt([_({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],t.prototype,"placeholderReadOnly",void 0),t}(ca);function Jo(r){return r||(r="png"),"jpeg"!==(r=r.replace("image/","").replace("+xml",""))&&"svg"!==r&&(r="png"),r}M.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(r){return r.showPlaceholder}},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:function(r){return r.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(r,t){return Jo(t)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Xo("")},"question"),he.Instance.registerQuestion("signaturepad",function(r){return new Xo(r)});var Ca=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},tp=function(r){function t(e,n,o){var s=r.call(this,o)||this;return s.data=e,s.panelItem=n,s.variableName=o,s.sharedQuestions={},s}return Ca(t,r),Object.defineProperty(t.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.panelItem.getAllValues()},t.prototype.getQuestionByName=function(e){var n=r.prototype.getQuestionByName.call(this,e);if(n)return n;var o=this.panelIndex;return n=o>-1?this.data.getSharedQuestionFromArray(e,o):void 0,this.sharedQuestions[n?n.name:e]=e,n},t.prototype.getQuestionDisplayText=function(e){var n=this.sharedQuestions[e.name];if(!n)return r.prototype.getQuestionDisplayText.call(this,e);var o=this.panelItem.getValue(n);return e.getDisplayValue(!0,o)},t.prototype.onCustomProcessText=function(e){var n;if(e.name==Ge.IndexVariableName&&(n=this.panelIndex)>-1)return e.isExists=!0,e.value=n+1,!0;if(e.name==Ge.VisibleIndexVariableName&&(n=this.visiblePanelIndex)>-1)return e.isExists=!0,e.value=n+1,!0;if(0==e.name.toLowerCase().indexOf(Ge.ParentItemVariableName+".")){var o=this.data;if(o&&o.parentQuestion&&o.parent&&o.parent.data){var s=new t(o.parentQuestion,o.parent.data,Ge.ItemVariableName),u=Ge.ItemVariableName+e.name.substring(Ge.ParentItemVariableName.length),p=s.processValue(u,e.returnDisplayValue);e.isExists=p.isExists,e.value=p.value}return!0}return!1},t}(co),Ge=function(){function r(t,e){this.data=t,this.panelValue=e,this.textPreProcessor=new tp(t,this,r.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(r.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),r.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},r.prototype.getValue=function(t){return this.getAllValues()[t]},r.prototype.setValue=function(t,e){var n=this.data.getPanelItemData(this);if(!R.isTwoValueEquals(e,n?n[t]:void 0,!1,!0,!1)){this.data.setPanelItemData(this,t,R.getUnbindValue(e));for(var s=this.panel.questions,u=r.ItemVariableName+"."+t,p=0;p<s.length;p++){var h=s[p];h.getValueName()!==t&&h.checkBindings(t,e),h.runTriggers(u,e)}}},r.prototype.getVariable=function(t){},r.prototype.setVariable=function(t,e){},r.prototype.getComment=function(t){return this.getValue(t+I.commentSuffix)||""},r.prototype.setComment=function(t,e,n){this.setValue(t+I.commentSuffix,e)},r.prototype.findQuestionByName=function(t){if(t){var e=r.ItemVariableName+".";if(0===t.indexOf(e))return this.panel.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},r.prototype.getEditingSurveyElement=function(){},r.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},r.prototype.getFilteredValues=function(){var t={},e=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var n in e)t[n]=e[n];if(t[r.ItemVariableName]=this.getAllValues(),this.data){var o=r.IndexVariableName,s=r.VisibleIndexVariableName;delete t[o],delete t[s],t[o.toLowerCase()]=this.data.getItemIndex(this),t[s.toLowerCase()]=this.data.getVisibleItemIndex(this);var u=this.data;u&&u.parentQuestion&&u.parent&&(t[r.ParentItemVariableName]=u.parent.getValue())}return t},r.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},r.prototype.getSurveyData=function(){return this},r.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},r.prototype.getTextProcessor=function(){return this.textPreProcessor},r.ItemVariableName="panel",r.ParentItemVariableName="parentpanel",r.IndexVariableName="panelIndex",r.VisibleIndexVariableName="visiblePanelIndex",r}(),np=function(){function r(t){this.data=t}return r.prototype.getSurveyData=function(){return null},r.prototype.getSurvey=function(){return this.data.getSurvey()},r.prototype.getTextProcessor=function(){return null},r}(),Ko=function(r){function t(e){var n=r.call(this,e)||this;return n._renderedPanels=[],n.isPanelsAnimationRunning=!1,n.isAddingNewPanels=!1,n.isSetPanelItemData={},n.createNewArray("panels",function(o){n.onPanelAdded(o)},function(o){n.onPanelRemoved(o)}),n.createNewArray("visiblePanels"),n.templateValue=n.createAndSetupNewPanelObject(),n.template.renderWidth="100%",n.template.selectedElementInDesign=n,n.template.addElementCallback=function(o){n.addOnPropertyChangedCallback(o),n.rebuildPanels()},n.template.removeElementCallback=function(){n.rebuildPanels()},n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete"),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.createLocalizableString("panelAddText",n,!1,"addPanel"),n.createLocalizableString("panelRemoveText",n,!1,"removePanel"),n.createLocalizableString("panelPrevText",n,!1,"pagePrevText"),n.createLocalizableString("panelNextText",n,!1,"pageNextText"),n.createLocalizableString("noEntriesText",n,!1,"noEntriesText"),n.createLocalizableString("templateTabTitle",n,!0,"panelDynamicTabTextFormat"),n.createLocalizableString("tabTitlePlaceholder",n,!0,"tabTitlePlaceholder"),n.registerPropertyChangedHandlers(["panelsState"],function(){n.setPanelsState()}),n.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],function(){n.updateFooterActions()}),n.registerPropertyChangedHandlers(["allowAddPanel"],function(){n.updateNoEntriesTextDefaultLoc()}),n}return Ca(t,r),Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFirstQuestionToFocus=function(e){for(var n=0;n<this.visiblePanelsCore.length;n++){var o=this.visiblePanelsCore[n].getFirstQuestionToFocus(e);if(o)return o}return null},t.prototype.setSurveyImpl=function(e,n){r.prototype.setSurveyImpl.call(this,e,n),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},t.prototype.assignOnPropertyChangedToTemplate=function(){for(var e=this.template.elements,n=0;n<e.length;n++)this.addOnPropertyChangedCallback(e[n])},t.prototype.addOnPropertyChangedCallback=function(e){var n=this;e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add(function(o,s){n.onTemplateElementPropertyChanged(o,s)}),e.isPanel&&(e.addElementCallback=function(o){n.addOnPropertyChangedCallback(o)})},t.prototype.onTemplateElementPropertyChanged=function(e,n){if(!this.isLoadingFromJson&&!this.useTemplatePanel&&0!=this.panelsCore.length&&M.findProperty(e.getType(),n.name))for(var s=this.panelsCore,u=0;u<s.length;u++){var p=s[u].getQuestionByName(e.name);p&&p[n.name]!==n.newValue&&(p[n.name]=n.newValue)}},Object.defineProperty(t.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"paneldynamic"},t.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(e){e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.removeElement=function(e){return this.template.removeElement(e)},Object.defineProperty(t.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.template},Object.defineProperty(t.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitle",{get:function(){return this.template.title},set:function(e){this.template.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(e){this.locTemplateTabTitle.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabTitlePlaceholder",{get:function(){return this.locTabTitlePlaceholder.text},set:function(e){this.locTabTitlePlaceholder.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTabTitlePlaceholder",{get:function(){return this.getLocalizableString("tabTitlePlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateDescription",{get:function(){return this.template.description},set:function(e){this.template.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){for(var e=[],n=0;n<this.panelsCore.length;n++)e.push(this.panelsCore[n].data);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),t.prototype.onPanelAdded=function(e){if(this.onPanelRemovedCore(e),e.visible){for(var n=0,o=this.panelsCore,s=0;s<o.length&&o[s]!==e;s++)o[s].visible&&n++;this.visiblePanelsCore.splice(n,0,e),this.addTabFromToolbar(e,n),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}},t.prototype.onPanelRemoved=function(e){var n=this.onPanelRemovedCore(e);if(this.currentPanel===e){var o=this.visiblePanelsCore;n>=o.length&&(n=o.length-1),this.currentPanel=n>=0?o[n]:null}this.updateRenderedPanels()},t.prototype.onPanelRemovedCore=function(e){var n=this.visiblePanelsCore,o=n.indexOf(e);return o>-1&&(n.splice(o,1),this.removeTabFromToolbar(e)),o},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(this.currentPanel=e=this.visiblePanelsCore[0]),e},set:function(e){if(!this.isRenderModeList&&!this.useTemplatePanel){var n=this.getPropertyValue("currentPanel"),o=e?this.visiblePanelsCore.indexOf(e):-1;!(e&&o<0||e===n)&&(n&&n.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),o>-1&&this.survey)&&this.survey.dynamicPanelCurrentIndexChanged(this,{panel:e,visiblePanelIndex:o})}},enumerable:!1,configurable:!0}),t.prototype.updateRenderedPanels=function(){this.renderedPanels=this.isRenderModeList?[].concat(this.visiblePanels):this.currentPanel?[this.currentPanel]:[]},Object.defineProperty(t.prototype,"renderedPanels",{get:function(){return this._renderedPanels},set:function(e){0==this.renderedPanels.length||0==e.length?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))},enumerable:!1,configurable:!0}),t.prototype.getPanelsAnimationOptions=function(){var e=this,n=function(){if(e.isRenderModeList)return"";var o=new A,s=!1,u=e.renderedPanels.filter(function(h){return h!==e.currentPanel})[0],p=e.visiblePanels.indexOf(u);return p<0&&(s=!0,p=e.removedPanelIndex),o.append("sv-pd-animation-adding",!!e.focusNewPanelCallback).append("sv-pd-animation-removing",s).append("sv-pd-animation-left",p<=e.currentIndex).append("sv-pd-animation-right",p>e.currentIndex).toString()};return{getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(o){var s,u;if(o&&e.cssContent){var p=Ht(e.cssContent);return null===(u=null===(s=e.getWrapperElement())||void 0===s?void 0:s.querySelector(":scope "+p+" #"+o.id))||void 0===u?void 0:u.parentElement}},getEnterOptions:function(){return{onBeforeRunAnimation:function(s){var u;e.focusNewPanelCallback&&We.ScrollElementToViewCore(e.isRenderModeList?s:s.parentElement,!1,!1,{behavior:"smooth"}),e.isRenderModeList?s.style.setProperty("--animation-height",s.offsetHeight+"px"):null===(u=s.parentElement)||void 0===u||u.style.setProperty("--animation-height-to",s.offsetHeight+"px")},cssClass:(new A).append(e.cssClasses.panelWrapperFadeIn).append(n()).toString()}},getLeaveOptions:function(){return{onBeforeRunAnimation:function(s){var u;e.isRenderModeList?s.style.setProperty("--animation-height",s.offsetHeight+"px"):null===(u=s.parentElement)||void 0===u||u.style.setProperty("--animation-height-from",s.offsetHeight+"px")},cssClass:(new A).append(e.cssClasses.panelWrapperFadeOut).append(n()).toString()}},isAnimationEnabled:function(){return e.animationAllowed&&!!e.getWrapperElement()}}},t.prototype.disablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.blockAnimations()})},t.prototype.enablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.releaseAnimations()})},t.prototype.updatePanelsAnimation=function(){var e=this;this._panelsAnimations=new(this.isRenderModeList?Se:wt)(this.getPanelsAnimationOptions(),function(n,o){e._renderedPanels=n,o||(e.isPanelsAnimationRunning=!1,e.focusNewPanel())},function(){return e._renderedPanels})},Object.defineProperty(t.prototype,"panelsAnimation",{get:function(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){r.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(e){return e.onHidingContent()})},Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(e){this.setLocalizableStringText("panelPrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(e){this.setLocalizableStringText("panelNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(e){this.setLocalizableStringText("panelAddText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(e){this.setLocalizableStringText("panelRemoveText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressTopShowing",{get:function(){return"carousel"==this.displayMode&&("top"===this.progressBarLocation||"topBottom"===this.progressBarLocation)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressBottomShowing",{get:function(){return"carousel"==this.displayMode&&("bottom"===this.progressBarLocation||"topBottom"===this.progressBarLocation)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),e?[this.template]:this.templateElements},t.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},t.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},t.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:r.prototype.getValueCore.call(this)},t.prototype.setValueCore=function(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):r.prototype.setValueCore.call(this,e)},t.prototype.setIsMobile=function(e){r.prototype.setIsMobile.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(o){o.setIsMobile(e)})})},t.prototype.themeChanged=function(e){r.prototype.themeChanged.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(o){o.themeChanged(e)})})},Object.defineProperty(t.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(e){if(!(e<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey)return void this.setPropertyValue("panelCount",e);if(e!=this.panelsCore.length&&!this.useTemplatePanel){this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();for(var n=this.panelCount;n<e;n++){var o=this.createNewPanel();this.panelsCore.push(o),"list"==this.displayMode&&"default"!=this.panelsState&&("expanded"===this.panelsState?o.expand():o.title&&o.collapse())}e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(e){this.setPropertyValue("panelsState",e)},enumerable:!1,configurable:!0}),t.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new np(this))},t.prototype.setPanelsSurveyImpl=function(){for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsCore[e];n!=this.template&&n.setSurveyImpl(n.data)}},t.prototype.setPanelsState=function(){if(!this.useTemplatePanel&&"list"==this.displayMode&&this.templateTitle)for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsState;"firstExpanded"===n&&(n=0===e?"expanded":"collapsed"),this.panelsCore[e].state=n}},t.prototype.setValueBasedOnPanelCount=function(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var n=e.length;n<this.panelCount;n++)e.push({});e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}},Object.defineProperty(t.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(e){e<0&&(e=0),e!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",e),e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(e){e<=0||(e>I.panel.maxPanelCount&&(e=I.panel.maxPanelCount),e!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",e),e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(e){this.setPropertyValue("allowAddPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(e){this.setPropertyValue("newPanelPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(e){this.setPropertyValue("allowRemovePanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(e){this.setPropertyValue("templateTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)},enumerable:!1,configurable:!0}),t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return"onSurvey"===this.showQuestionNumbers},Object.defineProperty(t.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(e){this.setPropertyValue("panelRemoveButtonLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRangeInProgress",{get:function(){return this.showProgressBar},set:function(e){this.showProgressBar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderMode",{get:function(){var e=this.displayMode;if("carousel"==e){var n=this.progressBarLocation;if("top"==n)return"progressTop";if("bottom"==n)return"progressBottom";if("topBottom"==n)return"progressTopBottom"}return e},set:function(e){(e||"").startsWith("progress")?("progressTop"==e?this.progressBarLocation="top":"progressBottom"==e?this.progressBarLocation="bottom":"progressTopBottom"==e&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e},enumerable:!1,configurable:!0}),t.prototype.updatePanelView=function(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()},Object.defineProperty(t.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeList",{get:function(){return"list"===this.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeTab",{get:function(){return"tab"===this.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var e=this.getTitleLocation();return"left"===e||"top"===e},enumerable:!1,configurable:!0}),t.prototype.setVisibleIndex=function(e){if(!this.isVisible)return 0;for(var n="onSurvey"===this.showQuestionNumbers,o=n?e:0,s=0;s<this.visiblePanelsCore.length;s++){var u=this.setPanelVisibleIndex(this.visiblePanelsCore[s],o,"off"!=this.showQuestionNumbers);n&&(o+=u)}return r.prototype.setVisibleIndex.call(this,n?-1:e),n?o-e:1},t.prototype.setPanelVisibleIndex=function(e,n,o){return o?e.setVisibleIndex(n):(e.setVisibleIndex(-1),0)},Object.defineProperty(t.prototype,"canAddPanel",{get:function(){return!(this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&"next"!==this.newPanelPosition)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemovePanel",{get:function(){return!this.isDesignMode&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),t.prototype.rebuildPanels=function(){var e;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var n=[];if(this.useTemplatePanel)new Ge(this,this.template),n.push(this.template);else for(var s=0;s<this.panelCount;s++)this.createNewPanel(),n.push(this.createNewPanel());(e=this.panelsCore).splice.apply(e,function(r,t){for(var e=0,n=t.length,o=r.length;e<n;e++,o++)r[o]=t[e];return r}([0,this.panelsCore.length],n)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(t.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(e){this.setPropertyValue("defaultPanelValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(e){this.setPropertyValue("defaultValueFromLastPanel",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return r.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},t.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultPanelValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.panelCount){for(var e=[],n=0;n<this.panelCount;n++)e.push(this.defaultPanelValue);this.value=e}}else r.prototype.setDefaultValue.call(this)},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!this.isRowEmpty(e[n]))return!1;return!0},t.prototype.getProgressInfo=function(){return We.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},t.prototype.isRowEmpty=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var e=this.addPanel();return"list"===this.displayMode&&"default"!==this.panelsState&&e.expand(),this.focusNewPanelCallback=function(){e.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel(),e},t.prototype.focusNewPanel=function(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)},t.prototype.addPanel=function(e){var n=this.currentIndex;return void 0===e&&(e=n<0?this.panelCount:n+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(n<0?this.panelCount-1:n,e),this.isRenderModeList||(this.currentIndex=e),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[e]},t.prototype.updateValueOnAddingPanel=function(e,n){this.panelCount++;var o=this.value;if(Array.isArray(o)&&o.length===this.panelCount){var s=!1,u=this.panelCount-1;if(n<u){s=!0;var p=o[u];o.splice(u,1),o.splice(n,0,p)}this.isValueEmpty(this.defaultPanelValue)||(s=!0,this.copyValue(o[n],this.defaultPanelValue)),this.defaultValueFromLastPanel&&o.length>1&&(s=!0,this.copyValue(o[n],o[e>-1&&e<=u?e:u])),s&&(this.value=o)}},t.prototype.canLeaveCurrentPanel=function(){return!("list"!==this.displayMode&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},t.prototype.copyValue=function(e,n){for(var o in n)e[o]=n[o]},t.prototype.removePanelUI=function(e){var n=this;this.canRemovePanel&&(this.isRequireConfirmOnDelete(e)?ln(this.confirmDeleteText,function(){n.removePanel(e)},void 0,this.getLocale(),this.survey.rootElement):this.removePanel(e))},t.prototype.isRequireConfirmOnDelete=function(e){if(!this.confirmDelete)return!1;var n=this.getVisualPanelIndex(e);if(n<0||n>=this.visiblePanelCount)return!1;var o=this.visiblePanelsCore[n].getValue();return!this.isValueEmpty(o)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(o,this.defaultPanelValue))},t.prototype.goToNextPanel=function(){return!(this.currentIndex<0||!this.canLeaveCurrentPanel()||(this.currentIndex++,0))},t.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},t.prototype.removePanel=function(u){var n=this.getVisualPanelIndex(u);if(!(n<0||n>=this.visiblePanelCount)){this.removedPanelIndex=n;var o=this.visiblePanelsCore[n],s=this.panelsCore.indexOf(o);s<0||this.survey&&!this.survey.dynamicPanelRemoving(this,s,o)||(this.panelsCore.splice(s,1),this.updateBindings("panelCount",this.panelCount),!(u=this.value)||!Array.isArray(u)||s>=u.length||(this.isValueChangingInternally=!0,u.splice(s,1),this.value=u,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,s,o),this.isValueChangingInternally=!1))}},t.prototype.getVisualPanelIndex=function(e){if(R.isNumber(e))return e;for(var n=this.visiblePanelsCore,o=0;o<n.length;o++)if(n[o]===e||n[o].data===e)return o;return-1},t.prototype.getPanelVisibleIndexById=function(e){for(var n=this.visiblePanelsCore,o=0;o<n.length;o++)if(n[o].id===e)return o;return-1},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var e=this.panelsCore,n=0;n<e.length;n++)e[n].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)},t.prototype.clearErrors=function(){r.prototype.clearErrors.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()},t.prototype.getQuestionFromArray=function(e,n){return n<0||n>=this.panelsCore.length?null:this.panelsCore[n].getQuestionByName(e)},t.prototype.clearIncorrectValuesInPanel=function(e){var n=this.panelsCore[e];n.clearIncorrectValues();var o=this.value,s=o&&e<o.length?o[e]:null;if(s){var u=!1;for(var p in s)this.getSharedQuestionFromArray(p,e)||n.getQuestionByName(p)||this.iscorrectValueWithPostPrefix(n,p,I.commentSuffix)||this.iscorrectValueWithPostPrefix(n,p,I.matrix.totalsSuffix)||(delete s[p],u=!0);u&&(o[e]=s,this.value=o)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n,o){return n.indexOf(o)===n.length-o.length&&!!e.getQuestionByName(n.substring(0,n.indexOf(o)))},t.prototype.getSharedQuestionFromArray=function(e,n){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,n):null},t.prototype.addConditionObjectsByContext=function(e,n){for(var o=!!n&&(!0===n||this.template.questions.indexOf(n)>-1),s=new Array,u=this.template.questions,p=0;p<u.length;p++)u[p].addConditionObjectsByContext(s,n);for(var h=0;h<I.panel.maxPanelCountInCondition;h++){var m="["+h+"].",x=this.getValueName()+m,T=this.processedTitle+m;for(p=0;p<s.length;p++)e.push(s[p].context?s[p]:{name:x+s[p].name,text:T+s[p].text,question:s[p].question})}if(o)for(x=!0===n?this.getValueName()+".":"",T=!0===n?this.processedTitle+".":"",p=0;p<s.length;p++)if(s[p].question!=n){var D={name:x+Ge.ItemVariableName+"."+s[p].name,text:T+Ge.ItemVariableName+"."+s[p].text,question:s[p].question};D.context=this,e.push(D)}},t.prototype.collectNestedQuestionsCore=function(e,n){var o=n?this.visiblePanelsCore:this.panelsCore;Array.isArray(o)&&o.forEach(function(s){s.questions.forEach(function(u){return u.collectNestedQuestions(e,n)})})},t.prototype.getConditionJson=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!n)return r.prototype.getConditionJson.call(this,e);var o=n,s=n.indexOf(".");s>-1&&(o=n.substring(0,s),n=n.substring(s+1));var u=this.template.getQuestionByName(o);return u?u.getConditionJson(e,n):null},t.prototype.onReadOnlyChanged=function(){var e=this.isReadOnly;this.template.readOnly=e;for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateNoEntriesTextDefaultLoc=function(){var e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",e.strChanged())},t.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.buildPanelsFirstTime(),r.prototype.onSurveyLoad.call(this)},t.prototype.buildPanelsFirstTime=function(e){if(void 0===e&&(e=!1),!this.hasPanelBuildFirstTime&&(e||!this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var n=0;n<this.panelCount;n++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}},Object.defineProperty(t.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),t.prototype.onFirstRendering=function(){r.prototype.onFirstRendering.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()},t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()},t.prototype.runCondition=function(e,n){r.prototype.runCondition.call(this,e,n),this.runPanelsCondition(this.panelsCore,e,n)},t.prototype.runTriggers=function(e,n){r.prototype.runTriggers.call(this,e,n),this.visiblePanelsCore.forEach(function(o){o.questions.forEach(function(s){return s.runTriggers(e,n)})})},t.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.runPanelsCondition=function(e,n,o){var s={};n&&n instanceof Object&&(s=JSON.parse(JSON.stringify(n))),this.parentQuestion&&this.parent&&(s[Ge.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var u=0;u<e.length;u++){var p=e[u],h=this.getPanelItemData(p.data),m=R.createCopy(s),x=Ge.ItemVariableName;m[x]=h,m[Ge.IndexVariableName.toLowerCase()]=u;var T=R.createCopy(o);T[x]=p,p.runCondition(m,T)}this.isValueChangingInternally=!1},t.prototype.onAnyValueChanged=function(e,n){r.prototype.onAnyValueChanged.call(this,e,n);for(var o=0;o<this.panelsCore.length;o++)this.panelsCore[o].onAnyValueChanged(e,n),this.panelsCore[o].onAnyValueChanged(Ge.ItemVariableName,"")},t.prototype.hasKeysDuplicated=function(e,n){void 0===n&&(n=null);for(var s,o=[],u=0;u<this.panelsCore.length;u++)s=this.isValueDuplicated(this.panelsCore[u],o,n,e)||s;return s},t.prototype.updatePanelsContainsErrors=function(){for(var n=this.changingValueQuestion.parent;n;)n.updateContainsErrors(),n=n.parent;this.updateContainsErrors()},t.prototype.hasErrors=function(e,n){if(void 0===e&&(e=!0),void 0===n&&(n=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var o=!1;return this.changingValueQuestion?(o=this.changingValueQuestion.hasErrors(e,n),o=this.hasKeysDuplicated(e,n)||o,this.updatePanelsContainsErrors()):o=this.hasErrorInPanels(e,n),r.prototype.hasErrors.call(this,e,n)||o},t.prototype.getContainsErrors=function(){var e=r.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.panelsCore,o=0;o<n.length;o++)if(n[o].containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!r.prototype.getIsAnswered.call(this))return!1;for(var e=this.visiblePanelsCore,n=0;n<e.length;n++){var o=[];e[n].addQuestionsToList(o,!0);for(var s=0;s<o.length;s++)if(!o[s].isAnswered)return!1}return!0},t.prototype.clearValueOnHidding=function(e){if(!e){if(this.survey&&"none"===this.survey.getQuestionClearIfInvisible("onHidden"))return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}r.prototype.clearValueOnHidding.call(this,e)},t.prototype.clearValueIfInvisible=function(e){void 0===e&&(e="onHidden"),this.clearValueInPanelsIfInvisible("onHidden"===e?"onHiddenContainer":e),r.prototype.clearValueIfInvisible.call(this,e)},t.prototype.clearValueInPanelsIfInvisible=function(e){for(var n=0;n<this.panelsCore.length;n++){var o=this.panelsCore[n],s=o.questions;this.isSetPanelItemData={};for(var u=0;u<s.length;u++){var p=s[u];p.visible&&!o.isVisible||(p.clearValueIfInvisible(e),this.isSetPanelItemData[p.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},t.prototype.getIsRunningValidators=function(){if(r.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.panelsCore.length;e++)for(var n=this.panelsCore[e].questions,o=0;o<n.length;o++)if(n[o].isRunningValidators)return!0;return!1},t.prototype.getAllErrors=function(){for(var e=r.prototype.getAllErrors.call(this),n=this.visiblePanelsCore,o=0;o<n.length;o++)for(var s=n[o].questions,u=0;u<s.length;u++){var p=s[u].getAllErrors();p&&p.length>0&&(e=e.concat(p))}return e},t.prototype.getDisplayValueCore=function(e,n){var o=this.getUnbindValue(n);if(!o||!Array.isArray(o))return o;for(var s=0;s<this.panelsCore.length&&s<o.length;s++){var u=o[s];u&&(o[s]=this.getPanelDisplayValue(s,u,e))}return o},t.prototype.getPanelDisplayValue=function(e,n,o){if(!n)return n;for(var s=this.panelsCore[e],u=Object.keys(n),p=0;p<u.length;p++){var h=u[p],m=s.getQuestionByValueName(h);if(m||(m=this.getSharedQuestionFromArray(h,e)),m){var x=m.getDisplayValue(o,n[h]);n[h]=x,o&&m.title&&m.title!==h&&(n[m.title]=x,delete n[h])}}return n},t.prototype.hasErrorInPanels=function(e,n){for(var o=!1,s=this.visiblePanelsCore,u=[],p=0;p<s.length;p++)this.setOnCompleteAsyncInPanel(s[p]);for(var h=!!n&&n.focusOnFirstError,m=0;m<s.length;m++){var x=s[m].hasErrors(e,h,n);x=this.isValueDuplicated(s[m],u,n,e)||x,!this.isRenderModeList&&x&&!o&&h&&(this.currentIndex=m),o=x||o}return o},t.prototype.setOnCompleteAsyncInPanel=function(e){for(var n=this,o=e.questions,s=0;s<o.length;s++)o[s].onCompletedAsyncValidators=function(u){n.raiseOnCompletedAsyncValidators()}},t.prototype.isValueDuplicated=function(e,n,o,s){if(!this.keyName)return!1;var u=e.getQuestionByValueName(this.keyName);if(!u||u.isEmpty())return!1;var p=u.value;this.changingValueQuestion&&u!=this.changingValueQuestion&&u.hasErrors(s,o);for(var h=0;h<n.length;h++)if(p==n[h])return s&&u.addError(new ns(this.keyDuplicationError,this)),o&&!o.firstErrorQuestion&&(o.firstErrorQuestion=u),!0;return n.push(p),!1},t.prototype.getPanelActions=function(e){var n=this,o=e.footerActions;return"right"!==this.panelRemoveButtonLocation&&o.push(new de({id:"remove-panel-"+e.id,component:"sv-paneldynamic-remove-btn",visible:new we(function(){return[n.canRemovePanel,"collapsed"!==e.state,"right"!==n.panelRemoveButtonLocation].every(function(s){return!0===s})}),data:{question:this,panel:e}})),this.survey&&(o=this.survey.getUpdatedPanelFooterActions(e,o,this)),o},t.prototype.createNewPanel=function(){var e=this,n=this.createAndSetupNewPanelObject(),o=this.template.toJSON();(new Oe).toObject(o,n),n.renderWidth="100%",n.updateCustomWidgets(),new Ge(this,n),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(n.getValue())&&this.runPanelsCondition([n],this.getDataFilteredValues(),this.getDataFilteredProperties()),n.onFirstRendering();for(var s=n.questions,u=0;u<s.length;u++)s[u].setParentQuestion(this);return n.locStrsChanged(),n.onGetFooterActionsCallback=function(){return e.getPanelActions(n)},n.onGetFooterToolbarCssCallback=function(){return e.cssClasses.panelFooter},n.registerPropertyChangedHandlers(["visible"],function(){n.visible?e.onPanelAdded(n):e.onPanelRemoved(n),e.updateFooterActions()}),n},t.prototype.createAndSetupNewPanelObject=function(){var e=this,n=this.createNewPanelObject();return n.isInteractiveDesignElement=!1,n.setParentQuestion(this),n.onGetQuestionTitleLocation=function(){return e.getTemplateQuestionTitleLocation()},n},t.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},t.prototype.getChildErrorLocation=function(e){return"default"!==this.templateErrorLocation?this.templateErrorLocation:r.prototype.getChildErrorLocation.call(this,e)},t.prototype.createNewPanelObject=function(){return M.createClass("panel")},t.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.useTemplatePanel){var e=this.value,n=e&&Array.isArray(e)?e.length:0;0==n&&this.getPropertyValue("panelCount")>0&&(n=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=n,this.settingPanelCountBasedOnValue=!1}},t.prototype.setQuestionValue=function(e){if(!this.settingPanelCountBasedOnValue){r.prototype.setQuestionValue.call(this,e,!1),this.setPanelCountBasedOnValue();for(var n=0;n<this.panelsCore.length;n++)this.panelUpdateValueFromSurvey(this.panelsCore[n]);this.updateIsAnswered()}},t.prototype.onSurveyValueChanged=function(e){if(void 0!==e||!this.isAllPanelsEmpty()){r.prototype.onSurveyValueChanged.call(this,e);for(var n=0;n<this.panelsCore.length;n++)this.panelSurveyValueChanged(this.panelsCore[n]);void 0===e&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},t.prototype.isAllPanelsEmpty=function(){for(var e=0;e<this.panelsCore.length;e++)if(!R.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0},t.prototype.panelUpdateValueFromSurvey=function(e){for(var n=e.questions,o=this.getPanelItemData(e.data),s=0;s<n.length;s++){var u=n[s];u.updateValueFromSurvey(o[u.getValueName()]),u.updateCommentFromSurvey(o[u.getValueName()+I.commentSuffix]),u.initDataUI()}},t.prototype.panelSurveyValueChanged=function(e){for(var n=e.questions,o=this.getPanelItemData(e.data),s=0;s<n.length;s++){var u=n[s];u.onSurveyValueChanged(o[u.getValueName()])}},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.getItemIndex=function(e){var n=this.items.indexOf(e);return n>-1?n:this.items.length},t.prototype.getVisibleItemIndex=function(e){for(var n=this.visiblePanelsCore,o=0;o<n.length;o++)if(n[o].data===e)return o;return n.length},t.prototype.getPanelItemData=function(e){var n=this.items,o=n.indexOf(e),s=this.value;return o<0&&Array.isArray(s)&&s.length>n.length&&(o=n.length),o<0||!s||!Array.isArray(s)||s.length<=o?{}:s[o]},t.prototype.setPanelItemData=function(e,n,o){if(!(this.isSetPanelItemData[n]>this.maxCheckCount)){this.isSetPanelItemData[n]||(this.isSetPanelItemData[n]=0),this.isSetPanelItemData[n]++;var s=this.items,u=s.indexOf(e);u<0&&(u=s.length);var p=this.getUnbindValue(this.value);if((!p||!Array.isArray(p))&&(p=[]),p.length<=u)for(var h=p.length;h<=u;h++)p.push({});p[u]||(p[u]={}),this.isValueEmpty(o)?delete p[u][n]:p[u][n]=o,u>=0&&u<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[u].getQuestionByValueName(n)),this.value=p,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,{question:this,panel:e.panel,name:n,itemIndex:u,itemValue:p[u],value:o}),this.isSetPanelItemData[n]--,this.isSetPanelItemData[n]-1&&delete this.isSetPanelItemData[n]}},t.prototype.getRootData=function(){return this.data},t.prototype.getPlainData=function(e){void 0===e&&(e={includeEmpty:!0});var n=r.prototype.getPlainData.call(this,e);if(n){n.isNode=!0;var o=Array.isArray(n.data)?[].concat(n.data):[];n.data=this.panels.map(function(s,u){var p={name:s.name||u,title:s.title||"Panel",value:s.getValue(),displayValue:s.getValue(),getString:function(h){return"object"==typeof h?JSON.stringify(h):h},isNode:!0,data:s.questions.map(function(h){return h.getPlainData(e)}).filter(function(h){return!!h})};return(e.calculations||[]).forEach(function(h){p[h.propertyName]=s[h.propertyName]}),p}),n.data=n.data.concat(o)}return n},t.prototype.updateElementCss=function(e){r.prototype.updateElementCss.call(this,e);for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].updateElementCss(e)},Object.defineProperty(t.prototype,"progressText",{get:function(){return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,this.visiblePanelCount)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){return(new A).append(r.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){var e=this.isRenderModeTab&&!!this.visiblePanelCount;return(new A).append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||e).append(this.cssClasses.headerTab,e).toString()},enumerable:!1,configurable:!0}),t.prototype.getPanelWrapperCss=function(e){return(new A).append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,"right"===this.panelRemoveButtonLocation).toString()},t.prototype.getPanelRemoveButtonCss=function(){return(new A).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,"right"===this.panelRemoveButtonLocation).toString()},t.prototype.getAddButtonCss=function(){return(new A).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode","list"===this.displayMode).toString()},t.prototype.getPrevButtonCss=function(){return(new A).append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},t.prototype.getNextButtonCss=function(){return(new A).append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(t.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(e){this.setLocalizableStringText("noEntriesText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),t.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&0===this.visiblePanelCount},t.prototype.needResponsiveWidth=function(){var e=this.getPanel();return!(!e||!e.needResponsiveWidth())},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return this.isRenderModeTab&&this.visiblePanels.length>0},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new Jn,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},t.prototype.initFooterToolbar=function(){var e=this;this.footerToolbarValue=this.createActionContainer();var n=[],o=new de({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){e.goToPrevPanel()}}),s=new de({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){e.goToNextPanel()}}),u=new de({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),p=new de({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),h=new de({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),m=new de({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});n.push(o,s,u,p,h,m),this.updateFooterActionsCallback=function(){var x=e.legacyNavigation,T=e.isRenderModeList,D=e.isMobile,B=!x&&!T;o.visible=B&&e.currentIndex>0,s.visible=B&&e.currentIndex<e.visiblePanelCount-1,s.needSpace=D&&s.visible&&o.visible,u.visible=e.canAddPanel,u.needSpace=e.isMobile&&!s.visible&&o.visible,h.visible=!e.isRenderModeList&&!D,h.needSpace=!x&&!e.isMobile;var j=x&&!T;p.visible=j,m.visible=j,p.needSpace=j},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(n)},t.prototype.createTabByPanel=function(e,n){var o=this;if(this.isRenderModeTab){var s=new ot(e,!0);s.onGetTextCallback=function(h){if(h||(h=o.locTabTitlePlaceholder.renderedHtml),!o.survey)return h;var m={title:h,panel:e,visiblePanelIndex:n};return o.survey.dynamicPanelGetTabTitle(o,m),m.title},s.sharedData=this.locTemplateTabTitle;var u=this.getPanelVisibleIndexById(e.id)===this.currentIndex,p=new de({id:e.id,pressed:u,locTitle:s,disableHide:u,action:function(){o.currentIndex=o.getPanelVisibleIndexById(p.id)}});return p}},t.prototype.getAdditionalTitleToolbarCss=function(e){var n=e??this.cssClasses;return(new A).append(n.tabsRoot).append(n.tabsLeft,"left"===this.tabAlign).append(n.tabsRight,"right"===this.tabAlign).append(n.tabsCenter,"center"===this.tabAlign).toString()},t.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var e=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(n){var o=n.id===e.id;n.pressed=o,n.disableHide=o,"popup"===n.mode&&n.disableHide&&n.raiseUpdate()})}},t.prototype.updateTabToolbar=function(){var e=this;if(this.isRenderModeTab){for(var n=[],o=this.visiblePanelsCore,s=function(h){u.visiblePanelsCore.forEach(function(m){return n.push(e.createTabByPanel(o[h],h))})},u=this,p=0;p<o.length;p++)s(p);this.additionalTitleToolbar.setItems(n)}},t.prototype.addTabFromToolbar=function(e,n){if(this.isRenderModeTab){var o=this.createTabByPanel(e,n);this.additionalTitleToolbar.actions.splice(n,0,o),this.updateTabToolbarItemsPressedState()}},t.prototype.removeTabFromToolbar=function(e){if(this.isRenderModeTab){var n=this.additionalTitleToolbar.getActionById(e.id);n&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(n),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(t.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigation",{get:function(){return(!this.isReadOnly||1!=this.visiblePanelCount)&&this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),t.prototype.showSeparator=function(e){return this.isRenderModeList&&e<this.renderedPanels.length-1},t.prototype.calcCssClasses=function(e){var n=r.prototype.calcCssClasses.call(this,e),o=this.additionalTitleToolbar;return o&&(o.containerCss=this.getAdditionalTitleToolbarCss(n),o.cssClasses=n.tabs,o.dotsItem.cssClasses=n.tabs,o.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),n},t.prototype.onMobileChanged=function(){r.prototype.onMobileChanged.call(this),this.updateFooterActions()},t.maxCheckCount=3,Nn([qe({})],t.prototype,"_renderedPanels",void 0),Nn([_({onSet:function(e,n){n.fireCallback(n.renderModeChangedCallback),n.updatePanelView()}})],t.prototype,"displayMode",void 0),Nn([_({onSet:function(e,n){n.fireCallback(n.currentIndexChangedCallback)}})],t.prototype,"showProgressBar",void 0),Nn([_({onSet:function(e,n){}})],t.prototype,"progressBarLocation",void 0),Nn([_({defaultValue:!1,onSet:function(e,n){n.updateFooterActions()}})],t.prototype,"legacyNavigation",void 0),t}(je);M.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(r){return"tab"===r.displayMode}},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:function(r){return"tab"===r.displayMode}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:I.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:function(r){return"list"===r.displayMode}},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:function(r){return r.confirmDelete}},{name:"panelAddText",serializationProperty:"locPanelAddText",visibleIf:function(r){return r.allowAddPanel}},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText",visibleIf:function(r){return r.allowRemovePanel}},{name:"panelPrevText",serializationProperty:"locPanelPrevText",visibleIf:function(r){return"list"!==r.displayMode}},{name:"panelNextText",serializationProperty:"locPanelNextText",visibleIf:function(r){return"list"!==r.displayMode}},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0,visible:!1},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"],visible:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",default:!0,visibleIf:function(r){return"carousel"===r.displayMode}},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:function(r){return r.showProgressBar}},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:function(r){return"tab"===r.displayMode}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:function(r){return r.allowRemovePanel}}],function(){return new Ko("")},"question"),he.Instance.registerQuestion("paneldynamic",function(r){return new Ko(r)});var ip=function(){function r(){}return r.getProgressTextInBarCss=function(t){return(new A).append(t.progressText).append(t.progressTextInBar).toString()},r.getProgressTextUnderBarCss=function(t){return(new A).append(t.progressText).append(t.progressTextUnderBar).toString()},r}(),Mt=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_a=function(r){function t(){var e=r.call(this)||this;return e.idValue=t.idCounter++,e.registerPropertyChangedHandlers(["operator","value","name"],function(){e.oldPropertiesChanged()}),e.registerPropertyChangedHandlers(["expression"],function(){e.onExpressionChanged()}),e}return Mt(t,r),Object.defineProperty(t,"operators",{get:function(){return null!=t.operatorsValue||(t.operatorsValue={empty:function(e,n){return!e},notempty:function(e,n){return!!e},equal:function(e,n){return e==n},notequal:function(e,n){return e!=n},contains:function(e,n){return e&&e.indexOf&&e.indexOf(n)>-1},notcontains:function(e,n){return!e||!e.indexOf||-1==e.indexOf(n)},greater:function(e,n){return e>n},less:function(e,n){return e<n},greaterorequal:function(e,n){return e>=n},lessorequal:function(e,n){return e<=n}}),t.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"triggerbase"},t.prototype.toString=function(){var e=this.getType().replace("trigger",""),n=this.expression?this.expression:this.buildExpression();return n&&(e+=", "+n),e},Object.defineProperty(t.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(e){e&&(e=e.toLowerCase(),t.operators[e]&&this.setPropertyValue("operator",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!0},t.prototype.canBeExecutedOnComplete=function(){return!1},t.prototype.checkExpression=function(e,n,o,s,u){void 0===u&&(u=null),this.isExecutingOnNextPage=e,this.canBeExecuted(e)&&(n&&!this.canBeExecutedOnComplete()||this.isCheckRequired(o)&&(this.conditionRunner?this.perform(s,u):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,s,u)))},t.prototype.canSuccessOnEmptyExpression=function(){return!1},t.prototype.check=function(e){t.operators[this.operator](e,this.value)?this.onSuccess({},null):this.onFailure()},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.perform=function(e,n){var o=this;this.conditionRunner.onRunComplete=function(s){o.triggerResult(s,e,n)},this.conditionRunner.run(e,n)},t.prototype.triggerResult=function(e,n,o){e?(this.onSuccess(n,o),this.onSuccessExecuted()):this.onFailure()},t.prototype.onSuccess=function(e,n){},t.prototype.onFailure=function(){},t.prototype.onSuccessExecuted=function(){},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},t.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},t.prototype.onExpressionChanged=function(){this.conditionRunner=null},t.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+Le.toOperandString(this.value)},t.prototype.isCheckRequired=function(e){return!!e&&(this.createConditionRunner(),!(!this.conditionRunner||!0!==this.conditionRunner.hasFunction())||(new He).isAnyKeyChanged(e,this.getUsedVariables()))},t.prototype.getUsedVariables=function(){if(!this.conditionRunner)return[];var e=this.conditionRunner.getVariables();if(Array.isArray(e))for(var n="-unwrapped",o=e.length-1;o>=0;o--){var s=e[o];s.endsWith(n)&&e.push(s.substring(0,s.length-10))}return e},t.prototype.createConditionRunner=function(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new Xe(e))}},Object.defineProperty(t.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),t.idCounter=1,t.operatorsValue=null,t}(oe),Yt=function(r){function t(){var e=r.call(this)||this;return e.ownerValue=null,e}return Mt(t,r),Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),t.prototype.setOwner=function(e){this.ownerValue=e},t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},t.prototype.isRealExecution=function(){return!0},t.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},t}(_a),xa=function(r){function t(){var e=r.call(this)||this;return e.pages=[],e.questions=[],e}return Mt(t,r),t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(e,n){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(e){if(this.owner)for(var n=this.owner.getObjects(this.pages,this.questions),o=0;o<n.length;o++)e(n[o])},t.prototype.onItemSuccess=function(e){e.visible=!0},t.prototype.onItemFailure=function(e){e.visible=!1},t}(Yt),wa=function(r){function t(){return r.call(this)||this}return Mt(t,r),t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isRealExecution=function(){return!I.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},t.prototype.onSuccess=function(e,n){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},t.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},t}(Yt),Pa=function(r){function t(){return r.call(this)||this}return Mt(t,r),t.prototype.getType=function(){return"setvaluetrigger"},t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName},t.prototype.onPropertyValueChanged=function(e,n,o){if(r.prototype.onPropertyValueChanged.call(this,e,n,o),"setToName"===e){var s=this.getSurvey();s&&!s.isLoadingFromJson&&s.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(e){this.setPropertyValue("setValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(e){this.setPropertyValue("isVariable",e)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(Yt),Va=function(r){function t(){return r.call(this)||this}return Mt(t,r),t.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(e){this.setPropertyValue("gotoName",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return e===!I.triggers.executeSkipOnValueChanged},t.prototype.onSuccess=function(e,n){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},t}(Yt),Ta=function(r){function t(){return r.call(this)||this}return Mt(t,r),t.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(e){this.setPropertyValue("runExpression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!e},t.prototype.onSuccess=function(e,n){var o=this;if(this.owner&&this.runExpression){var s=new _t(this.runExpression);s.canRun&&(s.onRunComplete=function(u){o.onCompleteRunExpression(u)},s.run(e,n))}},t.prototype.onCompleteRunExpression=function(e){this.setToName&&void 0!==e&&this.owner.setTriggerValue(this.setToName,R.convertValToQuestionVal(e),!1)},t}(Yt),Ia=function(r){function t(){return r.call(this)||this}return Mt(t,r),t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName&&!!this.fromName},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(e){this.setPropertyValue("fromName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(e){this.setPropertyValue("copyDisplayValue",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"copyvaluetrigger"},t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},t.prototype.canSuccessOnEmptyExpression=function(){return!0},t.prototype.getUsedVariables=function(){var e=r.prototype.getUsedVariables.call(this);return 0===e.length&&this.fromName&&e.push(this.fromName),e},t}(Yt);M.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),M.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),M.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new xa},"surveytrigger"),M.addClass("completetrigger",[],function(){return new wa},"surveytrigger"),M.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(r){return!!r&&!!r.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new Pa},"surveytrigger"),M.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new Ia},"surveytrigger"),M.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new Va},"surveytrigger"),M.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new Ta},"surveytrigger");var Ra=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sa=function(r){function t(e,n){void 0===n&&(n=null);var o=r.call(this)||this;return o.closeOnCompleteTimeout=0,o.surveyValue=n||o.createSurvey(e),o.surveyValue.fitToContainer=!0,o.windowElement=k.createElement("div"),o.survey.onComplete.add(function(s,u){o.onSurveyComplete()}),o.registerPropertyChangedHandlers(["isShowing"],function(){o.showingChangedCallback&&o.showingChangedCallback()}),o.registerPropertyChangedHandlers(["isExpanded"],function(){o.onExpandedChanged()}),o.width=new we(function(){return o.survey.width}),o.width=o.survey.width,o.updateCss(),o.onCreating(),o}return Ra(t,r),t.prototype.onCreating=function(){},t.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(e){this.setPropertyValue("isShowing",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.getPropertyValue("isFullScreen",!1)},set:function(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShowing=!0},t.prototype.hide=function(){this.isShowing=!1},t.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),t.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(t.prototype,"title",{get:function(){return this.survey.title},set:function(e){this.survey.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),t.prototype.expand=function(){this.isExpanded=!0},t.prototype.collapse=function(){this.isExpanded=!1},t.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(t.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(e){this.setPropertyValue("allowClose",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowFullScreen",{get:function(){return this.getPropertyValue("allowFullScreen",!1)},set:function(e){this.setPropertyValue("allowFullScreen",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){var e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderFullScreenButton",{get:function(){return this.getPropertyValue("cssHeaderFullScreenButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e+="px"),e},enumerable:!1,configurable:!0}),t.prototype.updateCss=function(){if(this.css&&this.css.window){var e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);var n=e.header;n&&(this.setPropertyValue("cssHeaderRoot",n.root),this.setPropertyValue("cssHeaderTitleCollapsed",n.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",n.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",n.collapseButton),this.setPropertyValue("cssHeaderCloseButton",n.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",n.fullScreenButton),this.updateCssButton())}},t.prototype.setCssRoot=function(){var e=this.css.window;this.setPropertyValue("cssRoot",this.isFullScreen?e.root+" "+e.rootFullScreenMode:e.root)},t.prototype.updateCssButton=function(){var e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)},t.prototype.setCssButton=function(e){e&&this.setPropertyValue("cssButton",e)},t.prototype.createSurvey=function(e){return new Rt(e)},t.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(0==this.closeOnCompleteTimeout)this.hide();else{var e=this,n=null;n=setInterval(function(){e.hide(),clearInterval(n)},1e3*this.closeOnCompleteTimeout)}},t.prototype.onScroll=function(){this.survey.onScroll()},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_()],t.prototype,"width",void 0),t}(oe),rp=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ra(t,r),t}(Sa),sp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zo=function(r){function t(e){var n=r.call(this,e)||this;return n.onScrollOutsideCallback=function(o){n.preventScrollOuside(o,o.deltaY)},n}return sp(t,r),t.prototype.getStyleClass=function(){return r.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},t.prototype.getShowFooter=function(){return!0},t.prototype.createFooterActionBar=function(){var e=this;r.prototype.createFooterActionBar.call(this),this.footerToolbar.containerCss="sv-footer-action-bar",this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){e.apply()}})},Object.defineProperty(t.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),t.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},t.prototype.clickOutside=function(){},t.prototype.onKeyDown=function(e){("Escape"===e.key||27===e.keyCode)&&this.model.onCancel(),r.prototype.onKeyDown.call(this,e)},t.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),r.prototype.updateOnShowing.call(this)},t.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),r.prototype.updateOnHiding.call(this)},t}(Eo),er=function(){return er=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r},er.apply(this,arguments)};function ap(r,t){var e,n=er({},r);n.verticalPosition="top",n.horizontalPosition="left",n.showPointer=!1,n.isModal=!0,n.displayMode=r.displayMode||"popup";var o=new Vn(r.componentName,r.data,n);o.isFocusedContent=null===(e=r.isFocusedContent)||void 0===e||e;var s=new Zo(o);if(t&&t.appendChild){var u=k.createElement("div");t.appendChild(u),s.setComponentElement(u)}s.container||s.initializePopupContainer();var p=function(h,m){m.isVisible||u&&s.resetComponentElement(),s.onVisibilityChanged.remove(p)};return s.onVisibilityChanged.add(p),s}function lp(r,t){return r.isModal?new Zo(r):new Mo(r,t)}var Oa=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tr=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ea=function(r){function t(e,n,o){void 0===n&&(n=null),void 0===o&&(o="buttongroupitemvalue");var s=r.call(this,e,n,o)||this;return s.typeName=o,s}return Oa(t,r),t.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},tr([_()],t.prototype,"iconName",void 0),tr([_()],t.prototype,"iconSize",void 0),tr([_()],t.prototype,"showCaption",void 0),t}(J),Da=function(r){function t(e){return r.call(this,e)||this}return Oa(t,r),t.prototype.getType=function(){return"buttongroup"},t.prototype.getItemValueType=function(){return"buttongroupitemvalue"},t.prototype.supportOther=function(){return!1},t}(An);M.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new Da("")},"checkboxbase"),M.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(r){return new Ea(r)},"itemvalue");var up=function(){function r(t,e,n){this.question=t,this.item=e,this.index=n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showCaption",{get:function(){return this.item.showCaption||void 0===this.item.showCaption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelClass",{get:function(){return(new A).append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),r.prototype.onChange=function(){this.question.renderedValue=this.item.value},r}(),cp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pi=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cp(t,r),t.prototype.getSurvey=function(e){return void 0===e&&(e=!1),this.owner},t.prototype.getType=function(){return"masksettings"},t.prototype.setData=function(e){var n=this;M.getProperties(this.getType()).forEach(function(s){var u=e[s.name];n[s.name]=void 0!==u?u:s.defaultValue})},t.prototype.getData=function(){var e=this,n={};return M.getProperties(this.getType()).forEach(function(s){var u=e[s.name];s.isDefaultValue(u)||(n[s.name]=u)}),n},t.prototype.processInput=function(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}},t.prototype.getUnmaskedValue=function(e){return e},t.prototype.getMaskedValue=function(e){return e},t.prototype.getTextAlignment=function(){return"auto"},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_()],t.prototype,"saveMaskedValue",void 0),t}(oe);M.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(r){return!!r&&"masksettings"!==r.getType()}}],function(){return new Pi});var dp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function nr(r){for(var t=[],e=!1,n=Object.keys(I.maskSettings.patternDefinitions),o=0;o<r.length;o++){var s=r[o];s===I.maskSettings.patternEscapeChar?e=!0:e?(e=!1,t.push({type:"fixed",value:s})):t.push({type:-1!==n.indexOf(s)?"regex":"const",value:s})}return t}function hp(r,t,e){for(var n=I.maskSettings.patternDefinitions[e.value];t<r.length;){if(r[t].match(n))return t;t++}return t}function ir(r,t,e,n){void 0===n&&(n=!1);var o="";if(!r)return o;for(var s="string"==typeof t?nr(t):t,u=0;u<s.length;u++)if("fixed"===s[u].type&&!n&&(o+=s[u].value),"regex"===s[u].type){if(!r[u]||!r[u].match(I.maskSettings.patternDefinitions[s[u].value])){if(e){o="";break}break}o+=r[u]}return o}var or=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.literals=[],e}return dp(t,r),t.prototype.updateLiterals=function(){this.literals=nr(this.pattern||"")},t.prototype.onPropertyValueChanged=function(e,n,o){"pattern"===e&&this.updateLiterals()},t.prototype.getType=function(){return"patternmask"},t.prototype.fromJSON=function(e,n){r.prototype.fromJSON.call(this,e,n),this.updateLiterals()},t.prototype._getMaskedValue=function(e,n){return void 0===n&&(n=!1),function mp(r,t,e){for(var n=r??"",o="",s=0,u="string"==typeof t?nr(t):t,p=0;p<u.length;p++)switch(u[p].type){case"regex":if(s<n.length&&(s=hp(n,s,u[p])),s<n.length)o+=n[s];else{if(!e)return o;o+=I.maskSettings.patternPlaceholderChar}s++;break;case"const":case"fixed":o+=u[p].value,u[p].value===n[s]&&s++}return o}(e??"",this.literals,n)},t.prototype._getUnmaskedValue=function(e,n){return void 0===n&&(n=!1),ir(e??"",this.literals,n)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return n;var o=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),s=ir(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),u=ir(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return n.value=this._getMaskedValue(s+(e.insertedChars||"")+u,!0),n.caretPosition=e.insertedChars||"backward"!==e.inputDirection?this._getMaskedValue(o).length:e.selectionStart,n},t.prototype.getMaskedValue=function(e){return this._getMaskedValue(e,!0)},t.prototype.getUnmaskedValue=function(e){return this._getUnmaskedValue(e,!0)},function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([_()],t.prototype,"pattern",void 0),t}(Pi);M.addClass("patternmask",[{name:"pattern"}],function(){return new or},"masksettings");var gp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hn=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};var rr=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return gp(t,r),t.prototype.calccaretPosition=function(e,n,o){for(var s=e?this.displayNumber(this.parseNumber(e),!1).length:0,u=0,p=n.selectionStart,h=!n.insertedChars&&"forward"===n.inputDirection,m=0;m<o.length;m++)if(o[m]!==this.thousandsSeparator&&u++,u===s+(h?1:0)){p=h?m:m+1;break}return p},t.prototype.numericalCompositionIsEmpty=function(e){return!e.integralPart&&!e.fractionalPart},t.prototype.displayNumber=function(e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var s=e.integralPart;n&&s&&(s=function yp(r,t,e){void 0===t&&(t=!0),void 0===e&&(e=3);var n=[];if(t){for(var o=r.length-e;o>-e;o-=e)n.push(r.substring(o,o+e));n=n.reverse()}else for(o=0;o<r.length;o+=e)n.push(r.substring(o,o+e));return n}(s).join(this.thousandsSeparator));var u=e.fractionalPart,p=e.isNegative?"-":"";if(""===u){if(o)return s&&"0"!==s?p+s:s;var m=s+(e.hasDecimalSeparator&&!o?this.decimalSeparator:"");return"0"===m?m:p+m}return[p+(s=s||"0"),u=u.substring(0,this.precision)].join(this.decimalSeparator)},t.prototype.convertNumber=function(e){var o=e.isNegative?"-":"";return e.fractionalPart?parseFloat(o+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):parseInt(o+e.integralPart||"0")},t.prototype.validateNumber=function(e,n){var o=this.min||Number.MIN_SAFE_INTEGER,s=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(void 0!==this.min||void 0!==this.max){var u=this.convertNumber(e);if(Number.isNaN(u)||u>=o&&u<=s)return!0;if(!n){if(e.hasDecimalSeparator||0==u){var m=Math.pow(.1,(e.fractionalPart||"").length);if(u>=0)return u+m>o&&u<=s;if(u<0)return u>=o&&u-m<s}else{var p=u,h=u;if(u>0){if(u+1>o&&u<=s)return!0;for(;p=10*p+9,!((h*=10)>s);)if(p>o)return!0;return!1}if(u<0){if(u>=o&&u-1<s)return!0;for(;h=10*h-9,!((p*=10)<o);)if(h<s)return!0;return!1}}return u>=0&&u<=s||u<0&&u>=o}return!1}return!0},t.prototype.parseNumber=function(e){for(var n={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},o=null==e?"":e.toString(),s=0,u=0;u<o.length;u++){var p=o[u];switch(p){case"-":this.allowNegativeValues&&(void 0===this.min||this.min<0)&&s++;break;case this.decimalSeparator:this.precision>0&&(n.hasDecimalSeparator=!0);break;case this.thousandsSeparator:break;default:p.match(Ao)&&(n.hasDecimalSeparator?n.fractionalPart+=p:n.integralPart+=p)}}return n.isNegative=s%2!=0,n.integralPart.length>1&&"0"===n.integralPart[0]&&(n.integralPart=n.integralPart.slice(1)),n},t.prototype.getNumberMaskedValue=function(e,n){void 0===n&&(n=!1);var o=this.parseNumber(e);return this.validateNumber(o,n)?this.displayNumber(o,!0,n):null},t.prototype.getNumberUnmaskedValue=function(e){var n=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(n))return this.convertNumber(n)},t.prototype.getTextAlignment=function(){return"right"},t.prototype.getMaskedValue=function(e){var n=null==e?"":e.toString();return n=n.replace(".",this.decimalSeparator),this.getNumberMaskedValue(n,!0)},t.prototype.getUnmaskedValue=function(e){return this.getNumberUnmaskedValue(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},o=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),u=o+e.prevValue.slice(e.selectionEnd),p=this.parseNumber(u);if(!this.validateNumber(p,!1))return n;var h=this.getNumberMaskedValue(u),m=this.calccaretPosition(o,e,h);return n.value=h,n.caretPosition=m,n},t.prototype.getType=function(){return"numericmask"},t.prototype.isPropertyEmpty=function(e){return""===e||null==e},hn([_()],t.prototype,"allowNegativeValues",void 0),hn([_()],t.prototype,"decimalSeparator",void 0),hn([_()],t.prototype,"precision",void 0),hn([_()],t.prototype,"thousandsSeparator",void 0),hn([_()],t.prototype,"min",void 0),hn([_()],t.prototype,"max",void 0),t}(Pi);M.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new rr},"masksettings");var vp=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vi=function(){return Vi=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r},Vi.apply(this,arguments)},Ma=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function ka(r,t){switch(r){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return t;default:return 1}}function Aa(r,t){var e=2e3;if(e>t&&(e=100*parseInt(t.toString().slice(0,t.toString().length-2))),e<r){var n=(t-r)/2+r;e=10*parseInt(n.toString().slice(0,n.toString().length-1))}return e>=r&&e<=t?e:r}var mn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.defaultDate="1970-01-01T",e.turnOfTheCentury=68,e.twelve=12,e.lexems=[],e.inputDateTimeData=[],e.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1},e}return vp(t,r),Object.defineProperty(t.prototype,"hasDatePart",{get:function(){return this.lexems.some(function(e){return"day"===e.type||"month"===e.type||"year"===e.type})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTimePart",{get:function(){return this.lexems.some(function(e){return"hour"===e.type||"minute"===e.type||"second"===e.type})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is12Hours",{get:function(){return this.lexems.filter(function(e){return"hour"===e.type&&!e.upperCase}).length>0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"datetimemask"},t.prototype.updateLiterals=function(){this.lexems=function Cp(r){for(var e,t=[],n=function(u,p,h){if(void 0===h&&(h=!1),e&&e===u){t[t.length-1].count++;var m=ka(u,t[t.length-1].count);t[t.length-1].maxCount=m}else m=ka(u,1),t.push({type:u,value:p,count:1,maxCount:m,upperCase:h})},o=0;o<r.length;o++){var s=r[o];switch(s){case"m":n("month",s);break;case"d":n("day",s);break;case"y":n("year",s);break;case"h":n("hour",s,!1);break;case"H":n("hour",s,!0);break;case"M":n("minute",s);break;case"s":n("second",s);break;case"t":n("timeMarker",s);break;case"T":n("timeMarker",s,!0);break;default:t.push({type:"separator",value:s,count:1,maxCount:1,upperCase:!1})}e=t[t.length-1].type}return t}(this.pattern||"")},t.prototype.leaveOnlyNumbers=function(e){for(var n="",o=0;o<e.length;o++)e[o].match(Ao)&&(n+=e[o]);return n},t.prototype.getMaskedStrFromISO=function(e){var n=this,o=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(o=new Date(e+"T00:00:00")),this.hasDatePart||(o=new Date(this.defaultDate+e)),isNaN(o)||this.lexems.forEach(function(s,u){var p=n.inputDateTimeData[u];switch(p.isCompleted=!0,s.type){case"hour":p.value=n.is12Hours?((o.getHours()-1)%n.twelve+1).toString():o.getHours().toString();break;case"minute":p.value=o.getMinutes().toString();break;case"second":p.value=o.getSeconds().toString();break;case"timeMarker":var h=o.getHours()>=n.twelve?"pm":"am";p.value=s.upperCase?h.toUpperCase():h;break;case"day":p.value=o.getDate().toString();break;case"month":p.value=(o.getMonth()+1).toString();break;case"year":var m=o.getFullYear();2==s.count&&(m%=100),p.value=m.toString()}}),this.getFormatedString(!0)},t.prototype.initInputDateTimeData=function(){var e=this;this.inputDateTimeData=[],this.lexems.forEach(function(n){e.inputDateTimeData.push({lexem:n,isCompleted:!1,value:void 0})})},t.prototype.getISO_8601Format=function(e){var n=[],o=[];if(void 0!==e.year){var s=this.getPlaceholder(4,e.year.toString(),"0")+e.year;n.push(s)}if(void 0!==e.month&&void 0!==e.year){var u=this.getPlaceholder(2,e.month.toString(),"0")+e.month;n.push(u)}if(void 0!==e.day&&void 0!==e.month&&void 0!==e.year){var p=this.getPlaceholder(2,e.day.toString(),"0")+e.day;n.push(p)}if(void 0!==e.hour){var h=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;o.push(h)}if(void 0!==e.minute&&void 0!==e.hour){var m=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;o.push(m)}if(void 0!==e.second&&void 0!==e.minute&&void 0!==e.hour){var x=this.getPlaceholder(2,e.second.toString(),"0")+e.second;o.push(x)}var T=[];return n.length>0&&T.push(n.join("-")),o.length>1&&T.push(o.join(":")),T.join("T")},t.prototype.isYearValid=function(e){if(void 0===e.min&&void 0===e.max)return!1;var n=e.year.toString(),o=e.min.toISOString().slice(0,n.length),s=e.max.toISOString().slice(0,n.length);return e.year>=parseInt(o)&&e.year<=parseInt(s)},t.prototype.createIDateTimeCompositionWithDefaults=function(e,n){var s=e.max,u=void 0!==e.year?e.year:Aa(e.min.getFullYear(),s.getFullYear()),p=void 0!==e.month?e.month:n&&this.hasDatePart?12:1;return{year:u,month:p,day:void 0!==e.day?e.day:n&&this.hasDatePart?this.getMaxDateForMonth(u,p):1,hour:void 0!==e.hour?e.hour:n?23:0,minute:void 0!==e.minute?e.minute:n?59:0,second:void 0!==e.second?e.second:n?59:0}},t.prototype.getMaxDateForMonth=function(e,n){return 2==n?e%4==0&&e%100!=0||e%400?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][n-1]},t.prototype.isDateValid=function(e){var o=e.max,s=void 0!==e.year?e.year:Aa(e.min.getFullYear(),o.getFullYear()),p=void 0!==e.day?e.day:1,h=(void 0!==e.month?e.month:1)-1,m=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),x=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(m)&&m.getDate()===p&&m.getMonth()===h&&m.getFullYear()===s&&x>=e.min&&m<=e.max},t.prototype.getPlaceholder=function(e,n,o){var s=e-(n||"").length;return s>0?o.repeat(s):""},t.prototype.isDateValid12=function(e){return this.is12Hours?!(this.is12Hours&&e.hour>this.twelve)&&(e.timeMarker?"p"===e.timeMarker[0].toLowerCase()?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):!!this.isDateValid(e)||(e.hour+=this.twelve,this.isDateValid(e))):this.isDateValid(e)},t.prototype.updateTimeMarkerInputDateTimeData=function(e,n){var o=e.value;if(o){var s="timeMarker",u=Vi({},n);u[s]=o,this.isDateValid12(u)?e.isCompleted=!0:o=o.slice(0,o.length-1),e.value=o||void 0,n[s]=o||void 0}},t.prototype.updateInputDateTimeData=function(e,n){var o=e.value;if(o){var s=e.lexem.type,u=Vi({},n);if(u[s]=parseInt(o),o.length===e.lexem.maxCount){if(this.isDateValid12(u))return e.isCompleted=!0,e.value=o||void 0,void(n[s]=parseInt(o)>0?parseInt(o):void 0);o=o.slice(0,o.length-1)}u[s]=parseInt(o);var p=parseInt(o[0]),h=this.validBeginningOfNumbers[s+(e.lexem.upperCase?"U":"")];"year"!==s||this.isYearValid(u)?void 0!==h&&p>h?this.isDateValid12(u)?e.isCompleted=!0:o=o.slice(0,o.length-1):void 0!==h&&0!==p&&p<=h&&(this.checkValidationDateTimePart(u,s,e),e.isCompleted&&!this.isDateValid12(u)&&(o=o.slice(0,o.length-1))):(o=o.slice(0,o.length-1),e.isCompleted=!1),e.value=o||void 0,n[s]=parseInt(o)>0?parseInt(o):void 0}},t.prototype.checkValidationDateTimePart=function(e,n,o){var s=e[n],u=10*s,p=10;"month"===n&&(p=3),"hour"===n&&(p=this.is12Hours?3:5),o.isCompleted=!0;for(var h=0;h<p;h++)if(e[n]=u+h,this.isDateValid12(e)){o.isCompleted=!1;break}e[n]=s},t.prototype.getCorrectDatePartFormat=function(e,n){var o=e.lexem,s=e.value||"";return s&&"timeMarker"===o.type?(n&&(s+=this.getPlaceholder(o.count,s,o.value)),s):(s&&e.isCompleted&&(s=parseInt(s).toString()),s&&e.isCompleted?s=this.getPlaceholder(o.count,s,"0")+s:(s=function bp(r,t){var e=t;return r.count<r.maxCount&&("day"===r.type&&0===parseInt(t[0])||"month"===r.type&&0===parseInt(t[0]))&&(e=t.slice(1,t.length)),e}(o,s),n&&(s+=this.getPlaceholder(o.count,s,o.value))),s)},t.prototype.createIDateTimeComposition=function(){var e,n;return this.hasDatePart?(e=this.min||"0001-01-01",n=this.max||"9999-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),n=this.defaultDate+(this.max||"23:59:59")),{hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(n)}},t.prototype.parseTwoDigitYear=function(e){var n=e.value;return"year"!==e.lexem.type||e.lexem.count>2?n:(this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4))),(parseInt(n)>this.turnOfTheCentury?"19":"20")+n)},t.prototype.getFormatedString=function(e){var n="",o="",s=!1,u=this.inputDateTimeData.length-1;if(!e){var p=this.inputDateTimeData.filter(function(D){return!!D.value});u=this.inputDateTimeData.indexOf(p[p.length-1])}for(var h=0;h<this.inputDateTimeData.length;h++){var m=this.inputDateTimeData[h];switch(m.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(void 0===m.value&&!e)return n+(s?o:"");n+=o+this.getCorrectDatePartFormat(m,e||u>h),s=m.isCompleted;break;case"separator":o=m.lexem.value}}return n},t.prototype.cleanTimeMarker=function(e,n){var o="";e=e.toUpperCase();for(var s=0;s<e.length;s++)(!o&&("P"==e[s]||"A"==e[s])||o&&"M"==e[s])&&(o+=e[s]);return n?o.toUpperCase():o.toLowerCase()},t.prototype.setInputDateTimeData=function(e){var n=this,o=0;this.initInputDateTimeData(),this.lexems.forEach(function(s,u){if(e.length>0&&o<e.length){if("separator"===s.type)return;var p=n.inputDateTimeData[u],h=e[o],m=void 0;m="timeMarker"===s.type?n.cleanTimeMarker(h,s.upperCase):n.leaveOnlyNumbers(h),p.value=m.slice(0,s.maxCount),o++}})},t.prototype._getMaskedValue=function(e,n){var o=this;void 0===n&&(n=!0);var s=null==e?"":e.toString(),u=this.getParts(s);this.setInputDateTimeData(u);var p=this.createIDateTimeComposition();return this.inputDateTimeData.forEach(function(m){"timeMarker"===m.lexem.type?o.updateTimeMarkerInputDateTimeData(m,p):o.updateInputDateTimeData(m,p)}),this.getFormatedString(n)},t.prototype.getParts=function(e){for(var n=[],o=this.lexems.filter(function(T){return"separator"!==T.type}),s=this.lexems.filter(function(T){return"separator"===T.type}).map(function(T){return T.value}),u="",p=!1,h=!1,m=0;m<e.length;m++){var x=e[m];if(x.match(Ao)||x===o[n.length].value||"timeMarker"===o[n.length].type?(p=!1,h=!1,u+=x):-1!==s.indexOf(x)?h||(p=!0,n.push(u),u=""):p||(h=!0,n.push(u),u=""),n.length>=o.length){p=!1;break}}return(""!=u||p)&&n.push(u),n},t.prototype.getUnmaskedValue=function(e){var o,n=this,s=null==e?"":e.toString(),u=this.getParts(s);this.setInputDateTimeData(u);var p=null===(o=this.inputDateTimeData.filter(function(x){return"timeMarker"===x.lexem.type})[0])||void 0===o?void 0:o.value.toLowerCase()[0],h=this.createIDateTimeComposition(),m=!1;return this.inputDateTimeData.forEach(function(x){var T=x.value;if("timeMarker"!=x.lexem.type&&"separator"!=x.lexem.type){if(!T||T.length<x.lexem.count)return void(m=!0);var D=parseInt(n.parseTwoDigitYear(x));"hour"==x.lexem.type&&"p"===p&&D!=n.twelve&&(D+=n.twelve),h[x.lexem.type]=D}}),m?"":this.getISO_8601Format(h)},t.prototype.getMaskedValue=function(e){return this.getMaskedStrFromISO(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},o=e.prevValue.slice(0,e.selectionStart),s=e.prevValue.slice(e.selectionEnd);return n.value=this._getMaskedValue(o+(e.insertedChars||"")+s),n.caretPosition=e.insertedChars||"backward"!==e.inputDirection?this._getMaskedValue(o+(e.insertedChars||""),!1).length:e.selectionStart,n},Ma([_()],t.prototype,"min",void 0),Ma([_()],t.prototype,"max",void 0),t}(or);M.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:function(r){return!!r.pattern}},{name:"max",type:"datetime",enableIf:function(r){return!!r.pattern}}],function(){return new mn},"patternmask");var Ti,sr,_p=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),La=function(r,t,e,n){var u,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(r,t,e,n);else for(var p=r.length-1;p>=0;p--)(u=r[p])&&(s=(o<3?u(s):o>3?u(t,e,s):u(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fa=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _p(t,r),t.prototype.getType=function(){return"currencymask"},t.prototype.wrapText=function(e){var n=this.prefix||"",o=this.suffix||"",s=e;return s&&(-1===s.indexOf(n)&&(s=n+s),-1===s.indexOf(o)&&(s+=o),s)},t.prototype.unwrapInputArgs=function(e){var n=e.prevValue;if(n){if(this.prefix&&-1!==n.indexOf(this.prefix)){n=n.slice(n.indexOf(this.prefix)+this.prefix.length);var o=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-o,0),e.selectionEnd-=o}this.suffix&&-1!==n.indexOf(this.suffix)&&(n=n.slice(0,n.indexOf(this.suffix))),e.prevValue=n}},t.prototype.processInput=function(e){this.unwrapInputArgs(e);var n=r.prototype.processInput.call(this,e);return n.value&&(n.caretPosition+=(this.prefix||"").length),n.value=this.wrapText(n.value),n},t.prototype.getMaskedValue=function(e){var n=r.prototype.getMaskedValue.call(this,e);return this.wrapText(n)},La([_()],t.prototype,"prefix",void 0),La([_()],t.prototype,"suffix",void 0),t}(rr);function xp(r,t){Ti!=r&&console.error("survey-core has version '"+Ti+"' and "+t+" has version '"+r+"'. SurveyJS libraries should have the same versions to work correctly.")}function wp(r){ja(r)}function ja(r){!function Vp(r,t,e){if(r){var o=function(u){var h,T,B,p={},m=0,D=0,j="",X=String.fromCharCode,U=u.length,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0;h<64;h++)p[$.charAt(h)]=h;for(T=0;T<U;T++)for(m=(m<<6)+p[u.charAt(T)],D+=6;D>=8;)((B=m>>>(D-=8)&255)||T<U-2)&&(j+=X(B));return j}(r);if(o){var s=o.indexOf(";");s<0||function Tp(r){if(!r)return!0;var t="domains:",e=r.indexOf(t);if(e<0)return!0;var n=r.substring(e+t.length).toLowerCase().split(",");if(!Array.isArray(n)||0===n.length)return!0;var o=V.getLocation();if(o&&o.hostname){var s=o.hostname.toLowerCase();n.push("localhost");for(var u=0;u<n.length;u++)if(s.indexOf(n[u])>-1)return!0;return!1}return!0}(o.substring(0,s))&&(o=o.substring(s+1)).split(",").forEach(function(u){var p=u.indexOf("=");p>0&&(t[u.substring(0,p)]=new Date(e)<=new Date(u.substring(p+1)))})}}}(r,Ba,sr)}function Pp(r){return!0===Ba[r.toString()]}M.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],function(){return new Fa},"numericmask"),Ti="1.11.14",sr="2024-09-04";var Ba={};var Ip={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},Rp={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},Sp={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},Op={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},Ep={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},kt={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},Na={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},Dp={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};var qa=function(){function r(){r.autoApplyTheme()}return r.autoApplyTheme=function(){if("bootstrap"!==Te.currentType&&"bootstrapmaterial"!==Te.currentType){var t=r.getIncludedThemeCss();1===t.length&&r.applyTheme(t[0].name)}},r.getAvailableThemes=function(){return Te.getAvailableThemes().filter(function(e){return-1!==["defaultV2","default","modern"].indexOf(e)}).map(function(e){return{name:e,theme:Te[e]}})},r.getIncludedThemeCss=function(){if(typeof I.environment>"u")return[];var t=I.environment.rootElement,e=r.getAvailableThemes(),n=Tn(t)?t.host:t;if(n){var o=getComputedStyle(n);if(o.length)return e.filter(function(s){return s.theme.variables&&o.getPropertyValue(s.theme.variables.themeMark)})}return[]},r.findSheet=function(t){if(typeof I.environment>"u")return null;for(var e=I.environment.root.styleSheets,n=0;n<e.length;n++)if(e[n].ownerNode&&e[n].ownerNode.id===t)return e[n];return null},r.createSheet=function(t){var e=I.environment.stylesSheetsMountContainer,n=k.createElement("style");return n.id=t,n.appendChild(new Text("")),In(e).appendChild(n),r.Logger&&r.Logger.log("style sheet "+t+" created"),n.sheet},r.applyTheme=function(t,e){if(void 0===t&&(t="default"),!(typeof I.environment>"u")){var n=I.environment.rootElement,o=Tn(n)?n.host:n;if(Te.currentType=t,r.Enabled){if("bootstrap"!==t&&"bootstrapmaterial"!==t)return function Mp(r,t){Object.keys(r||{}).forEach(function(e){var n=e.substring(1);t.style.setProperty("--"+n,r[e])})}(r.ThemeColors[t],o),void(r.Logger&&r.Logger.log("apply theme "+t+" completed"));var s=r.ThemeCss[t];if(!s)return void(Te.currentType="defaultV2");r.insertStylesRulesIntoDocument();var u=e||r.ThemeSelector[t]||r.ThemeSelector.default,p=(t+u).trim(),h=r.findSheet(p);if(!h){h=r.createSheet(p);var m=r.ThemeColors[t]||r.ThemeColors.default;Object.keys(s).forEach(function(x){var T=s[x];Object.keys(m||{}).forEach(function(D){return T=T.replace(new RegExp("\\"+D,"g"),m[D])});try{0===x.indexOf("body")?h.insertRule(x+" { "+T+" }",0):h.insertRule(u+x+" { "+T+" }",0)}catch{}})}}r.Logger&&r.Logger.log("apply theme "+t+" completed")}},r.insertStylesRulesIntoDocument=function(){if(r.Enabled){var t=r.findSheet(r.SurveyJSStylesSheetId);t||(t=r.createSheet(r.SurveyJSStylesSheetId)),Object.keys(r.Styles).length&&Object.keys(r.Styles).forEach(function(e){try{t.insertRule(e+" { "+r.Styles[e]+" }",0)}catch{}}),Object.keys(r.Media).length&&Object.keys(r.Media).forEach(function(e){try{t.insertRule(r.Media[e].media+" { "+e+" { "+r.Media[e].style+" } }",0)}catch{}})}},r.SurveyJSStylesSheetId="surveyjs-styles",r.Styles={},r.Media={},r.ThemeColors={modern:Ip,default:Rp,orange:Sp,darkblue:Op,darkrose:Ep,stone:kt,winter:Na,winterstone:Dp},r.ThemeCss={},r.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},r.Enabled=!0,r}();Rt.prototype.onBeforeRunConstructor=function(){V.isAvailable()&&qa.autoApplyTheme()};var At={root:"sv_main sv_default_css",rootProgress:"sv_progress",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv_q_m_cell_responsive_title"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",rowTextCell:"sv-table__cell--row-text",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",previewItem:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};Te.default=At,Te.orange=At,Te.darkblue=At,Te.darkrose=At,Te.stone=At,Te.winter=At,Te.winterstone=At;var Ha={root:"sv-root-modern",rootProgress:"sv-progress",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-matrix__cell-responsive-title",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowTextCell:"sv-table__cell--row-text",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",previewItem:"sd-file__preview-item",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};Te.modern=Ha;var Qa=function(){function r(){this.icons={},this.iconPrefix="icon-"}return r.prototype.processId=function(t,e){return 0==t.indexOf(e)&&(t=t.substring(e.length)),t},r.prototype.registerIconFromSymbol=function(t,e){this.icons[t]=e},r.prototype.registerIconFromSvgViaElement=function(t,e,n){if(void 0===n&&(n=this.iconPrefix),k.isAvailable()){t=this.processId(t,n);var o=k.createElement("div");o.innerHTML=e;var s=k.createElement("symbol"),u=o.querySelector("svg");s.innerHTML=u.innerHTML;for(var p=0;p<u.attributes.length;p++)s.setAttributeNS("http://www.w3.org/2000/svg",u.attributes[p].name,u.attributes[p].value);s.id=n+t,this.registerIconFromSymbol(t,s.outerHTML)}},r.prototype.registerIconFromSvg=function(t,e,n){void 0===n&&(n=this.iconPrefix),t=this.processId(t,n);var o="<svg ",s="</svg>",u=(e=e.trim()).toLowerCase();return u.substring(0,5)===o&&u.substring(u.length-6,u.length)===s&&(this.registerIconFromSymbol(t,'<symbol id="'+n+t+'" '+e.substring(5,u.length-6)+"</symbol>"),!0)},r.prototype.registerIconsFromFolder=function(t){var e=this;t.keys().forEach(function(n){e.registerIconFromSvg(n.substring(2,n.length-4).toLowerCase(),t(n))})},r.prototype.iconsRenderedHtml=function(){var t=this;return Object.keys(this.icons).map(function(e){return t.icons[e]}).join("")},r}(),ar=new Qa,Ap=P("./packages/survey-core/src/images sync \\.svg$"),Lp=P("./packages/survey-core/src/images/smiley sync \\.svg$");ar.registerIconsFromFolder(Ap),ar.registerIconsFromFolder(Lp)}})}}]);