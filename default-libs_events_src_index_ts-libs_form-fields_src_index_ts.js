"use strict";(self.webpackChunkplaceos=self.webpackChunkplaceos||[]).push([["default-libs_events_src_index_ts-libs_form-fields_src_index_ts"],{3775:(st,K,c)=>{c.d(K,{ym:()=>R.y,rq:()=>Z.rq,r7:()=>A,ry:()=>Z.ry,Vh:()=>Z.Vh,eJ:()=>Z.eJ}),c(2247),c(8539),c(6217);var R=c(3902),Z=c(4211),f=c(9298),B=c(9189),i=c(6371),O=c(2711),N=c(4252),k=c(1112),G=c(8292),$=c(9756);const L=v=>{var T;return(null===(T=v.parent)||void 0===T?void 0:T.get("date"))&&(0,G.Z)(new Date,(0,$.Z)(v.parent.get("date").value,v.value))?{duration:!0}:null};function A(v){var T,h,y;const p=new f.cw({id:new f.NI(v.id),host:new f.NI(v.host||"",[f.kI.required]),organiser:new f.NI(v.organiser||{},[f.kI.required]),creator:new f.NI(v.creator,[f.kI.required]),calendar:new f.NI(v.calendar),attendees:new f.NI(v.attendees||[]),resources:new f.NI(v.resources||[]),title:new f.NI(v.title,[f.kI.required]),body:new f.NI(v.body),private:new f.NI(v.private),date:new f.NI(v.date,[f.kI.required]),duration:new f.NI(v.duration,[L]),all_day:new f.NI(v.all_day),recurring:new f.NI(v.recurring),recurrence:new f.NI(v.recurrence),recurring_master_id:new f.NI(v.recurring_master_id),master:new f.NI(v.master),attachments:new f.NI(v.attachments),catering:new f.NI((null===(T=v.extension_data)||void 0===T?void 0:T.catering)||[]),visitor_type:new f.NI(null===(h=v.extension_data)||void 0===h?void 0:h.visitor_type),location:new f.NI(v.location),needs_space:new f.NI(!0),needs_parking:new f.NI((null===(y=v.extension_data)||void 0===y?void 0:y.needs_parking)||!1),system:new f.NI(v.system)});return p.get("organiser").valueChanges.subscribe(_=>p.controls.host.setValue(null==_?void 0:_.email)),p.get("resources").valueChanges.subscribe(_=>p.controls.system.setValue(_.length?_[0]:null)),v.id&&(p.get("host").disable(),p.get("organiser").disable()),"started"===v.state&&p.get("date").disable(),p}c(8025),(0,B.Z)(function(v,T){(0,N.Z)(2,arguments);var h=(0,O.Z)(v),y=(0,i.Z)(T);return h.setMinutes(y),h}((0,k.Z)(new Date,6),0),{days:-1})},4211:(st,K,c)=>{c.d(K,{u$:()=>B,Vh:()=>i,eJ:()=>N,ry:()=>W,rq:()=>b});var o=c(2064),l=c(3927),w=c(5038),R=c(5197),Z=c(3902);const f="/api/staff/v1/events";function B(U){const M=(0,w.U)(U);return(0,o.U2M)(`${f}${M?"?"+M:""}`).pipe((0,l.U)(A=>A.map(D=>new Z.y(D))))}function i(U,M={}){const A=(0,w.U)(M);return(0,o.U2M)(`${f}/${encodeURIComponent(U)}${A?"?"+A:""}`).pipe((0,l.U)(D=>new Z.y(D)))}function N(U,M,A={},D="patch"){const J=(0,w.U)(A);return("patch"===D?o.r$K:o.gzd)(`${f}/${encodeURIComponent(U)}${J?"?"+J:""}`,"patch"===D?M:new Z.y(M).toJSON()).pipe((0,l.U)(z=>new Z.y(z)))}const W=(U,M)=>{var A;return null===(A=U)||void 0===A||delete A.status,U.id?N(U.id,U,M):function(U){return(0,o.v_Q)(`${f}`,new Z.y(U).toJSON()).pipe((0,l.U)(M=>new Z.y(M)))}(U)};function b(U,M,A,D={}){const J=(0,w.U)(Object.assign(Object.assign({},D),{state:A}));return(0,o.v_Q)(`${f}/${encodeURIComponent(U)}/guests/${M}/checkin${J?"?"+J:""}`,"").pipe((0,l.U)(z=>new R.OO(z)))}},8466:(st,K,c)=>{c.d(K,{W9:()=>Xt});var o=c(93),l=c(9298),w=c(3176),R=c(4813),Z=c(7820),f=c(9034),B=c(114),i=c(8946);c(5306),c(2793),c(7073),c(8254),c(4449),c(2247),c(88),c(3702),c(8931),c(9697),c(5159),c(9685);var tt=c(620);c(7193),c(5346);var lt=c(3393);function it(){return(it=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var e=arguments[u];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}return a}).apply(this,arguments)}function Ct(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,xt(a,u)}function xt(a,u){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(a,u)}function mt(a){var u="";a.length%2>0&&(a="0"+a);for(var e=0,t=a.length;e<t;e+=2)u+=String.fromCharCode(parseInt(a.slice(e,e+2),16));return u}c(8511),c(6491),c(3731);var q,a,ht=[],Pt=-1;function yt(){return Pt+=1,ht[Pt%=3]}(a=q||(q={}))[a.Paused=0]="Paused",a[a.Uploading=1]="Uploading",a[a.Completed=2]="Completed",a[a.Aborted=3]="Aborted";var Tt=function(){function a(e,t){this._request=void 0,this._upload=void 0,this.state=q.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=void 0,this._memoization={},this._finishing=!1,this._request=e,this._upload=t,this._file=this._upload.file,this.size=this._file.size}var u=a.prototype;return u.start=function(){this.state<q.Uploading&&(this._finalising?this._finalise():this._start())},u.pause=function(){for(var e in this._strategy&&this.state===q.Uploading&&!this._direct_upload?(this.state=q.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=q.Paused,this._request.abort(),this._restart()),this._progress)this._progress[e].loaded!==this._progress[e].total&&(this._progress[e].loaded=0);this._updateProgress()},u.destroy=function(){void 0!==this._strategy&&this.state<q.Completed&&(this._request.destroy(),this._restart(),this.state=q.Aborted)},u._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},u._makeRequest=function(e,t){var n=this;return t.data=e.data,this._request.performSignedRequest(t,function(s){return n._onProgress(e.part,s)})},u._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},u._currentParts=function(){return this._current_parts.concat(this._pending_parts)},u._completePart=function(e){this._current_parts=this._current_parts.filter(function(t){return t!==e})},u._isComplete=function(e){var t=this._progress[e]||{},n=t.loaded;return n&&n===t.total},u._onProgress=function(e,t){this._progress[e]=it({},t),this._updateProgress()},u._onError=function(e){this.pause(),this._upload.onError(e)},u._updateProgress=function(){var e=0;for(var t in this._progress)e+=this._progress[t].loaded||0;this._upload.onProgress(e)},u._finalise=function(){try{var e=this;return e._request.updateStatus().then(function(){return e._upload.onComplete()},function(t){return e._onError(t)}),Promise.resolve()}catch(t){return Promise.reject(t)}},u._hashPart=function(e,t,n){try{var s=this,d=s._memoization[e],m=t();return Promise.resolve(d?{data:m,md5:d.md5,part:d.part}:n(m).then(function(P){return s._memoization[e]=P,{data:m,md5:P.md5,part:P.part}}))}catch(P){return Promise.reject(P)}},u._getPartData=function(){var e=this,t=this._currentParts(),n=[];return t.forEach(function(s){var d=e._memoization[""+s];d&&n.push(d)}),{part_list:t,part_data:n}},a}();(function(a){function u(){for(var t,n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(t=a.call.apply(a,[this].concat(s))||this)._part_size=5242880,t}Ct(u,a);var e=u.prototype;return e._start=function(){var t=this;if(void 0===this._strategy){if(this.state=q.Uploading,this._strategy=null,9999*this._part_size<this.size&&(this._part_size=Math.floor(this.size/9999),this._part_size>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(n){t.state===q.Uploading&&t._request.signUpload({file_id:window.btoa(mt(n.md5))}).then(function(s){t._strategy=s.type,s.signature&&t._upload.setAccessUrl((s.signature.url||"").split("?")[0]),"direct_upload"===s.type?t._direct(s,n):t._resume(s,n)},function(s){return t._onError(s)})},function(n){return t._onError(n)})}else this.state===q.Paused&&this._resume()},e._processPart=function(t){var n=this;return this._hashPart(t.toString(),function(){var s,d;return n.size>n._part_size?((d=t*n._part_size)>n.size&&(d=n.size),s=n._file.slice((t-1)*n._part_size,d)):s=n._file,s},function(s){return yt().hash(s).then(function(d){return{md5:d,part:t}})})},e._resume=function(t,n){var s,d=this;if(void 0===t&&(t=null),void 0===n&&(n=null),t)if("parts"===t.type)for(this._pending_parts=t.part_list,t.part_data&&(this._memoization=t.part_data),s=0;s<this._upload.parallel;s+=1)this._nextPart();else this._request.signUpload(t).then(function(m){var P=m.responseXML.getElementsByTagName("UploadId")[0].textContent;d._request.updateStatus({resumable_id:P,file_id:window.btoa(mt(n.md5)),part:1}).then(function(S){for(d._nextPartIndex(),d._setPart(S,n),s=1;s<d._upload.parallel;s+=1)d._nextPart()},function(S){d._restart(),d._onError(S)})},function(m){d._restart(),d._onError(m)});else for(s=0;s<this._upload.parallel;s+=1)this._nextPart()},e._generatePartManifest=function(){var t,n,s="<CompleteMultipartUpload>";for(t=1;t<1e4&&(n=this._memoization[t]);t+=1)s+="<Part><PartNumber>"+t+'</PartNumber><ETag>"'+n.md5+'"</ETag></Part>';return s+"</CompleteMultipartUpload>"},e._nextPart=function(){var t,n=this,s=this._nextPartIndex();(s-1)*this._part_size<this.size?this._processPart(s).then(function(d){n.state===q.Uploading&&(t=n._getPartData(),n._request.signNextChunk(s,window.btoa(mt(d.md5)),t.part_list,t.part_data).then(function(m){n._setPart(m,d)},function(m){return n._onError(m)}))},function(d){return n._onError(d)}):1===this._currentParts.length&&this._currentParts[0]===s?(this._finishing=!0,this._request.signChunk("finish").then(function(d){d.data=n._generatePartManifest(),n._request.signUpload(d).then(function(){return n._finalise()},function(m){return n._onError(m)})},function(d){return n._onError(d)})):this._finishing||(this._completePart(s),(t=this._getPartData()).part_update=!0,this._request.updateStatus(t))},e._setPart=function(t,n){var s=this;this._makeRequest(n,t).then(function(){return s._nextPart()},function(d){return s._onError(d)})},e._direct=function(t,n){var s=this,d=this._makeRequest(n,t);this._direct_upload=!0,d.then(function(){return s._finalise()},function(m){return s._onError(m)})},u}(Tt)).lookup="AmazonS3",(function(a){function u(){for(var t,n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(t=a.call.apply(a,[this].concat(s))||this)._partSize=2097152,t}Ct(u,a);var e=u.prototype;return e._start=function(){var t=this;if(void 0===this._strategy){if(this.state=q.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(n){t.state===q.Uploading&&t._request.signUpload({file_id:n.md5}).then(function(s){t._strategy=s.type,"direct_upload"===s.type?t._direct(s,n):t._resume(s,n)},t._onError.bind(t))},this._onError.bind(this))}else this.state===q.Paused&&this._resume()},e._processPart=function(t){var n=this;return this._hashPart(t.toString(),function(){var s,d;return n.size>n._partSize?((d=t*n._partSize)>n.size&&(d=n.size),s=n._file.slice((t-1)*n._partSize,d)):s=n._file,s},function(s){return yt().hash(s).then(function(d){return{md5:window.btoa(mt(d)),part:t}})})},e._resume=function(t,n){var s,d=this;if(void 0===t&&(t=null),void 0===n&&(n=null),t)if("parts"===t.type)for(this._pending_parts=t.part_list,s=0;s<this._upload.parallel;s+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:n.md5,part:1}).then(function(m){for(d._nextPartIndex(),d._setPart(m,n),s=1;s<d._upload.parallel;s+=1)d._nextPart()},function(m){this._restart(),this._onError(m)});else for(s=0;s<this._upload.parallel;s+=1)this._nextPart()},e._generatePartManifest=function(){for(var t='<?xml version="1.0" encoding="utf-8"?><BlockList>',n=0;n<5e4&&n*this._partSize<this.size;n+=1)t+="<Latest>"+window.btoa(this._pad(n+1))+"</Latest>";return t+"</BlockList>"},e._pad=function(t){for(var n=t.toString();n.length<6;)n="0"+n;return n},e._nextPart=function(){var t=this,n=this._nextPartIndex();(n-1)*this._partSize<this.size?this._processPart(n).then(function(s){t.state===q.Uploading&&t._request.signNextChunk(n,s.md5,t._currentParts()).then(function(d){t._setPart(d,s)},t._onError.bind(t))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===n?(this._finishing=!0,this._request.signChunk("finish").then(function(s){s.data=t._generatePartManifest(),t._request.signUpload(s).then(t._finalise.bind(t),t._onError.bind(t))},this._onError.bind(this))):this._finishing||(this._completePart(n),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},e._setPart=function(t,n){var s=this;this._makeRequest(n,t).then(function(){s._completePart(n.part),s._nextPart()},this._onError.bind(this))},e._direct=function(t,n){var s=this,d=this._makeRequest(n,t);this._direct_upload=!0,d.then(function(){return s._finalise()},this._onError.bind(this))},u}(Tt)).lookup="MicrosoftAzure",(function(a){function u(){return a.apply(this,arguments)||this}Ct(u,a);var e=u.prototype;return e._start=function(){var t=this;void 0!==this._strategy&&this.state!==q.Paused||(this.state=q.Uploading,this._strategy=null,this._processPart(this._file).then(function(n){t.state===q.Uploading&&t._request.signUpload({file_id:n.md5}).then(function(s){t._strategy=s.type,"direct_upload"===s.type?t._direct(s,n):t._resume(s,n)},t._onError.bind(t))},this._onError.bind(this)))},e._processPart=function(t,n){return void 0===n&&(n=0),this._hashPart(n.toString(),function(){return t},function(s){return yt().hash(s).then(function(d){return{md5:window.btoa(mt(d)),part:n}})})},e._resume=function(t,n){var s=this;this._request.signUpload(t).then(function(d){if("status"===t.type)if(d.status===t.expected){var m=parseInt(d.getResponseHeader("Range").split("-")[1],10)+1;s._processPart(s._file.slice(m),m).then(function(P){s.state===q.Uploading&&s._request.signChunk(m,P.md5).then(function(S){s._performUpload(S,P)},s._onError.bind(s))},s._onError.bind(s))}else s._finalise();else s._request.updateStatus({resumable_id:s._getQueryParams(d.getResponseHeader("Location").split("?")[1]).upload_id,file_id:n.md5,part:0}).then(function(P){return s._performUpload(P,n)},function(P){this._restart(),this._onError(P)})},this._onError.bind(this))},e._performUpload=function(t,n){var s=this;this._makeRequest(n,t).then(function(){return s._finalise()},this._onError.bind(this))},e._direct=function(t,n){var s=this,d=this._makeRequest(n,t);this._direct_upload=!0,d.then(function(){s._finalise()},this._onError.bind(this))},e._getQueryParams=function(t){t=t.split("+").join(" ");for(var n,s={},d=/[?&]?([^=]+)=([^&]*)/g;n=d.exec(t);)s[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return s},u}(Tt)).lookup="GoogleCloudStorage",(function(a){function u(){for(var t,n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(t=a.call.apply(a,[this].concat(s))||this)._partSize=2097152,t}Ct(u,a);var e=u.prototype;return e._start=function(){var t=this;if(void 0===this._strategy){if(this.state=q.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(n){t.state===q.Uploading&&t._request.signUpload({file_id:n.md5}).then(function(s){t._strategy=s.type,"direct_upload"===s.type?t._direct(s,n):t._resume(s,n)},t._onError.bind(t))},this._onError.bind(this))}else this.state===q.Paused&&this._resume()},e._processPart=function(t){var n=this;return this._hashPart(t.toString(),function(){var s,d;return n.size>n._partSize?((d=t*n._partSize)>n.size&&(d=n.size),s=n._file.slice((t-1)*n._partSize,d)):s=n._file,s},function(s){return yt().hash(s).then(function(d){return{md5:d,part:t,size_bytes:s.size}})})},e._resume=function(t,n){var s,d=this;if(void 0===t&&(t=null),void 0===n&&(n=null),t)if("parts"===t.type){if(this._pending_parts=t.part_list,t.part_data){var m;for(var P in this._memoization=t.part_data,this._memoization)this._memoization.hasOwnProperty(P)&&((m=this._memoization[P]).path||this._pending_parts.push(m.part));this._pending_parts=this._pending_parts.sort().filter(function(S,V,X){return!V||S!==X[V-1]})}for(s=0;s<this._upload.parallel;s+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:n.md5,part:1}).then(function(S){for(d._nextPartIndex(),d._memoization[1].path=S.path,d._setPart(S,n),s=1;s<d._upload.parallel;s+=1)d._nextPart()},function(S){this._restart(),this._onError(S)});else for(s=0;s<this._upload.parallel;s+=1)this._nextPart()},e._generatePartManifest=function(){for(var t,n=[],s=1;s<1e4&&(t=this._memoization[s]);s+=1)n.push({path:t.path,etag:t.md5,size_bytes:t.size_bytes});return JSON.stringify(n)},e._nextPart=function(){var t,n=this,s=this._nextPartIndex();(s-1)*this._partSize<this.size?this._processPart(s).then(function(d){n.state===q.Uploading&&(t=n._getPartData(),n._request.signNextChunk(s,d.md5,t.part_list,t.part_data).then(function(m){n._memoization[s].path=m.path,n._setPart(m,d)},n._onError.bind(n)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===s?(this._finishing=!0,this._request.signChunk("finish").then(function(d){d.signature?(d.data=n._generatePartManifest(),n._request.signUpload(d).then(n._finalise.bind(n),n._onError.bind(n))):n._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(s),(t=this._getPartData()).part_update=!0,this._request.updateStatus(t))},e._setPart=function(t,n){var s=this;this._makeRequest(n,t).then(function(){s._completePart(n.part),s._nextPart()},this._onError.bind(this))},e._direct=function(t,n){var s=this,d=this._makeRequest(n,t);this._direct_upload=!0,d.then(function(){return s._finalise()},this._onError.bind(this))},u}(Tt)).lookup="OpenStackSwift",c(1039);let Xt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[o.ez,l.u5,l.UX,w.lN,R.c,Z.LD,f.Bb,tt.AV,lt.p9,B.Kk]]}),a})()},2793:(st,K,c)=>{c.d(K,{R:()=>Z});var o=c(8946),l=c(9298),w=c(5159),R=c(5306);let Z=(()=>{class f{constructor(){this.step=1,this.max=10,this.min=0}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(i){this.value=i,this._onChange&&this._onChange(i)}writeValue(i){this.value=i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouch=i}}return f.\u0275fac=function(i){return new(i||f)},f.\u0275cmp=o.Xpm({type:f,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[o._Bn([{provide:l.JU,useExisting:(0,o.Gpc)(()=>f),multi:!0}])],decls:9,vars:3,consts:[["counter","",1,"flex","items-center","text-base",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["mat-icon-button","","name","remove","type","button",3,"disabled","click"],["value","",1,"p-1","text-center"],["mat-icon-button","","name","add","type","button",3,"disabled","click"]],template:function(i,O){1&i&&(o.TgZ(0,"div",0),o.NdJ("keydown.shift",function(){return O.shift_key=!0},!1,o.Jf7)("keydown.control",function(){return O.ctrl_key=!0},!1,o.Jf7)("keydown.meta",function(){return O.ctrl_key=!0},!1,o.Jf7)("keyup.shift",function(){return O.shift_key=!1},!1,o.Jf7)("keyup.control",function(){return O.ctrl_key=!1},!1,o.Jf7)("keyup.meta",function(){return O.ctrl_key=!1},!1,o.Jf7),o.TgZ(1,"button",1),o.NdJ("click",function(){return O.remove()}),o.TgZ(2,"app-icon"),o._uU(3,"remove"),o.qZA(),o.qZA(),o.TgZ(4,"div",2),o._uU(5),o.qZA(),o.TgZ(6,"button",3),o.NdJ("click",function(){return O.add()}),o.TgZ(7,"app-icon"),o._uU(8,"add"),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(1),o.Q6J("disabled",!O.value||O.value===O.min),o.xp6(4),o.Oqu((O.render_fn?O.render_fn(O.value):O.value)||"0"),o.xp6(1),o.Q6J("disabled",O.value===O.max))},directives:[w.lW,R.o],styles:["[value][_ngcontent-%COMP%]{min-width:3em}"]}),f})()},7073:(st,K,c)=>{c.d(K,{Q:()=>tt});var o=c(8946),l=c(9298),w=c(6360),R=c(6371),Z=c(1387),f=c(4252),i=c(2711),O=c(3897),N=c(9186);function W(j,v){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var T=(0,i.Z)(j);if(!(0,O.Z)(T))throw new RangeError("Invalid time value");var h=v||{},y=null==h.format?"extended":String(h.format),p=null==h.representation?"complete":String(h.representation);if("extended"!==y&&"basic"!==y)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==p&&"time"!==p&&"complete"!==p)throw new RangeError("representation must be 'date', 'time', or 'complete'");var _="",g="",F="extended"===y?"-":"",I="extended"===y?":":"";if("time"!==p){var H=(0,N.Z)(T.getDate(),2),nt=(0,N.Z)(T.getMonth()+1,2),ut=(0,N.Z)(T.getFullYear(),4);_="".concat(ut).concat(F).concat(nt).concat(F).concat(H)}if("date"!==p){var lt=T.getTimezoneOffset();if(0!==lt){var ct=Math.abs(lt),pt=(0,N.Z)(Math.floor(ct/60),2),dt=(0,N.Z)(ct%60,2),at=lt<0?"+":"-";g="".concat(at).concat(pt,":").concat(dt)}else g="Z";var ft=(0,N.Z)(T.getHours(),2),gt=(0,N.Z)(T.getMinutes(),2),vt=(0,N.Z)(T.getSeconds(),2),C=""===_?"":"T",x=[ft,gt,vt].join(I);_="".concat(_).concat(C).concat(x).concat(g)}return _}var k=c(7487),G=c(6186),$=c(8703),L=c(8168),b=c(8939),U=c(3176),M=c(4813),A=c(5877);const D=["*"];let J=(()=>{class j extends w.LF{format(T,h){return(0,k.Z)(T,"input"===h?"MMMM d, yyyy":"MMM yyyy")}}return j.\u0275fac=function(){let v;return function(h){return(v||(v=o.n5z(j)))(h||j)}}(),j.\u0275prov=o.Yz7({token:j,factory:j.\u0275fac}),j})();const z={parse:{dateInput:"LL"},display:{dateInput:"input",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let tt=(()=>{class j extends b.K{constructor(){super(...arguments),this._from=(new Date).valueOf(),this.position="right",this.offset="bottom"}get from(){return new Date(this._from)||(0,G.Z)(new Date)}get until(){return new Date(this._to)||function(j,v){(0,f.Z)(2,arguments);var T=(0,R.Z)(v);return(0,Z.Z)(j,12*T)}((0,$.Z)(new Date),1)}get date_string(){return(0,k.Z)(new Date(this.date),"DD MMM YYYY")}ngOnInit(){this.date=(new Date).toISOString()}setValue(T){const h=new Date(this.date);let y=(0,L.Z)(T,{hours:h.getHours(),minutes:h.getMinutes()}).valueOf();y<this.from.valueOf()&&(y=this.from.valueOf()),this.date=W(y||new Date),this._onChange&&this._onChange(y),this.show_tooltip=!1}writeValue(T){this.date=W(T||new Date),this.show_tooltip=!1}registerOnChange(T){this._onChange=T}registerOnTouched(T){this._onTouch=T}setDisabledState(T){this.disabled=T}}return j.\u0275fac=function(){let v;return function(h){return(v||(v=o.n5z(j)))(h||j)}}(),j.\u0275cmp=o.Xpm({type:j,selectors:[["a-date-field"]],inputs:{_from:["from","_from"],_to:["to","_to"],position:"position",offset:"offset",disabled:"disabled"},features:[o._Bn([{provide:w._A,useClass:J},{provide:w.sG,useValue:z},{provide:l.JU,useExisting:(0,o.Gpc)(()=>j),multi:!0}]),o.qOj],ngContentSelectors:D,decls:7,vars:6,consts:[["appearance","outline","overlay","",3,"click"],["matInput","",3,"ngModel","disabled","min","max","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker",""]],template:function(T,h){if(1&T){const y=o.EpF();o.F$t(),o.TgZ(0,"mat-form-field",0),o.NdJ("click",function(){return o.CHM(y),o.MAs(4).open()}),o.TgZ(1,"input",1),o.NdJ("ngModelChange",function(_){return h.setValue(_)}),o.qZA(),o._UZ(2,"mat-datepicker-toggle",2),o._UZ(3,"mat-datepicker",null,3),o.TgZ(5,"mat-error"),o.Hsn(6),o.qZA(),o.qZA()}if(2&T){const y=o.MAs(4);o.xp6(1),o.Q6J("ngModel",h.date)("disabled",h.disabled)("min",h.from)("max",h.until)("matDatepicker",y),o.xp6(1),o.Q6J("for",y)}},directives:[U.KE,M.Nt,l.Fj,A.hl,l.JJ,l.On,A.nW,U.R9,A.Mq,U.TO],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),j})()},8254:(st,K,c)=>{c.d(K,{B:()=>G});var o=c(8946),l=c(9298),w=c(3773),R=["years","months","weeks","days","hours","minutes","seconds"];function Z($,L){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var b=(null==L?void 0:L.format)||R,U=(null==L?void 0:L.locale)||w.Z,M=(null==L?void 0:L.zero)||!1,A=(null==L?void 0:L.delimiter)||" ",D=b.reduce(function(J,z){var tt="x".concat(z.replace(/(^.)/,function(v){return v.toUpperCase()}));return"number"==typeof $[z]&&(M||$[z])?J.concat(U.formatDistance(tt,$[z])):J},[]).join(A);return D}var f=c(160),B=c(3176),i=c(7820),O=c(93),N=c(6360);function W($,L){if(1&$&&(o.TgZ(0,"mat-option",5),o._uU(1),o.qZA()),2&$){const b=L.$implicit;o.Q6J("value",b.id),o.xp6(1),o.hij(" ",b.name," ")}}const k=["*"];let G=(()=>{class ${constructor(){this.max=240,this.min=30,this.step=15,this.specialPreprops=[],this.duration=60}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step)}ngOnChanges(b){(b.max||b.min||b.step||b.time)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step))}setValue(b){this.duration=b,this._onChange&&this._onChange(+b)}writeValue(b){this.duration=b}setDisabledState(b){this.disabled=b}registerOnChange(b){this._onChange=b}registerOnTouched(b){this._onTouch=b}generateDurationOptions(b,U,M){const A=[];let D=U;const J=this.time?f(this.time):null;for(const z of this.specialPreprops)A.push({id:z,name:J?`${J.add(z,"m").format("h:mm A")} (${Z({hours:Math.floor(z/60),minutes:z%60})})`:`${Z({hours:Math.floor(z/60),minutes:z%60})}`});for(;D<=b;)A.push({id:D,name:J?`${J.add(D,"m").format("h:mm A")} (${Z({hours:Math.floor(D/60),minutes:D%60})})`:`${Z({hours:Math.floor(D/60),minutes:D%60})}`}),D+=M;return A}}return $.\u0275fac=function(b){return new(b||$)},$.\u0275cmp=o.Xpm({type:$,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",specialPreprops:"specialPreprops"},features:[o._Bn([{provide:l.JU,useExisting:(0,o.Gpc)(()=>$),multi:!0}]),o.TTD],ngContentSelectors:k,decls:7,vars:5,consts:[[1,"duration-field"],["appearance","outline"],[3,"value","disabled","placeholder","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(b,U){1&b&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"mat-form-field",1),o.TgZ(2,"mat-select",2,3),o.NdJ("valueChange",function(A){return U.setValue(A)}),o.YNc(4,W,2,2,"mat-option",4),o.qZA(),o.TgZ(5,"mat-error"),o.Hsn(6),o.qZA(),o.qZA(),o.qZA()),2&b&&(o.uIk("disabled",U.disabled),o.xp6(2),o.Q6J("value",U.duration)("disabled",U.disabled)("placeholder",U.duration+" minutes"),o.xp6(2),o.Q6J("ngForOf",U.duration_options))},directives:[B.KE,i.gD,O.sg,B.TO,N.ey],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),$})()},4449:(st,K,c)=>{c.d(K,{N:()=>T});var o=c(8946),l=c(9298),w=c(2247),R=c(2711),Z=c(4252);function f(h){(0,Z.Z)(1,arguments);var y=(0,R.Z)(h);return y.setSeconds(0,0),y}var B=c(7487),i=c(8168),O=c(3483),N=c(7326),W=c(8292),k=c(6186),G=c(8703),$=c(9756),L=c(3176),b=c(4813),U=c(5159),M=c(5306),A=c(93),D=c(7820),J=c(6360);const z=["select"];function tt(h,y){if(1&h&&(o.TgZ(0,"mat-option",9),o._uU(1),o.qZA()),2&h){const p=y.$implicit;o.Q6J("value",p.id),o.xp6(1),o.hij(" ",p.name," ")}}function j(h,y){if(1&h){const p=o.EpF();o.TgZ(0,"mat-form-field",5),o.TgZ(1,"mat-select",6,7),o.NdJ("valueChange",function(g){return o.CHM(p),o.oxw().setValue(g)}),o.YNc(3,tt,2,2,"mat-option",8),o.qZA(),o.qZA()}if(2&h){const p=o.oxw();o.xp6(1),o.Q6J("value",p.time)("disabled",p.disabled),o.xp6(2),o.Q6J("ngForOf",p.time_options)}}const v=["*"];let T=(()=>{class h extends w.KG{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.date=(new Date).valueOf(),this.time=(0,B.Z)(new Date,"HH:mm")}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1)}ngOnChanges(p){(p.no_past_times||p.step)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const p=(this.time||"00:00").split(":"),_=(0,i.Z)(this.date,{hours:+p[0],minutes:+p[1]});return _.getMinutes()%15!=0&&!this._time_options.find(g=>g.id===(0,B.Z)(_,"HH:mm"))&&(this._time_options.push({name:`${(0,B.Z)(_,(0,w.hI)())}`,id:(0,B.Z)(_,"HH:mm")}),this._time_options.sort((g,F)=>`${g.id}`.localeCompare(`${F.id}`))),this._time_options}setValue(p){if(this.time=p,this._onChange){const _=(this.time||"00:00").split(":"),g=f((0,i.Z)(this.date,{hours:+_[0],minutes:+_[1]}));this._onChange(g.valueOf())}}writeValue(p){this.date=p||this.date;let _=f(this.date);_=(0,O.Z)(_,{nearestTo:5}),this.time=(0,B.Z)(_,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step)}setDisabledState(p){this.disabled=p}registerOnChange(p){this._onChange=p}registerOnTouched(p){this._onTouch=p}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(p=>{p||(this.show_select=!1)})))})}generateAvailableTimes(p,_,g=15){const F=new Date;let I=new Date(p);const H=[];_||!(0,N.Z)(I,F)&&(0,W.Z)(I,F)?I=(0,k.Z)(I):(0,W.Z)(I,F)&&(I=F),I=(0,O.Z)(I,{nearestTo:g});const nt=(0,G.Z)(I);for(;(0,W.Z)(nt,I);)H.push({name:`${(0,B.Z)(I,(0,w.hI)())}`,id:(0,B.Z)(I,"HH:mm")}),I=(0,$.Z)(I,g);return H}}return h.\u0275fac=function(){let y;return function(_){return(y||(y=o.n5z(h)))(_||h)}}(),h.\u0275cmp=o.Xpm({type:h,selectors:[["a-time-field"]],viewQuery:function(p,_){if(1&p&&o.Gf(z,5),2&p){let g;o.iGM(g=o.CRH())&&(_.select_field=g.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times"},features:[o._Bn([{provide:l.JU,useExisting:(0,o.Gpc)(()=>h),multi:!0}]),o.qOj,o.TTD],ngContentSelectors:v,decls:8,vars:5,consts:[["appearance","outline",3,"keydown.enter"],["matInput","","type","time",3,"disabled","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",1,"relative","top-1","-right-1",3,"click"],[1,"text-2xl","text-black","text-opacity-50"],["appearance","outline",4,"ngIf"],["appearance","outline"],[3,"value","disabled","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(p,_){1&p&&(o.F$t(),o.TgZ(0,"mat-form-field",0),o.NdJ("keydown.enter",function(){return _.showSelect()}),o.TgZ(1,"input",1),o.NdJ("ngModelChange",function(F){return _.setValue(F)}),o.qZA(),o.TgZ(2,"button",2),o.NdJ("click",function(){return _.showSelect()}),o.TgZ(3,"app-icon",3),o._uU(4," arrow_drop_down "),o.qZA(),o.qZA(),o.TgZ(5,"mat-error"),o.Hsn(6),o.qZA(),o.qZA(),o.YNc(7,j,4,3,"mat-form-field",4)),2&p&&(o.Udp("display",_.show_select?"none":""),o.xp6(1),o.Q6J("disabled",_.disabled)("ngModel",_.time),o.xp6(6),o.Q6J("ngIf",_.show_select))},directives:[L.KE,b.Nt,l.Fj,l.JJ,l.On,U.lW,L.R9,M.o,L.TO,A.O5,D.gD,A.sg,J.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),h})()},9697:(st,K,c)=>{c.d(K,{d:()=>T});var o=c(8946),l=c(9298),w=c(9441),R=c(1134),Z=c(2720),f=c(639),B=c(3720),i=c(9902),O=c(8293),N=c(3927),W=c(2247),k=c(3702),G=c(3176),$=c(4813),L=c(4618),b=c(9034),U=c(5306),M=c(93),A=c(1039),D=c(6360);const J=["input"];function z(h,y){1&h&&o._UZ(0,"mat-spinner",11)}function tt(h,y){if(1&h){const p=o.EpF();o.TgZ(0,"mat-option",12),o.NdJ("click",function(){const F=o.CHM(p).$implicit,I=o.oxw();return I.setValue(F),I.blurInput()}),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.TgZ(3,"div",14),o._uU(4),o.qZA(),o.qZA()}if(2&h){const p=y.$implicit;o.xp6(2),o.Oqu(p.name),o.xp6(2),o.hij(" ",p.email," ")}}function j(h,y){if(1&h){const p=o.EpF();o.TgZ(0,"mat-option",15),o.TgZ(1,"div",16),o.NdJ("mousedown",function(g){return g.stopPropagation(),g.preventDefault()})("touchstart",function(g){return g.stopPropagation(),g.preventDefault()})("click",function(g){o.CHM(p);const F=o.oxw();return F.setValue(F.search_str),g.stopPropagation(),g.preventDefault()}),o.TgZ(2,"div",17),o._uU(3),o.qZA(),o.qZA(),o.qZA()}if(2&h){const p=o.oxw();o.xp6(3),o.hij(' Add external attendee "',p.search_str,'" ')}}function v(h,y){if(1&h){const p=o.EpF();o.TgZ(0,"mat-option",18),o.NdJ("click",function(){return o.CHM(p),o.oxw().empty_fn()}),o._uU(1),o.qZA()}if(2&h){const p=o.oxw();o.Q6J("disabled",!p.empty_fn),o.xp6(1),o.AsE(" ",p.search_str?"No users found.":""," ",p.error," ")}}let T=(()=>{class h extends W.KG{constructor(){super(...arguments),this.error="",this.query_fn=p=>(0,k.VE)(p),this.search$=new w.xQ,this.search_results$=this.search$.pipe((0,f.b)(400),(0,B.x)(),(0,i.w)(p=>(this.loading=!0,this.options&&this.options.length>0?(0,R.of)(this.options):p.length>=3?this.guests?(0,Z.D)([(0,k.VE)(p),(0,k.jf)(p)]):this.query_fn(p):(0,R.of)([]))),(0,O.K)(p=>(0,R.of)([])),(0,N.U)(p=>{this.loading=!1,p=(0,W.xH)(p);const _=(this.search_str||"").toLowerCase();return p.filter(g=>!this.filter||this.filter(g,_))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>{var p,_;return null===(_=null===(p=this._input_el)||void 0===p?void 0:p.nativeElement)||void 0===_?void 0:_.blur()})}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(p=>this.user_list=p))}resetSearchString(){this.timeout("reset",()=>{var p;return this.search_str=(null===(p=this.active_user)||void 0===p?void 0:p.name)||""},100)}setValue(p,_){"string"==typeof p&&p===this.search_str&&(p=new k.n5({name:(this.search_str||_||"").split("@")[0],email:this.search_str||_||""})),p instanceof k.n5&&(this.active_user=p,this._onChange&&this._onChange(p),this.resetSearchString())}writeValue(p){this.active_user=p,this.resetSearchString()}setDisabledState(p){this.disabled=p}registerOnChange(p){this._onChange=p}registerOnTouched(p){this._onTouch=p}}return h.\u0275fac=function(){let y;return function(_){return(y||(y=o.n5z(h)))(_||h)}}(),h.\u0275cmp=o.Xpm({type:h,selectors:[["a-user-search-field"]],viewQuery:function(p,_){if(1&p&&o.Gf(J,5,o.SBq),2&p){let g;o.iGM(g=o.CRH())&&(_._input_el=g.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[o._Bn([{provide:l.JU,useExisting:(0,o.Gpc)(()=>h),multi:!0}]),o.qOj],decls:12,vars:8,consts:[["form-field","",1,"user-search-field","text-black"],["overlay","","appearance","outline"],["matInput","","keyboard","","name","user-search",3,"ngModel","disabled","placeholder","matAutocomplete","ngModelChange","keyup.enter","blur","focus"],["input",""],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","text-black","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"disabled","click"]],template:function(p,_){if(1&p&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-form-field",1),o.TgZ(2,"input",2,3),o.NdJ("ngModelChange",function(F){return _.search_str=F})("ngModelChange",function(F){return _.search$.next(F||"")})("keyup.enter",function(){return _.validate&&_.validate(_.search_str)?_.setValue(_.search_str):""})("blur",function(){return _.resetSearchString()})("focus",function(){return _.cancelReset()}),o.qZA(),o.TgZ(4,"app-icon",4),o._uU(5,"search"),o.qZA(),o.YNc(6,z,1,0,"mat-spinner",5),o.qZA(),o.TgZ(7,"mat-autocomplete",6,7),o.NdJ("optionSelected",function(F){return _.setValue(F.option.value)}),o.YNc(9,tt,5,2,"mat-option",8),o.YNc(10,j,4,1,"mat-option",9),o.YNc(11,v,2,3,"mat-option",10),o.qZA(),o.qZA()),2&p){const g=o.MAs(8);o.xp6(2),o.Q6J("ngModel",_.search_str)("disabled",_.disabled)("placeholder",_.placeholder||"Search for user...")("matAutocomplete",g),o.xp6(4),o.Q6J("ngIf",_.loading),o.xp6(3),o.Q6J("ngForOf",_.user_list),o.xp6(1),o.Q6J("ngIf",_.search_str&&_.validate&&_.validate(_.search_str)),o.xp6(1),o.Q6J("ngIf",!(null!=_.user_list&&_.user_list.length)&&(_.search_str||_.error))}},directives:[G.KE,$.Nt,L.U,l.Fj,b.ZL,l.JJ,l.On,U.o,G.qo,M.O5,b.XC,M.sg,A.$g,G.R9,D.ey],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]}),h})()},3702:(st,K,c)=>{c.d(K,{Y:()=>p,rW:()=>N,U9:()=>f.U9,n5:()=>Z.n5,en:()=>f.en,n2:()=>dt,jf:()=>nt,VE:()=>ft,pP:()=>lt,w0:()=>gt}),c(114);var l=c(8946),w=c(8931),R=c(2247),Z=c(5197),f=c(9375);function B(C,x){if(1&C&&(l.TgZ(0,"main",6),l._UZ(1,"user-form",7),l.qZA()),2&C){const E=l.oxw();l.xp6(1),l.Q6J("form",E.form)}}function i(C,x){if(1&C){const E=l.EpF();l.TgZ(0,"footer",8),l.TgZ(1,"button",9),l._uU(2,"Cancel"),l.qZA(),l.TgZ(3,"button",10),l.NdJ("click",function(){return l.CHM(E),l.oxw().saveChanges()}),l._uU(4,"Save"),l.qZA(),l.qZA()}}function O(C,x){1&C&&(l.TgZ(0,"main",11),l._UZ(1,"mat-spinner",12),l.TgZ(2,"p"),l._uU(3,"Saving attendee..."),l.qZA(),l.qZA())}let N=(()=>{class C extends R.KG{constructor(E){super(),this._data=E,this.event=new l.vpe,this.loading=!1}ngOnInit(){this.user=this._data.user||{},this.form=(0,f.HO)(this.user)}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const E=new Z.n5(Object.assign(Object.assign({},this.form.value),{type:"external"}));this.event.emit({reason:"done",metadata:E})}}}return C.\u0275fac=function(E){return new(E||C)(l.Y36(w.WI))},C.\u0275cmp=l.Xpm({type:C,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[l.qOj],decls:11,vars:4,consts:[["mat-dialog-title","",1,"heading"],[1,"flex-1"],["mat-icon-button","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-gray-300 space-x-2",4,"ngIf"],["load_state",""],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-gray-300","space-x-2"],["mat-button","","mat-dialog-close","",1,"inverse"],["mat-button","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(E,Y){if(1&E&&(l.TgZ(0,"header"),l.TgZ(1,"div",0),l._uU(2),l.qZA(),l._UZ(3,"div",1),l.TgZ(4,"button",2),l.TgZ(5,"app-icon"),l._uU(6,"close"),l.qZA(),l.qZA(),l.qZA(),l.YNc(7,B,2,1,"main",3),l.YNc(8,i,5,0,"footer",4),l.YNc(9,O,4,0,"ng-template",null,5,l.W1O)),2&E){const _t=l.MAs(10);l.xp6(2),l.hij(" ",null!=Y.user&&Y.user.id?"Edit":"Add"," External Attendee "),l.xp6(5),l.Q6J("ngIf",!Y.loading)("ngIfElse",_t),l.xp6(1),l.Q6J("ngIf",!Y.loading)}},styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]}),C})();var W=c(93),k=c(9298),G=c(3176),$=c(4813),L=c(3393);function b(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",4),l._uU(2," Name"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",6),l.TgZ(8,"mat-error"),l._uU(9,"Name is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const E=l.oxw(2);l.xp6(1),l.ekj("error",E.hasError("name"))}}function U(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",7),l._uU(2," Email"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",8),l.TgZ(8,"mat-error"),l._uU(9,"A valid email is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const E=l.oxw(2);l.xp6(1),l.ekj("error",E.hasError("email"))}}function M(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",9),l._uU(2," Organisation"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",10),l.TgZ(8,"mat-error"),l._uU(9,"Organisation is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const E=l.oxw(2);l.xp6(1),l.ekj("error",E.hasError("organisation"))}}function A(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",11),l._uU(2," Phone: "),l.qZA(),l.TgZ(3,"mat-form-field",5),l._UZ(4,"input",12),l.TgZ(5,"mat-error"),l._uU(6,"Phone format is invalid"),l.qZA(),l.qZA(),l.qZA()),2&C){const E=l.oxw(2);l.xp6(1),l.ekj("error",E.hasError("phone"))}}function D(C,x){1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"mat-checkbox",13),l._uU(2," Assistance required "),l.qZA(),l.qZA())}function J(C,x){1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"mat-checkbox",14),l._uU(2," Visit expected "),l.qZA(),l.qZA())}function z(C,x){if(1&C&&(l.TgZ(0,"form",1),l.YNc(1,b,10,2,"div",2),l.YNc(2,U,10,2,"div",2),l.YNc(3,M,10,2,"div",2),l.YNc(4,A,7,2,"div",2),l.YNc(5,D,3,0,"div",2),l.YNc(6,J,3,0,"div",2),l.qZA()),2&C){const E=l.oxw();l.Q6J("formGroup",E.form),l.xp6(1),l.Q6J("ngIf",E.form.controls.name),l.xp6(1),l.Q6J("ngIf",E.form.controls.email),l.xp6(1),l.Q6J("ngIf",E.form.controls.organisation),l.xp6(1),l.Q6J("ngIf",E.form.controls.phone),l.xp6(1),l.Q6J("ngIf",E.form.controls.assistance_required),l.xp6(1),l.Q6J("ngIf",E.form.controls.visit_expected)}}let tt=(()=>{class C{hasError(E){var Y;const{invalid:_t,touched:bt}=(null===(Y=this.form)||void 0===Y?void 0:Y.controls[E])||{};return _t&&bt}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=l.Xpm({type:C,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","",3,"formGroup",4,"ngIf"],["user-form","",3,"formGroup"],["class","field",4,"ngIf"],[1,"field"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","Organisation","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(E,Y){1&E&&l.YNc(0,z,7,7,"form",0),2&E&&l.Q6J("ngIf",Y.form)},directives:[W.O5,k._Y,k.JL,k.sg,G.KE,$.Nt,k.Fj,k.JJ,k.u,G.TO,L.oG],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),C})();var j=c(5159),v=c(5306),T=c(1039);l.B6R(N,[w.uh,j.lW,w.ZT,v.o,W.O5,tt,T.$g],[]);var y=c(1361);class p{constructor(x={}){this.type=x.type||x.location||"other",this.position=x.position||x.map_id||{x:x.x/x.map_width||0,y:x.y/x.map_height||0},this.variance=x.variance||0,this.last_seen=x.last_seen||(0,y.Z)(new Date),this.level=x.level,this.building=x.building,this.at_location=!!x.at_location,this.coordinates_from=x.coordinates_from||"top-left"}}var _=c(2064),g=c(3927),F=c(3902),I=c(5038);const H="/api/staff/v1/guests";function nt(C){const x=(0,I.U)({q:C});return(0,_.U2M)(`${H}${C?"?"+x:""}`).pipe((0,g.U)(E=>E.map(Y=>new Z.OO(Y))))}function lt(C){return(0,_.U2M)(`${H}/${encodeURIComponent(C)}`).pipe((0,g.U)(x=>new Z.OO(x)))}function dt(C){return(0,_.U2M)(`${H}/${encodeURIComponent(C)}/meetings`).pipe((0,g.U)(x=>x.map(E=>new F.y(E))))}const at="/api/staff/v1/people";function ft(C){const x=(0,I.U)({q:C});return(0,_.U2M)(`${at}${C?"?"+x:""}`).pipe((0,g.U)(E=>E.map(Y=>new Z.mO(Y))))}function gt(C){return(0,_.U2M)(`${at}/${encodeURIComponent(C)}`).pipe((0,g.U)(x=>new Z.mO(x)))}},1112:(st,K,c)=>{c.d(K,{Z:()=>R});var o=c(6371),l=c(2711),w=c(4252);function R(Z,f){(0,w.Z)(2,arguments);var B=(0,l.Z)(Z),i=(0,o.Z)(f);return B.setHours(i),B}},3731:(st,K)=>{!function(){function l(w,R){this._queue=[],this._ready=!0;var Z=this;Worker?(Z._hashWorker=new Worker(w,R),Z._hashWorker.onmessage=Z._recievedMessage.bind(Z),Z._hashWorker.onerror=function(f){Z._ready=!1,console.error("Hash worker failure",f)}):(Z._ready=!1,console.error("Web Workers are not supported in this browser"))}l.prototype.hash=function(w){var R=this;return new Promise(function(f,B){R._queue.push({blob:w,resolve:f,reject:B}),R._processNext()})},l.prototype.terminate=function(){this._ready=!1,this._hashWorker.terminate()},l.prototype._processNext=function(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))},l.prototype._recievedMessage=function(w){var R=w.data;R.success?this._processing.resolve(R.result):this._processing.reject(R.result),this._processing=null,this._processNext()}}()}}]);
//# sourceMappingURL=default-libs_events_src_index_ts-libs_form-fields_src_index_ts.js.map