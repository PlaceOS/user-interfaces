"use strict";(self.webpackChunkvisitor_kiosk=self.webpackChunkvisitor_kiosk||[]).push([["default-libs_events_src_index_ts-libs_form-fields_src_index_ts"],{4856:(se,H,d)=>{d.d(H,{ym:()=>R.y,rq:()=>E.rq,r7:()=>F,ry:()=>E.ry,Vh:()=>E.Vh,eJ:()=>E.eJ}),d(3867),d(4555),d(5157);var R=d(4115),E=d(6888),h=d(8346),B=d(4340),t=d(9290),P=d(4057),N=d(5131),z=d(1322),X=d(8069),k=d(5269);const L=v=>{var T;return(null===(T=v.parent)||void 0===T?void 0:T.get("date"))&&(0,X.Z)(new Date,(0,k.Z)(v.parent.get("date").value,v.value))?{duration:!0}:null};function F(v){var T,f,y;const p=new h.cw({id:new h.NI(v.id),host:new h.NI(v.host||"",[h.kI.required]),organiser:new h.NI(v.organiser||{},[h.kI.required]),creator:new h.NI(v.creator,[h.kI.required]),calendar:new h.NI(v.calendar),attendees:new h.NI(v.attendees||[]),resources:new h.NI(v.resources||[]),title:new h.NI(v.title,[h.kI.required]),body:new h.NI(v.body),private:new h.NI(v.private),date:new h.NI(v.date,[h.kI.required]),duration:new h.NI(v.duration,[L]),all_day:new h.NI(v.all_day),recurring:new h.NI(v.recurring),recurrence:new h.NI(v.recurrence),recurring_master_id:new h.NI(v.recurring_master_id),master:new h.NI(v.master),attachments:new h.NI(v.attachments),catering:new h.NI((null===(T=v.extension_data)||void 0===T?void 0:T.catering)||[]),visitor_type:new h.NI(null===(f=v.extension_data)||void 0===f?void 0:f.visitor_type),location:new h.NI(v.location),needs_space:new h.NI(!0),needs_parking:new h.NI((null===(y=v.extension_data)||void 0===y?void 0:y.needs_parking)||!1),system:new h.NI(v.system)});return p.get("organiser").valueChanges.subscribe(m=>p.controls.host.setValue(null==m?void 0:m.email)),p.get("resources").valueChanges.subscribe(m=>p.controls.system.setValue(m.length?m[0]:null)),v.id&&(p.get("host").disable(),p.get("organiser").disable()),"started"===v.state&&p.get("date").disable(),p}d(6043),(0,B.Z)(function(v,T){(0,N.Z)(2,arguments);var f=(0,P.Z)(v),y=(0,t.Z)(T);return f.setMinutes(y),f}((0,z.Z)(new Date,6),0),{days:-1})},6888:(se,H,d)=>{d.d(H,{u$:()=>B,Vh:()=>t,eJ:()=>N,ry:()=>W,rq:()=>b});var s=d(8222),l=d(8377),w=d(1378),R=d(5302),E=d(4115);const h="/api/staff/v1/events";function B(U){const A=(0,w.U)(U);return(0,s.U2M)(`${h}${A?"?"+A:""}`).pipe((0,l.U)(F=>F.map(D=>new E.y(D))))}function t(U,A={}){const F=(0,w.U)(A);return(0,s.U2M)(`${h}/${encodeURIComponent(U)}${F?"?"+F:""}`).pipe((0,l.U)(D=>new E.y(D)))}function N(U,A,F={},D="patch"){const J=(0,w.U)(F);return("patch"===D?s.r$K:s.gzd)(`${h}/${encodeURIComponent(U)}${J?"?"+J:""}`,"patch"===D?A:new E.y(A).toJSON()).pipe((0,l.U)(q=>new E.y(q)))}const W=(U,A)=>{var F;return null===(F=U)||void 0===F||delete F.status,U.id?N(U.id,U,A):function(U){return(0,s.v_Q)(`${h}`,new E.y(U).toJSON()).pipe((0,l.U)(A=>new E.y(A)))}(U)};function b(U,A,F,D={}){const J=(0,w.U)(Object.assign(Object.assign({},D),{state:F}));return(0,s.v_Q)(`${h}/${encodeURIComponent(U)}/guests/${A}/checkin${J?"?"+J:""}`,"").pipe((0,l.U)(q=>new R.OO(q)))}},6131:(se,H,d)=>{d.d(H,{W9:()=>rt});var s=d(8267),l=d(8346),w=d(3981),R=d(8482),E=d(1036),h=d(686),B=d(9356),t=d(2222);d(9680),d(640),d(5408),d(3656),d(6402),d(3867),d(4452),d(9148),d(6298),d(8641),d(7752),d(7819);var ee=d(4731);d(7926),d(1933);var le=d(9188);function ie(){return ie=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(a[e]=n[e])}return a},ie.apply(this,arguments)}function Ce(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,xe(a,u)}function xe(a,u){return(xe=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(a,u)}function me(a){var u="";a.length%2>0&&(a="0"+a);for(var n=0,e=a.length;n<e;n+=2)u+=String.fromCharCode(parseInt(a.slice(n,n+2),16));return u}d(1468),d(1119),d(7663);var V,a,fe=[],Ie=-1;function ye(){return Ie+=1,fe[Ie%=3]}(a=V||(V={}))[a.Paused=0]="Paused",a[a.Uploading=1]="Uploading",a[a.Completed=2]="Completed",a[a.Aborted=3]="Aborted";var Te=function(){function a(n,e){this._request=void 0,this._upload=void 0,this.state=V.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=void 0,this._memoization={},this._finishing=!1,this._request=n,this._upload=e,this._file=this._upload.file,this.size=this._file.size}var u=a.prototype;return u.start=function(){this.state<V.Uploading&&(this._finalising?this._finalise():this._start())},u.pause=function(){for(var n in this._strategy&&this.state===V.Uploading&&!this._direct_upload?(this.state=V.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=V.Paused,this._request.abort(),this._restart()),this._progress)this._progress[n].loaded!==this._progress[n].total&&(this._progress[n].loaded=0);this._updateProgress()},u.destroy=function(){void 0!==this._strategy&&this.state<V.Completed&&(this._request.destroy(),this._restart(),this.state=V.Aborted)},u._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},u._makeRequest=function(n,e){var i=this;return e.data=n.data,this._request.performSignedRequest(e,function(o){return i._onProgress(n.part,o)})},u._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},u._currentParts=function(){return this._current_parts.concat(this._pending_parts)},u._completePart=function(n){this._current_parts=this._current_parts.filter(function(e){return e!==n})},u._isComplete=function(n){var e=this._progress[n]||{},i=e.loaded;return i&&i===e.total},u._onProgress=function(n,e){this._progress[n]=ie({},e),this._updateProgress()},u._onError=function(n){this.pause(),this._upload.onError(n)},u._updateProgress=function(){var n=0;for(var e in this._progress)n+=this._progress[e].loaded||0;this._upload.onProgress(n)},u._finalise=function(){try{var n=this;return n._request.updateStatus().then(function(){return n._upload.onComplete()},function(e){return n._onError(e)}),Promise.resolve()}catch(e){return Promise.reject(e)}},u._hashPart=function(n,e,i){try{var o=this,c=o._memoization[n],_=e();return Promise.resolve(c?{data:_,md5:c.md5,part:c.part}:i(_).then(function(O){return o._memoization[n]=O,{data:_,md5:O.md5,part:O.part}}))}catch(O){return Promise.reject(O)}},u._getPartData=function(){var n=this,e=this._currentParts(),i=[];return e.forEach(function(o){var c=n._memoization[""+o];c&&i.push(c)}),{part_list:e,part_data:i}},a}(),ke=function(a){function u(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))||this)._part_size=5242880,e}Ce(u,a);var n=u.prototype;return n._start=function(){var e=this;if(void 0===this._strategy){if(this.state=V.Uploading,this._strategy=null,9999*this._part_size<this.size&&(this._part_size=Math.floor(this.size/9999),this._part_size>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(i){e.state===V.Uploading&&e._request.signUpload({file_id:window.btoa(me(i.md5))}).then(function(o){e._strategy=o.type,o.signature&&e._upload.setAccessUrl((o.signature.url||"").split("?")[0]),"direct_upload"===o.type?e._direct(o,i):e._resume(o,i)},function(o){return e._onError(o)})},function(i){return e._onError(i)})}else this.state===V.Paused&&this._resume()},n._processPart=function(e){var i=this;return this._hashPart(e.toString(),function(){var o,c;return i.size>i._part_size?((c=e*i._part_size)>i.size&&(c=i.size),o=i._file.slice((e-1)*i._part_size,c)):o=i._file,o},function(o){return ye().hash(o).then(function(c){return{md5:c,part:e}})})},n._resume=function(e,i){var o,c=this;if(void 0===e&&(e=null),void 0===i&&(i=null),e)if("parts"===e.type)for(this._pending_parts=e.part_list,e.part_data&&(this._memoization=e.part_data),o=0;o<this._upload.parallel;o+=1)this._nextPart();else this._request.signUpload(e).then(function(_){var O=_.responseXML.getElementsByTagName("UploadId")[0].textContent;c._request.updateStatus({resumable_id:O,file_id:window.btoa(me(i.md5)),part:1}).then(function(I){for(c._nextPartIndex(),c._setPart(I,i),o=1;o<c._upload.parallel;o+=1)c._nextPart()},function(I){c._restart(),c._onError(I)})},function(_){c._restart(),c._onError(_)});else for(o=0;o<this._upload.parallel;o+=1)this._nextPart()},n._generatePartManifest=function(){var e,i,o="<CompleteMultipartUpload>";for(e=1;e<1e4&&(i=this._memoization[e]);e+=1)o+="<Part><PartNumber>"+e+'</PartNumber><ETag>"'+i.md5+'"</ETag></Part>';return o+"</CompleteMultipartUpload>"},n._nextPart=function(){var e,i=this,o=this._nextPartIndex();(o-1)*this._part_size<this.size?this._processPart(o).then(function(c){i.state===V.Uploading&&(e=i._getPartData(),i._request.signNextChunk(o,window.btoa(me(c.md5)),e.part_list,e.part_data).then(function(_){i._setPart(_,c)},function(_){return i._onError(_)}))},function(c){return i._onError(c)}):1===this._currentParts.length&&this._currentParts[0]===o?(this._finishing=!0,this._request.signChunk("finish").then(function(c){c.data=i._generatePartManifest(),i._request.signUpload(c).then(function(){return i._finalise()},function(_){return i._onError(_)})},function(c){return i._onError(c)})):this._finishing||(this._completePart(o),(e=this._getPartData()).part_update=!0,this._request.updateStatus(e))},n._setPart=function(e,i){var o=this;this._makeRequest(i,e).then(function(){return o._nextPart()},function(c){return o._onError(c)})},n._direct=function(e,i){var o=this,c=this._makeRequest(i,e);this._direct_upload=!0,c.then(function(){return o._finalise()},function(_){return o._onError(_)})},u}(Te);ke.lookup="AmazonS3";var qe=function(a){function u(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))||this)._partSize=2097152,e}Ce(u,a);var n=u.prototype;return n._start=function(){var e=this;if(void 0===this._strategy){if(this.state=V.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(i){e.state===V.Uploading&&e._request.signUpload({file_id:i.md5}).then(function(o){e._strategy=o.type,"direct_upload"===o.type?e._direct(o,i):e._resume(o,i)},e._onError.bind(e))},this._onError.bind(this))}else this.state===V.Paused&&this._resume()},n._processPart=function(e){var i=this;return this._hashPart(e.toString(),function(){var o,c;return i.size>i._partSize?((c=e*i._partSize)>i.size&&(c=i.size),o=i._file.slice((e-1)*i._partSize,c)):o=i._file,o},function(o){return ye().hash(o).then(function(c){return{md5:window.btoa(me(c)),part:e}})})},n._resume=function(e,i){var o,c=this;if(void 0===e&&(e=null),void 0===i&&(i=null),e)if("parts"===e.type)for(this._pending_parts=e.part_list,o=0;o<this._upload.parallel;o+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:i.md5,part:1}).then(function(_){for(c._nextPartIndex(),c._setPart(_,i),o=1;o<c._upload.parallel;o+=1)c._nextPart()},function(_){this._restart(),this._onError(_)});else for(o=0;o<this._upload.parallel;o+=1)this._nextPart()},n._generatePartManifest=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><BlockList>',i=0;i<5e4&&i*this._partSize<this.size;i+=1)e+="<Latest>"+window.btoa(this._pad(i+1))+"</Latest>";return e+"</BlockList>"},n._pad=function(e){for(var i=e.toString();i.length<6;)i="0"+i;return i},n._nextPart=function(){var e=this,i=this._nextPartIndex();(i-1)*this._partSize<this.size?this._processPart(i).then(function(o){e.state===V.Uploading&&e._request.signNextChunk(i,o.md5,e._currentParts()).then(function(c){e._setPart(c,o)},e._onError.bind(e))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===i?(this._finishing=!0,this._request.signChunk("finish").then(function(o){o.data=e._generatePartManifest(),e._request.signUpload(o).then(e._finalise.bind(e),e._onError.bind(e))},this._onError.bind(this))):this._finishing||(this._completePart(i),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},n._setPart=function(e,i){var o=this;this._makeRequest(i,e).then(function(){o._completePart(i.part),o._nextPart()},this._onError.bind(this))},n._direct=function(e,i){var o=this,c=this._makeRequest(i,e);this._direct_upload=!0,c.then(function(){return o._finalise()},this._onError.bind(this))},u}(Te);qe.lookup="MicrosoftAzure";var ze=function(a){function u(){return a.apply(this,arguments)||this}Ce(u,a);var n=u.prototype;return n._start=function(){var e=this;void 0!==this._strategy&&this.state!==V.Paused||(this.state=V.Uploading,this._strategy=null,this._processPart(this._file).then(function(i){e.state===V.Uploading&&e._request.signUpload({file_id:i.md5}).then(function(o){e._strategy=o.type,"direct_upload"===o.type?e._direct(o,i):e._resume(o,i)},e._onError.bind(e))},this._onError.bind(this)))},n._processPart=function(e,i){return void 0===i&&(i=0),this._hashPart(i.toString(),function(){return e},function(o){return ye().hash(o).then(function(c){return{md5:window.btoa(me(c)),part:i}})})},n._resume=function(e,i){var o=this;this._request.signUpload(e).then(function(c){if("status"===e.type)if(c.status===e.expected){var _=parseInt(c.getResponseHeader("Range").split("-")[1],10)+1;o._processPart(o._file.slice(_),_).then(function(O){o.state===V.Uploading&&o._request.signChunk(_,O.md5).then(function(I){o._performUpload(I,O)},o._onError.bind(o))},o._onError.bind(o))}else o._finalise();else o._request.updateStatus({resumable_id:o._getQueryParams(c.getResponseHeader("Location").split("?")[1]).upload_id,file_id:i.md5,part:0}).then(function(O){return o._performUpload(O,i)},function(O){this._restart(),this._onError(O)})},this._onError.bind(this))},n._performUpload=function(e,i){var o=this;this._makeRequest(i,e).then(function(){return o._finalise()},this._onError.bind(this))},n._direct=function(e,i){var o=this,c=this._makeRequest(i,e);this._direct_upload=!0,c.then(function(){o._finalise()},this._onError.bind(this))},n._getQueryParams=function(e){e=e.split("+").join(" ");for(var i,o={},c=/[?&]?([^=]+)=([^&]*)/g;i=c.exec(e);)o[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return o},u}(Te);ze.lookup="GoogleCloudStorage";var Ve=function(a){function u(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))||this)._partSize=2097152,e}Ce(u,a);var n=u.prototype;return n._start=function(){var e=this;if(void 0===this._strategy){if(this.state=V.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(i){e.state===V.Uploading&&e._request.signUpload({file_id:i.md5}).then(function(o){e._strategy=o.type,"direct_upload"===o.type?e._direct(o,i):e._resume(o,i)},e._onError.bind(e))},this._onError.bind(this))}else this.state===V.Paused&&this._resume()},n._processPart=function(e){var i=this;return this._hashPart(e.toString(),function(){var o,c;return i.size>i._partSize?((c=e*i._partSize)>i.size&&(c=i.size),o=i._file.slice((e-1)*i._partSize,c)):o=i._file,o},function(o){return ye().hash(o).then(function(c){return{md5:c,part:e,size_bytes:o.size}})})},n._resume=function(e,i){var o,c=this;if(void 0===e&&(e=null),void 0===i&&(i=null),e)if("parts"===e.type){if(this._pending_parts=e.part_list,e.part_data){var _;for(var O in this._memoization=e.part_data,this._memoization)this._memoization.hasOwnProperty(O)&&((_=this._memoization[O]).path||this._pending_parts.push(_.part));this._pending_parts=this._pending_parts.sort().filter(function(I,$,K){return!$||I!==K[$-1]})}for(o=0;o<this._upload.parallel;o+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:i.md5,part:1}).then(function(I){for(c._nextPartIndex(),c._memoization[1].path=I.path,c._setPart(I,i),o=1;o<c._upload.parallel;o+=1)c._nextPart()},function(I){this._restart(),this._onError(I)});else for(o=0;o<this._upload.parallel;o+=1)this._nextPart()},n._generatePartManifest=function(){for(var e,i=[],o=1;o<1e4&&(e=this._memoization[o]);o+=1)i.push({path:e.path,etag:e.md5,size_bytes:e.size_bytes});return JSON.stringify(i)},n._nextPart=function(){var e,i=this,o=this._nextPartIndex();(o-1)*this._partSize<this.size?this._processPart(o).then(function(c){i.state===V.Uploading&&(e=i._getPartData(),i._request.signNextChunk(o,c.md5,e.part_list,e.part_data).then(function(_){i._memoization[o].path=_.path,i._setPart(_,c)},i._onError.bind(i)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===o?(this._finishing=!0,this._request.signChunk("finish").then(function(c){c.signature?(c.data=i._generatePartManifest(),i._request.signUpload(c).then(i._finalise.bind(i),i._onError.bind(i))):i._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(o),(e=this._getPartData()).part_update=!0,this._request.updateStatus(e))},n._setPart=function(e,i){var o=this;this._makeRequest(i,e).then(function(){o._completePart(i.part),o._nextPart()},this._onError.bind(this))},n._direct=function(e,i){var o=this,c=this._makeRequest(i,e);this._direct_upload=!0,c.then(function(){return o._finalise()},this._onError.bind(this))},u}(Te);Ve.lookup="OpenStackSwift",d(9372);let rt=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[s.ez,l.u5,l.UX,w.lN,R.c,E.LD,h.Bb,ee.AV,le.p9,B.Kk]]}),a})()},640:(se,H,d)=>{d.d(H,{R:()=>E});var s=d(2222),l=d(8346),w=d(7752),R=d(9680);let E=(()=>{class h{constructor(){this.step=1,this.max=10,this.min=0}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(t){this.value=t,this._onChange&&this._onChange(t)}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouch=t}}return h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=s.Xpm({type:h,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[s._Bn([{provide:l.JU,useExisting:(0,s.Gpc)(()=>h),multi:!0}])],decls:9,vars:3,consts:[["counter","",1,"flex","items-center","text-base",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["mat-icon-button","","name","remove","type","button",3,"disabled","click"],["value","",1,"p-1","text-center"],["mat-icon-button","","name","add","type","button",3,"disabled","click"]],template:function(t,P){1&t&&(s.TgZ(0,"div",0),s.NdJ("keydown.shift",function(){return P.shift_key=!0},!1,s.Jf7)("keydown.control",function(){return P.ctrl_key=!0},!1,s.Jf7)("keydown.meta",function(){return P.ctrl_key=!0},!1,s.Jf7)("keyup.shift",function(){return P.shift_key=!1},!1,s.Jf7)("keyup.control",function(){return P.ctrl_key=!1},!1,s.Jf7)("keyup.meta",function(){return P.ctrl_key=!1},!1,s.Jf7),s.TgZ(1,"button",1),s.NdJ("click",function(){return P.remove()}),s.TgZ(2,"app-icon"),s._uU(3,"remove"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s._uU(5),s.qZA(),s.TgZ(6,"button",3),s.NdJ("click",function(){return P.add()}),s.TgZ(7,"app-icon"),s._uU(8,"add"),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.Q6J("disabled",!P.value||P.value===P.min),s.xp6(4),s.Oqu((P.render_fn?P.render_fn(P.value):P.value)||"0"),s.xp6(1),s.Q6J("disabled",P.value===P.max))},directives:[w.lW,R.o],styles:["[value][_ngcontent-%COMP%]{min-width:3em}\n/*# sourceMappingURL=counter.component.ts-angular-inline--23.css.map*/"]}),h})()},5408:(se,H,d)=>{d.d(H,{Q:()=>ee});var s=d(2222),l=d(8346),w=d(2157),R=d(9290),E=d(773),h=d(5131),t=d(4057),P=d(555),N=d(5561);function W(j,v){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var T=(0,t.Z)(j);if(!(0,P.Z)(T))throw new RangeError("Invalid time value");var f=v||{},y=null==f.format?"extended":String(f.format),p=null==f.representation?"complete":String(f.representation);if("extended"!==y&&"basic"!==y)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==p&&"time"!==p&&"complete"!==p)throw new RangeError("representation must be 'date', 'time', or 'complete'");var m="",g="",M="extended"===y?"-":"",S="extended"===y?":":"";if("time"!==p){var Y=(0,N.Z)(T.getDate(),2),ne=(0,N.Z)(T.getMonth()+1,2),ue=(0,N.Z)(T.getFullYear(),4);m="".concat(ue).concat(M).concat(ne).concat(M).concat(Y)}if("date"!==p){var le=T.getTimezoneOffset();if(0!==le){var ce=Math.abs(le),pe=(0,N.Z)(Math.floor(ce/60),2),de=(0,N.Z)(ce%60,2),ae=le<0?"+":"-";g="".concat(ae).concat(pe,":").concat(de)}else g="Z";var he=(0,N.Z)(T.getHours(),2),ge=(0,N.Z)(T.getMinutes(),2),ve=(0,N.Z)(T.getSeconds(),2),C=""===m?"":"T",x=[he,ge,ve].join(S);m="".concat(m).concat(C).concat(x).concat(g)}return m}var z=d(6613),X=d(9735),k=d(5012),L=d(3592),b=d(1511),U=d(3981),A=d(8482),F=d(6506);const D=["*"];let J=(()=>{class j extends w.LF{format(T,f){return(0,z.Z)(T,"input"===f?"MMMM d, yyyy":"MMM yyyy")}}return j.\u0275fac=function(){let v;return function(f){return(v||(v=s.n5z(j)))(f||j)}}(),j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();const q={parse:{dateInput:"LL"},display:{dateInput:"input",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let ee=(()=>{class j extends b.K{constructor(){super(...arguments),this._from=(new Date).valueOf(),this.position="right",this.offset="bottom"}get from(){return new Date(this._from)||(0,X.Z)(new Date)}get until(){return new Date(this._to)||function(j,v){(0,h.Z)(2,arguments);var T=(0,R.Z)(v);return(0,E.Z)(j,12*T)}((0,k.Z)(new Date),1)}get date_string(){return(0,z.Z)(new Date(this.date),"DD MMM YYYY")}ngOnInit(){this.date=(new Date).toISOString()}setValue(T){const f=new Date(this.date);let y=(0,L.Z)(T,{hours:f.getHours(),minutes:f.getMinutes()}).valueOf();y<this.from.valueOf()&&(y=this.from.valueOf()),this.date=W(y||new Date),this._onChange&&this._onChange(y),this.show_tooltip=!1}writeValue(T){this.date=W(T||new Date),this.show_tooltip=!1}registerOnChange(T){this._onChange=T}registerOnTouched(T){this._onTouch=T}setDisabledState(T){this.disabled=T}}return j.\u0275fac=function(){let v;return function(f){return(v||(v=s.n5z(j)))(f||j)}}(),j.\u0275cmp=s.Xpm({type:j,selectors:[["a-date-field"]],inputs:{_from:["from","_from"],_to:["to","_to"],position:"position",offset:"offset",disabled:"disabled"},features:[s._Bn([{provide:w._A,useClass:J},{provide:w.sG,useValue:q},{provide:l.JU,useExisting:(0,s.Gpc)(()=>j),multi:!0}]),s.qOj],ngContentSelectors:D,decls:7,vars:6,consts:[["appearance","outline","overlay","",3,"click"],["matInput","",3,"ngModel","disabled","min","max","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker",""]],template:function(T,f){if(1&T){const y=s.EpF();s.F$t(),s.TgZ(0,"mat-form-field",0),s.NdJ("click",function(){return s.CHM(y),s.MAs(4).open()}),s.TgZ(1,"input",1),s.NdJ("ngModelChange",function(m){return f.setValue(m)}),s.qZA(),s._UZ(2,"mat-datepicker-toggle",2),s._UZ(3,"mat-datepicker",null,3),s.TgZ(5,"mat-error"),s.Hsn(6),s.qZA(),s.qZA()}if(2&T){const y=s.MAs(4);s.xp6(1),s.Q6J("ngModel",f.date)("disabled",f.disabled)("min",f.from)("max",f.until)("matDatepicker",y),s.xp6(1),s.Q6J("for",y)}},directives:[U.KE,A.Nt,l.Fj,F.hl,l.JJ,l.On,F.nW,U.R9,F.Mq,U.TO],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}\n/*# sourceMappingURL=date-field.component.ts-angular-inline--24.css.map*/"]}),j})()},3656:(se,H,d)=>{d.d(H,{B:()=>X});var s=d(2222),l=d(8346),w=d(469),R=["years","months","weeks","days","hours","minutes","seconds"];function E(k,L){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var b=(null==L?void 0:L.format)||R,U=(null==L?void 0:L.locale)||w.Z,A=(null==L?void 0:L.zero)||!1,F=(null==L?void 0:L.delimiter)||" ",D=b.reduce(function(J,q){var ee="x".concat(q.replace(/(^.)/,function(v){return v.toUpperCase()}));return"number"==typeof k[q]&&(A||k[q])?J.concat(U.formatDistance(ee,k[q])):J},[]).join(F);return D}var h=d(163),B=d(3981),t=d(1036),P=d(8267),N=d(2157);function W(k,L){if(1&k&&(s.TgZ(0,"mat-option",5),s._uU(1),s.qZA()),2&k){const b=L.$implicit;s.Q6J("value",b.id),s.xp6(1),s.hij(" ",b.name," ")}}const z=["*"];let X=(()=>{class k{constructor(){this.max=240,this.min=30,this.step=15,this.specialPreprops=[],this.duration=60}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step)}ngOnChanges(b){(b.max||b.min||b.step||b.time)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step))}setValue(b){this.duration=b,this._onChange&&this._onChange(+b)}writeValue(b){this.duration=b}setDisabledState(b){this.disabled=b}registerOnChange(b){this._onChange=b}registerOnTouched(b){this._onTouch=b}generateDurationOptions(b,U,A){const F=[];let D=U;const J=this.time?h(this.time):null;for(const q of this.specialPreprops)F.push({id:q,name:J?`${J.add(q,"m").format("h:mm A")} (${E({hours:Math.floor(q/60),minutes:q%60})})`:`${E({hours:Math.floor(q/60),minutes:q%60})}`});for(;D<=b;)F.push({id:D,name:J?`${J.add(D,"m").format("h:mm A")} (${E({hours:Math.floor(D/60),minutes:D%60})})`:`${E({hours:Math.floor(D/60),minutes:D%60})}`}),D+=A;return F}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275cmp=s.Xpm({type:k,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",specialPreprops:"specialPreprops"},features:[s._Bn([{provide:l.JU,useExisting:(0,s.Gpc)(()=>k),multi:!0}]),s.TTD],ngContentSelectors:z,decls:7,vars:5,consts:[[1,"duration-field"],["appearance","outline"],[3,"value","disabled","placeholder","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(b,U){1&b&&(s.F$t(),s.TgZ(0,"div",0),s.TgZ(1,"mat-form-field",1),s.TgZ(2,"mat-select",2,3),s.NdJ("valueChange",function(F){return U.setValue(F)}),s.YNc(4,W,2,2,"mat-option",4),s.qZA(),s.TgZ(5,"mat-error"),s.Hsn(6),s.qZA(),s.qZA(),s.qZA()),2&b&&(s.uIk("disabled",U.disabled),s.xp6(2),s.Q6J("value",U.duration)("disabled",U.disabled)("placeholder",U.duration+" minutes"),s.xp6(2),s.Q6J("ngForOf",U.duration_options))},directives:[B.KE,t.gD,P.sg,B.TO,N.ey],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}\n/*# sourceMappingURL=duration-field.component.ts-angular-inline--25.css.map*/"]}),k})()},6402:(se,H,d)=>{d.d(H,{N:()=>T});var s=d(2222),l=d(8346),w=d(3867),R=d(4057),E=d(5131);function h(f){(0,E.Z)(1,arguments);var y=(0,R.Z)(f);return y.setSeconds(0,0),y}var B=d(6613),t=d(3592),P=d(8945),N=d(9717),W=d(8069),z=d(9735),X=d(5012),k=d(5269),L=d(3981),b=d(8482),U=d(7752),A=d(9680),F=d(8267),D=d(1036),J=d(2157);const q=["select"];function ee(f,y){if(1&f&&(s.TgZ(0,"mat-option",9),s._uU(1),s.qZA()),2&f){const p=y.$implicit;s.Q6J("value",p.id),s.xp6(1),s.hij(" ",p.name," ")}}function j(f,y){if(1&f){const p=s.EpF();s.TgZ(0,"mat-form-field",5),s.TgZ(1,"mat-select",6,7),s.NdJ("valueChange",function(g){return s.CHM(p),s.oxw().setValue(g)}),s.YNc(3,ee,2,2,"mat-option",8),s.qZA(),s.qZA()}if(2&f){const p=s.oxw();s.xp6(1),s.Q6J("value",p.time)("disabled",p.disabled),s.xp6(2),s.Q6J("ngForOf",p.time_options)}}const v=["*"];let T=(()=>{class f extends w.KG{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.date=(new Date).valueOf(),this.time=(0,B.Z)(new Date,"HH:mm")}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1)}ngOnChanges(p){(p.no_past_times||p.step)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const p=(this.time||"00:00").split(":"),m=(0,t.Z)(this.date,{hours:+p[0],minutes:+p[1]});return m.getMinutes()%15!=0&&!this._time_options.find(g=>g.id===(0,B.Z)(m,"HH:mm"))&&(this._time_options.push({name:`${(0,B.Z)(m,(0,w.hI)())}`,id:(0,B.Z)(m,"HH:mm")}),this._time_options.sort((g,M)=>`${g.id}`.localeCompare(`${M.id}`))),this._time_options}setValue(p){if(this.time=p,this._onChange){const m=(this.time||"00:00").split(":"),g=h((0,t.Z)(this.date,{hours:+m[0],minutes:+m[1]}));this._onChange(g.valueOf())}}writeValue(p){this.date=p||this.date;let m=h(this.date);m=(0,P.Z)(m,{nearestTo:5}),this.time=(0,B.Z)(m,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step)}setDisabledState(p){this.disabled=p}registerOnChange(p){this._onChange=p}registerOnTouched(p){this._onTouch=p}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(p=>{p||(this.show_select=!1)})))})}generateAvailableTimes(p,m,g=15){const M=new Date;let S=new Date(p);const Y=[];m||!(0,N.Z)(S,M)&&(0,W.Z)(S,M)?S=(0,z.Z)(S):(0,W.Z)(S,M)&&(S=M),S=(0,P.Z)(S,{nearestTo:g});const ne=(0,X.Z)(S);for(;(0,W.Z)(ne,S);)Y.push({name:`${(0,B.Z)(S,(0,w.hI)())}`,id:(0,B.Z)(S,"HH:mm")}),S=(0,k.Z)(S,g);return Y}}return f.\u0275fac=function(){let y;return function(m){return(y||(y=s.n5z(f)))(m||f)}}(),f.\u0275cmp=s.Xpm({type:f,selectors:[["a-time-field"]],viewQuery:function(p,m){if(1&p&&s.Gf(q,5),2&p){let g;s.iGM(g=s.CRH())&&(m.select_field=g.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times"},features:[s._Bn([{provide:l.JU,useExisting:(0,s.Gpc)(()=>f),multi:!0}]),s.qOj,s.TTD],ngContentSelectors:v,decls:8,vars:5,consts:[["appearance","outline",3,"keydown.enter"],["matInput","","type","time",3,"disabled","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",1,"relative","top-1","-right-1",3,"click"],[1,"text-2xl","text-black","text-opacity-50"],["appearance","outline",4,"ngIf"],["appearance","outline"],[3,"value","disabled","valueChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(p,m){1&p&&(s.F$t(),s.TgZ(0,"mat-form-field",0),s.NdJ("keydown.enter",function(){return m.showSelect()}),s.TgZ(1,"input",1),s.NdJ("ngModelChange",function(M){return m.setValue(M)}),s.qZA(),s.TgZ(2,"button",2),s.NdJ("click",function(){return m.showSelect()}),s.TgZ(3,"app-icon",3),s._uU(4," arrow_drop_down "),s.qZA(),s.qZA(),s.TgZ(5,"mat-error"),s.Hsn(6),s.qZA(),s.qZA(),s.YNc(7,j,4,3,"mat-form-field",4)),2&p&&(s.Udp("display",m.show_select?"none":""),s.xp6(1),s.Q6J("disabled",m.disabled)("ngModel",m.time),s.xp6(6),s.Q6J("ngIf",m.show_select))},directives:[L.KE,b.Nt,l.Fj,l.JJ,l.On,U.lW,L.R9,A.o,L.TO,F.O5,D.gD,F.sg,J.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}\n/*# sourceMappingURL=time-field.component.ts-angular-inline--26.css.map*/"]}),f})()},8641:(se,H,d)=>{d.d(H,{d:()=>T});var s=d(2222),l=d(8346),w=d(4008),R=d(8252),E=d(9457),h=d(9820),B=d(8785),t=d(9026),P=d(592),N=d(8377),W=d(3867),z=d(9148),X=d(3981),k=d(8482),L=d(3182),b=d(686),U=d(9680),A=d(8267),F=d(9372),D=d(2157);const J=["input"];function q(f,y){1&f&&s._UZ(0,"mat-spinner",11)}function ee(f,y){if(1&f){const p=s.EpF();s.TgZ(0,"mat-option",12),s.NdJ("click",function(){const M=s.CHM(p).$implicit,S=s.oxw();return S.setValue(M),S.blurInput()}),s.TgZ(1,"div",13),s._uU(2),s.qZA(),s.TgZ(3,"div",14),s._uU(4),s.qZA(),s.qZA()}if(2&f){const p=y.$implicit;s.xp6(2),s.Oqu(p.name),s.xp6(2),s.hij(" ",p.email," ")}}function j(f,y){if(1&f){const p=s.EpF();s.TgZ(0,"mat-option",15),s.TgZ(1,"div",16),s.NdJ("mousedown",function(g){return g.stopPropagation(),g.preventDefault()})("touchstart",function(g){return g.stopPropagation(),g.preventDefault()})("click",function(g){s.CHM(p);const M=s.oxw();return M.setValue(M.search_str),g.stopPropagation(),g.preventDefault()}),s.TgZ(2,"div",17),s._uU(3),s.qZA(),s.qZA(),s.qZA()}if(2&f){const p=s.oxw();s.xp6(3),s.hij(' Add external attendee "',p.search_str,'" ')}}function v(f,y){if(1&f){const p=s.EpF();s.TgZ(0,"mat-option",18),s.NdJ("click",function(){return s.CHM(p),s.oxw().empty_fn()}),s._uU(1),s.qZA()}if(2&f){const p=s.oxw();s.Q6J("disabled",!p.empty_fn),s.xp6(1),s.AsE(" ",p.search_str?"No users found.":""," ",p.error," ")}}let T=(()=>{class f extends W.KG{constructor(){super(...arguments),this.error="",this.query_fn=p=>(0,z.VE)(p),this.search$=new w.xQ,this.search_results$=this.search$.pipe((0,h.b)(400),(0,B.x)(),(0,t.w)(p=>(this.loading=!0,this.options&&this.options.length>0?(0,R.of)(this.options):p.length>=3?this.guests?(0,E.D)([(0,z.VE)(p),(0,z.jf)(p)]):this.query_fn(p):(0,R.of)([]))),(0,P.K)(p=>(0,R.of)([])),(0,N.U)(p=>{this.loading=!1,p=(0,W.xH)(p);const m=(this.search_str||"").toLowerCase();return p.filter(g=>!this.filter||this.filter(g,m))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>{var p,m;return null===(m=null===(p=this._input_el)||void 0===p?void 0:p.nativeElement)||void 0===m?void 0:m.blur()})}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(p=>this.user_list=p))}resetSearchString(){this.timeout("reset",()=>{var p;return this.search_str=(null===(p=this.active_user)||void 0===p?void 0:p.name)||""},100)}setValue(p,m){"string"==typeof p&&p===this.search_str&&(p=new z.n5({name:(this.search_str||m||"").split("@")[0],email:this.search_str||m||""})),p instanceof z.n5&&(this.active_user=p,this._onChange&&this._onChange(p),this.resetSearchString())}writeValue(p){this.active_user=p,this.resetSearchString()}setDisabledState(p){this.disabled=p}registerOnChange(p){this._onChange=p}registerOnTouched(p){this._onTouch=p}}return f.\u0275fac=function(){let y;return function(m){return(y||(y=s.n5z(f)))(m||f)}}(),f.\u0275cmp=s.Xpm({type:f,selectors:[["a-user-search-field"]],viewQuery:function(p,m){if(1&p&&s.Gf(J,5,s.SBq),2&p){let g;s.iGM(g=s.CRH())&&(m._input_el=g.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[s._Bn([{provide:l.JU,useExisting:(0,s.Gpc)(()=>f),multi:!0}]),s.qOj],decls:12,vars:8,consts:[["form-field","",1,"user-search-field","text-black"],["overlay","","appearance","outline"],["matInput","","keyboard","","name","user-search",3,"ngModel","disabled","placeholder","matAutocomplete","ngModelChange","keyup.enter","blur","focus"],["input",""],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","text-black","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"disabled","click"]],template:function(p,m){if(1&p&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-form-field",1),s.TgZ(2,"input",2,3),s.NdJ("ngModelChange",function(M){return m.search_str=M})("ngModelChange",function(M){return m.search$.next(M||"")})("keyup.enter",function(){return m.validate&&m.validate(m.search_str)?m.setValue(m.search_str):""})("blur",function(){return m.resetSearchString()})("focus",function(){return m.cancelReset()}),s.qZA(),s.TgZ(4,"app-icon",4),s._uU(5,"search"),s.qZA(),s.YNc(6,q,1,0,"mat-spinner",5),s.qZA(),s.TgZ(7,"mat-autocomplete",6,7),s.NdJ("optionSelected",function(M){return m.setValue(M.option.value)}),s.YNc(9,ee,5,2,"mat-option",8),s.YNc(10,j,4,1,"mat-option",9),s.YNc(11,v,2,3,"mat-option",10),s.qZA(),s.qZA()),2&p){const g=s.MAs(8);s.xp6(2),s.Q6J("ngModel",m.search_str)("disabled",m.disabled)("placeholder",m.placeholder||"Search for user...")("matAutocomplete",g),s.xp6(4),s.Q6J("ngIf",m.loading),s.xp6(3),s.Q6J("ngForOf",m.user_list),s.xp6(1),s.Q6J("ngIf",m.search_str&&m.validate&&m.validate(m.search_str)),s.xp6(1),s.Q6J("ngIf",!(null!=m.user_list&&m.user_list.length)&&(m.search_str||m.error))}},directives:[X.KE,k.Nt,L.U,l.Fj,b.ZL,l.JJ,l.On,U.o,X.qo,A.O5,b.XC,A.sg,F.$g,X.R9,D.ey],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}\n/*# sourceMappingURL=user-search-field.component.ts-angular-inline--28.css.map*/"]}),f})()},9148:(se,H,d)=>{d.d(H,{Y:()=>p,rW:()=>N,U9:()=>h.U9,n5:()=>E.n5,en:()=>h.en,n2:()=>de,jf:()=>ne,VE:()=>he,pP:()=>le,w0:()=>ge}),d(9356);var l=d(2222),w=d(6298),R=d(3867),E=d(5302),h=d(4655);function B(C,x){if(1&C&&(l.TgZ(0,"main",6),l._UZ(1,"user-form",7),l.qZA()),2&C){const Z=l.oxw();l.xp6(1),l.Q6J("form",Z.form)}}function t(C,x){if(1&C){const Z=l.EpF();l.TgZ(0,"footer",8),l.TgZ(1,"button",9),l._uU(2,"Cancel"),l.qZA(),l.TgZ(3,"button",10),l.NdJ("click",function(){return l.CHM(Z),l.oxw().saveChanges()}),l._uU(4,"Save"),l.qZA(),l.qZA()}}function P(C,x){1&C&&(l.TgZ(0,"main",11),l._UZ(1,"mat-spinner",12),l.TgZ(2,"p"),l._uU(3,"Saving attendee..."),l.qZA(),l.qZA())}let N=(()=>{class C extends R.KG{constructor(Z){super(),this._data=Z,this.event=new l.vpe,this.loading=!1}ngOnInit(){this.user=this._data.user||{},this.form=(0,h.HO)(this.user)}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const Z=new E.n5(Object.assign(Object.assign({},this.form.value),{type:"external"}));this.event.emit({reason:"done",metadata:Z})}}}return C.\u0275fac=function(Z){return new(Z||C)(l.Y36(w.WI))},C.\u0275cmp=l.Xpm({type:C,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[l.qOj],decls:11,vars:4,consts:[["mat-dialog-title","",1,"heading"],[1,"flex-1"],["mat-icon-button","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-gray-300 space-x-2",4,"ngIf"],["load_state",""],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-gray-300","space-x-2"],["mat-button","","mat-dialog-close","",1,"inverse"],["mat-button","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(Z,G){if(1&Z&&(l.TgZ(0,"header"),l.TgZ(1,"div",0),l._uU(2),l.qZA(),l._UZ(3,"div",1),l.TgZ(4,"button",2),l.TgZ(5,"app-icon"),l._uU(6,"close"),l.qZA(),l.qZA(),l.qZA(),l.YNc(7,B,2,1,"main",3),l.YNc(8,t,5,0,"footer",4),l.YNc(9,P,4,0,"ng-template",null,5,l.W1O)),2&Z){const _e=l.MAs(10);l.xp6(2),l.hij(" ",null!=G.user&&G.user.id?"Edit":"Add"," External Attendee "),l.xp6(5),l.Q6J("ngIf",!G.loading)("ngIfElse",_e),l.xp6(1),l.Q6J("ngIf",!G.loading)}},styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}\n/*# sourceMappingURL=new-user-modal.component.ts-angular-inline--17.css.map*/"]}),C})();var W=d(8267),z=d(8346),X=d(3981),k=d(8482),L=d(9188);function b(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",4),l._uU(2," Name"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",6),l.TgZ(8,"mat-error"),l._uU(9,"Name is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const Z=l.oxw(2);l.xp6(1),l.ekj("error",Z.hasError("name"))}}function U(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",7),l._uU(2," Email"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",8),l.TgZ(8,"mat-error"),l._uU(9,"A valid email is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const Z=l.oxw(2);l.xp6(1),l.ekj("error",Z.hasError("email"))}}function A(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",9),l._uU(2," Organisation"),l.TgZ(3,"span"),l._uU(4,"*"),l.qZA(),l._uU(5,": "),l.qZA(),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",10),l.TgZ(8,"mat-error"),l._uU(9,"Organisation is required"),l.qZA(),l.qZA(),l.qZA()),2&C){const Z=l.oxw(2);l.xp6(1),l.ekj("error",Z.hasError("organisation"))}}function F(C,x){if(1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"label",11),l._uU(2," Phone: "),l.qZA(),l.TgZ(3,"mat-form-field",5),l._UZ(4,"input",12),l.TgZ(5,"mat-error"),l._uU(6,"Phone format is invalid"),l.qZA(),l.qZA(),l.qZA()),2&C){const Z=l.oxw(2);l.xp6(1),l.ekj("error",Z.hasError("phone"))}}function D(C,x){1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"mat-checkbox",13),l._uU(2," Assistance required "),l.qZA(),l.qZA())}function J(C,x){1&C&&(l.TgZ(0,"div",3),l.TgZ(1,"mat-checkbox",14),l._uU(2," Visit expected "),l.qZA(),l.qZA())}function q(C,x){if(1&C&&(l.TgZ(0,"form",1),l.YNc(1,b,10,2,"div",2),l.YNc(2,U,10,2,"div",2),l.YNc(3,A,10,2,"div",2),l.YNc(4,F,7,2,"div",2),l.YNc(5,D,3,0,"div",2),l.YNc(6,J,3,0,"div",2),l.qZA()),2&C){const Z=l.oxw();l.Q6J("formGroup",Z.form),l.xp6(1),l.Q6J("ngIf",Z.form.controls.name),l.xp6(1),l.Q6J("ngIf",Z.form.controls.email),l.xp6(1),l.Q6J("ngIf",Z.form.controls.organisation),l.xp6(1),l.Q6J("ngIf",Z.form.controls.phone),l.xp6(1),l.Q6J("ngIf",Z.form.controls.assistance_required),l.xp6(1),l.Q6J("ngIf",Z.form.controls.visit_expected)}}let ee=(()=>{class C{hasError(Z){var G;const{invalid:_e,touched:Ze}=(null===(G=this.form)||void 0===G?void 0:G.controls[Z])||{};return _e&&Ze}}return C.\u0275fac=function(Z){return new(Z||C)},C.\u0275cmp=l.Xpm({type:C,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","",3,"formGroup",4,"ngIf"],["user-form","",3,"formGroup"],["class","field",4,"ngIf"],[1,"field"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","Organisation","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(Z,G){1&Z&&l.YNc(0,q,7,7,"form",0),2&Z&&l.Q6J("ngIf",G.form)},directives:[W.O5,z._Y,z.JL,z.sg,X.KE,k.Nt,z.Fj,z.JJ,z.u,X.TO,L.oG],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{width:100%}\n/*# sourceMappingURL=user-form.component.ts-angular-inline--18.css.map*/"]}),C})();var j=d(7752),v=d(9680),T=d(9372);l.B6R(N,[w.uh,j.lW,w.ZT,v.o,W.O5,ee,T.$g],[]);var y=d(373);class p{constructor(x={}){this.type=x.type||x.location||"other",this.position=x.position||x.map_id||{x:x.x/x.map_width||0,y:x.y/x.map_height||0},this.variance=x.variance||0,this.last_seen=x.last_seen||(0,y.Z)(new Date),this.level=x.level,this.building=x.building,this.at_location=!!x.at_location,this.coordinates_from=x.coordinates_from||"top-left"}}var m=d(8222),g=d(8377),M=d(4115),S=d(1378);const Y="/api/staff/v1/guests";function ne(C){const x=(0,S.U)({q:C});return(0,m.U2M)(`${Y}${C?"?"+x:""}`).pipe((0,g.U)(Z=>Z.map(G=>new E.OO(G))))}function le(C){return(0,m.U2M)(`${Y}/${encodeURIComponent(C)}`).pipe((0,g.U)(x=>new E.OO(x)))}function de(C){return(0,m.U2M)(`${Y}/${encodeURIComponent(C)}/meetings`).pipe((0,g.U)(x=>x.map(Z=>new M.y(Z))))}const ae="/api/staff/v1/people";function he(C){const x=(0,S.U)({q:C});return(0,m.U2M)(`${ae}${C?"?"+x:""}`).pipe((0,g.U)(Z=>Z.map(G=>new E.mO(G))))}function ge(C){return(0,m.U2M)(`${ae}/${encodeURIComponent(C)}`).pipe((0,g.U)(x=>new E.mO(x)))}},1322:(se,H,d)=>{d.d(H,{Z:()=>R});var s=d(9290),l=d(4057),w=d(5131);function R(E,h){(0,w.Z)(2,arguments);var B=(0,l.Z)(E),t=(0,s.Z)(h);return B.setHours(t),B}},7663:(se,H)=>{!function(){function l(w,R){this._queue=[],this._ready=!0;var E=this;Worker?(E._hashWorker=new Worker(w,R),E._hashWorker.onmessage=E._recievedMessage.bind(E),E._hashWorker.onerror=function(h){E._ready=!1,console.error("Hash worker failure",h)}):(E._ready=!1,console.error("Web Workers are not supported in this browser"))}l.prototype.hash=function(w){var R=this;return new Promise(function(h,B){R._queue.push({blob:w,resolve:h,reject:B}),R._processNext()})},l.prototype.terminate=function(){this._ready=!1,this._hashWorker.terminate()},l.prototype._processNext=function(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))},l.prototype._recievedMessage=function(w){var R=w.data;R.success?this._processing.resolve(R.result):this._processing.reject(R.result),this._processing=null,this._processNext()}}()}}]);
//# sourceMappingURL=default-libs_events_src_index_ts-libs_form-fields_src_index_ts.js.map