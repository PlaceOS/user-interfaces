{"version":3,"file":"apps_concierge_src_app_asset-manager_asset-manager_module_ts.js","mappings":"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","names":["CdkStepperModule","ɵfac","t","ɵmod","i0","type","ɵinj","imports","BidiModule","MatStepperIntl","constructor","this","changes","Subject","optionalLabel","completedLabel","editableLabel","ɵprov","token","factory","providedIn","MAT_STEPPER_INTL_PROVIDER","provide","deps","Optional","SkipSelf","useFactory","MAT_STEPPER_INTL_PROVIDER_FACTORY","parentIntl","MatStepperModule","providers","ErrorStateMatcher","MatCommonModule","CommonModule","PortalModule","MatIconModule","MatRippleModule","_r5","category_r1","$implicit","ctx_r3","edit","ctx_r6","remove","name","AssetCategoryManagementModalComponent_ng_container_12_div_1_Template","id","AssetCategoryManagementModalComponent","_data","_dialog_ref","_this","changed","EventEmitter","list","_ref","_asyncToGenerator","category","deleteAssetCategory","toPromise","emit","_x","apply","arguments","MAT_DIALOG_DATA","i1","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","AssetCategoryManagementModalComponent_ng_container_12_Template","category_r6","AssetCategoryFormComponent_main_4_mat_option_16_Template","ctx_r1","form","tmp_1_0","categories","length","_r8","ctx_r7","save","AssetCategoryFormComponent","_state","loading","generateAssetCategoryForm","pipe","map","filter","_","parent_category_id","value","patchValue","valid","disableClose","data","item","saveAssetCategory","catch","e","notifyError","message","reset","close","i2","AssetCategoryFormComponent_button_3_Template","AssetCategoryFormComponent_main_4_Template","AssetCategoryFormComponent_footer_5_Template","AssetCategoryFormComponent_ng_template_6_Template","_r3","AssetManagerStateService","AsyncHandler","_form","is_new_ui","location","hash","includes","pathname","base_route","_spaces","_org","_dialog","super","_options","BehaviorSubject","view","_change","_poll","_extra_assets","generateAssetForm","_loading","asObservable","options","extra_assets","products","combineLatest","active_building","switchMap","next","getGroupsWithAssets","zone_id","building","tap","shareReplay","purchase_orders","queryAssetPurchaseOrders","requests","initialised","debounceTime","date","bld","queryBookings","zones","period_start","getUnixTime","startOfDay","Date","now","period_end","endOfDay","b","Booking","extension_data","space","find","space_id","filtered_requests","search","toLowerCase","i","user_name","title","location_name","assets","status","tracking","queryAssetCategories","AssetCategory","active_product","active_item","distinctUntilChanged","showGroupFull","active_product_requests","asset","asset_id","filtered_products","product_mapping","category_list","_count","forEach","category_id","unique","group","startPolling","delay","interval","stopPolling","clearInterval","resetForm","manageCategories","ref","open","editCategory","subscription","componentInstance","subscribe","afterClosed","unsub","result","setExtraAssets","setOptions","getValue","postChange","timeout","setStatus","_this2","rejectBooking","approveBooking","setTracking","_this3","updateBooking","deleteActiveProduct","_this4","take","deleteAssetGroup","notifySuccess","postForm","_this5","other_data","drop_keys","key","cleanObject","undefined","saveAsset","editConfig","_this6","config","getConfig","items","types","flatten","AttachedResourceConfigModalComponent","resource_name","require_notes","details","Promise","race","event","first","reason","updateConfig","metadata","then","rules","showMetadata","Array","updateMetadata","description","i3","Yz7","_c0","ctx_r0","_c1","$event","_r6","ctx_r5","tmp_0_0","ctx_r2","_r10","ctx_r9","AssetManagerTopbarComponent","active","o","inputs","AssetManagerTopbarComponent_a_1_Template","AssetManagerTopbarComponent_a_2_Template","AssetManagerTopbarComponent_mat_button_toggle_group_3_Template","AssetManagerTopbarComponent_button_5_Template","AssetManagerTopbarComponent_button_6_Template","tmp_5_0","AssetListingComponent_nav_2_a_1_Template","ctx_r4","is_new","_c2","AssetListingComponent","_router","ngOnInit","url","events","NavigationEnd","features","AssetListingComponent_nav_2_Template","AssetManagerComponent","attrs","SplitJoinPipe","transform","split","join","Yjl","pure","level","selected","zone","display_name","map_id","selected_feature","data_r8","stopPropagation","row_r9","_r13","row","ctx_r12","ctx_r14","ctx_r15","AssetLocationModalComponent","updateFeatures","_space","location_id","content","MapPinComponent","z_index","state","levelWithID","AssetLocationModalComponent_div_16_Template","AssetLocationModalComponent_i_map_17_Template","AssetLocationModalComponent_ng_template_18_Template","AssetLocationModalComponent_ng_template_20_Template","AssetLocationModalComponent_ng_template_22_Template","_c3","_c4","_c5","_r4","_r2","ctx_r11","row_r18","_r20","ctx_r19","removeAsset","row_r21","_r23","ctx_r22","removePurchaseOrder","ctx_r17","AssetViewComponent_div_0_ng_container_48_Template","AssetViewComponent_div_0_ng_template_50_Template","_r25","ctx_r24","viewLocations","AssetViewComponent_div_0_ng_template_80_Template","AssetViewComponent_div_0_ng_template_102_Template","tmp_2_0","tmp_3_0","images","tmp_4_0","_c6","tmp_6_0","tmp_8_0","_r12","asset_list","tmp_10_0","tmp_11_0","tmp_12_0","_c7","tmp_14_0","_c8","tmp_16_0","_c9","_c10","_c11","_c12","_r14","tmp_22_0","brand","tmp_24_0","tmp_25_0","_c13","_c14","_c15","_c16","_r16","AssetViewComponent_ng_template_4_span_2_Template","data_r26","_r32","ctx_r31","closeTooltip","ctx_r33","deleteAsset","AssetViewComponent_ng_template_6_div_0_Template","AssetViewComponent_ng_template_6_ng_template_1_Template","deleting","_r29","AssetViewComponent","navigate","_tooltip_el","code","currency_code","_route","type_id","req","addMinutes","duration","valueOf","paramMap","params","has","get","clearTimeout","resp","openConfirmModal","confirm_text","icon","removeAssetRequests","setTimeout","deleteAssetPurchaseOrder","i4","viewQuery","CustomTooltipComponent","AssetViewComponent_div_0_Template","AssetViewComponent_ng_template_2_Template","AssetViewComponent_ng_template_4_Template","AssetViewComponent_ng_template_6_Template","AssetViewComponent_ng_template_8_Template","AssetViewComponent_ng_template_10_Template","_r1","DurationFormatPipe","short","formatDuration","days","Math","floor","hours","minutes","replace","request","requestChange","ctx_r8","ctx_r10","user_email","user_phone","user_company","time_format","AssetRequestDetailsComponent","_settings","outputs","AssetRequestDetailsComponent_div_0_Template","row_r14","asset_r17","amount","AssetRequestListComponent_ng_template_13_div_1_Template","row_r15","data_r19","row_r20","ctx_r26","_r22","row_r27","_r31","ctx_r30","ctx_r32","_r28","ctx_r13","AssetRequestListComponent","filters","setDate","AssetRequestListComponent_ng_template_11_Template","AssetRequestListComponent_ng_template_13_Template","AssetRequestListComponent_ng_template_15_Template","AssetRequestListComponent_ng_template_17_Template","AssetRequestListComponent_ng_template_19_Template","AssetRequestListComponent_ng_template_21_Template","AssetRequestListComponent_ng_template_23_Template","_r0","tmp_7_0","asset_r10","asset_count","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_img_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_ng_template_3_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_div_8_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_Template","group_r5","asset_r19","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_img_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_ng_template_3_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_div_8_Template","ctx_r18","_r21","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_Template","AssetItemListComponent_div_0_ng_container_1_div_1_Template","AssetItemListComponent_div_0_ng_container_1_Template","ctx_r28","AssetItemListComponent_ng_template_5_a_4_Template","AssetItemListComponent","AssetItemListComponent_div_0_Template","AssetItemListComponent_mat_progress_bar_3_Template","AssetItemListComponent_ng_template_5_Template","action_template","AssetPurchaseOrderFormComponent_div_1_h3_42_Template","AssetPurchaseOrderFormComponent_div_1_custom_table_43_Template","from","product_id","AssetPurchaseOrderFormComponent","generateAssetPurchaseOrderForm","_id","addYears","queryAssets","order_id","groups","queryAssetGroups","limit","asset_type_id","queryParamMap","_ref2","showAssetPurchaseOrder","order_number","purchase_order_number","purchase_date","expected_service_end_date","expected_service_start_date","_x2","saveAssetPurchaseOrder","AssetPurchaseOrderFormComponent_div_1_Template","AssetPurchaseOrderFormComponent_ng_template_2_Template","order_r5","invoice_number","AssetFormComponent_div_1_mat_option_30_Template","AssetFormComponent_div_1_mat_option_32_Template","_r7","product","AssetFormComponent","showAsset","showAssetGroup","getInvalidFields","d","AssetFormComponent_div_1_Template","AssetFormComponent_ng_template_2_Template","category_r4","current_category","AssetGroupFormComponent_div_1_mat_option_21_Template","newCategory","AssetGroupFormComponent","generateAssetGroupForm","new_category","saveAssetGroup","AssetGroupFormComponent_div_1_Template","AssetGroupFormComponent_ng_template_2_Template","AssetPurchaseOrderListComponent_ng_template_4_span_0_Template","data_r2","AssetPurchaseOrderListComponent","editOrder","order","queryParams","AssetPurchaseOrderListComponent_ng_template_4_Template","count","AssetBulkFormComponent_div_1_mat_option_28_Template","AssetBulkFormComponent_div_1_mat_option_30_Template","AssetBulkFormComponent","addAssetsInBulk","fill","AssetBulkFormComponent_div_1_Template","AssetBulkFormComponent_ng_template_2_Template","children","path","component","redirectTo","ROUTES","NewAssetManagerComponent","AppAssetManangerModule","oAB","cJS","UIModule","ComponentsModule","MatButtonToggleModule","MatProgressBarModule","MatTabsModule","RouterModule"],"sourceRoot":"webpack:///","sources":["./node_modules/@angular/cdk/fesm2022/stepper.mjs","./node_modules/@angular/material/fesm2022/stepper.mjs","./apps/concierge/src/app/asset-manager/asset-category-management-modal.component.ts","./apps/concierge/src/app/asset-manager/asset-category-form.component.ts","./apps/concierge/src/app/asset-manager/asset-manager-state.service.ts","./apps/concierge/src/app/asset-manager/asset-manager-topbar.component.ts","./apps/concierge/src/app/asset-manager/asset-listing.component.ts","./apps/concierge/src/app/asset-manager/asset-manager.component.ts","./apps/concierge/src/app/asset-manager/split-join.pipe.ts","./apps/concierge/src/app/asset-manager/asset-location-modal.component.ts","./apps/concierge/src/app/asset-manager/asset-view.component.ts","./apps/concierge/src/app/asset-manager/duration.pipe.ts","./apps/concierge/src/app/asset-manager/asset-request-details.component.ts","./apps/concierge/src/app/asset-manager/asset-request-list.component.ts","./apps/concierge/src/app/asset-manager/asset-item-list.component.ts","./apps/concierge/src/app/asset-manager/asset-purchase-order-form.component.ts","./apps/concierge/src/app/asset-manager/asset-form.component.ts","./apps/concierge/src/app/asset-manager/asset-group-form.component.ts","./apps/concierge/src/app/asset-manager/asset-purchase-order-list.component.ts","./apps/concierge/src/app/asset-manager/asset-bulk-form.component.ts","./apps/concierge/src/app/asset-manager/asset-manager.module.ts","./apps/concierge/src/app/asset-manager/new-asset-manager.component.ts"],"sourcesContent":["import { FocusKeyManager } from '@angular/cdk/a11y';\nimport * as i1 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { hasModifierKey, SPACE, ENTER } from '@angular/cdk/keycodes';\nimport * as i0 from '@angular/core';\nimport { Directive, InjectionToken, EventEmitter, forwardRef, TemplateRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Optional, ContentChild, ViewChild, Input, Output, QueryList, ContentChildren, NgModule } from '@angular/core';\nimport { _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { Subject, of } from 'rxjs';\nimport { startWith, takeUntil } from 'rxjs/operators';\n\nclass CdkStepHeader {\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n    /** Focuses the step header. */\n    focus() {\n        this._elementRef.nativeElement.focus();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepHeader, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepHeader, selector: \"[cdkStepHeader]\", host: { attributes: { \"role\": \"tab\" } }, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepHeader, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepHeader]',\n                    host: {\n                        'role': 'tab',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nclass CdkStepLabel {\n    constructor(/** @docs-private */ template) {\n        this.template = template;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepLabel, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepLabel, selector: \"[cdkStepLabel]\", ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepLabel]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; } });\n\n/** Used to generate unique ID for each stepper component. */\nlet nextId = 0;\n/** Change event emitted on selection changes. */\nclass StepperSelectionEvent {\n}\n/** Enum to represent the different states of the steps. */\nconst STEP_STATE = {\n    NUMBER: 'number',\n    EDIT: 'edit',\n    DONE: 'done',\n    ERROR: 'error',\n};\n/** InjectionToken that can be used to specify the global stepper options. */\nconst STEPPER_GLOBAL_OPTIONS = new InjectionToken('STEPPER_GLOBAL_OPTIONS');\nclass CdkStep {\n    /** Whether the user can return to this step once it has been marked as completed. */\n    get editable() {\n        return this._editable;\n    }\n    set editable(value) {\n        this._editable = coerceBooleanProperty(value);\n    }\n    /** Whether the completion of step is optional. */\n    get optional() {\n        return this._optional;\n    }\n    set optional(value) {\n        this._optional = coerceBooleanProperty(value);\n    }\n    /** Whether step is marked as completed. */\n    get completed() {\n        return this._completedOverride == null ? this._getDefaultCompleted() : this._completedOverride;\n    }\n    set completed(value) {\n        this._completedOverride = coerceBooleanProperty(value);\n    }\n    _getDefaultCompleted() {\n        return this.stepControl ? this.stepControl.valid && this.interacted : this.interacted;\n    }\n    /** Whether step has an error. */\n    get hasError() {\n        return this._customError == null ? this._getDefaultError() : this._customError;\n    }\n    set hasError(value) {\n        this._customError = coerceBooleanProperty(value);\n    }\n    _getDefaultError() {\n        return this.stepControl && this.stepControl.invalid && this.interacted;\n    }\n    constructor(_stepper, stepperOptions) {\n        this._stepper = _stepper;\n        /** Whether user has attempted to move away from the step. */\n        this.interacted = false;\n        /** Emits when the user has attempted to move away from the step. */\n        this.interactedStream = new EventEmitter();\n        this._editable = true;\n        this._optional = false;\n        this._completedOverride = null;\n        this._customError = null;\n        this._stepperOptions = stepperOptions ? stepperOptions : {};\n        this._displayDefaultIndicatorType = this._stepperOptions.displayDefaultIndicatorType !== false;\n    }\n    /** Selects this step component. */\n    select() {\n        this._stepper.selected = this;\n    }\n    /** Resets the step to its initial state. Note that this includes resetting form data. */\n    reset() {\n        this.interacted = false;\n        if (this._completedOverride != null) {\n            this._completedOverride = false;\n        }\n        if (this._customError != null) {\n            this._customError = false;\n        }\n        if (this.stepControl) {\n            this.stepControl.reset();\n        }\n    }\n    ngOnChanges() {\n        // Since basically all inputs of the MatStep get proxied through the view down to the\n        // underlying MatStepHeader, we have to make sure that change detection runs correctly.\n        this._stepper._stateChanged();\n    }\n    _markAsInteracted() {\n        if (!this.interacted) {\n            this.interacted = true;\n            this.interactedStream.emit(this);\n        }\n    }\n    /** Determines whether the error state can be shown. */\n    _showError() {\n        // We want to show the error state either if the user opted into/out of it using the\n        // global options, or if they've explicitly set it through the `hasError` input.\n        return this._stepperOptions.showError ?? this._customError != null;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStep, deps: [{ token: forwardRef(() => CdkStepper) }, { token: STEPPER_GLOBAL_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStep, selector: \"cdk-step\", inputs: { stepControl: \"stepControl\", label: \"label\", errorMessage: \"errorMessage\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], state: \"state\", editable: \"editable\", optional: \"optional\", completed: \"completed\", hasError: \"hasError\" }, outputs: { interactedStream: \"interacted\" }, queries: [{ propertyName: \"stepLabel\", first: true, predicate: CdkStepLabel, descendants: true }], viewQueries: [{ propertyName: \"content\", first: true, predicate: TemplateRef, descendants: true, static: true }], exportAs: [\"cdkStep\"], usesOnChanges: true, ngImport: i0, template: '<ng-template><ng-content></ng-content></ng-template>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStep, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cdk-step',\n                    exportAs: 'cdkStep',\n                    template: '<ng-template><ng-content></ng-content></ng-template>',\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => CdkStepper)]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STEPPER_GLOBAL_OPTIONS]\n                }] }]; }, propDecorators: { stepLabel: [{\n                type: ContentChild,\n                args: [CdkStepLabel]\n            }], content: [{\n                type: ViewChild,\n                args: [TemplateRef, { static: true }]\n            }], stepControl: [{\n                type: Input\n            }], interactedStream: [{\n                type: Output,\n                args: ['interacted']\n            }], label: [{\n                type: Input\n            }], errorMessage: [{\n                type: Input\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], state: [{\n                type: Input\n            }], editable: [{\n                type: Input\n            }], optional: [{\n                type: Input\n            }], completed: [{\n                type: Input\n            }], hasError: [{\n                type: Input\n            }] } });\nclass CdkStepper {\n    /** Whether the validity of previous steps should be checked or not. */\n    get linear() {\n        return this._linear;\n    }\n    set linear(value) {\n        this._linear = coerceBooleanProperty(value);\n    }\n    /** The index of the selected step. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(index) {\n        const newIndex = coerceNumberProperty(index);\n        if (this.steps && this._steps) {\n            // Ensure that the index can't be out of bounds.\n            if (!this._isValidIndex(newIndex) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throw Error('cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.');\n            }\n            this.selected?._markAsInteracted();\n            if (this._selectedIndex !== newIndex &&\n                !this._anyControlsInvalidOrPending(newIndex) &&\n                (newIndex >= this._selectedIndex || this.steps.toArray()[newIndex].editable)) {\n                this._updateSelectedItemIndex(newIndex);\n            }\n        }\n        else {\n            this._selectedIndex = newIndex;\n        }\n    }\n    /** The step that is selected. */\n    get selected() {\n        return this.steps ? this.steps.toArray()[this.selectedIndex] : undefined;\n    }\n    set selected(step) {\n        this.selectedIndex = step && this.steps ? this.steps.toArray().indexOf(step) : -1;\n    }\n    /** Orientation of the stepper. */\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        // This is a protected method so that `MatStepper` can hook into it.\n        this._orientation = value;\n        if (this._keyManager) {\n            this._keyManager.withVerticalOrientation(value === 'vertical');\n        }\n    }\n    constructor(_dir, _changeDetectorRef, _elementRef) {\n        this._dir = _dir;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._elementRef = _elementRef;\n        /** Emits when the component is destroyed. */\n        this._destroyed = new Subject();\n        /** Steps that belong to the current stepper, excluding ones from nested steppers. */\n        this.steps = new QueryList();\n        /** List of step headers sorted based on their DOM order. */\n        this._sortedHeaders = new QueryList();\n        this._linear = false;\n        this._selectedIndex = 0;\n        /** Event emitted when the selected step has changed. */\n        this.selectionChange = new EventEmitter();\n        this._orientation = 'horizontal';\n        this._groupId = nextId++;\n    }\n    ngAfterContentInit() {\n        this._steps.changes\n            .pipe(startWith(this._steps), takeUntil(this._destroyed))\n            .subscribe((steps) => {\n            this.steps.reset(steps.filter(step => step._stepper === this));\n            this.steps.notifyOnChanges();\n        });\n    }\n    ngAfterViewInit() {\n        // If the step headers are defined outside of the `ngFor` that renders the steps, like in the\n        // Material stepper, they won't appear in the `QueryList` in the same order as they're\n        // rendered in the DOM which will lead to incorrect keyboard navigation. We need to sort\n        // them manually to ensure that they're correct. Alternatively, we can change the Material\n        // template to inline the headers in the `ngFor`, but that'll result in a lot of\n        // code duplication. See #23539.\n        this._stepHeader.changes\n            .pipe(startWith(this._stepHeader), takeUntil(this._destroyed))\n            .subscribe((headers) => {\n            this._sortedHeaders.reset(headers.toArray().sort((a, b) => {\n                const documentPosition = a._elementRef.nativeElement.compareDocumentPosition(b._elementRef.nativeElement);\n                // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n                // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n                // tslint:disable-next-line:no-bitwise\n                return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n            }));\n            this._sortedHeaders.notifyOnChanges();\n        });\n        // Note that while the step headers are content children by default, any components that\n        // extend this one might have them as view children. We initialize the keyboard handling in\n        // AfterViewInit so we're guaranteed for both view and content children to be defined.\n        this._keyManager = new FocusKeyManager(this._sortedHeaders)\n            .withWrap()\n            .withHomeAndEnd()\n            .withVerticalOrientation(this._orientation === 'vertical');\n        (this._dir ? this._dir.change : of())\n            .pipe(startWith(this._layoutDirection()), takeUntil(this._destroyed))\n            .subscribe(direction => this._keyManager.withHorizontalOrientation(direction));\n        this._keyManager.updateActiveItem(this._selectedIndex);\n        // No need to `takeUntil` here, because we're the ones destroying `steps`.\n        this.steps.changes.subscribe(() => {\n            if (!this.selected) {\n                this._selectedIndex = Math.max(this._selectedIndex - 1, 0);\n            }\n        });\n        // The logic which asserts that the selected index is within bounds doesn't run before the\n        // steps are initialized, because we don't how many steps there are yet so we may have an\n        // invalid index on init. If that's the case, auto-correct to the default so we don't throw.\n        if (!this._isValidIndex(this._selectedIndex)) {\n            this._selectedIndex = 0;\n        }\n    }\n    ngOnDestroy() {\n        this._keyManager?.destroy();\n        this.steps.destroy();\n        this._sortedHeaders.destroy();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** Selects and focuses the next step in list. */\n    next() {\n        this.selectedIndex = Math.min(this._selectedIndex + 1, this.steps.length - 1);\n    }\n    /** Selects and focuses the previous step in list. */\n    previous() {\n        this.selectedIndex = Math.max(this._selectedIndex - 1, 0);\n    }\n    /** Resets the stepper to its initial state. Note that this includes clearing form data. */\n    reset() {\n        this._updateSelectedItemIndex(0);\n        this.steps.forEach(step => step.reset());\n        this._stateChanged();\n    }\n    /** Returns a unique id for each step label element. */\n    _getStepLabelId(i) {\n        return `cdk-step-label-${this._groupId}-${i}`;\n    }\n    /** Returns unique id for each step content element. */\n    _getStepContentId(i) {\n        return `cdk-step-content-${this._groupId}-${i}`;\n    }\n    /** Marks the component to be change detected. */\n    _stateChanged() {\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Returns position state of the step with the given index. */\n    _getAnimationDirection(index) {\n        const position = index - this._selectedIndex;\n        if (position < 0) {\n            return this._layoutDirection() === 'rtl' ? 'next' : 'previous';\n        }\n        else if (position > 0) {\n            return this._layoutDirection() === 'rtl' ? 'previous' : 'next';\n        }\n        return 'current';\n    }\n    /** Returns the type of icon to be displayed. */\n    _getIndicatorType(index, state = STEP_STATE.NUMBER) {\n        const step = this.steps.toArray()[index];\n        const isCurrentStep = this._isCurrentStep(index);\n        return step._displayDefaultIndicatorType\n            ? this._getDefaultIndicatorLogic(step, isCurrentStep)\n            : this._getGuidelineLogic(step, isCurrentStep, state);\n    }\n    _getDefaultIndicatorLogic(step, isCurrentStep) {\n        if (step._showError() && step.hasError && !isCurrentStep) {\n            return STEP_STATE.ERROR;\n        }\n        else if (!step.completed || isCurrentStep) {\n            return STEP_STATE.NUMBER;\n        }\n        else {\n            return step.editable ? STEP_STATE.EDIT : STEP_STATE.DONE;\n        }\n    }\n    _getGuidelineLogic(step, isCurrentStep, state = STEP_STATE.NUMBER) {\n        if (step._showError() && step.hasError && !isCurrentStep) {\n            return STEP_STATE.ERROR;\n        }\n        else if (step.completed && !isCurrentStep) {\n            return STEP_STATE.DONE;\n        }\n        else if (step.completed && isCurrentStep) {\n            return state;\n        }\n        else if (step.editable && isCurrentStep) {\n            return STEP_STATE.EDIT;\n        }\n        else {\n            return state;\n        }\n    }\n    _isCurrentStep(index) {\n        return this._selectedIndex === index;\n    }\n    /** Returns the index of the currently-focused step header. */\n    _getFocusIndex() {\n        return this._keyManager ? this._keyManager.activeItemIndex : this._selectedIndex;\n    }\n    _updateSelectedItemIndex(newIndex) {\n        const stepsArray = this.steps.toArray();\n        this.selectionChange.emit({\n            selectedIndex: newIndex,\n            previouslySelectedIndex: this._selectedIndex,\n            selectedStep: stepsArray[newIndex],\n            previouslySelectedStep: stepsArray[this._selectedIndex],\n        });\n        // If focus is inside the stepper, move it to the next header, otherwise it may become\n        // lost when the active step content is hidden. We can't be more granular with the check\n        // (e.g. checking whether focus is inside the active step), because we don't have a\n        // reference to the elements that are rendering out the content.\n        this._containsFocus()\n            ? this._keyManager.setActiveItem(newIndex)\n            : this._keyManager.updateActiveItem(newIndex);\n        this._selectedIndex = newIndex;\n        this._stateChanged();\n    }\n    _onKeydown(event) {\n        const hasModifier = hasModifierKey(event);\n        const keyCode = event.keyCode;\n        const manager = this._keyManager;\n        if (manager.activeItemIndex != null &&\n            !hasModifier &&\n            (keyCode === SPACE || keyCode === ENTER)) {\n            this.selectedIndex = manager.activeItemIndex;\n            event.preventDefault();\n        }\n        else {\n            manager.setFocusOrigin('keyboard').onKeydown(event);\n        }\n    }\n    _anyControlsInvalidOrPending(index) {\n        if (this._linear && index >= 0) {\n            return this.steps\n                .toArray()\n                .slice(0, index)\n                .some(step => {\n                const control = step.stepControl;\n                const isIncomplete = control\n                    ? control.invalid || control.pending || !step.interacted\n                    : !step.completed;\n                return isIncomplete && !step.optional && !step._completedOverride;\n            });\n        }\n        return false;\n    }\n    _layoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Checks whether the stepper contains the focused element. */\n    _containsFocus() {\n        const stepperElement = this._elementRef.nativeElement;\n        const focusedElement = _getFocusedElementPierceShadowDom();\n        return stepperElement === focusedElement || stepperElement.contains(focusedElement);\n    }\n    /** Checks whether the passed-in index is a valid step index. */\n    _isValidIndex(index) {\n        return index > -1 && (!this.steps || index < this.steps.length);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepper, deps: [{ token: i1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepper, selector: \"[cdkStepper]\", inputs: { linear: \"linear\", selectedIndex: \"selectedIndex\", selected: \"selected\", orientation: \"orientation\" }, outputs: { selectionChange: \"selectionChange\" }, queries: [{ propertyName: \"_steps\", predicate: CdkStep, descendants: true }, { propertyName: \"_stepHeader\", predicate: CdkStepHeader, descendants: true }], exportAs: [\"cdkStepper\"], ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepper, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepper]',\n                    exportAs: 'cdkStepper',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }]; }, propDecorators: { _steps: [{\n                type: ContentChildren,\n                args: [CdkStep, { descendants: true }]\n            }], _stepHeader: [{\n                type: ContentChildren,\n                args: [CdkStepHeader, { descendants: true }]\n            }], linear: [{\n                type: Input\n            }], selectedIndex: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], selectionChange: [{\n                type: Output\n            }], orientation: [{\n                type: Input\n            }] } });\n\n/** Button that moves to the next step in a stepper workflow. */\nclass CdkStepperNext {\n    constructor(_stepper) {\n        this._stepper = _stepper;\n        /** Type of the next button. Defaults to \"submit\" if not specified. */\n        this.type = 'submit';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperNext, deps: [{ token: CdkStepper }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepperNext, selector: \"button[cdkStepperNext]\", inputs: { type: \"type\" }, host: { listeners: { \"click\": \"_stepper.next()\" }, properties: { \"type\": \"type\" } }, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperNext, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[cdkStepperNext]',\n                    host: {\n                        '[type]': 'type',\n                        '(click)': '_stepper.next()',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper }]; }, propDecorators: { type: [{\n                type: Input\n            }] } });\n/** Button that moves to the previous step in a stepper workflow. */\nclass CdkStepperPrevious {\n    constructor(_stepper) {\n        this._stepper = _stepper;\n        /** Type of the previous button. Defaults to \"button\" if not specified. */\n        this.type = 'button';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperPrevious, deps: [{ token: CdkStepper }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepperPrevious, selector: \"button[cdkStepperPrevious]\", inputs: { type: \"type\" }, host: { listeners: { \"click\": \"_stepper.previous()\" }, properties: { \"type\": \"type\" } }, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperPrevious, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[cdkStepperPrevious]',\n                    host: {\n                        '[type]': 'type',\n                        '(click)': '_stepper.previous()',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper }]; }, propDecorators: { type: [{\n                type: Input\n            }] } });\n\nclass CdkStepperModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, declarations: [CdkStep,\n            CdkStepper,\n            CdkStepHeader,\n            CdkStepLabel,\n            CdkStepperNext,\n            CdkStepperPrevious], imports: [BidiModule], exports: [CdkStep, CdkStepper, CdkStepHeader, CdkStepLabel, CdkStepperNext, CdkStepperPrevious] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, imports: [BidiModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [BidiModule],\n                    exports: [CdkStep, CdkStepper, CdkStepHeader, CdkStepLabel, CdkStepperNext, CdkStepperPrevious],\n                    declarations: [\n                        CdkStep,\n                        CdkStepper,\n                        CdkStepHeader,\n                        CdkStepLabel,\n                        CdkStepperNext,\n                        CdkStepperPrevious,\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CdkStep, CdkStepHeader, CdkStepLabel, CdkStepper, CdkStepperModule, CdkStepperNext, CdkStepperPrevious, STEPPER_GLOBAL_OPTIONS, STEP_STATE, StepperSelectionEvent };\n","import * as i2$1 from '@angular/cdk/portal';\nimport { TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport { CdkStepLabel, CdkStepHeader, CdkStep, STEPPER_GLOBAL_OPTIONS, CdkStepper, CdkStepperNext, CdkStepperPrevious, CdkStepperModule } from '@angular/cdk/stepper';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Directive, Injectable, Optional, SkipSelf, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, forwardRef, Inject, ContentChild, QueryList, EventEmitter, ViewChildren, ContentChildren, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/material/core';\nimport { mixinColor, ErrorStateMatcher, MatCommonModule, MatRippleModule } from '@angular/material/core';\nimport * as i4 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport * as i2 from '@angular/cdk/a11y';\nimport { Subject, Subscription } from 'rxjs';\nimport * as i3$1 from '@angular/cdk/bidi';\nimport { switchMap, map, startWith, takeUntil, distinctUntilChanged } from 'rxjs/operators';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\nclass MatStepLabel extends CdkStepLabel {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepLabel, deps: null, target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepLabel, selector: \"[matStepLabel]\", usesInheritance: true, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matStepLabel]',\n                }]\n        }] });\n\n/** Stepper data that is required for internationalization. */\nclass MatStepperIntl {\n    constructor() {\n        /**\n         * Stream that emits whenever the labels here are changed. Use this to notify\n         * components if the labels have changed after initialization.\n         */\n        this.changes = new Subject();\n        /** Label that is rendered below optional steps. */\n        this.optionalLabel = 'Optional';\n        /** Label that is used to indicate step as completed to screen readers. */\n        this.completedLabel = 'Completed';\n        /** Label that is used to indicate step as editable to screen readers. */\n        this.editableLabel = 'Editable';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n/** @docs-private */\nfunction MAT_STEPPER_INTL_PROVIDER_FACTORY(parentIntl) {\n    return parentIntl || new MatStepperIntl();\n}\n/** @docs-private */\nconst MAT_STEPPER_INTL_PROVIDER = {\n    provide: MatStepperIntl,\n    deps: [[new Optional(), new SkipSelf(), MatStepperIntl]],\n    useFactory: MAT_STEPPER_INTL_PROVIDER_FACTORY,\n};\n\n// Boilerplate for applying mixins to MatStepHeader.\n/** @docs-private */\nconst _MatStepHeaderBase = mixinColor(class MatStepHeaderBase extends CdkStepHeader {\n    constructor(elementRef) {\n        super(elementRef);\n    }\n}, 'primary');\nclass MatStepHeader extends _MatStepHeaderBase {\n    constructor(_intl, _focusMonitor, _elementRef, changeDetectorRef) {\n        super(_elementRef);\n        this._intl = _intl;\n        this._focusMonitor = _focusMonitor;\n        this._intlSubscription = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this._elementRef, true);\n    }\n    ngOnDestroy() {\n        this._intlSubscription.unsubscribe();\n        this._focusMonitor.stopMonitoring(this._elementRef);\n    }\n    /** Focuses the step header. */\n    focus(origin, options) {\n        if (origin) {\n            this._focusMonitor.focusVia(this._elementRef, origin, options);\n        }\n        else {\n            this._elementRef.nativeElement.focus(options);\n        }\n    }\n    /** Returns string label of given step if it is a text label. */\n    _stringLabel() {\n        return this.label instanceof MatStepLabel ? null : this.label;\n    }\n    /** Returns MatStepLabel if the label of given step is a template label. */\n    _templateLabel() {\n        return this.label instanceof MatStepLabel ? this.label : null;\n    }\n    /** Returns the host HTML element. */\n    _getHostElement() {\n        return this._elementRef.nativeElement;\n    }\n    /** Template context variables that are exposed to the `matStepperIcon` instances. */\n    _getIconContext() {\n        return {\n            index: this.index,\n            active: this.active,\n            optional: this.optional,\n        };\n    }\n    _getDefaultTextForState(state) {\n        if (state == 'number') {\n            return `${this.index + 1}`;\n        }\n        if (state == 'edit') {\n            return 'create';\n        }\n        if (state == 'error') {\n            return 'warning';\n        }\n        return state;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepHeader, deps: [{ token: MatStepperIntl }, { token: i2.FocusMonitor }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepHeader, selector: \"mat-step-header\", inputs: { color: \"color\", state: \"state\", label: \"label\", errorMessage: \"errorMessage\", iconOverrides: \"iconOverrides\", index: \"index\", selected: \"selected\", active: \"active\", optional: \"optional\", disableRipple: \"disableRipple\" }, host: { attributes: { \"role\": \"tab\" }, classAttribute: \"mat-step-header\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"mat-step-header-ripple mat-focus-indicator\\\" matRipple\\n     [matRippleTrigger]=\\\"_getHostElement()\\\"\\n     [matRippleDisabled]=\\\"disableRipple\\\"></div>\\n\\n<div class=\\\"mat-step-icon-state-{{state}} mat-step-icon\\\" [class.mat-step-icon-selected]=\\\"selected\\\">\\n  <div class=\\\"mat-step-icon-content\\\" [ngSwitch]=\\\"!!(iconOverrides && iconOverrides[state])\\\">\\n    <ng-container\\n      *ngSwitchCase=\\\"true\\\"\\n      [ngTemplateOutlet]=\\\"iconOverrides[state]\\\"\\n      [ngTemplateOutletContext]=\\\"_getIconContext()\\\"></ng-container>\\n    <ng-container *ngSwitchDefault [ngSwitch]=\\\"state\\\">\\n      <span aria-hidden=\\\"true\\\" *ngSwitchCase=\\\"'number'\\\">{{_getDefaultTextForState(state)}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'done'\\\">{{_intl.completedLabel}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'edit'\\\">{{_intl.editableLabel}}</span>\\n      <mat-icon aria-hidden=\\\"true\\\" *ngSwitchDefault>{{_getDefaultTextForState(state)}}</mat-icon>\\n    </ng-container>\\n  </div>\\n</div>\\n<div class=\\\"mat-step-label\\\"\\n     [class.mat-step-label-active]=\\\"active\\\"\\n     [class.mat-step-label-selected]=\\\"selected\\\"\\n     [class.mat-step-label-error]=\\\"state == 'error'\\\">\\n  <!-- If there is a label template, use it. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_templateLabel()\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"_templateLabel()!.template\\\"></ng-container>\\n  </div>\\n  <!-- If there is no label template, fall back to the text label. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_stringLabel()\\\">{{label}}</div>\\n\\n  <div class=\\\"mat-step-optional\\\" *ngIf=\\\"optional && state != 'error'\\\">{{_intl.optionalLabel}}</div>\\n  <div class=\\\"mat-step-sub-label-error\\\" *ngIf=\\\"state == 'error'\\\">{{errorMessage}}</div>\\n</div>\\n\\n\", styles: [\".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:\\\"\\\"}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"], dependencies: [{ kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: i3.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { kind: \"component\", type: i4.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: i1.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepHeader, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-step-header', inputs: ['color'], host: {\n                        'class': 'mat-step-header',\n                        'role': 'tab',\n                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"mat-step-header-ripple mat-focus-indicator\\\" matRipple\\n     [matRippleTrigger]=\\\"_getHostElement()\\\"\\n     [matRippleDisabled]=\\\"disableRipple\\\"></div>\\n\\n<div class=\\\"mat-step-icon-state-{{state}} mat-step-icon\\\" [class.mat-step-icon-selected]=\\\"selected\\\">\\n  <div class=\\\"mat-step-icon-content\\\" [ngSwitch]=\\\"!!(iconOverrides && iconOverrides[state])\\\">\\n    <ng-container\\n      *ngSwitchCase=\\\"true\\\"\\n      [ngTemplateOutlet]=\\\"iconOverrides[state]\\\"\\n      [ngTemplateOutletContext]=\\\"_getIconContext()\\\"></ng-container>\\n    <ng-container *ngSwitchDefault [ngSwitch]=\\\"state\\\">\\n      <span aria-hidden=\\\"true\\\" *ngSwitchCase=\\\"'number'\\\">{{_getDefaultTextForState(state)}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'done'\\\">{{_intl.completedLabel}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'edit'\\\">{{_intl.editableLabel}}</span>\\n      <mat-icon aria-hidden=\\\"true\\\" *ngSwitchDefault>{{_getDefaultTextForState(state)}}</mat-icon>\\n    </ng-container>\\n  </div>\\n</div>\\n<div class=\\\"mat-step-label\\\"\\n     [class.mat-step-label-active]=\\\"active\\\"\\n     [class.mat-step-label-selected]=\\\"selected\\\"\\n     [class.mat-step-label-error]=\\\"state == 'error'\\\">\\n  <!-- If there is a label template, use it. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_templateLabel()\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"_templateLabel()!.template\\\"></ng-container>\\n  </div>\\n  <!-- If there is no label template, fall back to the text label. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_stringLabel()\\\">{{label}}</div>\\n\\n  <div class=\\\"mat-step-optional\\\" *ngIf=\\\"optional && state != 'error'\\\">{{_intl.optionalLabel}}</div>\\n  <div class=\\\"mat-step-sub-label-error\\\" *ngIf=\\\"state == 'error'\\\">{{errorMessage}}</div>\\n</div>\\n\\n\", styles: [\".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:\\\"\\\"}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"] }]\n        }], ctorParameters: function () { return [{ type: MatStepperIntl }, { type: i2.FocusMonitor }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { state: [{\n                type: Input\n            }], label: [{\n                type: Input\n            }], errorMessage: [{\n                type: Input\n            }], iconOverrides: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], active: [{\n                type: Input\n            }], optional: [{\n                type: Input\n            }], disableRipple: [{\n                type: Input\n            }] } });\n\nconst DEFAULT_HORIZONTAL_ANIMATION_DURATION = '500ms';\nconst DEFAULT_VERTICAL_ANIMATION_DURATION = '225ms';\n/**\n * Animations used by the Material steppers.\n * @docs-private\n */\nconst matStepperAnimations = {\n    /** Animation that transitions the step along the X axis in a horizontal stepper. */\n    horizontalStepTransition: trigger('horizontalStepTransition', [\n        state('previous', style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' })),\n        // Transition to `inherit`, rather than `visible`,\n        // because visibility on a child element the one from the parent,\n        // making this element focusable inside of a `hidden` element.\n        state('current', style({ transform: 'none', visibility: 'inherit' })),\n        state('next', style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' })),\n        transition('* => *', animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'), {\n            params: { 'animationDuration': DEFAULT_HORIZONTAL_ANIMATION_DURATION },\n        }),\n    ]),\n    /** Animation that transitions the step along the Y axis in a vertical stepper. */\n    verticalStepTransition: trigger('verticalStepTransition', [\n        state('previous', style({ height: '0px', visibility: 'hidden' })),\n        state('next', style({ height: '0px', visibility: 'hidden' })),\n        // Transition to `inherit`, rather than `visible`,\n        // because visibility on a child element the one from the parent,\n        // making this element focusable inside of a `hidden` element.\n        state('current', style({ height: '*', visibility: 'inherit' })),\n        transition('* <=> current', animate('{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)'), {\n            params: { 'animationDuration': DEFAULT_VERTICAL_ANIMATION_DURATION },\n        }),\n    ]),\n};\n\n/**\n * Template to be used to override the icons inside the step header.\n */\nclass MatStepperIcon {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIcon, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperIcon, selector: \"ng-template[matStepperIcon]\", inputs: { name: [\"matStepperIcon\", \"name\"] }, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIcon, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[matStepperIcon]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { name: [{\n                type: Input,\n                args: ['matStepperIcon']\n            }] } });\n\n/**\n * Content for a `mat-step` that will be rendered lazily.\n */\nclass MatStepContent {\n    constructor(_template) {\n        this._template = _template;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepContent, deps: [{ token: i0.TemplateRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepContent, selector: \"ng-template[matStepContent]\", ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[matStepContent]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; } });\n\nclass MatStep extends CdkStep {\n    constructor(stepper, _errorStateMatcher, _viewContainerRef, stepperOptions) {\n        super(stepper, stepperOptions);\n        this._errorStateMatcher = _errorStateMatcher;\n        this._viewContainerRef = _viewContainerRef;\n        this._isSelected = Subscription.EMPTY;\n        /** Content for step label given by `<ng-template matStepLabel>`. */\n        // We need an initializer here to avoid a TS error.\n        this.stepLabel = undefined;\n    }\n    ngAfterContentInit() {\n        this._isSelected = this._stepper.steps.changes\n            .pipe(switchMap(() => {\n            return this._stepper.selectionChange.pipe(map(event => event.selectedStep === this), startWith(this._stepper.selected === this));\n        }))\n            .subscribe(isSelected => {\n            if (isSelected && this._lazyContent && !this._portal) {\n                this._portal = new TemplatePortal(this._lazyContent._template, this._viewContainerRef);\n            }\n        });\n    }\n    ngOnDestroy() {\n        this._isSelected.unsubscribe();\n    }\n    /** Custom error state matcher that additionally checks for validity of interacted form. */\n    isErrorState(control, form) {\n        const originalErrorState = this._errorStateMatcher.isErrorState(control, form);\n        // Custom error state checks for the validity of form that is not submitted or touched\n        // since user can trigger a form change by calling for another step without directly\n        // interacting with the current form.\n        const customErrorState = !!(control && control.invalid && this.interacted);\n        return originalErrorState || customErrorState;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStep, deps: [{ token: forwardRef(() => MatStepper) }, { token: i1.ErrorStateMatcher, skipSelf: true }, { token: i0.ViewContainerRef }, { token: STEPPER_GLOBAL_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStep, selector: \"mat-step\", inputs: { color: \"color\" }, providers: [\n            { provide: ErrorStateMatcher, useExisting: MatStep },\n            { provide: CdkStep, useExisting: MatStep },\n        ], queries: [{ propertyName: \"stepLabel\", first: true, predicate: MatStepLabel, descendants: true }, { propertyName: \"_lazyContent\", first: true, predicate: MatStepContent, descendants: true }], exportAs: [\"matStep\"], usesInheritance: true, ngImport: i0, template: \"<ng-template>\\n  <ng-content></ng-content>\\n  <ng-template [cdkPortalOutlet]=\\\"_portal\\\"></ng-template>\\n</ng-template>\\n\", dependencies: [{ kind: \"directive\", type: i2$1.CdkPortalOutlet, selector: \"[cdkPortalOutlet]\", inputs: [\"cdkPortalOutlet\"], outputs: [\"attached\"], exportAs: [\"cdkPortalOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStep, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-step', providers: [\n                        { provide: ErrorStateMatcher, useExisting: MatStep },\n                        { provide: CdkStep, useExisting: MatStep },\n                    ], encapsulation: ViewEncapsulation.None, exportAs: 'matStep', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template>\\n  <ng-content></ng-content>\\n  <ng-template [cdkPortalOutlet]=\\\"_portal\\\"></ng-template>\\n</ng-template>\\n\" }]\n        }], ctorParameters: function () { return [{ type: MatStepper, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => MatStepper)]\n                }] }, { type: i1.ErrorStateMatcher, decorators: [{\n                    type: SkipSelf\n                }] }, { type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STEPPER_GLOBAL_OPTIONS]\n                }] }]; }, propDecorators: { stepLabel: [{\n                type: ContentChild,\n                args: [MatStepLabel]\n            }], color: [{\n                type: Input\n            }], _lazyContent: [{\n                type: ContentChild,\n                args: [MatStepContent, { static: false }]\n            }] } });\nclass MatStepper extends CdkStepper {\n    /** Duration for the animation. Will be normalized to milliseconds if no units are set. */\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    set animationDuration(value) {\n        this._animationDuration = /^\\d+$/.test(value) ? value + 'ms' : value;\n    }\n    constructor(dir, changeDetectorRef, elementRef) {\n        super(dir, changeDetectorRef, elementRef);\n        /** The list of step headers of the steps in the stepper. */\n        // We need an initializer here to avoid a TS error.\n        this._stepHeader = undefined;\n        /** Full list of steps inside the stepper, including inside nested steppers. */\n        // We need an initializer here to avoid a TS error.\n        this._steps = undefined;\n        /** Steps that belong to the current stepper, excluding ones from nested steppers. */\n        this.steps = new QueryList();\n        /** Event emitted when the current step is done transitioning in. */\n        this.animationDone = new EventEmitter();\n        /**\n         * Whether the label should display in bottom or end position.\n         * Only applies in the `horizontal` orientation.\n         */\n        this.labelPosition = 'end';\n        /**\n         * Position of the stepper's header.\n         * Only applies in the `horizontal` orientation.\n         */\n        this.headerPosition = 'top';\n        /** Consumer-specified template-refs to be used to override the header icons. */\n        this._iconOverrides = {};\n        /** Stream of animation `done` events when the body expands/collapses. */\n        this._animationDone = new Subject();\n        this._animationDuration = '';\n        const nodeName = elementRef.nativeElement.nodeName.toLowerCase();\n        this.orientation = nodeName === 'mat-vertical-stepper' ? 'vertical' : 'horizontal';\n    }\n    ngAfterContentInit() {\n        super.ngAfterContentInit();\n        this._icons.forEach(({ name, templateRef }) => (this._iconOverrides[name] = templateRef));\n        // Mark the component for change detection whenever the content children query changes\n        this.steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => {\n            this._stateChanged();\n        });\n        this._animationDone\n            .pipe(\n        // This needs a `distinctUntilChanged` in order to avoid emitting the same event twice due\n        // to a bug in animations where the `.done` callback gets invoked twice on some browsers.\n        // See https://github.com/angular/angular/issues/24084\n        distinctUntilChanged((x, y) => x.fromState === y.fromState && x.toState === y.toState), takeUntil(this._destroyed))\n            .subscribe(event => {\n            if (event.toState === 'current') {\n                this.animationDone.emit();\n            }\n        });\n    }\n    _stepIsNavigable(index, step) {\n        return step.completed || this.selectedIndex === index || !this.linear;\n    }\n    _getAnimationDuration() {\n        if (this.animationDuration) {\n            return this.animationDuration;\n        }\n        return this.orientation === 'horizontal'\n            ? DEFAULT_HORIZONTAL_ANIMATION_DURATION\n            : DEFAULT_VERTICAL_ANIMATION_DURATION;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepper, deps: [{ token: i3$1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepper, selector: \"mat-stepper, mat-vertical-stepper, mat-horizontal-stepper, [matStepper]\", inputs: { selectedIndex: \"selectedIndex\", disableRipple: \"disableRipple\", color: \"color\", labelPosition: \"labelPosition\", headerPosition: \"headerPosition\", animationDuration: \"animationDuration\" }, outputs: { animationDone: \"animationDone\" }, host: { attributes: { \"role\": \"tablist\", \"ngSkipHydration\": \"true\" }, properties: { \"class.mat-stepper-horizontal\": \"orientation === \\\"horizontal\\\"\", \"class.mat-stepper-vertical\": \"orientation === \\\"vertical\\\"\", \"class.mat-stepper-label-position-end\": \"orientation === \\\"horizontal\\\" && labelPosition == \\\"end\\\"\", \"class.mat-stepper-label-position-bottom\": \"orientation === \\\"horizontal\\\" && labelPosition == \\\"bottom\\\"\", \"class.mat-stepper-header-position-bottom\": \"headerPosition === \\\"bottom\\\"\", \"attr.aria-orientation\": \"orientation\" } }, providers: [{ provide: CdkStepper, useExisting: MatStepper }], queries: [{ propertyName: \"_steps\", predicate: MatStep, descendants: true }, { propertyName: \"_icons\", predicate: MatStepperIcon, descendants: true }], viewQueries: [{ propertyName: \"_stepHeader\", predicate: MatStepHeader, descendants: true }], exportAs: [\"matStepper\", \"matVerticalStepper\", \"matHorizontalStepper\"], usesInheritance: true, ngImport: i0, template: \"<ng-container [ngSwitch]=\\\"orientation\\\">\\n  <!-- Horizontal stepper -->\\n  <div class=\\\"mat-horizontal-stepper-wrapper\\\" *ngSwitchCase=\\\"'horizontal'\\\">\\n    <div class=\\\"mat-horizontal-stepper-header-container\\\">\\n      <ng-container *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n        <div *ngIf=\\\"!isLast\\\" class=\\\"mat-stepper-horizontal-line\\\"></div>\\n      </ng-container>\\n    </div>\\n\\n    <div class=\\\"mat-horizontal-content-container\\\">\\n      <div *ngFor=\\\"let step of steps; let i = index\\\"\\n           class=\\\"mat-horizontal-stepper-content\\\" role=\\\"tabpanel\\\"\\n           [@horizontalStepTransition]=\\\"{\\n              'value': _getAnimationDirection(i),\\n              'params': {'animationDuration': _getAnimationDuration()}\\n            }\\\"\\n           (@horizontalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n           [id]=\\\"_getStepContentId(i)\\\"\\n           [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n           [class.mat-horizontal-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n        <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Vertical stepper -->\\n  <ng-container *ngSwitchCase=\\\"'vertical'\\\">\\n    <div class=\\\"mat-step\\\" *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n      <div class=\\\"mat-vertical-content-container\\\" [class.mat-stepper-vertical-line]=\\\"!isLast\\\">\\n        <div class=\\\"mat-vertical-stepper-content\\\" role=\\\"tabpanel\\\"\\n             [@verticalStepTransition]=\\\"{\\n                'value': _getAnimationDirection(i),\\n                'params': {'animationDuration': _getAnimationDuration()}\\n              }\\\"\\n             (@verticalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n             [id]=\\\"_getStepContentId(i)\\\"\\n             [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n             [class.mat-vertical-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n          <div class=\\\"mat-vertical-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ng-container>\\n\\n</ng-container>\\n\\n<!-- Common step templating -->\\n<ng-template let-step=\\\"step\\\" let-i=\\\"i\\\" #stepTemplate>\\n  <mat-step-header\\n    [class.mat-horizontal-stepper-header]=\\\"orientation === 'horizontal'\\\"\\n    [class.mat-vertical-stepper-header]=\\\"orientation === 'vertical'\\\"\\n    (click)=\\\"step.select()\\\"\\n    (keydown)=\\\"_onKeydown($event)\\\"\\n    [tabIndex]=\\\"_getFocusIndex() === i ? 0 : -1\\\"\\n    [id]=\\\"_getStepLabelId(i)\\\"\\n    [attr.aria-posinset]=\\\"i + 1\\\"\\n    [attr.aria-setsize]=\\\"steps.length\\\"\\n    [attr.aria-controls]=\\\"_getStepContentId(i)\\\"\\n    [attr.aria-selected]=\\\"selectedIndex == i\\\"\\n    [attr.aria-label]=\\\"step.ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"(!step.ariaLabel && step.ariaLabelledby) ? step.ariaLabelledby : null\\\"\\n    [attr.aria-disabled]=\\\"_stepIsNavigable(i, step) ? null : true\\\"\\n    [index]=\\\"i\\\"\\n    [state]=\\\"_getIndicatorType(i, step.state)\\\"\\n    [label]=\\\"step.stepLabel || step.label\\\"\\n    [selected]=\\\"selectedIndex === i\\\"\\n    [active]=\\\"_stepIsNavigable(i, step)\\\"\\n    [optional]=\\\"step.optional\\\"\\n    [errorMessage]=\\\"step.errorMessage\\\"\\n    [iconOverrides]=\\\"_iconOverrides\\\"\\n    [disableRipple]=\\\"disableRipple || !_stepIsNavigable(i, step)\\\"\\n    [color]=\\\"step.color || color\\\"></mat-step-header>\\n</ng-template>\\n\", styles: [\".mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:\\\"\\\";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:\\\"\\\";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\"], dependencies: [{ kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: MatStepHeader, selector: \"mat-step-header\", inputs: [\"color\", \"state\", \"label\", \"errorMessage\", \"iconOverrides\", \"index\", \"selected\", \"active\", \"optional\", \"disableRipple\"] }], animations: [\n            matStepperAnimations.horizontalStepTransition,\n            matStepperAnimations.verticalStepTransition,\n        ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepper, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-stepper, mat-vertical-stepper, mat-horizontal-stepper, [matStepper]', exportAs: 'matStepper, matVerticalStepper, matHorizontalStepper', inputs: ['selectedIndex'], host: {\n                        '[class.mat-stepper-horizontal]': 'orientation === \"horizontal\"',\n                        '[class.mat-stepper-vertical]': 'orientation === \"vertical\"',\n                        '[class.mat-stepper-label-position-end]': 'orientation === \"horizontal\" && labelPosition == \"end\"',\n                        '[class.mat-stepper-label-position-bottom]': 'orientation === \"horizontal\" && labelPosition == \"bottom\"',\n                        '[class.mat-stepper-header-position-bottom]': 'headerPosition === \"bottom\"',\n                        '[attr.aria-orientation]': 'orientation',\n                        'role': 'tablist',\n                        'ngSkipHydration': 'true',\n                    }, animations: [\n                        matStepperAnimations.horizontalStepTransition,\n                        matStepperAnimations.verticalStepTransition,\n                    ], providers: [{ provide: CdkStepper, useExisting: MatStepper }], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container [ngSwitch]=\\\"orientation\\\">\\n  <!-- Horizontal stepper -->\\n  <div class=\\\"mat-horizontal-stepper-wrapper\\\" *ngSwitchCase=\\\"'horizontal'\\\">\\n    <div class=\\\"mat-horizontal-stepper-header-container\\\">\\n      <ng-container *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n        <div *ngIf=\\\"!isLast\\\" class=\\\"mat-stepper-horizontal-line\\\"></div>\\n      </ng-container>\\n    </div>\\n\\n    <div class=\\\"mat-horizontal-content-container\\\">\\n      <div *ngFor=\\\"let step of steps; let i = index\\\"\\n           class=\\\"mat-horizontal-stepper-content\\\" role=\\\"tabpanel\\\"\\n           [@horizontalStepTransition]=\\\"{\\n              'value': _getAnimationDirection(i),\\n              'params': {'animationDuration': _getAnimationDuration()}\\n            }\\\"\\n           (@horizontalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n           [id]=\\\"_getStepContentId(i)\\\"\\n           [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n           [class.mat-horizontal-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n        <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Vertical stepper -->\\n  <ng-container *ngSwitchCase=\\\"'vertical'\\\">\\n    <div class=\\\"mat-step\\\" *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n      <div class=\\\"mat-vertical-content-container\\\" [class.mat-stepper-vertical-line]=\\\"!isLast\\\">\\n        <div class=\\\"mat-vertical-stepper-content\\\" role=\\\"tabpanel\\\"\\n             [@verticalStepTransition]=\\\"{\\n                'value': _getAnimationDirection(i),\\n                'params': {'animationDuration': _getAnimationDuration()}\\n              }\\\"\\n             (@verticalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n             [id]=\\\"_getStepContentId(i)\\\"\\n             [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n             [class.mat-vertical-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n          <div class=\\\"mat-vertical-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ng-container>\\n\\n</ng-container>\\n\\n<!-- Common step templating -->\\n<ng-template let-step=\\\"step\\\" let-i=\\\"i\\\" #stepTemplate>\\n  <mat-step-header\\n    [class.mat-horizontal-stepper-header]=\\\"orientation === 'horizontal'\\\"\\n    [class.mat-vertical-stepper-header]=\\\"orientation === 'vertical'\\\"\\n    (click)=\\\"step.select()\\\"\\n    (keydown)=\\\"_onKeydown($event)\\\"\\n    [tabIndex]=\\\"_getFocusIndex() === i ? 0 : -1\\\"\\n    [id]=\\\"_getStepLabelId(i)\\\"\\n    [attr.aria-posinset]=\\\"i + 1\\\"\\n    [attr.aria-setsize]=\\\"steps.length\\\"\\n    [attr.aria-controls]=\\\"_getStepContentId(i)\\\"\\n    [attr.aria-selected]=\\\"selectedIndex == i\\\"\\n    [attr.aria-label]=\\\"step.ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"(!step.ariaLabel && step.ariaLabelledby) ? step.ariaLabelledby : null\\\"\\n    [attr.aria-disabled]=\\\"_stepIsNavigable(i, step) ? null : true\\\"\\n    [index]=\\\"i\\\"\\n    [state]=\\\"_getIndicatorType(i, step.state)\\\"\\n    [label]=\\\"step.stepLabel || step.label\\\"\\n    [selected]=\\\"selectedIndex === i\\\"\\n    [active]=\\\"_stepIsNavigable(i, step)\\\"\\n    [optional]=\\\"step.optional\\\"\\n    [errorMessage]=\\\"step.errorMessage\\\"\\n    [iconOverrides]=\\\"_iconOverrides\\\"\\n    [disableRipple]=\\\"disableRipple || !_stepIsNavigable(i, step)\\\"\\n    [color]=\\\"step.color || color\\\"></mat-step-header>\\n</ng-template>\\n\", styles: [\".mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:\\\"\\\";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:\\\"\\\";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\"] }]\n        }], ctorParameters: function () { return [{ type: i3$1.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }]; }, propDecorators: { _stepHeader: [{\n                type: ViewChildren,\n                args: [MatStepHeader]\n            }], _steps: [{\n                type: ContentChildren,\n                args: [MatStep, { descendants: true }]\n            }], _icons: [{\n                type: ContentChildren,\n                args: [MatStepperIcon, { descendants: true }]\n            }], animationDone: [{\n                type: Output\n            }], disableRipple: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], labelPosition: [{\n                type: Input\n            }], headerPosition: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }] } });\n\n/** Button that moves to the next step in a stepper workflow. */\nclass MatStepperNext extends CdkStepperNext {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperNext, deps: null, target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperNext, selector: \"button[matStepperNext]\", inputs: { type: \"type\" }, host: { properties: { \"type\": \"type\" }, classAttribute: \"mat-stepper-next\" }, usesInheritance: true, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperNext, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[matStepperNext]',\n                    host: {\n                        'class': 'mat-stepper-next',\n                        '[type]': 'type',\n                    },\n                    inputs: ['type'],\n                }]\n        }] });\n/** Button that moves to the previous step in a stepper workflow. */\nclass MatStepperPrevious extends CdkStepperPrevious {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperPrevious, deps: null, target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperPrevious, selector: \"button[matStepperPrevious]\", inputs: { type: \"type\" }, host: { properties: { \"type\": \"type\" }, classAttribute: \"mat-stepper-previous\" }, usesInheritance: true, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperPrevious, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[matStepperPrevious]',\n                    host: {\n                        'class': 'mat-stepper-previous',\n                        '[type]': 'type',\n                    },\n                    inputs: ['type'],\n                }]\n        }] });\n\nclass MatStepperModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, declarations: [MatStep,\n            MatStepLabel,\n            MatStepper,\n            MatStepperNext,\n            MatStepperPrevious,\n            MatStepHeader,\n            MatStepperIcon,\n            MatStepContent], imports: [MatCommonModule,\n            CommonModule,\n            PortalModule,\n            CdkStepperModule,\n            MatIconModule,\n            MatRippleModule], exports: [MatCommonModule,\n            MatStep,\n            MatStepLabel,\n            MatStepper,\n            MatStepperNext,\n            MatStepperPrevious,\n            MatStepHeader,\n            MatStepperIcon,\n            MatStepContent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, providers: [MAT_STEPPER_INTL_PROVIDER, ErrorStateMatcher], imports: [MatCommonModule,\n            CommonModule,\n            PortalModule,\n            CdkStepperModule,\n            MatIconModule,\n            MatRippleModule, MatCommonModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        MatCommonModule,\n                        CommonModule,\n                        PortalModule,\n                        CdkStepperModule,\n                        MatIconModule,\n                        MatRippleModule,\n                    ],\n                    exports: [\n                        MatCommonModule,\n                        MatStep,\n                        MatStepLabel,\n                        MatStepper,\n                        MatStepperNext,\n                        MatStepperPrevious,\n                        MatStepHeader,\n                        MatStepperIcon,\n                        MatStepContent,\n                    ],\n                    declarations: [\n                        MatStep,\n                        MatStepLabel,\n                        MatStepper,\n                        MatStepperNext,\n                        MatStepperPrevious,\n                        MatStepHeader,\n                        MatStepperIcon,\n                        MatStepContent,\n                    ],\n                    providers: [MAT_STEPPER_INTL_PROVIDER, ErrorStateMatcher],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_STEPPER_INTL_PROVIDER, MAT_STEPPER_INTL_PROVIDER_FACTORY, MatStep, MatStepContent, MatStepHeader, MatStepLabel, MatStepper, MatStepperIcon, MatStepperIntl, MatStepperModule, MatStepperNext, MatStepperPrevious, matStepperAnimations };\n","import { Component, EventEmitter, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { AssetCategory, deleteAssetCategory } from '@placeos/assets';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'asset-category-management-modal',\n    template: `\n        <header>\n            <h2>Manage Categories</h2>\n            <button btn icon matRipple mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"overflow-y-auto min-w-[20rem] divide-y divide-base-200 max-h-[65vh]\"\n        >\n            <button\n                btn\n                matRipple\n                class=\"flex items-center justify-center space-x-2 w-[calc(100%-1rem)] m-2\"\n                (click)=\"edit()\"\n            >\n                <div class=\"truncate\">New Category</div>\n                <app-icon>add</app-icon>\n            </button>\n            <ng-container *ngFor=\"let category of list | async\">\n                <div\n                    class=\"flex items-center space-x-2 hover:bg-base-200:bg-base-300 p-2\"\n                    *ngIf=\"category.id\"\n                >\n                    <div class=\"flex-1 truncate\">{{ category.name }}</div>\n                    <button btn icon matRipple (click)=\"edit(category)\">\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button btn icon matRipple (click)=\"remove(category)\">\n                        <app-icon>delete</app-icon>\n                    </button>\n                </div>\n            </ng-container>\n        </main>\n    `,\n    styles: [``],\n})\nexport class AssetCategoryManagementModalComponent {\n    public readonly changed = new EventEmitter();\n    public readonly list = this._data.list;\n    public readonly edit = this._data.edit;\n\n    public readonly remove = async (category: AssetCategory) => {\n        await deleteAssetCategory(category.id).toPromise();\n        this.changed.emit();\n    };\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            list: Observable<AssetCategory[]>;\n            edit: (i?) => any;\n        },\n        private _dialog_ref: MatDialogRef<AssetCategoryManagementModalComponent>\n    ) {}\n}\n","import { Component, Inject } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    AssetCategory,\n    generateAssetCategoryForm,\n    saveAssetCategory,\n} from '@placeos/assets';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { map } from 'rxjs/operators';\nimport { notifyError } from '@placeos/common';\n\n@Component({\n    selector: 'asset-category-form',\n    template: `\n        <header class=\"flex items-center p-2\">\n            <h2 class=\"text-center text-xl font-medium\">\n                {{ form.value.id ? 'Edit' : 'Add' }} Category\n            </h2>\n            <button btn icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"flex-1 h-1/2 overflow-auto p-2 w-[20rem] max-w-[80vw]\"\n            [formGroup]=\"form\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <div class=\"flex flex-col space-y-2\">\n                <label for=\"name\">Name<span>*</span></label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Category Name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col space-y-2\">\n                <label for=\"name\">Parent Category</label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-select\n                        formControlName=\"parent_category_id\"\n                        placeholder=\"No Parent\"\n                        [disabled]=\"!(categories | async)?.length\"\n                    >\n                        <mat-option\n                            *ngFor=\"let category of categories | async\"\n                            [value]=\"category.id\"\n                        >\n                            {{ category.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n        </main>\n        <footer\n            class=\"flex justify-end space-x-2 p-2 border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <a btn matRipple class=\"w-32 inverse\" mat-dialog-close>Cancel</a>\n            <button btn matRipple class=\"w-32\" (click)=\"save()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center justify-center p-8\">\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"mt-4\">Saving Category...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetCategoryFormComponent {\n    public loading = false;\n    public readonly form = generateAssetCategoryForm();\n    public readonly categories = this._state.categories.pipe(\n        map((list) =>\n            list.filter((_) => _.parent_category_id !== this.form.value.id)\n        )\n    );\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) _data: { category?: AssetCategory },\n        private _state: AssetManagerStateService,\n        private _dialog_ref: MatDialogRef<AssetCategoryFormComponent>\n    ) {\n        if (_data?.category) this.form.patchValue(_data.category);\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        const data = this.form.value;\n        const item = await saveAssetCategory(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = false;\n                this._dialog_ref.disableClose = false;\n                notifyError(`Error saving category: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this.loading = false;\n        this._dialog_ref.close(item);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    Booking,\n    approveBooking,\n    queryBookings,\n    rejectBooking,\n    updateBooking,\n} from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    SettingsService,\n    flatten,\n    notifySuccess,\n    unique,\n} from '@placeos/common';\nimport { SpacesService } from '@placeos/spaces';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport {\n    debounceTime,\n    distinctUntilChanged,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\nimport {\n    Asset,\n    AssetCategory,\n    AssetGroup,\n    AssetPurchaseOrder,\n    deleteAssetGroup,\n    generateAssetForm,\n    getGroupsWithAssets,\n    queryAssetCategories,\n    queryAssetPurchaseOrders,\n    saveAsset,\n    showGroupFull,\n} from '@placeos/assets';\nimport { cleanObject, showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { OrganisationService } from '@placeos/organisation';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AssetCategoryManagementModalComponent } from './asset-category-management-modal.component';\nimport { AssetCategoryFormComponent } from './asset-category-form.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceConfigModalData,\n    AttachedResourceRuleset,\n} from '@placeos/components';\n\nexport interface AssetOptions {\n    date?: number;\n    search?: string;\n    sort_by?: string;\n    view: 'grid' | 'list';\n    active_item?: string;\n}\n\nexport interface AssetRequest {\n    id: string;\n    assets: { id: string; name: string; amount?: number }[];\n    date: number;\n    duration: number;\n    user_id: string;\n    user_name: string;\n    location_id: string;\n    location_name: string;\n    location_floor: string;\n    status: 'approved' | 'pending' | 'declined';\n    tracking: 'in_storage' | 'in_transit' | 'at_location' | 'unknown';\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AssetManagerStateService extends AsyncHandler {\n    private _options = new BehaviorSubject<AssetOptions>({ view: 'grid' });\n    private _change = new BehaviorSubject(0);\n    private _poll = new BehaviorSubject(0);\n    private _extra_assets = new BehaviorSubject<Asset[]>([]);\n    private _form = generateAssetForm();\n    private _loading = new BehaviorSubject(false);\n    /** Whether asset list is loading */\n    public readonly loading = this._loading.asObservable();\n    /** List of options set for the view */\n    public readonly options = this._options.asObservable();\n    /** List of extra assets to display */\n    public readonly extra_assets = this._extra_assets.asObservable();\n    /** List of available assets */\n    public readonly products: Observable<AssetGroup[]> = combineLatest([\n        this._change,\n        this._org.active_building,\n    ]).pipe(\n        switchMap(() => {\n            this._loading.next(true);\n            return getGroupsWithAssets({ zone_id: this._org.building?.id });\n        }),\n        tap((_) => this._loading.next(false)),\n        shareReplay(1)\n    ) as any;\n    /** List of available assets */\n    public readonly purchase_orders: Observable<AssetPurchaseOrder[]> =\n        this._change.pipe(\n            switchMap(() => {\n                this._loading.next(true);\n                return queryAssetPurchaseOrders();\n            }),\n            tap(() => this._loading.next(false)),\n            shareReplay(1)\n        ) as any;\n    /** List of requests made by users for assets */\n    public readonly requests = combineLatest([\n        this._options,\n        this._org.active_building,\n        this._poll,\n        this._change,\n        this._spaces.initialised,\n    ]).pipe(\n        debounceTime(200),\n        switchMap(([{ date }, bld]) =>\n            queryBookings({\n                zones: bld?.id,\n                period_start: getUnixTime(startOfDay(date || Date.now())),\n                period_end: getUnixTime(endOfDay(date || Date.now())),\n                type: 'asset-request',\n            })\n        ),\n        map((_) =>\n            _.map(\n                (b) =>\n                    new Booking({\n                        ...b,\n                        extension_data: {\n                            ...b.extension_data,\n                            space: this._spaces.find(b.extension_data.space_id),\n                        },\n                    })\n            )\n        ),\n        shareReplay(1)\n    );\n    /** Filtered list of asset requests */\n    public readonly filtered_requests = combineLatest([\n        this.requests,\n        this._options,\n    ]).pipe(\n        map(([list, options]) => {\n            const search = (options.search || '').toLowerCase();\n            return search\n                ? list.filter(\n                      (i) =>\n                          i.user_name.toLowerCase().includes(search) ||\n                          i.title.toLowerCase().includes(search) ||\n                          i.extension_data.location_name\n                              ?.toLowerCase()\n                              .includes(search) ||\n                          i.extension_data.assets?.find((_) =>\n                              _.name.toLowerCase().includes(search)\n                          ) ||\n                          i.status.includes(search) ||\n                          i.extension_data.tracking?.includes(search)\n                  )\n                : list;\n        })\n    );\n    public readonly categories = combineLatest([\n        this._options,\n        this._change,\n    ]).pipe(\n        switchMap(() => queryAssetCategories()),\n        map((list) => [\n            new AssetCategory({ id: '', name: 'Uncategorised' }),\n            ...list,\n        ]),\n        shareReplay(1)\n    );\n    /** Currently active asset */\n    public readonly active_product = combineLatest([\n        this._options,\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([{ active_item }]) => !!active_item),\n        map(([options, t]) => [options.active_item, t] as any),\n        distinctUntilChanged(),\n        switchMap(([active_item]) =>\n            showGroupFull(active_item, { zone_id: this._org.building.id })\n        ),\n        shareReplay(1)\n    );\n    /** List of requests for the currently active asset */\n    public readonly active_product_requests = this.active_product.pipe(\n        switchMap((item) => {\n            return this.requests.pipe(\n                map((_) =>\n                    _.filter((i) =>\n                        item.assets.find((asset) => asset.id === i.asset_id)\n                    )\n                )\n            );\n        }),\n        map((_) => _.filter((i) => i.status !== 'declined'))\n    );\n    /** list of filtered assets */\n    public readonly filtered_products = combineLatest([\n        this.products,\n        this._options,\n    ]).pipe(\n        map(([list, options]) =>\n            options.search\n                ? list.filter((i) =>\n                      i.name\n                          .toLowerCase()\n                          .includes(options.search.toLowerCase())\n                  )\n                : list\n        )\n    );\n    /** Mapping of available assets to categories */\n    public readonly product_mapping = combineLatest([\n        this.filtered_products,\n        this.categories,\n    ]).pipe(\n        map(([products, category_list]) => {\n            const map = { _count: products.length };\n            products.forEach(\n                (item) =>\n                    (item.category_id = category_list.find(\n                        (_) => _.id === item.category_id\n                    )\n                        ? item.category_id\n                        : '')\n            );\n            const categories = unique(products.map((i) => i.category_id));\n            for (const group of categories) {\n                map[group] = products.filter((i) => i.category_id === group);\n            }\n            return map;\n        })\n    );\n\n    public get form() {\n        return this._form;\n    }\n\n    public get is_new_ui() {\n        return (\n            location.hash.includes('new') || location.pathname.includes('new')\n        );\n    }\n\n    public get base_route() {\n        return this.is_new_ui ? '/book/assets/new' : '/book/assets';\n    }\n\n    constructor(\n        private _spaces: SpacesService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n\n    public startPolling(delay = 15 * 1000) {\n        this.interval('polling', () => this._poll.next(Date.now()), delay);\n        return () => this.stopPolling();\n    }\n\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    public resetForm() {\n        this._form = generateAssetForm();\n    }\n\n    public manageCategories() {\n        const ref = this._dialog.open(AssetCategoryManagementModalComponent, {\n            data: { list: this.categories, edit: (i) => this.editCategory(i) },\n        });\n        this.subscription(\n            'category_modal',\n            ref.componentInstance.changed.subscribe(() =>\n                this._change.next(Date.now())\n            )\n        );\n        ref.afterClosed().subscribe(() => this.unsub('category_modal'));\n    }\n\n    public async editCategory(\n        category: Partial<AssetCategory> = {}\n    ): Promise<AssetCategory | null> {\n        const ref = this._dialog.open(AssetCategoryFormComponent, {\n            data: { category },\n        });\n        const result = await ref.afterClosed().toPromise();\n        if (!result) return null;\n        this._change.next(Date.now());\n        return result;\n    }\n\n    public setExtraAssets(list: Asset[]) {\n        this._extra_assets.next(list);\n    }\n\n    /** Update the set view options */\n    public setOptions(options: Partial<AssetOptions>) {\n        this._options.next({ ...this._options.getValue(), ...options });\n    }\n\n    public postChange() {\n        this.timeout('change', () => this._change.next(Date.now()), 1000);\n    }\n\n    public async setStatus(item: Booking, status: any) {\n        let result = item;\n        if (status === 'declined') {\n            result = await rejectBooking(item.id).toPromise();\n        } else if (status === 'approved') {\n            result = await approveBooking(item.id).toPromise();\n        }\n        this._change.next(Date.now());\n        return result;\n    }\n\n    public async setTracking(item: Booking, tracking: string) {\n        const result = await updateBooking(item.id, {\n            ...item,\n            extension_data: { ...item.extension_data, tracking },\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    public async deleteActiveProduct() {\n        const item = await this.active_product.pipe(take(1)).toPromise();\n        if (!item?.id) return;\n        await deleteAssetGroup(item.id).toPromise();\n        this._change.next(Date.now());\n        notifySuccess('Successfully deleted asset');\n    }\n\n    public async postForm() {\n        if (!this.form?.valid) return;\n        const data: any = this.form.value;\n        const other_data = { ...data };\n        const drop_keys = [\n            'other_data',\n            'id',\n            'name',\n            'quantity',\n            'category',\n            'purchase_date',\n            'brand',\n            'images',\n        ];\n        for (const key of drop_keys) {\n            delete other_data[key];\n        }\n        data.other_data = cleanObject(other_data, [undefined, null, '']);\n        const asset = await saveAsset(data as any).toPromise();\n        this._change.next(Date.now());\n        notifySuccess(`Successfully ${data.id ? 'updated' : 'created'} asset`);\n        this.resetForm();\n        return asset.id;\n    }\n\n    public async editConfig() {\n        const config = await this.getConfig(this._org.building.id);\n        const items = await this.products.pipe(take(1)).toPromise();\n        const types = unique(flatten(items.map((i) => [i.name])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                resource_name: 'Assets',\n                config,\n                types,\n                require_notes: false,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async getConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (await showMetadata(zone_id, 'assets_config').toPromise())\n            .details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'assets_config',\n            details: config,\n            description: `Assets config for ${zone_id}`,\n        }).toPromise();\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\n\n@Component({\n    selector: 'asset-manager-topbar',\n    template: `\n        <div class=\"w-full px-4 py-2 bg-base-100 flex items-center space-x-4\">\n            <a\n                btn\n                matRipple\n                class=\"secondary\"\n                *ngIf=\"active === 'items'\"\n                [routerLink]=\"[base_route, 'manage', 'group']\"\n            >\n                Add Product\n            </a>\n            <a\n                btn\n                matRipple\n                class=\"secondary\"\n                *ngIf=\"active === 'purchase-orders'\"\n                [routerLink]=\"[base_route, 'manage', 'purchase-order']\"\n            >\n                Add Purchase Order\n            </a>\n            <mat-button-toggle-group\n                [ngModel]=\"(options | async)?.view\"\n                (ngModelChange)=\"setOptions({ view: $event })\"\n                *ngIf=\"active === 'items'\"\n            >\n                <mat-button-toggle value=\"grid\">\n                    <div\n                        class=\"flex items-center justify-center h-10 w-6 text-xl\"\n                    >\n                        <app-icon>view_module</app-icon>\n                    </div>\n                </mat-button-toggle>\n                <mat-button-toggle value=\"list\">\n                    <div\n                        class=\"flex items-center justify-center h-10 w-6 text-xl\"\n                    >\n                        <app-icon>view_list</app-icon>\n                    </div>\n                </mat-button-toggle>\n            </mat-button-toggle-group>\n            <div class=\"flex-1\"></div>\n            <button\n                btn\n                icon\n                matRipple\n                *ngIf=\"active === 'items'\"\n                class=\"border border-base-200\"\n                matTooltip=\"Edit Config\"\n                (click)=\"editConfig()\"\n            >\n                <app-icon>menu_book</app-icon>\n            </button>\n            <button\n                btn\n                icon\n                matRipple\n                *ngIf=\"active === 'items'\"\n                class=\"border border-base-200\"\n                matTooltip=\"Manage Categories\"\n                (click)=\"manageCategories()\"\n            >\n                <app-icon>list_alt</app-icon>\n            </button>\n            <mat-form-field appearance=\"outline\" class=\"h-[3.25rem]\">\n                <app-icon matPrefix class=\"text-2xl relative top-1 -left-1\">\n                    search\n                </app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(options | async)?.search\"\n                    (ngModelChange)=\"setOptions({ search: $event })\"\n                    placeholder=\"Search products and requests\"\n                />\n            </mat-form-field>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AssetManagerTopbarComponent {\n    @Input() public active = '';\n\n    public readonly options = this._state.options;\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n    public readonly manageCategories = () => this._state.manageCategories();\n    public readonly editConfig = () => this._state.editConfig();\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(private _state: AssetManagerStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'asset-listing',\n    template: `\n        <asset-manager-topbar [active]=\"active\"></asset-manager-topbar>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full px-4\">\n            <nav mat-tab-nav-bar *ngIf=\"!is_new || active !== 'requests'\">\n                <a\n                    mat-tab-link\n                    [routerLink]=\"[base_route, 'list', 'requests']\"\n                    [routerLinkActive]=\"'active'\"\n                    [active]=\"active === 'requests'\"\n                    (click)=\"active = 'requests'\"\n                    *ngIf=\"!is_new\"\n                >\n                    Requests\n                </a>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"[base_route, 'list', 'items']\"\n                    [active]=\"active === 'items'\"\n                    (click)=\"active = 'items'\"\n                >\n                    Products\n                </a>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"[base_route, 'list', 'purchase-orders']\"\n                    [active]=\"active === 'purchase-orders'\"\n                    (click)=\"active = 'purchase-orders'\"\n                >\n                    Purchase Orders\n                </a>\n            </nav>\n            <div class=\"flex-1 h-1/2 w-full overflow-visible\">\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetListingComponent extends AsyncHandler {\n    public active = 'requests';\n    public is_new = false;\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _router: Router,\n        private _state: AssetManagerStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.is_new = this._router.url.includes('new');\n        this.active = this._router.url.includes('requests')\n            ? 'requests'\n            : this._router.url.includes('items')\n            ? 'items'\n            : 'purchase-orders';\n        this.subscription(\n            'router.events',\n            this._router.events.subscribe((e) => {\n                if (e instanceof NavigationEnd) {\n                    this.is_new = this._router.url.includes('new');\n                    this.active = this._router.url.includes('requests')\n                        ? 'requests'\n                        : this._router.url.includes('items')\n                        ? 'items'\n                        : 'purchase-orders';\n                }\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: '[asset-manager]',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative w-1/2 flex-1 bg-base-100 overflow-hidden\">\n            <router-outlet></router-outlet>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n                background: var(--b1);\n            }\n        `,\n    ],\n})\nexport class AssetManagerComponent {}\n","import { Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'splitjoin',\n})\nexport class SplitJoinPipe {\n    public transform(\n        value: string,\n        split: string = '_',\n        join: string = ' '\n    ): string {\n        return (value || '').split(split).join(join);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Booking } from '@placeos/bookings';\nimport { MapPinComponent } from '@placeos/components';\nimport {\n    AssetManagerStateService,\n    AssetRequest,\n} from './asset-manager-state.service';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'asset-location-modal',\n    template: `\n        <div class=\"p-6 relative\">\n            <button\n                icon\n                matRipple\n                mat-dialog-close\n                class=\"absolute top-4 right-4\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"font-medium mb-2\">\n                {{ (asset | async)?.name }} in use location:\n                {{ (requests | async)?.length }}\n            </h2>\n            <mat-form-field appearance=\"outline\" class=\"h-[3.5rem] mb-2\">\n                <app-icon matPrefix>search</app-icon>\n                <input matInput placeholder=\"Search...\" />\n            </mat-form-field>\n            <div class=\"flex items-center space-x-4 w-[90vw] text-sm\">\n                <div\n                    class=\"flex-1 h-[60vh] w-1/2 border border-base-200 bg-base-200 overflow-auto\"\n                >\n                    <custom-table\n                        [dataSource]=\"requests\"\n                        [columns]=\"[\n                            'zones',\n                            'description',\n                            'tracking',\n                            'user_name'\n                        ]\"\n                        [display_column]=\"[\n                            'Level',\n                            'Space',\n                            'Tracking',\n                            'Requestee'\n                        ]\"\n                        [column_size]=\"['4r', 'flex', '10r', '6r']\"\n                        [template]=\"{\n                            tracking: tracking_template,\n                            zones: level_template,\n                        }\"\n                        (row_clicked)=\"selected = $event; updateFeatures()\"\n                    ></custom-table>\n                </div>\n                <div\n                    class=\"flex-1 h-[60vh] w-1/2 border border-base-200 bg-base-200 relative flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 bg-base-100 px-4 py-2 rounded-3xl border border-base-200\"\n                        *ngIf=\"selected\"\n                    >\n                        {{ level(selected.zone)?.display_name || 'N/A' }}\n                    </div>\n                    <i-map\n                        *ngIf=\"selected; else empty_state\"\n                        [src]=\"level(selected.zone)?.map_id || ''\"\n                        [styles]=\"{\n                            '#Zones': { display: 'none' },\n                            '#zones': { display: 'none' }\n                        }\"\n                        [features]=\"selected_feature\"\n                    ></i-map>\n                </div>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <p class=\"opacity-30\">\n                Select a space from the list to view map location\n            </p>\n        </ng-template>\n        <ng-template #level_template let-data=\"data\">\n            {{ level(data)?.display_name || 'N/A' }}\n        </ng-template>\n        <ng-template #tracking_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"bg-none w-full flex items-center px-2 py-1 text-left\"\n                [matMenuTriggerFor]=\"tracking_menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <div class=\"capitalize flex-1\">\n                    {{\n                        (row.extension_data?.tracking | splitjoin) ||\n                            'In Storage'\n                    }}\n                </div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setTracking(row, 'in_storage')\">\n                    In Storage\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'in_transit')\">\n                    In Transit\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'at_location')\">\n                    At Location\n                </button>\n            </mat-menu>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetLocationModalComponent {\n    public readonly asset = this._state.active_product;\n    public readonly requests = this._state.active_product_requests;\n\n    public selected: Booking;\n    public selected_feature;\n\n    public loading = {};\n\n    public async updateFeatures() {\n        const space = await this._space.transform(\n            this.selected.extension_data?.location_id\n        );\n        this.selected_feature = this.selected\n            ? [\n                  {\n                      location: space.map_id,\n                      content: MapPinComponent,\n                      z_index: 99,\n                      data: {\n                          message: `${\n                              space.display_name || space.name\n                          } is here`,\n                      },\n                  },\n              ]\n            : [];\n    }\n\n    public async setTracking(item: any, state: string) {\n        this.loading[item.id] = true;\n        await this._state.setTracking(item, state);\n        this.loading[item.id] = false;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _org: OrganisationService,\n        private _space: SpacePipe\n    ) {}\n\n    public level(zones) {\n        return this._org.levelWithID(zones);\n    }\n}\n","import { Component, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    AsyncHandler,\n    flatten,\n    openConfirmModal,\n    unique,\n} from '@placeos/common';\nimport { CustomTooltipComponent } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first, map } from 'rxjs/operators';\nimport { AssetLocationModalComponent } from './asset-location-modal.component';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    Asset,\n    AssetPurchaseOrder,\n    deleteAsset,\n    deleteAssetPurchaseOrder,\n    removeAssetRequests,\n} from '@placeos/assets';\nimport { addMinutes } from 'date-fns';\nimport { combineLatest } from 'rxjs';\n\n@Component({\n    selector: 'asset-view',\n    template: `\n        <div\n            class=\"h-full w-full flex flex-col\"\n            *ngIf=\"!loading && (item | async); else loading_state\"\n        >\n            <div\n                class=\"flex items-center space-x-4 p-2 bg-base-100 border-b border-base-200\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    [routerLink]=\"[base_route, 'list', 'items']\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-2\">Back</div>\n                    </div>\n                </a>\n                <div class=\"flex items-center space-x-2 font-medium\">\n                    <span>Assets</span>\n                    <span>\n                        <app-icon class=\"text-2xl\">chevron_right</app-icon>\n                    </span>\n                    <span>{{ (item | async)?.category?.name }}</span>\n                    <span>\n                        <app-icon class=\"text-2xl\">chevron_right</app-icon>\n                    </span>\n                    <span>{{ (item | async)?.name }}</span>\n                </div>\n            </div>\n            <div class=\"flex items-center\">\n                <div class=\"bg-base-100 flex-1 w-1/2 h-[22.5rem]\">\n                    <image-carousel\n                        [images]=\"(item | async)?.images || []\"\n                    ></image-carousel>\n                </div>\n                <div class=\"w-[32rem] h-[22.5rem] px-4 flex flex-col\">\n                    <div\n                        class=\"w-full flex items-center justify-between border-b border-base-200\"\n                    >\n                        <div class=\"font-medium\">\n                            {{ (item | async)?.name }}\n                        </div>\n                        <div class=\"flex items-center text-sm \">\n                            <a\n                                button\n                                btn\n                                matRipple\n                                class=\"clear\"\n                                [routerLink]=\"[base_route, 'manage', 'group']\"\n                                [queryParams]=\"{ id: (item | async)?.id }\"\n                            >\n                                <div\n                                    class=\"flex items-center text-blue-600 hover:text-blue-900\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                    <div class=\"mr-2 underline\">Edit</div>\n                                </div>\n                            </a>\n                            <div class=\"w-px h-4 bg-base-200\"></div>\n                            <button btn matRipple class=\"clear\">\n                                <div\n                                    class=\"flex items-center text-blue-600 hover:text-blue-900\"\n                                    customTooltip\n                                    [content]=\"delete_tooltip\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                    <div class=\"mr-2 underline\">Delete</div>\n                                </div>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"py-4 w-full flex-1 h-1/2 overflow-auto\">\n                        <ng-container\n                            *ngIf=\"\n                                (item | async)?.description;\n                                else no_desc_state\n                            \"\n                        >\n                            {{\n                                (item | async)?.description ||\n                                    '~No Description~'\n                            }}\n                        </ng-container>\n                        <ng-template #no_desc_state>\n                            <span class=\"opacity-30\">No Description</span>\n                        </ng-template>\n                    </div>\n                    <div\n                        class=\"rounded bg-base-100 shadow border border-base-200 w-full divide-y divide-base-200\"\n                    >\n                        <div class=\"flex items-center justify-between p-3\">\n                            <div class=\"pl-2\">\n                                Available:\n                                {{\n                                    (asset_list | async).length -\n                                        (requests | async)?.length || 0\n                                }}\n                            </div>\n                            <!-- <button\n                                btn\n                                matRipple\n                                [disabled]=\"\n                                    (asset_list | async).length -\n                                        (requests | async)?.length ===\n                                    0\n                                \"\n                            >\n                                Assign to Location\n                            </button> -->\n                        </div>\n                        <div class=\"flex items-center justify-between p-3\">\n                            <div class=\"pl-2\">\n                                In Use:\n                                {{ (requests | async)?.length || 0 }}\n                            </div>\n                            <button\n                                btn\n                                matRipple\n                                (click)=\"viewLocations()\"\n                                [disabled]=\"\n                                    (asset_list | async).length -\n                                        (requests | async)?.length !==\n                                    0\n                                \"\n                            >\n                                View Locations\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <mat-tab-group class=\"flex-1 h-px\">\n                <mat-tab label=\"Assets\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">Assets</h3>\n                        <div class=\"flex w-full items-center space-x-2 mb-2\">\n                            <a\n                                btn\n                                matRipple\n                                class=\"flex-1\"\n                                [routerLink]=\"[base_route, 'manage', 'asset']\"\n                                [queryParams]=\"{ group_id: (item | async)?.id }\"\n                            >\n                                Add Asset\n                            </a>\n                            <a\n                                btn\n                                matRipple\n                                class=\"flex-1\"\n                                [routerLink]=\"[\n                                    base_route,\n                                    'manage',\n                                    'asset-bulk'\n                                ]\"\n                                [queryParams]=\"{ group_id: (item | async)?.id }\"\n                            >\n                                Bulk Add Asset\n                            </a>\n                        </div>\n                        <custom-table\n                            asset-view\n                            class=\"w-full block text-sm\"\n                            [dataSource]=\"(asset_list | async) || []\"\n                            [columns]=\"[\n                                'id',\n                                'identifier',\n                                'serial_number',\n                                'actions'\n                            ]\"\n                            [display_column]=\"[\n                                'ID',\n                                'Label/Friendly Name',\n                                'Serial Number',\n                                ' '\n                            ]\"\n                            [column_size]=\"['10r', '14r', '8r', 'flex']\"\n                            [template]=\"{\n                                actions: action_template,\n                            }\"\n                            empty=\"No assets for this product\"\n                        >\n                        </custom-table>\n                        <ng-template #action_template let-row=\"row\">\n                            <div class=\"flex w-full items-center justify-end\">\n                                <a\n                                    btn\n                                    icon\n                                    matRipple\n                                    [routerLink]=\"[\n                                        base_route,\n                                        'manage',\n                                        'asset'\n                                    ]\"\n                                    [queryParams]=\"{\n                                        id: row.id,\n                                        group_id: (item | async)?.id\n                                    }\"\n                                    class=\"clear\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                </a>\n                                <button\n                                    btn\n                                    icon\n                                    matRipple\n                                    (click)=\"removeAsset(row)\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                </button>\n                            </div>\n                        </ng-template>\n                    </div>\n                </mat-tab>\n                <mat-tab label=\"Specifications\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">General</h3>\n                        <div\n                            data-table\n                            class=\"bg-base-100 border border-base-200\"\n                        >\n                            <div class=\"flex items-center p-2\">\n                                <label>Brand</label>\n                                <div>\n                                    {{ (item | async)?.brand || '~None~' }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </mat-tab>\n                <mat-tab label=\"Purchase information\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">Purchase Orders</h3>\n                        <a\n                            btn\n                            matRipple\n                            class=\"mb-2\"\n                            [routerLink]=\"[\n                                base_route,\n                                'manage',\n                                'purchase-order'\n                            ]\"\n                            [queryParams]=\"{ group_id: (item | async)?.id }\"\n                        >\n                            Add Purchase Order\n                        </a>\n\n                        <custom-table\n                            asset-view\n                            class=\"w-full block text-sm\"\n                            [dataSource]=\"(item | async)?.purchase_orders || []\"\n                            [columns]=\"[\n                                'purchase_order_number',\n                                'invoice_number',\n                                'expected_service_start_date',\n                                'expected_service_end_date',\n                                'actions'\n                            ]\"\n                            [display_column]=\"[\n                                'Order Number',\n                                'Invoice Number',\n                                'Service Start',\n                                'Service End',\n                                ' '\n                            ]\"\n                            [column_size]=\"['10r', '10r', '10r', '10r', 'flex']\"\n                            [template]=\"{\n                                actions: po_action_template,\n                                expected_service_start_date: date_template,\n                                expected_service_end_date: date_template\n                            }\"\n                            empty=\"No assets for this product\"\n                        >\n                        </custom-table>\n                        <ng-template #po_action_template let-row=\"row\">\n                            <div class=\"flex w-full items-center justify-end\">\n                                <a\n                                    btn\n                                    icon\n                                    matRipple\n                                    [routerLink]=\"[\n                                        base_route,\n                                        'manage',\n                                        'purchase-order'\n                                    ]\"\n                                    [queryParams]=\"{\n                                        id: row.id,\n                                        group_id: row?.id\n                                    }\"\n                                    class=\"clear\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                </a>\n                                <button\n                                    btn\n                                    icon\n                                    matRipple\n                                    (click)=\"removePurchaseOrder(row)\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                </button>\n                            </div>\n                        </ng-template>\n                    </div>\n                </mat-tab>\n            </mat-tab-group>\n        </div>\n        <ng-template #loading_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Loading product details...</p>\n            </div>\n        </ng-template>\n        <ng-template #date_template let-data=\"data\">\n            {{ data * 1000 | date: 'mediumDate' }}\n            <span *ngIf=\"!data\" class=\"opacity-30\"> No Date </span>\n        </ng-template>\n        <ng-template #delete_tooltip>\n            <div\n                class=\"p-4 bg-base-100 rounded my-2 text-center w-[18rem]\"\n                *ngIf=\"!deleting; else delete_loading\"\n            >\n                <p>Are you sure you want to permanently delete this product?</p>\n                <div class=\"flex items-center space-x-2 mt-6\">\n                    <button\n                        btn\n                        matRipple\n                        class=\"inverse flex-1 w-24\"\n                        (click)=\"closeTooltip()\"\n                    >\n                        No\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        class=\"error flex-1 w-24\"\n                        (click)=\"deleteAsset()\"\n                    >\n                        Yes, delete\n                    </button>\n                </div>\n            </div>\n            <ng-template #delete_loading>\n                <div\n                    class=\"p-4 bg-base-100 rounded my-2 w-64 h-36 flex flex-col items-center justify-center space-y-2\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>Deleting product details...</p>\n                </div>\n            </ng-template>\n        </ng-template>\n        <ng-template #empty_invoices>\n            <div class=\"p-2 opacity-30\">No purchase orders</div>\n        </ng-template>\n        <ng-template #empty_items>\n            <div class=\"p-2 opacity-30\">No assets</div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n            }\n\n            [data-table] > div:nth-child(2n) {\n                background: #0001;\n            }\n\n            label {\n                width: 10rem;\n                min-width: 0;\n            }\n        `,\n    ],\n})\nexport class AssetViewComponent extends AsyncHandler {\n    public loading = false;\n    public deleting = false;\n    public readonly item = this._state.active_product;\n    public readonly asset_list = combineLatest([\n        this.item,\n        this._state.extra_assets,\n    ]).pipe(\n        map(([item, assets]) => {\n            if (!item) return [];\n            return unique(\n                [\n                    ...item.assets,\n                    ...assets.filter((_) => _.type_id === item.id),\n                ],\n                'id'\n            );\n        })\n    );\n    public readonly requests = this._state.active_product_requests.pipe(\n        map((req) =>\n            req.filter(\n                (_) =>\n                    _.date <= Date.now() &&\n                    addMinutes(_.date, _.duration).valueOf() >= Date.now()\n            )\n        )\n    );\n\n    @ViewChild(CustomTooltipComponent)\n    public _tooltip_el: CustomTooltipComponent;\n\n    public async deleteAsset() {\n        this.deleting = true;\n        await this._state.deleteActiveProduct();\n        this.deleting = false;\n        this._router.navigate([this._state.base_route, 'list', 'items']);\n        this.closeTooltip();\n    }\n\n    public closeTooltip() {\n        this._tooltip_el?.close();\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _state: AssetManagerStateService,\n        private _dialog: MatDialog,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public viewLocations() {\n        this._dialog.open(AssetLocationModalComponent);\n    }\n\n    public ngOnInit() {\n        this.loading = true;\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((params) => {\n                if (params.has('id')) {\n                    this._state.setOptions({ active_item: params.get('id') });\n                }\n            })\n        );\n        this.timeout(\n            'no_asset',\n            () => this._router.navigate([this._state.base_route]),\n            1000\n        );\n        this._state.active_product.pipe(first((_) => !!_)).subscribe(() => {\n            this.clearTimeout('no_asset');\n            this.loading = false;\n        });\n    }\n\n    public async removeAsset(asset: Asset) {\n        const resp = await openConfirmModal(\n            {\n                title: 'Delete asset',\n                content: `Are you sure you want to delete this asset?`,\n                confirm_text: 'Delete',\n                icon: { content: 'delete' },\n            },\n            this._dialog\n        );\n        if (resp.reason !== 'done') return;\n        resp.loading('Deleting asset...');\n        await deleteAsset(asset.id).toPromise();\n        await removeAssetRequests(asset.id);\n        const item = await this._state.active_product.pipe(first()).toPromise();\n        this._state.setOptions({ active_item: '' });\n        setTimeout(\n            () => this._state.setOptions({ active_item: item.id }),\n            1000\n        );\n        resp.close();\n    }\n\n    public async removePurchaseOrder(asset: AssetPurchaseOrder) {\n        const resp = await openConfirmModal(\n            {\n                title: 'Delete purchase order',\n                content: `Are you sure you want to delete this purchase order?`,\n                confirm_text: 'Delete',\n                icon: { content: 'delete' },\n            },\n            this._dialog\n        );\n        if (resp.reason !== 'done') return;\n        resp.loading('Deleting purchase order...');\n        await deleteAssetPurchaseOrder(asset.id).toPromise();\n        const item = await this._state.active_product.pipe(first()).toPromise();\n        this._state.setOptions({ active_item: '' });\n        setTimeout(\n            () => this._state.setOptions({ active_item: item.id }),\n            1000\n        );\n        resp.close();\n    }\n}\n","import { Pipe } from '@angular/core';\nimport { formatDuration } from 'date-fns';\n\n@Pipe({\n    name: 'duration',\n})\nexport class DurationFormatPipe {\n    public transform(value: number, short = true): string {\n        let duration = formatDuration({\n            days: Math.floor(value / (24 * 60)),\n            hours: Math.floor((value / 60) % 24),\n            minutes: Math.floor(value % 60),\n        });\n        if (!short) return duration;\n        return duration\n            .replace(' day', 'd')\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n    AssetManagerStateService,\n    AssetRequest,\n} from './asset-manager-state.service';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'asset-request-details',\n    template: `\n        <div\n            class=\"fixed inset-0 bg-neutral z-50\"\n            *ngIf=\"request\"\n            (click)=\"request = null; requestChange.emit(request)\"\n        >\n            <div\n                class=\"absolute inset-y-0 right-0 bg-base-100 w-[480px]\"\n                (click)=\"$event.stopPropagation()\"\n            >\n                <button\n                    icon\n                    matRipple\n                    (click)=\"request = null; requestChange.emit(request)\"\n                    class=\"absolute top-1 right-1\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <div class=\"border-b border-base-200 px-2 py-4 flex space-x-4\">\n                    <a-user-avatar\n                        [user]=\"{ name: request.user_name }\"\n                        class=\"text-xl\"\n                    ></a-user-avatar>\n                    <div details class=\"space-y-1\">\n                        <div class=\"font-medium\">{{ request.user_name }}</div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>mail</app-icon>\n                            <a\n                                class=\"underline\"\n                                [href]=\"'mailto:' + request.user_email\"\n                            >\n                                {{ request.user_email || 'staff@place.tech' }}\n                            </a>\n                        </div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>call</app-icon>\n                            <a\n                                class=\"underline\"\n                                [href]=\"'tel:' + request.user_phone\"\n                            >\n                                {{ request.user_phone || '04 1234 5678' }}\n                            </a>\n                        </div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>work_outline</app-icon>\n                            <div>{{ request.user_company || 'PlaceOS' }}</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"px-3 py-4 relative\">\n                    <div class=\"flex items-center space-x-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-base-200 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">send</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Asset Requested</div>\n                    </div>\n                    <div class=\"pl-10 flex flex-col mt-1\">\n                        {{ request.title }}\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-base-200 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">event</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Date For</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ request.date | date: 'EEEE, MMMM d, y' }}\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-base-200 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">schedule</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Period</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ request.date | date: time_format }} &ndash;\n                        {{\n                            request.date + request.duration * 60 * 1000\n                                | date: time_format\n                        }}\n                        ({{ request.duration | duration }})\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-base-200 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">place</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Floor</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ level(request.zones)?.display_name || 'N/A' }}\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-base-200 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">meeting_room</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Room</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ request.description }}\n                    </div>\n                    <div class=\"absolute top-4 right-4 text-sm\">\n                        <button\n                            matRipple\n                            class=\"rounded-3xl !bg-opacity-20 flex items-center px-2 py-1 w-full text-left space-x-2 mb-4\"\n                            [class.bg-success]=\"request.status === 'approved'\"\n                            [class.bg-error]=\"request.status === 'declined'\"\n                            [class.bg-warning]=\"request.status === 'tentative'\"\n                            [matMenuTriggerFor]=\"menu\"\n                            [disabled]=\"loading\"\n                        >\n                            <app-icon\n                                class=\"text-xl\"\n                                [class.text-green-600]=\"\n                                    request.status === 'approved'\n                                \"\n                                [class.text-red-600]=\"\n                                    request.status === 'declined'\n                                \"\n                                [class.text-yellow-400]=\"\n                                    request.status === 'tentative'\n                                \"\n                            >\n                                {{\n                                    request.status === 'approved'\n                                        ? 'done'\n                                        : request.status === 'declined'\n                                        ? 'close'\n                                        : 'warning'\n                                }}\n                            </app-icon>\n                            <div class=\"capitalize flex-1\">\n                                {{ request.status }}\n                            </div>\n                            <app-icon class=\"text-2xl\">expand_more</app-icon>\n                        </button>\n                        <mat-menu #menu=\"matMenu\" class=\"w-36\">\n                            <button\n                                mat-menu-item\n                                (click)=\"setStatus('approved')\"\n                            >\n                                Approve\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setStatus('declined')\"\n                            >\n                                Decline\n                            </button>\n                        </mat-menu>\n                        <button\n                            matRipple\n                            class=\"bg-none w-full flex items-center px-2 py-1 text-left border border-base-200 rounded-none\"\n                            [matMenuTriggerFor]=\"tracking_menu\"\n                            [disabled]=\"loading\"\n                        >\n                            <div class=\"capitalize flex-1\">\n                                {{\n                                    (request.extension_data?.tracking\n                                        | splitjoin) || 'In Storage'\n                                }}\n                            </div>\n                            <app-icon class=\"text-2xl\">expand_more</app-icon>\n                        </button>\n                        <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('in_storage')\"\n                            >\n                                In Storage\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('in_transit')\"\n                            >\n                                In Transit\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('at_location')\"\n                            >\n                                At Location\n                            </button>\n                        </mat-menu>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AssetRequestDetailsComponent {\n    @Input() public request: any;\n    @Output() public requestChange = new EventEmitter<any>();\n\n    public loading = false;\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public level(zones) {\n        return this._org.levelWithID(zones);\n    }\n\n    public async setStatus(status: string) {\n        this.loading = true;\n        await this._state.setStatus(this.request, status);\n        (this.request as any).status = status;\n        this.loading = false;\n    }\n\n    public async setTracking(state: string) {\n        this.loading = true;\n        await this._state.setTracking(this.request, state);\n        (this.request as any).extension_data.tracking = state;\n        this.loading = false;\n    }\n}\n","import { Component } from '@angular/core';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'app-asset-request-list',\n    template: `\n        <div\n            class=\"relative -left-4 w-[calc(100%+2rem)] mt-4 h-[calc(100%-1rem)] flex flex-col\"\n        >\n            <div\n                class=\"bg-base-100 px-4 border-t border-b border-base-200 flex items-center justify-between\"\n            >\n                <div class=\"opacity-60 text-sm\">\n                    {{ (requests | async)?.length }} asset request{{\n                        (requests | async)?.length === '1' ? '' : 's'\n                    }}\n                </div>\n                <date-options\n                    [date]=\"(filters | async)?.date\"\n                    (dateChange)=\"setDate($event)\"\n                ></date-options>\n            </div>\n            <div class=\"w-full overflow-auto h-1/2 flex-1 p-4\">\n                <custom-table\n                    asset-requests\n                    class=\"block min-w-[82rem] text-sm\"\n                    [dataSource]=\"requests\"\n                    [columns]=\"[\n                        'user',\n                        'title',\n                        'date',\n                        'period',\n                        'zones',\n                        'description',\n                        'approval',\n                        'tracking'\n                    ]\"\n                    [display_column]=\"[\n                        'Requester',\n                        'Asset',\n                        'Date',\n                        'Time',\n                        'Floor',\n                        'Location',\n                        'Approval',\n                        'Tracking'\n                    ]\"\n                    [column_size]=\"[\n                        'flex',\n                        '12r',\n                        '',\n                        '9.5r',\n                        '6r',\n                        '12r',\n                        '10r',\n                        '10r'\n                    ]\"\n                    [template]=\"{\n                        user: user_template,\n                        assets: assets_template,\n                        date: date_template,\n                        period: period_template,\n                        approval: approval_template,\n                        tracking: tracking_template,\n                        zones: level_template,\n                    }\"\n                    [empty]=\"\n                        (filters | async)?.search\n                            ? 'No matching asset requests'\n                            : 'There are no asset requests for the currently selected date.'\n                    \"\n                    (row_clicked)=\"request = $event\"\n                ></custom-table>\n            </div>\n        </div>\n        <ng-template #user_template let-row=\"row\">\n            <div class=\"flex items-center space-x-2\">\n                <a-user-avatar [user]=\"{ name: row.user_name }\"></a-user-avatar>\n                <div class=\"flex-1\">{{ row.user_name }}</div>\n            </div>\n        </ng-template>\n        <ng-template #assets_template let-row=\"row\">\n            <div class=\"flex flex-col\">\n                <div *ngFor=\"let asset of row.extension_data?.assets || []\">\n                    {{ asset.amount || 1 }}× {{ asset.name }}\n                </div>\n            </div>\n        </ng-template>\n        <ng-template #date_template let-row=\"row\">\n            {{ row.date | date: 'mediumDate' }}\n        </ng-template>\n        <ng-template #level_template let-data=\"data\">\n            {{ level(data)?.display_name || 'N/A' }}\n        </ng-template>\n        <ng-template #period_template let-row=\"row\">\n            {{ row.date | date: time_format }} &ndash;\n            {{ row.date + row.duration * 60 * 1000 | date: time_format }}\n        </ng-template>\n        <ng-template #approval_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"rounded-3xl !bg-opacity-20 flex items-center px-2 py-1 w-full text-left space-x-2\"\n                [class.bg-success]=\"row.status === 'approved'\"\n                [class.bg-error]=\"row.status === 'declined'\"\n                [class.bg-warning]=\"row.status === 'tentative'\"\n                [matMenuTriggerFor]=\"menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <app-icon\n                    class=\"text-xl\"\n                    [class.text-green-600]=\"row.status === 'approved'\"\n                    [class.text-red-600]=\"row.status === 'declined'\"\n                    [class.text-yellow-400]=\"row.status === 'tentative'\"\n                >\n                    {{\n                        row.status === 'approved'\n                            ? 'done'\n                            : row.status === 'declined'\n                            ? 'close'\n                            : 'warning'\n                    }}\n                </app-icon>\n                <div class=\"capitalize flex-1\">{{ row.status }}</div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setStatus(row, 'approved')\">\n                    Approve\n                </button>\n                <button mat-menu-item (click)=\"setStatus(row, 'declined')\">\n                    Decline\n                </button>\n            </mat-menu>\n        </ng-template>\n        <ng-template #tracking_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"bg-none w-full flex items-center px-2 py-1 text-left\"\n                [matMenuTriggerFor]=\"tracking_menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <div class=\"capitalize flex-1\">\n                    {{\n                        (row.extension_data?.tracking | splitjoin) ||\n                            'In Storage'\n                    }}\n                </div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setTracking(row, 'in_storage')\">\n                    In Storage\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'in_transit')\">\n                    In Transit\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'at_location')\">\n                    At Location\n                </button>\n            </mat-menu>\n        </ng-template>\n        <asset-request-details [(request)]=\"request\"></asset-request-details>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetRequestListComponent extends AsyncHandler {\n    public readonly requests = this._state.filtered_requests;\n    public readonly filters = this._state.options;\n    public request;\n\n    public readonly loading: Record<string, boolean> = {};\n\n    public async setStatus(item: any, status: string) {\n        this.loading[item.id] = true;\n        await this._state.setStatus(item, status);\n        this.loading[item.id] = false;\n    }\n\n    public async setTracking(item: any, state: string) {\n        this.loading[item.id] = true;\n        await this._state.setTracking(item, state);\n        this.loading[item.id] = false;\n    }\n\n    public readonly setDate = (date) => this._state.setOptions({ date });\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public level(zones) {\n        return this._org.levelWithID(zones);\n    }\n\n    public ngOnInit() {\n        this.subscription('polling', this._state.startPolling());\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { combineLatest } from 'rxjs';\n\n@Component({\n    selector: 'app-asset-item-list',\n    template: `\n        <div\n            class=\"overflow-auto pb-2 w-full h-full\"\n            *ngIf=\"\n                (categories | async)?.length && (products | async)?._count;\n                else empty_state\n            \"\n        >\n            <ng-container *ngFor=\"let group of categories | async\">\n                <div class=\"\" *ngIf=\"(products | async)[group.id]?.length\">\n                    <h2 class=\"py-2\">\n                        <span class=\"font-medium\">{{ group?.name }}</span>\n                        <span class=\"text-xs\">\n                            ({{ (products | async)[group.id]?.length }} item{{\n                                (products | async)[group.id]?.length === 1\n                                    ? ''\n                                    : 's'\n                            }})\n                        </span>\n                    </h2>\n                    <ng-container [ngSwitch]=\"(options | async).view\">\n                        <ng-container *ngSwitchCase=\"'list'\">\n                            <div\n                                class=\"rounded overflow-hidden bg-base-100 border border-base-200 divide-y divide-base-200\"\n                            >\n                                <a\n                                    matRipple\n                                    class=\"flex items-center text-left space-x-4 p-4 border border-base-200 hover:border-indigo-400 rounded\"\n                                    *ngFor=\"\n                                        let asset of (products | async)[\n                                            group.id\n                                        ]\n                                    \"\n                                    [routerLink]=\"[\n                                        base_route,\n                                        'view',\n                                        asset.id\n                                    ]\"\n                                >\n                                    <div\n                                        class=\"h-12 w-12 flex items-center justify-center border border-base-200 bg-base-200 overflow-hidden\"\n                                    >\n                                        <img\n                                            *ngIf=\"\n                                                asset.images?.length;\n                                                else placeholder\n                                            \"\n                                            auth\n                                            [source]=\"asset.images[0]\"\n                                            class=\"min-w-full min-h-full object-cover\"\n                                        />\n                                        <ng-template #placeholder>\n                                            <img\n                                                class=\"m-auto\"\n                                                src=\"assets/icons/asset-placeholder.svg\"\n                                            />\n                                        </ng-template>\n                                    </div>\n                                    <div\n                                        class=\"flex-1 flex flex-col justify-center\"\n                                    >\n                                        <div class=\"truncate\">\n                                            {{ asset.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs opacity-60\"\n                                            *ngIf=\"\n                                                asset.asset_count ||\n                                                asset.assets?.length\n                                            \"\n                                        >\n                                            Assets:\n                                            {{\n                                                asset.asset_count ||\n                                                    asset.assets?.length ||\n                                                    0\n                                            }}\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            <div\n                                class=\"flex items-center overflow-hidden flex-wrap -mx-2 w-full\"\n                            >\n                                <a\n                                    matRipple\n                                    class=\"bg-base-100 rounded shadow w-40 h-44 text-left m-2 border border-base-200 hover:border-indigo-400 flex flex-col\"\n                                    *ngFor=\"\n                                        let asset of (products | async)[\n                                            group.id\n                                        ]\n                                    \"\n                                    [routerLink]=\"[\n                                        base_route,\n                                        'view',\n                                        asset.id\n                                    ]\"\n                                >\n                                    <div\n                                        class=\"w-full h-32 flex items-center justify-center bg-base-200 overflow-hidden\"\n                                    >\n                                        <img\n                                            auth\n                                            *ngIf=\"\n                                                asset.images?.length;\n                                                else placeholder\n                                            \"\n                                            [source]=\"asset.images[0]\"\n                                            class=\"min-w-full min-h-full object-cover\"\n                                        />\n                                        <ng-template #placeholder>\n                                            <img\n                                                class=\"m-auto w-16\"\n                                                src=\"assets/icons/asset-placeholder.svg\"\n                                            />\n                                        </ng-template>\n                                    </div>\n                                    <div\n                                        class=\"border-t border-base-200 w-full px-3 py-1 flex-1 flex flex-col justify-center\"\n                                    >\n                                        <div class=\"truncate\">\n                                            {{ asset.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs opacity-60\"\n                                            *ngIf=\"\n                                                asset.asset_count ||\n                                                asset.assets?.length\n                                            \"\n                                        >\n                                            Assets:\n                                            {{\n                                                asset.asset_count ||\n                                                    asset.assets?.length ||\n                                                    0\n                                            }}\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </ng-container>\n                    </ng-container>\n                </div>\n            </ng-container>\n        </div>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n        <ng-template #empty_state>\n            <div\n                class=\"flex flex-col items-center justify-center p-8 space-y-4 h-full w-full\"\n            >\n                <p class=\"opacity-40\">\n                    {{\n                        (options | async)?.search\n                            ? 'No matching assets found'\n                            : 'No assets available. Create a new asset with the button below'\n                    }}\n                </p>\n                <a\n                    button\n                    btn\n                    matRipple\n                    *ngIf=\"!(options | async)?.search\"\n                    [routerLink]=\"[base_route, 'manage', 'group']\"\n                >\n                    Create New Product\n                </a>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetItemListComponent {\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n    public readonly categories = this._state.categories;\n    public readonly products = this._state.product_mapping;\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(private _state: AssetManagerStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    AssetPurchaseOrder,\n    generateAssetPurchaseOrderForm,\n    queryAssetGroups,\n    queryAssets,\n    saveAssetPurchaseOrder,\n    showAssetPurchaseOrder,\n} from '@placeos/assets';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler, notifyError, notifySuccess } from '@placeos/common';\nimport { addYears, getUnixTime } from 'date-fns';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { filter, shareReplay, switchMap } from 'rxjs/operators';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'asset-purchase-order-form',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Purchase Order\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto\" [formGroup]=\"form\">\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"order-number\">\n                            Order Number<span>*</span>\n                        </label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"order-number\"\n                                placeholder=\"Order Number\"\n                                formControlName=\"order_number\"\n                            />\n                            <mat-error>Order number is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"invoice-number\"> Invoice Number </label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"invoice-number\"\n                                placeholder=\"Invoice Number\"\n                                formControlName=\"invoice_number\"\n                            />\n                            <mat-error>Invoice number is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex space-x-2\">\n                        <div class=\"flex-1 flex flex-col space-y-2\">\n                            <label for=\"purchase-date\"> Purchase Date </label>\n                            <a-date-field\n                                name=\"purchase-date\"\n                                [from]=\"from\"\n                                formControlName=\"purchase_date\"\n                            ></a-date-field>\n                        </div>\n                        <div class=\"flex-1 flex flex-col space-y-2\">\n                            <label for=\"unit-price\"> Purchase Price </label>\n                            <mat-form-field appearance=\"outline\" class=\"w-full\">\n                                <div matPrefix>$</div>\n                                <input\n                                    matInput\n                                    name=\"unit-price\"\n                                    [from]=\"from\"\n                                    formControlName=\"unit_price\"\n                                />\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"flex space-x-2\">\n                        <div class=\"flex flex-col space-y-2\">\n                            <label for=\"depreciation-start-date\">\n                                Expected Service Start Date\n                            </label>\n                            <a-date-field\n                                name=\"depreciation-start-date\"\n                                [from]=\"from\"\n                                formControlName=\"expected_service_start_date\"\n                            ></a-date-field>\n                        </div>\n                        <div class=\"flex flex-col space-y-2\">\n                            <label for=\"depreciation-end-date\">\n                                Expected Service End Date\n                            </label>\n                            <a-date-field\n                                name=\"depreciation-end-date\"\n                                formControlName=\"expected_service_end_date\"\n                            ></a-date-field>\n                        </div>\n                    </div>\n                    <h3 *ngIf=\"item?.id\" class=\"font-medium mb-2\">\n                        Associated Assets ({{\n                            (asset_list | async)?.length || '0'\n                        }})\n                    </h3>\n                    <custom-table\n                        asset-view\n                        class=\"w-full block text-sm\"\n                        *ngIf=\"item?.id\"\n                        [dataSource]=\"(asset_list | async) || []\"\n                        [columns]=\"[\n                            'name',\n                            'identifier',\n                            'serial_number',\n                            'actions'\n                        ]\"\n                        [display_column]=\"[\n                            'Name',\n                            'Label/Friendly Name',\n                            'Serial Number',\n                            ' '\n                        ]\"\n                        [column_size]=\"['10r', '11r', '8r', 'flex']\"\n                        [template]=\"{\n                            actions: action_template,\n                        }\"\n                        empty=\"No assets for this purchase order\"\n                    >\n                    </custom-table>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-base-200\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            product_id\n                                ? [base_route, 'view', product_id]\n                                : [base_route, 'list', 'purchase-orders']\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetPurchaseOrderFormComponent extends AsyncHandler {\n    public readonly form = generateAssetPurchaseOrderForm();\n    public loading: string = '';\n    public product_id: string;\n    public readonly _id = new BehaviorSubject('');\n    public item: AssetPurchaseOrder;\n    public readonly from = addYears(Date.now(), -5);\n    public readonly asset_list = combineLatest([\n        this._id,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!_ && !!bld),\n        switchMap(([id]) => queryAssets({ order_id: id })),\n        switchMap(async (asset_list) => {\n            const groups = await queryAssetGroups({\n                zone_id: this._org.building.id,\n                limit: 500,\n            }).toPromise();\n            return asset_list.map((asset) => ({\n                ...asset,\n                name:\n                    groups.find((_) => _.id === (asset as any).asset_type_id)\n                        ?.name || asset.id,\n            }));\n        }),\n        shareReplay(1)\n    );\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading purchase order details...';\n                    const asset = await showAssetPurchaseOrder(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!asset) {\n                        notifyError('Unable to load purchase order details.');\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.form.patchValue({\n                        ...asset,\n                        order_number: asset.purchase_order_number,\n                        purchase_date: asset.purchase_date * 1000,\n                        expected_service_end_date:\n                            asset.expected_service_end_date * 1000,\n                        expected_service_start_date:\n                            asset.expected_service_start_date * 1000,\n                    });\n                    this.item = asset;\n                    this._id.next(asset.id);\n                    this.loading = '';\n                }\n                if (params.get('group_id')) {\n                    this.product_id = params.get('group_id');\n                }\n            })\n        );\n        this._state.setOptions({ active_item: null });\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        data.purchase_date = getUnixTime(data.purchase_date) || null;\n        data.expected_service_start_date =\n            getUnixTime(data.expected_service_start_date) ||\n            this.item?.expected_service_start_date ||\n            null;\n        data.expected_service_end_date =\n            getUnixTime(data.expected_service_end_date) ||\n            this.item?.expected_service_end_date ||\n            null;\n        const item = await saveAssetPurchaseOrder(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving purchase order.: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        notifySuccess('Successfully saved purchase order.');\n        this._state.postChange();\n        if (this.product_id) {\n            this._router.navigate([this.base_route, 'view', this.product_id]);\n        } else {\n            this._router.navigate([this.base_route, 'list', 'purchase-orders']);\n        }\n        this.loading = '';\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    AssetGroup,\n    generateAssetForm,\n    saveAsset,\n    showAsset,\n    showAssetGroup,\n} from '@placeos/assets';\nimport {\n    AsyncHandler,\n    getInvalidFields,\n    notifyError,\n    notifySuccess,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'asset-form',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Asset\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto\" [formGroup]=\"form\">\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"name\">Product</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                [ngModel]=\"product?.name || 'No Product'\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                [disabled]=\"true\"\n                            />\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"serial-number\"> Serial Number </label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"serial-number\"\n                                    placeholder=\"Serial Number\"\n                                    formControlName=\"serial_number\"\n                                />\n                                <mat-error>Serial Number is required</mat-error>\n                            </mat-form-field>\n                        </div>\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"identifier\">Label/Friendly Name</label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"identifier\"\n                                    placeholder=\"Identifier, Asset ID or Barcode\"\n                                    formControlName=\"identifier\"\n                                />\n                                <mat-error>\n                                    Label/Friendly Name is required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"purchase-order-id\">\n                            Purchase Order ID\n                        </label>\n                        <mat-form-field appearance=\"outline\">\n                            <mat-select\n                                formControlName=\"purchase_order_id\"\n                                placeholder=\"Select Purchase Order\"\n                            >\n                                <mat-option\n                                    *ngFor=\"\n                                        let order of purchase_orders | async\n                                    \"\n                                    [value]=\"order.id\"\n                                >\n                                    {{\n                                        order.purchase_order_number ||\n                                            order.invoice_number\n                                    }}\n                                </mat-option>\n                                <mat-option\n                                    *ngIf=\"!(purchase_orders | async)?.length\"\n                                    class=\"opacity-60\"\n                                    [disabled]=\"true\"\n                                >\n                                    No purchase orders\n                                </mat-option>\n                            </mat-select>\n                            <mat-error>\n                                Purchase Order ID is required\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"serial-number\">Barcode</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"barcode\"\n                                placeholder=\"Barcode\"\n                                formControlName=\"barcode\"\n                            />\n                            <mat-error>Barcode is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-base-200\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            product\n                                ? [base_route, 'view', product.id]\n                                : [base_route]\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetFormComponent extends AsyncHandler {\n    public readonly form = generateAssetForm();\n    public readonly purchase_orders = this._state.purchase_orders;\n    public product: AssetGroup;\n    public loading: string = '';\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading Asset Details...';\n                    const asset = await showAsset(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!asset) {\n                        notifyError('Unable to load asset details.');\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.form.patchValue(asset);\n                    this.loading = '';\n                }\n                if (params.get('group_id')) {\n                    this.loading = 'Loading Product Details...';\n                    const product = await showAssetGroup(params.get('group_id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!product) {\n                        notifyError(\n                            'Unable to load associated product details.'\n                        );\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.product = product;\n                    this.form.patchValue({ type_id: product.id });\n                    this.loading = '';\n                }\n            })\n        );\n        this._state.setOptions({ active_item: null });\n    }\n\n    public async save() {\n        if (!this.form.valid) {\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form)}]`\n            );\n        }\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        const item = await saveAsset({\n            ...data,\n            zone_id: this._org.building.id,\n        } as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving asset: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this._state.postChange();\n        this._state.setExtraAssets(\n            [item].map((d) => ({ ...d, type_id: this.product.id }))\n        );\n        notifySuccess('Asset saved successfully.');\n        this._router.navigate([this.base_route, 'view', this.product?.id]);\n        this.loading = '';\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    AssetCategory,\n    generateAssetGroupForm,\n    saveAssetGroup,\n    showAssetGroup,\n} from '@placeos/assets';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AsyncHandler, notifyError, unique } from '@placeos/common';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'asset-group-form',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Product\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto p-2\" [formGroup]=\"form\">\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"name\">Name<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"name\"\n                                placeholder=\"Name of the product\"\n                                formControlName=\"name\"\n                            />\n                            <mat-error>Name is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"name\">Category<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <mat-select\n                                formControlName=\"category_id\"\n                                placeholder=\"Category of Product\"\n                                (click)=\"\n                                    current_category = form.value.category_id\n                                \"\n                            >\n                                <mat-option\n                                    *ngFor=\"let category of categories | async\"\n                                    [value]=\"category.id\"\n                                >\n                                    {{ category.name }}\n                                </mat-option>\n                                <mat-option\n                                    (click)=\"newCategory()\"\n                                    class=\"relative\"\n                                >\n                                    <div class=\"flex items-center space-x-2\">\n                                        <app-icon>add</app-icon>\n                                        <p>New Category</p>\n                                    </div>\n                                </mat-option>\n                            </mat-select>\n                            <mat-error>Category is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"brand\">Brand<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"brand\"\n                                placeholder=\"Brand of the product\"\n                                formControlName=\"brand\"\n                            />\n                            <mat-error>Brand is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"description\">Description</label>\n                        <mat-form-field appearance=\"outline\">\n                            <textarea\n                                matInput\n                                name=\"description\"\n                                placeholder=\"Description of the product\"\n                                formControlName=\"description\"\n                            ></textarea>\n                            <mat-error>Description is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"images\">Images</label>\n                        <image-list-field\n                            name=\"images\"\n                            formControlName=\"images\"\n                        ></image-list-field>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-base-200\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            form.value.id\n                                ? [base_route, 'view', form.value.id]\n                                : [base_route, 'list', 'items']\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetGroupFormComponent extends AsyncHandler {\n    public readonly form = generateAssetGroupForm();\n    public readonly new_category = new BehaviorSubject<AssetCategory>(null);\n    public readonly categories = combineLatest([\n        this._state.categories,\n        this.new_category,\n    ]).pipe(\n        map(([list, item]) => (item ? unique([...list, item], 'id') : list))\n    );\n    public loading: string = '';\n    public current_category: string;\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading Product Details...';\n                    const product = await showAssetGroup(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!product) {\n                        notifyError('Unable to load product details.');\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.form.patchValue(product);\n                    this.loading = '';\n                }\n            })\n        );\n    }\n\n    public async newCategory() {\n        this.form.patchValue({ category_id: this.current_category });\n        const category = await this._state.editCategory();\n        if (!category) return;\n        this.new_category.next(category);\n        this.form.patchValue({ category_id: category.id });\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        const item = await saveAssetGroup(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving Product: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this.loading = '';\n        this._state.postChange();\n        this._router.navigate([this.base_route, 'view', item.id]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-asset-purchase-order-list',\n    template: `\n        <div\n            class=\"relative -left-4 w-[calc(100%+2rem)] mt-4 h-[calc(100%-1rem)] flex flex-col\"\n        >\n            <div class=\"w-full overflow-auto h-1/2 flex-1 p-4\">\n                <custom-table\n                    purchase-orders\n                    class=\"block min-w-[52rem] text-sm\"\n                    [dataSource]=\"purchase_orders\"\n                    [columns]=\"[\n                        'purchase_order_number',\n                        'invoice_number',\n                        'purchase_date',\n                        'expected_service_start_date',\n                        'expected_service_end_date'\n                    ]\"\n                    [display_column]=\"[\n                        'Order Number',\n                        'Invoice Number',\n                        'Purchase Date',\n                        'Depreciation Start',\n                        'Depreciation End'\n                    ]\"\n                    [column_size]=\"['flex', '10r', '10r', '10r', '10r']\"\n                    [template]=\"{\n                    purchase_date: date_template,\n                    expected_service_start_date: date_template,\n                    expected_service_end_date: date_template,\n                }\"\n                    [empty]=\"\n                        (filters | async)?.search\n                            ? 'No matching purchase orders found.'\n                            : 'There are purchase orders for this building.'\n                    \"\n                    (row_clicked)=\"editOrder($event)\"\n                ></custom-table>\n            </div>\n        </div>\n        <ng-template #date_template let-data=\"data\">\n            <span class=\"opacity-30\" *ngIf=\"!data\">No Date set</span>\n            {{ data ? (data * 1000 | date: 'mediumDate') : '' }}\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetPurchaseOrderListComponent {\n    public readonly now = Date.now();\n    public readonly purchase_orders = combineLatest([\n        this._state.options,\n        this._state.purchase_orders,\n    ]).pipe(\n        map(([{ search }, list]) =>\n            list.filter(\n                (_) =>\n                    !search ||\n                    (_ as any).purchase_order_number\n                        .toLowerCase()\n                        .includes(search.toLowerCase()) ||\n                    _.invoice_number\n                        ?.toLowerCase()\n                        .includes(search.toLowerCase())\n            )\n        )\n    );\n    public readonly filters = this._state.options;\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _router: Router\n    ) {}\n\n    public editOrder(order) {\n        this._router.navigate(\n            [this._state.base_route, 'manage', 'purchase-order'],\n            {\n                queryParams: { id: order.id },\n            }\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    AssetGroup,\n    addAssetsInBulk,\n    generateAssetForm,\n    showAsset,\n    showAssetGroup,\n} from '@placeos/assets';\nimport {\n    AsyncHandler,\n    getInvalidFields,\n    notifyError,\n    notifySuccess,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'asset-bulk-form',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        Bulk {{ form.value.id ? 'Edit' : 'Add' }} Asset\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto\" [formGroup]=\"form\">\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"name\">Product</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                [ngModel]=\"product?.name || 'No Product'\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                [disabled]=\"true\"\n                            />\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"count\">\n                                Number of Assets to create\n                            </label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    [(ngModel)]=\"count\"\n                                    name=\"count\"\n                                    type=\"number\"\n                                    placeholder=\"Number of assets to add\"\n                                    [ngModelOptions]=\"{ standalone: true }\"\n                                />\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"identifier\">Label/Friendly Name</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"identifier\"\n                                placeholder=\"Identifier, Asset ID or Barcode\"\n                                formControlName=\"identifier\"\n                            />\n                            <mat-error>\n                                Label/Friendly Name is required\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"purchase-order-id\">\n                            Purchase Order ID\n                        </label>\n                        <mat-form-field appearance=\"outline\">\n                            <mat-select\n                                formControlName=\"purchase_order_id\"\n                                placeholder=\"Select Purchase Order\"\n                            >\n                                <mat-option\n                                    *ngFor=\"\n                                        let order of purchase_orders | async\n                                    \"\n                                    [value]=\"order.id\"\n                                >\n                                    {{\n                                        order.purchase_order_number ||\n                                            order.invoice_number\n                                    }}\n                                </mat-option>\n                                <mat-option\n                                    *ngIf=\"!(purchase_orders | async)?.length\"\n                                    class=\"opacity-60\"\n                                    [disabled]=\"true\"\n                                >\n                                    No purchase orders\n                                </mat-option>\n                            </mat-select>\n                            <mat-error>\n                                Purchase Order ID is required\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-base-200\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            product\n                                ? [base_route, 'view', product.id]\n                                : [base_route]\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetBulkFormComponent extends AsyncHandler {\n    public readonly form = generateAssetForm();\n    public readonly purchase_orders = this._state.purchase_orders;\n    public product: AssetGroup;\n    public count = 2;\n    public loading: string = '';\n\n    public get base_route() {\n        return this._state.base_route;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading Asset Details...';\n                    const asset = await showAsset(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!asset) {\n                        notifyError('Unable to load asset details.');\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.form.patchValue(asset);\n                    this.loading = '';\n                }\n                if (params.get('group_id')) {\n                    this.loading = 'Loading Product Details...';\n                    const product = await showAssetGroup(params.get('group_id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!product) {\n                        notifyError(\n                            'Unable to load associated product details.'\n                        );\n                        this._router.navigate([this.base_route]);\n                    }\n                    this.product = product;\n                    this.form.patchValue({ type_id: product.id });\n                    this.loading = '';\n                }\n            })\n        );\n        this._state.setOptions({ active_item: null });\n        this.count = 2;\n    }\n\n    public async save() {\n        if (!this.count && this.count < 1) {\n            return notifyError('Please enter a valid number of assets to add.');\n        }\n        if (!this.form.valid) {\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form)}]`\n            );\n        }\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        const list = await addAssetsInBulk(\n            new Array(this.count).fill({\n                ...data,\n                zone_id: this._org.building.id,\n            })\n        )\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving asset: ${e.message}`);\n                throw e;\n            });\n        this._state.setExtraAssets(\n            list.map((d) => ({ ...d, type_id: this.product.id }))\n        );\n        this.form.reset();\n        this._state.postChange();\n        notifySuccess(`Asset added ${list.length} successfully.`);\n        this._router.navigate([this.base_route, 'view', this.product?.id]);\n        this.loading = '';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { UIModule } from '../ui/ui.module';\n\nimport { AssetListingComponent } from './asset-listing.component';\nimport { AssetManagerTopbarComponent } from './asset-manager-topbar.component';\nimport { AssetManagerComponent } from './asset-manager.component';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { AssetViewComponent } from './asset-view.component';\nimport { AssetRequestListComponent } from './asset-request-list.component';\nimport { ComponentsModule } from '@placeos/components';\nimport { AssetItemListComponent } from './asset-item-list.component';\nimport { SplitJoinPipe } from './split-join.pipe';\nimport { AssetRequestDetailsComponent } from './asset-request-details.component';\nimport { DurationFormatPipe } from './duration.pipe';\nimport { AssetLocationModalComponent } from './asset-location-modal.component';\nimport { AssetPurchaseOrderFormComponent } from './asset-purchase-order-form.component';\nimport { AssetCategoryFormComponent } from './asset-category-form.component';\nimport { AssetFormComponent } from './asset-form.component';\nimport { AssetGroupFormComponent } from './asset-group-form.component';\nimport { AssetPurchaseOrderListComponent } from './asset-purchase-order-list.component';\nimport { AssetBulkFormComponent } from './asset-bulk-form.component';\nimport { NewAssetManagerComponent } from './new-asset-manager.component';\nimport { AssetCategoryManagementModalComponent } from './asset-category-management-modal.component';\n\nconst COMPONENTS = [\n    NewAssetManagerComponent,\n    AssetManagerComponent,\n    AssetManagerTopbarComponent,\n    AssetListingComponent,\n    AssetViewComponent,\n    AssetRequestListComponent,\n    AssetItemListComponent,\n    AssetRequestDetailsComponent,\n    AssetLocationModalComponent,\n    SplitJoinPipe,\n    DurationFormatPipe,\n\n    AssetFormComponent,\n    AssetBulkFormComponent,\n    AssetGroupFormComponent,\n    AssetCategoryFormComponent,\n    AssetPurchaseOrderFormComponent,\n    AssetPurchaseOrderListComponent,\n    AssetCategoryManagementModalComponent,\n];\n\nconst children = [\n    {\n        path: 'list',\n        component: AssetListingComponent,\n        children: [\n            { path: 'items', component: AssetItemListComponent },\n            { path: 'requests', component: AssetRequestListComponent },\n            {\n                path: 'purchase-orders',\n                component: AssetPurchaseOrderListComponent,\n            },\n            { path: '**', redirectTo: 'requests' },\n        ],\n    },\n    { path: 'view/:id', component: AssetViewComponent },\n    {\n        path: 'manage',\n        children: [\n            { path: 'group', component: AssetGroupFormComponent },\n            { path: 'asset', component: AssetFormComponent },\n            { path: 'asset-bulk', component: AssetBulkFormComponent },\n            { path: 'category', component: AssetCategoryFormComponent },\n            {\n                path: 'purchase-order',\n                component: AssetPurchaseOrderFormComponent,\n            },\n        ],\n    },\n    { path: '**', redirectTo: 'list/requests' },\n];\n\nconst ROUTES: Route[] = [\n    {\n        path: 'new',\n        component: NewAssetManagerComponent,\n        children,\n    },\n    {\n        path: '',\n        component: AssetManagerComponent,\n        children,\n    },\n    { path: '**', redirectTo: '' },\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        UIModule,\n        ComponentsModule,\n        MatButtonToggleModule,\n        MatProgressBarModule,\n        MatTabsModule,\n        MatStepperModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class AppAssetManangerModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: '[asset-manager]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"flex flex-col flex-1 w-1/2 h-full\">\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n        `,\n    ],\n})\nexport class NewAssetManagerComponent {}\n"],"x_google_ignoreList":[0,1]}