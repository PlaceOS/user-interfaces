{"version":3,"file":"apps_concierge_src_app_asset-manager_asset-manager_module_ts.js","mappings":"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","names":["_c0","_c1","MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS","InjectionToken","MAT_BUTTON_TOGGLE_GROUP","MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","MatButtonToggleGroup","multi","uniqueIdCounter","MatButtonToggleChange","constructor","source","value","this","name","_name","_markButtonsForCheck","vertical","_vertical","coerceBooleanProperty","selected","_selectionModel","multiple","map","toggle","undefined","newValue","_setSelectionByValue","valueChange","emit","_multiple","disabled","_disabled","_changeDetector","defaultOptions","_controlValueAccessorChangeFn","_onTouched","EventEmitter","change","appearance","ngOnInit","SelectionModel","ngAfterContentInit","select","_buttonToggles","filter","checked","writeValue","markForCheck","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","_emitChangeEvent","event","_syncButtonToggle","isUserInput","deferEvents","deselect","Promise","resolve","then","_updateModelValue","_isSelected","isSelected","_isPrechecked","_rawValue","Array","isArray","some","_clearSelection","forEach","currentValue","_selectValue","clear","correspondingOption","find","_markForCheck","fac","t","i0","dir","type","selectors","contentQueries","rf","ctx","dirIndex","MatButtonToggle","_t","hostAttrs","hostVars","hostBindings","inputs","outputs","exportAs","features","_MatButtonToggleBase","mixinDisableRipple","buttonId","id","buttonToggleGroup","_appearance","_checked","_changeDetectorRef","toggleGroup","_elementRef","_focusMonitor","defaultTabIndex","super","ariaLabelledby","parsedTabIndex","Number","tabIndex","group","ngAfterViewInit","monitor","ngOnDestroy","stopMonitoring","focus","options","_buttonElement","nativeElement","_onButtonClick","newChecked","_isSingleSelector","_getButtonName","i1","cmp","viewQuery","first","disableRipple","ariaLabel","ngContentSelectors","decls","vars","consts","template","_r0","dependencies","i2","styles","encapsulation","changeDetection","MatButtonToggleModule","mod","inj","imports","MatCommonModule","MatRippleModule","CdkStepperModule","BidiModule","MatStepperIntl","changes","Subject","optionalLabel","completedLabel","editableLabel","prov","token","factory","providedIn","MAT_STEPPER_INTL_PROVIDER","deps","Optional","SkipSelf","useFactory","MAT_STEPPER_INTL_PROVIDER_FACTORY","parentIntl","MatStepperModule","providers","ErrorStateMatcher","CommonModule","PortalModule","MatIconModule","AssetManagerStateService","AsyncHandler","form","_form","_spaces","_options","BehaviorSubject","view","_change","_poll","generateAssetForm","_loading","loading","asObservable","products","pipe","switchMap","next","queryAssetGroups","tap","shareReplay","purchase_orders","queryAssetPurchaseOrders","requests","combineLatest","initialised","debounceTime","_","queryBookings","period_start","getUnixTime","startOfDay","Date","now","period_end","endOfDay","b","Booking","extension_data","space","space_id","filtered_requests","list","search","toLowerCase","i","user_name","includes","location_name","assets","status","tracking","categories","queryAssetCategories","active_product","active_item","distinctUntilKeyChanged","showGroupFull","active_product_requests","item","asset","asset_id","filtered_products","product_mapping","_count","length","unique","category_id","startPolling","delay","interval","stopPolling","clearInterval","resetForm","setOptions","getValue","postChange","timeout","setStatus","_this","_asyncToGenerator","result","updateBooking","approved","rejected","toPromise","setTracking","_this2","deleteActiveProduct","_this3","take","deleteAssetGroup","notifySuccess","postForm","_this4","valid","data","other_data","drop_keys","key","cleanObject","saveAsset","core","Yz7","$event","_r3","ctx_r2","tmp_0_0","ctx_r1","AssetManagerTopbarComponent","_state","active","o","Xpm","AssetManagerTopbarComponent_a_3_Template","AssetManagerTopbarComponent_mat_button_toggle_group_4_Template","tmp_3_0","AssetListingComponent","_router","url","_c2","AssetManagerComponent","attrs","SplitJoinPipe","transform","split","join","Yjl","pure","ctx_r0","level","display_name","map_id","selected_feature","ctx_r5","data_r8","stopPropagation","row_r9","_r13","row","ctx_r12","ctx_r14","ctx_r15","_r10","ctx_r7","AssetLocationModalComponent","updateFeatures","location","content","MapPinComponent","z_index","message","state","_org","zones","levelWithID","AssetLocationModalComponent_div_16_Template","AssetLocationModalComponent_i_map_17_Template","AssetLocationModalComponent_ng_template_18_Template","AssetLocationModalComponent_ng_template_20_Template","AssetLocationModalComponent_ng_template_22_Template","_c3","_c4","_c5","_r6","_r4","_r2","ctx_r9","description","order_r15","_r19","ctx_r18","removePurchaseOrder","AssetViewComponent_div_0_div_102_div_1_a_15_Template","purchase_order_number","invoice_number","price","code","tmp_4_0","AssetViewComponent_div_0_div_102_div_1_Template","AssetViewComponent_div_0_div_111_div_1_span_3_Template","asset_r21","_r24","$implicit","ctx_r23","removeAsset","model_number","serial_number","end_of_life_date","tmp_5_0","ctx_r20","AssetViewComponent_div_0_div_111_div_1_Template","ctx_r13","AssetViewComponent_div_0_ng_container_48_Template","AssetViewComponent_div_0_ng_template_50_Template","_r26","ctx_r25","viewLocations","AssetViewComponent_div_0_div_102_Template","AssetViewComponent_div_0_div_111_Template","tmp_1_0","category","tmp_2_0","images","_c6","tmp_6_0","tmp_8_0","tmp_10_0","tmp_11_0","tmp_12_0","tmp_13_0","brand","tmp_14_0","purchase_date","tmp_15_0","_c7","tmp_17_0","tmp_18_0","_r5","tmp_21_0","tmp_22_0","_r7","_r31","ctx_r30","closeTooltip","ctx_r32","deleteAsset","AssetViewComponent_ng_template_4_div_0_Template","AssetViewComponent_ng_template_4_ng_template_1_Template","ctx_r4","deleting","_r28","AssetViewComponent","navigate","_tooltip_el","close","currency_code","_route","_dialog","open","subscription","paramMap","subscribe","params","has","get","clearTimeout","resp","openConfirmModal","title","confirm_text","icon","reason","setTimeout","deleteAssetPurchaseOrder","i3","i4","CustomTooltipComponent","AssetViewComponent_div_0_Template","AssetViewComponent_ng_template_2_Template","AssetViewComponent_ng_template_4_Template","AssetViewComponent_ng_template_6_Template","AssetViewComponent_ng_template_8_Template","_r1","DurationFormatPipe","short","duration","formatDuration","days","Math","floor","hours","minutes","replace","asset_r4","amount","request","requestChange","ctx_r8","AssetRequestDetailsComponent_div_0_div_33_Template","ctx_r10","ctx_r11","user_email","user_phone","user_company","date","AssetRequestDetailsComponent","AssetRequestDetailsComponent_div_0_Template","row_r14","asset_r17","AssetRequestListComponent_ng_template_11_div_1_Template","row_r15","data_r19","row_r20","row_r21","_r25","ctx_r24","ctx_r26","_r22","row_r27","ctx_r33","AssetRequestListComponent","filters","AssetRequestListComponent_ng_template_9_Template","AssetRequestListComponent_ng_template_11_Template","AssetRequestListComponent_ng_template_13_Template","AssetRequestListComponent_ng_template_15_Template","AssetRequestListComponent_ng_template_17_Template","AssetRequestListComponent_ng_template_19_Template","AssetRequestListComponent_ng_template_21_Template","_r8","_r12","asset_r10","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_img_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_ng_template_3_Template","count","locations","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_a_2_Template","group_r5","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_img_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_ng_template_3_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_a_2_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_10_Template","AssetItemListComponent_div_0_ng_container_1_div_1_ng_container_11_Template","ctx_r6","AssetItemListComponent_div_0_ng_container_1_div_1_Template","AssetItemListComponent_div_0_ng_container_1_Template","AssetItemListComponent_ng_template_5_a_4_Template","ctx_r3","AssetItemListComponent","AssetItemListComponent_div_0_Template","AssetItemListComponent_mat_progress_bar_3_Template","AssetItemListComponent_ng_template_5_Template","save","from","product_id","AssetPurchaseOrderFormComponent","generateAssetPurchaseOrderForm","addYears","queryParamMap","_ref","showAssetPurchaseOrder","catch","notifyError","patchValue","order_number","expected_service_end_date","expected_service_start_date","_x","apply","arguments","saveAssetPurchaseOrder","e","reset","AssetPurchaseOrderFormComponent_div_1_Template","AssetPurchaseOrderFormComponent_ng_template_2_Template","category_r6","AssetCategoryFormComponent_main_4_mat_option_16_Template","AssetCategoryFormComponent","_data","_dialog_ref","generateAssetCategoryForm","parent_category_id","disableClose","saveAssetCategory","MAT_DIALOG_DATA","AssetCategoryFormComponent_button_3_Template","AssetCategoryFormComponent_main_4_Template","AssetCategoryFormComponent_footer_5_Template","AssetCategoryFormComponent_ng_template_6_Template","order_r5","AssetFormComponent_div_1_mat_option_44_Template","AssetFormComponent_div_1_mat_option_46_Template","product","AssetFormComponent","showAsset","showAssetGroup","type_id","getInvalidFields","AssetFormComponent_div_1_Template","AssetFormComponent_ng_template_2_Template","category_r4","current_category","AssetGroupFormComponent_div_1_mat_option_21_Template","newCategory","AssetGroupFormComponent","generateAssetGroupForm","new_category","afterClosed","saveAssetGroup","AssetGroupFormComponent_div_1_Template","AssetGroupFormComponent_ng_template_2_Template","AssetPurchaseOrderListComponent_ng_template_4_span_0_Template","data_r2","ROUTES","path","component","children","AssetPurchaseOrderListComponent","editOrder","order","queryParams","AssetPurchaseOrderListComponent_ng_template_4_Template","redirectTo","AppAssetManangerModule","oAB","cJS","UIModule","ComponentsModule","MatProgressBarModule","MatTabsModule","RouterModule"],"sourceRoot":"webpack:///","sources":["./node_modules/@angular/material/fesm2022/button-toggle.mjs","./node_modules/@angular/cdk/fesm2022/stepper.mjs","./node_modules/@angular/material/fesm2022/stepper.mjs","./apps/concierge/src/app/asset-manager/asset-manager-state.service.ts","./apps/concierge/src/app/asset-manager/asset-manager-topbar.component.ts","./apps/concierge/src/app/asset-manager/asset-listing.component.ts","./apps/concierge/src/app/asset-manager/asset-manager.component.ts","./apps/concierge/src/app/asset-manager/split-join.pipe.ts","./apps/concierge/src/app/asset-manager/asset-location-modal.component.ts","./apps/concierge/src/app/asset-manager/asset-view.component.ts","./apps/concierge/src/app/asset-manager/duration.pipe.ts","./apps/concierge/src/app/asset-manager/asset-request-details.component.ts","./apps/concierge/src/app/asset-manager/asset-request-list.component.ts","./apps/concierge/src/app/asset-manager/asset-item-list.component.ts","./apps/concierge/src/app/asset-manager/asset-purchase-order-form.component.ts","./apps/concierge/src/app/asset-manager/asset-category-form.component.ts","./apps/concierge/src/app/asset-manager/asset-form.component.ts","./apps/concierge/src/app/asset-manager/asset-group-form.component.ts","./apps/concierge/src/app/asset-manager/asset-purchase-order-list.component.ts","./apps/concierge/src/app/asset-manager/asset-manager.module.ts"],"sourcesContent":["import * as i1 from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, forwardRef, EventEmitter, Directive, Optional, Inject, ContentChildren, Input, Output, Component, ViewEncapsulation, ChangeDetectionStrategy, Attribute, ViewChild, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i2 from '@angular/material/core';\nimport { mixinDisableRipple, MatCommonModule, MatRippleModule } from '@angular/material/core';\n\n/**\n * Injection token that can be used to configure the\n * default options for all button toggles within an app.\n */\nconst MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS = new InjectionToken('MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS');\n/**\n * Injection token that can be used to reference instances of `MatButtonToggleGroup`.\n * It serves as alternative token to the actual `MatButtonToggleGroup` class which\n * could cause unnecessary retention of the class and its component metadata.\n */\nconst MAT_BUTTON_TOGGLE_GROUP = new InjectionToken('MatButtonToggleGroup');\n/**\n * Provider Expression that allows mat-button-toggle-group to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)].\n * @docs-private\n */\nconst MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MatButtonToggleGroup),\n    multi: true,\n};\n// Counter used to generate unique IDs.\nlet uniqueIdCounter = 0;\n/** Change event object emitted by button toggle. */\nclass MatButtonToggleChange {\n    constructor(\n    /** The button toggle that emits the event. */\n    source, \n    /** The value assigned to the button toggle. */\n    value) {\n        this.source = source;\n        this.value = value;\n    }\n}\n/** Exclusive selection button toggle group that behaves like a radio-button group. */\nclass MatButtonToggleGroup {\n    /** `name` attribute for the underlying `input` element. */\n    get name() {\n        return this._name;\n    }\n    set name(value) {\n        this._name = value;\n        this._markButtonsForCheck();\n    }\n    /** Whether the toggle group is vertical. */\n    get vertical() {\n        return this._vertical;\n    }\n    set vertical(value) {\n        this._vertical = coerceBooleanProperty(value);\n    }\n    /** Value of the toggle group. */\n    get value() {\n        const selected = this._selectionModel ? this._selectionModel.selected : [];\n        if (this.multiple) {\n            return selected.map(toggle => toggle.value);\n        }\n        return selected[0] ? selected[0].value : undefined;\n    }\n    set value(newValue) {\n        this._setSelectionByValue(newValue);\n        this.valueChange.emit(this.value);\n    }\n    /** Selected button toggles in the group. */\n    get selected() {\n        const selected = this._selectionModel ? this._selectionModel.selected : [];\n        return this.multiple ? selected : selected[0] || null;\n    }\n    /** Whether multiple button toggles can be selected. */\n    get multiple() {\n        return this._multiple;\n    }\n    set multiple(value) {\n        this._multiple = coerceBooleanProperty(value);\n        this._markButtonsForCheck();\n    }\n    /** Whether multiple button toggle group is disabled. */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._markButtonsForCheck();\n    }\n    constructor(_changeDetector, defaultOptions) {\n        this._changeDetector = _changeDetector;\n        this._vertical = false;\n        this._multiple = false;\n        this._disabled = false;\n        /**\n         * The method to be called in order to update ngModel.\n         * Now `ngModel` binding is not supported in multiple selection mode.\n         */\n        this._controlValueAccessorChangeFn = () => { };\n        /** onTouch function registered via registerOnTouch (ControlValueAccessor). */\n        this._onTouched = () => { };\n        this._name = `mat-button-toggle-group-${uniqueIdCounter++}`;\n        /**\n         * Event that emits whenever the value of the group changes.\n         * Used to facilitate two-way data binding.\n         * @docs-private\n         */\n        this.valueChange = new EventEmitter();\n        /** Event emitted when the group's value changes. */\n        this.change = new EventEmitter();\n        this.appearance =\n            defaultOptions && defaultOptions.appearance ? defaultOptions.appearance : 'standard';\n    }\n    ngOnInit() {\n        this._selectionModel = new SelectionModel(this.multiple, undefined, false);\n    }\n    ngAfterContentInit() {\n        this._selectionModel.select(...this._buttonToggles.filter(toggle => toggle.checked));\n    }\n    /**\n     * Sets the model value. Implemented as part of ControlValueAccessor.\n     * @param value Value to be set to the model.\n     */\n    writeValue(value) {\n        this.value = value;\n        this._changeDetector.markForCheck();\n    }\n    // Implemented as part of ControlValueAccessor.\n    registerOnChange(fn) {\n        this._controlValueAccessorChangeFn = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /** Dispatch change event with current selection and group value. */\n    _emitChangeEvent(toggle) {\n        const event = new MatButtonToggleChange(toggle, this.value);\n        this._controlValueAccessorChangeFn(event.value);\n        this.change.emit(event);\n    }\n    /**\n     * Syncs a button toggle's selected state with the model value.\n     * @param toggle Toggle to be synced.\n     * @param select Whether the toggle should be selected.\n     * @param isUserInput Whether the change was a result of a user interaction.\n     * @param deferEvents Whether to defer emitting the change events.\n     */\n    _syncButtonToggle(toggle, select, isUserInput = false, deferEvents = false) {\n        // Deselect the currently-selected toggle, if we're in single-selection\n        // mode and the button being toggled isn't selected at the moment.\n        if (!this.multiple && this.selected && !toggle.checked) {\n            this.selected.checked = false;\n        }\n        if (this._selectionModel) {\n            if (select) {\n                this._selectionModel.select(toggle);\n            }\n            else {\n                this._selectionModel.deselect(toggle);\n            }\n        }\n        else {\n            deferEvents = true;\n        }\n        // We need to defer in some cases in order to avoid \"changed after checked errors\", however\n        // the side-effect is that we may end up updating the model value out of sequence in others\n        // The `deferEvents` flag allows us to decide whether to do it on a case-by-case basis.\n        if (deferEvents) {\n            Promise.resolve().then(() => this._updateModelValue(toggle, isUserInput));\n        }\n        else {\n            this._updateModelValue(toggle, isUserInput);\n        }\n    }\n    /** Checks whether a button toggle is selected. */\n    _isSelected(toggle) {\n        return this._selectionModel && this._selectionModel.isSelected(toggle);\n    }\n    /** Determines whether a button toggle should be checked on init. */\n    _isPrechecked(toggle) {\n        if (typeof this._rawValue === 'undefined') {\n            return false;\n        }\n        if (this.multiple && Array.isArray(this._rawValue)) {\n            return this._rawValue.some(value => toggle.value != null && value === toggle.value);\n        }\n        return toggle.value === this._rawValue;\n    }\n    /** Updates the selection state of the toggles in the group based on a value. */\n    _setSelectionByValue(value) {\n        this._rawValue = value;\n        if (!this._buttonToggles) {\n            return;\n        }\n        if (this.multiple && value) {\n            if (!Array.isArray(value) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throw Error('Value must be an array in multiple-selection mode.');\n            }\n            this._clearSelection();\n            value.forEach((currentValue) => this._selectValue(currentValue));\n        }\n        else {\n            this._clearSelection();\n            this._selectValue(value);\n        }\n    }\n    /** Clears the selected toggles. */\n    _clearSelection() {\n        this._selectionModel.clear();\n        this._buttonToggles.forEach(toggle => (toggle.checked = false));\n    }\n    /** Selects a value if there's a toggle that corresponds to it. */\n    _selectValue(value) {\n        const correspondingOption = this._buttonToggles.find(toggle => {\n            return toggle.value != null && toggle.value === value;\n        });\n        if (correspondingOption) {\n            correspondingOption.checked = true;\n            this._selectionModel.select(correspondingOption);\n        }\n    }\n    /** Syncs up the group's value with the model and emits the change event. */\n    _updateModelValue(toggle, isUserInput) {\n        // Only emit the change event for user input.\n        if (isUserInput) {\n            this._emitChangeEvent(toggle);\n        }\n        // Note: we emit this one no matter whether it was a user interaction, because\n        // it is used by Angular to sync up the two-way data binding.\n        this.valueChange.emit(this.value);\n    }\n    /** Marks all of the child button toggles to be checked. */\n    _markButtonsForCheck() {\n        this._buttonToggles?.forEach(toggle => toggle._markForCheck());\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleGroup, deps: [{ token: i0.ChangeDetectorRef }, { token: MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, optional: true }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatButtonToggleGroup, selector: \"mat-button-toggle-group\", inputs: { appearance: \"appearance\", name: \"name\", vertical: \"vertical\", value: \"value\", multiple: \"multiple\", disabled: \"disabled\" }, outputs: { valueChange: \"valueChange\", change: \"change\" }, host: { attributes: { \"role\": \"group\" }, properties: { \"attr.aria-disabled\": \"disabled\", \"class.mat-button-toggle-vertical\": \"vertical\", \"class.mat-button-toggle-group-appearance-standard\": \"appearance === \\\"standard\\\"\" }, classAttribute: \"mat-button-toggle-group\" }, providers: [\n            MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,\n            { provide: MAT_BUTTON_TOGGLE_GROUP, useExisting: MatButtonToggleGroup },\n        ], queries: [{ propertyName: \"_buttonToggles\", predicate: i0.forwardRef(function () { return MatButtonToggle; }), descendants: true }], exportAs: [\"matButtonToggleGroup\"], ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleGroup, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-button-toggle-group',\n                    providers: [\n                        MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,\n                        { provide: MAT_BUTTON_TOGGLE_GROUP, useExisting: MatButtonToggleGroup },\n                    ],\n                    host: {\n                        'role': 'group',\n                        'class': 'mat-button-toggle-group',\n                        '[attr.aria-disabled]': 'disabled',\n                        '[class.mat-button-toggle-vertical]': 'vertical',\n                        '[class.mat-button-toggle-group-appearance-standard]': 'appearance === \"standard\"',\n                    },\n                    exportAs: 'matButtonToggleGroup',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]\n                }] }]; }, propDecorators: { _buttonToggles: [{\n                type: ContentChildren,\n                args: [forwardRef(() => MatButtonToggle), {\n                        // Note that this would technically pick up toggles\n                        // from nested groups, but that's not a case that we support.\n                        descendants: true,\n                    }]\n            }], appearance: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], vertical: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], valueChange: [{\n                type: Output\n            }], multiple: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], change: [{\n                type: Output\n            }] } });\n// Boilerplate for applying mixins to the MatButtonToggle class.\n/** @docs-private */\nconst _MatButtonToggleBase = mixinDisableRipple(class {\n});\n/** Single button inside of a toggle group. */\nclass MatButtonToggle extends _MatButtonToggleBase {\n    /** Unique ID for the underlying `button` element. */\n    get buttonId() {\n        return `${this.id}-button`;\n    }\n    /** The appearance style of the button. */\n    get appearance() {\n        return this.buttonToggleGroup ? this.buttonToggleGroup.appearance : this._appearance;\n    }\n    set appearance(value) {\n        this._appearance = value;\n    }\n    /** Whether the button is checked. */\n    get checked() {\n        return this.buttonToggleGroup ? this.buttonToggleGroup._isSelected(this) : this._checked;\n    }\n    set checked(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._checked) {\n            this._checked = newValue;\n            if (this.buttonToggleGroup) {\n                this.buttonToggleGroup._syncButtonToggle(this, this._checked);\n            }\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /** Whether the button is disabled. */\n    get disabled() {\n        return this._disabled || (this.buttonToggleGroup && this.buttonToggleGroup.disabled);\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    constructor(toggleGroup, _changeDetectorRef, _elementRef, _focusMonitor, defaultTabIndex, defaultOptions) {\n        super();\n        this._changeDetectorRef = _changeDetectorRef;\n        this._elementRef = _elementRef;\n        this._focusMonitor = _focusMonitor;\n        this._checked = false;\n        /**\n         * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n         */\n        this.ariaLabelledby = null;\n        this._disabled = false;\n        /** Event emitted when the group value changes. */\n        this.change = new EventEmitter();\n        const parsedTabIndex = Number(defaultTabIndex);\n        this.tabIndex = parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\n        this.buttonToggleGroup = toggleGroup;\n        this.appearance =\n            defaultOptions && defaultOptions.appearance ? defaultOptions.appearance : 'standard';\n    }\n    ngOnInit() {\n        const group = this.buttonToggleGroup;\n        this.id = this.id || `mat-button-toggle-${uniqueIdCounter++}`;\n        if (group) {\n            if (group._isPrechecked(this)) {\n                this.checked = true;\n            }\n            else if (group._isSelected(this) !== this._checked) {\n                // As as side effect of the circular dependency between the toggle group and the button,\n                // we may end up in a state where the button is supposed to be checked on init, but it\n                // isn't, because the checked value was assigned too early. This can happen when Ivy\n                // assigns the static input value before the `ngOnInit` has run.\n                group._syncButtonToggle(this, this._checked);\n            }\n        }\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this._elementRef, true);\n    }\n    ngOnDestroy() {\n        const group = this.buttonToggleGroup;\n        this._focusMonitor.stopMonitoring(this._elementRef);\n        // Remove the toggle from the selection once it's destroyed. Needs to happen\n        // on the next tick in order to avoid \"changed after checked\" errors.\n        if (group && group._isSelected(this)) {\n            group._syncButtonToggle(this, false, false, true);\n        }\n    }\n    /** Focuses the button. */\n    focus(options) {\n        this._buttonElement.nativeElement.focus(options);\n    }\n    /** Checks the button toggle due to an interaction with the underlying native button. */\n    _onButtonClick() {\n        const newChecked = this._isSingleSelector() ? true : !this._checked;\n        if (newChecked !== this._checked) {\n            this._checked = newChecked;\n            if (this.buttonToggleGroup) {\n                this.buttonToggleGroup._syncButtonToggle(this, this._checked, true);\n                this.buttonToggleGroup._onTouched();\n            }\n        }\n        // Emit a change event when it's the single selector\n        this.change.emit(new MatButtonToggleChange(this, this.value));\n    }\n    /**\n     * Marks the button toggle as needing checking for change detection.\n     * This method is exposed because the parent button toggle group will directly\n     * update bound properties of the radio button.\n     */\n    _markForCheck() {\n        // When the group value changes, the button will not be notified.\n        // Use `markForCheck` to explicit update button toggle's status.\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Gets the name that should be assigned to the inner DOM node. */\n    _getButtonName() {\n        if (this._isSingleSelector()) {\n            return this.buttonToggleGroup.name;\n        }\n        return this.name || null;\n    }\n    /** Whether the toggle is in single selection mode. */\n    _isSingleSelector() {\n        return this.buttonToggleGroup && !this.buttonToggleGroup.multiple;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggle, deps: [{ token: MAT_BUTTON_TOGGLE_GROUP, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i1.FocusMonitor }, { token: 'tabindex', attribute: true }, { token: MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatButtonToggle, selector: \"mat-button-toggle\", inputs: { disableRipple: \"disableRipple\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], id: \"id\", name: \"name\", value: \"value\", tabIndex: \"tabIndex\", appearance: \"appearance\", checked: \"checked\", disabled: \"disabled\" }, outputs: { change: \"change\" }, host: { attributes: { \"role\": \"presentation\" }, listeners: { \"focus\": \"focus()\" }, properties: { \"class.mat-button-toggle-standalone\": \"!buttonToggleGroup\", \"class.mat-button-toggle-checked\": \"checked\", \"class.mat-button-toggle-disabled\": \"disabled\", \"class.mat-button-toggle-appearance-standard\": \"appearance === \\\"standard\\\"\", \"attr.aria-label\": \"null\", \"attr.aria-labelledby\": \"null\", \"attr.id\": \"id\", \"attr.name\": \"null\" }, classAttribute: \"mat-button-toggle\" }, viewQueries: [{ propertyName: \"_buttonElement\", first: true, predicate: [\"button\"], descendants: true }], exportAs: [\"matButtonToggle\"], usesInheritance: true, ngImport: i0, template: \"<button #button class=\\\"mat-button-toggle-button mat-focus-indicator\\\"\\n        type=\\\"button\\\"\\n        [id]=\\\"buttonId\\\"\\n        [attr.tabindex]=\\\"disabled ? -1 : tabIndex\\\"\\n        [attr.aria-pressed]=\\\"checked\\\"\\n        [disabled]=\\\"disabled || null\\\"\\n        [attr.name]=\\\"_getButtonName()\\\"\\n        [attr.aria-label]=\\\"ariaLabel\\\"\\n        [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n        (click)=\\\"_onButtonClick()\\\">\\n  <span class=\\\"mat-button-toggle-label-content\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</button>\\n\\n<span class=\\\"mat-button-toggle-focus-overlay\\\"></span>\\n<span class=\\\"mat-button-toggle-ripple\\\" matRipple\\n     [matRippleTrigger]=\\\"button\\\"\\n     [matRippleDisabled]=\\\"this.disableRipple || this.disabled\\\">\\n</span>\\n\", styles: [\".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\"], dependencies: [{ kind: \"directive\", type: i2.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggle, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-button-toggle', encapsulation: ViewEncapsulation.None, exportAs: 'matButtonToggle', changeDetection: ChangeDetectionStrategy.OnPush, inputs: ['disableRipple'], host: {\n                        '[class.mat-button-toggle-standalone]': '!buttonToggleGroup',\n                        '[class.mat-button-toggle-checked]': 'checked',\n                        '[class.mat-button-toggle-disabled]': 'disabled',\n                        '[class.mat-button-toggle-appearance-standard]': 'appearance === \"standard\"',\n                        'class': 'mat-button-toggle',\n                        '[attr.aria-label]': 'null',\n                        '[attr.aria-labelledby]': 'null',\n                        '[attr.id]': 'id',\n                        '[attr.name]': 'null',\n                        '(focus)': 'focus()',\n                        'role': 'presentation',\n                    }, template: \"<button #button class=\\\"mat-button-toggle-button mat-focus-indicator\\\"\\n        type=\\\"button\\\"\\n        [id]=\\\"buttonId\\\"\\n        [attr.tabindex]=\\\"disabled ? -1 : tabIndex\\\"\\n        [attr.aria-pressed]=\\\"checked\\\"\\n        [disabled]=\\\"disabled || null\\\"\\n        [attr.name]=\\\"_getButtonName()\\\"\\n        [attr.aria-label]=\\\"ariaLabel\\\"\\n        [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n        (click)=\\\"_onButtonClick()\\\">\\n  <span class=\\\"mat-button-toggle-label-content\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</button>\\n\\n<span class=\\\"mat-button-toggle-focus-overlay\\\"></span>\\n<span class=\\\"mat-button-toggle-ripple\\\" matRipple\\n     [matRippleTrigger]=\\\"button\\\"\\n     [matRippleDisabled]=\\\"this.disableRipple || this.disabled\\\">\\n</span>\\n\", styles: [\".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\"] }]\n        }], ctorParameters: function () { return [{ type: MatButtonToggleGroup, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_GROUP]\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i1.FocusMonitor }, { type: undefined, decorators: [{\n                    type: Attribute,\n                    args: ['tabindex']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]\n                }] }]; }, propDecorators: { ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], _buttonElement: [{\n                type: ViewChild,\n                args: ['button']\n            }], id: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], tabIndex: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], checked: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], change: [{\n                type: Output\n            }] } });\n\nclass MatButtonToggleModule {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, declarations: [MatButtonToggleGroup, MatButtonToggle], imports: [MatCommonModule, MatRippleModule], exports: [MatCommonModule, MatButtonToggleGroup, MatButtonToggle] }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, imports: [MatCommonModule, MatRippleModule, MatCommonModule] }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [MatCommonModule, MatRippleModule],\n                    exports: [MatCommonModule, MatButtonToggleGroup, MatButtonToggle],\n                    declarations: [MatButtonToggleGroup, MatButtonToggle],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, MAT_BUTTON_TOGGLE_GROUP, MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR, MatButtonToggle, MatButtonToggleChange, MatButtonToggleGroup, MatButtonToggleModule };\n","import { FocusKeyManager } from '@angular/cdk/a11y';\nimport * as i1 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { hasModifierKey, SPACE, ENTER } from '@angular/cdk/keycodes';\nimport * as i0 from '@angular/core';\nimport { Directive, InjectionToken, EventEmitter, forwardRef, TemplateRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Optional, ContentChild, ViewChild, Input, Output, QueryList, ContentChildren, NgModule } from '@angular/core';\nimport { _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { Subject, of } from 'rxjs';\nimport { startWith, takeUntil } from 'rxjs/operators';\n\nclass CdkStepHeader {\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n    /** Focuses the step header. */\n    focus() {\n        this._elementRef.nativeElement.focus();\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepHeader, deps: [{ token: i0.ElementRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepHeader, selector: \"[cdkStepHeader]\", host: { attributes: { \"role\": \"tab\" } }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepHeader, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepHeader]',\n                    host: {\n                        'role': 'tab',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nclass CdkStepLabel {\n    constructor(/** @docs-private */ template) {\n        this.template = template;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepLabel, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepLabel, selector: \"[cdkStepLabel]\", ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepLabel]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; } });\n\n/** Used to generate unique ID for each stepper component. */\nlet nextId = 0;\n/** Change event emitted on selection changes. */\nclass StepperSelectionEvent {\n}\n/** Enum to represent the different states of the steps. */\nconst STEP_STATE = {\n    NUMBER: 'number',\n    EDIT: 'edit',\n    DONE: 'done',\n    ERROR: 'error',\n};\n/** InjectionToken that can be used to specify the global stepper options. */\nconst STEPPER_GLOBAL_OPTIONS = new InjectionToken('STEPPER_GLOBAL_OPTIONS');\nclass CdkStep {\n    /** Whether the user can return to this step once it has been marked as completed. */\n    get editable() {\n        return this._editable;\n    }\n    set editable(value) {\n        this._editable = coerceBooleanProperty(value);\n    }\n    /** Whether the completion of step is optional. */\n    get optional() {\n        return this._optional;\n    }\n    set optional(value) {\n        this._optional = coerceBooleanProperty(value);\n    }\n    /** Whether step is marked as completed. */\n    get completed() {\n        return this._completedOverride == null ? this._getDefaultCompleted() : this._completedOverride;\n    }\n    set completed(value) {\n        this._completedOverride = coerceBooleanProperty(value);\n    }\n    _getDefaultCompleted() {\n        return this.stepControl ? this.stepControl.valid && this.interacted : this.interacted;\n    }\n    /** Whether step has an error. */\n    get hasError() {\n        return this._customError == null ? this._getDefaultError() : this._customError;\n    }\n    set hasError(value) {\n        this._customError = coerceBooleanProperty(value);\n    }\n    _getDefaultError() {\n        return this.stepControl && this.stepControl.invalid && this.interacted;\n    }\n    constructor(_stepper, stepperOptions) {\n        this._stepper = _stepper;\n        /** Whether user has attempted to move away from the step. */\n        this.interacted = false;\n        /** Emits when the user has attempted to move away from the step. */\n        this.interactedStream = new EventEmitter();\n        this._editable = true;\n        this._optional = false;\n        this._completedOverride = null;\n        this._customError = null;\n        this._stepperOptions = stepperOptions ? stepperOptions : {};\n        this._displayDefaultIndicatorType = this._stepperOptions.displayDefaultIndicatorType !== false;\n    }\n    /** Selects this step component. */\n    select() {\n        this._stepper.selected = this;\n    }\n    /** Resets the step to its initial state. Note that this includes resetting form data. */\n    reset() {\n        this.interacted = false;\n        if (this._completedOverride != null) {\n            this._completedOverride = false;\n        }\n        if (this._customError != null) {\n            this._customError = false;\n        }\n        if (this.stepControl) {\n            this.stepControl.reset();\n        }\n    }\n    ngOnChanges() {\n        // Since basically all inputs of the MatStep get proxied through the view down to the\n        // underlying MatStepHeader, we have to make sure that change detection runs correctly.\n        this._stepper._stateChanged();\n    }\n    _markAsInteracted() {\n        if (!this.interacted) {\n            this.interacted = true;\n            this.interactedStream.emit(this);\n        }\n    }\n    /** Determines whether the error state can be shown. */\n    _showError() {\n        // We want to show the error state either if the user opted into/out of it using the\n        // global options, or if they've explicitly set it through the `hasError` input.\n        return this._stepperOptions.showError ?? this._customError != null;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStep, deps: [{ token: forwardRef(() => CdkStepper) }, { token: STEPPER_GLOBAL_OPTIONS, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStep, selector: \"cdk-step\", inputs: { stepControl: \"stepControl\", label: \"label\", errorMessage: \"errorMessage\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], state: \"state\", editable: \"editable\", optional: \"optional\", completed: \"completed\", hasError: \"hasError\" }, outputs: { interactedStream: \"interacted\" }, queries: [{ propertyName: \"stepLabel\", first: true, predicate: CdkStepLabel, descendants: true }], viewQueries: [{ propertyName: \"content\", first: true, predicate: TemplateRef, descendants: true, static: true }], exportAs: [\"cdkStep\"], usesOnChanges: true, ngImport: i0, template: '<ng-template><ng-content></ng-content></ng-template>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStep, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cdk-step',\n                    exportAs: 'cdkStep',\n                    template: '<ng-template><ng-content></ng-content></ng-template>',\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => CdkStepper)]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STEPPER_GLOBAL_OPTIONS]\n                }] }]; }, propDecorators: { stepLabel: [{\n                type: ContentChild,\n                args: [CdkStepLabel]\n            }], content: [{\n                type: ViewChild,\n                args: [TemplateRef, { static: true }]\n            }], stepControl: [{\n                type: Input\n            }], interactedStream: [{\n                type: Output,\n                args: ['interacted']\n            }], label: [{\n                type: Input\n            }], errorMessage: [{\n                type: Input\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], state: [{\n                type: Input\n            }], editable: [{\n                type: Input\n            }], optional: [{\n                type: Input\n            }], completed: [{\n                type: Input\n            }], hasError: [{\n                type: Input\n            }] } });\nclass CdkStepper {\n    /** Whether the validity of previous steps should be checked or not. */\n    get linear() {\n        return this._linear;\n    }\n    set linear(value) {\n        this._linear = coerceBooleanProperty(value);\n    }\n    /** The index of the selected step. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(index) {\n        const newIndex = coerceNumberProperty(index);\n        if (this.steps && this._steps) {\n            // Ensure that the index can't be out of bounds.\n            if (!this._isValidIndex(newIndex) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throw Error('cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.');\n            }\n            this.selected?._markAsInteracted();\n            if (this._selectedIndex !== newIndex &&\n                !this._anyControlsInvalidOrPending(newIndex) &&\n                (newIndex >= this._selectedIndex || this.steps.toArray()[newIndex].editable)) {\n                this._updateSelectedItemIndex(newIndex);\n            }\n        }\n        else {\n            this._selectedIndex = newIndex;\n        }\n    }\n    /** The step that is selected. */\n    get selected() {\n        return this.steps ? this.steps.toArray()[this.selectedIndex] : undefined;\n    }\n    set selected(step) {\n        this.selectedIndex = step && this.steps ? this.steps.toArray().indexOf(step) : -1;\n    }\n    /** Orientation of the stepper. */\n    get orientation() {\n        return this._orientation;\n    }\n    set orientation(value) {\n        // This is a protected method so that `MatStepper` can hook into it.\n        this._orientation = value;\n        if (this._keyManager) {\n            this._keyManager.withVerticalOrientation(value === 'vertical');\n        }\n    }\n    constructor(_dir, _changeDetectorRef, _elementRef) {\n        this._dir = _dir;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._elementRef = _elementRef;\n        /** Emits when the component is destroyed. */\n        this._destroyed = new Subject();\n        /** Steps that belong to the current stepper, excluding ones from nested steppers. */\n        this.steps = new QueryList();\n        /** List of step headers sorted based on their DOM order. */\n        this._sortedHeaders = new QueryList();\n        this._linear = false;\n        this._selectedIndex = 0;\n        /** Event emitted when the selected step has changed. */\n        this.selectionChange = new EventEmitter();\n        this._orientation = 'horizontal';\n        this._groupId = nextId++;\n    }\n    ngAfterContentInit() {\n        this._steps.changes\n            .pipe(startWith(this._steps), takeUntil(this._destroyed))\n            .subscribe((steps) => {\n            this.steps.reset(steps.filter(step => step._stepper === this));\n            this.steps.notifyOnChanges();\n        });\n    }\n    ngAfterViewInit() {\n        // If the step headers are defined outside of the `ngFor` that renders the steps, like in the\n        // Material stepper, they won't appear in the `QueryList` in the same order as they're\n        // rendered in the DOM which will lead to incorrect keyboard navigation. We need to sort\n        // them manually to ensure that they're correct. Alternatively, we can change the Material\n        // template to inline the headers in the `ngFor`, but that'll result in a lot of\n        // code duplication. See #23539.\n        this._stepHeader.changes\n            .pipe(startWith(this._stepHeader), takeUntil(this._destroyed))\n            .subscribe((headers) => {\n            this._sortedHeaders.reset(headers.toArray().sort((a, b) => {\n                const documentPosition = a._elementRef.nativeElement.compareDocumentPosition(b._elementRef.nativeElement);\n                // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n                // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n                // tslint:disable-next-line:no-bitwise\n                return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n            }));\n            this._sortedHeaders.notifyOnChanges();\n        });\n        // Note that while the step headers are content children by default, any components that\n        // extend this one might have them as view children. We initialize the keyboard handling in\n        // AfterViewInit so we're guaranteed for both view and content children to be defined.\n        this._keyManager = new FocusKeyManager(this._sortedHeaders)\n            .withWrap()\n            .withHomeAndEnd()\n            .withVerticalOrientation(this._orientation === 'vertical');\n        (this._dir ? this._dir.change : of())\n            .pipe(startWith(this._layoutDirection()), takeUntil(this._destroyed))\n            .subscribe(direction => this._keyManager.withHorizontalOrientation(direction));\n        this._keyManager.updateActiveItem(this._selectedIndex);\n        // No need to `takeUntil` here, because we're the ones destroying `steps`.\n        this.steps.changes.subscribe(() => {\n            if (!this.selected) {\n                this._selectedIndex = Math.max(this._selectedIndex - 1, 0);\n            }\n        });\n        // The logic which asserts that the selected index is within bounds doesn't run before the\n        // steps are initialized, because we don't how many steps there are yet so we may have an\n        // invalid index on init. If that's the case, auto-correct to the default so we don't throw.\n        if (!this._isValidIndex(this._selectedIndex)) {\n            this._selectedIndex = 0;\n        }\n    }\n    ngOnDestroy() {\n        this._keyManager?.destroy();\n        this.steps.destroy();\n        this._sortedHeaders.destroy();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** Selects and focuses the next step in list. */\n    next() {\n        this.selectedIndex = Math.min(this._selectedIndex + 1, this.steps.length - 1);\n    }\n    /** Selects and focuses the previous step in list. */\n    previous() {\n        this.selectedIndex = Math.max(this._selectedIndex - 1, 0);\n    }\n    /** Resets the stepper to its initial state. Note that this includes clearing form data. */\n    reset() {\n        this._updateSelectedItemIndex(0);\n        this.steps.forEach(step => step.reset());\n        this._stateChanged();\n    }\n    /** Returns a unique id for each step label element. */\n    _getStepLabelId(i) {\n        return `cdk-step-label-${this._groupId}-${i}`;\n    }\n    /** Returns unique id for each step content element. */\n    _getStepContentId(i) {\n        return `cdk-step-content-${this._groupId}-${i}`;\n    }\n    /** Marks the component to be change detected. */\n    _stateChanged() {\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Returns position state of the step with the given index. */\n    _getAnimationDirection(index) {\n        const position = index - this._selectedIndex;\n        if (position < 0) {\n            return this._layoutDirection() === 'rtl' ? 'next' : 'previous';\n        }\n        else if (position > 0) {\n            return this._layoutDirection() === 'rtl' ? 'previous' : 'next';\n        }\n        return 'current';\n    }\n    /** Returns the type of icon to be displayed. */\n    _getIndicatorType(index, state = STEP_STATE.NUMBER) {\n        const step = this.steps.toArray()[index];\n        const isCurrentStep = this._isCurrentStep(index);\n        return step._displayDefaultIndicatorType\n            ? this._getDefaultIndicatorLogic(step, isCurrentStep)\n            : this._getGuidelineLogic(step, isCurrentStep, state);\n    }\n    _getDefaultIndicatorLogic(step, isCurrentStep) {\n        if (step._showError() && step.hasError && !isCurrentStep) {\n            return STEP_STATE.ERROR;\n        }\n        else if (!step.completed || isCurrentStep) {\n            return STEP_STATE.NUMBER;\n        }\n        else {\n            return step.editable ? STEP_STATE.EDIT : STEP_STATE.DONE;\n        }\n    }\n    _getGuidelineLogic(step, isCurrentStep, state = STEP_STATE.NUMBER) {\n        if (step._showError() && step.hasError && !isCurrentStep) {\n            return STEP_STATE.ERROR;\n        }\n        else if (step.completed && !isCurrentStep) {\n            return STEP_STATE.DONE;\n        }\n        else if (step.completed && isCurrentStep) {\n            return state;\n        }\n        else if (step.editable && isCurrentStep) {\n            return STEP_STATE.EDIT;\n        }\n        else {\n            return state;\n        }\n    }\n    _isCurrentStep(index) {\n        return this._selectedIndex === index;\n    }\n    /** Returns the index of the currently-focused step header. */\n    _getFocusIndex() {\n        return this._keyManager ? this._keyManager.activeItemIndex : this._selectedIndex;\n    }\n    _updateSelectedItemIndex(newIndex) {\n        const stepsArray = this.steps.toArray();\n        this.selectionChange.emit({\n            selectedIndex: newIndex,\n            previouslySelectedIndex: this._selectedIndex,\n            selectedStep: stepsArray[newIndex],\n            previouslySelectedStep: stepsArray[this._selectedIndex],\n        });\n        // If focus is inside the stepper, move it to the next header, otherwise it may become\n        // lost when the active step content is hidden. We can't be more granular with the check\n        // (e.g. checking whether focus is inside the active step), because we don't have a\n        // reference to the elements that are rendering out the content.\n        this._containsFocus()\n            ? this._keyManager.setActiveItem(newIndex)\n            : this._keyManager.updateActiveItem(newIndex);\n        this._selectedIndex = newIndex;\n        this._stateChanged();\n    }\n    _onKeydown(event) {\n        const hasModifier = hasModifierKey(event);\n        const keyCode = event.keyCode;\n        const manager = this._keyManager;\n        if (manager.activeItemIndex != null &&\n            !hasModifier &&\n            (keyCode === SPACE || keyCode === ENTER)) {\n            this.selectedIndex = manager.activeItemIndex;\n            event.preventDefault();\n        }\n        else {\n            manager.setFocusOrigin('keyboard').onKeydown(event);\n        }\n    }\n    _anyControlsInvalidOrPending(index) {\n        if (this._linear && index >= 0) {\n            return this.steps\n                .toArray()\n                .slice(0, index)\n                .some(step => {\n                const control = step.stepControl;\n                const isIncomplete = control\n                    ? control.invalid || control.pending || !step.interacted\n                    : !step.completed;\n                return isIncomplete && !step.optional && !step._completedOverride;\n            });\n        }\n        return false;\n    }\n    _layoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Checks whether the stepper contains the focused element. */\n    _containsFocus() {\n        const stepperElement = this._elementRef.nativeElement;\n        const focusedElement = _getFocusedElementPierceShadowDom();\n        return stepperElement === focusedElement || stepperElement.contains(focusedElement);\n    }\n    /** Checks whether the passed-in index is a valid step index. */\n    _isValidIndex(index) {\n        return index > -1 && (!this.steps || index < this.steps.length);\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepper, deps: [{ token: i1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepper, selector: \"[cdkStepper]\", inputs: { linear: \"linear\", selectedIndex: \"selectedIndex\", selected: \"selected\", orientation: \"orientation\" }, outputs: { selectionChange: \"selectionChange\" }, queries: [{ propertyName: \"_steps\", predicate: CdkStep, descendants: true }, { propertyName: \"_stepHeader\", predicate: CdkStepHeader, descendants: true }], exportAs: [\"cdkStepper\"], ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepper, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkStepper]',\n                    exportAs: 'cdkStepper',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }]; }, propDecorators: { _steps: [{\n                type: ContentChildren,\n                args: [CdkStep, { descendants: true }]\n            }], _stepHeader: [{\n                type: ContentChildren,\n                args: [CdkStepHeader, { descendants: true }]\n            }], linear: [{\n                type: Input\n            }], selectedIndex: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], selectionChange: [{\n                type: Output\n            }], orientation: [{\n                type: Input\n            }] } });\n\n/** Button that moves to the next step in a stepper workflow. */\nclass CdkStepperNext {\n    constructor(_stepper) {\n        this._stepper = _stepper;\n        /** Type of the next button. Defaults to \"submit\" if not specified. */\n        this.type = 'submit';\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperNext, deps: [{ token: CdkStepper }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepperNext, selector: \"button[cdkStepperNext]\", inputs: { type: \"type\" }, host: { listeners: { \"click\": \"_stepper.next()\" }, properties: { \"type\": \"type\" } }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperNext, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[cdkStepperNext]',\n                    host: {\n                        '[type]': 'type',\n                        '(click)': '_stepper.next()',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper }]; }, propDecorators: { type: [{\n                type: Input\n            }] } });\n/** Button that moves to the previous step in a stepper workflow. */\nclass CdkStepperPrevious {\n    constructor(_stepper) {\n        this._stepper = _stepper;\n        /** Type of the previous button. Defaults to \"button\" if not specified. */\n        this.type = 'button';\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperPrevious, deps: [{ token: CdkStepper }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: CdkStepperPrevious, selector: \"button[cdkStepperPrevious]\", inputs: { type: \"type\" }, host: { listeners: { \"click\": \"_stepper.previous()\" }, properties: { \"type\": \"type\" } }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperPrevious, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[cdkStepperPrevious]',\n                    host: {\n                        '[type]': 'type',\n                        '(click)': '_stepper.previous()',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: CdkStepper }]; }, propDecorators: { type: [{\n                type: Input\n            }] } });\n\nclass CdkStepperModule {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, declarations: [CdkStep,\n            CdkStepper,\n            CdkStepHeader,\n            CdkStepLabel,\n            CdkStepperNext,\n            CdkStepperPrevious], imports: [BidiModule], exports: [CdkStep, CdkStepper, CdkStepHeader, CdkStepLabel, CdkStepperNext, CdkStepperPrevious] }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, imports: [BidiModule] }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: CdkStepperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [BidiModule],\n                    exports: [CdkStep, CdkStepper, CdkStepHeader, CdkStepLabel, CdkStepperNext, CdkStepperPrevious],\n                    declarations: [\n                        CdkStep,\n                        CdkStepper,\n                        CdkStepHeader,\n                        CdkStepLabel,\n                        CdkStepperNext,\n                        CdkStepperPrevious,\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CdkStep, CdkStepHeader, CdkStepLabel, CdkStepper, CdkStepperModule, CdkStepperNext, CdkStepperPrevious, STEPPER_GLOBAL_OPTIONS, STEP_STATE, StepperSelectionEvent };\n","import * as i2$1 from '@angular/cdk/portal';\nimport { TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport { CdkStepLabel, CdkStepHeader, CdkStep, STEPPER_GLOBAL_OPTIONS, CdkStepper, CdkStepperNext, CdkStepperPrevious, CdkStepperModule } from '@angular/cdk/stepper';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Directive, Injectable, Optional, SkipSelf, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, forwardRef, Inject, ContentChild, QueryList, EventEmitter, ViewChildren, ContentChildren, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/material/core';\nimport { mixinColor, ErrorStateMatcher, MatCommonModule, MatRippleModule } from '@angular/material/core';\nimport * as i4 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport * as i2 from '@angular/cdk/a11y';\nimport { Subject, Subscription } from 'rxjs';\nimport * as i3$1 from '@angular/cdk/bidi';\nimport { switchMap, map, startWith, takeUntil, distinctUntilChanged } from 'rxjs/operators';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\nclass MatStepLabel extends CdkStepLabel {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepLabel, deps: null, target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepLabel, selector: \"[matStepLabel]\", usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matStepLabel]',\n                }]\n        }] });\n\n/** Stepper data that is required for internationalization. */\nclass MatStepperIntl {\n    constructor() {\n        /**\n         * Stream that emits whenever the labels here are changed. Use this to notify\n         * components if the labels have changed after initialization.\n         */\n        this.changes = new Subject();\n        /** Label that is rendered below optional steps. */\n        this.optionalLabel = 'Optional';\n        /** Label that is used to indicate step as completed to screen readers. */\n        this.completedLabel = 'Completed';\n        /** Label that is used to indicate step as editable to screen readers. */\n        this.editableLabel = 'Editable';\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, deps: [], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, providedIn: 'root' }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIntl, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n/** @docs-private */\nfunction MAT_STEPPER_INTL_PROVIDER_FACTORY(parentIntl) {\n    return parentIntl || new MatStepperIntl();\n}\n/** @docs-private */\nconst MAT_STEPPER_INTL_PROVIDER = {\n    provide: MatStepperIntl,\n    deps: [[new Optional(), new SkipSelf(), MatStepperIntl]],\n    useFactory: MAT_STEPPER_INTL_PROVIDER_FACTORY,\n};\n\n// Boilerplate for applying mixins to MatStepHeader.\n/** @docs-private */\nconst _MatStepHeaderBase = mixinColor(class MatStepHeaderBase extends CdkStepHeader {\n    constructor(elementRef) {\n        super(elementRef);\n    }\n}, 'primary');\nclass MatStepHeader extends _MatStepHeaderBase {\n    constructor(_intl, _focusMonitor, _elementRef, changeDetectorRef) {\n        super(_elementRef);\n        this._intl = _intl;\n        this._focusMonitor = _focusMonitor;\n        this._intlSubscription = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this._elementRef, true);\n    }\n    ngOnDestroy() {\n        this._intlSubscription.unsubscribe();\n        this._focusMonitor.stopMonitoring(this._elementRef);\n    }\n    /** Focuses the step header. */\n    focus(origin, options) {\n        if (origin) {\n            this._focusMonitor.focusVia(this._elementRef, origin, options);\n        }\n        else {\n            this._elementRef.nativeElement.focus(options);\n        }\n    }\n    /** Returns string label of given step if it is a text label. */\n    _stringLabel() {\n        return this.label instanceof MatStepLabel ? null : this.label;\n    }\n    /** Returns MatStepLabel if the label of given step is a template label. */\n    _templateLabel() {\n        return this.label instanceof MatStepLabel ? this.label : null;\n    }\n    /** Returns the host HTML element. */\n    _getHostElement() {\n        return this._elementRef.nativeElement;\n    }\n    /** Template context variables that are exposed to the `matStepperIcon` instances. */\n    _getIconContext() {\n        return {\n            index: this.index,\n            active: this.active,\n            optional: this.optional,\n        };\n    }\n    _getDefaultTextForState(state) {\n        if (state == 'number') {\n            return `${this.index + 1}`;\n        }\n        if (state == 'edit') {\n            return 'create';\n        }\n        if (state == 'error') {\n            return 'warning';\n        }\n        return state;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepHeader, deps: [{ token: MatStepperIntl }, { token: i2.FocusMonitor }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepHeader, selector: \"mat-step-header\", inputs: { color: \"color\", state: \"state\", label: \"label\", errorMessage: \"errorMessage\", iconOverrides: \"iconOverrides\", index: \"index\", selected: \"selected\", active: \"active\", optional: \"optional\", disableRipple: \"disableRipple\" }, host: { attributes: { \"role\": \"tab\" }, classAttribute: \"mat-step-header\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"mat-step-header-ripple mat-focus-indicator\\\" matRipple\\n     [matRippleTrigger]=\\\"_getHostElement()\\\"\\n     [matRippleDisabled]=\\\"disableRipple\\\"></div>\\n\\n<div class=\\\"mat-step-icon-state-{{state}} mat-step-icon\\\" [class.mat-step-icon-selected]=\\\"selected\\\">\\n  <div class=\\\"mat-step-icon-content\\\" [ngSwitch]=\\\"!!(iconOverrides && iconOverrides[state])\\\">\\n    <ng-container\\n      *ngSwitchCase=\\\"true\\\"\\n      [ngTemplateOutlet]=\\\"iconOverrides[state]\\\"\\n      [ngTemplateOutletContext]=\\\"_getIconContext()\\\"></ng-container>\\n    <ng-container *ngSwitchDefault [ngSwitch]=\\\"state\\\">\\n      <span aria-hidden=\\\"true\\\" *ngSwitchCase=\\\"'number'\\\">{{_getDefaultTextForState(state)}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'done'\\\">{{_intl.completedLabel}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'edit'\\\">{{_intl.editableLabel}}</span>\\n      <mat-icon aria-hidden=\\\"true\\\" *ngSwitchDefault>{{_getDefaultTextForState(state)}}</mat-icon>\\n    </ng-container>\\n  </div>\\n</div>\\n<div class=\\\"mat-step-label\\\"\\n     [class.mat-step-label-active]=\\\"active\\\"\\n     [class.mat-step-label-selected]=\\\"selected\\\"\\n     [class.mat-step-label-error]=\\\"state == 'error'\\\">\\n  <!-- If there is a label template, use it. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_templateLabel()\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"_templateLabel()!.template\\\"></ng-container>\\n  </div>\\n  <!-- If there is no label template, fall back to the text label. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_stringLabel()\\\">{{label}}</div>\\n\\n  <div class=\\\"mat-step-optional\\\" *ngIf=\\\"optional && state != 'error'\\\">{{_intl.optionalLabel}}</div>\\n  <div class=\\\"mat-step-sub-label-error\\\" *ngIf=\\\"state == 'error'\\\">{{errorMessage}}</div>\\n</div>\\n\\n\", styles: [\".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:\\\"\\\"}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"], dependencies: [{ kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: i3.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { kind: \"component\", type: i4.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: i1.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepHeader, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-step-header', inputs: ['color'], host: {\n                        'class': 'mat-step-header',\n                        'role': 'tab',\n                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"mat-step-header-ripple mat-focus-indicator\\\" matRipple\\n     [matRippleTrigger]=\\\"_getHostElement()\\\"\\n     [matRippleDisabled]=\\\"disableRipple\\\"></div>\\n\\n<div class=\\\"mat-step-icon-state-{{state}} mat-step-icon\\\" [class.mat-step-icon-selected]=\\\"selected\\\">\\n  <div class=\\\"mat-step-icon-content\\\" [ngSwitch]=\\\"!!(iconOverrides && iconOverrides[state])\\\">\\n    <ng-container\\n      *ngSwitchCase=\\\"true\\\"\\n      [ngTemplateOutlet]=\\\"iconOverrides[state]\\\"\\n      [ngTemplateOutletContext]=\\\"_getIconContext()\\\"></ng-container>\\n    <ng-container *ngSwitchDefault [ngSwitch]=\\\"state\\\">\\n      <span aria-hidden=\\\"true\\\" *ngSwitchCase=\\\"'number'\\\">{{_getDefaultTextForState(state)}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'done'\\\">{{_intl.completedLabel}}</span>\\n      <span class=\\\"cdk-visually-hidden\\\" *ngIf=\\\"state === 'edit'\\\">{{_intl.editableLabel}}</span>\\n      <mat-icon aria-hidden=\\\"true\\\" *ngSwitchDefault>{{_getDefaultTextForState(state)}}</mat-icon>\\n    </ng-container>\\n  </div>\\n</div>\\n<div class=\\\"mat-step-label\\\"\\n     [class.mat-step-label-active]=\\\"active\\\"\\n     [class.mat-step-label-selected]=\\\"selected\\\"\\n     [class.mat-step-label-error]=\\\"state == 'error'\\\">\\n  <!-- If there is a label template, use it. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_templateLabel()\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"_templateLabel()!.template\\\"></ng-container>\\n  </div>\\n  <!-- If there is no label template, fall back to the text label. -->\\n  <div class=\\\"mat-step-text-label\\\" *ngIf=\\\"_stringLabel()\\\">{{label}}</div>\\n\\n  <div class=\\\"mat-step-optional\\\" *ngIf=\\\"optional && state != 'error'\\\">{{_intl.optionalLabel}}</div>\\n  <div class=\\\"mat-step-sub-label-error\\\" *ngIf=\\\"state == 'error'\\\">{{errorMessage}}</div>\\n</div>\\n\\n\", styles: [\".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:\\\"\\\"}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\"] }]\n        }], ctorParameters: function () { return [{ type: MatStepperIntl }, { type: i2.FocusMonitor }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { state: [{\n                type: Input\n            }], label: [{\n                type: Input\n            }], errorMessage: [{\n                type: Input\n            }], iconOverrides: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }], selected: [{\n                type: Input\n            }], active: [{\n                type: Input\n            }], optional: [{\n                type: Input\n            }], disableRipple: [{\n                type: Input\n            }] } });\n\nconst DEFAULT_HORIZONTAL_ANIMATION_DURATION = '500ms';\nconst DEFAULT_VERTICAL_ANIMATION_DURATION = '225ms';\n/**\n * Animations used by the Material steppers.\n * @docs-private\n */\nconst matStepperAnimations = {\n    /** Animation that transitions the step along the X axis in a horizontal stepper. */\n    horizontalStepTransition: trigger('horizontalStepTransition', [\n        state('previous', style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' })),\n        // Transition to `inherit`, rather than `visible`,\n        // because visibility on a child element the one from the parent,\n        // making this element focusable inside of a `hidden` element.\n        state('current', style({ transform: 'none', visibility: 'inherit' })),\n        state('next', style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' })),\n        transition('* => *', animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'), {\n            params: { 'animationDuration': DEFAULT_HORIZONTAL_ANIMATION_DURATION },\n        }),\n    ]),\n    /** Animation that transitions the step along the Y axis in a vertical stepper. */\n    verticalStepTransition: trigger('verticalStepTransition', [\n        state('previous', style({ height: '0px', visibility: 'hidden' })),\n        state('next', style({ height: '0px', visibility: 'hidden' })),\n        // Transition to `inherit`, rather than `visible`,\n        // because visibility on a child element the one from the parent,\n        // making this element focusable inside of a `hidden` element.\n        state('current', style({ height: '*', visibility: 'inherit' })),\n        transition('* <=> current', animate('{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)'), {\n            params: { 'animationDuration': DEFAULT_VERTICAL_ANIMATION_DURATION },\n        }),\n    ]),\n};\n\n/**\n * Template to be used to override the icons inside the step header.\n */\nclass MatStepperIcon {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIcon, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperIcon, selector: \"ng-template[matStepperIcon]\", inputs: { name: [\"matStepperIcon\", \"name\"] }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperIcon, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[matStepperIcon]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { name: [{\n                type: Input,\n                args: ['matStepperIcon']\n            }] } });\n\n/**\n * Content for a `mat-step` that will be rendered lazily.\n */\nclass MatStepContent {\n    constructor(_template) {\n        this._template = _template;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepContent, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepContent, selector: \"ng-template[matStepContent]\", ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ng-template[matStepContent]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; } });\n\nclass MatStep extends CdkStep {\n    constructor(stepper, _errorStateMatcher, _viewContainerRef, stepperOptions) {\n        super(stepper, stepperOptions);\n        this._errorStateMatcher = _errorStateMatcher;\n        this._viewContainerRef = _viewContainerRef;\n        this._isSelected = Subscription.EMPTY;\n        /** Content for step label given by `<ng-template matStepLabel>`. */\n        // We need an initializer here to avoid a TS error.\n        this.stepLabel = undefined;\n    }\n    ngAfterContentInit() {\n        this._isSelected = this._stepper.steps.changes\n            .pipe(switchMap(() => {\n            return this._stepper.selectionChange.pipe(map(event => event.selectedStep === this), startWith(this._stepper.selected === this));\n        }))\n            .subscribe(isSelected => {\n            if (isSelected && this._lazyContent && !this._portal) {\n                this._portal = new TemplatePortal(this._lazyContent._template, this._viewContainerRef);\n            }\n        });\n    }\n    ngOnDestroy() {\n        this._isSelected.unsubscribe();\n    }\n    /** Custom error state matcher that additionally checks for validity of interacted form. */\n    isErrorState(control, form) {\n        const originalErrorState = this._errorStateMatcher.isErrorState(control, form);\n        // Custom error state checks for the validity of form that is not submitted or touched\n        // since user can trigger a form change by calling for another step without directly\n        // interacting with the current form.\n        const customErrorState = !!(control && control.invalid && this.interacted);\n        return originalErrorState || customErrorState;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStep, deps: [{ token: forwardRef(() => MatStepper) }, { token: i1.ErrorStateMatcher, skipSelf: true }, { token: i0.ViewContainerRef }, { token: STEPPER_GLOBAL_OPTIONS, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStep, selector: \"mat-step\", inputs: { color: \"color\" }, providers: [\n            { provide: ErrorStateMatcher, useExisting: MatStep },\n            { provide: CdkStep, useExisting: MatStep },\n        ], queries: [{ propertyName: \"stepLabel\", first: true, predicate: MatStepLabel, descendants: true }, { propertyName: \"_lazyContent\", first: true, predicate: MatStepContent, descendants: true }], exportAs: [\"matStep\"], usesInheritance: true, ngImport: i0, template: \"<ng-template>\\n  <ng-content></ng-content>\\n  <ng-template [cdkPortalOutlet]=\\\"_portal\\\"></ng-template>\\n</ng-template>\\n\", dependencies: [{ kind: \"directive\", type: i2$1.CdkPortalOutlet, selector: \"[cdkPortalOutlet]\", inputs: [\"cdkPortalOutlet\"], outputs: [\"attached\"], exportAs: [\"cdkPortalOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStep, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-step', providers: [\n                        { provide: ErrorStateMatcher, useExisting: MatStep },\n                        { provide: CdkStep, useExisting: MatStep },\n                    ], encapsulation: ViewEncapsulation.None, exportAs: 'matStep', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template>\\n  <ng-content></ng-content>\\n  <ng-template [cdkPortalOutlet]=\\\"_portal\\\"></ng-template>\\n</ng-template>\\n\" }]\n        }], ctorParameters: function () { return [{ type: MatStepper, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => MatStepper)]\n                }] }, { type: i1.ErrorStateMatcher, decorators: [{\n                    type: SkipSelf\n                }] }, { type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STEPPER_GLOBAL_OPTIONS]\n                }] }]; }, propDecorators: { stepLabel: [{\n                type: ContentChild,\n                args: [MatStepLabel]\n            }], color: [{\n                type: Input\n            }], _lazyContent: [{\n                type: ContentChild,\n                args: [MatStepContent, { static: false }]\n            }] } });\nclass MatStepper extends CdkStepper {\n    /** Duration for the animation. Will be normalized to milliseconds if no units are set. */\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    set animationDuration(value) {\n        this._animationDuration = /^\\d+$/.test(value) ? value + 'ms' : value;\n    }\n    constructor(dir, changeDetectorRef, elementRef) {\n        super(dir, changeDetectorRef, elementRef);\n        /** The list of step headers of the steps in the stepper. */\n        // We need an initializer here to avoid a TS error.\n        this._stepHeader = undefined;\n        /** Full list of steps inside the stepper, including inside nested steppers. */\n        // We need an initializer here to avoid a TS error.\n        this._steps = undefined;\n        /** Steps that belong to the current stepper, excluding ones from nested steppers. */\n        this.steps = new QueryList();\n        /** Event emitted when the current step is done transitioning in. */\n        this.animationDone = new EventEmitter();\n        /**\n         * Whether the label should display in bottom or end position.\n         * Only applies in the `horizontal` orientation.\n         */\n        this.labelPosition = 'end';\n        /**\n         * Position of the stepper's header.\n         * Only applies in the `horizontal` orientation.\n         */\n        this.headerPosition = 'top';\n        /** Consumer-specified template-refs to be used to override the header icons. */\n        this._iconOverrides = {};\n        /** Stream of animation `done` events when the body expands/collapses. */\n        this._animationDone = new Subject();\n        this._animationDuration = '';\n        const nodeName = elementRef.nativeElement.nodeName.toLowerCase();\n        this.orientation = nodeName === 'mat-vertical-stepper' ? 'vertical' : 'horizontal';\n    }\n    ngAfterContentInit() {\n        super.ngAfterContentInit();\n        this._icons.forEach(({ name, templateRef }) => (this._iconOverrides[name] = templateRef));\n        // Mark the component for change detection whenever the content children query changes\n        this.steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => {\n            this._stateChanged();\n        });\n        this._animationDone\n            .pipe(\n        // This needs a `distinctUntilChanged` in order to avoid emitting the same event twice due\n        // to a bug in animations where the `.done` callback gets invoked twice on some browsers.\n        // See https://github.com/angular/angular/issues/24084\n        distinctUntilChanged((x, y) => x.fromState === y.fromState && x.toState === y.toState), takeUntil(this._destroyed))\n            .subscribe(event => {\n            if (event.toState === 'current') {\n                this.animationDone.emit();\n            }\n        });\n    }\n    _stepIsNavigable(index, step) {\n        return step.completed || this.selectedIndex === index || !this.linear;\n    }\n    _getAnimationDuration() {\n        if (this.animationDuration) {\n            return this.animationDuration;\n        }\n        return this.orientation === 'horizontal'\n            ? DEFAULT_HORIZONTAL_ANIMATION_DURATION\n            : DEFAULT_VERTICAL_ANIMATION_DURATION;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepper, deps: [{ token: i3$1.Directionality, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepper, selector: \"mat-stepper, mat-vertical-stepper, mat-horizontal-stepper, [matStepper]\", inputs: { selectedIndex: \"selectedIndex\", disableRipple: \"disableRipple\", color: \"color\", labelPosition: \"labelPosition\", headerPosition: \"headerPosition\", animationDuration: \"animationDuration\" }, outputs: { animationDone: \"animationDone\" }, host: { attributes: { \"role\": \"tablist\", \"ngSkipHydration\": \"true\" }, properties: { \"class.mat-stepper-horizontal\": \"orientation === \\\"horizontal\\\"\", \"class.mat-stepper-vertical\": \"orientation === \\\"vertical\\\"\", \"class.mat-stepper-label-position-end\": \"orientation === \\\"horizontal\\\" && labelPosition == \\\"end\\\"\", \"class.mat-stepper-label-position-bottom\": \"orientation === \\\"horizontal\\\" && labelPosition == \\\"bottom\\\"\", \"class.mat-stepper-header-position-bottom\": \"headerPosition === \\\"bottom\\\"\", \"attr.aria-orientation\": \"orientation\" } }, providers: [{ provide: CdkStepper, useExisting: MatStepper }], queries: [{ propertyName: \"_steps\", predicate: MatStep, descendants: true }, { propertyName: \"_icons\", predicate: MatStepperIcon, descendants: true }], viewQueries: [{ propertyName: \"_stepHeader\", predicate: MatStepHeader, descendants: true }], exportAs: [\"matStepper\", \"matVerticalStepper\", \"matHorizontalStepper\"], usesInheritance: true, ngImport: i0, template: \"<ng-container [ngSwitch]=\\\"orientation\\\">\\n  <!-- Horizontal stepper -->\\n  <div class=\\\"mat-horizontal-stepper-wrapper\\\" *ngSwitchCase=\\\"'horizontal'\\\">\\n    <div class=\\\"mat-horizontal-stepper-header-container\\\">\\n      <ng-container *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n        <div *ngIf=\\\"!isLast\\\" class=\\\"mat-stepper-horizontal-line\\\"></div>\\n      </ng-container>\\n    </div>\\n\\n    <div class=\\\"mat-horizontal-content-container\\\">\\n      <div *ngFor=\\\"let step of steps; let i = index\\\"\\n           class=\\\"mat-horizontal-stepper-content\\\" role=\\\"tabpanel\\\"\\n           [@horizontalStepTransition]=\\\"{\\n              'value': _getAnimationDirection(i),\\n              'params': {'animationDuration': _getAnimationDuration()}\\n            }\\\"\\n           (@horizontalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n           [id]=\\\"_getStepContentId(i)\\\"\\n           [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n           [class.mat-horizontal-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n        <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Vertical stepper -->\\n  <ng-container *ngSwitchCase=\\\"'vertical'\\\">\\n    <div class=\\\"mat-step\\\" *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n      <div class=\\\"mat-vertical-content-container\\\" [class.mat-stepper-vertical-line]=\\\"!isLast\\\">\\n        <div class=\\\"mat-vertical-stepper-content\\\" role=\\\"tabpanel\\\"\\n             [@verticalStepTransition]=\\\"{\\n                'value': _getAnimationDirection(i),\\n                'params': {'animationDuration': _getAnimationDuration()}\\n              }\\\"\\n             (@verticalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n             [id]=\\\"_getStepContentId(i)\\\"\\n             [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n             [class.mat-vertical-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n          <div class=\\\"mat-vertical-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ng-container>\\n\\n</ng-container>\\n\\n<!-- Common step templating -->\\n<ng-template let-step=\\\"step\\\" let-i=\\\"i\\\" #stepTemplate>\\n  <mat-step-header\\n    [class.mat-horizontal-stepper-header]=\\\"orientation === 'horizontal'\\\"\\n    [class.mat-vertical-stepper-header]=\\\"orientation === 'vertical'\\\"\\n    (click)=\\\"step.select()\\\"\\n    (keydown)=\\\"_onKeydown($event)\\\"\\n    [tabIndex]=\\\"_getFocusIndex() === i ? 0 : -1\\\"\\n    [id]=\\\"_getStepLabelId(i)\\\"\\n    [attr.aria-posinset]=\\\"i + 1\\\"\\n    [attr.aria-setsize]=\\\"steps.length\\\"\\n    [attr.aria-controls]=\\\"_getStepContentId(i)\\\"\\n    [attr.aria-selected]=\\\"selectedIndex == i\\\"\\n    [attr.aria-label]=\\\"step.ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"(!step.ariaLabel && step.ariaLabelledby) ? step.ariaLabelledby : null\\\"\\n    [attr.aria-disabled]=\\\"_stepIsNavigable(i, step) ? null : true\\\"\\n    [index]=\\\"i\\\"\\n    [state]=\\\"_getIndicatorType(i, step.state)\\\"\\n    [label]=\\\"step.stepLabel || step.label\\\"\\n    [selected]=\\\"selectedIndex === i\\\"\\n    [active]=\\\"_stepIsNavigable(i, step)\\\"\\n    [optional]=\\\"step.optional\\\"\\n    [errorMessage]=\\\"step.errorMessage\\\"\\n    [iconOverrides]=\\\"_iconOverrides\\\"\\n    [disableRipple]=\\\"disableRipple || !_stepIsNavigable(i, step)\\\"\\n    [color]=\\\"step.color || color\\\"></mat-step-header>\\n</ng-template>\\n\", styles: [\".mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:\\\"\\\";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:\\\"\\\";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\"], dependencies: [{ kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i3.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i3.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: MatStepHeader, selector: \"mat-step-header\", inputs: [\"color\", \"state\", \"label\", \"errorMessage\", \"iconOverrides\", \"index\", \"selected\", \"active\", \"optional\", \"disableRipple\"] }], animations: [\n            matStepperAnimations.horizontalStepTransition,\n            matStepperAnimations.verticalStepTransition,\n        ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepper, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-stepper, mat-vertical-stepper, mat-horizontal-stepper, [matStepper]', exportAs: 'matStepper, matVerticalStepper, matHorizontalStepper', inputs: ['selectedIndex'], host: {\n                        '[class.mat-stepper-horizontal]': 'orientation === \"horizontal\"',\n                        '[class.mat-stepper-vertical]': 'orientation === \"vertical\"',\n                        '[class.mat-stepper-label-position-end]': 'orientation === \"horizontal\" && labelPosition == \"end\"',\n                        '[class.mat-stepper-label-position-bottom]': 'orientation === \"horizontal\" && labelPosition == \"bottom\"',\n                        '[class.mat-stepper-header-position-bottom]': 'headerPosition === \"bottom\"',\n                        '[attr.aria-orientation]': 'orientation',\n                        'role': 'tablist',\n                        'ngSkipHydration': 'true',\n                    }, animations: [\n                        matStepperAnimations.horizontalStepTransition,\n                        matStepperAnimations.verticalStepTransition,\n                    ], providers: [{ provide: CdkStepper, useExisting: MatStepper }], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container [ngSwitch]=\\\"orientation\\\">\\n  <!-- Horizontal stepper -->\\n  <div class=\\\"mat-horizontal-stepper-wrapper\\\" *ngSwitchCase=\\\"'horizontal'\\\">\\n    <div class=\\\"mat-horizontal-stepper-header-container\\\">\\n      <ng-container *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n        <ng-container\\n          [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n        <div *ngIf=\\\"!isLast\\\" class=\\\"mat-stepper-horizontal-line\\\"></div>\\n      </ng-container>\\n    </div>\\n\\n    <div class=\\\"mat-horizontal-content-container\\\">\\n      <div *ngFor=\\\"let step of steps; let i = index\\\"\\n           class=\\\"mat-horizontal-stepper-content\\\" role=\\\"tabpanel\\\"\\n           [@horizontalStepTransition]=\\\"{\\n              'value': _getAnimationDirection(i),\\n              'params': {'animationDuration': _getAnimationDuration()}\\n            }\\\"\\n           (@horizontalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n           [id]=\\\"_getStepContentId(i)\\\"\\n           [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n           [class.mat-horizontal-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n        <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Vertical stepper -->\\n  <ng-container *ngSwitchCase=\\\"'vertical'\\\">\\n    <div class=\\\"mat-step\\\" *ngFor=\\\"let step of steps; let i = index; let isLast = last\\\">\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"stepTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{step: step, i: i}\\\"></ng-container>\\n      <div class=\\\"mat-vertical-content-container\\\" [class.mat-stepper-vertical-line]=\\\"!isLast\\\">\\n        <div class=\\\"mat-vertical-stepper-content\\\" role=\\\"tabpanel\\\"\\n             [@verticalStepTransition]=\\\"{\\n                'value': _getAnimationDirection(i),\\n                'params': {'animationDuration': _getAnimationDuration()}\\n              }\\\"\\n             (@verticalStepTransition.done)=\\\"_animationDone.next($event)\\\"\\n             [id]=\\\"_getStepContentId(i)\\\"\\n             [attr.aria-labelledby]=\\\"_getStepLabelId(i)\\\"\\n             [class.mat-vertical-stepper-content-inactive]=\\\"selectedIndex !== i\\\">\\n          <div class=\\\"mat-vertical-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"step.content\\\"></ng-container>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ng-container>\\n\\n</ng-container>\\n\\n<!-- Common step templating -->\\n<ng-template let-step=\\\"step\\\" let-i=\\\"i\\\" #stepTemplate>\\n  <mat-step-header\\n    [class.mat-horizontal-stepper-header]=\\\"orientation === 'horizontal'\\\"\\n    [class.mat-vertical-stepper-header]=\\\"orientation === 'vertical'\\\"\\n    (click)=\\\"step.select()\\\"\\n    (keydown)=\\\"_onKeydown($event)\\\"\\n    [tabIndex]=\\\"_getFocusIndex() === i ? 0 : -1\\\"\\n    [id]=\\\"_getStepLabelId(i)\\\"\\n    [attr.aria-posinset]=\\\"i + 1\\\"\\n    [attr.aria-setsize]=\\\"steps.length\\\"\\n    [attr.aria-controls]=\\\"_getStepContentId(i)\\\"\\n    [attr.aria-selected]=\\\"selectedIndex == i\\\"\\n    [attr.aria-label]=\\\"step.ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"(!step.ariaLabel && step.ariaLabelledby) ? step.ariaLabelledby : null\\\"\\n    [attr.aria-disabled]=\\\"_stepIsNavigable(i, step) ? null : true\\\"\\n    [index]=\\\"i\\\"\\n    [state]=\\\"_getIndicatorType(i, step.state)\\\"\\n    [label]=\\\"step.stepLabel || step.label\\\"\\n    [selected]=\\\"selectedIndex === i\\\"\\n    [active]=\\\"_stepIsNavigable(i, step)\\\"\\n    [optional]=\\\"step.optional\\\"\\n    [errorMessage]=\\\"step.errorMessage\\\"\\n    [iconOverrides]=\\\"_iconOverrides\\\"\\n    [disableRipple]=\\\"disableRipple || !_stepIsNavigable(i, step)\\\"\\n    [color]=\\\"step.color || color\\\"></mat-step-header>\\n</ng-template>\\n\", styles: [\".mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:\\\"\\\";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:\\\"\\\";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\"] }]\n        }], ctorParameters: function () { return [{ type: i3$1.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }]; }, propDecorators: { _stepHeader: [{\n                type: ViewChildren,\n                args: [MatStepHeader]\n            }], _steps: [{\n                type: ContentChildren,\n                args: [MatStep, { descendants: true }]\n            }], _icons: [{\n                type: ContentChildren,\n                args: [MatStepperIcon, { descendants: true }]\n            }], animationDone: [{\n                type: Output\n            }], disableRipple: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], labelPosition: [{\n                type: Input\n            }], headerPosition: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }] } });\n\n/** Button that moves to the next step in a stepper workflow. */\nclass MatStepperNext extends CdkStepperNext {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperNext, deps: null, target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperNext, selector: \"button[matStepperNext]\", inputs: { type: \"type\" }, host: { properties: { \"type\": \"type\" }, classAttribute: \"mat-stepper-next\" }, usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperNext, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[matStepperNext]',\n                    host: {\n                        'class': 'mat-stepper-next',\n                        '[type]': 'type',\n                    },\n                    inputs: ['type'],\n                }]\n        }] });\n/** Button that moves to the previous step in a stepper workflow. */\nclass MatStepperPrevious extends CdkStepperPrevious {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperPrevious, deps: null, target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatStepperPrevious, selector: \"button[matStepperPrevious]\", inputs: { type: \"type\" }, host: { properties: { \"type\": \"type\" }, classAttribute: \"mat-stepper-previous\" }, usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperPrevious, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'button[matStepperPrevious]',\n                    host: {\n                        'class': 'mat-stepper-previous',\n                        '[type]': 'type',\n                    },\n                    inputs: ['type'],\n                }]\n        }] });\n\nclass MatStepperModule {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, declarations: [MatStep,\n            MatStepLabel,\n            MatStepper,\n            MatStepperNext,\n            MatStepperPrevious,\n            MatStepHeader,\n            MatStepperIcon,\n            MatStepContent], imports: [MatCommonModule,\n            CommonModule,\n            PortalModule,\n            CdkStepperModule,\n            MatIconModule,\n            MatRippleModule], exports: [MatCommonModule,\n            MatStep,\n            MatStepLabel,\n            MatStepper,\n            MatStepperNext,\n            MatStepperPrevious,\n            MatStepHeader,\n            MatStepperIcon,\n            MatStepContent] }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, providers: [MAT_STEPPER_INTL_PROVIDER, ErrorStateMatcher], imports: [MatCommonModule,\n            CommonModule,\n            PortalModule,\n            CdkStepperModule,\n            MatIconModule,\n            MatRippleModule, MatCommonModule] }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatStepperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        MatCommonModule,\n                        CommonModule,\n                        PortalModule,\n                        CdkStepperModule,\n                        MatIconModule,\n                        MatRippleModule,\n                    ],\n                    exports: [\n                        MatCommonModule,\n                        MatStep,\n                        MatStepLabel,\n                        MatStepper,\n                        MatStepperNext,\n                        MatStepperPrevious,\n                        MatStepHeader,\n                        MatStepperIcon,\n                        MatStepContent,\n                    ],\n                    declarations: [\n                        MatStep,\n                        MatStepLabel,\n                        MatStepper,\n                        MatStepperNext,\n                        MatStepperPrevious,\n                        MatStepHeader,\n                        MatStepperIcon,\n                        MatStepContent,\n                    ],\n                    providers: [MAT_STEPPER_INTL_PROVIDER, ErrorStateMatcher],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_STEPPER_INTL_PROVIDER, MAT_STEPPER_INTL_PROVIDER_FACTORY, MatStep, MatStepContent, MatStepHeader, MatStepLabel, MatStepper, MatStepperIcon, MatStepperIntl, MatStepperModule, MatStepperNext, MatStepperPrevious, matStepperAnimations };\n","import { Injectable } from '@angular/core';\nimport { Booking, queryBookings, updateBooking } from '@placeos/bookings';\nimport { AsyncHandler, notifySuccess, unique } from '@placeos/common';\nimport { SpacesService } from '@placeos/spaces';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport {\n    debounceTime,\n    distinctUntilKeyChanged,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\nimport {\n    Asset,\n    AssetGroup,\n    AssetPurchaseOrder,\n    deleteAssetGroup,\n    generateAssetForm,\n    queryAssetCategories,\n    queryAssetGroups,\n    queryAssetPurchaseOrders,\n    saveAsset,\n    showGroupFull,\n} from '@placeos/assets';\nimport { cleanObject } from '@placeos/ts-client';\n\nexport interface AssetOptions {\n    search?: string;\n    sort_by?: string;\n    view: 'grid' | 'list';\n    active_item?: string;\n}\n\nexport interface AssetRequest {\n    id: string;\n    assets: { id: string; name: string; amount?: number }[];\n    date: number;\n    duration: number;\n    user_id: string;\n    user_name: string;\n    location_id: string;\n    location_name: string;\n    location_floor: string;\n    status: 'approved' | 'pending' | 'declined';\n    tracking: 'in_storage' | 'in_transit' | 'at_location' | 'unknown';\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AssetManagerStateService extends AsyncHandler {\n    private _options = new BehaviorSubject<AssetOptions>({ view: 'grid' });\n    private _change = new BehaviorSubject(0);\n    private _poll = new BehaviorSubject(0);\n    private _form = generateAssetForm();\n    private _loading = new BehaviorSubject(false);\n    /** Whether asset list is loading */\n    public readonly loading = this._loading.asObservable();\n    /** List of options set for the view */\n    public readonly options = this._options.asObservable();\n    /** List of available assets */\n    public readonly products: Observable<AssetGroup[]> = this._change.pipe(\n        switchMap(() => {\n            this._loading.next(true);\n            return queryAssetGroups();\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    ) as any;\n    /** List of available assets */\n    public readonly purchase_orders: Observable<AssetPurchaseOrder[]> =\n        this._change.pipe(\n            switchMap(() => {\n                this._loading.next(true);\n                return queryAssetPurchaseOrders();\n            }),\n            tap(() => this._loading.next(false)),\n            shareReplay(1)\n        ) as any;\n    /** List of requests made by users for assets */\n    public readonly requests = combineLatest([\n        this._poll,\n        this._change,\n        this._spaces.initialised,\n    ]).pipe(\n        debounceTime(200),\n        switchMap((_) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(Date.now())),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type: 'asset-request',\n            })\n        ),\n        map((_) =>\n            _.map(\n                (b) =>\n                    new Booking({\n                        ...b,\n                        extension_data: {\n                            ...b.extension_data,\n                            space: this._spaces.find(b.extension_data.space_id),\n                        },\n                    })\n            )\n        ),\n        shareReplay(1)\n    );\n    /** Filtered list of asset requests */\n    public readonly filtered_requests = combineLatest([\n        this.requests,\n        this._options,\n    ]).pipe(\n        map(([list, options]) => {\n            const search = (options.search || '').toLowerCase();\n            return search\n                ? list.filter(\n                      (i) =>\n                          i.user_name.toLowerCase().includes(search) ||\n                          i.extension_data.location_name\n                              .toLowerCase()\n                              .includes(search) ||\n                          i.extension_data.assets.find((_) =>\n                              _.name.toLowerCase().includes(search)\n                          ) ||\n                          i.status.includes(search) ||\n                          i.extension_data.tracking.includes(search)\n                  )\n                : list;\n        })\n    );\n    public readonly categories = combineLatest([\n        this._options,\n        this._change,\n    ]).pipe(\n        switchMap(() => queryAssetCategories()),\n        shareReplay(1)\n    );\n    /** Currently active asset */\n    public readonly active_product = this._options.pipe(\n        filter(({ active_item }) => !!active_item),\n        distinctUntilKeyChanged('active_item'),\n        switchMap((options) => showGroupFull(options.active_item)),\n        shareReplay(1)\n    );\n    /** List of requests for the currently active asset */\n    public readonly active_product_requests = this.active_product.pipe(\n        switchMap((item) => {\n            return this.requests.pipe(\n                map((_) =>\n                    _.filter((i) =>\n                        item.assets.find((asset) => asset.id === i.asset_id)\n                    )\n                )\n            );\n        }),\n        map((_) => _.filter((i) => i.status !== 'declined'))\n    );\n    /** list of filtered assets */\n    public readonly filtered_products = combineLatest([\n        this.products,\n        this._options,\n    ]).pipe(\n        map(([list, options]) =>\n            options.search\n                ? list.filter((i) =>\n                      i.name\n                          .toLowerCase()\n                          .includes(options.search.toLowerCase())\n                  )\n                : list\n        )\n    );\n    /** Mapping of available assets to categories */\n    public readonly product_mapping = this.filtered_products.pipe(\n        map((_) => {\n            const map = { _count: _.length };\n            const categories = unique(_.map((i) => i.category_id));\n            for (const group of categories) {\n                map[group] = _.filter((i) => i.category_id === group);\n            }\n            return map;\n        })\n    );\n\n    public get form() {\n        return this._form;\n    }\n\n    constructor(private _spaces: SpacesService) {\n        super();\n    }\n\n    public startPolling(delay = 15 * 1000) {\n        this.interval('polling', () => this._poll.next(Date.now()), delay);\n        return () => this.stopPolling();\n    }\n\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    public resetForm() {\n        this._form = generateAssetForm();\n    }\n\n    /** Update the set view options */\n    public setOptions(options: Partial<AssetOptions>) {\n        this._options.next({ ...this._options.getValue(), ...options });\n    }\n\n    public postChange() {\n        this.timeout('change', () => this._change.next(Date.now()), 1000);\n    }\n\n    public async setStatus(item: Booking, status: any) {\n        const result = await updateBooking(item.id, {\n            ...item,\n            approved: status === 'approved',\n            rejected: status === 'declined',\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    public async setTracking(item: Booking, tracking: string) {\n        const result = await updateBooking(item.id, {\n            ...item,\n            extension_data: { ...item.extension_data, tracking },\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    public async deleteActiveProduct() {\n        const item = await this.active_product.pipe(take(1)).toPromise();\n        if (!item?.id) return;\n        await deleteAssetGroup(item.id).toPromise();\n        this._change.next(Date.now());\n        notifySuccess('Successfully deleted asset');\n    }\n\n    public async postForm() {\n        if (!this.form?.valid) return;\n        const data: any = this.form.value;\n        const other_data = { ...data };\n        const drop_keys = [\n            'other_data',\n            'id',\n            'name',\n            'quantity',\n            'category',\n            'purchase_date',\n            'brand',\n            'images',\n        ];\n        for (const key of drop_keys) {\n            delete other_data[key];\n        }\n        data.other_data = cleanObject(other_data, [undefined, null, '']);\n        const asset = await saveAsset(data as any).toPromise();\n        this._change.next(Date.now());\n        notifySuccess(`Successfully ${data.id ? 'updated' : 'created'} asset`);\n        this.resetForm();\n        return asset.id;\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\n\n@Component({\n    selector: 'asset-manager-topbar',\n    template: `\n        <div\n            class=\"w-full px-4 py-2 bg-white dark:bg-neutral-700 flex items-center space-x-4\"\n        >\n            <a\n                btn\n                matRipple\n                class=\"secondary\"\n                [routerLink]=\"['/asset-manager', 'manage', 'group']\"\n            >\n                Add Product\n            </a>\n            <a\n                btn\n                matRipple\n                class=\"secondary\"\n                *ngIf=\"active === 'purchase-orders'\"\n                [routerLink]=\"['/asset-manager', 'manage', 'purchase-order']\"\n            >\n                Add Purchase Order\n            </a>\n            <mat-button-toggle-group\n                [ngModel]=\"(options | async)?.view\"\n                (ngModelChange)=\"setOptions({ view: $event })\"\n                *ngIf=\"active === 'items'\"\n            >\n                <mat-button-toggle value=\"grid\">\n                    <div\n                        class=\"flex items-center justify-center h-10 w-6 text-xl\"\n                    >\n                        <app-icon>view_module</app-icon>\n                    </div>\n                </mat-button-toggle>\n                <mat-button-toggle value=\"list\">\n                    <div\n                        class=\"flex items-center justify-center h-10 w-6 text-xl\"\n                    >\n                        <app-icon>view_list</app-icon>\n                    </div>\n                </mat-button-toggle>\n            </mat-button-toggle-group>\n            <div class=\"flex-1\"></div>\n            <mat-form-field appearance=\"outline\" class=\"h-[3.25rem]\">\n                <app-icon matPrefix class=\"text-2xl relative top-1 -left-1\">\n                    search\n                </app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(options | async)?.search\"\n                    (ngModelChange)=\"setOptions({ search: $event })\"\n                    placeholder=\"Search products and requests\"\n                />\n            </mat-form-field>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AssetManagerTopbarComponent {\n    @Input() public active = '';\n\n    public readonly options = this._state.options;\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    constructor(private _state: AssetManagerStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AssetManagerStateService } from './asset-manager-state.service';\n\n@Component({\n    selector: 'asset-listing',\n    template: `\n        <asset-manager-topbar [active]=\"active\"></asset-manager-topbar>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full px-4\">\n            <nav mat-tab-nav-bar>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"['/asset-manager', 'list', 'requests']\"\n                    [routerLinkActive]=\"'active'\"\n                    [active]=\"active === 'requests'\"\n                    (click)=\"active = 'requests'\"\n                >\n                    Requests\n                </a>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"['/asset-manager', 'list', 'items']\"\n                    [active]=\"active === 'items'\"\n                    (click)=\"active = 'items'\"\n                >\n                    Products\n                </a>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"['/asset-manager', 'list', 'purchase-orders']\"\n                    [active]=\"active === 'purchase-orders'\"\n                    (click)=\"active = 'purchase-orders'\"\n                >\n                    Purchase Orders\n                </a>\n            </nav>\n            <div class=\"flex-1 h-1/2 w-full overflow-visible\">\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetListingComponent {\n    public active = 'requests';\n\n    constructor(private _router: Router) {}\n\n    public ngOnInit() {\n        this.active = this._router.url.includes('requests')\n            ? 'requests'\n            : this._router.url.includes('items')\n            ? 'items'\n            : 'purchase-orders';\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: '[asset-manager]',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative w-1/2 flex-1 bg-gray-200 dark:bg-neutral-600 overflow-hidden\">\n            <router-outlet></router-outlet>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n                background: var(--bg);\n            }\n        `,\n    ],\n})\nexport class AssetManagerComponent {}\n","import { Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'splitjoin',\n})\nexport class SplitJoinPipe {\n    public transform(\n        value: string,\n        split: string = '_',\n        join: string = ' '\n    ): string {\n        return (value || '').split(split).join(join);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Booking } from '@placeos/bookings';\nimport { MapPinComponent } from '@placeos/components';\nimport {\n    AssetManagerStateService,\n    AssetRequest,\n} from './asset-manager-state.service';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'asset-location-modal',\n    template: `\n        <div class=\"p-6 relative\">\n            <button\n                icon\n                matRipple\n                mat-dialog-close\n                class=\"absolute top-4 right-4\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"font-medium mb-2\">\n                {{ (asset | async)?.name }} in use location:\n                {{ (requests | async)?.length }}\n            </h2>\n            <mat-form-field appearance=\"outline\" class=\"h-[3.5rem] mb-2\">\n                <app-icon matPrefix>search</app-icon>\n                <input matInput placeholder=\"Search...\" />\n            </mat-form-field>\n            <div class=\"flex items-center space-x-4 w-[90vw] text-sm\">\n                <div\n                    class=\"flex-1 h-[60vh] w-1/2 border border-gray-300 bg-gray-50 overflow-auto\"\n                >\n                    <custom-table\n                        [dataSource]=\"requests\"\n                        [columns]=\"[\n                            'zones',\n                            'description',\n                            'tracking',\n                            'user_name'\n                        ]\"\n                        [display_column]=\"[\n                            'Level',\n                            'Space',\n                            'Tracking',\n                            'Requestee'\n                        ]\"\n                        [column_size]=\"['4r', 'flex', '10r', '6r']\"\n                        [template]=\"{\n                            tracking: tracking_template,\n                            zones: level_template,\n                        }\"\n                        (row_clicked)=\"selected = $event; updateFeatures()\"\n                    ></custom-table>\n                </div>\n                <div\n                    class=\"flex-1 h-[60vh] w-1/2 border border-gray-300 bg-gray-100 relative flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 bg-white px-4 py-2 rounded-3xl border border-gray-300\"\n                        *ngIf=\"selected\"\n                    >\n                        {{\n                            selected.extension_data?.space?.level\n                                ?.display_name ||\n                                selected.extension_data?.space?.level?.name\n                        }}\n                    </div>\n                    <i-map\n                        *ngIf=\"selected; else empty_state\"\n                        [src]=\"selected.extension_data?.space?.level?.map_id\"\n                        [styles]=\"{\n                            '#Zones': { display: 'none' },\n                            '#zones': { display: 'none' }\n                        }\"\n                        [features]=\"selected_feature\"\n                    ></i-map>\n                </div>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <p class=\"opacity-30\">\n                Select a space from the list to view map location\n            </p>\n        </ng-template>\n        <ng-template #level_template let-data=\"data\">\n            {{ level(data)?.display_name || 'N/A' }}\n        </ng-template>\n        <ng-template #tracking_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"bg-none w-full flex items-center px-2 py-1 text-left\"\n                [matMenuTriggerFor]=\"tracking_menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <div class=\"capitalize flex-1\">\n                    {{\n                        (row.extension_data?.tracking | splitjoin) ||\n                            'In Storage'\n                    }}\n                </div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setTracking(row, 'in_storage')\">\n                    In Storage\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'in_transit')\">\n                    In Transit\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'at_location')\">\n                    At Location\n                </button>\n            </mat-menu>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetLocationModalComponent {\n    public readonly asset = this._state.active_product;\n    public readonly requests = this._state.active_product_requests;\n\n    public selected: Booking;\n    public selected_feature;\n\n    public loading = {};\n\n    public updateFeatures() {\n        const space = this.selected.extension_data?.space || {};\n        this.selected_feature = this.selected\n            ? [\n                  {\n                      location: space.map_id,\n                      content: MapPinComponent,\n                      z_index: 99,\n                      data: {\n                          message: `${\n                              space.display_name || space.name\n                          } is here`,\n                      },\n                  },\n              ]\n            : [];\n    }\n\n    public async setTracking(item: any, state: string) {\n        this.loading[item.id] = true;\n        await this._state.setTracking(item, state);\n        this.loading[item.id] = false;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _org: OrganisationService\n    ) {}\n\n    public level(zones) {\n        return this._org.levelWithID(zones);\n    }\n}\n","import { Component, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler, flatten, openConfirmModal } from '@placeos/common';\nimport { CustomTooltipComponent } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first, map } from 'rxjs/operators';\nimport { AssetLocationModalComponent } from './asset-location-modal.component';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    Asset,\n    AssetPurchaseOrder,\n    deleteAsset,\n    deleteAssetPurchaseOrder,\n} from '@placeos/assets';\n\n@Component({\n    selector: 'asset-view',\n    template: `\n        <div\n            class=\"h-full w-full flex flex-col\"\n            *ngIf=\"!loading && (item | async); else loading_state\"\n        >\n            <div\n                class=\"flex items-center space-x-4 p-2 bg-white border-b border-gray-200\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    [routerLink]=\"['/asset-manager', 'list', 'items']\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-2\">Back</div>\n                    </div>\n                </a>\n                <div class=\"flex items-center space-x-2 font-medium\">\n                    <span>Assets</span>\n                    <span>\n                        <app-icon class=\"text-2xl\">chevron_right</app-icon>\n                    </span>\n                    <span>{{ (item | async)?.category?.name }}</span>\n                    <span>\n                        <app-icon class=\"text-2xl\">chevron_right</app-icon>\n                    </span>\n                    <span>{{ (item | async)?.name }}</span>\n                </div>\n            </div>\n            <div class=\"flex items-center\">\n                <div\n                    class=\"bg-white dark:bg-neutral-700 flex-1 w-1/2 h-[22.5rem]\"\n                >\n                    <image-carousel\n                        [images]=\"(item | async)?.images || []\"\n                    ></image-carousel>\n                </div>\n                <div class=\"w-[32rem] h-[22.5rem] px-4 flex flex-col\">\n                    <div\n                        class=\"w-full flex items-center justify-between border-b border-gray-300 dark:border-neutral-500\"\n                    >\n                        <div class=\"font-medium\">\n                            {{ (item | async)?.name }}\n                        </div>\n                        <div class=\"flex items-center text-sm \">\n                            <a\n                                button\n                                btn\n                                matRipple\n                                class=\"clear\"\n                                [routerLink]=\"[\n                                    '/asset-manager',\n                                    'manage',\n                                    'group'\n                                ]\"\n                                [queryParams]=\"{ id: (item | async)?.id }\"\n                            >\n                                <div\n                                    class=\"flex items-center text-blue-600 hover:text-blue-900\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                    <div class=\"mr-2 underline\">Edit</div>\n                                </div>\n                            </a>\n                            <div class=\"w-px h-4 bg-gray-300\"></div>\n                            <button btn matRipple class=\"clear\">\n                                <div\n                                    class=\"flex items-center text-blue-600 hover:text-blue-900\"\n                                    customTooltip\n                                    [content]=\"delete_tooltip\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                    <div class=\"mr-2 underline\">Delete</div>\n                                </div>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"py-4 w-full flex-1 h-1/2 overflow-auto\">\n                        <ng-container\n                            *ngIf=\"\n                                (item | async)?.description;\n                                else no_desc_state\n                            \"\n                        >\n                            {{\n                                (item | async)?.description ||\n                                    '~No Description~'\n                            }}\n                        </ng-container>\n                        <ng-template #no_desc_state>\n                            <span class=\"opacity-30\">No Description</span>\n                        </ng-template>\n                    </div>\n                    <div\n                        class=\"rounded bg-white dark:bg-neutral-700 shadow border border-gray-300 dark:border-neutral-500 w-full divide-y divide-gray-200 dark:divide-neutral-500\"\n                    >\n                        <div class=\"flex items-center justify-between p-3\">\n                            <div class=\"pl-2\">\n                                Available:\n                                {{\n                                    (item | async)?.assets.length -\n                                        (requests | async)?.length || 0\n                                }}\n                            </div>\n                            <!-- <button\n                                btn\n                                matRipple\n                                [disabled]=\"\n                                    (item | async)?.assets.length -\n                                        (requests | async)?.length ===\n                                    0\n                                \"\n                            >\n                                Assign to Location\n                            </button> -->\n                        </div>\n                        <div class=\"flex items-center justify-between p-3\">\n                            <div class=\"pl-2\">\n                                In Use:\n                                {{ (requests | async)?.length || 0 }}\n                            </div>\n                            <button\n                                btn\n                                matRipple\n                                (click)=\"viewLocations()\"\n                                [disabled]=\"\n                                    (item | async)?.assets.length -\n                                        (requests | async)?.length !==\n                                    0\n                                \"\n                            >\n                                View Locations\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <mat-tab-group class=\"flex-1 h-px\">\n                <mat-tab label=\"Specifications\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">General</h3>\n                        <div\n                            data-table\n                            class=\"bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n                        >\n                            <div class=\"flex items-center p-2\">\n                                <label>Brand</label>\n                                <div>\n                                    {{ (item | async)?.brand || '~None~' }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </mat-tab>\n                <mat-tab label=\"Purchase information\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">Timeline</h3>\n                        <div\n                            data-table\n                            class=\"bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n                        >\n                            <div class=\"flex items-center p-2\">\n                                <label>Purchase Date</label>\n                                <div>\n                                    {{\n                                        (item | async)?.purchase_date\n                                            | date: 'mediumDate'\n                                    }}\n                                </div>\n                            </div>\n                            <div class=\"flex items-center p-2\">\n                                <label>Good Until</label>\n                                <div>\n                                    {{\n                                        (item | async)?.assets[0]\n                                            ?.end_of_life_date * 1000\n                                            | date: 'mediumDate'\n                                    }}\n                                </div>\n                            </div>\n                        </div>\n                        <h3 class=\"p-2\">Purchase Orders</h3>\n                        <a\n                            btn\n                            matRipple\n                            class=\"mb-2\"\n                            [routerLink]=\"[\n                                '/asset-manager',\n                                'manage',\n                                'purchase-order'\n                            ]\"\n                            [queryParams]=\"{ group_id: (item | async)?.id }\"\n                        >\n                            Add Purchase Order\n                        </a>\n                        <div\n                            data-table\n                            class=\"bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n                            *ngIf=\"\n                                (item | async)?.purchase_orders?.length;\n                                else empty_invoices\n                            \"\n                        >\n                            <div\n                                class=\"flex items-center p-2 space-x-2\"\n                                *ngFor=\"\n                                    let order of (item | async)\n                                        ?.purchase_orders || []\n                                \"\n                            >\n                                <label>{{ order.purchase_order_number }}</label>\n                                <div class=\"flex-1\">\n                                    {{ order.invoice_number }}\n                                </div>\n                                <div>{{ order.price | currency: code }}</div>\n                                <a\n                                    btn\n                                    icon\n                                    matRipple\n                                    [routerLink]=\"[\n                                        '/asset-manager',\n                                        'manage',\n                                        'purchase-order'\n                                    ]\"\n                                    [queryParams]=\"{\n                                        id: order.id,\n                                        group_id: (item | async)?.id\n                                    }\"\n                                    class=\"clear\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                </a>\n                                <button\n                                    btn\n                                    icon\n                                    matRipple\n                                    (click)=\"removePurchaseOrder(asset)\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                </button>\n                                <a\n                                    btn\n                                    icon\n                                    matRipple\n                                    *ngIf=\"order.url\"\n                                    class=\"clear\"\n                                    [href]=\"order.url | safe: 'url'\"\n                                    target=\"_blank\"\n                                    ref=\"noreferer noopener\"\n                                >\n                                    <app-icon class=\"text-lg\">\n                                        download\n                                    </app-icon>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </mat-tab>\n                <mat-tab label=\"Assets\">\n                    <div class=\"max-w-[768px] mx-auto p-4\">\n                        <h3 class=\"p-2\">Assets</h3>\n                        <a\n                            btn\n                            matRipple\n                            class=\"mb-2\"\n                            [routerLink]=\"['/asset-manager', 'manage', 'asset']\"\n                            [queryParams]=\"{ group_id: (item | async)?.id }\"\n                        >\n                            Add Asset\n                        </a>\n                        <div\n                            data-table\n                            class=\"bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n                            *ngIf=\"\n                                (item | async)?.assets?.length;\n                                else empty_items\n                            \"\n                        >\n                            <div\n                                class=\"flex items-center p-2 space-x-2\"\n                                *ngFor=\"\n                                    let asset of (item | async)?.assets || []\n                                \"\n                            >\n                                <div class=\"font-medium text-sm\">\n                                    {{ asset.model_number }}\n                                    <span\n                                        class=\"opacity-30\"\n                                        *ngIf=\"!asset.model_number\"\n                                    >\n                                        No Model no.\n                                    </span>\n                                </div>\n                                <div class=\"flex-1\">\n                                    {{ asset.serial_number }}\n                                </div>\n                                <div>\n                                    {{\n                                        asset.end_of_life_date * 1000\n                                            | date: 'mediumDate'\n                                    }}\n                                </div>\n                                <a\n                                    btn\n                                    icon\n                                    matRipple\n                                    [routerLink]=\"[\n                                        '/asset-manager',\n                                        'manage',\n                                        'asset'\n                                    ]\"\n                                    [queryParams]=\"{\n                                        id: asset.id,\n                                        group_id: (item | async)?.id\n                                    }\"\n                                    class=\"clear\"\n                                >\n                                    <app-icon class=\"text-lg\">edit</app-icon>\n                                </a>\n                                <button\n                                    btn\n                                    icon\n                                    matRipple\n                                    (click)=\"removeAsset(asset)\"\n                                >\n                                    <app-icon class=\"text-lg\">delete</app-icon>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </mat-tab>\n            </mat-tab-group>\n        </div>\n        <ng-template #loading_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Loading product details...</p>\n            </div>\n        </ng-template>\n        <ng-template #delete_tooltip>\n            <div\n                class=\"p-4 bg-white dark:bg-neutral-700 rounded my-2 text-center w-[18rem]\"\n                *ngIf=\"!deleting; else delete_loading\"\n            >\n                <p>Are you sure you want to permanently delete this product?</p>\n                <div class=\"flex items-center space-x-2 mt-6\">\n                    <button\n                        btn\n                        matRipple\n                        class=\"inverse flex-1 w-24\"\n                        (click)=\"closeTooltip()\"\n                    >\n                        No\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        class=\"error flex-1 w-24\"\n                        (click)=\"deleteAsset()\"\n                    >\n                        Yes, delete\n                    </button>\n                </div>\n            </div>\n            <ng-template #delete_loading>\n                <div\n                    class=\"p-4 bg-white dark:bg-neutral-700 rounded my-2 w-64 h-36 flex flex-col items-center justify-center space-y-2\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>Deleting product details...</p>\n                </div>\n            </ng-template>\n        </ng-template>\n        <ng-template #empty_invoices>\n            <div class=\"p-2 opacity-30\">No purchase orders</div>\n        </ng-template>\n        <ng-template #empty_items>\n            <div class=\"p-2 opacity-30\">No assets</div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            [data-table] > div:nth-child(2n) {\n                background: #0001;\n            }\n\n            label {\n                width: 10rem;\n                min-width: 0;\n            }\n        `,\n    ],\n})\nexport class AssetViewComponent extends AsyncHandler {\n    public loading = false;\n    public deleting = false;\n    public readonly item = this._state.active_product;\n    public readonly requests = this._state.active_product_requests;\n\n    @ViewChild(CustomTooltipComponent)\n    public _tooltip_el: CustomTooltipComponent;\n\n    public async deleteAsset() {\n        this.deleting = true;\n        await this._state.deleteActiveProduct();\n        this.deleting = false;\n        this._router.navigate(['/asset-manager', 'list', 'items']);\n        this.closeTooltip();\n    }\n\n    public closeTooltip() {\n        this._tooltip_el?.close();\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _state: AssetManagerStateService,\n        private _dialog: MatDialog,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public viewLocations() {\n        this._dialog.open(AssetLocationModalComponent);\n    }\n\n    public ngOnInit() {\n        this.loading = true;\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((params) => {\n                if (params.has('id')) {\n                    this._state.setOptions({ active_item: params.get('id') });\n                }\n            })\n        );\n        this.timeout(\n            'no_asset',\n            () => this._router.navigate(['/asset-mananger']),\n            1000\n        );\n        this._state.active_product.pipe(first((_) => !!_)).subscribe(() => {\n            this.clearTimeout('no_asset');\n            this.loading = false;\n        });\n    }\n\n    public async removeAsset(asset: Asset) {\n        const resp = await openConfirmModal(\n            {\n                title: 'Delete asset',\n                content: `Are you sure you want to delete this asset?`,\n                confirm_text: 'Delete',\n                icon: { content: 'delete' },\n            },\n            this._dialog\n        );\n        if (resp.reason !== 'done') return;\n        resp.loading('Deleting asset...');\n        await deleteAsset(asset.id).toPromise();\n        const item = await this._state.active_product.pipe(first()).toPromise();\n        this._state.setOptions({ active_item: '' });\n        setTimeout(\n            () => this._state.setOptions({ active_item: item.id }),\n            1000\n        );\n        resp.close();\n    }\n\n    public async removePurchaseOrder(asset: AssetPurchaseOrder) {\n        const resp = await openConfirmModal(\n            {\n                title: 'Delete purchase order',\n                content: `Are you sure you want to delete this purchase order?`,\n                confirm_text: 'Delete',\n                icon: { content: 'delete' },\n            },\n            this._dialog\n        );\n        if (resp.reason !== 'done') return;\n        resp.loading('Deleting purchase order...');\n        await deleteAssetPurchaseOrder(asset.id).toPromise();\n        const item = await this._state.active_product.pipe(first()).toPromise();\n        this._state.setOptions({ active_item: '' });\n        setTimeout(\n            () => this._state.setOptions({ active_item: item.id }),\n            1000\n        );\n        resp.close();\n    }\n}\n","import { Pipe } from '@angular/core';\nimport { formatDuration } from 'date-fns';\n\n@Pipe({\n    name: 'duration',\n})\nexport class DurationFormatPipe {\n    public transform(value: number, short = true): string {\n        let duration = formatDuration({\n            days: Math.floor(value / (24 * 60)),\n            hours: Math.floor((value / 60) % 24),\n            minutes: Math.floor(value % 60),\n        });\n        if (!short) return duration;\n        return duration\n            .replace(' day', 'd')\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n    AssetManagerStateService,\n    AssetRequest,\n} from './asset-manager-state.service';\n\n@Component({\n    selector: 'asset-request-details',\n    template: `\n        <div\n            class=\"fixed inset-0 bg-black/50 z-50\"\n            *ngIf=\"request\"\n            (click)=\"request = null; requestChange.emit(request)\"\n        >\n            <div\n                class=\"absolute inset-y-0 right-0 bg-white dark:bg-neutral-700 w-[480px]\"\n                (click)=\"$event.stopPropagation()\"\n            >\n                <button\n                    icon\n                    matRipple\n                    (click)=\"request = null; requestChange.emit(request)\"\n                    class=\"absolute top-1 right-1\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <div\n                    class=\"border-b border-gray-200 dark:border-neutral-500 px-2 py-4 flex space-x-4\"\n                >\n                    <a-user-avatar\n                        [user]=\"{ name: request.user_name }\"\n                        class=\"text-xl\"\n                    ></a-user-avatar>\n                    <div details class=\"space-y-1\">\n                        <div class=\"font-medium\">{{ request.user_name }}</div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>mail</app-icon>\n                            <a\n                                class=\"underline\"\n                                [href]=\"'mailto:' + request.user_email\"\n                            >\n                                {{ request.user_email || 'staff@place.tech' }}\n                            </a>\n                        </div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>call</app-icon>\n                            <a\n                                class=\"underline\"\n                                [href]=\"'tel:' + request.user_phone\"\n                            >\n                                {{ request.user_phone || '04 1234 5678' }}\n                            </a>\n                        </div>\n                        <div class=\"flex items-center text-sm space-x-2\">\n                            <app-icon>work_outline</app-icon>\n                            <div>{{ request.user_company || 'PlaceOS' }}</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"px-3 py-4 relative\">\n                    <div class=\"flex items-center space-x-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-gray-200 dark:bg-neutral-600 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">send</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Assets Requested</div>\n                    </div>\n                    <div class=\"pl-10 flex flex-col mt-1\">\n                        <div\n                            *ngFor=\"\n                                let asset of request.extension_data?.assets ||\n                                    []\n                            \"\n                        >\n                            {{ asset.amount || 1 }} {{ asset.name }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-gray-200 dark:bg-neutral-600 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">event</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Date For</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ request.date | date: 'mediumDate' }}\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-gray-200 dark:bg-neutral-600 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">schedule</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Period</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{ request.date | date: 'shortTime' }} &ndash;\n                        {{\n                            request.date + request.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                        ({{ request.duration | duration }})\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-gray-200 dark:bg-neutral-600 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">place</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Floor</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{\n                            request.extension_data?.space?.level\n                                ?.display_name ||\n                                request.extension_data?.space?.level?.name\n                        }}\n                    </div>\n                    <div class=\"flex items-center space-x-4 mt-4\">\n                        <div\n                            class=\"h-6 w-6 rounded-full text-secondary bg-gray-200 dark:bg-neutral-600 flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-sm\">meeting_room</app-icon>\n                        </div>\n                        <div class=\"font-medium\">Room</div>\n                    </div>\n                    <div class=\"pl-10 mt-1\">\n                        {{\n                            request.extension_data?.space?.display_name ||\n                                request.extension_data?.space?.name\n                        }}\n                    </div>\n                    <div class=\"absolute top-4 right-4 text-sm\">\n                        <button\n                            matRipple\n                            class=\"rounded-3xl !bg-opacity-20 flex items-center px-2 py-1 w-full text-left space-x-2 mb-4\"\n                            [class.bg-green-600]=\"request.status === 'approved'\"\n                            [class.bg-red-600]=\"request.status === 'declined'\"\n                            [class.bg-yellow-400]=\"\n                                request.status === 'tentative'\n                            \"\n                            [matMenuTriggerFor]=\"menu\"\n                            [disabled]=\"loading\"\n                        >\n                            <app-icon\n                                class=\"text-xl\"\n                                [class.text-green-600]=\"\n                                    request.status === 'approved'\n                                \"\n                                [class.text-red-600]=\"\n                                    request.status === 'declined'\n                                \"\n                                [class.text-yellow-400]=\"\n                                    request.status === 'tentative'\n                                \"\n                            >\n                                {{\n                                    request.status === 'approved'\n                                        ? 'done'\n                                        : request.status === 'declined'\n                                        ? 'close'\n                                        : 'warning'\n                                }}\n                            </app-icon>\n                            <div class=\"capitalize flex-1\">\n                                {{ request.status }}\n                            </div>\n                            <app-icon class=\"text-2xl\">expand_more</app-icon>\n                        </button>\n                        <mat-menu #menu=\"matMenu\" class=\"w-36\">\n                            <button\n                                mat-menu-item\n                                (click)=\"setStatus('approved')\"\n                            >\n                                Approve\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setStatus('declined')\"\n                            >\n                                Decline\n                            </button>\n                        </mat-menu>\n                        <button\n                            matRipple\n                            class=\"bg-none w-full flex items-center px-2 py-1 text-left border border-gray-200 dark:border-neutral-700 rounded-none\"\n                            [matMenuTriggerFor]=\"tracking_menu\"\n                            [disabled]=\"loading\"\n                        >\n                            <div class=\"capitalize flex-1\">\n                                {{\n                                    request.extension_data?.tracking | splitjoin\n                                }}\n                            </div>\n                            <app-icon class=\"text-2xl\">expand_more</app-icon>\n                        </button>\n                        <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('in_storage')\"\n                            >\n                                In Storage\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('in_transit')\"\n                            >\n                                In Transit\n                            </button>\n                            <button\n                                mat-menu-item\n                                (click)=\"setTracking('at_location')\"\n                            >\n                                At Location\n                            </button>\n                        </mat-menu>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AssetRequestDetailsComponent {\n    @Input() public request: any;\n    @Output() public requestChange = new EventEmitter<any>();\n\n    public loading = false;\n\n    constructor(private _state: AssetManagerStateService) {}\n\n    public async setStatus(status: string) {\n        this.loading = true;\n        await this._state.setStatus(this.request, status);\n        (this.request as any).status = status;\n        this.loading = false;\n    }\n\n    public async setTracking(state: string) {\n        this.loading = true;\n        await this._state.setTracking(this.request, state);\n        (this.request as any).extension_data.tracking = state;\n        this.loading = false;\n    }\n}\n","import { Component } from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'app-asset-request-list',\n    template: `\n        <div\n            class=\"relative -left-4 w-[calc(100%+2rem)] mt-4 h-[calc(100%-1rem)] flex flex-col\"\n        >\n            <div\n                class=\"bg-white dark:bg-neutral-700 p-4 border-t border-b border-gray-300 dark:border-neutral-500\"\n            >\n                <div class=\"opacity-60 text-sm\">\n                    {{ (requests | async)?.length }} asset request{{\n                        (requests | async)?.length === '1' ? '' : 's'\n                    }}\n                </div>\n            </div>\n            <div class=\"w-full overflow-auto h-1/2 flex-1\">\n                <custom-table\n                    asset-requests\n                    class=\"block min-w-[82rem] text-sm\"\n                    [dataSource]=\"requests\"\n                    [columns]=\"[\n                        'user',\n                        'title',\n                        'date',\n                        'period',\n                        'zones',\n                        'description',\n                        'approval',\n                        'tracking'\n                    ]\"\n                    [display_column]=\"[\n                        'Requester',\n                        'Asset Requested',\n                        'Date for',\n                        'Period',\n                        'Floor',\n                        'Room',\n                        'Approval',\n                        'Tracking'\n                    ]\"\n                    [column_size]=\"[\n                        'flex',\n                        '12r',\n                        '',\n                        '9.5r',\n                        '6r',\n                        '12r',\n                        '10r',\n                        '10r'\n                    ]\"\n                    [template]=\"{\n                        user: user_template,\n                        assets: assets_template,\n                        date: date_template,\n                        period: period_template,\n                        approval: approval_template,\n                        tracking: tracking_template,\n                        zones: level_template,\n                    }\"\n                    [empty]=\"\n                        (filters | async)?.search\n                            ? 'No matching asset requests'\n                            : 'There are no asset requests for the currently selected date.'\n                    \"\n                    (row_clicked)=\"request = $event\"\n                ></custom-table>\n            </div>\n        </div>\n        <ng-template #user_template let-row=\"row\">\n            <div class=\"flex items-center space-x-2\">\n                <a-user-avatar [user]=\"{ name: row.user_name }\"></a-user-avatar>\n                <div class=\"flex-1\">{{ row.user_name }}</div>\n            </div>\n        </ng-template>\n        <ng-template #assets_template let-row=\"row\">\n            <div class=\"flex flex-col\">\n                <div *ngFor=\"let asset of row.extension_data?.assets || []\">\n                    {{ asset.amount || 1 }} {{ asset.name }}\n                </div>\n            </div>\n        </ng-template>\n        <ng-template #date_template let-row=\"row\">\n            {{ row.date | date: 'mediumDate' }}\n        </ng-template>\n        <ng-template #level_template let-data=\"data\">\n            {{ level(data)?.display_name || 'N/A' }}\n        </ng-template>\n        <ng-template #period_template let-row=\"row\">\n            {{ row.date | date: 'shortTime' }} &ndash;\n            {{ row.date + row.duration * 60 * 1000 | date: 'shortTime' }}\n        </ng-template>\n        <ng-template #approval_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"rounded-3xl !bg-opacity-20 flex items-center px-2 py-1 w-full text-left space-x-2\"\n                [class.bg-green-600]=\"row.status === 'approved'\"\n                [class.bg-red-600]=\"row.status === 'declined'\"\n                [class.bg-yellow-400]=\"row.status === 'tentative'\"\n                [matMenuTriggerFor]=\"menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <app-icon\n                    class=\"text-xl\"\n                    [class.text-green-600]=\"row.status === 'approved'\"\n                    [class.text-red-600]=\"row.status === 'declined'\"\n                    [class.text-yellow-400]=\"row.status === 'tentative'\"\n                >\n                    {{\n                        row.status === 'approved'\n                            ? 'done'\n                            : row.status === 'declined'\n                            ? 'close'\n                            : 'warning'\n                    }}\n                </app-icon>\n                <div class=\"capitalize flex-1\">{{ row.status }}</div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setStatus(row, 'approved')\">\n                    Approve\n                </button>\n                <button mat-menu-item (click)=\"setStatus(row, 'declined')\">\n                    Decline\n                </button>\n            </mat-menu>\n        </ng-template>\n        <ng-template #tracking_template let-row=\"row\">\n            <button\n                matRipple\n                class=\"bg-none w-full flex items-center px-2 py-1 text-left\"\n                [matMenuTriggerFor]=\"tracking_menu\"\n                (click)=\"$event.stopPropagation()\"\n                [disabled]=\"loading[row.id]\"\n            >\n                <div class=\"capitalize flex-1\">\n                    {{\n                        (row.extension_data?.tracking | splitjoin) ||\n                            'In Storage'\n                    }}\n                </div>\n                <app-icon class=\"text-2xl\">expand_more</app-icon>\n            </button>\n            <mat-menu #tracking_menu=\"matMenu\" class=\"w-36\">\n                <button mat-menu-item (click)=\"setTracking(row, 'in_storage')\">\n                    In Storage\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'in_transit')\">\n                    In Transit\n                </button>\n                <button mat-menu-item (click)=\"setTracking(row, 'at_location')\">\n                    At Location\n                </button>\n            </mat-menu>\n        </ng-template>\n        <asset-request-details [(request)]=\"request\"></asset-request-details>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetRequestListComponent extends AsyncHandler {\n    public readonly requests = this._state.filtered_requests;\n    public readonly filters = this._state.options;\n    public request;\n\n    public readonly loading: Record<string, boolean> = {};\n\n    public async setStatus(item: any, status: string) {\n        this.loading[item.id] = true;\n        await this._state.setStatus(item, status);\n        this.loading[item.id] = false;\n    }\n\n    public async setTracking(item: any, state: string) {\n        this.loading[item.id] = true;\n        await this._state.setTracking(item, state);\n        this.loading[item.id] = false;\n    }\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public level(zones) {\n        return this._org.levelWithID(zones);\n    }\n\n    public ngOnInit() {\n        this.subscription('polling', this._state.startPolling());\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\n\n@Component({\n    selector: 'app-asset-item-list',\n    template: `\n        <div\n            class=\"overflow-auto pb-2 w-full h-full\"\n            *ngIf=\"\n                (categories | async)?.length && (products | async)?._count;\n                else empty_state\n            \"\n        >\n            <ng-container *ngFor=\"let group of categories | async\">\n                <div class=\"\" *ngIf=\"(products | async)[group.id]?.length\">\n                    <h2 class=\"py-2\">\n                        <span class=\"font-medium\">{{ group?.name }}</span>\n                        <span class=\"text-xs\">\n                            ({{ (products | async)[group.id]?.length }} item{{\n                                (products | async)[group.id]?.length === 1\n                                    ? ''\n                                    : 's'\n                            }})\n                        </span>\n                    </h2>\n                    <ng-container [ngSwitch]=\"(options | async).view\">\n                        <ng-container *ngSwitchCase=\"'list'\">\n                            <div\n                                class=\"rounded overflow-hidden bg-white dark:bg-neutral-700 border border-gray-300 divide-y divide-gray-200 dark:border-neutral-500\"\n                            >\n                                <a\n                                    matRipple\n                                    class=\"flex items-center text-left space-x-4 p-4 border border-black/0 hover:border-indigo-400 rounded\"\n                                    *ngFor=\"\n                                        let asset of (products | async)[\n                                            group.id\n                                        ]\n                                    \"\n                                    [routerLink]=\"[\n                                        '/asset-manager',\n                                        'view',\n                                        asset.id\n                                    ]\"\n                                >\n                                    <div\n                                        class=\"h-12 w-12 flex items-center justify-center border border-gray-200 bg-gray-100 dark:border-neutral-500 p-2\"\n                                    >\n                                        <img\n                                            *ngIf=\"\n                                                asset.images?.length;\n                                                else placeholder\n                                            \"\n                                            [src]=\"asset.images[0]\"\n                                            class=\"max-w-full max-h-full object-contain\"\n                                        />\n                                        <ng-template #placeholder>\n                                            <img\n                                                class=\"m-auto\"\n                                                src=\"assets/icons/asset-placeholder.svg\"\n                                            />\n                                        </ng-template>\n                                    </div>\n                                    <div>\n                                        <div class=\"truncate\">\n                                            {{ asset.name }}\n                                        </div>\n                                        <div class=\"text-xs opacity-60\">\n                                            In Storage:\n                                            {{\n                                                (asset.count || 0) -\n                                                    (asset.locations?.length ||\n                                                        0)\n                                            }}/{{ asset.count || 0 }}\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            <div\n                                class=\"flex items-center overflow-hidden flex-wrap -mx-2 w-full\"\n                            >\n                                <a\n                                    matRipple\n                                    class=\"bg-white dark:bg-neutral-700 rounded shadow w-40 h-44 text-left m-2 border border-gray-200 hover:border-indigo-400\"\n                                    *ngFor=\"\n                                        let asset of (products | async)[\n                                            group.id\n                                        ]\n                                    \"\n                                    [routerLink]=\"[\n                                        '/asset-manager',\n                                        'view',\n                                        asset.id\n                                    ]\"\n                                >\n                                    <div\n                                        class=\"w-full h-32 flex items-center justify-center p-2 bg-gray-100\"\n                                    >\n                                        <img\n                                            *ngIf=\"\n                                                asset.images?.length;\n                                                else placeholder\n                                            \"\n                                            [src]=\"asset.images[0]\"\n                                            class=\"max-w-full max-h-full object-contain\"\n                                        />\n                                        <ng-template #placeholder>\n                                            <img\n                                                class=\"m-auto w-16\"\n                                                src=\"assets/icons/asset-placeholder.svg\"\n                                            />\n                                        </ng-template>\n                                    </div>\n                                    <div\n                                        class=\"border-t border-gray-200 dark:border-neutral-500 w-full px-3 py-1\"\n                                    >\n                                        <div class=\"truncate\">\n                                            {{ asset.name }}\n                                        </div>\n                                        <div class=\"text-xs opacity-60\">\n                                            In Storage:\n                                            {{\n                                                (asset.count || 0) -\n                                                    (asset.locations?.length ||\n                                                        0)\n                                            }}/{{ asset.count || 0 }}\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </ng-container>\n                    </ng-container>\n                </div>\n            </ng-container>\n        </div>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n        <ng-template #empty_state>\n            <div\n                class=\"flex flex-col items-center justify-center p-8 space-y-4 h-full w-full\"\n            >\n                <p class=\"opacity-40\">\n                    {{\n                        (options | async)?.search\n                            ? 'No matching assets found'\n                            : 'No assets available. Create a new asset with the button below'\n                    }}\n                </p>\n                <a\n                    button\n                    btn\n                    matRipple\n                    *ngIf=\"!(options | async)?.search\"\n                    [routerLink]=\"['/asset-manager', 'manage', 'group']\"\n                >\n                    Create New Product\n                </a>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetItemListComponent {\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n    public readonly categories = this._state.categories;\n    public readonly products = this._state.product_mapping;\n\n    constructor(private _state: AssetManagerStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    generateAssetPurchaseOrderForm,\n    saveAssetPurchaseOrder,\n    showAssetPurchaseOrder,\n} from '@placeos/assets';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler, notifyError, notifySuccess } from '@placeos/common';\nimport { addYears, getUnixTime } from 'date-fns';\n\n@Component({\n    selector: 'asset-purchase-order-form',\n    template: `\n        <div class=\"absolute inset-0 bg-white\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Purchase Order\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto\" [formGroup]=\"form\">\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"order-number\">\n                            Order Number<span>*</span>\n                        </label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"order-number\"\n                                placeholder=\"Order Number\"\n                                formControlName=\"order_number\"\n                            />\n                            <mat-error>Order number is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"invoice-number\">\n                            Invoice Number<span>*</span>\n                        </label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"invoice-number\"\n                                placeholder=\"Invoice Number\"\n                                formControlName=\"invoice_number\"\n                            />\n                            <mat-error>Invoice number is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"purchase-date\">\n                            Purchase Date<span>*</span>\n                        </label>\n                        <a-date-field\n                            name=\"purchase-date\"\n                            [from]=\"from\"\n                            formControlName=\"purchase_date\"\n                        ></a-date-field>\n                    </div>\n                    <div class=\"flex space-x-2\">\n                        <div class=\"flex flex-col space-y-2\">\n                            <label for=\"depreciation-start-date\">\n                                Expected Service Start Date\n                            </label>\n                            <a-date-field\n                                name=\"depreciation-start-date\"\n                                [from]=\"from\"\n                                formControlName=\"expected_service_start_date\"\n                            ></a-date-field>\n                        </div>\n                        <div class=\"flex flex-col space-y-2\">\n                            <label for=\"depreciation-end-date\">\n                                Expected Service End Date\n                            </label>\n                            <a-date-field\n                                name=\"depreciation-end-date\"\n                                formControlName=\"expected_service_end_date\"\n                            ></a-date-field>\n                        </div>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-gray-100\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            product_id\n                                ? ['/asset-manager', 'view', product_id]\n                                : ['/asset-manager', 'list', 'purchase-orders']\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetPurchaseOrderFormComponent extends AsyncHandler {\n    public readonly form = generateAssetPurchaseOrderForm();\n    public loading: string = '';\n    public product_id: string;\n    public readonly from = addYears(Date.now(), -5);\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading purchase order details...';\n                    const asset = await showAssetPurchaseOrder(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!asset) {\n                        notifyError('Unable to load purchase order details.');\n                        this._router.navigate(['/asset-manager']);\n                    }\n                    this.form.patchValue({\n                        ...asset,\n                        order_number: asset.purchase_order_number,\n                        purchase_date: asset.purchase_date * 1000,\n                        expected_service_end_date:\n                            asset.expected_service_end_date * 1000,\n                        expected_service_start_date:\n                            asset.expected_service_start_date * 1000,\n                    });\n                    this.loading = '';\n                }\n                if (params.get('group_id')) {\n                    this.product_id = params.get('group_id');\n                }\n            })\n        );\n        this._state.setOptions({ active_item: null });\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        data.purchase_date = getUnixTime(data.purchase_date);\n        data.expected_service_start_date = getUnixTime(\n            data.expected_service_end_date\n        );\n        data.expected_service_end_date = getUnixTime(\n            data.expected_service_end_date\n        );\n        const item = await saveAssetPurchaseOrder(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving purchase order.: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        notifySuccess('Successfully saved purchase order.');\n        this._state.postChange();\n        this._router.navigate(['/asset-manager', 'view', this.product_id]);\n        this.loading = '';\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    AssetCategory,\n    generateAssetCategoryForm,\n    saveAssetCategory,\n} from '@placeos/assets';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { map } from 'rxjs/operators';\nimport { notifyError } from '@placeos/common';\n\n@Component({\n    selector: 'asset-category-form',\n    template: `\n        <header class=\"flex items-center p-2\">\n            <h2 class=\"text-center text-xl font-medium\">\n                {{ form.value.id ? 'Edit' : 'Add' }} Category\n            </h2>\n            <button btn icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"flex-1 h-1/2 overflow-auto p-2 w-[20rem] max-w-[80vw]\"\n            [formGroup]=\"form\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <div class=\"flex flex-col space-y-2\">\n                <label for=\"name\">Name<span>*</span></label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Category Name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col space-y-2\">\n                <label for=\"name\">Parent Category</label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-select\n                        formControlName=\"parent_category_id\"\n                        placeholder=\"No Parent\"\n                        [disabled]=\"!(categories | async)?.length\"\n                    >\n                        <mat-option\n                            *ngFor=\"let category of categories | async\"\n                            [value]=\"category.id\"\n                        >\n                            {{ category.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n        </main>\n        <footer\n            class=\"flex justify-end space-x-2 p-2 border-t border-gray-100\"\n            *ngIf=\"!loading\"\n        >\n            <a btn matRipple class=\"w-32 inverse\" mat-dialog-close>Cancel</a>\n            <button btn matRipple class=\"w-32\" (click)=\"save()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center justify-center p-8\">\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"mt-4\">Saving Category...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetCategoryFormComponent {\n    public loading = false;\n    public readonly form = generateAssetCategoryForm();\n    public readonly categories = this._state.categories.pipe(\n        map((list) =>\n            list.filter((_) => _.parent_category_id !== this.form.value.id)\n        )\n    );\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) _data: { category?: AssetCategory },\n        private _state: AssetManagerStateService,\n        private _dialog_ref: MatDialogRef<AssetCategoryFormComponent>\n    ) {\n        if (_data?.category) this.form.patchValue(_data.category);\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        const data = this.form.value;\n        const item = await saveAssetCategory(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = false;\n                this._dialog_ref.disableClose = false;\n                notifyError(`Error saving category: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this.loading = false;\n        this._dialog_ref.close(item);\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    AssetGroup,\n    generateAssetForm,\n    saveAsset,\n    showAsset,\n    showAssetGroup,\n} from '@placeos/assets';\nimport { AsyncHandler, getInvalidFields, notifyError } from '@placeos/common';\n\n@Component({\n    selector: 'asset-form',\n    template: `\n        <div class=\"absolute inset-0 bg-white\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Asset\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto\" [formGroup]=\"form\">\n                    <div class=\"flex flex-1 flex-col space-y-2\">\n                        <label for=\"name\">Product<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                [ngModel]=\"product?.name || 'No Product'\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                [disabled]=\"true\"\n                            />\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"description\">Description</label>\n                        <mat-form-field appearance=\"outline\">\n                            <textarea\n                                matInput\n                                name=\"description\"\n                                placeholder=\"Description of the product\"\n                                formControlName=\"description\"\n                            ></textarea>\n                            <mat-error>Description is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"serial-number\">\n                                Serial Number<span>*</span>\n                            </label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"serial-number\"\n                                    placeholder=\"Serial Number\"\n                                    formControlName=\"serial_number\"\n                                />\n                                <mat-error>Serial Number is required</mat-error>\n                            </mat-form-field>\n                        </div>\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"identifier\">Identifier</label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"identifier\"\n                                    placeholder=\"Identifier, Asset ID or Barcode\"\n                                    formControlName=\"identifier\"\n                                />\n                                <mat-error>Identifier is required</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"flex space-x-2\">\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"purchase-order-id\">\n                                Purchase Order ID <span>*</span>\n                            </label>\n                            <mat-form-field appearance=\"outline\">\n                                <mat-select\n                                    formControlName=\"purchase_order_id\"\n                                    placeholder=\"Select Purchase Order\"\n                                >\n                                    <mat-option\n                                        *ngFor=\"\n                                            let order of purchase_orders | async\n                                        \"\n                                        [value]=\"order.id\"\n                                    >\n                                        {{\n                                            order.purchase_order_number ||\n                                                order.invoice_number\n                                        }}\n                                    </mat-option>\n                                    <mat-option\n                                        *ngIf=\"\n                                            !(purchase_orders | async)?.length\n                                        \"\n                                        class=\"opacity-60\"\n                                        [disabled]=\"true\"\n                                    >\n                                        No purchase orders\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Purchase Order ID is required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                        <div class=\"flex flex-1 flex-col space-y-2\">\n                            <label for=\"purchase-price\">Purchase Price</label>\n                            <mat-form-field appearance=\"outline\">\n                                <span matPrefix>$</span>\n                                <input\n                                    matInput\n                                    type=\"number\"\n                                    name=\"purchase-price\"\n                                    placeholder=\"Identifier\"\n                                    formControlName=\"purchase_price\"\n                                />\n                                <mat-error\n                                    >Purchase Price is required</mat-error\n                                >\n                            </mat-form-field>\n                        </div>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"end-of-life-date\">End of Life Date</label>\n                        <a-date-field\n                            name=\"end-of-life-date\"\n                            formControlName=\"end_of_life_date\"\n                        ></a-date-field>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-gray-100\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"['/asset-manager']\"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetFormComponent extends AsyncHandler {\n    public readonly form = generateAssetForm();\n    public readonly purchase_orders = this._state.purchase_orders;\n    public product: AssetGroup;\n    public loading: string = '';\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading Asset Details...';\n                    const asset = await showAsset(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!asset) {\n                        notifyError('Unable to load asset details.');\n                        this._router.navigate(['/asset-manager']);\n                    }\n                    this.form.patchValue(asset);\n                    this.loading = '';\n                }\n                if (params.get('group_id')) {\n                    this.loading = 'Loading Product Details...';\n                    const product = await showAssetGroup(params.get('group_id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!product) {\n                        notifyError(\n                            'Unable to load associated product details.'\n                        );\n                        this._router.navigate(['/asset-manager']);\n                    }\n                    this.product = product;\n                    this.form.patchValue({ type_id: product.id });\n                    this.loading = '';\n                }\n            })\n        );\n        this._state.setOptions({ active_item: null });\n    }\n\n    public async save() {\n        if (!this.form.valid) {\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form)}]`\n            );\n        }\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        const item = await saveAsset(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving asset: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this._state.postChange();\n        this._router.navigate(['/asset-manager', 'view', this.product?.id]);\n        this.loading = '';\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport {\n    AssetCategory,\n    generateAssetGroupForm,\n    saveAssetGroup,\n    showAssetGroup,\n} from '@placeos/assets';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AssetCategoryFormComponent } from './asset-category-form.component';\nimport { AsyncHandler, notifyError, unique } from '@placeos/common';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'asset-group-form',\n    template: `\n        <div class=\"absolute inset-0 bg-white\">\n            <div\n                class=\"h-full max-w-[32rem] mx-auto flex flex-col\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <header class=\"p-4\">\n                    <h2 class=\"text-center text-xl font-medium\">\n                        {{ form.value.id ? 'Edit' : 'Add' }} Product\n                    </h2>\n                </header>\n                <main class=\"flex-1 h-1/2 overflow-auto p-2\" [formGroup]=\"form\">\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"name\">Name<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"name\"\n                                placeholder=\"Name of the product\"\n                                formControlName=\"name\"\n                            />\n                            <mat-error>Name is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"name\">Category<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <mat-select\n                                formControlName=\"category_id\"\n                                placeholder=\"Category of Product\"\n                                (click)=\"\n                                    current_category = form.value.category_id\n                                \"\n                            >\n                                <mat-option\n                                    *ngFor=\"let category of categories | async\"\n                                    [value]=\"category.id\"\n                                >\n                                    {{ category.name }}\n                                </mat-option>\n                                <mat-option\n                                    (click)=\"newCategory()\"\n                                    class=\"relative\"\n                                >\n                                    <div class=\"flex items-center space-x-2\">\n                                        <app-icon>add</app-icon>\n                                        <p>New Category</p>\n                                    </div>\n                                </mat-option>\n                            </mat-select>\n                            <mat-error>Category is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"brand\">Brand<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"brand\"\n                                placeholder=\"Brand of the product\"\n                                formControlName=\"brand\"\n                            />\n                            <mat-error>Brand is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"description\">Description</label>\n                        <mat-form-field appearance=\"outline\">\n                            <textarea\n                                matInput\n                                name=\"description\"\n                                placeholder=\"Description of the product\"\n                                formControlName=\"description\"\n                            ></textarea>\n                            <mat-error>Description is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col space-y-2\">\n                        <label for=\"images\">Images</label>\n                        <image-list-field\n                            name=\"images\"\n                            formControlName=\"images\"\n                        ></image-list-field>\n                    </div>\n                </main>\n                <footer\n                    class=\"flex justify-end space-x-2 p-2 border-t border-gray-100\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        class=\"w-32 inverse\"\n                        [routerLink]=\"\n                            form.value.id\n                                ? ['/asset-manager', 'view', form.value.id]\n                                : ['/asset-manager', 'list', 'items']\n                        \"\n                    >\n                        Cancel\n                    </a>\n                    <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                        Save\n                    </button>\n                </footer>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class AssetGroupFormComponent extends AsyncHandler {\n    public readonly form = generateAssetGroupForm();\n    public readonly new_category = new BehaviorSubject<AssetCategory>(null);\n    public readonly categories = combineLatest([\n        this._state.categories,\n        this.new_category,\n    ]).pipe(\n        map(([list, item]) => (item ? unique([...list, item], 'id') : list))\n    );\n    public loading: string = '';\n    public current_category: string;\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.get('id')) {\n                    this.loading = 'Loading Product Details...';\n                    const product = await showAssetGroup(params.get('id'))\n                        .toPromise()\n                        .catch(() => null);\n                    if (!product) {\n                        notifyError('Unable to load product details.');\n                        this._router.navigate(['/asset-manager']);\n                    }\n                    this.form.patchValue(product);\n                    this.loading = '';\n                }\n            })\n        );\n    }\n\n    public newCategory() {\n        this.form.patchValue({ category_id: this.current_category });\n        const ref = this._dialog.open(AssetCategoryFormComponent);\n        ref.afterClosed().subscribe((category?) => {\n            if (category) {\n                this._state.postChange();\n                this.new_category.next(category);\n                this.form.patchValue({ category_id: category.id });\n            }\n        });\n    }\n\n    public async save() {\n        if (!this.form.valid) return;\n        this.loading = 'Saving Product...';\n        const data = this.form.value;\n        const item = await saveAssetGroup(data as any)\n            .toPromise()\n            .catch((e) => {\n                this.loading = '';\n                notifyError(`Error saving Product: ${e.message}`);\n                throw e;\n            });\n        this.form.reset();\n        this.loading = '';\n        this._state.postChange();\n        this._router.navigate(['/asset-manager', 'view', item.id]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { AssetManagerStateService } from './asset-manager-state.service';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-asset-purchase-order-list',\n    template: `\n        <div\n            class=\"relative -left-4 w-[calc(100%+2rem)] mt-4 h-[calc(100%-1rem)] flex flex-col\"\n        >\n            <div class=\"w-full overflow-auto h-1/2 flex-1\">\n                <custom-table\n                    purchase-orders\n                    class=\"block min-w-[60rem] text-sm\"\n                    [dataSource]=\"purchase_orders\"\n                    [columns]=\"[\n                        'purchase_order_number',\n                        'invoice_number',\n                        'purchase_date',\n                        'expected_service_start_date',\n                        'expected_service_end_date'\n                    ]\"\n                    [display_column]=\"[\n                        'Order Number',\n                        'Invoice Number',\n                        'Purchase Date',\n                        'Depreciation Start',\n                        'Depreciation End'\n                    ]\"\n                    [column_size]=\"['flex', '10r', '12r', '12r', '12r']\"\n                    [template]=\"{\n                    purchase_date: date_template,\n                    expected_service_start_date: date_template,\n                    expected_service_end_date: date_template,\n                }\"\n                    [empty]=\"\n                        (filters | async)?.search\n                            ? 'No matching purchase orders found.'\n                            : 'There are purchase orders for this building.'\n                    \"\n                    (row_clicked)=\"editOrder($event)\"\n                ></custom-table>\n            </div>\n        </div>\n        <ng-template #date_template let-data=\"data\">\n            <span class=\"opacity-30\" *ngIf=\"!data\">No Date set</span>\n            {{ data ? (data * 1000 | date: 'mediumDate') : '' }}\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetPurchaseOrderListComponent {\n    public readonly now = Date.now();\n    public readonly purchase_orders = combineLatest([\n        this._state.options,\n        this._state.purchase_orders,\n    ]).pipe(\n        map(([{ search }, list]) =>\n            list.filter(\n                (_) =>\n                    !search ||\n                    _.order_number\n                        .toLowerCase()\n                        .includes(search.toLowerCase()) ||\n                    _.invoice_number\n                        .toLowerCase()\n                        .includes(search.toLowerCase())\n            )\n        )\n    );\n    public readonly filters = this._state.options;\n\n    constructor(\n        private _state: AssetManagerStateService,\n        private _router: Router\n    ) {}\n\n    public editOrder(order) {\n        this._router.navigate(['/asset-manager', 'manage', 'purchase-order'], {\n            queryParams: { id: order.id },\n        });\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { UIModule } from '../ui/ui.module';\n\nimport { AssetListingComponent } from './asset-listing.component';\nimport { AssetManagerTopbarComponent } from './asset-manager-topbar.component';\nimport { AssetManagerComponent } from './asset-manager.component';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { AssetViewComponent } from './asset-view.component';\nimport { AssetRequestListComponent } from './asset-request-list.component';\nimport { ComponentsModule } from '@placeos/components';\nimport { AssetItemListComponent } from './asset-item-list.component';\nimport { SplitJoinPipe } from './split-join.pipe';\nimport { AssetRequestDetailsComponent } from './asset-request-details.component';\nimport { DurationFormatPipe } from './duration.pipe';\nimport { AssetLocationModalComponent } from './asset-location-modal.component';\nimport { AssetPurchaseOrderFormComponent } from './asset-purchase-order-form.component';\nimport { AssetCategoryFormComponent } from './asset-category-form.component';\nimport { AssetFormComponent } from './asset-form.component';\nimport { AssetGroupFormComponent } from './asset-group-form.component';\nimport { AssetPurchaseOrderListComponent } from './asset-purchase-order-list.component';\n\nconst COMPONENTS = [\n    AssetManagerComponent,\n    AssetManagerTopbarComponent,\n    AssetListingComponent,\n    AssetViewComponent,\n    AssetRequestListComponent,\n    AssetItemListComponent,\n    AssetRequestDetailsComponent,\n    AssetLocationModalComponent,\n    SplitJoinPipe,\n    DurationFormatPipe,\n\n    AssetFormComponent,\n    AssetGroupFormComponent,\n    AssetCategoryFormComponent,\n    AssetPurchaseOrderFormComponent,\n    AssetPurchaseOrderListComponent,\n];\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: AssetManagerComponent,\n        children: [\n            {\n                path: 'list',\n                component: AssetListingComponent,\n                children: [\n                    { path: 'items', component: AssetItemListComponent },\n                    { path: 'requests', component: AssetRequestListComponent },\n                    {\n                        path: 'purchase-orders',\n                        component: AssetPurchaseOrderListComponent,\n                    },\n                    { path: '**', redirectTo: 'requests' },\n                ],\n            },\n            { path: 'view/:id', component: AssetViewComponent },\n            {\n                path: 'manage',\n                children: [\n                    { path: 'group', component: AssetGroupFormComponent },\n                    { path: 'asset', component: AssetFormComponent },\n                    { path: 'category', component: AssetCategoryFormComponent },\n                    {\n                        path: 'purchase-order',\n                        component: AssetPurchaseOrderFormComponent,\n                    },\n                ],\n            },\n            { path: '**', redirectTo: 'list/requests' },\n        ],\n    },\n    { path: '**', redirectTo: '' },\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        UIModule,\n        ComponentsModule,\n        MatButtonToggleModule,\n        MatProgressBarModule,\n        MatTabsModule,\n        MatStepperModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class AppAssetManangerModule {}\n"],"x_google_ignoreList":[0,1,2]}