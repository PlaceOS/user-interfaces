{"version":3,"file":"apps_workplace_src_app_book_book_module_ts.js","mappings":"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","sources":["./apps/workplace/src/app/book/book.component.ts","./apps/workplace/src/app/book/book.module.ts","./apps/workplace/src/app/book/code-flow-error.component.ts","./apps/workplace/src/app/book/code-flow-success.component.ts","./apps/workplace/src/app/book/code-flow.component.ts","./apps/workplace/src/app/book/desk-flow.component.ts","./apps/workplace/src/app/book/desk-flow/confirm.component.ts","./apps/workplace/src/app/book/desk-flow/detailed-form.component.ts","./apps/workplace/src/app/book/desk-flow/form.component.ts","./apps/workplace/src/app/book/desk-flow/map.component.ts","./apps/workplace/src/app/book/flow-success.component.ts","./apps/workplace/src/app/book/locker-flow.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-confirm.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-form.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-success.component.ts","./apps/workplace/src/app/book/locker-flow/locker-form-details.component.ts","./apps/workplace/src/app/book/meeting-flow.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm-modal.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-form.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-success.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-form-details.component.ts","./apps/workplace/src/app/book/new-desk-flow.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-confirm.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-form.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-success.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-form-details.component.ts","./apps/workplace/src/app/book/new-parking-flow.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-form.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-success.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-form-details.component.ts","./apps/workplace/src/app/book/parking-flow.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-map.component.ts","./apps/workplace/src/app/book/space-flow.component.ts","./apps/workplace/src/app/book/space-flow/confirm.component.ts","./apps/workplace/src/app/book/space-flow/detailed-form.component.ts","./apps/workplace/src/app/book/space-flow/find-item.component.ts","./apps/workplace/src/app/book/space-flow/find.component.ts","./apps/workplace/src/app/book/space-flow/form.component.ts","./apps/workplace/src/app/book/visitor-flow.component.ts","./libs/catering/src/index.ts","./libs/catering/src/lib/catering-config-modal.component.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-list-field.component.ts","./libs/catering/src/lib/catering-menu-item.component.ts","./libs/catering/src/lib/catering-menu.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/catering-order-item.component.ts","./libs/catering/src/lib/catering-order-list.component.ts","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-details.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-filters.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list-item.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list.component.ts","./libs/catering/src/lib/catering-order-modal/catering-order-state.service.ts","./libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-order.component.ts","./libs/catering/src/lib/catering-orders.service.ts","./libs/catering/src/lib/catering-rooms-state-modal.component.ts","./libs/catering/src/lib/catering-state.service.ts","./libs/catering/src/lib/catering.interfaces.ts","./libs/catering/src/lib/catering.module.ts","./libs/catering/src/lib/catering.ts","./libs/catering/src/lib/catering.vars.ts","./libs/catering/src/lib/charge-code-list-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/date-fns/esm/subHours/index.js","./node_modules/qr-scanner/qr-scanner.min.js","./node_modules/@angular/material/fesm2022/button-toggle.mjs"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'placeos-book',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n        <footer-menu class=\"z-10\" *ngIf=\"!hide_nav\"></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookComponent {\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\n\nimport { SharedExploreModule } from '@placeos/explore';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedCateringModule } from '@placeos/catering';\n\nimport { BookComponent } from './book.component';\nimport { BookCodeFlowComponent } from './code-flow.component';\nimport { BookDeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowConfirmComponent } from './desk-flow/confirm.component';\nimport { DeskFlowFormComponent } from './desk-flow/form.component';\nimport { DeskFlowDetailedFormComponent } from './desk-flow/detailed-form.component';\nimport { DeskFlowMapComponent } from './desk-flow/map.component';\nimport { FlowSuccessComponent } from './flow-success.component';\nimport { BookSpaceFlowComponent } from './space-flow.component';\nimport { SpaceFlowConfirmComponent } from './space-flow/confirm.component';\nimport { DetailBookSpaceFormComponent } from './space-flow/detailed-form.component';\nimport { SpaceFlowFindItemComponent } from './space-flow/find-item.component';\nimport { SpaceFlowFindComponent } from './space-flow/find.component';\nimport { SpaceFlowFormComponent } from './space-flow/form.component';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { BookParkingFlowComponent } from './parking-flow.component';\nimport { ParkingFlowMapComponent } from './parking-flow/parking-flow-map.component';\nimport { ParkingFlowConfirmComponent } from './parking-flow/parking-flow-confirm.component';\nimport { BookMeetingFlowComponent } from './meeting-flow.component';\nimport { MeetingFlowFormComponent } from './meeting-flow/meeting-flow-form.component';\nimport { MeetingFormDetailsComponent } from './meeting-flow/meeting-form-details.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow/meeting-flow-confirm.component';\nimport { MeetingFlowSuccessComponent } from './meeting-flow/meeting-flow-success.component';\nimport { NewDeskFlowComponent } from './new-desk-flow.component';\nimport { NewDeskFlowFormComponent } from './new-desk-flow/new-desk-flow-form.component';\nimport { NewDeskFormDetailsComponent } from './new-desk-flow/new-desk-form-details.component';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow/new-desk-flow-confirm.component';\nimport { NewDeskFlowSuccessComponent } from './new-desk-flow/new-desk-flow-success.component';\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { NewParkingFlowComponent } from './new-parking-flow.component';\nimport { ParkingFlowFormComponent } from './new-parking-flow/parking-flow-form.component';\nimport { ParkingFlowSuccessComponent } from './new-parking-flow/parking-flow-success.component';\nimport { ParkingFormDetailsComponent } from './new-parking-flow/parking-form-details.component';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow/meeting-flow-confirm-modal.component';\nimport { NewParkingFlowConfirmComponent } from './new-parking-flow/parking-flow-confirm.component';\nimport { CodeFlowSuccessComponent } from './code-flow-success.component';\nimport { CodeFlowErrorComponent } from './code-flow-error.component';\nimport { BookLockerFlowComponent } from './locker-flow.component';\nimport { BookLockerFlowSuccessComponent } from './locker-flow/locker-flow-success.component';\nimport { BookLockerFlowFormComponent } from './locker-flow/locker-flow-form.component';\nimport { BookLockerFlowConfirmComponent } from './locker-flow/locker-flow-confirm.component';\nimport { LockerFormDetailsComponent } from './locker-flow/locker-form-details.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: BookComponent,\n        children: [\n            { path: 'code', component: BookCodeFlowComponent },\n            { path: 'code/success', component: CodeFlowSuccessComponent },\n            { path: 'code/error', component: CodeFlowErrorComponent },\n            { path: 'new-desks', redirectTo: 'new-desks/form' },\n            { path: 'new-desks/:step', component: NewDeskFlowComponent },\n            { path: 'desks', redirectTo: 'desks/form' },\n            { path: 'desks/:step', component: BookDeskFlowComponent },\n            { path: 'spaces', redirectTo: 'spaces/form' },\n            { path: 'spaces/:step', component: BookSpaceFlowComponent },\n            { path: 'meeting', redirectTo: 'meeting/form' },\n            { path: 'meeting/:step', component: BookMeetingFlowComponent },\n            { path: 'parking', redirectTo: 'parking/form' },\n            { path: 'parking/:step', component: BookParkingFlowComponent },\n            { path: 'new-parking', redirectTo: 'new-parking/form' },\n            { path: 'new-parking/:step', component: NewParkingFlowComponent },\n            { path: 'visitor', redirectTo: 'visitor/form' },\n            { path: 'visitor/:step', component: VisitorFlowComponent },\n            { path: 'locker', redirectTo: 'locker/form' },\n            { path: 'locker/:step', component: BookLockerFlowComponent },\n            { path: '*', redirectTo: 'spaces/form' },\n        ],\n    },\n    { path: '*', redirectTo: 'spaces/form' },\n];\n\n@NgModule({\n    declarations: [\n        BookComponent,\n        BookSpaceFlowComponent,\n        SpaceFlowFormComponent,\n        SpaceFlowFindComponent,\n        SpaceFlowFindItemComponent,\n        SpaceFlowConfirmComponent,\n        DetailBookSpaceFormComponent,\n        BookDeskFlowComponent,\n        DeskFlowFormComponent,\n        DeskFlowDetailedFormComponent,\n        DeskFlowMapComponent,\n        DeskFlowConfirmComponent,\n        BookCodeFlowComponent,\n        CodeFlowSuccessComponent,\n        CodeFlowErrorComponent,\n        BookParkingFlowComponent,\n        ParkingFlowMapComponent,\n        ParkingFlowConfirmComponent,\n        FlowSuccessComponent,\n        BookMeetingFlowComponent,\n        MeetingFlowFormComponent,\n        MeetingFormDetailsComponent,\n        MeetingFlowConfirmComponent,\n        MeetingFlowConfirmModalComponent,\n        MeetingFlowSuccessComponent,\n        NewDeskFlowFormComponent,\n        NewDeskFormDetailsComponent,\n        NewDeskFlowComponent,\n        NewDeskFlowConfirmComponent,\n        NewDeskFlowSuccessComponent,\n        VisitorFlowComponent,\n\n        NewParkingFlowComponent,\n        ParkingFlowFormComponent,\n        NewParkingFlowConfirmComponent,\n        ParkingFlowSuccessComponent,\n        ParkingFormDetailsComponent,\n\n        BookLockerFlowComponent,\n        BookLockerFlowFormComponent,\n        BookLockerFlowConfirmComponent,\n        BookLockerFlowSuccessComponent,\n        LockerFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        SharedCateringModule,\n        SharedExploreModule,\n        ReactiveFormsModule,\n        MatButtonToggleModule,\n        MatBottomSheetModule,\n        SharedBookingsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class BookModule {}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-white dark:bg-neutral-600 flex flex-col z-50\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN_FAILED' | translate }}\n                </h2>\n                <div class=\"py-4\">\n                    <img src=\"assets/icons/not-found.svg\" class=\"h-64\" />\n                </div>\n                <p class=\"text-center max-w-[32rem]\" [ngSwitch]=\"type\">\n                    <ng-container *ngSwitchCase=\"'not_started'\">\n                        Booking has not started yet. Please try again once the\n                        booking has commenced.\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'wrong_resource'\">\n                        You have booking with a difference resource.\n                    </ng-container>\n                    <ng-container *ngSwitchDefault>\n                        You do not have a booking. Would you like to book\n                        {{ asset_id }}?\n                    </ng-container>\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-gray-200 dark:bg-neutral-500 mt-4 flex items-center justify-center space-x-2\"\n            >\n                <a\n                    button\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'code']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'not_started'\"\n                >\n                    {{ 'WPA.TRY_AGAIN' | translate }}\n                </a>\n                <a\n                    button\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'new-desks']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'no_booking'\"\n                >\n                    {{ 'WPA.BOOK' | translate }}\n                </a>\n                <a\n                    button\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem] inverse\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'COMMON.CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowErrorComponent extends AsyncHandler {\n    public type = '';\n    public asset_id = '';\n\n    constructor(private _route: ActivatedRoute) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                this.type = params.get('type');\n                this.asset_id = params.get('asset_id');\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-white dark:bg-neutral-600 flex flex-col z-50\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\">\n                    {{ 'WPA.CHECKED_IN' | translate }}\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-gray-200 dark:bg-neutral-500 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    button\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowSuccessComponent {}\n","import {\n    Component,\n    OnInit,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    OnDestroy,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    BookingType,\n    checkinBooking,\n    queryBookings,\n} from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    currentUser,\n    notifyError,\n    notifyInfo,\n    notifySuccess,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    checkinEventGuest,\n    EventFormService,\n    queryEvents,\n} from '@placeos/events';\nimport { showSystem } from '@placeos/ts-client';\nimport { addMinutes, endOfDay, getUnixTime } from 'date-fns';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n    selector: 'book-code-flow',\n    template: `\n        <div\n            class=\"flex-1 overflow-hidden flex items-center justify-center bg-black relative\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <video\n                class=\"min-w-full min-h-full object-cover\"\n                id=\"video\"\n                #video\n            ></video>\n            <div\n                class=\"absolute text-white text-center inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Scan QR Code\n                    </h2>\n                    <span class=\" mb-4 \">\n                        Scan the QR code outisde a PlaceOS room or space.\n                    </span>\n                </div>\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"!is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Enter Room ID\n                    </h2>\n                    <span class=\"mb-4\">\n                        Enter the room ID number outisde a PlaceOS room or\n                        space.\n                    </span>\n                </div>\n                <div class=\"flex items-center justify-center\">\n                    <div\n                        box\n                        class=\"rounded-2xl h-64 w-64 transition-all flex items-center justify-center p-8 m-8 space-x-2\"\n                        [class.input]=\"!is_scanning\"\n                    >\n                        <span class=\"uppercase\">Booking ID</span>\n                        <input\n                            matInput\n                            class=\"border-none bg-none w-full text-3xl text-left\"\n                            [(ngModel)]=\"room_code\"\n                            name=\"booking-id\"\n                            placeholder=\"e.g. 12102910\"\n                        />\n                    </div>\n                </div>\n                <div\n                    class=\"m-4 p-2 flex items-center space-x-2 bg-white bg-opacity-50 rounded\"\n                >\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (is_scanning\n                                ? 'bg-white dark:bg-neutral-600'\n                                : 'bg-transparent hover:bg-white hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = true\"\n                    >\n                        Scan Code\n                    </button>\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (!is_scanning\n                                ? 'bg-white dark:bg-neutral-600'\n                                : 'bg-transparent hover:bg-white hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = false\"\n                    >\n                        Enter Code\n                    </button>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Checking in booking...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                width: 100%;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                background: #f0f0f0;\n            }\n\n            [box] {\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.5);\n            }\n\n            [box] > * {\n                display: none;\n            }\n\n            [box].input {\n                width: 32rem !important;\n                max-width: calc(100% - 2rem) !important;\n                padding: 1rem !important;\n                height: 4rem !important;\n                color: black !important;\n                background: white;\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.8);\n            }\n\n            [box].input > * {\n                display: initial;\n            }\n\n            [box] span {\n                font-family: var(--heading-font);\n                font-weight: 500;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n        `,\n    ],\n})\nexport class BookCodeFlowComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Menu event */\n    @Output() public menu = new EventEmitter(false);\n    /** Boolean to toggle scan/code */\n    public is_scanning = true;\n    /** Room Code input value */\n    public room_code: string;\n    public loading = false;\n\n    private _qr_scanner;\n    /** Video element to emit camera feed */\n    @ViewChild('video')\n    private _video_el: ElementRef<HTMLVideoElement>;\n\n    constructor(\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el?.nativeElement?.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._qr_scanner?.stop();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('asset_id'))\n                    this._checkinBooking(params.get('asset_id'));\n                if (params.has('space_id'))\n                    this._checkinEvent(\n                        params.get('space_id'),\n                        params.get('email')\n                    );\n            })\n        );\n    }\n\n    public ngAfterViewInit() {\n        if (!navigator.mediaDevices?.getUserMedia || this.loading) return;\n        navigator.mediaDevices\n            .getUserMedia({ video: true })\n            .then((stream) => (this._video_el.nativeElement.srcObject = stream))\n            .catch((e) => console.error('Unable to fetch media devices!', e));\n        this._qr_scanner = new QrScanner(this._video_el.nativeElement, (r) =>\n            this.handleQrCode(r)\n        );\n        this._qr_scanner.start();\n    }\n\n    private handleQrCode(result: string) {\n        const url = result;\n        const hashindex = url.indexOf('/#/');\n        // could just whole page redirect to url\n        if (hashindex > 0) {\n            const regex = /[?&]([^=#]+)=([^&#]*)/g;\n            const params = {};\n            let match;\n            while ((match = regex.exec(url))) {\n                params[match[1]] = match[2];\n            }\n            this._router.navigate([url.split('/#')[1].split('?')[0]], params);\n        }\n    }\n\n    private async _checkinBooking(\n        asset_id: string,\n        type: BookingType = 'desk'\n    ) {\n        this.loading = true;\n        let bookings = await queryBookings({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 5)),\n            type,\n            email: currentUser().email,\n        })\n            .toPromise()\n            .catch((_) => [] as Booking[]);\n        const item = bookings.find((_) => _.asset_id === asset_id);\n        if (item) {\n            await checkinBooking(item.id, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin booking with resource \"${asset_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n        } else {\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            let item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'not_started', asset_id },\n                });\n                return;\n            }\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(addMinutes(Date.now(), 5)),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'wrong_resource', asset_id },\n                });\n                return;\n            }\n            this._router.navigate(['/book', 'code', 'error'], {\n                queryParams: { type: 'no_booking', asset_id },\n            });\n            this._booking_form.newForm(new Booking({ asset_id, type }));\n            this._booking_form.setOptions({ type });\n        }\n        this.loading = false;\n    }\n\n    private async _checkinEvent(space_id: string, email?: string) {\n        if (!email) email = currentUser().email;\n        this.loading = true;\n        const bookings = await queryEvents({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(Date.now() + 5 * 60 * 1000),\n        })\n            .toPromise()\n            .catch((_) => []);\n        const item = bookings.find((_) =>\n            _.resources.find((s) => s.id === space_id || s.email === space_id)\n        );\n        if (item) {\n            await checkinEventGuest(item.id, email, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin event with resource \"${space_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n            this.loading = false;\n        } else {\n            const space = await showSystem(space_id).toPromise();\n            if (space) {\n                this._event_form.newForm(new CalendarEvent({ system: space }));\n            }\n            this._router.navigate(['/book', 'meeting']);\n        }\n        this.loading = false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-book-desk-flow',\n    template: `\n        <div class=\"bg-white dark:bg-neutral-700 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'map'\">\n                    <desk-flow-map></desk-flow-map>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <desk-flow-confirm></desk-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        type=\"desk\"\n                        route=\"desks\"\n                        [calendar]=\"last_success?.user_email\"\n                        [extra]=\"\n                            last_success?.extension_data?.secondary_resource\n                                ? 'Locker E-093 has been allocated for this booking.'\n                                : ''\n                        \"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <desk-flow-form></desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'desk-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                btn\n                matRipple\n                class=\"clear h-[2.75rem] text-white\"\n                [routerLink]=\"['/book', 'desks', 'map']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowConfirmComponent {}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, format } from 'date-fns';\n\n@Component({\n    selector: 'detailed-book-desks-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div\n                class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"allow_groups\"\n            >\n                <mat-button-toggle-group\n                    class=\"w-full\"\n                    [ngModel]=\"(options | async)?.group ? 'group' : 'single'\"\n                    (ngModelChange)=\"\n                        setOptions({\n                            group: $event === 'group'\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-button-toggle class=\"w-1/2\" value=\"single\">\n                        Single\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"w-1/2\" value=\"group\">\n                        Group\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(buildings | async)?.length > 1\"\n                >\n                    <label>Building</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(levels | async)?.length > 1\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"allow_time_changes\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"12 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                        [disabled]=\"form.value.all_day\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute top-0 right-0\"\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_book_for_others\"\n            >\n                <label>Host</label>\n                <a-user-search-field\n                    formControlName=\"user\"\n                ></a-user-search-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"needs_reason\"\n            >\n                <label>Details</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <input\n                        matInput\n                        formControlName=\"description\"\n                        placeholder=\"Reason for booking...\"\n                    />\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(options | async)?.group\"\n            >\n                <label>Group Members</label>\n                <a-user-list-field\n                    [simple]=\"true\"\n                    [ngModel]=\"(options | async)?.members || []\"\n                    (ngModelChange)=\"setOptions({ members: $event })\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                ></a-user-list-field>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_recurr\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence Period</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            [ngModel]=\"(options | async)?.recurrence_pattern\"\n                            (ngModelChange)=\"setOptions({ pattern: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option value=\"none\">None</mat-option>\n                            <mat-option\n                                *ngFor=\"let opt of recurrence_options\"\n                                [value]=\"opt\"\n                            >\n                                <span class=\"capitalize\">{{ opt }}</span>\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence End</label>\n                    <a-date-field\n                        [disabled]=\"\n                            !(options | async)?.pattern ||\n                            (options | async)?.pattern === 'none'\n                        \"\n                        [ngModel]=\"\n                            (options | async)?.recurr_end || form?.value?.date\n                        \"\n                        (ngModelChange)=\"\n                            setOptions({\n                                recurr_end: $event\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"book_until\"\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <label>Desk Features</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"(options | async)?.features || []\"\n                        (ngModelChange)=\"\n                            setOptions({\n                                features: $event || []\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        placeholder=\"Any Feature\"\n                    >\n                        <mat-option\n                            *ngFor=\"let opt of features | async\"\n                            class=\"capitalize\"\n                            [value]=\"opt\"\n                        >\n                            {{ opt }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"can_book_lockers\"\n            >\n                <mat-checkbox\n                    [ngModel]=\"!!form.value.secondary_resource\"\n                    (ngModelChange)=\"\n                        form.patchValue({\n                            secondary_resource: $event ? 'locker' : ''\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Require locker\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DeskFlowDetailedFormComponent {\n    @Input() public form: FormGroup;\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get book_until() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    randomInt,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, setHours, addMinutes, roundToNearestMinutes } from 'date-fns';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Desk Booking\n            </h2>\n            <detailed-book-desks-form [form]=\"form\"></detailed-book-desks-form>\n            <div\n                class=\"mb-4 border-b border-gray-300 dark:border-neutral-500 w-full\"\n            ></div>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    find\n                    btn\n                    matRipple\n                    *ngIf=\"!auto_allocation; else alloc_button\"\n                    (click)=\"findDesk()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Desk' : 'Find Desk'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n        <ng-template #alloc_button>\n            <button\n                class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                find\n                btn\n                matRipple\n                (click)=\"allocateDesk()\"\n            >\n                {{ is_edit ? 'Update Desk' : 'Book Desk' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class DeskFlowFormComponent implements OnInit {\n    public time = 0;\n    public level = '';\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public levels = [];\n\n    public get is_edit() {\n        return !!this.form?.get('id')?.value;\n    }\n\n    public get auto_allocation() {\n        return !!this._settings.get('app.desks.auto_allocation');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.time = 0;\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n    }\n\n    public quickBook() {\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Desk Booking',\n        });\n        this.findDesk();\n    }\n\n    public findDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid) return;\n        this.form.patchValue({ asset_id: '' });\n        this._router.navigate(['/book', 'desks', 'map']);\n    }\n\n    public async allocateDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        // Find nearby desk for user's department\n        const settings = this._settings.get('app.departments') || {\n            '*': {\n                level: this._org.levelsForBuilding()[0]?.id,\n                centered_at: { x: 0.5, y: 0.5 },\n            },\n        };\n        const group = currentUser().groups.find((_) => _ in settings) ?? '*';\n        if (!settings[group]) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const { level, centered_at } = settings[group];\n        const lvl = this._org.levelWithID([level]);\n        if (!lvl) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const desk_list = await this._state.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const desk_id = level.map_id\n            ? await findNearbyFeature(\n                  lvl.map_id,\n                  centered_at,\n                  desk_list.map((_) => _?.map_id || _?.id || '')\n              )\n            : desk_list[randomInt(desk_list.length)].id;\n        const desk = desk_list.find(\n            (_) => _.map_id === desk_id || _.id === desk_id\n        );\n        if (!desk) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name || desk.id,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name || desk.id,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n        await this._state.confirmPost().catch((_) => console.error(_));\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    formatRecurrence,\n    SettingsService,\n} from '@placeos/common';\nimport { ExploreStateService } from '@placeos/explore';\nimport { Desk } from '@placeos/organisation';\nimport { format } from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-map',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'desks', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full \">\n            <h2 class=\"text-2xl px-4 pt-4 text-center\">Available Desks</h2>\n            <an-action-field\n                class=\"my-4 mx-auto w-[640px] max-w-[calc(100vw-2rem)]\"\n                [matMenuTriggerFor]=\"menu\"\n            >\n                {{ (option_details | async) || 'No Filters' }}\n            </an-action-field>\n            <mat-menu #menu=\"matMenu\">\n                <div\n                    (click)=\"$event.stopPropagation(); ($event.preventDefault)\"\n                    class=\"pt-4 max-h-[65vh] overflow-auto\"\n                >\n                    <detailed-book-desks-form\n                        [form]=\"form\"\n                    ></detailed-book-desks-form>\n                </div>\n            </mat-menu>\n            <div listing class=\"flex flex-1 h-1/2 relative space-x-2\">\n                <ul\n                    class=\"list-style-none w-full sm:w-[20rem] max-w-[48rem] mx-auto bg-gray-100 dark:bg-neutral-600 pb-32 overflow-auto h-full rounded-tr-lg space-y-2\"\n                    [class.!w-full]=\"hide_map\"\n                    [class.rounded-tl-lg]=\"hide_map\"\n                >\n                    <div\n                        class=\"py-2 px-4 sticky top-0 inset-x-0 bg-gray-100 dark:bg-neutral-600 border-b border-gray-200 dark:border-neutral-500 z-10\"\n                    >\n                        {{ (desks | async)?.length || '0' }} matches available\n                    </div>\n                    <li\n                        matRipple\n                        *ngFor=\"let desk of desks | async\"\n                        [attr.desk-id]=\"desk.id\"\n                        class=\"flex items-center p-2 mx-2 bg-white dark:bg-neutral-700 rounded shadow cursor-pointer space-x-2 min-h-[5rem] border\"\n                        [class.border-primary]=\"active_desk?.id === desk.id\"\n                        (click)=\"setActiveDesk(desk)\"\n                    >\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div class=\"flex flex-col w-1/2 flex-1\">\n                            <div name class=\"\">{{ desk.name || desk.id }}</div>\n                            <div level class=\"text-xs\">\n                                {{\n                                    desk.zone?.display_name ||\n                                        desk.zone?.name ||\n                                        '&lt;No Level&gt;'\n                                }}\n                            </div>\n                            <div features class=\"w-full flex flex-wrap\">\n                                <div\n                                    *ngFor=\"let feat of desk.features || []\"\n                                    class=\"text-xs bg-primary text-white rounded-xl px-2 py-1 mt-1 mr-2\"\n                                >\n                                    {{ feat }}\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div\n                    class=\"hidden sm:block flex-1 bg-gray-200 dark:bg-neutral-600 rounded-tl-lg border-l border-t border-gray-300 dark:border-neutral-500 relative overflow-hidden h-full\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <i-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                        [focus]=\"active_desk?.map_id || active_desk?.id\"\n                    ></i-map>\n                    <div\n                        class=\"absolute top-2 left-2 bg-white dark:bg-neutral-700 rounded-3xl h-10 px-3 flex items-center border border-gray-300 dark:border-neutral-500\"\n                        *ngIf=\"level | async\"\n                    >\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                </div>\n                <div\n                    *ngIf=\"loading | async\"\n                    class=\"absolute inset-0 bg-white dark:bg-neutral-700 bg-opacity-60 flex flex-col items-center justify-center space-y-2 !m-0 z-20\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>{{ loading | async }}</p>\n                </div>\n                <div\n                    selection\n                    class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 p-2 bg-white dark:bg-neutral-700 shadow rounded w-[24rem] max-w-[calc(100vw-1rem)] space-y-2 !m-0 border border-gray-200\"\n                    *ngIf=\"active_desk\"\n                >\n                    <div class=\"\">\n                        <div name class=\"\">{{ active_desk.name }}</div>\n                        <div level class=\"text-xs\">\n                            {{\n                                active_desk.zone?.display_name ||\n                                    active_desk.zone.name ||\n                                    '&lt;No Level&gt;'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            matRipple\n                            class=\"inverse flex-1\"\n                            (click)=\"setActiveDesk(null)\"\n                        >\n                            Clear\n                        </button>\n                        <button\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"makeBooking()\"\n                        >\n                            Book\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowMapComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._explore.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._explore.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._explore.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._explore.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._explore.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._explore.map_labels;\n    public readonly level = this._explore.level;\n\n    public readonly desks = this._state.available_resources;\n\n    public readonly loading = this._state.loading;\n\n    public readonly form = this._state.form;\n\n    public readonly option_details = combineLatest([\n        this._state.options,\n        this.form.valueChanges.pipe(startWith({})),\n    ]).pipe(\n        map(([options]) => {\n            const form = this._state.form;\n            const recurrence = formatRecurrence({\n                pattern: options.pattern as any,\n                end: options.recurr_end,\n                start: form.value.date,\n                interval: 1,\n                days_of_week: [],\n            });\n            const details = `${format(form.value.date, 'dd MMM yyyy')}${\n                options.pattern && options.pattern !== 'none'\n                    ? ', ' + recurrence\n                    : ''\n            }${options.group ? ', ' + options.group : ''}, ${\n                options.features?.length || 'Any'\n            } Feature${(options.features?.length || 0) < 2 ? '' : 's'}`;\n            if (options.zone_id) this._explore.setLevel(options.zone_id);\n            return details;\n        })\n    );\n\n    private _active_desk = new BehaviorSubject<Desk>(null);\n\n    public readonly makeBooking = () => this._state.confirmPost();\n\n    public get active_desk(): Desk {\n        return this._active_desk.getValue();\n    }\n\n    public get hide_map() {\n        return !!this._settings.get('app.desks.hide_map');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _explore: ExploreStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'assets-statue',\n            combineLatest([\n                this._state.resources,\n                this._state.available_resources,\n                this._active_desk,\n            ])\n                .pipe(debounceTime(200))\n                .subscribe(([assets, available]) => {\n                    const status = {};\n                    const actions = [];\n                    for (const desk of assets) {\n                        const active =\n                            desk.bookable &&\n                            available.find((d) => d.id === desk.id);\n                        status[`#${desk.map_id || desk.id}`] = {\n                            fill: desk.bookable\n                                ? available.find((d) => d.id === desk.id)\n                                    ? '#43a047'\n                                    : '#e53935'\n                                : '#999',\n                            opacity: 0.6,\n                        };\n                        if (active)\n                            actions.push({\n                                id: desk.map_id || desk.id,\n                                action: 'click',\n                                callback: () => this.setActiveDesk(desk as any),\n                            });\n                    }\n                    this._explore.setStyles('desks', status);\n                    this._explore.setActions('desks', actions);\n                    this._explore.setFeatures(\n                        'desks',\n                        this.active_desk\n                            ? [\n                                  {\n                                      location:\n                                          this.active_desk.map_id ||\n                                          this.active_desk.id,\n                                      content: `\n                    <span class=\"flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] border-white dark:border-neutral-4å00 shadow\" >\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\n                        <span class=\"relative inline-flex rounded-full h-full w-full bg-primary\"></span>\n                    </span>`,\n                                  },\n                              ]\n                            : []\n                    );\n                })\n        );\n    }\n\n    public setActiveDesk(desk: Desk) {\n        this._explore.setLevel(desk?.zone?.id);\n        this._active_desk.next(desk);\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { currentUser } from '@placeos/common';\n\n@Component({\n    selector: 'flow-success',\n    template: `\n        <div\n            name=\"success\"\n            class=\"fixed inset-0 flex flex-col bg-indigo-900 items-center justify-center z-50\"\n        >\n            <div class=\"text-7xl rounded-full bg-white text-success mb-4\">\n                <app-icon>done</app-icon>\n            </div>\n            <div class=\"text-center text-lg text-white mb-4 leading-10\">\n                Thank you, your {{ type }} booking was successful!<br />\n                {{ extra }} <br *ngIf=\"extra\" />\n                An event has been added to {{ title }} calendar\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/book', route]\"\n                    [queryParams]=\"{}\"\n                >\n                    New Booking\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/schedule']\"\n                    [queryParams]=\"{ email: calendar }\"\n                >\n                    Your Bookings\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class FlowSuccessComponent {\n    @Input() public calendar: string;\n    @Input() public extra = '';\n    @Input() public route = 'spaces';\n    @Input() public type = 'space';\n\n    public get is_host(): boolean {\n        return this.calendar === currentUser()?.email;\n    }\n\n    public get title() {\n        return this.is_host ? 'your' : \"the host'\";\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-locker-flow',\n    template: `\n        <div\n            class=\"bg-white dark:bg-neutral-900 h-full w-full z-50\"\n            [ngSwitch]=\"view\"\n        >\n            <locker-flow-success *ngSwitchCase=\"'success'\">\n            </locker-flow-success>\n            <locker-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </locker-flow-confirm>\n            <locker-flow-form *ngSwitchDefault></locker-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookLockerFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingAsset, BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'locker-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-locker-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Locker Booking\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: 'shortTime') +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: 'h:mm a (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t dark:border-neutral-500\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t dark:border-neutral-500\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div\n                        class=\"h-5 w-5 bg-gray-100 dark:bg-neutral-600 rounded-full\"\n                    >\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer\n            class=\"p-2 w-full border-t border-gray-200 dark:border-neutral-500 mt-4\"\n        >\n            <button\n                name=\"confirm-locker\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class BookLockerFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as BookingAsset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { BookLockerFlowConfirmComponent } from './locker-flow-confirm.component';\n\n@Component({\n    selector: 'locker-flow-form',\n    styles: [],\n    template: `\n        <div\n            class=\"h-full w-full bg-gray-100 dark:bg-neutral-600 overflow-auto\"\n        >\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-gray-300 dark:border-neutral-500\"\n                    i18n\n                >\n                    Book Locker\n                </h2>\n                <new-locker-form-details\n                    [form]=\"form\"\n                ></new-locker-form-details>\n                <div\n                    class=\"sm:mb-2 border-b border-gray-300 dark:border-neutral-500 w-full\"\n                ></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-locker-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Locker\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class BookLockerFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            BookLockerFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'locker', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'locker' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'locker-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-white dark:bg-neutral-600 flex flex-col z-50\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/locker-success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    locker{{ last_event?.attendees?.length ? 's' : '' }} has\n                    been successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: 'shortTime' }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: 'shortTime'\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-gray-200 dark:border-neutral-500 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"locker-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class BookLockerFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const locker = this.last_event?.extension_data?.booking_asset;\n        if (!locker) return '';\n        return locker.zone\n            ? `, ${\n                  locker.zone.display_name || locker.zone.name || locker.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.lockers.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService, Locker } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-locker-form-details',\n    styles: [],\n    template: `\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-gray-300 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Building<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <mat-select\n                                [(ngModel)]=\"building\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                placeholder=\"Select Building\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let b of buildings | async\"\n                                    [value]=\"b\"\n                                >\n                                    {{ b.display_name || b.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n\n                            >Start Time<span>*</span></label\n                        >\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [disabled]=\"form.value.duration > 24 * 60 - 1\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n\n                            >End Time<span>*</span></label\n                        >\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"12 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [custom_options]=\"custom_durations\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Locker</div>\n                </h3>\n                <locker-list-field\n                    formControlName=\"resources\"\n                ></locker-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class LockerFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for locker booking */\n    public readonly options = this._state.options;\n    /** List of set options for locker booking */\n    public readonly features = this._state.features;\n\n    /** Selected locker for booking */\n    public selected_locker: Locker;\n    public from_id = false;\n    public custom_durations = [];\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form\n                    .get('resources')\n                    ?.valueChanges?.subscribe((list) =>\n                        list?.length ? this.setBookingAsset(list[0]) : ''\n                    )\n            );\n            this.subscription(\n                'date',\n                this.form\n                    .get('date')\n                    ?.valueChanges?.subscribe((d) =>\n                        this._setCustomDateOptions()\n                    )\n            );\n            this._setCustomDateOptions();\n        }\n    }\n\n    private _setCustomDateOptions() {\n        for (const i of [1, 2, 3, 4, 5, 6, 7]) {\n            this.custom_durations.push(i * 24 * 60);\n        }\n    }\n\n    private setBookingAsset(locker: Locker) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!locker) return;\n        this.selected_locker = locker;\n        this._state.form.patchValue({\n            asset_id: locker?.id,\n            asset_name: locker.name,\n            map_id: locker?.bank_id || locker?.id,\n            description: locker.name,\n            booking_type: 'locker',\n            zones: [this.building.id],\n            booking_asset: locker,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-meeting-flow',\n    template: `\n        <div\n            class=\"bg-white dark:bg-neutral-900 h-full w-full z-50\"\n            [ngSwitch]=\"view\"\n        >\n            <meeting-flow-success *ngSwitchCase=\"'success'\">\n            </meeting-flow-success>\n            <meeting-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </meeting-flow-confirm>\n            <meeting-flow-form *ngSwitchDefault></meeting-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookMeetingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { CateringOrder } from '@placeos/catering';\nimport { AsyncHandler, notifyError, openConfirmModal } from '@placeos/common';\nimport { CalendarEvent, EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm-modal',\n    template: `\n        <div\n            header\n            class=\"p-4 flex items-center justify-center border-b border-grey-200 relative\"\n        >\n            <button\n                icon\n                name=\"close-meeting-confirm\"\n                matRipple\n                mat-dialog-close\n                *ngIf=\"show_close\"\n                class=\"absolute left-2 top-1/2 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"text-xl font-medium\" i18n>Confirm Meeting booking</h2>\n            <mat-spinner\n                diameter=\"32\"\n                class=\"absolute right-2 top-1/2 -translate-y-1/2\"\n                [class.opacity-0]=\"!(loading | async)\"\n            ></mat-spinner>\n        </div>\n        <main class=\"min-w-[48rem] divide-y divide-gray-300 p-4 space-y-4\">\n            <div class=\"flex divide-x divide-gray-300\">\n                <div class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\">\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\">\n                        {{ event.title || 'Meeting Details' }}\n                    </h3>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>today</app-icon>\n                        <div date>{{ event.date | date: 'fullDate' }}</div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div time>\n                            {{\n                                event.all_day\n                                    ? 'All Day'\n                                    : (event.date | date: 'shortTime') +\n                                      ' - ' +\n                                      (event.date + event.duration * 60 * 1000\n                                          | date: 'h:mm a (z)')\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.resources.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Booked Room</h3>\n                    <ng-container *ngFor=\"let s of event.resources\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon>layers</app-icon>\n                            <div>\n                                {{ level?.display_name || level?.name }},\n                                {{ s.display_name || s.name }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <div>{{ location }}</div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"pr-4 py-4 pl-16 relative space-y-2\"\n                *ngIf=\"event.attendees.length\"\n            >\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { Attendee } other { Attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n            <div\n                class=\"flex divide-x divide-gray-300\"\n                *ngIf=\"event.catering?.length || event.assets?.length\"\n            >\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.catering?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Catering</h3>\n                    <div class=\"space-y-2\">\n                        <div\n                            class=\"flex items-center space-x-2\"\n                            *ngFor=\"let item of catering_order\"\n                        >\n                            <div\n                                count\n                                class=\"flex items-center justify-center min-w-[2rem] h-8 rounded-full bg-gray-200\"\n                            >\n                                ×{{ item.quantity }}\n                            </div>\n                            <div name class=\"flex-1\">{{ item.name }}</div>\n                            <div class=\"flex items-center space-x-2\">\n                                <div\n                                    class=\"flex items-center text-xs px-2 py-1 rounded-2xl bg-gray-100\"\n                                    [matTooltip]=\"opt.name\"\n                                    *ngFor=\"let opt of item.option_list\"\n                                >\n                                    <div class=\"font-medium\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <!-- <div\n                                        class=\"font-mono ml-2\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div> -->\n                                </div>\n                            </div>\n                            <div\n                                price\n                                class=\"font-mono text-right p-2 text-sm\"\n                                *ngIf=\"item.quantity > 1\"\n                            >\n                                {{\n                                    item.unit_price_with_options / 100\n                                        | currency: code\n                                }}\n                                ea\n                            </div>\n                            <div\n                                total-price\n                                class=\"font-mono min-w-[6rem] text-right p-2\"\n                            >\n                                {{ item.total_cost / 100 | currency: code }}\n                            </div>\n                        </div>\n                        <div class=\"w-full bg-gray-200 flex justify-end p-2\">\n                            <div class=\"font-medium\">Total:</div>\n                            <div class=\"font-mono text-right min-w-[6rem]\">\n                                {{\n                                    catering_order.total_cost / 100\n                                        | currency: code\n                                }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.assets?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Assets</h3>\n                    <div\n                        class=\"flex items-center\"\n                        *ngFor=\"let item of event.assets\"\n                    >\n                        <div\n                            count\n                            class=\"flex items-center justify-center w-12 h-12 rounded-full\"\n                        >\n                            {{ item.amount }}\n                        </div>\n                        <div name class=\"flex-1\">{{ item.name }}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pr-4 py-4 pl-16 relative space-y-2\" *ngIf=\"event.body\">\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>Notes</h3>\n                <div [innerHTML]=\"event.body | sanitize\"></div>\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-gray-200 flex items-center justify-end\"\n        >\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-32\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-32\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmModalComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._event_form.loading;\n    public readonly catering_order =\n        this.event.catering[0]?.items || this.event.catering || [];\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n            result.close();\n        }\n        const resp = await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            return false;\n        });\n        if (resp) this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._dialog_ref?.close(e);\n\n    private _space = this.event.resources[0];\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(\n                this.event.resources[0]?.email\n            )) || this._space;\n    }\n\n    public get event() {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space(): Space {\n        return this.event.resources[0];\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional()\n        private _dialog_ref: MatDialogRef<MeetingFlowConfirmModalComponent>,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AsyncHandler, notifyError, openConfirmModal } from '@placeos/common';\nimport { CalendarEvent, EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm',\n    template: `\n        <button\n            icon\n            matRipple\n            name=\"close-meeting-confirm\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 i18n>Confirm Meeting booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 px-2\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ event.title || 'Meeting Details' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>today</app-icon>\n                    <div date>{{ event.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            event.all_day\n                                ? 'All Day'\n                                : (event.date | date: 'shortTime') +\n                                  ' - ' +\n                                  (event.date + event.duration * 60 * 1000\n                                      | date: 'h:mm a (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            attendees\n            class=\"flex space-x-1 px-2\"\n            *ngIf=\"event.attendees.length\"\n        >\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { attendee } other { attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n        </section>\n        <section spaces class=\"flex space-x-1 px-2\" *ngIf=\"space?.id\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Booked Room</h3>\n                <ng-container *ngFor=\"let s of event.resources\">\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ s.display_name || s.name }}\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-gray-200 mt-4\">\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-full\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n            }\n\n            h2 {\n                font-size: 1.5rem;\n                font-weight: medium;\n                margin-bottom: 0.5rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._event_form.loading;\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n        }\n        await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    private _space = this.event.resources[0];\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(this.event.resources[0].email)) ||\n            this._space;\n    }\n\n    public get event(): CalendarEvent {\n        return this._event_form.form.value as any;\n    }\n\n    public get space() {\n        return this._space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n}\n","import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    notifyWarn,\n    openConfirmModal,\n    SettingsService,\n    UserIdleTimeService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { FindAvailabilityModalComponent } from '@placeos/users';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest, timer } from 'rxjs';\nimport { first, map, take, tap } from 'rxjs/operators';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow-confirm-modal.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow-confirm.component';\n\n@Component({\n    selector: 'meeting-flow-form',\n    template: `\n        <div\n            class=\"h-full w-full bg-gray-100 dark:bg-neutral-900 overflow-auto\"\n        >\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-white dark:bg-[#1F2021] border border-gray-300 dark:border-neutral-700\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-gray-300 dark:border-neutral-700\"\n                >\n                    {{ !!form.value.id ? 'Edit' : 'Book' }}\n                    {{ 'WPA.BOOK_MEETING_HEADING' | translate }}\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-gray-300 space-y-2\"\n                    [formGroup]=\"form\"\n                    *ngIf=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.DETAILS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-details-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <meeting-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></meeting-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_attendees\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.ATTENDEES' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                matRipple\n                                name=\"find-attendee-availability\"\n                                class=\"bg-none underline text-xs text-blue-500\"\n                                (click)=\"findAvailableTime()\"\n                            >\n                                {{ 'WPA.AVAILABILITY' | translate }}\n                            </button>\n                            <button\n                                icon\n                                name=\"toggle-attendees-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.attendees = !hide_block.attendees\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.attendees\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.attendees ? 'hide' : 'show'\"\n                        >\n                            <a-user-list-field\n                                class=\"mt-4\"\n                                formControlName=\"attendees\"\n                                [guests]=\"allow_externals\"\n                            ></a-user-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                3\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ROOM' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-spaces-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.resources = !hide_block.resources\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.resources\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden flex flex-col items-center\"\n                            [@show]=\"hide_block.resources ? 'hide' : 'show'\"\n                        >\n                            <div\n                                *ngIf=\"\n                                    !strict_capacity_check &&\n                                    total_capacity &&\n                                    total_capacity <=\n                                        form.value.attendees?.length\n                                \"\n                                class=\"bg-yellow-500 rounded shadow p-2 text-xs mx-auto my-2 text-black inline-flex\"\n                            >\n                                The selected room has less capacity than the\n                                number of meeting attendees.\n                            </div>\n                            <space-list-field\n                                class=\"w-full\"\n                                formControlName=\"resources\"\n                            ></space-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_catering | async\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                4\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.CATERING' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-catering-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.catering = !hide_block.catering\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.catering\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.catering ? 'hide' : 'show'\"\n                        >\n                            <catering-list-field\n                                formControlName=\"catering\"\n                                [options]=\"{\n                                    date: form.value.date,\n                                    duration: form.value.duration,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : ''\n                                }\"\n                            ></catering-list-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full mt-2\"\n                                *ngIf=\"\n                                    form.value.catering?.length && has_codes\n                                        | async\n                                \"\n                                (openedChange)=\"focusInput()\"\n                            >\n                                <mat-select\n                                    formControlName=\"catering_charge_code\"\n                                    placeholder=\"Charge Code\"\n                                >\n                                    <input\n                                        #input\n                                        class=\"sticky top-0 bg-white px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-gray-200 w-full rounded-none z-50\"\n                                        [ngModel]=\"code_filter.getValue()\"\n                                        (ngModelChange)=\"\n                                            code_filter.next($event)\n                                        \"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                        placeholder=\"Search charge codes...\"\n                                    />\n                                    <mat-option class=\"hidden\"></mat-option>\n                                    <mat-option\n                                        *ngFor=\"\n                                            let code of filtered_codes | async\n                                        \"\n                                        [value]=\"code\"\n                                    >\n                                        {{ code }}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Catering charge code is required\n                                </mat-error>\n                            </mat-form-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full\"\n                                [class.mt-2]=\"\n                                    !(\n                                        form.value.catering?.length && has_codes\n                                        | async\n                                    )\n                                \"\n                                *ngIf=\"form.value.catering?.length\"\n                            >\n                                <textarea\n                                    matInput\n                                    formControlName=\"catering_notes\"\n                                    placeholder=\"Extra catering details...\"\n                                ></textarea>\n                                <mat-error>\n                                    Catering Order notes are required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_assets\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{ !(has_catering | async) ? '4' : '5' }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ASSETS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-assets-meeting\"\n                                matRipple\n                                (click)=\"hide_block.assets = !hide_block.assets\"\n                            >\n                                <app-icon>{{\n                                    hide_block.assets\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.assets ? 'hide' : 'show'\"\n                        >\n                            <asset-list-field\n                                [date]=\"form.value.date\"\n                                [duration]=\"form.value.duration\"\n                                formControlName=\"assets\"\n                            ></asset-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_notes\">\n                        <h3 class=\"space-x-2 flex items-center mb-4\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{\n                                    !(has_catering | async) || !has_assets\n                                        ? !(has_catering | async) && !has_assets\n                                            ? '4'\n                                            : '5'\n                                        : '6'\n                                }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.NOTES' | translate }}\n                            </div>\n                        </h3>\n                        <div class=\"w-full flex flex-col\">\n                            <label for=\"notes\">\n                                {{ 'WPA.NOTES_INFO' | translate }}\n                            </label>\n                            <rich-text-input\n                                name=\"notes\"\n                                formControlName=\"body\"\n                                placeholder=\"Notes...\"\n                            ></rich-text-input>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            name=\"open-meeting-confirm\"\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                        >\n                            {{ 'WPA.CONFIRM_MEETING' | translate }}\n                        </button>\n                        <button\n                            btn\n                            name=\"clear-form-meeting\"\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                        >\n                            { !!form.value.id, select, true { Reset } false {\n                            Clear } } {{ 'WPA.CLEAR_FORM' | translate }}\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class MeetingFlowFormComponent extends AsyncHandler {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public dialog_ref: MatDialogRef<any>;\n    public hide_block: Record<string, boolean> = {};\n    public code_filter = new BehaviorSubject('');\n\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0)\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        })\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase()))\n        )\n    );\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get allow_externals() {\n        return this._settings.get('app.events.allow_externals');\n    }\n\n    public get strict_capacity_check() {\n        return this._settings.get('app.events.strict_capacity_check');\n    }\n\n    public get total_capacity() {\n        return (\n            this.form.value.resources?.reduce((c, i) => c + i.capacity, 0) || 0\n        );\n    }\n\n    public get attendee_count() {\n        const user = currentUser();\n        let count = this.form.value.attendees?.length || 0;\n        if (\n            !this.form.value.attendees.find(\n                (_) => _.email.toLowerCase() === user.email.toLowerCase()\n            )\n        ) {\n            count += 1;\n        }\n        return count;\n    }\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public readonly viewConfirm = () => {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (\n            this.strict_capacity_check &&\n            this.attendee_count > this.total_capacity\n        ) {\n            return notifyError(\n                'Attendee count is greater than the capacity of the selected rooms'\n            );\n        }\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        if (\n            this._settings.get('app.events.no_standalone') &&\n            !this.form.value.resources.length\n        )\n            return notifyError('You need to select a room to make a booking');\n        if (this._settings.get('app.events.booking_unavailable'))\n            return this._state.openEventLinkModal();\n        if (window.innerWidth >= 768) {\n            this.dialog_ref = this._dialog.open(\n                MeetingFlowConfirmModalComponent\n            );\n            this.dialog_ref.componentInstance.show_close = true;\n            this.dialog_ref.afterClosed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        } else {\n            this.sheet_ref = this._bottom_sheet.open(\n                MeetingFlowConfirmComponent\n            );\n            this.sheet_ref.instance.show_close = true;\n            this.sheet_ref.afterDismissed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        }\n    };\n\n    @ViewChild('confirm_ref') private _confirm_ref: TemplateRef<any>;\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(\n        private _state: EventFormService,\n        private _catering: CateringOrderStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _bottom_sheet: MatBottomSheet,\n        private _org: OrganisationService,\n        private _idle: UserIdleTimeService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'space_changes',\n            this.form.controls.resources.valueChanges.subscribe((l) =>\n                this._checkCateringEligibility(l)\n            )\n        );\n        this.subscription(\n            'date_changes',\n            this.form.controls.date.valueChanges.subscribe((l) =>\n                this._checkCateringEligibility(this.form.value.resources)\n            )\n        );\n        this.subscription(\n            'duration_changes',\n            this.form.controls.duration.valueChanges.subscribe((l) =>\n                this._checkCateringEligibility(this.form.value.resources)\n            )\n        );\n        this._catering.setOptions({ zone: '' });\n        this._checkCateringEligibility(this.form.value.resources || []);\n        this.subscription(\n            'idle-listen',\n            this._idle\n                .idleFor(\n                    (this._settings.get('app.idle_timeout') || 5) * 60 * 1000\n                )\n                .subscribe(async () => {\n                    this.unsub('idle');\n                    await openConfirmModal(\n                        {\n                            title: 'Idle Timeout',\n                            content: 'Your form data is out of date',\n                            icon: { content: 'update' },\n                        },\n                        this._dialog\n                    );\n                    this._state.newForm();\n                    location.reload();\n                })\n        );\n    }\n\n    public focusInput() {\n        this.timeout(\n            'input-focus',\n            () => {\n                this._input_el.nativeElement.value = '';\n                this._input_el?.nativeElement?.focus();\n            },\n            300\n        );\n    }\n\n    public findAvailableTime() {\n        const { attendees, organiser, date, duration } = this.form.value;\n        const ref = this._dialog.open(FindAvailabilityModalComponent, {\n            data: {\n                users: attendees,\n                host: organiser || currentUser(),\n                date,\n                duration,\n            },\n        });\n        ref.afterClosed().subscribe((d) => {\n            if (!d) return;\n            this.form.patchValue({\n                date: ref.componentInstance.date,\n                attendees: ref.componentInstance.users.getValue(),\n                duration: ref.componentInstance.duration,\n            });\n        });\n    }\n\n    private async _checkCateringEligibility(list: Space[]) {\n        if (list?.length) {\n            await timer(100).toPromise();\n            const value = this.form.getRawValue();\n            this._catering.setFilters({\n                search: '',\n                date: value.date,\n                duration: value.duration,\n                resources: list,\n                zone_id: this._org.levelWithID(list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            });\n            await timer(500).toPromise();\n            const menu = await this._catering.filtered_menu\n                .pipe(take(1))\n                .toPromise();\n            const disabled_rooms = await this._catering.availability\n                .pipe(take(1))\n                .toPromise();\n            const can_cater = list.every(\n                (s) =>\n                    menu.filter(\n                        (_) =>\n                            !_.hide_for_zones.find((z) => s.zones.includes(z))\n                    ).length > 0\n            );\n            if (\n                !can_cater ||\n                disabled_rooms.find((_) => list.find((i) => i.id === _))\n            ) {\n                this.form.patchValue({ catering: [] });\n                this.form.controls.catering.disable();\n                notifyWarn(\n                    `Catering is unavailable for some of the selected spaces.`\n                );\n            } else {\n                this.form.controls.catering.enable();\n            }\n        } else {\n            this.form.controls.catering.disable();\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-white dark:bg-neutral-600 flex flex-col z-50\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.BOOKING_CONFIRMED' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span *ngIf=\"space\">\n                        room booking for\n                        {{ level?.display_name || level?.name\n                        }}<span *ngIf=\"level\">,</span>\n                        {{ space?.display_name || space?.name }}\n                    </span>\n                    <span *ngIf=\"!space\">meeting</span> has been successfully\n                    booked for the {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: 'shortTime' }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: 'shortTime'\n                    }}.\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-gray-200 dark:bg-neutral-500 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"meeting-created-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class MeetingFlowSuccessComponent {\n    public get last_event() {\n        return this._event_form.last_success;\n    }\n\n    public get space() {\n        return this.last_event.space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones);\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { SettingsService } from '@placeos/common';\nimport { addDays, endOfDay } from 'date-fns';\n\n@Component({\n    selector: 'meeting-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\"\n                        >{{ 'FORM.TITLE' | translate }}<span>*</span></label\n                    >\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error>{{\n                            'FORM.TITLE_ERROR' | translate\n                        }}</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\"\n                        >{{ 'FORM.DATE' | translate }}<span>*</span></label\n                    >\n                    <a-date-field\n                        name=\"date\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\">\n                        {{ 'FORM.START_TIME' | translate }}\n                        <span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [disabled]=\"form.value.all_day\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        [ngModel]=\"form.value.duration\"\n                        (ngModelChange)=\"form.patchValue({ duration: $event })\"\n                        [disabled]=\"form.value.all_day\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    >\n                        Meeting must end at a future time.\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div *ngIf=\"allow_recurrence\" class=\"w-full flex flex-col\">\n                <label for=\"recurrence\">\n                    {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                </label>\n                <recurrence-field\n                    name=\"recurrence\"\n                    formControlName=\"recurrence\"\n                ></recurrence-field>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class MeetingFormDetailsComponent {\n    @Input() public form: FormGroup;\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get allow_recurrence() {\n        return this._settings.get('app.events.allow_recurrence');\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180\n            )\n        );\n    }\n\n    constructor(private _settings: SettingsService) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-new-book-desk-flow',\n    template: `\n        <div class=\"bg-white dark:bg-neutral-900 h-full w-full z-50\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <new-desk-flow-success></new-desk-flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <new-desk-flow-form></new-desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'desk' });\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('success')) {\n                    this._state.setView(params.get('success') as any);\n                }\n                if (params.has('asset_id')) {\n                    this._state.form.patchValue({\n                        resources: [\n                            new Desk({\n                                id: params.get('asset_id'),\n                                name: params.get('asset_id'),\n                            }),\n                        ],\n                    });\n                }\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyError } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'new-desk-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-desk-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>Confirm Desk Booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: 'shortTime') +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: 'h:mm a (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            desk\n            class=\"flex space-x-1 py-4 px-2 border-t dark:border-neutral-500\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Single desk</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t dark:border-neutral-500\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div\n                        class=\"h-5 w-5 bg-gray-100 dark:bg-neutral-600 rounded-full\"\n                    >\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t dark:border-neutral-500\"\n            *ngIf=\"needs_locker\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Requested Locker</h3>\n                <div class=\"flex space-x-2\">\n                    <span>Locker E-043</span>\n                </div>\n            </div>\n        </section>\n        <footer\n            class=\"p-2 w-full border-t border-gray-200 dark:border-neutral-500 mt-4\"\n        >\n            <button\n                name=\"confirm-desk\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class NewDeskFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get needs_locker() {\n        return !!this.booking.secondary_resource;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as Desk;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow-confirm.component';\n\n@Component({\n    selector: 'new-desk-flow-form',\n    styles: [],\n    template: `\n        <div\n            class=\"h-full w-full bg-gray-100 dark:bg-neutral-600 overflow-auto\"\n        >\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-gray-300 dark:border-neutral-500\"\n                    i18n\n                >\n                    Book Desk\n                </h2>\n                <new-desk-form-details [form]=\"form\"></new-desk-form-details>\n                <div\n                    class=\"sm:mb-2 border-b border-gray-300 dark:border-neutral-500 w-full\"\n                ></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-desk-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Desk\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class NewDeskFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(NewDeskFlowConfirmComponent);\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-desks', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'desk' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'new-desk-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-white dark:bg-neutral-600 flex flex-col z-50\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    desk{{ last_event?.attendees?.length ? 's' : '' }} has been\n                    successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: 'shortTime' }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: 'shortTime'\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-gray-200 dark:border-neutral-500 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"desk-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class NewDeskFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const desk = this.last_event?.extension_data?.booking_asset;\n        if (!desk) return '';\n        return desk.zone\n            ? `, ${desk.zone.display_name || desk.zone.name || desk.zone.id}`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.desks.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-desk-form-details',\n    styles: [],\n    template: `\n        <!-- <div class=\"m-2 bg-yellow-500 p-2 text-center rounded shadow text-sm\">\n            The selected desk hasn't been booked. Please book the desk to be\n            able to check-in.\n        </div> -->\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-gray-300 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"flex items-center\" *ngIf=\"allow_groups\">\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-primary]=\"!(options | async)?.group\"\n                    [class.opacity-60]=\"(options | async)?.group\"\n                    (click)=\"setOptions({ group: false, members: [] })\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                    <div class=\"\" i18n>Single</div>\n                    <div\n                        class=\"absolute h-2 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-gray-200]=\"(options | async)?.group\"\n                        [class.bg-primary]=\"!(options | async)?.group\"\n                    ></div>\n                </button>\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-primary]=\"(options | async)?.group\"\n                    [class.opacity-60]=\"!(options | async)?.group\"\n                    (click)=\"setOptions({ group: true })\"\n                >\n                    <app-icon class=\"text-2xl\">group_add</app-icon>\n                    <div class=\"\" i18n>Group</div>\n                    <div\n                        class=\"absolute h-2 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-gray-200]=\"!(options | async)?.group\"\n                        [class.bg-primary]=\"(options | async)?.group\"\n                    ></div>\n                </button>\n            </section>\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div\n                    class=\"w-full\"\n                    *ngIf=\"can_book_for_others && !(options | async)?.group\"\n                >\n                    <label for=\"title\">Host<span>*</span></label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"title\">Add Title<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <input\n                                matInput\n                                name=\"title\"\n                                formControlName=\"title\"\n                                placeholder=\"e.g. Focus Time\"\n                            />\n                            <mat-error i18n\n                                >Booking title is required.</mat-error\n                            >\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n\n                            >Start Time<span>*</span></label\n                        >\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n\n                            >End Time<span>*</span></label\n                        >\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"12 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute -top-2 right-0\"\n                            i18n\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"can_book_lockers\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <mat-checkbox\n                            [ngModel]=\"!!form.value.secondary_resource\"\n                            (ngModelChange)=\"\n                                form.patchValue({\n                                    secondary_resource: $event ? 'locker' : ''\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            i18n\n                        >\n                            Require locker\n                        </mat-checkbox>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"(options | async)?.group\">\n                <h3 class=\"space-x-2 flex items-center\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        2\n                    </div>\n                    <div class=\"text-xl\" i18n>Group Members</div>\n                    <div class=\"flex-1 w-px\"></div>\n                </h3>\n                <div class=\"overflow-hidden\">\n                    <a-user-list-field\n                        class=\"mt-4\"\n                        [ngModel]=\"(options | async)?.members || []\"\n                        (ngModelChange)=\"setOptions({ members: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Desk</div>\n                </h3>\n                <desk-list-field formControlName=\"resources\"></desk-list-field>\n                <p\n                    *ngIf=\"(options | async)?.group\"\n                    class=\"text-center rounded px-2 py-1 bg-yellow-400 shadow text-xs\"\n                >\n                    Desks nearby to the selected desk will booked for group\n                    members\n                </p>\n            </section>\n            <section class=\"p-2\" *ngIf=\"has_assets\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 4 : 3 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Request Asset</div>\n                </h3>\n                <asset-list-field\n                    [date]=\"form.value.date\"\n                    [duration]=\"form.value.duration\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class NewDeskFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    /** Selected desk for booking */\n    public selected_desk: Desk;\n    public from_id = false;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.desks.has_assets');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form.get('resources')?.valueChanges?.subscribe((list) => {\n                    list?.length ? this.setBookingAsset(list[0]) : '';\n                })\n            );\n        }\n    }\n\n    private setBookingAsset(desk: Desk) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!desk) return;\n        this.selected_desk = desk;\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n            booking_asset: desk,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-new-parking-flow',\n    template: `\n        <div\n            class=\"bg-white dark:bg-neutral-900 h-full w-full z-50\"\n            [ngSwitch]=\"view\"\n        >\n            <parking-flow-success *ngSwitchCase=\"'success'\">\n            </parking-flow-success>\n            <parking-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </parking-flow-confirm>\n            <parking-flow-form *ngSwitchDefault></parking-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'parking' });\n        this._state.form.patchValue({ booking_type: 'parking' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-parking-flow-confirm',\n    template: ` <button\n            close\n            icon\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Parking Reservation\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: 'shortTime') +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: 'h:mm a (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            resource\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Car Park</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-gray-100 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-gray-200 mt-4\">\n            <button\n                confirm\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>`,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        await this._state.postForm();\n        this.dismiss(true);\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef\n    ) {\n        super();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { NewParkingFlowConfirmComponent } from './parking-flow-confirm.component';\n\n@Component({\n    selector: 'parking-flow-form',\n    template: `\n        <div\n            class=\"h-full w-full bg-gray-100 dark:bg-neutral-600 overflow-auto\"\n        >\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-gray-300 dark:border-neutral-500\"\n                    i18n\n                >\n                    {{ form.value.id ? 'Edit' : 'Book' }} Parking Reservation\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-gray-300 space-y-2\"\n                    [formGroup]=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\" i18n>Details</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <parking-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></parking-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-black/20 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\" i18n>Space</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"hide_block.space = !hide_block.space\"\n                            >\n                                <app-icon>{{\n                                    hide_block.space\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.space ? 'hide' : 'show'\"\n                        >\n                            <parking-space-list-field\n                                formControlName=\"resources\"\n                            ></parking-space-list-field>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                            i18n\n                        >\n                            Confirm Reservation\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                            i18n\n                        >\n                            {{ form.value.id ? 'Reset' : 'Clear' }} Form\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class ParkingFlowFormComponent extends AsyncHandler {\n    public hide_block: Record<string, boolean> = {};\n    public sheet_ref: any;\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get form() {\n        return this._state.form;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _bottom_sheet: MatBottomSheet\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n    }\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            NewParkingFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-parking', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\n\n@Component({\n    selector: 'parking-flow-success',\n    template: ` <div class=\"absolute inset-0 bg-white flex flex-col z-50\">\n        <main\n            class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n        >\n            <h2 class=\"text-2xl font-medium\" i18n>Parking Space Confirmed!</h2>\n            <p class=\"text-center max-w-[32rem]\" i18n>\n                Your\n                <span>\n                    parking space reservation for\n                    {{ last_event.asset_name }} at {{ location }}, </span\n                >has been successfully booked for the\n                {{ last_event.date | date: 'mediumDate' }} at\n                {{ last_event.date | date: 'shortTime' }}-{{\n                    last_event.date + last_event.duration * 60 * 1000\n                        | date: 'shortTime'\n                }}.\n            </p>\n            <img src=\"assets/icons/parking-success.svg\" />\n        </main>\n        <footer\n            class=\"p-2 w-full border-t border-gray-200 mt-4 flex items-center justify-center\"\n        >\n            <a\n                button\n                btn\n                matRipple\n                class=\"w-full max-w-[32rem]\"\n                [routerLink]=\"['/']\"\n                i18n\n            >\n                Great, thanks!\n            </a>\n        </footer>\n    </div>`,\n    styles: [``],\n})\nexport class ParkingFlowSuccessComponent {\n    public get location() {\n        const resource = this.last_event?.extension_data?.booking_asset;\n        if (!resource) return '';\n        return resource.zone\n            ? `, ${\n                  resource.zone.display_name ||\n                  resource.zone.name ||\n                  resource.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    constructor(private _state: BookingFormService) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingAsset } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'parking-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Building<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of building_list | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Building is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Add Title<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error i18n>Meeting title is required.</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\" i18n\n                        >Start Time<span>*</span></label\n                    >\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\" i18n>End Time<span>*</span></label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                        i18n\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly building = this._org.active_building;\n    public readonly building_list = this._org.building_list;\n\n    public get max_duration() {\n        return this._settings.get('app.bookings.max_duration') || 480;\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.bookings.allow_all_day');\n    }\n\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'change',\n            this.form\n                .get('resources')\n                ?.valueChanges?.subscribe((list) =>\n                    list.length ? this.setBookingAsset(list[0]) : ''\n                )\n        );\n    }\n\n    private setBookingAsset(item: BookingAsset) {\n        if (!item) return;\n        this.form.patchValue({\n            asset_id: item?.id,\n            asset_name: item.name,\n            map_id: item?.map_id || item?.id,\n            description: item.name,\n            booking_type: 'parking',\n            zones: item.zone ? [item.zone?.parent_id, item.zone?.id] : [],\n            booking_asset: item,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-book-parking-flow',\n    template: `\n        <div class=\"bg-white dark:bg-neutral-700 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <parking-flow-confirm></parking-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                        route=\"parking\"\n                        type=\"parking\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <parking-flow-map></parking-flow-map>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'parking-flow-confirm',\n    template: ``,\n    styles: [``]\n})\nexport class ParkingFlowConfirmComponent {\n    \n}","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { ExploreParkingService, ExploreStateService } from '@placeos/explore';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, format, startOfDay } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-ping',\n    template: `\n        <div\n            class=\"absolute inset-0 pointer-events-auto\"\n            [style.transform]=\"'scale(' + zoom * ratio + ')'\"\n        >\n            <div\n                class=\"absolute inset-0 animate-ping border-4 border-green-600\"\n            ></div>\n        </div>\n    `,\n})\nclass SpacePingComponent extends AsyncHandler {\n    public zoom = 1;\n    public ratio = 1;\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: any) {\n        super();\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe((_) => (this.zoom = _))\n        );\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => (this.ratio = _))\n        );\n    }\n}\n\n@Component({\n    selector: 'parking-flow-map',\n    template: `\n        <div\n            class=\"w-full h-full flex flex-col items-center relative\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <div\n                class=\"p-4 flex items-center justify-center bg-secondary w-full shadow z-10 text-white space-x-2\"\n            >\n                <button\n                    matRipple\n                    *ngFor=\"let date of dates\"\n                    [class.selected]=\"date.id === (options | async)?.date\"\n                    class=\"border border-white flex flex-col items-center justify-center h-24 w-28 rounded\"\n                    (click)=\"setDate(date.id)\"\n                >\n                    <p class=\"mb-2 font-medium\">{{ date.name }}</p>\n                    <p class=\"text-2xl\">\n                        {{ ((counts | async) || {})[date.id] || '0' }}\n                    </p>\n                    <p class=\"text-sm\">Available</p>\n                </button>\n            </div>\n            <div class=\"flex w-full h-1/2 flex-1 z-0\">\n                <div\n                    class=\"p-2 sm:w-[18rem] w-full h-full bg-gray-50 dark:bg-neutral-600 shadow border-r border-gray-200 dark:border-neutral-500 z-10 overflow-auto space-y-2\"\n                >\n                    <div\n                        class=\"bg-white dark:bg-neutral-700 sticky top-0 w-full z-10\"\n                        *ngIf=\"(levels | async)?.length > 1\"\n                    >\n                        <mat-form-field\n                            appearance=\"outline\"\n                            class=\"w-full h-[3.25rem]\"\n                        >\n                            <mat-select\n                                [ngModel]=\"level | async\"\n                                (ngModelChange)=\"setLevel($event?.id)\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let lvl of levels | async\"\n                                    [value]=\"lvl\"\n                                >\n                                    {{ lvl.display_name || lvl.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <p>{{ (available | async)?.length }} space(s) available</p>\n                    <button\n                        matRipple\n                        class=\"flex items-center justify-between bg-white dark:bg-neutral-700 rounded-lg border border-gray-200 p-2 w-full\"\n                        [class.active]=\"(active_space | async)?.id === space.id\"\n                        (click)=\"setActive(space)\"\n                        *ngFor=\"let space of available | async\"\n                    >\n                        <div class=\"text-lg\">Bay No. {{ space.name }}</div>\n                        <div class=\"opacity-60\">\n                            {{ levelName(space.zone_id) }}\n                        </div>\n                    </button>\n                </div>\n                <div\n                    class=\"bg-gray-200 dark:bg-neutral-600 flex-1 w-1/2 h-full z-0 relative hidden sm:block\"\n                >\n                    <i-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                    ></i-map>\n                    <explore-zoom-controls\n                        class=\"absolute bottom-0 right-0\"\n                    ></explore-zoom-controls>\n                </div>\n                <div\n                    *ngIf=\"active_space | async\"\n                    class=\"absolute left-1/2 bottom-2 -translate-x-1/2 bg-white dark:bg-neutral-800 shadow rounded p-4 flex flex-col space-y-2\"\n                >\n                    <p>\n                        Parking Bay No.\n                        {{ (active_space | async).name }} selected.\n                    </p>\n                    <p\n                        class=\"p-2 rounded text-sm max-w-[20rem] text-center text-pending leading-tight\"\n                        *ngIf=\"(existing | async)?.length\"\n                    >\n                        Note that your existing parking space reservation will\n                        be replaced\n                    </p>\n                    <button btn matRipple (click)=\"reserveSpace()\">\n                        Reserve Space\n                    </button>\n                </div>\n                <div\n                    class=\"absolute inset-0 bg-white/80 flex flex-col items-center justify-center z-50\"\n                    *ngIf=\"!(levels | async)?.length\"\n                >\n                    <p>\n                        Parking is not available for\n                        {{\n                            (building | async)?.display_name ||\n                                (building | async)?.name\n                        }}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 bg-white/80 flex flex-col items-center justify-center z-50 space-y-2\"\n                *ngIf=\"!(levels | async)?.length\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Reserving parking space...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .active {\n                background-color: var(--primary) !important;\n                color: #fff;\n            }\n\n            .selected {\n                background-color: #fff !important;\n                color: #000d;\n            }\n        `,\n    ],\n    providers: [ExploreParkingService],\n})\nexport class ParkingFlowMapComponent extends AsyncHandler {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n\n    public readonly building = this._org.active_building;\n\n    public readonly level = this._state.level;\n\n    public readonly levels = this._parking.levels;\n\n    public readonly available = this._parking.available_spaces;\n\n    public readonly counts = this._parking.week_availablility;\n\n    public readonly options = this._parking.options;\n\n    public readonly existing = this._parking.existing_event;\n\n    public readonly loading = this._booking.loading;\n\n    public readonly active_space = new BehaviorSubject(null);\n\n    public readonly dates = new Array(7).fill(0).map((_, idx) => ({\n        id: startOfDay(addDays(Date.now(), idx)).valueOf(),\n        name: format(addDays(Date.now(), idx), 'EEE, dd MMM'),\n        available: 0,\n    }));\n\n    public readonly setDate = (d) => this._parking.setOptions({ date: d });\n\n    public levelName(zone_id) {\n        const lvl = this._org.levelWithID([zone_id]);\n        return lvl?.display_name || lvl?.name || '';\n    }\n\n    public setActive(space) {\n        if (space === this.active_space.getValue())\n            this.active_space.next(null);\n        else {\n            this._booking.form.patchValue({\n                asset_id: space.id,\n                asset_name: space.name,\n            });\n            this.active_space.next(space);\n        }\n    }\n\n    public readonly setLevel = (l) => this._state.setLevel(l);\n    public readonly reserveSpace = async () => {\n        const events = await this._parking.existing_event\n            .pipe(take(1))\n            .toPromise();\n        if (events.length) this._booking.form.patchValue({ id: events[0].id }); // Prevent booking duplicate parking spaces\n        await this._booking.postForm();\n        this._router.navigate(['book', 'parking', 'success']);\n    };\n\n    constructor(\n        private _state: ExploreStateService,\n        private _parking: ExploreParkingService,\n        private _org: OrganisationService,\n        private _booking: BookingFormService,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.reset();\n        this.subscription(\n            'levels',\n            this._parking.levels.subscribe((levels) => {\n                this._state.setLevel(levels[0]?.id);\n            })\n        );\n        this.subscription(\n            'spaces',\n            this._parking.available_spaces.subscribe((spaces) => {\n                this._state.setActions(\n                    'parking_spaces',\n                    (spaces || []).map((_) => ({\n                        id: _.map_id,\n                        action: 'click',\n                        callback: () => this.setActive(_),\n                    }))\n                );\n            })\n        );\n        this.subscription(\n            'active_space',\n            this.active_space.subscribe((space) => {\n                if (!space) return this._state.setFeatures('parking_space', []);\n                this._state.setFeatures('parking_space', [\n                    {\n                        location: space.map_id,\n                        content: SpacePingComponent,\n                        full_size: true,\n                        z_index: 0,\n                    },\n                ]);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-white dark:bg-neutral-700 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'find'\">\n                    <space-flow-find></space-flow-find>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <space-flow-confirm></space-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <space-flow-form></space-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookSpaceFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringItem } from '@placeos/catering';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'space-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'find']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div\n            class=\"flex flex-col items-center space-y-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n        >\n            <h2 class=\"text-xl uppercase font-medium w-full my-4\">\n                Your meeting details\n            </h2>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-gray-200 w-full\"\n            >\n                <div\n                    class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                >\n                    <app-icon>event</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{ form.value.date | date: 'longDate' }}\n                    <span *ngIf=\"!form.value.all_day\">\n                        at {{ form.value.date | date: 'shortTime' }} ~\n                        {{\n                            form.value.date + form.value.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </span>\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                    >Edit</a\n                >\n            </div>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-gray-200 w-full\"\n            >\n                <div\n                    class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                >\n                    <app-icon>schedule</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{\n                        form.value.all_day\n                            ? 'All Day'\n                            : (form.value.duration | duration)\n                    }}\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                >\n                    Edit\n                </a>\n            </div>\n            <div class=\"border-b border-gray-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div\n                        class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                    >\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('resources')?.value?.length }} Space(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('resources')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_spaces = !show_spaces\"\n                    >\n                        {{ show_spaces ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'find']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_spaces\n                            ? '0'\n                            : form.get('resources')?.value?.length * 2.5 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-10 pl-12\"\n                        *ngFor=\"let space of form.get('resources')?.value\"\n                    >\n                        <span\n                            >{{ space.display_name || space.name }} [{{\n                                space.level?.display_name || space.level?.name\n                            }}]</span\n                        >\n\n                        <button\n                            matRipple\n                            class=\"bg-transparent border-none underline\"\n                            *ngIf=\"can_view_location\"\n                        >\n                            Map\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-b border-gray-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div\n                        class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                    >\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('attendees')?.value?.length || 0 }}\n                        Attendee(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('attendees')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_people = !show_people\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_people\n                            ? '0'\n                            : form.get('attendees')?.value?.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let user of form.get('attendees')?.value\"\n                    >\n                        <a-user-avatar\n                            class=\"text-sm\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <span>{{ user.name || user.email }}</span>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"border-b border-gray-200 w-full\"\n                *ngIf=\"form.value.catering?.length\"\n            >\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div\n                        class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                    >\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.value.catering[0]?.item_count || 0 }}\n                        Catering Item(s)\n                    </div>\n                    <button\n                        matRipple\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_catering = !show_catering\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_catering\n                            ? '0'\n                            : form.value.catering[0]?.items.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let item of form.value.catering[0]?.items\"\n                    >\n                        <div class=\"flex-1 w-1/2\">\n                            <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                            <div\n                                class=\"text-xs underline\"\n                                *ngIf=\"item.options.length\"\n                                [matTooltip]=\"optionsFor(item)\"\n                            >\n                                {{ item.options.length }} option{{\n                                    item.options.length === 1 ? '' : 's'\n                                }}\n                                selected\n                            </div>\n                        </div>\n                        <div\n                            class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                        >\n                            {{ item.total_cost / 100 | currency: code }}\n                        </div>\n                        <a-counter [(ngModel)]=\"item.quantity\"></a-counter>\n                    </div>\n                </div>\n            </div>\n            <button\n                matRipple\n                class=\"w-32\"\n                confirm\n                [disabled]=\"loading\"\n                (click)=\"postForm()\"\n            >\n                <span *ngIf=\"!loading\">Confirm</span>\n                <mat-spinner\n                    class=\"mx-auto\"\n                    [diameter]=\"24\"\n                    *ngIf=\"loading\"\n                ></mat-spinner>\n            </button>\n        </div>\n        <\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n\n            [list] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowConfirmComponent {\n    public show_spaces = false;\n    public show_people = false;\n    public show_catering = false;\n    public loading = false;\n\n    public readonly postForm = async () => {\n        this.loading = true;\n        await this._state\n            .postForm()\n            .catch((_) =>\n                notifyError(\n                    _ instanceof Object ? _.message || 'Bad Request' : _\n                )\n            );\n        this.loading = false;\n    };\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public get can_view_location() {\n        return !this._settings.get('app.no_maps');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CateringOrder, CateringStateService } from '@placeos/catering';\nimport { SettingsService } from '@placeos/common';\nimport { EventFlowOptions } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'detailed-book-space-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <section class=\"mb-4 border-b border-gray-300 dark:border-neutral-500\">\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"date\">Date</label>\n                        <a-date-field name=\"date\" formControlName=\"date\">\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"start-time\">Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                        <label for=\"end-time\">End Time</label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute top-0 right-0\"\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"building\">Building</label>\n                        <mat-form-field\n                            overlay\n                            buildings\n                            class=\"w-full h-[3.25rem]\"\n                            *ngIf=\"(buildings | async)?.length > 1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                placeholder=\"Select Building...\"\n                                [ngModel]=\"building\"\n                                (ngModelChange)=\"setBuilding($event)\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"features\">Features</label>\n                        <mat-form-field\n                            class=\"w-full h-[3.25rem]\"\n                            overlay\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [placeholder]=\"'Any ' + features_label\"\n                                multiple\n                                [ngModel]=\"options?.features\"\n                                (ngModelChange)=\"\n                                    optionsChange.emit({ features: $event })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let item of features\"\n                                    [value]=\"item\"\n                                >\n                                    {{ item }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </section>\n            <section\n                class=\"mb-4 border-b border-gray-300 dark:border-neutral-500\"\n                *ngIf=\"can_book_for_others || !hide_attendees\"\n            >\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                    *ngIf=\"can_book_for_others\"\n                >\n                    <label for=\"host\">Host<span>*</span></label>\n                    <host-select-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></host-select-field>\n                </div>\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-2\"\n                    *ngIf=\"!hide_attendees\"\n                >\n                    <label for=\"attendees\">Attendees</label>\n                    <a-user-list-field\n                        name=\"attendees\"\n                        [hideActions]=\"hide_actions\"\n                        formControlName=\"attendees\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"mb-4 border-b border-gray-300 dark:border-neutral-500\">\n                <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto\">\n                    <div class=\"flex flex-col\">\n                        <label for=\"title\"\n                            >Meeting Subject <span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"title\"\n                                matInput\n                                formControlName=\"title\"\n                                placeholder=\"Meeting title\"\n                            />\n                            <mat-error>Meeting Subject is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col resize-y mb-4\"\n                        *ngIf=\"!hide_notes\"\n                    >\n                        <label for=\"notes\">Notes</label>\n                        <rich-text-input\n                            name=\"notes\"\n                            formControlName=\"body\"\n                            placeholder=\"Add meeting notes here...\"\n                        ></rich-text-input>\n                    </div>\n                    <div class=\"flex flex-col mb-4\" *ngIf=\"has_catering\">\n                        <label>Catering</label>\n                        <an-action-field (onAction)=\"editCatering()\">\n                            <div\n                                class=\"opacity-40\"\n                                *ngIf=\"!form?.value.catering?.length\"\n                            >\n                                Add catering\n                            </div>\n                            <div\n                                class=\"flex items-center\"\n                                *ngIf=\"form?.value.catering?.length\"\n                            >\n                                <div class=\"flex-1 w-1/2\">\n                                    {{ form?.value.catering[0].item_count }}\n                                    item(s)\n                                </div>\n                                <div class=\"text-xs opacity-60 px-4\">\n                                    {{\n                                        form?.value.catering[0].total_cost / 100\n                                            | currency:code\n                                    }}\n                                </div>\n                            </div>\n                        </an-action-field>\n                    </div>\n                </div>\n            </section>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DetailBookSpaceFormComponent {\n    @Input() public form: FormGroup;\n    @Input() public options: EventFlowOptions;\n    @Input() public features: string[] = [];\n    @Output() public optionsChange = new EventEmitter<EventFlowOptions>();\n\n    public readonly buildings = this._org.building_list;\n    public readonly setBuilding = (b) => this._org.building = b;\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get has_catering() {\n        return !!this._settings.get('app.events.has_catering');\n    }\n\n    public get hide_actions() {\n        return !!this._settings.get('app.events.hide_user_actions');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get show_features() {\n        return !!this._settings.get('app.events.features_on_form');\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public readonly editCatering = async () =>\n        this.form.patchValue({\n            catering: [\n                await this._catering.manageCateringOrder(\n                    (this.form.value.catering\n                        ? this.form.value.catering[0]\n                        : null) || new CateringOrder()\n                ),\n            ],\n        });\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Space } from '@placeos/spaces';\nimport { MapLocateModalComponent } from '@placeos/components';\n\n@Component({\n    selector: 'space-flow-find-item',\n    template: `\n        <div\n            class=\"flex items-center bg-white dark:bg-neutral-700 p-2 my-2 shadow w-[640px] max-w-[calc(100%-2rem)] mx-auto rounded\"\n        >\n            <div class=\"flex flex-col flex-1 space-y-2 \">\n                <div class=\"flex items-center\">\n                    <div\n                        class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                    >\n                        <app-icon>place</app-icon>\n                    </div>\n                    <span\n                        >{{ space?.level?.display_name || space?.level?.name }},\n                        {{ space?.display_name || space?.name }}</span\n                    >\n                </div>\n                <div class=\"flex items-center\">\n                    <div\n                        class=\"p-2 rounded-full bg-gray-300 dark:bg-neutral-600 mr-2\"\n                    >\n                        <app-icon>group</app-icon>\n                    </div>\n                    <span>{{ space?.capacity || 0 }} People</span>\n                </div>\n            </div>\n            <div class=\"flex flex-col space-y-2 ml-2\">\n                <button\n                    matRipple\n                    book\n                    [class.bg-pending]=\"multiple && book\"\n                    [class.border-pending]=\"multiple && book\"\n                    (click)=\"bookSpace()\"\n                >\n                    {{ multiple ? (book ? 'Remove' : 'Select') : 'Book' }}\n                </button>\n                <button\n                    locate\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"viewLocation()\"\n                >\n                    Map\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFindItemComponent {\n    /** Space to display details for */\n    @Input() public space: Space;\n    /** Whether space should be booked */\n    @Input() public multiple: boolean;\n    /** Whether space should be booked */\n    @Input() public book: boolean;\n    /** Emitter for changes to book value */\n    @Output() public bookChange = new EventEmitter<boolean>();\n\n    constructor(private _dialog: MatDialog) {}\n\n    public bookSpace() {\n        this.book = this.multiple ? !this.book : true;\n        this.bookChange.emit(this.book);\n    }\n\n    public viewLocation() {\n        this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n    }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HashMap, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { combineLatest } from 'rxjs';\nimport { filter, first, map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-flow-find',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div filters>\n            <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto py-4\">\n                <h2 class=\"text-xl uppercase font-medium text-white\">\n                    Available Spaces\n                </h2>\n                <div\n                    class=\"flex flex-col items-center sm:flex-row space-x-0 sm:space-x-2\"\n                >\n                    <mat-form-field\n                        overlay\n                        buildings\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Select Building...\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        overlay\n                        *ngIf=\"(levels | async)?.length > 0\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Level\"\n                            [ngModel]=\"\n                                (options | async)?.zone_ids?.length\n                                    ? (options | async)?.zone_ids[0]\n                                    : ''\n                            \"\n                            (ngModelChange)=\"setOptions({ zone_ids: [$event] })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of levels | async\"\n                                [value]=\"item.id\"\n                            >\n                                {{ item.display_name || item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Any Capacity\"\n                            [ngModel]=\"(options | async)?.capacity\"\n                            (ngModelChange)=\"setOptions({ capacity: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of quick_capacities\"\n                                [value]=\"item.value\"\n                            >\n                                {{ item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                        *ngIf=\"(features | async)?.length\"\n                    >\n                        <mat-select\n                            [placeholder]=\"'Any ' + features_label\"\n                            multiple\n                            [ngModel]=\"(options | async)?.features\"\n                            (ngModelChange)=\"setOptions({ features: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of features | async\"\n                                [value]=\"item\"\n                            >\n                                {{ item }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div\n            class=\"flex-1 w-full bg-gray-100 dark:bg-neutral-600 overflow-auto\"\n        >\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ng-container\n                    *ngIf=\"(spaces | async)?.length > 0; else empty_state\"\n                >\n                    <space-flow-find-item\n                        *ngFor=\"let space of spaces | async\"\n                        class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto \"\n                        [space]=\"space\"\n                        [multiple]=\"multiple\"\n                        [book]=\"book_space[space.id]\"\n                        (bookChange)=\"handleBookEvent(space, $event)\"\n                    ></space-flow-find-item>\n                    <p class=\"p-4 text-center opacity-60\">\n                        End of available spaces list\n                    </p>\n                </ng-container>\n            </ng-container>\n        </div>\n        <div\n            *ngIf=\"multiple\"\n            class=\"bg-white dark:bg-neutral-700 border-t border-gray-200\"\n        >\n            <div\n                class=\"flex items-center w-[640px] max-w-[calc(100%-2rem)] mx-auto p-2\"\n            >\n                <div class=\"flex-1 underline\" [matMenuTriggerFor]=\"menu\">\n                    {{ space_list?.length }} space(s) selected\n                </div>\n                <button\n                    class=\"w-32\"\n                    [disabled]=\"!space_list?.length\"\n                    btn\n                    matRipple\n                    (click)=\"confirmBooking()\"\n                >\n                    Book\n                </button>\n            </div>\n            <mat-menu #menu=\"matMenu\" yPosition=\"above\">\n                <div\n                    class=\"flex items-center pointer-events-none leading-tight\"\n                    mat-menu-item\n                    *ngFor=\"let space of space_list\"\n                >\n                    <div class=\"flex flex-col mr-4\">\n                        <div>{{ space.display_name || space.name }}</div>\n                        <div class=\"text-xs opacity-70\">\n                            {{ space.level?.display_name || space.level?.name }}\n                            ~ {{ space.capacity || '2+' }} People\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        class=\"pointer-events-auto\"\n                        (click)=\"\n                            this.handleBookEvent(space, false);\n                            $event.stopPropagation()\n                        \"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    mat-menu-item\n                    class=\" opacity-60\"\n                    *ngIf=\"!space_list?.length\"\n                >\n                    No selected spaces\n                </div>\n            </mat-menu>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Retrieving available spaces...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2 p-8 text-center\"\n            >\n                <p>\n                    No available spaces for selected time, capacity or level(s)\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: var(--secondary-dark);\n            }\n\n            [filters] {\n                background-color: var(--secondary);\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class SpaceFlowFindComponent implements OnInit {\n    public book_space: HashMap<boolean> = {};\n    public quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public space_list: Space[] = [];\n\n    /** List of available buildings */\n    public readonly buildings = this._org.building_list;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n\n    public readonly levels = combineLatest([\n        this.building,\n        this._state.options,\n    ]).pipe(\n        filter(([_]) => !!_),\n        map(([bld]) => [\n            {\n                id: this._org.building.id,\n                name: 'All Levels',\n            },\n            ...this._org.levelsForBuilding(bld),\n        ])\n    );\n\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n\n    public readonly spaces = this._state.available_spaces;\n    public readonly features = this._state.features;\n    public async setBuilding(bld) {\n        const opts = await this.options.pipe(take(1)).toPromise();\n        if (bld) this._org.building = bld;\n        const levels = this._org.levelsForBuilding(this._org.building);\n        const lvl = levels.find((_) => opts.zone_ids?.includes(_.id));\n        if (!lvl && levels.length) {\n            this.setOptions({ zone_ids: [levels[0].id] });\n        }\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get multiple() {\n        return this._settings.get('app.events.multiple_spaces') ?? false;\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _space_pipe: SpacePipe\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => !!_)).toPromise();\n        this.setBuilding(this._org.building);\n        this.book_space = {};\n        const resources = this._state.form?.get('resources')?.value || [];\n        resources.forEach((_) => (this.book_space[_.id] = true));\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async handleBookEvent(space: Space, book: boolean = true) {\n        if (this.multiple) {\n            this.book_space[space.id] = book;\n        } else {\n            this.book_space = {};\n            this.book_space[space.id] = book;\n            this.confirmBooking();\n        }\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async confirmBooking() {\n        const spaces = await this._getSpaceList();\n        this._state.form.patchValue({\n            resources: spaces,\n            system: spaces[0] as any,\n        });\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n\n    private _getSpaceList() {\n        const id_list = Object.keys(this.book_space).filter(\n            (k) => this.book_space[k]\n        );\n        return id_list.length\n            ? Promise.all(id_list.map((_) => this._space_pipe.transform(_)))\n            : Promise.resolve([]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { addDays, addMinutes, roundToNearestMinutes, setHours } from 'date-fns';\n\n@Component({\n    selector: 'space-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Space Booking\n            </h2>\n            <detailed-book-space-form\n                [form]=\"form\"\n                [options]=\"options | async\"\n                (optionsChange)=\"setOptions($event)\"\n                [features]=\"features | async\"\n            ></detailed-book-space-form>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    find-space\n                    (click)=\"findSpace()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Spaces' : 'Find Space'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    standalone\n                    *ngIf=\"is_edit || allow_standalone_bookings\"\n                    (click)=\"confirmBooking()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">event_available</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Confirm changes' : 'Book without Space'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFormComponent {\n    public time = 0;\n    public capacity = 0;\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        { name: 'Later Today', value: 120 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public readonly quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get is_edit() {\n        return !!this.form?.value?.id;\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get allow_standalone_bookings() {\n        return this._settings.get('app.events.allow_standalone_bookings');\n    }\n\n    public readonly clearForm = () => {\n        this.time = this.capacity = 0;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router\n    ) {}\n\n    public quickBook() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Meeting',\n        });\n        this._state.setOptions({ capacity: this.capacity });\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public findSpace() {\n        this.form.markAllAsTouched();\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public confirmBooking() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-gray-100 dark:bg-neutral-600 h-full w-full overflow-auto\">\n            <div class=\"w-full h-full sm:h-auto max-w-[640px] mx-auto sm:my-4 bg-white shadow border border-gray-200 dark:border-neutral-500 overflow-hidden\">\n                <invite-visitor-form (done)=\"onDone()\"></invite-visitor-form>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class VisitorFlowComponent {\n\n    constructor(private _router: Router) {}\n\n    public onDone() {\n        this._router.navigate(['/']);\n    }\n}\n","export * from './lib/catering.module';\nexport * from './lib/catering';\nexport * from './lib/charge-code-list-modal.component';","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { DialogEvent, Identity } from 'libs/common/src/lib/types';\n\nimport { CateringRuleset, RULE_TYPES } from './catering.interfaces';\n\nexport interface CateringConfigModalData {\n    /** List of catering rules */\n    config: CateringRuleset[];\n    /** List of available categories and tags */\n    types?: string[];\n    require_notes?: boolean;\n    saveNotes?: (v: boolean) => void;\n}\n\n@Component({\n    selector: 'catering-config-modal',\n    template: `\n        <header>\n            <h3>Edit Catering Configuration</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto text-center max-w-lg px-4 pt-2 pb-4\">\n            <mat-checkbox\n                class=\"m-2\"\n                [ngModel]=\"require_notes\"\n                (ngModelChange)=\"saveNotesSetting($event)\"\n            >\n                Require notes for orders\n            </mat-checkbox>\n            <br />\n            <button\n                matRipple\n                (click)=\"rulesets.push({ id: new_id, rules: [] })\"\n            >\n                New Ruleset\n            </button>\n            <div *ngFor=\"let set of rulesets; let i = index\" class=\"ruleset\">\n                <div class=\"flex\">\n                    <mat-form-field class=\"flex-1\" appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Zone ID, Category or Tag\"\n                            [(ngModel)]=\"set.name\"\n                            required\n                        />\n                        <mat-error>Ruleset name is required</mat-error>\n                    </mat-form-field>\n                    <button\n                        icon\n                        matRipple\n                        class=\"mb-6\"\n                        (click)=\"set.rules.push(['', '']); show_rules = set.id\"\n                    >\n                        <app-icon>add</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        class=\"mb-6\"\n                        [disabled]=\"!set.rules.length\"\n                        (click)=\"\n                            show_rules = show_rules !== set.id ? set.id : ''\n                        \"\n                    >\n                        <app-icon>{{\n                            show_rules === set.id\n                                ? 'expand_less'\n                                : 'expand_more'\n                        }}</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        class=\"mb-6\"\n                        (click)=\"rulesets.splice(i, 1)\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                </div>\n                <div\n                    name=\"rules\"\n                    class=\"bg-gray-100 rounded overflow-hidden\"\n                    [style.height]=\"\n                        (show_rules === set.id ? 5 * set.rules.length : 0) +\n                        'em'\n                    \"\n                >\n                    <div\n                        class=\"flex items-center px-2 h-20 space-x-2\"\n                        *ngFor=\"let rule of set.rules; let i = index\"\n                    >\n                        <mat-form-field class=\"flex-1\" appearance=\"outline\">\n                            <mat-select\n                                name=\"booking-type\"\n                                [(ngModel)]=\"rule[0]\"\n                                placeholder=\"Select Rule\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let type of rule_types\"\n                                    [value]=\"type.id\"\n                                >\n                                    {{ type.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <mat-form-field class=\"flex-1\" appearance=\"outline\">\n                            <input\n                                matInput\n                                name=\"value\"\n                                placeholder=\"Rule value\"\n                                [(ngModel)]=\"rule[1]\"\n                                required\n                            />\n                            <mat-error>Rule value is required</mat-error>\n                        </mat-form-field>\n                        <button\n                            icon\n                            matRipple\n                            class=\"mb-6\"\n                            (click)=\"set.rules.splice(i, 1)\"\n                        >\n                            <app-icon>delete</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </main>\n        <footer\n            class=\"flex p-2 items-center justify-center border-t border-solid border-gray-300\"\n        >\n            <button btn matRipple class=\"mx-auto w-32\" (click)=\"saveChanges()\">\n                Save Changes\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            [name='rules'] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class CateringConfigModalComponent extends AsyncHandler {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = false;\n    /** Whether to show rules for a ruleset */\n    public show_rules: string;\n    public require_notes = this._data.require_notes;\n\n    public readonly rulesets: CateringRuleset[];\n\n    public readonly rule_types: readonly Identity[] = RULE_TYPES;\n\n    public get new_id() {\n        return 'ruleset-' + Math.floor(Math.random() * 9999_9999);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringConfigModalData\n    ) {\n        super();\n        this.rulesets = (_data.config || []).map((set) => {\n            set.rules = set.rules.map((i) => [\n                i[0],\n                JSON.stringify(i[1]),\n            ]) as any;\n            return set;\n        });\n    }\n\n    public saveNotesSetting(value: boolean) {\n        this.timeout(\n            'save-notes',\n            () => (this._data.saveNotes ? this._data.saveNotes(value) : ''),\n            1000\n        );\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        const rulesets = this.rulesets.map((set) => {\n            return {\n                ...set,\n                rules: set.rules.map((i) => {\n                    let value = i[1];\n                    try {\n                        value = JSON.parse(i[1] as any);\n                    } catch (e) {}\n                    return [i[0], value];\n                }) as any,\n            };\n        });\n        this.event.emit({ reason: 'done', metadata: rulesets });\n    }\n}\n","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-gray-200 border-dashed rounded-xl hover:bg-gray-100 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-gray-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-gray-300\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\n\nimport { CateringItem } from 'libs/catering/src/lib/catering-item.class';\nimport { NewCateringOrderModalComponent } from 'libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component';\n\nconst EMPTY_FAVS = [];\n\n@Component({\n    selector: `catering-list-field`,\n    template: ` <div list class=\"space-y-2\">\n            <div\n                space\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let item of items\"\n            >\n                <div\n                    class=\"w-16 h-16 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [src]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"pb-4\">\n                    <div class=\"font-medium flex items-center\">\n                        {{ item.name || 'Item' }}\n                        <span\n                            class=\"text-xs opacity-60 ml-4 font-normal\"\n                            *ngIf=\"item.option_list?.length\"\n                            [matTooltip]=\"optionList(item)\"\n                        >\n                            {{ item.option_list?.length || '0' }} option(s)\n                        </span>\n                    </div>\n                    <div>{{ item.quantity }} requested</div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            name=\"edit-catering-item\"\n                            class=\"clear\"\n                            (click)=\"addItems(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\">\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            name=\"remove-catering-item\"\n                            class=\"clear\"\n                            (click)=\"removeItem(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\">\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite\"\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(item.id)\"\n                    (click)=\"toggleFavourite(item)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(item.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-catering-item\"\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"addItems()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Item</span>\n            </div>\n        </button>`,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CateringListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CateringListFieldComponent implements ControlValueAccessor {\n    @Input() public options: {\n        date?: number;\n        duration?: number;\n        zone_id?: string;\n    } = {};\n    public items: CateringItem[] = [];\n    public disabled = false;\n\n    private _onChange: (_: CateringItem[]) => void;\n    private _onTouch: (_: CateringItem[]) => void;\n    public selected: CateringItem[] = [];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {}\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: CateringItem[]) {\n        this.items = new_value;\n        if (this._onChange) this._onChange(this.items);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: CateringItem[]) {\n        this.items = value || [];\n    }\n\n    public readonly registerOnChange = (fn: (_: CateringItem[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: CateringItem[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeItem(item: CateringItem) {\n        const updated_list = this.items.filter((_) => _.id !== item.id);\n        this.setValue(updated_list);\n    }\n\n    public addItems(item?: CateringItem) {\n        const ref = this._dialog.open(NewCateringOrderModalComponent, {\n            data: [this.items, this.options],\n        });\n        ref.afterClosed().subscribe((items?: CateringItem[]) => {\n            if (!items) return;\n            this.setValue(items);\n        });\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n\n    public toggleFavourite(cateringitem: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(cateringitem.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                cateringitem.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== cateringitem.id)\n            );\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringStateService } from './catering-state.service';\nimport { CateringOption } from './catering.interfaces';\n\n@Component({\n    selector: '[catering-menu-item]',\n    template: `\n        <div\n            class=\"w-full h-full bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500 overflow-hidden rounded\"\n        >\n            <div item class=\"flex items-center px-2\" *ngIf=\"item\">\n                <mat-checkbox\n                    class=\"mr-2\"\n                    matTooltip=\"Allow Ordering Item\"\n                    [(ngModel)]=\"is_enabled\"\n                ></mat-checkbox>\n                <div class=\"flex items-center p-2 flex-1\">\n                    <div class=\"flex-1\">\n                        <div>{{ item.name }}</div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"p-2 m-2 text-xs font-bold text-white rounded bg-primary\"\n                    >\n                        {{ item.unit_price / 100 | currency: (symbol | async) }}\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    [matMenuTriggerFor]=\"menu\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!item.options.length\"\n                    (click)=\"show_options = !show_options\"\n                >\n                    <app-icon>expand_more</app-icon>\n                </button>\n            </div>\n            <div\n                options\n                *ngIf=\"item\"\n                class=\"bg-gray-100 dark:bg-neutral-700 overflow-hidden\"\n                [style.height]=\"\n                    show_options ? item.options.length * 3.5 + 'rem' : '0'\n                \"\n            >\n                <div\n                    class=\"flex p-2 items-center border-t border-solid border-gray-300 dark:border-neutral-500 relative\"\n                    *ngFor=\"let option of item.options\"\n                >\n                    <div\n                        class=\"absolute inset-y-0 left-0 w-2 bg-gray-400 dark:bg-neutral-600\"\n                    ></div>\n                    <div class=\"flex-1 pl-4 pr-2\">\n                        <div class=\"text\">{{ option.name }}</div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ option.group }}\n                        </div>\n                    </div>\n                    <button\n                        edit\n                        icon\n                        matRipple\n                        class=\"mx-2\"\n                        (click)=\"editOption(option)\"\n                        *ngIf=\"can_edit\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        remove\n                        icon\n                        matRipple\n                        class=\"mx-2\"\n                        (click)=\"removeOption(option)\"\n                        *ngIf=\"can_edit\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                </div>\n            </div>\n            <mat-menu #menu=\"matMenu\">\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"addOption()\"\n                >\n                    <app-icon>add</app-icon>\n                    <div class=\"ml-2\">Add Option</div>\n                </button>\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"editItem()\"\n                >\n                    <app-icon>edit</app-icon>\n                    <div class=\"ml-2\">Edit Item</div>\n                </button>\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"removeItem()\"\n                >\n                    <app-icon>delete</app-icon>\n                    <div class=\"ml-2\">Remove Item</div>\n                </button>\n            </mat-menu>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                overflow: hidden;\n                width: 48rem;\n                margin: 0.5rem auto;\n                max-width: calc(100vw - 1rem);\n            }\n\n            button[mat-menu-item] {\n                display: flex;\n            }\n\n            [options] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class CateringMenuItemComponent {\n    /** Item to display */\n    @Input() public item: CateringItem;\n    /** Whether to show item options */\n    public show_options = false;\n\n    public readonly addOption = () => this._catering.addOption(this.item);\n\n    public readonly editOption = (option: CateringOption) =>\n        this._catering.addOption(this.item, option);\n\n    public readonly removeOption = (option: CateringOption) =>\n        this._catering.deleteOption(this.item, option);\n\n    public readonly editItem = () => this._catering.addItem(this.item);\n\n    public readonly removeItem = () => this._catering.deleteItem(this.item);\n\n    public get can_edit() {\n        return this._catering.is_editable;\n    }\n\n    public get is_enabled() {\n        return !this.item.hide_for_zones.includes(this._catering.zone);\n    }\n\n    public set is_enabled(state: boolean) {\n        let list = this.item.hide_for_zones;\n        if (!state) list = unique([...list, this._catering.zone]);\n        else list = list.filter((_) => _ !== this._catering.zone);\n        this._catering.updateItem(\n            new CateringItem({ ...this.item, hide_for_zones: list })\n        );\n    }\n\n    /** Currency symbol for active menu */\n    public get symbol() {\n        return this._catering.currency;\n    }\n\n    constructor(private _catering: CateringStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'catering-menu',\n    template: `\n        <mat-tab-group\n            class=\"h-full\"\n            (selectedIndexChange)=\"\n                shown_tab.next($event === 0 ? '' : categories[$event - 1])\n            \"\n        >\n            <mat-tab label=\"All Items\">\n                <ng-container *ngIf=\"(menu | async)?.length; else empty_state\">\n                    <ng-container *ngFor=\"let item of menu | async\">\n                        <div catering-menu-item [item]=\"item\"></div>\n                    </ng-container>\n                </ng-container>\n            </mat-tab>\n            <mat-tab\n                *ngFor=\"let group of categories\"\n                [attr.label]=\"group\"\n                [label]=\"group\"\n            >\n                <ng-container *ngFor=\"let item of (tab_menu | async)[group]\">\n                    <div catering-menu-item [item]=\"item\"></div>\n                </ng-container>\n            </mat-tab>\n        </mat-tab-group>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2\">\n                <app-icon>close</app-icon>\n                <p>No items in menu</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 90%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringMenuComponent {\n    /** Observable for the currently active menu */\n    public readonly menu = this._catering.menu;\n    /** Store for the currently selected tab */\n    public readonly shown_tab = new BehaviorSubject<string>('');\n    /** Observable for the menu list for the selected tab */\n    public readonly tab_menu = this.menu.pipe(\n        map((menu) => {\n            const menu_map = {};\n            for (const group of this.categories) {\n                menu_map[group] = menu.filter(\n                    (item) => item.category === group\n                );\n            }\n            return menu_map;\n        })\n    );\n\n    public get categories() {\n        return this._catering.categories;\n    }\n\n    constructor(private _catering: CateringStateService) {}\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-gray-300\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: '[catering-order-item]',\n    template: `\n        <ng-container *ngIf=\"item\">\n            <div class=\"w-20 text-right h-14 relative\">\n                <div\n                    class=\"border-b-2 border-l-2 border-gray-400 dark:border-neutral-500 w-4 h-16 absolute top-1/2 left-1/2 -translate-y-full\"\n                ></div>\n            </div>\n            <div class=\"w-12 mr-4\">\n                <button\n                    action\n                    icon\n                    matRipple\n                    class=\"border border-gray-300 dark:border-neutral-500 border-dashed text-xl text-dark-fade p-2\"\n                    [class.bg-success]=\"active\"\n                    [class.text-white]=\"active\"\n                    [class.border-solid]=\"active\"\n                    (click)=\"active = !active\"\n                >\n                    <app-icon>{{ active ? 'done' : 'local_pizza' }}</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex flex-1 border-b border-gray-300 dark:border-neutral-500 border-solid py-4 space-x-2\"\n            >\n                <div class=\"\">{{ item?.name }}</div>\n                <div class=\"flex-1\">\n                    <div\n                        class=\"p-1 rounded-full bg-black/10 w-8 h-8 flex items-center justify-center\"\n                    >\n                        ⨯{{ item?.amount || item?.quantity || 1 }}\n                    </div>\n                </div>\n                <div class=\"flex space-x-2 mr-2\">\n                    <ng-container *ngFor=\"let opt of item.option_list\">\n                        <div\n                            class=\"text-xs py-1 px-2 bg-yellow-300 text-black rounded-2xl shadow\"\n                            *ngIf=\"opt\"\n                        >\n                            {{ opt.name }}\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host:last-child > div {\n                border: none !important;\n            }\n        `,\n    ],\n})\nexport class CateringOrderItemComponent {\n    @Input() public item: CateringItem;\n\n    public active = false;\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { CateringOrder } from './catering-order.class';\n\nimport { CateringOrdersService } from './catering-orders.service';\n\n@Component({\n    selector: 'catering-order-list',\n    template: `\n        <div\n            class=\"sticky top-0 w-full text-sm font-medium flex items-center py-4 border-solid border-b border-gray-300 bg-white dark:bg-neutral-800 dark:border-neutral-500\"\n        >\n            <div class=\"w-20\"></div>\n            <div class=\"w-24\">Time</div>\n            <div class=\"flex-1\">Location</div>\n            <div class=\"w-56\">Host</div>\n            <div class=\"w-28\">Charge Code</div>\n            <div class=\"w-24\">Notes</div>\n            <div class=\"w-28\">Invoice No.</div>\n            <div class=\"w-36\">Status</div>\n            <div class=\"w-12\"></div>\n        </div>\n        <ul class=\"list-none p-0 m-0 w-full flex-1 overflow-auto\">\n            <li\n                class=\"border-solid border-b border-gray-300 dark:border-neutral-500\"\n                *ngFor=\"let order of order_list | async; trackBy: trackByFn\"\n            >\n                <catering-order [order]=\"order\"></catering-order>\n            </li>\n            <div\n                empty\n                class=\"info-block opacity-60\"\n                *ngIf=\"!(order_list | async)?.length\"\n            >\n                <p>No Catering Orders</p>\n            </div>\n        </ul>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            class=\"w-full\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringOrderListComponent implements OnInit, OnDestroy {\n    /** List of filtered orders */\n    public readonly order_list = this._orders.filtered;\n    /** Whether order list is loading */\n    public readonly loading = this._orders.loading;\n\n    constructor(private _orders: CateringOrdersService) {}\n\n    public ngOnInit() {\n        this._orders.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._orders.stopPolling();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, order: CateringOrder) {\n        return order ? order.id : undefined;\n    }\n}\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption, CateringRuleset } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<CateringRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-gray-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-gray-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-gray-50\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--primary);\n                border-bottom: 2px solid var(--primary);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly CateringRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOption } from '../catering.interfaces';\n\ninterface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'catering-item-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-black/20\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-catering-item-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-black/40 sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-black/40\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p *ngIf=\"item.unit_price\">\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.quantity\"\n                        (ngModelChange)=\"\n                            active ? activeChange.emit(active) : ''\n                        \"\n                        [min]=\"1\"\n                        [max]=\"item.count || 10\"\n                    ></a-counter>\n                </section>\n                <section class=\"flex items-center flex-wrap\">\n                    <div\n                        class=\"px-2 py-1 rounded-2xl bg-gray-200 dark:bg-neutral-500 text-sm capitalize m-1\"\n                        *ngFor=\"let tag of item.tags\"\n                    >\n                        {{ tag }}\n                    </div>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <div class=\"flex flex-col flex-wrap\">\n                        <div\n                            class=\"min-w-1/2 flex-1\"\n                            *ngFor=\"let group of groups\"\n                            [attr.group]=\"group.name\"\n                        >\n                            <div class=\"font-medium p-2 capitalize\">\n                                {{ group.name }}\n                            </div>\n                            <div class=\"flex flex-col pl-4\">\n                                <ng-container\n                                    *ngIf=\"!group.multiple; else multi_options\"\n                                >\n                                    <mat-radio-group\n                                        class=\"flex flex-col\"\n                                        aria-label=\"Select an option\"\n                                        [(ngModel)]=\"group_state[group.name]\"\n                                        (ngModelChange)=\"\n                                            updateGroupOption(group, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <mat-radio-button class=\"m-0\" value=\"\">\n                                            <span class=\"font-medium p-2\" i18n\n                                                >None</span\n                                            >\n                                        </mat-radio-button>\n                                        <mat-radio-button\n                                            class=\"m-0\"\n                                            *ngFor=\"let opt of group?.options\"\n                                            [value]=\"opt.id\"\n                                        >\n                                            <div\n                                                class=\"flex items-center justify-center max-w-[calc(100vw-4rem)] sm:max-w-[15rem]\"\n                                            >\n                                                <div\n                                                    class=\"font-medium p-2 flex-1 w-1/2 whitespace-normal\"\n                                                >\n                                                    {{ opt.name }}\n                                                </div>\n                                                <div\n                                                    class=\"opacity-60 text-xs\"\n                                                    *ngIf=\"opt.unit_price\"\n                                                >\n                                                    +{{\n                                                        opt.unit_price / 100\n                                                            | currency: code\n                                                    }}\n                                                </div>\n                                            </div>\n                                        </mat-radio-button>\n                                    </mat-radio-group>\n                                </ng-container>\n                                <ng-template #multi_options>\n                                    <mat-checkbox\n                                        *ngFor=\"let opt of group?.options\"\n                                        [(ngModel)]=\"option_state[opt.id]\"\n                                        (ngModelChange)=\"\n                                            updateCheckedState(opt.id, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-center\"\n                                        >\n                                            <div\n                                                class=\"font-medium p-2 flex-1 w-1/2\"\n                                            >\n                                                {{ opt.name }}\n                                            </div>\n                                            <div\n                                                class=\"opacity-60 text-xs\"\n                                                *ngIf=\"opt.unit_price\"\n                                            >\n                                                +{{\n                                                    opt.unit_price / 100\n                                                        | currency: code\n                                                }}\n                                            </div>\n                                        </div>\n                                    </mat-checkbox>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-gray-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"select-catering-item-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this item' : 'Add this item' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select an item to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class CateringItemDetailsComponent {\n    @Input() public item?: CateringItem;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n    @Input() public code: string = 'USD';\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n\n    public option_state: Record<string, boolean> = {};\n    public group_state: Record<string, string> = {};\n    public groups: CateringOptionGroup[];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            this._update();\n        }\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        if (!group) return;\n        this.group_state[group.name] = id;\n        for (const option of group.options) {\n            option.active = option.id === id;\n        }\n    }\n\n    public updateCheckedState(id: string, state: boolean) {\n        const option = this.item?.options.find((_) => _.id === id);\n        if (option) option.active = state;\n    }\n\n    private _update() {\n        if (!this.item) return;\n        if (!this.item.quantity) {\n            (this.item as any).quantity = 1;\n        }\n        this.option_state = {};\n        this.group_state = {};\n        const groups = unique(this.item.options.map((i) => i.group || 'Other'));\n        const group_list = [];\n        for (const group of groups) {\n            const options = this.item.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n        if (this.item.option_list) {\n            for (const opt of this.item.option_list) {\n                const option = this.item.options.find((_) => _.id === opt.id);\n                if (option) {\n                    option.active = true;\n                    this.option_state[opt.id] = true;\n                    this.updateGroupOption(\n                        this.groups.find((g) => g.name === option.group),\n                        option.id\n                    );\n                }\n            }\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst ICONS = {\n    coffee: `<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_605_8664)\">\n    <path d=\"M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_605_8664\">\n    <rect width=\"40\" height=\"40\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    drinks: `<svg width=\"28\" height=\"39\" viewBox=\"0 0 28 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8203)\">\n    <path d=\"M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8203\">\n    <rect width=\"28\" height=\"39\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    snacks: `<svg width=\"44\" height=\"30\" viewBox=\"0 0 44 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z\" fill=\"currentColor\"/>\n    <path d=\"M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z\" fill=\"currentColor\"/>\n    <path d=\"M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z\" fill=\"currentColor\"/>\n    </svg>\n    `,\n    meals: `<svg width=\"44\" height=\"47\" viewBox=\"0 0 44 47\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8219)\">\n    <path d=\"M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z\" fill=\"currentColor\"/>\n    <path d=\"M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z\" fill=\"#323232\"/>\n    <path d=\"M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z\" fill=\"#323232\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8219\">\n    <rect width=\"43.348\" height=\"46.051\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>`,\n};\n\n@Component({\n    selector: 'catering-item-filters',\n    template: `\n        <div class=\"px-4 mt-3 mb-2\" [class.sm:hidden]=\"!search\">\n            <mat-form-field appearance=\"outline\" class=\"w-full h-14\">\n                <app-icon matPrefix class=\"text-xl\">search</app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(filters | async)?.search\"\n                    (ngModelChange)=\"setFilters({ search: $event })\"\n                    placeholder=\"Search menu...\"\n                />\n            </mat-form-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-4\" *ngIf=\"!search\" i18n>\n            Catergories\n        </h3>\n        <div\n            class=\"flex flex-col px-2 space-y-4\"\n            [class.sm:hidden]=\"search\"\n            [class.sm:pt-1]=\"!search\"\n        >\n            <mat-checkbox\n                *ngFor=\"let item of categories | async\"\n                [attr.name]=\"item\"\n                [ngModel]=\"(filters | async)?.categories?.includes(item)\"\n                (ngModelChange)=\"toggleCategory(item)\"\n            >\n                {{ item }}\n            </mat-checkbox>\n        </div>\n    `,\n    styles: [`\n        :host {\n            min-width: 16rem;\n        }\n    `],\n})\nexport class CateringItemFiltersComponent {\n    @Input() public search = false;\n\n    public readonly icons = ICONS;\n\n    public readonly filters = this._state.filters;\n\n    public readonly setFilters = (f) => this._state.setFilters(f);\n\n    public readonly categories = this._state.categories;\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public async toggleCategory(name: string) {\n        const { categories } = await this.filters.pipe(take(1)).toPromise();\n        if (categories.includes(name))\n            this.setFilters({\n                categories: categories.filter((_) => _ !== name),\n            });\n        else this.setFilters({ categories: [...categories, name] });\n    }\n\n    public async toggleTag(tag: string) {\n        const { tags } = await this.filters.pipe(take(1)).toPromise();\n        if (tags.includes(tag))\n            this.setFilters({ tags: tags.filter((_) => _ !== tag) });\n        else this.setFilters({ tags: [...tags, tag] });\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CateringItem } from '../catering-item.class';\n\n@Component({\n    selector: 'catering-item-list-item',\n    template: `\n        <li\n            item\n            [class.!border-black]=\"active\"\n            class=\"relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-600 border-gray-200 dark:border-neutral-500 sm:w-[20rem]\"\n        >\n            <button\n                matRipple\n                name=\"select-catering-item\"\n                class=\"w-full h-full flex items-center\"\n                (click)=\"select.emit()\"\n            >\n                <div\n                    class=\"relative w-16 h-16 rounded-xl bg-black/20 mr-4 overflow-hidden border border-gray-100 dark:border-neutral-600 flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white text-xs\"\n                        *ngIf=\"item.quantity && selected\"\n                    >\n                        {{ item.quantity || '1' }}\n                    </div>\n                    <img\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [src]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 text-left flex-1\">\n                    <div class=\"font-medium flex flex-col pr-10\">\n                        <div>{{ item.name || 'Item' }}</div>\n                        <div class=\"opacity-60 text-xs\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-1\">\n                        <p\n                            class=\"flex-1 w-px bg-white rounded\"\n                            *ngIf=\"item.unit_price\"\n                        >\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                        <div\n                            class=\"text-xs px-2 py-1 rounded-2xl shadow border border-gray-100\"\n                            *ngIf=\"item.option_list?.length\"\n                        >\n                            {{ options }}\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-green-500 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Gluten Free')\"\n                        >\n                            GF\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-blue-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegan')\"\n                        >\n                            VG\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-blue-400 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegetarian')\"\n                        >\n                            V\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-yellow-500 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Dairy')\"\n                        >\n                            D\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Nuts')\"\n                        >\n                            N\n                        </div>\n                    </div>\n                </div>\n            </button>\n            <button\n                icon\n                matRipple\n                name=\"toggle-catering-item-favourite\"\n                class=\"absolute top-1 right-1\"\n                [class.text-blue-400]=\"favourite\"\n                (click)=\"toggleFav.emit()\"\n            >\n                <app-icon>{{\n                    favourite ? 'favorite' : 'favorite_border'\n                }}</app-icon>\n            </button>\n        </li>\n    `,\n    styles: [``],\n})\nexport class CateringItemListItemComponent {\n    @Input() public item: CateringItem;\n    @Input() public active = false;\n    @Input() public selected = false;\n    @Input() public favourite = false;\n    @Input() public code: string = 'USD';\n    @Output() public toggleFav = new EventEmitter();\n    @Output() public select = new EventEmitter();\n\n    public get options() {\n        return this.item.option_list?.map((_) => _.name).join(', ');\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\n@Component({\n    selector: 'catering-item-list',\n    template: `\n        <div class=\"w-full h-full overflow-auto py-2\">\n            <ng-container *ngIf=\"(list | async)?.length\">\n                <h3 class=\"font-bold px-2\">Ordered Items</h3>\n                <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                    {{ (list | async)?.length || 0 }} items(s)\n                </p>\n\n                <ul class=\"list-style-none space-y-2 p-2\">\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"true\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        (toggleFav)=\"toggleFav.emit(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                {{ (item_list | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(item_list | async)?.length; else empty_state\"\n                >\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of item_list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"selected.includes(item.custom_id)\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        [code]=\"code\"\n                        (toggleFav)=\"toggleFav(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available items for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available items...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringItemListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public selected_items: CateringItem[] = [];\n    @Input() public favorites: string[] = [];\n    @Output() public toggleFav = new EventEmitter<CateringItem>();\n    @Output() public onSelect = new EventEmitter<CateringItem>();\n\n    public readonly list = new BehaviorSubject<CateringItem[]>([]);\n    public readonly loading = this._state.loading;\n    public readonly item_list = this._state.filtered_menu;\n\n    public get code() {\n        return this._state.currency_code;\n    }\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items) {\n            this.list.next(this.selected_items || []);\n        }\n    }\n\n    public isFavourite(item_id: string) {\n        return this.favorites?.includes(item_id);\n    }\n\n    public selectItem(item: CateringItem, clear_state: boolean = false) {\n        this.onSelect.emit(item);\n        if (clear_state) {\n            item.options?.forEach((_) => delete _.active);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { SettingsService, unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { CateringItem } from '../catering-item.class';\nimport { cateringItemAvailable, getCateringRulesForZone } from '../utilities';\nimport { CateringSettings } from '../catering-state.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface CateringOrderOptions {\n    // Affects backend requests\n    zone?: string;\n}\n\nexport interface CateringOrderFilters {\n    // Affects frontend filtering\n    date?: number;\n    duration?: number;\n    zone_id?: string;\n    resources?: Space[];\n    search: string;\n    tags: string[];\n    categories: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrderStateService {\n    private _options = new BehaviorSubject<CateringOrderOptions>({});\n    private _filters = new BehaviorSubject<CateringOrderFilters>({\n        search: '',\n        tags: [],\n        categories: [],\n    });\n    private _loading = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n    public readonly filters = this._filters.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => _.details as CateringSettings),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public readonly available_menu: Observable<CateringItem[]> = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!bld),\n        switchMap(([{ zone }, bld]) => {\n            this._loading.next('[Menu]');\n            return showMetadata(zone || bld.id, 'catering').pipe(\n                map((d) => d.details.map((_) => new CateringItem(_))),\n                catchError((_) => [])\n            );\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly categories = this.available_menu.pipe(\n        map((_) => unique(_.map((i) => i.category)))\n    );\n\n    public readonly filtered_menu = combineLatest([\n        this._filters,\n        this.available_menu,\n    ]).pipe(\n        switchMap(\n            async ([\n                {\n                    search,\n                    tags,\n                    categories,\n                    zone_id,\n                    date,\n                    duration,\n                    resources,\n                },\n                l,\n            ]) => {\n                const rules = await getCateringRulesForZone(\n                    zone_id\n                ).toPromise();\n                search = search.toLowerCase();\n                let list = search\n                    ? l.filter((_) => _.name.toLowerCase().includes(search))\n                    : l;\n                list = tags.length\n                    ? list.filter((_) => tags.every((t) => _.tags.includes(t)))\n                    : list;\n                list = categories.length\n                    ? list.filter((_) => categories.includes(_.category))\n                    : list;\n                list = list.filter((_) =>\n                    cateringItemAvailable(_, rules, {\n                        date,\n                        duration,\n                        resources,\n                    } as any)\n                );\n                return list;\n            }\n        ),\n        shareReplay(1)\n    );\n\n    public get currency_code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public setOptions(opts: Partial<CateringOrderOptions>) {\n        this._options.next({ ...this._options.getValue(), ...opts });\n    }\n\n    public setFilters(opts: Partial<CateringOrderFilters>) {\n        this._filters.next({ ...this._filters.getValue(), ...opts });\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'new-catering-order-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button\n                    icon\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"bg-black/20\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Add Catering</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-gray-200 dark:divide-neutral-500 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <catering-item-filters\n                    class=\"h-full hidden sm:block sm:max-w-[12rem] sm:h-[65vh] sm:max-h-full\"\n                ></catering-item-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <catering-item-filters\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500\"\n                        [search]=\"true\"\n                    ></catering-item-filters>\n                    <catering-item-list\n                        [active]=\"displayed?.custom_id\"\n                        [selected]=\"selected_ids\"\n                        [selected_items]=\"selected\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></catering-item-list>\n                </div>\n                <catering-item-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[16rem] z-20 bg-white dark:bg-neutral-700\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.custom_id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    [code]=\"code\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></catering-item-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-catering-item\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ count }} items(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-catering-item\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.custom_id)\"\n                    (click)=\"\n                        setSelected(\n                            displayed,\n                            !isSelected(displayed?.custom_id)\n                        )\n                    \"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.custom_id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.custom_id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class NewCateringOrderModalComponent {\n    public displayed: CateringItem | null = null;\n    public selected: CateringItem[] = [...(this._data[0] || [])];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.custom_id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i) => t + i.quantity, 0);\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _order: CateringOrderStateService,\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: [CateringItem[], any]\n    ) {\n        this._order.setFilters(this._data[1]);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: CateringItem, state: boolean) {\n        const list = this.selected.filter(\n            (_) => _.custom_id !== item.custom_id\n        );\n        if (state) {\n            const new_item = new CateringItem({ ...item, in_order: true });\n            list.push(new_item);\n            this.displayed = new_item;\n        }\n        this.selected = list;\n    }\n\n    public toggleFavourite(item: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-gray-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { ANIMATION_SHOW_CONTRACT_EXPAND, AsyncHandler } from '@placeos/common';\n\nimport { CateringOrdersService } from './catering-orders.service';\nimport { CateringOrder } from './catering-order.class';\nimport { CATERING_STATUSES } from './catering.vars';\n\n@Component({\n    selector: 'catering-order',\n    template: `\n        <div\n            class=\"w-full flex items-center py-2 dark:bg-neutral-700\"\n            [class.bg-gray-100]=\"!show_items\"\n            [class.bg-gray-200]=\"show_items\"\n            *ngIf=\"order\"\n        >\n            <div\n                class=\"w-20 flex items-center justify-center z-20 h-full\"\n                [class.bg-gray-200]=\"show_items\"\n                [class.dark:bg-neutral-700]=\"show_items\"\n            >\n                <div\n                    class=\"rounded-full bg-gray-400 dark:bg-neutral-800 p-2 text-2xl text-black dark:text-white opacity-60 flex items-center justify-center\"\n                >\n                    <app-icon>room_service</app-icon>\n                </div>\n            </div>\n            <div time class=\"w-24\">\n                {{ order.deliver_at | date: 'shortTime' }}\n            </div>\n            <div class=\"flex-1\">\n                {{\n                    order.event?.space.display_name ||\n                        order.event?.space.name ||\n                        '~ No Location ~'\n                }}\n            </div>\n            <div class=\"w-56\">\n                {{\n                    order.event?.organiser?.name ||\n                        order.event?.host ||\n                        '~ Unknown Host ~'\n                }}\n            </div>\n            <div class=\"w-28\">{{ order.charge_code || '~ No Code ~' }}</div>\n            <div class=\"w-24\">\n                <button\n                    *ngIf=\"order.notes\"\n                    class=\"clear underline\"\n                    [matTooltip]=\"order.notes\"\n                >\n                    View\n                </button>\n            </div>\n            <div class=\"w-28\">\n                {{ order.invoice_number || '~ No Invoice ~' }}\n            </div>\n            <div class=\"w-36\">\n                <button\n                    name=\"status\"\n                    class=\"text-base border-none h-10 px-4 flex items-center text-white w-36\"\n                    matRipple\n                    [style.background]=\"status?.colour\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <div class=\"flex text-center capitalize mx-2\">\n                        {{ status?.name }}\n                    </div>\n                    <app-icon class=\"pl-2\">arrow_drop_down</app-icon>\n                </button>\n            </div>\n            <div class=\"w-12\">\n                <button icon (click)=\"show_items = !show_items\">\n                    <app-icon>{{\n                        show_items\n                            ? 'keyboard_arrow_down'\n                            : 'keyboard_arrow_right'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <ul\n            *ngIf=\"order?.items.length\"\n            class=\"list-none p-0 m-0 w-full relative z-0\"\n            [class.shown]=\"show_items\"\n            [@show]=\"show_items ? 'show' : 'hide'\"\n        >\n            <li\n                catering-order-item\n                class=\"flex items-center\"\n                *ngFor=\"let item of order.items; let i = index\"\n                [item]=\"item\"\n            ></li>\n        </ul>\n        <mat-menu #menu=\"matMenu\">\n            <button\n                mat-menu-item\n                *ngFor=\"let status of statuses\"\n                class=\"flex items-center\"\n                (click)=\"updateStatus(status.id)\"\n            >\n                <div\n                    class=\"rounded-full h-4 w-4 mr-2\"\n                    [style.background-color]=\"status.colour\"\n                ></div>\n                <span class=\"mr-2 w-20\">{{ status.name }}</span>\n            </button>\n        </mat-menu>\n    `,\n    styles: [\n        `\n            [name='status'] {\n                border-radius: 1.55rem;\n            }\n\n            button[mat-menu-item] {\n                display: flex;\n            }\n\n            [name='bar'] {\n                width: 2px;\n                top: -0.5rem;\n                left: calc(2.5rem - 1px);\n            }\n        `,\n    ],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class CateringOrderComponent extends AsyncHandler {\n    @Input() public order: CateringOrder;\n    /** Whether to show the items in the catering order */\n    public show_items = false;\n    /** List of status available to select */\n    public readonly statuses = CATERING_STATUSES;\n\n    public readonly updateStatus = async (s) => {\n        await this._orders.updateStatus(this.order, s);\n        this.timeout('status-change', () => ((this.order as any).status = s));\n    };\n\n    public get status() {\n        return this.statuses.find((i) => i.id === this.order.status);\n    }\n\n    constructor(private _orders: CateringOrdersService) {\n        super();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { map, switchMap, debounceTime, tap, shareReplay } from 'rxjs/operators';\nimport { startOfDay, endOfDay, getUnixTime } from 'date-fns';\n\nimport { AsyncHandler, flatten } from '@placeos/common';\nimport { queryEvents, saveEvent } from 'libs/events/src/lib/events.fn';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport interface CateringOrderFilters {\n    /** UTC epoch of the date to get catering orders for */\n    date?: number;\n    /** List of zones to filter catering order bookings */\n    zones?: string[];\n    /** Search string to filter orders on */\n    search?: string;\n}\n\nfunction checkOrder(\n    order: CateringOrder,\n    filters: CateringOrderFilters\n): boolean {\n    const s = (filters.search || '').toLowerCase();\n    return !!order.items.find(\n        (item) =>\n            item.name.toLowerCase().includes(s) ||\n            !!item.options.find((option) =>\n                option.name.toLowerCase().includes(s)\n            )\n    );\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrdersService extends AsyncHandler {\n    private _poll = new BehaviorSubject<number>(0);\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _filters = new BehaviorSubject<CateringOrderFilters>({});\n\n    /** Observable for list of orders */\n    public readonly orders: Observable<CateringOrder[]> = combineLatest([\n        this._filters,\n        this._poll,\n    ]).pipe(\n        debounceTime(500),\n        switchMap(([{ date, zones }]) => {\n            this._loading.next(true);\n            const start = getUnixTime(startOfDay(date || Date.now()));\n            const end = getUnixTime(endOfDay(date || Date.now()));\n            return queryEvents({\n                zone_ids: (zones || []).join(','),\n                period_start: start,\n                period_end: end,\n            });\n        }),\n        map((events) => flatten(events.map((event) => event.ext('catering')))),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Observable for loading status of orders */\n    public readonly loading = this._loading.asObservable();\n    /** Order filters */\n    public get filters() {\n        return this._filters.getValue();\n    }\n    /** Order filters */\n    public set filters(filters: CateringOrderFilters) {\n        this._filters.next(filters);\n    }\n    /** Filtered list of catering orders */\n    public readonly filtered = this.orders.pipe(\n        map((list) =>\n            list.filter((order) => checkOrder(order, this._filters.getValue()))\n        )\n    );\n\n    constructor() {\n        super();\n        this.subscription('changes', this.orders.subscribe());\n    }\n\n    /** Start polling for catering orders */\n    public startPolling(delay: number = 15 * 1000) {\n        this.interval(\n            'polling',\n            () => this._poll.next(new Date().valueOf()),\n            delay\n        );\n    }\n\n    /** Stop polling for new catering orders */\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    /**\n     * Update the status of the order\n     * @param order Order to update\n     * @param status New order status\n     */\n    public async updateStatus(\n        order: CateringOrder,\n        status: CateringOrderStatus\n    ) {\n        const updated_order = new CateringOrder({ ...order, status });\n        const catering = [\n            ...order.event.ext('catering').filter((o) => o.id !== order.id),\n            updated_order,\n        ].map((i) => new CateringOrder({ ...i }));\n        const event = new CalendarEvent({\n            ...order.event,\n            catering,\n        });\n        const booking = await saveEvent(event).toPromise();\n        this._poll.next(Date.now());\n        return booking;\n    }\n}\n","import { Component } from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { requestSpacesForZone } from 'libs/spaces/src/lib/space.utilities';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering';\n\n@Component({\n    selector: 'catering-rooms-state-modal',\n    template: `\n        <div>\n            <header class=\"flex items-center justify-between p-2\">\n                <h3 class=\"p-2\">Set Catering Availability for Rooms</h3>\n                <button icon mat-dialog-close>\n                    <app-icon>close</app-icon>\n                </button>\n            </header>\n            <main\n                class=\"max-h-[65vh] overflow-auto\"\n                *ngIf=\"!loading; else load_state\"\n            >\n                <table class=\"min-w-[32rem]\">\n                    <thead\n                        class=\"border-b border-gray-200 dark:border-neutral-500\"\n                    >\n                        <tr>\n                            <td class=\"w-12\" (click)=\"toggleRoom('*')\">\n                                <mat-checkbox\n                                    class=\"pointer-events-none\"\n                                    [checked]=\"\n                                        (rooms | async)?.length ===\n                                        selected.length\n                                    \"\n                                    [indeterminate]=\"\n                                        selected.length > 0 &&\n                                        (rooms | async)?.length !==\n                                            selected.length\n                                    \"\n                                ></mat-checkbox>\n                            </td>\n                            <td></td>\n                            <td class=\"text-right text-xs\">\n                                {{ (rooms | async)?.length }} Room(s)\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr\n                            *ngFor=\"let space of rooms | async\"\n                            class=\"hover:bg-black/10 dark:hover:bg-white/5\"\n                            (click)=\"toggleRoom(space.id)\"\n                        >\n                            <td>\n                                <mat-checkbox\n                                    class=\"pointer-events-none\"\n                                    [checked]=\"selected.includes(space.id)\"\n                                ></mat-checkbox>\n                            </td>\n                            <td>{{ space.display_name || space.name }}</td>\n                            <td class=\"text-right\">\n                                <span\n                                    class=\"px-2 py-1 rounded-2xl\"\n                                    [class.bg-green-600]=\"\n                                        !(availability | async)?.includes(\n                                            space.id\n                                        )\n                                    \"\n                                    [class.bg-red-600]=\"\n                                        (availability | async)?.includes(\n                                            space.id\n                                        )\n                                    \"\n                                >\n                                    {{\n                                        !(availability | async)?.includes(\n                                            space.id\n                                        )\n                                            ? 'Enabled'\n                                            : 'Disabled'\n                                    }}\n                                </span>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </main>\n            <footer\n                class=\"flex items-center p-2 justify-end space-x-2 border-t border-gray-200 dark:border-neutral-500\"\n            >\n                <button btn matRipple (click)=\"enableSelected()\">\n                    Enable Selected\n                </button>\n                <button btn matRipple (click)=\"disableSelected()\">\n                    Disable Selected\n                </button>\n            </footer>\n        </div>\n        <ng-template #load_state>\n            <main\n                class=\"w-64 h-48 p-8 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving disabled room list...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            td {\n                padding: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringRoomsStateModalComponent {\n    public loading = false;\n    public selected: string[] = [];\n    public readonly rooms = requestSpacesForZone(this._org.building.id);\n    public readonly availability = this._catering.availability;\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService\n    ) {}\n\n    public async toggleRoom(id: string) {\n        if (id === '*') {\n            const rooms = await this.rooms.pipe(take(1)).toPromise();\n            if (this.selected.length !== rooms.length)\n                this.selected = rooms.map((_) => _.id);\n            else this.selected = [];\n        } else {\n            if (this.selected.includes(id))\n                this.selected = this.selected.filter((_) => _ !== id);\n            else this.selected = [...this.selected, id];\n        }\n    }\n\n    public async enableSelected() {\n        this.loading = true;\n        const disabled_list = await this.availability.pipe(take(1)).toPromise();\n        const list = disabled_list.filter((_) => !this.selected.includes(_));\n        await this._catering\n            .saveSettings({ disabled_rooms: list })\n            .catch(() => null);\n        this.loading = false;\n    }\n\n    public async disableSelected() {\n        const disabled_list = await this.availability.pipe(take(1)).toPromise();\n        const list = unique(disabled_list.concat(this.selected));\n        await this._catering\n            .saveSettings({ disabled_rooms: list })\n            .catch(() => null);\n        this.loading = false;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    CateringConfigModalComponent,\n    CateringConfigModalData,\n} from './catering-config-modal.component';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption, CateringRuleset } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            CateringConfigModalComponent,\n            CateringConfigModalData\n        >(CateringConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        return updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<CateringRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: CateringRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","import { Identity } from '@placeos/common';\n\n// Event catering order interfaces\nexport type CateringOrderStatus =\n    | 'accepted'\n    | 'preparing'\n    | 'ready'\n    | 'delivered'\n    | 'cancelled';\n\nexport interface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\nexport interface CateringOption {\n    /** Unique Identifier of the catering option */\n    readonly id: string;\n    /** Display name for the catering option */\n    readonly name: string;\n    /** Name of the group associated with the option */\n    readonly group: string;\n    /** Whether multiple items in the group can be selected */\n    readonly multiple: boolean;\n    /** Cost of adding the option to the item */\n    readonly unit_price: number;\n    /** Whether the catering option is active for the item */\n    active?: boolean;\n}\n\nexport type CateringRule =\n    | ['after_hour' | 'before_hour' | 'is_before' | 'within_hours', number]\n    | ['min_length' | 'max_length' | 'visitor_type', string]\n    | ['groups', string[]];\n\nexport interface CateringRuleset {\n    /** ID of the ruleset. Zone ID, category or tag */\n    id: string;\n    /** Descriptive name of the ruleset */\n    name: string;\n    /** List of rules for the id */\n    rules: CateringRule[];\n}\n\nexport const RULE_TYPES: Identity[] = [\n    { id: 'after_hour', name: 'After Hour of Day' },\n    { id: 'before_hour', name: 'Before Hour of Day' },\n    { id: 'min_length', name: 'Min. Meeting Length' },\n    { id: 'max_length', name: 'Max. Meeting Length' },\n    { id: 'is_before', name: 'Is Hours before Meeting' },\n    { id: 'within_hours', name: 'Within Hours before Meeting' },\n    { id: 'visitor_type', name: 'Visitor Type' },\n    { id: 'groups', name: 'User in Groups' },\n];\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\nimport { FormFieldsModule } from '@placeos/form-fields';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { CateringConfigModalComponent } from './catering-config-modal.component';\nimport { CateringItemModalComponent } from './catering-item-modal.component';\nimport { CateringMenuItemComponent } from './catering-menu-item.component';\nimport { CateringMenuComponent } from './catering-menu.component';\nimport { CateringItemOptionModalComponent } from './catering-option-modal.component';\nimport { CateringOrderItemComponent } from './catering-order-item.component';\nimport { CateringOrderListComponent } from './catering-order-list.component';\nimport { CateringOrderModalComponent } from './catering-order-modal.component';\nimport { CateringOrderOptionsModalComponent } from './catering-order-options-modal.component';\nimport { CateringOrderComponent } from './catering-order.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nimport { NewCateringOrderModalComponent } from './catering-order-modal/new-catering-order-modal.component';\nimport { CateringItemListComponent } from './catering-order-modal/catering-item-list.component';\nimport { CateringItemDetailsComponent } from './catering-order-modal/catering-item-details.component';\nimport { CateringItemFiltersComponent } from './catering-order-modal/catering-item-filters.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { CateringRoomsStateModalComponent } from './catering-rooms-state-modal.component';\nimport { ChargeCodeListModalComponent } from './charge-code-list-modal.component';\nimport { CateringItemListItemComponent } from './catering-order-modal/catering-item-list-item.component';\n\nconst COMPONENTS: Type<any>[] = [\n    CateringOrderOptionsModalComponent,\n    CateringOrderModalComponent,\n    CateringConfigModalComponent,\n    CateringItemModalComponent,\n    CateringMenuComponent,\n    CateringMenuItemComponent,\n    CateringItemOptionModalComponent,\n    CateringOrderListComponent,\n    CateringOrderComponent,\n    CateringOrderItemComponent,\n    CateringImportMenuModalComponent,\n\n    CateringListFieldComponent,\n    NewCateringOrderModalComponent,\n    CateringItemListComponent,\n    CateringItemDetailsComponent,\n    CateringItemFiltersComponent,\n    CateringRoomsStateModalComponent,\n    CateringItemListItemComponent,\n\n    ChargeCodeListModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatAutocompleteModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatTooltipModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        MatFormFieldModule,\n        FormFieldsModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedCateringModule {}\n","export * from './catering-order-options-modal.component';\nexport * from './catering-order-modal.component';\nexport * from './catering-config-modal.component';\nexport * from './catering-item-modal.component';\nexport * from './catering-item.class';\nexport * from './catering-menu-item.component';\nexport * from './catering-menu.component';\nexport * from './catering-option-modal.component';\nexport * from './catering-order-item.component';\nexport * from './catering-order.component';\nexport * from './catering-order-list.component';\nexport * from './catering-order.class';\nexport * from './catering-orders.service';\nexport * from './catering-state.service';\nexport * from './catering.interfaces';\nexport * from './catering.module';\nexport * from './catering.vars';\nexport * from './catering-order-modal/new-catering-order-modal.component';\n","import { Identity } from '@placeos/common';\n\nexport const CATERING_STATUSES: Identity[] = [\n    { id: 'pending', name: 'Pending', icon: { class: 'custom-pending' }, colour: '#ccc' },\n    { id: 'accepted', name: 'Accepted', icon: { class: 'custom-accepted' }, colour: '#3996B6' },\n    {\n        id: 'preparing',\n        name: 'Preparing',\n        icon: { class: 'custom-preparing' },\n        colour: '#E7536B',\n    },\n    { id: 'ready', name: 'Ready', icon: { class: 'custom-ready' }, colour: '#FFD028' },\n    {\n        id: 'delivered',\n        name: 'Delivered',\n        icon: { class: 'custom-delivered' },\n        colour: '#75BB43',\n    },\n    {\n        id: 'cancelled',\n        name: 'Cancelled',\n        icon: { class: 'custom-cancelled' },\n        colour: '#747474',\n    },\n];\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { csvToJson, notifyError, unique } from '@placeos/common';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'charge-code-list-modal',\n    template: `\n        <header>\n            <h2>Edit Charge Codes</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"overflow-auto max-h-[65vh] min-h-[20rem] flex flex-col\"\n        >\n            <div\n                class=\"flex items-center space-x-2 w-full hover:bg-black/10 px-2\"\n                *ngFor=\"\n                    let code of charge_codes;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <mat-form-field appearance=\"outline\" class=\"h-14 flex-1\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"charge_codes[i]\"\n                        placeholder=\"Charge Code\"\n                    />\n                </mat-form-field>\n                <button icon (click)=\"removeCode(i)\">\n                    <app-icon>delete</app-icon>\n                </button>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center p-2 space-x-2 border-t border-gray-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-48 inverse relative\">\n                Import Codes\n                <input\n                    class=\"opacity-0 absolute inset-0\"\n                    type=\"file\"\n                    (change)=\"addCodesFromFile($event)\"\n                />\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"newCode()\">\n                Add Code\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"saveChargeCodes()\">\n                Save Changes\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center p-20 space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving changes to charge codes...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChargeCodeListModalComponent {\n    public charge_codes: string[] = [];\n    public loading = false;\n\n    constructor(\n        private _state: CateringStateService,\n        private _dialog_ref: MatDialogRef<ChargeCodeListModalComponent>\n    ) {}\n\n    public async ngOnInit() {\n        this.charge_codes =\n            (await this._state.charge_codes.pipe(take(1)).toPromise()) || [];\n    }\n\n    public newCode() {\n        this.charge_codes.push('');\n    }\n\n    public removeCode(index: number) {\n        this.charge_codes.splice(index, 1);\n    }\n\n    /**\n     * Load CSV file and populate the code list with the contents\n     * @param event File input field event\n     */\n    public addCodesFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    const list =\n                        csvToJson((evt.srcElement as any).result) || [];\n                    for (const { code, description } of list) {\n                        this.charge_codes.push(code);\n                    }\n                    this.charge_codes = unique(this.charge_codes);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    public async saveChargeCodes() {\n        this.loading = true;\n        const cleaned_codes = this.charge_codes.filter((_) => _ && _.trim());\n        await this._state.saveSettings({ charge_codes: cleaned_codes });\n        this._dialog_ref.close();\n    }\n\n    public trackByFn(idx: number, item: any) {\n        return idx;\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { stringToMinutes } from 'libs/events/src/lib/helpers';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { CateringRuleset } from './catering.interfaces';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\n\nconst RULE_REQUESTS: Record<string, Observable<CateringRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as CateringRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as CateringRuleset[]\n            ),\n            catchError((e) => of([] as CateringRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: CateringRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","import addHours from \"../addHours/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subHours\n * @category Hour Helpers\n * @summary Subtract the specified number of hours from the given date.\n *\n * @description\n * Subtract the specified number of hours from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of hours to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the hours subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 2 hours from 11 July 2014 01:00:00:\n * const result = subHours(new Date(2014, 6, 11, 1, 0), 2)\n * //=> Thu Jul 10 2014 23:00:00\n */\nexport default function subHours(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addHours(dirtyDate, -amount);\n}","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n","import * as i1 from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, forwardRef, EventEmitter, Directive, Optional, Inject, ContentChildren, Input, Output, Component, ViewEncapsulation, ChangeDetectionStrategy, Attribute, ViewChild, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i2 from '@angular/material/core';\nimport { mixinDisableRipple, MatCommonModule, MatRippleModule } from '@angular/material/core';\n\n/**\n * Injection token that can be used to configure the\n * default options for all button toggles within an app.\n */\nconst MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS = new InjectionToken('MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS');\n/**\n * Injection token that can be used to reference instances of `MatButtonToggleGroup`.\n * It serves as alternative token to the actual `MatButtonToggleGroup` class which\n * could cause unnecessary retention of the class and its component metadata.\n */\nconst MAT_BUTTON_TOGGLE_GROUP = new InjectionToken('MatButtonToggleGroup');\n/**\n * Provider Expression that allows mat-button-toggle-group to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)].\n * @docs-private\n */\nconst MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MatButtonToggleGroup),\n    multi: true,\n};\n// Counter used to generate unique IDs.\nlet uniqueIdCounter = 0;\n/** Change event object emitted by button toggle. */\nclass MatButtonToggleChange {\n    constructor(\n    /** The button toggle that emits the event. */\n    source, \n    /** The value assigned to the button toggle. */\n    value) {\n        this.source = source;\n        this.value = value;\n    }\n}\n/** Exclusive selection button toggle group that behaves like a radio-button group. */\nclass MatButtonToggleGroup {\n    /** `name` attribute for the underlying `input` element. */\n    get name() {\n        return this._name;\n    }\n    set name(value) {\n        this._name = value;\n        this._markButtonsForCheck();\n    }\n    /** Whether the toggle group is vertical. */\n    get vertical() {\n        return this._vertical;\n    }\n    set vertical(value) {\n        this._vertical = coerceBooleanProperty(value);\n    }\n    /** Value of the toggle group. */\n    get value() {\n        const selected = this._selectionModel ? this._selectionModel.selected : [];\n        if (this.multiple) {\n            return selected.map(toggle => toggle.value);\n        }\n        return selected[0] ? selected[0].value : undefined;\n    }\n    set value(newValue) {\n        this._setSelectionByValue(newValue);\n        this.valueChange.emit(this.value);\n    }\n    /** Selected button toggles in the group. */\n    get selected() {\n        const selected = this._selectionModel ? this._selectionModel.selected : [];\n        return this.multiple ? selected : selected[0] || null;\n    }\n    /** Whether multiple button toggles can be selected. */\n    get multiple() {\n        return this._multiple;\n    }\n    set multiple(value) {\n        this._multiple = coerceBooleanProperty(value);\n        this._markButtonsForCheck();\n    }\n    /** Whether multiple button toggle group is disabled. */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._markButtonsForCheck();\n    }\n    constructor(_changeDetector, defaultOptions) {\n        this._changeDetector = _changeDetector;\n        this._vertical = false;\n        this._multiple = false;\n        this._disabled = false;\n        /**\n         * The method to be called in order to update ngModel.\n         * Now `ngModel` binding is not supported in multiple selection mode.\n         */\n        this._controlValueAccessorChangeFn = () => { };\n        /** onTouch function registered via registerOnTouch (ControlValueAccessor). */\n        this._onTouched = () => { };\n        this._name = `mat-button-toggle-group-${uniqueIdCounter++}`;\n        /**\n         * Event that emits whenever the value of the group changes.\n         * Used to facilitate two-way data binding.\n         * @docs-private\n         */\n        this.valueChange = new EventEmitter();\n        /** Event emitted when the group's value changes. */\n        this.change = new EventEmitter();\n        this.appearance =\n            defaultOptions && defaultOptions.appearance ? defaultOptions.appearance : 'standard';\n    }\n    ngOnInit() {\n        this._selectionModel = new SelectionModel(this.multiple, undefined, false);\n    }\n    ngAfterContentInit() {\n        this._selectionModel.select(...this._buttonToggles.filter(toggle => toggle.checked));\n    }\n    /**\n     * Sets the model value. Implemented as part of ControlValueAccessor.\n     * @param value Value to be set to the model.\n     */\n    writeValue(value) {\n        this.value = value;\n        this._changeDetector.markForCheck();\n    }\n    // Implemented as part of ControlValueAccessor.\n    registerOnChange(fn) {\n        this._controlValueAccessorChangeFn = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /** Dispatch change event with current selection and group value. */\n    _emitChangeEvent(toggle) {\n        const event = new MatButtonToggleChange(toggle, this.value);\n        this._controlValueAccessorChangeFn(event.value);\n        this.change.emit(event);\n    }\n    /**\n     * Syncs a button toggle's selected state with the model value.\n     * @param toggle Toggle to be synced.\n     * @param select Whether the toggle should be selected.\n     * @param isUserInput Whether the change was a result of a user interaction.\n     * @param deferEvents Whether to defer emitting the change events.\n     */\n    _syncButtonToggle(toggle, select, isUserInput = false, deferEvents = false) {\n        // Deselect the currently-selected toggle, if we're in single-selection\n        // mode and the button being toggled isn't selected at the moment.\n        if (!this.multiple && this.selected && !toggle.checked) {\n            this.selected.checked = false;\n        }\n        if (this._selectionModel) {\n            if (select) {\n                this._selectionModel.select(toggle);\n            }\n            else {\n                this._selectionModel.deselect(toggle);\n            }\n        }\n        else {\n            deferEvents = true;\n        }\n        // We need to defer in some cases in order to avoid \"changed after checked errors\", however\n        // the side-effect is that we may end up updating the model value out of sequence in others\n        // The `deferEvents` flag allows us to decide whether to do it on a case-by-case basis.\n        if (deferEvents) {\n            Promise.resolve().then(() => this._updateModelValue(toggle, isUserInput));\n        }\n        else {\n            this._updateModelValue(toggle, isUserInput);\n        }\n    }\n    /** Checks whether a button toggle is selected. */\n    _isSelected(toggle) {\n        return this._selectionModel && this._selectionModel.isSelected(toggle);\n    }\n    /** Determines whether a button toggle should be checked on init. */\n    _isPrechecked(toggle) {\n        if (typeof this._rawValue === 'undefined') {\n            return false;\n        }\n        if (this.multiple && Array.isArray(this._rawValue)) {\n            return this._rawValue.some(value => toggle.value != null && value === toggle.value);\n        }\n        return toggle.value === this._rawValue;\n    }\n    /** Updates the selection state of the toggles in the group based on a value. */\n    _setSelectionByValue(value) {\n        this._rawValue = value;\n        if (!this._buttonToggles) {\n            return;\n        }\n        if (this.multiple && value) {\n            if (!Array.isArray(value) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throw Error('Value must be an array in multiple-selection mode.');\n            }\n            this._clearSelection();\n            value.forEach((currentValue) => this._selectValue(currentValue));\n        }\n        else {\n            this._clearSelection();\n            this._selectValue(value);\n        }\n    }\n    /** Clears the selected toggles. */\n    _clearSelection() {\n        this._selectionModel.clear();\n        this._buttonToggles.forEach(toggle => (toggle.checked = false));\n    }\n    /** Selects a value if there's a toggle that corresponds to it. */\n    _selectValue(value) {\n        const correspondingOption = this._buttonToggles.find(toggle => {\n            return toggle.value != null && toggle.value === value;\n        });\n        if (correspondingOption) {\n            correspondingOption.checked = true;\n            this._selectionModel.select(correspondingOption);\n        }\n    }\n    /** Syncs up the group's value with the model and emits the change event. */\n    _updateModelValue(toggle, isUserInput) {\n        // Only emit the change event for user input.\n        if (isUserInput) {\n            this._emitChangeEvent(toggle);\n        }\n        // Note: we emit this one no matter whether it was a user interaction, because\n        // it is used by Angular to sync up the two-way data binding.\n        this.valueChange.emit(this.value);\n    }\n    /** Marks all of the child button toggles to be checked. */\n    _markButtonsForCheck() {\n        this._buttonToggles?.forEach(toggle => toggle._markForCheck());\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleGroup, deps: [{ token: i0.ChangeDetectorRef }, { token: MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatButtonToggleGroup, selector: \"mat-button-toggle-group\", inputs: { appearance: \"appearance\", name: \"name\", vertical: \"vertical\", value: \"value\", multiple: \"multiple\", disabled: \"disabled\" }, outputs: { valueChange: \"valueChange\", change: \"change\" }, host: { attributes: { \"role\": \"group\" }, properties: { \"attr.aria-disabled\": \"disabled\", \"class.mat-button-toggle-vertical\": \"vertical\", \"class.mat-button-toggle-group-appearance-standard\": \"appearance === \\\"standard\\\"\" }, classAttribute: \"mat-button-toggle-group\" }, providers: [\n            MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,\n            { provide: MAT_BUTTON_TOGGLE_GROUP, useExisting: MatButtonToggleGroup },\n        ], queries: [{ propertyName: \"_buttonToggles\", predicate: i0.forwardRef(function () { return MatButtonToggle; }), descendants: true }], exportAs: [\"matButtonToggleGroup\"], ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleGroup, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-button-toggle-group',\n                    providers: [\n                        MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,\n                        { provide: MAT_BUTTON_TOGGLE_GROUP, useExisting: MatButtonToggleGroup },\n                    ],\n                    host: {\n                        'role': 'group',\n                        'class': 'mat-button-toggle-group',\n                        '[attr.aria-disabled]': 'disabled',\n                        '[class.mat-button-toggle-vertical]': 'vertical',\n                        '[class.mat-button-toggle-group-appearance-standard]': 'appearance === \"standard\"',\n                    },\n                    exportAs: 'matButtonToggleGroup',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]\n                }] }]; }, propDecorators: { _buttonToggles: [{\n                type: ContentChildren,\n                args: [forwardRef(() => MatButtonToggle), {\n                        // Note that this would technically pick up toggles\n                        // from nested groups, but that's not a case that we support.\n                        descendants: true,\n                    }]\n            }], appearance: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], vertical: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], valueChange: [{\n                type: Output\n            }], multiple: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], change: [{\n                type: Output\n            }] } });\n// Boilerplate for applying mixins to the MatButtonToggle class.\n/** @docs-private */\nconst _MatButtonToggleBase = mixinDisableRipple(class {\n});\n/** Single button inside of a toggle group. */\nclass MatButtonToggle extends _MatButtonToggleBase {\n    /** Unique ID for the underlying `button` element. */\n    get buttonId() {\n        return `${this.id}-button`;\n    }\n    /** The appearance style of the button. */\n    get appearance() {\n        return this.buttonToggleGroup ? this.buttonToggleGroup.appearance : this._appearance;\n    }\n    set appearance(value) {\n        this._appearance = value;\n    }\n    /** Whether the button is checked. */\n    get checked() {\n        return this.buttonToggleGroup ? this.buttonToggleGroup._isSelected(this) : this._checked;\n    }\n    set checked(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._checked) {\n            this._checked = newValue;\n            if (this.buttonToggleGroup) {\n                this.buttonToggleGroup._syncButtonToggle(this, this._checked);\n            }\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /** Whether the button is disabled. */\n    get disabled() {\n        return this._disabled || (this.buttonToggleGroup && this.buttonToggleGroup.disabled);\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    constructor(toggleGroup, _changeDetectorRef, _elementRef, _focusMonitor, defaultTabIndex, defaultOptions) {\n        super();\n        this._changeDetectorRef = _changeDetectorRef;\n        this._elementRef = _elementRef;\n        this._focusMonitor = _focusMonitor;\n        this._checked = false;\n        /**\n         * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n         */\n        this.ariaLabelledby = null;\n        this._disabled = false;\n        /** Event emitted when the group value changes. */\n        this.change = new EventEmitter();\n        const parsedTabIndex = Number(defaultTabIndex);\n        this.tabIndex = parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\n        this.buttonToggleGroup = toggleGroup;\n        this.appearance =\n            defaultOptions && defaultOptions.appearance ? defaultOptions.appearance : 'standard';\n    }\n    ngOnInit() {\n        const group = this.buttonToggleGroup;\n        this.id = this.id || `mat-button-toggle-${uniqueIdCounter++}`;\n        if (group) {\n            if (group._isPrechecked(this)) {\n                this.checked = true;\n            }\n            else if (group._isSelected(this) !== this._checked) {\n                // As as side effect of the circular dependency between the toggle group and the button,\n                // we may end up in a state where the button is supposed to be checked on init, but it\n                // isn't, because the checked value was assigned too early. This can happen when Ivy\n                // assigns the static input value before the `ngOnInit` has run.\n                group._syncButtonToggle(this, this._checked);\n            }\n        }\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this._elementRef, true);\n    }\n    ngOnDestroy() {\n        const group = this.buttonToggleGroup;\n        this._focusMonitor.stopMonitoring(this._elementRef);\n        // Remove the toggle from the selection once it's destroyed. Needs to happen\n        // on the next tick in order to avoid \"changed after checked\" errors.\n        if (group && group._isSelected(this)) {\n            group._syncButtonToggle(this, false, false, true);\n        }\n    }\n    /** Focuses the button. */\n    focus(options) {\n        this._buttonElement.nativeElement.focus(options);\n    }\n    /** Checks the button toggle due to an interaction with the underlying native button. */\n    _onButtonClick() {\n        const newChecked = this._isSingleSelector() ? true : !this._checked;\n        if (newChecked !== this._checked) {\n            this._checked = newChecked;\n            if (this.buttonToggleGroup) {\n                this.buttonToggleGroup._syncButtonToggle(this, this._checked, true);\n                this.buttonToggleGroup._onTouched();\n            }\n        }\n        // Emit a change event when it's the single selector\n        this.change.emit(new MatButtonToggleChange(this, this.value));\n    }\n    /**\n     * Marks the button toggle as needing checking for change detection.\n     * This method is exposed because the parent button toggle group will directly\n     * update bound properties of the radio button.\n     */\n    _markForCheck() {\n        // When the group value changes, the button will not be notified.\n        // Use `markForCheck` to explicit update button toggle's status.\n        this._changeDetectorRef.markForCheck();\n    }\n    /** Gets the name that should be assigned to the inner DOM node. */\n    _getButtonName() {\n        if (this._isSingleSelector()) {\n            return this.buttonToggleGroup.name;\n        }\n        return this.name || null;\n    }\n    /** Whether the toggle is in single selection mode. */\n    _isSingleSelector() {\n        return this.buttonToggleGroup && !this.buttonToggleGroup.multiple;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggle, deps: [{ token: MAT_BUTTON_TOGGLE_GROUP, optional: true }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i1.FocusMonitor }, { token: 'tabindex', attribute: true }, { token: MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.0\", type: MatButtonToggle, selector: \"mat-button-toggle\", inputs: { disableRipple: \"disableRipple\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], id: \"id\", name: \"name\", value: \"value\", tabIndex: \"tabIndex\", appearance: \"appearance\", checked: \"checked\", disabled: \"disabled\" }, outputs: { change: \"change\" }, host: { attributes: { \"role\": \"presentation\" }, listeners: { \"focus\": \"focus()\" }, properties: { \"class.mat-button-toggle-standalone\": \"!buttonToggleGroup\", \"class.mat-button-toggle-checked\": \"checked\", \"class.mat-button-toggle-disabled\": \"disabled\", \"class.mat-button-toggle-appearance-standard\": \"appearance === \\\"standard\\\"\", \"attr.aria-label\": \"null\", \"attr.aria-labelledby\": \"null\", \"attr.id\": \"id\", \"attr.name\": \"null\" }, classAttribute: \"mat-button-toggle\" }, viewQueries: [{ propertyName: \"_buttonElement\", first: true, predicate: [\"button\"], descendants: true }], exportAs: [\"matButtonToggle\"], usesInheritance: true, ngImport: i0, template: \"<button #button class=\\\"mat-button-toggle-button mat-focus-indicator\\\"\\n        type=\\\"button\\\"\\n        [id]=\\\"buttonId\\\"\\n        [attr.tabindex]=\\\"disabled ? -1 : tabIndex\\\"\\n        [attr.aria-pressed]=\\\"checked\\\"\\n        [disabled]=\\\"disabled || null\\\"\\n        [attr.name]=\\\"_getButtonName()\\\"\\n        [attr.aria-label]=\\\"ariaLabel\\\"\\n        [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n        (click)=\\\"_onButtonClick()\\\">\\n  <span class=\\\"mat-button-toggle-label-content\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</button>\\n\\n<span class=\\\"mat-button-toggle-focus-overlay\\\"></span>\\n<span class=\\\"mat-button-toggle-ripple\\\" matRipple\\n     [matRippleTrigger]=\\\"button\\\"\\n     [matRippleDisabled]=\\\"this.disableRipple || this.disabled\\\">\\n</span>\\n\", styles: [\".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\"], dependencies: [{ kind: \"directive\", type: i2.MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggle, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-button-toggle', encapsulation: ViewEncapsulation.None, exportAs: 'matButtonToggle', changeDetection: ChangeDetectionStrategy.OnPush, inputs: ['disableRipple'], host: {\n                        '[class.mat-button-toggle-standalone]': '!buttonToggleGroup',\n                        '[class.mat-button-toggle-checked]': 'checked',\n                        '[class.mat-button-toggle-disabled]': 'disabled',\n                        '[class.mat-button-toggle-appearance-standard]': 'appearance === \"standard\"',\n                        'class': 'mat-button-toggle',\n                        '[attr.aria-label]': 'null',\n                        '[attr.aria-labelledby]': 'null',\n                        '[attr.id]': 'id',\n                        '[attr.name]': 'null',\n                        '(focus)': 'focus()',\n                        'role': 'presentation',\n                    }, template: \"<button #button class=\\\"mat-button-toggle-button mat-focus-indicator\\\"\\n        type=\\\"button\\\"\\n        [id]=\\\"buttonId\\\"\\n        [attr.tabindex]=\\\"disabled ? -1 : tabIndex\\\"\\n        [attr.aria-pressed]=\\\"checked\\\"\\n        [disabled]=\\\"disabled || null\\\"\\n        [attr.name]=\\\"_getButtonName()\\\"\\n        [attr.aria-label]=\\\"ariaLabel\\\"\\n        [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n        (click)=\\\"_onButtonClick()\\\">\\n  <span class=\\\"mat-button-toggle-label-content\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</button>\\n\\n<span class=\\\"mat-button-toggle-focus-overlay\\\"></span>\\n<span class=\\\"mat-button-toggle-ripple\\\" matRipple\\n     [matRippleTrigger]=\\\"button\\\"\\n     [matRippleDisabled]=\\\"this.disableRipple || this.disabled\\\">\\n</span>\\n\", styles: [\".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\"] }]\n        }], ctorParameters: function () { return [{ type: MatButtonToggleGroup, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_GROUP]\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i1.FocusMonitor }, { type: undefined, decorators: [{\n                    type: Attribute,\n                    args: ['tabindex']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS]\n                }] }]; }, propDecorators: { ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], _buttonElement: [{\n                type: ViewChild,\n                args: ['button']\n            }], id: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], tabIndex: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], checked: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], change: [{\n                type: Output\n            }] } });\n\nclass MatButtonToggleModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, declarations: [MatButtonToggleGroup, MatButtonToggle], imports: [MatCommonModule, MatRippleModule], exports: [MatCommonModule, MatButtonToggleGroup, MatButtonToggle] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, imports: [MatCommonModule, MatRippleModule, MatCommonModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.0\", ngImport: i0, type: MatButtonToggleModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [MatCommonModule, MatRippleModule],\n                    exports: [MatCommonModule, MatButtonToggleGroup, MatButtonToggle],\n                    declarations: [MatButtonToggleGroup, MatButtonToggle],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS, MAT_BUTTON_TOGGLE_GROUP, MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR, MatButtonToggle, MatButtonToggleChange, MatButtonToggleGroup, MatButtonToggleModule };\n"],"names":["i0","ɵɵelement","BookComponent","hide_nav","localStorage","getItem","selectors","decls","vars","consts","template","BookComponent_Template","rf","ctx","ɵɵtemplate","BookComponent_topbar_0_Template","ɵɵelementStart","ɵɵelementEnd","BookComponent_footer_menu_4_Template","ɵɵproperty","ɵɵadvance","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","MatButtonToggleModule","MatBottomSheetModule","SharedExploreModule","SharedBookingsModule","SharedCateringModule","BookCodeFlowComponent","BookDeskFlowComponent","DeskFlowConfirmComponent","DeskFlowFormComponent","DeskFlowDetailedFormComponent","DeskFlowMapComponent","FlowSuccessComponent","BookSpaceFlowComponent","SpaceFlowConfirmComponent","DetailBookSpaceFormComponent","SpaceFlowFindItemComponent","SpaceFlowFindComponent","SpaceFlowFormComponent","SharedComponentModule","BookParkingFlowComponent","ParkingFlowMapComponent","ParkingFlowConfirmComponent","BookMeetingFlowComponent","MeetingFlowFormComponent","MeetingFormDetailsComponent","MeetingFlowConfirmComponent","MeetingFlowSuccessComponent","NewDeskFlowComponent","NewDeskFlowFormComponent","NewDeskFormDetailsComponent","NewDeskFlowConfirmComponent","NewDeskFlowSuccessComponent","VisitorFlowComponent","NewParkingFlowComponent","ParkingFlowFormComponent","ParkingFlowSuccessComponent","ParkingFormDetailsComponent","MeetingFlowConfirmModalComponent","NewParkingFlowConfirmComponent","CodeFlowSuccessComponent","CodeFlowErrorComponent","BookLockerFlowComponent","BookLockerFlowSuccessComponent","BookLockerFlowFormComponent","BookLockerFlowConfirmComponent","LockerFormDetailsComponent","ROUTES","path","component","children","redirectTo","BookModule","forChild","declarations","imports","i1","ActivatedRoute","AsyncHandler","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵtextInterpolate1","ctx_r2","asset_id","ɵɵpureFunction0","_c0","ɵɵpureFunction1","_c1","ctx_r3","ɵɵpipeBind1","_c2","ctx_r4","constructor","_route","type","ngOnInit","subscription","queryParamMap","subscribe","params","get","ɵɵdirectiveInject","features","ɵɵInheritDefinitionFeature","CodeFlowErrorComponent_Template","CodeFlowErrorComponent_ng_container_8_Template","CodeFlowErrorComponent_ng_container_9_Template","CodeFlowErrorComponent_ng_container_10_Template","CodeFlowErrorComponent_a_12_Template","CodeFlowErrorComponent_a_13_Template","_c3","CodeFlowSuccessComponent_Template","EventEmitter","ElementRef","Router","Booking","BookingFormService","checkinBooking","queryBookings","currentUser","notifyError","CalendarEvent","checkinEventGuest","EventFormService","queryEvents","showSystem","addMinutes","endOfDay","getUnixTime","QrScanner","BookCodeFlowComponent_div_0_div_4_Template","BookCodeFlowComponent_div_0_div_5_Template","ɵɵlistener","BookCodeFlowComponent_div_0_Template_input_ngModelChange_10_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","room_code","BookCodeFlowComponent_div_0_Template_button_click_12_listener","ctx_r8","is_scanning","BookCodeFlowComponent_div_0_Template_button_click_14_listener","ctx_r9","ctx_r0","ɵɵclassProp","ɵɵclassMap","_router","_event_form","_booking_form","menu","loading","ngOnDestroy","_video_el","nativeElement","srcObject","getTracks","forEach","track","stop","_qr_scanner","has","_checkinBooking","_checkinEvent","ngAfterViewInit","navigator","mediaDevices","getUserMedia","video","then","stream","catch","e","console","error","r","handleQrCode","start","result","url","hashindex","indexOf","regex","match","exec","navigate","split","_this","_asyncToGenerator","bookings","period_start","Date","now","period_end","email","toPromise","_","item","find","id","queryParams","newForm","setOptions","space_id","_this2","resources","s","space","system","i2","i3","viewQuery","BookCodeFlowComponent_Query","BookCodeFlowComponent_div_0_Template","BookCodeFlowComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","_r1","OrganisationService","first","last_success","user_email","extension_data","secondary_resource","view","_state","_org","initialised","pipe","loadForm","form","patchValue","booking_type","paramMap","param","setView","BookDeskFlowComponent_Template","BookDeskFlowComponent_ng_container_2_Template","BookDeskFlowComponent_ng_container_3_Template","BookDeskFlowComponent_ng_container_4_Template","BookDeskFlowComponent_ng_container_5_Template","DeskFlowConfirmComponent_Template","FormGroup","SettingsService","addDays","DeskFlowDetailedFormComponent_form_0_div_1_Template_mat_button_toggle_group_ngModelChange_1_listener","_r12","ctx_r11","group","tmp_0_0","ctx_r1","options","bld_r14","display_name","name","DeskFlowDetailedFormComponent_form_0_div_8_Template_mat_select_ngModelChange_4_listener","_r16","ctx_r15","building","ctx_r17","zone_id","DeskFlowDetailedFormComponent_form_0_div_8_mat_option_5_Template","buildings","lvl_r19","DeskFlowDetailedFormComponent_form_0_div_10_Template_mat_select_ngModelChange_4_listener","_r21","ctx_r20","DeskFlowDetailedFormComponent_form_0_div_10_mat_option_5_Template","levels","DeskFlowDetailedFormComponent_form_0_div_12_Template_a_time_field_ngModelChange_4_listener","_r24","ctx_r23","date","DeskFlowDetailedFormComponent_form_0_div_12_mat_checkbox_9_Template","value","tmp_2_0","all_day","allow_all_day","DeskFlowDetailedFormComponent_form_0_div_15_Template_a_user_list_field_ngModelChange_3_listener","_r26","ctx_r25","members","tmp_1_0","ctx_r7","opt_r28","ɵɵtextInterpolate","DeskFlowDetailedFormComponent_form_0_div_17_Template_mat_select_ngModelChange_5_listener","_r30","ctx_r29","pattern","DeskFlowDetailedFormComponent_form_0_div_17_mat_option_9_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template_a_date_field_ngModelChange_13_listener","ctx_r31","recurr_end","recurrence_pattern","recurrence_options","tmp_3_0","tmp_4_0","book_until","opt_r33","DeskFlowDetailedFormComponent_form_0_div_18_Template_mat_select_ngModelChange_4_listener","_r35","ctx_r34","DeskFlowDetailedFormComponent_form_0_div_18_mat_option_6_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template_mat_checkbox_ngModelChange_1_listener","_r37","ctx_r36","ctx_r10","DeskFlowDetailedFormComponent_form_0_div_1_Template","DeskFlowDetailedFormComponent_form_0_div_8_Template","DeskFlowDetailedFormComponent_form_0_div_10_Template","DeskFlowDetailedFormComponent_form_0_div_12_Template","DeskFlowDetailedFormComponent_form_0_div_13_Template","DeskFlowDetailedFormComponent_form_0_div_14_Template","DeskFlowDetailedFormComponent_form_0_div_15_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template","DeskFlowDetailedFormComponent_form_0_div_18_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template","allow_groups","length","allow_time_changes","can_book_for_others","needs_reason","tmp_8_0","can_recurr","tmp_10_0","can_book_lockers","bld","_settings","building_list","active_levels","o","inputs","DeskFlowDetailedFormComponent_Template","DeskFlowDetailedFormComponent_form_0_Template","findNearbyFeature","getInvalidFields","randomInt","setHours","roundToNearestMinutes","take","DeskFlowFormComponent_button_12_Template_button_click_0_listener","_r4","findDesk","is_edit","DeskFlowFormComponent_ng_template_13_Template_button_click_0_listener","_r6","ctx_r5","allocateDesk","auto_allocation","time","level","quick_times","valueOf","clearForm","levelsForBuilding","quickBook","nearestTo","title","markAllAsTouched","valid","join","settings","centered_at","x","y","groups","lvl","levelWithID","desk_list","available_resources","desk_id","map_id","map","desk","asset_name","description","zones","zone","parent_id","confirmPost","i4","DeskFlowFormComponent_Template","DeskFlowFormComponent_Template_button_click_6_listener","DeskFlowFormComponent_button_12_Template","DeskFlowFormComponent_ng_template_13_Template","formatRecurrence","ExploreStateService","format","BehaviorSubject","combineLatest","debounceTime","startWith","feat_r7","DeskFlowMapComponent_li_22_Template_li_click_0_listener","restoredCtx","_r9","desk_r5","$implicit","setActiveDesk","DeskFlowMapComponent_li_22_div_9_Template","active_desk","ɵɵattribute","DeskFlowMapComponent_div_24_div_9_Template","positions","zoom","center","styles","actions","labels","DeskFlowMapComponent_div_27_Template_button_click_7_listener","DeskFlowMapComponent_div_27_Template_button_click_9_listener","ctx_r13","makeBooking","_active_desk","getValue","hide_map","_explore","map_url","map_styles","map_positions","map_features","map_actions","map_labels","desks","option_details","valueChanges","recurrence","end","interval","days_of_week","details","setLevel","assets","available","status","active","bookable","d","fill","opacity","push","action","callback","setStyles","setActions","setFeatures","location","content","next","DeskFlowMapComponent_Template","DeskFlowMapComponent_Template_div_click_15_listener","stopPropagation","preventDefault","DeskFlowMapComponent_li_22_Template","DeskFlowMapComponent_div_24_Template","DeskFlowMapComponent_div_25_Template","DeskFlowMapComponent_div_27_Template","_r0","tmp_6_0","extra","route","is_host","calendar","FlowSuccessComponent_Template","FlowSuccessComponent_br_8_Template","listenForStatusChanges","BookLockerFlowComponent_Template","BookLockerFlowComponent_locker_flow_success_1_Template","BookLockerFlowComponent_locker_flow_confirm_2_Template","BookLockerFlowComponent_locker_flow_form_3_Template","MatBottomSheetRef","BookLockerFlowConfirmComponent_button_0_Template_button_click_0_listener","dismiss","feat_r8","BookLockerFlowConfirmComponent_section_25_ng_container_11_Template","booking_asset","asset_r10","amount","ɵɵi18n","BookLockerFlowConfirmComponent_section_26_div_6_Template","ɵɵi18nExp","assets_count","ɵɵi18nApply","BookLockerFlowConfirmComponent_button_28_Template_button_click_0_listener","postForm","booking","reduce","a","b","l","address","_sheet_ref","this","show_close","postFormForGroup","i18n_0","ngI18nClosureMode","$localize","BookLockerFlowConfirmComponent_button_0_Template","BookLockerFlowConfirmComponent_mat_spinner_4_Template","BookLockerFlowConfirmComponent_section_25_Template","BookLockerFlowConfirmComponent_section_26_Template","BookLockerFlowConfirmComponent_button_28_Template","ɵɵpipeBind2","duration","MatBottomSheet","isBefore","startOfMinute","_bottom_sheet","viewConfirm","sheet_ref","open","instance","afterDismissed","i5","BookLockerFlowFormComponent_Template_button_click_7_listener","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","outlook_link","ɵɵsanitizeUrl","google_link","ical_link","locker","last_event","show_links","viewCalendarLinks","openBookingLinkModal","ɵɵi18nStart","BookLockerFlowSuccessComponent_span_7_Template","BookLockerFlowSuccessComponent_span_8_Template","ɵɵi18nEnd","BookLockerFlowSuccessComponent_div_12_Template","attendees","_c12","SimpleChanges","b_r3","LockerFormDetailsComponent_div_0_Template_mat_select_ngModelChange_13_listener","_r5","LockerFormDetailsComponent_div_0_mat_option_14_Template","LockerFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_27_listener","LockerFormDetailsComponent_div_0_section_33_Template","_c14","custom_durations","contains","from_id","setFeature","f","ngOnChanges","changes","list","setBookingAsset","_setCustomDateOptions","i","undefined","selected_locker","bank_id","outputs","ɵɵNgOnChangesFeature","LockerFormDetailsComponent_div_0_Template","BookMeetingFlowComponent_Template","BookMeetingFlowComponent_meeting_flow_success_1_Template","BookMeetingFlowComponent_meeting_flow_confirm_2_Template","BookMeetingFlowComponent_meeting_flow_form_3_Template","MatDialog","MatDialogRef","openConfirmModal","SpacePipe","ɵɵtextInterpolate2","s_r7","MeetingFlowConfirmModalComponent_div_27_ng_container_6_Template","event","user_r10","MeetingFlowConfirmModalComponent_div_28_mat_chip_9_Template","opt_r17","item_r14","unit_price_with_options","ctx_r16","code","MeetingFlowConfirmModalComponent_div_29_div_1_div_7_div_6_Template","MeetingFlowConfirmModalComponent_div_29_div_1_div_7_div_7_Template","quantity","option_list","total_cost","MeetingFlowConfirmModalComponent_div_29_div_1_div_7_Template","catering_order","item_r20","MeetingFlowConfirmModalComponent_div_29_div_2_div_6_Template","ctx_r12","MeetingFlowConfirmModalComponent_div_29_div_1_Template","MeetingFlowConfirmModalComponent_div_29_div_2_Template","catering","body","ɵɵsanitizeHtml","MeetingFlowConfirmModalComponent_button_32_Template_button_click_0_listener","_r22","ctx_r21","_space","_space_pipe","transform","getRawValue","includes","currency_code","_dialog_ref","_dialog","items","icon","reason","close","resp","cancelPost","cancelPostForm","ɵɵProvidersFeature","i18n_5","MeetingFlowConfirmModalComponent_button_1_Template","MeetingFlowConfirmModalComponent_div_27_Template","MeetingFlowConfirmModalComponent_div_28_Template","MeetingFlowConfirmModalComponent_div_29_Template","MeetingFlowConfirmModalComponent_div_30_Template","MeetingFlowConfirmModalComponent_button_32_Template","MeetingFlowConfirmComponent_button_0_Template_button_click_0_listener","user_r9","MeetingFlowConfirmComponent_section_25_mat_chip_9_Template","s_r11","MeetingFlowConfirmComponent_section_26_ng_container_6_Template","MeetingFlowConfirmComponent_button_28_Template_button_click_0_listener","_r13","i18n_3","MeetingFlowConfirmComponent_button_0_Template","MeetingFlowConfirmComponent_mat_spinner_4_Template","MeetingFlowConfirmComponent_section_25_Template","MeetingFlowConfirmComponent_section_26_Template","MeetingFlowConfirmComponent_button_28_Template","TemplateRef","ANIMATION_SHOW_CONTRACT_EXPAND","notifyWarn","UserIdleTimeService","FindAvailabilityModalComponent","CateringOrderStateService","timer","tap","MeetingFlowFormComponent_form_5_section_14_Template_button_click_8_listener","findAvailableTime","MeetingFlowFormComponent_form_5_section_14_Template_button_click_11_listener","hide_block","allow_externals","code_r13","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_mat_form_field_openedChange_0_listener","_r15","ctx_r14","focusInput","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_input_ngModelChange_2_listener","code_filter","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_mat_option_5_Template","_c4","filtered_codes","has_codes","MeetingFlowFormComponent_form_5_section_29_Template_button_click_8_listener","_r18","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template","MeetingFlowFormComponent_form_5_section_29_mat_form_field_15_Template","ɵɵpureFunction3","_c5","MeetingFlowFormComponent_form_5_section_31_Template_button_click_9_listener","_r20","ctx_r19","has_catering","has_assets","MeetingFlowFormComponent_form_5_Template_button_click_9_listener","MeetingFlowFormComponent_form_5_section_14_Template","MeetingFlowFormComponent_form_5_Template_button_click_23_listener","MeetingFlowFormComponent_form_5_div_27_Template","MeetingFlowFormComponent_form_5_section_29_Template","MeetingFlowFormComponent_form_5_section_31_Template","MeetingFlowFormComponent_form_5_section_32_Template","MeetingFlowFormComponent_form_5_Template_button_click_34_listener","ctx_r24","MeetingFlowFormComponent_form_5_Template_button_click_37_listener","hide_attendees","strict_capacity_check","total_capacity","hide_notes","c","capacity","attendee_count","user","count","toLowerCase","_catering","_idle","available_menu","charge_codes","setValidators","updateValueAndValidity","filter","resetForm","host","openEventLinkModal","window","innerWidth","dialog_ref","componentInstance","afterClosed","unsubWith","controls","_checkCateringEligibility","idleFor","unsub","reload","timeout","_input_el","focus","organiser","ref","data","users","setFilters","search","tags","categories","filtered_menu","disabled_rooms","availability","can_cater","every","hide_for_zones","z","disable","enable","i6","i7","MeetingFlowFormComponent_Query","MeetingFlowFormComponent_form_5_Template","MeetingFlowSuccessComponent_span_8_span_2_Template","MeetingFlowSuccessComponent_span_8_Template","MeetingFlowSuccessComponent_span_9_Template","MeetingFormDetailsComponent_div_0_Template_a_date_field_ngModelChange_19_listener","MeetingFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_29_listener","MeetingFormDetailsComponent_div_0_Template_a_duration_field_ngModelChange_36_listener","MeetingFormDetailsComponent_div_0_mat_checkbox_38_Template","MeetingFormDetailsComponent_div_0_div_39_Template","MeetingFormDetailsComponent_div_0_div_40_Template","end_date","max_duration","allow_recurrence","MeetingFormDetailsComponent_Template","MeetingFormDetailsComponent_div_0_Template","Desk","NewDeskFlowComponent_Template","NewDeskFlowComponent_ng_container_2_Template","NewDeskFlowComponent_ng_container_3_Template","NewDeskFlowConfirmComponent_button_0_Template_button_click_0_listener","feat_r9","NewDeskFlowConfirmComponent_section_25_ng_container_16_Template","asset_r11","NewDeskFlowConfirmComponent_section_26_div_6_Template","NewDeskFlowConfirmComponent_button_29_Template_button_click_0_listener","needs_locker","NewDeskFlowConfirmComponent_button_0_Template","NewDeskFlowConfirmComponent_mat_spinner_4_Template","NewDeskFlowConfirmComponent_section_25_Template","NewDeskFlowConfirmComponent_section_26_Template","NewDeskFlowConfirmComponent_section_27_Template","NewDeskFlowConfirmComponent_button_29_Template","NewDeskFlowFormComponent_Template_button_click_7_listener","NewDeskFlowSuccessComponent_span_7_Template","NewDeskFlowSuccessComponent_span_8_Template","NewDeskFlowSuccessComponent_div_12_Template","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_1_listener","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_11_listener","tmp_5_0","tmp_7_0","NewDeskFormDetailsComponent_div_0_div_38_Template_mat_checkbox_ngModelChange_2_listener","_c20","NewDeskFormDetailsComponent_div_0_section_39_Template_a_user_list_field_ngModelChange_8_listener","_r14","_c23","NewDeskFormDetailsComponent_div_0_section_41_p_8_Template","NewDeskFormDetailsComponent_div_0_section_1_Template","NewDeskFormDetailsComponent_div_0_div_8_Template","NewDeskFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_31_listener","_r17","NewDeskFormDetailsComponent_div_0_mat_checkbox_37_Template","NewDeskFormDetailsComponent_div_0_div_38_Template","NewDeskFormDetailsComponent_div_0_section_39_Template","NewDeskFormDetailsComponent_div_0_section_41_Template","NewDeskFormDetailsComponent_div_0_section_42_Template","tmp_12_0","selected_desk","NewDeskFormDetailsComponent_div_0_Template","NewParkingFlowComponent_Template","NewParkingFlowComponent_parking_flow_success_1_Template","NewParkingFlowComponent_parking_flow_confirm_2_Template","NewParkingFlowComponent_parking_flow_form_3_Template","NewParkingFlowConfirmComponent_button_0_Template_button_click_0_listener","NewParkingFlowConfirmComponent_section_25_ng_container_16_Template","NewParkingFlowConfirmComponent_section_26_div_6_Template","NewParkingFlowConfirmComponent_button_28_Template_button_click_0_listener","NewParkingFlowConfirmComponent_button_0_Template","NewParkingFlowConfirmComponent_mat_spinner_4_Template","NewParkingFlowConfirmComponent_section_25_Template","NewParkingFlowConfirmComponent_section_26_Template","NewParkingFlowConfirmComponent_button_28_Template","ParkingFlowFormComponent_Template_button_click_12_listener","ParkingFlowFormComponent_Template_button_click_24_listener","ParkingFlowFormComponent_Template_button_click_30_listener","ParkingFlowFormComponent_Template_button_click_32_listener","resource","_c6","bld_r3","ParkingFormDetailsComponent_div_0_Template_mat_select_ngModelChange_7_listener","setBuilding","ParkingFormDetailsComponent_div_0_mat_option_9_Template","ParkingFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_33_listener","ParkingFormDetailsComponent_div_0_mat_checkbox_39_Template","_c18","active_building","ParkingFormDetailsComponent_div_0_Template","BookParkingFlowComponent_Template","BookParkingFlowComponent_ng_container_2_Template","BookParkingFlowComponent_ng_container_3_Template","BookParkingFlowComponent_ng_container_4_Template","ParkingFlowConfirmComponent_Template","MAP_FEATURE_DATA","ExploreParkingService","startOfDay","ParkingFlowMapComponent_div_0_button_2_Template_button_click_0_listener","_r10","date_r8","setDate","counts","lvl_r12","ParkingFlowMapComponent_div_0_div_5_Template_mat_select_ngModelChange_2_listener","ParkingFlowMapComponent_div_0_div_5_mat_option_4_Template","ParkingFlowMapComponent_div_0_button_10_Template_button_click_0_listener","space_r15","setActive","active_space","levelName","ParkingFlowMapComponent_div_0_div_22_p_4_Template","ParkingFlowMapComponent_div_0_div_22_Template_button_click_6_listener","reserveSpace","existing","ParkingFlowMapComponent_div_0_button_2_Template","ParkingFlowMapComponent_div_0_div_5_Template","ParkingFlowMapComponent_div_0_button_10_Template","ParkingFlowMapComponent_div_0_div_22_Template","ParkingFlowMapComponent_div_0_div_24_Template","dates","ParkingFlowMapComponent_ng_template_2_div_0_Template","SpacePingComponent","_details","ratio","zoom$","ratio$","SpacePingComponent_Template","ɵɵstyleProp","_booking","_parking","available_spaces","week_availablility","existing_event","Array","idx","events","reset","spaces","full_size","z_index","ParkingFlowMapComponent_Template","ParkingFlowMapComponent_div_0_Template","ParkingFlowMapComponent_ng_template_2_Template","BookSpaceFlowComponent_Template","BookSpaceFlowComponent_ng_container_2_Template","BookSpaceFlowComponent_ng_container_3_Template","BookSpaceFlowComponent_ng_container_4_Template","BookSpaceFlowComponent_ng_container_5_Template","SpaceFlowConfirmComponent_div_41_button_3_Template","space_r6","can_view_location","user_r8","optionsFor","item_r10","SpaceFlowConfirmComponent_div_55_div_12_div_4_Template","SpaceFlowConfirmComponent_div_55_div_12_Template_a_counter_ngModelChange_8_listener","SpaceFlowConfirmComponent_div_55_Template_button_click_7_listener","show_catering","SpaceFlowConfirmComponent_div_55_div_12_Template","item_count","show_people","show_spaces","Object","message","SpaceFlowConfirmComponent_Template","SpaceFlowConfirmComponent_span_17_Template","SpaceFlowConfirmComponent_Template_button_click_36_listener","SpaceFlowConfirmComponent_div_41_Template","SpaceFlowConfirmComponent_Template_button_click_49_listener","SpaceFlowConfirmComponent_div_54_Template","SpaceFlowConfirmComponent_div_55_Template","SpaceFlowConfirmComponent_Template_button_click_56_listener","SpaceFlowConfirmComponent_span_57_Template","SpaceFlowConfirmComponent_mat_spinner_58_Template","tmp_11_0","tmp_13_0","tmp_16_0","tmp_17_0","CateringOrder","CateringStateService","bld_r9","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template_mat_select_ngModelChange_1_listener","_r11","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_mat_option_2_Template","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template","item_r13","DetailBookSpaceFormComponent_form_0_div_19_Template_mat_select_ngModelChange_4_listener","optionsChange","emit","DetailBookSpaceFormComponent_form_0_div_19_mat_option_5_Template","features_label","hide_actions","DetailBookSpaceFormComponent_form_0_section_20_div_1_Template","DetailBookSpaceFormComponent_form_0_section_20_div_2_Template","DetailBookSpaceFormComponent_form_0_div_33_Template_an_action_field_onAction_3_listener","editCatering","DetailBookSpaceFormComponent_form_0_div_33_div_4_Template","DetailBookSpaceFormComponent_form_0_div_33_div_5_Template","DetailBookSpaceFormComponent_form_0_Template_a_time_field_ngModelChange_11_listener","_r23","ctx_r22","DetailBookSpaceFormComponent_form_0_mat_checkbox_16_Template","DetailBookSpaceFormComponent_form_0_div_18_Template","DetailBookSpaceFormComponent_form_0_div_19_Template","DetailBookSpaceFormComponent_form_0_section_20_Template","DetailBookSpaceFormComponent_form_0_div_32_Template","DetailBookSpaceFormComponent_form_0_div_33_Template","show_features","manageCateringOrder","DetailBookSpaceFormComponent_Template","DetailBookSpaceFormComponent_form_0_Template","Space","MapLocateModalComponent","bookChange","bookSpace","book","multiple","viewLocation","maxWidth","maxHeight","SpaceFlowFindItemComponent_Template","SpaceFlowFindItemComponent_Template_button_click_15_listener","SpaceFlowFindItemComponent_Template_button_click_17_listener","bld_r11","SpaceFlowFindComponent_mat_form_field_12_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_12_mat_option_3_Template","item_r15","SpaceFlowFindComponent_mat_form_field_14_Template_mat_select_ngModelChange_1_listener","zone_ids","SpaceFlowFindComponent_mat_form_field_14_mat_option_4_Template","item_r18","SpaceFlowFindComponent_mat_form_field_20_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_20_mat_option_3_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template_space_flow_find_item_bookChange_0_listener","_r27","space_r25","ctx_r26","handleBookEvent","book_space","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_Template","_r8","SpaceFlowFindComponent_div_25_div_8_Template_button_click_6_listener","_r33","space_r31","ctx_r32","SpaceFlowFindComponent_div_25_Template_button_click_4_listener","confirmBooking","SpaceFlowFindComponent_div_25_div_8_Template","SpaceFlowFindComponent_div_25_div_9_Template","_r28","space_list","opts","quick_capacities","_getSpaceList","_this3","_this4","id_list","keys","k","Promise","all","resolve","SpaceFlowFindComponent_Template","SpaceFlowFindComponent_mat_form_field_12_Template","SpaceFlowFindComponent_mat_form_field_14_Template","SpaceFlowFindComponent_Template_mat_select_ngModelChange_17_listener","SpaceFlowFindComponent_mat_option_19_Template","SpaceFlowFindComponent_mat_form_field_20_Template","SpaceFlowFindComponent_ng_container_23_Template","SpaceFlowFindComponent_div_25_Template","SpaceFlowFindComponent_ng_template_26_Template","SpaceFlowFindComponent_ng_template_28_Template","SpaceFlowFormComponent_button_19_Template_button_click_0_listener","_r2","allow_standalone_bookings","findSpace","SpaceFlowFormComponent_Template","SpaceFlowFormComponent_Template_detailed_book_space_form_optionsChange_3_listener","SpaceFlowFormComponent_Template_button_click_7_listener","SpaceFlowFormComponent_Template_button_click_13_listener","SpaceFlowFormComponent_button_19_Template","onDone","VisitorFlowComponent_Template","VisitorFlowComponent_Template_invite_visitor_form_done_2_listener","MAT_DIALOG_DATA","RULE_TYPES","type_r8","CateringConfigModalComponent_div_10_div_16_Template_mat_select_ngModelChange_2_listener","rule_r5","CateringConfigModalComponent_div_10_div_16_mat_option_3_Template","CateringConfigModalComponent_div_10_div_16_Template_input_ngModelChange_5_listener","CateringConfigModalComponent_div_10_div_16_Template_button_click_8_listener","i_r6","index","set_r2","rules","splice","rule_types","CateringConfigModalComponent_div_10_Template_input_ngModelChange_3_listener","CateringConfigModalComponent_div_10_Template_button_click_6_listener","show_rules","CateringConfigModalComponent_div_10_Template_button_click_9_listener","CateringConfigModalComponent_div_10_Template_button_click_12_listener","i_r3","ctx_r18","rulesets","CateringConfigModalComponent_div_10_div_16_Template","CateringConfigModalComponent","new_id","Math","floor","random","_data","require_notes","config","set","JSON","stringify","saveNotesSetting","saveNotes","saveChanges","parse","metadata","CateringConfigModalComponent_Template","CateringConfigModalComponent_button_3_Template","CateringConfigModalComponent_Template_mat_checkbox_ngModelChange_5_listener","CateringConfigModalComponent_Template_button_click_8_listener","CateringConfigModalComponent_div_10_Template","CateringConfigModalComponent_Template_button_click_12_listener","csvToJson","downloadFile","CateringItem","CateringImportMenuModalComponent_main_4_Template_input_change_6_listener","handleFileEvent","CateringImportMenuModalComponent_main_4_Template_button_click_8_listener","downloadTemplate","CateringImportMenuModalComponent","element","target","files","file","fileReader","FileReader","addEventListener","contents","category","unit_price","readAsText","CateringImportMenuModalComponent_Template","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","COMMA","ENTER","SPACE","FormControl","Validators","invalid","touched","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","CateringItemModalComponent_form_4_div_4_Template_input_matChipInputTokenEnd_7_listener","_r19","addTag","tag_list","separators","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_13_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_15_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_17_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_19_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_21_listener","CateringItemModalComponent_form_4_div_27_Template","hasTag","renderPercent","images","CateringItemModalComponent_footer_5_Template_button_click_1_listener","dirty","option_r28","CateringItemModalComponent","tag","required","accept_points","discount_cap","markAsDirty","input","trim","setValue","existing_tag","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","_r3","forwardRef","NG_VALUE_ACCESSOR","NewCateringOrderModalComponent","item_r1","optionList","CateringListFieldComponent_div_1_img_2_Template","CateringListFieldComponent_div_1_ng_template_3_Template","CateringListFieldComponent_div_1_span_8_Template","CateringListFieldComponent_div_1_Template_button_click_12_listener","addItems","CateringListFieldComponent_div_1_Template_button_click_17_listener","removeItem","CateringListFieldComponent_div_1_Template_button_click_22_listener","toggleFavourite","favorites","EMPTY_FAVS","CateringListFieldComponent","disabled","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","new_value","writeValue","updated_list","cateringitem","fav_list","new_state","saveUserSetting","provide","useExisting","multi","CateringListFieldComponent_Template","CateringListFieldComponent_div_1_Template","CateringListFieldComponent_Template_button_click_2_listener","unique","CateringMenuItemComponent_div_1_Template_mat_checkbox_ngModelChange_1_listener","is_enabled","CateringMenuItemComponent_div_1_button_12_Template","CateringMenuItemComponent_div_1_Template_button_click_13_listener","show_options","symbol","can_edit","CateringMenuItemComponent_div_2_div_1_button_7_Template_button_click_0_listener","option_r8","editOption","CateringMenuItemComponent_div_2_div_1_button_8_Template_button_click_0_listener","removeOption","CateringMenuItemComponent_div_2_div_1_button_7_Template","CateringMenuItemComponent_div_2_div_1_button_8_Template","CateringMenuItemComponent_div_2_div_1_Template","CateringMenuItemComponent","is_editable","state","updateItem","currency","addOption","option","deleteOption","editItem","addItem","deleteItem","attrs","CateringMenuItemComponent_Template","CateringMenuItemComponent_div_1_Template","CateringMenuItemComponent_div_2_Template","CateringMenuItemComponent_Template_button_click_5_listener","CateringMenuItemComponent_Template_button_click_10_listener","CateringMenuItemComponent_Template_button_click_15_listener","item_r5","CateringMenuComponent_ng_container_2_ng_container_1_Template","item_r8","CateringMenuComponent_mat_tab_4_ng_container_1_Template","group_r6","tab_menu","CateringMenuComponent","shown_tab","menu_map","CateringMenuComponent_Template","CateringMenuComponent_Template_mat_tab_group_selectedIndexChange_0_listener","CateringMenuComponent_ng_container_2_Template","CateringMenuComponent_mat_tab_4_Template","CateringMenuComponent_ng_template_5_Template","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","CateringItemOptionModalComponent_footer_5_Template_button_click_1_listener","option_r13","CateringItemOptionModalComponent","types","new_option","parent","concat","CateringItemOptionModalComponent_Template","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","opt_r2","CateringOrderItemComponent_ng_container_0_ng_container_14_div_1_Template","CateringOrderItemComponent_ng_container_0_Template_button_click_4_listener","CateringOrderItemComponent_ng_container_0_ng_container_14_Template","CateringOrderItemComponent","CateringOrderItemComponent_Template","CateringOrderItemComponent_ng_container_0_Template","CateringOrdersService","order_r3","CateringOrderListComponent","_orders","order_list","filtered","startPolling","stopPolling","trackByFn","order","CateringOrderListComponent_Template","CateringOrderListComponent_li_18_Template","CateringOrderListComponent_div_20_Template","CateringOrderListComponent_mat_progress_bar_22_Template","cateringItemAvailable","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template_a_counter_ngModelChange_0_listener","item_r11","updateItemQuantity","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template_button_click_7_listener","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r8","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","CateringOrderModalComponent_footer_1_ng_container_1_Template_button_click_3_listener","ctx_r27","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_0_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_2_listener","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","_r25","item_r33","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","CateringOrderModalComponent_ng_template_4_div_4_Template_a_counter_ngModelChange_8_listener","CateringOrderModalComponent_ng_template_4_div_4_Template","CateringOrderModalComponent","getCateringConfig","cat","updateMenuQuantities","choose_options","old_item","itm","opt","selectOptions","new_item","options_string","sort","localeCompare","confirmOrder","CateringOrderModalComponent_Template","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","tag_r6","opt_r12","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r7","group_state","updateGroupOption","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_Template","in_order","opt_r22","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","option_state","updateCheckedState","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_3_listener","CateringItemDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","CateringItemDetailsComponent_ng_container_0_p_14_Template","CateringItemDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_15_listener","ctx_r33","activeChange","CateringItemDetailsComponent_ng_container_0_div_17_Template","CateringItemDetailsComponent_ng_container_0_div_21_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_23_listener","fav","CateringItemDetailsComponent","_update","group_list","g","CateringItemDetailsComponent_ng_container_0_Template","CateringItemDetailsComponent_ng_template_1_Template","CateringItemFiltersComponent_mat_checkbox_8_Template_mat_checkbox_ngModelChange_0_listener","item_r2","toggleCategory","filters","ICONS","coffee","drinks","snacks","meals","CateringItemFiltersComponent","icons","toggleTag","CateringItemFiltersComponent_Template_input_ngModelChange_4_listener","CateringItemFiltersComponent_h3_6_Template","CateringItemFiltersComponent_mat_checkbox_8_Template","CateringItemListItemComponent","favourite","select","CateringItemListItemComponent_Template","CateringItemListItemComponent_Template_button_click_1_listener","CateringItemListItemComponent_div_3_Template","CateringItemListItemComponent_img_4_Template","CateringItemListItemComponent_ng_template_5_Template","CateringItemListItemComponent_p_14_Template","CateringItemListItemComponent_div_15_Template","CateringItemListItemComponent_div_16_Template","CateringItemListItemComponent_div_17_Template","CateringItemListItemComponent_div_18_Template","CateringItemListItemComponent_div_19_Template","CateringItemListItemComponent_div_20_Template","CateringItemListItemComponent_Template_button_click_21_listener","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_toggleFav_0_listener","item_r7","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_select_0_listener","selectItem","custom_id","isFavourite","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_toggleFav_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_select_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template","item_list","CateringItemListComponent_ng_container_8_ul_1_Template","CateringItemListComponent","selected_items","onSelect","item_id","clear_state","CateringItemListComponent_Template","CateringItemListComponent_ng_container_1_Template","CateringItemListComponent_ng_container_8_Template","CateringItemListComponent_ng_template_10_Template","CateringItemListComponent_ng_template_12_Template","showMetadata","of","catchError","shareReplay","switchMap","getCateringRulesForZone","_options","_filters","_loading","asObservable","post","_ref","t","_x","apply","arguments","ɵɵinject","factory","ɵfac","providedIn","NewCateringOrderModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","_order","isSelected","setSelected","NewCateringOrderModalComponent_Template_catering_item_list_toggleFav_11_listener","NewCateringOrderModalComponent_Template_catering_item_list_onSelect_11_listener","NewCateringOrderModalComponent_Template_catering_item_details_activeChange_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_toggleFav_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_close_12_listener","NewCateringOrderModalComponent_button_14_Template","NewCateringOrderModalComponent_Template_button_click_26_listener","opt_r6","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r1","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","opt_r14","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","CateringOrderOptionsModalComponent","saveOptions","CateringOrderOptionsModalComponent_Template","CateringOrderOptionsModalComponent_div_7_Template","CateringOrderOptionsModalComponent_Template_button_click_9_listener","CATERING_STATUSES","notes","CateringOrderComponent_div_0_button_15_Template","CateringOrderComponent_div_0_Template_button_click_25_listener","show_items","deliver_at","charge_code","invoice_number","colour","CateringOrderComponent_ul_1_li_1_Template","CateringOrderComponent_button_4_Template_button_click_0_listener","status_r10","updateStatus","CateringOrderComponent","statuses","CateringOrderComponent_Template","CateringOrderComponent_div_0_Template","CateringOrderComponent_ul_1_Template","CateringOrderComponent_button_4_Template","flatten","saveEvent","checkOrder","_poll","orders","ext","delay","clearInterval","updated_order","requestSpacesForZone","CateringRoomsStateModalComponent_main_7_tr_13_Template_tr_click_0_listener","space_r4","toggleRoom","CateringRoomsStateModalComponent_main_7_Template_td_click_4_listener","CateringRoomsStateModalComponent_main_7_tr_13_Template","rooms","CateringRoomsStateModalComponent","enableSelected","disabled_list","saveSettings","disableSelected","CateringRoomsStateModalComponent_Template","CateringRoomsStateModalComponent_main_7_Template","CateringRoomsStateModalComponent_Template_button_click_9_listener","CateringRoomsStateModalComponent_Template_button_click_11_listener","CateringRoomsStateModalComponent_ng_template_13_Template","updateMetadata","notifySuccess","_menu","_updated","_currency","getCateringForZone","race","findIndex","updateMenu","_this5","_this6","class","_this7","editConfig","_this8","updateConfig","importMenu","_this9","updated_menu","_this10","old_settings","addItemToOrder","new_order","Type","MatAutocompleteModule","MatCheckboxModule","MatDialogModule","MatMenuModule","MatTabsModule","MatRadioModule","MatTooltipModule","MatFormFieldModule","FormFieldsModule","ComponentsModule","ChargeCodeListModalComponent","COMPONENTS","exports","ChargeCodeListModalComponent_main_6_div_1_Template_input_ngModelChange_2_listener","ChargeCodeListModalComponent_main_6_div_1_Template_button_click_3_listener","removeCode","ChargeCodeListModalComponent_main_6_div_1_Template","ChargeCodeListModalComponent_footer_7_Template_input_change_3_listener","addCodesFromFile","ChargeCodeListModalComponent_footer_7_Template_button_click_4_listener","newCode","ChargeCodeListModalComponent_footer_7_Template_button_click_6_listener","saveChargeCodes","reader","evt","srcElement","cleaned_codes","ChargeCodeListModalComponent_Template","ChargeCodeListModalComponent_main_6_Template","ChargeCodeListModalComponent_footer_7_Template","ChargeCodeListModalComponent_ng_template_8_Template","isAfter","subHours","stringToMinutes","RULE_REQUESTS","fresh","is_available","rule","matches","condition","addHours","requiredArgs","toInteger","dirtyDate","dirtyAmount","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","add","innerHTML","firstElementChild","animate","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","getComputedStyle","setProperty","visibility","width","height","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","enumerateDevices","kind","label","audio","deviceId","_stopVideoStream","hasFlash","MediaStream","_getCameraStream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","destroy","removeEventListener","_postWorkerMessage","Error","protocol","play","facingMode","_setVideoMirror","pause","setTimeout","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","_loadImage","_drawToCanvas","q","Worker","_postWorkerMessageSync","v","w","u","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","test","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","some","brand","platform","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","round","min","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","log","assign","exact","_getFacingMode","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage","coerceBooleanProperty","SelectionModel","InjectionToken","Directive","Optional","Inject","ContentChildren","Input","Output","Component","ViewEncapsulation","ChangeDetectionStrategy","Attribute","ViewChild","NgModule","mixinDisableRipple","MatCommonModule","MatRippleModule","MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS","MAT_BUTTON_TOGGLE_GROUP","MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR","MatButtonToggleGroup","uniqueIdCounter","MatButtonToggleChange","source","_name","_markButtonsForCheck","vertical","_vertical","_selectionModel","toggle","newValue","_setSelectionByValue","valueChange","_multiple","_disabled","_changeDetector","defaultOptions","_controlValueAccessorChangeFn","_onTouched","change","appearance","ngAfterContentInit","_buttonToggles","checked","markForCheck","isDisabled","_emitChangeEvent","_syncButtonToggle","isUserInput","deferEvents","deselect","_updateModelValue","_isSelected","_isPrechecked","_rawValue","isArray","ngDevMode","_clearSelection","currentValue","_selectValue","clear","correspondingOption","_markForCheck","MatButtonToggleGroup_Factory","ChangeDetectorRef","ɵdir","ɵɵdefineDirective","contentQueries","MatButtonToggleGroup_ContentQueries","dirIndex","ɵɵcontentQuery","MatButtonToggle","_t","ɵɵqueryRefresh","ɵɵloadQuery","hostAttrs","hostVars","hostBindings","MatButtonToggleGroup_HostBindings","exportAs","ɵsetClassMetadata","args","selector","providers","decorators","descendants","_MatButtonToggleBase","buttonId","buttonToggleGroup","_appearance","_checked","_changeDetectorRef","toggleGroup","_elementRef","_focusMonitor","defaultTabIndex","ariaLabelledby","parsedTabIndex","Number","tabIndex","monitor","stopMonitoring","_buttonElement","_onButtonClick","newChecked","_isSingleSelector","_getButtonName","MatButtonToggle_Factory","FocusMonitor","ɵɵinjectAttribute","ɵcmp","ɵɵdefineComponent","MatButtonToggle_Query","ɵɵviewQuery","MatButtonToggle_HostBindings","MatButtonToggle_focus_HostBindingHandler","disableRipple","ariaLabel","ngContentSelectors","MatButtonToggle_Template","ɵɵprojectionDef","MatButtonToggle_Template_button_click_0_listener","ɵɵprojection","ɵɵreference","dependencies","MatRipple","encapsulation","changeDetection","None","OnPush","MatButtonToggleModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector"],"sourceRoot":"webpack:///","x_google_ignoreList":[70,71,72]}