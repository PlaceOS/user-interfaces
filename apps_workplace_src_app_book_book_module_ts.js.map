{"version":3,"file":"apps_workplace_src_app_book_book_module_ts.js","mappings":"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","sources":["./apps/workplace/src/app/book/book.component.ts","./apps/workplace/src/app/book/book.module.ts","./apps/workplace/src/app/book/code-flow-error.component.ts","./apps/workplace/src/app/book/code-flow-success.component.ts","./apps/workplace/src/app/book/code-flow.component.ts","./apps/workplace/src/app/book/desk-flow.component.ts","./apps/workplace/src/app/book/desk-flow/confirm.component.ts","./apps/workplace/src/app/book/desk-flow/detailed-form.component.ts","./apps/workplace/src/app/book/desk-flow/form.component.ts","./apps/workplace/src/app/book/desk-flow/map.component.ts","./apps/workplace/src/app/book/flow-success.component.ts","./apps/workplace/src/app/book/locker-flow.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-confirm.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-form.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-success.component.ts","./apps/workplace/src/app/book/locker-flow/locker-form-details.component.ts","./apps/workplace/src/app/book/meeting-flow.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm-modal.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-form.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-success.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-form-details.component.ts","./apps/workplace/src/app/book/new-desk-flow.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-confirm.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-form.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-success.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-form-details.component.ts","./apps/workplace/src/app/book/new-parking-flow.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-form.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-success.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-form-details.component.ts","./apps/workplace/src/app/book/parking-flow.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-map.component.ts","./apps/workplace/src/app/book/space-flow.component.ts","./apps/workplace/src/app/book/space-flow/confirm.component.ts","./apps/workplace/src/app/book/space-flow/detailed-form.component.ts","./apps/workplace/src/app/book/space-flow/find-item.component.ts","./apps/workplace/src/app/book/space-flow/find.component.ts","./apps/workplace/src/app/book/space-flow/form.component.ts","./apps/workplace/src/app/book/visitor-flow.component.ts","./libs/catering/src/index.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-list-field.component.ts","./libs/catering/src/lib/catering-menu.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/catering-order-item.component.ts","./libs/catering/src/lib/catering-order-list.component.ts","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-details.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-filters.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list-item.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list.component.ts","./libs/catering/src/lib/catering-order-modal/catering-order-state.service.ts","./libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-orders.service.ts","./libs/catering/src/lib/catering-state.service.ts","./libs/catering/src/lib/catering.interfaces.ts","./libs/catering/src/lib/catering.module.ts","./libs/catering/src/lib/catering.ts","./libs/catering/src/lib/catering.vars.ts","./libs/catering/src/lib/charge-code-list-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/qr-scanner/qr-scanner.min.js"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'placeos-book',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n        <footer-menu class=\"z-10\" *ngIf=\"!hide_nav\"></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookComponent {\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\n\nimport { SharedExploreModule } from '@placeos/explore';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedCateringModule } from '@placeos/catering';\n\nimport { BookComponent } from './book.component';\nimport { BookCodeFlowComponent } from './code-flow.component';\nimport { BookDeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowConfirmComponent } from './desk-flow/confirm.component';\nimport { DeskFlowFormComponent } from './desk-flow/form.component';\nimport { DeskFlowDetailedFormComponent } from './desk-flow/detailed-form.component';\nimport { DeskFlowMapComponent } from './desk-flow/map.component';\nimport { FlowSuccessComponent } from './flow-success.component';\nimport { BookSpaceFlowComponent } from './space-flow.component';\nimport { SpaceFlowConfirmComponent } from './space-flow/confirm.component';\nimport { DetailBookSpaceFormComponent } from './space-flow/detailed-form.component';\nimport { SpaceFlowFindItemComponent } from './space-flow/find-item.component';\nimport { SpaceFlowFindComponent } from './space-flow/find.component';\nimport { SpaceFlowFormComponent } from './space-flow/form.component';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { BookParkingFlowComponent } from './parking-flow.component';\nimport { ParkingFlowMapComponent } from './parking-flow/parking-flow-map.component';\nimport { ParkingFlowConfirmComponent } from './parking-flow/parking-flow-confirm.component';\nimport { BookMeetingFlowComponent } from './meeting-flow.component';\nimport { MeetingFlowFormComponent } from './meeting-flow/meeting-flow-form.component';\nimport { MeetingFormDetailsComponent } from './meeting-flow/meeting-form-details.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow/meeting-flow-confirm.component';\nimport { MeetingFlowSuccessComponent } from './meeting-flow/meeting-flow-success.component';\nimport { NewDeskFlowComponent } from './new-desk-flow.component';\nimport { NewDeskFlowFormComponent } from './new-desk-flow/new-desk-flow-form.component';\nimport { NewDeskFormDetailsComponent } from './new-desk-flow/new-desk-form-details.component';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow/new-desk-flow-confirm.component';\nimport { NewDeskFlowSuccessComponent } from './new-desk-flow/new-desk-flow-success.component';\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { NewParkingFlowComponent } from './new-parking-flow.component';\nimport { ParkingFlowFormComponent } from './new-parking-flow/parking-flow-form.component';\nimport { ParkingFlowSuccessComponent } from './new-parking-flow/parking-flow-success.component';\nimport { ParkingFormDetailsComponent } from './new-parking-flow/parking-form-details.component';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow/meeting-flow-confirm-modal.component';\nimport { NewParkingFlowConfirmComponent } from './new-parking-flow/parking-flow-confirm.component';\nimport { CodeFlowSuccessComponent } from './code-flow-success.component';\nimport { CodeFlowErrorComponent } from './code-flow-error.component';\nimport { BookLockerFlowComponent } from './locker-flow.component';\nimport { BookLockerFlowSuccessComponent } from './locker-flow/locker-flow-success.component';\nimport { BookLockerFlowFormComponent } from './locker-flow/locker-flow-form.component';\nimport { BookLockerFlowConfirmComponent } from './locker-flow/locker-flow-confirm.component';\nimport { LockerFormDetailsComponent } from './locker-flow/locker-form-details.component';\nimport { NativeDateModule } from '@angular/material/core';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: BookComponent,\n        children: [\n            { path: 'code', component: BookCodeFlowComponent },\n            { path: 'code/success', component: CodeFlowSuccessComponent },\n            { path: 'code/error', component: CodeFlowErrorComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'new-desks', redirectTo: 'new-desks/form' },\n            { path: 'new-desks/:step', component: NewDeskFlowComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'desks', redirectTo: 'desks/form' },\n            { path: 'desks/:step', component: BookDeskFlowComponent },\n            { path: 'spaces', redirectTo: 'spaces/form' },\n            { path: 'spaces/:step', component: BookSpaceFlowComponent },\n            { path: 'meeting', redirectTo: 'meeting/form' },\n            { path: 'meeting/:step', component: BookMeetingFlowComponent },\n            { path: 'parking', redirectTo: 'parking/form' },\n            { path: 'parking/:step', component: BookParkingFlowComponent },\n            { path: 'new-parking', redirectTo: 'new-parking/form' },\n            { path: 'new-parking/:step', component: NewParkingFlowComponent },\n            { path: 'visitor', redirectTo: 'visitor/form' },\n            { path: 'visitor/:step', component: VisitorFlowComponent },\n            { path: 'locker', redirectTo: 'locker/form' },\n            { path: 'locker/:step', component: BookLockerFlowComponent },\n            { path: '*', redirectTo: 'spaces/form' },\n        ],\n    },\n    { path: '*', redirectTo: 'spaces/form' },\n];\n\n@NgModule({\n    declarations: [\n        BookComponent,\n        BookSpaceFlowComponent,\n        SpaceFlowFormComponent,\n        SpaceFlowFindComponent,\n        SpaceFlowFindItemComponent,\n        SpaceFlowConfirmComponent,\n        DetailBookSpaceFormComponent,\n        BookDeskFlowComponent,\n        DeskFlowFormComponent,\n        DeskFlowDetailedFormComponent,\n        DeskFlowMapComponent,\n        DeskFlowConfirmComponent,\n        BookCodeFlowComponent,\n        CodeFlowSuccessComponent,\n        CodeFlowErrorComponent,\n        BookParkingFlowComponent,\n        ParkingFlowMapComponent,\n        ParkingFlowConfirmComponent,\n        FlowSuccessComponent,\n        BookMeetingFlowComponent,\n        MeetingFlowFormComponent,\n        MeetingFormDetailsComponent,\n        MeetingFlowConfirmComponent,\n        MeetingFlowConfirmModalComponent,\n        MeetingFlowSuccessComponent,\n        NewDeskFlowFormComponent,\n        NewDeskFormDetailsComponent,\n        NewDeskFlowComponent,\n        NewDeskFlowConfirmComponent,\n        NewDeskFlowSuccessComponent,\n        VisitorFlowComponent,\n\n        NewParkingFlowComponent,\n        ParkingFlowFormComponent,\n        NewParkingFlowConfirmComponent,\n        ParkingFlowSuccessComponent,\n        ParkingFormDetailsComponent,\n\n        BookLockerFlowComponent,\n        BookLockerFlowFormComponent,\n        BookLockerFlowConfirmComponent,\n        BookLockerFlowSuccessComponent,\n        LockerFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        SharedCateringModule,\n        SharedExploreModule,\n        ReactiveFormsModule,\n        MatButtonToggleModule,\n        MatBottomSheetModule,\n        SharedBookingsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class BookModule {}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\nconst VALID_TYPES = ['not_started', 'wrong_resource', 'other'];\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN_FAILED' | translate }}\n                </h2>\n                <div class=\"py-4\">\n                    <img src=\"assets/icons/not-found.svg\" class=\"h-64\" />\n                </div>\n                <p class=\"text-center max-w-[32rem]\" [ngSwitch]=\"type\">\n                    <ng-container *ngSwitchCase=\"'not_started'\">\n                        Booking has not started yet. Please try again once the\n                        booking has commenced.\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'wrong_resource'\">\n                        You have booking with a difference resource.\n                    </ng-container>\n                    <ng-container *ngSwitchDefault>\n                        You do not have a booking. Would you like to book the\n                        set resource?\n                    </ng-container>\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center space-x-2\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'code']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'not_started'\"\n                >\n                    {{ 'WPA.TRY_AGAIN' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'new-desk']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'no_booking'\"\n                >\n                    {{ 'WPA.BOOK' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem] inverse\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'COMMON.CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowErrorComponent extends AsyncHandler {\n    public type = 'other';\n    public asset = null;\n    public asset_id = '';\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                this.type = params.get('type') as any;\n                this.asset_id = params.get('asset_id') as any;\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\">\n                    {{ 'WPA.CHECKED_IN' | translate }}\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowSuccessComponent {}\n","import {\n    Component,\n    OnInit,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    OnDestroy,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    BookingType,\n    checkinBooking,\n    queryBookings,\n} from '@placeos/bookings';\nimport { AsyncHandler, currentUser, notifyError } from '@placeos/common';\nimport {\n    CalendarEvent,\n    checkinEventGuest,\n    EventFormService,\n    queryEvents,\n} from '@placeos/events';\nimport { showSystem } from '@placeos/ts-client';\nimport { addMinutes, endOfDay, getUnixTime } from 'date-fns';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n    selector: 'book-code-flow',\n    template: `\n        <div\n            class=\"flex-1 overflow-hidden flex items-center justify-center bg-neutral relative\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <video\n                class=\"min-w-full min-h-full object-cover\"\n                id=\"video\"\n                #video\n            ></video>\n            <div\n                class=\"absolute text-white text-center inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Scan QR Code\n                    </h2>\n                    <span class=\" mb-4 \">\n                        Scan the QR code outisde a PlaceOS room or space.\n                    </span>\n                </div>\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"!is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Enter Room ID\n                    </h2>\n                    <span class=\"mb-4\">\n                        Enter the room ID number outisde a PlaceOS room or\n                        space.\n                    </span>\n                </div>\n                <div class=\"flex items-center justify-center\">\n                    <div\n                        box\n                        class=\"rounded-2xl h-64 w-64 transition-all flex items-center justify-center p-8 m-8 space-x-2\"\n                        [class.input]=\"!is_scanning\"\n                    >\n                        <span class=\"uppercase\">Booking ID</span>\n                        <input\n                            matInput\n                            class=\"border-none bg-none w-full text-3xl text-left\"\n                            [(ngModel)]=\"room_code\"\n                            name=\"booking-id\"\n                            placeholder=\"e.g. 12102910\"\n                        />\n                    </div>\n                </div>\n                <div\n                    class=\"m-4 p-2 flex items-center space-x-2 bg-base-100 bg-opacity-50 rounded\"\n                >\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = true\"\n                    >\n                        Scan Code\n                    </button>\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (!is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = false\"\n                    >\n                        Enter Code\n                    </button>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Checking in booking...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                width: 100%;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                background: #f0f0f0;\n            }\n\n            [box] {\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.5);\n            }\n\n            [box] > * {\n                display: none;\n            }\n\n            [box].input {\n                width: 32rem !important;\n                max-width: calc(100% - 2rem) !important;\n                padding: 1rem !important;\n                height: 4rem !important;\n                color: black !important;\n                background: white;\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.8);\n            }\n\n            [box].input > * {\n                display: initial;\n            }\n\n            [box] span {\n                font-family: var(--heading-font);\n                font-weight: 500;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n        `,\n    ],\n})\nexport class BookCodeFlowComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Menu event */\n    @Output() public menu = new EventEmitter(false);\n    /** Boolean to toggle scan/code */\n    public is_scanning = true;\n    /** Room Code input value */\n    public room_code: string;\n    public loading = false;\n\n    private _qr_scanner;\n    /** Video element to emit camera feed */\n    @ViewChild('video')\n    private _video_el: ElementRef<HTMLVideoElement>;\n\n    constructor(\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService,\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el?.nativeElement?.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._qr_scanner?.stop();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('asset_id'))\n                    this._checkinBooking(params.get('asset_id'));\n                if (params.has('space_id'))\n                    this._checkinEvent(\n                        params.get('space_id'),\n                        params.get('email'),\n                    );\n            }),\n        );\n    }\n\n    public ngAfterViewInit() {\n        if (!navigator.mediaDevices?.getUserMedia || this.loading) return;\n        navigator.mediaDevices\n            .getUserMedia({ video: true })\n            .then((stream) => (this._video_el.nativeElement.srcObject = stream))\n            .catch((e) => console.error('Unable to fetch media devices!', e));\n        this._qr_scanner = new QrScanner(this._video_el.nativeElement, (r) =>\n            this.handleQrCode(r),\n        );\n        this._qr_scanner.start();\n    }\n\n    private handleQrCode(result: string) {\n        const url = result;\n        const hashindex = url.indexOf('/#/');\n        // could just whole page redirect to url\n        if (hashindex > 0) {\n            const regex = /[?&]([^=#]+)=([^&#]*)/g;\n            const params = {};\n            let match;\n            while ((match = regex.exec(url))) {\n                params[match[1]] = match[2];\n            }\n            this._router.navigate([url.split('/#')[1].split('?')[0]], params);\n        }\n    }\n\n    private async _checkinBooking(\n        asset_id: string,\n        type: BookingType = 'desk',\n    ) {\n        this.loading = true;\n        let bookings = await queryBookings({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 5)),\n            type,\n            email: currentUser().email,\n        })\n            .toPromise()\n            .catch((_) => [] as Booking[]);\n        const item = bookings.find((_) => _.asset_id === asset_id);\n        if (item) {\n            await checkinBooking(item.id, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin booking with resource \"${asset_id}\"`,\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n        } else {\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            let item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'not_started', asset_id },\n                });\n                return;\n            }\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(addMinutes(Date.now(), 5)),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'wrong_resource', asset_id },\n                });\n                return;\n            }\n            this._router.navigate(['/book', 'code', 'error'], {\n                queryParams: { type: 'no_booking', asset_id },\n            });\n            this._booking_form.newForm(new Booking({ asset_id, type }));\n            this._booking_form.setOptions({ type });\n        }\n        this.loading = false;\n    }\n\n    private async _checkinEvent(space_id: string, email?: string) {\n        if (!email) email = currentUser().email;\n        this.loading = true;\n        const bookings = await queryEvents({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(Date.now() + 5 * 60 * 1000),\n        })\n            .toPromise()\n            .catch((_) => []);\n        const item = bookings.find((_) =>\n            _.resources.find((s) => s.id === space_id || s.email === space_id),\n        );\n        if (item) {\n            await checkinEventGuest(item.id, email, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin event with resource \"${space_id}\"`,\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n            this.loading = false;\n        } else {\n            const space = await showSystem(space_id).toPromise();\n            if (space) {\n                this._event_form.newForm(new CalendarEvent({ system: space }));\n            }\n            this._router.navigate(['/book', 'meeting']);\n        }\n        this.loading = false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'map'\">\n                    <desk-flow-map></desk-flow-map>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <desk-flow-confirm></desk-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        type=\"desk\"\n                        route=\"desks\"\n                        [calendar]=\"last_success?.user_email\"\n                        [extra]=\"\n                            last_success?.extension_data?.secondary_resource\n                                ? 'Locker E-093 has been allocated for this booking.'\n                                : ''\n                        \"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <desk-flow-form></desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'desk-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                btn\n                matRipple\n                class=\"clear h-[2.75rem] text-white\"\n                [routerLink]=\"['/book', 'desks', 'map']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowConfirmComponent {}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, format } from 'date-fns';\n\n@Component({\n    selector: 'detailed-book-desks-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div\n                class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"allow_groups\"\n            >\n                <mat-button-toggle-group\n                    class=\"w-full\"\n                    [ngModel]=\"(options | async)?.group ? 'group' : 'single'\"\n                    (ngModelChange)=\"\n                        setOptions({\n                            group: $event === 'group'\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-button-toggle class=\"w-1/2\" value=\"single\">\n                        Single\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"w-1/2\" value=\"group\">\n                        Group\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(buildings | async)?.length > 1\"\n                >\n                    <label>Building</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(levels | async)?.length > 1\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"allow_time_changes\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"10 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                        [disabled]=\"form.value.all_day\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute top-0 right-0\"\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_book_for_others\"\n            >\n                <label>Host</label>\n                <a-user-search-field\n                    formControlName=\"user\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"needs_reason\"\n            >\n                <label>Details</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <input\n                        matInput\n                        formControlName=\"description\"\n                        placeholder=\"Reason for booking...\"\n                    />\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(options | async)?.group\"\n            >\n                <label>Group Members</label>\n                <a-user-list-field\n                    [simple]=\"true\"\n                    [ngModel]=\"(options | async)?.members || []\"\n                    (ngModelChange)=\"setOptions({ members: $event })\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                ></a-user-list-field>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_recurr\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence Period</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            [ngModel]=\"(options | async)?.recurrence_pattern\"\n                            (ngModelChange)=\"setOptions({ pattern: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option value=\"none\">None</mat-option>\n                            <mat-option\n                                *ngFor=\"let opt of recurrence_options\"\n                                [value]=\"opt\"\n                            >\n                                <span class=\"capitalize\">{{ opt }}</span>\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence End</label>\n                    <a-date-field\n                        [disabled]=\"\n                            !(options | async)?.pattern ||\n                            (options | async)?.pattern === 'none'\n                        \"\n                        [ngModel]=\"\n                            (options | async)?.recurr_end || form?.value?.date\n                        \"\n                        (ngModelChange)=\"\n                            setOptions({\n                                recurr_end: $event\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"book_until\"\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <label>Desk Features</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"(options | async)?.features || []\"\n                        (ngModelChange)=\"\n                            setOptions({\n                                features: $event || []\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        placeholder=\"Any Feature\"\n                    >\n                        <mat-option\n                            *ngFor=\"let opt of features | async\"\n                            class=\"capitalize\"\n                            [value]=\"opt\"\n                        >\n                            {{ opt }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"can_book_lockers\"\n            >\n                <mat-checkbox\n                    [ngModel]=\"!!form.value.secondary_resource\"\n                    (ngModelChange)=\"\n                        form.patchValue({\n                            secondary_resource: $event ? 'locker' : ''\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Require locker\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DeskFlowDetailedFormComponent {\n    @Input() public form: FormGroup;\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get book_until() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    randomInt,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, setHours, addMinutes, roundToNearestMinutes } from 'date-fns';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Desk Booking\n            </h2>\n            <detailed-book-desks-form [form]=\"form\"></detailed-book-desks-form>\n            <div class=\"mb-4 border-b border-base-200 w-full\"></div>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    find\n                    btn\n                    matRipple\n                    *ngIf=\"!auto_allocation; else alloc_button\"\n                    (click)=\"findDesk()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Desk' : 'Find Desk'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n        <ng-template #alloc_button>\n            <button\n                class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                find\n                btn\n                matRipple\n                (click)=\"allocateDesk()\"\n            >\n                {{ is_edit ? 'Update Desk' : 'Book Desk' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class DeskFlowFormComponent implements OnInit {\n    public time = 0;\n    public level = '';\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public levels = [];\n\n    public get is_edit() {\n        return !!this.form?.get('id')?.value;\n    }\n\n    public get auto_allocation() {\n        return !!this._settings.get('app.desks.auto_allocation');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.time = 0;\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n    }\n\n    public quickBook() {\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Desk Booking',\n        });\n        this.findDesk();\n    }\n\n    public findDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid) return;\n        this.form.patchValue({ asset_id: '' });\n        this._router.navigate(['/book', 'desks', 'map']);\n    }\n\n    public async allocateDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        // Find nearby desk for user's department\n        const settings = this._settings.get('app.departments') || {\n            '*': {\n                level: this._org.levelsForBuilding()[0]?.id,\n                centered_at: { x: 0.5, y: 0.5 },\n            },\n        };\n        const group = currentUser().groups.find((_) => _ in settings) ?? '*';\n        if (!settings[group]) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const { level, centered_at } = settings[group];\n        const lvl = this._org.levelWithID([level]);\n        if (!lvl) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const desk_list = await this._state.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const desk_id = level.map_id\n            ? await findNearbyFeature(\n                  lvl.map_id,\n                  centered_at,\n                  desk_list.map((_) => _?.map_id || _?.id || '')\n              )\n            : desk_list[randomInt(desk_list.length)].id;\n        const desk = desk_list.find(\n            (_) => _.map_id === desk_id || _.id === desk_id\n        );\n        if (!desk) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name || desk.id,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name || desk.id,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n        await this._state.confirmPost().catch((_) => console.error(_));\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    formatRecurrence,\n    SettingsService,\n} from '@placeos/common';\nimport { ExploreStateService } from '@placeos/explore';\nimport { Desk } from '@placeos/organisation';\nimport { format } from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-map',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'desks', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full \">\n            <h2 class=\"text-2xl px-4 pt-4 text-center\">Available Desks</h2>\n            <an-action-field\n                class=\"my-4 mx-auto w-[640px] max-w-[calc(100vw-2rem)]\"\n                [matMenuTriggerFor]=\"menu\"\n            >\n                {{ (option_details | async) || 'No Filters' }}\n            </an-action-field>\n            <mat-menu #menu=\"matMenu\">\n                <div\n                    (click)=\"$event.stopPropagation(); ($event.preventDefault)\"\n                    class=\"pt-4 max-h-[65vh] overflow-auto\"\n                >\n                    <detailed-book-desks-form\n                        [form]=\"form\"\n                    ></detailed-book-desks-form>\n                </div>\n            </mat-menu>\n            <div listing class=\"flex flex-1 h-1/2 relative space-x-2\">\n                <ul\n                    class=\"list-style-none w-full sm:w-[20rem] max-w-[48rem] mx-auto bg-base-200 pb-32 overflow-auto h-full rounded-tr-lg space-y-2\"\n                    [class.!w-full]=\"hide_map\"\n                    [class.rounded-tl-lg]=\"hide_map\"\n                >\n                    <div\n                        class=\"py-2 px-4 sticky top-0 inset-x-0 bg-base-200 border-b border-base-200 z-10\"\n                    >\n                        {{ (desks | async)?.length || '0' }} matches available\n                    </div>\n                    <li\n                        matRipple\n                        *ngFor=\"let desk of desks | async\"\n                        [attr.desk-id]=\"desk.id\"\n                        class=\"flex items-center p-2 mx-2 bg-base-100 rounded shadow cursor-pointer space-x-2 min-h-[5rem] border\"\n                        [class.border-primary]=\"active_desk?.id === desk.id\"\n                        (click)=\"setActiveDesk(desk)\"\n                    >\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div class=\"flex flex-col w-1/2 flex-1\">\n                            <div name class=\"\">{{ desk.name || desk.id }}</div>\n                            <div level class=\"text-xs\">\n                                {{\n                                    desk.zone?.display_name ||\n                                        desk.zone?.name ||\n                                        '&lt;No Level&gt;'\n                                }}\n                            </div>\n                            <div features class=\"w-full flex flex-wrap\">\n                                <div\n                                    *ngFor=\"let feat of desk.features || []\"\n                                    class=\"text-xs bg-primary text-white rounded-xl px-2 py-1 mt-1 mr-2\"\n                                >\n                                    {{ feat }}\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div\n                    class=\"hidden sm:block flex-1 bg-base-200 rounded-tl-lg border-l border-t border-base-200 relative overflow-hidden h-full\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                        [focus]=\"active_desk?.map_id || active_desk?.id\"\n                    ></interactive-map>\n                    <div\n                        class=\"absolute top-2 left-2 bg-base-100 rounded-3xl h-10 px-3 flex items-center border border-base-200\"\n                        *ngIf=\"level | async\"\n                    >\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                </div>\n                <div\n                    *ngIf=\"loading | async\"\n                    class=\"absolute inset-0 bg-base-100 bg-opacity-60 flex flex-col items-center justify-center space-y-2 !m-0 z-20\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>{{ loading | async }}</p>\n                </div>\n                <div\n                    selection\n                    class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 p-2 bg-base-100 shadow rounded w-[24rem] max-w-[calc(100vw-1rem)] space-y-2 !m-0 border border-base-200\"\n                    *ngIf=\"active_desk\"\n                >\n                    <div class=\"\">\n                        <div name class=\"\">{{ active_desk.name }}</div>\n                        <div level class=\"text-xs\">\n                            {{\n                                active_desk.zone?.display_name ||\n                                    active_desk.zone.name ||\n                                    '&lt;No Level&gt;'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            matRipple\n                            class=\"inverse flex-1\"\n                            (click)=\"setActiveDesk(null)\"\n                        >\n                            Clear\n                        </button>\n                        <button\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"makeBooking()\"\n                        >\n                            Book\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowMapComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._explore.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._explore.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._explore.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._explore.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._explore.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._explore.map_labels;\n    public readonly level = this._explore.level;\n\n    public readonly desks = this._state.available_resources;\n\n    public readonly loading = this._state.loading;\n\n    public readonly form = this._state.form;\n\n    public readonly option_details = combineLatest([\n        this._state.options,\n        this.form.valueChanges.pipe(startWith({})),\n    ]).pipe(\n        map(([options]) => {\n            const form = this._state.form;\n            const recurrence = formatRecurrence({\n                pattern: options.pattern as any,\n                end: options.recurr_end,\n                start: form.value.date,\n                interval: 1,\n                days_of_week: [],\n            });\n            const details = `${format(form.value.date, 'dd MMM yyyy')}${\n                options.pattern && options.pattern !== 'none'\n                    ? ', ' + recurrence\n                    : ''\n            }${options.group ? ', ' + options.group : ''}, ${\n                options.features?.length || 'Any'\n            } Feature${(options.features?.length || 0) < 2 ? '' : 's'}`;\n            if (options.zone_id) this._explore.setLevel(options.zone_id);\n            return details;\n        })\n    );\n\n    private _active_desk = new BehaviorSubject<Desk>(null);\n\n    public readonly makeBooking = () => this._state.confirmPost();\n\n    public get active_desk(): Desk {\n        return this._active_desk.getValue();\n    }\n\n    public get hide_map() {\n        return !!this._settings.get('app.desks.hide_map');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _explore: ExploreStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'assets-statue',\n            combineLatest([\n                this._state.resources,\n                this._state.available_resources,\n                this._active_desk,\n            ])\n                .pipe(debounceTime(200))\n                .subscribe(([assets, available]) => {\n                    const status = {};\n                    const actions = [];\n                    for (const desk of assets) {\n                        const active =\n                            desk.bookable &&\n                            available.find((d) => d.id === desk.id);\n                        status[`#${desk.map_id || desk.id}`] = {\n                            fill: desk.bookable\n                                ? available.find((d) => d.id === desk.id)\n                                    ? '#43a047'\n                                    : '#e53935'\n                                : '#999',\n                            opacity: 0.6,\n                        };\n                        if (active)\n                            actions.push({\n                                id: desk.map_id || desk.id,\n                                action: 'click',\n                                callback: () => this.setActiveDesk(desk as any),\n                            });\n                    }\n                    this._explore.setStyles('desks', status);\n                    this._explore.setActions('desks', actions);\n                    this._explore.setFeatures(\n                        'desks',\n                        this.active_desk\n                            ? [\n                                  {\n                                      location:\n                                          this.active_desk.map_id ||\n                                          this.active_desk.id,\n                                      content: `\n                    <span class=\"flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] border-white00 shadow\" >\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\n                        <span class=\"relative inline-flex rounded-full h-full w-full bg-primary\"></span>\n                    </span>`,\n                                  },\n                              ]\n                            : []\n                    );\n                })\n        );\n    }\n\n    public setActiveDesk(desk: Desk) {\n        this._explore.setLevel(desk?.zone?.id);\n        this._active_desk.next(desk);\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { currentUser } from '@placeos/common';\n\n@Component({\n    selector: 'flow-success',\n    template: `\n        <div\n            name=\"success\"\n            class=\"fixed inset-0 flex flex-col bg-indigo-900 items-center justify-center z-50\"\n        >\n            <div class=\"text-7xl rounded-full bg-base-100 text-success mb-4\">\n                <app-icon>done</app-icon>\n            </div>\n            <div class=\"text-center text-lg text-white mb-4 leading-10\">\n                Thank you, your {{ type }} booking was successful!<br />\n                {{ extra }} <br *ngIf=\"extra\" />\n                An event has been added to {{ title }} calendar\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/book', route]\"\n                    [queryParams]=\"{}\"\n                >\n                    New Booking\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/schedule']\"\n                    [queryParams]=\"{ email: calendar }\"\n                >\n                    Your Bookings\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class FlowSuccessComponent {\n    @Input() public calendar: string;\n    @Input() public extra = '';\n    @Input() public route = 'spaces';\n    @Input() public type = 'space';\n\n    public get is_host(): boolean {\n        return this.calendar === currentUser()?.email;\n    }\n\n    public get title() {\n        return this.is_host ? 'your' : \"the host'\";\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-locker-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <locker-flow-success *ngSwitchCase=\"'success'\">\n            </locker-flow-success>\n            <locker-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </locker-flow-confirm>\n            <locker-flow-form *ngSwitchDefault></locker-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookLockerFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingAsset, BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'locker-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-locker-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Locker Booking\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-locker\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class BookLockerFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as BookingAsset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { BookLockerFlowConfirmComponent } from './locker-flow-confirm.component';\n\n@Component({\n    selector: 'locker-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Locker\n                </h2>\n                <new-locker-form-details\n                    [form]=\"form\"\n                ></new-locker-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-locker-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Locker\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class BookLockerFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            BookLockerFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'locker', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'locker' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'locker-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/locker-success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    locker{{ last_event?.attendees?.length ? 's' : '' }} has\n                    been successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"locker-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class BookLockerFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const locker = this.last_event?.extension_data?.booking_asset;\n        if (!locker) return '';\n        return locker.zone\n            ? `, ${\n                  locker.zone.display_name || locker.zone.name || locker.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.lockers.show_calendar_links');\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService, Locker } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-locker-form-details',\n    styles: [],\n    template: `\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Building<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <mat-select\n                                [(ngModel)]=\"building\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                placeholder=\"Select Building\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let b of buildings | async\"\n                                    [value]=\"b\"\n                                >\n                                    {{ b.display_name || b.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                            [disabled]=\"form.value.duration > 24 * 60 - 1\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                            [custom_options]=\"custom_durations\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Locker</div>\n                </h3>\n                <locker-list-field\n                    formControlName=\"resources\"\n                ></locker-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class LockerFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for locker booking */\n    public readonly options = this._state.options;\n    /** List of set options for locker booking */\n    public readonly features = this._state.features;\n\n    /** Selected locker for booking */\n    public selected_locker: Locker;\n    public from_id = false;\n    public custom_durations = [];\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form\n                    .get('resources')\n                    ?.valueChanges?.subscribe((list) =>\n                        list?.length ? this.setBookingAsset(list[0]) : ''\n                    )\n            );\n            this.subscription(\n                'date',\n                this.form\n                    .get('date')\n                    ?.valueChanges?.subscribe((d) =>\n                        this._setCustomDateOptions()\n                    )\n            );\n            this._setCustomDateOptions();\n        }\n    }\n\n    private _setCustomDateOptions() {\n        for (const i of [1, 2, 3, 4, 5, 6, 7]) {\n            this.custom_durations.push(i * 24 * 60);\n        }\n    }\n\n    private setBookingAsset(locker: Locker) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!locker) return;\n        this.selected_locker = locker;\n        this._state.form.patchValue({\n            asset_id: locker?.id,\n            asset_name: locker.name,\n            map_id: locker?.bank_id || locker?.id,\n            description: locker.name,\n            booking_type: 'locker',\n            zones: [this.building.id],\n            booking_asset: locker,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-meeting-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <meeting-flow-success *ngSwitchCase=\"'success'\">\n            </meeting-flow-success>\n            <meeting-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </meeting-flow-confirm>\n            <meeting-flow-form *ngSwitchDefault></meeting-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookMeetingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, Input, Optional } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { validateAssetRequestsForResource } from '@placeos/assets';\nimport { CateringItem, CateringOrder } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    getTimezoneOffsetString,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport { EventFormService, formatRecurrence } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { addMinutes, endOfDay, startOfDay } from 'date-fns';\nimport { AssetRequest } from 'libs/assets/src/lib/asset-request.class';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'meeting-flow-confirm-modal',\n    template: `\n        <div\n            header\n            class=\"p-4 flex items-center justify-center border-b border-base-200 relative\"\n        >\n            <button\n                icon\n                name=\"close-meeting-confirm\"\n                matRipple\n                mat-dialog-close\n                *ngIf=\"show_close\"\n                class=\"absolute left-2 top-1/2 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"text-xl font-medium\" i18n>Confirm Meeting booking</h2>\n            <mat-spinner\n                diameter=\"32\"\n                class=\"absolute right-2 top-1/2 -translate-y-1/2\"\n                [class.opacity-0]=\"!(loading | async)\"\n            ></mat-spinner>\n        </div>\n        <main\n            class=\"flex-1 min-w-[48rem] divide-y divide-base-200 p-4 space-y-4 max-h-[65vh] overflow-auto\"\n        >\n            <div class=\"flex divide-x divide-base-200\">\n                <div class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\">\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\">\n                        {{ event.title || 'Meeting Details' }}\n                    </h3>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon class=\"text-2xl\">today</app-icon>\n                        <div date>{{ event.date | date: 'fullDate' }}</div>\n                    </div>\n                    <div\n                        class=\"flex items-center space-x-2\"\n                        *ngIf=\"event.recurrence?.pattern\"\n                    >\n                        <app-icon class=\"text-2xl\">update</app-icon>\n                        <div date>{{ formatted_recurrence }}</div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon class=\"text-2xl\">schedule</app-icon>\n                        <div class=\"flex flex-col leading-tight\">\n                            <div time>{{ formattedTime() }}</div>\n                            <div class=\"text-xs opacity-30\" *ngIf=\"timezone\">\n                                {{ formattedTime(tz) }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.resources.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Booked Room</h3>\n                    <ng-container *ngFor=\"let s of event.resources\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon class=\"text-2xl\">layers</app-icon>\n                            <div>\n                                {{ level?.display_name || level?.name }},\n                                {{ s.display_name || s.name }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div>{{ location }}</div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"pr-4 py-4 pl-16 relative space-y-2\"\n                *ngIf=\"event.attendees.length\"\n            >\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>\n                    {{ event.attendees.length }}\n                    {event.attendees.length, plural,\n                        =1 {Attendee }\n                        other {Attendees }\n                    }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n            <div\n                class=\"flex divide-x divide-base-200\"\n                *ngIf=\"event.catering?.length || event.assets?.length\"\n            >\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.catering?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Catering</h3>\n                    <div class=\"flex flex-col space-y-2\">\n                        <div\n                            order\n                            *ngFor=\"let order of catering_orders\"\n                            class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                            [class.border-error]=\"end_time < order.deliver_at\"\n                            [class.border-base-300]=\"\n                                end_time >= order.deliver_at\n                            \"\n                        >\n                            <div class=\"flex items-center space-x-2 p-3\">\n                                <div class=\"flex-1 flex items-center space-x-2\">\n                                    <div class=\"text-sm\">\n                                        Order at\n                                        {{\n                                            order.deliver_at\n                                                | date: 'MMM d, ' + time_format\n                                        }}\n                                    </div>\n                                    <div\n                                        class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                        [matTooltip]=\"err_tooltip\"\n                                        *ngIf=\"end_time < order.deliver_at\"\n                                    >\n                                        <app-icon>priority_high</app-icon>\n                                    </div>\n                                    <div class=\"flex-1\"></div>\n                                    <div\n                                        class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                    >\n                                        {{ order.item_count }} item(s)\n                                    </div>\n                                    <div\n                                        class=\"text-xs bg-info text-info-content px-2 py-1 rounded\"\n                                    >\n                                        Total:\n                                        {{\n                                            order.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                            >\n                                <div\n                                    class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                    *ngFor=\"let item of order.items\"\n                                >\n                                    <div class=\"flex items-center flex-1\">\n                                        <span class=\"text-sm\">{{\n                                            item.name || 'Item'\n                                        }}</span>\n                                        <span\n                                            class=\"text-xs opacity-60 ml-4 font-normal\"\n                                            *ngIf=\"item.option_list?.length\"\n                                            [matTooltip]=\"optionList(item)\"\n                                        >\n                                            {{\n                                                item.option_list?.length || '0'\n                                            }}\n                                            option(s)\n                                        </span>\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                    >\n                                        x{{ item.quantity }}\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.unit_price_with_options / 100\n                                                | currency: currency_code\n                                        }}\n                                        ea\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"assets?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                        [class.!border-error]=\"has_conflict\"\n                        [class.!text-error]=\"has_conflict\"\n                    >\n                        <app-icon>{{\n                            has_conflict ? 'close' : 'done'\n                        }}</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Assets</h3>\n                    <div\n                        request\n                        *ngFor=\"let request of assets\"\n                        class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                        [class.border-error]=\"end_time < request.deliver_at\"\n                        [class.border-base-300]=\"end_time >= request.deliver_at\"\n                    >\n                        <div class=\"flex items-center space-x-2 p-3\">\n                            <div class=\"flex-1 flex items-center space-x-2\">\n                                <div class=\"text-sm\">\n                                    Requested for\n                                    {{\n                                        request.deliver_at_time\n                                            | date: 'MMM d, ' + time_format\n                                    }}\n                                </div>\n                                <div\n                                    class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                    [matTooltip]=\"err_tooltip(request)\"\n                                    *ngIf=\"\n                                        end_time < request.deliver_at ||\n                                        request.conflict\n                                    \"\n                                >\n                                    <app-icon>priority_high</app-icon>\n                                </div>\n                                <div class=\"flex-1\"></div>\n                                <div\n                                    class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                >\n                                    {{ request.item_count }} item(s)\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                        >\n                            <div\n                                class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                *ngFor=\"let item of request.items\"\n                            >\n                                <div class=\"flex items-center flex-1\">\n                                    <span class=\"text-sm\">{{\n                                        item.name || 'Item'\n                                    }}</span>\n                                </div>\n                                <div\n                                    class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                >\n                                    x{{ item.quantity }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pr-4 py-4 pl-16 relative space-y-2\" *ngIf=\"event.body\">\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>Notes</h3>\n                <div [innerHTML]=\"event.body | sanitize\"></div>\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-base-200 flex items-center justify-end\"\n            *ngIf=\"!(loading | async)\"\n        >\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-32\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-32\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmModalComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _loading = new BehaviorSubject(false);\n\n    private _date: DatePipe = new DatePipe('en');\n\n    public readonly loading = combineLatest([\n        this._event_form.loading,\n        this._loading,\n    ]).pipe(map(([a, b]) => a || b));\n    public readonly catering_orders;\n    public readonly assets;\n    public err_tooltip(request: AssetRequest) {\n        return request.conflict\n            ? 'Some of the items are not available for the selected date and time.'\n            : 'Delivery time is outside of the event time.\\nThis order will be ignored.';\n    }\n\n    public get has_conflict() {\n        return this.assets?.some((_) => _.conflict);\n    }\n\n    public formattedTime(tz?: string) {\n        const date = this.event.date;\n        const date_end = this.event.date_end;\n        const all_day = this.event.all_day;\n        const tz_format = this._date.transform(date, 'z', tz);\n        const start_date = this._date.transform(date, 'MMM d', tz);\n        const start_time = this._date.transform(date, this.time_format, tz);\n        const end_date = this._date.transform(date_end, 'MMM d', tz);\n        const end_time = this._date.transform(date_end, this.time_format, tz);\n\n        if (this.is_multiday) {\n            return `${start_date}${all_day ? '' : ', ' + start_time} - ${end_date}${all_day ? '' : ', ' + end_time}`;\n        } else if (all_day) {\n            return 'All Day';\n        }\n        return `${start_time} - ${end_time} ${'(' + tz_format + ')'}`;\n    }\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog,\n            );\n            if (result.reason !== 'done') return;\n            result.close();\n        }\n        const resp = await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            return false;\n        });\n        if (resp) this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._dialog_ref?.close(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get timezone() {\n        return this._settings.get('app.events.use_building_timezone')\n            ? this._org.building.timezone\n            : '';\n    }\n\n    public get tz() {\n        const tz = this.timezone;\n        if (!tz) return '';\n        return getTimezoneOffsetString(tz);\n    }\n\n    public get end_time() {\n        return this.event.all_day\n            ? endOfDay(this.event.date_end).valueOf()\n            : this.event.date_end;\n    }\n\n    public get event() {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space(): Space {\n        return this.event.resources[0];\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id),\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional()\n        private _dialog_ref: MatDialogRef<MeetingFlowConfirmModalComponent>,\n        private _dialog: MatDialog,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        const date = this.event.all_day\n            ? startOfDay(this.event.date).valueOf()\n            : this.event.date;\n        (this as any).catering_orders = this.event.catering?.map(\n            (order) =>\n                new CateringOrder({\n                    ...order,\n                    event: {\n                        ...this.event,\n                        date: date,\n                        date_end: addMinutes(\n                            date,\n                            this.event.duration,\n                        ).valueOf(),\n                    },\n                }),\n        );\n        (this as any).assets = this.event.assets?.map(\n            (_) => new AssetRequest({ ..._, event: this.event }),\n        );\n        this._space =\n            (await this._space_pipe.transform(\n                this.event.resources[0]?.email,\n            )) || this._space;\n        const changed_spaces =\n            !this._event_form.event ||\n            this.event.resources[0]?.id !== this._event_form.event?.space?.id;\n        const changed_times =\n            !this._event_form.event ||\n            this.event.date !== this._event_form.event.date ||\n            this.event.date_end !== this._event_form.event.date_end;\n        const event = this._event_form.form.value;\n        this._loading.next(true);\n        await validateAssetRequestsForResource(\n            this._event_form.event || {},\n            {\n                date: this.event.date,\n                duration: this.event.duration,\n                host: this.event.host,\n                all_day: this.event.all_day,\n                location_name:\n                    this._space?.display_name || this._space?.name || '',\n                location_id: this._space?.id || '',\n                zones: this._space?.level?.parent_id\n                    ? [this._space?.level?.parent_id]\n                    : [this._org.building?.id],\n                reset_state: changed_times,\n            },\n            event.assets,\n            changed_spaces || changed_times,\n        ).catch((e) => notifyError(e));\n        this.timeout(\n            'update_assets',\n            () => {\n                (this as any).assets = event.assets?.map(\n                    (_) => new AssetRequest({ ..._, event }),\n                );\n                this._event_form.form.patchValue({ assets: event.assets });\n            },\n            100,\n        );\n        this._loading.next(false);\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CateringItem } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    getTimezoneOffsetString,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    EventFormService,\n    formatRecurrence,\n} from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm',\n    template: `\n        <button\n            icon\n            matRipple\n            name=\"close-meeting-confirm\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 i18n>Confirm Meeting booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 px-2\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ event.title || 'Meeting Details' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon class=\"text-2xl\">today</app-icon>\n                    <div date>{{ event.date | date: 'fullDate' }}</div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"event.recurrence?.pattern\"\n                >\n                    <app-icon class=\"text-2xl\">update</app-icon>\n                    <div date>{{ formatted_recurrence }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon class=\"text-2xl\">schedule</app-icon>\n                    <div class=\"flex flex-col leading-tight\">\n                        <div time>{{ formattedTime() }}</div>\n                        <div class=\"text-xs opacity-30\" *ngIf=\"timezone\">\n                            {{ formattedTime(tz) }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            attendees\n            class=\"flex space-x-1 px-2\"\n            *ngIf=\"event.attendees.length\"\n        >\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>\n                    {{ event.attendees.length }}\n                    {event.attendees.length, plural,\n                        =1 {attendee }\n                        other {attendees }\n                    }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n        </section>\n        <section spaces class=\"flex space-x-1 px-2\" *ngIf=\"space?.id\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Booked Room</h3>\n                <ng-container *ngFor=\"let s of event.resources\">\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon class=\"text-2xl\">meeting_room</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ s.display_name || s.name }}\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon class=\"text-2xl\">place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-full\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n            }\n\n            h2 {\n                font-size: 1.5rem;\n                font-weight: medium;\n                margin-bottom: 0.5rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _date: DatePipe = new DatePipe('en');\n\n    public readonly loading = this._event_form.loading;\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog,\n            );\n            if (result.reason !== 'done') return;\n        }\n        await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public formattedTime(tz?: string) {\n        const date = this.event.date;\n        const date_end = this.event.date_end;\n        const all_day = this.event.all_day;\n        const tz_format = this._date.transform(date, 'z', tz);\n        const start_date = this._date.transform(date, 'MMM d', tz);\n        const start_time = this._date.transform(date, this.time_format, tz);\n        const end_date = this._date.transform(date_end, 'MMM d', tz);\n        const end_time = this._date.transform(date_end, this.time_format, tz);\n\n        if (this.is_multiday) {\n            return `${start_date}${all_day ? '' : ', ' + start_time} - ${end_date}${all_day ? '' : ', ' + end_time}`;\n        } else if (all_day) {\n            return 'All Day';\n        }\n        return `${start_time} - ${end_time} ${'(' + tz_format + ')'}`;\n    }\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get timezone() {\n        return this._settings.get('app.events.use_building_timezone')\n            ? this._org.building.timezone\n            : '';\n    }\n\n    public get tz() {\n        const tz = this.timezone;\n        if (!tz) return '';\n        return getTimezoneOffsetString(tz);\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    public get event(): CalendarEvent {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space() {\n        return this._space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id),\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    constructor(\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        private _dialog: MatDialog,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(this.event.resources[0].email)) ||\n            this._space;\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    notifyWarn,\n    openConfirmModal,\n    SettingsService,\n    UserIdleTimeService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { FindAvailabilityModalComponent } from '@placeos/users';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow-confirm-modal.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow-confirm.component';\nimport { AssetStateService } from 'libs/assets/src/lib/asset-state.service';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\n\n@Component({\n    selector: 'meeting-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-300\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-300\"\n                >\n                    {{ !!form.value.id ? 'Edit' : 'Book' }}\n                    {{ 'WPA.BOOK_MEETING_HEADING' | translate }}\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                    *ngIf=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.DETAILS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-details-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <meeting-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></meeting-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_attendees\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.ATTENDEES' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                matRipple\n                                name=\"find-attendee-availability\"\n                                class=\"bg-none underline text-xs text-info\"\n                                (click)=\"findAvailableTime()\"\n                            >\n                                {{ 'WPA.AVAILABILITY' | translate }}\n                            </button>\n                            <button\n                                icon\n                                name=\"toggle-attendees-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.attendees = !hide_block.attendees\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.attendees\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.attendees ? 'hide' : 'show'\"\n                        >\n                            <a-user-list-field\n                                class=\"mt-4\"\n                                formControlName=\"attendees\"\n                                [time]=\"form.value.date\"\n                                [guests]=\"allow_externals\"\n                            ></a-user-list-field>\n                            <label for=\"visitor_entity\">Vistor's Entity:</label>\n                            <mat-form-field appearance=\"outline\" class=\"w-full\">\n                                <input\n                                    matInput\n                                    name=\"visitor_entity\"\n                                    formControlName=\"visitor_entity\"\n                                    placeholder=\"Organisational Entity of the Host\"\n                                    [matAutocomplete]=\"auto\"\n                                />\n                            </mat-form-field>\n                            <mat-autocomplete\n                                #auto=\"matAutocomplete\"\n                                class=\"w-full\"\n                            >\n                                <mat-option\n                                    *ngFor=\"\n                                        let option of filtered_visitor_entities\n                                            | async\n                                    \"\n                                    [value]=\"option\"\n                                >\n                                    {{ option }}\n                                </mat-option>\n                            </mat-autocomplete>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                3\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ROOM' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-spaces-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.resources = !hide_block.resources\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.resources\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden flex flex-col items-center\"\n                            [@show]=\"hide_block.resources ? 'hide' : 'show'\"\n                        >\n                            <div\n                                *ngIf=\"\n                                    !strict_capacity_check &&\n                                    total_capacity &&\n                                    total_capacity <=\n                                        form.value.attendees?.length\n                                \"\n                                class=\"bg-warning text-warning-content rounded shadow p-2 text-xs mx-auto my-2 inline-flex\"\n                            >\n                                The selected room has less capacity than the\n                                number of meeting attendees.\n                            </div>\n                            <space-list-field\n                                class=\"w-full\"\n                                formControlName=\"resources\"\n                                [multiday]=\"allow_multiday\"\n                            ></space-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_catering | async\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                4\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.CATERING' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-catering-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.catering = !hide_block.catering\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.catering\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.catering ? 'hide' : 'show'\"\n                        >\n                            <catering-list-field\n                                formControlName=\"catering\"\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : '',\n                                }\"\n                            ></catering-list-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full mt-2\"\n                                *ngIf=\"\n                                    form.value.catering?.length && has_codes\n                                        | async\n                                \"\n                                (openedChange)=\"focusInput()\"\n                            >\n                                <mat-select\n                                    formControlName=\"catering_charge_code\"\n                                    placeholder=\"Charge Code\"\n                                >\n                                    <input\n                                        #input\n                                        class=\"sticky top-0 bg-base-100 px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-base-200 w-full rounded-none z-50\"\n                                        [ngModel]=\"code_filter.getValue()\"\n                                        (ngModelChange)=\"\n                                            code_filter.next($event)\n                                        \"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                        placeholder=\"Search charge codes...\"\n                                    />\n                                    <mat-option class=\"hidden\"></mat-option>\n                                    <mat-option\n                                        *ngFor=\"\n                                            let code of filtered_codes | async\n                                        \"\n                                        [value]=\"code\"\n                                    >\n                                        {{ code }}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Catering charge code is required\n                                </mat-error>\n                            </mat-form-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full\"\n                                [class.mt-2]=\"\n                                    !(\n                                        form.value.catering?.length && has_codes\n                                        | async\n                                    )\n                                \"\n                                *ngIf=\"form.value.catering?.length\"\n                            >\n                                <textarea\n                                    matInput\n                                    formControlName=\"catering_notes\"\n                                    placeholder=\"Extra catering details...\"\n                                ></textarea>\n                                <mat-error>\n                                    Catering Order notes are required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_assets\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{ !(has_catering | async) ? '4' : '5' }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ASSETS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-assets-meeting\"\n                                matRipple\n                                (click)=\"hide_block.assets = !hide_block.assets\"\n                            >\n                                <app-icon>{{\n                                    hide_block.assets\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.assets ? 'hide' : 'show'\"\n                        >\n                            <asset-list-field\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : '',\n                                }\"\n                                [rejected_ids]=\"invalid_assets\"\n                                formControlName=\"assets\"\n                            ></asset-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_notes\">\n                        <h3 class=\"space-x-2 flex items-center mb-4\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{\n                                    !(has_catering | async) || !has_assets\n                                        ? !(has_catering | async) && !has_assets\n                                            ? '4'\n                                            : '5'\n                                        : '6'\n                                }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.NOTES' | translate }}\n                            </div>\n                        </h3>\n                        <div class=\"w-full flex flex-col\">\n                            <label for=\"notes\">\n                                {{ 'WPA.NOTES_INFO' | translate }}\n                            </label>\n                            <rich-text-input\n                                name=\"notes\"\n                                formControlName=\"body\"\n                                placeholder=\"Notes...\"\n                            ></rich-text-input>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            name=\"open-meeting-confirm\"\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                        >\n                            {{ 'WPA.CONFIRM_MEETING' | translate }}\n                        </button>\n                        <button\n                            btn\n                            name=\"clear-form-meeting\"\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                        >\n                            {!!form.value.id, select,\n                                true {Reset }\n                                false {Clear }\n                            }\n                            {{ 'WPA.CLEAR_FORM' | translate }}\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class MeetingFlowFormComponent extends AsyncHandler {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public dialog_ref: MatDialogRef<any>;\n    public hide_block: Record<string, boolean> = {};\n    public code_filter = new BehaviorSubject('');\n    public invalid_assets: string[] = [];\n\n    private _visitor_entity = new BehaviorSubject<string>('');\n\n    public readonly visitor_entity_list: Observable<string[]> =\n        this._org.initialised.pipe(\n            filter((_) => !!_),\n            switchMap((_) =>\n                showMetadata(\n                    this._org.organisation.id,\n                    'visitor_entities',\n                ).pipe(catchError(() => of({ details: [] } as any))),\n            ),\n            map((_: PlaceMetadata) =>\n                _.details instanceof Array ? _.details : [],\n            ),\n            shareReplay(1),\n        );\n\n    public filtered_visitor_entities = combineLatest([\n        this.visitor_entity_list,\n        this._visitor_entity,\n    ]).pipe(\n        map(([list, entity]) =>\n            entity\n                ? list.filter((_) =>\n                      _.toLowerCase().includes(entity.toLowerCase()),\n                  )\n                : list,\n        ),\n    );\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0),\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        }),\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase())),\n        ),\n    );\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get event() {\n        return this._state.event;\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get allow_externals() {\n        return this._settings.get('app.events.allow_externals');\n    }\n\n    public get strict_capacity_check() {\n        return this._settings.get('app.events.strict_capacity_check');\n    }\n\n    public get total_capacity() {\n        return (\n            this.form.value.resources?.reduce((c, i) => c + i.capacity, 0) || 0\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._state.is_multiday\n        );\n    }\n\n    public get attendee_count() {\n        const user = currentUser();\n        let count = this.form.value.attendees?.length || 0;\n        if (\n            !this.form.value.attendees.find(\n                (_) => _.email.toLowerCase() === user.email.toLowerCase(),\n            )\n        ) {\n            count += 1;\n        }\n        return count;\n    }\n\n    private _space_list = new BehaviorSubject<Space[]>([]);\n\n    private _assets_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._assets.setOptions({\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            } as any);\n            return combineLatest([\n                this._assets.filtered_assets,\n                this._assets.disabled_rooms,\n            ]).pipe(\n                map(([items, disabled_rooms]) => {\n                    const assets_available = space_list.every(\n                        (s) =>\n                            items.filter(\n                                (_) =>\n                                    !(_ as any).hide_for_zones?.find((z) =>\n                                        s.zones.includes(z),\n                                    ),\n                            ).length > 0,\n                    );\n                    if (\n                        assets_available &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _),\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, assets, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (assets?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ assets: [] });\n                        notifyWarn(\n                            `Assets are unavailable for some of the selected spaces.`,\n                        );\n                    }\n                    return false;\n                }),\n            );\n        }),\n    );\n\n    private _catering_available = combineLatest([\n        this._space_list,\n        this.has_catering,\n    ]).pipe(\n        debounceTime(300),\n        switchMap(([space_list, has_catering]) => {\n            if (!space_list?.length || !has_catering) return of(false);\n            const value = this.form.getRawValue();\n            this._catering.setFilters({\n                search: '',\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            });\n            return combineLatest([\n                this._catering.filtered_menu,\n                this._catering.availability,\n            ]).pipe(\n                map(([menu, disabled_rooms]) => {\n                    const can_cater = space_list.every(\n                        (s) =>\n                            menu.filter(\n                                (_) =>\n                                    !_.hide_for_zones.find((z) =>\n                                        s.zones.includes(z),\n                                    ),\n                            ).length > 0,\n                    );\n                    if (\n                        can_cater &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _),\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, catering, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (catering?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ catering: [] });\n                        notifyWarn(\n                            `Catering is unavailable for some of the selected spaces.`,\n                        );\n                    }\n                    return false;\n                }),\n            );\n        }),\n    );\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get allow_daily_allday_recurrence() {\n        return this._settings.get('app.events.allow_daily_allday_recurrence');\n    }\n\n    public readonly viewConfirm = () => {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (\n            this.strict_capacity_check &&\n            this.attendee_count > this.total_capacity\n        ) {\n            return notifyError(\n                'Attendee count is greater than the capacity of the selected rooms',\n            );\n        }\n        if (\n            !this.allow_daily_allday_recurrence &&\n            this.form.value.all_day &&\n            this.form.value.recurrence?.pattern === 'daily'\n        ) {\n            return notifyError(\n                'Daily recurrence for all day meetings are not allowed.',\n            );\n        }\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', ',\n                )}]`,\n            );\n        if (\n            this._settings.get('app.events.no_standalone') &&\n            !this.form.value.resources.length\n        )\n            return notifyError('You need to select a room to make a booking');\n        if (this._settings.get('app.events.booking_unavailable'))\n            return this._state.openEventLinkModal();\n        if (window.innerWidth >= 768) {\n            this.dialog_ref = this._dialog.open(\n                MeetingFlowConfirmModalComponent,\n            );\n            this.dialog_ref.componentInstance.show_close = true;\n            this.dialog_ref.afterClosed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        } else {\n            this.sheet_ref = this._bottom_sheet.open(\n                MeetingFlowConfirmComponent,\n            );\n            this.sheet_ref.instance.show_close = true;\n            this.sheet_ref.afterDismissed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        }\n    };\n\n    @ViewChild('confirm_ref') private _confirm_ref: TemplateRef<any>;\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(\n        private _state: EventFormService,\n        private _catering: CateringOrderStateService,\n        private _assets: AssetStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _bottom_sheet: MatBottomSheet,\n        private _org: OrganisationService,\n        private _idle: UserIdleTimeService,\n    ) {\n        super();\n    }\n\n    private _updateValidAssets() {\n        this.invalid_assets = [];\n        if (!this.event?.id) return;\n        const requested_assets = this.form.value.assets || [];\n        const linked_bookings = this.event?.linked_bookings || [];\n        this.invalid_assets = requested_assets\n            .filter(\n                (_) =>\n                    !_._changed &&\n                    !linked_bookings.find(\n                        (bkn) => bkn.extension_data?.request_id === _.id,\n                    ),\n            )\n            .map((_) => _.id);\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'asset_changes',\n            this.form.controls.assets.valueChanges.subscribe(() =>\n                this._updateValidAssets(),\n            ),\n        );\n        for (const key of ['resources', 'date', 'duration', 'date_end']) {\n            this.subscription(\n                `${key}_changes`,\n                this.form.controls[key].valueChanges.subscribe(() =>\n                    this.timeout('check_resources', () =>\n                        this._space_list.next(this.form.value.resources || []),\n                    ),\n                ),\n            );\n        }\n        this._catering.setOptions({ zone: '' });\n        this._space_list.next(this.form.value.resources || []);\n        this.subscription(\n            'assets_available',\n            this._assets_available.subscribe((a) => {\n                if (!a) this.form.controls.assets.disable();\n                else this.form.controls.assets.enable();\n            }),\n        );\n        this.subscription(\n            'catering_available',\n            this._catering_available.subscribe((a) => {\n                if (!a) this.form.controls.catering.disable();\n                else this.form.controls.catering.enable();\n            }),\n        );\n        this.subscription(\n            'idle-listen',\n            this._idle\n                .idleFor(\n                    (this._settings.get('app.idle_timeout') || 5) * 60 * 1000,\n                )\n                .subscribe(async () => {\n                    this.unsub('idle');\n                    await openConfirmModal(\n                        {\n                            title: 'Idle Timeout',\n                            content: 'Your form data is out of date',\n                            icon: { content: 'update' },\n                            confirm_text: 'Refresh',\n                        },\n                        this._dialog,\n                    );\n                    this._state.newForm();\n                    location.reload();\n                }),\n        );\n        this.timeout(\n            'init_valid_assets',\n            () => this._updateValidAssets(),\n            1000,\n        );\n        this.subscription(\n            'entity_change',\n            this.form.valueChanges.subscribe(() => {\n                this._visitor_entity.next(\n                    this.form.getRawValue().visitor_entity,\n                );\n            }),\n        );\n        this._visitor_entity.next(this.form.getRawValue().visitor_entity);\n    }\n\n    public focusInput() {\n        this.timeout(\n            'input-focus',\n            () => {\n                this._input_el.nativeElement.value = '';\n                this._input_el?.nativeElement?.focus();\n            },\n            300,\n        );\n    }\n\n    public findAvailableTime() {\n        const { attendees, organiser, date, duration } = this.form.value;\n        const ref = this._dialog.open(FindAvailabilityModalComponent, {\n            data: {\n                users: attendees,\n                host: organiser || currentUser(),\n                date,\n                duration,\n            },\n        });\n        ref.afterClosed().subscribe((d) => {\n            if (!d) return;\n            this.form.patchValue({\n                date: ref.componentInstance.date,\n                attendees: ref.componentInstance.users.getValue(),\n                duration: ref.componentInstance.duration,\n            });\n        });\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from '@placeos/spaces';\nimport { set } from 'date-fns';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'meeting-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.BOOKING_CONFIRMED' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span *ngIf=\"space\">\n                        room booking for\n                        {{ level?.display_name || level?.name\n                        }}<span *ngIf=\"level\">,</span>\n                        {{ space?.display_name || space?.name }}\n                    </span>\n                    <span *ngIf=\"!space\">meeting</span> has been successfully\n                    booked for {{ last_event.date | date: 'mediumDate'\n                    }}<span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n                <div class=\"h-4\"></div>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-48\"\n                    *ngIf=\"space?.email && allow_desk_booking\"\n                    (click)=\"startDeskBooking()\"\n                >\n                    Book nearby desk\n                </button>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"meeting-created-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class MeetingFlowSuccessComponent {\n    private _space_pipe: SpacePipe = new SpacePipe(this._org);\n\n    public get allow_desk_booking() {\n        return this._settings.get('app.features').includes('desks');\n    }\n\n    public get last_event() {\n        return this._event_form.last_success;\n    }\n\n    public get space() {\n        return this.last_event.space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones);\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public startDeskBooking() {\n        this._router.navigate(['/book', 'new-desks', 'form']);\n        setTimeout(async () => {\n            this._booking_form.newForm();\n            const space = await this._space_pipe.transform(\n                this.space.id || this.space.email,\n            );\n            const level = this._org.levelWithID(space?.zones);\n            this._booking_form.setOptions({ type: 'desk', zone_id: level?.id });\n            this._booking_form.form.patchValue({\n                date: set(this.last_event.date, {\n                    hours: 8,\n                    minutes: 0,\n                }).valueOf(),\n                duration: 10 * 60,\n                all_day: this.last_event.all_day,\n                booking_type: 'desk',\n            });\n            console.log('Space:', space);\n            const resources = await this._booking_form.available_resources\n                .pipe(take(1))\n                .toPromise();\n            const bookable_desks = resources\n                .map((_) => _.map_id || _.id)\n                .filter((i) => i);\n            const nearby = await findNearbyFeature(\n                level.map_id,\n                space?.map_id,\n                bookable_desks,\n            );\n            if (!nearby) return notifyError('No available desks nearby');\n            const resource = resources.find((_) => _.map_id === nearby);\n            this._booking_form.form.patchValue({\n                date: set(this.last_event.date, {\n                    hours: 8,\n                    minutes: 0,\n                }).valueOf(),\n                duration: 10 * 60,\n                all_day: this.last_event.all_day,\n                booking_type: 'desk',\n                asset_id: nearby,\n                asset_name: resource.name,\n                resources: [resource],\n            });\n        }, 50);\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n        private _booking_form: BookingFormService,\n        private _router: Router,\n    ) {}\n}\n","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    formatDuration,\n    set,\n    startOfDay,\n} from 'date-fns';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n} from 'rxjs/operators';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\">{{ 'FORM.TITLE' | translate }}</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error>{{\n                            'FORM.TITLE_ERROR' | translate\n                        }}</mat-error>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex-1 min-w-[256px] relative\"\n                    *ngIf=\"!allow_multiday\"\n                >\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                        [use_24hr]=\"use_24hr\"\n                        [timezone]=\"timezone\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center flex-wrap sm:space-x-2\"\n                *ngIf=\"allow_multiday\"\n            >\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                        [use_24hr]=\"use_24hr\"\n                        [timezone]=\"timezone\"\n                        [range]=\"1\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.END_DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date_end\"\n                        [from]=\"start_date\"\n                        [to]=\"end_date\"\n                        [use_24hr]=\"use_24hr\"\n                        [timezone]=\"timezone\"\n                        [range]=\"2\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngIf=\"!form.value.all_day\"\n            >\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\">\n                        {{ 'FORM.START_TIME' | translate }}\n                        <span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.getRawValue().date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                        [timezone]=\"timezone\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"end-time\"\n                        [ngModel]=\"form.value.date_end\"\n                        (ngModelChange)=\"form.patchValue({ date_end: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [from]=\"form?.getRawValue()?.date + 30 * 60 * 1000\"\n                        [use_24hr]=\"use_24hr\"\n                        [extra_info_fn]=\"duration_info\"\n                        [timezone]=\"timezone\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"!allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.getRawValue()?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                        [timezone]=\"timezone\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n                <div class=\"flex flex-col flex-1\">\n                    <label for=\"host_entity\">Host's Entity:</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"host_entity\"\n                            formControlName=\"host_entity\"\n                            placeholder=\"Organisational Entity of the Host\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                    </mat-form-field>\n                    <mat-autocomplete #auto=\"matAutocomplete\" class=\"w-full\">\n                        <mat-option\n                            *ngFor=\"let option of filtered_entities | async\"\n                            [value]=\"option\"\n                        >\n                            {{ option }}\n                        </mat-option>\n                    </mat-autocomplete>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_anyone\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <a-user-search-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n                <div class=\"flex flex-col flex-1\">\n                    <label for=\"host_entity\">Host's Entity:</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"host_entity\"\n                            formControlName=\"host_entity\"\n                            placeholder=\"Organisational Entity of the Host\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                    </mat-form-field>\n                    <mat-autocomplete #auto=\"matAutocomplete\" class=\"w-full\">\n                        <mat-option\n                            *ngFor=\"let option of filtered_entities | async\"\n                            [value]=\"option\"\n                        >\n                            {{ option }}\n                        </mat-option>\n                    </mat-autocomplete>\n                </div>\n            </div>\n            <div *ngIf=\"allow_recurrence\" class=\"w-full flex flex-col\">\n                <label for=\"recurrence\">\n                    {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                </label>\n                <recurrence-field\n                    name=\"recurrence\"\n                    [date]=\"form.getRawValue().date\"\n                    formControlName=\"recurrence\"\n                ></recurrence-field>\n                <mat-checkbox\n                    *ngIf=\"form.value.id\"\n                    formControlName=\"update_master\"\n                >\n                    Update all future events\n                </mat-checkbox>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class MeetingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    private _host_entity = new BehaviorSubject<string>('');\n\n    public readonly host_entity_list: Observable<string[]> =\n        this._org.initialised.pipe(\n            filter((_) => !!_),\n            switchMap((_) =>\n                showMetadata(this._org.organisation.id, 'host_entities').pipe(\n                    catchError(() => of({ details: [] } as any)),\n                ),\n            ),\n            map((_: PlaceMetadata) =>\n                _.details instanceof Array ? _.details : [],\n            ),\n            shareReplay(1),\n        );\n\n    public filtered_entities = combineLatest([\n        this.host_entity_list,\n        this._host_entity,\n    ]).pipe(\n        map(([list, entity]) =>\n            entity\n                ? list.filter((_) =>\n                      _.toLowerCase().includes(entity.toLowerCase()),\n                  )\n                : list,\n        ),\n    );\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get can_book_for_anyone() {\n        return this._settings.get('app.events.can_book_for_anyone');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get allow_recurrence() {\n        return (\n            this._settings.get('app.events.allow_recurrence') &&\n            this.form.value.duration <= 24 * 60\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._event_form.is_multiday\n        );\n    }\n\n    public get timezone() {\n        return this._settings.get('app.events.use_building_timezone')\n            ? this._org.building.timezone\n            : '';\n    }\n\n    public get start_date() {\n        const date = this.form.getRawValue().date;\n        const date_end = this.form.getRawValue().date_end;\n        const is_next_day =\n            format(date, 'yyyy-MM-dd') !== format(date_end, 'yyyy-MM-dd');\n        return is_next_day\n            ? startOfDay(date).valueOf()\n            : addMinutes(date, 30).valueOf();\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180,\n            ),\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly duration_info = (time: number) => {\n        const date = this.form.getRawValue().date;\n        if (format(date, 'yyyy-MM-dd') !== format(time, 'yyyy-MM-dd'))\n            return '';\n        const diff = differenceInMinutes(time, date);\n        return ` (${formatDuration({\n            hours: Math.floor(diff / 60),\n            minutes: diff % 60,\n        })})`;\n    };\n\n    constructor(\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'host_entity_change',\n                this.form.valueChanges.subscribe(() => {\n                    this._host_entity.next(this.form.getRawValue().host_entity);\n                }),\n            );\n            this._host_entity.next(this.form.getRawValue().host_entity);\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyInfo } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-new-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <new-desk-flow-success></new-desk-flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <new-desk-flow-form></new-desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        this._state.setOptions({ type: 'desk' });\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.has('success')) {\n                    this._state.setView(params.get('success') as any);\n                }\n                if (params.has('asset_id')) {\n                    const id = params.get('asset_id');\n                    const resources = await this._state.resources\n                        .pipe(take(1))\n                        .toPromise();\n                    let asset = resources.find((_) => _.id === id);\n                    if (!asset) {\n                        return notifyInfo(\n                            'Unable to find desk with given asset ID.'\n                        );\n                    }\n                    this._state.form.patchValue({\n                        resources: [\n                            new Desk({\n                                id: asset.id,\n                                name: asset.name || asset.id,\n                            }),\n                        ],\n                    });\n                }\n            })\n        );\n    }\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService, DAYS_OF_WEEK_INDEX } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    SettingsService,\n    getTimezoneOffsetString,\n    notifyError,\n} from '@placeos/common';\nimport { formatRecurrence } from '@placeos/events';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addMinutes, endOfDay } from 'date-fns';\nimport { map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'new-desk-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-desk-confirm\"\n            matRipple\n            class=\"absolute right-2 top-2 bg-base-200\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-4 pt-4\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>Confirm Desk Booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon class=\"text-2xl\">calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"\n                        booking.recurrence_type &&\n                        booking.recurrence_type !== 'none'\n                    \"\n                >\n                    <app-icon class=\"text-2xl\">update</app-icon>\n                    <div date>{{ formatted_recurrence }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon class=\"text-2xl\">schedule</app-icon>\n                    <div class=\"flex flex-col leading-tight\">\n                        <div time>{{ formattedTime() }}</div>\n                        <div class=\"text-xs opacity-30\" *ngIf=\"timezone\">\n                            {{ formattedTime(tz) }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            desk\n            class=\"flex space-x-1 py-4 px-2 border-t border-neutral\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>{{\n                        (is_group | async) ? 'Multiple Desks' : 'Single desk'\n                    }}</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t max-h-[50vh] overflow-auto\"\n            *ngIf=\"assets.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"flex-1 leading-6 w-1/2 pr-2\">\n                <h3 i18n>Asset Requests</h3>\n                <div\n                    request\n                    *ngFor=\"let request of assets\"\n                    class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                    [class.border-error]=\"end_time < request.deliver_at\"\n                    [class.border-base-300]=\"end_time >= request.deliver_at\"\n                >\n                    <div class=\"flex items-center space-x-2 p-3\">\n                        <div class=\"flex-1 flex items-center space-x-2\">\n                            <div class=\"text-sm\">\n                                Requested for\n                                {{\n                                    request.deliver_at_time\n                                        | date: 'MMM d, ' + time_format\n                                }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < request.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                            <div class=\"flex-1\"></div>\n                            <div\n                                class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                            >\n                                {{ request.item_count }} item(s)\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    >\n                        <div\n                            class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                            *ngFor=\"let item of request.items\"\n                        >\n                            <div class=\"flex items-center flex-1\">\n                                <span class=\"text-sm\">{{\n                                    item.name || 'Item'\n                                }}</span>\n                            </div>\n                            <div\n                                class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                            >\n                                x{{ item.quantity }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"needs_locker\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Requested Locker</h3>\n                <div class=\"flex space-x-2\">\n                    <span>Locker E-043</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-desk\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class NewDeskFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _date: DatePipe = new DatePipe('en');\n\n    public readonly loading = this._state.loading;\n    public readonly is_group = this._state.options.pipe(map((_) => _.group));\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(\n                typeof e === 'string'\n                    ? e\n                    : `Desk unavailable at the selected time`,\n            );\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public formattedTime(tz?: string) {\n        const date = this.booking.date;\n        const date_end = this.booking.date_end;\n        const all_day = this.booking.all_day;\n        const tz_format = this._date.transform(date, 'z', tz);\n        const start_date = this._date.transform(date, 'MMM d', tz);\n        const start_time = this._date.transform(date, this.time_format, tz);\n        const end_date = this._date.transform(date_end, 'MMM d', tz);\n        const end_time = this._date.transform(date_end, this.time_format, tz);\n\n        if (this.is_multiday) {\n            return `${start_date}${all_day ? '' : ', ' + start_time} - ${end_date}${all_day ? '' : ', ' + end_time}`;\n        } else if (all_day) {\n            return 'All Day';\n        }\n        return `${start_time} - ${end_time} ${'(' + tz_format + ')'}`;\n    }\n\n    public get end_time() {\n        const end = addMinutes(\n            this.booking.date,\n            this.booking.duration,\n        ).valueOf();\n        return this.booking.all_day ? endOfDay(end).valueOf() : end;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get is_multiday() {\n        return this.booking.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get timezone() {\n        return this._settings.get('app.desks.use_building_timezone')\n            ? this._org.building.timezone\n            : '';\n    }\n\n    public get tz() {\n        const tz = this.timezone;\n        if (!tz) return '';\n        return getTimezoneOffsetString(tz);\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get needs_locker() {\n        return !!this.booking.secondary_resource;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as Desk;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id,\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id,\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            pattern: this.booking.recurrence_type,\n            start: this.booking.date,\n            end: this.booking.recurrence_end * 1000,\n            interval: this.booking.recurrence_interval,\n            days_of_week: new Array(7)\n                .fill(0)\n                .map((_, i) => i)\n                .filter(\n                    (i) => this.booking.recurrence_days & DAYS_OF_WEEK_INDEX[i],\n                ),\n        });\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow-confirm.component';\n\n@Component({\n    selector: 'new-desk-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Desk\n                </h2>\n                <new-desk-form-details [form]=\"form\"></new-desk-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-desk-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Desk\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class NewDeskFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        const { asset_id, resources } = this.form.getRawValue();\n        if (resources?.length && !asset_id) {\n            this.form.patchValue({ asset_id: resources[0].id });\n        }\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(NewDeskFlowConfirmComponent);\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._state.setView('success');\n                this._router.navigate(['/book', 'new-desks', 'success']);\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'desk' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'new-desk-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    desk{{ last_event?.attendees?.length ? 's' : '' }} has been\n                    successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for {{ last_event.date | date: 'mediumDate' }}\n                    <span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 p-2 w-full border-t bg-base-100 border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"desk-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class NewDeskFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const desk = this.last_event?.extension_data?.booking_asset;\n        if (!desk) return '';\n        return desk.zone\n            ? `, ${desk.zone.display_name || desk.zone.name || desk.zone.id}`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.desks.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        const event: any = {\n            ...this.last_event,\n            location: `${this.location}, ${this.last_event.asset_name || ''}`,\n        };\n        this.outlook_link = generateMicrosoftCalendarLink(event);\n        this.google_link = generateGoogleCalendarLink(event);\n        this.ical_link = generateCalendarFileLink(event);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n    BookingFormService,\n    DAYS_OF_WEEK_INDEX,\n    RecurrenceDays,\n} from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { RecurrenceDetails } from '@placeos/events';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, getUnixTime, set } from 'date-fns';\n\n@Component({\n    selector: 'new-desk-form-details',\n    styles: [],\n    template: `\n        <!-- <div class=\"m-2 bg-warning p-2 text-center rounded shadow text-sm\">\n            The selected desk hasn't been booked. Please book the desk to be\n            able to check-in.\n        </div> -->\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"flex items-center\" *ngIf=\"allow_groups\">\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"!(options | async)?.group\"\n                    (click)=\"setOptions({ group: false, members: [] })\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                    <div class=\"\" i18n>Single</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"(options | async)?.group\"\n                        [class.bg-secondary]=\"!(options | async)?.group\"\n                    ></div>\n                </button>\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"(options | async)?.group\"\n                    (click)=\"setOptions({ group: true })\"\n                >\n                    <app-icon class=\"text-2xl\">group_add</app-icon>\n                    <div class=\"\" i18n>Group</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"!(options | async)?.group\"\n                        [class.bg-secondary]=\"(options | async)?.group\"\n                    ></div>\n                </button>\n            </section>\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div\n                    class=\"w-full\"\n                    *ngIf=\"can_book_for_others && !(options | async)?.group\"\n                >\n                    <label for=\"title\">Host<span>*</span></label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                        class=\"mb-4\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"title\">Add Title<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <input\n                                matInput\n                                name=\"title\"\n                                formControlName=\"title\"\n                                placeholder=\"e.g. Focus Time\"\n                            />\n                            <mat-error i18n\n                                >Booking title is required.</mat-error\n                            >\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px] relative\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field\n                            name=\"date\"\n                            formControlName=\"date\"\n                            [to]=\"end_date\"\n                            [timezone]=\"timezone\"\n                            i18n\n                        >\n                            Date and time must be in the future\n                        </a-date-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute -top-2 right-0\"\n                            i18n\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"!form.value.all_day\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                            [timezone]=\"timezone\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                            [timezone]=\"timezone\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n                <div *ngIf=\"can_recurr\" class=\"flex flex-col\">\n                    <label for=\"recurrence\">\n                        {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                    </label>\n                    <recurrence-field\n                        name=\"recurrence\"\n                        [date]=\"form.getRawValue().date\"\n                        [(ngModel)]=\"recurrence\"\n                        (ngModelChange)=\"onRecurrenceChange($event)\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></recurrence-field>\n                    <mat-checkbox\n                        *ngIf=\"form.value.id\"\n                        formControlName=\"update_master\"\n                    >\n                        Update all future events\n                    </mat-checkbox>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"can_book_lockers\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <mat-checkbox\n                            [ngModel]=\"!!form.value.secondary_resource\"\n                            (ngModelChange)=\"\n                                form.patchValue({\n                                    secondary_resource: $event ? 'locker' : '',\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            i18n\n                        >\n                            Require locker\n                        </mat-checkbox>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"(options | async)?.group\">\n                <h3 class=\"space-x-2 flex items-center\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        2\n                    </div>\n                    <div class=\"text-xl\" i18n>Group Members</div>\n                    <div class=\"flex-1 w-px\"></div>\n                </h3>\n                <div class=\"overflow-hidden\">\n                    <a-user-list-field\n                        class=\"mt-4\"\n                        [ngModel]=\"(options | async)?.members || []\"\n                        (ngModelChange)=\"setOptions({ members: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Desk</div>\n                </h3>\n                <desk-list-field formControlName=\"resources\"></desk-list-field>\n                <p\n                    *ngIf=\"(options | async)?.group\"\n                    class=\"text-center rounded px-2 py-1 bg-warning shadow text-xs\"\n                >\n                    Desks nearby to the selected desk will booked for group\n                    members\n                </p>\n            </section>\n            <section class=\"p-2\" *ngIf=\"has_assets\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 4 : 3 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Request Asset</div>\n                </h3>\n                <asset-list-field\n                    [options]=\"{\n                        date: form.getRawValue().date,\n                        duration: form.value.duration,\n                        all_day: form.value.all_day,\n                    }\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class NewDeskFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    /** Selected desk for booking */\n    public selected_desk: Desk;\n    public from_id = false;\n    public recurrence: RecurrenceDetails;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.allow_recurrence');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.desks.has_assets');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get timezone() {\n        return this._settings.get('app.desks.use_building_timezone')\n            ? this._org.building.timezone\n            : '';\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90,\n            ),\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            if (this.selected_desk?.id) {\n                this.form.patchValue({ resources: [this.selected_desk] });\n            }\n            this.initialiseRecurrence();\n        }\n    }\n\n    public initialiseRecurrence() {\n        const {\n            recurrence_type,\n            recurrence_days,\n            recurrence_interval,\n            recurrence_end,\n            date,\n        } = this.form.value;\n        if (!this.can_recurr) return;\n        this.recurrence = {\n            pattern: recurrence_type,\n            days_of_week: new Array(7)\n                .fill(0)\n                .map((_, i) => i)\n                .filter((i) => recurrence_days & DAYS_OF_WEEK_INDEX[i]),\n            interval: recurrence_interval,\n            start: date,\n            end: recurrence_end,\n        };\n    }\n\n    public onRecurrenceChange(recurrence: RecurrenceDetails) {\n        if (!recurrence.pattern) {\n            this.form.patchValue({ recurrence_type: 'none' });\n        } else if (recurrence.pattern === 'daily') {\n            this.form.patchValue({\n                recurrence_type: 'daily',\n                recurrence_days:\n                    RecurrenceDays.MONDAY |\n                    RecurrenceDays.TUESDAY |\n                    RecurrenceDays.WEDNESDAY |\n                    RecurrenceDays.THURSDAY |\n                    RecurrenceDays.FRIDAY,\n                recurrence_interval: recurrence.interval,\n                recurrence_end: getUnixTime(recurrence.end),\n            });\n        } else if (recurrence.pattern === 'weekly') {\n            this.form.patchValue({\n                recurrence_type: 'weekly',\n                recurrence_days: recurrence.days_of_week.reduce(\n                    (d, i) => d | DAYS_OF_WEEK_INDEX[i],\n                    0,\n                ),\n                recurrence_interval: recurrence.interval,\n                recurrence_end: getUnixTime(recurrence.end),\n            });\n        } else if (\n            recurrence.pattern === 'monthly' ||\n            recurrence.pattern === 'month_day'\n        ) {\n            const date = new Date(this.form.value.date).getDate();\n            let instance = Math.floor(date / 7) + (date % 7 ? 1 : 0);\n            if ((instance === 4 && date >= 25) || instance === 5) instance = -1;\n            this.form.patchValue({\n                recurrence_type: 'monthly',\n                recurrence_interval: recurrence.interval,\n                recurrence_nth_of_month: instance,\n                recurrence_end: getUnixTime(recurrence.end),\n            });\n        } else {\n            this.form.patchValue({ recurrence_type: 'none' });\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService, ParkingService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-new-parking-flow',\n    template: `\n        <ng-container *ngIf=\"!(deny_parking_access | async); else deny_state\">\n            <ng-container\n                *ngIf=\"!(assigned_space | async); else assigned_state\"\n            >\n                <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n                    <parking-flow-success *ngSwitchCase=\"'success'\">\n                    </parking-flow-success>\n                    <parking-flow-confirm *ngSwitchCase=\"'confirm'\">\n                    </parking-flow-confirm>\n                    <parking-flow-form *ngSwitchDefault></parking-flow-form>\n                </div>\n            </ng-container>\n        </ng-container>\n        <ng-template #assigned_state>\n            <div\n                class=\"bg-base-100 flex flex-col items-center justify-center h-full w-full z-50 space-y-4\"\n            >\n                <img src=\"assets/icons/parking-success.svg\" class=\"w-64 h-64\" />\n                <p>\n                    You are already assigned to parking space \"{{\n                        (assigned_space | async)?.name\n                    }}\"\n                </p>\n                <a btn matRipple class=\"w-48\" [routerLink]=\"['/your-bookings']\">\n                    View Your Bookings\n                </a>\n            </div>\n        </ng-template>\n        <ng-template #deny_state>\n            <div\n                class=\"bg-base-100 flex flex-col items-center justify-center h-full w-full z-50 space-y-4\"\n            >\n                <img src=\"assets/img/parking-space.svg\" class=\"w-64 h-64\" />\n                <p>\n                    Your user account is not allowed to book parking in this\n                    building.\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowComponent extends AsyncHandler implements OnInit {\n    public readonly deny_parking_access = this._parking.deny_parking_access;\n    public readonly assigned_space = this._parking.assigned_space;\n\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _parking: ParkingService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'parking' });\n        this._state.form.patchValue({ booking_type: 'parking' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-parking-flow-confirm',\n    template: ` <button\n            close\n            icon\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Parking Reservation\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            resource\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Car Park</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                confirm\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>`,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        const r = await this._state.postForm().catch((_) => {\n            notifyError(`Unable to complete booking. ${_}`);\n        });\n        if (!r) return;\n        this.dismiss(true);\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id,\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id,\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService, ParkingService } from '@placeos/bookings';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { NewParkingFlowConfirmComponent } from './parking-flow-confirm.component';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'parking-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    {{ form.value.id ? 'Edit' : 'Book' }} Parking Reservation\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\" i18n>Details</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <parking-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></parking-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\" i18n>Space</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"hide_block.space = !hide_block.space\"\n                            >\n                                <app-icon>{{\n                                    hide_block.space\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.space ? 'hide' : 'show'\"\n                        >\n                            <parking-space-list-field\n                                formControlName=\"resources\"\n                            ></parking-space-list-field>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                            i18n\n                        >\n                            Confirm Reservation\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                            i18n\n                        >\n                            {{ form.value.id ? 'Reset' : 'Clear' }} Form\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class ParkingFlowFormComponent extends AsyncHandler {\n    public hide_block: Record<string, boolean> = {};\n    public sheet_ref: any;\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get form() {\n        return this._state.form;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _bottom_sheet: MatBottomSheet,\n        private _parking: ParkingService,\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this.form.patchValue({ all_day: true, user: currentUser() });\n        const user = await this._parking.user_details.pipe(take(1)).toPromise();\n        if (user?.email) {\n            this.form.patchValue({ plate_number: user.plate_number });\n        }\n    }\n\n    public readonly viewConfirm = () => {\n        const { asset_id, resources } = this.form.getRawValue();\n        if (resources?.length && !asset_id) {\n            this.form.patchValue({ asset_id: resources[0].id });\n        }\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', ',\n                )}]`,\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            NewParkingFlowConfirmComponent,\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-parking', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'parking-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\" i18n>\n                    Parking Space Confirmed!\n                </h2>\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span>\n                        parking space reservation for\n                        {{ last_event.asset_name }} at {{ location }}, </span\n                    >has been successfully booked for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <img src=\"assets/icons/parking-success.svg\" />\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const resource = this.last_event?.extension_data?.booking_asset;\n        if (!resource) return '';\n        return resource.zone\n            ? `, ${\n                  resource.zone.display_name ||\n                  resource.zone.name ||\n                  resource.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.parking.show_calendar_links');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n    ) {}\n\n    public ngOnInit() {\n        const event: any = {\n            ...this.last_event,\n            location: `${this.location}, ${this.last_event.asset_name || ''}`,\n        };\n        this.outlook_link = generateMicrosoftCalendarLink(event);\n        this.google_link = generateGoogleCalendarLink(event);\n        this.ical_link = generateCalendarFileLink(event);\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay } from 'date-fns';\n\n@Component({\n    selector: 'parking-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Building<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of building_list | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Building is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Add Title<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error i18n>Meeting title is required.</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                        i18n\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                        i18n\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngIf=\"!form.value.all_day\"\n            >\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\" i18n\n                        >Start Time<span>*</span></label\n                    >\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\" i18n>End Time<span>*</span></label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    >\n                    </a-duration-field>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div class=\"flex flex-col\">\n                <label for=\"plate-number\" i18n>Plate Number</label>\n                <mat-form-field appearance=\"outline\" class=\"w-full\">\n                    <input\n                        matInput\n                        name=\"plate-number\"\n                        formControlName=\"plate_number\"\n                        placeholder=\"e.g. ABC123\"\n                    />\n                    <mat-error i18n>A plate number is required</mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly building = this._org.active_building;\n    public readonly building_list = this._org.building_list;\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.parking.available_period') || 7,\n            ),\n        );\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.bookings.max_duration') || 480;\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.parking.allow_all_day') || true;\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.bookings.can_book_for_others');\n    }\n\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-book-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <parking-flow-confirm></parking-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                        route=\"parking\"\n                        type=\"parking\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <parking-flow-map></parking-flow-map>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'parking-flow-confirm',\n    template: ``,\n    styles: [``]\n})\nexport class ParkingFlowConfirmComponent {\n    \n}","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { ExploreParkingService, ExploreStateService } from '@placeos/explore';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, format, startOfDay } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-ping',\n    template: `\n        <div\n            class=\"absolute inset-0 pointer-events-auto\"\n            [style.transform]=\"'scale(' + zoom * ratio + ')'\"\n        >\n            <div\n                class=\"absolute inset-0 animate-ping border-4 border-green-600\"\n            ></div>\n        </div>\n    `,\n})\nclass SpacePingComponent extends AsyncHandler {\n    public zoom = 1;\n    public ratio = 1;\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: any) {\n        super();\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe((_) => (this.zoom = _))\n        );\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => (this.ratio = _))\n        );\n    }\n}\n\n@Component({\n    selector: 'parking-flow-map',\n    template: `\n        <div\n            class=\"w-full h-full flex flex-col items-center relative\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <div\n                class=\"p-4 flex items-center justify-center bg-secondary w-full shadow z-10 text-white space-x-2\"\n            >\n                <button\n                    matRipple\n                    *ngFor=\"let date of dates\"\n                    [class.selected]=\"date.id === (options | async)?.date\"\n                    class=\"border border-white flex flex-col items-center justify-center h-24 w-28 rounded\"\n                    (click)=\"setDate(date.id)\"\n                >\n                    <p class=\"mb-2 font-medium\">{{ date.name }}</p>\n                    <p class=\"text-2xl\">\n                        {{ ((counts | async) || {})[date.id] || '0' }}\n                    </p>\n                    <p class=\"text-sm\">Available</p>\n                </button>\n            </div>\n            <div class=\"flex w-full h-1/2 flex-1 z-0\">\n                <div\n                    class=\"p-2 sm:w-[18rem] w-full h-full bg-base-200 shadow border-r border-base-200 z-10 overflow-auto space-y-2\"\n                >\n                    <div\n                        class=\"bg-base-100 sticky top-0 w-full z-10\"\n                        *ngIf=\"(levels | async)?.length > 1\"\n                    >\n                        <mat-form-field\n                            appearance=\"outline\"\n                            class=\"w-full h-[3.25rem]\"\n                        >\n                            <mat-select\n                                [ngModel]=\"level | async\"\n                                (ngModelChange)=\"setLevel($event?.id)\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let lvl of levels | async\"\n                                    [value]=\"lvl\"\n                                >\n                                    {{ lvl.display_name || lvl.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <p>{{ (available | async)?.length }} space(s) available</p>\n                    <button\n                        matRipple\n                        class=\"flex items-center justify-between bg-base-100 rounded-lg border border-base-200 p-2 w-full\"\n                        [class.active]=\"(active_space | async)?.id === space.id\"\n                        (click)=\"setActive(space)\"\n                        *ngFor=\"let space of available | async\"\n                    >\n                        <div class=\"text-lg\">Bay No. {{ space.name }}</div>\n                        <div class=\"opacity-60\">\n                            {{ levelName(space.zone_id) }}\n                        </div>\n                    </button>\n                </div>\n                <div\n                    class=\"bg-base-200 flex-1 w-1/2 h-full z-0 relative hidden sm:block\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                    ></interactive-map>\n                    <explore-zoom-controls\n                        class=\"absolute bottom-0 right-0\"\n                    ></explore-zoom-controls>\n                </div>\n                <div\n                    *ngIf=\"active_space | async\"\n                    class=\"absolute left-1/2 bottom-2 -translate-x-1/2 bg-base-100 shadow rounded p-4 flex flex-col space-y-2\"\n                >\n                    <p>\n                        Parking Bay No.\n                        {{ (active_space | async).name }} selected.\n                    </p>\n                    <p\n                        class=\"p-2 rounded text-sm max-w-[20rem] text-center text-pending leading-tight\"\n                        *ngIf=\"(existing | async)?.length\"\n                    >\n                        Note that your existing parking space reservation will\n                        be replaced\n                    </p>\n                    <button btn matRipple (click)=\"reserveSpace()\">\n                        Reserve Space\n                    </button>\n                </div>\n                <div\n                    class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50\"\n                    *ngIf=\"!(levels | async)?.length\"\n                >\n                    <p>\n                        Parking is not available for\n                        {{\n                            (building | async)?.display_name ||\n                                (building | async)?.name\n                        }}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50 space-y-2\"\n                *ngIf=\"!(levels | async)?.length\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Reserving parking space...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .active {\n                background-color: var(--s) !important;\n                color: #fff;\n            }\n\n            .selected {\n                background-color: #fff !important;\n                color: #000d;\n            }\n        `,\n    ],\n    providers: [ExploreParkingService],\n})\nexport class ParkingFlowMapComponent extends AsyncHandler {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n\n    public readonly building = this._org.active_building;\n\n    public readonly level = this._state.level;\n\n    public readonly levels = this._parking.levels;\n\n    public readonly available = this._parking.available_spaces;\n\n    // public readonly counts = this._parking.week_availablility;\n\n    public readonly options = this._parking.options;\n\n    public readonly loading = this._booking.loading;\n\n    public readonly active_space = new BehaviorSubject(null);\n\n    public readonly dates = new Array(7).fill(0).map((_, idx) => ({\n        id: startOfDay(addDays(Date.now(), idx)).valueOf(),\n        name: format(addDays(Date.now(), idx), 'EEE, dd MMM'),\n        available: 0,\n    }));\n\n    public readonly setDate = (d) => this._parking.setOptions({ date: d });\n\n    public levelName(zone_id) {\n        const lvl = this._org.levelWithID([zone_id]);\n        return lvl?.display_name || lvl?.name || '';\n    }\n\n    public setActive(space) {\n        if (space === this.active_space.getValue())\n            this.active_space.next(null);\n        else {\n            this._booking.form.patchValue({\n                asset_id: space.id,\n                asset_name: space.name,\n            });\n            this.active_space.next(space);\n        }\n    }\n\n    public readonly setLevel = (l) => this._state.setLevel(l);\n    public readonly reserveSpace = async () => {\n        // const events = await this._parking.user_events\n        //     .pipe(take(1))\n        //     .toPromise();\n        // if (events.length) this._booking.form.patchValue({ id: events[0].id }); // Prevent booking duplicate parking spaces\n        // await this._booking.postForm();\n        // this._router.navigate(['book', 'parking', 'success']);\n    };\n\n    constructor(\n        private _state: ExploreStateService,\n        private _parking: ExploreParkingService,\n        private _org: OrganisationService,\n        private _booking: BookingFormService,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.reset();\n        this.subscription(\n            'levels',\n            this._parking.levels.subscribe((levels) => {\n                this._state.setLevel(levels[0]?.id);\n            })\n        );\n        this.subscription(\n            'spaces',\n            this._parking.available_spaces.subscribe((spaces) => {\n                this._state.setActions(\n                    'parking_spaces',\n                    (spaces || []).map((_) => ({\n                        id: _.map_id,\n                        action: 'click',\n                        callback: () => this.setActive(_),\n                    }))\n                );\n            })\n        );\n        this.subscription(\n            'active_space',\n            this.active_space.subscribe((space) => {\n                if (!space) return this._state.setFeatures('parking_space', []);\n                this._state.setFeatures('parking_space', [\n                    {\n                        location: space.map_id,\n                        content: SpacePingComponent,\n                        full_size: true,\n                        z_index: 0,\n                    },\n                ]);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'find'\">\n                    <space-flow-find></space-flow-find>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <space-flow-confirm></space-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <space-flow-form></space-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookSpaceFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringItem } from '@placeos/catering';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'space-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'find']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div\n            class=\"flex flex-col items-center space-y-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n        >\n            <h2 class=\"text-xl uppercase font-medium w-full my-4\">\n                Your meeting details\n            </h2>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>event</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{ form.value.date | date: 'longDate' }}\n                    <span *ngIf=\"!form.value.all_day\">\n                        at {{ form.value.date | date: 'shortTime' }} ~\n                        {{\n                            form.value.date + form.value.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </span>\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                    >Edit</a\n                >\n            </div>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>schedule</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{\n                        form.value.all_day\n                            ? 'All Day'\n                            : (form.value.duration | duration)\n                    }}\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                >\n                    Edit\n                </a>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('resources')?.value?.length }} Space(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('resources')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_spaces = !show_spaces\"\n                    >\n                        {{ show_spaces ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'find']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_spaces\n                            ? '0'\n                            : form.get('resources')?.value?.length * 2.5 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-10 pl-12\"\n                        *ngFor=\"let space of form.get('resources')?.value\"\n                    >\n                        <span\n                            >{{ space.display_name || space.name }} [{{\n                                space.level?.display_name || space.level?.name\n                            }}]</span\n                        >\n\n                        <button\n                            matRipple\n                            class=\"bg-transparent border-none underline\"\n                            *ngIf=\"can_view_location\"\n                        >\n                            Map\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('attendees')?.value?.length || 0 }}\n                        Attendee(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('attendees')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_people = !show_people\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_people\n                            ? '0'\n                            : form.get('attendees')?.value?.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let user of form.get('attendees')?.value\"\n                    >\n                        <a-user-avatar\n                            class=\"text-sm\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <span>{{ user.name || user.email }}</span>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"border-b border-base-200 w-full\"\n                *ngIf=\"form.value.catering?.length\"\n            >\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.value.catering[0]?.item_count || 0 }}\n                        Catering Item(s)\n                    </div>\n                    <button\n                        matRipple\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_catering = !show_catering\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_catering\n                            ? '0'\n                            : form.value.catering[0]?.items.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let item of form.value.catering[0]?.items\"\n                    >\n                        <div class=\"flex-1 w-1/2\">\n                            <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                            <div\n                                class=\"text-xs underline\"\n                                *ngIf=\"item.options.length\"\n                                [matTooltip]=\"optionsFor(item)\"\n                            >\n                                {{ item.options.length }} option{{\n                                    item.options.length === 1 ? '' : 's'\n                                }}\n                                selected\n                            </div>\n                        </div>\n                        <div\n                            class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                        >\n                            {{ item.total_cost / 100 | currency: code }}\n                        </div>\n                        <a-counter [(ngModel)]=\"item.quantity\"></a-counter>\n                    </div>\n                </div>\n            </div>\n            <button\n                matRipple\n                class=\"w-32\"\n                confirm\n                [disabled]=\"loading\"\n                (click)=\"postForm()\"\n            >\n                <span *ngIf=\"!loading\">Confirm</span>\n                <mat-spinner\n                    class=\"mx-auto\"\n                    [diameter]=\"24\"\n                    *ngIf=\"loading\"\n                ></mat-spinner>\n            </button>\n        </div>\n        <\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n\n            [list] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowConfirmComponent {\n    public show_spaces = false;\n    public show_people = false;\n    public show_catering = false;\n    public loading = false;\n\n    public readonly postForm = async () => {\n        this.loading = true;\n        await this._state\n            .postForm()\n            .catch((_) =>\n                notifyError(\n                    _ instanceof Object ? _.message || 'Bad Request' : _\n                )\n            );\n        this.loading = false;\n    };\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public get can_view_location() {\n        return !this._settings.get('app.no_maps');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CateringOrder, CateringStateService } from '@placeos/catering';\nimport { SettingsService } from '@placeos/common';\nimport { EventFlowOptions } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'detailed-book-space-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <section class=\"mb-4 border-b border-base-200\">\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"date\">Date</label>\n                        <a-date-field name=\"date\" formControlName=\"date\">\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"start-time\">Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                        <label for=\"end-time\">End Time</label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute top-0 right-0\"\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"building\">Building</label>\n                        <mat-form-field\n                            overlay\n                            buildings\n                            class=\"w-full h-[3.25rem]\"\n                            *ngIf=\"(buildings | async)?.length > 1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                placeholder=\"Select Building...\"\n                                [ngModel]=\"building\"\n                                (ngModelChange)=\"setBuilding($event)\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"features\">Features</label>\n                        <mat-form-field\n                            class=\"w-full h-[3.25rem]\"\n                            overlay\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [placeholder]=\"'Any ' + features_label\"\n                                multiple\n                                [ngModel]=\"options?.features\"\n                                (ngModelChange)=\"\n                                    optionsChange.emit({ features: $event })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let item of features\"\n                                    [value]=\"item\"\n                                >\n                                    {{ item }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </section>\n            <section\n                class=\"mb-4 border-b border-base-200\"\n                *ngIf=\"can_book_for_others || !hide_attendees\"\n            >\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                    *ngIf=\"can_book_for_others\"\n                >\n                    <label for=\"host\">Host<span>*</span></label>\n                    <host-select-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></host-select-field>\n                </div>\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-2\"\n                    *ngIf=\"!hide_attendees\"\n                >\n                    <label for=\"attendees\">Attendees</label>\n                    <a-user-list-field\n                        name=\"attendees\"\n                        [hide_actions]=\"hide_actions\"\n                        formControlName=\"attendees\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"mb-4 border-b border-base-200\">\n                <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto\">\n                    <div class=\"flex flex-col\">\n                        <label for=\"title\"\n                            >Meeting Subject <span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"title\"\n                                matInput\n                                formControlName=\"title\"\n                                placeholder=\"Meeting title\"\n                            />\n                            <mat-error>Meeting Subject is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col resize-y mb-4\"\n                        *ngIf=\"!hide_notes\"\n                    >\n                        <label for=\"notes\">Notes</label>\n                        <rich-text-input\n                            name=\"notes\"\n                            formControlName=\"body\"\n                            placeholder=\"Add meeting notes here...\"\n                        ></rich-text-input>\n                    </div>\n                    <div class=\"flex flex-col mb-4\" *ngIf=\"has_catering\">\n                        <label>Catering</label>\n                        <an-action-field (onAction)=\"editCatering()\">\n                            <div\n                                class=\"opacity-40\"\n                                *ngIf=\"!form?.value.catering?.length\"\n                            >\n                                Add catering\n                            </div>\n                            <div\n                                class=\"flex items-center\"\n                                *ngIf=\"form?.value.catering?.length\"\n                            >\n                                <div class=\"flex-1 w-1/2\">\n                                    {{ form?.value.catering[0].item_count }}\n                                    item(s)\n                                </div>\n                                <div class=\"text-xs opacity-60 px-4\">\n                                    {{\n                                        form?.value.catering[0].total_cost / 100\n                                            | currency: code\n                                    }}\n                                </div>\n                            </div>\n                        </an-action-field>\n                    </div>\n                </div>\n            </section>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DetailBookSpaceFormComponent {\n    @Input() public form: FormGroup;\n    @Input() public options: EventFlowOptions;\n    @Input() public features: string[] = [];\n    @Output() public optionsChange = new EventEmitter<EventFlowOptions>();\n\n    public readonly buildings = this._org.building_list;\n    public readonly setBuilding = (b) => (this._org.building = b);\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get has_catering() {\n        return !!this._settings.get('app.events.has_catering');\n    }\n\n    public get hide_actions() {\n        return !!this._settings.get('app.events.hide_user_actions');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get show_features() {\n        return !!this._settings.get('app.events.features_on_form');\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public readonly editCatering = async () =>\n        this.form.patchValue({\n            catering: [\n                await this._catering.manageCateringOrder(\n                    (this.form.value.catering\n                        ? this.form.value.catering[0]\n                        : null) || new CateringOrder(),\n                ),\n            ],\n        });\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n    ) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Space } from '@placeos/spaces';\nimport { MapLocateModalComponent } from '@placeos/components';\n\n@Component({\n    selector: 'space-flow-find-item',\n    template: `\n        <div\n            class=\"flex items-center bg-base-100 p-2 my-2 shadow w-[640px] max-w-[calc(100%-2rem)] mx-auto rounded\"\n        >\n            <div class=\"flex flex-col flex-1 space-y-2 \">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <span\n                        >{{ space?.level?.display_name || space?.level?.name }},\n                        {{ space?.display_name || space?.name }}</span\n                    >\n                </div>\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <span>{{ space?.capacity || 0 }} People</span>\n                </div>\n            </div>\n            <div class=\"flex flex-col space-y-2 ml-2\">\n                <button\n                    matRipple\n                    book\n                    [class.bg-warning]=\"multiple && book\"\n                    [class.border-pending]=\"multiple && book\"\n                    (click)=\"bookSpace()\"\n                >\n                    {{ multiple ? (book ? 'Remove' : 'Select') : 'Book' }}\n                </button>\n                <button\n                    locate\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"viewLocation()\"\n                >\n                    Map\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFindItemComponent {\n    /** Space to display details for */\n    @Input() public space: Space;\n    /** Whether space should be booked */\n    @Input() public multiple: boolean;\n    /** Whether space should be booked */\n    @Input() public book: boolean;\n    /** Emitter for changes to book value */\n    @Output() public bookChange = new EventEmitter<boolean>();\n\n    constructor(private _dialog: MatDialog) {}\n\n    public bookSpace() {\n        this.book = this.multiple ? !this.book : true;\n        this.bookChange.emit(this.book);\n    }\n\n    public viewLocation() {\n        this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n    }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HashMap, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { combineLatest } from 'rxjs';\nimport { filter, first, map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-flow-find',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div filters>\n            <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto py-4\">\n                <h2 class=\"text-xl uppercase font-medium text-white\">\n                    Available Spaces\n                </h2>\n                <div\n                    class=\"flex flex-col items-center sm:flex-row space-x-0 sm:space-x-2\"\n                >\n                    <mat-form-field\n                        overlay\n                        buildings\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Select Building...\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        overlay\n                        *ngIf=\"(levels | async)?.length > 0\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Level\"\n                            [ngModel]=\"\n                                (options | async)?.zone_ids?.length\n                                    ? (options | async)?.zone_ids[0]\n                                    : ''\n                            \"\n                            (ngModelChange)=\"setOptions({ zone_ids: [$event] })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of levels | async\"\n                                [value]=\"item.id\"\n                            >\n                                {{ item.display_name || item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Any Capacity\"\n                            [ngModel]=\"(options | async)?.capacity\"\n                            (ngModelChange)=\"setOptions({ capacity: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of quick_capacities\"\n                                [value]=\"item.value\"\n                            >\n                                {{ item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                        *ngIf=\"(features | async)?.length\"\n                    >\n                        <mat-select\n                            [placeholder]=\"'Any ' + features_label\"\n                            multiple\n                            [ngModel]=\"(options | async)?.features\"\n                            (ngModelChange)=\"setOptions({ features: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of features | async\"\n                                [value]=\"item\"\n                            >\n                                {{ item }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div class=\"flex-1 w-full bg-base-200 overflow-auto\">\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ng-container\n                    *ngIf=\"(spaces | async)?.length > 0; else empty_state\"\n                >\n                    <space-flow-find-item\n                        *ngFor=\"let space of spaces | async\"\n                        class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto \"\n                        [space]=\"space\"\n                        [multiple]=\"multiple\"\n                        [book]=\"book_space[space.id]\"\n                        (bookChange)=\"handleBookEvent(space, $event)\"\n                    ></space-flow-find-item>\n                    <p class=\"p-4 text-center opacity-60\">\n                        End of available spaces list\n                    </p>\n                </ng-container>\n            </ng-container>\n        </div>\n        <div *ngIf=\"multiple\" class=\"bg-base-100 border-t border-base-200\">\n            <div\n                class=\"flex items-center w-[640px] max-w-[calc(100%-2rem)] mx-auto p-2\"\n            >\n                <div class=\"flex-1 underline\" [matMenuTriggerFor]=\"menu\">\n                    {{ space_list?.length }} space(s) selected\n                </div>\n                <button\n                    class=\"w-32\"\n                    [disabled]=\"!space_list?.length\"\n                    btn\n                    matRipple\n                    (click)=\"confirmBooking()\"\n                >\n                    Book\n                </button>\n            </div>\n            <mat-menu #menu=\"matMenu\" yPosition=\"above\">\n                <div\n                    class=\"flex items-center pointer-events-none leading-tight\"\n                    mat-menu-item\n                    *ngFor=\"let space of space_list\"\n                >\n                    <div class=\"flex flex-col mr-4\">\n                        <div>{{ space.display_name || space.name }}</div>\n                        <div class=\"text-xs opacity-70\">\n                            {{ space.level?.display_name || space.level?.name }}\n                            ~ {{ space.capacity || '2+' }} People\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        class=\"pointer-events-auto\"\n                        (click)=\"\n                            this.handleBookEvent(space, false);\n                            $event.stopPropagation()\n                        \"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    mat-menu-item\n                    class=\" opacity-60\"\n                    *ngIf=\"!space_list?.length\"\n                >\n                    No selected spaces\n                </div>\n            </mat-menu>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Retrieving available spaces...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2 p-8 text-center\"\n            >\n                <p>\n                    No available spaces for selected time, capacity or level(s)\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: var(--secondary-dark);\n            }\n\n            [filters] {\n                background-color: var(--p);\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class SpaceFlowFindComponent implements OnInit {\n    public book_space: HashMap<boolean> = {};\n    public quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public space_list: Space[] = [];\n\n    /** List of available buildings */\n    public readonly buildings = this._org.building_list;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n\n    public readonly levels = combineLatest([\n        this.building,\n        this._state.options,\n    ]).pipe(\n        filter(([_]) => !!_),\n        map(([bld]) => [\n            {\n                id: this._org.building.id,\n                name: 'All Levels',\n            },\n            ...this._org.levelsForBuilding(bld),\n        ])\n    );\n\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n\n    public readonly spaces = this._state.available_spaces;\n    public readonly features = this._state.features;\n    public async setBuilding(bld) {\n        const opts = await this.options.pipe(take(1)).toPromise();\n        if (bld) this._org.building = bld;\n        const levels = this._org.levelsForBuilding(this._org.building);\n        const lvl = levels.find((_) => opts.zone_ids?.includes(_.id));\n        if (!lvl && levels.length) {\n            this.setOptions({ zone_ids: [levels[0].id] });\n        }\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get multiple() {\n        return this._settings.get('app.events.multiple_spaces') ?? false;\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _space_pipe: SpacePipe\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => !!_)).toPromise();\n        this.setBuilding(this._org.building);\n        this.book_space = {};\n        const resources = this._state.form?.get('resources')?.value || [];\n        resources.forEach((_) => (this.book_space[_.id] = true));\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async handleBookEvent(space: Space, book: boolean = true) {\n        if (this.multiple) {\n            this.book_space[space.id] = book;\n        } else {\n            this.book_space = {};\n            this.book_space[space.id] = book;\n            this.confirmBooking();\n        }\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async confirmBooking() {\n        const spaces = await this._getSpaceList();\n        this._state.form.patchValue({\n            resources: spaces,\n            system: spaces[0] as any,\n        });\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n\n    private _getSpaceList() {\n        const id_list = Object.keys(this.book_space).filter(\n            (k) => this.book_space[k]\n        );\n        return id_list.length\n            ? Promise.all(id_list.map((_) => this._space_pipe.transform(_)))\n            : Promise.resolve([]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { addDays, addMinutes, roundToNearestMinutes, setHours } from 'date-fns';\n\n@Component({\n    selector: 'space-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Space Booking\n            </h2>\n            <detailed-book-space-form\n                [form]=\"form\"\n                [options]=\"options | async\"\n                (optionsChange)=\"setOptions($event)\"\n                [features]=\"features | async\"\n            ></detailed-book-space-form>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    find-space\n                    (click)=\"findSpace()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Spaces' : 'Find Space'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    standalone\n                    *ngIf=\"is_edit || allow_standalone_bookings\"\n                    (click)=\"confirmBooking()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">event_available</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Confirm changes' : 'Book without Space'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFormComponent {\n    public time = 0;\n    public capacity = 0;\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        { name: 'Later Today', value: 120 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public readonly quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get is_edit() {\n        return !!this.form?.value?.id;\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get allow_standalone_bookings() {\n        return this._settings.get('app.events.allow_standalone_bookings');\n    }\n\n    public readonly clearForm = () => {\n        this.time = this.capacity = 0;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router\n    ) {}\n\n    public quickBook() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Meeting',\n        });\n        this._state.setOptions({ capacity: this.capacity });\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public findSpace() {\n        this.form.markAllAsTouched();\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public confirmBooking() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-200 h-full w-full overflow-auto\">\n            <div\n                class=\"w-full h-full sm:h-auto max-w-[48rem] mx-auto sm:my-4 bg-base-100 shadow border border-base-200 overflow-hidden\"\n            >\n                <invite-visitor-form (done)=\"onDone()\"></invite-visitor-form>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class VisitorFlowComponent {\n    constructor(private _router: Router) {}\n\n    public onDone() {\n        this._router.navigate(['/']);\n    }\n}\n","export * from './lib/catering.module';\nexport * from './lib/catering';\nexport * from './lib/charge-code-list-modal.component';","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-base-200 border-dashed rounded-xl hover:bg-base-200 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-base-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, forwardRef, Input, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    randomString,\n    SettingsService,\n} from '@placeos/common';\n\nimport { CateringItem } from 'libs/catering/src/lib/catering-item.class';\nimport { NewCateringOrderModalComponent } from 'libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component';\nimport { CateringOrder } from './catering-order.class';\nimport { Organisation, OrganisationService } from '@placeos/organisation';\nimport { endOfDay, format, startOfDay } from 'date-fns';\n\nconst EMPTY_FAVS = [];\n\n@Component({\n    selector: `catering-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                order\n                *ngFor=\"let order of orders\"\n                class=\"border shadow bg-base-100 rounded-xl overflow-hidden\"\n                [class.border-error]=\"end_time < order.deliver_at\"\n                [class.border-base-300]=\"end_time >= order.deliver_at\"\n            >\n                <div class=\"flex items-center space-x-2 p-4\">\n                    <div class=\"flex-1\">\n                        <div class=\"flex items-center space-x-4\">\n                            <div>\n                                Order for\n                                {{ order.deliver_at_time | date: 'mediumDate' }}\n                                at\n                                {{ order.deliver_at_time | date: time_format }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < order.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                        </div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ order.item_count }} item(s) for\n                            {{\n                                order.total_cost / 100 | currency: currency_code\n                            }}\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Duplicate Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"duplicateOrder(order)\"\n                    >\n                        <app-icon>content_copy</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Edit Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"editOrder(order)\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Remove Order\"\n                        class=\"text-error\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"removeOrder(order)\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        [matTooltip]=\"\n                            show_order[order.id]\n                                ? 'Hide order items'\n                                : 'Show order items'\n                        \"\n                        (click)=\"show_order[order.id] = !show_order[order.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_order[order.id]\n                                    ? 'expand_less'\n                                    : 'expand_more'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    [@show]=\"show_order[order.id] ? 'show' : 'hide'\"\n                >\n                    <div\n                        class=\"flex items-center px-4 py-1 space-x-2 hover:opacity-90\"\n                        *ngFor=\"let item of order.items\"\n                    >\n                        <div class=\"flex items-center flex-1\">\n                            {{ item.name || 'Item' }}\n                            <span\n                                class=\"text-xs opacity-60 ml-4 font-normal\"\n                                *ngIf=\"item.option_list?.length\"\n                                [matTooltip]=\"optionList(item)\"\n                            >\n                                {{ item.option_list?.length || '0' }} option(s)\n                            </span>\n                        </div>\n                        <div\n                            class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                        >\n                            x{{ item.quantity }}\n                        </div>\n                        <div\n                            class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                        >\n                            {{\n                                item.unit_price_with_options / 100\n                                    | currency: currency_code\n                            }}\n                            ea\n                        </div>\n                        <button\n                            icon\n                            matRipple\n                            matTooltip=\"Remove Order Item\"\n                            class=\"text-error\"\n                            *ngIf=\"!disabled\"\n                            (click)=\"removeOrderItem(order, item)\"\n                        >\n                            <app-icon>delete</app-icon>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            name=\"toggle-catering-item-favourite\"\n                            [matTooltip]=\"\n                                favorites.includes(item.id)\n                                    ? 'Remove from favourites'\n                                    : 'Add to favourites'\n                            \"\n                            [class.text-blue-400]=\"favorites.includes(item.id)\"\n                            (click)=\"toggleFavourite(item)\"\n                        >\n                            <app-icon>{{\n                                favorites.includes(item.id)\n                                    ? 'favorite'\n                                    : 'favorite_border'\n                            }}</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-catering-item\"\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"editOrder()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Order</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CateringListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CateringListFieldComponent implements ControlValueAccessor {\n    @Input() public options: {\n        date?: number;\n        duration?: number;\n        all_day?: boolean;\n        zone_id?: string;\n    } = {};\n    public orders: CateringOrder[] = [];\n    public show_order: Record<string, boolean> = {};\n    public disabled = false;\n    public err_tooltip =\n        'Delivery time is outside of the event time.\\nThis order will be ignored.';\n\n    private _onChange: (_: CateringOrder[]) => void;\n    private _onTouch: (_: CateringOrder[]) => void;\n    public selected: CateringOrder[] = [];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get end_time() {\n        const time =\n            (this.options.date || Date.now()) +\n            (this.options.duration || 30) * 60 * 1000;\n        return this.options.all_day ? endOfDay(time).valueOf() : time;\n    }\n\n    public get time_format() {\n        return this._settings.time_format || 'shortTime';\n    }\n\n    public get currency_code() {\n        return this._org.building?.currency || 'USD';\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: CateringOrder[]) {\n        this.orders = new_value;\n        if (this._onChange) this._onChange(this.orders);\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.options) {\n            this.orders = (this.orders || []).map(\n                (_) => new CateringOrder({ ..._, event: this.options as any })\n            );\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: CateringOrder[]) {\n        this.orders = (value || []).map(\n            (_) => new CateringOrder({ ..._, event: this.options as any })\n        );\n    }\n\n    public readonly registerOnChange = (fn: (_: CateringOrder[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: CateringOrder[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeOrder(order: CateringItem) {\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        this.setValue(updated_list);\n    }\n\n    public duplicateOrder(order: CateringOrder) {\n        const new_order = new CateringOrder({\n            ...order,\n            id: `order-${randomString(8)}`,\n        });\n        this.setValue([...this.orders, new_order]);\n    }\n\n    public removeOrderItem(order: CateringOrder, item: CateringItem) {\n        const new_order = new CateringOrder({\n            ...order,\n            items: order.items.filter((_) => _.custom_id !== item.custom_id),\n        });\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        if (new_order.items.length > 0) {\n            this.setValue([...updated_list, new_order]);\n        } else this.setValue(updated_list);\n    }\n\n    public editOrder(order: CateringOrder = new CateringOrder()) {\n        const ref = this._dialog.open(NewCateringOrderModalComponent, {\n            data: {\n                items: order.items,\n                details: {\n                    ...this.options,\n                    date: this.options.all_day\n                        ? startOfDay(this.options.date).valueOf()\n                        : this.options.date,\n                    duration: this.options.all_day\n                        ? Math.max(24 * 60, this.options.duration)\n                        : this.options.duration,\n                },\n                exact_time: !!order.deliver_time,\n                offset: order.deliver_offset,\n                offset_day: order.deliver_day_offset,\n            },\n        });\n        ref.afterClosed().subscribe((items?: CateringItem[]) => {\n            const orders = this.orders.filter((_) => _.id !== order.id);\n            if (!items?.length) return;\n            const time = new Date(this.options.date);\n            for (const item of items) {\n                (item as any).options = [\n                    ...item.options.map((_) => ({ ..._ })),\n                ];\n                for (const option of item.options) {\n                    const opt = item.option_list.find(\n                        (_) => _.id === option.id\n                    );\n                    option.active = !!opt;\n                }\n            }\n            const new_order = new CateringOrder({\n                ...order,\n                items,\n                event: this.options as any,\n                deliver_offset: ref.componentInstance.offset,\n                deliver_time: ref.componentInstance.exact_time\n                    ? time.getHours() + time.getMinutes() / 60\n                    : null,\n                deliver_day_offset: ref.componentInstance.offset_day || 0,\n            });\n            if (new_order.item_count <= 0) return;\n            this.setValue([...orders, new_order]);\n        });\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n\n    public toggleFavourite(cateringitem: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(cateringitem.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                cateringitem.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== cateringitem.id)\n            );\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { CateringStateService } from './catering-state.service';\nimport { CateringItem } from './catering-item.class';\nimport { unique } from '@placeos/common';\nimport { CateringOrdersService } from './catering-orders.service';\n\n@Component({\n    selector: 'catering-menu',\n    template: `\n        <simple-table\n            class=\"w-full min-w-[32rem] block text-sm\"\n            [data]=\"menu\"\n            [columns]=\"[\n                {\n                    key: 'active',\n                    name: ' ',\n                    content: active_template,\n                    size: '3.5rem',\n                    sortable: false\n                },\n                { key: 'name', name: 'Name' },\n                { key: 'category', name: 'Category' },\n                {\n                    key: 'unit_price',\n                    name: 'Price',\n                    content: price_template,\n                    size: '6rem'\n                },\n                {\n                    key: 'actions',\n                    name: ' ',\n                    content: actions_template,\n                    size: '6.5rem',\n                    sortable: false\n                }\n            ]\"\n            [filter]=\"filters?.search\"\n            [show_children]=\"show_children\"\n            [child_template]=\"child_template\"\n            [sortable]=\"true\"\n            empty_message=\"No Items in Menu\"\n        ></simple-table>\n        <ng-template #active_template let-row=\"row\">\n            <mat-checkbox\n                class=\"mx-auto\"\n                matTooltip=\"Allow Ordering Item for this zone\"\n                matTooltipPosition=\"right\"\n                [ngModel]=\"isEnabled(row)\"\n                (ngModelChange)=\"setEnabled(row, $event)\"\n            ></mat-checkbox>\n        </ng-template>\n        <ng-template #price_template let-data=\"data\">\n            <div\n                class=\"px-2 py-1 font-mono text-xs flex items-center mx-auto bg-secondary text-secondary-content rounded\"\n            >\n                {{ data / 100 | currency: (symbol | async) }}\n            </div>\n        </ng-template>\n        <ng-template #actions_template let-row=\"row\">\n            <div class=\"p-2 flex items-center mx-auto space-x-2\">\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!can_edit\"\n                    [class.opacity-0]=\"!can_edit\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"addOption(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>add</app-icon>\n                            <div>Add Option</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"editItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>edit</app-icon>\n                            <div>Edit Item</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"removeItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon class=\"text-error\">delete</app-icon>\n                            <div>Remove Item</div>\n                        </div>\n                    </button>\n                </mat-menu>\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!row.options?.length\"\n                    [matTooltip]=\"\n                        row.options?.length\n                            ? (show_children[row.id] ? 'Hide' : 'Show') +\n                              ' Menu Item Options'\n                            : ''\n                    \"\n                    (click)=\"show_children[row.id] = !show_children[row.id]\"\n                >\n                    <app-icon>\n                        {{\n                            show_children[row.id]\n                                ? 'keyboard_arrow_down'\n                                : 'chevron_right'\n                        }}\n                    </app-icon>\n                </button>\n            </div>\n        </ng-template>\n        <ng-template #child_template let-row=\"row\">\n            <div\n                class=\"flex p-2 items-center border-b border-solid border-base-200 relative space-x-2\"\n                *ngFor=\"let option of row.options\"\n            >\n                <div\n                    class=\"absolute inset-y-0 left-0 w-2 bg-black opacity-10\"\n                ></div>\n                <div class=\"flex-1 pl-4 pr-2\">\n                    <div class=\"text\">{{ option.name }}</div>\n                    <div class=\"text-xs opacity-60\">\n                        {{ option.group }}\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    matTooltip=\"Edit Menu Item Option\"\n                    (click)=\"editOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon>edit</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    class=\"!mr-1\"\n                    matTooltip=\"Remove Menu Item Option\"\n                    (click)=\"removeOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon class=\"text-error\">delete</app-icon>\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 90%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringMenuComponent {\n    public show_children: Record<string, boolean> = {};\n    /** Observable for the currently active menu */\n    public readonly menu = this._catering.menu;\n\n    public readonly addOption = (item) => this._catering.addOption(item);\n\n    public readonly editOption = (item, option) =>\n        this._catering.addOption(item, option);\n\n    public readonly removeOption = (item, option) =>\n        this._catering.deleteOption(item, option);\n\n    public readonly editItem = (item) => this._catering.addItem(item);\n\n    public readonly removeItem = (item) => this._catering.deleteItem(item);\n\n    public get filters() {\n        return this._orders.filters;\n    }\n\n    public get can_edit() {\n        return this._catering.is_editable;\n    }\n    public get categories() {\n        return this._catering.categories;\n    }\n\n    constructor(\n        private _catering: CateringStateService,\n        private _orders: CateringOrdersService\n    ) {}\n\n    public isEnabled(item: CateringItem) {\n        return !item.hide_for_zones.includes(this._catering.zone);\n    }\n\n    public setEnabled(item: CateringItem, state: boolean) {\n        let list = item.hide_for_zones;\n        if (!state) list = unique([...list, this._catering.zone]);\n        else list = list.filter((_) => _ !== this._catering.zone);\n        this._catering.updateItem(\n            new CateringItem({ ...item, hide_for_zones: list })\n        );\n    }\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CateringItem } from './catering-item.class';\n\nconst ACTIVE_ITEMS = new Set<string>();\n\n@Component({\n    selector: '[catering-order-item]',\n    template: `\n        <ng-container *ngIf=\"item\">\n            <div class=\"w-16 text-right h-14 relative\">\n                <div\n                    arm\n                    class=\"border-b-2 border-l-2 border-base-200 w-4 h-16 absolute top-1/2 left-1/2 -translate-y-full -translate-x-px\"\n                ></div>\n            </div>\n            <div class=\"w-12 mr-4\">\n                <button\n                    action\n                    icon\n                    matRipple\n                    class=\"border-2 border-base-200 border-dashed text-xl text-dark-fade p-2\"\n                    [class.bg-success]=\"active\"\n                    [class.text-white]=\"active\"\n                    [class.border-solid]=\"active\"\n                    (click)=\"toggle()\"\n                >\n                    <app-icon>{{ active ? 'done' : 'local_pizza' }}</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex flex-1 items-center border-b border-base-200 border-solid py-4 space-x-4\"\n            >\n                <div class=\"\">\n                    <div\n                        class=\"p-1 rounded-full bg-base-300 w-10 h-10 flex items-center justify-center font-mono text-sm\"\n                    >\n                        {{ item?.amount || item?.quantity || 1 }}\n                    </div>\n                </div>\n                <div class=\"flex-1\">{{ item?.name }}</div>\n                <div class=\"flex space-x-2 mr-2 px-4\">\n                    <ng-container *ngFor=\"let opt of item.option_list\">\n                        <div\n                            class=\"text-xs py-1 px-2 bg-warning text-warning-content rounded-2xl shadow\"\n                            *ngIf=\"opt\"\n                        >\n                            {{ opt.name }}\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host:last-child > div {\n                border: none !important;\n            }\n        `,\n    ],\n})\nexport class CateringOrderItemComponent {\n    @Input() public order_id: string;\n    @Input() public item: CateringItem;\n\n    public active = false;\n\n    public get item_key() {\n        return `${this.order_id}|${this.item?.id}`;\n    }\n\n    public ngOnInit() {\n        this.active = ACTIVE_ITEMS.has(this.item_key);\n    }\n\n    public toggle() {\n        if (ACTIVE_ITEMS.has(this.item_key)) {\n            ACTIVE_ITEMS.delete(this.item_key);\n            this.active = false;\n        } else {\n            ACTIVE_ITEMS.add(this.item_key);\n            this.active = true;\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringOrder } from './catering-order.class';\n\nimport { CateringOrdersService } from './catering-orders.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { CATERING_STATUSES } from './catering.vars';\n\n@Component({\n    selector: 'catering-order-list',\n    template: `\n        <div class=\"flex flex-col h-full w-full overflow-auto\">\n            <mat-progress-bar\n                [class.opacity-0]=\"!(loading | async)\"\n                class=\"sticky top-0 left-0 w-full\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar>\n            <simple-table\n                class=\"min-w-[72rem] w-full block text-sm\"\n                [data]=\"order_list\"\n                [columns]=\"[\n                    {\n                        key: 'state',\n                        name: ' ',\n                        size: '4rem',\n                        sortable: false,\n                        content: state_template,\n                    },\n                    {\n                        key: 'deliver_at',\n                        name: 'Time',\n                        content: time_template,\n                    },\n                    {\n                        key: 'event',\n                        name: 'Location',\n                        content: location_template,\n                        sortable: false,\n                    },\n                    {\n                        key: 'event',\n                        name: 'Host',\n                        content: host_template,\n                        sortable: false,\n                    },\n                    { key: 'charge_code', name: 'Charge Code' },\n                    {\n                        key: 'invoice_number',\n                        name: 'Invoice No.',\n                        empty: 'No Invoice',\n                    },\n                    {\n                        key: 'status',\n                        name: 'Status',\n                        content: status_template,\n                        size: '11rem',\n                    },\n                    {\n                        key: 'actions',\n                        name: ' ',\n                        size: '6.5rem',\n                        content: actions_template,\n                        sortable: false,\n                    },\n                ]\"\n                [sortable]=\"true\"\n                [show_children]=\"show_children\"\n                [child_template]=\"child_template\"\n                empty_message=\"No Catering Orders\"\n            >\n            </simple-table>\n            <ng-template #state_template let-data=\"data\">\n                <div class=\"p-2\">\n                    <div\n                        class=\"rounded-full bg-base-200 p-2 text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon>room_service</app-icon>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #time_template let-data=\"data\" let-row=\"row\">\n                <div class=\"p-4\">\n                    <div>Deliver at {{ data | date: time_format }}</div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ row?.event?.date | date: 'MMM d' }},\n                        {{ row?.event?.date | date: time_format }}\n                        -\n                        {{ row?.event?.date_end | date: 'MMM d' }},\n                        {{ row?.event?.date_end | date: time_format }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #location_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    {{ data?.space?.display_name || data?.space?.name || '' }}\n                    <span\n                        class=\"opacity-30\"\n                        *ngIf=\"\n                            !(data?.space?.display_name || data?.space?.name)\n                        \"\n                    >\n                        No Location\n                    </span>\n                </div>\n            </ng-template>\n            <ng-template #host_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <div>\n                        {{ data?.organiser?.name || data?.host || '' }}\n                        <span\n                            class=\"opacity-30\"\n                            *ngIf=\"!(data?.organiser?.name || data?.host)\"\n                        >\n                            Unknown Host\n                        </span>\n                    </div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ data?.organiser?.email || data?.host }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #status_template let-row=\"row\" let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <button\n                        status\n                        matRipple\n                        class=\"rounded-3xl text-base border-none h-10 px-4 flex items-center text-white w-36\"\n                        [style.background]=\"status(data)?.colour\"\n                        [matMenuTriggerFor]=\"menu\"\n                    >\n                        <div class=\"flex text-center capitalize mx-2\">\n                            {{ status(data)?.name }}\n                        </div>\n                        <app-icon class=\"pl-2\">arrow_drop_down</app-icon>\n                    </button>\n                </div>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        *ngFor=\"let status of statuses\"\n                        class=\"flex items-center\"\n                        (click)=\"updateStatus(row, status.id)\"\n                    >\n                        <div class=\"flex items-center space-x-2\">\n                            <div\n                                class=\"rounded-full h-4 w-4 mr-2\"\n                                [style.background-color]=\"status.colour\"\n                            ></div>\n                            <span class=\"mr-2 w-20\">{{ status.name }}</span>\n                        </div>\n                    </button>\n                </mat-menu>\n            </ng-template>\n            <ng-template #actions_template let-row=\"row\">\n                <div class=\"flex items-center space-x-2 p-2 mx-auto\">\n                    <button\n                        icon\n                        matRipple\n                        customTooltip\n                        [hover]=\"true\"\n                        xPosition=\"end\"\n                        yPosition=\"top\"\n                        [content]=\"notes_template\"\n                        [disabled]=\"!row.notes\"\n                    >\n                        <app-icon>description</app-icon>\n                    </button>\n                    <ng-template #notes_template>\n                        <div\n                            class=\"p-2 rounded-lg bg-base-100 text-base-content max-w-[32rem] min-w-[8rem] shadow border border-base-200\"\n                        >\n                            <div class=\"mb-2\">Notes</div>\n                            <p class=\"text-sm px-4 py-2 bg-base-200 rounded\">\n                                {{ row.notes }}\n                            </p>\n                        </div>\n                    </ng-template>\n                    <button\n                        icon\n                        matRipple\n                        (click)=\"show_children[row.id] = !show_children[row.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_children[row.id]\n                                    ? 'keyboard_arrow_down'\n                                    : 'chevron_right'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n            </ng-template>\n            <ng-template #child_template let-row=\"row\">\n                <ul\n                    *ngIf=\"row?.items.length\"\n                    class=\"list-none p-0 m-0 w-full relative z-0\"\n                >\n                    <li\n                        catering-order-item\n                        class=\"flex items-center\"\n                        *ngFor=\"let item of row.items; let i = index\"\n                        [order_id]=\"row?.id\"\n                        [item]=\"item\"\n                    ></li>\n                </ul>\n            </ng-template>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringOrderListComponent extends AsyncHandler {\n    /** List of filtered orders */\n    public readonly order_list = this._orders.filtered;\n    /** Whether order list is loading */\n    public readonly loading = this._orders.loading;\n\n    public readonly statuses = CATERING_STATUSES;\n    public readonly show_children: Record<string, boolean> = {};\n\n    public readonly updateStatus = async (order, s) => {\n        await this._orders.updateStatus(order, s);\n        this.timeout('status-change', () => ((order as any).status = s));\n    };\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public status(value: string) {\n        return CATERING_STATUSES.find((i) => i.id === value);\n    }\n\n    constructor(\n        private _orders: CateringOrdersService,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._orders.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._orders.stopPolling();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, order: CateringOrder) {\n        return order ? order.id : undefined;\n    }\n}\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<AttachedResourceRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-base-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-base-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-base-200\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--s);\n                border-bottom: 2px solid var(--s);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly AttachedResourceRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOption } from '../catering.interfaces';\n\ninterface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'catering-item-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-neutral\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-catering-item-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-neutral sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-neutral\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p *ngIf=\"item.unit_price\">\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.quantity\"\n                        (ngModelChange)=\"\n                            active ? activeChange.emit(active) : ''\n                        \"\n                        [min]=\"1\"\n                        [max]=\"item.count || 10\"\n                    ></a-counter>\n                </section>\n                <section class=\"flex items-center flex-wrap\">\n                    <div\n                        class=\"px-2 py-1 rounded-2xl bg-base-200 text-sm capitalize m-1\"\n                        *ngFor=\"let tag of item.tags\"\n                    >\n                        {{ tag }}\n                    </div>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <div class=\"flex flex-col flex-wrap\">\n                        <div\n                            class=\"min-w-1/2 flex-1\"\n                            *ngFor=\"let group of groups\"\n                            [attr.group]=\"group.name\"\n                        >\n                            <div class=\"font-medium p-2 capitalize\">\n                                {{ group.name }}\n                            </div>\n                            <div class=\"flex flex-col pl-4\">\n                                <ng-container\n                                    *ngIf=\"!group.multiple; else multi_options\"\n                                >\n                                    <mat-radio-group\n                                        class=\"flex flex-col\"\n                                        aria-label=\"Select an option\"\n                                        [(ngModel)]=\"group_state[group.name]\"\n                                        (ngModelChange)=\"\n                                            updateGroupOption(group, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <mat-radio-button class=\"m-0\" value=\"\">\n                                            <span class=\"font-medium p-2\" i18n\n                                                >None</span\n                                            >\n                                        </mat-radio-button>\n                                        <mat-radio-button\n                                            class=\"m-0\"\n                                            *ngFor=\"let opt of group?.options\"\n                                            [value]=\"opt.id\"\n                                        >\n                                            <div\n                                                class=\"flex items-center justify-center max-w-[calc(100vw-4rem)] sm:max-w-[15rem]\"\n                                            >\n                                                <div\n                                                    class=\"font-medium p-2 flex-1 w-1/2 whitespace-normal\"\n                                                >\n                                                    {{ opt.name }}\n                                                </div>\n                                                <div\n                                                    class=\"opacity-60 text-xs\"\n                                                    *ngIf=\"opt.unit_price\"\n                                                >\n                                                    +{{\n                                                        opt.unit_price / 100\n                                                            | currency: code\n                                                    }}\n                                                </div>\n                                            </div>\n                                        </mat-radio-button>\n                                    </mat-radio-group>\n                                </ng-container>\n                                <ng-template #multi_options>\n                                    <mat-checkbox\n                                        *ngFor=\"let opt of group?.options\"\n                                        [(ngModel)]=\"option_state[opt.id]\"\n                                        (ngModelChange)=\"\n                                            updateCheckedState(opt.id, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-center\"\n                                        >\n                                            <div\n                                                class=\"font-medium p-2 flex-1 w-1/2\"\n                                            >\n                                                {{ opt.name }}\n                                            </div>\n                                            <div\n                                                class=\"opacity-60 text-xs\"\n                                                *ngIf=\"opt.unit_price\"\n                                            >\n                                                +{{\n                                                    opt.unit_price / 100\n                                                        | currency: code\n                                                }}\n                                            </div>\n                                        </div>\n                                    </mat-checkbox>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-base-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"select-catering-item-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this item' : 'Add this item' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select an item to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class CateringItemDetailsComponent {\n    @Input() public item?: CateringItem;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n    @Input() public code: string = 'USD';\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n\n    public option_state: Record<string, boolean> = {};\n    public group_state: Record<string, string> = {};\n    public groups: CateringOptionGroup[];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            this._update();\n        }\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        if (!group) return;\n        this.group_state[group.name] = id;\n        for (const option of group.options) {\n            option.active = option.id === id;\n        }\n    }\n\n    public updateCheckedState(id: string, state: boolean) {\n        const option = this.item?.options.find((_) => _.id === id);\n        if (option) option.active = state;\n    }\n\n    private _update() {\n        if (!this.item) return;\n        if (!this.item.quantity) {\n            (this.item as any).quantity = 1;\n        }\n        this.option_state = {};\n        this.group_state = {};\n        const groups = unique(this.item.options.map((i) => i.group || 'Other'));\n        const group_list = [];\n        for (const group of groups) {\n            const options = this.item.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n        if (this.item.option_list) {\n            for (const opt of this.item.option_list) {\n                const option = this.item.options.find((_) => _.id === opt.id);\n                if (option) {\n                    option.active = true;\n                    this.option_state[opt.id] = true;\n                    this.updateGroupOption(\n                        this.groups.find((g) => g.name === option.group),\n                        option.id\n                    );\n                }\n            }\n        }\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { CateringOrderStateService } from './catering-order-state.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    startOfDay,\n} from 'date-fns';\n\nconst ICONS = {\n    coffee: `<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_605_8664)\">\n    <path d=\"M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_605_8664\">\n    <rect width=\"40\" height=\"40\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    drinks: `<svg width=\"28\" height=\"39\" viewBox=\"0 0 28 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8203)\">\n    <path d=\"M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8203\">\n    <rect width=\"28\" height=\"39\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    snacks: `<svg width=\"44\" height=\"30\" viewBox=\"0 0 44 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z\" fill=\"currentColor\"/>\n    <path d=\"M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z\" fill=\"currentColor\"/>\n    <path d=\"M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z\" fill=\"currentColor\"/>\n    </svg>\n    `,\n    meals: `<svg width=\"44\" height=\"47\" viewBox=\"0 0 44 47\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8219)\">\n    <path d=\"M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z\" fill=\"currentColor\"/>\n    <path d=\"M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z\" fill=\"#323232\"/>\n    <path d=\"M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z\" fill=\"#323232\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8219\">\n    <rect width=\"43.348\" height=\"46.051\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>`,\n};\n\n@Component({\n    selector: 'catering-item-filters',\n    template: `\n        <div class=\"px-4 mt-3 mb-2\" [class.sm:hidden]=\"!search\">\n            <mat-form-field appearance=\"outline\" class=\"w-full h-14\">\n                <app-icon matPrefix class=\"text-xl\">search</app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(filters | async)?.search\"\n                    (ngModelChange)=\"setFilters({ search: $event })\"\n                    placeholder=\"Search menu...\"\n                />\n            </mat-form-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-2\" *ngIf=\"!search\" i18n>\n            Options\n        </h3>\n        <div class=\"flex flex-col px-2\" *ngIf=\"!search\">\n            <mat-checkbox\n                [(ngModel)]=\"at_time\"\n                (ngModelChange)=\"at_timeChange.next($event)\"\n                [matTooltip]=\"exact_tooltip\"\n            >\n                Exact Time\n            </mat-checkbox>\n            <ng-container *ngIf=\"day_options.length > 1\">\n                <label>Deliver Date:</label>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full no-subscript mb-4\"\n                >\n                    <mat-select\n                        [(ngModel)]=\"offset_day\"\n                        (ngModelChange)=\"offset_dayChange.next($event)\"\n                    >\n                        <mat-option\n                            *ngFor=\"let day of day_options\"\n                            [value]=\"day.id\"\n                        >\n                            {{ day.value | date: 'mediumDate' }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </ng-container>\n            <label>Deliver After:</label>\n            <a-duration-field\n                [(ngModel)]=\"offset\"\n                (ngModelChange)=\"offsetChange.next($event)\"\n                [time]=\"\n                    offset_day > 0 ? start_of_date : (filters | async)?.date\n                \"\n                [step]=\"step_interval\"\n                [min]=\"min_offset\"\n                [max]=\"max_offset\"\n                [use_24hr]=\"use_24hr\"\n            ></a-duration-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-4\" *ngIf=\"!search\" i18n>\n            Catergories\n        </h3>\n        <div\n            class=\"flex flex-col px-2 space-y-4\"\n            [class.sm:hidden]=\"search\"\n            [class.sm:pt-1]=\"!search\"\n        >\n            <mat-checkbox\n                *ngFor=\"let item of categories | async\"\n                [attr.name]=\"item\"\n                [ngModel]=\"(filters | async)?.categories?.includes(item)\"\n                (ngModelChange)=\"toggleCategory(item)\"\n            >\n                {{ item }}\n            </mat-checkbox>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                min-width: 16rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemFiltersComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    @Input() public search = false;\n\n    @Input() public at_time = false;\n    @Output() public at_timeChange = new EventEmitter<boolean>();\n    @Input() public offset = 0;\n    @Output() public offsetChange = new EventEmitter<number>();\n    @Input() public offset_day = 0;\n    @Output() public offset_dayChange = new EventEmitter<number>();\n\n    private _min_offset = 0;\n    private _max_offset = 60;\n\n    public readonly icons = ICONS;\n\n    public readonly filters = this._state.filters;\n\n    public readonly setFilters = (f) => this._state.setFilters(f);\n\n    public readonly categories = this._state.categories;\n\n    public readonly exact_tooltip =\n        'Deliver at exactly specified time. \\nNote that changes to the booking will not be \\nreflected in the order if this is set.';\n\n    public get start_of_date() {\n        return startOfDay(\n            addDays(this._state.getFilters().date, this.offset_day)\n        ).valueOf();\n    }\n\n    public get min_offset() {\n        return this.offset_day > 0 ? 0 : this._min_offset;\n    }\n\n    public get step_interval() {\n        return this._settings.get('app.catering.step_interval') || 5;\n    }\n\n    public get max_offset() {\n        const end = Math.min(\n            endOfDay(\n                addDays(this._state.getFilters().date, this.offset_day)\n            ).valueOf(),\n            addMinutes(\n                this._state.getFilters().date,\n                this._state.getFilters().duration\n            ).valueOf()\n        );\n        const diff = differenceInMinutes(end, this._state.getFilters().date);\n        return Math.min(diff, Math.min(24 * 60 - 1, this._max_offset));\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public day_options = [];\n\n    constructor(\n        private _state: CateringOrderStateService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._min_offset = Math.max(\n            this._settings.get('app.catering.min_offset'),\n            0\n        );\n        this.subscription(\n            'filters',\n            this._state.filters.subscribe(() => {\n                this._max_offset = Math.max(\n                    15,\n                    (this._state.getFilters().duration || 60) -\n                        this._settings.get('app.catering.end_offset')\n                );\n                this._updateDayOptions();\n            })\n        );\n        this._updateDayOptions();\n    }\n\n    public async toggleCategory(name: string) {\n        const { categories } = await this.filters.pipe(take(1)).toPromise();\n        if (categories.includes(name))\n            this.setFilters({\n                categories: categories.filter((_) => _ !== name),\n            });\n        else this.setFilters({ categories: [...categories, name] });\n    }\n\n    public async toggleTag(tag: string) {\n        const { tags } = await this.filters.pipe(take(1)).toPromise();\n        if (tags.includes(tag))\n            this.setFilters({ tags: tags.filter((_) => _ !== tag) });\n        else this.setFilters({ tags: [...tags, tag] });\n    }\n\n    private _updateDayOptions() {\n        const { date, duration } = this._state.getFilters();\n        if (duration <= 24 * 60) return (this.day_options = []);\n        let day = startOfDay(date);\n        let count = 0;\n        const end = endOfDay(addMinutes(date, duration)).valueOf();\n        const options = [];\n        while (day.valueOf() <= end) {\n            options.push({ id: count, value: day.valueOf() });\n            day = addDays(day, 1);\n            count++;\n        }\n        this.day_options = options;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CateringItem } from '../catering-item.class';\n\n@Component({\n    selector: 'catering-item-list-item',\n    template: `\n        <li\n            item\n            [class.!border-base-200]=\"active\"\n            matRipple\n            class=\"relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200 sm:w-[20rem]\"\n        >\n            <button\n                name=\"select-catering-item\"\n                class=\"w-full h-full flex items-center z-0\"\n                (click)=\"select.emit()\"\n            >\n                <div\n                    class=\"relative w-16 h-16 rounded-xl bg-neutral mr-4 overflow-hidden border border-base-200 flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-1 left-1 border border-white bg-neutral rounded-full h-6 w-6 flex items-center justify-center text-white text-xs\"\n                        *ngIf=\"item.quantity && selected\"\n                    >\n                        {{ item.quantity || '1' }}\n                    </div>\n                    <img\n                        auth\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [source]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 text-left flex-1\">\n                    <div class=\"font-medium flex flex-col pr-10\">\n                        <div>{{ item.name || 'Item' }}</div>\n                        <div class=\"opacity-60 text-xs\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-1\">\n                        <p\n                            class=\"flex-1 w-px bg-base-100 rounded\"\n                            *ngIf=\"item.unit_price\"\n                        >\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                        <div\n                            class=\"text-xs px-2 py-1 rounded-2xl shadow border border-base-200\"\n                            *ngIf=\"item.option_list?.length\"\n                        >\n                            {{ options }}\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-success flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Gluten Free')\"\n                        >\n                            GF\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegan')\"\n                        >\n                            VG\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegetarian')\"\n                        >\n                            V\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-warning flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Dairy')\"\n                        >\n                            D\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Nuts')\"\n                        >\n                            N\n                        </div>\n                    </div>\n                </div>\n            </button>\n            <button\n                icon\n                matRipple\n                name=\"toggle-catering-item-favourite\"\n                class=\"absolute top-1 right-1\"\n                [class.text-blue-400]=\"favourite\"\n                (click)=\"toggleFav.emit()\"\n            >\n                <app-icon>{{\n                    favourite ? 'favorite' : 'favorite_border'\n                }}</app-icon>\n            </button>\n        </li>\n    `,\n    styles: [``],\n})\nexport class CateringItemListItemComponent {\n    @Input() public item: CateringItem;\n    @Input() public active = false;\n    @Input() public selected = false;\n    @Input() public favourite = false;\n    @Input() public code: string = 'USD';\n    @Output() public toggleFav = new EventEmitter();\n    @Output() public select = new EventEmitter();\n\n    public get options() {\n        return this.item.option_list?.map((_) => _.name).join(', ');\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\n@Component({\n    selector: 'catering-item-list',\n    template: `\n        <div class=\"w-full h-full overflow-auto py-2\">\n            <ng-container *ngIf=\"(list | async)?.length\">\n                <h3 class=\"font-bold px-2\">Ordered Items</h3>\n                <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                    {{ (list | async)?.length || 0 }} items(s)\n                </p>\n\n                <ul class=\"list-style-none space-y-2 p-2\">\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"true\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        (toggleFav)=\"toggleFav.emit(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                {{ (item_list | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(item_list | async)?.length; else empty_state\"\n                >\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of item_list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"selected.includes(item.custom_id)\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        [code]=\"code\"\n                        (toggleFav)=\"toggleFav(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available items for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available items...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringItemListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public selected_items: CateringItem[] = [];\n    @Input() public favorites: string[] = [];\n    @Output() public toggleFav = new EventEmitter<CateringItem>();\n    @Output() public onSelect = new EventEmitter<CateringItem>();\n\n    public readonly list = new BehaviorSubject<CateringItem[]>([]);\n    public readonly loading = this._state.loading;\n    public readonly item_list = this._state.filtered_menu;\n\n    public get code() {\n        return this._state.currency_code;\n    }\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items) {\n            this.list.next(this.selected_items || []);\n        }\n    }\n\n    public isFavourite(item_id: string) {\n        return this.favorites?.includes(item_id);\n    }\n\n    public selectItem(item: CateringItem, clear_state: boolean = false) {\n        this.onSelect.emit(item);\n        if (clear_state) {\n            item.options?.forEach((_) => delete _.active);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { SettingsService, unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { CateringItem } from '../catering-item.class';\nimport { cateringItemAvailable, getCateringRulesForZone } from '../utilities';\nimport { CateringSettings } from '../catering-state.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface CateringOrderOptions {\n    // Affects backend requests\n    zone?: string;\n}\n\nexport interface CateringOrderFilters {\n    // Affects frontend filtering\n    date?: number;\n    duration?: number;\n    zone_id?: string;\n    resources?: Space[];\n    search: string;\n    tags: string[];\n    categories: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrderStateService {\n    private _options = new BehaviorSubject<CateringOrderOptions>({});\n    private _filters = new BehaviorSubject<CateringOrderFilters>({\n        search: '',\n        tags: [],\n        categories: [],\n    });\n    private _loading = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n    public readonly filters = this._filters.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => _.details as CateringSettings),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public readonly available_menu: Observable<CateringItem[]> = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!bld),\n        switchMap(([{ zone }, bld]) => {\n            this._loading.next('[Menu]');\n            return showMetadata(zone || bld.id, 'catering').pipe(\n                map((d) =>\n                    (d.details instanceof Array ? d.details : []).map(\n                        (_) => new CateringItem(_)\n                    )\n                ),\n                catchError((_) => [])\n            );\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly categories = this.available_menu.pipe(\n        map((_) => unique(_.map((i) => i.category)))\n    );\n\n    public readonly filtered_menu = combineLatest([\n        this._filters,\n        this.available_menu,\n    ]).pipe(\n        switchMap(\n            async ([\n                {\n                    search,\n                    tags,\n                    categories,\n                    zone_id,\n                    date,\n                    duration,\n                    resources,\n                },\n                l,\n            ]) => {\n                const rules = await getCateringRulesForZone(\n                    zone_id\n                ).toPromise();\n                search = search.toLowerCase();\n                let list = search\n                    ? l.filter((_) => _.name.toLowerCase().includes(search))\n                    : l;\n                list = tags.length\n                    ? list.filter((_) => tags.every((t) => _.tags.includes(t)))\n                    : list;\n                list = categories.length\n                    ? list.filter((_) => categories.includes(_.category))\n                    : list;\n                list = list.filter((_) =>\n                    cateringItemAvailable(_, rules, {\n                        date,\n                        duration,\n                        resources,\n                    } as any)\n                );\n                return list;\n            }\n        ),\n        shareReplay(1)\n    );\n\n    public get currency_code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public setOptions(opts: Partial<CateringOrderOptions>) {\n        this._options.next({ ...this._options.getValue(), ...opts });\n    }\n\n    public setFilters(opts: Partial<CateringOrderFilters>) {\n        this._filters.next({ ...this._filters.getValue(), ...opts });\n    }\n\n    public getFilters() {\n        return { ...this._filters.getValue() };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'new-catering-order-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-base-100\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button\n                    icon\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"bg-neutral\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Add Catering</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-base-200 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <catering-item-filters\n                    class=\"h-full hidden sm:block sm:max-w-[12rem] sm:h-[65vh] sm:max-h-full\"\n                    [(at_time)]=\"exact_time\"\n                    [(offset)]=\"offset\"\n                    [(offset_day)]=\"offset_day\"\n                ></catering-item-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <catering-item-filters\n                        class=\"w-full border-b border-base-200\"\n                        [search]=\"true\"\n                    ></catering-item-filters>\n                    <catering-item-list\n                        [active]=\"displayed?.custom_id\"\n                        [selected]=\"selected_ids\"\n                        [selected_items]=\"selected\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></catering-item-list>\n                </div>\n                <catering-item-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[16rem] z-20 bg-base-100\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.custom_id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    [code]=\"code\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></catering-item-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-catering-item\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-secondary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ count }} items(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-catering-item\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.custom_id)\"\n                    (click)=\"\n                        setSelected(\n                            displayed,\n                            !isSelected(displayed?.custom_id)\n                        )\n                    \"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.custom_id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.custom_id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class NewCateringOrderModalComponent {\n    public displayed: CateringItem | null = null;\n    public selected: CateringItem[] = [...(this._data.items || [])];\n    public exact_time = this._data.exact_time ?? false;\n    public offset: number;\n    public offset_day: number;\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.custom_id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i) => t + i.quantity, 0);\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _order: CateringOrderStateService,\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: CateringItem[];\n            details: any;\n            exact_time?: boolean;\n            offset?: number;\n            offset_day?: number;\n        }\n    ) {\n        const { duration } = this._data.details;\n        this._order.setFilters(this._data.details);\n        this.offset = Math.min(\n            Math.max(\n                this._settings.get('app.catering.min_offset'),\n                this._data.offset || 0\n            ),\n            (duration || 60) - this._settings.get('app.catering.end_offset')\n        );\n        this.offset_day = this._data.offset_day || 0;\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: CateringItem, state: boolean) {\n        const list = this.selected.filter(\n            (_) => _.custom_id !== item.custom_id\n        );\n        if (state) {\n            const new_item = new CateringItem({ ...item, in_order: true });\n            list.push(new_item);\n            this.displayed = new_item;\n        }\n        this.selected = list;\n    }\n\n    public toggleFavourite(item: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-base-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    map,\n    switchMap,\n    debounceTime,\n    tap,\n    shareReplay,\n    catchError,\n} from 'rxjs/operators';\nimport { startOfDay, endOfDay, getUnixTime, format } from 'date-fns';\n\nimport { AsyncHandler, currentUser, flatten } from '@placeos/common';\nimport {\n    queryEvents,\n    saveEvent,\n    updateEventMetadata,\n} from 'libs/events/src/lib/events.fn';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport interface CateringOrderFilters {\n    /** UTC epoch of the date to get catering orders for */\n    date?: number;\n    /** List of zones to filter catering order bookings */\n    zones?: string[];\n    /** Search string to filter orders on */\n    search?: string;\n}\n\nfunction checkOrder(\n    order: CateringOrder,\n    filters: CateringOrderFilters\n): boolean {\n    const s = (filters.search || '').toLowerCase();\n    return !!order.items.find(\n        (item) =>\n            item.name.toLowerCase().includes(s) ||\n            !!item.options.find((option) =>\n                option.name.toLowerCase().includes(s)\n            )\n    );\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrdersService extends AsyncHandler {\n    private _poll = new BehaviorSubject<number>(0);\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _filters = new BehaviorSubject<CateringOrderFilters>({});\n\n    /** Observable for list of orders */\n    public readonly orders: Observable<CateringOrder[]> = combineLatest([\n        this._filters,\n        this._poll,\n    ]).pipe(\n        debounceTime(1000),\n        switchMap(([{ date, zones }]) => {\n            this._loading.next(true);\n            const start = getUnixTime(startOfDay(date || Date.now()));\n            const end = getUnixTime(endOfDay(date || Date.now()));\n            return queryEvents({\n                zone_ids: (zones || []).join(','),\n                period_start: start,\n                period_end: end,\n            }).pipe(\n                catchError(() => of([])),\n                map((events) =>\n                    flatten(\n                        events.map((event) =>\n                            event.valid_catering.map(\n                                (o) => new CateringOrder({ ...o, event })\n                            )\n                        )\n                    )\n                ),\n                map((orders) =>\n                    orders.filter(\n                        (o) =>\n                            format(o.deliver_at, 'yyyy-MM-dd') ===\n                            format(start * 1000, 'yyyy-MM-dd')\n                    )\n                )\n            );\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Observable for loading status of orders */\n    public readonly loading = this._loading.asObservable();\n    /** Order filters */\n    public get filters() {\n        return this._filters.getValue();\n    }\n    /** Order filters */\n    public set filters(filters: CateringOrderFilters) {\n        this._filters.next(filters);\n    }\n    /** Filtered list of catering orders */\n    public readonly filtered = this.orders.pipe(\n        map((list) =>\n            list\n                .filter((order) => checkOrder(order, this._filters.getValue()))\n                .sort((a, b) => a.deliver_at - b.deliver_at)\n        )\n    );\n\n    constructor() {\n        super();\n        this.subscription('changes', this.orders.subscribe());\n    }\n\n    /** Start polling for catering orders */\n    public startPolling(delay: number = 15 * 1000) {\n        this.interval(\n            'polling',\n            () => this._poll.next(new Date().valueOf()),\n            delay\n        );\n    }\n\n    /** Stop polling for new catering orders */\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    /**\n     * Update the status of the order\n     * @param order Order to update\n     * @param status New order status\n     */\n    public async updateStatus(\n        order: CateringOrder,\n        status: CateringOrderStatus\n    ) {\n        order.status = status;\n        const updated_order = new CateringOrder({\n            ...order,\n            status,\n            event: null,\n        });\n        const catering = [\n            ...(order.event.extension_data.catering || []).filter(\n                (o) => o.id !== order.id\n            ),\n            updated_order,\n        ].map((i) => new CateringOrder({ ...i }));\n        const event = new CalendarEvent({\n            ...order.event,\n            catering,\n        });\n        const system_id = event?.resources[0]?.id || event?.system?.id;\n        const booking = await updateEventMetadata(\n            event.id,\n            system_id,\n            event.extension_data\n        ).toPromise();\n        this.timeout('refresh-list', () => this._poll.next(Date.now()), 1000);\n        (order as any).status = status;\n        return booking;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceRuleset,\n    AttachedResourceConfigModalData,\n} from '@placeos/components';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n\n    private _change = new BehaviorSubject(0);\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([_]) => !!_),\n        switchMap(([_]) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        const result = await updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","// Event catering order interfaces\nexport type CateringOrderStatus =\n    | 'accepted'\n    | 'preparing'\n    | 'ready'\n    | 'delivered'\n    | 'cancelled';\n\nexport interface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\nexport interface CateringOption {\n    /** Unique Identifier of the catering option */\n    readonly id: string;\n    /** Display name for the catering option */\n    readonly name: string;\n    /** Name of the group associated with the option */\n    readonly group: string;\n    /** Whether multiple items in the group can be selected */\n    readonly multiple: boolean;\n    /** Cost of adding the option to the item */\n    readonly unit_price: number;\n    /** Whether the catering option is active for the item */\n    active?: boolean;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\n\nimport { FormFieldsModule } from '@placeos/form-fields';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { CateringItemModalComponent } from './catering-item-modal.component';\nimport { CateringMenuComponent } from './catering-menu.component';\nimport { CateringItemOptionModalComponent } from './catering-option-modal.component';\nimport { CateringOrderItemComponent } from './catering-order-item.component';\nimport { CateringOrderListComponent } from './catering-order-list.component';\nimport { CateringOrderModalComponent } from './catering-order-modal.component';\nimport { CateringOrderOptionsModalComponent } from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nimport { NewCateringOrderModalComponent } from './catering-order-modal/new-catering-order-modal.component';\nimport { CateringItemListComponent } from './catering-order-modal/catering-item-list.component';\nimport { CateringItemDetailsComponent } from './catering-order-modal/catering-item-details.component';\nimport { CateringItemFiltersComponent } from './catering-order-modal/catering-item-filters.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { ChargeCodeListModalComponent } from './charge-code-list-modal.component';\nimport { CateringItemListItemComponent } from './catering-order-modal/catering-item-list-item.component';\n\nconst COMPONENTS: Type<any>[] = [\n    CateringOrderOptionsModalComponent,\n    CateringOrderModalComponent,\n    CateringItemModalComponent,\n    CateringMenuComponent,\n    CateringItemOptionModalComponent,\n    CateringOrderListComponent,\n    CateringOrderItemComponent,\n    CateringImportMenuModalComponent,\n\n    CateringListFieldComponent,\n    NewCateringOrderModalComponent,\n    CateringItemListComponent,\n    CateringItemDetailsComponent,\n    CateringItemFiltersComponent,\n    CateringItemListItemComponent,\n\n    ChargeCodeListModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatAutocompleteModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatTooltipModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        MatFormFieldModule,\n        FormFieldsModule,\n        MatProgressSpinnerModule,\n        MatProgressBarModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedCateringModule {}\n","export * from './catering-order-options-modal.component';\nexport * from './catering-order-modal.component';\nexport * from './catering-item-modal.component';\nexport * from './catering-item.class';\nexport * from './catering-menu.component';\nexport * from './catering-option-modal.component';\nexport * from './catering-order-item.component';\nexport * from './catering-order-list.component';\nexport * from './catering-order.class';\nexport * from './catering-orders.service';\nexport * from './catering-state.service';\nexport * from './catering.interfaces';\nexport * from './catering.module';\nexport * from './catering.vars';\nexport * from './catering-order-modal/new-catering-order-modal.component';\n","import { Identity } from '@placeos/common';\n\nexport const CATERING_STATUSES: Identity[] = [\n    { id: 'pending', name: 'Pending', icon: { class: 'custom-pending' }, colour: '#ccc' },\n    { id: 'accepted', name: 'Accepted', icon: { class: 'custom-accepted' }, colour: '#3996B6' },\n    {\n        id: 'preparing',\n        name: 'Preparing',\n        icon: { class: 'custom-preparing' },\n        colour: '#E7536B',\n    },\n    { id: 'ready', name: 'Ready', icon: { class: 'custom-ready' }, colour: '#FFD028' },\n    {\n        id: 'delivered',\n        name: 'Delivered',\n        icon: { class: 'custom-delivered' },\n        colour: '#75BB43',\n    },\n    {\n        id: 'cancelled',\n        name: 'Cancelled',\n        icon: { class: 'custom-cancelled' },\n        colour: '#747474',\n    },\n];\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { csvToJson, notifyError, unique } from '@placeos/common';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'charge-code-list-modal',\n    template: `\n        <header>\n            <h2>Edit Charge Codes</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"overflow-auto max-h-[65vh] min-h-[20rem] flex flex-col\"\n        >\n            <div\n                class=\"flex items-center space-x-2 w-full hover:bg-neutral px-2\"\n                *ngFor=\"\n                    let code of charge_codes;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <mat-form-field appearance=\"outline\" class=\"h-14 flex-1\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"charge_codes[i]\"\n                        placeholder=\"Charge Code\"\n                    />\n                </mat-form-field>\n                <button icon (click)=\"removeCode(i)\">\n                    <app-icon>delete</app-icon>\n                </button>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center p-2 space-x-2 border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-48 inverse relative\">\n                Import Codes\n                <input\n                    class=\"opacity-0 absolute inset-0\"\n                    type=\"file\"\n                    (change)=\"addCodesFromFile($event)\"\n                />\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"newCode()\">\n                Add Code\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"saveChargeCodes()\">\n                Save Changes\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center p-20 space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving changes to charge codes...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChargeCodeListModalComponent {\n    public charge_codes: string[] = [];\n    public loading = false;\n\n    constructor(\n        private _state: CateringStateService,\n        private _dialog_ref: MatDialogRef<ChargeCodeListModalComponent>\n    ) {}\n\n    public async ngOnInit() {\n        this.charge_codes =\n            (await this._state.charge_codes.pipe(take(1)).toPromise()) || [];\n    }\n\n    public newCode() {\n        this.charge_codes.push('');\n    }\n\n    public removeCode(index: number) {\n        this.charge_codes.splice(index, 1);\n    }\n\n    /**\n     * Load CSV file and populate the code list with the contents\n     * @param event File input field event\n     */\n    public addCodesFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    const list =\n                        csvToJson((evt.srcElement as any).result) || [];\n                    for (const { code, description } of list) {\n                        this.charge_codes.push(code);\n                    }\n                    this.charge_codes = unique(this.charge_codes);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    public async saveChargeCodes() {\n        this.loading = true;\n        const cleaned_codes = this.charge_codes.filter((_) => _ && _.trim());\n        await this._state.saveSettings({ charge_codes: cleaned_codes });\n        this._dialog_ref.close();\n    }\n\n    public trackByFn(idx: number, item: any) {\n        return idx;\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\nimport { stringToMinutes } from '@placeos/common';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nconst RULE_REQUESTS: Record<string, Observable<AttachedResourceRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as AttachedResourceRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as AttachedResourceRuleset[]\n            ),\n            catchError((e) => of([] as AttachedResourceRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: AttachedResourceRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n"],"names":["i0","element","BookComponent","hide_nav","localStorage","getItem","_","_2","selectors","decls","vars","consts","template","BookComponent_Template","rf","ctx","template","BookComponent_topbar_0_Template","elementStart","elementEnd","BookComponent_footer_menu_4_Template","property","advance","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","MatButtonToggleModule","MatBottomSheetModule","SharedExploreModule","SharedBookingsModule","SharedCateringModule","BookCodeFlowComponent","BookDeskFlowComponent","DeskFlowConfirmComponent","DeskFlowFormComponent","DeskFlowDetailedFormComponent","DeskFlowMapComponent","FlowSuccessComponent","BookSpaceFlowComponent","SpaceFlowConfirmComponent","DetailBookSpaceFormComponent","SpaceFlowFindItemComponent","SpaceFlowFindComponent","SpaceFlowFormComponent","SharedComponentModule","BookParkingFlowComponent","ParkingFlowMapComponent","ParkingFlowConfirmComponent","BookMeetingFlowComponent","MeetingFlowFormComponent","MeetingFormDetailsComponent","MeetingFlowConfirmComponent","MeetingFlowSuccessComponent","NewDeskFlowComponent","NewDeskFlowFormComponent","NewDeskFormDetailsComponent","NewDeskFlowConfirmComponent","NewDeskFlowSuccessComponent","VisitorFlowComponent","NewParkingFlowComponent","ParkingFlowFormComponent","ParkingFlowSuccessComponent","ParkingFormDetailsComponent","MeetingFlowConfirmModalComponent","NewParkingFlowConfirmComponent","CodeFlowSuccessComponent","CodeFlowErrorComponent","BookLockerFlowComponent","BookLockerFlowSuccessComponent","BookLockerFlowFormComponent","BookLockerFlowConfirmComponent","LockerFormDetailsComponent","ROUTES","path","component","children","redirectTo","BookModule","_3","forChild","declarations","imports","i1","ActivatedRoute","BookingFormService","AsyncHandler","elementContainerStart","text","pureFunction0","_c1","pureFunction1","_c2","ctx_r0","asset_id","textInterpolate1","pipeBind1","_c3","VALID_TYPES","constructor","_route","_state","type","asset","ngOnInit","subscription","queryParamMap","subscribe","params","get","directiveInject","i2","features","InheritDefinitionFeature","CodeFlowErrorComponent_Template","CodeFlowErrorComponent_ng_container_8_Template","CodeFlowErrorComponent_ng_container_9_Template","CodeFlowErrorComponent_ng_container_10_Template","CodeFlowErrorComponent_a_12_Template","CodeFlowErrorComponent_a_13_Template","_c0","CodeFlowSuccessComponent_Template","EventEmitter","ElementRef","Router","Booking","checkinBooking","queryBookings","currentUser","notifyError","CalendarEvent","checkinEventGuest","EventFormService","queryEvents","showSystem","addMinutes","endOfDay","getUnixTime","QrScanner","BookCodeFlowComponent_div_0_div_4_Template","BookCodeFlowComponent_div_0_div_5_Template","twoWayListener","BookCodeFlowComponent_div_0_Template_input_ngModelChange_10_listener","$event","restoreView","_r1","ctx_r1","nextContext","twoWayBindingSet","room_code","resetView","listener","BookCodeFlowComponent_div_0_Template_button_click_12_listener","is_scanning","BookCodeFlowComponent_div_0_Template_button_click_14_listener","classProp","twoWayProperty","classMap","_router","_event_form","_booking_form","menu","loading","ngOnDestroy","_video_el","nativeElement","srcObject","getTracks","forEach","track","stop","_qr_scanner","has","_checkinBooking","_checkinEvent","ngAfterViewInit","navigator","mediaDevices","getUserMedia","video","then","stream","catch","e","console","error","r","handleQrCode","start","result","url","hashindex","indexOf","regex","match","exec","navigate","split","_this","_asyncToGenerator","bookings","period_start","Date","now","period_end","email","toPromise","item","find","id","queryParams","newForm","setOptions","space_id","_this2","resources","s","space","system","i3","viewQuery","BookCodeFlowComponent_Query","BookCodeFlowComponent_div_0_Template","BookCodeFlowComponent_ng_template_1_Template","templateRefExtractor","load_state_r3","OrganisationService","first","last_success","user_email","extension_data","secondary_resource","view","_org","initialised","pipe","loadForm","form","patchValue","booking_type","paramMap","param","setView","BookDeskFlowComponent_Template","BookDeskFlowComponent_ng_container_2_Template","BookDeskFlowComponent_ng_container_3_Template","BookDeskFlowComponent_ng_container_4_Template","BookDeskFlowComponent_ng_container_5_Template","DeskFlowConfirmComponent_Template","FormGroup","SettingsService","addDays","DeskFlowDetailedFormComponent_form_0_div_1_Template_mat_button_toggle_group_ngModelChange_1_listener","group","tmp_2_0","options","bld_r4","display_name","name","DeskFlowDetailedFormComponent_form_0_div_8_Template_mat_select_ngModelChange_4_listener","_r3","building","zone_id","DeskFlowDetailedFormComponent_form_0_div_8_mat_option_5_Template","buildings","lvl_r6","DeskFlowDetailedFormComponent_form_0_div_10_Template_mat_select_ngModelChange_4_listener","_r5","DeskFlowDetailedFormComponent_form_0_div_10_mat_option_5_Template","levels","DeskFlowDetailedFormComponent_form_0_div_12_Template_a_time_field_ngModelChange_4_listener","_r7","date","DeskFlowDetailedFormComponent_form_0_div_12_mat_checkbox_9_Template","value","tmp_4_0","all_day","allow_all_day","DeskFlowDetailedFormComponent_form_0_div_15_Template_a_user_list_field_ngModelChange_3_listener","_r8","members","tmp_3_0","opt_r10","textInterpolate","DeskFlowDetailedFormComponent_form_0_div_17_Template_mat_select_ngModelChange_5_listener","_r9","pattern","DeskFlowDetailedFormComponent_form_0_div_17_mat_option_9_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template_a_date_field_ngModelChange_13_listener","recurr_end","recurrence_pattern","recurrence_options","tmp_5_0","tmp_6_0","book_until","opt_r12","DeskFlowDetailedFormComponent_form_0_div_18_Template_mat_select_ngModelChange_4_listener","_r11","DeskFlowDetailedFormComponent_form_0_div_18_mat_option_6_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template_mat_checkbox_ngModelChange_1_listener","_r13","DeskFlowDetailedFormComponent_form_0_div_1_Template","DeskFlowDetailedFormComponent_form_0_div_8_Template","DeskFlowDetailedFormComponent_form_0_div_10_Template","DeskFlowDetailedFormComponent_form_0_div_12_Template","DeskFlowDetailedFormComponent_form_0_div_13_Template","DeskFlowDetailedFormComponent_form_0_div_14_Template","DeskFlowDetailedFormComponent_form_0_div_15_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template","DeskFlowDetailedFormComponent_form_0_div_18_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template","allow_groups","length","allow_time_changes","can_book_for_others","needs_reason","tmp_9_0","can_recurr","tmp_11_0","can_book_lockers","bld","_settings","building_list","active_levels","o","inputs","DeskFlowDetailedFormComponent_Template","DeskFlowDetailedFormComponent_form_0_Template","findNearbyFeature","getInvalidFields","randomInt","setHours","roundToNearestMinutes","take","DeskFlowFormComponent_button_12_Template_button_click_0_listener","_r2","ctx_r2","findDesk","is_edit","DeskFlowFormComponent_ng_template_13_Template_button_click_0_listener","_r4","allocateDesk","auto_allocation","time","level","quick_times","valueOf","clearForm","levelsForBuilding","quickBook","nearestTo","title","markAllAsTouched","valid","join","settings","centered_at","x","y","groups","lvl","levelWithID","desk_list","available_resources","desk_id","map_id","map","desk","asset_name","description","zones","zone","parent_id","confirmPost","i4","DeskFlowFormComponent_Template","DeskFlowFormComponent_Template_button_click_6_listener","DeskFlowFormComponent_button_12_Template","DeskFlowFormComponent_ng_template_13_Template","alloc_button_r5","formatRecurrence","ExploreStateService","format","BehaviorSubject","combineLatest","debounceTime","startWith","feat_r5","DeskFlowMapComponent_li_22_Template_li_click_0_listener","desk_r3","$implicit","ctx_r3","setActiveDesk","DeskFlowMapComponent_li_22_div_9_Template","active_desk","DeskFlowMapComponent_div_24_div_9_Template","positions","zoom","center","styles","actions","labels","DeskFlowMapComponent_div_27_Template_button_click_7_listener","_r6","DeskFlowMapComponent_div_27_Template_button_click_9_listener","makeBooking","_active_desk","getValue","hide_map","_explore","map_url","map_styles","map_positions","map_features","map_actions","map_labels","desks","option_details","valueChanges","recurrence","end","interval","days_of_week","details","setLevel","assets","available","status","active","bookable","d","fill","opacity","push","action","callback","setStyles","setActions","setFeatures","location","content","next","DeskFlowMapComponent_Template","DeskFlowMapComponent_Template_div_click_15_listener","stopPropagation","preventDefault","DeskFlowMapComponent_li_22_Template","DeskFlowMapComponent_div_24_Template","DeskFlowMapComponent_div_25_Template","DeskFlowMapComponent_div_27_Template","menu_r7","tmp_7_0","extra","route","is_host","calendar","FlowSuccessComponent_Template","FlowSuccessComponent_br_8_Template","listenForStatusChanges","BookLockerFlowComponent_Template","BookLockerFlowComponent_locker_flow_success_1_Template","BookLockerFlowComponent_locker_flow_confirm_2_Template","BookLockerFlowComponent_locker_flow_form_3_Template","MatBottomSheetRef","BookLockerFlowConfirmComponent_button_0_Template_button_click_0_listener","dismiss","feat_r3","BookLockerFlowConfirmComponent_section_25_ng_container_11_Template","booking_asset","asset_r4","amount","i18n","BookLockerFlowConfirmComponent_section_26_div_6_Template","i18nExp","assets_count","BookLockerFlowConfirmComponent_button_28_Template_button_click_0_listener","postForm","time_format","booking","reduce","a","b","l","address","_sheet_ref","this","show_close","postFormForGroup","i18n_0","ngI18nClosureMode","$localize","BookLockerFlowConfirmComponent_button_0_Template","BookLockerFlowConfirmComponent_mat_spinner_4_Template","BookLockerFlowConfirmComponent_section_25_Template","BookLockerFlowConfirmComponent_section_26_Template","BookLockerFlowConfirmComponent_button_28_Template","pipeBind2","duration","MatBottomSheet","isBefore","startOfMinute","_bottom_sheet","viewConfirm","sheet_ref","open","instance","afterDismissed","i5","BookLockerFlowFormComponent_Template_button_click_7_listener","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","last_event","attendees","outlook_link","sanitizeUrl","google_link","ical_link","locker","show_links","viewCalendarLinks","openBookingLinkModal","i18nStart","BookLockerFlowSuccessComponent_span_7_Template","BookLockerFlowSuccessComponent_span_8_Template","i18nEnd","BookLockerFlowSuccessComponent_div_12_Template","SimpleChanges","b_r3","LockerFormDetailsComponent_div_0_Template_mat_select_ngModelChange_13_listener","LockerFormDetailsComponent_div_0_mat_option_14_Template","LockerFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_27_listener","LockerFormDetailsComponent_div_0_section_33_Template","use_24hr","tmp_10_0","custom_durations","contains","from_id","setFeature","f","ngOnChanges","changes","list","setBookingAsset","_setCustomDateOptions","i","undefined","selected_locker","bank_id","outputs","NgOnChangesFeature","LockerFormDetailsComponent_div_0_Template","BookMeetingFlowComponent_Template","BookMeetingFlowComponent_meeting_flow_success_1_Template","BookMeetingFlowComponent_meeting_flow_confirm_2_Template","BookMeetingFlowComponent_meeting_flow_form_3_Template","DatePipe","MatDialog","MatDialogRef","validateAssetRequestsForResource","CateringOrder","getTimezoneOffsetString","openConfirmModal","startOfDay","AssetRequest","SpacePipe","formatted_recurrence","formattedTime","tz","textInterpolate2","s_r2","MeetingFlowConfirmModalComponent_div_28_ng_container_6_Template","event","user_r3","MeetingFlowConfirmModalComponent_div_29_mat_chip_9_Template","err_tooltip","optionList","item_r4","option_list","MeetingFlowConfirmModalComponent_div_30_div_1_div_7_div_14_span_4_Template","quantity","unit_price_with_options","currency_code","total_cost","MeetingFlowConfirmModalComponent_div_30_div_1_div_7_div_6_Template","MeetingFlowConfirmModalComponent_div_30_div_1_div_7_div_14_Template","end_time","order_r5","deliver_at","item_count","items","MeetingFlowConfirmModalComponent_div_30_div_1_div_7_Template","catering_orders","request_r6","item_r7","MeetingFlowConfirmModalComponent_div_30_div_2_div_6_div_6_Template","MeetingFlowConfirmModalComponent_div_30_div_2_div_6_div_11_Template","deliver_at_time","conflict","MeetingFlowConfirmModalComponent_div_30_div_2_div_6_Template","has_conflict","MeetingFlowConfirmModalComponent_div_30_div_1_Template","MeetingFlowConfirmModalComponent_div_30_div_2_Template","catering","body","sanitizeHtml","MeetingFlowConfirmModalComponent_footer_32_Template_button_click_1_listener","request","some","date_end","tz_format","_date","transform","start_date","start_time","end_date","is_multiday","timezone","getRawValue","includes","code","_space_pipe","_dialog_ref","_dialog","_loading","icon","reason","close","resp","cancelPost","cancelPostForm","_space","order","changed_spaces","changed_times","host","location_name","location_id","reset_state","timeout","ProvidersFeature","i18n_2","MeetingFlowConfirmModalComponent_button_1_Template","MeetingFlowConfirmModalComponent_div_20_Template","MeetingFlowConfirmModalComponent_div_27_Template","MeetingFlowConfirmModalComponent_div_28_Template","MeetingFlowConfirmModalComponent_div_29_Template","MeetingFlowConfirmModalComponent_div_30_Template","MeetingFlowConfirmModalComponent_div_31_Template","MeetingFlowConfirmModalComponent_footer_32_Template","MeetingFlowConfirmComponent_button_0_Template_button_click_0_listener","MeetingFlowConfirmComponent_section_26_mat_chip_9_Template","s_r4","MeetingFlowConfirmComponent_section_27_ng_container_6_Template","MeetingFlowConfirmComponent_button_29_Template_button_click_0_listener","i6","i18n_1","MeetingFlowConfirmComponent_button_0_Template","MeetingFlowConfirmComponent_mat_spinner_4_Template","MeetingFlowConfirmComponent_div_18_Template","MeetingFlowConfirmComponent_div_25_Template","MeetingFlowConfirmComponent_section_26_Template","MeetingFlowConfirmComponent_section_27_Template","MeetingFlowConfirmComponent_button_29_Template","TemplateRef","ANIMATION_SHOW_CONTRACT_EXPAND","notifyWarn","UserIdleTimeService","FindAvailabilityModalComponent","CateringOrderStateService","of","catchError","filter","shareReplay","switchMap","tap","AssetStateService","showMetadata","option_r4","MeetingFlowFormComponent_form_5_section_14_Template_button_click_8_listener","findAvailableTime","MeetingFlowFormComponent_form_5_section_14_Template_button_click_11_listener","hide_block","MeetingFlowFormComponent_form_5_section_14_mat_option_22_Template","allow_externals","auto_r5","filtered_visitor_entities","code_r8","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_mat_form_field_openedChange_0_listener","focusInput","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_input_ngModelChange_2_listener","code_filter","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_mat_option_5_Template","filtered_codes","has_codes","MeetingFlowFormComponent_form_5_section_29_Template_button_click_8_listener","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template","MeetingFlowFormComponent_form_5_section_29_mat_form_field_15_Template","pureFunction4","MeetingFlowFormComponent_form_5_section_31_Template_button_click_9_listener","has_catering","invalid_assets","has_assets","MeetingFlowFormComponent_form_5_Template_button_click_9_listener","MeetingFlowFormComponent_form_5_section_14_Template","MeetingFlowFormComponent_form_5_Template_button_click_23_listener","MeetingFlowFormComponent_form_5_div_27_Template","MeetingFlowFormComponent_form_5_section_29_Template","MeetingFlowFormComponent_form_5_section_31_Template","MeetingFlowFormComponent_form_5_section_32_Template","MeetingFlowFormComponent_form_5_Template_button_click_34_listener","MeetingFlowFormComponent_form_5_Template_button_click_37_listener","hide_attendees","strict_capacity_check","total_capacity","allow_multiday","hide_notes","c","capacity","attendee_count","user","count","toLowerCase","allow_daily_allday_recurrence","_catering","_assets","_idle","_visitor_entity","visitor_entity_list","organisation","Array","entity","available_menu","charge_codes","setValidators","updateValueAndValidity","_space_list","_assets_available","space_list","tags","categories","filtered_assets","disabled_rooms","assets_available","every","hide_for_zones","z","time_changed","_catering_available","setFilters","search","filtered_menu","availability","can_cater","resetForm","openEventLinkModal","window","innerWidth","dialog_ref","componentInstance","afterClosed","unsubWith","_updateValidAssets","requested_assets","linked_bookings","_changed","bkn","request_id","controls","key","disable","enable","idleFor","unsub","confirm_text","reload","visitor_entity","_input_el","focus","organiser","ref","data","users","i7","i8","MeetingFlowFormComponent_Query","MeetingFlowFormComponent_form_5_Template","set","MeetingFlowSuccessComponent_span_8_span_2_Template","MeetingFlowSuccessComponent_button_14_Template_button_click_0_listener","startDeskBooking","allow_desk_booking","setTimeout","hours","minutes","log","bookable_desks","nearby","resource","MeetingFlowSuccessComponent_span_8_Template","MeetingFlowSuccessComponent_span_9_Template","MeetingFlowSuccessComponent_span_11_Template","MeetingFlowSuccessComponent_p_12_Template","MeetingFlowSuccessComponent_button_14_Template","differenceInMinutes","formatDuration","MeetingFormDetailsComponent_div_0_div_11_mat_checkbox_9_Template","MeetingFormDetailsComponent_div_0_div_12_mat_checkbox_10_Template","MeetingFormDetailsComponent_div_0_div_13_div_8_Template_a_time_field_ngModelChange_6_listener","duration_info","max_duration","MeetingFormDetailsComponent_div_0_div_13_Template_a_time_field_ngModelChange_7_listener","MeetingFormDetailsComponent_div_0_div_13_div_8_Template","MeetingFormDetailsComponent_div_0_div_13_div_9_Template","MeetingFormDetailsComponent_div_0_div_14_mat_option_14_Template","filtered_entities","option_r6","MeetingFormDetailsComponent_div_0_div_15_mat_option_14_Template","auto_r7","MeetingFormDetailsComponent_div_0_div_16_mat_checkbox_7_Template","MeetingFormDetailsComponent_div_0_div_11_Template","MeetingFormDetailsComponent_div_0_div_12_Template","MeetingFormDetailsComponent_div_0_div_13_Template","MeetingFormDetailsComponent_div_0_div_14_Template","MeetingFormDetailsComponent_div_0_div_15_Template","MeetingFormDetailsComponent_div_0_div_16_Template","can_book_for_anyone","allow_recurrence","is_next_day","_host_entity","host_entity_list","force_time","diff","Math","floor","host_entity","MeetingFormDetailsComponent_Template","MeetingFormDetailsComponent_div_0_Template","notifyInfo","Desk","_ref","_x","apply","arguments","NewDeskFlowComponent_Template","NewDeskFlowComponent_ng_container_2_Template","NewDeskFlowComponent_ng_container_3_Template","DAYS_OF_WEEK_INDEX","NewDeskFlowConfirmComponent_button_0_Template_button_click_0_listener","NewDeskFlowConfirmComponent_section_26_ng_container_17_Template","is_group","NewDeskFlowConfirmComponent_section_27_div_6_div_6_Template","NewDeskFlowConfirmComponent_section_27_div_6_div_11_Template","request_r5","NewDeskFlowConfirmComponent_section_27_div_6_Template","NewDeskFlowConfirmComponent_button_30_Template_button_click_0_listener","needs_locker","recurrence_type","recurrence_end","recurrence_interval","recurrence_days","NewDeskFlowConfirmComponent_button_0_Template","NewDeskFlowConfirmComponent_mat_spinner_4_Template","NewDeskFlowConfirmComponent_div_18_Template","NewDeskFlowConfirmComponent_div_25_Template","NewDeskFlowConfirmComponent_section_26_Template","NewDeskFlowConfirmComponent_section_27_Template","NewDeskFlowConfirmComponent_section_28_Template","NewDeskFlowConfirmComponent_button_30_Template","NewDeskFlowFormComponent_Template_button_click_7_listener","NewDeskFlowSuccessComponent_span_7_Template","NewDeskFlowSuccessComponent_span_8_Template","NewDeskFlowSuccessComponent_span_10_Template","NewDeskFlowSuccessComponent_p_11_Template","NewDeskFlowSuccessComponent_div_12_Template","RecurrenceDays","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_1_listener","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_10_listener","NewDeskFormDetailsComponent_div_0_div_27_Template_a_time_field_ngModelChange_5_listener","NewDeskFormDetailsComponent_div_0_div_28_Template_recurrence_field_ngModelChange_6_listener","onRecurrenceChange","NewDeskFormDetailsComponent_div_0_div_28_mat_checkbox_7_Template","NewDeskFormDetailsComponent_div_0_div_29_Template_mat_checkbox_ngModelChange_2_listener","NewDeskFormDetailsComponent_div_0_section_30_Template_a_user_list_field_ngModelChange_8_listener","NewDeskFormDetailsComponent_div_0_section_32_p_8_Template","pureFunction3","NewDeskFormDetailsComponent_div_0_section_1_Template","NewDeskFormDetailsComponent_div_0_div_8_Template","NewDeskFormDetailsComponent_div_0_mat_checkbox_26_Template","NewDeskFormDetailsComponent_div_0_div_27_Template","NewDeskFormDetailsComponent_div_0_div_28_Template","NewDeskFormDetailsComponent_div_0_div_29_Template","NewDeskFormDetailsComponent_div_0_section_30_Template","NewDeskFormDetailsComponent_div_0_section_32_Template","NewDeskFormDetailsComponent_div_0_section_33_Template","selected_desk","initialiseRecurrence","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","getDate","recurrence_nth_of_month","NewDeskFormDetailsComponent_div_0_Template","ParkingService","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_success_2_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_confirm_3_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_form_4_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_Template","assigned_space","assigned_state_r2","_parking","deny_parking_access","NewParkingFlowComponent_Template","NewParkingFlowComponent_ng_container_0_Template","NewParkingFlowComponent_ng_template_2_Template","NewParkingFlowComponent_ng_template_4_Template","deny_state_r3","NewParkingFlowConfirmComponent_button_0_Template_button_click_0_listener","NewParkingFlowConfirmComponent_section_25_ng_container_16_Template","NewParkingFlowConfirmComponent_section_26_div_6_Template","NewParkingFlowConfirmComponent_button_28_Template_button_click_0_listener","NewParkingFlowConfirmComponent_button_0_Template","NewParkingFlowConfirmComponent_mat_spinner_4_Template","NewParkingFlowConfirmComponent_section_25_Template","NewParkingFlowConfirmComponent_section_26_Template","NewParkingFlowConfirmComponent_button_28_Template","user_details","plate_number","ParkingFlowFormComponent_Template_button_click_12_listener","ParkingFlowFormComponent_Template_button_click_24_listener","ParkingFlowFormComponent_Template_button_click_30_listener","ParkingFlowFormComponent_Template_button_click_32_listener","ParkingFlowSuccessComponent_div_11_Template","bld_r3","ParkingFormDetailsComponent_div_0_div_29_Template_a_time_field_ngModelChange_5_listener","ParkingFormDetailsComponent_div_0_Template_mat_select_ngModelChange_7_listener","setBuilding","ParkingFormDetailsComponent_div_0_mat_option_9_Template","ParkingFormDetailsComponent_div_0_mat_checkbox_28_Template","ParkingFormDetailsComponent_div_0_div_29_Template","ParkingFormDetailsComponent_div_0_div_30_Template","active_building","ParkingFormDetailsComponent_div_0_Template","BookParkingFlowComponent_Template","BookParkingFlowComponent_ng_container_2_Template","BookParkingFlowComponent_ng_container_3_Template","BookParkingFlowComponent_ng_container_4_Template","ParkingFlowConfirmComponent_Template","MAP_FEATURE_DATA","ExploreParkingService","ParkingFlowMapComponent_div_0_button_2_Template_button_click_0_listener","date_r2","setDate","counts","lvl_r5","ParkingFlowMapComponent_div_0_div_5_Template_mat_select_ngModelChange_2_listener","ParkingFlowMapComponent_div_0_div_5_mat_option_4_Template","ParkingFlowMapComponent_div_0_button_10_Template_button_click_0_listener","space_r7","setActive","active_space","levelName","ParkingFlowMapComponent_div_0_div_22_p_4_Template","ParkingFlowMapComponent_div_0_div_22_Template_button_click_6_listener","reserveSpace","existing","ParkingFlowMapComponent_div_0_button_2_Template","ParkingFlowMapComponent_div_0_div_5_Template","ParkingFlowMapComponent_div_0_button_10_Template","ParkingFlowMapComponent_div_0_div_22_Template","ParkingFlowMapComponent_div_0_div_24_Template","dates","tmp_8_0","tmp_14_0","ParkingFlowMapComponent_ng_template_2_div_0_Template","SpacePingComponent","_details","ratio","zoom$","ratio$","SpacePingComponent_Template","styleProp","_booking","available_spaces","idx","reset","spaces","full_size","z_index","ParkingFlowMapComponent_Template","ParkingFlowMapComponent_div_0_Template","ParkingFlowMapComponent_ng_template_2_Template","load_state_r9","BookSpaceFlowComponent_Template","BookSpaceFlowComponent_ng_container_2_Template","BookSpaceFlowComponent_ng_container_3_Template","BookSpaceFlowComponent_ng_container_4_Template","BookSpaceFlowComponent_ng_container_5_Template","SpaceFlowConfirmComponent_div_41_button_3_Template","space_r2","can_view_location","optionsFor","item_r6","SpaceFlowConfirmComponent_div_55_div_12_div_4_Template","SpaceFlowConfirmComponent_div_55_div_12_Template_a_counter_ngModelChange_8_listener","SpaceFlowConfirmComponent_div_55_Template_button_click_7_listener","show_catering","SpaceFlowConfirmComponent_div_55_div_12_Template","show_people","show_spaces","Object","message","SpaceFlowConfirmComponent_Template","SpaceFlowConfirmComponent_span_17_Template","SpaceFlowConfirmComponent_Template_button_click_36_listener","SpaceFlowConfirmComponent_div_41_Template","SpaceFlowConfirmComponent_Template_button_click_49_listener","SpaceFlowConfirmComponent_div_54_Template","SpaceFlowConfirmComponent_div_55_Template","SpaceFlowConfirmComponent_Template_button_click_56_listener","SpaceFlowConfirmComponent_span_57_Template","SpaceFlowConfirmComponent_mat_spinner_58_Template","tmp_12_0","tmp_13_0","tmp_16_0","tmp_17_0","CateringStateService","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template_mat_select_ngModelChange_1_listener","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_mat_option_2_Template","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template","DetailBookSpaceFormComponent_form_0_div_19_Template_mat_select_ngModelChange_4_listener","optionsChange","emit","DetailBookSpaceFormComponent_form_0_div_19_mat_option_5_Template","features_label","hide_actions","DetailBookSpaceFormComponent_form_0_section_20_div_1_Template","DetailBookSpaceFormComponent_form_0_section_20_div_2_Template","DetailBookSpaceFormComponent_form_0_div_33_Template_an_action_field_onAction_3_listener","editCatering","DetailBookSpaceFormComponent_form_0_div_33_div_4_Template","DetailBookSpaceFormComponent_form_0_div_33_div_5_Template","DetailBookSpaceFormComponent_form_0_Template_a_time_field_ngModelChange_11_listener","DetailBookSpaceFormComponent_form_0_mat_checkbox_16_Template","DetailBookSpaceFormComponent_form_0_div_18_Template","DetailBookSpaceFormComponent_form_0_div_19_Template","DetailBookSpaceFormComponent_form_0_section_20_Template","DetailBookSpaceFormComponent_form_0_div_32_Template","DetailBookSpaceFormComponent_form_0_div_33_Template","show_features","manageCateringOrder","DetailBookSpaceFormComponent_Template","DetailBookSpaceFormComponent_form_0_Template","Space","MapLocateModalComponent","bookChange","bookSpace","book","multiple","viewLocation","maxWidth","maxHeight","SpaceFlowFindItemComponent_Template","SpaceFlowFindItemComponent_Template_button_click_15_listener","SpaceFlowFindItemComponent_Template_button_click_17_listener","SpaceFlowFindComponent_mat_form_field_12_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_12_mat_option_3_Template","SpaceFlowFindComponent_mat_form_field_14_Template_mat_select_ngModelChange_1_listener","zone_ids","SpaceFlowFindComponent_mat_form_field_14_mat_option_4_Template","item_r9","SpaceFlowFindComponent_mat_form_field_20_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_20_mat_option_3_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template_space_flow_find_item_bookChange_0_listener","space_r11","_r10","handleBookEvent","book_space","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_Template","empty_state_r12","SpaceFlowFindComponent_div_25_div_8_Template_button_click_6_listener","space_r15","_r14","SpaceFlowFindComponent_div_25_Template_button_click_4_listener","confirmBooking","SpaceFlowFindComponent_div_25_div_8_Template","SpaceFlowFindComponent_div_25_div_9_Template","menu_r16","opts","quick_capacities","_getSpaceList","_this3","_this4","id_list","keys","k","Promise","all","resolve","SpaceFlowFindComponent_Template","SpaceFlowFindComponent_mat_form_field_12_Template","SpaceFlowFindComponent_mat_form_field_14_Template","SpaceFlowFindComponent_Template_mat_select_ngModelChange_17_listener","SpaceFlowFindComponent_mat_option_19_Template","SpaceFlowFindComponent_mat_form_field_20_Template","SpaceFlowFindComponent_ng_container_23_Template","SpaceFlowFindComponent_div_25_Template","SpaceFlowFindComponent_ng_template_26_Template","SpaceFlowFindComponent_ng_template_28_Template","load_state_r17","SpaceFlowFormComponent_button_19_Template_button_click_0_listener","allow_standalone_bookings","findSpace","SpaceFlowFormComponent_Template","SpaceFlowFormComponent_Template_detailed_book_space_form_optionsChange_3_listener","SpaceFlowFormComponent_Template_button_click_7_listener","SpaceFlowFormComponent_Template_button_click_13_listener","SpaceFlowFormComponent_button_19_Template","onDone","VisitorFlowComponent_Template","VisitorFlowComponent_Template_invite_visitor_form_done_2_listener","csvToJson","downloadFile","CateringItem","CateringImportMenuModalComponent_main_4_Template_input_change_6_listener","handleFileEvent","CateringImportMenuModalComponent_main_4_Template_button_click_8_listener","downloadTemplate","CateringImportMenuModalComponent","element","target","files","file","fileReader","FileReader","addEventListener","contents","metadata","category","unit_price","readAsText","CateringImportMenuModalComponent_Template","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","COMMA","ENTER","SPACE","FormControl","Validators","MAT_DIALOG_DATA","invalid","touched","auto_r3","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","CateringItemModalComponent_form_4_div_4_Template_input_matChipInputTokenEnd_7_listener","addTag","tag_list","chipList_r7","separators","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_13_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_15_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_17_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_19_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_21_listener","CateringItemModalComponent_form_4_div_27_Template","hasTag","renderPercent","images","CateringItemModalComponent_footer_5_Template_button_click_1_listener","saveChanges","dirty","option_r9","CateringItemModalComponent","_data","tag","required","accept_points","discount_cap","markAsDirty","input","trim","setValue","existing_tag","index","splice","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","load_state_r10","forwardRef","NG_VALUE_ACCESSOR","randomString","NewCateringOrderModalComponent","CateringListFieldComponent_div_1_button_12_Template_button_click_0_listener","order_r4","duplicateOrder","CateringListFieldComponent_div_1_button_13_Template_button_click_0_listener","editOrder","CateringListFieldComponent_div_1_button_14_Template_button_click_0_listener","removeOrder","item_r8","CateringListFieldComponent_div_1_div_19_button_9_Template_button_click_0_listener","removeOrderItem","CateringListFieldComponent_div_1_div_19_span_3_Template","CateringListFieldComponent_div_1_div_19_button_9_Template","CateringListFieldComponent_div_1_div_19_Template_button_click_10_listener","toggleFavourite","disabled","favorites","CateringListFieldComponent_div_1_div_8_Template","CateringListFieldComponent_div_1_button_12_Template","CateringListFieldComponent_div_1_button_13_Template","CateringListFieldComponent_div_1_button_14_Template","CateringListFieldComponent_div_1_Template_button_click_15_listener","show_order","CateringListFieldComponent_div_1_div_19_Template","EMPTY_FAVS","CateringListFieldComponent","currency","orders","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","new_value","writeValue","updated_list","new_order","custom_id","max","exact_time","deliver_time","offset","deliver_offset","offset_day","deliver_day_offset","option","opt","getHours","getMinutes","cateringitem","fav_list","new_state","saveUserSetting","provide","useExisting","multi","CateringListFieldComponent_Template","CateringListFieldComponent_div_1_Template","CateringListFieldComponent_Template_button_click_2_listener","unique","CateringOrdersService","CateringMenuComponent_ng_template_1_Template_mat_checkbox_ngModelChange_0_listener","row_r2","row","setEnabled","isEnabled","data_r4","symbol","CateringMenuComponent_ng_template_5_Template_button_click_6_listener","row_r6","addOption","CateringMenuComponent_ng_template_5_Template_button_click_12_listener","editItem","CateringMenuComponent_ng_template_5_Template_button_click_18_listener","removeItem","CateringMenuComponent_ng_template_5_Template_button_click_24_listener","show_children","can_edit","CateringMenuComponent_ng_template_7_div_0_button_7_Template_button_click_0_listener","row_r10","editOption","CateringMenuComponent_ng_template_7_div_0_button_8_Template_button_click_0_listener","removeOption","CateringMenuComponent_ng_template_7_div_0_button_7_Template","CateringMenuComponent_ng_template_7_div_0_button_8_Template","CateringMenuComponent_ng_template_7_div_0_Template","CateringMenuComponent","filters","_orders","is_editable","deleteOption","addItem","deleteItem","state","updateItem","CateringMenuComponent_Template","CateringMenuComponent_ng_template_1_Template","CateringMenuComponent_ng_template_3_Template","CateringMenuComponent_ng_template_5_Template","CateringMenuComponent_ng_template_7_Template","pureFunction5","_c5","active_template_r12","price_template_r13","_c4","actions_template_r14","child_template_r15","auto_r2","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","CateringItemOptionModalComponent_footer_5_Template_button_click_1_listener","CateringItemOptionModalComponent","types","new_option","parent","concat","CateringItemOptionModalComponent_Template","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","load_state_r5","opt_r3","CateringOrderItemComponent_ng_container_0_ng_container_14_div_1_Template","CateringOrderItemComponent_ng_container_0_Template_button_click_4_listener","toggle","CateringOrderItemComponent_ng_container_0_ng_container_14_Template","ACTIVE_ITEMS","Set","CateringOrderItemComponent","item_key","order_id","delete","add","attrs","CateringOrderItemComponent_Template","CateringOrderItemComponent_ng_container_0_Template","CATERING_STATUSES","data_r1","textInterpolate4","CateringOrderListComponent_ng_template_8_span_2_Template","CateringOrderListComponent_ng_template_10_span_3_Template","data_r5","CateringOrderListComponent_ng_template_12_button_8_Template_button_click_0_listener","status_r7","row_r8","updateStatus","colour","CateringOrderListComponent_ng_template_12_button_8_Template","data_r9","menu_r10","statuses","row_r12","notes","CateringOrderListComponent_ng_template_14_ng_template_4_Template","CateringOrderListComponent_ng_template_14_Template_button_click_6_listener","notes_template_r13","row_r15","item_r14","CateringOrderListComponent_ng_template_16_ul_0_li_1_Template","CateringOrderListComponent_ng_template_16_ul_0_Template","CateringOrderListComponent","order_list","filtered","_x2","startPolling","stopPolling","trackByFn","CateringOrderListComponent_Template","CateringOrderListComponent_ng_template_4_Template","CateringOrderListComponent_ng_template_6_Template","CateringOrderListComponent_ng_template_8_Template","CateringOrderListComponent_ng_template_10_Template","CateringOrderListComponent_ng_template_12_Template","CateringOrderListComponent_ng_template_14_Template","CateringOrderListComponent_ng_template_16_Template","pureFunction8","_c8","state_template_r16","time_template_r17","location_template_r18","host_template_r19","_c6","status_template_r20","_c7","actions_template_r21","child_template_r22","cateringItemAvailable","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template_a_counter_ngModelChange_0_listener","item_r2","updateItemQuantity","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template_button_click_7_listener","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r5","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","order_details_r6","CateringOrderModalComponent_footer_1_ng_container_1_Template_button_click_3_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_0_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_2_listener","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","order_actions_r9","item_r11","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","CateringOrderModalComponent_ng_template_4_div_4_Template_a_counter_ngModelChange_8_listener","CateringOrderModalComponent_ng_template_4_div_4_Template","CateringOrderModalComponent","rules","getCateringConfig","cat","updateMenuQuantities","choose_options","old_item","itm","selectOptions","new_item","options_string","sort","localeCompare","confirmOrder","CateringOrderModalComponent_Template","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","load_state_r12","tag_r3","opt_r6","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r5","group_state","updateGroupOption","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_Template","in_order","opt_r8","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","option_state","updateCheckedState","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_Template","multi_options_r9","CateringItemDetailsComponent_ng_container_0_Template_button_click_3_listener","CateringItemDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","CateringItemDetailsComponent_ng_container_0_p_14_Template","CateringItemDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_15_listener","activeChange","CateringItemDetailsComponent_ng_container_0_div_17_Template","CateringItemDetailsComponent_ng_container_0_div_21_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_23_listener","fav","CateringItemDetailsComponent","_update","group_list","g","CateringItemDetailsComponent_ng_container_0_Template","CateringItemDetailsComponent_ng_template_1_Template","empty_state_r10","day_r4","CateringItemFiltersComponent_div_7_ng_container_3_Template_mat_select_ngModelChange_4_listener","offset_dayChange","CateringItemFiltersComponent_div_7_ng_container_3_mat_option_5_Template","day_options","CateringItemFiltersComponent_div_7_Template_mat_checkbox_ngModelChange_1_listener","at_time","at_timeChange","CateringItemFiltersComponent_div_7_ng_container_3_Template","CateringItemFiltersComponent_div_7_Template_a_duration_field_ngModelChange_6_listener","offsetChange","exact_tooltip","start_of_date","step_interval","min_offset","max_offset","CateringItemFiltersComponent_mat_checkbox_10_Template_mat_checkbox_ngModelChange_0_listener","toggleCategory","ICONS","coffee","drinks","snacks","meals","CateringItemFiltersComponent","getFilters","_min_offset","min","_max_offset","icons","_updateDayOptions","toggleTag","day","CateringItemFiltersComponent_Template_input_ngModelChange_4_listener","CateringItemFiltersComponent_h3_6_Template","CateringItemFiltersComponent_div_7_Template","CateringItemFiltersComponent_h3_8_Template","CateringItemFiltersComponent_mat_checkbox_10_Template","tmp_1_0","CateringItemListItemComponent","favourite","select","CateringItemListItemComponent_Template","CateringItemListItemComponent_Template_button_click_1_listener","CateringItemListItemComponent_div_3_Template","CateringItemListItemComponent_img_4_Template","CateringItemListItemComponent_ng_template_5_Template","CateringItemListItemComponent_p_14_Template","CateringItemListItemComponent_div_15_Template","CateringItemListItemComponent_div_16_Template","CateringItemListItemComponent_div_17_Template","CateringItemListItemComponent_div_18_Template","CateringItemListItemComponent_div_19_Template","CateringItemListItemComponent_div_20_Template","CateringItemListItemComponent_Template_button_click_21_listener","placeholder_r3","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_toggleFav_0_listener","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_select_0_listener","selectItem","isFavourite","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_toggleFav_0_listener","item_r5","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_select_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template","item_list","CateringItemListComponent_ng_container_8_ul_1_Template","empty_state_r6","CateringItemListComponent","selected_items","onSelect","item_id","clear_state","CateringItemListComponent_Template","CateringItemListComponent_ng_container_1_Template","CateringItemListComponent_ng_container_8_Template","CateringItemListComponent_ng_template_10_Template","CateringItemListComponent_ng_template_12_Template","load_state_r7","getCateringRulesForZone","_options","_filters","asObservable","post","require_notes","t","inject","factory","fac","providedIn","NewCateringOrderModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","_order","isSelected","setSelected","NewCateringOrderModalComponent_Template_catering_item_filters_at_timeChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offsetChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offset_dayChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_list_toggleFav_11_listener","NewCateringOrderModalComponent_Template_catering_item_list_onSelect_11_listener","NewCateringOrderModalComponent_Template_catering_item_details_activeChange_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_toggleFav_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_close_12_listener","NewCateringOrderModalComponent_button_14_Template","NewCateringOrderModalComponent_Template_button_click_26_listener","opt_r4","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r2","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","multi_options_r7","CateringOrderOptionsModalComponent","saveOptions","CateringOrderOptionsModalComponent_Template","CateringOrderOptionsModalComponent_div_7_Template","CateringOrderOptionsModalComponent_Template_button_click_9_listener","flatten","updateEventMetadata","checkOrder","_poll","events","valid_catering","delay","clearInterval","updated_order","system_id","updateMetadata","notifySuccess","AttachedResourceConfigModalComponent","_menu","_updated","_currency","_change","getCateringForZone","race","findIndex","updateMenu","_this5","_this6","class","_this7","editConfig","_this8","config","saveNotes","saveSettings","updateConfig","importMenu","_this9","updated_menu","_this10","old_settings","addItemToOrder","Type","MatAutocompleteModule","MatCheckboxModule","MatDialogModule","MatMenuModule","MatTabsModule","MatRadioModule","MatTooltipModule","MatFormFieldModule","MatProgressSpinnerModule","MatProgressBarModule","FormFieldsModule","ComponentsModule","ChargeCodeListModalComponent","COMPONENTS","exports","ChargeCodeListModalComponent_main_6_div_1_Template_input_ngModelChange_2_listener","i_r2","ChargeCodeListModalComponent_main_6_div_1_Template_button_click_3_listener","removeCode","ChargeCodeListModalComponent_main_6_div_1_Template","ChargeCodeListModalComponent_footer_7_Template_input_change_3_listener","addCodesFromFile","ChargeCodeListModalComponent_footer_7_Template_button_click_4_listener","newCode","ChargeCodeListModalComponent_footer_7_Template_button_click_6_listener","saveChargeCodes","reader","evt","srcElement","cleaned_codes","ChargeCodeListModalComponent_Template","ChargeCodeListModalComponent_main_6_Template","ChargeCodeListModalComponent_footer_7_Template","ChargeCodeListModalComponent_ng_template_8_Template","isAfter","subHours","stringToMinutes","RULE_REQUESTS","fresh","is_available","rule","matches","condition","ext","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","innerHTML","firstElementChild","animate","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","getComputedStyle","setProperty","visibility","width","height","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","enumerateDevices","kind","label","audio","deviceId","_stopVideoStream","hasFlash","MediaStream","_getCameraStream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","destroy","removeEventListener","_postWorkerMessage","Error","protocol","play","facingMode","_setVideoMirror","pause","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","_loadImage","_drawToCanvas","q","Worker","_postWorkerMessageSync","v","w","u","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","test","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","brand","platform","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","round","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","assign","exact","_getFacingMode","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage"],"sourceRoot":"webpack:///","x_google_ignoreList":[66]}